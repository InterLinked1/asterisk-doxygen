<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Asterisk - The Open Source Telephony Project: pbx.h File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Asterisk - The Open Source Telephony Project
   &#160;<span id="projectnumber">18.5.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="../../dir_6d4b1cdb59e2db6ad82005b337288fef.html">asterisk</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">pbx.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Core PBX routines and definitions.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="../../d5/d7b/channel_8h_source.html">asterisk/channel.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d7/d00/sched_8h_source.html">asterisk/sched.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../da/da2/devicestate_8h_source.html">asterisk/devicestate.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d6/dd7/presencestate_8h_source.html">asterisk/presencestate.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d9/de7/chanvars_8h_source.html">asterisk/chanvars.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d6/da0/hashtab_8h_source.html">asterisk/hashtab.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d1/d0f/stringfields_8h_source.html">asterisk/stringfields.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d1/d99/xmldoc_8h_source.html">asterisk/xmldoc.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d0/d0a/format_8h_source.html">asterisk/format.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for pbx.h:</div>
<div class="dyncontent">
<div class="center"><img src="../../d0/d22/pbx_8h__incl.png" border="0" usemap="#pbx_8h" alt=""/></div>
<map name="pbx_8h" id="pbx_8h">
<area shape="rect" id="node2" href="../../d5/d7b/channel_8h.html" title="General Asterisk PBX channel definitions. " alt="" coords="1291,80,1429,107"/>
<area shape="rect" id="node7" href="../../d1/d0f/stringfields_8h.html" title="asterisk/stringfields.h" alt="" coords="2119,379,2276,405"/>
<area shape="rect" id="node10" href="../../d0/d0a/format_8h.html" title="Media Format API. " alt="" coords="525,304,656,331"/>
<area shape="rect" id="node19" href="../../d9/de7/chanvars_8h.html" title="Channel Variables. " alt="" coords="996,155,1143,181"/>
<area shape="rect" id="node27" href="../../da/da2/devicestate_8h.html" title="Device state management. " alt="" coords="465,229,628,256"/>
<area shape="rect" id="node32" href="../../d1/d99/xmldoc_8h.html" title="Asterisk XML Documentation API. " alt="" coords="2125,304,2259,331"/>
<area shape="rect" id="node35" href="../../d7/d00/sched_8h.html" title="Scheduler Routines (derived from cheops) " alt="" coords="2386,80,2513,107"/>
<area shape="rect" id="node36" href="../../d6/dd7/presencestate_8h.html" title="Presence state management. " alt="" coords="2537,80,2717,107"/>
<area shape="rect" id="node37" href="../../d6/da0/hashtab_8h.html" title="Generic (perhaps overly so) hashtable implementation Hash Table support in Asterisk. " alt="" coords="42,80,182,107"/>
<area shape="rect" id="node3" href="../../dc/d4d/alertpipe_8h.html" title="asterisk/alertpipe.h" alt="" coords="1964,155,2108,181"/>
<area shape="rect" id="node4" href="../../d5/d60/utils_8h.html" title="Utility functions. " alt="" coords="1769,304,1884,331"/>
<area shape="rect" id="node5" href="../../dd/d42/lock_8h.html" title="Asterisk locking&#45;related definitions: " alt="" coords="1586,453,1699,480"/>
<area shape="rect" id="node8" href="../../dc/d14/abstract__jb_8h.html" title="Common implementation&#45;independent jitterbuffer stuff. " alt="" coords="653,229,811,256"/>
<area shape="rect" id="node12" href="../../d5/da5/astobj2_8h.html" title="asterisk/astobj2.h" alt="" coords="1909,304,2043,331"/>
<area shape="rect" id="node13" href="../../df/d90/linkedlists_8h.html" title="A set of macros to manage forward&#45;linked lists. " alt="" coords="1107,379,1258,405"/>
<area shape="rect" id="node14" href="../../d4/dfb/poll-compat_8h.html" title="asterisk/poll&#45;compat.h" alt="" coords="1218,155,1382,181"/>
<area shape="rect" id="node17" href="../../d6/d66/include_2asterisk_2frame_8h.html" title="Asterisk internal frame definitions. " alt="" coords="835,229,962,256"/>
<area shape="rect" id="node20" href="../../d3/de6/include_2asterisk_2config_8h.html" title="Configuration File Parser. " alt="" coords="2082,229,2209,256"/>
<area shape="rect" id="node21" href="../../dc/d07/cdr_8h.html" title="Call Detail Record API. " alt="" coords="1833,155,1940,181"/>
<area shape="rect" id="node22" href="../../d9/db6/datastore_8h.html" title="Asterisk datastore objects. " alt="" coords="1309,304,1459,331"/>
<area shape="rect" id="node23" href="../../d0/d3c/format__cap_8h.html" title="Format Capabilities API. " alt="" coords="339,304,501,331"/>
<area shape="rect" id="node24" href="../../d9/d95/channelstate_8h.html" title="Channel states. " alt="" coords="144,304,315,331"/>
<area shape="rect" id="node26" href="../../de/dc8/ccss_8h.html" title="Call Completion Supplementary Services API. " alt="" coords="453,155,569,181"/>
<area shape="rect" id="node28" href="../../db/d3c/framehook_8h.html" title="FrameHook Architecture. " alt="" coords="815,155,972,181"/>
<area shape="rect" id="node29" href="../../dd/d79/stasis_8h.html" title="Stasis Message Bus API. See Stasis Message Bus API for detailed documentation. " alt="" coords="1457,155,1583,181"/>
<area shape="rect" id="node34" href="../../d4/d61/endpoints_8h.html" title="Endpoint abstractions. " alt="" coords="1607,155,1758,181"/>
<area shape="rect" id="node6" href="../../d5/d9d/inline__api_8h.html" title="Inlinable API function macro. " alt="" coords="1968,528,2115,555"/>
<area shape="rect" id="node11" href="../../d1/d16/codec_8h.html" title="Codec API. " alt="" coords="442,379,569,405"/>
<area shape="rect" id="node15" href="../../d9/dab/select_8h.html" title="Bitfield expansions for ast_select. " alt="" coords="1089,229,1215,256"/>
<area shape="rect" id="node18" href="../../d1/d84/endian_8h.html" title="Asterisk architecture endianess compatibility definitions. " alt="" coords="893,304,1024,331"/>
<area shape="rect" id="node25" href="../../db/db2/asterisk_8h.html" title="Asterisk main include file. File version handling, generic pbx functions. " alt="" coords="141,379,225,405"/>
<area shape="rect" id="node30" href="../../d4/d05/json_8h.html" title="Asterisk JSON abstraction layer. " alt="" coords="1791,229,1905,256"/>
<area shape="rect" id="node31" href="../../db/d45/manager_8h.html" title="The AMI &#45; Asterisk Manager Interface &#45; is a TCP protocol created to manage Asterisk with third&#45;party ..." alt="" coords="1570,229,1715,256"/>
<area shape="rect" id="node33" href="../../dd/d20/event_8h.html" title="asterisk/event.h" alt="" coords="1422,229,1546,256"/>
</map>
</div>
</div>
<p><a href="../../db/de0/pbx_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dc0/structast__custom__function.html">ast_custom_function</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Data structure associated with a custom dialplan function.  <a href="../../db/dc0/structast__custom__function.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d4d/structast__device__state__info.html">ast_device_state_info</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d83/structast__pbx.html">ast_pbx</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/db8/structast__pbx__args.html">ast_pbx_args</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Options for <a class="el" href="../../db/de0/pbx_8h.html#a44b6406c9220f7f2b610ac712369f405" title="Execute the PBX in the current thread. ">ast_pbx_run()</a>  <a href="../../da/db8/structast__pbx__args.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d4c/structast__state__cb__info.html">ast_state_cb_info</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/df6/structast__switch.html">ast_switch</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d83/structast__timing.html">ast_timing</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d81/structpbx__find__info.html">pbx_find_info</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a8af0e93442a9e468425f63cc52b0ac7b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#a8af0e93442a9e468425f63cc52b0ac7b">ast_custom_function_register</a>(acf)&#160;&#160;&#160;<a class="el" href="../../db/d70/pbx__functions_8c.html#aad8771c7e3b2170a749946f1a8b758aa">__ast_custom_function_register</a>(acf, AST_MODULE_SELF)</td></tr>
<tr class="memdesc:a8af0e93442a9e468425f63cc52b0ac7b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register a custom function.  <a href="#a8af0e93442a9e468425f63cc52b0ac7b">More...</a><br /></td></tr>
<tr class="separator:a8af0e93442a9e468425f63cc52b0ac7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82a6116c57689246592c0707b8eec102"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#a82a6116c57689246592c0707b8eec102">ast_custom_function_register_escalating</a>(acf,  escalation)&#160;&#160;&#160;<a class="el" href="../../db/d70/pbx__functions_8c.html#a1efedf39c73e1a63d4a73a3c998694c2">__ast_custom_function_register_escalating</a>(acf, escalation, AST_MODULE_SELF)</td></tr>
<tr class="memdesc:a82a6116c57689246592c0707b8eec102"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register a custom function which requires escalated privileges.  <a href="#a82a6116c57689246592c0707b8eec102">More...</a><br /></td></tr>
<tr class="separator:a82a6116c57689246592c0707b8eec102"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3414b82af9b33fe907c9377c5c73c453"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#a3414b82af9b33fe907c9377c5c73c453">AST_MAX_APP</a>&#160;&#160;&#160;32</td></tr>
<tr class="separator:a3414b82af9b33fe907c9377c5c73c453"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad37eeb72ede49f9a670eb6bf3e1755cb"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#ad37eeb72ede49f9a670eb6bf3e1755cb">AST_PBX_GOTO_FAILED</a>&#160;&#160;&#160;-3</td></tr>
<tr class="separator:ad37eeb72ede49f9a670eb6bf3e1755cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b423f7cbc393639fde9085830313f03"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#a7b423f7cbc393639fde9085830313f03">AST_PBX_KEEP</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:a7b423f7cbc393639fde9085830313f03"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05848c0de74d85dc2fb259f332d33f25"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#a05848c0de74d85dc2fb259f332d33f25">AST_PBX_MAX_STACK</a>&#160;&#160;&#160;512</td></tr>
<tr class="separator:a05848c0de74d85dc2fb259f332d33f25"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed4e41b2b2c49b629e2eef07c702c2c4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#aed4e41b2b2c49b629e2eef07c702c2c4">AST_PBX_REPLACE</a>&#160;&#160;&#160;1</td></tr>
<tr class="separator:aed4e41b2b2c49b629e2eef07c702c2c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2e753a683024fad0b34ece3b1aef83a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#ad2e753a683024fad0b34ece3b1aef83a">PRIORITY_HINT</a>&#160;&#160;&#160;-1</td></tr>
<tr class="separator:ad2e753a683024fad0b34ece3b1aef83a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2d7a93c24186594d8c09e904fa17132"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#aa2d7a93c24186594d8c09e904fa17132">STATUS_NO_CONTEXT</a>&#160;&#160;&#160;1</td></tr>
<tr class="separator:aa2d7a93c24186594d8c09e904fa17132"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53e8d9faad7e0156772e9559df5f8c2e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#a53e8d9faad7e0156772e9559df5f8c2e">STATUS_NO_EXTENSION</a>&#160;&#160;&#160;2</td></tr>
<tr class="separator:a53e8d9faad7e0156772e9559df5f8c2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5062f2413e9425755149f855577b602f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#a5062f2413e9425755149f855577b602f">STATUS_NO_LABEL</a>&#160;&#160;&#160;4</td></tr>
<tr class="separator:a5062f2413e9425755149f855577b602f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6422b4f1e9de4cb16307bd081b8706b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#ab6422b4f1e9de4cb16307bd081b8706b">STATUS_NO_PRIORITY</a>&#160;&#160;&#160;3</td></tr>
<tr class="separator:ab6422b4f1e9de4cb16307bd081b8706b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae56fdb340b23940f7a64ed2e37c1774a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#ae56fdb340b23940f7a64ed2e37c1774a">STATUS_SUCCESS</a>&#160;&#160;&#160;5</td></tr>
<tr class="separator:ae56fdb340b23940f7a64ed2e37c1774a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader"></div></td></tr>
<tr class="memitem:a3dde03e263918d8ba87126173deda611"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#a3dde03e263918d8ba87126173deda611">AST_PBX_HANGUP</a>&#160;&#160;&#160;-1</td></tr>
<tr class="memdesc:a3dde03e263918d8ba87126173deda611"><td class="mdescLeft">&#160;</td><td class="mdescRight">Special return values from applications to the PBX.  <a href="#a3dde03e263918d8ba87126173deda611">More...</a><br /></td></tr>
<tr class="separator:a3dde03e263918d8ba87126173deda611"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad45f3e76d15c861a07dd65d6c3784018"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#ad45f3e76d15c861a07dd65d6c3784018">AST_PBX_OK</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:ad45f3e76d15c861a07dd65d6c3784018"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aabc320b5f03ccc254bde047d2e2ec0e0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#aabc320b5f03ccc254bde047d2e2ec0e0">AST_PBX_ERROR</a>&#160;&#160;&#160;1</td></tr>
<tr class="separator:aabc320b5f03ccc254bde047d2e2ec0e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a653bef57d41c00d6b1f79c94fe19ec7b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#a653bef57d41c00d6b1f79c94fe19ec7b">AST_PBX_INCOMPLETE</a>&#160;&#160;&#160;12</td></tr>
<tr class="separator:a653bef57d41c00d6b1f79c94fe19ec7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ad3a372c5b23617d0ba1856aa88035f54"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#ad3a372c5b23617d0ba1856aa88035f54">ast_state_cb_destroy_type</a>) (int <a class="el" href="../../d1/da4/res__corosync_8c.html#a2465fd4497a7402ad72da7d6e03f9934">id</a>, void *data)</td></tr>
<tr class="memdesc:ad3a372c5b23617d0ba1856aa88035f54"><td class="mdescLeft">&#160;</td><td class="mdescRight">Typedef for devicestate and hint callback removal indication callback.  <a href="#ad3a372c5b23617d0ba1856aa88035f54">More...</a><br /></td></tr>
<tr class="separator:ad3a372c5b23617d0ba1856aa88035f54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c6cd56c75fb925c726e1f400024f856"><td class="memItemLeft" align="right" valign="top">typedef int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#a2c6cd56c75fb925c726e1f400024f856">ast_state_cb_type</a>) (const char *<a class="el" href="../../da/dde/chan__phone_8c.html#a579ca8125bbf48d9ce8691d522f99933">context</a>, const char *<a class="el" href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>, struct <a class="el" href="../../df/d4c/structast__state__cb__info.html">ast_state_cb_info</a> *info, void *data)</td></tr>
<tr class="memdesc:a2c6cd56c75fb925c726e1f400024f856"><td class="mdescLeft">&#160;</td><td class="mdescRight">Typedef for devicestate and hint callbacks.  <a href="#a2c6cd56c75fb925c726e1f400024f856">More...</a><br /></td></tr>
<tr class="separator:a2c6cd56c75fb925c726e1f400024f856"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa170ac775ac95bf40afa9a46f4a4af8f"><td class="memItemLeft" align="right" valign="top">typedef int()&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#aa170ac775ac95bf40afa9a46f4a4af8f">ast_switch_f</a>(struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, const char *<a class="el" href="../../da/dde/chan__phone_8c.html#a579ca8125bbf48d9ce8691d522f99933">context</a>, const char *<a class="el" href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>, int <a class="el" href="../../d1/d0c/cel__beanstalkd_8c.html#acec9ce2df15222151ad66fcb1d74eb9f">priority</a>, const char *callerid, const char *data)</td></tr>
<tr class="memdesc:aa170ac775ac95bf40afa9a46f4a4af8f"><td class="mdescLeft">&#160;</td><td class="mdescRight">All switch functions have the same interface, so define a type for them.  <a href="#aa170ac775ac95bf40afa9a46f4a4af8f">More...</a><br /></td></tr>
<tr class="separator:aa170ac775ac95bf40afa9a46f4a4af8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ae44f095e3bb053c0d3f8d6b963df4a25"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#ae44f095e3bb053c0d3f8d6b963df4a25">ast_custom_function_escalation</a> { <a class="el" href="../../db/de0/pbx_8h.html#ae44f095e3bb053c0d3f8d6b963df4a25a1ac43bc7869b6d5704d33e3d91ed10de">AST_CFE_NONE</a>, 
<a class="el" href="../../db/de0/pbx_8h.html#ae44f095e3bb053c0d3f8d6b963df4a25a3b871161353508e1ce975ece03be26cd">AST_CFE_READ</a>, 
<a class="el" href="../../db/de0/pbx_8h.html#ae44f095e3bb053c0d3f8d6b963df4a25a6afc0bfde80d0417ea42250f2ce6e311">AST_CFE_WRITE</a>, 
<a class="el" href="../../db/de0/pbx_8h.html#ae44f095e3bb053c0d3f8d6b963df4a25a6c4889ef775a45630878b61f315b3ac7">AST_CFE_BOTH</a>
 }<tr class="memdesc:ae44f095e3bb053c0d3f8d6b963df4a25"><td class="mdescLeft">&#160;</td><td class="mdescRight">Description of the ways in which a function may escalate privileges.  <a href="../../db/de0/pbx_8h.html#ae44f095e3bb053c0d3f8d6b963df4a25">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:ae44f095e3bb053c0d3f8d6b963df4a25"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40b191a3f395775ddd84d363c8fbd030"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#a40b191a3f395775ddd84d363c8fbd030">ast_ext_matchcid_types</a> { <a class="el" href="../../db/de0/pbx_8h.html#a40b191a3f395775ddd84d363c8fbd030a245df0f7c904df378369f60ea91938e7">AST_EXT_MATCHCID_OFF</a> = 0, 
<a class="el" href="../../db/de0/pbx_8h.html#a40b191a3f395775ddd84d363c8fbd030a0aa5ba413029c07073f6e915036e037f">AST_EXT_MATCHCID_ON</a> = 1, 
<a class="el" href="../../db/de0/pbx_8h.html#a40b191a3f395775ddd84d363c8fbd030a37db4d8017d05366c5b19084c5c5c84c">AST_EXT_MATCHCID_ANY</a> = 2
 }<tr class="memdesc:a40b191a3f395775ddd84d363c8fbd030"><td class="mdescLeft">&#160;</td><td class="mdescRight">extension matchcid types  <a href="../../db/de0/pbx_8h.html#a40b191a3f395775ddd84d363c8fbd030">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:a40b191a3f395775ddd84d363c8fbd030"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e545df4a5f38ef25616c7bdf55d625f"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#a7e545df4a5f38ef25616c7bdf55d625f">ast_extension_states</a> { <br />
&#160;&#160;<a class="el" href="../../db/de0/pbx_8h.html#a7e545df4a5f38ef25616c7bdf55d625fa3e2a2f5572580f74e94b6d5e80261ea7">AST_EXTENSION_REMOVED</a> = -2, 
<a class="el" href="../../db/de0/pbx_8h.html#a7e545df4a5f38ef25616c7bdf55d625faf53cb090b99fb8e952c8151990bd4192">AST_EXTENSION_DEACTIVATED</a> = -1, 
<a class="el" href="../../db/de0/pbx_8h.html#a7e545df4a5f38ef25616c7bdf55d625fa435abb1e907b1cee83ec44d2d77866e6">AST_EXTENSION_NOT_INUSE</a> = 0, 
<a class="el" href="../../db/de0/pbx_8h.html#a7e545df4a5f38ef25616c7bdf55d625fa47e9214860b5f9b887945f7cd1baec1a">AST_EXTENSION_INUSE</a> = 1 &lt;&lt; 0, 
<br />
&#160;&#160;<a class="el" href="../../db/de0/pbx_8h.html#a7e545df4a5f38ef25616c7bdf55d625fad62d357f0ccde2a718c374a0a4af2b98">AST_EXTENSION_BUSY</a> = 1 &lt;&lt; 1, 
<a class="el" href="../../db/de0/pbx_8h.html#a7e545df4a5f38ef25616c7bdf55d625fa5820eb407f3a3dbc5046c97ad43ee1f3">AST_EXTENSION_UNAVAILABLE</a> = 1 &lt;&lt; 2, 
<a class="el" href="../../db/de0/pbx_8h.html#a7e545df4a5f38ef25616c7bdf55d625fa4063bf4e94e14df04126be6f08cc7bfc">AST_EXTENSION_RINGING</a> = 1 &lt;&lt; 3, 
<a class="el" href="../../db/de0/pbx_8h.html#a7e545df4a5f38ef25616c7bdf55d625fa83180bb058ded006c01229431fc887f9">AST_EXTENSION_ONHOLD</a> = 1 &lt;&lt; 4, 
<br />
&#160;&#160;<a class="el" href="../../d4/dc5/extconf_8c.html#a7e545df4a5f38ef25616c7bdf55d625fa3e2a2f5572580f74e94b6d5e80261ea7">AST_EXTENSION_REMOVED</a> = -2, 
<a class="el" href="../../d4/dc5/extconf_8c.html#a7e545df4a5f38ef25616c7bdf55d625faf53cb090b99fb8e952c8151990bd4192">AST_EXTENSION_DEACTIVATED</a> = -1, 
<a class="el" href="../../d4/dc5/extconf_8c.html#a7e545df4a5f38ef25616c7bdf55d625fa435abb1e907b1cee83ec44d2d77866e6">AST_EXTENSION_NOT_INUSE</a> = 0, 
<a class="el" href="../../d4/dc5/extconf_8c.html#a7e545df4a5f38ef25616c7bdf55d625fa47e9214860b5f9b887945f7cd1baec1a">AST_EXTENSION_INUSE</a> = 1 &lt;&lt; 0, 
<br />
&#160;&#160;<a class="el" href="../../d4/dc5/extconf_8c.html#a7e545df4a5f38ef25616c7bdf55d625fad62d357f0ccde2a718c374a0a4af2b98">AST_EXTENSION_BUSY</a> = 1 &lt;&lt; 1, 
<a class="el" href="../../d4/dc5/extconf_8c.html#a7e545df4a5f38ef25616c7bdf55d625fa5820eb407f3a3dbc5046c97ad43ee1f3">AST_EXTENSION_UNAVAILABLE</a> = 1 &lt;&lt; 2, 
<a class="el" href="../../d4/dc5/extconf_8c.html#a7e545df4a5f38ef25616c7bdf55d625fa4063bf4e94e14df04126be6f08cc7bfc">AST_EXTENSION_RINGING</a> = 1 &lt;&lt; 3, 
<a class="el" href="../../d4/dc5/extconf_8c.html#a7e545df4a5f38ef25616c7bdf55d625fa83180bb058ded006c01229431fc887f9">AST_EXTENSION_ONHOLD</a> = 1 &lt;&lt; 4
<br />
 }<tr class="memdesc:a7e545df4a5f38ef25616c7bdf55d625f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Extension states.  <a href="../../db/de0/pbx_8h.html#a7e545df4a5f38ef25616c7bdf55d625f">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:a7e545df4a5f38ef25616c7bdf55d625f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24a619e5cc5e3f683322295991c57916"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#a24a619e5cc5e3f683322295991c57916">ast_pbx_outgoing_sync</a> { <a class="el" href="../../db/de0/pbx_8h.html#a24a619e5cc5e3f683322295991c57916a389d96a8c016775c073ea64ae3f5dbc0">AST_OUTGOING_NO_WAIT</a> = 0, 
<a class="el" href="../../db/de0/pbx_8h.html#a24a619e5cc5e3f683322295991c57916a90d4fb6299afc301b2bfc05da78eb662">AST_OUTGOING_WAIT</a> = 1, 
<a class="el" href="../../db/de0/pbx_8h.html#a24a619e5cc5e3f683322295991c57916ad1f109b734f3cb4d20937f283eb98d69">AST_OUTGOING_WAIT_COMPLETE</a> = 2
 }</td></tr>
<tr class="separator:a24a619e5cc5e3f683322295991c57916"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e4eb357d2ef42629fbcf191a473f735"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#a0e4eb357d2ef42629fbcf191a473f735">ast_pbx_result</a> { <a class="el" href="../../db/de0/pbx_8h.html#a0e4eb357d2ef42629fbcf191a473f735ae1482e87c137b03ef9f9c17cf4fb5ec4">AST_PBX_SUCCESS</a> = 0, 
<a class="el" href="../../db/de0/pbx_8h.html#a0e4eb357d2ef42629fbcf191a473f735a4a46cde728f5cd375af4f2d5b1542490">AST_PBX_FAILED</a> = -1, 
<a class="el" href="../../db/de0/pbx_8h.html#a0e4eb357d2ef42629fbcf191a473f735ab69a419c47206542956e9d933b6605f5">AST_PBX_CALL_LIMIT</a> = -2
 }<tr class="memdesc:a0e4eb357d2ef42629fbcf191a473f735"><td class="mdescLeft">&#160;</td><td class="mdescRight">The result codes when starting the PBX on a channel with ast_pbx_start.  <a href="../../db/de0/pbx_8h.html#a0e4eb357d2ef42629fbcf191a473f735">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:a0e4eb357d2ef42629fbcf191a473f735"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab077da615e93c9e88ce539bef23f82e6"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#ab077da615e93c9e88ce539bef23f82e6">ast_state_cb_update_reason</a> { <a class="el" href="../../db/de0/pbx_8h.html#ab077da615e93c9e88ce539bef23f82e6a2e89bd60b1752d920f58a70164607189">AST_HINT_UPDATE_DEVICE</a> = 1, 
<a class="el" href="../../db/de0/pbx_8h.html#ab077da615e93c9e88ce539bef23f82e6a72b959e4767d5a4c644c6232122f5ad9">AST_HINT_UPDATE_PRESENCE</a> = 2
 }</td></tr>
<tr class="separator:ab077da615e93c9e88ce539bef23f82e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b7f0fafc6995b2630658a4fd8df26be"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#a2b7f0fafc6995b2630658a4fd8df26be">ext_match_t</a> { <br />
&#160;&#160;<a class="el" href="../../dd/ddb/extconf_8h.html#a2b7f0fafc6995b2630658a4fd8df26bea7e20dcb277877b81e8099470cd631277">E_MATCHMORE</a> = 0x00, 
<a class="el" href="../../dd/ddb/extconf_8h.html#a2b7f0fafc6995b2630658a4fd8df26bea413c09377a892aa154e7669cbdaf27ba">E_CANMATCH</a> = 0x01, 
<a class="el" href="../../dd/ddb/extconf_8h.html#a2b7f0fafc6995b2630658a4fd8df26bea2e605157e82dec388ffc89c1694fb7be">E_MATCH</a> = 0x02, 
<a class="el" href="../../dd/ddb/extconf_8h.html#a2b7f0fafc6995b2630658a4fd8df26bea108ea5cb21cb0de3a1be976972c0a59c">E_MATCH_MASK</a> = 0x03, 
<br />
&#160;&#160;<a class="el" href="../../dd/ddb/extconf_8h.html#a2b7f0fafc6995b2630658a4fd8df26bea8f986496ee140e4c7167ae25ad28d0ee">E_SPAWN</a> = 0x12, 
<a class="el" href="../../dd/ddb/extconf_8h.html#a2b7f0fafc6995b2630658a4fd8df26bea7b10ab7b3dd6af9d933dbb03dd183eb5">E_FINDLABEL</a> = 0x22, 
<a class="el" href="../../db/de0/pbx_8h.html#a2b7f0fafc6995b2630658a4fd8df26bea7e20dcb277877b81e8099470cd631277">E_MATCHMORE</a> = 0x00, 
<a class="el" href="../../db/de0/pbx_8h.html#a2b7f0fafc6995b2630658a4fd8df26bea413c09377a892aa154e7669cbdaf27ba">E_CANMATCH</a> = 0x01, 
<br />
&#160;&#160;<a class="el" href="../../db/de0/pbx_8h.html#a2b7f0fafc6995b2630658a4fd8df26bea2e605157e82dec388ffc89c1694fb7be">E_MATCH</a> = 0x02, 
<a class="el" href="../../db/de0/pbx_8h.html#a2b7f0fafc6995b2630658a4fd8df26bea108ea5cb21cb0de3a1be976972c0a59c">E_MATCH_MASK</a> = 0x03, 
<a class="el" href="../../db/de0/pbx_8h.html#a2b7f0fafc6995b2630658a4fd8df26bea8f986496ee140e4c7167ae25ad28d0ee">E_SPAWN</a> = 0x12, 
<a class="el" href="../../db/de0/pbx_8h.html#a2b7f0fafc6995b2630658a4fd8df26bea7b10ab7b3dd6af9d933dbb03dd183eb5">E_FINDLABEL</a> = 0x22
<br />
 }</td></tr>
<tr class="separator:a2b7f0fafc6995b2630658a4fd8df26be"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aad8771c7e3b2170a749946f1a8b758aa"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#aad8771c7e3b2170a749946f1a8b758aa">__ast_custom_function_register</a> (struct <a class="el" href="../../db/dc0/structast__custom__function.html">ast_custom_function</a> *acf, struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a> *mod)</td></tr>
<tr class="memdesc:aad8771c7e3b2170a749946f1a8b758aa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register a custom function.  <a href="#aad8771c7e3b2170a749946f1a8b758aa">More...</a><br /></td></tr>
<tr class="separator:aad8771c7e3b2170a749946f1a8b758aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1efedf39c73e1a63d4a73a3c998694c2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#a1efedf39c73e1a63d4a73a3c998694c2">__ast_custom_function_register_escalating</a> (struct <a class="el" href="../../db/dc0/structast__custom__function.html">ast_custom_function</a> *acf, enum <a class="el" href="../../db/de0/pbx_8h.html#ae44f095e3bb053c0d3f8d6b963df4a25">ast_custom_function_escalation</a> escalation, struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a> *mod)</td></tr>
<tr class="memdesc:a1efedf39c73e1a63d4a73a3c998694c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register a custom function which requires escalated privileges.  <a href="#a1efedf39c73e1a63d4a73a3c998694c2">More...</a><br /></td></tr>
<tr class="separator:a1efedf39c73e1a63d4a73a3c998694c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52a37e9e2d9a1482ef5b7d91001b61ac"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#a52a37e9e2d9a1482ef5b7d91001b61ac">ast_active_calls</a> (void)</td></tr>
<tr class="memdesc:a52a37e9e2d9a1482ef5b7d91001b61ac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve the number of active calls.  <a href="#a52a37e9e2d9a1482ef5b7d91001b61ac">More...</a><br /></td></tr>
<tr class="separator:a52a37e9e2d9a1482ef5b7d91001b61ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07176e8d314eb68b3b50279fafa11390"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#a07176e8d314eb68b3b50279fafa11390">ast_add_extension</a> (const char *<a class="el" href="../../da/dde/chan__phone_8c.html#a579ca8125bbf48d9ce8691d522f99933">context</a>, int <a class="el" href="../../d9/d1e/func__strings_8c.html#a7f763283c27da5574f6f8d1b2a2b9288">replace</a>, const char *<a class="el" href="../../d0/d5a/structextension.html">extension</a>, int <a class="el" href="../../d1/d0c/cel__beanstalkd_8c.html#acec9ce2df15222151ad66fcb1d74eb9f">priority</a>, const char *label, const char *callerid, const char *application, void *data, void(*datad)(void *), const char *<a class="el" href="../../d0/d85/pval_8c.html#ab990a3529ebde2681a00468cad7c0b48">registrar</a>)</td></tr>
<tr class="memdesc:a07176e8d314eb68b3b50279fafa11390"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add and extension to an extension context.  <a href="#a07176e8d314eb68b3b50279fafa11390">More...</a><br /></td></tr>
<tr class="separator:a07176e8d314eb68b3b50279fafa11390"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3be3741c204cd685110243af9daec104"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#a3be3741c204cd685110243af9daec104">ast_add_extension2</a> (struct <a class="el" href="../../d6/d7c/structast__context.html">ast_context</a> *con, int <a class="el" href="../../d9/d1e/func__strings_8c.html#a7f763283c27da5574f6f8d1b2a2b9288">replace</a>, const char *<a class="el" href="../../d0/d5a/structextension.html">extension</a>, int <a class="el" href="../../d1/d0c/cel__beanstalkd_8c.html#acec9ce2df15222151ad66fcb1d74eb9f">priority</a>, const char *label, const char *callerid, const char *application, void *data, void(*datad)(void *), const char *<a class="el" href="../../d0/d85/pval_8c.html#ab990a3529ebde2681a00468cad7c0b48">registrar</a>, const char *registrar_file, int registrar_line)</td></tr>
<tr class="memdesc:a3be3741c204cd685110243af9daec104"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add an extension to an extension context, this time with an <a class="el" href="../../d6/d7c/structast__context.html" title="ast_context: An extension context - must remain in sync with fake_context ">ast_context</a> *.  <a href="#a3be3741c204cd685110243af9daec104">More...</a><br /></td></tr>
<tr class="separator:a3be3741c204cd685110243af9daec104"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade1b9a3e676992cb13790cb068234f44"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#ade1b9a3e676992cb13790cb068234f44">ast_add_extension2_nolock</a> (struct <a class="el" href="../../d6/d7c/structast__context.html">ast_context</a> *con, int <a class="el" href="../../d9/d1e/func__strings_8c.html#a7f763283c27da5574f6f8d1b2a2b9288">replace</a>, const char *<a class="el" href="../../d0/d5a/structextension.html">extension</a>, int <a class="el" href="../../d1/d0c/cel__beanstalkd_8c.html#acec9ce2df15222151ad66fcb1d74eb9f">priority</a>, const char *label, const char *callerid, const char *application, void *data, void(*datad)(void *), const char *<a class="el" href="../../d0/d85/pval_8c.html#ab990a3529ebde2681a00468cad7c0b48">registrar</a>, const char *registrar_file, int registrar_line)</td></tr>
<tr class="memdesc:ade1b9a3e676992cb13790cb068234f44"><td class="mdescLeft">&#160;</td><td class="mdescRight">Same as ast_add_extension2, but assumes you have already locked context.  <a href="#ade1b9a3e676992cb13790cb068234f44">More...</a><br /></td></tr>
<tr class="separator:ade1b9a3e676992cb13790cb068234f44"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0ba2eb966a9e3376de61d30513f7302"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#ae0ba2eb966a9e3376de61d30513f7302">ast_async_goto</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, const char *<a class="el" href="../../da/dde/chan__phone_8c.html#a579ca8125bbf48d9ce8691d522f99933">context</a>, const char *<a class="el" href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>, int <a class="el" href="../../d1/d0c/cel__beanstalkd_8c.html#acec9ce2df15222151ad66fcb1d74eb9f">priority</a>)</td></tr>
<tr class="memdesc:ae0ba2eb966a9e3376de61d30513f7302"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the channel to next execute the specified dialplan location.  <a href="#ae0ba2eb966a9e3376de61d30513f7302">More...</a><br /></td></tr>
<tr class="separator:ae0ba2eb966a9e3376de61d30513f7302"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa43c73d212f6a5c3256cc90a7d7980a1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#aa43c73d212f6a5c3256cc90a7d7980a1">ast_async_goto_by_name</a> (const char *chan, const char *<a class="el" href="../../da/dde/chan__phone_8c.html#a579ca8125bbf48d9ce8691d522f99933">context</a>, const char *<a class="el" href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>, int <a class="el" href="../../d1/d0c/cel__beanstalkd_8c.html#acec9ce2df15222151ad66fcb1d74eb9f">priority</a>)</td></tr>
<tr class="memdesc:aa43c73d212f6a5c3256cc90a7d7980a1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the channel to next execute the specified dialplan location.  <a href="#aa43c73d212f6a5c3256cc90a7d7980a1">More...</a><br /></td></tr>
<tr class="separator:aa43c73d212f6a5c3256cc90a7d7980a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a281fc61f41a1be7fdd6c620372c4510b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#a281fc61f41a1be7fdd6c620372c4510b">ast_async_goto_if_exists</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, const char *<a class="el" href="../../da/dde/chan__phone_8c.html#a579ca8125bbf48d9ce8691d522f99933">context</a>, const char *<a class="el" href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>, int <a class="el" href="../../d1/d0c/cel__beanstalkd_8c.html#acec9ce2df15222151ad66fcb1d74eb9f">priority</a>)</td></tr>
<tr class="separator:a281fc61f41a1be7fdd6c620372c4510b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2caee9cd93973d6f2bc806b34f564d6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#aa2caee9cd93973d6f2bc806b34f564d6">ast_async_parseable_goto</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, const char *goto_string)</td></tr>
<tr class="separator:aa2caee9cd93973d6f2bc806b34f564d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a018549fd5d5470b676da92f6034b7347"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#a018549fd5d5470b676da92f6034b7347">ast_build_timing</a> (struct <a class="el" href="../../dc/d83/structast__timing.html">ast_timing</a> *i, const char *info)</td></tr>
<tr class="memdesc:a018549fd5d5470b676da92f6034b7347"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct a timing bitmap, for use in time-based conditionals.  <a href="#a018549fd5d5470b676da92f6034b7347">More...</a><br /></td></tr>
<tr class="separator:a018549fd5d5470b676da92f6034b7347"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93f9868530c1e8a9d9d367d1ead8782e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#a93f9868530c1e8a9d9d367d1ead8782e">ast_canmatch_extension</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>, const char *<a class="el" href="../../da/dde/chan__phone_8c.html#a579ca8125bbf48d9ce8691d522f99933">context</a>, const char *<a class="el" href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>, int <a class="el" href="../../d1/d0c/cel__beanstalkd_8c.html#acec9ce2df15222151ad66fcb1d74eb9f">priority</a>, const char *callerid)</td></tr>
<tr class="memdesc:a93f9868530c1e8a9d9d367d1ead8782e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Looks for a valid matching extension.  <a href="#a93f9868530c1e8a9d9d367d1ead8782e">More...</a><br /></td></tr>
<tr class="separator:a93f9868530c1e8a9d9d367d1ead8782e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17b7d6ec799c60a8fda825cf59aea7eb"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#a17b7d6ec799c60a8fda825cf59aea7eb">ast_check_timing</a> (const struct <a class="el" href="../../dc/d83/structast__timing.html">ast_timing</a> *i)</td></tr>
<tr class="memdesc:a17b7d6ec799c60a8fda825cf59aea7eb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Evaluate a pre-constructed bitmap as to whether the current time falls within the range specified.  <a href="#a17b7d6ec799c60a8fda825cf59aea7eb">More...</a><br /></td></tr>
<tr class="separator:a17b7d6ec799c60a8fda825cf59aea7eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34268cc8b5103f456ac5cd5798604279"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#a34268cc8b5103f456ac5cd5798604279">ast_check_timing2</a> (const struct <a class="el" href="../../dc/d83/structast__timing.html">ast_timing</a> *i, const struct timeval tv)</td></tr>
<tr class="memdesc:a34268cc8b5103f456ac5cd5798604279"><td class="mdescLeft">&#160;</td><td class="mdescRight">Evaluate a pre-constructed bitmap as to whether a particular time falls within the range specified.  <a href="#a34268cc8b5103f456ac5cd5798604279">More...</a><br /></td></tr>
<tr class="separator:a34268cc8b5103f456ac5cd5798604279"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f53613acac6db6fac7c89aaf57cbcc9"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#a7f53613acac6db6fac7c89aaf57cbcc9">ast_complete_applications</a> (const char *line, const char *<a class="el" href="../../d6/da0/codecs_2gsm_2inc_2private_8h.html#a0b023cbb2bf7d034c2269d58d7455ac8">word</a>, int <a class="el" href="../../d4/d88/structstate.html">state</a>)</td></tr>
<tr class="memdesc:a7f53613acac6db6fac7c89aaf57cbcc9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Command completion for the list of installed applications.  <a href="#a7f53613acac6db6fac7c89aaf57cbcc9">More...</a><br /></td></tr>
<tr class="separator:a7f53613acac6db6fac7c89aaf57cbcc9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24d57cdfe3409c388e4b81b67ecdee70"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#a24d57cdfe3409c388e4b81b67ecdee70">ast_context_add_ignorepat</a> (const char *<a class="el" href="../../da/dde/chan__phone_8c.html#a579ca8125bbf48d9ce8691d522f99933">context</a>, const char *ignorepat, const char *<a class="el" href="../../d0/d85/pval_8c.html#ab990a3529ebde2681a00468cad7c0b48">registrar</a>)</td></tr>
<tr class="memdesc:a24d57cdfe3409c388e4b81b67ecdee70"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add an ignorepat.  <a href="#a24d57cdfe3409c388e4b81b67ecdee70">More...</a><br /></td></tr>
<tr class="separator:a24d57cdfe3409c388e4b81b67ecdee70"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ab6344140ca2699e060d29a1ee79bd8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#a4ab6344140ca2699e060d29a1ee79bd8">ast_context_add_ignorepat2</a> (struct <a class="el" href="../../d6/d7c/structast__context.html">ast_context</a> *con, const char *ignorepat, const char *<a class="el" href="../../d0/d85/pval_8c.html#ab990a3529ebde2681a00468cad7c0b48">registrar</a>)</td></tr>
<tr class="separator:a4ab6344140ca2699e060d29a1ee79bd8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3903111827b675ec313e56a28ac80cf9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#a3903111827b675ec313e56a28ac80cf9">ast_context_add_include</a> (const char *<a class="el" href="../../da/dde/chan__phone_8c.html#a579ca8125bbf48d9ce8691d522f99933">context</a>, const char *include, const char *<a class="el" href="../../d0/d85/pval_8c.html#ab990a3529ebde2681a00468cad7c0b48">registrar</a>)</td></tr>
<tr class="memdesc:a3903111827b675ec313e56a28ac80cf9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a context include.  <a href="#a3903111827b675ec313e56a28ac80cf9">More...</a><br /></td></tr>
<tr class="separator:a3903111827b675ec313e56a28ac80cf9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6bb6a0e021750b75dd126b3ab67b590e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#a6bb6a0e021750b75dd126b3ab67b590e">ast_context_add_include2</a> (struct <a class="el" href="../../d6/d7c/structast__context.html">ast_context</a> *con, const char *include, const char *<a class="el" href="../../d0/d85/pval_8c.html#ab990a3529ebde2681a00468cad7c0b48">registrar</a>)</td></tr>
<tr class="memdesc:a6bb6a0e021750b75dd126b3ab67b590e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a context include.  <a href="#a6bb6a0e021750b75dd126b3ab67b590e">More...</a><br /></td></tr>
<tr class="separator:a6bb6a0e021750b75dd126b3ab67b590e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7677cd4c8e3a0c3d205f412e396a7d5c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#a7677cd4c8e3a0c3d205f412e396a7d5c">ast_context_add_switch</a> (const char *<a class="el" href="../../da/dde/chan__phone_8c.html#a579ca8125bbf48d9ce8691d522f99933">context</a>, const char *sw, const char *data, int eval, const char *<a class="el" href="../../d0/d85/pval_8c.html#ab990a3529ebde2681a00468cad7c0b48">registrar</a>)</td></tr>
<tr class="memdesc:a7677cd4c8e3a0c3d205f412e396a7d5c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a switch.  <a href="#a7677cd4c8e3a0c3d205f412e396a7d5c">More...</a><br /></td></tr>
<tr class="separator:a7677cd4c8e3a0c3d205f412e396a7d5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9ee3f64aa47d58dd55633aa8ea30175"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#aa9ee3f64aa47d58dd55633aa8ea30175">ast_context_add_switch2</a> (struct <a class="el" href="../../d6/d7c/structast__context.html">ast_context</a> *con, const char *sw, const char *data, int eval, const char *<a class="el" href="../../d0/d85/pval_8c.html#ab990a3529ebde2681a00468cad7c0b48">registrar</a>)</td></tr>
<tr class="memdesc:aa9ee3f64aa47d58dd55633aa8ea30175"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a switch (first param is a <a class="el" href="../../d6/d7c/structast__context.html" title="ast_context: An extension context - must remain in sync with fake_context ">ast_context</a>)  <a href="#aa9ee3f64aa47d58dd55633aa8ea30175">More...</a><br /></td></tr>
<tr class="separator:aa9ee3f64aa47d58dd55633aa8ea30175"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9546b830c22c693a2baed08e48569401"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#a9546b830c22c693a2baed08e48569401">ast_context_destroy</a> (struct <a class="el" href="../../d6/d7c/structast__context.html">ast_context</a> *con, const char *<a class="el" href="../../d0/d85/pval_8c.html#ab990a3529ebde2681a00468cad7c0b48">registrar</a>)</td></tr>
<tr class="memdesc:a9546b830c22c693a2baed08e48569401"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroy a context (matches the specified context or ANY context if NULL)  <a href="#a9546b830c22c693a2baed08e48569401">More...</a><br /></td></tr>
<tr class="separator:a9546b830c22c693a2baed08e48569401"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08abc5aa22cce4a793000a796b791076"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#a08abc5aa22cce4a793000a796b791076">ast_context_destroy_by_name</a> (const char *<a class="el" href="../../da/dde/chan__phone_8c.html#a579ca8125bbf48d9ce8691d522f99933">context</a>, const char *<a class="el" href="../../d0/d85/pval_8c.html#ab990a3529ebde2681a00468cad7c0b48">registrar</a>)</td></tr>
<tr class="memdesc:a08abc5aa22cce4a793000a796b791076"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroy a context by name.  <a href="#a08abc5aa22cce4a793000a796b791076">More...</a><br /></td></tr>
<tr class="separator:a08abc5aa22cce4a793000a796b791076"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e3c5fe3db1ee8cd78f2bf58c9416aa4"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d6/d7c/structast__context.html">ast_context</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#a2e3c5fe3db1ee8cd78f2bf58c9416aa4">ast_context_find</a> (const char *<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>)</td></tr>
<tr class="memdesc:a2e3c5fe3db1ee8cd78f2bf58c9416aa4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find a context.  <a href="#a2e3c5fe3db1ee8cd78f2bf58c9416aa4">More...</a><br /></td></tr>
<tr class="separator:a2e3c5fe3db1ee8cd78f2bf58c9416aa4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a07400b41b3302edf8aef9f53644698"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d6/d7c/structast__context.html">ast_context</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#a8a07400b41b3302edf8aef9f53644698">ast_context_find_or_create</a> (struct <a class="el" href="../../d6/d7c/structast__context.html">ast_context</a> **extcontexts, struct <a class="el" href="../../d0/d4a/structast__hashtab.html">ast_hashtab</a> *exttable, const char *<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, const char *<a class="el" href="../../d0/d85/pval_8c.html#ab990a3529ebde2681a00468cad7c0b48">registrar</a>)</td></tr>
<tr class="memdesc:a8a07400b41b3302edf8aef9f53644698"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register a new context or find an existing one.  <a href="#a8a07400b41b3302edf8aef9f53644698">More...</a><br /></td></tr>
<tr class="separator:a8a07400b41b3302edf8aef9f53644698"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0425cd7146d66b6ae06f16ddfd53307a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#a0425cd7146d66b6ae06f16ddfd53307a">ast_context_lockmacro</a> (const char *macrocontext)</td></tr>
<tr class="memdesc:a0425cd7146d66b6ae06f16ddfd53307a"><td class="mdescLeft">&#160;</td><td class="mdescRight">locks the macrolock in the given context  <a href="#a0425cd7146d66b6ae06f16ddfd53307a">More...</a><br /></td></tr>
<tr class="separator:a0425cd7146d66b6ae06f16ddfd53307a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08e43dc093c586991af4e2f86fa14f2e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#a08e43dc093c586991af4e2f86fa14f2e">ast_context_remove_ignorepat</a> (const char *<a class="el" href="../../da/dde/chan__phone_8c.html#a579ca8125bbf48d9ce8691d522f99933">context</a>, const char *ignorepat, const char *<a class="el" href="../../d0/d85/pval_8c.html#ab990a3529ebde2681a00468cad7c0b48">registrar</a>)</td></tr>
<tr class="separator:a08e43dc093c586991af4e2f86fa14f2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c599ffe1436debbdccd45a28685b567"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#a3c599ffe1436debbdccd45a28685b567">ast_context_remove_ignorepat2</a> (struct <a class="el" href="../../d6/d7c/structast__context.html">ast_context</a> *con, const char *ignorepat, const char *<a class="el" href="../../d0/d85/pval_8c.html#ab990a3529ebde2681a00468cad7c0b48">registrar</a>)</td></tr>
<tr class="separator:a3c599ffe1436debbdccd45a28685b567"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acec5cab19e772712434bf03875b57e9a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#acec5cab19e772712434bf03875b57e9a">ast_context_remove_include</a> (const char *<a class="el" href="../../da/dde/chan__phone_8c.html#a579ca8125bbf48d9ce8691d522f99933">context</a>, const char *include, const char *<a class="el" href="../../d0/d85/pval_8c.html#ab990a3529ebde2681a00468cad7c0b48">registrar</a>)</td></tr>
<tr class="memdesc:acec5cab19e772712434bf03875b57e9a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove a context include.  <a href="#acec5cab19e772712434bf03875b57e9a">More...</a><br /></td></tr>
<tr class="separator:acec5cab19e772712434bf03875b57e9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c23053e0d4d87545a93ec837a19b908"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#a8c23053e0d4d87545a93ec837a19b908">ast_context_remove_include2</a> (struct <a class="el" href="../../d6/d7c/structast__context.html">ast_context</a> *con, const char *include, const char *<a class="el" href="../../d0/d85/pval_8c.html#ab990a3529ebde2681a00468cad7c0b48">registrar</a>)</td></tr>
<tr class="memdesc:a8c23053e0d4d87545a93ec837a19b908"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes an include by an <a class="el" href="../../d6/d7c/structast__context.html" title="ast_context: An extension context - must remain in sync with fake_context ">ast_context</a> structure.  <a href="#a8c23053e0d4d87545a93ec837a19b908">More...</a><br /></td></tr>
<tr class="separator:a8c23053e0d4d87545a93ec837a19b908"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9800750a3fb79caa282c98556473f392"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#a9800750a3fb79caa282c98556473f392">ast_context_remove_switch</a> (const char *<a class="el" href="../../da/dde/chan__phone_8c.html#a579ca8125bbf48d9ce8691d522f99933">context</a>, const char *sw, const char *data, const char *<a class="el" href="../../d0/d85/pval_8c.html#ab990a3529ebde2681a00468cad7c0b48">registrar</a>)</td></tr>
<tr class="memdesc:a9800750a3fb79caa282c98556473f392"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove a switch.  <a href="#a9800750a3fb79caa282c98556473f392">More...</a><br /></td></tr>
<tr class="separator:a9800750a3fb79caa282c98556473f392"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23a51e49bea958a8d27c61f2a51931d9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#a23a51e49bea958a8d27c61f2a51931d9">ast_context_remove_switch2</a> (struct <a class="el" href="../../d6/d7c/structast__context.html">ast_context</a> *con, const char *sw, const char *data, const char *<a class="el" href="../../d0/d85/pval_8c.html#ab990a3529ebde2681a00468cad7c0b48">registrar</a>)</td></tr>
<tr class="memdesc:a23a51e49bea958a8d27c61f2a51931d9"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function locks given context, removes switch, unlock context and return.  <a href="#a23a51e49bea958a8d27c61f2a51931d9">More...</a><br /></td></tr>
<tr class="separator:a23a51e49bea958a8d27c61f2a51931d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2002365371f1915bdfda9ae2c039604b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#a2002365371f1915bdfda9ae2c039604b">ast_context_set_autohints</a> (struct <a class="el" href="../../d6/d7c/structast__context.html">ast_context</a> *con, int <a class="el" href="../../d3/dea/res__pjsip__history_8c.html#a03e6cca0c879c0443efb431c30c14f76">enabled</a>)</td></tr>
<tr class="memdesc:a2002365371f1915bdfda9ae2c039604b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enable or disable autohints support on a context.  <a href="#a2002365371f1915bdfda9ae2c039604b">More...</a><br /></td></tr>
<tr class="separator:a2002365371f1915bdfda9ae2c039604b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0cb6fe63e51dd357d3146a1f1c64bd95"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#a0cb6fe63e51dd357d3146a1f1c64bd95">ast_context_unlockmacro</a> (const char *macrocontext)</td></tr>
<tr class="memdesc:a0cb6fe63e51dd357d3146a1f1c64bd95"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unlocks the macrolock in the given context.  <a href="#a0cb6fe63e51dd357d3146a1f1c64bd95">More...</a><br /></td></tr>
<tr class="separator:a0cb6fe63e51dd357d3146a1f1c64bd95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca6b16b4b7433a12e65103a2f1ab8028"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#aca6b16b4b7433a12e65103a2f1ab8028">ast_context_verify_includes</a> (struct <a class="el" href="../../d6/d7c/structast__context.html">ast_context</a> *con)</td></tr>
<tr class="memdesc:aca6b16b4b7433a12e65103a2f1ab8028"><td class="mdescLeft">&#160;</td><td class="mdescRight">Verifies includes in an ast_contect structure.  <a href="#aca6b16b4b7433a12e65103a2f1ab8028">More...</a><br /></td></tr>
<tr class="separator:aca6b16b4b7433a12e65103a2f1ab8028"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fc414ab788a26c1a756422fc11bdb8d"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../db/dc0/structast__custom__function.html">ast_custom_function</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#a4fc414ab788a26c1a756422fc11bdb8d">ast_custom_function_find</a> (const char *<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>)</td></tr>
<tr class="separator:a4fc414ab788a26c1a756422fc11bdb8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a965977ea9a3144bc203e0ce7a64680a1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#a965977ea9a3144bc203e0ce7a64680a1">ast_custom_function_unregister</a> (struct <a class="el" href="../../db/dc0/structast__custom__function.html">ast_custom_function</a> *acf)</td></tr>
<tr class="memdesc:a965977ea9a3144bc203e0ce7a64680a1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unregister a custom function.  <a href="#a965977ea9a3144bc203e0ce7a64680a1">More...</a><br /></td></tr>
<tr class="separator:a965977ea9a3144bc203e0ce7a64680a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2bc52adc4f80137db9161ed499f82a00"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#a2bc52adc4f80137db9161ed499f82a00">ast_destroy_timing</a> (struct <a class="el" href="../../dc/d83/structast__timing.html">ast_timing</a> *i)</td></tr>
<tr class="memdesc:a2bc52adc4f80137db9161ed499f82a00"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deallocates memory structures associated with a timing bitmap.  <a href="#a2bc52adc4f80137db9161ed499f82a00">More...</a><br /></td></tr>
<tr class="separator:a2bc52adc4f80137db9161ed499f82a00"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3aa0b9f1691104cb6214ba66c5dc3a30"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="../../db/de0/pbx_8h.html#a7e545df4a5f38ef25616c7bdf55d625f">ast_extension_states</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#a3aa0b9f1691104cb6214ba66c5dc3a30">ast_devstate_to_extenstate</a> (enum <a class="el" href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eee">ast_device_state</a> devstate)</td></tr>
<tr class="memdesc:a3aa0b9f1691104cb6214ba66c5dc3a30"><td class="mdescLeft">&#160;</td><td class="mdescRight">Map devstate to an extension state.  <a href="#a3aa0b9f1691104cb6214ba66c5dc3a30">More...</a><br /></td></tr>
<tr class="separator:a3aa0b9f1691104cb6214ba66c5dc3a30"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64a5b8fdc919806135ad427aca9e71b7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#a64a5b8fdc919806135ad427aca9e71b7">ast_exists_extension</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>, const char *<a class="el" href="../../da/dde/chan__phone_8c.html#a579ca8125bbf48d9ce8691d522f99933">context</a>, const char *<a class="el" href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>, int <a class="el" href="../../d1/d0c/cel__beanstalkd_8c.html#acec9ce2df15222151ad66fcb1d74eb9f">priority</a>, const char *callerid)</td></tr>
<tr class="memdesc:a64a5b8fdc919806135ad427aca9e71b7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine whether an extension exists.  <a href="#a64a5b8fdc919806135ad427aca9e71b7">More...</a><br /></td></tr>
<tr class="separator:a64a5b8fdc919806135ad427aca9e71b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f840db4b5ef461ac2c0c975a57c9e89"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#a9f840db4b5ef461ac2c0c975a57c9e89">ast_explicit_goto</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, const char *<a class="el" href="../../da/dde/chan__phone_8c.html#a579ca8125bbf48d9ce8691d522f99933">context</a>, const char *<a class="el" href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>, int <a class="el" href="../../d1/d0c/cel__beanstalkd_8c.html#acec9ce2df15222151ad66fcb1d74eb9f">priority</a>)</td></tr>
<tr class="separator:a9f840db4b5ef461ac2c0c975a57c9e89"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83192a0099558f6a539fdb4e065ff99d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#a83192a0099558f6a539fdb4e065ff99d">ast_extension_close</a> (const char *pattern, const char *data, int needmore)</td></tr>
<tr class="separator:a83192a0099558f6a539fdb4e065ff99d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9130cb982e3e236c465136e0637cfaa"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#aa9130cb982e3e236c465136e0637cfaa">ast_extension_cmp</a> (const char *<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a>, const char *<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a025ede890af287961d3a98d0e634a62b">b</a>)</td></tr>
<tr class="memdesc:aa9130cb982e3e236c465136e0637cfaa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine if one extension should match before another.  <a href="#aa9130cb982e3e236c465136e0637cfaa">More...</a><br /></td></tr>
<tr class="separator:aa9130cb982e3e236c465136e0637cfaa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0e4fd3343c8c7ee979a6a44d2113495"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#aa0e4fd3343c8c7ee979a6a44d2113495">ast_extension_match</a> (const char *pattern, const char *<a class="el" href="../../d0/d5a/structextension.html">extension</a>)</td></tr>
<tr class="memdesc:aa0e4fd3343c8c7ee979a6a44d2113495"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine if a given extension matches a given pattern (in NXX format)  <a href="#aa0e4fd3343c8c7ee979a6a44d2113495">More...</a><br /></td></tr>
<tr class="separator:aa0e4fd3343c8c7ee979a6a44d2113495"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf9249eff9d5037968d55e11de1dce5f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#adf9249eff9d5037968d55e11de1dce5f">ast_extension_patmatch</a> (const char *pattern, const char *data)</td></tr>
<tr class="separator:adf9249eff9d5037968d55e11de1dce5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed6cfe76441ef995ab80609020a9990c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#aed6cfe76441ef995ab80609020a9990c">ast_extension_state</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>, const char *<a class="el" href="../../da/dde/chan__phone_8c.html#a579ca8125bbf48d9ce8691d522f99933">context</a>, const char *<a class="el" href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>)</td></tr>
<tr class="memdesc:aed6cfe76441ef995ab80609020a9990c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Uses hint and devicestate callback to get the state of an extension.  <a href="#aed6cfe76441ef995ab80609020a9990c">More...</a><br /></td></tr>
<tr class="separator:aed6cfe76441ef995ab80609020a9990c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3261603753916b98888a5a5fc1d505c3"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#a3261603753916b98888a5a5fc1d505c3">ast_extension_state2str</a> (int extension_state)</td></tr>
<tr class="memdesc:a3261603753916b98888a5a5fc1d505c3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return string representation of the state of an extension.  <a href="#a3261603753916b98888a5a5fc1d505c3">More...</a><br /></td></tr>
<tr class="separator:a3261603753916b98888a5a5fc1d505c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1d88f370509aae87302134e6f70628a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#ab1d88f370509aae87302134e6f70628a">ast_extension_state_add</a> (const char *<a class="el" href="../../da/dde/chan__phone_8c.html#a579ca8125bbf48d9ce8691d522f99933">context</a>, const char *<a class="el" href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>, <a class="el" href="../../d4/dc5/extconf_8c.html#a4aadf947cff7b21ae6a21ee603288c51">ast_state_cb_type</a> change_cb, void *data)</td></tr>
<tr class="memdesc:ab1d88f370509aae87302134e6f70628a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add watcher for extension states.  <a href="#ab1d88f370509aae87302134e6f70628a">More...</a><br /></td></tr>
<tr class="separator:ab1d88f370509aae87302134e6f70628a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3fe692162e8e78eed9d4ccc2370a49eb"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#a3fe692162e8e78eed9d4ccc2370a49eb">ast_extension_state_add_destroy</a> (const char *<a class="el" href="../../da/dde/chan__phone_8c.html#a579ca8125bbf48d9ce8691d522f99933">context</a>, const char *<a class="el" href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>, <a class="el" href="../../d4/dc5/extconf_8c.html#a4aadf947cff7b21ae6a21ee603288c51">ast_state_cb_type</a> change_cb, <a class="el" href="../../db/de0/pbx_8h.html#ad3a372c5b23617d0ba1856aa88035f54">ast_state_cb_destroy_type</a> destroy_cb, void *data)</td></tr>
<tr class="memdesc:a3fe692162e8e78eed9d4ccc2370a49eb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add watcher for extension states with destructor.  <a href="#a3fe692162e8e78eed9d4ccc2370a49eb">More...</a><br /></td></tr>
<tr class="separator:a3fe692162e8e78eed9d4ccc2370a49eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0dd6eaef780ca4a7de91db52a2b8b085"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#a0dd6eaef780ca4a7de91db52a2b8b085">ast_extension_state_add_destroy_extended</a> (const char *<a class="el" href="../../da/dde/chan__phone_8c.html#a579ca8125bbf48d9ce8691d522f99933">context</a>, const char *<a class="el" href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>, <a class="el" href="../../d4/dc5/extconf_8c.html#a4aadf947cff7b21ae6a21ee603288c51">ast_state_cb_type</a> change_cb, <a class="el" href="../../db/de0/pbx_8h.html#ad3a372c5b23617d0ba1856aa88035f54">ast_state_cb_destroy_type</a> destroy_cb, void *data)</td></tr>
<tr class="memdesc:a0dd6eaef780ca4a7de91db52a2b8b085"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add watcher for extended extension states with destructor.  <a href="#a0dd6eaef780ca4a7de91db52a2b8b085">More...</a><br /></td></tr>
<tr class="separator:a0dd6eaef780ca4a7de91db52a2b8b085"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa636ab868f1724406019bbbc82676488"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#aa636ab868f1724406019bbbc82676488">ast_extension_state_add_extended</a> (const char *<a class="el" href="../../da/dde/chan__phone_8c.html#a579ca8125bbf48d9ce8691d522f99933">context</a>, const char *<a class="el" href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>, <a class="el" href="../../d4/dc5/extconf_8c.html#a4aadf947cff7b21ae6a21ee603288c51">ast_state_cb_type</a> change_cb, void *data)</td></tr>
<tr class="memdesc:aa636ab868f1724406019bbbc82676488"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add watcher for extended extension states.  <a href="#aa636ab868f1724406019bbbc82676488">More...</a><br /></td></tr>
<tr class="separator:aa636ab868f1724406019bbbc82676488"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa992580d26443e3306f7f08cf5908e7c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#aa992580d26443e3306f7f08cf5908e7c">ast_extension_state_del</a> (int <a class="el" href="../../d1/da4/res__corosync_8c.html#a2465fd4497a7402ad72da7d6e03f9934">id</a>, <a class="el" href="../../d4/dc5/extconf_8c.html#a4aadf947cff7b21ae6a21ee603288c51">ast_state_cb_type</a> change_cb)</td></tr>
<tr class="memdesc:aa992580d26443e3306f7f08cf5908e7c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deletes a state change watcher by ID.  <a href="#aa992580d26443e3306f7f08cf5908e7c">More...</a><br /></td></tr>
<tr class="separator:aa992580d26443e3306f7f08cf5908e7c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8449d33004759f52932db7e138c0246"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#af8449d33004759f52932db7e138c0246">ast_extension_state_extended</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>, const char *<a class="el" href="../../da/dde/chan__phone_8c.html#a579ca8125bbf48d9ce8691d522f99933">context</a>, const char *<a class="el" href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>, struct <a class="el" href="../../d2/da9/structao2__container.html">ao2_container</a> **device_state_info)</td></tr>
<tr class="memdesc:af8449d33004759f52932db7e138c0246"><td class="mdescLeft">&#160;</td><td class="mdescRight">Uses hint and devicestate callback to get the extended state of an extension.  <a href="#af8449d33004759f52932db7e138c0246">More...</a><br /></td></tr>
<tr class="separator:af8449d33004759f52932db7e138c0246"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0be9518646cf9aca4878b313cc02e901"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#a0be9518646cf9aca4878b313cc02e901">ast_findlabel_extension</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>, const char *<a class="el" href="../../da/dde/chan__phone_8c.html#a579ca8125bbf48d9ce8691d522f99933">context</a>, const char *<a class="el" href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>, const char *label, const char *callerid)</td></tr>
<tr class="memdesc:a0be9518646cf9aca4878b313cc02e901"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find the priority of an extension that has the specified label.  <a href="#a0be9518646cf9aca4878b313cc02e901">More...</a><br /></td></tr>
<tr class="separator:a0be9518646cf9aca4878b313cc02e901"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9aa64ca24f5c3dc193eddf594599668"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#ac9aa64ca24f5c3dc193eddf594599668">ast_findlabel_extension2</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>, struct <a class="el" href="../../d6/d7c/structast__context.html">ast_context</a> *con, const char *<a class="el" href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>, const char *label, const char *callerid)</td></tr>
<tr class="memdesc:ac9aa64ca24f5c3dc193eddf594599668"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find the priority of an extension that has the specified label.  <a href="#ac9aa64ca24f5c3dc193eddf594599668">More...</a><br /></td></tr>
<tr class="separator:ac9aa64ca24f5c3dc193eddf594599668"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4e9618aa036a586af7d7663afd9b507"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#aa4e9618aa036a586af7d7663afd9b507">ast_func_read</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, const char *function, char *workspace, size_t <a class="el" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>)</td></tr>
<tr class="memdesc:aa4e9618aa036a586af7d7663afd9b507"><td class="mdescLeft">&#160;</td><td class="mdescRight">executes a read operation on a function  <a href="#aa4e9618aa036a586af7d7663afd9b507">More...</a><br /></td></tr>
<tr class="separator:aa4e9618aa036a586af7d7663afd9b507"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c74b2f5ba8be6e351d35c1b97803e1e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#a9c74b2f5ba8be6e351d35c1b97803e1e">ast_func_read2</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, const char *function, struct <a class="el" href="../../dd/da2/structast__str.html">ast_str</a> **<a class="el" href="../../d8/d30/main_2security__events_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a>, ssize_t maxlen)</td></tr>
<tr class="memdesc:a9c74b2f5ba8be6e351d35c1b97803e1e"><td class="mdescLeft">&#160;</td><td class="mdescRight">executes a read operation on a function  <a href="#a9c74b2f5ba8be6e351d35c1b97803e1e">More...</a><br /></td></tr>
<tr class="separator:a9c74b2f5ba8be6e351d35c1b97803e1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae70e64cdf669396c88ea8eda900b0b3b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#ae70e64cdf669396c88ea8eda900b0b3b">ast_func_write</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, const char *function, const char *<a class="el" href="../../d5/dde/test__func__file_8c.html#a8556878012feffc9e0beb86cd78f424d">value</a>)</td></tr>
<tr class="memdesc:ae70e64cdf669396c88ea8eda900b0b3b"><td class="mdescLeft">&#160;</td><td class="mdescRight">executes a write operation on a function  <a href="#ae70e64cdf669396c88ea8eda900b0b3b">More...</a><br /></td></tr>
<tr class="separator:ae70e64cdf669396c88ea8eda900b0b3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d9b67d1b29ee2e6c3c27e14b9269410"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#a1d9b67d1b29ee2e6c3c27e14b9269410">ast_get_extension_registrar_file</a> (struct <a class="el" href="../../d7/d00/structast__exten.html">ast_exten</a> *e)</td></tr>
<tr class="memdesc:a1d9b67d1b29ee2e6c3c27e14b9269410"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get name of configuration file used by registrar to register this extension.  <a href="#a1d9b67d1b29ee2e6c3c27e14b9269410">More...</a><br /></td></tr>
<tr class="separator:a1d9b67d1b29ee2e6c3c27e14b9269410"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25c1ae521dc0aa6949e716b8ce49b4e7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#a25c1ae521dc0aa6949e716b8ce49b4e7">ast_get_extension_registrar_line</a> (struct <a class="el" href="../../d7/d00/structast__exten.html">ast_exten</a> *e)</td></tr>
<tr class="memdesc:a25c1ae521dc0aa6949e716b8ce49b4e7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get line number of configuration file used by registrar to register this extension.  <a href="#a25c1ae521dc0aa6949e716b8ce49b4e7">More...</a><br /></td></tr>
<tr class="separator:a25c1ae521dc0aa6949e716b8ce49b4e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac778ac642def88a06e5d59e11a964c43"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#ac778ac642def88a06e5d59e11a964c43">ast_get_hint</a> (char *hint, int hintsize, char *<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, int namesize, struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>, const char *<a class="el" href="../../da/dde/chan__phone_8c.html#a579ca8125bbf48d9ce8691d522f99933">context</a>, const char *<a class="el" href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>)</td></tr>
<tr class="memdesc:ac778ac642def88a06e5d59e11a964c43"><td class="mdescLeft">&#160;</td><td class="mdescRight">If an extension hint exists, return non-zero.  <a href="#ac778ac642def88a06e5d59e11a964c43">More...</a><br /></td></tr>
<tr class="separator:ac778ac642def88a06e5d59e11a964c43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f7166f50cb9642179c9b321b8143f55"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#a8f7166f50cb9642179c9b321b8143f55">ast_goto_if_exists</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, const char *<a class="el" href="../../da/dde/chan__phone_8c.html#a579ca8125bbf48d9ce8691d522f99933">context</a>, const char *<a class="el" href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>, int <a class="el" href="../../d1/d0c/cel__beanstalkd_8c.html#acec9ce2df15222151ad66fcb1d74eb9f">priority</a>)</td></tr>
<tr class="separator:a8f7166f50cb9642179c9b321b8143f55"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a1d79f17ab4af99009246a130eff8ef"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#a0a1d79f17ab4af99009246a130eff8ef">ast_hint_presence_state</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>, const char *<a class="el" href="../../da/dde/chan__phone_8c.html#a579ca8125bbf48d9ce8691d522f99933">context</a>, const char *<a class="el" href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>, char **subtype, char **<a class="el" href="../../d8/d9e/structmessage.html">message</a>)</td></tr>
<tr class="memdesc:a0a1d79f17ab4af99009246a130eff8ef"><td class="mdescLeft">&#160;</td><td class="mdescRight">Uses hint and presence state callback to get the presence state of an extension.  <a href="#a0a1d79f17ab4af99009246a130eff8ef">More...</a><br /></td></tr>
<tr class="separator:a0a1d79f17ab4af99009246a130eff8ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa73d176ed4f1ce51e5db6beafba45fe3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#aa73d176ed4f1ce51e5db6beafba45fe3">ast_ignore_pattern</a> (const char *<a class="el" href="../../da/dde/chan__phone_8c.html#a579ca8125bbf48d9ce8691d522f99933">context</a>, const char *pattern)</td></tr>
<tr class="memdesc:aa73d176ed4f1ce51e5db6beafba45fe3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks to see if a number should be ignored.  <a href="#aa73d176ed4f1ce51e5db6beafba45fe3">More...</a><br /></td></tr>
<tr class="separator:aa73d176ed4f1ce51e5db6beafba45fe3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac359af75b9494f50904583d2168a7577"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#ac359af75b9494f50904583d2168a7577">ast_matchmore_extension</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>, const char *<a class="el" href="../../da/dde/chan__phone_8c.html#a579ca8125bbf48d9ce8691d522f99933">context</a>, const char *<a class="el" href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>, int <a class="el" href="../../d1/d0c/cel__beanstalkd_8c.html#acec9ce2df15222151ad66fcb1d74eb9f">priority</a>, const char *callerid)</td></tr>
<tr class="memdesc:ac359af75b9494f50904583d2168a7577"><td class="mdescLeft">&#160;</td><td class="mdescRight">Looks to see if adding anything to this extension might match something. (exists ^ canmatch)  <a href="#ac359af75b9494f50904583d2168a7577">More...</a><br /></td></tr>
<tr class="separator:ac359af75b9494f50904583d2168a7577"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a833a703b21d8f6bcb9f68e57185bca67"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#a833a703b21d8f6bcb9f68e57185bca67">ast_merge_contexts_and_delete</a> (struct <a class="el" href="../../d6/d7c/structast__context.html">ast_context</a> **extcontexts, struct <a class="el" href="../../d0/d4a/structast__hashtab.html">ast_hashtab</a> *exttable, const char *<a class="el" href="../../d0/d85/pval_8c.html#ab990a3529ebde2681a00468cad7c0b48">registrar</a>)</td></tr>
<tr class="memdesc:a833a703b21d8f6bcb9f68e57185bca67"><td class="mdescLeft">&#160;</td><td class="mdescRight">Merge the temporary contexts into a global contexts list and delete from the global list the ones that are being added.  <a href="#a833a703b21d8f6bcb9f68e57185bca67">More...</a><br /></td></tr>
<tr class="separator:a833a703b21d8f6bcb9f68e57185bca67"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9b65b0515d88371a5293dd354bfd92f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#ae9b65b0515d88371a5293dd354bfd92f">ast_parseable_goto</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, const char *goto_string)</td></tr>
<tr class="separator:ae9b65b0515d88371a5293dd354bfd92f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90b8895bf6b299c1b844a57c2ea10348"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#a90b8895bf6b299c1b844a57c2ea10348">ast_pbx_h_exten_run</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, const char *<a class="el" href="../../da/dde/chan__phone_8c.html#a579ca8125bbf48d9ce8691d522f99933">context</a>)</td></tr>
<tr class="memdesc:a90b8895bf6b299c1b844a57c2ea10348"><td class="mdescLeft">&#160;</td><td class="mdescRight">Run the h exten from the given context.  <a href="#a90b8895bf6b299c1b844a57c2ea10348">More...</a><br /></td></tr>
<tr class="separator:a90b8895bf6b299c1b844a57c2ea10348"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d655002901faaf06a9a891f17dcff83"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#a4d655002901faaf06a9a891f17dcff83">ast_pbx_hangup_handler_destroy</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan)</td></tr>
<tr class="memdesc:a4d655002901faaf06a9a891f17dcff83"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroy the hangup handler container on a channel.  <a href="#a4d655002901faaf06a9a891f17dcff83">More...</a><br /></td></tr>
<tr class="separator:a4d655002901faaf06a9a891f17dcff83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aabba812de5650c13f20fee47dffbed8b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#aabba812de5650c13f20fee47dffbed8b">ast_pbx_hangup_handler_init</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan)</td></tr>
<tr class="memdesc:aabba812de5650c13f20fee47dffbed8b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Init the hangup handler container on a channel.  <a href="#aabba812de5650c13f20fee47dffbed8b">More...</a><br /></td></tr>
<tr class="separator:aabba812de5650c13f20fee47dffbed8b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aebd5f64029975f303a2e1e56798beeb5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#aebd5f64029975f303a2e1e56798beeb5">ast_pbx_hangup_handler_pop</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan)</td></tr>
<tr class="memdesc:aebd5f64029975f303a2e1e56798beeb5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pop the top of the channel hangup handler stack.  <a href="#aebd5f64029975f303a2e1e56798beeb5">More...</a><br /></td></tr>
<tr class="separator:aebd5f64029975f303a2e1e56798beeb5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab43454b90f6bc8153f37376456521ed5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#ab43454b90f6bc8153f37376456521ed5">ast_pbx_hangup_handler_push</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, const char *<a class="el" href="../../da/d03/test__ari_8c.html#a695cc202c7a2869aa8202bb20726ea3c">handler</a>)</td></tr>
<tr class="memdesc:ab43454b90f6bc8153f37376456521ed5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Push the given hangup handler onto the channel hangup handler stack.  <a href="#ab43454b90f6bc8153f37376456521ed5">More...</a><br /></td></tr>
<tr class="separator:ab43454b90f6bc8153f37376456521ed5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc4d340f4e9d60ef5fbfd93a0e6f9c33"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#adc4d340f4e9d60ef5fbfd93a0e6f9c33">ast_pbx_hangup_handler_run</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan)</td></tr>
<tr class="memdesc:adc4d340f4e9d60ef5fbfd93a0e6f9c33"><td class="mdescLeft">&#160;</td><td class="mdescRight">Run all hangup handlers on the channel.  <a href="#adc4d340f4e9d60ef5fbfd93a0e6f9c33">More...</a><br /></td></tr>
<tr class="separator:adc4d340f4e9d60ef5fbfd93a0e6f9c33"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2afffb175879297ed07ec21df02fa6dc"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#a2afffb175879297ed07ec21df02fa6dc">ast_pbx_outgoing_app</a> (const char *<a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>, struct <a class="el" href="../../d8/d69/structast__format__cap.html">ast_format_cap</a> *cap, const char *addr, int <a class="el" href="../../d0/d29/cdr__mysql_8c.html#a493b57f443cc38b3d3df9c1e584d9d82">timeout</a>, const char *<a class="el" href="../../dd/de9/res__agi_8c.html#a9e5f57131367eff409b9e0bd7b31aa1a">app</a>, const char *appdata, int *reason, int synchronous, const char *<a class="el" href="../../da/dde/chan__phone_8c.html#a29e973bd94bfbaf59d939bd1bc988c32">cid_num</a>, const char *<a class="el" href="../../da/dde/chan__phone_8c.html#ade5a89f9bee15a492c760ec1765a292d">cid_name</a>, struct <a class="el" href="../../dd/d02/structast__variable.html">ast_variable</a> *vars, const char *account, struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> **locked_channel, const struct <a class="el" href="../../da/de5/structast__assigned__ids.html">ast_assigned_ids</a> *assignedids)</td></tr>
<tr class="memdesc:a2afffb175879297ed07ec21df02fa6dc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Synchronously or asynchronously make an outbound call and execute an application on the channel.  <a href="#a2afffb175879297ed07ec21df02fa6dc">More...</a><br /></td></tr>
<tr class="separator:a2afffb175879297ed07ec21df02fa6dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a251d9b38cd3fe1bd5ec39bf0b1c3b65f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#a251d9b38cd3fe1bd5ec39bf0b1c3b65f">ast_pbx_outgoing_app_predial</a> (const char *<a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>, struct <a class="el" href="../../d8/d69/structast__format__cap.html">ast_format_cap</a> *cap, const char *addr, int <a class="el" href="../../d0/d29/cdr__mysql_8c.html#a493b57f443cc38b3d3df9c1e584d9d82">timeout</a>, const char *<a class="el" href="../../dd/de9/res__agi_8c.html#a9e5f57131367eff409b9e0bd7b31aa1a">app</a>, const char *appdata, int *reason, int synchronous, const char *<a class="el" href="../../da/dde/chan__phone_8c.html#a29e973bd94bfbaf59d939bd1bc988c32">cid_num</a>, const char *<a class="el" href="../../da/dde/chan__phone_8c.html#ade5a89f9bee15a492c760ec1765a292d">cid_name</a>, struct <a class="el" href="../../dd/d02/structast__variable.html">ast_variable</a> *vars, const char *account, struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> **locked_channel, const struct <a class="el" href="../../da/de5/structast__assigned__ids.html">ast_assigned_ids</a> *assignedids, const char *predial_callee)</td></tr>
<tr class="separator:a251d9b38cd3fe1bd5ec39bf0b1c3b65f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c3a35983760904213206a8f0a7df9c9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#a6c3a35983760904213206a8f0a7df9c9">ast_pbx_outgoing_exten</a> (const char *<a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>, struct <a class="el" href="../../d8/d69/structast__format__cap.html">ast_format_cap</a> *cap, const char *addr, int <a class="el" href="../../d0/d29/cdr__mysql_8c.html#a493b57f443cc38b3d3df9c1e584d9d82">timeout</a>, const char *<a class="el" href="../../da/dde/chan__phone_8c.html#a579ca8125bbf48d9ce8691d522f99933">context</a>, const char *<a class="el" href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>, int <a class="el" href="../../d1/d0c/cel__beanstalkd_8c.html#acec9ce2df15222151ad66fcb1d74eb9f">priority</a>, int *reason, int synchronous, const char *<a class="el" href="../../da/dde/chan__phone_8c.html#a29e973bd94bfbaf59d939bd1bc988c32">cid_num</a>, const char *<a class="el" href="../../da/dde/chan__phone_8c.html#ade5a89f9bee15a492c760ec1765a292d">cid_name</a>, struct <a class="el" href="../../dd/d02/structast__variable.html">ast_variable</a> *vars, const char *account, struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> **locked_channel, int early_media, const struct <a class="el" href="../../da/de5/structast__assigned__ids.html">ast_assigned_ids</a> *assignedids)</td></tr>
<tr class="memdesc:a6c3a35983760904213206a8f0a7df9c9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Synchronously or asynchronously make an outbound call and send it to a particular extension.  <a href="#a6c3a35983760904213206a8f0a7df9c9">More...</a><br /></td></tr>
<tr class="separator:a6c3a35983760904213206a8f0a7df9c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c27e04a09684e80f2a49fc4c4820fd0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#a0c27e04a09684e80f2a49fc4c4820fd0">ast_pbx_outgoing_exten_predial</a> (const char *<a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>, struct <a class="el" href="../../d8/d69/structast__format__cap.html">ast_format_cap</a> *cap, const char *addr, int <a class="el" href="../../d0/d29/cdr__mysql_8c.html#a493b57f443cc38b3d3df9c1e584d9d82">timeout</a>, const char *<a class="el" href="../../da/dde/chan__phone_8c.html#a579ca8125bbf48d9ce8691d522f99933">context</a>, const char *<a class="el" href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>, int <a class="el" href="../../d1/d0c/cel__beanstalkd_8c.html#acec9ce2df15222151ad66fcb1d74eb9f">priority</a>, int *reason, int synchronous, const char *<a class="el" href="../../da/dde/chan__phone_8c.html#a29e973bd94bfbaf59d939bd1bc988c32">cid_num</a>, const char *<a class="el" href="../../da/dde/chan__phone_8c.html#ade5a89f9bee15a492c760ec1765a292d">cid_name</a>, struct <a class="el" href="../../dd/d02/structast__variable.html">ast_variable</a> *vars, const char *account, struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> **locked_channel, int early_media, const struct <a class="el" href="../../da/de5/structast__assigned__ids.html">ast_assigned_ids</a> *assignedids, const char *predial_callee)</td></tr>
<tr class="separator:a0c27e04a09684e80f2a49fc4c4820fd0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44b6406c9220f7f2b610ac712369f405"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="../../db/de0/pbx_8h.html#a0e4eb357d2ef42629fbcf191a473f735">ast_pbx_result</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#a44b6406c9220f7f2b610ac712369f405">ast_pbx_run</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>)</td></tr>
<tr class="memdesc:a44b6406c9220f7f2b610ac712369f405"><td class="mdescLeft">&#160;</td><td class="mdescRight">Execute the PBX in the current thread.  <a href="#a44b6406c9220f7f2b610ac712369f405">More...</a><br /></td></tr>
<tr class="separator:a44b6406c9220f7f2b610ac712369f405"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c502c100b8b4791d9efe395e08d620b"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="../../db/de0/pbx_8h.html#a0e4eb357d2ef42629fbcf191a473f735">ast_pbx_result</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#a2c502c100b8b4791d9efe395e08d620b">ast_pbx_run_args</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>, struct <a class="el" href="../../da/db8/structast__pbx__args.html">ast_pbx_args</a> *<a class="el" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>)</td></tr>
<tr class="memdesc:a2c502c100b8b4791d9efe395e08d620b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Execute the PBX in the current thread.  <a href="#a2c502c100b8b4791d9efe395e08d620b">More...</a><br /></td></tr>
<tr class="separator:a2c502c100b8b4791d9efe395e08d620b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a937fbb3b5f4e68880a9c5714a29ce5"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="../../db/de0/pbx_8h.html#a0e4eb357d2ef42629fbcf191a473f735">ast_pbx_result</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#a9a937fbb3b5f4e68880a9c5714a29ce5">ast_pbx_start</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>)</td></tr>
<tr class="memdesc:a9a937fbb3b5f4e68880a9c5714a29ce5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a new thread and start the PBX.  <a href="#a9a937fbb3b5f4e68880a9c5714a29ce5">More...</a><br /></td></tr>
<tr class="separator:a9a937fbb3b5f4e68880a9c5714a29ce5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6cd4c64e374623ea3393fbc5d580f68e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#a6cd4c64e374623ea3393fbc5d580f68e">ast_processed_calls</a> (void)</td></tr>
<tr class="memdesc:a6cd4c64e374623ea3393fbc5d580f68e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve the total number of calls processed through the PBX since last restart.  <a href="#a6cd4c64e374623ea3393fbc5d580f68e">More...</a><br /></td></tr>
<tr class="separator:a6cd4c64e374623ea3393fbc5d580f68e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1a624244a07626a8f70843005206c95"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#af1a624244a07626a8f70843005206c95">ast_rdlock_context</a> (struct <a class="el" href="../../d6/d7c/structast__context.html">ast_context</a> *con)</td></tr>
<tr class="memdesc:af1a624244a07626a8f70843005206c95"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read locks a given context.  <a href="#af1a624244a07626a8f70843005206c95">More...</a><br /></td></tr>
<tr class="separator:af1a624244a07626a8f70843005206c95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2c309331fff0a086ab8e216f803d546"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#aa2c309331fff0a086ab8e216f803d546">ast_rdlock_contexts</a> (void)</td></tr>
<tr class="memdesc:aa2c309331fff0a086ab8e216f803d546"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read locks the context list.  <a href="#aa2c309331fff0a086ab8e216f803d546">More...</a><br /></td></tr>
<tr class="separator:aa2c309331fff0a086ab8e216f803d546"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5297fa9c52ff50da5b08c7217d9251b4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#a5297fa9c52ff50da5b08c7217d9251b4">ast_register_switch</a> (struct <a class="el" href="../../d9/df6/structast__switch.html">ast_switch</a> *sw)</td></tr>
<tr class="memdesc:a5297fa9c52ff50da5b08c7217d9251b4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register an alternative dialplan switch.  <a href="#a5297fa9c52ff50da5b08c7217d9251b4">More...</a><br /></td></tr>
<tr class="separator:a5297fa9c52ff50da5b08c7217d9251b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94ca71e502d95d1cb0a815072e059aee"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#a94ca71e502d95d1cb0a815072e059aee">ast_spawn_extension</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>, const char *<a class="el" href="../../da/dde/chan__phone_8c.html#a579ca8125bbf48d9ce8691d522f99933">context</a>, const char *<a class="el" href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>, int <a class="el" href="../../d1/d0c/cel__beanstalkd_8c.html#acec9ce2df15222151ad66fcb1d74eb9f">priority</a>, const char *callerid, int *found, int combined_find_spawn)</td></tr>
<tr class="memdesc:a94ca71e502d95d1cb0a815072e059aee"><td class="mdescLeft">&#160;</td><td class="mdescRight">Launch a new extension (i.e. new stack)  <a href="#a94ca71e502d95d1cb0a815072e059aee">More...</a><br /></td></tr>
<tr class="separator:a94ca71e502d95d1cb0a815072e059aee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea38e9b2b0f0aa337444fcc030e12730"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#aea38e9b2b0f0aa337444fcc030e12730">ast_str_get_hint</a> (struct <a class="el" href="../../dd/da2/structast__str.html">ast_str</a> **hint, ssize_t hintsize, struct <a class="el" href="../../dd/da2/structast__str.html">ast_str</a> **<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, ssize_t namesize, struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>, const char *<a class="el" href="../../da/dde/chan__phone_8c.html#a579ca8125bbf48d9ce8691d522f99933">context</a>, const char *<a class="el" href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>)</td></tr>
<tr class="memdesc:aea38e9b2b0f0aa337444fcc030e12730"><td class="mdescLeft">&#160;</td><td class="mdescRight">If an extension hint exists, return non-zero.  <a href="#aea38e9b2b0f0aa337444fcc030e12730">More...</a><br /></td></tr>
<tr class="separator:aea38e9b2b0f0aa337444fcc030e12730"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee0767aa019c9b071f4ed73ffcf499e5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#aee0767aa019c9b071f4ed73ffcf499e5">ast_thread_inhibit_escalations</a> (void)</td></tr>
<tr class="memdesc:aee0767aa019c9b071f4ed73ffcf499e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Inhibit (in the current thread) the execution of dialplan functions which cause privilege escalations. If <a class="el" href="../../db/de0/pbx_8h.html#a123eff9ba5d2f446df2104e76efde9ff" title="Enable/disable the execution of &#39;dangerous&#39; functions from external protocols (AMI, etc.). ">pbx_live_dangerously()</a> has been called, this function has no effect.  <a href="#aee0767aa019c9b071f4ed73ffcf499e5">More...</a><br /></td></tr>
<tr class="separator:aee0767aa019c9b071f4ed73ffcf499e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17db9d0ffeebca9413e2e7dcb2ddd811"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#a17db9d0ffeebca9413e2e7dcb2ddd811">ast_thread_inhibit_escalations_swap</a> (int inhibit)</td></tr>
<tr class="memdesc:a17db9d0ffeebca9413e2e7dcb2ddd811"><td class="mdescLeft">&#160;</td><td class="mdescRight">Swap the current thread escalation inhibit setting.  <a href="#a17db9d0ffeebca9413e2e7dcb2ddd811">More...</a><br /></td></tr>
<tr class="separator:a17db9d0ffeebca9413e2e7dcb2ddd811"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a805796e4728845bff70c4caf5b224308"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#a805796e4728845bff70c4caf5b224308">ast_unlock_context</a> (struct <a class="el" href="../../d6/d7c/structast__context.html">ast_context</a> *con)</td></tr>
<tr class="separator:a805796e4728845bff70c4caf5b224308"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae517a87b356aec60d5de4591ef94581b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#ae517a87b356aec60d5de4591ef94581b">ast_unlock_contexts</a> (void)</td></tr>
<tr class="memdesc:ae517a87b356aec60d5de4591ef94581b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unlocks contexts.  <a href="#ae517a87b356aec60d5de4591ef94581b">More...</a><br /></td></tr>
<tr class="separator:ae517a87b356aec60d5de4591ef94581b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b11d763a689cb0df33a4a16c9d89ef3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#a4b11d763a689cb0df33a4a16c9d89ef3">ast_unregister_switch</a> (struct <a class="el" href="../../d9/df6/structast__switch.html">ast_switch</a> *sw)</td></tr>
<tr class="memdesc:a4b11d763a689cb0df33a4a16c9d89ef3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unregister an alternative switch.  <a href="#a4b11d763a689cb0df33a4a16c9d89ef3">More...</a><br /></td></tr>
<tr class="separator:a4b11d763a689cb0df33a4a16c9d89ef3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c961dcbdcade8fac28960ed67c89bd2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#a2c961dcbdcade8fac28960ed67c89bd2">ast_wrlock_context</a> (struct <a class="el" href="../../d6/d7c/structast__context.html">ast_context</a> *con)</td></tr>
<tr class="memdesc:a2c961dcbdcade8fac28960ed67c89bd2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write locks a given context.  <a href="#a2c961dcbdcade8fac28960ed67c89bd2">More...</a><br /></td></tr>
<tr class="separator:a2c961dcbdcade8fac28960ed67c89bd2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18c87dac5f7f4368c11b67d8026adc22"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#a18c87dac5f7f4368c11b67d8026adc22">ast_wrlock_contexts</a> (void)</td></tr>
<tr class="memdesc:a18c87dac5f7f4368c11b67d8026adc22"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write locks the context list.  <a href="#a18c87dac5f7f4368c11b67d8026adc22">More...</a><br /></td></tr>
<tr class="separator:a18c87dac5f7f4368c11b67d8026adc22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92a606276589c513842f0cd7e455126b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#a92a606276589c513842f0cd7e455126b">pbx_builtin_clear_globals</a> (void)</td></tr>
<tr class="separator:a92a606276589c513842f0cd7e455126b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98c5425b90ec7c5e136a40f529170b1b"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#a98c5425b90ec7c5e136a40f529170b1b">pbx_builtin_getvar_helper</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, const char *<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>)</td></tr>
<tr class="memdesc:a98c5425b90ec7c5e136a40f529170b1b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return a pointer to the value of the corresponding channel variable.  <a href="#a98c5425b90ec7c5e136a40f529170b1b">More...</a><br /></td></tr>
<tr class="separator:a98c5425b90ec7c5e136a40f529170b1b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e00ba1268d8792b95063aeedd9244ea"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#a9e00ba1268d8792b95063aeedd9244ea">pbx_builtin_pushvar_helper</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, const char *<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, const char *<a class="el" href="../../d5/dde/test__func__file_8c.html#a8556878012feffc9e0beb86cd78f424d">value</a>)</td></tr>
<tr class="memdesc:a9e00ba1268d8792b95063aeedd9244ea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a variable to the channel variable stack, without removing any previously set value.  <a href="#a9e00ba1268d8792b95063aeedd9244ea">More...</a><br /></td></tr>
<tr class="separator:a9e00ba1268d8792b95063aeedd9244ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8621d7b5d172efa7f319e9fede9d7984"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#a8621d7b5d172efa7f319e9fede9d7984">pbx_builtin_raise_exception</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, const char *data)</td></tr>
<tr class="separator:a8621d7b5d172efa7f319e9fede9d7984"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a847dc86089ce693d89a534512f16dad1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#a847dc86089ce693d89a534512f16dad1">pbx_builtin_serialize_variables</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, struct <a class="el" href="../../dd/da2/structast__str.html">ast_str</a> **<a class="el" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>)</td></tr>
<tr class="memdesc:a847dc86089ce693d89a534512f16dad1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a human-readable string, specifying all variables and their corresponding values.  <a href="#a847dc86089ce693d89a534512f16dad1">More...</a><br /></td></tr>
<tr class="separator:a847dc86089ce693d89a534512f16dad1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a234508476cdee6fe06921552dfd46e4b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#a234508476cdee6fe06921552dfd46e4b">pbx_builtin_setvar</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, const char *data)</td></tr>
<tr class="memdesc:a234508476cdee6fe06921552dfd46e4b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse and set a single channel variable, where the name and value are separated with an '=' character.  <a href="#a234508476cdee6fe06921552dfd46e4b">More...</a><br /></td></tr>
<tr class="separator:a234508476cdee6fe06921552dfd46e4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e5b90edb84d216267148dddcffe9b9a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, const char *<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, const char *<a class="el" href="../../d5/dde/test__func__file_8c.html#a8556878012feffc9e0beb86cd78f424d">value</a>)</td></tr>
<tr class="memdesc:a6e5b90edb84d216267148dddcffe9b9a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a variable to the channel variable stack, removing the most recently set value for the same name.  <a href="#a6e5b90edb84d216267148dddcffe9b9a">More...</a><br /></td></tr>
<tr class="separator:a6e5b90edb84d216267148dddcffe9b9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7527f4b7b64622b458a3999ba51af07e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#a7527f4b7b64622b458a3999ba51af07e">pbx_builtin_setvar_multiple</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, const char *data)</td></tr>
<tr class="memdesc:a7527f4b7b64622b458a3999ba51af07e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse and set multiple channel variables, where the pairs are separated by the ',' character, and name and value are separated with an '=' character.  <a href="#a7527f4b7b64622b458a3999ba51af07e">More...</a><br /></td></tr>
<tr class="separator:a7527f4b7b64622b458a3999ba51af07e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8447d16749d15c783e1dff4d8f8e495"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#ac8447d16749d15c783e1dff4d8f8e495">pbx_checkcondition</a> (const char *condition)</td></tr>
<tr class="memdesc:ac8447d16749d15c783e1dff4d8f8e495"><td class="mdescLeft">&#160;</td><td class="mdescRight">Evaluate a condition.  <a href="#ac8447d16749d15c783e1dff4d8f8e495">More...</a><br /></td></tr>
<tr class="separator:ac8447d16749d15c783e1dff4d8f8e495"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e3dbc57c03c23543354ef108c31fac8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#a6e3dbc57c03c23543354ef108c31fac8">pbx_exec</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>, struct <a class="el" href="../../d0/da3/structast__app.html">ast_app</a> *<a class="el" href="../../dd/de9/res__agi_8c.html#a9e5f57131367eff409b9e0bd7b31aa1a">app</a>, const char *data)</td></tr>
<tr class="memdesc:a6e3dbc57c03c23543354ef108c31fac8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Execute an application.  <a href="#a6e3dbc57c03c23543354ef108c31fac8">More...</a><br /></td></tr>
<tr class="separator:a6e3dbc57c03c23543354ef108c31fac8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae12539be833fc552d4556c886605f17f"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d7/d00/structast__exten.html">ast_exten</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#ae12539be833fc552d4556c886605f17f">pbx_find_extension</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, struct <a class="el" href="../../d6/d7c/structast__context.html">ast_context</a> *bypass, struct <a class="el" href="../../db/d81/structpbx__find__info.html">pbx_find_info</a> *q, const char *<a class="el" href="../../da/dde/chan__phone_8c.html#a579ca8125bbf48d9ce8691d522f99933">context</a>, const char *<a class="el" href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>, int <a class="el" href="../../d1/d0c/cel__beanstalkd_8c.html#acec9ce2df15222151ad66fcb1d74eb9f">priority</a>, const char *label, const char *callerid, enum <a class="el" href="../../dd/ddb/extconf_8h.html#a2b7f0fafc6995b2630658a4fd8df26be">ext_match_t</a> action)</td></tr>
<tr class="separator:ae12539be833fc552d4556c886605f17f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4a6912dcd2ad44a186d0a284afafc51"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d0/da3/structast__app.html">ast_app</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#ad4a6912dcd2ad44a186d0a284afafc51">pbx_findapp</a> (const char *<a class="el" href="../../dd/de9/res__agi_8c.html#a9e5f57131367eff409b9e0bd7b31aa1a">app</a>)</td></tr>
<tr class="memdesc:ad4a6912dcd2ad44a186d0a284afafc51"><td class="mdescLeft">&#160;</td><td class="mdescRight">Look up an application.  <a href="#ad4a6912dcd2ad44a186d0a284afafc51">More...</a><br /></td></tr>
<tr class="separator:ad4a6912dcd2ad44a186d0a284afafc51"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a123eff9ba5d2f446df2104e76efde9ff"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#a123eff9ba5d2f446df2104e76efde9ff">pbx_live_dangerously</a> (int new_live_dangerously)</td></tr>
<tr class="memdesc:a123eff9ba5d2f446df2104e76efde9ff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enable/disable the execution of 'dangerous' functions from external protocols (AMI, etc.).  <a href="#a123eff9ba5d2f446df2104e76efde9ff">More...</a><br /></td></tr>
<tr class="separator:a123eff9ba5d2f446df2104e76efde9ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf906a18ba2dcd53c35f59869757521f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#aaf906a18ba2dcd53c35f59869757521f">pbx_retrieve_variable</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>, const char *<a class="el" href="../../dc/df2/ast__expr2f_8c.html#a1b0936415a643c88ce543099c10e0d7f">var</a>, char **ret, char *workspace, int workspacelen, struct <a class="el" href="../../dd/de6/structvarshead.html">varshead</a> *headp)</td></tr>
<tr class="memdesc:aaf906a18ba2dcd53c35f59869757521f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve the value of a builtin variable or variable from the channel variable stack.  <a href="#aaf906a18ba2dcd53c35f59869757521f">More...</a><br /></td></tr>
<tr class="separator:aaf906a18ba2dcd53c35f59869757521f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb0407c693573096981db1a00fab4eb8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#aeb0407c693573096981db1a00fab4eb8">pbx_set_autofallthrough</a> (int newval)</td></tr>
<tr class="separator:aeb0407c693573096981db1a00fab4eb8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86a7469073a22661d4db7086245c5b18"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#a86a7469073a22661d4db7086245c5b18">pbx_set_extenpatternmatchnew</a> (int newval)</td></tr>
<tr class="separator:a86a7469073a22661d4db7086245c5b18"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a46e2644221be6cb7ca7ba2723006cd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#a7a46e2644221be6cb7ca7ba2723006cd">pbx_set_overrideswitch</a> (const char *newval)</td></tr>
<tr class="separator:a7a46e2644221be6cb7ca7ba2723006cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader"></div></td></tr>
<tr class="memitem:a721c6ba091102f155a586e09b2a526bf"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#a721c6ba091102f155a586e09b2a526bf">ast_context_remove_extension</a> (const char *<a class="el" href="../../da/dde/chan__phone_8c.html#a579ca8125bbf48d9ce8691d522f99933">context</a>, const char *<a class="el" href="../../d0/d5a/structextension.html">extension</a>, int <a class="el" href="../../d1/d0c/cel__beanstalkd_8c.html#acec9ce2df15222151ad66fcb1d74eb9f">priority</a>, const char *<a class="el" href="../../d0/d85/pval_8c.html#ab990a3529ebde2681a00468cad7c0b48">registrar</a>)</td></tr>
<tr class="memdesc:a721c6ba091102f155a586e09b2a526bf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Simply remove extension from context.  <a href="#a721c6ba091102f155a586e09b2a526bf">More...</a><br /></td></tr>
<tr class="separator:a721c6ba091102f155a586e09b2a526bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25dad382feec89a9bbc6c5284bb30e25"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#a25dad382feec89a9bbc6c5284bb30e25">ast_context_remove_extension2</a> (struct <a class="el" href="../../d6/d7c/structast__context.html">ast_context</a> *con, const char *<a class="el" href="../../d0/d5a/structextension.html">extension</a>, int <a class="el" href="../../d1/d0c/cel__beanstalkd_8c.html#acec9ce2df15222151ad66fcb1d74eb9f">priority</a>, const char *<a class="el" href="../../d0/d85/pval_8c.html#ab990a3529ebde2681a00468cad7c0b48">registrar</a>, int already_locked)</td></tr>
<tr class="memdesc:a25dad382feec89a9bbc6c5284bb30e25"><td class="mdescLeft">&#160;</td><td class="mdescRight">This functionc locks given context, search for the right extension and fires out all peer in this extensions with given priority. If priority is set to 0, all peers are removed. After that, unlock context and return.  <a href="#a25dad382feec89a9bbc6c5284bb30e25">More...</a><br /></td></tr>
<tr class="separator:a25dad382feec89a9bbc6c5284bb30e25"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85ffdbb47cc54f8d125b4276d6bd3170"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#a85ffdbb47cc54f8d125b4276d6bd3170">ast_context_remove_extension_callerid</a> (const char *<a class="el" href="../../da/dde/chan__phone_8c.html#a579ca8125bbf48d9ce8691d522f99933">context</a>, const char *<a class="el" href="../../d0/d5a/structextension.html">extension</a>, int <a class="el" href="../../d1/d0c/cel__beanstalkd_8c.html#acec9ce2df15222151ad66fcb1d74eb9f">priority</a>, const char *callerid, int <a class="el" href="../../d4/dc5/extconf_8c.html#aa387123ad981d4889f47275234042a2e">matchcid</a>, const char *<a class="el" href="../../d0/d85/pval_8c.html#ab990a3529ebde2681a00468cad7c0b48">registrar</a>)</td></tr>
<tr class="separator:a85ffdbb47cc54f8d125b4276d6bd3170"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb8840d8ea2dd143fa4f606d048ad6b7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#abb8840d8ea2dd143fa4f606d048ad6b7">ast_context_remove_extension_callerid2</a> (struct <a class="el" href="../../d6/d7c/structast__context.html">ast_context</a> *con, const char *<a class="el" href="../../d0/d5a/structextension.html">extension</a>, int <a class="el" href="../../d1/d0c/cel__beanstalkd_8c.html#acec9ce2df15222151ad66fcb1d74eb9f">priority</a>, const char *callerid, int <a class="el" href="../../d4/dc5/extconf_8c.html#aa387123ad981d4889f47275234042a2e">matchcid</a>, const char *<a class="el" href="../../d0/d85/pval_8c.html#ab990a3529ebde2681a00468cad7c0b48">registrar</a>, int already_locked)</td></tr>
<tr class="separator:abb8840d8ea2dd143fa4f606d048ad6b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader"></div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>Functions for returning values from structures </p>
</div></td></tr>
<tr class="memitem:a8a3d015c3048804b0c2a37413a14f11e"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#a8a3d015c3048804b0c2a37413a14f11e">ast_get_context_name</a> (struct <a class="el" href="../../d6/d7c/structast__context.html">ast_context</a> *con)</td></tr>
<tr class="separator:a8a3d015c3048804b0c2a37413a14f11e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6fb940c1fd9c74b9d573e0a91bb23697"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#a6fb940c1fd9c74b9d573e0a91bb23697">ast_get_extension_name</a> (struct <a class="el" href="../../d7/d00/structast__exten.html">ast_exten</a> *<a class="el" href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>)</td></tr>
<tr class="separator:a6fb940c1fd9c74b9d573e0a91bb23697"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65bb6651308bdad136b637965835cb82"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d6/d7c/structast__context.html">ast_context</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#a65bb6651308bdad136b637965835cb82">ast_get_extension_context</a> (struct <a class="el" href="../../d7/d00/structast__exten.html">ast_exten</a> *<a class="el" href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>)</td></tr>
<tr class="separator:a65bb6651308bdad136b637965835cb82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1cf62f8cc1e47da88dae67f4ee623684"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#a1cf62f8cc1e47da88dae67f4ee623684">ast_get_include_name</a> (const struct <a class="el" href="../../d5/db2/structast__include.html">ast_include</a> *include)</td></tr>
<tr class="separator:a1cf62f8cc1e47da88dae67f4ee623684"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad40e50eea098e5c16ef7dd3ffbff1bba"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#ad40e50eea098e5c16ef7dd3ffbff1bba">ast_get_ignorepat_name</a> (const struct <a class="el" href="../../d0/d11/structast__ignorepat.html">ast_ignorepat</a> *ip)</td></tr>
<tr class="separator:ad40e50eea098e5c16ef7dd3ffbff1bba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0ebd34e8d1605aa4b6e3fadea6adfb5"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#aa0ebd34e8d1605aa4b6e3fadea6adfb5">ast_get_switch_name</a> (const struct <a class="el" href="../../d3/def/structast__sw.html">ast_sw</a> *sw)</td></tr>
<tr class="separator:aa0ebd34e8d1605aa4b6e3fadea6adfb5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4f9fd5bd7afc28347c808ea295233e8"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#ad4f9fd5bd7afc28347c808ea295233e8">ast_get_switch_data</a> (const struct <a class="el" href="../../d3/def/structast__sw.html">ast_sw</a> *sw)</td></tr>
<tr class="separator:ad4f9fd5bd7afc28347c808ea295233e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae87c469f677f728e1f1337abb3f22ada"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#ae87c469f677f728e1f1337abb3f22ada">ast_get_switch_eval</a> (const struct <a class="el" href="../../d3/def/structast__sw.html">ast_sw</a> *sw)</td></tr>
<tr class="separator:ae87c469f677f728e1f1337abb3f22ada"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Other Extension stuff</div></td></tr>
<tr class="memitem:a1662981db35d4125afaf6de98b2ba52f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#a1662981db35d4125afaf6de98b2ba52f">ast_get_extension_priority</a> (struct <a class="el" href="../../d7/d00/structast__exten.html">ast_exten</a> *<a class="el" href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>)</td></tr>
<tr class="separator:a1662981db35d4125afaf6de98b2ba52f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26c679c70c1a8dd0968579be0c1755ab"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#a26c679c70c1a8dd0968579be0c1755ab">ast_get_extension_matchcid</a> (struct <a class="el" href="../../d7/d00/structast__exten.html">ast_exten</a> *e)</td></tr>
<tr class="separator:a26c679c70c1a8dd0968579be0c1755ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee004b6fcfccea3fa6acf9b7264f42c9"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#aee004b6fcfccea3fa6acf9b7264f42c9">ast_get_extension_cidmatch</a> (struct <a class="el" href="../../d7/d00/structast__exten.html">ast_exten</a> *e)</td></tr>
<tr class="separator:aee004b6fcfccea3fa6acf9b7264f42c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6594bb017b4d4fe1bc42370cc32ec974"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#a6594bb017b4d4fe1bc42370cc32ec974">ast_get_extension_app</a> (struct <a class="el" href="../../d7/d00/structast__exten.html">ast_exten</a> *e)</td></tr>
<tr class="separator:a6594bb017b4d4fe1bc42370cc32ec974"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a266960fe6aa4db1066ed0b012fb7eb62"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#a266960fe6aa4db1066ed0b012fb7eb62">ast_get_extension_label</a> (struct <a class="el" href="../../d7/d00/structast__exten.html">ast_exten</a> *e)</td></tr>
<tr class="separator:a266960fe6aa4db1066ed0b012fb7eb62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0a6c0c39796f36864868365d8989f02"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#ac0a6c0c39796f36864868365d8989f02">ast_get_extension_app_data</a> (struct <a class="el" href="../../d7/d00/structast__exten.html">ast_exten</a> *e)</td></tr>
<tr class="separator:ac0a6c0c39796f36864868365d8989f02"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Registrar info functions ...</div></td></tr>
<tr class="memitem:a9df0a5d301454fe924172cf89c7165a4"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#a9df0a5d301454fe924172cf89c7165a4">ast_get_context_registrar</a> (struct <a class="el" href="../../d6/d7c/structast__context.html">ast_context</a> *<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>)</td></tr>
<tr class="separator:a9df0a5d301454fe924172cf89c7165a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f23f7c798d61e68c32b21d3e0cd15a2"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#a7f23f7c798d61e68c32b21d3e0cd15a2">ast_get_extension_registrar</a> (struct <a class="el" href="../../d7/d00/structast__exten.html">ast_exten</a> *e)</td></tr>
<tr class="separator:a7f23f7c798d61e68c32b21d3e0cd15a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2bf7469cd4b7de5d4de43d58aeff46c5"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#a2bf7469cd4b7de5d4de43d58aeff46c5">ast_get_include_registrar</a> (const struct <a class="el" href="../../d5/db2/structast__include.html">ast_include</a> *i)</td></tr>
<tr class="separator:a2bf7469cd4b7de5d4de43d58aeff46c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a6feb7cd8e08f18c9d0f4887d7f3d47"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#a8a6feb7cd8e08f18c9d0f4887d7f3d47">ast_get_ignorepat_registrar</a> (const struct <a class="el" href="../../d0/d11/structast__ignorepat.html">ast_ignorepat</a> *ip)</td></tr>
<tr class="separator:a8a6feb7cd8e08f18c9d0f4887d7f3d47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d45d3b9bc79bf6ffb1540f3e815f677"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#a3d45d3b9bc79bf6ffb1540f3e815f677">ast_get_switch_registrar</a> (const struct <a class="el" href="../../d3/def/structast__sw.html">ast_sw</a> *sw)</td></tr>
<tr class="separator:a3d45d3b9bc79bf6ffb1540f3e815f677"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Walking functions ...</div></td></tr>
<tr class="memitem:a15961c7507a97d62c0a07c3c01bdc369"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d6/d7c/structast__context.html">ast_context</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#a15961c7507a97d62c0a07c3c01bdc369">ast_walk_contexts</a> (struct <a class="el" href="../../d6/d7c/structast__context.html">ast_context</a> *con)</td></tr>
<tr class="separator:a15961c7507a97d62c0a07c3c01bdc369"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb024cdd19b5c3bab7734c9708f121b8"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d7/d00/structast__exten.html">ast_exten</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#abb024cdd19b5c3bab7734c9708f121b8">ast_walk_context_extensions</a> (struct <a class="el" href="../../d6/d7c/structast__context.html">ast_context</a> *con, struct <a class="el" href="../../d7/d00/structast__exten.html">ast_exten</a> *<a class="el" href="../../d1/d0c/cel__beanstalkd_8c.html#acec9ce2df15222151ad66fcb1d74eb9f">priority</a>)</td></tr>
<tr class="separator:abb024cdd19b5c3bab7734c9708f121b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84c0f2d77948217566a9fd4775879f84"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d7/d00/structast__exten.html">ast_exten</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#a84c0f2d77948217566a9fd4775879f84">ast_walk_extension_priorities</a> (struct <a class="el" href="../../d7/d00/structast__exten.html">ast_exten</a> *<a class="el" href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>, struct <a class="el" href="../../d7/d00/structast__exten.html">ast_exten</a> *<a class="el" href="../../d1/d0c/cel__beanstalkd_8c.html#acec9ce2df15222151ad66fcb1d74eb9f">priority</a>)</td></tr>
<tr class="separator:a84c0f2d77948217566a9fd4775879f84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2794843cdf646ea71516194894186af5"><td class="memItemLeft" align="right" valign="top">const struct <a class="el" href="../../d5/db2/structast__include.html">ast_include</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#a2794843cdf646ea71516194894186af5">ast_walk_context_includes</a> (const struct <a class="el" href="../../d6/d7c/structast__context.html">ast_context</a> *con, const struct <a class="el" href="../../d5/db2/structast__include.html">ast_include</a> *inc)</td></tr>
<tr class="separator:a2794843cdf646ea71516194894186af5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aecb1e70dc11a9dc333fcd1e74587a524"><td class="memItemLeft" align="right" valign="top">const struct <a class="el" href="../../d0/d11/structast__ignorepat.html">ast_ignorepat</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#aecb1e70dc11a9dc333fcd1e74587a524">ast_walk_context_ignorepats</a> (const struct <a class="el" href="../../d6/d7c/structast__context.html">ast_context</a> *con, const struct <a class="el" href="../../d0/d11/structast__ignorepat.html">ast_ignorepat</a> *ip)</td></tr>
<tr class="separator:aecb1e70dc11a9dc333fcd1e74587a524"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae726f7ec847da671c6d1ffc84240101f"><td class="memItemLeft" align="right" valign="top">const struct <a class="el" href="../../d3/def/structast__sw.html">ast_sw</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#ae726f7ec847da671c6d1ffc84240101f">ast_walk_context_switches</a> (const struct <a class="el" href="../../d6/d7c/structast__context.html">ast_context</a> *con, const struct <a class="el" href="../../d3/def/structast__sw.html">ast_sw</a> *sw)</td></tr>
<tr class="separator:ae726f7ec847da671c6d1ffc84240101f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Iterator functions ...</div></td></tr>
<tr class="memitem:aec2e421fa0b10e14812d52c30ec7e744"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#aec2e421fa0b10e14812d52c30ec7e744">ast_context_includes_count</a> (const struct <a class="el" href="../../d6/d7c/structast__context.html">ast_context</a> *con)</td></tr>
<tr class="separator:aec2e421fa0b10e14812d52c30ec7e744"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb93dec0c216cb07939fd15949baff2f"><td class="memItemLeft" align="right" valign="top">const struct <a class="el" href="../../d5/db2/structast__include.html">ast_include</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#afb93dec0c216cb07939fd15949baff2f">ast_context_includes_get</a> (const struct <a class="el" href="../../d6/d7c/structast__context.html">ast_context</a> *con, int idx)</td></tr>
<tr class="separator:afb93dec0c216cb07939fd15949baff2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa780584a8327cbe41d566b91e119eb97"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#aa780584a8327cbe41d566b91e119eb97">ast_context_ignorepats_count</a> (const struct <a class="el" href="../../d6/d7c/structast__context.html">ast_context</a> *con)</td></tr>
<tr class="separator:aa780584a8327cbe41d566b91e119eb97"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6fee17b9633bb84f0fce209d5d42fb0a"><td class="memItemLeft" align="right" valign="top">const struct <a class="el" href="../../d0/d11/structast__ignorepat.html">ast_ignorepat</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#a6fee17b9633bb84f0fce209d5d42fb0a">ast_context_ignorepats_get</a> (const struct <a class="el" href="../../d6/d7c/structast__context.html">ast_context</a> *con, int idx)</td></tr>
<tr class="separator:a6fee17b9633bb84f0fce209d5d42fb0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8d2df08197cbd68d61419e6968baf27"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#ae8d2df08197cbd68d61419e6968baf27">ast_context_switches_count</a> (const struct <a class="el" href="../../d6/d7c/structast__context.html">ast_context</a> *con)</td></tr>
<tr class="separator:ae8d2df08197cbd68d61419e6968baf27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0161005b7a19bc949f2c8ebbf36a46eb"><td class="memItemLeft" align="right" valign="top">const struct <a class="el" href="../../d3/def/structast__sw.html">ast_sw</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#a0161005b7a19bc949f2c8ebbf36a46eb">ast_context_switches_get</a> (const struct <a class="el" href="../../d6/d7c/structast__context.html">ast_context</a> *con, int idx)</td></tr>
<tr class="separator:a0161005b7a19bc949f2c8ebbf36a46eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Substitution routines, using static string buffers</div></td></tr>
<tr class="memitem:af5a13a9ab5aac5bb61e4f98ae7e8d296"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#af5a13a9ab5aac5bb61e4f98ae7e8d296">pbx_substitute_variables_helper</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>, const char *cp1, char *cp2, int count)</td></tr>
<tr class="separator:af5a13a9ab5aac5bb61e4f98ae7e8d296"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b3355625306d4b98ca8047cd2245459"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#a2b3355625306d4b98ca8047cd2245459">pbx_substitute_variables_varshead</a> (struct <a class="el" href="../../dd/de6/structvarshead.html">varshead</a> *headp, const char *cp1, char *cp2, int count)</td></tr>
<tr class="separator:a2b3355625306d4b98ca8047cd2245459"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4019ca376e3f30f3cd342e29d3145742"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#a4019ca376e3f30f3cd342e29d3145742">pbx_substitute_variables_helper_full</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>, struct <a class="el" href="../../dd/de6/structvarshead.html">varshead</a> *headp, const char *cp1, char *cp2, int cp2_size, size_t *used)</td></tr>
<tr class="separator:a4019ca376e3f30f3cd342e29d3145742"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Substitution routines, using dynamic string buffers</div></td></tr>
<tr class="memitem:a2ddba5e9da6f9b512561b7fe4c15c5d2"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#a2ddba5e9da6f9b512561b7fe4c15c5d2">ast_str_retrieve_variable</a> (struct <a class="el" href="../../dd/da2/structast__str.html">ast_str</a> **<a class="el" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, ssize_t maxlen, struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, struct <a class="el" href="../../dd/de6/structvarshead.html">varshead</a> *headp, const char *<a class="el" href="../../dc/df2/ast__expr2f_8c.html#a1b0936415a643c88ce543099c10e0d7f">var</a>)</td></tr>
<tr class="separator:a2ddba5e9da6f9b512561b7fe4c15c5d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a556749361c7b9109134c8d00ab4ef6bf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#a556749361c7b9109134c8d00ab4ef6bf">ast_str_substitute_variables</a> (struct <a class="el" href="../../dd/da2/structast__str.html">ast_str</a> **<a class="el" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, ssize_t maxlen, struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, const char *templ)</td></tr>
<tr class="separator:a556749361c7b9109134c8d00ab4ef6bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80b0feaeb3c78569effccc3ea47b3d68"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#a80b0feaeb3c78569effccc3ea47b3d68">ast_str_substitute_variables_varshead</a> (struct <a class="el" href="../../dd/da2/structast__str.html">ast_str</a> **<a class="el" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, ssize_t maxlen, struct <a class="el" href="../../dd/de6/structvarshead.html">varshead</a> *headp, const char *templ)</td></tr>
<tr class="separator:a80b0feaeb3c78569effccc3ea47b3d68"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8dabe2c61eaa45af79ad2d40182e60bd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#a8dabe2c61eaa45af79ad2d40182e60bd">ast_str_substitute_variables_full</a> (struct <a class="el" href="../../dd/da2/structast__str.html">ast_str</a> **<a class="el" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, ssize_t maxlen, struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>, struct <a class="el" href="../../dd/de6/structvarshead.html">varshead</a> *headp, const char *templ, size_t *used)</td></tr>
<tr class="separator:a8dabe2c61eaa45af79ad2d40182e60bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader"></div></td></tr>
<tr class="memitem:a20a2f5668173430437db02cdd0acc9f3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#a20a2f5668173430437db02cdd0acc9f3">ast_hashtab_compare_contexts</a> (const void *ah_a, const void *ah_b)</td></tr>
<tr class="memdesc:a20a2f5668173430437db02cdd0acc9f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">hashtable functions for contexts  <a href="#a20a2f5668173430437db02cdd0acc9f3">More...</a><br /></td></tr>
<tr class="separator:a20a2f5668173430437db02cdd0acc9f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56461864a4e21b14e753b78f9ac7afb7"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/de0/pbx_8h.html#a56461864a4e21b14e753b78f9ac7afb7">ast_hashtab_hash_contexts</a> (const void *obj)</td></tr>
<tr class="separator:a56461864a4e21b14e753b78f9ac7afb7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Core PBX routines and definitions. </p>

<p class="definition">Definition in file <a class="el" href="../../db/de0/pbx_8h_source.html">pbx.h</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a8af0e93442a9e468425f63cc52b0ac7b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8af0e93442a9e468425f63cc52b0ac7b">&#9670;&nbsp;</a></span>ast_custom_function_register</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ast_custom_function_register</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">acf</td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="../../db/d70/pbx__functions_8c.html#aad8771c7e3b2170a749946f1a8b758aa">__ast_custom_function_register</a>(acf, AST_MODULE_SELF)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register a custom function. </p>

<p class="definition">Definition at line <a class="el" href="../../db/de0/pbx_8h_source.html#l01508">1508</a> of file <a class="el" href="../../db/de0/pbx_8h_source.html">pbx.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/d11/app__agent__pool_8c_source.html#l02656">load_module()</a>, <a class="el" href="../../d1/db7/parking__bridge__features_8c_source.html#l00802">load_parking_bridge_features()</a>, and <a class="el" href="../../dc/d1d/func__odbc_8c_source.html#l01897">reload()</a>.</p>

</div>
</div>
<a id="a82a6116c57689246592c0707b8eec102"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a82a6116c57689246592c0707b8eec102">&#9670;&nbsp;</a></span>ast_custom_function_register_escalating</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ast_custom_function_register_escalating</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">acf, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">escalation&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;<a class="el" href="../../db/d70/pbx__functions_8c.html#a1efedf39c73e1a63d4a73a3c998694c2">__ast_custom_function_register_escalating</a>(acf, escalation, AST_MODULE_SELF)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register a custom function which requires escalated privileges. </p>
<p>Examples would be SHELL() (for which a read needs permission to execute arbitrary code) or FILE() (for which write needs permission to change files on the filesystem). </p>

<p class="definition">Definition at line <a class="el" href="../../db/de0/pbx_8h_source.html#l01517">1517</a> of file <a class="el" href="../../db/de0/pbx_8h_source.html">pbx.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/dcf/app__confbridge_8c_source.html#l04439">load_module()</a>.</p>

</div>
</div>
<a id="a3414b82af9b33fe907c9377c5c73c453"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3414b82af9b33fe907c9377c5c73c453">&#9670;&nbsp;</a></span>AST_MAX_APP</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AST_MAX_APP&#160;&#160;&#160;32</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Max length of an application </p>

<p class="definition">Definition at line <a class="el" href="../../db/de0/pbx_8h_source.html#l00040">40</a> of file <a class="el" href="../../db/de0/pbx_8h_source.html">pbx.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d70/pbx__functions_8c_source.html#l00143">handle_show_function()</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l07646">sla_build_station()</a>, and <a class="el" href="../../df/d44/app__meetme_8c_source.html#l07380">sla_station_destructor()</a>.</p>

</div>
</div>
<a id="aabc320b5f03ccc254bde047d2e2ec0e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aabc320b5f03ccc254bde047d2e2ec0e0">&#9670;&nbsp;</a></span>AST_PBX_ERROR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AST_PBX_ERROR&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Jump to the 'e' exten </p>

<p class="definition">Definition at line <a class="el" href="../../db/de0/pbx_8h_source.html#l00050">50</a> of file <a class="el" href="../../db/de0/pbx_8h_source.html">pbx.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d94/pbx_8c_source.html#l04310">__ast_pbx_run()</a>.</p>

</div>
</div>
<a id="ad37eeb72ede49f9a670eb6bf3e1755cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad37eeb72ede49f9a670eb6bf3e1755cb">&#9670;&nbsp;</a></span>AST_PBX_GOTO_FAILED</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AST_PBX_GOTO_FAILED&#160;&#160;&#160;-3</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/de0/pbx_8h_source.html#l00042">42</a> of file <a class="el" href="../../db/de0/pbx_8h_source.html">pbx.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d94/pbx_8c_source.html#l08772">__ast_goto_if_exists()</a>.</p>

</div>
</div>
<a id="a3dde03e263918d8ba87126173deda611"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3dde03e263918d8ba87126173deda611">&#9670;&nbsp;</a></span>AST_PBX_HANGUP</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AST_PBX_HANGUP&#160;&#160;&#160;-1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Special return values from applications to the PBX. </p>
<p>Jump to the 'h' exten </p>

<p class="definition">Definition at line <a class="el" href="../../db/de0/pbx_8h_source.html#l00048">48</a> of file <a class="el" href="../../db/de0/pbx_8h_source.html">pbx.h</a>.</p>

</div>
</div>
<a id="a653bef57d41c00d6b1f79c94fe19ec7b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a653bef57d41c00d6b1f79c94fe19ec7b">&#9670;&nbsp;</a></span>AST_PBX_INCOMPLETE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AST_PBX_INCOMPLETE&#160;&#160;&#160;12</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return to PBX matching, allowing more digits for the extension </p>

<p class="definition">Definition at line <a class="el" href="../../db/de0/pbx_8h_source.html#l00051">51</a> of file <a class="el" href="../../db/de0/pbx_8h_source.html">pbx.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d94/pbx_8c_source.html#l04310">__ast_pbx_run()</a>, <a class="el" href="../../d9/d12/app__dial_8c_source.html#l02254">dial_exec_full()</a>, <a class="el" href="../../df/d1d/pbx__builtins_8c_source.html#l00806">pbx_builtin_incomplete()</a>, and <a class="el" href="../../d9/d12/app__dial_8c_source.html#l03434">retrydial_exec()</a>.</p>

</div>
</div>
<a id="a7b423f7cbc393639fde9085830313f03"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b423f7cbc393639fde9085830313f03">&#9670;&nbsp;</a></span>AST_PBX_KEEP</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AST_PBX_KEEP&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/de0/pbx_8h_source.html#l00043">43</a> of file <a class="el" href="../../db/de0/pbx_8h_source.html">pbx.h</a>.</p>

</div>
</div>
<a id="a05848c0de74d85dc2fb259f332d33f25"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a05848c0de74d85dc2fb259f332d33f25">&#9670;&nbsp;</a></span>AST_PBX_MAX_STACK</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AST_PBX_MAX_STACK&#160;&#160;&#160;512</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/de0/pbx_8h_source.html#l01613">1613</a> of file <a class="el" href="../../db/de0/pbx_8h_source.html">pbx.h</a>.</p>

</div>
</div>
<a id="ad45f3e76d15c861a07dd65d6c3784018"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad45f3e76d15c861a07dd65d6c3784018">&#9670;&nbsp;</a></span>AST_PBX_OK</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AST_PBX_OK&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>No errors </p>

<p class="definition">Definition at line <a class="el" href="../../db/de0/pbx_8h_source.html#l00049">49</a> of file <a class="el" href="../../db/de0/pbx_8h_source.html">pbx.h</a>.</p>

</div>
</div>
<a id="aed4e41b2b2c49b629e2eef07c702c2c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aed4e41b2b2c49b629e2eef07c702c2c4">&#9670;&nbsp;</a></span>AST_PBX_REPLACE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AST_PBX_REPLACE&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/de0/pbx_8h_source.html#l00044">44</a> of file <a class="el" href="../../db/de0/pbx_8h_source.html">pbx.h</a>.</p>

</div>
</div>
<a id="ad2e753a683024fad0b34ece3b1aef83a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad2e753a683024fad0b34ece3b1aef83a">&#9670;&nbsp;</a></span>PRIORITY_HINT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PRIORITY_HINT&#160;&#160;&#160;-1</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Special Priority for a hint </p>

<p class="definition">Definition at line <a class="el" href="../../db/de0/pbx_8h_source.html#l00054">54</a> of file <a class="el" href="../../db/de0/pbx_8h_source.html">pbx.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/d85/pval_8c_source.html#l04213">add_extensions()</a>, <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00484">add_hints()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l07109">add_priority()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l07325">ast_add_extension2_lockopt()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l02991">ast_hint_extension_nolock()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l06468">ast_merge_contexts_and_delete()</a>, <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00407">delete_extens()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l04678">destroy_exten()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l03584">device_state_cb()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l01063">handle_cli_dialplan_add_extension()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00415">handle_cli_dialplan_remove_extension()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00809">handle_cli_dialplan_save()</a>, <a class="el" href="../../d6/dde/pbx__lua_8c_source.html#l00987">lua_register_hints()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l01195">manager_dialplan_extension_add()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00502">manager_dialplan_extension_remove()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l05864">manager_show_dialplan_helper()</a>, <a class="el" href="../../d2/d3d/res__pjsip__exten__state_8c_source.html#l00412">new_subscribe()</a>, <a class="el" href="../../d7/d45/res__parking_8c_source.html#l00758">parking_lot_cfg_create_extensions()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l01674">pbx_load_config()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l05487">print_ext()</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l07646">sla_build_station()</a>, and <a class="el" href="../../df/d44/app__meetme_8c_source.html#l07380">sla_station_destructor()</a>.</p>

</div>
</div>
<a id="aa2d7a93c24186594d8c09e904fa17132"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa2d7a93c24186594d8c09e904fa17132">&#9670;&nbsp;</a></span>STATUS_NO_CONTEXT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define STATUS_NO_CONTEXT&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/de0/pbx_8h_source.html#l01604">1604</a> of file <a class="el" href="../../db/de0/pbx_8h_source.html">pbx.h</a>.</p>

</div>
</div>
<a id="a53e8d9faad7e0156772e9559df5f8c2e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a53e8d9faad7e0156772e9559df5f8c2e">&#9670;&nbsp;</a></span>STATUS_NO_EXTENSION</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define STATUS_NO_EXTENSION&#160;&#160;&#160;2</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/de0/pbx_8h_source.html#l01605">1605</a> of file <a class="el" href="../../db/de0/pbx_8h_source.html">pbx.h</a>.</p>

</div>
</div>
<a id="a5062f2413e9425755149f855577b602f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5062f2413e9425755149f855577b602f">&#9670;&nbsp;</a></span>STATUS_NO_LABEL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define STATUS_NO_LABEL&#160;&#160;&#160;4</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/de0/pbx_8h_source.html#l01607">1607</a> of file <a class="el" href="../../db/de0/pbx_8h_source.html">pbx.h</a>.</p>

</div>
</div>
<a id="ab6422b4f1e9de4cb16307bd081b8706b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab6422b4f1e9de4cb16307bd081b8706b">&#9670;&nbsp;</a></span>STATUS_NO_PRIORITY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define STATUS_NO_PRIORITY&#160;&#160;&#160;3</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/de0/pbx_8h_source.html#l01606">1606</a> of file <a class="el" href="../../db/de0/pbx_8h_source.html">pbx.h</a>.</p>

</div>
</div>
<a id="ae56fdb340b23940f7a64ed2e37c1774a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae56fdb340b23940f7a64ed2e37c1774a">&#9670;&nbsp;</a></span>STATUS_SUCCESS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define STATUS_SUCCESS&#160;&#160;&#160;5</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/de0/pbx_8h_source.html#l01608">1608</a> of file <a class="el" href="../../db/de0/pbx_8h_source.html">pbx.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="ad3a372c5b23617d0ba1856aa88035f54"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad3a372c5b23617d0ba1856aa88035f54">&#9670;&nbsp;</a></span>ast_state_cb_destroy_type</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* ast_state_cb_destroy_type) (int <a class="el" href="../../d1/da4/res__corosync_8c.html#a2465fd4497a7402ad72da7d6e03f9934">id</a>, void *data)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Typedef for devicestate and hint callback removal indication callback. </p>

<p class="definition">Definition at line <a class="el" href="../../db/de0/pbx_8h_source.html#l00115">115</a> of file <a class="el" href="../../db/de0/pbx_8h_source.html">pbx.h</a>.</p>

</div>
</div>
<a id="a2c6cd56c75fb925c726e1f400024f856"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c6cd56c75fb925c726e1f400024f856">&#9670;&nbsp;</a></span>ast_state_cb_type</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int(* ast_state_cb_type) (const char *<a class="el" href="../../da/dde/chan__phone_8c.html#a579ca8125bbf48d9ce8691d522f99933">context</a>, const char *<a class="el" href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>, struct <a class="el" href="../../df/d4c/structast__state__cb__info.html">ast_state_cb_info</a> *info, void *data)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Typedef for devicestate and hint callbacks. </p>

<p class="definition">Definition at line <a class="el" href="../../db/de0/pbx_8h_source.html#l00112">112</a> of file <a class="el" href="../../db/de0/pbx_8h_source.html">pbx.h</a>.</p>

</div>
</div>
<a id="aa170ac775ac95bf40afa9a46f4a4af8f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa170ac775ac95bf40afa9a46f4a4af8f">&#9670;&nbsp;</a></span>ast_switch_f</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int() ast_switch_f(struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, const char *<a class="el" href="../../da/dde/chan__phone_8c.html#a579ca8125bbf48d9ce8691d522f99933">context</a>, const char *<a class="el" href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>, int <a class="el" href="../../d1/d0c/cel__beanstalkd_8c.html#acec9ce2df15222151ad66fcb1d74eb9f">priority</a>, const char *callerid, const char *data)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>All switch functions have the same interface, so define a type for them. </p>
<p>Data structure associated with an Asterisk switch </p>

<p class="definition">Definition at line <a class="el" href="../../db/de0/pbx_8h_source.html#l00156">156</a> of file <a class="el" href="../../db/de0/pbx_8h_source.html">pbx.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="ae44f095e3bb053c0d3f8d6b963df4a25"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae44f095e3bb053c0d3f8d6b963df4a25">&#9670;&nbsp;</a></span>ast_custom_function_escalation</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../db/de0/pbx_8h.html#ae44f095e3bb053c0d3f8d6b963df4a25">ast_custom_function_escalation</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Description of the ways in which a function may escalate privileges. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ae44f095e3bb053c0d3f8d6b963df4a25a1ac43bc7869b6d5704d33e3d91ed10de"></a>AST_CFE_NONE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ae44f095e3bb053c0d3f8d6b963df4a25a3b871161353508e1ce975ece03be26cd"></a>AST_CFE_READ&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ae44f095e3bb053c0d3f8d6b963df4a25a6afc0bfde80d0417ea42250f2ce6e311"></a>AST_CFE_WRITE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ae44f095e3bb053c0d3f8d6b963df4a25a6c4889ef775a45630878b61f315b3ac7"></a>AST_CFE_BOTH&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../db/de0/pbx_8h_source.html#l01498">1498</a> of file <a class="el" href="../../db/de0/pbx_8h_source.html">pbx.h</a>.</p>
<div class="fragment"><div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;                                    {</div><div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;   <a class="code" href="../../db/de0/pbx_8h.html#ae44f095e3bb053c0d3f8d6b963df4a25a1ac43bc7869b6d5704d33e3d91ed10de">AST_CFE_NONE</a>,</div><div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;   <a class="code" href="../../db/de0/pbx_8h.html#ae44f095e3bb053c0d3f8d6b963df4a25a3b871161353508e1ce975ece03be26cd">AST_CFE_READ</a>,</div><div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;   <a class="code" href="../../db/de0/pbx_8h.html#ae44f095e3bb053c0d3f8d6b963df4a25a6afc0bfde80d0417ea42250f2ce6e311">AST_CFE_WRITE</a>,</div><div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;   <a class="code" href="../../db/de0/pbx_8h.html#ae44f095e3bb053c0d3f8d6b963df4a25a6c4889ef775a45630878b61f315b3ac7">AST_CFE_BOTH</a>,</div><div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;};</div><div class="ttc" id="pbx_8h_html_ae44f095e3bb053c0d3f8d6b963df4a25a3b871161353508e1ce975ece03be26cd"><div class="ttname"><a href="../../db/de0/pbx_8h.html#ae44f095e3bb053c0d3f8d6b963df4a25a3b871161353508e1ce975ece03be26cd">AST_CFE_READ</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/de0/pbx_8h_source.html#l01500">pbx.h:1500</a></div></div>
<div class="ttc" id="pbx_8h_html_ae44f095e3bb053c0d3f8d6b963df4a25a6c4889ef775a45630878b61f315b3ac7"><div class="ttname"><a href="../../db/de0/pbx_8h.html#ae44f095e3bb053c0d3f8d6b963df4a25a6c4889ef775a45630878b61f315b3ac7">AST_CFE_BOTH</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/de0/pbx_8h_source.html#l01502">pbx.h:1502</a></div></div>
<div class="ttc" id="pbx_8h_html_ae44f095e3bb053c0d3f8d6b963df4a25a6afc0bfde80d0417ea42250f2ce6e311"><div class="ttname"><a href="../../db/de0/pbx_8h.html#ae44f095e3bb053c0d3f8d6b963df4a25a6afc0bfde80d0417ea42250f2ce6e311">AST_CFE_WRITE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/de0/pbx_8h_source.html#l01501">pbx.h:1501</a></div></div>
<div class="ttc" id="pbx_8h_html_ae44f095e3bb053c0d3f8d6b963df4a25a1ac43bc7869b6d5704d33e3d91ed10de"><div class="ttname"><a href="../../db/de0/pbx_8h.html#ae44f095e3bb053c0d3f8d6b963df4a25a1ac43bc7869b6d5704d33e3d91ed10de">AST_CFE_NONE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/de0/pbx_8h_source.html#l01499">pbx.h:1499</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a40b191a3f395775ddd84d363c8fbd030"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a40b191a3f395775ddd84d363c8fbd030">&#9670;&nbsp;</a></span>ast_ext_matchcid_types</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../db/de0/pbx_8h.html#a40b191a3f395775ddd84d363c8fbd030">ast_ext_matchcid_types</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>extension matchcid types </p>
<dl class="section note"><dt>Note</dt><dd>matchcid in <a class="el" href="../../d7/d00/structast__exten.html" title="ast_exten: An extension The dialplan is saved as a linked list with each context having it&#39;s own link...">ast_exten</a> retains 0/1, this adds 3rd state for functions to specify all </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../db/de0/pbx_8h.html#a85ffdbb47cc54f8d125b4276d6bd3170">ast_context_remove_extension_callerid</a> </dd></dl>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a40b191a3f395775ddd84d363c8fbd030a245df0f7c904df378369f60ea91938e7"></a>AST_EXT_MATCHCID_OFF&#160;</td><td class="fielddoc"><p>Match only extensions with matchcid=0 </p>
</td></tr>
<tr><td class="fieldname"><a id="a40b191a3f395775ddd84d363c8fbd030a0aa5ba413029c07073f6e915036e037f"></a>AST_EXT_MATCHCID_ON&#160;</td><td class="fielddoc"><p>Match only extensions with matchcid=1 AND cidmatch matches </p>
</td></tr>
<tr><td class="fieldname"><a id="a40b191a3f395775ddd84d363c8fbd030a37db4d8017d05366c5b19084c5c5c84c"></a>AST_EXT_MATCHCID_ANY&#160;</td><td class="fielddoc"><p>Match both - used only in functions manipulating <a class="el" href="../../d7/d00/structast__exten.html" title="ast_exten: An extension The dialplan is saved as a linked list with each context having it&#39;s own link...">ast_exten</a>'s </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../db/de0/pbx_8h_source.html#l00077">77</a> of file <a class="el" href="../../db/de0/pbx_8h_source.html">pbx.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;                            {</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;   <a class="code" href="../../db/de0/pbx_8h.html#a40b191a3f395775ddd84d363c8fbd030a245df0f7c904df378369f60ea91938e7">AST_EXT_MATCHCID_OFF</a> = 0,  <span class="comment">/*!&lt; Match only extensions with matchcid=0 */</span></div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;   <a class="code" href="../../db/de0/pbx_8h.html#a40b191a3f395775ddd84d363c8fbd030a0aa5ba413029c07073f6e915036e037f">AST_EXT_MATCHCID_ON</a> = 1,   <span class="comment">/*!&lt; Match only extensions with matchcid=1 AND cidmatch matches */</span></div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;   <a class="code" href="../../db/de0/pbx_8h.html#a40b191a3f395775ddd84d363c8fbd030a37db4d8017d05366c5b19084c5c5c84c">AST_EXT_MATCHCID_ANY</a> = 2,  <span class="comment">/*!&lt; Match both - used only in functions manipulating ast_exten&#39;s */</span></div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;};</div><div class="ttc" id="pbx_8h_html_a40b191a3f395775ddd84d363c8fbd030a0aa5ba413029c07073f6e915036e037f"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a40b191a3f395775ddd84d363c8fbd030a0aa5ba413029c07073f6e915036e037f">AST_EXT_MATCHCID_ON</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/de0/pbx_8h_source.html#l00079">pbx.h:79</a></div></div>
<div class="ttc" id="pbx_8h_html_a40b191a3f395775ddd84d363c8fbd030a245df0f7c904df378369f60ea91938e7"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a40b191a3f395775ddd84d363c8fbd030a245df0f7c904df378369f60ea91938e7">AST_EXT_MATCHCID_OFF</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/de0/pbx_8h_source.html#l00078">pbx.h:78</a></div></div>
<div class="ttc" id="pbx_8h_html_a40b191a3f395775ddd84d363c8fbd030a37db4d8017d05366c5b19084c5c5c84c"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a40b191a3f395775ddd84d363c8fbd030a37db4d8017d05366c5b19084c5c5c84c">AST_EXT_MATCHCID_ANY</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/de0/pbx_8h_source.html#l00080">pbx.h:80</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a7e545df4a5f38ef25616c7bdf55d625f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7e545df4a5f38ef25616c7bdf55d625f">&#9670;&nbsp;</a></span>ast_extension_states</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../db/de0/pbx_8h.html#a7e545df4a5f38ef25616c7bdf55d625f">ast_extension_states</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Extension states. </p>
<dl class="section note"><dt>Note</dt><dd>States can be combined <a class="el" href="../../db/d16/AstExtState.html">Extension and device states in Asterisk</a> </dd></dl>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a7e545df4a5f38ef25616c7bdf55d625fa3e2a2f5572580f74e94b6d5e80261ea7"></a>AST_EXTENSION_REMOVED&#160;</td><td class="fielddoc"><p>Extension removed </p>
</td></tr>
<tr><td class="fieldname"><a id="a7e545df4a5f38ef25616c7bdf55d625faf53cb090b99fb8e952c8151990bd4192"></a>AST_EXTENSION_DEACTIVATED&#160;</td><td class="fielddoc"><p>Extension hint removed </p>
</td></tr>
<tr><td class="fieldname"><a id="a7e545df4a5f38ef25616c7bdf55d625fa435abb1e907b1cee83ec44d2d77866e6"></a>AST_EXTENSION_NOT_INUSE&#160;</td><td class="fielddoc"><p>No device INUSE or BUSY </p>
</td></tr>
<tr><td class="fieldname"><a id="a7e545df4a5f38ef25616c7bdf55d625fa47e9214860b5f9b887945f7cd1baec1a"></a>AST_EXTENSION_INUSE&#160;</td><td class="fielddoc"><p>One or more devices INUSE </p>
</td></tr>
<tr><td class="fieldname"><a id="a7e545df4a5f38ef25616c7bdf55d625fad62d357f0ccde2a718c374a0a4af2b98"></a>AST_EXTENSION_BUSY&#160;</td><td class="fielddoc"><p>All devices BUSY </p>
</td></tr>
<tr><td class="fieldname"><a id="a7e545df4a5f38ef25616c7bdf55d625fa5820eb407f3a3dbc5046c97ad43ee1f3"></a>AST_EXTENSION_UNAVAILABLE&#160;</td><td class="fielddoc"><p>All devices UNAVAILABLE/UNREGISTERED </p>
</td></tr>
<tr><td class="fieldname"><a id="a7e545df4a5f38ef25616c7bdf55d625fa4063bf4e94e14df04126be6f08cc7bfc"></a>AST_EXTENSION_RINGING&#160;</td><td class="fielddoc"><p>All devices RINGING </p>
</td></tr>
<tr><td class="fieldname"><a id="a7e545df4a5f38ef25616c7bdf55d625fa83180bb058ded006c01229431fc887f9"></a>AST_EXTENSION_ONHOLD&#160;</td><td class="fielddoc"><p>All devices ONHOLD </p>
</td></tr>
<tr><td class="fieldname"><a id="a7e545df4a5f38ef25616c7bdf55d625fa3e2a2f5572580f74e94b6d5e80261ea7"></a>AST_EXTENSION_REMOVED&#160;</td><td class="fielddoc"><p>Extension removed </p>
</td></tr>
<tr><td class="fieldname"><a id="a7e545df4a5f38ef25616c7bdf55d625faf53cb090b99fb8e952c8151990bd4192"></a>AST_EXTENSION_DEACTIVATED&#160;</td><td class="fielddoc"><p>Extension hint removed </p>
</td></tr>
<tr><td class="fieldname"><a id="a7e545df4a5f38ef25616c7bdf55d625fa435abb1e907b1cee83ec44d2d77866e6"></a>AST_EXTENSION_NOT_INUSE&#160;</td><td class="fielddoc"><p>No device INUSE or BUSY </p>
</td></tr>
<tr><td class="fieldname"><a id="a7e545df4a5f38ef25616c7bdf55d625fa47e9214860b5f9b887945f7cd1baec1a"></a>AST_EXTENSION_INUSE&#160;</td><td class="fielddoc"><p>One or more devices INUSE </p>
</td></tr>
<tr><td class="fieldname"><a id="a7e545df4a5f38ef25616c7bdf55d625fad62d357f0ccde2a718c374a0a4af2b98"></a>AST_EXTENSION_BUSY&#160;</td><td class="fielddoc"><p>All devices BUSY </p>
</td></tr>
<tr><td class="fieldname"><a id="a7e545df4a5f38ef25616c7bdf55d625fa5820eb407f3a3dbc5046c97ad43ee1f3"></a>AST_EXTENSION_UNAVAILABLE&#160;</td><td class="fielddoc"><p>All devices UNAVAILABLE/UNREGISTERED </p>
</td></tr>
<tr><td class="fieldname"><a id="a7e545df4a5f38ef25616c7bdf55d625fa4063bf4e94e14df04126be6f08cc7bfc"></a>AST_EXTENSION_RINGING&#160;</td><td class="fielddoc"><p>All devices RINGING </p>
</td></tr>
<tr><td class="fieldname"><a id="a7e545df4a5f38ef25616c7bdf55d625fa83180bb058ded006c01229431fc887f9"></a>AST_EXTENSION_ONHOLD&#160;</td><td class="fielddoc"><p>All devices ONHOLD </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../db/de0/pbx_8h_source.html#l00061">61</a> of file <a class="el" href="../../db/de0/pbx_8h_source.html">pbx.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;                          {</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;   <a class="code" href="../../db/de0/pbx_8h.html#a7e545df4a5f38ef25616c7bdf55d625fa3e2a2f5572580f74e94b6d5e80261ea7">AST_EXTENSION_REMOVED</a> = -2,   <span class="comment">/*!&lt; Extension removed */</span></div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;   <a class="code" href="../../db/de0/pbx_8h.html#a7e545df4a5f38ef25616c7bdf55d625faf53cb090b99fb8e952c8151990bd4192">AST_EXTENSION_DEACTIVATED</a> = -1,  <span class="comment">/*!&lt; Extension hint removed */</span></div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;   <a class="code" href="../../db/de0/pbx_8h.html#a7e545df4a5f38ef25616c7bdf55d625fa435abb1e907b1cee83ec44d2d77866e6">AST_EXTENSION_NOT_INUSE</a> = 0,  <span class="comment">/*!&lt; No device INUSE or BUSY  */</span></div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;   <a class="code" href="../../db/de0/pbx_8h.html#a7e545df4a5f38ef25616c7bdf55d625fa47e9214860b5f9b887945f7cd1baec1a">AST_EXTENSION_INUSE</a> = 1 &lt;&lt; 0, <span class="comment">/*!&lt; One or more devices INUSE */</span></div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;   <a class="code" href="../../db/de0/pbx_8h.html#a7e545df4a5f38ef25616c7bdf55d625fad62d357f0ccde2a718c374a0a4af2b98">AST_EXTENSION_BUSY</a> = 1 &lt;&lt; 1,  <span class="comment">/*!&lt; All devices BUSY */</span></div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;   <a class="code" href="../../db/de0/pbx_8h.html#a7e545df4a5f38ef25616c7bdf55d625fa5820eb407f3a3dbc5046c97ad43ee1f3">AST_EXTENSION_UNAVAILABLE</a> = 1 &lt;&lt; 2, <span class="comment">/*!&lt; All devices UNAVAILABLE/UNREGISTERED */</span></div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;   <a class="code" href="../../db/de0/pbx_8h.html#a7e545df4a5f38ef25616c7bdf55d625fa4063bf4e94e14df04126be6f08cc7bfc">AST_EXTENSION_RINGING</a> = 1 &lt;&lt; 3,  <span class="comment">/*!&lt; All devices RINGING */</span></div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;   <a class="code" href="../../db/de0/pbx_8h.html#a7e545df4a5f38ef25616c7bdf55d625fa83180bb058ded006c01229431fc887f9">AST_EXTENSION_ONHOLD</a> = 1 &lt;&lt; 4,   <span class="comment">/*!&lt; All devices ONHOLD */</span></div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;};</div><div class="ttc" id="pbx_8h_html_a7e545df4a5f38ef25616c7bdf55d625faf53cb090b99fb8e952c8151990bd4192"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a7e545df4a5f38ef25616c7bdf55d625faf53cb090b99fb8e952c8151990bd4192">AST_EXTENSION_DEACTIVATED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/de0/pbx_8h_source.html#l00063">pbx.h:63</a></div></div>
<div class="ttc" id="pbx_8h_html_a7e545df4a5f38ef25616c7bdf55d625fa3e2a2f5572580f74e94b6d5e80261ea7"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a7e545df4a5f38ef25616c7bdf55d625fa3e2a2f5572580f74e94b6d5e80261ea7">AST_EXTENSION_REMOVED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/de0/pbx_8h_source.html#l00062">pbx.h:62</a></div></div>
<div class="ttc" id="pbx_8h_html_a7e545df4a5f38ef25616c7bdf55d625fa5820eb407f3a3dbc5046c97ad43ee1f3"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a7e545df4a5f38ef25616c7bdf55d625fa5820eb407f3a3dbc5046c97ad43ee1f3">AST_EXTENSION_UNAVAILABLE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/de0/pbx_8h_source.html#l00067">pbx.h:67</a></div></div>
<div class="ttc" id="pbx_8h_html_a7e545df4a5f38ef25616c7bdf55d625fa83180bb058ded006c01229431fc887f9"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a7e545df4a5f38ef25616c7bdf55d625fa83180bb058ded006c01229431fc887f9">AST_EXTENSION_ONHOLD</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/de0/pbx_8h_source.html#l00069">pbx.h:69</a></div></div>
<div class="ttc" id="pbx_8h_html_a7e545df4a5f38ef25616c7bdf55d625fa4063bf4e94e14df04126be6f08cc7bfc"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a7e545df4a5f38ef25616c7bdf55d625fa4063bf4e94e14df04126be6f08cc7bfc">AST_EXTENSION_RINGING</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/de0/pbx_8h_source.html#l00068">pbx.h:68</a></div></div>
<div class="ttc" id="pbx_8h_html_a7e545df4a5f38ef25616c7bdf55d625fa435abb1e907b1cee83ec44d2d77866e6"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a7e545df4a5f38ef25616c7bdf55d625fa435abb1e907b1cee83ec44d2d77866e6">AST_EXTENSION_NOT_INUSE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/de0/pbx_8h_source.html#l00064">pbx.h:64</a></div></div>
<div class="ttc" id="pbx_8h_html_a7e545df4a5f38ef25616c7bdf55d625fad62d357f0ccde2a718c374a0a4af2b98"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a7e545df4a5f38ef25616c7bdf55d625fad62d357f0ccde2a718c374a0a4af2b98">AST_EXTENSION_BUSY</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/de0/pbx_8h_source.html#l00066">pbx.h:66</a></div></div>
<div class="ttc" id="pbx_8h_html_a7e545df4a5f38ef25616c7bdf55d625fa47e9214860b5f9b887945f7cd1baec1a"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a7e545df4a5f38ef25616c7bdf55d625fa47e9214860b5f9b887945f7cd1baec1a">AST_EXTENSION_INUSE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/de0/pbx_8h_source.html#l00065">pbx.h:65</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a24a619e5cc5e3f683322295991c57916"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a24a619e5cc5e3f683322295991c57916">&#9670;&nbsp;</a></span>ast_pbx_outgoing_sync</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../db/de0/pbx_8h.html#a24a619e5cc5e3f683322295991c57916">ast_pbx_outgoing_sync</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a24a619e5cc5e3f683322295991c57916a389d96a8c016775c073ea64ae3f5dbc0"></a>AST_OUTGOING_NO_WAIT&#160;</td><td class="fielddoc"><p>Don't wait for originated call to answer </p>
</td></tr>
<tr><td class="fieldname"><a id="a24a619e5cc5e3f683322295991c57916a90d4fb6299afc301b2bfc05da78eb662"></a>AST_OUTGOING_WAIT&#160;</td><td class="fielddoc"><p>Wait for originated call to answer </p>
</td></tr>
<tr><td class="fieldname"><a id="a24a619e5cc5e3f683322295991c57916ad1f109b734f3cb4d20937f283eb98d69"></a>AST_OUTGOING_WAIT_COMPLETE&#160;</td><td class="fielddoc"><p>Wait for originated call to answer and hangup </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../db/de0/pbx_8h_source.html#l01151">1151</a> of file <a class="el" href="../../db/de0/pbx_8h_source.html">pbx.h</a>.</p>
<div class="fragment"><div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;                           {</div><div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;   <a class="code" href="../../db/de0/pbx_8h.html#a24a619e5cc5e3f683322295991c57916a389d96a8c016775c073ea64ae3f5dbc0">AST_OUTGOING_NO_WAIT</a> = 0,       <span class="comment">/*!&lt; Don&#39;t wait for originated call to answer */</span></div><div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;   <a class="code" href="../../db/de0/pbx_8h.html#a24a619e5cc5e3f683322295991c57916a90d4fb6299afc301b2bfc05da78eb662">AST_OUTGOING_WAIT</a> = 1,          <span class="comment">/*!&lt; Wait for originated call to answer */</span></div><div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;   <a class="code" href="../../db/de0/pbx_8h.html#a24a619e5cc5e3f683322295991c57916ad1f109b734f3cb4d20937f283eb98d69">AST_OUTGOING_WAIT_COMPLETE</a> = 2, <span class="comment">/*!&lt; Wait for originated call to answer and hangup */</span></div><div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;};</div><div class="ttc" id="pbx_8h_html_a24a619e5cc5e3f683322295991c57916a90d4fb6299afc301b2bfc05da78eb662"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a24a619e5cc5e3f683322295991c57916a90d4fb6299afc301b2bfc05da78eb662">AST_OUTGOING_WAIT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/de0/pbx_8h_source.html#l01153">pbx.h:1153</a></div></div>
<div class="ttc" id="pbx_8h_html_a24a619e5cc5e3f683322295991c57916ad1f109b734f3cb4d20937f283eb98d69"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a24a619e5cc5e3f683322295991c57916ad1f109b734f3cb4d20937f283eb98d69">AST_OUTGOING_WAIT_COMPLETE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/de0/pbx_8h_source.html#l01154">pbx.h:1154</a></div></div>
<div class="ttc" id="pbx_8h_html_a24a619e5cc5e3f683322295991c57916a389d96a8c016775c073ea64ae3f5dbc0"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a24a619e5cc5e3f683322295991c57916a389d96a8c016775c073ea64ae3f5dbc0">AST_OUTGOING_NO_WAIT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/de0/pbx_8h_source.html#l01152">pbx.h:1152</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a0e4eb357d2ef42629fbcf191a473f735"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e4eb357d2ef42629fbcf191a473f735">&#9670;&nbsp;</a></span>ast_pbx_result</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../db/de0/pbx_8h.html#a0e4eb357d2ef42629fbcf191a473f735">ast_pbx_result</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The result codes when starting the PBX on a channel with ast_pbx_start. </p>
<dl class="section note"><dt>Note</dt><dd>AST_PBX_CALL_LIMIT refers to the maxcalls call limit in asterisk.conf </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../db/de0/pbx_8h.html#a9a937fbb3b5f4e68880a9c5714a29ce5" title="Create a new thread and start the PBX. ">ast_pbx_start</a> </dd></dl>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a0e4eb357d2ef42629fbcf191a473f735ae1482e87c137b03ef9f9c17cf4fb5ec4"></a>AST_PBX_SUCCESS&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a0e4eb357d2ef42629fbcf191a473f735a4a46cde728f5cd375af4f2d5b1542490"></a>AST_PBX_FAILED&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a0e4eb357d2ef42629fbcf191a473f735ab69a419c47206542956e9d933b6605f5"></a>AST_PBX_CALL_LIMIT&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../db/de0/pbx_8h_source.html#l00354">354</a> of file <a class="el" href="../../db/de0/pbx_8h_source.html">pbx.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;                    {</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;   <a class="code" href="../../db/de0/pbx_8h.html#a0e4eb357d2ef42629fbcf191a473f735ae1482e87c137b03ef9f9c17cf4fb5ec4">AST_PBX_SUCCESS</a> = 0,</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;   <a class="code" href="../../db/de0/pbx_8h.html#a0e4eb357d2ef42629fbcf191a473f735a4a46cde728f5cd375af4f2d5b1542490">AST_PBX_FAILED</a> = -1,</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;   <a class="code" href="../../db/de0/pbx_8h.html#a0e4eb357d2ef42629fbcf191a473f735ab69a419c47206542956e9d933b6605f5">AST_PBX_CALL_LIMIT</a> = -2,</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;};</div><div class="ttc" id="pbx_8h_html_a0e4eb357d2ef42629fbcf191a473f735ae1482e87c137b03ef9f9c17cf4fb5ec4"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a0e4eb357d2ef42629fbcf191a473f735ae1482e87c137b03ef9f9c17cf4fb5ec4">AST_PBX_SUCCESS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/de0/pbx_8h_source.html#l00355">pbx.h:355</a></div></div>
<div class="ttc" id="pbx_8h_html_a0e4eb357d2ef42629fbcf191a473f735ab69a419c47206542956e9d933b6605f5"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a0e4eb357d2ef42629fbcf191a473f735ab69a419c47206542956e9d933b6605f5">AST_PBX_CALL_LIMIT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/de0/pbx_8h_source.html#l00357">pbx.h:357</a></div></div>
<div class="ttc" id="pbx_8h_html_a0e4eb357d2ef42629fbcf191a473f735a4a46cde728f5cd375af4f2d5b1542490"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a0e4eb357d2ef42629fbcf191a473f735a4a46cde728f5cd375af4f2d5b1542490">AST_PBX_FAILED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/de0/pbx_8h_source.html#l00356">pbx.h:356</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab077da615e93c9e88ce539bef23f82e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab077da615e93c9e88ce539bef23f82e6">&#9670;&nbsp;</a></span>ast_state_cb_update_reason</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../db/de0/pbx_8h.html#ab077da615e93c9e88ce539bef23f82e6">ast_state_cb_update_reason</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ab077da615e93c9e88ce539bef23f82e6a2e89bd60b1752d920f58a70164607189"></a>AST_HINT_UPDATE_DEVICE&#160;</td><td class="fielddoc"><p>The extension state update is a result of a device state changing on the extension. </p>
</td></tr>
<tr><td class="fieldname"><a id="ab077da615e93c9e88ce539bef23f82e6a72b959e4767d5a4c644c6232122f5ad9"></a>AST_HINT_UPDATE_PRESENCE&#160;</td><td class="fielddoc"><p>The extension state update is a result of presence state changing on the extension. </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../db/de0/pbx_8h_source.html#l00089">89</a> of file <a class="el" href="../../db/de0/pbx_8h_source.html">pbx.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;                                {<span class="comment"></span></div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;<span class="comment">   /*! The extension state update is a result of a device state changing on the extension. */</span></div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;   <a class="code" href="../../db/de0/pbx_8h.html#ab077da615e93c9e88ce539bef23f82e6a2e89bd60b1752d920f58a70164607189">AST_HINT_UPDATE_DEVICE</a> = 1,<span class="comment"></span></div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;<span class="comment">   /*! The extension state update is a result of presence state changing on the extension. */</span></div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;   <a class="code" href="../../db/de0/pbx_8h.html#ab077da615e93c9e88ce539bef23f82e6a72b959e4767d5a4c644c6232122f5ad9">AST_HINT_UPDATE_PRESENCE</a> = 2,</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;};</div><div class="ttc" id="pbx_8h_html_ab077da615e93c9e88ce539bef23f82e6a72b959e4767d5a4c644c6232122f5ad9"><div class="ttname"><a href="../../db/de0/pbx_8h.html#ab077da615e93c9e88ce539bef23f82e6a72b959e4767d5a4c644c6232122f5ad9">AST_HINT_UPDATE_PRESENCE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/de0/pbx_8h_source.html#l00093">pbx.h:93</a></div></div>
<div class="ttc" id="pbx_8h_html_ab077da615e93c9e88ce539bef23f82e6a2e89bd60b1752d920f58a70164607189"><div class="ttname"><a href="../../db/de0/pbx_8h.html#ab077da615e93c9e88ce539bef23f82e6a2e89bd60b1752d920f58a70164607189">AST_HINT_UPDATE_DEVICE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/de0/pbx_8h_source.html#l00091">pbx.h:91</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2b7f0fafc6995b2630658a4fd8df26be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2b7f0fafc6995b2630658a4fd8df26be">&#9670;&nbsp;</a></span>ext_match_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../dd/ddb/extconf_8h.html#a2b7f0fafc6995b2630658a4fd8df26be">ext_match_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>When looking up extensions, we can have different requests identified by the 'action' argument, as follows.</p>
<dl class="section note"><dt>Note</dt><dd>that the coding is such that the low 4 bits are the third argument to extension_match_core. </dd></dl>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a2b7f0fafc6995b2630658a4fd8df26bea7e20dcb277877b81e8099470cd631277"></a>E_MATCHMORE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a2b7f0fafc6995b2630658a4fd8df26bea413c09377a892aa154e7669cbdaf27ba"></a>E_CANMATCH&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a2b7f0fafc6995b2630658a4fd8df26bea2e605157e82dec388ffc89c1694fb7be"></a>E_MATCH&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a2b7f0fafc6995b2630658a4fd8df26bea108ea5cb21cb0de3a1be976972c0a59c"></a>E_MATCH_MASK&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a2b7f0fafc6995b2630658a4fd8df26bea8f986496ee140e4c7167ae25ad28d0ee"></a>E_SPAWN&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a2b7f0fafc6995b2630658a4fd8df26bea7b10ab7b3dd6af9d933dbb03dd183eb5"></a>E_FINDLABEL&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a2b7f0fafc6995b2630658a4fd8df26bea7e20dcb277877b81e8099470cd631277"></a>E_MATCHMORE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a2b7f0fafc6995b2630658a4fd8df26bea413c09377a892aa154e7669cbdaf27ba"></a>E_CANMATCH&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a2b7f0fafc6995b2630658a4fd8df26bea2e605157e82dec388ffc89c1694fb7be"></a>E_MATCH&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a2b7f0fafc6995b2630658a4fd8df26bea108ea5cb21cb0de3a1be976972c0a59c"></a>E_MATCH_MASK&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a2b7f0fafc6995b2630658a4fd8df26bea8f986496ee140e4c7167ae25ad28d0ee"></a>E_SPAWN&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a2b7f0fafc6995b2630658a4fd8df26bea7b10ab7b3dd6af9d933dbb03dd183eb5"></a>E_FINDLABEL&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../db/de0/pbx_8h_source.html#l01595">1595</a> of file <a class="el" href="../../db/de0/pbx_8h_source.html">pbx.h</a>.</p>
<div class="fragment"><div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;                 {</div><div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;   <a class="code" href="../../db/de0/pbx_8h.html#a2b7f0fafc6995b2630658a4fd8df26bea7e20dcb277877b81e8099470cd631277">E_MATCHMORE</a> =  0x00, <span class="comment">/* extension can match but only with more &#39;digits&#39; */</span></div><div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;   <a class="code" href="../../db/de0/pbx_8h.html#a2b7f0fafc6995b2630658a4fd8df26bea413c09377a892aa154e7669cbdaf27ba">E_CANMATCH</a> =   0x01, <span class="comment">/* extension can match with or without more &#39;digits&#39; */</span></div><div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;   <a class="code" href="../../db/de0/pbx_8h.html#a2b7f0fafc6995b2630658a4fd8df26bea2e605157e82dec388ffc89c1694fb7be">E_MATCH</a> =   0x02, <span class="comment">/* extension is an exact match */</span></div><div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;   <a class="code" href="../../db/de0/pbx_8h.html#a2b7f0fafc6995b2630658a4fd8df26bea108ea5cb21cb0de3a1be976972c0a59c">E_MATCH_MASK</a> = 0x03, <span class="comment">/* mask for the argument to extension_match_core() */</span></div><div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;   <a class="code" href="../../db/de0/pbx_8h.html#a2b7f0fafc6995b2630658a4fd8df26bea8f986496ee140e4c7167ae25ad28d0ee">E_SPAWN</a> =   0x12, <span class="comment">/* want to spawn an extension. Requires exact match */</span></div><div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;   <a class="code" href="../../db/de0/pbx_8h.html#a2b7f0fafc6995b2630658a4fd8df26bea7b10ab7b3dd6af9d933dbb03dd183eb5">E_FINDLABEL</a> =  0x22  <span class="comment">/* returns the priority for a given label. Requires exact match */</span></div><div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;};</div><div class="ttc" id="pbx_8h_html_a2b7f0fafc6995b2630658a4fd8df26bea7b10ab7b3dd6af9d933dbb03dd183eb5"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a2b7f0fafc6995b2630658a4fd8df26bea7b10ab7b3dd6af9d933dbb03dd183eb5">E_FINDLABEL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/de0/pbx_8h_source.html#l01601">pbx.h:1601</a></div></div>
<div class="ttc" id="pbx_8h_html_a2b7f0fafc6995b2630658a4fd8df26bea8f986496ee140e4c7167ae25ad28d0ee"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a2b7f0fafc6995b2630658a4fd8df26bea8f986496ee140e4c7167ae25ad28d0ee">E_SPAWN</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/de0/pbx_8h_source.html#l01600">pbx.h:1600</a></div></div>
<div class="ttc" id="pbx_8h_html_a2b7f0fafc6995b2630658a4fd8df26bea7e20dcb277877b81e8099470cd631277"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a2b7f0fafc6995b2630658a4fd8df26bea7e20dcb277877b81e8099470cd631277">E_MATCHMORE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/de0/pbx_8h_source.html#l01596">pbx.h:1596</a></div></div>
<div class="ttc" id="pbx_8h_html_a2b7f0fafc6995b2630658a4fd8df26bea2e605157e82dec388ffc89c1694fb7be"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a2b7f0fafc6995b2630658a4fd8df26bea2e605157e82dec388ffc89c1694fb7be">E_MATCH</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/de0/pbx_8h_source.html#l01598">pbx.h:1598</a></div></div>
<div class="ttc" id="pbx_8h_html_a2b7f0fafc6995b2630658a4fd8df26bea108ea5cb21cb0de3a1be976972c0a59c"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a2b7f0fafc6995b2630658a4fd8df26bea108ea5cb21cb0de3a1be976972c0a59c">E_MATCH_MASK</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/de0/pbx_8h_source.html#l01599">pbx.h:1599</a></div></div>
<div class="ttc" id="pbx_8h_html_a2b7f0fafc6995b2630658a4fd8df26bea413c09377a892aa154e7669cbdaf27ba"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a2b7f0fafc6995b2630658a4fd8df26bea413c09377a892aa154e7669cbdaf27ba">E_CANMATCH</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/de0/pbx_8h_source.html#l01597">pbx.h:1597</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="aad8771c7e3b2170a749946f1a8b758aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad8771c7e3b2170a749946f1a8b758aa">&#9670;&nbsp;</a></span>__ast_custom_function_register()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int __ast_custom_function_register </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../db/dc0/structast__custom__function.html">ast_custom_function</a> *&#160;</td>
          <td class="paramname"><em>acf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a> *&#160;</td>
          <td class="paramname"><em>mod</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register a custom function. </p>

<p class="definition">Definition at line <a class="el" href="../../db/d70/pbx__functions_8c_source.html#l00373">373</a> of file <a class="el" href="../../db/d70/pbx__functions_8c_source.html">pbx_functions.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/d70/pbx__functions_8c_source.html#l00328">acf_retrieve_docs()</a>, <a class="el" href="../../db/d70/pbx__functions_8c_source.html#l00240">ast_custom_function_find_nolock()</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00609">AST_RWLIST_INSERT_BEFORE_CURRENT</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00740">AST_RWLIST_INSERT_TAIL</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00544">AST_RWLIST_TRAVERSE_SAFE_BEGIN</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00616">AST_RWLIST_TRAVERSE_SAFE_END</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00150">AST_RWLIST_UNLOCK</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00051">AST_RWLIST_WRLOCK</a>, <a class="el" href="../../d1/d99/xmldoc_8h_source.html#l00032">AST_STATIC_DOC</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00463">ast_verb</a>, <a class="el" href="../../db/d45/term_8h_source.html#l00060">COLOR_BRCYAN</a>, <a class="el" href="../../db/d45/term_8h_source.html#l00068">COLORIZE</a>, <a class="el" href="../../db/d45/term_8h_source.html#l00067">COLORIZE_FMT</a>, <a class="el" href="../../db/de0/pbx_8h_source.html#l00127">ast_custom_function::docsrc</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../db/de0/pbx_8h_source.html#l00142">ast_custom_function::mod</a>, and <a class="el" href="../../db/de0/pbx_8h_source.html#l00119">ast_custom_function::name</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d70/pbx__functions_8c_source.html#l00418">__ast_custom_function_register_escalating()</a>, <a class="el" href="../../d4/d10/manager_8c_source.html#l09144">__init_manager()</a>, <a class="el" href="../../d0/d6d/message_8c_source.html#l01730">ast_msg_init()</a>, <a class="el" href="../../de/d71/features__config_8c_source.html#l01996">load_features_config()</a>, and <a class="el" href="../../db/d94/pbx_8c_source.html#l08460">load_pbx()</a>.</p>
<div class="fragment"><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;{</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../db/dc0/structast__custom__function.html">ast_custom_function</a> *cur;</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;   <span class="keywordflow">if</span> (!acf) {</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;   }</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;   acf-&gt;<a class="code" href="../../db/dc0/structast__custom__function.html#a782aff512368932b8d71b3633f88cb04">mod</a> = <a class="code" href="../../db/dc0/structast__custom__function.html#a782aff512368932b8d71b3633f88cb04">mod</a>;</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;<span class="preprocessor">#ifdef AST_XML_DOCS</span></div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;   acf-&gt;<a class="code" href="../../db/dc0/structast__custom__function.html#aa871ca3c361d229d4e37edf3c6016cc1">docsrc</a> = <a class="code" href="../../d1/d99/xmldoc_8h.html#a8717a951656993c40bd851ebf50f58e3a7273ed64a1fd4a93692986eac376124a">AST_STATIC_DOC</a>;</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../db/d70/pbx__functions_8c.html#a65ccacb4a7ea0a0b3a043beb8b9c4cb2">acf_retrieve_docs</a>(acf)) {</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;   }</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a2d0cf4182bade9f773fb16ff12abe595">AST_RWLIST_WRLOCK</a>(&amp;<a class="code" href="../../db/d11/structacf__root.html">acf_root</a>);</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;   cur = <a class="code" href="../../db/d70/pbx__functions_8c.html#a0799d3bba142917a0eba49518b719c20">ast_custom_function_find_nolock</a>(acf-&gt;<a class="code" href="../../db/dc0/structast__custom__function.html#afcd1706c9144e6d6eee6127661ae3be2">name</a>);</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;   <span class="keywordflow">if</span> (cur) {</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Function %s already registered.\n&quot;</span>, acf-&gt;<a class="code" href="../../db/dc0/structast__custom__function.html#afcd1706c9144e6d6eee6127661ae3be2">name</a>);</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;      <a class="code" href="../../df/d90/linkedlists_8h.html#a2e9a2518b5029b96671aff6701bd5138">AST_RWLIST_UNLOCK</a>(&amp;<a class="code" href="../../db/d11/structacf__root.html">acf_root</a>);</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;   }</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;   <span class="comment">/* Store in alphabetical order */</span></div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a21be6da4b2146b04b4868c2be5cae750">AST_RWLIST_TRAVERSE_SAFE_BEGIN</a>(&amp;<a class="code" href="../../db/d11/structacf__root.html">acf_root</a>, cur, acflist) {</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;      <span class="keywordflow">if</span> (strcmp(acf-&gt;<a class="code" href="../../db/dc0/structast__custom__function.html#afcd1706c9144e6d6eee6127661ae3be2">name</a>, cur-&gt;<a class="code" href="../../db/dc0/structast__custom__function.html#afcd1706c9144e6d6eee6127661ae3be2">name</a>) &lt; 0) {</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;         <a class="code" href="../../df/d90/linkedlists_8h.html#acf8253a64f9a4e2170454f4bf0559e33">AST_RWLIST_INSERT_BEFORE_CURRENT</a>(acf, acflist);</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;      }</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;   }</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a6bf0e81cb6ef01532ddebaba68f6de28">AST_RWLIST_TRAVERSE_SAFE_END</a>;</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;   <span class="keywordflow">if</span> (!cur) {</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;      <a class="code" href="../../df/d90/linkedlists_8h.html#aadda916488b2d151af4426e2f06ad332">AST_RWLIST_INSERT_TAIL</a>(&amp;<a class="code" href="../../db/d11/structacf__root.html">acf_root</a>, acf, acflist);</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;   }</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a2e9a2518b5029b96671aff6701bd5138">AST_RWLIST_UNLOCK</a>(&amp;<a class="code" href="../../db/d11/structacf__root.html">acf_root</a>);</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(2, <span class="stringliteral">&quot;Registered custom function &#39;&quot;</span> <a class="code" href="../../db/d45/term_8h.html#ae640996bf494da50000e83e165c5453e">COLORIZE_FMT</a> <span class="stringliteral">&quot;&#39;\n&quot;</span>, <a class="code" href="../../db/d45/term_8h.html#ae443185677b2d0586ded82d4fcde6992">COLORIZE</a>(<a class="code" href="../../db/d45/term_8h.html#a23aeefae76b2cacc1a6162de88c3fff0">COLOR_BRCYAN</a>, 0, acf-&gt;<a class="code" href="../../db/dc0/structast__custom__function.html#afcd1706c9144e6d6eee6127661ae3be2">name</a>));</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;}</div><div class="ttc" id="structast__custom__function_html_afcd1706c9144e6d6eee6127661ae3be2"><div class="ttname"><a href="../../db/dc0/structast__custom__function.html#afcd1706c9144e6d6eee6127661ae3be2">ast_custom_function::name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de0/pbx_8h_source.html#l00119">pbx.h:119</a></div></div>
<div class="ttc" id="xmldoc_8h_html_a8717a951656993c40bd851ebf50f58e3a7273ed64a1fd4a93692986eac376124a"><div class="ttname"><a href="../../d1/d99/xmldoc_8h.html#a8717a951656993c40bd851ebf50f58e3a7273ed64a1fd4a93692986eac376124a">AST_STATIC_DOC</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d99/xmldoc_8h_source.html#l00032">xmldoc.h:32</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a2d0cf4182bade9f773fb16ff12abe595"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a2d0cf4182bade9f773fb16ff12abe595">AST_RWLIST_WRLOCK</a></div><div class="ttdeci">#define AST_RWLIST_WRLOCK(head)</div><div class="ttdoc">Write locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00051">linkedlists.h:51</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a2e9a2518b5029b96671aff6701bd5138"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a2e9a2518b5029b96671aff6701bd5138">AST_RWLIST_UNLOCK</a></div><div class="ttdeci">#define AST_RWLIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a read/write based list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00150">linkedlists.h:150</a></div></div>
<div class="ttc" id="structast__custom__function_html_aa871ca3c361d229d4e37edf3c6016cc1"><div class="ttname"><a href="../../db/dc0/structast__custom__function.html#aa871ca3c361d229d4e37edf3c6016cc1">ast_custom_function::docsrc</a></div><div class="ttdeci">enum ast_doc_src docsrc</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de0/pbx_8h_source.html#l00127">pbx.h:127</a></div></div>
<div class="ttc" id="pbx__functions_8c_html_a0799d3bba142917a0eba49518b719c20"><div class="ttname"><a href="../../db/d70/pbx__functions_8c.html#a0799d3bba142917a0eba49518b719c20">ast_custom_function_find_nolock</a></div><div class="ttdeci">static struct ast_custom_function * ast_custom_function_find_nolock(const char *name)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d70/pbx__functions_8c_source.html#l00240">pbx_functions.c:240</a></div></div>
<div class="ttc" id="structast__custom__function_html_a782aff512368932b8d71b3633f88cb04"><div class="ttname"><a href="../../db/dc0/structast__custom__function.html#a782aff512368932b8d71b3633f88cb04">ast_custom_function::mod</a></div><div class="ttdeci">struct ast_module * mod</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de0/pbx_8h_source.html#l00142">pbx.h:142</a></div></div>
<div class="ttc" id="logger_8h_html_ad770f83c71e237e1f64163358ce4e13d"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a></div><div class="ttdeci">#define ast_verb(level,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00463">logger.h:463</a></div></div>
<div class="ttc" id="term_8h_html_a23aeefae76b2cacc1a6162de88c3fff0"><div class="ttname"><a href="../../db/d45/term_8h.html#a23aeefae76b2cacc1a6162de88c3fff0">COLOR_BRCYAN</a></div><div class="ttdeci">#define COLOR_BRCYAN</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d45/term_8h_source.html#l00060">term.h:60</a></div></div>
<div class="ttc" id="term_8h_html_ae443185677b2d0586ded82d4fcde6992"><div class="ttname"><a href="../../db/d45/term_8h.html#ae443185677b2d0586ded82d4fcde6992">COLORIZE</a></div><div class="ttdeci">#define COLORIZE(fg, bg, str)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d45/term_8h_source.html#l00068">term.h:68</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="structast__custom__function_html"><div class="ttname"><a href="../../db/dc0/structast__custom__function.html">ast_custom_function</a></div><div class="ttdoc">Data structure associated with a custom dialplan function. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/de0/pbx_8h_source.html#l00118">pbx.h:118</a></div></div>
<div class="ttc" id="term_8h_html_ae640996bf494da50000e83e165c5453e"><div class="ttname"><a href="../../db/d45/term_8h.html#ae640996bf494da50000e83e165c5453e">COLORIZE_FMT</a></div><div class="ttdeci">#define COLORIZE_FMT</div><div class="ttdoc">Shortcut macros for coloring a set of text. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d45/term_8h_source.html#l00067">term.h:67</a></div></div>
<div class="ttc" id="structacf__root_html"><div class="ttname"><a href="../../db/d11/structacf__root.html">acf_root</a></div><div class="ttdoc">Registered functions container. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d70/pbx__functions_8c_source.html#l00059">pbx_functions.c:59</a></div></div>
<div class="ttc" id="linkedlists_8h_html_acf8253a64f9a4e2170454f4bf0559e33"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#acf8253a64f9a4e2170454f4bf0559e33">AST_RWLIST_INSERT_BEFORE_CURRENT</a></div><div class="ttdeci">#define AST_RWLIST_INSERT_BEFORE_CURRENT</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00609">linkedlists.h:609</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a21be6da4b2146b04b4868c2be5cae750"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a21be6da4b2146b04b4868c2be5cae750">AST_RWLIST_TRAVERSE_SAFE_BEGIN</a></div><div class="ttdeci">#define AST_RWLIST_TRAVERSE_SAFE_BEGIN</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00544">linkedlists.h:544</a></div></div>
<div class="ttc" id="pbx__functions_8c_html_a65ccacb4a7ea0a0b3a043beb8b9c4cb2"><div class="ttname"><a href="../../db/d70/pbx__functions_8c.html#a65ccacb4a7ea0a0b3a043beb8b9c4cb2">acf_retrieve_docs</a></div><div class="ttdeci">static int acf_retrieve_docs(struct ast_custom_function *acf)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d70/pbx__functions_8c_source.html#l00328">pbx_functions.c:328</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="linkedlists_8h_html_aadda916488b2d151af4426e2f06ad332"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#aadda916488b2d151af4426e2f06ad332">AST_RWLIST_INSERT_TAIL</a></div><div class="ttdeci">#define AST_RWLIST_INSERT_TAIL</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00740">linkedlists.h:740</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a6bf0e81cb6ef01532ddebaba68f6de28"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a6bf0e81cb6ef01532ddebaba68f6de28">AST_RWLIST_TRAVERSE_SAFE_END</a></div><div class="ttdeci">#define AST_RWLIST_TRAVERSE_SAFE_END</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00616">linkedlists.h:616</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a1efedf39c73e1a63d4a73a3c998694c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1efedf39c73e1a63d4a73a3c998694c2">&#9670;&nbsp;</a></span>__ast_custom_function_register_escalating()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int __ast_custom_function_register_escalating </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../db/dc0/structast__custom__function.html">ast_custom_function</a> *&#160;</td>
          <td class="paramname"><em>acf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="../../db/de0/pbx_8h.html#ae44f095e3bb053c0d3f8d6b963df4a25">ast_custom_function_escalation</a>&#160;</td>
          <td class="paramname"><em>escalation</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a> *&#160;</td>
          <td class="paramname"><em>mod</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register a custom function which requires escalated privileges. </p>
<p>Examples would be SHELL() (for which a read needs permission to execute arbitrary code) or FILE() (for which write needs permission to change files on the filesystem). </p>

<p class="definition">Definition at line <a class="el" href="../../db/d70/pbx__functions_8c_source.html#l00418">418</a> of file <a class="el" href="../../db/d70/pbx__functions_8c_source.html">pbx_functions.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/d70/pbx__functions_8c_source.html#l00373">__ast_custom_function_register()</a>, <a class="el" href="../../db/de0/pbx_8h_source.html#l01502">AST_CFE_BOTH</a>, <a class="el" href="../../db/de0/pbx_8h_source.html#l01499">AST_CFE_NONE</a>, <a class="el" href="../../db/de0/pbx_8h_source.html#l01500">AST_CFE_READ</a>, <a class="el" href="../../db/de0/pbx_8h_source.html#l01501">AST_CFE_WRITE</a>, <a class="el" href="../../db/de0/pbx_8h_source.html#l00143">ast_custom_function::read_escalates</a>, and <a class="el" href="../../db/de0/pbx_8h_source.html#l00147">ast_custom_function::write_escalates</a>.</p>
<div class="fragment"><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;{</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;   res = <a class="code" href="../../db/d70/pbx__functions_8c.html#aad8771c7e3b2170a749946f1a8b758aa">__ast_custom_function_register</a>(acf, mod);</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;   <span class="keywordflow">if</span> (res != 0) {</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;   }</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;   <span class="keywordflow">switch</span> (escalation) {</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../db/de0/pbx_8h.html#ae44f095e3bb053c0d3f8d6b963df4a25a1ac43bc7869b6d5704d33e3d91ed10de">AST_CFE_NONE</a>:</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../db/de0/pbx_8h.html#ae44f095e3bb053c0d3f8d6b963df4a25a3b871161353508e1ce975ece03be26cd">AST_CFE_READ</a>:</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;      acf-&gt;<a class="code" href="../../db/dc0/structast__custom__function.html#aedb05b880631b405654c31c8a454e9c6">read_escalates</a> = 1;</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../db/de0/pbx_8h.html#ae44f095e3bb053c0d3f8d6b963df4a25a6afc0bfde80d0417ea42250f2ce6e311">AST_CFE_WRITE</a>:</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;      acf-&gt;<a class="code" href="../../db/dc0/structast__custom__function.html#af6fecbf4671767a05b00bfcd6e90734a">write_escalates</a> = 1;</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../db/de0/pbx_8h.html#ae44f095e3bb053c0d3f8d6b963df4a25a6c4889ef775a45630878b61f315b3ac7">AST_CFE_BOTH</a>:</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;      acf-&gt;<a class="code" href="../../db/dc0/structast__custom__function.html#aedb05b880631b405654c31c8a454e9c6">read_escalates</a> = 1;</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;      acf-&gt;<a class="code" href="../../db/dc0/structast__custom__function.html#af6fecbf4671767a05b00bfcd6e90734a">write_escalates</a> = 1;</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;   }</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;}</div><div class="ttc" id="pbx__functions_8c_html_aad8771c7e3b2170a749946f1a8b758aa"><div class="ttname"><a href="../../db/d70/pbx__functions_8c.html#aad8771c7e3b2170a749946f1a8b758aa">__ast_custom_function_register</a></div><div class="ttdeci">int __ast_custom_function_register(struct ast_custom_function *acf, struct ast_module *mod)</div><div class="ttdoc">Register a custom function. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d70/pbx__functions_8c_source.html#l00373">pbx_functions.c:373</a></div></div>
<div class="ttc" id="structast__custom__function_html_af6fecbf4671767a05b00bfcd6e90734a"><div class="ttname"><a href="../../db/dc0/structast__custom__function.html#af6fecbf4671767a05b00bfcd6e90734a">ast_custom_function::write_escalates</a></div><div class="ttdeci">unsigned int write_escalates</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de0/pbx_8h_source.html#l00147">pbx.h:147</a></div></div>
<div class="ttc" id="pbx_8h_html_ae44f095e3bb053c0d3f8d6b963df4a25a3b871161353508e1ce975ece03be26cd"><div class="ttname"><a href="../../db/de0/pbx_8h.html#ae44f095e3bb053c0d3f8d6b963df4a25a3b871161353508e1ce975ece03be26cd">AST_CFE_READ</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/de0/pbx_8h_source.html#l01500">pbx.h:1500</a></div></div>
<div class="ttc" id="structast__custom__function_html_aedb05b880631b405654c31c8a454e9c6"><div class="ttname"><a href="../../db/dc0/structast__custom__function.html#aedb05b880631b405654c31c8a454e9c6">ast_custom_function::read_escalates</a></div><div class="ttdeci">unsigned int read_escalates</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de0/pbx_8h_source.html#l00143">pbx.h:143</a></div></div>
<div class="ttc" id="pbx_8h_html_ae44f095e3bb053c0d3f8d6b963df4a25a6c4889ef775a45630878b61f315b3ac7"><div class="ttname"><a href="../../db/de0/pbx_8h.html#ae44f095e3bb053c0d3f8d6b963df4a25a6c4889ef775a45630878b61f315b3ac7">AST_CFE_BOTH</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/de0/pbx_8h_source.html#l01502">pbx.h:1502</a></div></div>
<div class="ttc" id="pbx_8h_html_ae44f095e3bb053c0d3f8d6b963df4a25a6afc0bfde80d0417ea42250f2ce6e311"><div class="ttname"><a href="../../db/de0/pbx_8h.html#ae44f095e3bb053c0d3f8d6b963df4a25a6afc0bfde80d0417ea42250f2ce6e311">AST_CFE_WRITE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/de0/pbx_8h_source.html#l01501">pbx.h:1501</a></div></div>
<div class="ttc" id="pbx_8h_html_ae44f095e3bb053c0d3f8d6b963df4a25a1ac43bc7869b6d5704d33e3d91ed10de"><div class="ttname"><a href="../../db/de0/pbx_8h.html#ae44f095e3bb053c0d3f8d6b963df4a25a1ac43bc7869b6d5704d33e3d91ed10de">AST_CFE_NONE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/de0/pbx_8h_source.html#l01499">pbx.h:1499</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a52a37e9e2d9a1482ef5b7d91001b61ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a52a37e9e2d9a1482ef5b7d91001b61ac">&#9670;&nbsp;</a></span>ast_active_calls()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_active_calls </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve the number of active calls. </p>

<p class="definition">Definition at line <a class="el" href="../../db/d94/pbx_8c_source.html#l04764">4764</a> of file <a class="el" href="../../db/d94/pbx_8c_source.html">pbx.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/d94/pbx_8c_source.html#l00773">countcalls</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d2b/agent_8c_source.html#l00638">ast_var_Config()</a>, <a class="el" href="../../df/d8d/channels_8c_source.html#l00100">get_current_call_count()</a>, <a class="el" href="../../df/dd3/main_2cli_8c_source.html#l01067">handle_chanlist()</a>, <a class="el" href="../../df/dd3/main_2cli_8c_source.html#l01011">handle_showcalls()</a>, and <a class="el" href="../../d0/d4f/func__sysinfo_8c_source.html#l00092">sysinfo_helper()</a>.</p>
<div class="fragment"><div class="line"><a name="l04765"></a><span class="lineno"> 4765</span>&#160;{</div><div class="line"><a name="l04766"></a><span class="lineno"> 4766</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../db/d94/pbx_8c.html#a098053e0fabe1ebd3f0b70fd7c9f8a71">countcalls</a>;</div><div class="line"><a name="l04767"></a><span class="lineno"> 4767</span>&#160;}</div><div class="ttc" id="pbx_8c_html_a098053e0fabe1ebd3f0b70fd7c9f8a71"><div class="ttname"><a href="../../db/d94/pbx_8c.html#a098053e0fabe1ebd3f0b70fd7c9f8a71">countcalls</a></div><div class="ttdeci">static int countcalls</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l00773">pbx.c:773</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a07176e8d314eb68b3b50279fafa11390"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a07176e8d314eb68b3b50279fafa11390">&#9670;&nbsp;</a></span>ast_add_extension()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_add_extension </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>replace</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>extension</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>priority</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>label</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>callerid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>application</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(void *)&#160;</td>
          <td class="paramname"><em>datad</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>registrar</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add and extension to an extension context. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">context</td><td>context to add the extension to </td></tr>
    <tr><td class="paramname">replace</td><td></td></tr>
    <tr><td class="paramname">extension</td><td>extension to add </td></tr>
    <tr><td class="paramname">priority</td><td>priority level of extension addition </td></tr>
    <tr><td class="paramname">label</td><td>extension label </td></tr>
    <tr><td class="paramname">callerid</td><td>pattern to match CallerID, or NULL to match any CallerID </td></tr>
    <tr><td class="paramname">application</td><td>application to run on the extension with that priority level </td></tr>
    <tr><td class="paramname">data</td><td>data to pass to the application </td></tr>
    <tr><td class="paramname">datad</td><td>a pointer to a function that will deallocate <code>data</code> when needed or NULL if <code>data</code> does not need to be freed. </td></tr>
    <tr><td class="paramname">registrar</td><td>who registered the extension</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>On any failure, the function pointed to by <code>datap</code> will be called and passed the <code>data</code> pointer.</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>success </td></tr>
    <tr><td class="paramname">-1</td><td>failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../db/d94/pbx_8c_source.html#l06970">6970</a> of file <a class="el" href="../../db/d94/pbx_8c_source.html">pbx.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/d94/pbx_8c_source.html#l07299">ast_add_extension2()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08512">ast_unlock_contexts()</a>, <a class="el" href="../../d7/d6f/test__linkedlists_8c_source.html#l00048">c</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l00249">ast_exten::datad</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l04818">find_context_locked()</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l01296">add_to_regcontext()</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00915">app_create()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l03226">ast_hint_presence_state()</a>, <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l01329">ast_sip_persistent_endpoint_update_state()</a>, <a class="el" href="../../d9/d3f/test__gosub_8c_source.html#l00041">AST_TEST_DEFINE()</a>, <a class="el" href="../../d9/d7a/test__message_8c_source.html#l00828">create_test_dialplan()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l03584">device_state_cb()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l03729">extension_state_add_destroy()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l01063">handle_cli_dialplan_add_extension()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l03141">internal_extension_state_extended()</a>, <a class="el" href="../../d0/dcf/app__confbridge_8c_source.html#l01679">join_conference_bridge()</a>, <a class="el" href="../../dc/dcf/func__periodic__hook_8c_source.html#l00453">load_module()</a>, <a class="el" href="../../d0/d80/chan__skinny_8c_source.html#l02209">register_exten()</a>, <a class="el" href="../../d1/d6d/chan__unistim_8c_source.html#l01445">register_extension()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l08860">register_peer_exten()</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l07646">sla_build_station()</a>, and <a class="el" href="../../df/d44/app__meetme_8c_source.html#l07474">sla_build_trunk()</a>.</p>
<div class="fragment"><div class="line"><a name="l06973"></a><span class="lineno"> 6973</span>&#160;{</div><div class="line"><a name="l06974"></a><span class="lineno"> 6974</span>&#160;   <span class="keywordtype">int</span> ret = -1;</div><div class="line"><a name="l06975"></a><span class="lineno"> 6975</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d6/d7c/structast__context.html">ast_context</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>;</div><div class="line"><a name="l06976"></a><span class="lineno"> 6976</span>&#160;</div><div class="line"><a name="l06977"></a><span class="lineno"> 6977</span>&#160;   c = <a class="code" href="../../db/d94/pbx_8c.html#a85edff1fa15717f00123b70af815e10d">find_context_locked</a>(<a class="code" href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a>);</div><div class="line"><a name="l06978"></a><span class="lineno"> 6978</span>&#160;   <span class="keywordflow">if</span> (c) {</div><div class="line"><a name="l06979"></a><span class="lineno"> 6979</span>&#160;      ret = <a class="code" href="../../db/d94/pbx_8c.html#a3be3741c204cd685110243af9daec104">ast_add_extension2</a>(c, <a class="code" href="../../d9/d1e/func__strings_8c.html#a7f763283c27da5574f6f8d1b2a2b9288">replace</a>, <a class="code" href="../../d0/d5a/structextension.html">extension</a>, <a class="code" href="../../d9/d47/cdr__beanstalkd_8c.html#acec9ce2df15222151ad66fcb1d74eb9f">priority</a>, label, callerid,</div><div class="line"><a name="l06980"></a><span class="lineno"> 6980</span>&#160;         application, data, datad, <a class="code" href="../../de/d23/pbx__ael_8c.html#ab990a3529ebde2681a00468cad7c0b48">registrar</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0);</div><div class="line"><a name="l06981"></a><span class="lineno"> 6981</span>&#160;      <a class="code" href="../../db/d94/pbx_8c.html#ae517a87b356aec60d5de4591ef94581b">ast_unlock_contexts</a>();</div><div class="line"><a name="l06982"></a><span class="lineno"> 6982</span>&#160;   }</div><div class="line"><a name="l06983"></a><span class="lineno"> 6983</span>&#160;</div><div class="line"><a name="l06984"></a><span class="lineno"> 6984</span>&#160;   <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l06985"></a><span class="lineno"> 6985</span>&#160;}</div><div class="ttc" id="pbx_8c_html_a3be3741c204cd685110243af9daec104"><div class="ttname"><a href="../../db/d94/pbx_8c.html#a3be3741c204cd685110243af9daec104">ast_add_extension2</a></div><div class="ttdeci">int ast_add_extension2(struct ast_context *con, int replace, const char *extension, int priority, const char *label, const char *callerid, const char *application, void *data, void(*datad)(void *), const char *registrar, const char *registrar_file, int registrar_line)</div><div class="ttdoc">Main interface to add extensions to the list for out context. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l07299">pbx.c:7299</a></div></div>
<div class="ttc" id="test__linkedlists_8c_html_acd9db00336027462cfb25b97b5356883"><div class="ttname"><a href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a></div><div class="ttdeci">static struct test_val c</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d6f/test__linkedlists_8c_source.html#l00048">test_linkedlists.c:48</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="cdr__beanstalkd_8c_html_acec9ce2df15222151ad66fcb1d74eb9f"><div class="ttname"><a href="../../d9/d47/cdr__beanstalkd_8c.html#acec9ce2df15222151ad66fcb1d74eb9f">priority</a></div><div class="ttdeci">static int priority</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d47/cdr__beanstalkd_8c_source.html#l00076">cdr_beanstalkd.c:76</a></div></div>
<div class="ttc" id="structextension_html"><div class="ttname"><a href="../../d0/d5a/structextension.html">extension</a></div><div class="ttdoc">structure to hold extensions </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de9/res__phoneprov_8c_source.html#l00287">res_phoneprov.c:287</a></div></div>
<div class="ttc" id="pbx_8c_html_ae517a87b356aec60d5de4591ef94581b"><div class="ttname"><a href="../../db/d94/pbx_8c.html#ae517a87b356aec60d5de4591ef94581b">ast_unlock_contexts</a></div><div class="ttdeci">int ast_unlock_contexts(void)</div><div class="ttdoc">Unlocks contexts. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l08512">pbx.c:8512</a></div></div>
<div class="ttc" id="pbx__ael_8c_html_ab990a3529ebde2681a00468cad7c0b48"><div class="ttname"><a href="../../de/d23/pbx__ael_8c.html#ab990a3529ebde2681a00468cad7c0b48">registrar</a></div><div class="ttdeci">static char * registrar</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d23/pbx__ael_8c_source.html#l00078">pbx_ael.c:78</a></div></div>
<div class="ttc" id="pbx_8c_html_a85edff1fa15717f00123b70af815e10d"><div class="ttname"><a href="../../db/d94/pbx_8c.html#a85edff1fa15717f00123b70af815e10d">find_context_locked</a></div><div class="ttdeci">static struct ast_context * find_context_locked(const char *context)</div><div class="ttdoc">lookup for a context with a given name, </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l04818">pbx.c:4818</a></div></div>
<div class="ttc" id="func__strings_8c_html_a7f763283c27da5574f6f8d1b2a2b9288"><div class="ttname"><a href="../../d9/d1e/func__strings_8c.html#a7f763283c27da5574f6f8d1b2a2b9288">replace</a></div><div class="ttdeci">static int replace(struct ast_channel *chan, const char *cmd, char *data, struct ast_str **buf, ssize_t len)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d1e/func__strings_8c_source.html#l00790">func_strings.c:790</a></div></div>
<div class="ttc" id="chan__alsa_8c_html_ac25ea00ee3f082df06e0cf468cbde240"><div class="ttname"><a href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a></div><div class="ttdeci">static char context[AST_MAX_CONTEXT]</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d45/chan__alsa_8c_source.html#l00116">chan_alsa.c:116</a></div></div>
<div class="ttc" id="structast__context_html"><div class="ttname"><a href="../../d6/d7c/structast__context.html">ast_context</a></div><div class="ttdoc">ast_context: An extension context - must remain in sync with fake_context </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l00284">pbx.c:284</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3be3741c204cd685110243af9daec104"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3be3741c204cd685110243af9daec104">&#9670;&nbsp;</a></span>ast_add_extension2()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_add_extension2 </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d6/d7c/structast__context.html">ast_context</a> *&#160;</td>
          <td class="paramname"><em>con</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>replace</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>extension</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>priority</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>label</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>callerid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>application</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(void *)&#160;</td>
          <td class="paramname"><em>datad</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>registrar</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>registrar_file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>registrar_line</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add an extension to an extension context, this time with an <a class="el" href="../../d6/d7c/structast__context.html" title="ast_context: An extension context - must remain in sync with fake_context ">ast_context</a> *. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">registrar_file</td><td>optional configuration file that defines this extension </td></tr>
    <tr><td class="paramname">registrar_line</td><td>optional line number of configuration file that defines extension</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>For details about the other arguments, check <a class="el" href="../../db/de0/pbx_8h.html#a07176e8d314eb68b3b50279fafa11390" title="Add and extension to an extension context. ">ast_add_extension()</a></dd></dl>
<p>Add an extension to an extension context, this time with an <a class="el" href="../../d6/d7c/structast__context.html" title="ast_context: An extension context - must remain in sync with fake_context ">ast_context</a> *.</p>
<p>We sort extensions in order of matching preference, so that we can stop the search as soon as we find a suitable match. This ordering also takes care of wildcards such as '.' (meaning "one or more of any character") and '!' (which is 'earlymatch', meaning "zero or more of any character" but also impacts the return value from CANMATCH and EARLYMATCH.</p>
<p>The extension match rules defined in the devmeeting 2006.05.05 are quite simple: WE SELECT THE LONGEST MATCH. In detail, "longest" means the number of matched characters in the extension. In case of ties (e.g. _XXX and 333) in the length of a pattern, we give priority to entries with the smallest cardinality (e.g, [5-9] comes before [2-8] before the former has only 5 elements, while the latter has 7, etc. In case of same cardinality, the first element in the range counts. If we still have a tie, any final '!' will make this as a possibly less specific pattern.</p>
<p>EBUSY - can't lock EEXIST - extension with the same priority exist and no replace is set </p>

<p class="definition">Definition at line <a class="el" href="../../db/d94/pbx_8c_source.html#l07299">7299</a> of file <a class="el" href="../../db/d94/pbx_8c_source.html">pbx.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/d94/pbx_8c_source.html#l07325">ast_add_extension2_lockopt()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l00249">ast_exten::datad</a>, and <a class="el" href="../../d4/dc5/extconf_8c_source.html#l04898">localized_add_extension2()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/d85/pval_8c_source.html#l04213">add_extensions()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l06970">ast_add_extension()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l06369">context_merge()</a>, <a class="el" href="../../d6/dde/pbx__lua_8c_source.html#l00987">lua_register_hints()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l01195">manager_dialplan_extension_add()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l01674">pbx_load_config()</a>, and <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l01977">pbx_load_users()</a>.</p>
<div class="fragment"><div class="line"><a name="l07303"></a><span class="lineno"> 7303</span>&#160;{</div><div class="line"><a name="l07304"></a><span class="lineno"> 7304</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../db/d94/pbx_8c.html#a26a33f5a203f8d30edc12bea10cd3f72">ast_add_extension2_lockopt</a>(con, <a class="code" href="../../d9/d1e/func__strings_8c.html#a7f763283c27da5574f6f8d1b2a2b9288">replace</a>, <a class="code" href="../../d0/d5a/structextension.html">extension</a>, <a class="code" href="../../d9/d47/cdr__beanstalkd_8c.html#acec9ce2df15222151ad66fcb1d74eb9f">priority</a>, label, callerid,</div><div class="line"><a name="l07305"></a><span class="lineno"> 7305</span>&#160;      application, data, datad, <a class="code" href="../../de/d23/pbx__ael_8c.html#ab990a3529ebde2681a00468cad7c0b48">registrar</a>, registrar_file, registrar_line, 1);</div><div class="line"><a name="l07306"></a><span class="lineno"> 7306</span>&#160;}</div><div class="ttc" id="pbx_8c_html_a26a33f5a203f8d30edc12bea10cd3f72"><div class="ttname"><a href="../../db/d94/pbx_8c.html#a26a33f5a203f8d30edc12bea10cd3f72">ast_add_extension2_lockopt</a></div><div class="ttdeci">static int ast_add_extension2_lockopt(struct ast_context *con, int replace, const char *extension, int priority, const char *label, const char *callerid, const char *application, void *data, void(*datad)(void *), const char *registrar, const char *registrar_file, int registrar_line, int lock_context)</div><div class="ttdoc">Same as ast_add_extension2() but controls the context locking. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l07325">pbx.c:7325</a></div></div>
<div class="ttc" id="cdr__beanstalkd_8c_html_acec9ce2df15222151ad66fcb1d74eb9f"><div class="ttname"><a href="../../d9/d47/cdr__beanstalkd_8c.html#acec9ce2df15222151ad66fcb1d74eb9f">priority</a></div><div class="ttdeci">static int priority</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d47/cdr__beanstalkd_8c_source.html#l00076">cdr_beanstalkd.c:76</a></div></div>
<div class="ttc" id="structextension_html"><div class="ttname"><a href="../../d0/d5a/structextension.html">extension</a></div><div class="ttdoc">structure to hold extensions </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de9/res__phoneprov_8c_source.html#l00287">res_phoneprov.c:287</a></div></div>
<div class="ttc" id="pbx__ael_8c_html_ab990a3529ebde2681a00468cad7c0b48"><div class="ttname"><a href="../../de/d23/pbx__ael_8c.html#ab990a3529ebde2681a00468cad7c0b48">registrar</a></div><div class="ttdeci">static char * registrar</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d23/pbx__ael_8c_source.html#l00078">pbx_ael.c:78</a></div></div>
<div class="ttc" id="func__strings_8c_html_a7f763283c27da5574f6f8d1b2a2b9288"><div class="ttname"><a href="../../d9/d1e/func__strings_8c.html#a7f763283c27da5574f6f8d1b2a2b9288">replace</a></div><div class="ttdeci">static int replace(struct ast_channel *chan, const char *cmd, char *data, struct ast_str **buf, ssize_t len)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d1e/func__strings_8c_source.html#l00790">func_strings.c:790</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ade1b9a3e676992cb13790cb068234f44"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ade1b9a3e676992cb13790cb068234f44">&#9670;&nbsp;</a></span>ast_add_extension2_nolock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_add_extension2_nolock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d6/d7c/structast__context.html">ast_context</a> *&#160;</td>
          <td class="paramname"><em>con</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>replace</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>extension</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>priority</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>label</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>callerid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>application</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(void *)&#160;</td>
          <td class="paramname"><em>datad</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>registrar</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>registrar_file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>registrar_line</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Same as ast_add_extension2, but assumes you have already locked context. </p>
<dl class="section since"><dt>Since</dt><dd>12.0.0</dd></dl>
<dl class="section note"><dt>Note</dt><dd>con must be write locked prior to calling. For details about the arguments, check <a class="el" href="../../db/de0/pbx_8h.html#a07176e8d314eb68b3b50279fafa11390" title="Add and extension to an extension context. ">ast_add_extension()</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../db/d94/pbx_8c_source.html#l07308">7308</a> of file <a class="el" href="../../db/d94/pbx_8c_source.html">pbx.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/d94/pbx_8c_source.html#l07325">ast_add_extension2_lockopt()</a>, and <a class="el" href="../../db/d94/pbx_8c_source.html#l00249">ast_exten::datad</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00422">add_extension()</a>, <a class="el" href="../../d7/d45/res__parking_8c_source.html#l00713">parking_add_extension()</a>, and <a class="el" href="../../d1/db7/parking__bridge__features_8c_source.html#l00575">parking_duration_callback()</a>.</p>
<div class="fragment"><div class="line"><a name="l07312"></a><span class="lineno"> 7312</span>&#160;{</div><div class="line"><a name="l07313"></a><span class="lineno"> 7313</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../db/d94/pbx_8c.html#a26a33f5a203f8d30edc12bea10cd3f72">ast_add_extension2_lockopt</a>(con, <a class="code" href="../../d9/d1e/func__strings_8c.html#a7f763283c27da5574f6f8d1b2a2b9288">replace</a>, <a class="code" href="../../d0/d5a/structextension.html">extension</a>, <a class="code" href="../../d9/d47/cdr__beanstalkd_8c.html#acec9ce2df15222151ad66fcb1d74eb9f">priority</a>, label, callerid,</div><div class="line"><a name="l07314"></a><span class="lineno"> 7314</span>&#160;      application, data, datad, <a class="code" href="../../de/d23/pbx__ael_8c.html#ab990a3529ebde2681a00468cad7c0b48">registrar</a>, registrar_file, registrar_line, 0);</div><div class="line"><a name="l07315"></a><span class="lineno"> 7315</span>&#160;}</div><div class="ttc" id="pbx_8c_html_a26a33f5a203f8d30edc12bea10cd3f72"><div class="ttname"><a href="../../db/d94/pbx_8c.html#a26a33f5a203f8d30edc12bea10cd3f72">ast_add_extension2_lockopt</a></div><div class="ttdeci">static int ast_add_extension2_lockopt(struct ast_context *con, int replace, const char *extension, int priority, const char *label, const char *callerid, const char *application, void *data, void(*datad)(void *), const char *registrar, const char *registrar_file, int registrar_line, int lock_context)</div><div class="ttdoc">Same as ast_add_extension2() but controls the context locking. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l07325">pbx.c:7325</a></div></div>
<div class="ttc" id="cdr__beanstalkd_8c_html_acec9ce2df15222151ad66fcb1d74eb9f"><div class="ttname"><a href="../../d9/d47/cdr__beanstalkd_8c.html#acec9ce2df15222151ad66fcb1d74eb9f">priority</a></div><div class="ttdeci">static int priority</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d47/cdr__beanstalkd_8c_source.html#l00076">cdr_beanstalkd.c:76</a></div></div>
<div class="ttc" id="structextension_html"><div class="ttname"><a href="../../d0/d5a/structextension.html">extension</a></div><div class="ttdoc">structure to hold extensions </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de9/res__phoneprov_8c_source.html#l00287">res_phoneprov.c:287</a></div></div>
<div class="ttc" id="pbx__ael_8c_html_ab990a3529ebde2681a00468cad7c0b48"><div class="ttname"><a href="../../de/d23/pbx__ael_8c.html#ab990a3529ebde2681a00468cad7c0b48">registrar</a></div><div class="ttdeci">static char * registrar</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d23/pbx__ael_8c_source.html#l00078">pbx_ael.c:78</a></div></div>
<div class="ttc" id="func__strings_8c_html_a7f763283c27da5574f6f8d1b2a2b9288"><div class="ttname"><a href="../../d9/d1e/func__strings_8c.html#a7f763283c27da5574f6f8d1b2a2b9288">replace</a></div><div class="ttdeci">static int replace(struct ast_channel *chan, const char *cmd, char *data, struct ast_str **buf, ssize_t len)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d1e/func__strings_8c_source.html#l00790">func_strings.c:790</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae0ba2eb966a9e3376de61d30513f7302"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae0ba2eb966a9e3376de61d30513f7302">&#9670;&nbsp;</a></span>ast_async_goto()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_async_goto </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>exten</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>priority</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the channel to next execute the specified dialplan location. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../db/de0/pbx_8h.html#aa2caee9cd93973d6f2bc806b34f564d6">ast_async_parseable_goto</a>, <a class="el" href="../../db/de0/pbx_8h.html#a281fc61f41a1be7fdd6c620372c4510b">ast_async_goto_if_exists</a></dd></dl>
<dl class="section note"><dt>Note</dt><dd>Do <em>NOT</em> hold any channel locks when calling this function. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../db/d94/pbx_8c_source.html#l07011">7011</a> of file <a class="el" href="../../db/d94/pbx_8c_source.html">pbx.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l01260">ast_channel_flags()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l10746">ast_channel_is_bridged()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02945">ast_channel_lock</a>, <a class="el" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00721">ast_channel_pbx()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l10794">ast_channel_yank()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l06987">ast_explicit_goto()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l00998">AST_FLAG_IN_AUTOLOOP</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l02548">ast_hangup()</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l04712">ast_pbx_start()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l01127">AST_SOFTHANGUP_ASYNCGOTO</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l02463">ast_softhangup_nolock()</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00063">ast_test_flag</a>, and <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d94/pbx_8c_source.html#l08772">__ast_goto_if_exists()</a>, <a class="el" href="../../d4/d10/manager_8c_source.html#l04973">action_redirect()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l07044">ast_async_goto_by_name()</a>, <a class="el" href="../../d3/d32/bridge__channel_8c_source.html#l02016">bridge_channel_blind_transfer()</a>, <a class="el" href="../../d0/d29/chan__pjsip_8c_source.html#l00765">chan_pjsip_cng_tone_detected()</a>, <a class="el" href="../../db/d81/parking__controller_8c_source.html#l00261">comeback_goto()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l07231">dahdi_handle_dtmf()</a>, <a class="el" href="../../d0/d60/res__fax_8c_source.html#l03745">fax_detect_framehook()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l27605">handle_request_bye()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l01648">my_handle_dtmf()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l05076">onModeChanged()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l04978">ooh323_rtp_read()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08803">pbx_parseable_goto()</a>, <a class="el" href="../../d7/d9b/chan__misdn_8c_source.html#l07318">process_ast_dsp()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l10253">process_sdp()</a>, and <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l08742">sip_read()</a>.</p>
<div class="fragment"><div class="line"><a name="l07012"></a><span class="lineno"> 7012</span>&#160;{</div><div class="line"><a name="l07013"></a><span class="lineno"> 7013</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *newchan;</div><div class="line"><a name="l07014"></a><span class="lineno"> 7014</span>&#160;</div><div class="line"><a name="l07015"></a><span class="lineno"> 7015</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(chan);</div><div class="line"><a name="l07016"></a><span class="lineno"> 7016</span>&#160;   <span class="comment">/* Channels in a bridge or running a PBX can be sent directly to the specified destination */</span></div><div class="line"><a name="l07017"></a><span class="lineno"> 7017</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d5/d7b/channel_8h.html#aa0a52e573af67cb0f29095177128d186">ast_channel_is_bridged</a>(chan) || <a class="code" href="../../d5/d7b/channel_8h.html#a488b7d6f7488bedc53be45d4ef4471c9">ast_channel_pbx</a>(chan)) {</div><div class="line"><a name="l07018"></a><span class="lineno"> 7018</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a91de92158876186d28ba1773877f2732">ast_channel_flags</a>(chan), <a class="code" href="../../d5/d7b/channel_8h.html#a82f2c6e4d47f62f6b65c5887eb096fd5a5ff4f7a94a36fcc2b8628186cb643d4b">AST_FLAG_IN_AUTOLOOP</a>)) {</div><div class="line"><a name="l07019"></a><span class="lineno"> 7019</span>&#160;         <a class="code" href="../../d9/d47/cdr__beanstalkd_8c.html#acec9ce2df15222151ad66fcb1d74eb9f">priority</a> += 1;</div><div class="line"><a name="l07020"></a><span class="lineno"> 7020</span>&#160;      }</div><div class="line"><a name="l07021"></a><span class="lineno"> 7021</span>&#160;      <a class="code" href="../../db/d94/pbx_8c.html#a9f840db4b5ef461ac2c0c975a57c9e89">ast_explicit_goto</a>(chan, <a class="code" href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a>, <a class="code" href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>, <a class="code" href="../../d9/d47/cdr__beanstalkd_8c.html#acec9ce2df15222151ad66fcb1d74eb9f">priority</a>);</div><div class="line"><a name="l07022"></a><span class="lineno"> 7022</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#ae90da1877e143b996d202d4c88a9c862">ast_softhangup_nolock</a>(chan, <a class="code" href="../../d5/d7b/channel_8h.html#a9e9505a91a84992d04ba4e85217fb4e4a085c0c603de12dc2474a17a92e1cb5a4">AST_SOFTHANGUP_ASYNCGOTO</a>);</div><div class="line"><a name="l07023"></a><span class="lineno"> 7023</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l07024"></a><span class="lineno"> 7024</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l07025"></a><span class="lineno"> 7025</span>&#160;   }</div><div class="line"><a name="l07026"></a><span class="lineno"> 7026</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l07027"></a><span class="lineno"> 7027</span>&#160;</div><div class="line"><a name="l07028"></a><span class="lineno"> 7028</span>&#160;   <span class="comment">/* Otherwise, we need to gain control of the channel first */</span></div><div class="line"><a name="l07029"></a><span class="lineno"> 7029</span>&#160;   newchan = <a class="code" href="../../d5/d7b/channel_8h.html#a17e5eed14e9256176bb685dc7bac620a">ast_channel_yank</a>(chan);</div><div class="line"><a name="l07030"></a><span class="lineno"> 7030</span>&#160;   <span class="keywordflow">if</span> (!newchan) {</div><div class="line"><a name="l07031"></a><span class="lineno"> 7031</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Unable to gain control of channel %s\n&quot;</span>, <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan));</div><div class="line"><a name="l07032"></a><span class="lineno"> 7032</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l07033"></a><span class="lineno"> 7033</span>&#160;   }</div><div class="line"><a name="l07034"></a><span class="lineno"> 7034</span>&#160;   <a class="code" href="../../db/d94/pbx_8c.html#a9f840db4b5ef461ac2c0c975a57c9e89">ast_explicit_goto</a>(newchan, <a class="code" href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a>, <a class="code" href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>, <a class="code" href="../../d9/d47/cdr__beanstalkd_8c.html#acec9ce2df15222151ad66fcb1d74eb9f">priority</a>);</div><div class="line"><a name="l07035"></a><span class="lineno"> 7035</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../db/d94/pbx_8c.html#a9a937fbb3b5f4e68880a9c5714a29ce5">ast_pbx_start</a>(newchan)) {</div><div class="line"><a name="l07036"></a><span class="lineno"> 7036</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#a29557c4823f5e9c02519a01daf6a289c">ast_hangup</a>(newchan);</div><div class="line"><a name="l07037"></a><span class="lineno"> 7037</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Unable to start PBX on %s\n&quot;</span>, <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(newchan));</div><div class="line"><a name="l07038"></a><span class="lineno"> 7038</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l07039"></a><span class="lineno"> 7039</span>&#160;   }</div><div class="line"><a name="l07040"></a><span class="lineno"> 7040</span>&#160;</div><div class="line"><a name="l07041"></a><span class="lineno"> 7041</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l07042"></a><span class="lineno"> 7042</span>&#160;}</div><div class="ttc" id="channel_8h_html_a493bdebe876caafb8ee535853310364a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a></div><div class="ttdeci">#define ast_channel_lock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02945">channel.h:2945</a></div></div>
<div class="ttc" id="chan__alsa_8c_html_a78d4847658b695383d849efd12399b38"><div class="ttname"><a href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a></div><div class="ttdeci">static char exten[AST_MAX_EXTENSION]</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d45/chan__alsa_8c_source.html#l00118">chan_alsa.c:118</a></div></div>
<div class="ttc" id="structast__channel_html"><div class="ttname"><a href="../../df/d3c/structast__channel.html">ast_channel</a></div><div class="ttdoc">Main Channel structure associated with a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00073">channel_internal_api.c:73</a></div></div>
<div class="ttc" id="utils_8h_html_a00d4c9254c9827d6fa44f17a326744a5"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a></div><div class="ttdeci">#define ast_test_flag(p, flag)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00063">utils.h:63</a></div></div>
<div class="ttc" id="pbx_8c_html_a9f840db4b5ef461ac2c0c975a57c9e89"><div class="ttname"><a href="../../db/d94/pbx_8c.html#a9f840db4b5ef461ac2c0c975a57c9e89">ast_explicit_goto</a></div><div class="ttdeci">int ast_explicit_goto(struct ast_channel *chan, const char *context, const char *exten, int priority)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l06987">pbx.c:6987</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="channel_8h_html_a17e5eed14e9256176bb685dc7bac620a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a17e5eed14e9256176bb685dc7bac620a">ast_channel_yank</a></div><div class="ttdeci">struct ast_channel * ast_channel_yank(struct ast_channel *yankee)</div><div class="ttdoc">Gain control of a channel in the system. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l10794">channel.c:10794</a></div></div>
<div class="ttc" id="cdr__beanstalkd_8c_html_acec9ce2df15222151ad66fcb1d74eb9f"><div class="ttname"><a href="../../d9/d47/cdr__beanstalkd_8c.html#acec9ce2df15222151ad66fcb1d74eb9f">priority</a></div><div class="ttdeci">static int priority</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d47/cdr__beanstalkd_8c_source.html#l00076">cdr_beanstalkd.c:76</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="channel_8h_html_a488b7d6f7488bedc53be45d4ef4471c9"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a488b7d6f7488bedc53be45d4ef4471c9">ast_channel_pbx</a></div><div class="ttdeci">struct ast_pbx * ast_channel_pbx(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00721">channel_internal_api.c:721</a></div></div>
<div class="ttc" id="pbx_8c_html_a9a937fbb3b5f4e68880a9c5714a29ce5"><div class="ttname"><a href="../../db/d94/pbx_8c.html#a9a937fbb3b5f4e68880a9c5714a29ce5">ast_pbx_start</a></div><div class="ttdeci">enum ast_pbx_result ast_pbx_start(struct ast_channel *c)</div><div class="ttdoc">Create a new thread and start the PBX. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l04712">pbx.c:4712</a></div></div>
<div class="ttc" id="channel_8h_html_ae90da1877e143b996d202d4c88a9c862"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#ae90da1877e143b996d202d4c88a9c862">ast_softhangup_nolock</a></div><div class="ttdeci">int ast_softhangup_nolock(struct ast_channel *chan, int reason)</div><div class="ttdoc">Softly hangup up a channel (no channel lock) </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l02463">channel.c:2463</a></div></div>
<div class="ttc" id="channel_8h_html_aa0a52e573af67cb0f29095177128d186"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#aa0a52e573af67cb0f29095177128d186">ast_channel_is_bridged</a></div><div class="ttdeci">int ast_channel_is_bridged(const struct ast_channel *chan)</div><div class="ttdoc">Determine if a channel is in a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l10746">channel.c:10746</a></div></div>
<div class="ttc" id="channel_8h_html_a82f2c6e4d47f62f6b65c5887eb096fd5a5ff4f7a94a36fcc2b8628186cb643d4b"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a82f2c6e4d47f62f6b65c5887eb096fd5a5ff4f7a94a36fcc2b8628186cb643d4b">AST_FLAG_IN_AUTOLOOP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l00998">channel.h:998</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="channel_8h_html_a29557c4823f5e9c02519a01daf6a289c"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a29557c4823f5e9c02519a01daf6a289c">ast_hangup</a></div><div class="ttdeci">void ast_hangup(struct ast_channel *chan)</div><div class="ttdoc">Hang up a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l02548">channel.c:2548</a></div></div>
<div class="ttc" id="channel_8h_html_a9e9505a91a84992d04ba4e85217fb4e4a085c0c603de12dc2474a17a92e1cb5a4"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a9e9505a91a84992d04ba4e85217fb4e4a085c0c603de12dc2474a17a92e1cb5a4">AST_SOFTHANGUP_ASYNCGOTO</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01127">channel.h:1127</a></div></div>
<div class="ttc" id="channel_8h_html_a7ca2fda13b129a55c251b56729de285b"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a></div><div class="ttdeci">const char * ast_channel_name(const struct ast_channel *chan)</div></div>
<div class="ttc" id="chan__alsa_8c_html_ac25ea00ee3f082df06e0cf468cbde240"><div class="ttname"><a href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a></div><div class="ttdeci">static char context[AST_MAX_CONTEXT]</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d45/chan__alsa_8c_source.html#l00116">chan_alsa.c:116</a></div></div>
<div class="ttc" id="channel_8h_html_a91de92158876186d28ba1773877f2732"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a91de92158876186d28ba1773877f2732">ast_channel_flags</a></div><div class="ttdeci">struct ast_flags * ast_channel_flags(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l01260">channel_internal_api.c:1260</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa43c73d212f6a5c3256cc90a7d7980a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa43c73d212f6a5c3256cc90a7d7980a1">&#9670;&nbsp;</a></span>ast_async_goto_by_name()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_async_goto_by_name </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>exten</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>priority</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the channel to next execute the specified dialplan location. </p>

<p class="definition">Definition at line <a class="el" href="../../db/d94/pbx_8c_source.html#l07044">7044</a> of file <a class="el" href="../../db/d94/pbx_8c_source.html">pbx.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/d94/pbx_8c_source.html#l07011">ast_async_goto()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l01454">ast_channel_get_by_name()</a>, and <a class="el" href="../../d5/d7b/channel_8h_source.html#l02981">ast_channel_unref</a>.</p>
<div class="fragment"><div class="line"><a name="l07045"></a><span class="lineno"> 7045</span>&#160;{</div><div class="line"><a name="l07046"></a><span class="lineno"> 7046</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan;</div><div class="line"><a name="l07047"></a><span class="lineno"> 7047</span>&#160;   <span class="keywordtype">int</span> res = -1;</div><div class="line"><a name="l07048"></a><span class="lineno"> 7048</span>&#160;</div><div class="line"><a name="l07049"></a><span class="lineno"> 7049</span>&#160;   <span class="keywordflow">if</span> ((chan = <a class="code" href="../../d5/d7b/channel_8h.html#ac7e42045272530c8678418993e75fd56">ast_channel_get_by_name</a>(channame))) {</div><div class="line"><a name="l07050"></a><span class="lineno"> 7050</span>&#160;      res = <a class="code" href="../../db/d94/pbx_8c.html#ae0ba2eb966a9e3376de61d30513f7302">ast_async_goto</a>(chan, <a class="code" href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a>, <a class="code" href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>, <a class="code" href="../../d9/d47/cdr__beanstalkd_8c.html#acec9ce2df15222151ad66fcb1d74eb9f">priority</a>);</div><div class="line"><a name="l07051"></a><span class="lineno"> 7051</span>&#160;      chan = <a class="code" href="../../d5/d7b/channel_8h.html#ab733a7825810b895a89b629e0ea89380">ast_channel_unref</a>(chan);</div><div class="line"><a name="l07052"></a><span class="lineno"> 7052</span>&#160;   }</div><div class="line"><a name="l07053"></a><span class="lineno"> 7053</span>&#160;</div><div class="line"><a name="l07054"></a><span class="lineno"> 7054</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l07055"></a><span class="lineno"> 7055</span>&#160;}</div><div class="ttc" id="chan__alsa_8c_html_a78d4847658b695383d849efd12399b38"><div class="ttname"><a href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a></div><div class="ttdeci">static char exten[AST_MAX_EXTENSION]</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d45/chan__alsa_8c_source.html#l00118">chan_alsa.c:118</a></div></div>
<div class="ttc" id="structast__channel_html"><div class="ttname"><a href="../../df/d3c/structast__channel.html">ast_channel</a></div><div class="ttdoc">Main Channel structure associated with a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00073">channel_internal_api.c:73</a></div></div>
<div class="ttc" id="channel_8h_html_ab733a7825810b895a89b629e0ea89380"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#ab733a7825810b895a89b629e0ea89380">ast_channel_unref</a></div><div class="ttdeci">#define ast_channel_unref(c)</div><div class="ttdoc">Decrease channel reference count. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02981">channel.h:2981</a></div></div>
<div class="ttc" id="cdr__beanstalkd_8c_html_acec9ce2df15222151ad66fcb1d74eb9f"><div class="ttname"><a href="../../d9/d47/cdr__beanstalkd_8c.html#acec9ce2df15222151ad66fcb1d74eb9f">priority</a></div><div class="ttdeci">static int priority</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d47/cdr__beanstalkd_8c_source.html#l00076">cdr_beanstalkd.c:76</a></div></div>
<div class="ttc" id="pbx_8c_html_ae0ba2eb966a9e3376de61d30513f7302"><div class="ttname"><a href="../../db/d94/pbx_8c.html#ae0ba2eb966a9e3376de61d30513f7302">ast_async_goto</a></div><div class="ttdeci">int ast_async_goto(struct ast_channel *chan, const char *context, const char *exten, int priority)</div><div class="ttdoc">Set the channel to next execute the specified dialplan location. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l07011">pbx.c:7011</a></div></div>
<div class="ttc" id="chan__alsa_8c_html_ac25ea00ee3f082df06e0cf468cbde240"><div class="ttname"><a href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a></div><div class="ttdeci">static char context[AST_MAX_CONTEXT]</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d45/chan__alsa_8c_source.html#l00116">chan_alsa.c:116</a></div></div>
<div class="ttc" id="channel_8h_html_ac7e42045272530c8678418993e75fd56"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#ac7e42045272530c8678418993e75fd56">ast_channel_get_by_name</a></div><div class="ttdeci">struct ast_channel * ast_channel_get_by_name(const char *name)</div><div class="ttdoc">Find a channel by name. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l01454">channel.c:1454</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a281fc61f41a1be7fdd6c620372c4510b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a281fc61f41a1be7fdd6c620372c4510b">&#9670;&nbsp;</a></span>ast_async_goto_if_exists()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_async_goto_if_exists </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>exten</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>priority</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section note"><dt>Note</dt><dd>This function will handle locking the channel as needed. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../db/d94/pbx_8c_source.html#l08798">8798</a> of file <a class="el" href="../../db/d94/pbx_8c_source.html">pbx.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/d94/pbx_8c_source.html#l08772">__ast_goto_if_exists()</a>.</p>
<div class="fragment"><div class="line"><a name="l08799"></a><span class="lineno"> 8799</span>&#160;{</div><div class="line"><a name="l08800"></a><span class="lineno"> 8800</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../db/d94/pbx_8c.html#a5c2ad0729efb2f13f192ee283f6f13c2">__ast_goto_if_exists</a>(chan, <a class="code" href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a>, <a class="code" href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>, <a class="code" href="../../d9/d47/cdr__beanstalkd_8c.html#acec9ce2df15222151ad66fcb1d74eb9f">priority</a>, 1);</div><div class="line"><a name="l08801"></a><span class="lineno"> 8801</span>&#160;}</div><div class="ttc" id="chan__alsa_8c_html_a78d4847658b695383d849efd12399b38"><div class="ttname"><a href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a></div><div class="ttdeci">static char exten[AST_MAX_EXTENSION]</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d45/chan__alsa_8c_source.html#l00118">chan_alsa.c:118</a></div></div>
<div class="ttc" id="pbx_8c_html_a5c2ad0729efb2f13f192ee283f6f13c2"><div class="ttname"><a href="../../db/d94/pbx_8c.html#a5c2ad0729efb2f13f192ee283f6f13c2">__ast_goto_if_exists</a></div><div class="ttdeci">static int __ast_goto_if_exists(struct ast_channel *chan, const char *context, const char *exten, int priority, int async)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l08772">pbx.c:8772</a></div></div>
<div class="ttc" id="cdr__beanstalkd_8c_html_acec9ce2df15222151ad66fcb1d74eb9f"><div class="ttname"><a href="../../d9/d47/cdr__beanstalkd_8c.html#acec9ce2df15222151ad66fcb1d74eb9f">priority</a></div><div class="ttdeci">static int priority</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d47/cdr__beanstalkd_8c_source.html#l00076">cdr_beanstalkd.c:76</a></div></div>
<div class="ttc" id="chan__alsa_8c_html_ac25ea00ee3f082df06e0cf468cbde240"><div class="ttname"><a href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a></div><div class="ttdeci">static char context[AST_MAX_CONTEXT]</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d45/chan__alsa_8c_source.html#l00116">chan_alsa.c:116</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa2caee9cd93973d6f2bc806b34f564d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa2caee9cd93973d6f2bc806b34f564d6">&#9670;&nbsp;</a></span>ast_async_parseable_goto()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_async_parseable_goto </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>goto_string</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section note"><dt>Note</dt><dd>This function will handle locking the channel as needed. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../db/d94/pbx_8c_source.html#l08864">8864</a> of file <a class="el" href="../../db/d94/pbx_8c_source.html">pbx.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/d94/pbx_8c_source.html#l08803">pbx_parseable_goto()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d1b/app__channelredirect_8c_source.html#l00067">asyncgoto_exec()</a>, <a class="el" href="../../d9/d4a/app__tonedetect_8c_source.html#l00224">detect_callback()</a>, <a class="el" href="../../d6/d2e/res__clioriginate_8c_source.html#l00185">handle_redirect()</a>, and <a class="el" href="../../d1/db7/parking__bridge__features_8c_source.html#l00575">parking_duration_callback()</a>.</p>
<div class="fragment"><div class="line"><a name="l08865"></a><span class="lineno"> 8865</span>&#160;{</div><div class="line"><a name="l08866"></a><span class="lineno"> 8866</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../db/d94/pbx_8c.html#aa18771ce9668fbafeb630ce5c802e6f8">pbx_parseable_goto</a>(chan, goto_string, 1);</div><div class="line"><a name="l08867"></a><span class="lineno"> 8867</span>&#160;}</div><div class="ttc" id="pbx_8c_html_aa18771ce9668fbafeb630ce5c802e6f8"><div class="ttname"><a href="../../db/d94/pbx_8c.html#aa18771ce9668fbafeb630ce5c802e6f8">pbx_parseable_goto</a></div><div class="ttdeci">static int pbx_parseable_goto(struct ast_channel *chan, const char *goto_string, int async)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l08803">pbx.c:8803</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a018549fd5d5470b676da92f6034b7347"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a018549fd5d5470b676da92f6034b7347">&#9670;&nbsp;</a></span>ast_build_timing()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_build_timing </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dc/d83/structast__timing.html">ast_timing</a> *&#160;</td>
          <td class="paramname"><em>i</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>info_in</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Construct a timing bitmap, for use in time-based conditionals. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">i</td><td>Pointer to an <a class="el" href="../../dc/d83/structast__timing.html">ast_timing</a> structure. </td></tr>
    <tr><td class="paramname">info</td><td>Standard string containing a timerange, weekday range, monthday range, and month range, as well as an optional timezone. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">Returns</td><td>1 on success or 0 on failure.</td></tr>
  </table>
  </dd>
</dl>
<p>/brief Build timing</p>
<p>/param i info /param info_in </p>

<p class="definition">Definition at line <a class="el" href="../../d4/dc5/extconf_8c_source.html#l03808">3808</a> of file <a class="el" href="../../d4/dc5/extconf_8c_source.html">extconf.c</a>.</p>

<p class="reference">References <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00243">ast_strdup</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00300">ast_strdupa</a>, <a class="el" href="../../d4/dc5/extconf_8c_source.html#l00952">ast_strlen_zero()</a>, <a class="el" href="../../db/de0/pbx_8h_source.html#l00174">ast_timing::daymask</a>, <a class="el" href="../../d3/d0c/pbx__timing_8c_source.html#l00168">days</a>, <a class="el" href="../../db/de0/pbx_8h_source.html#l00175">ast_timing::dowmask</a>, <a class="el" href="../../d4/dc5/extconf_8c_source.html#l02640">get_range()</a>, <a class="el" href="../../d4/dc5/extconf_8c_source.html#l02684">get_timerange()</a>, <a class="el" href="../../d9/d6f/sip__to__pjsip_8py_source.html#l01313">sip_to_pjsip::info()</a>, <a class="el" href="../../db/de0/pbx_8h_source.html#l00173">ast_timing::monthmask</a>, <a class="el" href="../../d3/d0c/pbx__timing_8c_source.html#l00180">months</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../de/da3/include_2asterisk_2compat_8h.html#a40eca58273c74a20a17f137d18ba826c">strsep()</a>, and <a class="el" href="../../db/de0/pbx_8h_source.html#l00177">ast_timing::timezone</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/dc5/extconf_8c_source.html#l04503">ast_context_add_include2()</a>, <a class="el" href="../../da/dd2/func__logic_8c_source.html#l00132">iftime()</a>, <a class="el" href="../../d6/d0e/pbx__include_8c_source.html#l00074">include_alloc()</a>, <a class="el" href="../../df/d1d/pbx__builtins_8c_source.html#l00959">pbx_builtin_execiftime()</a>, and <a class="el" href="../../df/d1d/pbx__builtins_8c_source.html#l00905">pbx_builtin_gotoiftime()</a>.</p>
<div class="fragment"><div class="line"><a name="l03809"></a><span class="lineno"> 3809</span>&#160;{</div><div class="line"><a name="l03810"></a><span class="lineno"> 3810</span>&#160;   <span class="keywordtype">char</span> *<a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>;</div><div class="line"><a name="l03811"></a><span class="lineno"> 3811</span>&#160;   <span class="keywordtype">int</span> j, num_fields, last_sep = -1;</div><div class="line"><a name="l03812"></a><span class="lineno"> 3812</span>&#160;</div><div class="line"><a name="l03813"></a><span class="lineno"> 3813</span>&#160;   i-&gt;<a class="code" href="../../dc/d83/structast__timing.html#a6ae97b112891a41b76e46661d55e0572">timezone</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l03814"></a><span class="lineno"> 3814</span>&#160;</div><div class="line"><a name="l03815"></a><span class="lineno"> 3815</span>&#160;   <span class="comment">/* Check for empty just in case */</span></div><div class="line"><a name="l03816"></a><span class="lineno"> 3816</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d4/dc5/extconf_8c.html#ae75283f56140ae6a3a2c1eb5397d212d">ast_strlen_zero</a>(info_in)) {</div><div class="line"><a name="l03817"></a><span class="lineno"> 3817</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l03818"></a><span class="lineno"> 3818</span>&#160;   }</div><div class="line"><a name="l03819"></a><span class="lineno"> 3819</span>&#160;</div><div class="line"><a name="l03820"></a><span class="lineno"> 3820</span>&#160;   <span class="comment">/* make a copy just in case we were passed a static string */</span></div><div class="line"><a name="l03821"></a><span class="lineno"> 3821</span>&#160;   info = <a class="code" href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a>(info_in);</div><div class="line"><a name="l03822"></a><span class="lineno"> 3822</span>&#160;</div><div class="line"><a name="l03823"></a><span class="lineno"> 3823</span>&#160;   <span class="comment">/* count the number of fields in the timespec */</span></div><div class="line"><a name="l03824"></a><span class="lineno"> 3824</span>&#160;   <span class="keywordflow">for</span> (j = 0, num_fields = 1; info[j] != <span class="charliteral">&#39;\0&#39;</span>; j++) {</div><div class="line"><a name="l03825"></a><span class="lineno"> 3825</span>&#160;      <span class="keywordflow">if</span> (info[j] == <span class="charliteral">&#39;,&#39;</span>) {</div><div class="line"><a name="l03826"></a><span class="lineno"> 3826</span>&#160;         last_sep = j;</div><div class="line"><a name="l03827"></a><span class="lineno"> 3827</span>&#160;         num_fields++;</div><div class="line"><a name="l03828"></a><span class="lineno"> 3828</span>&#160;      }</div><div class="line"><a name="l03829"></a><span class="lineno"> 3829</span>&#160;   }</div><div class="line"><a name="l03830"></a><span class="lineno"> 3830</span>&#160;</div><div class="line"><a name="l03831"></a><span class="lineno"> 3831</span>&#160;   <span class="comment">/* save the timezone, if it is specified */</span></div><div class="line"><a name="l03832"></a><span class="lineno"> 3832</span>&#160;   <span class="keywordflow">if</span> (num_fields == 5) {</div><div class="line"><a name="l03833"></a><span class="lineno"> 3833</span>&#160;      i-&gt;<a class="code" href="../../dc/d83/structast__timing.html#a6ae97b112891a41b76e46661d55e0572">timezone</a> = <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(info + last_sep + 1);</div><div class="line"><a name="l03834"></a><span class="lineno"> 3834</span>&#160;   }</div><div class="line"><a name="l03835"></a><span class="lineno"> 3835</span>&#160;</div><div class="line"><a name="l03836"></a><span class="lineno"> 3836</span>&#160;   <span class="comment">/* Assume everything except time */</span></div><div class="line"><a name="l03837"></a><span class="lineno"> 3837</span>&#160;   i-&gt;<a class="code" href="../../dc/d83/structast__timing.html#a3fdc5726e142f466b67b8feea4da21cf">monthmask</a> = 0xfff;   <span class="comment">/* 12 bits */</span></div><div class="line"><a name="l03838"></a><span class="lineno"> 3838</span>&#160;   i-&gt;<a class="code" href="../../dc/d83/structast__timing.html#a53851cc9d2020ded355f2a52e0d32238">daymask</a> = 0x7fffffffU; <span class="comment">/* 31 bits */</span></div><div class="line"><a name="l03839"></a><span class="lineno"> 3839</span>&#160;   i-&gt;<a class="code" href="../../dc/d83/structast__timing.html#a88d1a72894c612b57b2d2160f8ffadce">dowmask</a> = 0x7f; <span class="comment">/* 7 bits */</span></div><div class="line"><a name="l03840"></a><span class="lineno"> 3840</span>&#160;   <span class="comment">/* on each call, use strsep() to move info to the next argument */</span></div><div class="line"><a name="l03841"></a><span class="lineno"> 3841</span>&#160;   <a class="code" href="../../d4/dc5/extconf_8c.html#a75160d417c742f4c432dbccbc6d14d4a">get_timerange</a>(i, <a class="code" href="../../de/da3/include_2asterisk_2compat_8h.html#a40eca58273c74a20a17f137d18ba826c">strsep</a>(&amp;info, <span class="stringliteral">&quot;|,&quot;</span>));</div><div class="line"><a name="l03842"></a><span class="lineno"> 3842</span>&#160;   <span class="keywordflow">if</span> (info)</div><div class="line"><a name="l03843"></a><span class="lineno"> 3843</span>&#160;      i-&gt;<a class="code" href="../../dc/d83/structast__timing.html#a88d1a72894c612b57b2d2160f8ffadce">dowmask</a> = <a class="code" href="../../d4/dc5/extconf_8c.html#a77d85ac80b9171604f30e87a2382cdd0">get_range</a>(<a class="code" href="../../de/da3/include_2asterisk_2compat_8h.html#a40eca58273c74a20a17f137d18ba826c">strsep</a>(&amp;info, <span class="stringliteral">&quot;|,&quot;</span>), 7, <a class="code" href="../../d4/dc5/extconf_8c.html#a0cf0c4efde69b8309ac3a154d157d7ea">days</a>, <span class="stringliteral">&quot;day of week&quot;</span>);</div><div class="line"><a name="l03844"></a><span class="lineno"> 3844</span>&#160;   <span class="keywordflow">if</span> (info)</div><div class="line"><a name="l03845"></a><span class="lineno"> 3845</span>&#160;      i-&gt;<a class="code" href="../../dc/d83/structast__timing.html#a53851cc9d2020ded355f2a52e0d32238">daymask</a> = <a class="code" href="../../d4/dc5/extconf_8c.html#a77d85ac80b9171604f30e87a2382cdd0">get_range</a>(<a class="code" href="../../de/da3/include_2asterisk_2compat_8h.html#a40eca58273c74a20a17f137d18ba826c">strsep</a>(&amp;info, <span class="stringliteral">&quot;|,&quot;</span>), 31, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="stringliteral">&quot;day&quot;</span>);</div><div class="line"><a name="l03846"></a><span class="lineno"> 3846</span>&#160;   <span class="keywordflow">if</span> (info)</div><div class="line"><a name="l03847"></a><span class="lineno"> 3847</span>&#160;      i-&gt;<a class="code" href="../../dc/d83/structast__timing.html#a3fdc5726e142f466b67b8feea4da21cf">monthmask</a> = <a class="code" href="../../d4/dc5/extconf_8c.html#a77d85ac80b9171604f30e87a2382cdd0">get_range</a>(<a class="code" href="../../de/da3/include_2asterisk_2compat_8h.html#a40eca58273c74a20a17f137d18ba826c">strsep</a>(&amp;info, <span class="stringliteral">&quot;|,&quot;</span>), 12, <a class="code" href="../../d4/dc5/extconf_8c.html#a9878e6d5a52b0b77dd7857ae80601910">months</a>, <span class="stringliteral">&quot;month&quot;</span>);</div><div class="line"><a name="l03848"></a><span class="lineno"> 3848</span>&#160;   <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l03849"></a><span class="lineno"> 3849</span>&#160;}</div><div class="ttc" id="structast__timing_html_a53851cc9d2020ded355f2a52e0d32238"><div class="ttname"><a href="../../dc/d83/structast__timing.html#a53851cc9d2020ded355f2a52e0d32238">ast_timing::daymask</a></div><div class="ttdeci">unsigned int daymask</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de0/pbx_8h_source.html#l00174">pbx.h:174</a></div></div>
<div class="ttc" id="astmm_8h_html_ab263849d03fb892847be4986db759737"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a></div><div class="ttdeci">#define ast_strdup(str)</div><div class="ttdoc">A wrapper for strdup() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00243">astmm.h:243</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="extconf_8c_html_a77d85ac80b9171604f30e87a2382cdd0"><div class="ttname"><a href="../../d4/dc5/extconf_8c.html#a77d85ac80b9171604f30e87a2382cdd0">get_range</a></div><div class="ttdeci">static unsigned get_range(char *src, int max, char *const names[], const char *msg)</div><div class="ttdoc">helper function to return a range up to max (7, 12, 31 respectively). names, if supplied, is an array of names that should be mapped to numbers. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc5/extconf_8c_source.html#l02640">extconf.c:2640</a></div></div>
<div class="ttc" id="structast__timing_html_a3fdc5726e142f466b67b8feea4da21cf"><div class="ttname"><a href="../../dc/d83/structast__timing.html#a3fdc5726e142f466b67b8feea4da21cf">ast_timing::monthmask</a></div><div class="ttdeci">unsigned int monthmask</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de0/pbx_8h_source.html#l00173">pbx.h:173</a></div></div>
<div class="ttc" id="extconf_8c_html_ae75283f56140ae6a3a2c1eb5397d212d"><div class="ttname"><a href="../../d4/dc5/extconf_8c.html#ae75283f56140ae6a3a2c1eb5397d212d">ast_strlen_zero</a></div><div class="ttdeci">static force_inline int ast_strlen_zero(const char *s)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc5/extconf_8c_source.html#l00952">extconf.c:952</a></div></div>
<div class="ttc" id="astmm_8h_html_ab5f0750cc80ba337fdcbddea2d3a1ee6"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a></div><div class="ttdeci">#define ast_strdupa(s)</div><div class="ttdoc">duplicate a string in memory from the stack </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00300">astmm.h:300</a></div></div>
<div class="ttc" id="extconf_8c_html_a75160d417c742f4c432dbccbc6d14d4a"><div class="ttname"><a href="../../d4/dc5/extconf_8c.html#a75160d417c742f4c432dbccbc6d14d4a">get_timerange</a></div><div class="ttdeci">static void get_timerange(struct ast_timing *i, char *times)</div><div class="ttdoc">store a bitmask of valid times, one bit each 2 minute </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc5/extconf_8c_source.html#l02684">extconf.c:2684</a></div></div>
<div class="ttc" id="extconf_8c_html_a0cf0c4efde69b8309ac3a154d157d7ea"><div class="ttname"><a href="../../d4/dc5/extconf_8c.html#a0cf0c4efde69b8309ac3a154d157d7ea">days</a></div><div class="ttdeci">char * days[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc5/extconf_8c_source.html#l03777">extconf.c:3777</a></div></div>
<div class="ttc" id="structast__timing_html_a88d1a72894c612b57b2d2160f8ffadce"><div class="ttname"><a href="../../dc/d83/structast__timing.html#a88d1a72894c612b57b2d2160f8ffadce">ast_timing::dowmask</a></div><div class="ttdeci">unsigned int dowmask</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de0/pbx_8h_source.html#l00175">pbx.h:175</a></div></div>
<div class="ttc" id="namespacesip__to__pjsip_html_ab82f408a83ecba10ea39afd8abfd371e"><div class="ttname"><a href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">sip_to_pjsip.info</a></div><div class="ttdeci">def info(msg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d6f/sip__to__pjsip_8py_source.html#l01313">sip_to_pjsip.py:1313</a></div></div>
<div class="ttc" id="extconf_8c_html_a9878e6d5a52b0b77dd7857ae80601910"><div class="ttname"><a href="../../d4/dc5/extconf_8c.html#a9878e6d5a52b0b77dd7857ae80601910">months</a></div><div class="ttdeci">char * months[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc5/extconf_8c_source.html#l03789">extconf.c:3789</a></div></div>
<div class="ttc" id="include_2asterisk_2compat_8h_html_a40eca58273c74a20a17f137d18ba826c"><div class="ttname"><a href="../../de/da3/include_2asterisk_2compat_8h.html#a40eca58273c74a20a17f137d18ba826c">strsep</a></div><div class="ttdeci">char * strsep(char **str, const char *delims)</div></div>
<div class="ttc" id="structast__timing_html_a6ae97b112891a41b76e46661d55e0572"><div class="ttname"><a href="../../dc/d83/structast__timing.html#a6ae97b112891a41b76e46661d55e0572">ast_timing::timezone</a></div><div class="ttdeci">char * timezone</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de0/pbx_8h_source.html#l00177">pbx.h:177</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a93f9868530c1e8a9d9d367d1ead8782e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a93f9868530c1e8a9d9d367d1ead8782e">&#9670;&nbsp;</a></span>ast_canmatch_extension()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_canmatch_extension </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>exten</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>priority</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>callerid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Looks for a valid matching extension. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">c</td><td>not really important </td></tr>
    <tr><td class="paramname">context</td><td>context to serach within </td></tr>
    <tr><td class="paramname">exten</td><td>extension to check </td></tr>
    <tr><td class="paramname">priority</td><td>priority of extension path </td></tr>
    <tr><td class="paramname">callerid</td><td>callerid of extension being searched for</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>It is possible for autoservice to be started and stopped on c during this function call, it is important that c is not locked prior to calling this. Otherwise a deadlock may occur</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>If "exten" <em>could be</em> a valid extension in this context with or without some more digits, return non-zero. Basically, when this returns 0, no matter what you add to exten, it's not going to be a valid extension anymore </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../db/d94/pbx_8c_source.html#l04194">4194</a> of file <a class="el" href="../../db/d94/pbx_8c_source.html">pbx.c</a>.</p>

<p class="reference">References <a class="el" href="../../dd/ddb/extconf_8h_source.html#l00217">E_CANMATCH</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../db/d94/pbx_8c_source.html#l02875">pbx_extension_helper()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/d09/sig__analog_8c_source.html#l01711">__analog_ss_thread()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l09512">analog_ss_thread()</a>, <a class="el" href="../../d3/dba/app__talkdetect_8c_source.html#l00080">background_detect_exec()</a>, <a class="el" href="../../d7/d9b/chan__misdn_8c_source.html#l09917">cb_events()</a>, <a class="el" href="../../d7/d9b/chan__misdn_8c_source.html#l08659">do_immediate_setup()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l09538">dp_lookup()</a>, <a class="el" href="../../d1/dc0/pbx__dundi_8c_source.html#l00578">dundi_lookup_local()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l19043">get_also_info()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l18508">get_destination()</a>, <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l06601">leave_voicemail()</a>, <a class="el" href="../../d8/d48/pbx__loopback_8c_source.html#l00140">loopback_canmatch()</a>, <a class="el" href="../../d0/dd6/chan__mgcp_8c_source.html#l03000">mgcp_ss()</a>, <a class="el" href="../../df/d1d/pbx__builtins_8c_source.html#l01144">pbx_builtin_background()</a>, <a class="el" href="../../da/dde/chan__phone_8c_source.html#l00936">phone_check_exception()</a>, <a class="el" href="../../d9/d62/test__pbx_8c_source.html#l00156">test_exten()</a>, and <a class="el" href="../../da/dfb/app__queue_8c_source.html#l03945">valid_exit()</a>.</p>
<div class="fragment"><div class="line"><a name="l04195"></a><span class="lineno"> 4195</span>&#160;{</div><div class="line"><a name="l04196"></a><span class="lineno"> 4196</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../db/d94/pbx_8c.html#ae381d99bea85b43f022470b64171018d">pbx_extension_helper</a>(c, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a>, <a class="code" href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>, <a class="code" href="../../d9/d47/cdr__beanstalkd_8c.html#acec9ce2df15222151ad66fcb1d74eb9f">priority</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, callerid, <a class="code" href="../../dd/ddb/extconf_8h.html#a2b7f0fafc6995b2630658a4fd8df26bea413c09377a892aa154e7669cbdaf27ba">E_CANMATCH</a>, 0, 0);</div><div class="line"><a name="l04197"></a><span class="lineno"> 4197</span>&#160;}</div><div class="ttc" id="chan__alsa_8c_html_a78d4847658b695383d849efd12399b38"><div class="ttname"><a href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a></div><div class="ttdeci">static char exten[AST_MAX_EXTENSION]</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d45/chan__alsa_8c_source.html#l00118">chan_alsa.c:118</a></div></div>
<div class="ttc" id="extconf_8h_html_a2b7f0fafc6995b2630658a4fd8df26bea413c09377a892aa154e7669cbdaf27ba"><div class="ttname"><a href="../../dd/ddb/extconf_8h.html#a2b7f0fafc6995b2630658a4fd8df26bea413c09377a892aa154e7669cbdaf27ba">E_CANMATCH</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/ddb/extconf_8h_source.html#l00217">extconf.h:217</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="cdr__beanstalkd_8c_html_acec9ce2df15222151ad66fcb1d74eb9f"><div class="ttname"><a href="../../d9/d47/cdr__beanstalkd_8c.html#acec9ce2df15222151ad66fcb1d74eb9f">priority</a></div><div class="ttdeci">static int priority</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d47/cdr__beanstalkd_8c_source.html#l00076">cdr_beanstalkd.c:76</a></div></div>
<div class="ttc" id="chan__alsa_8c_html_ac25ea00ee3f082df06e0cf468cbde240"><div class="ttname"><a href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a></div><div class="ttdeci">static char context[AST_MAX_CONTEXT]</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d45/chan__alsa_8c_source.html#l00116">chan_alsa.c:116</a></div></div>
<div class="ttc" id="pbx_8c_html_ae381d99bea85b43f022470b64171018d"><div class="ttname"><a href="../../db/d94/pbx_8c.html#ae381d99bea85b43f022470b64171018d">pbx_extension_helper</a></div><div class="ttdeci">static int pbx_extension_helper(struct ast_channel *c, struct ast_context *con, const char *context, const char *exten, int priority, const char *label, const char *callerid, enum ext_match_t action, int *found, int combined_find_spawn)</div><div class="ttdoc">The return value depends on the action: </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l02875">pbx.c:2875</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a17b7d6ec799c60a8fda825cf59aea7eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a17b7d6ec799c60a8fda825cf59aea7eb">&#9670;&nbsp;</a></span>ast_check_timing()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_check_timing </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../dc/d83/structast__timing.html">ast_timing</a> *&#160;</td>
          <td class="paramname"><em>i</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Evaluate a pre-constructed bitmap as to whether the current time falls within the range specified. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">i</td><td>Pointer to an <a class="el" href="../../dc/d83/structast__timing.html">ast_timing</a> structure. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">Returns</td><td>1, if the time matches or 0, if the current time falls outside of the specified range. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d4/dc5/extconf_8c_source.html#l04002">4002</a> of file <a class="el" href="../../d4/dc5/extconf_8c_source.html">extconf.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d0c/pbx__timing_8c_source.html#l00251">ast_check_timing2()</a>, <a class="el" href="../../d4/dc5/extconf_8c_source.html#l01777">AST_RWLIST_TRAVERSE</a>, <a class="el" href="../../de/df7/time_8h_source.html#l00150">ast_tvnow()</a>, <a class="el" href="../../d4/dc5/extconf_8c_source.html#l04026">ast_walk_contexts()</a>, <a class="el" href="../../d9/df6/structast__switch.html#af89062e7ec533d49969a67fb6b5e8b74">ast_switch::list</a>, <a class="el" href="../../db/de0/pbx_8h_source.html#l00162">ast_switch::name</a>, and <a class="el" href="../../d2/df2/pbx__switch_8c_source.html#l00040">pbx_findswitch()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/dc5/extconf_8c_source.html#l03973">ext_strncpy()</a>, <a class="el" href="../../da/dd2/func__logic_8c_source.html#l00132">iftime()</a>, <a class="el" href="../../d4/dc5/extconf_8c_source.html#l04313">include_valid()</a>, and <a class="el" href="../../df/d1d/pbx__builtins_8c_source.html#l00959">pbx_builtin_execiftime()</a>.</p>
<div class="fragment"><div class="line"><a name="l04003"></a><span class="lineno"> 4003</span>&#160;{</div><div class="line"><a name="l04004"></a><span class="lineno"> 4004</span>&#160;   <span class="comment">/* sorry, but this feature will NOT be available</span></div><div class="line"><a name="l04005"></a><span class="lineno"> 4005</span>&#160;<span class="comment">      in the standalone version */</span></div><div class="line"><a name="l04006"></a><span class="lineno"> 4006</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l04007"></a><span class="lineno"> 4007</span>&#160;}</div></div><!-- fragment -->
</div>
</div>
<a id="a34268cc8b5103f456ac5cd5798604279"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a34268cc8b5103f456ac5cd5798604279">&#9670;&nbsp;</a></span>ast_check_timing2()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_check_timing2 </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../dc/d83/structast__timing.html">ast_timing</a> *&#160;</td>
          <td class="paramname"><em>i</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct timeval&#160;</td>
          <td class="paramname"><em>tv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Evaluate a pre-constructed bitmap as to whether a particular time falls within the range specified. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">i</td><td>Pointer to an <a class="el" href="../../dc/d83/structast__timing.html">ast_timing</a> structure. </td></tr>
    <tr><td class="paramname">tv</td><td>Specified time </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">Returns</td><td>1, if the time matches or 0, if the time falls outside of the specified range. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d0c/pbx__timing_8c_source.html#l00251">251</a> of file <a class="el" href="../../d3/d0c/pbx__timing_8c_source.html">pbx_timing.c</a>.</p>

<p class="reference">References <a class="el" href="../../d9/df8/localtime_8c_source.html#l01739">ast_localtime()</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../db/de0/pbx_8h_source.html#l00174">ast_timing::daymask</a>, <a class="el" href="../../db/de0/pbx_8h_source.html#l00175">ast_timing::dowmask</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../db/de0/pbx_8h_source.html#l00176">ast_timing::minmask</a>, <a class="el" href="../../db/de0/pbx_8h_source.html#l00173">ast_timing::monthmask</a>, <a class="el" href="../../db/de0/pbx_8h_source.html#l00177">ast_timing::timezone</a>, <a class="el" href="../../d5/deb/localtime_8h_source.html#l00038">ast_tm::tm_hour</a>, <a class="el" href="../../d5/deb/localtime_8h_source.html#l00039">ast_tm::tm_mday</a>, <a class="el" href="../../d5/deb/localtime_8h_source.html#l00037">ast_tm::tm_min</a>, <a class="el" href="../../d5/deb/localtime_8h_source.html#l00040">ast_tm::tm_mon</a>, and <a class="el" href="../../d5/deb/localtime_8h_source.html#l00042">ast_tm::tm_wday</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d0c/pbx__timing_8c_source.html#l00246">ast_check_timing()</a>, and <a class="el" href="../../df/d1d/pbx__builtins_8c_source.html#l00905">pbx_builtin_gotoiftime()</a>.</p>
<div class="fragment"><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;{</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d5/d84/structast__tm.html">ast_tm</a> tm;</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;   <a class="code" href="../../d5/deb/localtime_8h.html#ae9fbda728350a9a5b9c09b29214d718e">ast_localtime</a>(&amp;tv, &amp;tm, i-&gt;<a class="code" href="../../dc/d83/structast__timing.html#a6ae97b112891a41b76e46661d55e0572">timezone</a>);</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;   <span class="comment">/* If it&#39;s not the right month, return */</span></div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;   <span class="keywordflow">if</span> (!(i-&gt;<a class="code" href="../../dc/d83/structast__timing.html#a3fdc5726e142f466b67b8feea4da21cf">monthmask</a> &amp; (1 &lt;&lt; tm.tm_mon)))</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;   <span class="comment">/* If it&#39;s not that time of the month.... */</span></div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;   <span class="comment">/* Warning, tm_mday has range 1..31! */</span></div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;   <span class="keywordflow">if</span> (!(i-&gt;<a class="code" href="../../dc/d83/structast__timing.html#a53851cc9d2020ded355f2a52e0d32238">daymask</a> &amp; (1 &lt;&lt; (tm.tm_mday-1))))</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;   <span class="comment">/* If it&#39;s not the right day of the week */</span></div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;   <span class="keywordflow">if</span> (!(i-&gt;<a class="code" href="../../dc/d83/structast__timing.html#a88d1a72894c612b57b2d2160f8ffadce">dowmask</a> &amp; (1 &lt;&lt; tm.tm_wday)))</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;   <span class="comment">/* Sanity check the hour just to be safe */</span></div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;   <span class="keywordflow">if</span> ((tm.tm_hour &lt; 0) || (tm.tm_hour &gt; 23)) {</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Insane time...\n&quot;</span>);</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;   }</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;   <span class="comment">/* Now the tough part, we calculate if it fits</span></div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;<span class="comment">      in the right time based on min/hour */</span></div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;   <span class="keywordflow">if</span> (!(i-&gt;<a class="code" href="../../dc/d83/structast__timing.html#a5a7596befb20fd656a48fdd1f46e42d9">minmask</a>[tm.tm_hour * 2 + (tm.tm_min &gt;= 30 ? 1 : 0)] &amp; (1 &lt;&lt; (tm.tm_min &gt;= 30 ? tm.tm_min - 30 : tm.tm_min))))</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;   <span class="comment">/* If we got this far, then we&#39;re good */</span></div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;   <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;}</div><div class="ttc" id="structast__timing_html_a53851cc9d2020ded355f2a52e0d32238"><div class="ttname"><a href="../../dc/d83/structast__timing.html#a53851cc9d2020ded355f2a52e0d32238">ast_timing::daymask</a></div><div class="ttdeci">unsigned int daymask</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de0/pbx_8h_source.html#l00174">pbx.h:174</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="localtime_8h_html_ae9fbda728350a9a5b9c09b29214d718e"><div class="ttname"><a href="../../d5/deb/localtime_8h.html#ae9fbda728350a9a5b9c09b29214d718e">ast_localtime</a></div><div class="ttdeci">struct ast_tm * ast_localtime(const struct timeval *timep, struct ast_tm *p_tm, const char *zone)</div><div class="ttdoc">Timezone-independent version of localtime_r(3). </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/df8/localtime_8c_source.html#l01739">localtime.c:1739</a></div></div>
<div class="ttc" id="structast__timing_html_a5a7596befb20fd656a48fdd1f46e42d9"><div class="ttname"><a href="../../dc/d83/structast__timing.html#a5a7596befb20fd656a48fdd1f46e42d9">ast_timing::minmask</a></div><div class="ttdeci">unsigned int minmask[48]</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de0/pbx_8h_source.html#l00176">pbx.h:176</a></div></div>
<div class="ttc" id="structast__timing_html_a3fdc5726e142f466b67b8feea4da21cf"><div class="ttname"><a href="../../dc/d83/structast__timing.html#a3fdc5726e142f466b67b8feea4da21cf">ast_timing::monthmask</a></div><div class="ttdeci">unsigned int monthmask</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de0/pbx_8h_source.html#l00173">pbx.h:173</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="structast__timing_html_a88d1a72894c612b57b2d2160f8ffadce"><div class="ttname"><a href="../../dc/d83/structast__timing.html#a88d1a72894c612b57b2d2160f8ffadce">ast_timing::dowmask</a></div><div class="ttdeci">unsigned int dowmask</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de0/pbx_8h_source.html#l00175">pbx.h:175</a></div></div>
<div class="ttc" id="structast__timing_html_a6ae97b112891a41b76e46661d55e0572"><div class="ttname"><a href="../../dc/d83/structast__timing.html#a6ae97b112891a41b76e46661d55e0572">ast_timing::timezone</a></div><div class="ttdeci">char * timezone</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de0/pbx_8h_source.html#l00177">pbx.h:177</a></div></div>
<div class="ttc" id="structast__tm_html"><div class="ttname"><a href="../../d5/d84/structast__tm.html">ast_tm</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/deb/localtime_8h_source.html#l00035">localtime.h:35</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a7f53613acac6db6fac7c89aaf57cbcc9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f53613acac6db6fac7c89aaf57cbcc9">&#9670;&nbsp;</a></span>ast_complete_applications()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* ast_complete_applications </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>line</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>word</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>state</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Command completion for the list of installed applications. </p>
<p>This can be called from a CLI command completion function that wants to complete from the list of available applications. </p>

<p class="definition">Definition at line <a class="el" href="../../dd/d16/pbx__app_8c_source.html#l00429">429</a> of file <a class="el" href="../../dd/d16/pbx__app_8c_source.html">pbx_app.c</a>.</p>

<p class="reference">References <a class="el" href="../../d0/db6/app__mysql_8c_source.html#l00062">app</a>, <a class="el" href="../../df/dd3/main_2cli_8c_source.html#l02726">ast_cli_completion_add()</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00077">AST_RWLIST_RDLOCK</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00493">AST_RWLIST_TRAVERSE</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00150">AST_RWLIST_UNLOCK</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00243">ast_strdup</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d2e/res__clioriginate_8c_source.html#l00136">handle_orig()</a>, and <a class="el" href="../../dd/d16/pbx__app_8c_source.html#l00260">handle_show_application()</a>.</p>
<div class="fragment"><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;{</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/da3/structast__app.html">ast_app</a> *<a class="code" href="../../d0/db6/app__mysql_8c.html#a1d9b1eccfc259a14525ce817482a3f88">app</a>;</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;   <span class="keywordtype">int</span> which = 0;</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;   <span class="keywordtype">int</span> cmp;</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;   <span class="keywordtype">char</span> *ret = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;   <span class="keywordtype">size_t</span> wordlen = strlen(<a class="code" href="../../d6/da0/codecs_2gsm_2inc_2private_8h.html#a0b023cbb2bf7d034c2269d58d7455ac8">word</a>);</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a0a0fe104cc2cc36a43784f886f3ae7dc">AST_RWLIST_RDLOCK</a>(&amp;<a class="code" href="../../d3/d01/structapps.html">apps</a>);</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a944b82566722f2247aa35f1328402c98">AST_RWLIST_TRAVERSE</a>(&amp;<a class="code" href="../../d3/d01/structapps.html">apps</a>, app, list) {</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;      cmp = strncasecmp(<a class="code" href="../../d6/da0/codecs_2gsm_2inc_2private_8h.html#a0b023cbb2bf7d034c2269d58d7455ac8">word</a>, app-&gt;name, wordlen);</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;      <span class="keywordflow">if</span> (cmp &lt; 0) {</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;         <span class="comment">/* No more matches. */</span></div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!cmp) {</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;         <span class="comment">/* Found match. */</span></div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;         <span class="keywordflow">if</span> (<a class="code" href="../../d4/d88/structstate.html">state</a> != -1) {</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;            <span class="keywordflow">if</span> (++which &lt;= <a class="code" href="../../d4/d88/structstate.html">state</a>) {</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;               <span class="comment">/* Not enough matches. */</span></div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;               <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;            }</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;            ret = <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(app-&gt;name);</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;         }</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;         <span class="keywordflow">if</span> (<a class="code" href="../../dc/db0/cli_8h.html#a6f5f6c330757d980065d3f887c62237f">ast_cli_completion_add</a>(<a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(app-&gt;name))) {</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;         }</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;      }</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;   }</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a2e9a2518b5029b96671aff6701bd5138">AST_RWLIST_UNLOCK</a>(&amp;<a class="code" href="../../d3/d01/structapps.html">apps</a>);</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;   <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;}</div><div class="ttc" id="structapps_html"><div class="ttname"><a href="../../d3/d01/structapps.html">apps</a></div><div class="ttdoc">Registered applications container. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d16/pbx__app_8c_source.html#l00067">pbx_app.c:67</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a2e9a2518b5029b96671aff6701bd5138"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a2e9a2518b5029b96671aff6701bd5138">AST_RWLIST_UNLOCK</a></div><div class="ttdeci">#define AST_RWLIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a read/write based list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00150">linkedlists.h:150</a></div></div>
<div class="ttc" id="astmm_8h_html_ab263849d03fb892847be4986db759737"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a></div><div class="ttdeci">#define ast_strdup(str)</div><div class="ttdoc">A wrapper for strdup() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00243">astmm.h:243</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a0a0fe104cc2cc36a43784f886f3ae7dc"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a0a0fe104cc2cc36a43784f886f3ae7dc">AST_RWLIST_RDLOCK</a></div><div class="ttdeci">#define AST_RWLIST_RDLOCK(head)</div><div class="ttdoc">Read locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00077">linkedlists.h:77</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a944b82566722f2247aa35f1328402c98"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a944b82566722f2247aa35f1328402c98">AST_RWLIST_TRAVERSE</a></div><div class="ttdeci">#define AST_RWLIST_TRAVERSE</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00493">linkedlists.h:493</a></div></div>
<div class="ttc" id="structstate_html"><div class="ttname"><a href="../../d4/d88/structstate.html">state</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/df8/localtime_8c_source.html#l00158">localtime.c:158</a></div></div>
<div class="ttc" id="structast__app_html"><div class="ttname"><a href="../../d0/da3/structast__app.html">ast_app</a></div><div class="ttdoc">ast_app: A registered application </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d16/pbx__app_8c_source.html#l00045">pbx_app.c:45</a></div></div>
<div class="ttc" id="cli_8h_html_a6f5f6c330757d980065d3f887c62237f"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a6f5f6c330757d980065d3f887c62237f">ast_cli_completion_add</a></div><div class="ttdeci">int ast_cli_completion_add(char *value)</div><div class="ttdoc">Add a result to a request for completion options. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/dd3/main_2cli_8c_source.html#l02726">main/cli.c:2726</a></div></div>
<div class="ttc" id="app__mysql_8c_html_a1d9b1eccfc259a14525ce817482a3f88"><div class="ttname"><a href="../../d0/db6/app__mysql_8c.html#a1d9b1eccfc259a14525ce817482a3f88">app</a></div><div class="ttdeci">static const char app[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/db6/app__mysql_8c_source.html#l00062">app_mysql.c:62</a></div></div>
<div class="ttc" id="codecs_2gsm_2inc_2private_8h_html_a0b023cbb2bf7d034c2269d58d7455ac8"><div class="ttname"><a href="../../d6/da0/codecs_2gsm_2inc_2private_8h.html#a0b023cbb2bf7d034c2269d58d7455ac8">word</a></div><div class="ttdeci">short word</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/codecs_2gsm_2inc_2private_8h_source.html#l00012">codecs/gsm/inc/private.h:12</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a24d57cdfe3409c388e4b81b67ecdee70"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a24d57cdfe3409c388e4b81b67ecdee70">&#9670;&nbsp;</a></span>ast_context_add_ignorepat()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_context_add_ignorepat </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>ignorepat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>registrar</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add an ignorepat. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">context</td><td>which context to add the ignorpattern to </td></tr>
    <tr><td class="paramname">ignorepat</td><td>ignorepattern to set up for the extension </td></tr>
    <tr><td class="paramname">registrar</td><td>registrar of the ignore pattern</td></tr>
  </table>
  </dd>
</dl>
<p>Adds an ignore pattern to a particular context.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>on success </td></tr>
    <tr><td class="paramname">-1</td><td>on failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../db/d94/pbx_8c_source.html#l06877">6877</a> of file <a class="el" href="../../db/d94/pbx_8c_source.html">pbx.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/d94/pbx_8c_source.html#l06890">ast_context_add_ignorepat2()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08512">ast_unlock_contexts()</a>, <a class="el" href="../../d7/d6f/test__linkedlists_8c_source.html#l00048">c</a>, and <a class="el" href="../../db/d94/pbx_8c_source.html#l04818">find_context_locked()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l01338">handle_cli_dialplan_add_ignorepat()</a>.</p>
<div class="fragment"><div class="line"><a name="l06878"></a><span class="lineno"> 6878</span>&#160;{</div><div class="line"><a name="l06879"></a><span class="lineno"> 6879</span>&#160;   <span class="keywordtype">int</span> ret = -1;</div><div class="line"><a name="l06880"></a><span class="lineno"> 6880</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d6/d7c/structast__context.html">ast_context</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>;</div><div class="line"><a name="l06881"></a><span class="lineno"> 6881</span>&#160;</div><div class="line"><a name="l06882"></a><span class="lineno"> 6882</span>&#160;   c = <a class="code" href="../../db/d94/pbx_8c.html#a85edff1fa15717f00123b70af815e10d">find_context_locked</a>(<a class="code" href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a>);</div><div class="line"><a name="l06883"></a><span class="lineno"> 6883</span>&#160;   <span class="keywordflow">if</span> (c) {</div><div class="line"><a name="l06884"></a><span class="lineno"> 6884</span>&#160;      ret = <a class="code" href="../../db/d94/pbx_8c.html#a665b695dd4aabc37e95f1971e84f700d">ast_context_add_ignorepat2</a>(c, <a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>, <a class="code" href="../../de/d23/pbx__ael_8c.html#ab990a3529ebde2681a00468cad7c0b48">registrar</a>);</div><div class="line"><a name="l06885"></a><span class="lineno"> 6885</span>&#160;      <a class="code" href="../../db/d94/pbx_8c.html#ae517a87b356aec60d5de4591ef94581b">ast_unlock_contexts</a>();</div><div class="line"><a name="l06886"></a><span class="lineno"> 6886</span>&#160;   }</div><div class="line"><a name="l06887"></a><span class="lineno"> 6887</span>&#160;   <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l06888"></a><span class="lineno"> 6888</span>&#160;}</div><div class="ttc" id="test__linkedlists_8c_html_acd9db00336027462cfb25b97b5356883"><div class="ttname"><a href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a></div><div class="ttdeci">static struct test_val c</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d6f/test__linkedlists_8c_source.html#l00048">test_linkedlists.c:48</a></div></div>
<div class="ttc" id="syslog_8c_html_ac4f474c82e82cbb89ca7c36dd52be0ed"><div class="ttname"><a href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a></div><div class="ttdeci">int value</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d2f/syslog_8c_source.html#l00037">syslog.c:37</a></div></div>
<div class="ttc" id="pbx_8c_html_a665b695dd4aabc37e95f1971e84f700d"><div class="ttname"><a href="../../db/d94/pbx_8c.html#a665b695dd4aabc37e95f1971e84f700d">ast_context_add_ignorepat2</a></div><div class="ttdeci">int ast_context_add_ignorepat2(struct ast_context *con, const char *value, const char *registrar)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l06890">pbx.c:6890</a></div></div>
<div class="ttc" id="pbx_8c_html_ae517a87b356aec60d5de4591ef94581b"><div class="ttname"><a href="../../db/d94/pbx_8c.html#ae517a87b356aec60d5de4591ef94581b">ast_unlock_contexts</a></div><div class="ttdeci">int ast_unlock_contexts(void)</div><div class="ttdoc">Unlocks contexts. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l08512">pbx.c:8512</a></div></div>
<div class="ttc" id="pbx__ael_8c_html_ab990a3529ebde2681a00468cad7c0b48"><div class="ttname"><a href="../../de/d23/pbx__ael_8c.html#ab990a3529ebde2681a00468cad7c0b48">registrar</a></div><div class="ttdeci">static char * registrar</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d23/pbx__ael_8c_source.html#l00078">pbx_ael.c:78</a></div></div>
<div class="ttc" id="pbx_8c_html_a85edff1fa15717f00123b70af815e10d"><div class="ttname"><a href="../../db/d94/pbx_8c.html#a85edff1fa15717f00123b70af815e10d">find_context_locked</a></div><div class="ttdeci">static struct ast_context * find_context_locked(const char *context)</div><div class="ttdoc">lookup for a context with a given name, </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l04818">pbx.c:4818</a></div></div>
<div class="ttc" id="chan__alsa_8c_html_ac25ea00ee3f082df06e0cf468cbde240"><div class="ttname"><a href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a></div><div class="ttdeci">static char context[AST_MAX_CONTEXT]</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d45/chan__alsa_8c_source.html#l00116">chan_alsa.c:116</a></div></div>
<div class="ttc" id="structast__context_html"><div class="ttname"><a href="../../d6/d7c/structast__context.html">ast_context</a></div><div class="ttdoc">ast_context: An extension context - must remain in sync with fake_context </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l00284">pbx.c:284</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a4ab6344140ca2699e060d29a1ee79bd8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4ab6344140ca2699e060d29a1ee79bd8">&#9670;&nbsp;</a></span>ast_context_add_ignorepat2()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int ast_context_add_ignorepat2 </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d6/d7c/structast__context.html">ast_context</a> *&#160;</td>
          <td class="paramname"><em>con</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>ignorepat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>registrar</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/db7/ael__main_8c_source.html#l00348">348</a> of file <a class="el" href="../../d2/db7/ael__main_8c_source.html">ael_main.c</a>.</p>

<p class="reference">References <a class="el" href="../../d2/db7/ael__main_8c_source.html#l00064">ADD_LAST</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08740">ast_context_ignorepats_count()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08745">ast_context_ignorepats_get()</a>, <a class="el" href="../../d9/d63/pbx__ignorepat_8c_source.html#l00042">ast_get_ignorepat_name()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08530">ast_unlock_context()</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00256">AST_VECTOR_APPEND</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08520">ast_wrlock_context()</a>, <a class="el" href="../../d2/db7/ael__main_8c_source.html#l00079">create_name()</a>, <a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a>, <a class="el" href="../../d9/d63/pbx__ignorepat_8c_source.html#l00052">ignorepat_alloc()</a>, <a class="el" href="../../d9/d63/pbx__ignorepat_8c_source.html#l00077">ignorepat_free()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l00291">ast_context::ignorepats</a>, and <a class="el" href="../../d4/dc5/extconf_8c_source.html#l04601">localized_context_add_ignorepat2()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/d85/pval_8c_source.html#l04413">ast_compile_ael2()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l06877">ast_context_add_ignorepat()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l06294">context_merge_incls_swits_igps_other_registrars()</a>, and <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l01674">pbx_load_config()</a>.</p>
<div class="fragment"><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;{</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;   <span class="keywordflow">if</span>(!<a class="code" href="../../d2/db7/ael__main_8c.html#a79f18faf42041d119c58c68c9b04a969">no_comp</a>)</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;      printf(<span class="stringliteral">&quot;Executed ast_context_add_ignorepat2(con, value=%s, registrar=%s);\n&quot;</span>, <a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>, <a class="code" href="../../de/d23/pbx__ael_8c.html#ab990a3529ebde2681a00468cad7c0b48">registrar</a>);</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;   <span class="keywordflow">if</span>( <a class="code" href="../../d2/db7/ael__main_8c.html#abb37a9c7f5a14394fc8c3bebc8a510e9">dump_extensions</a> ) {</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;      <span class="keyword">struct </span><a class="code" href="../../d7/dfe/structnamelist.html">namelist</a> *x;</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;      x = <a class="code" href="../../d2/db7/ael__main_8c.html#a3bf9d807d295e60970997e6e94dc3ccb">create_name</a>(<a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>);</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;      <a class="code" href="../../d2/db7/ael__main_8c.html#a49be6f64f53f4ebe92dc6947ee433767">ADD_LAST</a>(con-&gt;<a class="code" href="../../d6/d7c/structast__context.html#a6cb23af21b2834040bd20ea0031b3b8b">ignorepats</a>,x);</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;   }</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;}</div><div class="ttc" id="structast__context_html_a6cb23af21b2834040bd20ea0031b3b8b"><div class="ttname"><a href="../../d6/d7c/structast__context.html#a6cb23af21b2834040bd20ea0031b3b8b">ast_context::ignorepats</a></div><div class="ttdeci">struct ast_ignorepats ignorepats</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l00291">pbx.c:291</a></div></div>
<div class="ttc" id="structnamelist_html"><div class="ttname"><a href="../../d7/dfe/structnamelist.html">namelist</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db7/ael__main_8c_source.html#l00039">ael_main.c:39</a></div></div>
<div class="ttc" id="syslog_8c_html_ac4f474c82e82cbb89ca7c36dd52be0ed"><div class="ttname"><a href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a></div><div class="ttdeci">int value</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d2f/syslog_8c_source.html#l00037">syslog.c:37</a></div></div>
<div class="ttc" id="ael__main_8c_html_abb37a9c7f5a14394fc8c3bebc8a510e9"><div class="ttname"><a href="../../d2/db7/ael__main_8c.html#abb37a9c7f5a14394fc8c3bebc8a510e9">dump_extensions</a></div><div class="ttdeci">static int dump_extensions</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db7/ael__main_8c_source.html#l00126">ael_main.c:126</a></div></div>
<div class="ttc" id="ael__main_8c_html_a79f18faf42041d119c58c68c9b04a969"><div class="ttname"><a href="../../d2/db7/ael__main_8c.html#a79f18faf42041d119c58c68c9b04a969">no_comp</a></div><div class="ttdeci">static int no_comp</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db7/ael__main_8c_source.html#l00124">ael_main.c:124</a></div></div>
<div class="ttc" id="ael__main_8c_html_a49be6f64f53f4ebe92dc6947ee433767"><div class="ttname"><a href="../../d2/db7/ael__main_8c.html#a49be6f64f53f4ebe92dc6947ee433767">ADD_LAST</a></div><div class="ttdeci">#define ADD_LAST(headptr, memptr)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db7/ael__main_8c_source.html#l00064">ael_main.c:64</a></div></div>
<div class="ttc" id="pbx__ael_8c_html_ab990a3529ebde2681a00468cad7c0b48"><div class="ttname"><a href="../../de/d23/pbx__ael_8c.html#ab990a3529ebde2681a00468cad7c0b48">registrar</a></div><div class="ttdeci">static char * registrar</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d23/pbx__ael_8c_source.html#l00078">pbx_ael.c:78</a></div></div>
<div class="ttc" id="ael__main_8c_html_a3bf9d807d295e60970997e6e94dc3ccb"><div class="ttname"><a href="../../d2/db7/ael__main_8c.html#a3bf9d807d295e60970997e6e94dc3ccb">create_name</a></div><div class="ttdeci">struct namelist * create_name(const char *name)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db7/ael__main_8c_source.html#l00079">ael_main.c:79</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3903111827b675ec313e56a28ac80cf9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3903111827b675ec313e56a28ac80cf9">&#9670;&nbsp;</a></span>ast_context_add_include()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_context_add_include </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>include</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>registrar</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add a context include. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">context</td><td>context to add include to </td></tr>
    <tr><td class="paramname">include</td><td>new include to add </td></tr>
    <tr><td class="paramname">registrar</td><td>who's registering it</td></tr>
  </table>
  </dd>
</dl>
<p>Adds an include taking a char * string as the context parameter</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>on success </td></tr>
    <tr><td class="paramname">-1</td><td>on error </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../db/d94/pbx_8c_source.html#l06706">6706</a> of file <a class="el" href="../../db/d94/pbx_8c_source.html">pbx.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/d94/pbx_8c_source.html#l06726">ast_context_add_include2()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08512">ast_unlock_contexts()</a>, <a class="el" href="../../d7/d6f/test__linkedlists_8c_source.html#l00048">c</a>, and <a class="el" href="../../db/d94/pbx_8c_source.html#l04818">find_context_locked()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d62/test__pbx_8c_source.html#l00188">AST_TEST_DEFINE()</a>, and <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00674">handle_cli_dialplan_add_include()</a>.</p>
<div class="fragment"><div class="line"><a name="l06707"></a><span class="lineno"> 6707</span>&#160;{</div><div class="line"><a name="l06708"></a><span class="lineno"> 6708</span>&#160;   <span class="keywordtype">int</span> ret = -1;</div><div class="line"><a name="l06709"></a><span class="lineno"> 6709</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d6/d7c/structast__context.html">ast_context</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>;</div><div class="line"><a name="l06710"></a><span class="lineno"> 6710</span>&#160;</div><div class="line"><a name="l06711"></a><span class="lineno"> 6711</span>&#160;   c = <a class="code" href="../../db/d94/pbx_8c.html#a85edff1fa15717f00123b70af815e10d">find_context_locked</a>(<a class="code" href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a>);</div><div class="line"><a name="l06712"></a><span class="lineno"> 6712</span>&#160;   <span class="keywordflow">if</span> (c) {</div><div class="line"><a name="l06713"></a><span class="lineno"> 6713</span>&#160;      ret = <a class="code" href="../../db/d94/pbx_8c.html#a90e52fc3dabf4f71fd8110bda8fd1393">ast_context_add_include2</a>(c, include, <a class="code" href="../../de/d23/pbx__ael_8c.html#ab990a3529ebde2681a00468cad7c0b48">registrar</a>);</div><div class="line"><a name="l06714"></a><span class="lineno"> 6714</span>&#160;      <a class="code" href="../../db/d94/pbx_8c.html#ae517a87b356aec60d5de4591ef94581b">ast_unlock_contexts</a>();</div><div class="line"><a name="l06715"></a><span class="lineno"> 6715</span>&#160;   }</div><div class="line"><a name="l06716"></a><span class="lineno"> 6716</span>&#160;   <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l06717"></a><span class="lineno"> 6717</span>&#160;}</div><div class="ttc" id="pbx_8c_html_a90e52fc3dabf4f71fd8110bda8fd1393"><div class="ttname"><a href="../../db/d94/pbx_8c.html#a90e52fc3dabf4f71fd8110bda8fd1393">ast_context_add_include2</a></div><div class="ttdeci">int ast_context_add_include2(struct ast_context *con, const char *value, const char *registrar)</div><div class="ttdoc">Add a context include. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l06726">pbx.c:6726</a></div></div>
<div class="ttc" id="test__linkedlists_8c_html_acd9db00336027462cfb25b97b5356883"><div class="ttname"><a href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a></div><div class="ttdeci">static struct test_val c</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d6f/test__linkedlists_8c_source.html#l00048">test_linkedlists.c:48</a></div></div>
<div class="ttc" id="pbx_8c_html_ae517a87b356aec60d5de4591ef94581b"><div class="ttname"><a href="../../db/d94/pbx_8c.html#ae517a87b356aec60d5de4591ef94581b">ast_unlock_contexts</a></div><div class="ttdeci">int ast_unlock_contexts(void)</div><div class="ttdoc">Unlocks contexts. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l08512">pbx.c:8512</a></div></div>
<div class="ttc" id="pbx__ael_8c_html_ab990a3529ebde2681a00468cad7c0b48"><div class="ttname"><a href="../../de/d23/pbx__ael_8c.html#ab990a3529ebde2681a00468cad7c0b48">registrar</a></div><div class="ttdeci">static char * registrar</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d23/pbx__ael_8c_source.html#l00078">pbx_ael.c:78</a></div></div>
<div class="ttc" id="pbx_8c_html_a85edff1fa15717f00123b70af815e10d"><div class="ttname"><a href="../../db/d94/pbx_8c.html#a85edff1fa15717f00123b70af815e10d">find_context_locked</a></div><div class="ttdeci">static struct ast_context * find_context_locked(const char *context)</div><div class="ttdoc">lookup for a context with a given name, </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l04818">pbx.c:4818</a></div></div>
<div class="ttc" id="chan__alsa_8c_html_ac25ea00ee3f082df06e0cf468cbde240"><div class="ttname"><a href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a></div><div class="ttdeci">static char context[AST_MAX_CONTEXT]</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d45/chan__alsa_8c_source.html#l00116">chan_alsa.c:116</a></div></div>
<div class="ttc" id="structast__context_html"><div class="ttname"><a href="../../d6/d7c/structast__context.html">ast_context</a></div><div class="ttdoc">ast_context: An extension context - must remain in sync with fake_context </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l00284">pbx.c:284</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6bb6a0e021750b75dd126b3ab67b590e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6bb6a0e021750b75dd126b3ab67b590e">&#9670;&nbsp;</a></span>ast_context_add_include2()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int ast_context_add_include2 </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d6/d7c/structast__context.html">ast_context</a> *&#160;</td>
          <td class="paramname"><em>con</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>include</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>registrar</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add a context include. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">con</td><td>context to add the include to </td></tr>
    <tr><td class="paramname">value</td><td>include value to add </td></tr>
    <tr><td class="paramname">registrar</td><td>who registered the context</td></tr>
  </table>
  </dd>
</dl>
<p>Adds an include taking a struct <a class="el" href="../../d6/d7c/structast__context.html" title="ast_context: An extension context - must remain in sync with fake_context ">ast_context</a> as the first parameter</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>on success </td></tr>
    <tr><td class="paramname">-1</td><td>on failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d2/db7/ael__main_8c_source.html#l00359">359</a> of file <a class="el" href="../../d2/db7/ael__main_8c_source.html">ael_main.c</a>.</p>

<p class="reference">References <a class="el" href="../../d2/db7/ael__main_8c_source.html#l00064">ADD_LAST</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08697">ast_context_includes_count()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08702">ast_context_includes_get()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08538">ast_get_context_name()</a>, <a class="el" href="../../d6/d0e/pbx__include_8c_source.html#l00050">ast_get_include_name()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08530">ast_unlock_context()</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00256">AST_VECTOR_APPEND</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08520">ast_wrlock_context()</a>, <a class="el" href="../../d2/db7/ael__main_8c_source.html#l00079">create_name()</a>, <a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a>, <a class="el" href="../../d6/d0e/pbx__include_8c_source.html#l00074">include_alloc()</a>, <a class="el" href="../../d6/d0e/pbx__include_8c_source.html#l00106">include_free()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l00290">ast_context::includes</a>, and <a class="el" href="../../d4/dc5/extconf_8c_source.html#l04559">localized_context_add_include2()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/d85/pval_8c_source.html#l04413">ast_compile_ael2()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l06706">ast_context_add_include()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l06294">context_merge_incls_swits_igps_other_registrars()</a>, and <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l01674">pbx_load_config()</a>.</p>
<div class="fragment"><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;{</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;   <span class="keywordflow">if</span>(!<a class="code" href="../../d2/db7/ael__main_8c.html#a79f18faf42041d119c58c68c9b04a969">no_comp</a>)</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;      printf(<span class="stringliteral">&quot;Executed ast_context_add_include2(con, value=%s, registrar=%s);\n&quot;</span>, <a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>, <a class="code" href="../../de/d23/pbx__ael_8c.html#ab990a3529ebde2681a00468cad7c0b48">registrar</a>);</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;   <span class="keywordflow">if</span>( <a class="code" href="../../d2/db7/ael__main_8c.html#abb37a9c7f5a14394fc8c3bebc8a510e9">dump_extensions</a> ) {</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;      <span class="keyword">struct </span><a class="code" href="../../d7/dfe/structnamelist.html">namelist</a> *x;</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;      x = <a class="code" href="../../d2/db7/ael__main_8c.html#a3bf9d807d295e60970997e6e94dc3ccb">create_name</a>((<span class="keywordtype">char</span>*)<a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>);</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;      <a class="code" href="../../d2/db7/ael__main_8c.html#a49be6f64f53f4ebe92dc6947ee433767">ADD_LAST</a>(con-&gt;<a class="code" href="../../d6/d7c/structast__context.html#a37fab5903a397434aa8bde4a88290528">includes</a>,x);</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;   }</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;}</div><div class="ttc" id="structnamelist_html"><div class="ttname"><a href="../../d7/dfe/structnamelist.html">namelist</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db7/ael__main_8c_source.html#l00039">ael_main.c:39</a></div></div>
<div class="ttc" id="syslog_8c_html_ac4f474c82e82cbb89ca7c36dd52be0ed"><div class="ttname"><a href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a></div><div class="ttdeci">int value</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d2f/syslog_8c_source.html#l00037">syslog.c:37</a></div></div>
<div class="ttc" id="ael__main_8c_html_abb37a9c7f5a14394fc8c3bebc8a510e9"><div class="ttname"><a href="../../d2/db7/ael__main_8c.html#abb37a9c7f5a14394fc8c3bebc8a510e9">dump_extensions</a></div><div class="ttdeci">static int dump_extensions</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db7/ael__main_8c_source.html#l00126">ael_main.c:126</a></div></div>
<div class="ttc" id="ael__main_8c_html_a79f18faf42041d119c58c68c9b04a969"><div class="ttname"><a href="../../d2/db7/ael__main_8c.html#a79f18faf42041d119c58c68c9b04a969">no_comp</a></div><div class="ttdeci">static int no_comp</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db7/ael__main_8c_source.html#l00124">ael_main.c:124</a></div></div>
<div class="ttc" id="ael__main_8c_html_a49be6f64f53f4ebe92dc6947ee433767"><div class="ttname"><a href="../../d2/db7/ael__main_8c.html#a49be6f64f53f4ebe92dc6947ee433767">ADD_LAST</a></div><div class="ttdeci">#define ADD_LAST(headptr, memptr)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db7/ael__main_8c_source.html#l00064">ael_main.c:64</a></div></div>
<div class="ttc" id="structast__context_html_a37fab5903a397434aa8bde4a88290528"><div class="ttname"><a href="../../d6/d7c/structast__context.html#a37fab5903a397434aa8bde4a88290528">ast_context::includes</a></div><div class="ttdeci">struct ast_includes includes</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l00290">pbx.c:290</a></div></div>
<div class="ttc" id="pbx__ael_8c_html_ab990a3529ebde2681a00468cad7c0b48"><div class="ttname"><a href="../../de/d23/pbx__ael_8c.html#ab990a3529ebde2681a00468cad7c0b48">registrar</a></div><div class="ttdeci">static char * registrar</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d23/pbx__ael_8c_source.html#l00078">pbx_ael.c:78</a></div></div>
<div class="ttc" id="ael__main_8c_html_a3bf9d807d295e60970997e6e94dc3ccb"><div class="ttname"><a href="../../d2/db7/ael__main_8c.html#a3bf9d807d295e60970997e6e94dc3ccb">create_name</a></div><div class="ttdeci">struct namelist * create_name(const char *name)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db7/ael__main_8c_source.html#l00079">ael_main.c:79</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a7677cd4c8e3a0c3d205f412e396a7d5c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7677cd4c8e3a0c3d205f412e396a7d5c">&#9670;&nbsp;</a></span>ast_context_add_switch()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_context_add_switch </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>sw</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>eval</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>registrar</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add a switch. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">context</td><td>context to which to add the switch </td></tr>
    <tr><td class="paramname">sw</td><td>switch to add </td></tr>
    <tr><td class="paramname">data</td><td>data to pass to switch </td></tr>
    <tr><td class="paramname">eval</td><td>whether to evaluate variables when running switch </td></tr>
    <tr><td class="paramname">registrar</td><td>whoever registered the switch</td></tr>
  </table>
  </dd>
</dl>
<p>This function registers a switch with the asterisk switch architecture</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>on success </td></tr>
    <tr><td class="paramname">-1</td><td>on failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../db/d94/pbx_8c_source.html#l06771">6771</a> of file <a class="el" href="../../db/d94/pbx_8c_source.html">pbx.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/d94/pbx_8c_source.html#l06791">ast_context_add_switch2()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08512">ast_unlock_contexts()</a>, <a class="el" href="../../d7/d6f/test__linkedlists_8c_source.html#l00048">c</a>, and <a class="el" href="../../db/d94/pbx_8c_source.html#l04818">find_context_locked()</a>.</p>
<div class="fragment"><div class="line"><a name="l06772"></a><span class="lineno"> 6772</span>&#160;{</div><div class="line"><a name="l06773"></a><span class="lineno"> 6773</span>&#160;   <span class="keywordtype">int</span> ret = -1;</div><div class="line"><a name="l06774"></a><span class="lineno"> 6774</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d6/d7c/structast__context.html">ast_context</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>;</div><div class="line"><a name="l06775"></a><span class="lineno"> 6775</span>&#160;</div><div class="line"><a name="l06776"></a><span class="lineno"> 6776</span>&#160;   c = <a class="code" href="../../db/d94/pbx_8c.html#a85edff1fa15717f00123b70af815e10d">find_context_locked</a>(<a class="code" href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a>);</div><div class="line"><a name="l06777"></a><span class="lineno"> 6777</span>&#160;   <span class="keywordflow">if</span> (c) { <span class="comment">/* found, add switch to this context */</span></div><div class="line"><a name="l06778"></a><span class="lineno"> 6778</span>&#160;      ret = <a class="code" href="../../db/d94/pbx_8c.html#ae27dd9f761219046877675635073cfc3">ast_context_add_switch2</a>(c, sw, data, eval, <a class="code" href="../../de/d23/pbx__ael_8c.html#ab990a3529ebde2681a00468cad7c0b48">registrar</a>);</div><div class="line"><a name="l06779"></a><span class="lineno"> 6779</span>&#160;      <a class="code" href="../../db/d94/pbx_8c.html#ae517a87b356aec60d5de4591ef94581b">ast_unlock_contexts</a>();</div><div class="line"><a name="l06780"></a><span class="lineno"> 6780</span>&#160;   }</div><div class="line"><a name="l06781"></a><span class="lineno"> 6781</span>&#160;   <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l06782"></a><span class="lineno"> 6782</span>&#160;}</div><div class="ttc" id="test__linkedlists_8c_html_acd9db00336027462cfb25b97b5356883"><div class="ttname"><a href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a></div><div class="ttdeci">static struct test_val c</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d6f/test__linkedlists_8c_source.html#l00048">test_linkedlists.c:48</a></div></div>
<div class="ttc" id="pbx_8c_html_ae517a87b356aec60d5de4591ef94581b"><div class="ttname"><a href="../../db/d94/pbx_8c.html#ae517a87b356aec60d5de4591ef94581b">ast_unlock_contexts</a></div><div class="ttdeci">int ast_unlock_contexts(void)</div><div class="ttdoc">Unlocks contexts. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l08512">pbx.c:8512</a></div></div>
<div class="ttc" id="pbx__ael_8c_html_ab990a3529ebde2681a00468cad7c0b48"><div class="ttname"><a href="../../de/d23/pbx__ael_8c.html#ab990a3529ebde2681a00468cad7c0b48">registrar</a></div><div class="ttdeci">static char * registrar</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d23/pbx__ael_8c_source.html#l00078">pbx_ael.c:78</a></div></div>
<div class="ttc" id="pbx_8c_html_a85edff1fa15717f00123b70af815e10d"><div class="ttname"><a href="../../db/d94/pbx_8c.html#a85edff1fa15717f00123b70af815e10d">find_context_locked</a></div><div class="ttdeci">static struct ast_context * find_context_locked(const char *context)</div><div class="ttdoc">lookup for a context with a given name, </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l04818">pbx.c:4818</a></div></div>
<div class="ttc" id="pbx_8c_html_ae27dd9f761219046877675635073cfc3"><div class="ttname"><a href="../../db/d94/pbx_8c.html#ae27dd9f761219046877675635073cfc3">ast_context_add_switch2</a></div><div class="ttdeci">int ast_context_add_switch2(struct ast_context *con, const char *value, const char *data, int eval, const char *registrar)</div><div class="ttdoc">Adds a switch (first param is a ast_context) </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l06791">pbx.c:6791</a></div></div>
<div class="ttc" id="chan__alsa_8c_html_ac25ea00ee3f082df06e0cf468cbde240"><div class="ttname"><a href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a></div><div class="ttdeci">static char context[AST_MAX_CONTEXT]</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d45/chan__alsa_8c_source.html#l00116">chan_alsa.c:116</a></div></div>
<div class="ttc" id="structast__context_html"><div class="ttname"><a href="../../d6/d7c/structast__context.html">ast_context</a></div><div class="ttdoc">ast_context: An extension context - must remain in sync with fake_context </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l00284">pbx.c:284</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa9ee3f64aa47d58dd55633aa8ea30175"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa9ee3f64aa47d58dd55633aa8ea30175">&#9670;&nbsp;</a></span>ast_context_add_switch2()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int ast_context_add_switch2 </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d6/d7c/structast__context.html">ast_context</a> *&#160;</td>
          <td class="paramname"><em>con</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>sw</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>eval</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>registrar</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adds a switch (first param is a <a class="el" href="../../d6/d7c/structast__context.html" title="ast_context: An extension context - must remain in sync with fake_context ">ast_context</a>) </p>
<dl class="section note"><dt>Note</dt><dd>See <a class="el" href="../../db/de0/pbx_8h.html#a7677cd4c8e3a0c3d205f412e396a7d5c" title="Add a switch. ">ast_context_add_switch()</a> for argument information, with the exception of the first argument. In this case, it's a pointer to an <a class="el" href="../../d6/d7c/structast__context.html" title="ast_context: An extension context - must remain in sync with fake_context ">ast_context</a> structure as opposed to the name. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d2/db7/ael__main_8c_source.html#l00370">370</a> of file <a class="el" href="../../d2/db7/ael__main_8c_source.html">ael_main.c</a>.</p>

<p class="reference">References <a class="el" href="../../d2/db7/ael__main_8c_source.html#l00064">ADD_LAST</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l00292">ast_context::alts</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08652">ast_context_switches_count()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08657">ast_context_switches_get()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08538">ast_get_context_name()</a>, <a class="el" href="../../d9/d5d/pbx__sw_8c_source.html#l00053">ast_get_switch_data()</a>, <a class="el" href="../../d9/d5d/pbx__sw_8c_source.html#l00048">ast_get_switch_name()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08530">ast_unlock_context()</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00256">AST_VECTOR_APPEND</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00463">ast_verb</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08520">ast_wrlock_context()</a>, <a class="el" href="../../d2/db7/ael__main_8c_source.html#l00079">create_name()</a>, <a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a>, <a class="el" href="../../d2/db7/ael__main_8c_source.html#l00054">ast_context::eswitches</a>, <a class="el" href="../../d4/dc5/extconf_8c_source.html#l04702">localized_context_add_switch2()</a>, <a class="el" href="../../d2/db7/ael__main_8c_source.html#l00042">namelist::name2</a>, <a class="el" href="../../d9/d5d/pbx__sw_8c_source.html#l00068">sw_alloc()</a>, <a class="el" href="../../d9/d5d/pbx__sw_8c_source.html#l00101">sw_free()</a>, and <a class="el" href="../../d2/db7/ael__main_8c_source.html#l00053">ast_context::switches</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/d85/pval_8c_source.html#l04413">ast_compile_ael2()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l06771">ast_context_add_switch()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l06294">context_merge_incls_swits_igps_other_registrars()</a>, <a class="el" href="../../d6/dde/pbx__lua_8c_source.html#l00929">lua_register_switches()</a>, and <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l01674">pbx_load_config()</a>.</p>
<div class="fragment"><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;{</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;   <span class="keywordflow">if</span>(!<a class="code" href="../../d2/db7/ael__main_8c.html#a79f18faf42041d119c58c68c9b04a969">no_comp</a>)</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;      printf(<span class="stringliteral">&quot;Executed ast_context_add_switch2(con, value=%s, data=%s, eval=%d, registrar=%s);\n&quot;</span>, <a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>, data, eval, <a class="code" href="../../de/d23/pbx__ael_8c.html#ab990a3529ebde2681a00468cad7c0b48">registrar</a>);</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;   <span class="keywordflow">if</span>( <a class="code" href="../../d2/db7/ael__main_8c.html#abb37a9c7f5a14394fc8c3bebc8a510e9">dump_extensions</a> ) {</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;      <span class="keyword">struct </span><a class="code" href="../../d7/dfe/structnamelist.html">namelist</a> *x;</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;      x = <a class="code" href="../../d2/db7/ael__main_8c.html#a3bf9d807d295e60970997e6e94dc3ccb">create_name</a>((<span class="keywordtype">char</span>*)<a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>);</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;      strncpy(x-&gt;<a class="code" href="../../d7/dfe/structnamelist.html#ae60b0e3179efdcc254e77a1304821af7">name2</a>, data, 99);</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;      <span class="keywordflow">if</span>( eval ) {</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;         <a class="code" href="../../d2/db7/ael__main_8c.html#a49be6f64f53f4ebe92dc6947ee433767">ADD_LAST</a>(con-&gt;<a class="code" href="../../d6/d7c/structast__context.html#a5aef442937364d7130483637a39799f8">switches</a>,x);</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;         <a class="code" href="../../d2/db7/ael__main_8c.html#a49be6f64f53f4ebe92dc6947ee433767">ADD_LAST</a>(con-&gt;<a class="code" href="../../d6/d7c/structast__context.html#adb2439d8f255f2c1ace4b8eb816b20f3">eswitches</a>,x);</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;      }</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;   }</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;}</div><div class="ttc" id="structast__context_html_adb2439d8f255f2c1ace4b8eb816b20f3"><div class="ttname"><a href="../../d6/d7c/structast__context.html#adb2439d8f255f2c1ace4b8eb816b20f3">ast_context::eswitches</a></div><div class="ttdeci">struct namelist * eswitches</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db7/ael__main_8c_source.html#l00054">ael_main.c:54</a></div></div>
<div class="ttc" id="structnamelist_html"><div class="ttname"><a href="../../d7/dfe/structnamelist.html">namelist</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db7/ael__main_8c_source.html#l00039">ael_main.c:39</a></div></div>
<div class="ttc" id="syslog_8c_html_ac4f474c82e82cbb89ca7c36dd52be0ed"><div class="ttname"><a href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a></div><div class="ttdeci">int value</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d2f/syslog_8c_source.html#l00037">syslog.c:37</a></div></div>
<div class="ttc" id="structast__context_html_a5aef442937364d7130483637a39799f8"><div class="ttname"><a href="../../d6/d7c/structast__context.html#a5aef442937364d7130483637a39799f8">ast_context::switches</a></div><div class="ttdeci">struct namelist * switches</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db7/ael__main_8c_source.html#l00053">ael_main.c:53</a></div></div>
<div class="ttc" id="ael__main_8c_html_abb37a9c7f5a14394fc8c3bebc8a510e9"><div class="ttname"><a href="../../d2/db7/ael__main_8c.html#abb37a9c7f5a14394fc8c3bebc8a510e9">dump_extensions</a></div><div class="ttdeci">static int dump_extensions</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db7/ael__main_8c_source.html#l00126">ael_main.c:126</a></div></div>
<div class="ttc" id="ael__main_8c_html_a79f18faf42041d119c58c68c9b04a969"><div class="ttname"><a href="../../d2/db7/ael__main_8c.html#a79f18faf42041d119c58c68c9b04a969">no_comp</a></div><div class="ttdeci">static int no_comp</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db7/ael__main_8c_source.html#l00124">ael_main.c:124</a></div></div>
<div class="ttc" id="ael__main_8c_html_a49be6f64f53f4ebe92dc6947ee433767"><div class="ttname"><a href="../../d2/db7/ael__main_8c.html#a49be6f64f53f4ebe92dc6947ee433767">ADD_LAST</a></div><div class="ttdeci">#define ADD_LAST(headptr, memptr)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db7/ael__main_8c_source.html#l00064">ael_main.c:64</a></div></div>
<div class="ttc" id="pbx__ael_8c_html_ab990a3529ebde2681a00468cad7c0b48"><div class="ttname"><a href="../../de/d23/pbx__ael_8c.html#ab990a3529ebde2681a00468cad7c0b48">registrar</a></div><div class="ttdeci">static char * registrar</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d23/pbx__ael_8c_source.html#l00078">pbx_ael.c:78</a></div></div>
<div class="ttc" id="ael__main_8c_html_a3bf9d807d295e60970997e6e94dc3ccb"><div class="ttname"><a href="../../d2/db7/ael__main_8c.html#a3bf9d807d295e60970997e6e94dc3ccb">create_name</a></div><div class="ttdeci">struct namelist * create_name(const char *name)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db7/ael__main_8c_source.html#l00079">ael_main.c:79</a></div></div>
<div class="ttc" id="structnamelist_html_ae60b0e3179efdcc254e77a1304821af7"><div class="ttname"><a href="../../d7/dfe/structnamelist.html#ae60b0e3179efdcc254e77a1304821af7">namelist::name2</a></div><div class="ttdeci">char name2[100]</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db7/ael__main_8c_source.html#l00042">ael_main.c:42</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a9546b830c22c693a2baed08e48569401"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9546b830c22c693a2baed08e48569401">&#9670;&nbsp;</a></span>ast_context_destroy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_context_destroy </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d6/d7c/structast__context.html">ast_context</a> *&#160;</td>
          <td class="paramname"><em>con</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>registrar</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destroy a context (matches the specified context or ANY context if NULL) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">con</td><td>context to destroy </td></tr>
    <tr><td class="paramname">registrar</td><td>who registered it</td></tr>
  </table>
  </dd>
</dl>
<p>You can optionally leave out either parameter. It will find it based on either the <a class="el" href="../../d6/d7c/structast__context.html" title="ast_context: An extension context - must remain in sync with fake_context ">ast_context</a> or the registrar name.</p>
<dl class="section return"><dt>Returns</dt><dd>nothing </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../de/dcc/conf2ael_8c_source.html#l00625">625</a> of file <a class="el" href="../../de/dcc/conf2ael_8c_source.html">conf2ael.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/d94/pbx_8c_source.html#l08095">__ast_context_destroy()</a>, <a class="el" href="../../de/dcc/conf2ael_8c_source.html#l00632">ast_context_verify_includes()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08512">ast_unlock_contexts()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08502">ast_wrlock_contexts()</a>, and <a class="el" href="../../d4/dc5/extconf_8c_source.html#l05565">localized_context_destroy()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d94/pbx_8c_source.html#l08244">ast_context_destroy_by_name()</a>, <a class="el" href="../../d9/d3f/test__gosub_8c_source.html#l00041">AST_TEST_DEFINE()</a>, <a class="el" href="../../de/dcc/conf2ael_8c_source.html#l00618">ast_walk_contexts()</a>, <a class="el" href="../../d7/d45/res__parking_8c_source.html#l00663">parking_lot_cfg_remove_extensions()</a>, <a class="el" href="../../d7/d45/res__parking_8c_source.html#l00678">remove_all_configured_parking_lot_extensions()</a>, <a class="el" href="../../d7/d45/res__parking_8c_source.html#l01095">remove_pending_parking_lot_extensions()</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l07420">sla_destroy()</a>, and <a class="el" href="../../dc/dcf/func__periodic__hook_8c_source.html#l00445">unload_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;{</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dd/ddb/extconf_8h.html#a8c67e0eaa0ffcfdf2e050ea27b7adc50">localized_context_destroy</a>(con, <a class="code" href="../../de/d23/pbx__ael_8c.html#ab990a3529ebde2681a00468cad7c0b48">registrar</a>);</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;}</div><div class="ttc" id="pbx__ael_8c_html_ab990a3529ebde2681a00468cad7c0b48"><div class="ttname"><a href="../../de/d23/pbx__ael_8c.html#ab990a3529ebde2681a00468cad7c0b48">registrar</a></div><div class="ttdeci">static char * registrar</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d23/pbx__ael_8c_source.html#l00078">pbx_ael.c:78</a></div></div>
<div class="ttc" id="extconf_8h_html_a8c67e0eaa0ffcfdf2e050ea27b7adc50"><div class="ttname"><a href="../../dd/ddb/extconf_8h.html#a8c67e0eaa0ffcfdf2e050ea27b7adc50">localized_context_destroy</a></div><div class="ttdeci">void localized_context_destroy(struct ast_context *con, const char *registrar)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc5/extconf_8c_source.html#l05565">extconf.c:5565</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a08abc5aa22cce4a793000a796b791076"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a08abc5aa22cce4a793000a796b791076">&#9670;&nbsp;</a></span>ast_context_destroy_by_name()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_context_destroy_by_name </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>registrar</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destroy a context by name. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">context</td><td>Name of the context to destroy </td></tr>
    <tr><td class="paramname">registrar</td><td>who registered it</td></tr>
  </table>
  </dd>
</dl>
<p>You can optionally leave out the registrar parameter. It will find it based on the context name.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">-1</td><td>context not found </td></tr>
    <tr><td class="paramname">0</td><td>Success </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../db/d94/pbx_8c_source.html#l08244">8244</a> of file <a class="el" href="../../db/d94/pbx_8c_source.html">pbx.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/d94/pbx_8c_source.html#l08260">ast_context_destroy()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l02443">ast_context_find()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08512">ast_unlock_contexts()</a>, and <a class="el" href="../../db/d94/pbx_8c_source.html#l08502">ast_wrlock_contexts()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l14601">__unload_module()</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00287">app_dtor()</a>, <a class="el" href="../../dd/dfd/config__global_8c_source.html#l00630">ast_sip_destroy_sorcery_global()</a>, <a class="el" href="../../dd/dfd/config__global_8c_source.html#l00147">check_regcontext()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l20651">cleanup_stale_contexts()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00132">handle_cli_dialplan_remove_context()</a>, and <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l35708">unload_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l08245"></a><span class="lineno"> 8245</span>&#160;{</div><div class="line"><a name="l08246"></a><span class="lineno"> 8246</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d6/d7c/structast__context.html">ast_context</a> *con;</div><div class="line"><a name="l08247"></a><span class="lineno"> 8247</span>&#160;   <span class="keywordtype">int</span> ret = -1;</div><div class="line"><a name="l08248"></a><span class="lineno"> 8248</span>&#160;</div><div class="line"><a name="l08249"></a><span class="lineno"> 8249</span>&#160;   <a class="code" href="../../db/d94/pbx_8c.html#a18c87dac5f7f4368c11b67d8026adc22">ast_wrlock_contexts</a>();</div><div class="line"><a name="l08250"></a><span class="lineno"> 8250</span>&#160;   con = <a class="code" href="../../db/d94/pbx_8c.html#a2af2d2771e5347b18454a05dbc98e35f">ast_context_find</a>(<a class="code" href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a>);</div><div class="line"><a name="l08251"></a><span class="lineno"> 8251</span>&#160;   <span class="keywordflow">if</span> (con) {</div><div class="line"><a name="l08252"></a><span class="lineno"> 8252</span>&#160;      <a class="code" href="../../db/d94/pbx_8c.html#a9546b830c22c693a2baed08e48569401">ast_context_destroy</a>(con, <a class="code" href="../../de/d23/pbx__ael_8c.html#ab990a3529ebde2681a00468cad7c0b48">registrar</a>);</div><div class="line"><a name="l08253"></a><span class="lineno"> 8253</span>&#160;      ret = 0;</div><div class="line"><a name="l08254"></a><span class="lineno"> 8254</span>&#160;   }</div><div class="line"><a name="l08255"></a><span class="lineno"> 8255</span>&#160;   <a class="code" href="../../db/d94/pbx_8c.html#ae517a87b356aec60d5de4591ef94581b">ast_unlock_contexts</a>();</div><div class="line"><a name="l08256"></a><span class="lineno"> 8256</span>&#160;</div><div class="line"><a name="l08257"></a><span class="lineno"> 8257</span>&#160;   <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l08258"></a><span class="lineno"> 8258</span>&#160;}</div><div class="ttc" id="pbx_8c_html_a2af2d2771e5347b18454a05dbc98e35f"><div class="ttname"><a href="../../db/d94/pbx_8c.html#a2af2d2771e5347b18454a05dbc98e35f">ast_context_find</a></div><div class="ttdeci">struct ast_context * ast_context_find(const char *name)</div><div class="ttdoc">Find a context. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l02443">pbx.c:2443</a></div></div>
<div class="ttc" id="pbx_8c_html_a9546b830c22c693a2baed08e48569401"><div class="ttname"><a href="../../db/d94/pbx_8c.html#a9546b830c22c693a2baed08e48569401">ast_context_destroy</a></div><div class="ttdeci">void ast_context_destroy(struct ast_context *con, const char *registrar)</div><div class="ttdoc">Destroy a context (matches the specified context or ANY context if NULL) </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l08260">pbx.c:8260</a></div></div>
<div class="ttc" id="pbx_8c_html_a18c87dac5f7f4368c11b67d8026adc22"><div class="ttname"><a href="../../db/d94/pbx_8c.html#a18c87dac5f7f4368c11b67d8026adc22">ast_wrlock_contexts</a></div><div class="ttdeci">int ast_wrlock_contexts(void)</div><div class="ttdoc">Write locks the context list. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l08502">pbx.c:8502</a></div></div>
<div class="ttc" id="pbx_8c_html_ae517a87b356aec60d5de4591ef94581b"><div class="ttname"><a href="../../db/d94/pbx_8c.html#ae517a87b356aec60d5de4591ef94581b">ast_unlock_contexts</a></div><div class="ttdeci">int ast_unlock_contexts(void)</div><div class="ttdoc">Unlocks contexts. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l08512">pbx.c:8512</a></div></div>
<div class="ttc" id="pbx__ael_8c_html_ab990a3529ebde2681a00468cad7c0b48"><div class="ttname"><a href="../../de/d23/pbx__ael_8c.html#ab990a3529ebde2681a00468cad7c0b48">registrar</a></div><div class="ttdeci">static char * registrar</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d23/pbx__ael_8c_source.html#l00078">pbx_ael.c:78</a></div></div>
<div class="ttc" id="chan__alsa_8c_html_ac25ea00ee3f082df06e0cf468cbde240"><div class="ttname"><a href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a></div><div class="ttdeci">static char context[AST_MAX_CONTEXT]</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d45/chan__alsa_8c_source.html#l00116">chan_alsa.c:116</a></div></div>
<div class="ttc" id="structast__context_html"><div class="ttname"><a href="../../d6/d7c/structast__context.html">ast_context</a></div><div class="ttdoc">ast_context: An extension context - must remain in sync with fake_context </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l00284">pbx.c:284</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2e3c5fe3db1ee8cd78f2bf58c9416aa4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2e3c5fe3db1ee8cd78f2bf58c9416aa4">&#9670;&nbsp;</a></span>ast_context_find()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="../../d6/d7c/structast__context.html">ast_context</a> * ast_context_find </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Find a context. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>name of the context to find</td></tr>
  </table>
  </dd>
</dl>
<p>Will search for the context with the given name.</p>
<dl class="section return"><dt>Returns</dt><dd>the <a class="el" href="../../d6/d7c/structast__context.html" title="ast_context: An extension context - must remain in sync with fake_context ">ast_context</a> on success, NULL on failure. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d4/dc5/extconf_8c_source.html#l04174">4174</a> of file <a class="el" href="../../d4/dc5/extconf_8c_source.html">extconf.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/d90/strings_8h_source.html#l00401">ast_copy_string()</a>, <a class="el" href="../../df/d35/hashtab_8c_source.html#l00486">ast_hashtab_lookup()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08507">ast_rdlock_contexts()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08512">ast_unlock_contexts()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08609">ast_walk_contexts()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l00297">ast_context::name</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l02440">fake_context::name</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../de/d1e/bt__open_8c_source.html#l00389">tmp()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/d1b/app__macro_8c_source.html#l00236">_macro_exec()</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00915">app_create()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08244">ast_context_destroy_by_name()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08750">ast_context_verify_includes()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l06921">ast_ignore_pattern()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l01063">handle_cli_dialplan_add_extension()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00674">handle_cli_dialplan_add_include()</a>, <a class="el" href="../../dc/d3c/func__dialplan_8c_source.html#l00073">isexten_function_read()</a>, <a class="el" href="../../d0/d80/chan__skinny_8c_source.html#l02209">register_exten()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l05238">register_peer_exten()</a>, and <a class="el" href="../../d0/d80/chan__skinny_8c_source.html#l02234">unregister_exten()</a>.</p>
<div class="fragment"><div class="line"><a name="l04175"></a><span class="lineno"> 4175</span>&#160;{</div><div class="line"><a name="l04176"></a><span class="lineno"> 4176</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d6/d7c/structast__context.html">ast_context</a> *<a class="code" href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l04177"></a><span class="lineno"> 4177</span>&#160;   <span class="keywordflow">while</span> ( (tmp = <a class="code" href="../../d4/dc5/extconf_8c.html#a2f85080595446ab5301f431a8daab683">ast_walk_contexts</a>(tmp)) ) {</div><div class="line"><a name="l04178"></a><span class="lineno"> 4178</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a> || !strcasecmp(<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, tmp-&gt;<a class="code" href="../../d6/d7c/structast__context.html#a2a7f851274ec18e17d38114c39b8511a">name</a>))</div><div class="line"><a name="l04179"></a><span class="lineno"> 4179</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l04180"></a><span class="lineno"> 4180</span>&#160;   }</div><div class="line"><a name="l04181"></a><span class="lineno"> 4181</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a>;</div><div class="line"><a name="l04182"></a><span class="lineno"> 4182</span>&#160;}</div><div class="ttc" id="bt__open_8c_html_a1cdd2bb1a9a71d3e1120100229315d67"><div class="ttname"><a href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a></div><div class="ttdeci">static int tmp()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1e/bt__open_8c_source.html#l00389">bt_open.c:389</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="extconf_8c_html_a2f85080595446ab5301f431a8daab683"><div class="ttname"><a href="../../d4/dc5/extconf_8c.html#a2f85080595446ab5301f431a8daab683">ast_walk_contexts</a></div><div class="ttdeci">static struct ast_context * ast_walk_contexts(struct ast_context *con)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc5/extconf_8c_source.html#l04026">extconf.c:4026</a></div></div>
<div class="ttc" id="structast__context_html_a2a7f851274ec18e17d38114c39b8511a"><div class="ttname"><a href="../../d6/d7c/structast__context.html#a2a7f851274ec18e17d38114c39b8511a">ast_context::name</a></div><div class="ttdeci">char name[0]</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l00297">pbx.c:297</a></div></div>
<div class="ttc" id="cdr__mysql_8c_html_a0980a105ccb863d8008eb6201a51da52"><div class="ttname"><a href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a></div><div class="ttdeci">static const char name[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/cdr__mysql_8c_source.html#l00074">cdr_mysql.c:74</a></div></div>
<div class="ttc" id="structast__context_html"><div class="ttname"><a href="../../d6/d7c/structast__context.html">ast_context</a></div><div class="ttdoc">ast_context: An extension context - must remain in sync with fake_context </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l00284">pbx.c:284</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a8a07400b41b3302edf8aef9f53644698"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a07400b41b3302edf8aef9f53644698">&#9670;&nbsp;</a></span>ast_context_find_or_create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d6/d7c/structast__context.html">ast_context</a>* ast_context_find_or_create </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d6/d7c/structast__context.html">ast_context</a> **&#160;</td>
          <td class="paramname"><em>extcontexts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d0/d4a/structast__hashtab.html">ast_hashtab</a> *&#160;</td>
          <td class="paramname"><em>exttable</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>registrar</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register a new context or find an existing one. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">extcontexts</td><td>pointer to the <a class="el" href="../../d6/d7c/structast__context.html" title="ast_context: An extension context - must remain in sync with fake_context ">ast_context</a> structure pointer </td></tr>
    <tr><td class="paramname">exttable</td><td>pointer to the hashtable that contains all the elements in extcontexts </td></tr>
    <tr><td class="paramname">name</td><td>name of the new context </td></tr>
    <tr><td class="paramname">registrar</td><td>registrar of the context</td></tr>
  </table>
  </dd>
</dl>
<p>This function allows you to play in two environments: the global contexts (active dialplan) or an external context set of your choosing. To act on the external set, make sure extcontexts and exttable are set; for the globals, make sure both extcontexts and exttable are NULL.</p>
<p>This will first search for a context with your name. If it exists already, it will not create a new one. If it does not exist, it will create a new one with the given name and registrar.</p>
<dl class="section return"><dt>Returns</dt><dd>NULL on failure, and an <a class="el" href="../../d6/d7c/structast__context.html" title="ast_context: An extension context - must remain in sync with fake_context ">ast_context</a> structure on success </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../db/d94/pbx_8c_source.html#l06198">6198</a> of file <a class="el" href="../../db/d94/pbx_8c_source.html">pbx.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/dcc/conf2ael_8c_source.html#l00599">__ast_cli_register_multiple()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l00292">ast_context::alts</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00204">ast_calloc</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00401">ast_copy_string()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l00683">ast_hashtab_compare_contexts()</a>, <a class="el" href="../../d6/da0/hashtab_8h_source.html#l00261">ast_hashtab_create</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l00735">ast_hashtab_hash_contexts()</a>, <a class="el" href="../../d6/da0/hashtab_8h_source.html#l00291">ast_hashtab_insert_immediate</a>, <a class="el" href="../../d6/da0/hashtab_8h_source.html#l00315">ast_hashtab_insert_safe</a>, <a class="el" href="../../df/d35/hashtab_8c_source.html#l00486">ast_hashtab_lookup()</a>, <a class="el" href="../../df/d35/hashtab_8c_source.html#l00127">ast_hashtab_newsize_java()</a>, <a class="el" href="../../df/d35/hashtab_8c_source.html#l00084">ast_hashtab_resize_java()</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00184">ast_mutex_init</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08507">ast_rdlock_contexts()</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00222">ast_rwlock_init</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00243">ast_strdup</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08512">ast_unlock_contexts()</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00113">AST_VECTOR_INIT</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08502">ast_wrlock_contexts()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l00776">contexts</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l00291">ast_context::ignorepats</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l00290">ast_context::includes</a>, <a class="el" href="../../de/dcc/conf2ael_8c.html#a71549c9ba7fb62eeb7c04b697e716543">local_contexts</a>, <a class="el" href="../../d4/dc5/extconf_8c_source.html#l04989">localized_context_find_or_create()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l00285">ast_context::lock</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l00296">ast_context::macrolock</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l00297">ast_context::name</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l02440">fake_context::name</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l00289">ast_context::next</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l00294">ast_context::refcount</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l00293">ast_context::registrar</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l00286">ast_context::root</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l00287">ast_context::root_table</a>, and <a class="el" href="../../de/d1e/bt__open_8c_source.html#l00389">tmp()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00484">add_hints()</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00915">app_create()</a>, <a class="el" href="../../d0/d85/pval_8c_source.html#l04413">ast_compile_ael2()</a>, <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l01312">ast_sip_persistent_endpoint_add_to_regcontext()</a>, <a class="el" href="../../d9/d3f/test__gosub_8c_source.html#l00041">AST_TEST_DEFINE()</a>, <a class="el" href="../../d0/d80/chan__skinny_8c_source.html#l07770">config_parse_variables()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l06369">context_merge()</a>, <a class="el" href="../../d9/d7a/test__message_8c_source.html#l00828">create_test_dialplan()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l01063">handle_cli_dialplan_add_extension()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00674">handle_cli_dialplan_add_include()</a>, <a class="el" href="../../dc/dcf/func__periodic__hook_8c_source.html#l00453">load_module()</a>, <a class="el" href="../../d6/dde/pbx__lua_8c_source.html#l00987">lua_register_hints()</a>, <a class="el" href="../../d6/dde/pbx__lua_8c_source.html#l00929">lua_register_switches()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l01195">manager_dialplan_extension_add()</a>, <a class="el" href="../../d1/db7/parking__bridge__features_8c_source.html#l00575">parking_duration_callback()</a>, <a class="el" href="../../d7/d45/res__parking_8c_source.html#l00758">parking_lot_cfg_create_extensions()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l01674">pbx_load_config()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l01977">pbx_load_users()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l32514">reload_config()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l13476">set_config()</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l07646">sla_build_station()</a>, and <a class="el" href="../../df/d44/app__meetme_8c_source.html#l07474">sla_build_trunk()</a>.</p>
<div class="fragment"><div class="line"><a name="l06199"></a><span class="lineno"> 6199</span>&#160;{</div><div class="line"><a name="l06200"></a><span class="lineno"> 6200</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d6/d7c/structast__context.html">ast_context</a> *<a class="code" href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a>, **<a class="code" href="../../de/dcc/conf2ael_8c.html#a71549c9ba7fb62eeb7c04b697e716543">local_contexts</a>;</div><div class="line"><a name="l06201"></a><span class="lineno"> 6201</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d6/da7/structfake__context.html">fake_context</a> search;</div><div class="line"><a name="l06202"></a><span class="lineno"> 6202</span>&#160;   <span class="keywordtype">int</span> length = <span class="keyword">sizeof</span>(<span class="keyword">struct </span><a class="code" href="../../d6/d7c/structast__context.html">ast_context</a>) + strlen(<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>) + 1;</div><div class="line"><a name="l06203"></a><span class="lineno"> 6203</span>&#160;</div><div class="line"><a name="l06204"></a><span class="lineno"> 6204</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../db/d94/pbx_8c.html#a4571322b2dc5414f61e4f3fe7af2331c">contexts_table</a>) {</div><div class="line"><a name="l06205"></a><span class="lineno"> 6205</span>&#160;      <span class="comment">/* Protect creation of contexts_table from reentrancy. */</span></div><div class="line"><a name="l06206"></a><span class="lineno"> 6206</span>&#160;      <a class="code" href="../../db/d94/pbx_8c.html#a18c87dac5f7f4368c11b67d8026adc22">ast_wrlock_contexts</a>();</div><div class="line"><a name="l06207"></a><span class="lineno"> 6207</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="../../db/d94/pbx_8c.html#a4571322b2dc5414f61e4f3fe7af2331c">contexts_table</a>) {</div><div class="line"><a name="l06208"></a><span class="lineno"> 6208</span>&#160;         <a class="code" href="../../db/d94/pbx_8c.html#a4571322b2dc5414f61e4f3fe7af2331c">contexts_table</a> = <a class="code" href="../../d6/da0/hashtab_8h.html#ae4ca301bcfd289b81751c34e0c712847">ast_hashtab_create</a>(17,</div><div class="line"><a name="l06209"></a><span class="lineno"> 6209</span>&#160;            <a class="code" href="../../db/d94/pbx_8c.html#a20a2f5668173430437db02cdd0acc9f3">ast_hashtab_compare_contexts</a>,</div><div class="line"><a name="l06210"></a><span class="lineno"> 6210</span>&#160;            <a class="code" href="../../d6/da0/hashtab_8h.html#aef63906caa0b965e9c8d8561600038e9">ast_hashtab_resize_java</a>,</div><div class="line"><a name="l06211"></a><span class="lineno"> 6211</span>&#160;            <a class="code" href="../../d6/da0/hashtab_8h.html#a743bfd52a8c9eb5d939ff5944758d846">ast_hashtab_newsize_java</a>,</div><div class="line"><a name="l06212"></a><span class="lineno"> 6212</span>&#160;            <a class="code" href="../../db/d94/pbx_8c.html#a56461864a4e21b14e753b78f9ac7afb7">ast_hashtab_hash_contexts</a>,</div><div class="line"><a name="l06213"></a><span class="lineno"> 6213</span>&#160;            0);</div><div class="line"><a name="l06214"></a><span class="lineno"> 6214</span>&#160;      }</div><div class="line"><a name="l06215"></a><span class="lineno"> 6215</span>&#160;      <a class="code" href="../../db/d94/pbx_8c.html#ae517a87b356aec60d5de4591ef94581b">ast_unlock_contexts</a>();</div><div class="line"><a name="l06216"></a><span class="lineno"> 6216</span>&#160;   }</div><div class="line"><a name="l06217"></a><span class="lineno"> 6217</span>&#160;</div><div class="line"><a name="l06218"></a><span class="lineno"> 6218</span>&#160;   <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(search.name, <a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, <span class="keyword">sizeof</span>(search.name));</div><div class="line"><a name="l06219"></a><span class="lineno"> 6219</span>&#160;   <span class="keywordflow">if</span> (!extcontexts) {</div><div class="line"><a name="l06220"></a><span class="lineno"> 6220</span>&#160;      <a class="code" href="../../db/d94/pbx_8c.html#aa2c309331fff0a086ab8e216f803d546">ast_rdlock_contexts</a>();</div><div class="line"><a name="l06221"></a><span class="lineno"> 6221</span>&#160;      local_contexts = &amp;<a class="code" href="../../db/d94/pbx_8c.html#aae85d5aab50f2d1b8392d6df276f2561">contexts</a>;</div><div class="line"><a name="l06222"></a><span class="lineno"> 6222</span>&#160;      tmp = <a class="code" href="../../d6/da0/hashtab_8h.html#a78b1f7bc201afd020f6270378173bb79">ast_hashtab_lookup</a>(<a class="code" href="../../db/d94/pbx_8c.html#a4571322b2dc5414f61e4f3fe7af2331c">contexts_table</a>, &amp;search);</div><div class="line"><a name="l06223"></a><span class="lineno"> 6223</span>&#160;      <span class="keywordflow">if</span> (tmp) {</div><div class="line"><a name="l06224"></a><span class="lineno"> 6224</span>&#160;         tmp-&gt;<a class="code" href="../../d6/d7c/structast__context.html#a6022c8a609170c7365fb96e83cb2df48">refcount</a>++;</div><div class="line"><a name="l06225"></a><span class="lineno"> 6225</span>&#160;         <a class="code" href="../../db/d94/pbx_8c.html#ae517a87b356aec60d5de4591ef94581b">ast_unlock_contexts</a>();</div><div class="line"><a name="l06226"></a><span class="lineno"> 6226</span>&#160;         <span class="keywordflow">return</span> <a class="code" href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a>;</div><div class="line"><a name="l06227"></a><span class="lineno"> 6227</span>&#160;      }</div><div class="line"><a name="l06228"></a><span class="lineno"> 6228</span>&#160;   } <span class="keywordflow">else</span> { <span class="comment">/* local contexts just in a linked list; search there for the new context; slow, linear search, but not frequent */</span></div><div class="line"><a name="l06229"></a><span class="lineno"> 6229</span>&#160;      local_contexts = extcontexts;</div><div class="line"><a name="l06230"></a><span class="lineno"> 6230</span>&#160;      tmp = <a class="code" href="../../d6/da0/hashtab_8h.html#a78b1f7bc201afd020f6270378173bb79">ast_hashtab_lookup</a>(exttable, &amp;search);</div><div class="line"><a name="l06231"></a><span class="lineno"> 6231</span>&#160;      <span class="keywordflow">if</span> (tmp) {</div><div class="line"><a name="l06232"></a><span class="lineno"> 6232</span>&#160;         tmp-&gt;<a class="code" href="../../d6/d7c/structast__context.html#a6022c8a609170c7365fb96e83cb2df48">refcount</a>++;</div><div class="line"><a name="l06233"></a><span class="lineno"> 6233</span>&#160;         <span class="keywordflow">return</span> <a class="code" href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a>;</div><div class="line"><a name="l06234"></a><span class="lineno"> 6234</span>&#160;      }</div><div class="line"><a name="l06235"></a><span class="lineno"> 6235</span>&#160;   }</div><div class="line"><a name="l06236"></a><span class="lineno"> 6236</span>&#160;</div><div class="line"><a name="l06237"></a><span class="lineno"> 6237</span>&#160;   <span class="keywordflow">if</span> ((tmp = <a class="code" href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a>(1, length))) {</div><div class="line"><a name="l06238"></a><span class="lineno"> 6238</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a9b07039db138693d1ebe02c3e99ddcab">ast_rwlock_init</a>(&amp;tmp-&gt;<a class="code" href="../../d6/d7c/structast__context.html#ace4e0066a5b24f84b90536e9906619f6">lock</a>);</div><div class="line"><a name="l06239"></a><span class="lineno"> 6239</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a76e8ed6bb354be6c6dd9e51acc1d7a1b">ast_mutex_init</a>(&amp;tmp-&gt;<a class="code" href="../../d6/d7c/structast__context.html#a34eb63008d294b713376e64bb2a7b2ef">macrolock</a>);</div><div class="line"><a name="l06240"></a><span class="lineno"> 6240</span>&#160;      strcpy(tmp-&gt;<a class="code" href="../../d6/d7c/structast__context.html#a2a7f851274ec18e17d38114c39b8511a">name</a>, <a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>);</div><div class="line"><a name="l06241"></a><span class="lineno"> 6241</span>&#160;      tmp-&gt;<a class="code" href="../../d6/d7c/structast__context.html#a17b7bb377cc83ce3794ce63b9f7b3c12">root</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l06242"></a><span class="lineno"> 6242</span>&#160;      tmp-&gt;<a class="code" href="../../d6/d7c/structast__context.html#ab89d9c8c0b08ae6e239f17da8f25a7b3">root_table</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l06243"></a><span class="lineno"> 6243</span>&#160;      tmp-&gt;<a class="code" href="../../d6/d7c/structast__context.html#a8c205128d7dc6034c5a5cf16b602f2fe">registrar</a> = <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(<a class="code" href="../../de/d23/pbx__ael_8c.html#ab990a3529ebde2681a00468cad7c0b48">registrar</a>);</div><div class="line"><a name="l06244"></a><span class="lineno"> 6244</span>&#160;      <a class="code" href="../../d6/d68/vector_8h.html#ad9d555fa89da1bfc691181993499f785">AST_VECTOR_INIT</a>(&amp;tmp-&gt;<a class="code" href="../../d6/d7c/structast__context.html#a37fab5903a397434aa8bde4a88290528">includes</a>, 0);</div><div class="line"><a name="l06245"></a><span class="lineno"> 6245</span>&#160;      <a class="code" href="../../d6/d68/vector_8h.html#ad9d555fa89da1bfc691181993499f785">AST_VECTOR_INIT</a>(&amp;tmp-&gt;<a class="code" href="../../d6/d7c/structast__context.html#a6cb23af21b2834040bd20ea0031b3b8b">ignorepats</a>, 0);</div><div class="line"><a name="l06246"></a><span class="lineno"> 6246</span>&#160;      <a class="code" href="../../d6/d68/vector_8h.html#ad9d555fa89da1bfc691181993499f785">AST_VECTOR_INIT</a>(&amp;tmp-&gt;<a class="code" href="../../d6/d7c/structast__context.html#a14868fadcf440d6507b4818f9c9f88e6">alts</a>, 0);</div><div class="line"><a name="l06247"></a><span class="lineno"> 6247</span>&#160;      tmp-&gt;<a class="code" href="../../d6/d7c/structast__context.html#a6022c8a609170c7365fb96e83cb2df48">refcount</a> = 1;</div><div class="line"><a name="l06248"></a><span class="lineno"> 6248</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l06249"></a><span class="lineno"> 6249</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Danger! We failed to allocate a context for %s!\n&quot;</span>, <a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>);</div><div class="line"><a name="l06250"></a><span class="lineno"> 6250</span>&#160;      <span class="keywordflow">if</span> (!extcontexts) {</div><div class="line"><a name="l06251"></a><span class="lineno"> 6251</span>&#160;         <a class="code" href="../../db/d94/pbx_8c.html#ae517a87b356aec60d5de4591ef94581b">ast_unlock_contexts</a>();</div><div class="line"><a name="l06252"></a><span class="lineno"> 6252</span>&#160;      }</div><div class="line"><a name="l06253"></a><span class="lineno"> 6253</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l06254"></a><span class="lineno"> 6254</span>&#160;   }</div><div class="line"><a name="l06255"></a><span class="lineno"> 6255</span>&#160;</div><div class="line"><a name="l06256"></a><span class="lineno"> 6256</span>&#160;   <span class="keywordflow">if</span> (!extcontexts) {</div><div class="line"><a name="l06257"></a><span class="lineno"> 6257</span>&#160;      tmp-&gt;<a class="code" href="../../d6/d7c/structast__context.html#aafd235bcf46595dcc4b91a22647f1cea">next</a> = *<a class="code" href="../../de/dcc/conf2ael_8c.html#a71549c9ba7fb62eeb7c04b697e716543">local_contexts</a>;</div><div class="line"><a name="l06258"></a><span class="lineno"> 6258</span>&#160;      *local_contexts = <a class="code" href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a>;</div><div class="line"><a name="l06259"></a><span class="lineno"> 6259</span>&#160;      <a class="code" href="../../d6/da0/hashtab_8h.html#a2f04e7652af9cbb593431b623233cb11">ast_hashtab_insert_safe</a>(<a class="code" href="../../db/d94/pbx_8c.html#a4571322b2dc5414f61e4f3fe7af2331c">contexts_table</a>, tmp); <span class="comment">/*put this context into the tree */</span></div><div class="line"><a name="l06260"></a><span class="lineno"> 6260</span>&#160;      <a class="code" href="../../db/d94/pbx_8c.html#ae517a87b356aec60d5de4591ef94581b">ast_unlock_contexts</a>();</div><div class="line"><a name="l06261"></a><span class="lineno"> 6261</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l06262"></a><span class="lineno"> 6262</span>&#160;      tmp-&gt;<a class="code" href="../../d6/d7c/structast__context.html#aafd235bcf46595dcc4b91a22647f1cea">next</a> = *<a class="code" href="../../de/dcc/conf2ael_8c.html#a71549c9ba7fb62eeb7c04b697e716543">local_contexts</a>;</div><div class="line"><a name="l06263"></a><span class="lineno"> 6263</span>&#160;      <span class="keywordflow">if</span> (exttable)</div><div class="line"><a name="l06264"></a><span class="lineno"> 6264</span>&#160;         <a class="code" href="../../d6/da0/hashtab_8h.html#abd1eaf0229b6a896b795026218c9bde0">ast_hashtab_insert_immediate</a>(exttable, tmp); <span class="comment">/*put this context into the tree */</span></div><div class="line"><a name="l06265"></a><span class="lineno"> 6265</span>&#160;</div><div class="line"><a name="l06266"></a><span class="lineno"> 6266</span>&#160;      *local_contexts = <a class="code" href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a>;</div><div class="line"><a name="l06267"></a><span class="lineno"> 6267</span>&#160;   }</div><div class="line"><a name="l06268"></a><span class="lineno"> 6268</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;Registered extension context &#39;%s&#39;; registrar: %s\n&quot;</span>, tmp-&gt;<a class="code" href="../../d6/d7c/structast__context.html#a2a7f851274ec18e17d38114c39b8511a">name</a>, <a class="code" href="../../de/d23/pbx__ael_8c.html#ab990a3529ebde2681a00468cad7c0b48">registrar</a>);</div><div class="line"><a name="l06269"></a><span class="lineno"> 6269</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a>;</div><div class="line"><a name="l06270"></a><span class="lineno"> 6270</span>&#160;}</div><div class="ttc" id="structast__context_html_a6cb23af21b2834040bd20ea0031b3b8b"><div class="ttname"><a href="../../d6/d7c/structast__context.html#a6cb23af21b2834040bd20ea0031b3b8b">ast_context::ignorepats</a></div><div class="ttdeci">struct ast_ignorepats ignorepats</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l00291">pbx.c:291</a></div></div>
<div class="ttc" id="hashtab_8h_html_a78b1f7bc201afd020f6270378173bb79"><div class="ttname"><a href="../../d6/da0/hashtab_8h.html#a78b1f7bc201afd020f6270378173bb79">ast_hashtab_lookup</a></div><div class="ttdeci">void * ast_hashtab_lookup(struct ast_hashtab *tab, const void *obj)</div><div class="ttdoc">Lookup this object in the hash table. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d35/hashtab_8c_source.html#l00486">hashtab.c:486</a></div></div>
<div class="ttc" id="hashtab_8h_html_a743bfd52a8c9eb5d939ff5944758d846"><div class="ttname"><a href="../../d6/da0/hashtab_8h.html#a743bfd52a8c9eb5d939ff5944758d846">ast_hashtab_newsize_java</a></div><div class="ttdeci">int ast_hashtab_newsize_java(struct ast_hashtab *tab)</div><div class="ttdoc">Create a prime number roughly 2x the current table size. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d35/hashtab_8c_source.html#l00127">hashtab.c:127</a></div></div>
<div class="ttc" id="structast__context_html_a17b7bb377cc83ce3794ce63b9f7b3c12"><div class="ttname"><a href="../../d6/d7c/structast__context.html#a17b7bb377cc83ce3794ce63b9f7b3c12">ast_context::root</a></div><div class="ttdeci">struct ast_exten * root</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l00286">pbx.c:286</a></div></div>
<div class="ttc" id="pbx_8c_html_a4571322b2dc5414f61e4f3fe7af2331c"><div class="ttname"><a href="../../db/d94/pbx_8c.html#a4571322b2dc5414f61e4f3fe7af2331c">contexts_table</a></div><div class="ttdeci">static struct ast_hashtab * contexts_table</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l00777">pbx.c:777</a></div></div>
<div class="ttc" id="bt__open_8c_html_a1cdd2bb1a9a71d3e1120100229315d67"><div class="ttname"><a href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a></div><div class="ttdeci">static int tmp()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1e/bt__open_8c_source.html#l00389">bt_open.c:389</a></div></div>
<div class="ttc" id="astmm_8h_html_ab263849d03fb892847be4986db759737"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a></div><div class="ttdeci">#define ast_strdup(str)</div><div class="ttdoc">A wrapper for strdup() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00243">astmm.h:243</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="conf2ael_8c_html_a71549c9ba7fb62eeb7c04b697e716543"><div class="ttname"><a href="../../de/dcc/conf2ael_8c.html#a71549c9ba7fb62eeb7c04b697e716543">local_contexts</a></div><div class="ttdeci">struct ast_context * local_contexts</div></div>
<div class="ttc" id="pbx_8c_html_aa2c309331fff0a086ab8e216f803d546"><div class="ttname"><a href="../../db/d94/pbx_8c.html#aa2c309331fff0a086ab8e216f803d546">ast_rdlock_contexts</a></div><div class="ttdeci">int ast_rdlock_contexts(void)</div><div class="ttdoc">Read locks the context list. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l08507">pbx.c:8507</a></div></div>
<div class="ttc" id="hashtab_8h_html_aef63906caa0b965e9c8d8561600038e9"><div class="ttname"><a href="../../d6/da0/hashtab_8h.html#aef63906caa0b965e9c8d8561600038e9">ast_hashtab_resize_java</a></div><div class="ttdeci">int ast_hashtab_resize_java(struct ast_hashtab *tab)</div><div class="ttdoc">Determines if a table resize should occur using the Java algorithm (if the table load factor is 75% o...</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d35/hashtab_8c_source.html#l00084">hashtab.c:84</a></div></div>
<div class="ttc" id="hashtab_8h_html_a2f04e7652af9cbb593431b623233cb11"><div class="ttname"><a href="../../d6/da0/hashtab_8h.html#a2f04e7652af9cbb593431b623233cb11">ast_hashtab_insert_safe</a></div><div class="ttdeci">#define ast_hashtab_insert_safe(tab, obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00315">hashtab.h:315</a></div></div>
<div class="ttc" id="structast__context_html_aafd235bcf46595dcc4b91a22647f1cea"><div class="ttname"><a href="../../d6/d7c/structast__context.html#aafd235bcf46595dcc4b91a22647f1cea">ast_context::next</a></div><div class="ttdeci">struct ast_context * next</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l00289">pbx.c:289</a></div></div>
<div class="ttc" id="structast__context_html_a34eb63008d294b713376e64bb2a7b2ef"><div class="ttname"><a href="../../d6/d7c/structast__context.html#a34eb63008d294b713376e64bb2a7b2ef">ast_context::macrolock</a></div><div class="ttdeci">ast_mutex_t macrolock</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l00296">pbx.c:296</a></div></div>
<div class="ttc" id="pbx_8c_html_a18c87dac5f7f4368c11b67d8026adc22"><div class="ttname"><a href="../../db/d94/pbx_8c.html#a18c87dac5f7f4368c11b67d8026adc22">ast_wrlock_contexts</a></div><div class="ttdeci">int ast_wrlock_contexts(void)</div><div class="ttdoc">Write locks the context list. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l08502">pbx.c:8502</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="hashtab_8h_html_abd1eaf0229b6a896b795026218c9bde0"><div class="ttname"><a href="../../d6/da0/hashtab_8h.html#abd1eaf0229b6a896b795026218c9bde0">ast_hashtab_insert_immediate</a></div><div class="ttdeci">#define ast_hashtab_insert_immediate(tab, obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00291">hashtab.h:291</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="vector_8h_html_ad9d555fa89da1bfc691181993499f785"><div class="ttname"><a href="../../d6/d68/vector_8h.html#ad9d555fa89da1bfc691181993499f785">AST_VECTOR_INIT</a></div><div class="ttdeci">#define AST_VECTOR_INIT(vec, size)</div><div class="ttdoc">Initialize a vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00113">vector.h:113</a></div></div>
<div class="ttc" id="structast__context_html_a8c205128d7dc6034c5a5cf16b602f2fe"><div class="ttname"><a href="../../d6/d7c/structast__context.html#a8c205128d7dc6034c5a5cf16b602f2fe">ast_context::registrar</a></div><div class="ttdeci">char * registrar</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l00293">pbx.c:293</a></div></div>
<div class="ttc" id="structast__context_html_a37fab5903a397434aa8bde4a88290528"><div class="ttname"><a href="../../d6/d7c/structast__context.html#a37fab5903a397434aa8bde4a88290528">ast_context::includes</a></div><div class="ttdeci">struct ast_includes includes</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l00290">pbx.c:290</a></div></div>
<div class="ttc" id="pbx_8c_html_ae517a87b356aec60d5de4591ef94581b"><div class="ttname"><a href="../../db/d94/pbx_8c.html#ae517a87b356aec60d5de4591ef94581b">ast_unlock_contexts</a></div><div class="ttdeci">int ast_unlock_contexts(void)</div><div class="ttdoc">Unlocks contexts. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l08512">pbx.c:8512</a></div></div>
<div class="ttc" id="structast__context_html_ace4e0066a5b24f84b90536e9906619f6"><div class="ttname"><a href="../../d6/d7c/structast__context.html#ace4e0066a5b24f84b90536e9906619f6">ast_context::lock</a></div><div class="ttdeci">ast_rwlock_t lock</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l00285">pbx.c:285</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="structast__context_html_a2a7f851274ec18e17d38114c39b8511a"><div class="ttname"><a href="../../d6/d7c/structast__context.html#a2a7f851274ec18e17d38114c39b8511a">ast_context::name</a></div><div class="ttdeci">char name[0]</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l00297">pbx.c:297</a></div></div>
<div class="ttc" id="structfake__context_html"><div class="ttname"><a href="../../d6/da7/structfake__context.html">fake_context</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l02426">pbx.c:2426</a></div></div>
<div class="ttc" id="lock_8h_html_a9b07039db138693d1ebe02c3e99ddcab"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a9b07039db138693d1ebe02c3e99ddcab">ast_rwlock_init</a></div><div class="ttdeci">#define ast_rwlock_init(rwlock)</div><div class="ttdoc">wrapper for rwlock with tracking enabled </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00222">lock.h:222</a></div></div>
<div class="ttc" id="pbx__ael_8c_html_ab990a3529ebde2681a00468cad7c0b48"><div class="ttname"><a href="../../de/d23/pbx__ael_8c.html#ab990a3529ebde2681a00468cad7c0b48">registrar</a></div><div class="ttdeci">static char * registrar</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d23/pbx__ael_8c_source.html#l00078">pbx_ael.c:78</a></div></div>
<div class="ttc" id="cdr__mysql_8c_html_a0980a105ccb863d8008eb6201a51da52"><div class="ttname"><a href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a></div><div class="ttdeci">static const char name[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/cdr__mysql_8c_source.html#l00074">cdr_mysql.c:74</a></div></div>
<div class="ttc" id="astmm_8h_html_ae0cd4c5524b01287ab19cbe233d9cebb"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a></div><div class="ttdeci">#define ast_calloc(num, len)</div><div class="ttdoc">A wrapper for calloc() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00204">astmm.h:204</a></div></div>
<div class="ttc" id="strings_8h_html_ac4040268f7b6ed77dfc49c7767626369"><div class="ttname"><a href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a></div><div class="ttdeci">void ast_copy_string(char *dst, const char *src, size_t size)</div><div class="ttdoc">Size-limited null-terminating string copy. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00401">strings.h:401</a></div></div>
<div class="ttc" id="pbx_8c_html_a56461864a4e21b14e753b78f9ac7afb7"><div class="ttname"><a href="../../db/d94/pbx_8c.html#a56461864a4e21b14e753b78f9ac7afb7">ast_hashtab_hash_contexts</a></div><div class="ttdeci">unsigned int ast_hashtab_hash_contexts(const void *obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l00735">pbx.c:735</a></div></div>
<div class="ttc" id="structast__context_html_a6022c8a609170c7365fb96e83cb2df48"><div class="ttname"><a href="../../d6/d7c/structast__context.html#a6022c8a609170c7365fb96e83cb2df48">ast_context::refcount</a></div><div class="ttdeci">int refcount</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l00294">pbx.c:294</a></div></div>
<div class="ttc" id="structast__context_html_ab89d9c8c0b08ae6e239f17da8f25a7b3"><div class="ttname"><a href="../../d6/d7c/structast__context.html#ab89d9c8c0b08ae6e239f17da8f25a7b3">ast_context::root_table</a></div><div class="ttdeci">struct ast_hashtab * root_table</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l00287">pbx.c:287</a></div></div>
<div class="ttc" id="pbx_8c_html_aae85d5aab50f2d1b8392d6df276f2561"><div class="ttname"><a href="../../db/d94/pbx_8c.html#aae85d5aab50f2d1b8392d6df276f2561">contexts</a></div><div class="ttdeci">static struct ast_context * contexts</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l00776">pbx.c:776</a></div></div>
<div class="ttc" id="hashtab_8h_html_ae4ca301bcfd289b81751c34e0c712847"><div class="ttname"><a href="../../d6/da0/hashtab_8h.html#ae4ca301bcfd289b81751c34e0c712847">ast_hashtab_create</a></div><div class="ttdeci">#define ast_hashtab_create(initial_buckets, compare, resize, newsize, hash, do_locking)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00261">hashtab.h:261</a></div></div>
<div class="ttc" id="lock_8h_html_a76e8ed6bb354be6c6dd9e51acc1d7a1b"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a76e8ed6bb354be6c6dd9e51acc1d7a1b">ast_mutex_init</a></div><div class="ttdeci">#define ast_mutex_init(pmutex)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00184">lock.h:184</a></div></div>
<div class="ttc" id="structast__context_html_a14868fadcf440d6507b4818f9c9f88e6"><div class="ttname"><a href="../../d6/d7c/structast__context.html#a14868fadcf440d6507b4818f9c9f88e6">ast_context::alts</a></div><div class="ttdeci">struct ast_sws alts</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l00292">pbx.c:292</a></div></div>
<div class="ttc" id="structast__context_html"><div class="ttname"><a href="../../d6/d7c/structast__context.html">ast_context</a></div><div class="ttdoc">ast_context: An extension context - must remain in sync with fake_context </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l00284">pbx.c:284</a></div></div>
<div class="ttc" id="pbx_8c_html_a20a2f5668173430437db02cdd0acc9f3"><div class="ttname"><a href="../../db/d94/pbx_8c.html#a20a2f5668173430437db02cdd0acc9f3">ast_hashtab_compare_contexts</a></div><div class="ttdeci">int ast_hashtab_compare_contexts(const void *ah_a, const void *ah_b)</div><div class="ttdoc">hashtable functions for contexts </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l00683">pbx.c:683</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa780584a8327cbe41d566b91e119eb97"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa780584a8327cbe41d566b91e119eb97">&#9670;&nbsp;</a></span>ast_context_ignorepats_count()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_context_ignorepats_count </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d6/d7c/structast__context.html">ast_context</a> *&#160;</td>
          <td class="paramname"><em>con</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/d94/pbx_8c_source.html#l08740">8740</a> of file <a class="el" href="../../db/d94/pbx_8c_source.html">pbx.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/d68/vector_8h_source.html#l00611">AST_VECTOR_SIZE</a>, and <a class="el" href="../../db/d94/pbx_8c_source.html#l00291">ast_context::ignorepats</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d94/pbx_8c_source.html#l08095">__ast_context_destroy()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l06890">ast_context_add_ignorepat2()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l06850">ast_context_remove_ignorepat2()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l06921">ast_ignore_pattern()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08707">ast_walk_context_ignorepats()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l01488">complete_dialplan_remove_ignorepat()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l06294">context_merge_incls_swits_igps_other_registrars()</a>, <a class="el" href="../../d0/d85/pval_8c_source.html#l04398">context_used()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00809">handle_cli_dialplan_save()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00212">lookup_c_ip()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l05864">manager_show_dialplan_helper()</a>, and <a class="el" href="../../db/d94/pbx_8c_source.html#l05516">show_dialplan_helper()</a>.</p>
<div class="fragment"><div class="line"><a name="l08741"></a><span class="lineno"> 8741</span>&#160;{</div><div class="line"><a name="l08742"></a><span class="lineno"> 8742</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d6/d68/vector_8h.html#a20b08af81cc9452fb721c9a698f81bdf">AST_VECTOR_SIZE</a>(&amp;con-&gt;<a class="code" href="../../d6/d7c/structast__context.html#a6cb23af21b2834040bd20ea0031b3b8b">ignorepats</a>);</div><div class="line"><a name="l08743"></a><span class="lineno"> 8743</span>&#160;}</div><div class="ttc" id="structast__context_html_a6cb23af21b2834040bd20ea0031b3b8b"><div class="ttname"><a href="../../d6/d7c/structast__context.html#a6cb23af21b2834040bd20ea0031b3b8b">ast_context::ignorepats</a></div><div class="ttdeci">struct ast_ignorepats ignorepats</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l00291">pbx.c:291</a></div></div>
<div class="ttc" id="vector_8h_html_a20b08af81cc9452fb721c9a698f81bdf"><div class="ttname"><a href="../../d6/d68/vector_8h.html#a20b08af81cc9452fb721c9a698f81bdf">AST_VECTOR_SIZE</a></div><div class="ttdeci">#define AST_VECTOR_SIZE(vec)</div><div class="ttdoc">Get the number of elements in a vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00611">vector.h:611</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6fee17b9633bb84f0fce209d5d42fb0a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6fee17b9633bb84f0fce209d5d42fb0a">&#9670;&nbsp;</a></span>ast_context_ignorepats_get()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const struct <a class="el" href="../../d0/d11/structast__ignorepat.html">ast_ignorepat</a>* ast_context_ignorepats_get </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d6/d7c/structast__context.html">ast_context</a> *&#160;</td>
          <td class="paramname"><em>con</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>idx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/d94/pbx_8c_source.html#l08745">8745</a> of file <a class="el" href="../../db/d94/pbx_8c_source.html">pbx.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/d68/vector_8h_source.html#l00682">AST_VECTOR_GET</a>, and <a class="el" href="../../db/d94/pbx_8c_source.html#l00291">ast_context::ignorepats</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d94/pbx_8c_source.html#l06890">ast_context_add_ignorepat2()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l06921">ast_ignore_pattern()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08707">ast_walk_context_ignorepats()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l01488">complete_dialplan_remove_ignorepat()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l06294">context_merge_incls_swits_igps_other_registrars()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00809">handle_cli_dialplan_save()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00212">lookup_c_ip()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l05864">manager_show_dialplan_helper()</a>, and <a class="el" href="../../db/d94/pbx_8c_source.html#l05516">show_dialplan_helper()</a>.</p>
<div class="fragment"><div class="line"><a name="l08746"></a><span class="lineno"> 8746</span>&#160;{</div><div class="line"><a name="l08747"></a><span class="lineno"> 8747</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d6/d68/vector_8h.html#aef32ac52c3e8a530d16eb92cde22cacd">AST_VECTOR_GET</a>(&amp;con-&gt;<a class="code" href="../../d6/d7c/structast__context.html#a6cb23af21b2834040bd20ea0031b3b8b">ignorepats</a>, idx);</div><div class="line"><a name="l08748"></a><span class="lineno"> 8748</span>&#160;}</div><div class="ttc" id="structast__context_html_a6cb23af21b2834040bd20ea0031b3b8b"><div class="ttname"><a href="../../d6/d7c/structast__context.html#a6cb23af21b2834040bd20ea0031b3b8b">ast_context::ignorepats</a></div><div class="ttdeci">struct ast_ignorepats ignorepats</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l00291">pbx.c:291</a></div></div>
<div class="ttc" id="vector_8h_html_aef32ac52c3e8a530d16eb92cde22cacd"><div class="ttname"><a href="../../d6/d68/vector_8h.html#aef32ac52c3e8a530d16eb92cde22cacd">AST_VECTOR_GET</a></div><div class="ttdeci">#define AST_VECTOR_GET(vec, idx)</div><div class="ttdoc">Get an element from a vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00682">vector.h:682</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aec2e421fa0b10e14812d52c30ec7e744"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aec2e421fa0b10e14812d52c30ec7e744">&#9670;&nbsp;</a></span>ast_context_includes_count()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_context_includes_count </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d6/d7c/structast__context.html">ast_context</a> *&#160;</td>
          <td class="paramname"><em>con</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/d94/pbx_8c_source.html#l08697">8697</a> of file <a class="el" href="../../db/d94/pbx_8c_source.html">pbx.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/d68/vector_8h_source.html#l00611">AST_VECTOR_SIZE</a>, and <a class="el" href="../../db/d94/pbx_8c_source.html#l00290">ast_context::includes</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d94/pbx_8c_source.html#l08095">__ast_context_destroy()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l06726">ast_context_add_include2()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l04863">ast_context_remove_include2()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08750">ast_context_verify_includes()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08668">ast_walk_context_includes()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00289">complete_dialplan_remove_include()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l06294">context_merge_incls_swits_igps_other_registrars()</a>, <a class="el" href="../../d0/d85/pval_8c_source.html#l04398">context_used()</a>, <a class="el" href="../../d1/d02/app__if_8c_source.html#l00097">find_matching_priority()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00809">handle_cli_dialplan_save()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00188">lookup_ci()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l05864">manager_show_dialplan_helper()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l02485">pbx_find_extension()</a>, and <a class="el" href="../../db/d94/pbx_8c_source.html#l05516">show_dialplan_helper()</a>.</p>
<div class="fragment"><div class="line"><a name="l08698"></a><span class="lineno"> 8698</span>&#160;{</div><div class="line"><a name="l08699"></a><span class="lineno"> 8699</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d6/d68/vector_8h.html#a20b08af81cc9452fb721c9a698f81bdf">AST_VECTOR_SIZE</a>(&amp;con-&gt;<a class="code" href="../../d6/d7c/structast__context.html#a37fab5903a397434aa8bde4a88290528">includes</a>);</div><div class="line"><a name="l08700"></a><span class="lineno"> 8700</span>&#160;}</div><div class="ttc" id="structast__context_html_a37fab5903a397434aa8bde4a88290528"><div class="ttname"><a href="../../d6/d7c/structast__context.html#a37fab5903a397434aa8bde4a88290528">ast_context::includes</a></div><div class="ttdeci">struct ast_includes includes</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l00290">pbx.c:290</a></div></div>
<div class="ttc" id="vector_8h_html_a20b08af81cc9452fb721c9a698f81bdf"><div class="ttname"><a href="../../d6/d68/vector_8h.html#a20b08af81cc9452fb721c9a698f81bdf">AST_VECTOR_SIZE</a></div><div class="ttdeci">#define AST_VECTOR_SIZE(vec)</div><div class="ttdoc">Get the number of elements in a vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00611">vector.h:611</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="afb93dec0c216cb07939fd15949baff2f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb93dec0c216cb07939fd15949baff2f">&#9670;&nbsp;</a></span>ast_context_includes_get()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const struct <a class="el" href="../../d5/db2/structast__include.html">ast_include</a>* ast_context_includes_get </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d6/d7c/structast__context.html">ast_context</a> *&#160;</td>
          <td class="paramname"><em>con</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>idx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/d94/pbx_8c_source.html#l08702">8702</a> of file <a class="el" href="../../db/d94/pbx_8c_source.html">pbx.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/d68/vector_8h_source.html#l00682">AST_VECTOR_GET</a>, and <a class="el" href="../../db/d94/pbx_8c_source.html#l00290">ast_context::includes</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d94/pbx_8c_source.html#l06726">ast_context_add_include2()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08750">ast_context_verify_includes()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08668">ast_walk_context_includes()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00289">complete_dialplan_remove_include()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l06294">context_merge_incls_swits_igps_other_registrars()</a>, <a class="el" href="../../d1/d02/app__if_8c_source.html#l00097">find_matching_priority()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00809">handle_cli_dialplan_save()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00188">lookup_ci()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l05864">manager_show_dialplan_helper()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l02485">pbx_find_extension()</a>, and <a class="el" href="../../db/d94/pbx_8c_source.html#l05516">show_dialplan_helper()</a>.</p>
<div class="fragment"><div class="line"><a name="l08703"></a><span class="lineno"> 8703</span>&#160;{</div><div class="line"><a name="l08704"></a><span class="lineno"> 8704</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d6/d68/vector_8h.html#aef32ac52c3e8a530d16eb92cde22cacd">AST_VECTOR_GET</a>(&amp;con-&gt;<a class="code" href="../../d6/d7c/structast__context.html#a37fab5903a397434aa8bde4a88290528">includes</a>, idx);</div><div class="line"><a name="l08705"></a><span class="lineno"> 8705</span>&#160;}</div><div class="ttc" id="structast__context_html_a37fab5903a397434aa8bde4a88290528"><div class="ttname"><a href="../../d6/d7c/structast__context.html#a37fab5903a397434aa8bde4a88290528">ast_context::includes</a></div><div class="ttdeci">struct ast_includes includes</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l00290">pbx.c:290</a></div></div>
<div class="ttc" id="vector_8h_html_aef32ac52c3e8a530d16eb92cde22cacd"><div class="ttname"><a href="../../d6/d68/vector_8h.html#aef32ac52c3e8a530d16eb92cde22cacd">AST_VECTOR_GET</a></div><div class="ttdeci">#define AST_VECTOR_GET(vec, idx)</div><div class="ttdoc">Get an element from a vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00682">vector.h:682</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a0425cd7146d66b6ae06f16ddfd53307a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0425cd7146d66b6ae06f16ddfd53307a">&#9670;&nbsp;</a></span>ast_context_lockmacro()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_context_lockmacro </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>context</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>locks the macrolock in the given context </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">macrocontext</td><td>name of the macro-context to lock</td></tr>
  </table>
  </dd>
</dl>
<p>Locks the given macro-context to ensure only one thread (call) can execute it at a time</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>on success </td></tr>
    <tr><td class="paramname">-1</td><td>on failure</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>This function locks contexts list by &amp;conlist, searches for the right context structure, and locks the macrolock mutex in that context. macrolock is used to limit a macro to be executed by one call at a time. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">context</td><td>The context </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../db/d94/pbx_8c_source.html#l05162">5162</a> of file <a class="el" href="../../db/d94/pbx_8c_source.html">pbx.c</a>.</p>

<p class="reference">References <a class="el" href="../../dd/d42/lock_8h_source.html#l00187">ast_mutex_lock</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08512">ast_unlock_contexts()</a>, <a class="el" href="../../d7/d6f/test__linkedlists_8c_source.html#l00048">c</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l04818">find_context_locked()</a>, and <a class="el" href="../../db/d94/pbx_8c_source.html#l00296">ast_context::macrolock</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/d1b/app__macro_8c_source.html#l00236">_macro_exec()</a>.</p>
<div class="fragment"><div class="line"><a name="l05163"></a><span class="lineno"> 5163</span>&#160;{</div><div class="line"><a name="l05164"></a><span class="lineno"> 5164</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d6/d7c/structast__context.html">ast_context</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>;</div><div class="line"><a name="l05165"></a><span class="lineno"> 5165</span>&#160;   <span class="keywordtype">int</span> ret = -1;</div><div class="line"><a name="l05166"></a><span class="lineno"> 5166</span>&#160;</div><div class="line"><a name="l05167"></a><span class="lineno"> 5167</span>&#160;   c = <a class="code" href="../../db/d94/pbx_8c.html#a85edff1fa15717f00123b70af815e10d">find_context_locked</a>(<a class="code" href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a>);</div><div class="line"><a name="l05168"></a><span class="lineno"> 5168</span>&#160;   <span class="keywordflow">if</span> (c) {</div><div class="line"><a name="l05169"></a><span class="lineno"> 5169</span>&#160;      <a class="code" href="../../db/d94/pbx_8c.html#ae517a87b356aec60d5de4591ef94581b">ast_unlock_contexts</a>();</div><div class="line"><a name="l05170"></a><span class="lineno"> 5170</span>&#160;</div><div class="line"><a name="l05171"></a><span class="lineno"> 5171</span>&#160;      <span class="comment">/* if we found context, lock macrolock */</span></div><div class="line"><a name="l05172"></a><span class="lineno"> 5172</span>&#160;      ret = <a class="code" href="../../dd/d42/lock_8h.html#ac5e13c7fe64d3b271a52028b0a78b92b">ast_mutex_lock</a>(&amp;c-&gt;<a class="code" href="../../d6/d7c/structast__context.html#a34eb63008d294b713376e64bb2a7b2ef">macrolock</a>);</div><div class="line"><a name="l05173"></a><span class="lineno"> 5173</span>&#160;   }</div><div class="line"><a name="l05174"></a><span class="lineno"> 5174</span>&#160;</div><div class="line"><a name="l05175"></a><span class="lineno"> 5175</span>&#160;   <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l05176"></a><span class="lineno"> 5176</span>&#160;}</div><div class="ttc" id="lock_8h_html_ac5e13c7fe64d3b271a52028b0a78b92b"><div class="ttname"><a href="../../dd/d42/lock_8h.html#ac5e13c7fe64d3b271a52028b0a78b92b">ast_mutex_lock</a></div><div class="ttdeci">#define ast_mutex_lock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00187">lock.h:187</a></div></div>
<div class="ttc" id="test__linkedlists_8c_html_acd9db00336027462cfb25b97b5356883"><div class="ttname"><a href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a></div><div class="ttdeci">static struct test_val c</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d6f/test__linkedlists_8c_source.html#l00048">test_linkedlists.c:48</a></div></div>
<div class="ttc" id="structast__context_html_a34eb63008d294b713376e64bb2a7b2ef"><div class="ttname"><a href="../../d6/d7c/structast__context.html#a34eb63008d294b713376e64bb2a7b2ef">ast_context::macrolock</a></div><div class="ttdeci">ast_mutex_t macrolock</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l00296">pbx.c:296</a></div></div>
<div class="ttc" id="pbx_8c_html_ae517a87b356aec60d5de4591ef94581b"><div class="ttname"><a href="../../db/d94/pbx_8c.html#ae517a87b356aec60d5de4591ef94581b">ast_unlock_contexts</a></div><div class="ttdeci">int ast_unlock_contexts(void)</div><div class="ttdoc">Unlocks contexts. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l08512">pbx.c:8512</a></div></div>
<div class="ttc" id="pbx_8c_html_a85edff1fa15717f00123b70af815e10d"><div class="ttname"><a href="../../db/d94/pbx_8c.html#a85edff1fa15717f00123b70af815e10d">find_context_locked</a></div><div class="ttdeci">static struct ast_context * find_context_locked(const char *context)</div><div class="ttdoc">lookup for a context with a given name, </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l04818">pbx.c:4818</a></div></div>
<div class="ttc" id="chan__alsa_8c_html_ac25ea00ee3f082df06e0cf468cbde240"><div class="ttname"><a href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a></div><div class="ttdeci">static char context[AST_MAX_CONTEXT]</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d45/chan__alsa_8c_source.html#l00116">chan_alsa.c:116</a></div></div>
<div class="ttc" id="structast__context_html"><div class="ttname"><a href="../../d6/d7c/structast__context.html">ast_context</a></div><div class="ttdoc">ast_context: An extension context - must remain in sync with fake_context </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l00284">pbx.c:284</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a721c6ba091102f155a586e09b2a526bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a721c6ba091102f155a586e09b2a526bf">&#9670;&nbsp;</a></span>ast_context_remove_extension()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_context_remove_extension </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>extension</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>priority</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>registrar</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Simply remove extension from context. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">context</td><td>context to remove extension from </td></tr>
    <tr><td class="paramname">extension</td><td>which extension to remove </td></tr>
    <tr><td class="paramname">priority</td><td>priority of extension to remove (0 to remove all) </td></tr>
    <tr><td class="paramname">registrar</td><td>registrar of the extension</td></tr>
  </table>
  </dd>
</dl>
<p>This function removes an extension from a given context.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>on success </td></tr>
    <tr><td class="paramname">-1</td><td>on failure</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>This function will lock conlock. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../db/d94/pbx_8c_source.html#l04952">4952</a> of file <a class="el" href="../../db/d94/pbx_8c_source.html">pbx.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/d94/pbx_8c_source.html#l04957">ast_context_remove_extension_callerid()</a>, <a class="el" href="../../db/de0/pbx_8h_source.html#l00080">AST_EXT_MATCHCID_ANY</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l01329">ast_sip_persistent_endpoint_update_state()</a>, <a class="el" href="../../d9/d3f/test__gosub_8c_source.html#l00041">AST_TEST_DEFINE()</a>, <a class="el" href="../../d0/dcf/app__confbridge_8c_source.html#l01473">conf_ended()</a>, <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00407">delete_extens()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l08860">register_peer_exten()</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l07380">sla_station_destructor()</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l07459">sla_trunk_destructor()</a>, <a class="el" href="../../d0/d80/chan__skinny_8c_source.html#l02234">unregister_exten()</a>, and <a class="el" href="../../d1/d6d/chan__unistim_8c_source.html#l01459">unregister_extension()</a>.</p>
<div class="fragment"><div class="line"><a name="l04953"></a><span class="lineno"> 4953</span>&#160;{</div><div class="line"><a name="l04954"></a><span class="lineno"> 4954</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../db/d94/pbx_8c.html#aea78542f089fbd63ff25147631b96e51">ast_context_remove_extension_callerid</a>(<a class="code" href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a>, <a class="code" href="../../d0/d5a/structextension.html">extension</a>, <a class="code" href="../../d9/d47/cdr__beanstalkd_8c.html#acec9ce2df15222151ad66fcb1d74eb9f">priority</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../db/de0/pbx_8h.html#a40b191a3f395775ddd84d363c8fbd030a37db4d8017d05366c5b19084c5c5c84c">AST_EXT_MATCHCID_ANY</a>, <a class="code" href="../../de/d23/pbx__ael_8c.html#ab990a3529ebde2681a00468cad7c0b48">registrar</a>);</div><div class="line"><a name="l04955"></a><span class="lineno"> 4955</span>&#160;}</div><div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="cdr__beanstalkd_8c_html_acec9ce2df15222151ad66fcb1d74eb9f"><div class="ttname"><a href="../../d9/d47/cdr__beanstalkd_8c.html#acec9ce2df15222151ad66fcb1d74eb9f">priority</a></div><div class="ttdeci">static int priority</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d47/cdr__beanstalkd_8c_source.html#l00076">cdr_beanstalkd.c:76</a></div></div>
<div class="ttc" id="structextension_html"><div class="ttname"><a href="../../d0/d5a/structextension.html">extension</a></div><div class="ttdoc">structure to hold extensions </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de9/res__phoneprov_8c_source.html#l00287">res_phoneprov.c:287</a></div></div>
<div class="ttc" id="pbx_8h_html_a40b191a3f395775ddd84d363c8fbd030a37db4d8017d05366c5b19084c5c5c84c"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a40b191a3f395775ddd84d363c8fbd030a37db4d8017d05366c5b19084c5c5c84c">AST_EXT_MATCHCID_ANY</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/de0/pbx_8h_source.html#l00080">pbx.h:80</a></div></div>
<div class="ttc" id="pbx__ael_8c_html_ab990a3529ebde2681a00468cad7c0b48"><div class="ttname"><a href="../../de/d23/pbx__ael_8c.html#ab990a3529ebde2681a00468cad7c0b48">registrar</a></div><div class="ttdeci">static char * registrar</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d23/pbx__ael_8c_source.html#l00078">pbx_ael.c:78</a></div></div>
<div class="ttc" id="chan__alsa_8c_html_ac25ea00ee3f082df06e0cf468cbde240"><div class="ttname"><a href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a></div><div class="ttdeci">static char context[AST_MAX_CONTEXT]</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d45/chan__alsa_8c_source.html#l00116">chan_alsa.c:116</a></div></div>
<div class="ttc" id="pbx_8c_html_aea78542f089fbd63ff25147631b96e51"><div class="ttname"><a href="../../db/d94/pbx_8c.html#aea78542f089fbd63ff25147631b96e51">ast_context_remove_extension_callerid</a></div><div class="ttdeci">int ast_context_remove_extension_callerid(const char *context, const char *extension, int priority, const char *callerid, int matchcallerid, const char *registrar)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l04957">pbx.c:4957</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a25dad382feec89a9bbc6c5284bb30e25"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a25dad382feec89a9bbc6c5284bb30e25">&#9670;&nbsp;</a></span>ast_context_remove_extension2()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_context_remove_extension2 </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d6/d7c/structast__context.html">ast_context</a> *&#160;</td>
          <td class="paramname"><em>con</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>extension</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>priority</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>registrar</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>already_locked</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This functionc locks given context, search for the right extension and fires out all peer in this extensions with given priority. If priority is set to 0, all peers are removed. After that, unlock context and return. </p>
<dl class="section note"><dt>Note</dt><dd>When do you want to call this function, make sure that &amp;conlock is locked, because some process can handle with your *con context before you lock it. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../db/d94/pbx_8c_source.html#l04982">4982</a> of file <a class="el" href="../../db/d94/pbx_8c_source.html">pbx.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/d94/pbx_8c_source.html#l04987">ast_context_remove_extension_callerid2()</a>, <a class="el" href="../../db/de0/pbx_8h_source.html#l00080">AST_EXT_MATCHCID_ANY</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00422">add_extension()</a>, and <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00484">add_hints()</a>.</p>
<div class="fragment"><div class="line"><a name="l04983"></a><span class="lineno"> 4983</span>&#160;{</div><div class="line"><a name="l04984"></a><span class="lineno"> 4984</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../db/d94/pbx_8c.html#a938a84cd1446c1da1e45b2269c36c9e3">ast_context_remove_extension_callerid2</a>(con, <a class="code" href="../../d0/d5a/structextension.html">extension</a>, <a class="code" href="../../d9/d47/cdr__beanstalkd_8c.html#acec9ce2df15222151ad66fcb1d74eb9f">priority</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../db/de0/pbx_8h.html#a40b191a3f395775ddd84d363c8fbd030a37db4d8017d05366c5b19084c5c5c84c">AST_EXT_MATCHCID_ANY</a>, <a class="code" href="../../de/d23/pbx__ael_8c.html#ab990a3529ebde2681a00468cad7c0b48">registrar</a>, already_locked);</div><div class="line"><a name="l04985"></a><span class="lineno"> 4985</span>&#160;}</div><div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="cdr__beanstalkd_8c_html_acec9ce2df15222151ad66fcb1d74eb9f"><div class="ttname"><a href="../../d9/d47/cdr__beanstalkd_8c.html#acec9ce2df15222151ad66fcb1d74eb9f">priority</a></div><div class="ttdeci">static int priority</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d47/cdr__beanstalkd_8c_source.html#l00076">cdr_beanstalkd.c:76</a></div></div>
<div class="ttc" id="structextension_html"><div class="ttname"><a href="../../d0/d5a/structextension.html">extension</a></div><div class="ttdoc">structure to hold extensions </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de9/res__phoneprov_8c_source.html#l00287">res_phoneprov.c:287</a></div></div>
<div class="ttc" id="pbx_8h_html_a40b191a3f395775ddd84d363c8fbd030a37db4d8017d05366c5b19084c5c5c84c"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a40b191a3f395775ddd84d363c8fbd030a37db4d8017d05366c5b19084c5c5c84c">AST_EXT_MATCHCID_ANY</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/de0/pbx_8h_source.html#l00080">pbx.h:80</a></div></div>
<div class="ttc" id="pbx__ael_8c_html_ab990a3529ebde2681a00468cad7c0b48"><div class="ttname"><a href="../../de/d23/pbx__ael_8c.html#ab990a3529ebde2681a00468cad7c0b48">registrar</a></div><div class="ttdeci">static char * registrar</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d23/pbx__ael_8c_source.html#l00078">pbx_ael.c:78</a></div></div>
<div class="ttc" id="pbx_8c_html_a938a84cd1446c1da1e45b2269c36c9e3"><div class="ttname"><a href="../../db/d94/pbx_8c.html#a938a84cd1446c1da1e45b2269c36c9e3">ast_context_remove_extension_callerid2</a></div><div class="ttdeci">int ast_context_remove_extension_callerid2(struct ast_context *con, const char *extension, int priority, const char *callerid, int matchcallerid, const char *registrar, int already_locked)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l04987">pbx.c:4987</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a85ffdbb47cc54f8d125b4276d6bd3170"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a85ffdbb47cc54f8d125b4276d6bd3170">&#9670;&nbsp;</a></span>ast_context_remove_extension_callerid()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_context_remove_extension_callerid </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>extension</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>priority</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>callerid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>matchcid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>registrar</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/d94/pbx_8c_source.html#l04957">4957</a> of file <a class="el" href="../../db/d94/pbx_8c_source.html">pbx.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/d94/pbx_8c_source.html#l04987">ast_context_remove_extension_callerid2()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08512">ast_unlock_contexts()</a>, <a class="el" href="../../d7/d6f/test__linkedlists_8c_source.html#l00048">c</a>, and <a class="el" href="../../db/d94/pbx_8c_source.html#l04818">find_context_locked()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d94/pbx_8c_source.html#l04952">ast_context_remove_extension()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00415">handle_cli_dialplan_remove_extension()</a>, and <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00502">manager_dialplan_extension_remove()</a>.</p>
<div class="fragment"><div class="line"><a name="l04958"></a><span class="lineno"> 4958</span>&#160;{</div><div class="line"><a name="l04959"></a><span class="lineno"> 4959</span>&#160;   <span class="keywordtype">int</span> ret = -1; <span class="comment">/* default error return */</span></div><div class="line"><a name="l04960"></a><span class="lineno"> 4960</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d6/d7c/structast__context.html">ast_context</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>;</div><div class="line"><a name="l04961"></a><span class="lineno"> 4961</span>&#160;</div><div class="line"><a name="l04962"></a><span class="lineno"> 4962</span>&#160;   c = <a class="code" href="../../db/d94/pbx_8c.html#a85edff1fa15717f00123b70af815e10d">find_context_locked</a>(<a class="code" href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a>);</div><div class="line"><a name="l04963"></a><span class="lineno"> 4963</span>&#160;   <span class="keywordflow">if</span> (c) { <span class="comment">/* ... remove extension ... */</span></div><div class="line"><a name="l04964"></a><span class="lineno"> 4964</span>&#160;      ret = <a class="code" href="../../db/d94/pbx_8c.html#a938a84cd1446c1da1e45b2269c36c9e3">ast_context_remove_extension_callerid2</a>(c, <a class="code" href="../../d0/d5a/structextension.html">extension</a>, <a class="code" href="../../d9/d47/cdr__beanstalkd_8c.html#acec9ce2df15222151ad66fcb1d74eb9f">priority</a>, callerid,</div><div class="line"><a name="l04965"></a><span class="lineno"> 4965</span>&#160;         matchcallerid, <a class="code" href="../../de/d23/pbx__ael_8c.html#ab990a3529ebde2681a00468cad7c0b48">registrar</a>, 0);</div><div class="line"><a name="l04966"></a><span class="lineno"> 4966</span>&#160;      <a class="code" href="../../db/d94/pbx_8c.html#ae517a87b356aec60d5de4591ef94581b">ast_unlock_contexts</a>();</div><div class="line"><a name="l04967"></a><span class="lineno"> 4967</span>&#160;   }</div><div class="line"><a name="l04968"></a><span class="lineno"> 4968</span>&#160;</div><div class="line"><a name="l04969"></a><span class="lineno"> 4969</span>&#160;   <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l04970"></a><span class="lineno"> 4970</span>&#160;}</div><div class="ttc" id="test__linkedlists_8c_html_acd9db00336027462cfb25b97b5356883"><div class="ttname"><a href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a></div><div class="ttdeci">static struct test_val c</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d6f/test__linkedlists_8c_source.html#l00048">test_linkedlists.c:48</a></div></div>
<div class="ttc" id="cdr__beanstalkd_8c_html_acec9ce2df15222151ad66fcb1d74eb9f"><div class="ttname"><a href="../../d9/d47/cdr__beanstalkd_8c.html#acec9ce2df15222151ad66fcb1d74eb9f">priority</a></div><div class="ttdeci">static int priority</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d47/cdr__beanstalkd_8c_source.html#l00076">cdr_beanstalkd.c:76</a></div></div>
<div class="ttc" id="structextension_html"><div class="ttname"><a href="../../d0/d5a/structextension.html">extension</a></div><div class="ttdoc">structure to hold extensions </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de9/res__phoneprov_8c_source.html#l00287">res_phoneprov.c:287</a></div></div>
<div class="ttc" id="pbx_8c_html_ae517a87b356aec60d5de4591ef94581b"><div class="ttname"><a href="../../db/d94/pbx_8c.html#ae517a87b356aec60d5de4591ef94581b">ast_unlock_contexts</a></div><div class="ttdeci">int ast_unlock_contexts(void)</div><div class="ttdoc">Unlocks contexts. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l08512">pbx.c:8512</a></div></div>
<div class="ttc" id="pbx__ael_8c_html_ab990a3529ebde2681a00468cad7c0b48"><div class="ttname"><a href="../../de/d23/pbx__ael_8c.html#ab990a3529ebde2681a00468cad7c0b48">registrar</a></div><div class="ttdeci">static char * registrar</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d23/pbx__ael_8c_source.html#l00078">pbx_ael.c:78</a></div></div>
<div class="ttc" id="pbx_8c_html_a85edff1fa15717f00123b70af815e10d"><div class="ttname"><a href="../../db/d94/pbx_8c.html#a85edff1fa15717f00123b70af815e10d">find_context_locked</a></div><div class="ttdeci">static struct ast_context * find_context_locked(const char *context)</div><div class="ttdoc">lookup for a context with a given name, </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l04818">pbx.c:4818</a></div></div>
<div class="ttc" id="pbx_8c_html_a938a84cd1446c1da1e45b2269c36c9e3"><div class="ttname"><a href="../../db/d94/pbx_8c.html#a938a84cd1446c1da1e45b2269c36c9e3">ast_context_remove_extension_callerid2</a></div><div class="ttdeci">int ast_context_remove_extension_callerid2(struct ast_context *con, const char *extension, int priority, const char *callerid, int matchcallerid, const char *registrar, int already_locked)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l04987">pbx.c:4987</a></div></div>
<div class="ttc" id="chan__alsa_8c_html_ac25ea00ee3f082df06e0cf468cbde240"><div class="ttname"><a href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a></div><div class="ttdeci">static char context[AST_MAX_CONTEXT]</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d45/chan__alsa_8c_source.html#l00116">chan_alsa.c:116</a></div></div>
<div class="ttc" id="structast__context_html"><div class="ttname"><a href="../../d6/d7c/structast__context.html">ast_context</a></div><div class="ttdoc">ast_context: An extension context - must remain in sync with fake_context </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l00284">pbx.c:284</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="abb8840d8ea2dd143fa4f606d048ad6b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abb8840d8ea2dd143fa4f606d048ad6b7">&#9670;&nbsp;</a></span>ast_context_remove_extension_callerid2()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_context_remove_extension_callerid2 </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d6/d7c/structast__context.html">ast_context</a> *&#160;</td>
          <td class="paramname"><em>con</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>extension</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>priority</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>callerid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>matchcid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>registrar</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>already_locked</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/d94/pbx_8c_source.html#l04987">4987</a> of file <a class="el" href="../../db/d94/pbx_8c_source.html">pbx.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/d94/pbx_8c_source.html#l01657">add_exten_to_pattern_tree()</a>, <a class="el" href="../../d6/da0/hashtab_8h_source.html#l00291">ast_hashtab_insert_immediate</a>, <a class="el" href="../../df/d35/hashtab_8c_source.html#l00486">ast_hashtab_lookup()</a>, <a class="el" href="../../df/d35/hashtab_8c_source.html#l00789">ast_hashtab_remove_this_object()</a>, <a class="el" href="../../df/d35/hashtab_8c_source.html#l00577">ast_hashtab_size()</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08530">ast_unlock_context()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00463">ast_verb</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08520">ast_wrlock_context()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l00241">ast_exten::cidmatch</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l00264">match_char::deleted</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l04678">destroy_exten()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l07068">ext_strncpy()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l00238">ast_exten::exten</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l00268">match_char::exten</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l00244">ast_exten::label</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00263">LOG_NOTICE</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l00240">ast_exten::matchcid</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l00239">ast_exten::name</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l00297">ast_context::name</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l00256">ast_exten::next</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l00288">ast_context::pattern_tree</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l00250">ast_exten::peer</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l00252">ast_exten::peer_label_table</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l00251">ast_exten::peer_table</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l00243">ast_exten::priority</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l00253">ast_exten::registrar</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l00286">ast_context::root</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l00287">ast_context::root_table</a>, and <a class="el" href="../../db/d94/pbx_8c_source.html#l00269">match_char::x</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d94/pbx_8c_source.html#l08095">__ast_context_destroy()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l04982">ast_context_remove_extension2()</a>, and <a class="el" href="../../db/d94/pbx_8c_source.html#l04957">ast_context_remove_extension_callerid()</a>.</p>
<div class="fragment"><div class="line"><a name="l04988"></a><span class="lineno"> 4988</span>&#160;{</div><div class="line"><a name="l04989"></a><span class="lineno"> 4989</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d7/d00/structast__exten.html">ast_exten</a> *<a class="code" href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>, *prev_exten = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l04990"></a><span class="lineno"> 4990</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d7/d00/structast__exten.html">ast_exten</a> *<a class="code" href="../../d7/d00/structast__exten.html#ab7c1308495be24ebfa4c40a455d50145">peer</a>;</div><div class="line"><a name="l04991"></a><span class="lineno"> 4991</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d7/d00/structast__exten.html">ast_exten</a> ex, *exten2, *exten3;</div><div class="line"><a name="l04992"></a><span class="lineno"> 4992</span>&#160;   <span class="keywordtype">char</span> dummy_name[1024];</div><div class="line"><a name="l04993"></a><span class="lineno"> 4993</span>&#160;   <span class="keywordtype">char</span> dummy_cid[1024];</div><div class="line"><a name="l04994"></a><span class="lineno"> 4994</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d7/d00/structast__exten.html">ast_exten</a> *previous_peer = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l04995"></a><span class="lineno"> 4995</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d7/d00/structast__exten.html">ast_exten</a> *next_peer = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l04996"></a><span class="lineno"> 4996</span>&#160;   <span class="keywordtype">int</span> found = 0;</div><div class="line"><a name="l04997"></a><span class="lineno"> 4997</span>&#160;</div><div class="line"><a name="l04998"></a><span class="lineno"> 4998</span>&#160;   <span class="keywordflow">if</span> (!already_locked)</div><div class="line"><a name="l04999"></a><span class="lineno"> 4999</span>&#160;      <a class="code" href="../../db/d94/pbx_8c.html#a2c961dcbdcade8fac28960ed67c89bd2">ast_wrlock_context</a>(con);</div><div class="line"><a name="l05000"></a><span class="lineno"> 5000</span>&#160;</div><div class="line"><a name="l05001"></a><span class="lineno"> 5001</span>&#160;<span class="preprocessor">#ifdef NEED_DEBUG</span></div><div class="line"><a name="l05002"></a><span class="lineno"> 5002</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(3,<span class="stringliteral">&quot;Removing %s/%s/%d%s%s from trees, registrar=%s\n&quot;</span>, con-&gt;<a class="code" href="../../d6/d7c/structast__context.html#a2a7f851274ec18e17d38114c39b8511a">name</a>, <a class="code" href="../../d0/d5a/structextension.html">extension</a>, <a class="code" href="../../d9/d47/cdr__beanstalkd_8c.html#acec9ce2df15222151ad66fcb1d74eb9f">priority</a>, matchcallerid ? <span class="stringliteral">&quot;/&quot;</span> : <span class="stringliteral">&quot;&quot;</span>, matchcallerid ? callerid : <span class="stringliteral">&quot;&quot;</span>, <a class="code" href="../../de/d23/pbx__ael_8c.html#ab990a3529ebde2681a00468cad7c0b48">registrar</a>);</div><div class="line"><a name="l05003"></a><span class="lineno"> 5003</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l05004"></a><span class="lineno"> 5004</span>&#160;<span class="preprocessor">#ifdef CONTEXT_DEBUG</span></div><div class="line"><a name="l05005"></a><span class="lineno"> 5005</span>&#160;   check_contexts(__FILE__, __LINE__);</div><div class="line"><a name="l05006"></a><span class="lineno"> 5006</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l05007"></a><span class="lineno"> 5007</span>&#160;   <span class="comment">/* find this particular extension */</span></div><div class="line"><a name="l05008"></a><span class="lineno"> 5008</span>&#160;   ex.exten = dummy_name;</div><div class="line"><a name="l05009"></a><span class="lineno"> 5009</span>&#160;   <a class="code" href="../../db/d94/pbx_8c.html#a517e4a9ba0d6233eba58ad0f1307f55c">ext_strncpy</a>(dummy_name, <a class="code" href="../../d0/d5a/structextension.html">extension</a>, <span class="keyword">sizeof</span>(dummy_name), 1);</div><div class="line"><a name="l05010"></a><span class="lineno"> 5010</span>&#160;   ex.matchcid = matchcallerid;</div><div class="line"><a name="l05011"></a><span class="lineno"> 5011</span>&#160;   <span class="keywordflow">if</span> (callerid) {</div><div class="line"><a name="l05012"></a><span class="lineno"> 5012</span>&#160;      ex.cidmatch = dummy_cid;</div><div class="line"><a name="l05013"></a><span class="lineno"> 5013</span>&#160;      <a class="code" href="../../db/d94/pbx_8c.html#a517e4a9ba0d6233eba58ad0f1307f55c">ext_strncpy</a>(dummy_cid, callerid, <span class="keyword">sizeof</span>(dummy_cid), 1);</div><div class="line"><a name="l05014"></a><span class="lineno"> 5014</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l05015"></a><span class="lineno"> 5015</span>&#160;      ex.cidmatch = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l05016"></a><span class="lineno"> 5016</span>&#160;   }</div><div class="line"><a name="l05017"></a><span class="lineno"> 5017</span>&#160;   exten = <a class="code" href="../../d6/da0/hashtab_8h.html#a78b1f7bc201afd020f6270378173bb79">ast_hashtab_lookup</a>(con-&gt;<a class="code" href="../../d6/d7c/structast__context.html#ab89d9c8c0b08ae6e239f17da8f25a7b3">root_table</a>, &amp;ex);</div><div class="line"><a name="l05018"></a><span class="lineno"> 5018</span>&#160;   <span class="keywordflow">if</span> (exten) {</div><div class="line"><a name="l05019"></a><span class="lineno"> 5019</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d9/d47/cdr__beanstalkd_8c.html#acec9ce2df15222151ad66fcb1d74eb9f">priority</a> == 0) {</div><div class="line"><a name="l05020"></a><span class="lineno"> 5020</span>&#160;         exten2 = <a class="code" href="../../d6/da0/hashtab_8h.html#a71bd19ff2f6fad1cf5e01f9b8cad6f66">ast_hashtab_remove_this_object</a>(con-&gt;<a class="code" href="../../d6/d7c/structast__context.html#ab89d9c8c0b08ae6e239f17da8f25a7b3">root_table</a>, exten);</div><div class="line"><a name="l05021"></a><span class="lineno"> 5021</span>&#160;         <span class="keywordflow">if</span> (!exten2)</div><div class="line"><a name="l05022"></a><span class="lineno"> 5022</span>&#160;            <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>,<span class="stringliteral">&quot;Trying to delete the exten %s from context %s, but could not remove from the root_table\n&quot;</span>, <a class="code" href="../../d0/d5a/structextension.html">extension</a>, con-&gt;<a class="code" href="../../d6/d7c/structast__context.html#a2a7f851274ec18e17d38114c39b8511a">name</a>);</div><div class="line"><a name="l05023"></a><span class="lineno"> 5023</span>&#160;         <span class="keywordflow">if</span> (con-&gt;<a class="code" href="../../d6/d7c/structast__context.html#a2fa7eba1ccec8820c766879753569da0">pattern_tree</a>) {</div><div class="line"><a name="l05024"></a><span class="lineno"> 5024</span>&#160;            <span class="keyword">struct </span><a class="code" href="../../da/d14/structmatch__char.html">match_char</a> *<a class="code" href="../../da/d14/structmatch__char.html#ad3d9465d7bb43062eee85a086924a6eb">x</a> = <a class="code" href="../../db/d94/pbx_8c.html#aa638cd9d03f5d710b6a320ffda6d6392">add_exten_to_pattern_tree</a>(con, exten, 1);</div><div class="line"><a name="l05025"></a><span class="lineno"> 5025</span>&#160;</div><div class="line"><a name="l05026"></a><span class="lineno"> 5026</span>&#160;            <span class="keywordflow">if</span> (x-&gt;<a class="code" href="../../da/d14/structmatch__char.html#afc8cfd0aed370c037cd78797da3313e7">exten</a>) { <span class="comment">/* this test for safety purposes */</span></div><div class="line"><a name="l05027"></a><span class="lineno"> 5027</span>&#160;               x-&gt;<a class="code" href="../../da/d14/structmatch__char.html#a3cb0d95aa820737d010fdfaccac92ec3">deleted</a> = 1; <span class="comment">/* with this marked as deleted, it will never show up in the scoreboard, and therefore never be found */</span></div><div class="line"><a name="l05028"></a><span class="lineno"> 5028</span>&#160;               x-&gt;<a class="code" href="../../da/d14/structmatch__char.html#afc8cfd0aed370c037cd78797da3313e7">exten</a> = 0; <span class="comment">/* get rid of what will become a bad pointer */</span></div><div class="line"><a name="l05029"></a><span class="lineno"> 5029</span>&#160;            } <span class="keywordflow">else</span> {</div><div class="line"><a name="l05030"></a><span class="lineno"> 5030</span>&#160;               <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>,<span class="stringliteral">&quot;Trying to delete an exten from a context, but the pattern tree node returned isn&#39;t a full extension\n&quot;</span>);</div><div class="line"><a name="l05031"></a><span class="lineno"> 5031</span>&#160;            }</div><div class="line"><a name="l05032"></a><span class="lineno"> 5032</span>&#160;         }</div><div class="line"><a name="l05033"></a><span class="lineno"> 5033</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l05034"></a><span class="lineno"> 5034</span>&#160;         ex.priority = <a class="code" href="../../d9/d47/cdr__beanstalkd_8c.html#acec9ce2df15222151ad66fcb1d74eb9f">priority</a>;</div><div class="line"><a name="l05035"></a><span class="lineno"> 5035</span>&#160;         exten2 = <a class="code" href="../../d6/da0/hashtab_8h.html#a78b1f7bc201afd020f6270378173bb79">ast_hashtab_lookup</a>(exten-&gt;<a class="code" href="../../d7/d00/structast__exten.html#a11a2e693c2355642149ba92ac86db8f9">peer_table</a>, &amp;ex);</div><div class="line"><a name="l05036"></a><span class="lineno"> 5036</span>&#160;         <span class="keywordflow">if</span> (exten2) {</div><div class="line"><a name="l05037"></a><span class="lineno"> 5037</span>&#160;            <span class="keywordflow">if</span> (exten2-&gt;<a class="code" href="../../d7/d00/structast__exten.html#ad5d5c96b6acf265b9982ca93960b0d59">label</a>) { <span class="comment">/* if this exten has a label, remove that, too */</span></div><div class="line"><a name="l05038"></a><span class="lineno"> 5038</span>&#160;               exten3 = <a class="code" href="../../d6/da0/hashtab_8h.html#a71bd19ff2f6fad1cf5e01f9b8cad6f66">ast_hashtab_remove_this_object</a>(exten-&gt;<a class="code" href="../../d7/d00/structast__exten.html#a10c9abe707a81a9cabd06ee4b53ac0fe">peer_label_table</a>,exten2);</div><div class="line"><a name="l05039"></a><span class="lineno"> 5039</span>&#160;               <span class="keywordflow">if</span> (!exten3) {</div><div class="line"><a name="l05040"></a><span class="lineno"> 5040</span>&#160;                  <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Did not remove this priority label (%d/%s) &quot;</span></div><div class="line"><a name="l05041"></a><span class="lineno"> 5041</span>&#160;                     <span class="stringliteral">&quot;from the peer_label_table of context %s, extension %s!\n&quot;</span>,</div><div class="line"><a name="l05042"></a><span class="lineno"> 5042</span>&#160;                     <a class="code" href="../../d9/d47/cdr__beanstalkd_8c.html#acec9ce2df15222151ad66fcb1d74eb9f">priority</a>, exten2-&gt;<a class="code" href="../../d7/d00/structast__exten.html#ad5d5c96b6acf265b9982ca93960b0d59">label</a>, con-&gt;<a class="code" href="../../d6/d7c/structast__context.html#a2a7f851274ec18e17d38114c39b8511a">name</a>, exten2-&gt;<a class="code" href="../../d7/d00/structast__exten.html#a5ac083a645d964373f022d03df4849c8">name</a>);</div><div class="line"><a name="l05043"></a><span class="lineno"> 5043</span>&#160;               }</div><div class="line"><a name="l05044"></a><span class="lineno"> 5044</span>&#160;            }</div><div class="line"><a name="l05045"></a><span class="lineno"> 5045</span>&#160;</div><div class="line"><a name="l05046"></a><span class="lineno"> 5046</span>&#160;            exten3 = <a class="code" href="../../d6/da0/hashtab_8h.html#a71bd19ff2f6fad1cf5e01f9b8cad6f66">ast_hashtab_remove_this_object</a>(exten-&gt;<a class="code" href="../../d7/d00/structast__exten.html#a11a2e693c2355642149ba92ac86db8f9">peer_table</a>, exten2);</div><div class="line"><a name="l05047"></a><span class="lineno"> 5047</span>&#160;            <span class="keywordflow">if</span> (!exten3) {</div><div class="line"><a name="l05048"></a><span class="lineno"> 5048</span>&#160;               <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Did not remove this priority (%d) from the &quot;</span></div><div class="line"><a name="l05049"></a><span class="lineno"> 5049</span>&#160;                  <span class="stringliteral">&quot;peer_table of context %s, extension %s!\n&quot;</span>,</div><div class="line"><a name="l05050"></a><span class="lineno"> 5050</span>&#160;                  <a class="code" href="../../d9/d47/cdr__beanstalkd_8c.html#acec9ce2df15222151ad66fcb1d74eb9f">priority</a>, con-&gt;<a class="code" href="../../d6/d7c/structast__context.html#a2a7f851274ec18e17d38114c39b8511a">name</a>, exten2-&gt;<a class="code" href="../../d7/d00/structast__exten.html#a5ac083a645d964373f022d03df4849c8">name</a>);</div><div class="line"><a name="l05051"></a><span class="lineno"> 5051</span>&#160;            }</div><div class="line"><a name="l05052"></a><span class="lineno"> 5052</span>&#160;            <span class="keywordflow">if</span> (exten2 == exten &amp;&amp; exten2-&gt;<a class="code" href="../../d7/d00/structast__exten.html#ab7c1308495be24ebfa4c40a455d50145">peer</a>) {</div><div class="line"><a name="l05053"></a><span class="lineno"> 5053</span>&#160;               exten2 = <a class="code" href="../../d6/da0/hashtab_8h.html#a71bd19ff2f6fad1cf5e01f9b8cad6f66">ast_hashtab_remove_this_object</a>(con-&gt;<a class="code" href="../../d6/d7c/structast__context.html#ab89d9c8c0b08ae6e239f17da8f25a7b3">root_table</a>, exten);</div><div class="line"><a name="l05054"></a><span class="lineno"> 5054</span>&#160;               <a class="code" href="../../d6/da0/hashtab_8h.html#abd1eaf0229b6a896b795026218c9bde0">ast_hashtab_insert_immediate</a>(con-&gt;<a class="code" href="../../d6/d7c/structast__context.html#ab89d9c8c0b08ae6e239f17da8f25a7b3">root_table</a>, exten2-&gt;<a class="code" href="../../d7/d00/structast__exten.html#ab7c1308495be24ebfa4c40a455d50145">peer</a>);</div><div class="line"><a name="l05055"></a><span class="lineno"> 5055</span>&#160;            }</div><div class="line"><a name="l05056"></a><span class="lineno"> 5056</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d6/da0/hashtab_8h.html#ac3452d3a8bca5b4f2611bb96b7a44f31">ast_hashtab_size</a>(exten-&gt;<a class="code" href="../../d7/d00/structast__exten.html#a11a2e693c2355642149ba92ac86db8f9">peer_table</a>) == 0) {</div><div class="line"><a name="l05057"></a><span class="lineno"> 5057</span>&#160;               <span class="comment">/* well, if the last priority of an exten is to be removed,</span></div><div class="line"><a name="l05058"></a><span class="lineno"> 5058</span>&#160;<span class="comment">                  then, the extension is removed, too! */</span></div><div class="line"><a name="l05059"></a><span class="lineno"> 5059</span>&#160;               exten3 = <a class="code" href="../../d6/da0/hashtab_8h.html#a71bd19ff2f6fad1cf5e01f9b8cad6f66">ast_hashtab_remove_this_object</a>(con-&gt;<a class="code" href="../../d6/d7c/structast__context.html#ab89d9c8c0b08ae6e239f17da8f25a7b3">root_table</a>, exten);</div><div class="line"><a name="l05060"></a><span class="lineno"> 5060</span>&#160;               <span class="keywordflow">if</span> (!exten3) {</div><div class="line"><a name="l05061"></a><span class="lineno"> 5061</span>&#160;                  <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Did not remove this exten (%s) from the &quot;</span></div><div class="line"><a name="l05062"></a><span class="lineno"> 5062</span>&#160;                     <span class="stringliteral">&quot;context root_table (%s) (priority %d)\n&quot;</span>,</div><div class="line"><a name="l05063"></a><span class="lineno"> 5063</span>&#160;                     exten-&gt;<a class="code" href="../../d7/d00/structast__exten.html#a5ac083a645d964373f022d03df4849c8">name</a>, con-&gt;<a class="code" href="../../d6/d7c/structast__context.html#a2a7f851274ec18e17d38114c39b8511a">name</a>, <a class="code" href="../../d9/d47/cdr__beanstalkd_8c.html#acec9ce2df15222151ad66fcb1d74eb9f">priority</a>);</div><div class="line"><a name="l05064"></a><span class="lineno"> 5064</span>&#160;               }</div><div class="line"><a name="l05065"></a><span class="lineno"> 5065</span>&#160;               <span class="keywordflow">if</span> (con-&gt;<a class="code" href="../../d6/d7c/structast__context.html#a2fa7eba1ccec8820c766879753569da0">pattern_tree</a>) {</div><div class="line"><a name="l05066"></a><span class="lineno"> 5066</span>&#160;                  <span class="keyword">struct </span><a class="code" href="../../da/d14/structmatch__char.html">match_char</a> *<a class="code" href="../../da/d14/structmatch__char.html#ad3d9465d7bb43062eee85a086924a6eb">x</a> = <a class="code" href="../../db/d94/pbx_8c.html#aa638cd9d03f5d710b6a320ffda6d6392">add_exten_to_pattern_tree</a>(con, exten, 1);</div><div class="line"><a name="l05067"></a><span class="lineno"> 5067</span>&#160;                  <span class="keywordflow">if</span> (x-&gt;<a class="code" href="../../da/d14/structmatch__char.html#afc8cfd0aed370c037cd78797da3313e7">exten</a>) { <span class="comment">/* this test for safety purposes */</span></div><div class="line"><a name="l05068"></a><span class="lineno"> 5068</span>&#160;                     x-&gt;<a class="code" href="../../da/d14/structmatch__char.html#a3cb0d95aa820737d010fdfaccac92ec3">deleted</a> = 1; <span class="comment">/* with this marked as deleted, it will never show up in the scoreboard, and therefore never be found */</span></div><div class="line"><a name="l05069"></a><span class="lineno"> 5069</span>&#160;                     x-&gt;<a class="code" href="../../da/d14/structmatch__char.html#afc8cfd0aed370c037cd78797da3313e7">exten</a> = 0; <span class="comment">/* get rid of what will become a bad pointer */</span></div><div class="line"><a name="l05070"></a><span class="lineno"> 5070</span>&#160;                  }</div><div class="line"><a name="l05071"></a><span class="lineno"> 5071</span>&#160;               }</div><div class="line"><a name="l05072"></a><span class="lineno"> 5072</span>&#160;            }</div><div class="line"><a name="l05073"></a><span class="lineno"> 5073</span>&#160;         } <span class="keywordflow">else</span> {</div><div class="line"><a name="l05074"></a><span class="lineno"> 5074</span>&#160;            <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>,<span class="stringliteral">&quot;Could not find priority %d of exten %s in context %s!\n&quot;</span>,</div><div class="line"><a name="l05075"></a><span class="lineno"> 5075</span>&#160;                  <a class="code" href="../../d9/d47/cdr__beanstalkd_8c.html#acec9ce2df15222151ad66fcb1d74eb9f">priority</a>, exten-&gt;<a class="code" href="../../d7/d00/structast__exten.html#a5ac083a645d964373f022d03df4849c8">name</a>, con-&gt;<a class="code" href="../../d6/d7c/structast__context.html#a2a7f851274ec18e17d38114c39b8511a">name</a>);</div><div class="line"><a name="l05076"></a><span class="lineno"> 5076</span>&#160;         }</div><div class="line"><a name="l05077"></a><span class="lineno"> 5077</span>&#160;      }</div><div class="line"><a name="l05078"></a><span class="lineno"> 5078</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l05079"></a><span class="lineno"> 5079</span>&#160;      <span class="comment">/* hmmm? this exten is not in this pattern tree? */</span></div><div class="line"><a name="l05080"></a><span class="lineno"> 5080</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>,<span class="stringliteral">&quot;Cannot find extension %s in root_table in context %s\n&quot;</span>,</div><div class="line"><a name="l05081"></a><span class="lineno"> 5081</span>&#160;            <a class="code" href="../../d0/d5a/structextension.html">extension</a>, con-&gt;<a class="code" href="../../d6/d7c/structast__context.html#a2a7f851274ec18e17d38114c39b8511a">name</a>);</div><div class="line"><a name="l05082"></a><span class="lineno"> 5082</span>&#160;   }</div><div class="line"><a name="l05083"></a><span class="lineno"> 5083</span>&#160;<span class="preprocessor">#ifdef NEED_DEBUG</span></div><div class="line"><a name="l05084"></a><span class="lineno"> 5084</span>&#160;   <span class="keywordflow">if</span> (con-&gt;<a class="code" href="../../d6/d7c/structast__context.html#a2fa7eba1ccec8820c766879753569da0">pattern_tree</a>) {</div><div class="line"><a name="l05085"></a><span class="lineno"> 5085</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#ad89ee324d180cdcd7defcc709ff9ca42">LOG_NOTICE</a>,<span class="stringliteral">&quot;match char tree after exten removal:\n&quot;</span>);</div><div class="line"><a name="l05086"></a><span class="lineno"> 5086</span>&#160;      log_match_char_tree(con-&gt;<a class="code" href="../../d6/d7c/structast__context.html#a2fa7eba1ccec8820c766879753569da0">pattern_tree</a>, <span class="stringliteral">&quot; &quot;</span>);</div><div class="line"><a name="l05087"></a><span class="lineno"> 5087</span>&#160;   }</div><div class="line"><a name="l05088"></a><span class="lineno"> 5088</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l05089"></a><span class="lineno"> 5089</span>&#160;</div><div class="line"><a name="l05090"></a><span class="lineno"> 5090</span>&#160;   <span class="comment">/* scan the extension list to find first matching extension-registrar */</span></div><div class="line"><a name="l05091"></a><span class="lineno"> 5091</span>&#160;   <span class="keywordflow">for</span> (exten = con-&gt;<a class="code" href="../../d6/d7c/structast__context.html#a17b7bb377cc83ce3794ce63b9f7b3c12">root</a>; exten; prev_exten = exten, exten = exten-&gt;<a class="code" href="../../d7/d00/structast__exten.html#ac88146e1a3c32b17f9bc75d540cc0ca5">next</a>) {</div><div class="line"><a name="l05092"></a><span class="lineno"> 5092</span>&#160;      <span class="keywordflow">if</span> (!strcmp(exten-&gt;<a class="code" href="../../d7/d00/structast__exten.html#a0f7fc37040d0e6f05e756cf921c14a31">exten</a>, ex.exten) &amp;&amp;</div><div class="line"><a name="l05093"></a><span class="lineno"> 5093</span>&#160;         (!matchcallerid ||</div><div class="line"><a name="l05094"></a><span class="lineno"> 5094</span>&#160;            (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(ex.cidmatch) &amp;&amp; !<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(exten-&gt;<a class="code" href="../../d7/d00/structast__exten.html#a8de82ae926b28db46e3c459a7a1efe83">cidmatch</a>) &amp;&amp; !strcmp(exten-&gt;<a class="code" href="../../d7/d00/structast__exten.html#a8de82ae926b28db46e3c459a7a1efe83">cidmatch</a>, ex.cidmatch)) ||</div><div class="line"><a name="l05095"></a><span class="lineno"> 5095</span>&#160;            (<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(ex.cidmatch) &amp;&amp; <a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(exten-&gt;<a class="code" href="../../d7/d00/structast__exten.html#a8de82ae926b28db46e3c459a7a1efe83">cidmatch</a>)))) {</div><div class="line"><a name="l05096"></a><span class="lineno"> 5096</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l05097"></a><span class="lineno"> 5097</span>&#160;      }</div><div class="line"><a name="l05098"></a><span class="lineno"> 5098</span>&#160;   }</div><div class="line"><a name="l05099"></a><span class="lineno"> 5099</span>&#160;   <span class="keywordflow">if</span> (!exten) {</div><div class="line"><a name="l05100"></a><span class="lineno"> 5100</span>&#160;      <span class="comment">/* we can&#39;t find right extension */</span></div><div class="line"><a name="l05101"></a><span class="lineno"> 5101</span>&#160;      <span class="keywordflow">if</span> (!already_locked)</div><div class="line"><a name="l05102"></a><span class="lineno"> 5102</span>&#160;         <a class="code" href="../../db/d94/pbx_8c.html#a805796e4728845bff70c4caf5b224308">ast_unlock_context</a>(con);</div><div class="line"><a name="l05103"></a><span class="lineno"> 5103</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l05104"></a><span class="lineno"> 5104</span>&#160;   }</div><div class="line"><a name="l05105"></a><span class="lineno"> 5105</span>&#160;</div><div class="line"><a name="l05106"></a><span class="lineno"> 5106</span>&#160;   <span class="comment">/* scan the priority list to remove extension with exten-&gt;priority == priority */</span></div><div class="line"><a name="l05107"></a><span class="lineno"> 5107</span>&#160;   <span class="keywordflow">for</span> (peer = exten, next_peer = exten-&gt;<a class="code" href="../../d7/d00/structast__exten.html#ab7c1308495be24ebfa4c40a455d50145">peer</a> ? exten-&gt;<a class="code" href="../../d7/d00/structast__exten.html#ab7c1308495be24ebfa4c40a455d50145">peer</a> : exten-&gt;<a class="code" href="../../d7/d00/structast__exten.html#ac88146e1a3c32b17f9bc75d540cc0ca5">next</a>;</div><div class="line"><a name="l05108"></a><span class="lineno"> 5108</span>&#160;       peer &amp;&amp; !strcmp(peer-&gt;<a class="code" href="../../d7/d00/structast__exten.html#a0f7fc37040d0e6f05e756cf921c14a31">exten</a>, ex.exten) &amp;&amp;</div><div class="line"><a name="l05109"></a><span class="lineno"> 5109</span>&#160;         (!callerid || (!matchcallerid &amp;&amp; !peer-&gt;<a class="code" href="../../d7/d00/structast__exten.html#af0803fced1d4ccfbc6ec4d8577d30525">matchcid</a>) || (matchcallerid &amp;&amp; peer-&gt;<a class="code" href="../../d7/d00/structast__exten.html#af0803fced1d4ccfbc6ec4d8577d30525">matchcid</a> &amp;&amp; !strcmp(peer-&gt;<a class="code" href="../../d7/d00/structast__exten.html#a8de82ae926b28db46e3c459a7a1efe83">cidmatch</a>, ex.cidmatch))) ;</div><div class="line"><a name="l05110"></a><span class="lineno"> 5110</span>&#160;         peer = next_peer, next_peer = next_peer ? (next_peer-&gt;<a class="code" href="../../d7/d00/structast__exten.html#ab7c1308495be24ebfa4c40a455d50145">peer</a> ? next_peer-&gt;<a class="code" href="../../d7/d00/structast__exten.html#ab7c1308495be24ebfa4c40a455d50145">peer</a> : next_peer-&gt;<a class="code" href="../../d7/d00/structast__exten.html#ac88146e1a3c32b17f9bc75d540cc0ca5">next</a>) : <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div><div class="line"><a name="l05111"></a><span class="lineno"> 5111</span>&#160;</div><div class="line"><a name="l05112"></a><span class="lineno"> 5112</span>&#160;      <span class="keywordflow">if</span> ((<a class="code" href="../../d9/d47/cdr__beanstalkd_8c.html#acec9ce2df15222151ad66fcb1d74eb9f">priority</a> == 0 || peer-&gt;<a class="code" href="../../d7/d00/structast__exten.html#acec9ce2df15222151ad66fcb1d74eb9f">priority</a> == <a class="code" href="../../d9/d47/cdr__beanstalkd_8c.html#acec9ce2df15222151ad66fcb1d74eb9f">priority</a>) &amp;&amp;</div><div class="line"><a name="l05113"></a><span class="lineno"> 5113</span>&#160;            (!<a class="code" href="../../de/d23/pbx__ael_8c.html#ab990a3529ebde2681a00468cad7c0b48">registrar</a> || !strcmp(peer-&gt;<a class="code" href="../../d7/d00/structast__exten.html#a8c205128d7dc6034c5a5cf16b602f2fe">registrar</a>, <a class="code" href="../../de/d23/pbx__ael_8c.html#ab990a3529ebde2681a00468cad7c0b48">registrar</a>) )) {</div><div class="line"><a name="l05114"></a><span class="lineno"> 5114</span>&#160;         found = 1;</div><div class="line"><a name="l05115"></a><span class="lineno"> 5115</span>&#160;</div><div class="line"><a name="l05116"></a><span class="lineno"> 5116</span>&#160;         <span class="comment">/* we are first priority extension? */</span></div><div class="line"><a name="l05117"></a><span class="lineno"> 5117</span>&#160;         <span class="keywordflow">if</span> (!previous_peer) {</div><div class="line"><a name="l05118"></a><span class="lineno"> 5118</span>&#160;            <span class="comment">/*</span></div><div class="line"><a name="l05119"></a><span class="lineno"> 5119</span>&#160;<span class="comment">             * We are first in the priority chain, so must update the extension chain.</span></div><div class="line"><a name="l05120"></a><span class="lineno"> 5120</span>&#160;<span class="comment">             * The next node is either the next priority or the next extension</span></div><div class="line"><a name="l05121"></a><span class="lineno"> 5121</span>&#160;<span class="comment">             */</span></div><div class="line"><a name="l05122"></a><span class="lineno"> 5122</span>&#160;            <span class="keyword">struct </span><a class="code" href="../../d7/d00/structast__exten.html">ast_exten</a> *next_node = peer-&gt;<a class="code" href="../../d7/d00/structast__exten.html#ab7c1308495be24ebfa4c40a455d50145">peer</a> ? peer-&gt;<a class="code" href="../../d7/d00/structast__exten.html#ab7c1308495be24ebfa4c40a455d50145">peer</a> : peer-&gt;<a class="code" href="../../d7/d00/structast__exten.html#ac88146e1a3c32b17f9bc75d540cc0ca5">next</a>;</div><div class="line"><a name="l05123"></a><span class="lineno"> 5123</span>&#160;            <span class="keywordflow">if</span> (peer-&gt;<a class="code" href="../../d7/d00/structast__exten.html#ab7c1308495be24ebfa4c40a455d50145">peer</a>) {</div><div class="line"><a name="l05124"></a><span class="lineno"> 5124</span>&#160;               <span class="comment">/* move the peer_table and peer_label_table down to the next peer, if</span></div><div class="line"><a name="l05125"></a><span class="lineno"> 5125</span>&#160;<span class="comment">                  it is there */</span></div><div class="line"><a name="l05126"></a><span class="lineno"> 5126</span>&#160;               peer-&gt;<a class="code" href="../../d7/d00/structast__exten.html#ab7c1308495be24ebfa4c40a455d50145">peer</a>-&gt;<a class="code" href="../../d7/d00/structast__exten.html#a11a2e693c2355642149ba92ac86db8f9">peer_table</a> = peer-&gt;<a class="code" href="../../d7/d00/structast__exten.html#a11a2e693c2355642149ba92ac86db8f9">peer_table</a>;</div><div class="line"><a name="l05127"></a><span class="lineno"> 5127</span>&#160;               peer-&gt;<a class="code" href="../../d7/d00/structast__exten.html#ab7c1308495be24ebfa4c40a455d50145">peer</a>-&gt;<a class="code" href="../../d7/d00/structast__exten.html#a10c9abe707a81a9cabd06ee4b53ac0fe">peer_label_table</a> = peer-&gt;<a class="code" href="../../d7/d00/structast__exten.html#a10c9abe707a81a9cabd06ee4b53ac0fe">peer_label_table</a>;</div><div class="line"><a name="l05128"></a><span class="lineno"> 5128</span>&#160;               peer-&gt;<a class="code" href="../../d7/d00/structast__exten.html#a11a2e693c2355642149ba92ac86db8f9">peer_table</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l05129"></a><span class="lineno"> 5129</span>&#160;               peer-&gt;<a class="code" href="../../d7/d00/structast__exten.html#a10c9abe707a81a9cabd06ee4b53ac0fe">peer_label_table</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l05130"></a><span class="lineno"> 5130</span>&#160;            }</div><div class="line"><a name="l05131"></a><span class="lineno"> 5131</span>&#160;            <span class="keywordflow">if</span> (!prev_exten) {   <span class="comment">/* change the root... */</span></div><div class="line"><a name="l05132"></a><span class="lineno"> 5132</span>&#160;               con-&gt;<a class="code" href="../../d6/d7c/structast__context.html#a17b7bb377cc83ce3794ce63b9f7b3c12">root</a> = next_node;</div><div class="line"><a name="l05133"></a><span class="lineno"> 5133</span>&#160;            } <span class="keywordflow">else</span> {</div><div class="line"><a name="l05134"></a><span class="lineno"> 5134</span>&#160;               prev_exten-&gt;<a class="code" href="../../d7/d00/structast__exten.html#ac88146e1a3c32b17f9bc75d540cc0ca5">next</a> = next_node; <span class="comment">/* unlink */</span></div><div class="line"><a name="l05135"></a><span class="lineno"> 5135</span>&#160;            }</div><div class="line"><a name="l05136"></a><span class="lineno"> 5136</span>&#160;            <span class="keywordflow">if</span> (peer-&gt;<a class="code" href="../../d7/d00/structast__exten.html#ab7c1308495be24ebfa4c40a455d50145">peer</a>)   { <span class="comment">/* update the new head of the pri list */</span></div><div class="line"><a name="l05137"></a><span class="lineno"> 5137</span>&#160;               peer-&gt;<a class="code" href="../../d7/d00/structast__exten.html#ab7c1308495be24ebfa4c40a455d50145">peer</a>-&gt;<a class="code" href="../../d7/d00/structast__exten.html#ac88146e1a3c32b17f9bc75d540cc0ca5">next</a> = peer-&gt;<a class="code" href="../../d7/d00/structast__exten.html#ac88146e1a3c32b17f9bc75d540cc0ca5">next</a>;</div><div class="line"><a name="l05138"></a><span class="lineno"> 5138</span>&#160;            }</div><div class="line"><a name="l05139"></a><span class="lineno"> 5139</span>&#160;         } <span class="keywordflow">else</span> { <span class="comment">/* easy, we are not first priority in extension */</span></div><div class="line"><a name="l05140"></a><span class="lineno"> 5140</span>&#160;            previous_peer-&gt;<a class="code" href="../../d7/d00/structast__exten.html#ab7c1308495be24ebfa4c40a455d50145">peer</a> = peer-&gt;<a class="code" href="../../d7/d00/structast__exten.html#ab7c1308495be24ebfa4c40a455d50145">peer</a>;</div><div class="line"><a name="l05141"></a><span class="lineno"> 5141</span>&#160;         }</div><div class="line"><a name="l05142"></a><span class="lineno"> 5142</span>&#160;</div><div class="line"><a name="l05143"></a><span class="lineno"> 5143</span>&#160;</div><div class="line"><a name="l05144"></a><span class="lineno"> 5144</span>&#160;         <span class="comment">/* now, free whole priority extension */</span></div><div class="line"><a name="l05145"></a><span class="lineno"> 5145</span>&#160;         <a class="code" href="../../db/d94/pbx_8c.html#ae25a2122becbf9b94f5d55bc86753fea">destroy_exten</a>(peer);</div><div class="line"><a name="l05146"></a><span class="lineno"> 5146</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l05147"></a><span class="lineno"> 5147</span>&#160;         previous_peer = <a class="code" href="../../d7/d00/structast__exten.html#ab7c1308495be24ebfa4c40a455d50145">peer</a>;</div><div class="line"><a name="l05148"></a><span class="lineno"> 5148</span>&#160;      }</div><div class="line"><a name="l05149"></a><span class="lineno"> 5149</span>&#160;   }</div><div class="line"><a name="l05150"></a><span class="lineno"> 5150</span>&#160;   <span class="keywordflow">if</span> (!already_locked)</div><div class="line"><a name="l05151"></a><span class="lineno"> 5151</span>&#160;      <a class="code" href="../../db/d94/pbx_8c.html#a805796e4728845bff70c4caf5b224308">ast_unlock_context</a>(con);</div><div class="line"><a name="l05152"></a><span class="lineno"> 5152</span>&#160;   <span class="keywordflow">return</span> found ? 0 : -1;</div><div class="line"><a name="l05153"></a><span class="lineno"> 5153</span>&#160;}</div><div class="ttc" id="structast__exten_html_ad5d5c96b6acf265b9982ca93960b0d59"><div class="ttname"><a href="../../d7/d00/structast__exten.html#ad5d5c96b6acf265b9982ca93960b0d59">ast_exten::label</a></div><div class="ttdeci">const char * label</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l00244">pbx.c:244</a></div></div>
<div class="ttc" id="chan__alsa_8c_html_a78d4847658b695383d849efd12399b38"><div class="ttname"><a href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a></div><div class="ttdeci">static char exten[AST_MAX_EXTENSION]</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d45/chan__alsa_8c_source.html#l00118">chan_alsa.c:118</a></div></div>
<div class="ttc" id="structast__exten_html"><div class="ttname"><a href="../../d7/d00/structast__exten.html">ast_exten</a></div><div class="ttdoc">ast_exten: An extension The dialplan is saved as a linked list with each context having it&amp;#39;s own link...</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l00237">pbx.c:237</a></div></div>
<div class="ttc" id="hashtab_8h_html_a78b1f7bc201afd020f6270378173bb79"><div class="ttname"><a href="../../d6/da0/hashtab_8h.html#a78b1f7bc201afd020f6270378173bb79">ast_hashtab_lookup</a></div><div class="ttdeci">void * ast_hashtab_lookup(struct ast_hashtab *tab, const void *obj)</div><div class="ttdoc">Lookup this object in the hash table. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d35/hashtab_8c_source.html#l00486">hashtab.c:486</a></div></div>
<div class="ttc" id="pbx_8c_html_a517e4a9ba0d6233eba58ad0f1307f55c"><div class="ttname"><a href="../../db/d94/pbx_8c.html#a517e4a9ba0d6233eba58ad0f1307f55c">ext_strncpy</a></div><div class="ttdeci">static unsigned int ext_strncpy(char *dst, const char *src, size_t dst_size, int nofluff)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l07068">pbx.c:7068</a></div></div>
<div class="ttc" id="pbx_8c_html_a805796e4728845bff70c4caf5b224308"><div class="ttname"><a href="../../db/d94/pbx_8c.html#a805796e4728845bff70c4caf5b224308">ast_unlock_context</a></div><div class="ttdeci">int ast_unlock_context(struct ast_context *con)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l08530">pbx.c:8530</a></div></div>
<div class="ttc" id="structmatch__char_html_afc8cfd0aed370c037cd78797da3313e7"><div class="ttname"><a href="../../da/d14/structmatch__char.html#afc8cfd0aed370c037cd78797da3313e7">match_char::exten</a></div><div class="ttdeci">struct ast_exten * exten</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l00268">pbx.c:268</a></div></div>
<div class="ttc" id="structast__context_html_a17b7bb377cc83ce3794ce63b9f7b3c12"><div class="ttname"><a href="../../d6/d7c/structast__context.html#a17b7bb377cc83ce3794ce63b9f7b3c12">ast_context::root</a></div><div class="ttdeci">struct ast_exten * root</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l00286">pbx.c:286</a></div></div>
<div class="ttc" id="structast__exten_html_a5ac083a645d964373f022d03df4849c8"><div class="ttname"><a href="../../d7/d00/structast__exten.html#a5ac083a645d964373f022d03df4849c8">ast_exten::name</a></div><div class="ttdeci">char * name</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l00239">pbx.c:239</a></div></div>
<div class="ttc" id="pbx_8c_html_aa638cd9d03f5d710b6a320ffda6d6392"><div class="ttname"><a href="../../db/d94/pbx_8c.html#aa638cd9d03f5d710b6a320ffda6d6392">add_exten_to_pattern_tree</a></div><div class="ttdeci">static struct match_char * add_exten_to_pattern_tree(struct ast_context *con, struct ast_exten *e1, int findonly)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l01657">pbx.c:1657</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structast__exten_html_a11a2e693c2355642149ba92ac86db8f9"><div class="ttname"><a href="../../d7/d00/structast__exten.html#a11a2e693c2355642149ba92ac86db8f9">ast_exten::peer_table</a></div><div class="ttdeci">struct ast_hashtab * peer_table</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l00251">pbx.c:251</a></div></div>
<div class="ttc" id="cdr__beanstalkd_8c_html_acec9ce2df15222151ad66fcb1d74eb9f"><div class="ttname"><a href="../../d9/d47/cdr__beanstalkd_8c.html#acec9ce2df15222151ad66fcb1d74eb9f">priority</a></div><div class="ttdeci">static int priority</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d47/cdr__beanstalkd_8c_source.html#l00076">cdr_beanstalkd.c:76</a></div></div>
<div class="ttc" id="structmatch__char_html_ad3d9465d7bb43062eee85a086924a6eb"><div class="ttname"><a href="../../da/d14/structmatch__char.html#ad3d9465d7bb43062eee85a086924a6eb">match_char::x</a></div><div class="ttdeci">char x[1]</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l00269">pbx.c:269</a></div></div>
<div class="ttc" id="logger_8h_html_ad770f83c71e237e1f64163358ce4e13d"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a></div><div class="ttdeci">#define ast_verb(level,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00463">logger.h:463</a></div></div>
<div class="ttc" id="structast__exten_html_a8c205128d7dc6034c5a5cf16b602f2fe"><div class="ttname"><a href="../../d7/d00/structast__exten.html#a8c205128d7dc6034c5a5cf16b602f2fe">ast_exten::registrar</a></div><div class="ttdeci">const char * registrar</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l00253">pbx.c:253</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="structast__exten_html_af0803fced1d4ccfbc6ec4d8577d30525"><div class="ttname"><a href="../../d7/d00/structast__exten.html#af0803fced1d4ccfbc6ec4d8577d30525">ast_exten::matchcid</a></div><div class="ttdeci">int matchcid</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l00240">pbx.c:240</a></div></div>
<div class="ttc" id="structast__exten_html_ac88146e1a3c32b17f9bc75d540cc0ca5"><div class="ttname"><a href="../../d7/d00/structast__exten.html#ac88146e1a3c32b17f9bc75d540cc0ca5">ast_exten::next</a></div><div class="ttdeci">struct ast_exten * next</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l00256">pbx.c:256</a></div></div>
<div class="ttc" id="hashtab_8h_html_abd1eaf0229b6a896b795026218c9bde0"><div class="ttname"><a href="../../d6/da0/hashtab_8h.html#abd1eaf0229b6a896b795026218c9bde0">ast_hashtab_insert_immediate</a></div><div class="ttdeci">#define ast_hashtab_insert_immediate(tab, obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da0/hashtab_8h_source.html#l00291">hashtab.h:291</a></div></div>
<div class="ttc" id="structast__exten_html_acec9ce2df15222151ad66fcb1d74eb9f"><div class="ttname"><a href="../../d7/d00/structast__exten.html#acec9ce2df15222151ad66fcb1d74eb9f">ast_exten::priority</a></div><div class="ttdeci">int priority</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l00243">pbx.c:243</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="structast__exten_html_ab7c1308495be24ebfa4c40a455d50145"><div class="ttname"><a href="../../d7/d00/structast__exten.html#ab7c1308495be24ebfa4c40a455d50145">ast_exten::peer</a></div><div class="ttdeci">struct ast_exten * peer</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l00250">pbx.c:250</a></div></div>
<div class="ttc" id="structextension_html"><div class="ttname"><a href="../../d0/d5a/structextension.html">extension</a></div><div class="ttdoc">structure to hold extensions </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de9/res__phoneprov_8c_source.html#l00287">res_phoneprov.c:287</a></div></div>
<div class="ttc" id="structast__exten_html_a10c9abe707a81a9cabd06ee4b53ac0fe"><div class="ttname"><a href="../../d7/d00/structast__exten.html#a10c9abe707a81a9cabd06ee4b53ac0fe">ast_exten::peer_label_table</a></div><div class="ttdeci">struct ast_hashtab * peer_label_table</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l00252">pbx.c:252</a></div></div>
<div class="ttc" id="structast__exten_html_a0f7fc37040d0e6f05e756cf921c14a31"><div class="ttname"><a href="../../d7/d00/structast__exten.html#a0f7fc37040d0e6f05e756cf921c14a31">ast_exten::exten</a></div><div class="ttdeci">char * exten</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l00238">pbx.c:238</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="structast__context_html_a2a7f851274ec18e17d38114c39b8511a"><div class="ttname"><a href="../../d6/d7c/structast__context.html#a2a7f851274ec18e17d38114c39b8511a">ast_context::name</a></div><div class="ttdeci">char name[0]</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l00297">pbx.c:297</a></div></div>
<div class="ttc" id="pbx_8c_html_a2c961dcbdcade8fac28960ed67c89bd2"><div class="ttname"><a href="../../db/d94/pbx_8c.html#a2c961dcbdcade8fac28960ed67c89bd2">ast_wrlock_context</a></div><div class="ttdeci">int ast_wrlock_context(struct ast_context *con)</div><div class="ttdoc">Write locks a given context. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l08520">pbx.c:8520</a></div></div>
<div class="ttc" id="logger_8h_html_ad89ee324d180cdcd7defcc709ff9ca42"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#ad89ee324d180cdcd7defcc709ff9ca42">LOG_NOTICE</a></div><div class="ttdeci">#define LOG_NOTICE</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00263">logger.h:263</a></div></div>
<div class="ttc" id="pbx__ael_8c_html_ab990a3529ebde2681a00468cad7c0b48"><div class="ttname"><a href="../../de/d23/pbx__ael_8c.html#ab990a3529ebde2681a00468cad7c0b48">registrar</a></div><div class="ttdeci">static char * registrar</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d23/pbx__ael_8c_source.html#l00078">pbx_ael.c:78</a></div></div>
<div class="ttc" id="structast__exten_html_a8de82ae926b28db46e3c459a7a1efe83"><div class="ttname"><a href="../../d7/d00/structast__exten.html#a8de82ae926b28db46e3c459a7a1efe83">ast_exten::cidmatch</a></div><div class="ttdeci">const char * cidmatch</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l00241">pbx.c:241</a></div></div>
<div class="ttc" id="structast__context_html_ab89d9c8c0b08ae6e239f17da8f25a7b3"><div class="ttname"><a href="../../d6/d7c/structast__context.html#ab89d9c8c0b08ae6e239f17da8f25a7b3">ast_context::root_table</a></div><div class="ttdeci">struct ast_hashtab * root_table</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l00287">pbx.c:287</a></div></div>
<div class="ttc" id="hashtab_8h_html_ac3452d3a8bca5b4f2611bb96b7a44f31"><div class="ttname"><a href="../../d6/da0/hashtab_8h.html#ac3452d3a8bca5b4f2611bb96b7a44f31">ast_hashtab_size</a></div><div class="ttdeci">int ast_hashtab_size(struct ast_hashtab *tab)</div><div class="ttdoc">Returns the number of elements stored in the hashtab. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d35/hashtab_8c_source.html#l00577">hashtab.c:577</a></div></div>
<div class="ttc" id="structast__context_html_a2fa7eba1ccec8820c766879753569da0"><div class="ttname"><a href="../../d6/d7c/structast__context.html#a2fa7eba1ccec8820c766879753569da0">ast_context::pattern_tree</a></div><div class="ttdeci">struct match_char * pattern_tree</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l00288">pbx.c:288</a></div></div>
<div class="ttc" id="pbx_8c_html_ae25a2122becbf9b94f5d55bc86753fea"><div class="ttname"><a href="../../db/d94/pbx_8c.html#ae25a2122becbf9b94f5d55bc86753fea">destroy_exten</a></div><div class="ttdeci">static void destroy_exten(struct ast_exten *e)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l04678">pbx.c:4678</a></div></div>
<div class="ttc" id="structmatch__char_html_a3cb0d95aa820737d010fdfaccac92ec3"><div class="ttname"><a href="../../da/d14/structmatch__char.html#a3cb0d95aa820737d010fdfaccac92ec3">match_char::deleted</a></div><div class="ttdeci">int deleted</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l00264">pbx.c:264</a></div></div>
<div class="ttc" id="structmatch__char_html"><div class="ttname"><a href="../../da/d14/structmatch__char.html">match_char</a></div><div class="ttdoc">match_char: forms a syntax tree for quick matching of extension patterns </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l00261">pbx.c:261</a></div></div>
<div class="ttc" id="hashtab_8h_html_a71bd19ff2f6fad1cf5e01f9b8cad6f66"><div class="ttname"><a href="../../d6/da0/hashtab_8h.html#a71bd19ff2f6fad1cf5e01f9b8cad6f66">ast_hashtab_remove_this_object</a></div><div class="ttdeci">void * ast_hashtab_remove_this_object(struct ast_hashtab *tab, void *obj)</div><div class="ttdoc">Hash the object and then compare ptrs in bucket list instead of calling the compare routine...</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d35/hashtab_8c_source.html#l00789">hashtab.c:789</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a08e43dc093c586991af4e2f86fa14f2e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a08e43dc093c586991af4e2f86fa14f2e">&#9670;&nbsp;</a></span>ast_context_remove_ignorepat()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_context_remove_ignorepat </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>ignorepat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>registrar</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/d94/pbx_8c_source.html#l06837">6837</a> of file <a class="el" href="../../db/d94/pbx_8c_source.html">pbx.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/d94/pbx_8c_source.html#l06850">ast_context_remove_ignorepat2()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08512">ast_unlock_contexts()</a>, <a class="el" href="../../d7/d6f/test__linkedlists_8c_source.html#l00048">c</a>, and <a class="el" href="../../db/d94/pbx_8c_source.html#l04818">find_context_locked()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l01439">handle_cli_dialplan_remove_ignorepat()</a>.</p>
<div class="fragment"><div class="line"><a name="l06838"></a><span class="lineno"> 6838</span>&#160;{</div><div class="line"><a name="l06839"></a><span class="lineno"> 6839</span>&#160;   <span class="keywordtype">int</span> ret = -1;</div><div class="line"><a name="l06840"></a><span class="lineno"> 6840</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d6/d7c/structast__context.html">ast_context</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>;</div><div class="line"><a name="l06841"></a><span class="lineno"> 6841</span>&#160;</div><div class="line"><a name="l06842"></a><span class="lineno"> 6842</span>&#160;   c = <a class="code" href="../../db/d94/pbx_8c.html#a85edff1fa15717f00123b70af815e10d">find_context_locked</a>(<a class="code" href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a>);</div><div class="line"><a name="l06843"></a><span class="lineno"> 6843</span>&#160;   <span class="keywordflow">if</span> (c) {</div><div class="line"><a name="l06844"></a><span class="lineno"> 6844</span>&#160;      ret = <a class="code" href="../../db/d94/pbx_8c.html#a3c599ffe1436debbdccd45a28685b567">ast_context_remove_ignorepat2</a>(c, ignorepat, <a class="code" href="../../de/d23/pbx__ael_8c.html#ab990a3529ebde2681a00468cad7c0b48">registrar</a>);</div><div class="line"><a name="l06845"></a><span class="lineno"> 6845</span>&#160;      <a class="code" href="../../db/d94/pbx_8c.html#ae517a87b356aec60d5de4591ef94581b">ast_unlock_contexts</a>();</div><div class="line"><a name="l06846"></a><span class="lineno"> 6846</span>&#160;   }</div><div class="line"><a name="l06847"></a><span class="lineno"> 6847</span>&#160;   <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l06848"></a><span class="lineno"> 6848</span>&#160;}</div><div class="ttc" id="pbx_8c_html_a3c599ffe1436debbdccd45a28685b567"><div class="ttname"><a href="../../db/d94/pbx_8c.html#a3c599ffe1436debbdccd45a28685b567">ast_context_remove_ignorepat2</a></div><div class="ttdeci">int ast_context_remove_ignorepat2(struct ast_context *con, const char *ignorepat, const char *registrar)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l06850">pbx.c:6850</a></div></div>
<div class="ttc" id="test__linkedlists_8c_html_acd9db00336027462cfb25b97b5356883"><div class="ttname"><a href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a></div><div class="ttdeci">static struct test_val c</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d6f/test__linkedlists_8c_source.html#l00048">test_linkedlists.c:48</a></div></div>
<div class="ttc" id="pbx_8c_html_ae517a87b356aec60d5de4591ef94581b"><div class="ttname"><a href="../../db/d94/pbx_8c.html#ae517a87b356aec60d5de4591ef94581b">ast_unlock_contexts</a></div><div class="ttdeci">int ast_unlock_contexts(void)</div><div class="ttdoc">Unlocks contexts. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l08512">pbx.c:8512</a></div></div>
<div class="ttc" id="pbx__ael_8c_html_ab990a3529ebde2681a00468cad7c0b48"><div class="ttname"><a href="../../de/d23/pbx__ael_8c.html#ab990a3529ebde2681a00468cad7c0b48">registrar</a></div><div class="ttdeci">static char * registrar</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d23/pbx__ael_8c_source.html#l00078">pbx_ael.c:78</a></div></div>
<div class="ttc" id="pbx_8c_html_a85edff1fa15717f00123b70af815e10d"><div class="ttname"><a href="../../db/d94/pbx_8c.html#a85edff1fa15717f00123b70af815e10d">find_context_locked</a></div><div class="ttdeci">static struct ast_context * find_context_locked(const char *context)</div><div class="ttdoc">lookup for a context with a given name, </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l04818">pbx.c:4818</a></div></div>
<div class="ttc" id="chan__alsa_8c_html_ac25ea00ee3f082df06e0cf468cbde240"><div class="ttname"><a href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a></div><div class="ttdeci">static char context[AST_MAX_CONTEXT]</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d45/chan__alsa_8c_source.html#l00116">chan_alsa.c:116</a></div></div>
<div class="ttc" id="structast__context_html"><div class="ttname"><a href="../../d6/d7c/structast__context.html">ast_context</a></div><div class="ttdoc">ast_context: An extension context - must remain in sync with fake_context </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l00284">pbx.c:284</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3c599ffe1436debbdccd45a28685b567"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c599ffe1436debbdccd45a28685b567">&#9670;&nbsp;</a></span>ast_context_remove_ignorepat2()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_context_remove_ignorepat2 </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d6/d7c/structast__context.html">ast_context</a> *&#160;</td>
          <td class="paramname"><em>con</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>ignorepat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>registrar</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/d94/pbx_8c_source.html#l06850">6850</a> of file <a class="el" href="../../db/d94/pbx_8c_source.html">pbx.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/d94/pbx_8c_source.html#l08740">ast_context_ignorepats_count()</a>, <a class="el" href="../../d9/d63/pbx__ignorepat_8c_source.html#l00042">ast_get_ignorepat_name()</a>, <a class="el" href="../../d9/d63/pbx__ignorepat_8c_source.html#l00047">ast_get_ignorepat_registrar()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08530">ast_unlock_context()</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00682">AST_VECTOR_GET</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00448">AST_VECTOR_REMOVE_ORDERED</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08520">ast_wrlock_context()</a>, <a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a>, <a class="el" href="../../d9/d63/pbx__ignorepat_8c_source.html#l00077">ignorepat_free()</a>, and <a class="el" href="../../db/d94/pbx_8c_source.html#l00291">ast_context::ignorepats</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d94/pbx_8c_source.html#l06837">ast_context_remove_ignorepat()</a>.</p>
<div class="fragment"><div class="line"><a name="l06851"></a><span class="lineno"> 6851</span>&#160;{</div><div class="line"><a name="l06852"></a><span class="lineno"> 6852</span>&#160;   <span class="keywordtype">int</span> idx;</div><div class="line"><a name="l06853"></a><span class="lineno"> 6853</span>&#160;</div><div class="line"><a name="l06854"></a><span class="lineno"> 6854</span>&#160;   <a class="code" href="../../db/d94/pbx_8c.html#a2c961dcbdcade8fac28960ed67c89bd2">ast_wrlock_context</a>(con);</div><div class="line"><a name="l06855"></a><span class="lineno"> 6855</span>&#160;</div><div class="line"><a name="l06856"></a><span class="lineno"> 6856</span>&#160;   <span class="keywordflow">for</span> (idx = 0; idx &lt; <a class="code" href="../../db/d94/pbx_8c.html#aa780584a8327cbe41d566b91e119eb97">ast_context_ignorepats_count</a>(con); idx++) {</div><div class="line"><a name="l06857"></a><span class="lineno"> 6857</span>&#160;      <span class="keyword">struct </span><a class="code" href="../../d0/d11/structast__ignorepat.html">ast_ignorepat</a> *ip = <a class="code" href="../../d6/d68/vector_8h.html#aef32ac52c3e8a530d16eb92cde22cacd">AST_VECTOR_GET</a>(&amp;con-&gt;<a class="code" href="../../d6/d7c/structast__context.html#a6cb23af21b2834040bd20ea0031b3b8b">ignorepats</a>, idx);</div><div class="line"><a name="l06858"></a><span class="lineno"> 6858</span>&#160;</div><div class="line"><a name="l06859"></a><span class="lineno"> 6859</span>&#160;      <span class="keywordflow">if</span> (!strcmp(<a class="code" href="../../db/de0/pbx_8h.html#ad40e50eea098e5c16ef7dd3ffbff1bba">ast_get_ignorepat_name</a>(ip), ignorepat) &amp;&amp;</div><div class="line"><a name="l06860"></a><span class="lineno"> 6860</span>&#160;         (!<a class="code" href="../../de/d23/pbx__ael_8c.html#ab990a3529ebde2681a00468cad7c0b48">registrar</a> || (<a class="code" href="../../de/d23/pbx__ael_8c.html#ab990a3529ebde2681a00468cad7c0b48">registrar</a> == <a class="code" href="../../db/de0/pbx_8h.html#a8a6feb7cd8e08f18c9d0f4887d7f3d47">ast_get_ignorepat_registrar</a>(ip)))) {</div><div class="line"><a name="l06861"></a><span class="lineno"> 6861</span>&#160;         <a class="code" href="../../d6/d68/vector_8h.html#a0414ce2ed1741b1e048ccafc0df420c3">AST_VECTOR_REMOVE_ORDERED</a>(&amp;con-&gt;<a class="code" href="../../d6/d7c/structast__context.html#a6cb23af21b2834040bd20ea0031b3b8b">ignorepats</a>, idx);</div><div class="line"><a name="l06862"></a><span class="lineno"> 6862</span>&#160;         <a class="code" href="../../d9/d63/pbx__ignorepat_8c.html#ab3503fb9ba3b0c046a2d1a2a482e8ae1">ignorepat_free</a>(ip);</div><div class="line"><a name="l06863"></a><span class="lineno"> 6863</span>&#160;         <a class="code" href="../../db/d94/pbx_8c.html#a805796e4728845bff70c4caf5b224308">ast_unlock_context</a>(con);</div><div class="line"><a name="l06864"></a><span class="lineno"> 6864</span>&#160;         <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l06865"></a><span class="lineno"> 6865</span>&#160;      }</div><div class="line"><a name="l06866"></a><span class="lineno"> 6866</span>&#160;   }</div><div class="line"><a name="l06867"></a><span class="lineno"> 6867</span>&#160;</div><div class="line"><a name="l06868"></a><span class="lineno"> 6868</span>&#160;   <a class="code" href="../../db/d94/pbx_8c.html#a805796e4728845bff70c4caf5b224308">ast_unlock_context</a>(con);</div><div class="line"><a name="l06869"></a><span class="lineno"> 6869</span>&#160;   <a class="code" href="../../d1/d6e/main_2stdtime_2private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a> = EINVAL;</div><div class="line"><a name="l06870"></a><span class="lineno"> 6870</span>&#160;   <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l06871"></a><span class="lineno"> 6871</span>&#160;}</div><div class="ttc" id="structast__context_html_a6cb23af21b2834040bd20ea0031b3b8b"><div class="ttname"><a href="../../d6/d7c/structast__context.html#a6cb23af21b2834040bd20ea0031b3b8b">ast_context::ignorepats</a></div><div class="ttdeci">struct ast_ignorepats ignorepats</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l00291">pbx.c:291</a></div></div>
<div class="ttc" id="pbx_8c_html_a805796e4728845bff70c4caf5b224308"><div class="ttname"><a href="../../db/d94/pbx_8c.html#a805796e4728845bff70c4caf5b224308">ast_unlock_context</a></div><div class="ttdeci">int ast_unlock_context(struct ast_context *con)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l08530">pbx.c:8530</a></div></div>
<div class="ttc" id="pbx_8h_html_a8a6feb7cd8e08f18c9d0f4887d7f3d47"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a8a6feb7cd8e08f18c9d0f4887d7f3d47">ast_get_ignorepat_registrar</a></div><div class="ttdeci">const char * ast_get_ignorepat_registrar(const struct ast_ignorepat *ip)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d63/pbx__ignorepat_8c_source.html#l00047">pbx_ignorepat.c:47</a></div></div>
<div class="ttc" id="pbx__ignorepat_8c_html_ab3503fb9ba3b0c046a2d1a2a482e8ae1"><div class="ttname"><a href="../../d9/d63/pbx__ignorepat_8c.html#ab3503fb9ba3b0c046a2d1a2a482e8ae1">ignorepat_free</a></div><div class="ttdeci">void ignorepat_free(struct ast_ignorepat *ip)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d63/pbx__ignorepat_8c_source.html#l00077">pbx_ignorepat.c:77</a></div></div>
<div class="ttc" id="vector_8h_html_a0414ce2ed1741b1e048ccafc0df420c3"><div class="ttname"><a href="../../d6/d68/vector_8h.html#a0414ce2ed1741b1e048ccafc0df420c3">AST_VECTOR_REMOVE_ORDERED</a></div><div class="ttdeci">#define AST_VECTOR_REMOVE_ORDERED(vec, idx)</div><div class="ttdoc">Remove an element from a vector by index while maintaining order. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00448">vector.h:448</a></div></div>
<div class="ttc" id="pbx_8h_html_ad40e50eea098e5c16ef7dd3ffbff1bba"><div class="ttname"><a href="../../db/de0/pbx_8h.html#ad40e50eea098e5c16ef7dd3ffbff1bba">ast_get_ignorepat_name</a></div><div class="ttdeci">const char * ast_get_ignorepat_name(const struct ast_ignorepat *ip)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d63/pbx__ignorepat_8c_source.html#l00042">pbx_ignorepat.c:42</a></div></div>
<div class="ttc" id="pbx_8c_html_aa780584a8327cbe41d566b91e119eb97"><div class="ttname"><a href="../../db/d94/pbx_8c.html#aa780584a8327cbe41d566b91e119eb97">ast_context_ignorepats_count</a></div><div class="ttdeci">int ast_context_ignorepats_count(const struct ast_context *con)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l08740">pbx.c:8740</a></div></div>
<div class="ttc" id="structast__ignorepat_html"><div class="ttname"><a href="../../d0/d11/structast__ignorepat.html">ast_ignorepat</a></div><div class="ttdoc">ast_ignorepat: Ignore patterns in dial plan </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d63/pbx__ignorepat_8c_source.html#l00037">pbx_ignorepat.c:37</a></div></div>
<div class="ttc" id="main_2stdtime_2private_8h_html_ad65a8842cc674e3ddf69355898c0ecbf"><div class="ttname"><a href="../../d1/d6e/main_2stdtime_2private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a></div><div class="ttdeci">int errno</div></div>
<div class="ttc" id="pbx_8c_html_a2c961dcbdcade8fac28960ed67c89bd2"><div class="ttname"><a href="../../db/d94/pbx_8c.html#a2c961dcbdcade8fac28960ed67c89bd2">ast_wrlock_context</a></div><div class="ttdeci">int ast_wrlock_context(struct ast_context *con)</div><div class="ttdoc">Write locks a given context. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l08520">pbx.c:8520</a></div></div>
<div class="ttc" id="pbx__ael_8c_html_ab990a3529ebde2681a00468cad7c0b48"><div class="ttname"><a href="../../de/d23/pbx__ael_8c.html#ab990a3529ebde2681a00468cad7c0b48">registrar</a></div><div class="ttdeci">static char * registrar</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d23/pbx__ael_8c_source.html#l00078">pbx_ael.c:78</a></div></div>
<div class="ttc" id="vector_8h_html_aef32ac52c3e8a530d16eb92cde22cacd"><div class="ttname"><a href="../../d6/d68/vector_8h.html#aef32ac52c3e8a530d16eb92cde22cacd">AST_VECTOR_GET</a></div><div class="ttdeci">#define AST_VECTOR_GET(vec, idx)</div><div class="ttdoc">Get an element from a vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00682">vector.h:682</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="acec5cab19e772712434bf03875b57e9a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acec5cab19e772712434bf03875b57e9a">&#9670;&nbsp;</a></span>ast_context_remove_include()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_context_remove_include </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>include</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>registrar</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Remove a context include. </p>
<dl class="section note"><dt>Note</dt><dd>See ast_context_add_include for information on arguments</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>on success </td></tr>
    <tr><td class="paramname">-1</td><td>on failure</td></tr>
  </table>
  </dd>
</dl>
<p>Remove a context include. </p>

<p class="definition">Definition at line <a class="el" href="../../db/d94/pbx_8c_source.html#l04840">4840</a> of file <a class="el" href="../../db/d94/pbx_8c_source.html">pbx.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/d94/pbx_8c_source.html#l04863">ast_context_remove_include2()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08512">ast_unlock_contexts()</a>, <a class="el" href="../../d7/d6f/test__linkedlists_8c_source.html#l00048">c</a>, and <a class="el" href="../../db/d94/pbx_8c_source.html#l04818">find_context_locked()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00160">handle_cli_dialplan_remove_include()</a>.</p>
<div class="fragment"><div class="line"><a name="l04841"></a><span class="lineno"> 4841</span>&#160;{</div><div class="line"><a name="l04842"></a><span class="lineno"> 4842</span>&#160;   <span class="keywordtype">int</span> ret = -1;</div><div class="line"><a name="l04843"></a><span class="lineno"> 4843</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d6/d7c/structast__context.html">ast_context</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>;</div><div class="line"><a name="l04844"></a><span class="lineno"> 4844</span>&#160;</div><div class="line"><a name="l04845"></a><span class="lineno"> 4845</span>&#160;   c = <a class="code" href="../../db/d94/pbx_8c.html#a85edff1fa15717f00123b70af815e10d">find_context_locked</a>(<a class="code" href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a>);</div><div class="line"><a name="l04846"></a><span class="lineno"> 4846</span>&#160;   <span class="keywordflow">if</span> (c) {</div><div class="line"><a name="l04847"></a><span class="lineno"> 4847</span>&#160;      <span class="comment">/* found, remove include from this context ... */</span></div><div class="line"><a name="l04848"></a><span class="lineno"> 4848</span>&#160;      ret = <a class="code" href="../../db/d94/pbx_8c.html#a8c23053e0d4d87545a93ec837a19b908">ast_context_remove_include2</a>(c, include, <a class="code" href="../../de/d23/pbx__ael_8c.html#ab990a3529ebde2681a00468cad7c0b48">registrar</a>);</div><div class="line"><a name="l04849"></a><span class="lineno"> 4849</span>&#160;      <a class="code" href="../../db/d94/pbx_8c.html#ae517a87b356aec60d5de4591ef94581b">ast_unlock_contexts</a>();</div><div class="line"><a name="l04850"></a><span class="lineno"> 4850</span>&#160;   }</div><div class="line"><a name="l04851"></a><span class="lineno"> 4851</span>&#160;   <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l04852"></a><span class="lineno"> 4852</span>&#160;}</div><div class="ttc" id="pbx_8c_html_a8c23053e0d4d87545a93ec837a19b908"><div class="ttname"><a href="../../db/d94/pbx_8c.html#a8c23053e0d4d87545a93ec837a19b908">ast_context_remove_include2</a></div><div class="ttdeci">int ast_context_remove_include2(struct ast_context *con, const char *include, const char *registrar)</div><div class="ttdoc">Locks context, remove included contexts, unlocks context. When we call this function, &amp;conlock lock must be locked, because when we giving *con argument, some process can remove/change this context and after that there can be segfault. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l04863">pbx.c:4863</a></div></div>
<div class="ttc" id="test__linkedlists_8c_html_acd9db00336027462cfb25b97b5356883"><div class="ttname"><a href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a></div><div class="ttdeci">static struct test_val c</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d6f/test__linkedlists_8c_source.html#l00048">test_linkedlists.c:48</a></div></div>
<div class="ttc" id="pbx_8c_html_ae517a87b356aec60d5de4591ef94581b"><div class="ttname"><a href="../../db/d94/pbx_8c.html#ae517a87b356aec60d5de4591ef94581b">ast_unlock_contexts</a></div><div class="ttdeci">int ast_unlock_contexts(void)</div><div class="ttdoc">Unlocks contexts. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l08512">pbx.c:8512</a></div></div>
<div class="ttc" id="pbx__ael_8c_html_ab990a3529ebde2681a00468cad7c0b48"><div class="ttname"><a href="../../de/d23/pbx__ael_8c.html#ab990a3529ebde2681a00468cad7c0b48">registrar</a></div><div class="ttdeci">static char * registrar</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d23/pbx__ael_8c_source.html#l00078">pbx_ael.c:78</a></div></div>
<div class="ttc" id="pbx_8c_html_a85edff1fa15717f00123b70af815e10d"><div class="ttname"><a href="../../db/d94/pbx_8c.html#a85edff1fa15717f00123b70af815e10d">find_context_locked</a></div><div class="ttdeci">static struct ast_context * find_context_locked(const char *context)</div><div class="ttdoc">lookup for a context with a given name, </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l04818">pbx.c:4818</a></div></div>
<div class="ttc" id="chan__alsa_8c_html_ac25ea00ee3f082df06e0cf468cbde240"><div class="ttname"><a href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a></div><div class="ttdeci">static char context[AST_MAX_CONTEXT]</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d45/chan__alsa_8c_source.html#l00116">chan_alsa.c:116</a></div></div>
<div class="ttc" id="structast__context_html"><div class="ttname"><a href="../../d6/d7c/structast__context.html">ast_context</a></div><div class="ttdoc">ast_context: An extension context - must remain in sync with fake_context </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l00284">pbx.c:284</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a8c23053e0d4d87545a93ec837a19b908"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8c23053e0d4d87545a93ec837a19b908">&#9670;&nbsp;</a></span>ast_context_remove_include2()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_context_remove_include2 </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d6/d7c/structast__context.html">ast_context</a> *&#160;</td>
          <td class="paramname"><em>con</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>include</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>registrar</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Removes an include by an <a class="el" href="../../d6/d7c/structast__context.html" title="ast_context: An extension context - must remain in sync with fake_context ">ast_context</a> structure. </p>
<dl class="section note"><dt>Note</dt><dd>See ast_context_add_include2 for information on arguments</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>on success </td></tr>
    <tr><td class="paramname">-1</td><td>on success</td></tr>
  </table>
  </dd>
</dl>
<p>Removes an include by an <a class="el" href="../../d6/d7c/structast__context.html" title="ast_context: An extension context - must remain in sync with fake_context ">ast_context</a> structure.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>on success. </td></tr>
    <tr><td class="paramname">-1</td><td>on failure. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../db/d94/pbx_8c_source.html#l04863">4863</a> of file <a class="el" href="../../db/d94/pbx_8c_source.html">pbx.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/d94/pbx_8c_source.html#l08697">ast_context_includes_count()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08538">ast_get_context_name()</a>, <a class="el" href="../../d6/d0e/pbx__include_8c_source.html#l00050">ast_get_include_name()</a>, <a class="el" href="../../d6/d0e/pbx__include_8c_source.html#l00060">ast_get_include_registrar()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08530">ast_unlock_context()</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00682">AST_VECTOR_GET</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00448">AST_VECTOR_REMOVE_ORDERED</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00463">ast_verb</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08520">ast_wrlock_context()</a>, <a class="el" href="../../d6/d0e/pbx__include_8c_source.html#l00106">include_free()</a>, and <a class="el" href="../../db/d94/pbx_8c_source.html#l00290">ast_context::includes</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d94/pbx_8c_source.html#l04840">ast_context_remove_include()</a>.</p>
<div class="fragment"><div class="line"><a name="l04864"></a><span class="lineno"> 4864</span>&#160;{</div><div class="line"><a name="l04865"></a><span class="lineno"> 4865</span>&#160;   <span class="keywordtype">int</span> ret = -1;</div><div class="line"><a name="l04866"></a><span class="lineno"> 4866</span>&#160;   <span class="keywordtype">int</span> idx;</div><div class="line"><a name="l04867"></a><span class="lineno"> 4867</span>&#160;</div><div class="line"><a name="l04868"></a><span class="lineno"> 4868</span>&#160;   <a class="code" href="../../db/d94/pbx_8c.html#a2c961dcbdcade8fac28960ed67c89bd2">ast_wrlock_context</a>(con);</div><div class="line"><a name="l04869"></a><span class="lineno"> 4869</span>&#160;</div><div class="line"><a name="l04870"></a><span class="lineno"> 4870</span>&#160;   <span class="comment">/* find our include */</span></div><div class="line"><a name="l04871"></a><span class="lineno"> 4871</span>&#160;   <span class="keywordflow">for</span> (idx = 0; idx &lt; <a class="code" href="../../db/d94/pbx_8c.html#aec2e421fa0b10e14812d52c30ec7e744">ast_context_includes_count</a>(con); idx++) {</div><div class="line"><a name="l04872"></a><span class="lineno"> 4872</span>&#160;      <span class="keyword">struct </span><a class="code" href="../../d5/db2/structast__include.html">ast_include</a> *i = <a class="code" href="../../d6/d68/vector_8h.html#aef32ac52c3e8a530d16eb92cde22cacd">AST_VECTOR_GET</a>(&amp;con-&gt;<a class="code" href="../../d6/d7c/structast__context.html#a37fab5903a397434aa8bde4a88290528">includes</a>, idx);</div><div class="line"><a name="l04873"></a><span class="lineno"> 4873</span>&#160;</div><div class="line"><a name="l04874"></a><span class="lineno"> 4874</span>&#160;      <span class="keywordflow">if</span> (!strcmp(<a class="code" href="../../db/de0/pbx_8h.html#a1cf62f8cc1e47da88dae67f4ee623684">ast_get_include_name</a>(i), include) &amp;&amp;</div><div class="line"><a name="l04875"></a><span class="lineno"> 4875</span>&#160;            (!<a class="code" href="../../de/d23/pbx__ael_8c.html#ab990a3529ebde2681a00468cad7c0b48">registrar</a> || !strcmp(<a class="code" href="../../db/de0/pbx_8h.html#a2bf7469cd4b7de5d4de43d58aeff46c5">ast_get_include_registrar</a>(i), <a class="code" href="../../de/d23/pbx__ael_8c.html#ab990a3529ebde2681a00468cad7c0b48">registrar</a>))) {</div><div class="line"><a name="l04876"></a><span class="lineno"> 4876</span>&#160;</div><div class="line"><a name="l04877"></a><span class="lineno"> 4877</span>&#160;         <span class="comment">/* remove from list */</span></div><div class="line"><a name="l04878"></a><span class="lineno"> 4878</span>&#160;         <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(3, <span class="stringliteral">&quot;Removing inclusion of context &#39;%s&#39; in context &#39;%s; registrar=%s&#39;\n&quot;</span>, include, <a class="code" href="../../db/d94/pbx_8c.html#aa42372790072cff15f75c674917115b0">ast_get_context_name</a>(con), <a class="code" href="../../de/d23/pbx__ael_8c.html#ab990a3529ebde2681a00468cad7c0b48">registrar</a>);</div><div class="line"><a name="l04879"></a><span class="lineno"> 4879</span>&#160;         <a class="code" href="../../d6/d68/vector_8h.html#a0414ce2ed1741b1e048ccafc0df420c3">AST_VECTOR_REMOVE_ORDERED</a>(&amp;con-&gt;<a class="code" href="../../d6/d7c/structast__context.html#a37fab5903a397434aa8bde4a88290528">includes</a>, idx);</div><div class="line"><a name="l04880"></a><span class="lineno"> 4880</span>&#160;</div><div class="line"><a name="l04881"></a><span class="lineno"> 4881</span>&#160;         <span class="comment">/* free include and return */</span></div><div class="line"><a name="l04882"></a><span class="lineno"> 4882</span>&#160;         <a class="code" href="../../d6/d0e/pbx__include_8c.html#a074a4f22541e1231de75d69e37fc4adf">include_free</a>(i);</div><div class="line"><a name="l04883"></a><span class="lineno"> 4883</span>&#160;         ret = 0;</div><div class="line"><a name="l04884"></a><span class="lineno"> 4884</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l04885"></a><span class="lineno"> 4885</span>&#160;      }</div><div class="line"><a name="l04886"></a><span class="lineno"> 4886</span>&#160;   }</div><div class="line"><a name="l04887"></a><span class="lineno"> 4887</span>&#160;</div><div class="line"><a name="l04888"></a><span class="lineno"> 4888</span>&#160;   <a class="code" href="../../db/d94/pbx_8c.html#a805796e4728845bff70c4caf5b224308">ast_unlock_context</a>(con);</div><div class="line"><a name="l04889"></a><span class="lineno"> 4889</span>&#160;</div><div class="line"><a name="l04890"></a><span class="lineno"> 4890</span>&#160;   <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l04891"></a><span class="lineno"> 4891</span>&#160;}</div><div class="ttc" id="structast__include_html"><div class="ttname"><a href="../../d5/db2/structast__include.html">ast_include</a></div><div class="ttdoc">ast_include: include= support in extensions.conf </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d0e/pbx__include_8c_source.html#l00037">pbx_include.c:37</a></div></div>
<div class="ttc" id="pbx_8c_html_a805796e4728845bff70c4caf5b224308"><div class="ttname"><a href="../../db/d94/pbx_8c.html#a805796e4728845bff70c4caf5b224308">ast_unlock_context</a></div><div class="ttdeci">int ast_unlock_context(struct ast_context *con)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l08530">pbx.c:8530</a></div></div>
<div class="ttc" id="pbx__include_8c_html_a074a4f22541e1231de75d69e37fc4adf"><div class="ttname"><a href="../../d6/d0e/pbx__include_8c.html#a074a4f22541e1231de75d69e37fc4adf">include_free</a></div><div class="ttdeci">void include_free(struct ast_include *inc)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d0e/pbx__include_8c_source.html#l00106">pbx_include.c:106</a></div></div>
<div class="ttc" id="pbx_8h_html_a2bf7469cd4b7de5d4de43d58aeff46c5"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a2bf7469cd4b7de5d4de43d58aeff46c5">ast_get_include_registrar</a></div><div class="ttdeci">const char * ast_get_include_registrar(const struct ast_include *i)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d0e/pbx__include_8c_source.html#l00060">pbx_include.c:60</a></div></div>
<div class="ttc" id="logger_8h_html_ad770f83c71e237e1f64163358ce4e13d"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a></div><div class="ttdeci">#define ast_verb(level,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00463">logger.h:463</a></div></div>
<div class="ttc" id="vector_8h_html_a0414ce2ed1741b1e048ccafc0df420c3"><div class="ttname"><a href="../../d6/d68/vector_8h.html#a0414ce2ed1741b1e048ccafc0df420c3">AST_VECTOR_REMOVE_ORDERED</a></div><div class="ttdeci">#define AST_VECTOR_REMOVE_ORDERED(vec, idx)</div><div class="ttdoc">Remove an element from a vector by index while maintaining order. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00448">vector.h:448</a></div></div>
<div class="ttc" id="structast__context_html_a37fab5903a397434aa8bde4a88290528"><div class="ttname"><a href="../../d6/d7c/structast__context.html#a37fab5903a397434aa8bde4a88290528">ast_context::includes</a></div><div class="ttdeci">struct ast_includes includes</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l00290">pbx.c:290</a></div></div>
<div class="ttc" id="pbx_8c_html_a2c961dcbdcade8fac28960ed67c89bd2"><div class="ttname"><a href="../../db/d94/pbx_8c.html#a2c961dcbdcade8fac28960ed67c89bd2">ast_wrlock_context</a></div><div class="ttdeci">int ast_wrlock_context(struct ast_context *con)</div><div class="ttdoc">Write locks a given context. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l08520">pbx.c:8520</a></div></div>
<div class="ttc" id="pbx__ael_8c_html_ab990a3529ebde2681a00468cad7c0b48"><div class="ttname"><a href="../../de/d23/pbx__ael_8c.html#ab990a3529ebde2681a00468cad7c0b48">registrar</a></div><div class="ttdeci">static char * registrar</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d23/pbx__ael_8c_source.html#l00078">pbx_ael.c:78</a></div></div>
<div class="ttc" id="vector_8h_html_aef32ac52c3e8a530d16eb92cde22cacd"><div class="ttname"><a href="../../d6/d68/vector_8h.html#aef32ac52c3e8a530d16eb92cde22cacd">AST_VECTOR_GET</a></div><div class="ttdeci">#define AST_VECTOR_GET(vec, idx)</div><div class="ttdoc">Get an element from a vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00682">vector.h:682</a></div></div>
<div class="ttc" id="pbx_8h_html_a1cf62f8cc1e47da88dae67f4ee623684"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a1cf62f8cc1e47da88dae67f4ee623684">ast_get_include_name</a></div><div class="ttdeci">const char * ast_get_include_name(const struct ast_include *include)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d0e/pbx__include_8c_source.html#l00050">pbx_include.c:50</a></div></div>
<div class="ttc" id="pbx_8c_html_aa42372790072cff15f75c674917115b0"><div class="ttname"><a href="../../db/d94/pbx_8c.html#aa42372790072cff15f75c674917115b0">ast_get_context_name</a></div><div class="ttdeci">const char * ast_get_context_name(struct ast_context *con)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l08538">pbx.c:8538</a></div></div>
<div class="ttc" id="pbx_8c_html_aec2e421fa0b10e14812d52c30ec7e744"><div class="ttname"><a href="../../db/d94/pbx_8c.html#aec2e421fa0b10e14812d52c30ec7e744">ast_context_includes_count</a></div><div class="ttdeci">int ast_context_includes_count(const struct ast_context *con)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l08697">pbx.c:8697</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a9800750a3fb79caa282c98556473f392"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9800750a3fb79caa282c98556473f392">&#9670;&nbsp;</a></span>ast_context_remove_switch()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_context_remove_switch </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>sw</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>registrar</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Remove a switch. </p>
<p>Removes a switch with the given parameters</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>on success </td></tr>
    <tr><td class="paramname">-1</td><td>on failure</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>This function locks contexts list by &amp;conlist, search for the rigt context structure, leave context list locked and call ast_context_remove_switch2 which removes switch, unlock contexts list and return ... </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../db/d94/pbx_8c_source.html#l04898">4898</a> of file <a class="el" href="../../db/d94/pbx_8c_source.html">pbx.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/d94/pbx_8c_source.html#l04920">ast_context_remove_switch2()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08512">ast_unlock_contexts()</a>, <a class="el" href="../../d7/d6f/test__linkedlists_8c_source.html#l00048">c</a>, and <a class="el" href="../../db/d94/pbx_8c_source.html#l04818">find_context_locked()</a>.</p>
<div class="fragment"><div class="line"><a name="l04899"></a><span class="lineno"> 4899</span>&#160;{</div><div class="line"><a name="l04900"></a><span class="lineno"> 4900</span>&#160;   <span class="keywordtype">int</span> ret = -1; <span class="comment">/* default error return */</span></div><div class="line"><a name="l04901"></a><span class="lineno"> 4901</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d6/d7c/structast__context.html">ast_context</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>;</div><div class="line"><a name="l04902"></a><span class="lineno"> 4902</span>&#160;</div><div class="line"><a name="l04903"></a><span class="lineno"> 4903</span>&#160;   c = <a class="code" href="../../db/d94/pbx_8c.html#a85edff1fa15717f00123b70af815e10d">find_context_locked</a>(<a class="code" href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a>);</div><div class="line"><a name="l04904"></a><span class="lineno"> 4904</span>&#160;   <span class="keywordflow">if</span> (c) {</div><div class="line"><a name="l04905"></a><span class="lineno"> 4905</span>&#160;      <span class="comment">/* remove switch from this context ... */</span></div><div class="line"><a name="l04906"></a><span class="lineno"> 4906</span>&#160;      ret = <a class="code" href="../../db/d94/pbx_8c.html#a23a51e49bea958a8d27c61f2a51931d9">ast_context_remove_switch2</a>(c, sw, data, <a class="code" href="../../de/d23/pbx__ael_8c.html#ab990a3529ebde2681a00468cad7c0b48">registrar</a>);</div><div class="line"><a name="l04907"></a><span class="lineno"> 4907</span>&#160;      <a class="code" href="../../db/d94/pbx_8c.html#ae517a87b356aec60d5de4591ef94581b">ast_unlock_contexts</a>();</div><div class="line"><a name="l04908"></a><span class="lineno"> 4908</span>&#160;   }</div><div class="line"><a name="l04909"></a><span class="lineno"> 4909</span>&#160;   <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l04910"></a><span class="lineno"> 4910</span>&#160;}</div><div class="ttc" id="pbx_8c_html_a23a51e49bea958a8d27c61f2a51931d9"><div class="ttname"><a href="../../db/d94/pbx_8c.html#a23a51e49bea958a8d27c61f2a51931d9">ast_context_remove_switch2</a></div><div class="ttdeci">int ast_context_remove_switch2(struct ast_context *con, const char *sw, const char *data, const char *registrar)</div><div class="ttdoc">This function locks given context, removes switch, unlock context and return. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l04920">pbx.c:4920</a></div></div>
<div class="ttc" id="test__linkedlists_8c_html_acd9db00336027462cfb25b97b5356883"><div class="ttname"><a href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a></div><div class="ttdeci">static struct test_val c</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d6f/test__linkedlists_8c_source.html#l00048">test_linkedlists.c:48</a></div></div>
<div class="ttc" id="pbx_8c_html_ae517a87b356aec60d5de4591ef94581b"><div class="ttname"><a href="../../db/d94/pbx_8c.html#ae517a87b356aec60d5de4591ef94581b">ast_unlock_contexts</a></div><div class="ttdeci">int ast_unlock_contexts(void)</div><div class="ttdoc">Unlocks contexts. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l08512">pbx.c:8512</a></div></div>
<div class="ttc" id="pbx__ael_8c_html_ab990a3529ebde2681a00468cad7c0b48"><div class="ttname"><a href="../../de/d23/pbx__ael_8c.html#ab990a3529ebde2681a00468cad7c0b48">registrar</a></div><div class="ttdeci">static char * registrar</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d23/pbx__ael_8c_source.html#l00078">pbx_ael.c:78</a></div></div>
<div class="ttc" id="pbx_8c_html_a85edff1fa15717f00123b70af815e10d"><div class="ttname"><a href="../../db/d94/pbx_8c.html#a85edff1fa15717f00123b70af815e10d">find_context_locked</a></div><div class="ttdeci">static struct ast_context * find_context_locked(const char *context)</div><div class="ttdoc">lookup for a context with a given name, </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l04818">pbx.c:4818</a></div></div>
<div class="ttc" id="chan__alsa_8c_html_ac25ea00ee3f082df06e0cf468cbde240"><div class="ttname"><a href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a></div><div class="ttdeci">static char context[AST_MAX_CONTEXT]</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d45/chan__alsa_8c_source.html#l00116">chan_alsa.c:116</a></div></div>
<div class="ttc" id="structast__context_html"><div class="ttname"><a href="../../d6/d7c/structast__context.html">ast_context</a></div><div class="ttdoc">ast_context: An extension context - must remain in sync with fake_context </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l00284">pbx.c:284</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a23a51e49bea958a8d27c61f2a51931d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a23a51e49bea958a8d27c61f2a51931d9">&#9670;&nbsp;</a></span>ast_context_remove_switch2()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_context_remove_switch2 </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d6/d7c/structast__context.html">ast_context</a> *&#160;</td>
          <td class="paramname"><em>con</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>sw</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>registrar</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function locks given context, removes switch, unlock context and return. </p>
<dl class="section note"><dt>Note</dt><dd>When we call this function, &amp;conlock lock must be locked, because when we giving *con argument, some process can remove/change this context and after that there can be segfault. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../db/d94/pbx_8c_source.html#l04920">4920</a> of file <a class="el" href="../../db/d94/pbx_8c_source.html">pbx.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/d94/pbx_8c_source.html#l00292">ast_context::alts</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08652">ast_context_switches_count()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08538">ast_get_context_name()</a>, <a class="el" href="../../d9/d5d/pbx__sw_8c_source.html#l00053">ast_get_switch_data()</a>, <a class="el" href="../../d9/d5d/pbx__sw_8c_source.html#l00048">ast_get_switch_name()</a>, <a class="el" href="../../d9/d5d/pbx__sw_8c_source.html#l00063">ast_get_switch_registrar()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08530">ast_unlock_context()</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00682">AST_VECTOR_GET</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00448">AST_VECTOR_REMOVE_ORDERED</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00463">ast_verb</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08520">ast_wrlock_context()</a>, and <a class="el" href="../../d9/d5d/pbx__sw_8c_source.html#l00101">sw_free()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d94/pbx_8c_source.html#l04898">ast_context_remove_switch()</a>.</p>
<div class="fragment"><div class="line"><a name="l04921"></a><span class="lineno"> 4921</span>&#160;{</div><div class="line"><a name="l04922"></a><span class="lineno"> 4922</span>&#160;   <span class="keywordtype">int</span> idx;</div><div class="line"><a name="l04923"></a><span class="lineno"> 4923</span>&#160;   <span class="keywordtype">int</span> ret = -1;</div><div class="line"><a name="l04924"></a><span class="lineno"> 4924</span>&#160;</div><div class="line"><a name="l04925"></a><span class="lineno"> 4925</span>&#160;   <a class="code" href="../../db/d94/pbx_8c.html#a2c961dcbdcade8fac28960ed67c89bd2">ast_wrlock_context</a>(con);</div><div class="line"><a name="l04926"></a><span class="lineno"> 4926</span>&#160;</div><div class="line"><a name="l04927"></a><span class="lineno"> 4927</span>&#160;   <span class="comment">/* walk switches */</span></div><div class="line"><a name="l04928"></a><span class="lineno"> 4928</span>&#160;   <span class="keywordflow">for</span> (idx = 0; idx &lt; <a class="code" href="../../db/d94/pbx_8c.html#ae8d2df08197cbd68d61419e6968baf27">ast_context_switches_count</a>(con); idx++) {</div><div class="line"><a name="l04929"></a><span class="lineno"> 4929</span>&#160;      <span class="keyword">struct </span><a class="code" href="../../d3/def/structast__sw.html">ast_sw</a> *i = <a class="code" href="../../d6/d68/vector_8h.html#aef32ac52c3e8a530d16eb92cde22cacd">AST_VECTOR_GET</a>(&amp;con-&gt;<a class="code" href="../../d6/d7c/structast__context.html#a14868fadcf440d6507b4818f9c9f88e6">alts</a>, idx);</div><div class="line"><a name="l04930"></a><span class="lineno"> 4930</span>&#160;</div><div class="line"><a name="l04931"></a><span class="lineno"> 4931</span>&#160;      <span class="keywordflow">if</span> (!strcmp(<a class="code" href="../../db/de0/pbx_8h.html#aa0ebd34e8d1605aa4b6e3fadea6adfb5">ast_get_switch_name</a>(i), sw) &amp;&amp;</div><div class="line"><a name="l04932"></a><span class="lineno"> 4932</span>&#160;         !strcmp(<a class="code" href="../../db/de0/pbx_8h.html#ad4f9fd5bd7afc28347c808ea295233e8">ast_get_switch_data</a>(i), <a class="code" href="../../d3/def/structast__sw.html#ab5dd39b3c6371b911a65f9b97dc61453">data</a>) &amp;&amp;</div><div class="line"><a name="l04933"></a><span class="lineno"> 4933</span>&#160;         (!<a class="code" href="../../de/d23/pbx__ael_8c.html#ab990a3529ebde2681a00468cad7c0b48">registrar</a> || !strcmp(<a class="code" href="../../db/de0/pbx_8h.html#a3d45d3b9bc79bf6ffb1540f3e815f677">ast_get_switch_registrar</a>(i), <a class="code" href="../../de/d23/pbx__ael_8c.html#ab990a3529ebde2681a00468cad7c0b48">registrar</a>))) {</div><div class="line"><a name="l04934"></a><span class="lineno"> 4934</span>&#160;</div><div class="line"><a name="l04935"></a><span class="lineno"> 4935</span>&#160;         <span class="comment">/* found, remove from list */</span></div><div class="line"><a name="l04936"></a><span class="lineno"> 4936</span>&#160;         <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(3, <span class="stringliteral">&quot;Removing switch &#39;%s&#39; from context &#39;%s; registrar=%s&#39;\n&quot;</span>, sw, <a class="code" href="../../db/d94/pbx_8c.html#aa42372790072cff15f75c674917115b0">ast_get_context_name</a>(con), <a class="code" href="../../de/d23/pbx__ael_8c.html#ab990a3529ebde2681a00468cad7c0b48">registrar</a>);</div><div class="line"><a name="l04937"></a><span class="lineno"> 4937</span>&#160;         <a class="code" href="../../d6/d68/vector_8h.html#a0414ce2ed1741b1e048ccafc0df420c3">AST_VECTOR_REMOVE_ORDERED</a>(&amp;con-&gt;<a class="code" href="../../d6/d7c/structast__context.html#a14868fadcf440d6507b4818f9c9f88e6">alts</a>, idx);</div><div class="line"><a name="l04938"></a><span class="lineno"> 4938</span>&#160;</div><div class="line"><a name="l04939"></a><span class="lineno"> 4939</span>&#160;         <span class="comment">/* free switch and return */</span></div><div class="line"><a name="l04940"></a><span class="lineno"> 4940</span>&#160;         <a class="code" href="../../d9/da0/pbx__private_8h.html#acd29668e92f96d142fe8d058db4ed773">sw_free</a>(i);</div><div class="line"><a name="l04941"></a><span class="lineno"> 4941</span>&#160;         ret = 0;</div><div class="line"><a name="l04942"></a><span class="lineno"> 4942</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l04943"></a><span class="lineno"> 4943</span>&#160;      }</div><div class="line"><a name="l04944"></a><span class="lineno"> 4944</span>&#160;   }</div><div class="line"><a name="l04945"></a><span class="lineno"> 4945</span>&#160;</div><div class="line"><a name="l04946"></a><span class="lineno"> 4946</span>&#160;   <a class="code" href="../../db/d94/pbx_8c.html#a805796e4728845bff70c4caf5b224308">ast_unlock_context</a>(con);</div><div class="line"><a name="l04947"></a><span class="lineno"> 4947</span>&#160;</div><div class="line"><a name="l04948"></a><span class="lineno"> 4948</span>&#160;   <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l04949"></a><span class="lineno"> 4949</span>&#160;}</div><div class="ttc" id="pbx_8h_html_aa0ebd34e8d1605aa4b6e3fadea6adfb5"><div class="ttname"><a href="../../db/de0/pbx_8h.html#aa0ebd34e8d1605aa4b6e3fadea6adfb5">ast_get_switch_name</a></div><div class="ttdeci">const char * ast_get_switch_name(const struct ast_sw *sw)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d5d/pbx__sw_8c_source.html#l00048">pbx_sw.c:48</a></div></div>
<div class="ttc" id="pbx_8h_html_a3d45d3b9bc79bf6ffb1540f3e815f677"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a3d45d3b9bc79bf6ffb1540f3e815f677">ast_get_switch_registrar</a></div><div class="ttdeci">const char * ast_get_switch_registrar(const struct ast_sw *sw)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d5d/pbx__sw_8c_source.html#l00063">pbx_sw.c:63</a></div></div>
<div class="ttc" id="pbx_8c_html_ae8d2df08197cbd68d61419e6968baf27"><div class="ttname"><a href="../../db/d94/pbx_8c.html#ae8d2df08197cbd68d61419e6968baf27">ast_context_switches_count</a></div><div class="ttdeci">int ast_context_switches_count(const struct ast_context *con)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l08652">pbx.c:8652</a></div></div>
<div class="ttc" id="pbx_8c_html_a805796e4728845bff70c4caf5b224308"><div class="ttname"><a href="../../db/d94/pbx_8c.html#a805796e4728845bff70c4caf5b224308">ast_unlock_context</a></div><div class="ttdeci">int ast_unlock_context(struct ast_context *con)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l08530">pbx.c:8530</a></div></div>
<div class="ttc" id="logger_8h_html_ad770f83c71e237e1f64163358ce4e13d"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a></div><div class="ttdeci">#define ast_verb(level,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00463">logger.h:463</a></div></div>
<div class="ttc" id="structast__sw_html"><div class="ttname"><a href="../../d3/def/structast__sw.html">ast_sw</a></div><div class="ttdoc">ast_sw: Switch statement in extensions.conf </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d5d/pbx__sw_8c_source.html#l00037">pbx_sw.c:37</a></div></div>
<div class="ttc" id="structast__sw_html_ab5dd39b3c6371b911a65f9b97dc61453"><div class="ttname"><a href="../../d3/def/structast__sw.html#ab5dd39b3c6371b911a65f9b97dc61453">ast_sw::data</a></div><div class="ttdeci">const char * data</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d5d/pbx__sw_8c_source.html#l00042">pbx_sw.c:42</a></div></div>
<div class="ttc" id="vector_8h_html_a0414ce2ed1741b1e048ccafc0df420c3"><div class="ttname"><a href="../../d6/d68/vector_8h.html#a0414ce2ed1741b1e048ccafc0df420c3">AST_VECTOR_REMOVE_ORDERED</a></div><div class="ttdeci">#define AST_VECTOR_REMOVE_ORDERED(vec, idx)</div><div class="ttdoc">Remove an element from a vector by index while maintaining order. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00448">vector.h:448</a></div></div>
<div class="ttc" id="pbx_8c_html_a2c961dcbdcade8fac28960ed67c89bd2"><div class="ttname"><a href="../../db/d94/pbx_8c.html#a2c961dcbdcade8fac28960ed67c89bd2">ast_wrlock_context</a></div><div class="ttdeci">int ast_wrlock_context(struct ast_context *con)</div><div class="ttdoc">Write locks a given context. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l08520">pbx.c:8520</a></div></div>
<div class="ttc" id="pbx__ael_8c_html_ab990a3529ebde2681a00468cad7c0b48"><div class="ttname"><a href="../../de/d23/pbx__ael_8c.html#ab990a3529ebde2681a00468cad7c0b48">registrar</a></div><div class="ttdeci">static char * registrar</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d23/pbx__ael_8c_source.html#l00078">pbx_ael.c:78</a></div></div>
<div class="ttc" id="pbx_8h_html_ad4f9fd5bd7afc28347c808ea295233e8"><div class="ttname"><a href="../../db/de0/pbx_8h.html#ad4f9fd5bd7afc28347c808ea295233e8">ast_get_switch_data</a></div><div class="ttdeci">const char * ast_get_switch_data(const struct ast_sw *sw)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d5d/pbx__sw_8c_source.html#l00053">pbx_sw.c:53</a></div></div>
<div class="ttc" id="pbx__private_8h_html_acd29668e92f96d142fe8d058db4ed773"><div class="ttname"><a href="../../d9/da0/pbx__private_8h.html#acd29668e92f96d142fe8d058db4ed773">sw_free</a></div><div class="ttdeci">void sw_free(struct ast_sw *sw)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d5d/pbx__sw_8c_source.html#l00101">pbx_sw.c:101</a></div></div>
<div class="ttc" id="vector_8h_html_aef32ac52c3e8a530d16eb92cde22cacd"><div class="ttname"><a href="../../d6/d68/vector_8h.html#aef32ac52c3e8a530d16eb92cde22cacd">AST_VECTOR_GET</a></div><div class="ttdeci">#define AST_VECTOR_GET(vec, idx)</div><div class="ttdoc">Get an element from a vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00682">vector.h:682</a></div></div>
<div class="ttc" id="pbx_8c_html_aa42372790072cff15f75c674917115b0"><div class="ttname"><a href="../../db/d94/pbx_8c.html#aa42372790072cff15f75c674917115b0">ast_get_context_name</a></div><div class="ttdeci">const char * ast_get_context_name(struct ast_context *con)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l08538">pbx.c:8538</a></div></div>
<div class="ttc" id="structast__context_html_a14868fadcf440d6507b4818f9c9f88e6"><div class="ttname"><a href="../../d6/d7c/structast__context.html#a14868fadcf440d6507b4818f9c9f88e6">ast_context::alts</a></div><div class="ttdeci">struct ast_sws alts</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l00292">pbx.c:292</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2002365371f1915bdfda9ae2c039604b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2002365371f1915bdfda9ae2c039604b">&#9670;&nbsp;</a></span>ast_context_set_autohints()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_context_set_autohints </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d6/d7c/structast__context.html">ast_context</a> *&#160;</td>
          <td class="paramname"><em>con</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>enabled</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enable or disable autohints support on a context. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">con</td><td>pointer to the context </td></tr>
    <tr><td class="paramname">enabled</td><td>whether autohints are enabled </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../db/d94/pbx_8c_source.html#l06272">6272</a> of file <a class="el" href="../../db/d94/pbx_8c_source.html">pbx.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/d94/pbx_8c_source.html#l08095">__ast_context_destroy()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l00295">ast_context::autohints</a>, <a class="el" href="../../d0/d5d/dnsmgr_8c_source.html#l00091">enabled</a>, and <a class="el" href="../../db/d94/pbx_8c_source.html#l00253">ast_exten::registrar</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l01674">pbx_load_config()</a>.</p>
<div class="fragment"><div class="line"><a name="l06273"></a><span class="lineno"> 6273</span>&#160;{</div><div class="line"><a name="l06274"></a><span class="lineno"> 6274</span>&#160;   con-&gt;<a class="code" href="../../d6/d7c/structast__context.html#a8ae14d6cd92b9ecdb2ae540532a83d15">autohints</a> = <a class="code" href="../../d0/d5d/dnsmgr_8c.html#a03e6cca0c879c0443efb431c30c14f76">enabled</a>;</div><div class="line"><a name="l06275"></a><span class="lineno"> 6275</span>&#160;}</div><div class="ttc" id="structast__context_html_a8ae14d6cd92b9ecdb2ae540532a83d15"><div class="ttname"><a href="../../d6/d7c/structast__context.html#a8ae14d6cd92b9ecdb2ae540532a83d15">ast_context::autohints</a></div><div class="ttdeci">int autohints</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l00295">pbx.c:295</a></div></div>
<div class="ttc" id="dnsmgr_8c_html_a03e6cca0c879c0443efb431c30c14f76"><div class="ttname"><a href="../../d0/d5d/dnsmgr_8c.html#a03e6cca0c879c0443efb431c30c14f76">enabled</a></div><div class="ttdeci">static int enabled</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d5d/dnsmgr_8c_source.html#l00091">dnsmgr.c:91</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae8d2df08197cbd68d61419e6968baf27"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae8d2df08197cbd68d61419e6968baf27">&#9670;&nbsp;</a></span>ast_context_switches_count()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_context_switches_count </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d6/d7c/structast__context.html">ast_context</a> *&#160;</td>
          <td class="paramname"><em>con</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/d94/pbx_8c_source.html#l08652">8652</a> of file <a class="el" href="../../db/d94/pbx_8c_source.html">pbx.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/d94/pbx_8c_source.html#l00292">ast_context::alts</a>, and <a class="el" href="../../d6/d68/vector_8h_source.html#l00611">AST_VECTOR_SIZE</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d94/pbx_8c_source.html#l08095">__ast_context_destroy()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l06791">ast_context_add_switch2()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l04920">ast_context_remove_switch2()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08623">ast_walk_context_switches()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l06294">context_merge_incls_swits_igps_other_registrars()</a>, <a class="el" href="../../d0/d85/pval_8c_source.html#l04398">context_used()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00809">handle_cli_dialplan_save()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l05864">manager_show_dialplan_helper()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l02485">pbx_find_extension()</a>, and <a class="el" href="../../db/d94/pbx_8c_source.html#l05516">show_dialplan_helper()</a>.</p>
<div class="fragment"><div class="line"><a name="l08653"></a><span class="lineno"> 8653</span>&#160;{</div><div class="line"><a name="l08654"></a><span class="lineno"> 8654</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d6/d68/vector_8h.html#a20b08af81cc9452fb721c9a698f81bdf">AST_VECTOR_SIZE</a>(&amp;con-&gt;<a class="code" href="../../d6/d7c/structast__context.html#a14868fadcf440d6507b4818f9c9f88e6">alts</a>);</div><div class="line"><a name="l08655"></a><span class="lineno"> 8655</span>&#160;}</div><div class="ttc" id="structast__context_html_a14868fadcf440d6507b4818f9c9f88e6"><div class="ttname"><a href="../../d6/d7c/structast__context.html#a14868fadcf440d6507b4818f9c9f88e6">ast_context::alts</a></div><div class="ttdeci">struct ast_sws alts</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l00292">pbx.c:292</a></div></div>
<div class="ttc" id="vector_8h_html_a20b08af81cc9452fb721c9a698f81bdf"><div class="ttname"><a href="../../d6/d68/vector_8h.html#a20b08af81cc9452fb721c9a698f81bdf">AST_VECTOR_SIZE</a></div><div class="ttdeci">#define AST_VECTOR_SIZE(vec)</div><div class="ttdoc">Get the number of elements in a vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00611">vector.h:611</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a0161005b7a19bc949f2c8ebbf36a46eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0161005b7a19bc949f2c8ebbf36a46eb">&#9670;&nbsp;</a></span>ast_context_switches_get()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const struct <a class="el" href="../../d3/def/structast__sw.html">ast_sw</a>* ast_context_switches_get </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d6/d7c/structast__context.html">ast_context</a> *&#160;</td>
          <td class="paramname"><em>con</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>idx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/d94/pbx_8c_source.html#l08657">8657</a> of file <a class="el" href="../../db/d94/pbx_8c_source.html">pbx.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/d94/pbx_8c_source.html#l00292">ast_context::alts</a>, and <a class="el" href="../../d6/d68/vector_8h_source.html#l00682">AST_VECTOR_GET</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d94/pbx_8c_source.html#l06791">ast_context_add_switch2()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08623">ast_walk_context_switches()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l06294">context_merge_incls_swits_igps_other_registrars()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00809">handle_cli_dialplan_save()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l05864">manager_show_dialplan_helper()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l02485">pbx_find_extension()</a>, and <a class="el" href="../../db/d94/pbx_8c_source.html#l05516">show_dialplan_helper()</a>.</p>
<div class="fragment"><div class="line"><a name="l08658"></a><span class="lineno"> 8658</span>&#160;{</div><div class="line"><a name="l08659"></a><span class="lineno"> 8659</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d6/d68/vector_8h.html#aef32ac52c3e8a530d16eb92cde22cacd">AST_VECTOR_GET</a>(&amp;con-&gt;<a class="code" href="../../d6/d7c/structast__context.html#a14868fadcf440d6507b4818f9c9f88e6">alts</a>, idx);</div><div class="line"><a name="l08660"></a><span class="lineno"> 8660</span>&#160;}</div><div class="ttc" id="vector_8h_html_aef32ac52c3e8a530d16eb92cde22cacd"><div class="ttname"><a href="../../d6/d68/vector_8h.html#aef32ac52c3e8a530d16eb92cde22cacd">AST_VECTOR_GET</a></div><div class="ttdeci">#define AST_VECTOR_GET(vec, idx)</div><div class="ttdoc">Get an element from a vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00682">vector.h:682</a></div></div>
<div class="ttc" id="structast__context_html_a14868fadcf440d6507b4818f9c9f88e6"><div class="ttname"><a href="../../d6/d7c/structast__context.html#a14868fadcf440d6507b4818f9c9f88e6">ast_context::alts</a></div><div class="ttdeci">struct ast_sws alts</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l00292">pbx.c:292</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a0cb6fe63e51dd357d3146a1f1c64bd95"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0cb6fe63e51dd357d3146a1f1c64bd95">&#9670;&nbsp;</a></span>ast_context_unlockmacro()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_context_unlockmacro </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>context</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unlocks the macrolock in the given context. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">macrocontext</td><td>name of the macro-context to unlock</td></tr>
  </table>
  </dd>
</dl>
<p>Unlocks the given macro-context so that another thread (call) can execute it</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>on success </td></tr>
    <tr><td class="paramname">-1</td><td>on failure</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>This function locks contexts list by &amp;conlist, searches for the right context structure, and unlocks the macrolock mutex in that context. macrolock is used to limit a macro to be executed by one call at a time. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">context</td><td>The context </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../db/d94/pbx_8c_source.html#l05184">5184</a> of file <a class="el" href="../../db/d94/pbx_8c_source.html">pbx.c</a>.</p>

<p class="reference">References <a class="el" href="../../dd/d42/lock_8h_source.html#l00188">ast_mutex_unlock</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08512">ast_unlock_contexts()</a>, <a class="el" href="../../d7/d6f/test__linkedlists_8c_source.html#l00048">c</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l04818">find_context_locked()</a>, and <a class="el" href="../../db/d94/pbx_8c_source.html#l00296">ast_context::macrolock</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/d1b/app__macro_8c_source.html#l00236">_macro_exec()</a>.</p>
<div class="fragment"><div class="line"><a name="l05185"></a><span class="lineno"> 5185</span>&#160;{</div><div class="line"><a name="l05186"></a><span class="lineno"> 5186</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d6/d7c/structast__context.html">ast_context</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>;</div><div class="line"><a name="l05187"></a><span class="lineno"> 5187</span>&#160;   <span class="keywordtype">int</span> ret = -1;</div><div class="line"><a name="l05188"></a><span class="lineno"> 5188</span>&#160;</div><div class="line"><a name="l05189"></a><span class="lineno"> 5189</span>&#160;   c = <a class="code" href="../../db/d94/pbx_8c.html#a85edff1fa15717f00123b70af815e10d">find_context_locked</a>(<a class="code" href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a>);</div><div class="line"><a name="l05190"></a><span class="lineno"> 5190</span>&#160;   <span class="keywordflow">if</span> (c) {</div><div class="line"><a name="l05191"></a><span class="lineno"> 5191</span>&#160;      <a class="code" href="../../db/d94/pbx_8c.html#ae517a87b356aec60d5de4591ef94581b">ast_unlock_contexts</a>();</div><div class="line"><a name="l05192"></a><span class="lineno"> 5192</span>&#160;</div><div class="line"><a name="l05193"></a><span class="lineno"> 5193</span>&#160;      <span class="comment">/* if we found context, unlock macrolock */</span></div><div class="line"><a name="l05194"></a><span class="lineno"> 5194</span>&#160;      ret = <a class="code" href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a>(&amp;c-&gt;<a class="code" href="../../d6/d7c/structast__context.html#a34eb63008d294b713376e64bb2a7b2ef">macrolock</a>);</div><div class="line"><a name="l05195"></a><span class="lineno"> 5195</span>&#160;   }</div><div class="line"><a name="l05196"></a><span class="lineno"> 5196</span>&#160;</div><div class="line"><a name="l05197"></a><span class="lineno"> 5197</span>&#160;   <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l05198"></a><span class="lineno"> 5198</span>&#160;}</div><div class="ttc" id="test__linkedlists_8c_html_acd9db00336027462cfb25b97b5356883"><div class="ttname"><a href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a></div><div class="ttdeci">static struct test_val c</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d6f/test__linkedlists_8c_source.html#l00048">test_linkedlists.c:48</a></div></div>
<div class="ttc" id="structast__context_html_a34eb63008d294b713376e64bb2a7b2ef"><div class="ttname"><a href="../../d6/d7c/structast__context.html#a34eb63008d294b713376e64bb2a7b2ef">ast_context::macrolock</a></div><div class="ttdeci">ast_mutex_t macrolock</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l00296">pbx.c:296</a></div></div>
<div class="ttc" id="pbx_8c_html_ae517a87b356aec60d5de4591ef94581b"><div class="ttname"><a href="../../db/d94/pbx_8c.html#ae517a87b356aec60d5de4591ef94581b">ast_unlock_contexts</a></div><div class="ttdeci">int ast_unlock_contexts(void)</div><div class="ttdoc">Unlocks contexts. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l08512">pbx.c:8512</a></div></div>
<div class="ttc" id="pbx_8c_html_a85edff1fa15717f00123b70af815e10d"><div class="ttname"><a href="../../db/d94/pbx_8c.html#a85edff1fa15717f00123b70af815e10d">find_context_locked</a></div><div class="ttdeci">static struct ast_context * find_context_locked(const char *context)</div><div class="ttdoc">lookup for a context with a given name, </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l04818">pbx.c:4818</a></div></div>
<div class="ttc" id="chan__alsa_8c_html_ac25ea00ee3f082df06e0cf468cbde240"><div class="ttname"><a href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a></div><div class="ttdeci">static char context[AST_MAX_CONTEXT]</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d45/chan__alsa_8c_source.html#l00116">chan_alsa.c:116</a></div></div>
<div class="ttc" id="structast__context_html"><div class="ttname"><a href="../../d6/d7c/structast__context.html">ast_context</a></div><div class="ttdoc">ast_context: An extension context - must remain in sync with fake_context </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l00284">pbx.c:284</a></div></div>
<div class="ttc" id="lock_8h_html_a873f9ce8c6287a32d48c83133e124418"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a></div><div class="ttdeci">#define ast_mutex_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00188">lock.h:188</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aca6b16b4b7433a12e65103a2f1ab8028"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aca6b16b4b7433a12e65103a2f1ab8028">&#9670;&nbsp;</a></span>ast_context_verify_includes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_context_verify_includes </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d6/d7c/structast__context.html">ast_context</a> *&#160;</td>
          <td class="paramname"><em>con</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Verifies includes in an ast_contect structure. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">con</td><td>context in which to verify the includes</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>if no problems found </td></tr>
    <tr><td class="paramname">-1</td><td>if there were any missing context </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/dcc/conf2ael_8c_source.html#l00632">632</a> of file <a class="el" href="../../de/dcc/conf2ael_8c_source.html">conf2ael.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/d94/pbx_8c_source.html#l02443">ast_context_find()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08697">ast_context_includes_count()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08702">ast_context_includes_get()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08538">ast_get_context_name()</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../de/dcc/conf2ael_8c_source.html#l00639">ast_merge_contexts_and_delete()</a>, <a class="el" href="../../d6/d0e/pbx__include_8c_source.html#l00055">include_rname()</a>, <a class="el" href="../../d4/dc5/extconf_8c_source.html#l05640">localized_context_verify_includes()</a>, and <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/dcc/conf2ael_8c_source.html#l00625">ast_context_destroy()</a>, and <a class="el" href="../../de/d23/pbx__ael_8c_source.html#l00146">pbx_load_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;{</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;   <span class="keywordflow">return</span>  <a class="code" href="../../dd/ddb/extconf_8h.html#a81b34a671d18effc1ce83d7daf37385c">localized_context_verify_includes</a>(con);</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;}</div><div class="ttc" id="extconf_8h_html_a81b34a671d18effc1ce83d7daf37385c"><div class="ttname"><a href="../../dd/ddb/extconf_8h.html#a81b34a671d18effc1ce83d7daf37385c">localized_context_verify_includes</a></div><div class="ttdeci">int localized_context_verify_includes(struct ast_context *con)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc5/extconf_8c_source.html#l05640">extconf.c:5640</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a4fc414ab788a26c1a756422fc11bdb8d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4fc414ab788a26c1a756422fc11bdb8d">&#9670;&nbsp;</a></span>ast_custom_function_find()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../db/dc0/structast__custom__function.html">ast_custom_function</a> * ast_custom_function_find </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/db7/ael__main_8c_source.html#l00173">173</a> of file <a class="el" href="../../d2/db7/ael__main_8c_source.html">ael_main.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/d70/pbx__functions_8c_source.html#l00240">ast_custom_function_find_nolock()</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00077">AST_RWLIST_RDLOCK</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00150">AST_RWLIST_UNLOCK</a>, <a class="el" href="../../db/d62/app__adsiprog_8c_source.html#l00085">events</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l00239">ast_exten::name</a>, and <a class="el" href="../../d4/d2f/syslog_8c_source.html#l00037">value</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/d85/pval_8c_source.html#l04413">ast_compile_ael2()</a>, <a class="el" href="../../db/d70/pbx__functions_8c_source.html#l00599">ast_func_read()</a>, <a class="el" href="../../db/d70/pbx__functions_8c_source.html#l00642">ast_func_read2()</a>, <a class="el" href="../../db/d70/pbx__functions_8c_source.html#l00692">ast_func_write()</a>, <a class="el" href="../../dd/d55/test__substitution_8c_source.html#l00224">AST_TEST_DEFINE()</a>, <a class="el" href="../../d2/d43/app__chanisavail_8c_source.html#l00102">chanavail_exec()</a>, <a class="el" href="../../dd/dbb/check__expr_8c_source.html#l00165">check_expr()</a>, <a class="el" href="../../de/d36/res__config__curl_8c_source.html#l00515">config_curl()</a>, <a class="el" href="../../de/d36/res__config__curl_8c_source.html#l00415">destroy_curl()</a>, <a class="el" href="../../db/d70/pbx__functions_8c_source.html#l00143">handle_show_function()</a>, <a class="el" href="../../d3/dd1/ast__expr2_8c_source.html#l02798">op_func()</a>, <a class="el" href="../../d2/db7/ael__main_8c_source.html#l00165">pbx_findapp()</a>, <a class="el" href="../../de/d36/res__config__curl_8c_source.html#l00061">realtime_curl()</a>, <a class="el" href="../../de/d36/res__config__curl_8c_source.html#l00132">realtime_multi_curl()</a>, <a class="el" href="../../de/d36/res__config__curl_8c_source.html#l00464">require_curl()</a>, <a class="el" href="../../de/d36/res__config__curl_8c_source.html#l00354">store_curl()</a>, <a class="el" href="../../de/d36/res__config__curl_8c_source.html#l00281">update2_curl()</a>, and <a class="el" href="../../de/d36/res__config__curl_8c_source.html#l00232">update_curl()</a>.</p>
<div class="fragment"><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;{</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;   <span class="keywordflow">return</span> 0; <span class="comment">/* in &quot;standalone&quot; mode, functions are just not avail */</span></div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;}</div></div><!-- fragment -->
</div>
</div>
<a id="a965977ea9a3144bc203e0ce7a64680a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a965977ea9a3144bc203e0ce7a64680a1">&#9670;&nbsp;</a></span>ast_custom_function_unregister()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_custom_function_unregister </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../db/dc0/structast__custom__function.html">ast_custom_function</a> *&#160;</td>
          <td class="paramname"><em>acf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unregister a custom function. </p>

<p class="definition">Definition at line <a class="el" href="../../db/d70/pbx__functions_8c_source.html#l00273">273</a> of file <a class="el" href="../../db/d70/pbx__functions_8c_source.html">pbx_functions.c</a>.</p>

<p class="reference">References <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00884">AST_RWLIST_REMOVE</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00150">AST_RWLIST_UNLOCK</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00051">AST_RWLIST_WRLOCK</a>, <a class="el" href="../../d1/d0f/stringfields_8h_source.html#l00368">ast_string_field_free_memory</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00463">ast_verb</a>, <a class="el" href="../../d1/d99/xmldoc_8h_source.html#l00031">AST_XML_DOC</a>, <a class="el" href="../../db/de0/pbx_8h_source.html#l00127">ast_custom_function::docsrc</a>, and <a class="el" href="../../db/de0/pbx_8h_source.html#l00119">ast_custom_function::name</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/d29/chan__pjsip_8c_source.html#l03304">load_module()</a>, <a class="el" href="../../d4/d10/manager_8c_source.html#l08956">manager_shutdown()</a>, <a class="el" href="../../d0/d6d/message_8c_source.html#l01704">message_shutdown()</a>, <a class="el" href="../../dc/d1d/func__odbc_8c_source.html#l01897">reload()</a>, <a class="el" href="../../de/d71/features__config_8c_source.html#l01976">unload_features_config()</a>, <a class="el" href="../../de/d11/app__agent__pool_8c_source.html#l02624">unload_module()</a>, <a class="el" href="../../d1/db7/parking__bridge__features_8c_source.html#l00795">unload_parking_bridge_features()</a>, and <a class="el" href="../../db/d94/pbx_8c_source.html#l08448">unload_pbx()</a>.</p>
<div class="fragment"><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;{</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../db/dc0/structast__custom__function.html">ast_custom_function</a> *cur;</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;   <span class="keywordflow">if</span> (!acf) {</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;   }</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a2d0cf4182bade9f773fb16ff12abe595">AST_RWLIST_WRLOCK</a>(&amp;<a class="code" href="../../db/d11/structacf__root.html">acf_root</a>);</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;   cur = <a class="code" href="../../df/d90/linkedlists_8h.html#a6091f0518f8b6f443fd9f5150f3ac407">AST_RWLIST_REMOVE</a>(&amp;<a class="code" href="../../db/d11/structacf__root.html">acf_root</a>, acf, acflist);</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;   <span class="keywordflow">if</span> (cur) {</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;<span class="preprocessor">#ifdef AST_XML_DOCS</span></div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;      <span class="keywordflow">if</span> (cur-&gt;<a class="code" href="../../db/dc0/structast__custom__function.html#aa871ca3c361d229d4e37edf3c6016cc1">docsrc</a> == <a class="code" href="../../d1/d99/xmldoc_8h.html#a8717a951656993c40bd851ebf50f58e3a24212840b7b1b0e9c1eebc8cfd89ab3e">AST_XML_DOC</a>) {</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;         <a class="code" href="../../d1/d0f/stringfields_8h.html#abf60f862ae6a141d2f86a0f5e82792de">ast_string_field_free_memory</a>(acf);</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;      }</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(2, <span class="stringliteral">&quot;Unregistered custom function %s\n&quot;</span>, cur-&gt;<a class="code" href="../../db/dc0/structast__custom__function.html#afcd1706c9144e6d6eee6127661ae3be2">name</a>);</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;   }</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a2e9a2518b5029b96671aff6701bd5138">AST_RWLIST_UNLOCK</a>(&amp;<a class="code" href="../../db/d11/structacf__root.html">acf_root</a>);</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;   <span class="keywordflow">return</span> cur ? 0 : -1;</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;}</div><div class="ttc" id="structast__custom__function_html_afcd1706c9144e6d6eee6127661ae3be2"><div class="ttname"><a href="../../db/dc0/structast__custom__function.html#afcd1706c9144e6d6eee6127661ae3be2">ast_custom_function::name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de0/pbx_8h_source.html#l00119">pbx.h:119</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a2d0cf4182bade9f773fb16ff12abe595"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a2d0cf4182bade9f773fb16ff12abe595">AST_RWLIST_WRLOCK</a></div><div class="ttdeci">#define AST_RWLIST_WRLOCK(head)</div><div class="ttdoc">Write locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00051">linkedlists.h:51</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a2e9a2518b5029b96671aff6701bd5138"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a2e9a2518b5029b96671aff6701bd5138">AST_RWLIST_UNLOCK</a></div><div class="ttdeci">#define AST_RWLIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a read/write based list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00150">linkedlists.h:150</a></div></div>
<div class="ttc" id="xmldoc_8h_html_a8717a951656993c40bd851ebf50f58e3a24212840b7b1b0e9c1eebc8cfd89ab3e"><div class="ttname"><a href="../../d1/d99/xmldoc_8h.html#a8717a951656993c40bd851ebf50f58e3a24212840b7b1b0e9c1eebc8cfd89ab3e">AST_XML_DOC</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d99/xmldoc_8h_source.html#l00031">xmldoc.h:31</a></div></div>
<div class="ttc" id="structast__custom__function_html_aa871ca3c361d229d4e37edf3c6016cc1"><div class="ttname"><a href="../../db/dc0/structast__custom__function.html#aa871ca3c361d229d4e37edf3c6016cc1">ast_custom_function::docsrc</a></div><div class="ttdeci">enum ast_doc_src docsrc</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de0/pbx_8h_source.html#l00127">pbx.h:127</a></div></div>
<div class="ttc" id="logger_8h_html_ad770f83c71e237e1f64163358ce4e13d"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a></div><div class="ttdeci">#define ast_verb(level,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00463">logger.h:463</a></div></div>
<div class="ttc" id="structast__custom__function_html"><div class="ttname"><a href="../../db/dc0/structast__custom__function.html">ast_custom_function</a></div><div class="ttdoc">Data structure associated with a custom dialplan function. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/de0/pbx_8h_source.html#l00118">pbx.h:118</a></div></div>
<div class="ttc" id="structacf__root_html"><div class="ttname"><a href="../../db/d11/structacf__root.html">acf_root</a></div><div class="ttdoc">Registered functions container. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d70/pbx__functions_8c_source.html#l00059">pbx_functions.c:59</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a6091f0518f8b6f443fd9f5150f3ac407"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a6091f0518f8b6f443fd9f5150f3ac407">AST_RWLIST_REMOVE</a></div><div class="ttdeci">#define AST_RWLIST_REMOVE</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00884">linkedlists.h:884</a></div></div>
<div class="ttc" id="stringfields_8h_html_abf60f862ae6a141d2f86a0f5e82792de"><div class="ttname"><a href="../../d1/d0f/stringfields_8h.html#abf60f862ae6a141d2f86a0f5e82792de">ast_string_field_free_memory</a></div><div class="ttdeci">#define ast_string_field_free_memory(x)</div><div class="ttdoc">free all memory - to be called before destroying the object </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d0f/stringfields_8h_source.html#l00368">stringfields.h:368</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2bc52adc4f80137db9161ed499f82a00"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2bc52adc4f80137db9161ed499f82a00">&#9670;&nbsp;</a></span>ast_destroy_timing()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_destroy_timing </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dc/d83/structast__timing.html">ast_timing</a> *&#160;</td>
          <td class="paramname"><em>i</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Deallocates memory structures associated with a timing bitmap. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">i</td><td>Pointer to an <a class="el" href="../../dc/d83/structast__timing.html">ast_timing</a> structure. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>success </td></tr>
    <tr><td class="paramname">non-zero</td><td>failure (number suitable to pass to </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd>strerror) </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d0c/pbx__timing_8c_source.html#l00285">285</a> of file <a class="el" href="../../d3/d0c/pbx__timing_8c_source.html">pbx_timing.c</a>.</p>

<p class="reference">References <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../db/de0/pbx_8h_source.html#l00177">ast_timing::timezone</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/dd2/func__logic_8c_source.html#l00132">iftime()</a>, <a class="el" href="../../d6/d0e/pbx__include_8c_source.html#l00106">include_free()</a>, <a class="el" href="../../df/d1d/pbx__builtins_8c_source.html#l00959">pbx_builtin_execiftime()</a>, and <a class="el" href="../../df/d1d/pbx__builtins_8c_source.html#l00905">pbx_builtin_gotoiftime()</a>.</p>
<div class="fragment"><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;{</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;   <span class="keywordflow">if</span> (i-&gt;<a class="code" href="../../dc/d83/structast__timing.html#a6ae97b112891a41b76e46661d55e0572">timezone</a>) {</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(i-&gt;<a class="code" href="../../dc/d83/structast__timing.html#a6ae97b112891a41b76e46661d55e0572">timezone</a>);</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;      i-&gt;<a class="code" href="../../dc/d83/structast__timing.html#a6ae97b112891a41b76e46661d55e0572">timezone</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;   }</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;}</div><div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="structast__timing_html_a6ae97b112891a41b76e46661d55e0572"><div class="ttname"><a href="../../dc/d83/structast__timing.html#a6ae97b112891a41b76e46661d55e0572">ast_timing::timezone</a></div><div class="ttdeci">char * timezone</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de0/pbx_8h_source.html#l00177">pbx.h:177</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3aa0b9f1691104cb6214ba66c5dc3a30"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3aa0b9f1691104cb6214ba66c5dc3a30">&#9670;&nbsp;</a></span>ast_devstate_to_extenstate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../db/de0/pbx_8h.html#a7e545df4a5f38ef25616c7bdf55d625f">ast_extension_states</a> ast_devstate_to_extenstate </td>
          <td>(</td>
          <td class="paramtype">enum <a class="el" href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eee">ast_device_state</a>&#160;</td>
          <td class="paramname"><em>devstate</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Map devstate to an extension state. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">devstate</td><td>device state</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the extension state mapping. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../db/d94/pbx_8c_source.html#l03006">3006</a> of file <a class="el" href="../../db/d94/pbx_8c_source.html">pbx.c</a>.</p>

<p class="reference">References <a class="el" href="../../da/da2/devicestate_8h_source.html#l00056">AST_DEVICE_BUSY</a>, <a class="el" href="../../da/da2/devicestate_8h_source.html#l00055">AST_DEVICE_INUSE</a>, <a class="el" href="../../da/da2/devicestate_8h_source.html#l00057">AST_DEVICE_INVALID</a>, <a class="el" href="../../da/da2/devicestate_8h_source.html#l00054">AST_DEVICE_NOT_INUSE</a>, <a class="el" href="../../da/da2/devicestate_8h_source.html#l00061">AST_DEVICE_ONHOLD</a>, <a class="el" href="../../da/da2/devicestate_8h_source.html#l00059">AST_DEVICE_RINGING</a>, <a class="el" href="../../da/da2/devicestate_8h_source.html#l00060">AST_DEVICE_RINGINUSE</a>, <a class="el" href="../../da/da2/devicestate_8h_source.html#l00062">AST_DEVICE_TOTAL</a>, <a class="el" href="../../da/da2/devicestate_8h_source.html#l00058">AST_DEVICE_UNAVAILABLE</a>, <a class="el" href="../../da/da2/devicestate_8h_source.html#l00053">AST_DEVICE_UNKNOWN</a>, <a class="el" href="../../db/de0/pbx_8h_source.html#l00066">AST_EXTENSION_BUSY</a>, <a class="el" href="../../db/de0/pbx_8h_source.html#l00065">AST_EXTENSION_INUSE</a>, <a class="el" href="../../db/de0/pbx_8h_source.html#l00064">AST_EXTENSION_NOT_INUSE</a>, <a class="el" href="../../db/de0/pbx_8h_source.html#l00069">AST_EXTENSION_ONHOLD</a>, <a class="el" href="../../db/de0/pbx_8h_source.html#l00068">AST_EXTENSION_RINGING</a>, and <a class="el" href="../../db/de0/pbx_8h_source.html#l00067">AST_EXTENSION_UNAVAILABLE</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d94/pbx_8c_source.html#l03081">ast_extension_state3()</a>, <a class="el" href="../../d6/dd1/test__devicestate_8c_source.html#l00312">AST_TEST_DEFINE()</a>, and <a class="el" href="../../db/d94/pbx_8c_source.html#l06076">handle_show_device2extenstate()</a>.</p>
<div class="fragment"><div class="line"><a name="l03007"></a><span class="lineno"> 3007</span>&#160;{</div><div class="line"><a name="l03008"></a><span class="lineno"> 3008</span>&#160;   <span class="keywordflow">switch</span> (devstate) {</div><div class="line"><a name="l03009"></a><span class="lineno"> 3009</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eeea6b7416bea92d3bc5ee8e36f0a484cdc1">AST_DEVICE_ONHOLD</a>:</div><div class="line"><a name="l03010"></a><span class="lineno"> 3010</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../db/de0/pbx_8h.html#a7e545df4a5f38ef25616c7bdf55d625fa83180bb058ded006c01229431fc887f9">AST_EXTENSION_ONHOLD</a>;</div><div class="line"><a name="l03011"></a><span class="lineno"> 3011</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eeeab43afabf5bcd4ad1f531ad78c48ccb6f">AST_DEVICE_BUSY</a>:</div><div class="line"><a name="l03012"></a><span class="lineno"> 3012</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../db/de0/pbx_8h.html#a7e545df4a5f38ef25616c7bdf55d625fad62d357f0ccde2a718c374a0a4af2b98">AST_EXTENSION_BUSY</a>;</div><div class="line"><a name="l03013"></a><span class="lineno"> 3013</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eeea41983b6678528bfcdf919b24d6e08d9a">AST_DEVICE_UNKNOWN</a>:</div><div class="line"><a name="l03014"></a><span class="lineno"> 3014</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../db/de0/pbx_8h.html#a7e545df4a5f38ef25616c7bdf55d625fa435abb1e907b1cee83ec44d2d77866e6">AST_EXTENSION_NOT_INUSE</a>;</div><div class="line"><a name="l03015"></a><span class="lineno"> 3015</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eeeafac147cbabf3ccb80e50e86027710549">AST_DEVICE_UNAVAILABLE</a>:</div><div class="line"><a name="l03016"></a><span class="lineno"> 3016</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eeea9c008e1d20858cbc3275c157e02ebc94">AST_DEVICE_INVALID</a>:</div><div class="line"><a name="l03017"></a><span class="lineno"> 3017</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../db/de0/pbx_8h.html#a7e545df4a5f38ef25616c7bdf55d625fa5820eb407f3a3dbc5046c97ad43ee1f3">AST_EXTENSION_UNAVAILABLE</a>;</div><div class="line"><a name="l03018"></a><span class="lineno"> 3018</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eeea17b87dfa3f4de5909b401017e229091d">AST_DEVICE_RINGINUSE</a>:</div><div class="line"><a name="l03019"></a><span class="lineno"> 3019</span>&#160;      <span class="keywordflow">return</span> (<a class="code" href="../../db/de0/pbx_8h.html#a7e545df4a5f38ef25616c7bdf55d625fa47e9214860b5f9b887945f7cd1baec1a">AST_EXTENSION_INUSE</a> | <a class="code" href="../../db/de0/pbx_8h.html#a7e545df4a5f38ef25616c7bdf55d625fa4063bf4e94e14df04126be6f08cc7bfc">AST_EXTENSION_RINGING</a>);</div><div class="line"><a name="l03020"></a><span class="lineno"> 3020</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eeea76d91d5d654cfa3edafb2afbe3e09b46">AST_DEVICE_RINGING</a>:</div><div class="line"><a name="l03021"></a><span class="lineno"> 3021</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../db/de0/pbx_8h.html#a7e545df4a5f38ef25616c7bdf55d625fa4063bf4e94e14df04126be6f08cc7bfc">AST_EXTENSION_RINGING</a>;</div><div class="line"><a name="l03022"></a><span class="lineno"> 3022</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eeea23aa227468c09b5ebd0fb01b4c895190">AST_DEVICE_INUSE</a>:</div><div class="line"><a name="l03023"></a><span class="lineno"> 3023</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../db/de0/pbx_8h.html#a7e545df4a5f38ef25616c7bdf55d625fa47e9214860b5f9b887945f7cd1baec1a">AST_EXTENSION_INUSE</a>;</div><div class="line"><a name="l03024"></a><span class="lineno"> 3024</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eeeadee91fc4886ffc7b4efb8459cef48fe2">AST_DEVICE_NOT_INUSE</a>:</div><div class="line"><a name="l03025"></a><span class="lineno"> 3025</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../db/de0/pbx_8h.html#a7e545df4a5f38ef25616c7bdf55d625fa435abb1e907b1cee83ec44d2d77866e6">AST_EXTENSION_NOT_INUSE</a>;</div><div class="line"><a name="l03026"></a><span class="lineno"> 3026</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eeeaf790c1f212837af8d2db5193228102d7">AST_DEVICE_TOTAL</a>: <span class="comment">/* not a device state, included for completeness */</span></div><div class="line"><a name="l03027"></a><span class="lineno"> 3027</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l03028"></a><span class="lineno"> 3028</span>&#160;   }</div><div class="line"><a name="l03029"></a><span class="lineno"> 3029</span>&#160;</div><div class="line"><a name="l03030"></a><span class="lineno"> 3030</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../db/de0/pbx_8h.html#a7e545df4a5f38ef25616c7bdf55d625fa435abb1e907b1cee83ec44d2d77866e6">AST_EXTENSION_NOT_INUSE</a>;</div><div class="line"><a name="l03031"></a><span class="lineno"> 3031</span>&#160;}</div><div class="ttc" id="devicestate_8h_html_af72f8a5c0601e4c1f8a852749cd44eeea6b7416bea92d3bc5ee8e36f0a484cdc1"><div class="ttname"><a href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eeea6b7416bea92d3bc5ee8e36f0a484cdc1">AST_DEVICE_ONHOLD</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/da2/devicestate_8h_source.html#l00061">devicestate.h:61</a></div></div>
<div class="ttc" id="pbx_8h_html_a7e545df4a5f38ef25616c7bdf55d625fa5820eb407f3a3dbc5046c97ad43ee1f3"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a7e545df4a5f38ef25616c7bdf55d625fa5820eb407f3a3dbc5046c97ad43ee1f3">AST_EXTENSION_UNAVAILABLE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/de0/pbx_8h_source.html#l00067">pbx.h:67</a></div></div>
<div class="ttc" id="devicestate_8h_html_af72f8a5c0601e4c1f8a852749cd44eeeafac147cbabf3ccb80e50e86027710549"><div class="ttname"><a href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eeeafac147cbabf3ccb80e50e86027710549">AST_DEVICE_UNAVAILABLE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/da2/devicestate_8h_source.html#l00058">devicestate.h:58</a></div></div>
<div class="ttc" id="devicestate_8h_html_af72f8a5c0601e4c1f8a852749cd44eeeaf790c1f212837af8d2db5193228102d7"><div class="ttname"><a href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eeeaf790c1f212837af8d2db5193228102d7">AST_DEVICE_TOTAL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/da2/devicestate_8h_source.html#l00062">devicestate.h:62</a></div></div>
<div class="ttc" id="pbx_8h_html_a7e545df4a5f38ef25616c7bdf55d625fa83180bb058ded006c01229431fc887f9"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a7e545df4a5f38ef25616c7bdf55d625fa83180bb058ded006c01229431fc887f9">AST_EXTENSION_ONHOLD</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/de0/pbx_8h_source.html#l00069">pbx.h:69</a></div></div>
<div class="ttc" id="devicestate_8h_html_af72f8a5c0601e4c1f8a852749cd44eeea17b87dfa3f4de5909b401017e229091d"><div class="ttname"><a href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eeea17b87dfa3f4de5909b401017e229091d">AST_DEVICE_RINGINUSE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/da2/devicestate_8h_source.html#l00060">devicestate.h:60</a></div></div>
<div class="ttc" id="devicestate_8h_html_af72f8a5c0601e4c1f8a852749cd44eeea41983b6678528bfcdf919b24d6e08d9a"><div class="ttname"><a href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eeea41983b6678528bfcdf919b24d6e08d9a">AST_DEVICE_UNKNOWN</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/da2/devicestate_8h_source.html#l00053">devicestate.h:53</a></div></div>
<div class="ttc" id="pbx_8h_html_a7e545df4a5f38ef25616c7bdf55d625fa4063bf4e94e14df04126be6f08cc7bfc"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a7e545df4a5f38ef25616c7bdf55d625fa4063bf4e94e14df04126be6f08cc7bfc">AST_EXTENSION_RINGING</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/de0/pbx_8h_source.html#l00068">pbx.h:68</a></div></div>
<div class="ttc" id="devicestate_8h_html_af72f8a5c0601e4c1f8a852749cd44eeeadee91fc4886ffc7b4efb8459cef48fe2"><div class="ttname"><a href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eeeadee91fc4886ffc7b4efb8459cef48fe2">AST_DEVICE_NOT_INUSE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/da2/devicestate_8h_source.html#l00054">devicestate.h:54</a></div></div>
<div class="ttc" id="devicestate_8h_html_af72f8a5c0601e4c1f8a852749cd44eeeab43afabf5bcd4ad1f531ad78c48ccb6f"><div class="ttname"><a href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eeeab43afabf5bcd4ad1f531ad78c48ccb6f">AST_DEVICE_BUSY</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/da2/devicestate_8h_source.html#l00056">devicestate.h:56</a></div></div>
<div class="ttc" id="devicestate_8h_html_af72f8a5c0601e4c1f8a852749cd44eeea23aa227468c09b5ebd0fb01b4c895190"><div class="ttname"><a href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eeea23aa227468c09b5ebd0fb01b4c895190">AST_DEVICE_INUSE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/da2/devicestate_8h_source.html#l00055">devicestate.h:55</a></div></div>
<div class="ttc" id="pbx_8h_html_a7e545df4a5f38ef25616c7bdf55d625fa435abb1e907b1cee83ec44d2d77866e6"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a7e545df4a5f38ef25616c7bdf55d625fa435abb1e907b1cee83ec44d2d77866e6">AST_EXTENSION_NOT_INUSE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/de0/pbx_8h_source.html#l00064">pbx.h:64</a></div></div>
<div class="ttc" id="devicestate_8h_html_af72f8a5c0601e4c1f8a852749cd44eeea76d91d5d654cfa3edafb2afbe3e09b46"><div class="ttname"><a href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eeea76d91d5d654cfa3edafb2afbe3e09b46">AST_DEVICE_RINGING</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/da2/devicestate_8h_source.html#l00059">devicestate.h:59</a></div></div>
<div class="ttc" id="pbx_8h_html_a7e545df4a5f38ef25616c7bdf55d625fad62d357f0ccde2a718c374a0a4af2b98"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a7e545df4a5f38ef25616c7bdf55d625fad62d357f0ccde2a718c374a0a4af2b98">AST_EXTENSION_BUSY</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/de0/pbx_8h_source.html#l00066">pbx.h:66</a></div></div>
<div class="ttc" id="devicestate_8h_html_af72f8a5c0601e4c1f8a852749cd44eeea9c008e1d20858cbc3275c157e02ebc94"><div class="ttname"><a href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eeea9c008e1d20858cbc3275c157e02ebc94">AST_DEVICE_INVALID</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/da2/devicestate_8h_source.html#l00057">devicestate.h:57</a></div></div>
<div class="ttc" id="pbx_8h_html_a7e545df4a5f38ef25616c7bdf55d625fa47e9214860b5f9b887945f7cd1baec1a"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a7e545df4a5f38ef25616c7bdf55d625fa47e9214860b5f9b887945f7cd1baec1a">AST_EXTENSION_INUSE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/de0/pbx_8h_source.html#l00065">pbx.h:65</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a64a5b8fdc919806135ad427aca9e71b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a64a5b8fdc919806135ad427aca9e71b7">&#9670;&nbsp;</a></span>ast_exists_extension()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_exists_extension </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>exten</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>priority</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>callerid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determine whether an extension exists. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">c</td><td>this is not important </td></tr>
    <tr><td class="paramname">context</td><td>which context to look in </td></tr>
    <tr><td class="paramname">exten</td><td>which extension to search for </td></tr>
    <tr><td class="paramname">priority</td><td>priority of the action within the extension </td></tr>
    <tr><td class="paramname">callerid</td><td>callerid to search for</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>It is possible for autoservice to be started and stopped on c during this function call, it is important that c is not locked prior to calling this. Otherwise a deadlock may occur</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>If an extension within the given context(or callerid) with the given priority is found a non zero value will be returned. Otherwise, 0 is returned. </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="../../d4/dca/_2usr_2src_2asterisk-18_85_80_2main_2app_8c-example.html#a50">/usr/src/asterisk-18.5.0/main/app.c</a>.</dd>
</dl>
<p class="definition">Definition at line <a class="el" href="../../db/d94/pbx_8c_source.html#l04179">4179</a> of file <a class="el" href="../../db/d94/pbx_8c_source.html">pbx.c</a>.</p>

<p class="reference">References <a class="el" href="../../dd/ddb/extconf_8h_source.html#l00218">E_MATCH</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../db/d94/pbx_8c_source.html#l02875">pbx_extension_helper()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/d09/sig__analog_8c_source.html#l01711">__analog_ss_thread()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08772">__ast_goto_if_exists()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l04310">__ast_pbx_run()</a>, <a class="el" href="../../d0/d1b/app__macro_8c_source.html#l00236">_macro_exec()</a>, <a class="el" href="../../dc/d3c/func__dialplan_8c_source.html#l00128">acf_isexten_exec()</a>, <a class="el" href="../../d4/d10/manager_8c_source.html#l05723">action_originate()</a>, <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l01296">add_to_regcontext()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l09512">analog_ss_thread()</a>, <a class="el" href="../../d3/d83/main_2app_8c_source.html#l00139">ast_app_dtget()</a>, <a class="el" href="../../df/db6/bridge__after_8c_source.html#l00447">ast_bridge_setup_after_goto()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l07961">ast_pbx_outgoing_exten_predial()</a>, <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l01329">ast_sip_persistent_endpoint_update_state()</a>, <a class="el" href="../../d7/d9b/chan__misdn_8c_source.html#l09917">cb_events()</a>, <a class="el" href="../../d0/d29/chan__pjsip_8c_source.html#l00765">chan_pjsip_cng_tone_detected()</a>, <a class="el" href="../../d3/d4e/chan__console_8c_source.html#l00802">cli_console_dial()</a>, <a class="el" href="../../db/d81/parking__controller_8c_source.html#l00261">comeback_goto()</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l03177">conf_run()</a>, <a class="el" href="../../da/d45/chan__alsa_8c_source.html#l00813">console_dial()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l07231">dahdi_handle_dtmf()</a>, <a class="el" href="../../d9/d12/app__dial_8c_source.html#l02254">dial_exec_full()</a>, <a class="el" href="../../d0/d6d/message_8c_source.html#l00883">dialplan_has_destination_cb()</a>, <a class="el" href="../../d4/d7e/app__disa_8c_source.html#l00146">disa_exec()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l09538">dp_lookup()</a>, <a class="el" href="../../d1/dc0/pbx__dundi_8c_source.html#l00578">dundi_lookup_local()</a>, <a class="el" href="../../d0/d60/res__fax_8c_source.html#l03745">fax_detect_framehook()</a>, <a class="el" href="../../dd/d55/app__followme_8c_source.html#l01033">findmeexec()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l19043">get_also_info()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l18508">get_destination()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l18812">get_refer_info()</a>, <a class="el" href="../../d1/d71/app__stack_8c_source.html#l00516">gosub_exec()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l03537">handle_clear_alarms()</a>, <a class="el" href="../../d1/d71/app__stack_8c_source.html#l01118">handle_gosub()</a>, <a class="el" href="../../dc/d3c/func__dialplan_8c_source.html#l00073">isexten_function_read()</a>, <a class="el" href="../../de/da4/chan__motif_8c_source.html#l00768">jingle_new()</a>, <a class="el" href="../../d0/dcf/app__confbridge_8c_source.html#l01679">join_conference_bridge()</a>, <a class="el" href="../../d1/d6d/chan__unistim_8c_source.html#l03561">key_dial_page()</a>, <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l06601">leave_voicemail()</a>, <a class="el" href="../../de/d47/core__local_8c_source.html#l00677">local_call()</a>, <a class="el" href="../../de/d47/core__local_8c_source.html#l00308">local_devicestate()</a>, <a class="el" href="../../d8/d48/pbx__loopback_8c_source.html#l00130">loopback_exists()</a>, <a class="el" href="../../d0/dd6/chan__mgcp_8c_source.html#l03000">mgcp_ss()</a>, <a class="el" href="../../de/dfe/app__minivm_8c_source.html#l02268">minivm_greet_exec()</a>, <a class="el" href="../../d7/d9b/chan__misdn_8c_source.html#l03628">misdn_overlap_dial_task()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l01648">my_handle_dtmf()</a>, <a class="el" href="../../d2/d3d/res__pjsip__exten__state_8c_source.html#l00412">new_subscribe()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l05076">onModeChanged()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l04978">ooh323_rtp_read()</a>, <a class="el" href="../../df/dda/pjsip__options_8c_source.html#l00268">options_on_rx_request()</a>, <a class="el" href="../../df/d1d/pbx__builtins_8c_source.html#l01068">pbx_builtin_waitexten()</a>, <a class="el" href="../../da/dde/chan__phone_8c_source.html#l00936">phone_check_exception()</a>, <a class="el" href="../../d7/d17/app__privacy_8c_source.html#l00087">privacy_exec()</a>, <a class="el" href="../../d7/d9b/chan__misdn_8c_source.html#l07318">process_ast_dsp()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l10253">process_sdp()</a>, <a class="el" href="../../d2/de3/app__readexten_8c_source.html#l00119">readexten_exec()</a>, <a class="el" href="../../d1/d75/res__pjsip__refer_8c_source.html#l00789">refer_incoming_attended_request()</a>, <a class="el" href="../../d1/d75/res__pjsip__refer_8c_source.html#l00886">refer_incoming_blind_request()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l08860">register_peer_exten()</a>, <a class="el" href="../../d0/d80/chan__skinny_8c_source.html#l05560">setsubstate()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l05677">show_debug_helper()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l08161">sip_new()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l08742">sip_read()</a>, <a class="el" href="../../d0/d80/chan__skinny_8c_source.html#l04858">skinny_dialer()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l10083">socket_process_helper()</a>, <a class="el" href="../../da/dfb/app__queue_8c_source.html#l06722">try_calling()</a>, <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l11226">vm_authenticate()</a>, and <a class="el" href="../../d6/d13/file_8c_source.html#l01551">waitstream_core()</a>.</p>
<div class="fragment"><div class="line"><a name="l04180"></a><span class="lineno"> 4180</span>&#160;{</div><div class="line"><a name="l04181"></a><span class="lineno"> 4181</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../db/d94/pbx_8c.html#ae381d99bea85b43f022470b64171018d">pbx_extension_helper</a>(c, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a>, <a class="code" href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>, <a class="code" href="../../d9/d47/cdr__beanstalkd_8c.html#acec9ce2df15222151ad66fcb1d74eb9f">priority</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, callerid, <a class="code" href="../../dd/ddb/extconf_8h.html#a2b7f0fafc6995b2630658a4fd8df26bea2e605157e82dec388ffc89c1694fb7be">E_MATCH</a>, 0, 0);</div><div class="line"><a name="l04182"></a><span class="lineno"> 4182</span>&#160;}</div><div class="ttc" id="chan__alsa_8c_html_a78d4847658b695383d849efd12399b38"><div class="ttname"><a href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a></div><div class="ttdeci">static char exten[AST_MAX_EXTENSION]</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d45/chan__alsa_8c_source.html#l00118">chan_alsa.c:118</a></div></div>
<div class="ttc" id="extconf_8h_html_a2b7f0fafc6995b2630658a4fd8df26bea2e605157e82dec388ffc89c1694fb7be"><div class="ttname"><a href="../../dd/ddb/extconf_8h.html#a2b7f0fafc6995b2630658a4fd8df26bea2e605157e82dec388ffc89c1694fb7be">E_MATCH</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/ddb/extconf_8h_source.html#l00218">extconf.h:218</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="cdr__beanstalkd_8c_html_acec9ce2df15222151ad66fcb1d74eb9f"><div class="ttname"><a href="../../d9/d47/cdr__beanstalkd_8c.html#acec9ce2df15222151ad66fcb1d74eb9f">priority</a></div><div class="ttdeci">static int priority</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d47/cdr__beanstalkd_8c_source.html#l00076">cdr_beanstalkd.c:76</a></div></div>
<div class="ttc" id="chan__alsa_8c_html_ac25ea00ee3f082df06e0cf468cbde240"><div class="ttname"><a href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a></div><div class="ttdeci">static char context[AST_MAX_CONTEXT]</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d45/chan__alsa_8c_source.html#l00116">chan_alsa.c:116</a></div></div>
<div class="ttc" id="pbx_8c_html_ae381d99bea85b43f022470b64171018d"><div class="ttname"><a href="../../db/d94/pbx_8c.html#ae381d99bea85b43f022470b64171018d">pbx_extension_helper</a></div><div class="ttdeci">static int pbx_extension_helper(struct ast_channel *c, struct ast_context *con, const char *context, const char *exten, int priority, const char *label, const char *callerid, enum ext_match_t action, int *found, int combined_find_spawn)</div><div class="ttdoc">The return value depends on the action: </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l02875">pbx.c:2875</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a9f840db4b5ef461ac2c0c975a57c9e89"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f840db4b5ef461ac2c0c975a57c9e89">&#9670;&nbsp;</a></span>ast_explicit_goto()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_explicit_goto </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>exten</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>priority</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section note"><dt>Note</dt><dd>This function will handle locking the channel as needed. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../db/d94/pbx_8c_source.html#l06987">6987</a> of file <a class="el" href="../../db/d94/pbx_8c_source.html">pbx.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00348">ast_channel_context_set()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00357">ast_channel_exten_set()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l01260">ast_channel_flags()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02945">ast_channel_lock</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00448">ast_channel_priority_set()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l00998">AST_FLAG_IN_AUTOLOOP</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00063">ast_test_flag</a>, and <a class="el" href="../../db/d94/pbx_8c_source.html#l00243">ast_exten::priority</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d94/pbx_8c_source.html#l08772">__ast_goto_if_exists()</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00368">app_control_continue()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l07011">ast_async_goto()</a>, <a class="el" href="../../df/db6/bridge__after_8c_source.html#l00447">ast_bridge_setup_after_goto()</a>, <a class="el" href="../../d4/d7e/app__disa_8c_source.html#l00146">disa_exec()</a>, <a class="el" href="../../dd/de9/res__agi_8c_source.html#l02880">handle_setpriority()</a>, <a class="el" href="../../d0/d6d/message_8c_source.html#l00756">msg_route()</a>, and <a class="el" href="../../db/d94/pbx_8c_source.html#l08803">pbx_parseable_goto()</a>.</p>
<div class="fragment"><div class="line"><a name="l06988"></a><span class="lineno"> 6988</span>&#160;{</div><div class="line"><a name="l06989"></a><span class="lineno"> 6989</span>&#160;   <span class="keywordflow">if</span> (!chan)</div><div class="line"><a name="l06990"></a><span class="lineno"> 6990</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l06991"></a><span class="lineno"> 6991</span>&#160;</div><div class="line"><a name="l06992"></a><span class="lineno"> 6992</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(chan);</div><div class="line"><a name="l06993"></a><span class="lineno"> 6993</span>&#160;</div><div class="line"><a name="l06994"></a><span class="lineno"> 6994</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(<a class="code" href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a>))</div><div class="line"><a name="l06995"></a><span class="lineno"> 6995</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#aca211972dac7b8f3f08a283bfe0aa8bf">ast_channel_context_set</a>(chan, <a class="code" href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a>);</div><div class="line"><a name="l06996"></a><span class="lineno"> 6996</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(<a class="code" href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>))</div><div class="line"><a name="l06997"></a><span class="lineno"> 6997</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#a018b7a29cef2d62074dc46e9aaad0d1a">ast_channel_exten_set</a>(chan, <a class="code" href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>);</div><div class="line"><a name="l06998"></a><span class="lineno"> 6998</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d9/d47/cdr__beanstalkd_8c.html#acec9ce2df15222151ad66fcb1d74eb9f">priority</a> &gt; -1) {</div><div class="line"><a name="l06999"></a><span class="lineno"> 6999</span>&#160;      <span class="comment">/* see flag description in channel.h for explanation */</span></div><div class="line"><a name="l07000"></a><span class="lineno"> 7000</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a91de92158876186d28ba1773877f2732">ast_channel_flags</a>(chan), <a class="code" href="../../d5/d7b/channel_8h.html#a82f2c6e4d47f62f6b65c5887eb096fd5a5ff4f7a94a36fcc2b8628186cb643d4b">AST_FLAG_IN_AUTOLOOP</a>)) {</div><div class="line"><a name="l07001"></a><span class="lineno"> 7001</span>&#160;         --<a class="code" href="../../d9/d47/cdr__beanstalkd_8c.html#acec9ce2df15222151ad66fcb1d74eb9f">priority</a>;</div><div class="line"><a name="l07002"></a><span class="lineno"> 7002</span>&#160;      }</div><div class="line"><a name="l07003"></a><span class="lineno"> 7003</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#ae56cab679c0cda6436b930bc74297895">ast_channel_priority_set</a>(chan, <a class="code" href="../../d9/d47/cdr__beanstalkd_8c.html#acec9ce2df15222151ad66fcb1d74eb9f">priority</a>);</div><div class="line"><a name="l07004"></a><span class="lineno"> 7004</span>&#160;   }</div><div class="line"><a name="l07005"></a><span class="lineno"> 7005</span>&#160;</div><div class="line"><a name="l07006"></a><span class="lineno"> 7006</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l07007"></a><span class="lineno"> 7007</span>&#160;</div><div class="line"><a name="l07008"></a><span class="lineno"> 7008</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l07009"></a><span class="lineno"> 7009</span>&#160;}</div><div class="ttc" id="channel_8h_html_a493bdebe876caafb8ee535853310364a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a></div><div class="ttdeci">#define ast_channel_lock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02945">channel.h:2945</a></div></div>
<div class="ttc" id="chan__alsa_8c_html_a78d4847658b695383d849efd12399b38"><div class="ttname"><a href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a></div><div class="ttdeci">static char exten[AST_MAX_EXTENSION]</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d45/chan__alsa_8c_source.html#l00118">chan_alsa.c:118</a></div></div>
<div class="ttc" id="utils_8h_html_a00d4c9254c9827d6fa44f17a326744a5"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a></div><div class="ttdeci">#define ast_test_flag(p, flag)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00063">utils.h:63</a></div></div>
<div class="ttc" id="cdr__beanstalkd_8c_html_acec9ce2df15222151ad66fcb1d74eb9f"><div class="ttname"><a href="../../d9/d47/cdr__beanstalkd_8c.html#acec9ce2df15222151ad66fcb1d74eb9f">priority</a></div><div class="ttdeci">static int priority</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d47/cdr__beanstalkd_8c_source.html#l00076">cdr_beanstalkd.c:76</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="channel_8h_html_a82f2c6e4d47f62f6b65c5887eb096fd5a5ff4f7a94a36fcc2b8628186cb643d4b"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a82f2c6e4d47f62f6b65c5887eb096fd5a5ff4f7a94a36fcc2b8628186cb643d4b">AST_FLAG_IN_AUTOLOOP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l00998">channel.h:998</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="channel_8h_html_a018b7a29cef2d62074dc46e9aaad0d1a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a018b7a29cef2d62074dc46e9aaad0d1a">ast_channel_exten_set</a></div><div class="ttdeci">void ast_channel_exten_set(struct ast_channel *chan, const char *value)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00357">channel_internal_api.c:357</a></div></div>
<div class="ttc" id="channel_8h_html_aca211972dac7b8f3f08a283bfe0aa8bf"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#aca211972dac7b8f3f08a283bfe0aa8bf">ast_channel_context_set</a></div><div class="ttdeci">void ast_channel_context_set(struct ast_channel *chan, const char *value)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00348">channel_internal_api.c:348</a></div></div>
<div class="ttc" id="chan__alsa_8c_html_ac25ea00ee3f082df06e0cf468cbde240"><div class="ttname"><a href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a></div><div class="ttdeci">static char context[AST_MAX_CONTEXT]</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d45/chan__alsa_8c_source.html#l00116">chan_alsa.c:116</a></div></div>
<div class="ttc" id="channel_8h_html_a91de92158876186d28ba1773877f2732"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a91de92158876186d28ba1773877f2732">ast_channel_flags</a></div><div class="ttdeci">struct ast_flags * ast_channel_flags(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l01260">channel_internal_api.c:1260</a></div></div>
<div class="ttc" id="channel_8h_html_ae56cab679c0cda6436b930bc74297895"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#ae56cab679c0cda6436b930bc74297895">ast_channel_priority_set</a></div><div class="ttdeci">void ast_channel_priority_set(struct ast_channel *chan, int value)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00448">channel_internal_api.c:448</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a83192a0099558f6a539fdb4e065ff99d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a83192a0099558f6a539fdb4e065ff99d">&#9670;&nbsp;</a></span>ast_extension_close()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_extension_close </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>pattern</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>needmore</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/d94/pbx_8c_source.html#l02418">2418</a> of file <a class="el" href="../../db/d94/pbx_8c_source.html">pbx.c</a>.</p>

<p class="reference">References <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../dd/ddb/extconf_8h_source.html#l00217">E_CANMATCH</a>, <a class="el" href="../../dd/ddb/extconf_8h_source.html#l00216">E_MATCHMORE</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l02400">extension_match_core()</a>, and <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/dde/pbx__lua_8c_source.html#l01493">lua_find_extension()</a>, and <a class="el" href="../../d2/d2c/pbx__realtime_8c_source.html#l00166">realtime_switch_common()</a>.</p>
<div class="fragment"><div class="line"><a name="l02419"></a><span class="lineno"> 2419</span>&#160;{</div><div class="line"><a name="l02420"></a><span class="lineno"> 2420</span>&#160;   <span class="keywordflow">if</span> (needmore != <a class="code" href="../../dd/ddb/extconf_8h.html#a2b7f0fafc6995b2630658a4fd8df26bea7e20dcb277877b81e8099470cd631277">E_MATCHMORE</a> &amp;&amp; needmore != <a class="code" href="../../dd/ddb/extconf_8h.html#a2b7f0fafc6995b2630658a4fd8df26bea413c09377a892aa154e7669cbdaf27ba">E_CANMATCH</a>)</div><div class="line"><a name="l02421"></a><span class="lineno"> 2421</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;invalid argument %d\n&quot;</span>, needmore);</div><div class="line"><a name="l02422"></a><span class="lineno"> 2422</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../db/d94/pbx_8c.html#aef34845bd9203c43797706dc4edc05d7">extension_match_core</a>(pattern, data, needmore);</div><div class="line"><a name="l02423"></a><span class="lineno"> 2423</span>&#160;}</div><div class="ttc" id="extconf_8h_html_a2b7f0fafc6995b2630658a4fd8df26bea7e20dcb277877b81e8099470cd631277"><div class="ttname"><a href="../../dd/ddb/extconf_8h.html#a2b7f0fafc6995b2630658a4fd8df26bea7e20dcb277877b81e8099470cd631277">E_MATCHMORE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/ddb/extconf_8h_source.html#l00216">extconf.h:216</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="extconf_8h_html_a2b7f0fafc6995b2630658a4fd8df26bea413c09377a892aa154e7669cbdaf27ba"><div class="ttname"><a href="../../dd/ddb/extconf_8h.html#a2b7f0fafc6995b2630658a4fd8df26bea413c09377a892aa154e7669cbdaf27ba">E_CANMATCH</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/ddb/extconf_8h_source.html#l00217">extconf.h:217</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="pbx_8c_html_aef34845bd9203c43797706dc4edc05d7"><div class="ttname"><a href="../../db/d94/pbx_8c.html#aef34845bd9203c43797706dc4edc05d7">extension_match_core</a></div><div class="ttdeci">static int extension_match_core(const char *pattern, const char *data, enum ext_match_t mode)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l02400">pbx.c:2400</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa9130cb982e3e236c465136e0637cfaa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa9130cb982e3e236c465136e0637cfaa">&#9670;&nbsp;</a></span>ast_extension_cmp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_extension_cmp </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determine if one extension should match before another. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">a</td><td>extension to compare with b </td></tr>
    <tr><td class="paramname">b</td><td>extension to compare with a</td></tr>
  </table>
  </dd>
</dl>
<p>Checks whether or extension a should match before extension b</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>if the two extensions have equal matching priority </td></tr>
    <tr><td class="paramname">1</td><td>on a &gt; b </td></tr>
    <tr><td class="paramname">-1</td><td>on a &lt; b </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../db/d94/pbx_8c_source.html#l02183">2183</a> of file <a class="el" href="../../db/d94/pbx_8c_source.html">pbx.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/d94/pbx_8c_source.html#l02126">ext_cmp()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/dde/pbx__lua_8c_source.html#l01067">lua_extension_cmp()</a>.</p>
<div class="fragment"><div class="line"><a name="l02184"></a><span class="lineno"> 2184</span>&#160;{</div><div class="line"><a name="l02185"></a><span class="lineno"> 2185</span>&#160;   <span class="keywordtype">int</span> cmp;</div><div class="line"><a name="l02186"></a><span class="lineno"> 2186</span>&#160;</div><div class="line"><a name="l02187"></a><span class="lineno"> 2187</span>&#160;   cmp = <a class="code" href="../../db/d94/pbx_8c.html#a31755abf9f213cb9559b909f71b85124">ext_cmp</a>(<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a>, <a class="code" href="../../d7/d6f/test__linkedlists_8c.html#a025ede890af287961d3a98d0e634a62b">b</a>);</div><div class="line"><a name="l02188"></a><span class="lineno"> 2188</span>&#160;   <span class="keywordflow">if</span> (cmp &lt; 0) {</div><div class="line"><a name="l02189"></a><span class="lineno"> 2189</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l02190"></a><span class="lineno"> 2190</span>&#160;   }</div><div class="line"><a name="l02191"></a><span class="lineno"> 2191</span>&#160;   <span class="keywordflow">if</span> (cmp &gt; 0) {</div><div class="line"><a name="l02192"></a><span class="lineno"> 2192</span>&#160;      <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l02193"></a><span class="lineno"> 2193</span>&#160;   }</div><div class="line"><a name="l02194"></a><span class="lineno"> 2194</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02195"></a><span class="lineno"> 2195</span>&#160;}</div><div class="ttc" id="pbx_8c_html_a31755abf9f213cb9559b909f71b85124"><div class="ttname"><a href="../../db/d94/pbx_8c.html#a31755abf9f213cb9559b909f71b85124">ext_cmp</a></div><div class="ttdeci">static int ext_cmp(const char *left, const char *right)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l02126">pbx.c:2126</a></div></div>
<div class="ttc" id="test__linkedlists_8c_html_a025ede890af287961d3a98d0e634a62b"><div class="ttname"><a href="../../d7/d6f/test__linkedlists_8c.html#a025ede890af287961d3a98d0e634a62b">b</a></div><div class="ttdeci">static struct test_val b</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d6f/test__linkedlists_8c_source.html#l00047">test_linkedlists.c:47</a></div></div>
<div class="ttc" id="test__linkedlists_8c_html_a13dd15487fee89a002d17ef3aff62d02"><div class="ttname"><a href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a></div><div class="ttdeci">static struct test_val a</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d6f/test__linkedlists_8c_source.html#l00046">test_linkedlists.c:46</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa0e4fd3343c8c7ee979a6a44d2113495"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa0e4fd3343c8c7ee979a6a44d2113495">&#9670;&nbsp;</a></span>ast_extension_match()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int ast_extension_match </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>pattern</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>extension</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determine if a given extension matches a given pattern (in NXX format) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pattern</td><td>pattern to match </td></tr>
    <tr><td class="paramname">extension</td><td>extension to check against the pattern.</td></tr>
  </table>
  </dd>
</dl>
<p>Checks whether or not the given extension matches the given pattern.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">1</td><td>on match </td></tr>
    <tr><td class="paramname">0</td><td>on failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d4/dc5/extconf_8c_source.html#l04297">4297</a> of file <a class="el" href="../../d4/dc5/extconf_8c_source.html">extconf.c</a>.</p>

<p class="reference">References <a class="el" href="../../dd/ddb/extconf_8h_source.html#l00218">E_MATCH</a>, and <a class="el" href="../../db/d94/pbx_8c_source.html#l02400">extension_match_core()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d94/pbx_8c_source.html#l06921">ast_ignore_pattern()</a>, <a class="el" href="../../d7/d1b/app__playback_8c_source.html#l00173">do_say()</a>, <a class="el" href="../../d1/d02/app__if_8c_source.html#l00097">find_matching_priority()</a>, <a class="el" href="../../d7/d1b/app__playback_8c_source.html#l00558">load_module()</a>, <a class="el" href="../../d8/d48/pbx__loopback_8c_source.html#l00140">loopback_canmatch()</a>, <a class="el" href="../../d8/d48/pbx__loopback_8c_source.html#l00130">loopback_exists()</a>, <a class="el" href="../../d8/d48/pbx__loopback_8c_source.html#l00158">loopback_matchmore()</a>, <a class="el" href="../../d6/dde/pbx__lua_8c_source.html#l01493">lua_find_extension()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l05864">manager_show_dialplan_helper()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l02473">matchcid()</a>, <a class="el" href="../../d4/dfb/misdn__config_8c_source.html#l00712">misdn_cfg_is_msn_valid()</a>, <a class="el" href="../../d2/d2c/pbx__realtime_8c_source.html#l00166">realtime_switch_common()</a>, <a class="el" href="../../d7/d1b/app__playback_8c_source.html#l00509">reload()</a>, and <a class="el" href="../../db/d94/pbx_8c_source.html#l05516">show_dialplan_helper()</a>.</p>
<div class="fragment"><div class="line"><a name="l04298"></a><span class="lineno"> 4298</span>&#160;{</div><div class="line"><a name="l04299"></a><span class="lineno"> 4299</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d4/dc5/extconf_8c.html#aef34845bd9203c43797706dc4edc05d7">extension_match_core</a>(pattern, data, <a class="code" href="../../dd/ddb/extconf_8h.html#a2b7f0fafc6995b2630658a4fd8df26bea2e605157e82dec388ffc89c1694fb7be">E_MATCH</a>);</div><div class="line"><a name="l04300"></a><span class="lineno"> 4300</span>&#160;}</div><div class="ttc" id="extconf_8h_html_a2b7f0fafc6995b2630658a4fd8df26bea2e605157e82dec388ffc89c1694fb7be"><div class="ttname"><a href="../../dd/ddb/extconf_8h.html#a2b7f0fafc6995b2630658a4fd8df26bea2e605157e82dec388ffc89c1694fb7be">E_MATCH</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/ddb/extconf_8h_source.html#l00218">extconf.h:218</a></div></div>
<div class="ttc" id="extconf_8c_html_aef34845bd9203c43797706dc4edc05d7"><div class="ttname"><a href="../../d4/dc5/extconf_8c.html#aef34845bd9203c43797706dc4edc05d7">extension_match_core</a></div><div class="ttdeci">static int extension_match_core(const char *pattern, const char *data, enum ext_match_t mode)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc5/extconf_8c_source.html#l04288">extconf.c:4288</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="adf9249eff9d5037968d55e11de1dce5f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf9249eff9d5037968d55e11de1dce5f">&#9670;&nbsp;</a></span>ast_extension_patmatch()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_extension_patmatch </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>pattern</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aed6cfe76441ef995ab80609020a9990c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aed6cfe76441ef995ab80609020a9990c">&#9670;&nbsp;</a></span>ast_extension_state()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_extension_state </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>exten</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Uses hint and devicestate callback to get the state of an extension. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">c</td><td>this is not important </td></tr>
    <tr><td class="paramname">context</td><td>which context to look in </td></tr>
    <tr><td class="paramname">exten</td><td>which extension to get state</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>extension state as defined in the ast_extension_states enum</dd></dl>
<p>Uses hint and devicestate callback to get the state of an extension. </p>

<p class="definition">Definition at line <a class="el" href="../../db/d94/pbx_8c_source.html#l03170">3170</a> of file <a class="el" href="../../db/d94/pbx_8c_source.html">pbx.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/d94/pbx_8c_source.html#l03141">internal_extension_state_extended()</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d10/manager_8c_source.html#l05974">action_extensionstate()</a>, <a class="el" href="../../df/d81/func__extstate_8c_source.html#l00098">extstate_read()</a>, and <a class="el" href="../../da/dfb/app__queue_8c_source.html#l02671">get_queue_member_status()</a>.</p>
<div class="fragment"><div class="line"><a name="l03171"></a><span class="lineno"> 3171</span>&#160;{</div><div class="line"><a name="l03172"></a><span class="lineno"> 3172</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../db/d94/pbx_8c.html#a0a6f83665eedc32f9f6d63033685f868">internal_extension_state_extended</a>(c, <a class="code" href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a>, <a class="code" href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l03173"></a><span class="lineno"> 3173</span>&#160;}</div><div class="ttc" id="chan__alsa_8c_html_a78d4847658b695383d849efd12399b38"><div class="ttname"><a href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a></div><div class="ttdeci">static char exten[AST_MAX_EXTENSION]</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d45/chan__alsa_8c_source.html#l00118">chan_alsa.c:118</a></div></div>
<div class="ttc" id="pbx_8c_html_a0a6f83665eedc32f9f6d63033685f868"><div class="ttname"><a href="../../db/d94/pbx_8c.html#a0a6f83665eedc32f9f6d63033685f868">internal_extension_state_extended</a></div><div class="ttdeci">static int internal_extension_state_extended(struct ast_channel *c, const char *context, const char *exten, struct ao2_container *device_state_info)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l03141">pbx.c:3141</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="chan__alsa_8c_html_ac25ea00ee3f082df06e0cf468cbde240"><div class="ttname"><a href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a></div><div class="ttdeci">static char context[AST_MAX_CONTEXT]</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d45/chan__alsa_8c_source.html#l00116">chan_alsa.c:116</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3261603753916b98888a5a5fc1d505c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3261603753916b98888a5a5fc1d505c3">&#9670;&nbsp;</a></span>ast_extension_state2str()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* ast_extension_state2str </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>extension_state</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return string representation of the state of an extension. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">extension_state</td><td>is the numerical state delivered by ast_extension_state</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the state of an extension as string</dd></dl>
<p>Return string representation of the state of an extension. </p>

<p class="definition">Definition at line <a class="el" href="../../db/d94/pbx_8c_source.html#l03126">3126</a> of file <a class="el" href="../../db/d94/pbx_8c_source.html">pbx.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/dfe/isdn__lib_8c_source.html#l00042">ARRAY_LEN</a>, <a class="el" href="../../db/d94/pbx_8c.html#ae9e216d31339f7268f94d2db61e0516b">extension_states</a>, and <a class="el" href="../../db/d94/pbx_8c_source.html#l00608">cfextension_states::text</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d10/manager_8c_source.html#l05974">action_extensionstate()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08383">action_extensionstatelist()</a>, <a class="el" href="../../d6/dd1/test__devicestate_8c_source.html#l00312">AST_TEST_DEFINE()</a>, <a class="el" href="../../d2/d3d/res__pjsip__exten__state_8c_source.html#l00699">exten_state_publisher_state_cb()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l17610">extensionstate_update()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l28575">handle_request_subscribe()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l06076">handle_show_device2extenstate()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l05304">handle_show_hint()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l05205">handle_show_hints()</a>, <a class="el" href="../../d4/d10/manager_8c_source.html#l07288">manager_state_cb()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l22155">show_channels_cb()</a>, <a class="el" href="../../d0/d80/chan__skinny_8c_source.html#l03414">skinny_extensionstate_cb()</a>, and <a class="el" href="../../d2/d3d/res__pjsip__exten__state_8c_source.html#l00542">to_ami()</a>.</p>
<div class="fragment"><div class="line"><a name="l03127"></a><span class="lineno"> 3127</span>&#160;{</div><div class="line"><a name="l03128"></a><span class="lineno"> 3128</span>&#160;   <span class="keywordtype">int</span> i;</div><div class="line"><a name="l03129"></a><span class="lineno"> 3129</span>&#160;</div><div class="line"><a name="l03130"></a><span class="lineno"> 3130</span>&#160;   <span class="keywordflow">for</span> (i = 0; (i &lt; <a class="code" href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a>(<a class="code" href="../../db/d94/pbx_8c.html#ae9e216d31339f7268f94d2db61e0516b">extension_states</a>)); i++) {</div><div class="line"><a name="l03131"></a><span class="lineno"> 3131</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../db/d94/pbx_8c.html#ae9e216d31339f7268f94d2db61e0516b">extension_states</a>[i].extension_state == extension_state)</div><div class="line"><a name="l03132"></a><span class="lineno"> 3132</span>&#160;         <span class="keywordflow">return</span> <a class="code" href="../../db/d94/pbx_8c.html#ae9e216d31339f7268f94d2db61e0516b">extension_states</a>[i].<a class="code" href="../../d3/dd9/structcfextension__states.html#aecfd3170c3d94608e5e5c038085fdf3f">text</a>;</div><div class="line"><a name="l03133"></a><span class="lineno"> 3133</span>&#160;   }</div><div class="line"><a name="l03134"></a><span class="lineno"> 3134</span>&#160;   <span class="keywordflow">return</span> <span class="stringliteral">&quot;Unknown&quot;</span>;</div><div class="line"><a name="l03135"></a><span class="lineno"> 3135</span>&#160;}</div><div class="ttc" id="isdn__lib_8c_html_ab9129b977a587b50ea801daac75e178f"><div class="ttname"><a href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a></div><div class="ttdeci">#define ARRAY_LEN(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dfe/isdn__lib_8c_source.html#l00042">isdn_lib.c:42</a></div></div>
<div class="ttc" id="structcfextension__states_html_aecfd3170c3d94608e5e5c038085fdf3f"><div class="ttname"><a href="../../d3/dd9/structcfextension__states.html#aecfd3170c3d94608e5e5c038085fdf3f">cfextension_states::text</a></div><div class="ttdeci">const char *const text</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l00608">pbx.c:608</a></div></div>
<div class="ttc" id="pbx_8c_html_ae9e216d31339f7268f94d2db61e0516b"><div class="ttname"><a href="../../db/d94/pbx_8c.html#ae9e216d31339f7268f94d2db61e0516b">extension_states</a></div><div class="ttdeci">static const struct cfextension_states extension_states[]</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab1d88f370509aae87302134e6f70628a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab1d88f370509aae87302134e6f70628a">&#9670;&nbsp;</a></span>ast_extension_state_add()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_extension_state_add </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>exten</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/dc5/extconf_8c.html#a4aadf947cff7b21ae6a21ee603288c51">ast_state_cb_type</a>&#160;</td>
          <td class="paramname"><em>change_cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add watcher for extension states. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">context</td><td>which context to look in </td></tr>
    <tr><td class="paramname">exten</td><td>which extension to get state </td></tr>
    <tr><td class="paramname">change_cb</td><td>callback to call if state changed </td></tr>
    <tr><td class="paramname">data</td><td>to pass to callback</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>If context and exten are NULL then the added watcher is global. The change_cb is called for every extension's state change.</dd>
<dd>
The change_cb is called if the state of an extension is changed.</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">-1</td><td>on failure </td></tr>
    <tr><td class="paramname">0</td><td>Global watcher added successfully </td></tr>
    <tr><td class="paramname">ID</td><td>on success </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../db/d94/pbx_8c_source.html#l03825">3825</a> of file <a class="el" href="../../db/d94/pbx_8c_source.html">pbx.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/d94/pbx_8c_source.html#l03729">extension_state_add_destroy()</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d10/manager_8c_source.html#l09144">__init_manager()</a>, <a class="el" href="../../da/dfb/app__queue_8c_source.html#l02686">create_queue_member()</a>, <a class="el" href="../../d2/d3d/res__pjsip__exten__state_8c_source.html#l00837">publisher_start()</a>, and <a class="el" href="../../d0/d80/chan__skinny_8c_source.html#l02258">skinny_register()</a>.</p>
<div class="fragment"><div class="line"><a name="l03827"></a><span class="lineno"> 3827</span>&#160;{</div><div class="line"><a name="l03828"></a><span class="lineno"> 3828</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../db/d94/pbx_8c.html#a9d8398fb440bfff609135d49dfe3f01d">extension_state_add_destroy</a>(<a class="code" href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a>, <a class="code" href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>, change_cb, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, data, 0);</div><div class="line"><a name="l03829"></a><span class="lineno"> 3829</span>&#160;}</div><div class="ttc" id="chan__alsa_8c_html_a78d4847658b695383d849efd12399b38"><div class="ttname"><a href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a></div><div class="ttdeci">static char exten[AST_MAX_EXTENSION]</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d45/chan__alsa_8c_source.html#l00118">chan_alsa.c:118</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="pbx_8c_html_a9d8398fb440bfff609135d49dfe3f01d"><div class="ttname"><a href="../../db/d94/pbx_8c.html#a9d8398fb440bfff609135d49dfe3f01d">extension_state_add_destroy</a></div><div class="ttdeci">static int extension_state_add_destroy(const char *context, const char *exten, ast_state_cb_type change_cb, ast_state_cb_destroy_type destroy_cb, void *data, int extended)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l03729">pbx.c:3729</a></div></div>
<div class="ttc" id="chan__alsa_8c_html_ac25ea00ee3f082df06e0cf468cbde240"><div class="ttname"><a href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a></div><div class="ttdeci">static char context[AST_MAX_CONTEXT]</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d45/chan__alsa_8c_source.html#l00116">chan_alsa.c:116</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3fe692162e8e78eed9d4ccc2370a49eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3fe692162e8e78eed9d4ccc2370a49eb">&#9670;&nbsp;</a></span>ast_extension_state_add_destroy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_extension_state_add_destroy </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>exten</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/dc5/extconf_8c.html#a4aadf947cff7b21ae6a21ee603288c51">ast_state_cb_type</a>&#160;</td>
          <td class="paramname"><em>change_cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../db/de0/pbx_8h.html#ad3a372c5b23617d0ba1856aa88035f54">ast_state_cb_destroy_type</a>&#160;</td>
          <td class="paramname"><em>destroy_cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add watcher for extension states with destructor. </p>
<dl class="section since"><dt>Since</dt><dd>1.8.9 </dd>
<dd>
10.1.0</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">context</td><td>which context to look in </td></tr>
    <tr><td class="paramname">exten</td><td>which extension to get state </td></tr>
    <tr><td class="paramname">change_cb</td><td>callback to call if state changed </td></tr>
    <tr><td class="paramname">destroy_cb</td><td>callback to call when the watcher is destroyed. </td></tr>
    <tr><td class="paramname">data</td><td>to pass to callbacks</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>If context and exten are NULL then the added watcher is global. The change_cb is called for every extension's state change.</dd>
<dd>
The change_cb is called if the state of an extension is changed.</dd>
<dd>
The destroy_cb is called when the watcher is deleted so the watcher can release any associated resources.</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">-1</td><td>on failure </td></tr>
    <tr><td class="paramname">0</td><td>Global watcher added successfully </td></tr>
    <tr><td class="paramname">ID</td><td>on success </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../db/d94/pbx_8c_source.html#l03819">3819</a> of file <a class="el" href="../../db/d94/pbx_8c_source.html">pbx.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/d94/pbx_8c_source.html#l03729">extension_state_add_destroy()</a>.</p>
<div class="fragment"><div class="line"><a name="l03821"></a><span class="lineno"> 3821</span>&#160;{</div><div class="line"><a name="l03822"></a><span class="lineno"> 3822</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../db/d94/pbx_8c.html#a9d8398fb440bfff609135d49dfe3f01d">extension_state_add_destroy</a>(<a class="code" href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a>, <a class="code" href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>, change_cb, destroy_cb, data, 0);</div><div class="line"><a name="l03823"></a><span class="lineno"> 3823</span>&#160;}</div><div class="ttc" id="chan__alsa_8c_html_a78d4847658b695383d849efd12399b38"><div class="ttname"><a href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a></div><div class="ttdeci">static char exten[AST_MAX_EXTENSION]</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d45/chan__alsa_8c_source.html#l00118">chan_alsa.c:118</a></div></div>
<div class="ttc" id="pbx_8c_html_a9d8398fb440bfff609135d49dfe3f01d"><div class="ttname"><a href="../../db/d94/pbx_8c.html#a9d8398fb440bfff609135d49dfe3f01d">extension_state_add_destroy</a></div><div class="ttdeci">static int extension_state_add_destroy(const char *context, const char *exten, ast_state_cb_type change_cb, ast_state_cb_destroy_type destroy_cb, void *data, int extended)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l03729">pbx.c:3729</a></div></div>
<div class="ttc" id="chan__alsa_8c_html_ac25ea00ee3f082df06e0cf468cbde240"><div class="ttname"><a href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a></div><div class="ttdeci">static char context[AST_MAX_CONTEXT]</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d45/chan__alsa_8c_source.html#l00116">chan_alsa.c:116</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a0dd6eaef780ca4a7de91db52a2b8b085"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0dd6eaef780ca4a7de91db52a2b8b085">&#9670;&nbsp;</a></span>ast_extension_state_add_destroy_extended()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_extension_state_add_destroy_extended </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>exten</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/dc5/extconf_8c.html#a4aadf947cff7b21ae6a21ee603288c51">ast_state_cb_type</a>&#160;</td>
          <td class="paramname"><em>change_cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../db/de0/pbx_8h.html#ad3a372c5b23617d0ba1856aa88035f54">ast_state_cb_destroy_type</a>&#160;</td>
          <td class="paramname"><em>destroy_cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add watcher for extended extension states with destructor. </p>
<dl class="section since"><dt>Since</dt><dd>11</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">context</td><td>which context to look in </td></tr>
    <tr><td class="paramname">exten</td><td>which extension to get state </td></tr>
    <tr><td class="paramname">change_cb</td><td>callback to call if state changed </td></tr>
    <tr><td class="paramname">destroy_cb</td><td>callback to call when the watcher is destroyed. </td></tr>
    <tr><td class="paramname">data</td><td>to pass to callbacks</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>If context and exten are NULL then the added watcher is global. The change_cb is called for every extension's state change.</dd>
<dd>
The change_cb is called if the state of an extension is changed. The extended state is passed to the callback in the device_state_info member of <a class="el" href="../../df/d4c/structast__state__cb__info.html">ast_state_cb_info</a>.</dd>
<dd>
The destroy_cb is called when the watcher is deleted so the watcher can release any associated resources.</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">-1</td><td>on failure </td></tr>
    <tr><td class="paramname">0</td><td>Global watcher added successfully </td></tr>
    <tr><td class="paramname">ID</td><td>on success </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../db/d94/pbx_8c_source.html#l03831">3831</a> of file <a class="el" href="../../db/d94/pbx_8c_source.html">pbx.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/d94/pbx_8c_source.html#l03729">extension_state_add_destroy()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l28575">handle_request_subscribe()</a>, and <a class="el" href="../../d2/d3d/res__pjsip__exten__state_8c_source.html#l00427">subscription_established()</a>.</p>
<div class="fragment"><div class="line"><a name="l03833"></a><span class="lineno"> 3833</span>&#160;{</div><div class="line"><a name="l03834"></a><span class="lineno"> 3834</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../db/d94/pbx_8c.html#a9d8398fb440bfff609135d49dfe3f01d">extension_state_add_destroy</a>(<a class="code" href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a>, <a class="code" href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>, change_cb, destroy_cb, data, 1);</div><div class="line"><a name="l03835"></a><span class="lineno"> 3835</span>&#160;}</div><div class="ttc" id="chan__alsa_8c_html_a78d4847658b695383d849efd12399b38"><div class="ttname"><a href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a></div><div class="ttdeci">static char exten[AST_MAX_EXTENSION]</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d45/chan__alsa_8c_source.html#l00118">chan_alsa.c:118</a></div></div>
<div class="ttc" id="pbx_8c_html_a9d8398fb440bfff609135d49dfe3f01d"><div class="ttname"><a href="../../db/d94/pbx_8c.html#a9d8398fb440bfff609135d49dfe3f01d">extension_state_add_destroy</a></div><div class="ttdeci">static int extension_state_add_destroy(const char *context, const char *exten, ast_state_cb_type change_cb, ast_state_cb_destroy_type destroy_cb, void *data, int extended)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l03729">pbx.c:3729</a></div></div>
<div class="ttc" id="chan__alsa_8c_html_ac25ea00ee3f082df06e0cf468cbde240"><div class="ttname"><a href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a></div><div class="ttdeci">static char context[AST_MAX_CONTEXT]</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d45/chan__alsa_8c_source.html#l00116">chan_alsa.c:116</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa636ab868f1724406019bbbc82676488"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa636ab868f1724406019bbbc82676488">&#9670;&nbsp;</a></span>ast_extension_state_add_extended()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_extension_state_add_extended </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>exten</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/dc5/extconf_8c.html#a4aadf947cff7b21ae6a21ee603288c51">ast_state_cb_type</a>&#160;</td>
          <td class="paramname"><em>change_cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add watcher for extended extension states. </p>
<dl class="section since"><dt>Since</dt><dd>11</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">context</td><td>which context to look in </td></tr>
    <tr><td class="paramname">exten</td><td>which extension to get state </td></tr>
    <tr><td class="paramname">change_cb</td><td>callback to call if state changed </td></tr>
    <tr><td class="paramname">data</td><td>to pass to callback</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>If context and exten are NULL then the added watcher is global. The change_cb is called for every extension's state change.</dd>
<dd>
The change_cb is called if the state of an extension is changed. The extended state is passed to the callback in the device_state_info member of <a class="el" href="../../df/d4c/structast__state__cb__info.html">ast_state_cb_info</a>.</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">-1</td><td>on failure </td></tr>
    <tr><td class="paramname">0</td><td>Global watcher added successfully </td></tr>
    <tr><td class="paramname">ID</td><td>on success </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../db/d94/pbx_8c_source.html#l03837">3837</a> of file <a class="el" href="../../db/d94/pbx_8c_source.html">pbx.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/d94/pbx_8c_source.html#l03729">extension_state_add_destroy()</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>
<div class="fragment"><div class="line"><a name="l03839"></a><span class="lineno"> 3839</span>&#160;{</div><div class="line"><a name="l03840"></a><span class="lineno"> 3840</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../db/d94/pbx_8c.html#a9d8398fb440bfff609135d49dfe3f01d">extension_state_add_destroy</a>(<a class="code" href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a>, <a class="code" href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>, change_cb, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, data, 1);</div><div class="line"><a name="l03841"></a><span class="lineno"> 3841</span>&#160;}</div><div class="ttc" id="chan__alsa_8c_html_a78d4847658b695383d849efd12399b38"><div class="ttname"><a href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a></div><div class="ttdeci">static char exten[AST_MAX_EXTENSION]</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d45/chan__alsa_8c_source.html#l00118">chan_alsa.c:118</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="pbx_8c_html_a9d8398fb440bfff609135d49dfe3f01d"><div class="ttname"><a href="../../db/d94/pbx_8c.html#a9d8398fb440bfff609135d49dfe3f01d">extension_state_add_destroy</a></div><div class="ttdeci">static int extension_state_add_destroy(const char *context, const char *exten, ast_state_cb_type change_cb, ast_state_cb_destroy_type destroy_cb, void *data, int extended)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l03729">pbx.c:3729</a></div></div>
<div class="ttc" id="chan__alsa_8c_html_ac25ea00ee3f082df06e0cf468cbde240"><div class="ttname"><a href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a></div><div class="ttdeci">static char context[AST_MAX_CONTEXT]</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d45/chan__alsa_8c_source.html#l00116">chan_alsa.c:116</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa992580d26443e3306f7f08cf5908e7c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa992580d26443e3306f7f08cf5908e7c">&#9670;&nbsp;</a></span>ast_extension_state_del()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_extension_state_del </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/dc5/extconf_8c.html#a4aadf947cff7b21ae6a21ee603288c51">ast_state_cb_type</a>&#160;</td>
          <td class="paramname"><em>change_cb</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Deletes a state change watcher by ID. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>of the state watcher to delete (0 for global watcher) </td></tr>
    <tr><td class="paramname">change_cb</td><td>callback to call if state changed (Used if id == 0 (global))</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>success </td></tr>
    <tr><td class="paramname">-1</td><td>failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../db/d94/pbx_8c_source.html#l03858">3858</a> of file <a class="el" href="../../db/d94/pbx_8c_source.html">pbx.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01716">ao2_callback</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01756">ao2_find</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00718">ao2_lock</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00730">ao2_unlock</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l00332">ast_hint::callbacks</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l03844">find_hint_by_cb_id()</a>, and <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01043">OBJ_UNLINK</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/dfb/app__queue_8c_source.html#l02676">destroy_queue_member_cb()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l03367">dialog_unlink_all()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l28575">handle_request_subscribe()</a>, <a class="el" href="../../d0/d80/chan__skinny_8c_source.html#l07466">skinny_session_cleanup()</a>, <a class="el" href="../../d2/d3d/res__pjsip__exten__state_8c_source.html#l00398">subscription_shutdown()</a>, and <a class="el" href="../../d2/d3d/res__pjsip__exten__state_8c_source.html#l00942">unload_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l03859"></a><span class="lineno"> 3859</span>&#160;{</div><div class="line"><a name="l03860"></a><span class="lineno"> 3860</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d6/d37/structast__state__cb.html">ast_state_cb</a> *p_cur;</div><div class="line"><a name="l03861"></a><span class="lineno"> 3861</span>&#160;   <span class="keywordtype">int</span> ret = -1;</div><div class="line"><a name="l03862"></a><span class="lineno"> 3862</span>&#160;</div><div class="line"><a name="l03863"></a><span class="lineno"> 3863</span>&#160;   <span class="keywordflow">if</span> (!<span class="keywordtype">id</span>) {  <span class="comment">/* id == 0 is a callback without extension */</span></div><div class="line"><a name="l03864"></a><span class="lineno"> 3864</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d37/structast__state__cb.html#a70f2042a28ce247a137f0ee89076abfe">change_cb</a>) {</div><div class="line"><a name="l03865"></a><span class="lineno"> 3865</span>&#160;         <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l03866"></a><span class="lineno"> 3866</span>&#160;      }</div><div class="line"><a name="l03867"></a><span class="lineno"> 3867</span>&#160;      p_cur = <a class="code" href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a>(<a class="code" href="../../db/d94/pbx_8c.html#a01df16b518b69d56f374081effd01432">statecbs</a>, <a class="code" href="../../d6/d37/structast__state__cb.html#a70f2042a28ce247a137f0ee89076abfe">change_cb</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca71f42ec6460e60eb6e10956c53329e45">OBJ_UNLINK</a>);</div><div class="line"><a name="l03868"></a><span class="lineno"> 3868</span>&#160;      <span class="keywordflow">if</span> (p_cur) {</div><div class="line"><a name="l03869"></a><span class="lineno"> 3869</span>&#160;         ret = 0;</div><div class="line"><a name="l03870"></a><span class="lineno"> 3870</span>&#160;         <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(p_cur, -1);</div><div class="line"><a name="l03871"></a><span class="lineno"> 3871</span>&#160;      }</div><div class="line"><a name="l03872"></a><span class="lineno"> 3872</span>&#160;   } <span class="keywordflow">else</span> { <span class="comment">/* callback with extension, find the callback based on ID */</span></div><div class="line"><a name="l03873"></a><span class="lineno"> 3873</span>&#160;      <span class="keyword">struct </span><a class="code" href="../../d8/dac/structast__hint.html">ast_hint</a> *hint;</div><div class="line"><a name="l03874"></a><span class="lineno"> 3874</span>&#160;</div><div class="line"><a name="l03875"></a><span class="lineno"> 3875</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aa9fdb5d0a6157a56060d9f7279fe6c49">ao2_lock</a>(<a class="code" href="../../de/d2c/structhints.html">hints</a>);<span class="comment">/* Locked to hold off ast_merge_contexts_and_delete */</span></div><div class="line"><a name="l03876"></a><span class="lineno"> 3876</span>&#160;      hint = <a class="code" href="../../d5/da5/astobj2_8h.html#a47857055118a703ae87ea5ebaf4842ed">ao2_callback</a>(<a class="code" href="../../de/d2c/structhints.html">hints</a>, 0, <a class="code" href="../../db/d94/pbx_8c.html#abf3da774c123a5bca0fca54659227d13">find_hint_by_cb_id</a>, &amp;<span class="keywordtype">id</span>);</div><div class="line"><a name="l03877"></a><span class="lineno"> 3877</span>&#160;      <span class="keywordflow">if</span> (hint) {</div><div class="line"><a name="l03878"></a><span class="lineno"> 3878</span>&#160;         p_cur = <a class="code" href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a>(hint-&gt;<a class="code" href="../../d8/dac/structast__hint.html#a9138102d461098886592f66e9fb82806">callbacks</a>, &amp;<span class="keywordtype">id</span>, <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca71f42ec6460e60eb6e10956c53329e45">OBJ_UNLINK</a>);</div><div class="line"><a name="l03879"></a><span class="lineno"> 3879</span>&#160;         <span class="keywordflow">if</span> (p_cur) {</div><div class="line"><a name="l03880"></a><span class="lineno"> 3880</span>&#160;            ret = 0;</div><div class="line"><a name="l03881"></a><span class="lineno"> 3881</span>&#160;            <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(p_cur, -1);</div><div class="line"><a name="l03882"></a><span class="lineno"> 3882</span>&#160;         }</div><div class="line"><a name="l03883"></a><span class="lineno"> 3883</span>&#160;         <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(hint, -1);</div><div class="line"><a name="l03884"></a><span class="lineno"> 3884</span>&#160;      }</div><div class="line"><a name="l03885"></a><span class="lineno"> 3885</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a>(<a class="code" href="../../de/d2c/structhints.html">hints</a>);</div><div class="line"><a name="l03886"></a><span class="lineno"> 3886</span>&#160;   }</div><div class="line"><a name="l03887"></a><span class="lineno"> 3887</span>&#160;</div><div class="line"><a name="l03888"></a><span class="lineno"> 3888</span>&#160;   <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l03889"></a><span class="lineno"> 3889</span>&#160;}</div><div class="ttc" id="astobj2_8h_html_a47857055118a703ae87ea5ebaf4842ed"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a47857055118a703ae87ea5ebaf4842ed">ao2_callback</a></div><div class="ttdeci">#define ao2_callback(c, flags, cb_fn, arg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01716">astobj2.h:1716</a></div></div>
<div class="ttc" id="structast__state__cb_html"><div class="ttname"><a href="../../d6/d37/structast__state__cb.html">ast_state_cb</a></div><div class="ttdoc">ast_state_cb: An extension state notify register item </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l00301">pbx.c:301</a></div></div>
<div class="ttc" id="astobj2_8h_html_a9998bd156b936636a8780385e9a910b2"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a></div><div class="ttdeci">#define ao2_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00730">astobj2.h:730</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35ca71f42ec6460e60eb6e10956c53329e45"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca71f42ec6460e60eb6e10956c53329e45">OBJ_UNLINK</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01043">astobj2.h:1043</a></div></div>
<div class="ttc" id="structast__state__cb_html_a70f2042a28ce247a137f0ee89076abfe"><div class="ttname"><a href="../../d6/d37/structast__state__cb.html#a70f2042a28ce247a137f0ee89076abfe">ast_state_cb::change_cb</a></div><div class="ttdeci">ast_state_cb_type change_cb</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l00309">pbx.c:309</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="astobj2_8h_html_aa9fdb5d0a6157a56060d9f7279fe6c49"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aa9fdb5d0a6157a56060d9f7279fe6c49">ao2_lock</a></div><div class="ttdeci">#define ao2_lock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00718">astobj2.h:718</a></div></div>
<div class="ttc" id="structast__hint_html"><div class="ttname"><a href="../../d8/dac/structast__hint.html">ast_hint</a></div><div class="ttdoc">Structure for dial plan hints. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l00324">pbx.c:324</a></div></div>
<div class="ttc" id="structast__hint_html_a9138102d461098886592f66e9fb82806"><div class="ttname"><a href="../../d8/dac/structast__hint.html#a9138102d461098886592f66e9fb82806">ast_hint::callbacks</a></div><div class="ttdeci">struct ao2_container * callbacks</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l00332">pbx.c:332</a></div></div>
<div class="ttc" id="structhints_html"><div class="ttname"><a href="../../de/d2c/structhints.html">hints</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc5/extconf_8c_source.html#l03624">extconf.c:3624</a></div></div>
<div class="ttc" id="astobj2_8h_html_a911e0703891a9a7aaf73978152092586"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a></div><div class="ttdeci">#define ao2_find(container, arg, flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01756">astobj2.h:1756</a></div></div>
<div class="ttc" id="pbx_8c_html_abf3da774c123a5bca0fca54659227d13"><div class="ttname"><a href="../../db/d94/pbx_8c.html#abf3da774c123a5bca0fca54659227d13">find_hint_by_cb_id</a></div><div class="ttdeci">static int find_hint_by_cb_id(void *obj, void *arg, int flags)</div><div class="ttdoc">Find Hint by callback id. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l03844">pbx.c:3844</a></div></div>
<div class="ttc" id="pbx_8c_html_a01df16b518b69d56f374081effd01432"><div class="ttname"><a href="../../db/d94/pbx_8c.html#a01df16b518b69d56f374081effd01432">statecbs</a></div><div class="ttdeci">static struct ao2_container * statecbs</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l00803">pbx.c:803</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af8449d33004759f52932db7e138c0246"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af8449d33004759f52932db7e138c0246">&#9670;&nbsp;</a></span>ast_extension_state_extended()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_extension_state_extended </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>exten</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d2/da9/structao2__container.html">ao2_container</a> **&#160;</td>
          <td class="paramname"><em>device_state_info</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Uses hint and devicestate callback to get the extended state of an extension. </p>
<dl class="section since"><dt>Since</dt><dd>11</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">c</td><td>this is not important </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">context</td><td>which context to look in </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">exten</td><td>which extension to get state </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">device_state_info</td><td>ptr to an <a class="el" href="../../d2/da9/structao2__container.html" title="Generic container type. ">ao2_container</a> with extended state info, must be unref'd after use.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>extension state as defined in the ast_extension_states enum</dd></dl>
<p>Uses hint and devicestate callback to get the extended state of an extension. </p>

<p class="definition">Definition at line <a class="el" href="../../db/d94/pbx_8c_source.html#l03176">3176</a> of file <a class="el" href="../../db/d94/pbx_8c_source.html">pbx.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/d94/pbx_8c_source.html#l03076">alloc_device_state_info()</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d0/d60/res__fax_8c_source.html#l00502">container</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l03296">get_device_state_causing_channels()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l03141">internal_extension_state_extended()</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/d3d/res__pjsip__exten__state_8c_source.html#l00482">exten_state_data_alloc()</a>, and <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l28575">handle_request_subscribe()</a>.</p>
<div class="fragment"><div class="line"><a name="l03178"></a><span class="lineno"> 3178</span>&#160;{</div><div class="line"><a name="l03179"></a><span class="lineno"> 3179</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/da9/structao2__container.html">ao2_container</a> *<a class="code" href="../../d0/d60/res__fax_8c.html#a7ea220e4d14b05876af4430e9832ce47">container</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l03180"></a><span class="lineno"> 3180</span>&#160;   <span class="keywordtype">int</span> ret;</div><div class="line"><a name="l03181"></a><span class="lineno"> 3181</span>&#160;</div><div class="line"><a name="l03182"></a><span class="lineno"> 3182</span>&#160;   <span class="keywordflow">if</span> (device_state_info) {</div><div class="line"><a name="l03183"></a><span class="lineno"> 3183</span>&#160;      container = <a class="code" href="../../db/d94/pbx_8c.html#af2ec29d1c72020b767d041c6d34b60b6">alloc_device_state_info</a>();</div><div class="line"><a name="l03184"></a><span class="lineno"> 3184</span>&#160;   }</div><div class="line"><a name="l03185"></a><span class="lineno"> 3185</span>&#160;</div><div class="line"><a name="l03186"></a><span class="lineno"> 3186</span>&#160;   ret = <a class="code" href="../../db/d94/pbx_8c.html#a0a6f83665eedc32f9f6d63033685f868">internal_extension_state_extended</a>(c, <a class="code" href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a>, <a class="code" href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>, container);</div><div class="line"><a name="l03187"></a><span class="lineno"> 3187</span>&#160;   <span class="keywordflow">if</span> (ret &lt; 0 &amp;&amp; container) {</div><div class="line"><a name="l03188"></a><span class="lineno"> 3188</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(container, -1);</div><div class="line"><a name="l03189"></a><span class="lineno"> 3189</span>&#160;      container = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l03190"></a><span class="lineno"> 3190</span>&#160;   }</div><div class="line"><a name="l03191"></a><span class="lineno"> 3191</span>&#160;</div><div class="line"><a name="l03192"></a><span class="lineno"> 3192</span>&#160;   <span class="keywordflow">if</span> (device_state_info) {</div><div class="line"><a name="l03193"></a><span class="lineno"> 3193</span>&#160;      <a class="code" href="../../db/d94/pbx_8c.html#af26f77a23357ab9f51e6080911400d96">get_device_state_causing_channels</a>(container);</div><div class="line"><a name="l03194"></a><span class="lineno"> 3194</span>&#160;      *device_state_info = <a class="code" href="../../d0/d60/res__fax_8c.html#a7ea220e4d14b05876af4430e9832ce47">container</a>;</div><div class="line"><a name="l03195"></a><span class="lineno"> 3195</span>&#160;   }</div><div class="line"><a name="l03196"></a><span class="lineno"> 3196</span>&#160;</div><div class="line"><a name="l03197"></a><span class="lineno"> 3197</span>&#160;   <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l03198"></a><span class="lineno"> 3198</span>&#160;}</div><div class="ttc" id="chan__alsa_8c_html_a78d4847658b695383d849efd12399b38"><div class="ttname"><a href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a></div><div class="ttdeci">static char exten[AST_MAX_EXTENSION]</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d45/chan__alsa_8c_source.html#l00118">chan_alsa.c:118</a></div></div>
<div class="ttc" id="pbx_8c_html_af2ec29d1c72020b767d041c6d34b60b6"><div class="ttname"><a href="../../db/d94/pbx_8c.html#af2ec29d1c72020b767d041c6d34b60b6">alloc_device_state_info</a></div><div class="ttdeci">static struct ao2_container * alloc_device_state_info(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l03076">pbx.c:3076</a></div></div>
<div class="ttc" id="pbx_8c_html_a0a6f83665eedc32f9f6d63033685f868"><div class="ttname"><a href="../../db/d94/pbx_8c.html#a0a6f83665eedc32f9f6d63033685f868">internal_extension_state_extended</a></div><div class="ttdeci">static int internal_extension_state_extended(struct ast_channel *c, const char *context, const char *exten, struct ao2_container *device_state_info)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l03141">pbx.c:3141</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="pbx_8c_html_af26f77a23357ab9f51e6080911400d96"><div class="ttname"><a href="../../db/d94/pbx_8c.html#af26f77a23357ab9f51e6080911400d96">get_device_state_causing_channels</a></div><div class="ttdeci">static void get_device_state_causing_channels(struct ao2_container *c)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l03296">pbx.c:3296</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="res__fax_8c_html_a7ea220e4d14b05876af4430e9832ce47"><div class="ttname"><a href="../../d0/d60/res__fax_8c.html#a7ea220e4d14b05876af4430e9832ce47">container</a></div><div class="ttdeci">struct ao2_container * container</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d60/res__fax_8c_source.html#l00502">res_fax.c:502</a></div></div>
<div class="ttc" id="structao2__container_html"><div class="ttname"><a href="../../d2/da9/structao2__container.html">ao2_container</a></div><div class="ttdoc">Generic container type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d20/astobj2__container__private_8h_source.html#l00282">astobj2_container_private.h:282</a></div></div>
<div class="ttc" id="chan__alsa_8c_html_ac25ea00ee3f082df06e0cf468cbde240"><div class="ttname"><a href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a></div><div class="ttdeci">static char context[AST_MAX_CONTEXT]</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d45/chan__alsa_8c_source.html#l00116">chan_alsa.c:116</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a0be9518646cf9aca4878b313cc02e901"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0be9518646cf9aca4878b313cc02e901">&#9670;&nbsp;</a></span>ast_findlabel_extension()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_findlabel_extension </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>exten</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>label</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>callerid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Find the priority of an extension that has the specified label. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">c</td><td>this is not important </td></tr>
    <tr><td class="paramname">context</td><td>which context to look in </td></tr>
    <tr><td class="paramname">exten</td><td>which extension to search for </td></tr>
    <tr><td class="paramname">label</td><td>label of the action within the extension to match to priority </td></tr>
    <tr><td class="paramname">callerid</td><td>callerid to search for</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>It is possible for autoservice to be started and stopped on c during this function call, it is important that c is not locked prior to calling this. Otherwise a deadlock may occur</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">the</td><td>priority which matches the given label in the extension </td></tr>
    <tr><td class="paramname">-1</td><td>if not found. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../db/d94/pbx_8c_source.html#l04184">4184</a> of file <a class="el" href="../../db/d94/pbx_8c_source.html">pbx.c</a>.</p>

<p class="reference">References <a class="el" href="../../dd/ddb/extconf_8h_source.html#l00221">E_FINDLABEL</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../db/d94/pbx_8c_source.html#l02875">pbx_extension_helper()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d10/manager_8c_source.html#l05723">action_originate()</a>, <a class="el" href="../../d4/d10/manager_8c_source.html#l04973">action_redirect()</a>, <a class="el" href="../../da/d49/resource__channels_8c_source.html#l01063">ari_channels_handle_originate_with_id()</a>, <a class="el" href="../../da/d49/resource__channels_8c_source.html#l00180">ast_ari_channels_continue_in_dialplan()</a>, <a class="el" href="../../de/dbf/func__evalexten_8c_source.html#l00110">eval_exten_read()</a>, <a class="el" href="../../d1/d71/app__stack_8c_source.html#l01118">handle_gosub()</a>, <a class="el" href="../../dd/de9/res__agi_8c_source.html#l02880">handle_setpriority()</a>, <a class="el" href="../../dc/d3c/func__dialplan_8c_source.html#l00073">isexten_function_read()</a>, and <a class="el" href="../../db/d94/pbx_8c_source.html#l08803">pbx_parseable_goto()</a>.</p>
<div class="fragment"><div class="line"><a name="l04185"></a><span class="lineno"> 4185</span>&#160;{</div><div class="line"><a name="l04186"></a><span class="lineno"> 4186</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../db/d94/pbx_8c.html#ae381d99bea85b43f022470b64171018d">pbx_extension_helper</a>(c, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a>, <a class="code" href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>, 0, label, callerid, <a class="code" href="../../dd/ddb/extconf_8h.html#a2b7f0fafc6995b2630658a4fd8df26bea7b10ab7b3dd6af9d933dbb03dd183eb5">E_FINDLABEL</a>, 0, 0);</div><div class="line"><a name="l04187"></a><span class="lineno"> 4187</span>&#160;}</div><div class="ttc" id="chan__alsa_8c_html_a78d4847658b695383d849efd12399b38"><div class="ttname"><a href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a></div><div class="ttdeci">static char exten[AST_MAX_EXTENSION]</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d45/chan__alsa_8c_source.html#l00118">chan_alsa.c:118</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="extconf_8h_html_a2b7f0fafc6995b2630658a4fd8df26bea7b10ab7b3dd6af9d933dbb03dd183eb5"><div class="ttname"><a href="../../dd/ddb/extconf_8h.html#a2b7f0fafc6995b2630658a4fd8df26bea7b10ab7b3dd6af9d933dbb03dd183eb5">E_FINDLABEL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/ddb/extconf_8h_source.html#l00221">extconf.h:221</a></div></div>
<div class="ttc" id="chan__alsa_8c_html_ac25ea00ee3f082df06e0cf468cbde240"><div class="ttname"><a href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a></div><div class="ttdeci">static char context[AST_MAX_CONTEXT]</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d45/chan__alsa_8c_source.html#l00116">chan_alsa.c:116</a></div></div>
<div class="ttc" id="pbx_8c_html_ae381d99bea85b43f022470b64171018d"><div class="ttname"><a href="../../db/d94/pbx_8c.html#ae381d99bea85b43f022470b64171018d">pbx_extension_helper</a></div><div class="ttdeci">static int pbx_extension_helper(struct ast_channel *c, struct ast_context *con, const char *context, const char *exten, int priority, const char *label, const char *callerid, enum ext_match_t action, int *found, int combined_find_spawn)</div><div class="ttdoc">The return value depends on the action: </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l02875">pbx.c:2875</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac9aa64ca24f5c3dc193eddf594599668"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac9aa64ca24f5c3dc193eddf594599668">&#9670;&nbsp;</a></span>ast_findlabel_extension2()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int ast_findlabel_extension2 </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d6/d7c/structast__context.html">ast_context</a> *&#160;</td>
          <td class="paramname"><em>con</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>exten</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>label</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>callerid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Find the priority of an extension that has the specified label. </p>
<dl class="section note"><dt>Note</dt><dd>It is possible for autoservice to be started and stopped on c during this function call, it is important that c is not locked prior to calling this. Otherwise a deadlock may occur</dd>
<dd>
This function is the same as ast_findlabel_extension, except that it accepts a pointer to an <a class="el" href="../../d6/d7c/structast__context.html" title="ast_context: An extension context - must remain in sync with fake_context ">ast_context</a> structure to specify the context instead of the name of the context. Otherwise, the functions behave the same. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d4/dc5/extconf_8c_source.html#l04978">4978</a> of file <a class="el" href="../../d4/dc5/extconf_8c_source.html">extconf.c</a>.</p>

<p class="reference">References <a class="el" href="../../dd/ddb/extconf_8h_source.html#l00221">E_FINDLABEL</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../db/d94/pbx_8c_source.html#l02875">pbx_extension_helper()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l01674">pbx_load_config()</a>.</p>
<div class="fragment"><div class="line"><a name="l04979"></a><span class="lineno"> 4979</span>&#160;{</div><div class="line"><a name="l04980"></a><span class="lineno"> 4980</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d4/dc5/extconf_8c.html#a593479e31e55e828ccb23cd34ec881b1">pbx_extension_helper</a>(c, con, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>, 0, label, callerid, <a class="code" href="../../dd/ddb/extconf_8h.html#a2b7f0fafc6995b2630658a4fd8df26bea7b10ab7b3dd6af9d933dbb03dd183eb5">E_FINDLABEL</a>);</div><div class="line"><a name="l04981"></a><span class="lineno"> 4981</span>&#160;}</div><div class="ttc" id="chan__alsa_8c_html_a78d4847658b695383d849efd12399b38"><div class="ttname"><a href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a></div><div class="ttdeci">static char exten[AST_MAX_EXTENSION]</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d45/chan__alsa_8c_source.html#l00118">chan_alsa.c:118</a></div></div>
<div class="ttc" id="extconf_8c_html_a593479e31e55e828ccb23cd34ec881b1"><div class="ttname"><a href="../../d4/dc5/extconf_8c.html#a593479e31e55e828ccb23cd34ec881b1">pbx_extension_helper</a></div><div class="ttdeci">static int pbx_extension_helper(struct ast_channel *c, struct ast_context *con, const char *context, const char *exten, int priority, const char *label, const char *callerid, enum ext_match_t action)</div><div class="ttdoc">The return value depends on the action: </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc5/extconf_8c_source.html#l04917">extconf.c:4917</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="extconf_8h_html_a2b7f0fafc6995b2630658a4fd8df26bea7b10ab7b3dd6af9d933dbb03dd183eb5"><div class="ttname"><a href="../../dd/ddb/extconf_8h.html#a2b7f0fafc6995b2630658a4fd8df26bea7b10ab7b3dd6af9d933dbb03dd183eb5">E_FINDLABEL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/ddb/extconf_8h_source.html#l00221">extconf.h:221</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa4e9618aa036a586af7d7663afd9b507"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa4e9618aa036a586af7d7663afd9b507">&#9670;&nbsp;</a></span>ast_func_read()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_func_read </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>function</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>workspace</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>executes a read operation on a function </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chan</td><td>Channel to execute on </td></tr>
    <tr><td class="paramname">function</td><td>Data containing the function call string (will be modified) </td></tr>
    <tr><td class="paramname">workspace</td><td>A pointer to safe memory to use for a return value </td></tr>
    <tr><td class="paramname">len</td><td>the number of bytes in workspace</td></tr>
  </table>
  </dd>
</dl>
<p>This application executes a function in read mode on a given channel.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>success </td></tr>
    <tr><td class="paramname">non-zero</td><td>failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../db/d70/pbx__functions_8c_source.html#l00599">599</a> of file <a class="el" href="../../db/d70/pbx__functions_8c_source.html">pbx_functions.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d96/loader_8c_source.html#l00800">__ast_module_user_add()</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00826">__ast_module_user_remove()</a>, <a class="el" href="../../d5/dde/test__func__file_8c_source.html#l00046">args</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00401">ast_copy_string()</a>, <a class="el" href="../../db/d70/pbx__functions_8c_source.html#l00262">ast_custom_function_find()</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00714">ast_str_buffer()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00620">ast_str_create</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00699">ast_str_size()</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00300">ast_strdupa</a>, <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l04629">copy()</a>, <a class="el" href="../../db/d70/pbx__functions_8c_source.html#l00448">func_args()</a>, <a class="el" href="../../db/d70/pbx__functions_8c_source.html#l00541">is_read_allowed()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../db/de0/pbx_8h_source.html#l00142">ast_custom_function::mod</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../db/de0/pbx_8h_source.html#l00129">ast_custom_function::read</a>, <a class="el" href="../../db/de0/pbx_8h_source.html#l00137">ast_custom_function::read2</a>, and <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00147">str</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d10/manager_8c_source.html#l04610">action_getvar()</a>, <a class="el" href="../../d4/d8f/res__hep__rtcp_8c_source.html#l00046">assign_uuid()</a>, <a class="el" href="../../dc/d6b/res__xmpp_8c_source.html#l03827">fetch_access_token()</a>, <a class="el" href="../../d9/d96/res__pjsip__outbound__registration_8c_source.html#l01485">fetch_google_access_token()</a>, <a class="el" href="../../d4/d10/manager_8c_source.html#l04662">generate_status()</a>, <a class="el" href="../../dd/de9/res__agi_8c_source.html#l03216">handle_getvariable()</a>, <a class="el" href="../../d6/dde/pbx__lua_8c_source.html#l00300">lua_get_variable_value()</a>, and <a class="el" href="../../d3/d8c/pbx__variables_8c_source.html#l00626">pbx_substitute_variables_helper_full()</a>.</p>
<div class="fragment"><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;{</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;   <span class="keywordtype">char</span> *<a class="code" href="../../dc/df4/app__voicemail_8c.html#abe15777a07ac747625b018ac01f92531">copy</a> = <a class="code" href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a>(<span class="keyword">function</span>);</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;   <span class="keywordtype">char</span> *<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a> = <a class="code" href="../../db/d70/pbx__functions_8c.html#a2d0f37f8baa5d6fcf93cf4fab6342c36">func_args</a>(copy);</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../db/dc0/structast__custom__function.html">ast_custom_function</a> *acfptr = <a class="code" href="../../db/d70/pbx__functions_8c.html#a5e0f8c2ce2a3c8994648254799a0c3b7">ast_custom_function_find</a>(copy);</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d98/structast__module__user.html">ast_module_user</a> *u = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;   <span class="keywordflow">if</span> (acfptr == <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Function %s not registered\n&quot;</span>, copy);</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!acfptr-&gt;<a class="code" href="../../db/dc0/structast__custom__function.html#a6e4760f05e31d0cd62e4330b568352fb">read</a> &amp;&amp; !acfptr-&gt;<a class="code" href="../../db/dc0/structast__custom__function.html#ad081d0dedd4917c1ffeec9fd4b4235df">read2</a>) {</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Function %s cannot be read\n&quot;</span>, copy);</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code" href="../../db/d70/pbx__functions_8c.html#a0777bd1999dc336c1558d02d62437c10">is_read_allowed</a>(acfptr)) {</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Dangerous function %s read blocked\n&quot;</span>, copy);</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (acfptr-&gt;<a class="code" href="../../db/dc0/structast__custom__function.html#a6e4760f05e31d0cd62e4330b568352fb">read</a>) {</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;      <span class="keywordflow">if</span> (acfptr-&gt;<a class="code" href="../../db/dc0/structast__custom__function.html#a782aff512368932b8d71b3633f88cb04">mod</a>) {</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;         u = <a class="code" href="../../d5/d16/module_8h.html#ad315d50d0a7d61cb9feac19223fff8c0">__ast_module_user_add</a>(acfptr-&gt;<a class="code" href="../../db/dc0/structast__custom__function.html#a782aff512368932b8d71b3633f88cb04">mod</a>, chan);</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;      }</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;      res = acfptr-&gt;<a class="code" href="../../db/dc0/structast__custom__function.html#a6e4760f05e31d0cd62e4330b568352fb">read</a>(chan, copy, args, workspace, <a class="code" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>);</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;      <span class="keywordflow">if</span> (acfptr-&gt;<a class="code" href="../../db/dc0/structast__custom__function.html#a782aff512368932b8d71b3633f88cb04">mod</a> &amp;&amp; u) {</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;         <a class="code" href="../../d5/d16/module_8h.html#aee5ac94e279928d1d1f7b6aafb62ec7a">__ast_module_user_remove</a>(acfptr-&gt;<a class="code" href="../../db/dc0/structast__custom__function.html#a782aff512368932b8d71b3633f88cb04">mod</a>, u);</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;      }</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;      <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;      <span class="keyword">struct </span><a class="code" href="../../dd/da2/structast__str.html">ast_str</a> *<a class="code" href="../../de/dcd/app__jack_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a> = <a class="code" href="../../d6/d90/strings_8h.html#a9c34c6c6b8daaba24c0406270f3cf697">ast_str_create</a>(16);</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;      <span class="keywordflow">if</span> (acfptr-&gt;<a class="code" href="../../db/dc0/structast__custom__function.html#a782aff512368932b8d71b3633f88cb04">mod</a>) {</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;         u = <a class="code" href="../../d5/d16/module_8h.html#ad315d50d0a7d61cb9feac19223fff8c0">__ast_module_user_add</a>(acfptr-&gt;<a class="code" href="../../db/dc0/structast__custom__function.html#a782aff512368932b8d71b3633f88cb04">mod</a>, chan);</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;      }</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;      res = acfptr-&gt;<a class="code" href="../../db/dc0/structast__custom__function.html#ad081d0dedd4917c1ffeec9fd4b4235df">read2</a>(chan, copy, args, &amp;str, 0);</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;      <span class="keywordflow">if</span> (acfptr-&gt;<a class="code" href="../../db/dc0/structast__custom__function.html#a782aff512368932b8d71b3633f88cb04">mod</a> &amp;&amp; u) {</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;         <a class="code" href="../../d5/d16/module_8h.html#aee5ac94e279928d1d1f7b6aafb62ec7a">__ast_module_user_remove</a>(acfptr-&gt;<a class="code" href="../../db/dc0/structast__custom__function.html#a782aff512368932b8d71b3633f88cb04">mod</a>, u);</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;      }</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;      <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(workspace, <a class="code" href="../../d6/d90/strings_8h.html#a1ef7e2644ca7258070db316fdc0a465b">ast_str_buffer</a>(str), <a class="code" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a> &gt; <a class="code" href="../../d6/d90/strings_8h.html#ae99d6f51ac4be6b72f8b63892cd949e1">ast_str_size</a>(str) ? <a class="code" href="../../d6/d90/strings_8h.html#ae99d6f51ac4be6b72f8b63892cd949e1">ast_str_size</a>(str) : <a class="code" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>);</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(str);</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;      <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;   }</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;   <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;}</div><div class="ttc" id="strings_8h_html_ae99d6f51ac4be6b72f8b63892cd949e1"><div class="ttname"><a href="../../d6/d90/strings_8h.html#ae99d6f51ac4be6b72f8b63892cd949e1">ast_str_size</a></div><div class="ttdeci">size_t ast_str_size(const struct ast_str *buf)</div><div class="ttdoc">Returns the current maximum length (without reallocation) of the current buffer. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00699">strings.h:699</a></div></div>
<div class="ttc" id="pbx__functions_8c_html_a0777bd1999dc336c1558d02d62437c10"><div class="ttname"><a href="../../db/d70/pbx__functions_8c.html#a0777bd1999dc336c1558d02d62437c10">is_read_allowed</a></div><div class="ttdeci">static int is_read_allowed(struct ast_custom_function *acfptr)</div><div class="ttdoc">Determines whether execution of a custom function&amp;#39;s read function is allowed. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d70/pbx__functions_8c_source.html#l00541">pbx_functions.c:541</a></div></div>
<div class="ttc" id="strings_8h_html_a1ef7e2644ca7258070db316fdc0a465b"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a1ef7e2644ca7258070db316fdc0a465b">ast_str_buffer</a></div><div class="ttdeci">char * ast_str_buffer(const struct ast_str *buf)</div><div class="ttdoc">Returns the string buffer within the ast_str buf. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00714">strings.h:714</a></div></div>
<div class="ttc" id="module_8h_html_aee5ac94e279928d1d1f7b6aafb62ec7a"><div class="ttname"><a href="../../d5/d16/module_8h.html#aee5ac94e279928d1d1f7b6aafb62ec7a">__ast_module_user_remove</a></div><div class="ttdeci">void __ast_module_user_remove(struct ast_module *, struct ast_module_user *)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00826">loader.c:826</a></div></div>
<div class="ttc" id="app__voicemail_8c_html_abe15777a07ac747625b018ac01f92531"><div class="ttname"><a href="../../dc/df4/app__voicemail_8c.html#abe15777a07ac747625b018ac01f92531">copy</a></div><div class="ttdeci">static int copy(char *infile, char *outfile)</div><div class="ttdoc">Utility function to copy a file. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df4/app__voicemail_8c_source.html#l04629">app_voicemail.c:4629</a></div></div>
<div class="ttc" id="structast__custom__function_html_a782aff512368932b8d71b3633f88cb04"><div class="ttname"><a href="../../db/dc0/structast__custom__function.html#a782aff512368932b8d71b3633f88cb04">ast_custom_function::mod</a></div><div class="ttdeci">struct ast_module * mod</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de0/pbx_8h_source.html#l00142">pbx.h:142</a></div></div>
<div class="ttc" id="app__jack_8c_html_af25d6dc49269fa2003ac7c7fa6f13915"><div class="ttname"><a href="../../de/dcd/app__jack_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a></div><div class="ttdeci">const char * str</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00147">app_jack.c:147</a></div></div>
<div class="ttc" id="test__func__file_8c_html_a7df83d295429a2562396f1ec127a46c0"><div class="ttname"><a href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a></div><div class="ttdeci">const char * args</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/test__func__file_8c_source.html#l00046">test_func_file.c:46</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="structast__module__user_html"><div class="ttname"><a href="../../d4/d98/structast__module__user.html">ast_module_user</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00127">loader.c:127</a></div></div>
<div class="ttc" id="pbx__functions_8c_html_a2d0f37f8baa5d6fcf93cf4fab6342c36"><div class="ttname"><a href="../../db/d70/pbx__functions_8c.html#a2d0f37f8baa5d6fcf93cf4fab6342c36">func_args</a></div><div class="ttdeci">static char * func_args(char *function)</div><div class="ttdoc">return a pointer to the arguments of the function, and terminates the function name with &amp;#39;\0&amp;#39; ...</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d70/pbx__functions_8c_source.html#l00448">pbx_functions.c:448</a></div></div>
<div class="ttc" id="structast__custom__function_html"><div class="ttname"><a href="../../db/dc0/structast__custom__function.html">ast_custom_function</a></div><div class="ttdoc">Data structure associated with a custom dialplan function. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/de0/pbx_8h_source.html#l00118">pbx.h:118</a></div></div>
<div class="ttc" id="astmm_8h_html_ab5f0750cc80ba337fdcbddea2d3a1ee6"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a></div><div class="ttdeci">#define ast_strdupa(s)</div><div class="ttdoc">duplicate a string in memory from the stack </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00300">astmm.h:300</a></div></div>
<div class="ttc" id="module_8h_html_ad315d50d0a7d61cb9feac19223fff8c0"><div class="ttname"><a href="../../d5/d16/module_8h.html#ad315d50d0a7d61cb9feac19223fff8c0">__ast_module_user_add</a></div><div class="ttdeci">struct ast_module_user * __ast_module_user_add(struct ast_module *, struct ast_channel *)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00800">loader.c:800</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="structast__custom__function_html_ad081d0dedd4917c1ffeec9fd4b4235df"><div class="ttname"><a href="../../db/dc0/structast__custom__function.html#ad081d0dedd4917c1ffeec9fd4b4235df">ast_custom_function::read2</a></div><div class="ttdeci">ast_acf_read2_fn_t read2</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de0/pbx_8h_source.html#l00137">pbx.h:137</a></div></div>
<div class="ttc" id="structast__str_html"><div class="ttname"><a href="../../dd/da2/structast__str.html">ast_str</a></div><div class="ttdoc">The descriptor of a dynamic string XXX storage will be optimized later if needed We use the ts field ...</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00584">strings.h:584</a></div></div>
<div class="ttc" id="func__strings_8c_html_af24e73aaf92f3000fda15d285e66df24"><div class="ttname"><a href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a></div><div class="ttdeci">static int len(struct ast_channel *chan, const char *cmd, char *data, char *buf, size_t buflen)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d1e/func__strings_8c_source.html#l01344">func_strings.c:1344</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="pbx__functions_8c_html_a5e0f8c2ce2a3c8994648254799a0c3b7"><div class="ttname"><a href="../../db/d70/pbx__functions_8c.html#a5e0f8c2ce2a3c8994648254799a0c3b7">ast_custom_function_find</a></div><div class="ttdeci">struct ast_custom_function * ast_custom_function_find(const char *name)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d70/pbx__functions_8c_source.html#l00262">pbx_functions.c:262</a></div></div>
<div class="ttc" id="structast__custom__function_html_a6e4760f05e31d0cd62e4330b568352fb"><div class="ttname"><a href="../../db/dc0/structast__custom__function.html#a6e4760f05e31d0cd62e4330b568352fb">ast_custom_function::read</a></div><div class="ttdeci">ast_acf_read_fn_t read</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de0/pbx_8h_source.html#l00129">pbx.h:129</a></div></div>
<div class="ttc" id="strings_8h_html_ac4040268f7b6ed77dfc49c7767626369"><div class="ttname"><a href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a></div><div class="ttdeci">void ast_copy_string(char *dst, const char *src, size_t size)</div><div class="ttdoc">Size-limited null-terminating string copy. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00401">strings.h:401</a></div></div>
<div class="ttc" id="strings_8h_html_a9c34c6c6b8daaba24c0406270f3cf697"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a9c34c6c6b8daaba24c0406270f3cf697">ast_str_create</a></div><div class="ttdeci">#define ast_str_create(init_len)</div><div class="ttdoc">Create a malloc&amp;#39;ed dynamic length string. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00620">strings.h:620</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a9c74b2f5ba8be6e351d35c1b97803e1e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c74b2f5ba8be6e351d35c1b97803e1e">&#9670;&nbsp;</a></span>ast_func_read2()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_func_read2 </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>function</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../dd/da2/structast__str.html">ast_str</a> **&#160;</td>
          <td class="paramname"><em>str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ssize_t&#160;</td>
          <td class="paramname"><em>maxlen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>executes a read operation on a function </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chan</td><td>Channel to execute on </td></tr>
    <tr><td class="paramname">function</td><td>Data containing the function call string (will be modified) </td></tr>
    <tr><td class="paramname">str</td><td>A dynamic string buffer into which to place the result. </td></tr>
    <tr><td class="paramname">maxlen</td><td>&lt;0 if the dynamic buffer should not grow; &gt;0 if the dynamic buffer should be limited to that number of bytes; 0 if the dynamic buffer has no upper limit</td></tr>
  </table>
  </dd>
</dl>
<p>This application executes a function in read mode on a given channel.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>success </td></tr>
    <tr><td class="paramname">non-zero</td><td>failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../db/d70/pbx__functions_8c_source.html#l00642">642</a> of file <a class="el" href="../../db/d70/pbx__functions_8c_source.html">pbx_functions.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d96/loader_8c_source.html#l00800">__ast_module_user_add()</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00826">__ast_module_user_remove()</a>, <a class="el" href="../../d5/dde/test__func__file_8c_source.html#l00046">args</a>, <a class="el" href="../../db/d70/pbx__functions_8c_source.html#l00262">ast_custom_function_find()</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00714">ast_str_buffer()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00780">ast_str_make_space</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00653">ast_str_reset()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00699">ast_str_size()</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00300">ast_strdupa</a>, <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l04629">copy()</a>, <a class="el" href="../../db/d70/pbx__functions_8c_source.html#l00448">func_args()</a>, <a class="el" href="../../db/d70/pbx__functions_8c_source.html#l00541">is_read_allowed()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../df/ddb/cdr__adaptive__odbc_8c_source.html#l00063">maxsize</a>, <a class="el" href="../../db/de0/pbx_8h_source.html#l00142">ast_custom_function::mod</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../db/de0/pbx_8h_source.html#l00129">ast_custom_function::read</a>, <a class="el" href="../../db/de0/pbx_8h_source.html#l00137">ast_custom_function::read2</a>, <a class="el" href="../../db/de0/pbx_8h_source.html#l00139">ast_custom_function::read_max</a>, and <a class="el" href="../../d9/da0/pbx__private_8h_source.html#l00068">VAR_BUF_SIZE</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/d49/resource__channels_8c_source.html#l01472">ast_ari_channels_get_channel_var()</a>, <a class="el" href="../../d3/d8c/pbx__variables_8c_source.html#l00394">ast_str_substitute_variables_full()</a>, <a class="el" href="../../d8/d4f/test__config_8c_source.html#l01686">AST_TEST_DEFINE()</a>, and <a class="el" href="../../d4/d28/channel_8c_source.html#l08038">channel_get_external_vars()</a>.</p>
<div class="fragment"><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;{</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;   <span class="keywordtype">char</span> *<a class="code" href="../../dc/df4/app__voicemail_8c.html#abe15777a07ac747625b018ac01f92531">copy</a> = <a class="code" href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a>(<span class="keyword">function</span>);</div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;   <span class="keywordtype">char</span> *<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a> = <a class="code" href="../../db/d70/pbx__functions_8c.html#a2d0f37f8baa5d6fcf93cf4fab6342c36">func_args</a>(copy);</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../db/dc0/structast__custom__function.html">ast_custom_function</a> *acfptr = <a class="code" href="../../db/d70/pbx__functions_8c.html#a5e0f8c2ce2a3c8994648254799a0c3b7">ast_custom_function_find</a>(copy);</div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d98/structast__module__user.html">ast_module_user</a> *u = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;   <span class="keywordflow">if</span> (acfptr == <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Function %s not registered\n&quot;</span>, copy);</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!acfptr-&gt;<a class="code" href="../../db/dc0/structast__custom__function.html#a6e4760f05e31d0cd62e4330b568352fb">read</a> &amp;&amp; !acfptr-&gt;<a class="code" href="../../db/dc0/structast__custom__function.html#ad081d0dedd4917c1ffeec9fd4b4235df">read2</a>) {</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Function %s cannot be read\n&quot;</span>, copy);</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code" href="../../db/d70/pbx__functions_8c.html#a0777bd1999dc336c1558d02d62437c10">is_read_allowed</a>(acfptr)) {</div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Dangerous function %s read blocked\n&quot;</span>, copy);</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;      <span class="keywordflow">if</span> (acfptr-&gt;<a class="code" href="../../db/dc0/structast__custom__function.html#a782aff512368932b8d71b3633f88cb04">mod</a>) {</div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;         u = <a class="code" href="../../d5/d16/module_8h.html#ad315d50d0a7d61cb9feac19223fff8c0">__ast_module_user_add</a>(acfptr-&gt;<a class="code" href="../../db/dc0/structast__custom__function.html#a782aff512368932b8d71b3633f88cb04">mod</a>, chan);</div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;      }</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;      <a class="code" href="../../d6/d90/strings_8h.html#a8239b9ad10367bfc936e9b60ff7706a8">ast_str_reset</a>(*str);</div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;      <span class="keywordflow">if</span> (acfptr-&gt;<a class="code" href="../../db/dc0/structast__custom__function.html#ad081d0dedd4917c1ffeec9fd4b4235df">read2</a>) {</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;         <span class="comment">/* ast_str enabled */</span></div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;         res = acfptr-&gt;<a class="code" href="../../db/dc0/structast__custom__function.html#ad081d0dedd4917c1ffeec9fd4b4235df">read2</a>(chan, copy, args, str, maxlen);</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;         <span class="comment">/* Legacy function pointer, allocate buffer for result */</span></div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;         <span class="keywordtype">int</span> <a class="code" href="../../df/ddb/cdr__adaptive__odbc_8c.html#a221112d1b68cb436224eeb1a98815a4e">maxsize</a> = <a class="code" href="../../d6/d90/strings_8h.html#ae99d6f51ac4be6b72f8b63892cd949e1">ast_str_size</a>(*str);</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;         <span class="keywordflow">if</span> (maxlen &gt; -1) {</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;            <span class="keywordflow">if</span> (maxlen == 0) {</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;               <span class="keywordflow">if</span> (acfptr-&gt;<a class="code" href="../../db/dc0/structast__custom__function.html#ac4fc370b8785b8decb2e9510decc9934">read_max</a>) {</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;                  maxsize = acfptr-&gt;<a class="code" href="../../db/dc0/structast__custom__function.html#ac4fc370b8785b8decb2e9510decc9934">read_max</a>;</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;               } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;                  maxsize = <a class="code" href="../../d9/da0/pbx__private_8h.html#ae1761f6ffd7763505cd891d3314cd7e4">VAR_BUF_SIZE</a>;</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;               }</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;            } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;               maxsize = maxlen;</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;            }</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;            <a class="code" href="../../d6/d90/strings_8h.html#aa3d67163f6a94e575ee602933adf1eab">ast_str_make_space</a>(str, maxsize);</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;         }</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;         res = acfptr-&gt;<a class="code" href="../../db/dc0/structast__custom__function.html#a6e4760f05e31d0cd62e4330b568352fb">read</a>(chan, copy, args, <a class="code" href="../../d6/d90/strings_8h.html#a1ef7e2644ca7258070db316fdc0a465b">ast_str_buffer</a>(*str), maxsize);</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;      }</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;      <span class="keywordflow">if</span> (acfptr-&gt;<a class="code" href="../../db/dc0/structast__custom__function.html#a782aff512368932b8d71b3633f88cb04">mod</a> &amp;&amp; u) {</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;         <a class="code" href="../../d5/d16/module_8h.html#aee5ac94e279928d1d1f7b6aafb62ec7a">__ast_module_user_remove</a>(acfptr-&gt;<a class="code" href="../../db/dc0/structast__custom__function.html#a782aff512368932b8d71b3633f88cb04">mod</a>, u);</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;      }</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;      <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;   }</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;   <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;}</div><div class="ttc" id="strings_8h_html_ae99d6f51ac4be6b72f8b63892cd949e1"><div class="ttname"><a href="../../d6/d90/strings_8h.html#ae99d6f51ac4be6b72f8b63892cd949e1">ast_str_size</a></div><div class="ttdeci">size_t ast_str_size(const struct ast_str *buf)</div><div class="ttdoc">Returns the current maximum length (without reallocation) of the current buffer. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00699">strings.h:699</a></div></div>
<div class="ttc" id="pbx__functions_8c_html_a0777bd1999dc336c1558d02d62437c10"><div class="ttname"><a href="../../db/d70/pbx__functions_8c.html#a0777bd1999dc336c1558d02d62437c10">is_read_allowed</a></div><div class="ttdeci">static int is_read_allowed(struct ast_custom_function *acfptr)</div><div class="ttdoc">Determines whether execution of a custom function&amp;#39;s read function is allowed. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d70/pbx__functions_8c_source.html#l00541">pbx_functions.c:541</a></div></div>
<div class="ttc" id="strings_8h_html_aa3d67163f6a94e575ee602933adf1eab"><div class="ttname"><a href="../../d6/d90/strings_8h.html#aa3d67163f6a94e575ee602933adf1eab">ast_str_make_space</a></div><div class="ttdeci">#define ast_str_make_space(buf, new_len)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00780">strings.h:780</a></div></div>
<div class="ttc" id="strings_8h_html_a1ef7e2644ca7258070db316fdc0a465b"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a1ef7e2644ca7258070db316fdc0a465b">ast_str_buffer</a></div><div class="ttdeci">char * ast_str_buffer(const struct ast_str *buf)</div><div class="ttdoc">Returns the string buffer within the ast_str buf. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00714">strings.h:714</a></div></div>
<div class="ttc" id="module_8h_html_aee5ac94e279928d1d1f7b6aafb62ec7a"><div class="ttname"><a href="../../d5/d16/module_8h.html#aee5ac94e279928d1d1f7b6aafb62ec7a">__ast_module_user_remove</a></div><div class="ttdeci">void __ast_module_user_remove(struct ast_module *, struct ast_module_user *)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00826">loader.c:826</a></div></div>
<div class="ttc" id="app__voicemail_8c_html_abe15777a07ac747625b018ac01f92531"><div class="ttname"><a href="../../dc/df4/app__voicemail_8c.html#abe15777a07ac747625b018ac01f92531">copy</a></div><div class="ttdeci">static int copy(char *infile, char *outfile)</div><div class="ttdoc">Utility function to copy a file. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df4/app__voicemail_8c_source.html#l04629">app_voicemail.c:4629</a></div></div>
<div class="ttc" id="structast__custom__function_html_a782aff512368932b8d71b3633f88cb04"><div class="ttname"><a href="../../db/dc0/structast__custom__function.html#a782aff512368932b8d71b3633f88cb04">ast_custom_function::mod</a></div><div class="ttdeci">struct ast_module * mod</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de0/pbx_8h_source.html#l00142">pbx.h:142</a></div></div>
<div class="ttc" id="test__func__file_8c_html_a7df83d295429a2562396f1ec127a46c0"><div class="ttname"><a href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a></div><div class="ttdeci">const char * args</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/test__func__file_8c_source.html#l00046">test_func_file.c:46</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="structast__module__user_html"><div class="ttname"><a href="../../d4/d98/structast__module__user.html">ast_module_user</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00127">loader.c:127</a></div></div>
<div class="ttc" id="pbx__functions_8c_html_a2d0f37f8baa5d6fcf93cf4fab6342c36"><div class="ttname"><a href="../../db/d70/pbx__functions_8c.html#a2d0f37f8baa5d6fcf93cf4fab6342c36">func_args</a></div><div class="ttdeci">static char * func_args(char *function)</div><div class="ttdoc">return a pointer to the arguments of the function, and terminates the function name with &amp;#39;\0&amp;#39; ...</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d70/pbx__functions_8c_source.html#l00448">pbx_functions.c:448</a></div></div>
<div class="ttc" id="structast__custom__function_html"><div class="ttname"><a href="../../db/dc0/structast__custom__function.html">ast_custom_function</a></div><div class="ttdoc">Data structure associated with a custom dialplan function. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/de0/pbx_8h_source.html#l00118">pbx.h:118</a></div></div>
<div class="ttc" id="structast__custom__function_html_ac4fc370b8785b8decb2e9510decc9934"><div class="ttname"><a href="../../db/dc0/structast__custom__function.html#ac4fc370b8785b8decb2e9510decc9934">ast_custom_function::read_max</a></div><div class="ttdeci">size_t read_max</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de0/pbx_8h_source.html#l00139">pbx.h:139</a></div></div>
<div class="ttc" id="astmm_8h_html_ab5f0750cc80ba337fdcbddea2d3a1ee6"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a></div><div class="ttdeci">#define ast_strdupa(s)</div><div class="ttdoc">duplicate a string in memory from the stack </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00300">astmm.h:300</a></div></div>
<div class="ttc" id="module_8h_html_ad315d50d0a7d61cb9feac19223fff8c0"><div class="ttname"><a href="../../d5/d16/module_8h.html#ad315d50d0a7d61cb9feac19223fff8c0">__ast_module_user_add</a></div><div class="ttdeci">struct ast_module_user * __ast_module_user_add(struct ast_module *, struct ast_channel *)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00800">loader.c:800</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="structast__custom__function_html_ad081d0dedd4917c1ffeec9fd4b4235df"><div class="ttname"><a href="../../db/dc0/structast__custom__function.html#ad081d0dedd4917c1ffeec9fd4b4235df">ast_custom_function::read2</a></div><div class="ttdeci">ast_acf_read2_fn_t read2</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de0/pbx_8h_source.html#l00137">pbx.h:137</a></div></div>
<div class="ttc" id="pbx__private_8h_html_ae1761f6ffd7763505cd891d3314cd7e4"><div class="ttname"><a href="../../d9/da0/pbx__private_8h.html#ae1761f6ffd7763505cd891d3314cd7e4">VAR_BUF_SIZE</a></div><div class="ttdeci">#define VAR_BUF_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/da0/pbx__private_8h_source.html#l00068">pbx_private.h:68</a></div></div>
<div class="ttc" id="cdr__adaptive__odbc_8c_html_a221112d1b68cb436224eeb1a98815a4e"><div class="ttname"><a href="../../df/ddb/cdr__adaptive__odbc_8c.html#a221112d1b68cb436224eeb1a98815a4e">maxsize</a></div><div class="ttdeci">static int maxsize</div><div class="ttdef"><b>Definition:</b> <a href="../../df/ddb/cdr__adaptive__odbc_8c_source.html#l00063">cdr_adaptive_odbc.c:63</a></div></div>
<div class="ttc" id="pbx__functions_8c_html_a5e0f8c2ce2a3c8994648254799a0c3b7"><div class="ttname"><a href="../../db/d70/pbx__functions_8c.html#a5e0f8c2ce2a3c8994648254799a0c3b7">ast_custom_function_find</a></div><div class="ttdeci">struct ast_custom_function * ast_custom_function_find(const char *name)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d70/pbx__functions_8c_source.html#l00262">pbx_functions.c:262</a></div></div>
<div class="ttc" id="strings_8h_html_a8239b9ad10367bfc936e9b60ff7706a8"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a8239b9ad10367bfc936e9b60ff7706a8">ast_str_reset</a></div><div class="ttdeci">void ast_str_reset(struct ast_str *buf)</div><div class="ttdoc">Reset the content of a dynamic string. Useful before a series of ast_str_append. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00653">strings.h:653</a></div></div>
<div class="ttc" id="structast__custom__function_html_a6e4760f05e31d0cd62e4330b568352fb"><div class="ttname"><a href="../../db/dc0/structast__custom__function.html#a6e4760f05e31d0cd62e4330b568352fb">ast_custom_function::read</a></div><div class="ttdeci">ast_acf_read_fn_t read</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de0/pbx_8h_source.html#l00129">pbx.h:129</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae70e64cdf669396c88ea8eda900b0b3b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae70e64cdf669396c88ea8eda900b0b3b">&#9670;&nbsp;</a></span>ast_func_write()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_func_write </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>function</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>executes a write operation on a function </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chan</td><td>Channel to execute on </td></tr>
    <tr><td class="paramname">function</td><td>Data containing the function call string (will be modified) </td></tr>
    <tr><td class="paramname">value</td><td>A value parameter to pass for writing</td></tr>
  </table>
  </dd>
</dl>
<p>This application executes a function in write mode on a given channel.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>success </td></tr>
    <tr><td class="paramname">non-zero</td><td>failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../db/d70/pbx__functions_8c_source.html#l00692">692</a> of file <a class="el" href="../../db/d70/pbx__functions_8c_source.html">pbx_functions.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d96/loader_8c_source.html#l00800">__ast_module_user_add()</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00826">__ast_module_user_remove()</a>, <a class="el" href="../../d5/dde/test__func__file_8c_source.html#l00046">args</a>, <a class="el" href="../../db/d70/pbx__functions_8c_source.html#l00262">ast_custom_function_find()</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00300">ast_strdupa</a>, <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l04629">copy()</a>, <a class="el" href="../../db/d70/pbx__functions_8c_source.html#l00448">func_args()</a>, <a class="el" href="../../db/d70/pbx__functions_8c_source.html#l00574">is_write_allowed()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../db/de0/pbx_8h_source.html#l00142">ast_custom_function::mod</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../db/de0/pbx_8h_source.html#l00141">ast_custom_function::write</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d28/channel_8c_source.html#l04391">ast_channel_hangupcause_hash_set()</a>, <a class="el" href="../../d5/dde/test__func__file_8c_source.html#l00248">AST_TEST_DEFINE()</a>, <a class="el" href="../../d2/d43/app__chanisavail_8c_source.html#l00102">chanavail_exec()</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l03177">conf_run()</a>, <a class="el" href="../../d0/dcf/app__confbridge_8c_source.html#l02544">confbridge_exec()</a>, <a class="el" href="../../d9/d96/res__pjsip__outbound__registration_8c_source.html#l01485">fetch_google_access_token()</a>, <a class="el" href="../../d3/d8c/pbx__variables_8c_source.html#l01038">pbx_builtin_pushvar_helper()</a>, <a class="el" href="../../d3/d8c/pbx__variables_8c_source.html#l01071">pbx_builtin_setvar_helper()</a>, <a class="el" href="../../d3/da4/app__page_8c_source.html#l00180">setup_profile_bridge()</a>, <a class="el" href="../../d3/da4/app__page_8c_source.html#l00222">setup_profile_caller()</a>, and <a class="el" href="../../d3/da4/app__page_8c_source.html#l00198">setup_profile_paged()</a>.</p>
<div class="fragment"><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;{</div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;   <span class="keywordtype">char</span> *<a class="code" href="../../dc/df4/app__voicemail_8c.html#abe15777a07ac747625b018ac01f92531">copy</a> = <a class="code" href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a>(<span class="keyword">function</span>);</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;   <span class="keywordtype">char</span> *<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a> = <a class="code" href="../../db/d70/pbx__functions_8c.html#a2d0f37f8baa5d6fcf93cf4fab6342c36">func_args</a>(copy);</div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../db/dc0/structast__custom__function.html">ast_custom_function</a> *acfptr = <a class="code" href="../../db/d70/pbx__functions_8c.html#a5e0f8c2ce2a3c8994648254799a0c3b7">ast_custom_function_find</a>(copy);</div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;   <span class="keywordflow">if</span> (acfptr == <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Function %s not registered\n&quot;</span>, copy);</div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!acfptr-&gt;<a class="code" href="../../db/dc0/structast__custom__function.html#a12b4eb89bb78da247bc61eeed36d5cee">write</a>) {</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Function %s cannot be written to\n&quot;</span>, copy);</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code" href="../../db/d70/pbx__functions_8c.html#ab269a89e1647715ba2310ae57ded9831">is_write_allowed</a>(acfptr)) {</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Dangerous function %s write blocked\n&quot;</span>, copy);</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;      <span class="keywordtype">int</span> res;</div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;      <span class="keyword">struct </span><a class="code" href="../../d4/d98/structast__module__user.html">ast_module_user</a> *u = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;</div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;      <span class="keywordflow">if</span> (acfptr-&gt;<a class="code" href="../../db/dc0/structast__custom__function.html#a782aff512368932b8d71b3633f88cb04">mod</a>) {</div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;         u = <a class="code" href="../../d5/d16/module_8h.html#ad315d50d0a7d61cb9feac19223fff8c0">__ast_module_user_add</a>(acfptr-&gt;<a class="code" href="../../db/dc0/structast__custom__function.html#a782aff512368932b8d71b3633f88cb04">mod</a>, chan);</div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;      }</div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;      res = acfptr-&gt;<a class="code" href="../../db/dc0/structast__custom__function.html#a12b4eb89bb78da247bc61eeed36d5cee">write</a>(chan, copy, args, <a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>);</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;      <span class="keywordflow">if</span> (acfptr-&gt;<a class="code" href="../../db/dc0/structast__custom__function.html#a782aff512368932b8d71b3633f88cb04">mod</a> &amp;&amp; u) {</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;         <a class="code" href="../../d5/d16/module_8h.html#aee5ac94e279928d1d1f7b6aafb62ec7a">__ast_module_user_remove</a>(acfptr-&gt;<a class="code" href="../../db/dc0/structast__custom__function.html#a782aff512368932b8d71b3633f88cb04">mod</a>, u);</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;      }</div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;      <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;   }</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;   <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;}</div><div class="ttc" id="module_8h_html_aee5ac94e279928d1d1f7b6aafb62ec7a"><div class="ttname"><a href="../../d5/d16/module_8h.html#aee5ac94e279928d1d1f7b6aafb62ec7a">__ast_module_user_remove</a></div><div class="ttdeci">void __ast_module_user_remove(struct ast_module *, struct ast_module_user *)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00826">loader.c:826</a></div></div>
<div class="ttc" id="app__voicemail_8c_html_abe15777a07ac747625b018ac01f92531"><div class="ttname"><a href="../../dc/df4/app__voicemail_8c.html#abe15777a07ac747625b018ac01f92531">copy</a></div><div class="ttdeci">static int copy(char *infile, char *outfile)</div><div class="ttdoc">Utility function to copy a file. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df4/app__voicemail_8c_source.html#l04629">app_voicemail.c:4629</a></div></div>
<div class="ttc" id="structast__custom__function_html_a782aff512368932b8d71b3633f88cb04"><div class="ttname"><a href="../../db/dc0/structast__custom__function.html#a782aff512368932b8d71b3633f88cb04">ast_custom_function::mod</a></div><div class="ttdeci">struct ast_module * mod</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de0/pbx_8h_source.html#l00142">pbx.h:142</a></div></div>
<div class="ttc" id="pbx__functions_8c_html_ab269a89e1647715ba2310ae57ded9831"><div class="ttname"><a href="../../db/d70/pbx__functions_8c.html#ab269a89e1647715ba2310ae57ded9831">is_write_allowed</a></div><div class="ttdeci">static int is_write_allowed(struct ast_custom_function *acfptr)</div><div class="ttdoc">Determines whether execution of a custom function&amp;#39;s write function is allowed. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d70/pbx__functions_8c_source.html#l00574">pbx_functions.c:574</a></div></div>
<div class="ttc" id="test__func__file_8c_html_a7df83d295429a2562396f1ec127a46c0"><div class="ttname"><a href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a></div><div class="ttdeci">const char * args</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/test__func__file_8c_source.html#l00046">test_func_file.c:46</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="syslog_8c_html_ac4f474c82e82cbb89ca7c36dd52be0ed"><div class="ttname"><a href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a></div><div class="ttdeci">int value</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d2f/syslog_8c_source.html#l00037">syslog.c:37</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="structast__module__user_html"><div class="ttname"><a href="../../d4/d98/structast__module__user.html">ast_module_user</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00127">loader.c:127</a></div></div>
<div class="ttc" id="pbx__functions_8c_html_a2d0f37f8baa5d6fcf93cf4fab6342c36"><div class="ttname"><a href="../../db/d70/pbx__functions_8c.html#a2d0f37f8baa5d6fcf93cf4fab6342c36">func_args</a></div><div class="ttdeci">static char * func_args(char *function)</div><div class="ttdoc">return a pointer to the arguments of the function, and terminates the function name with &amp;#39;\0&amp;#39; ...</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d70/pbx__functions_8c_source.html#l00448">pbx_functions.c:448</a></div></div>
<div class="ttc" id="structast__custom__function_html"><div class="ttname"><a href="../../db/dc0/structast__custom__function.html">ast_custom_function</a></div><div class="ttdoc">Data structure associated with a custom dialplan function. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/de0/pbx_8h_source.html#l00118">pbx.h:118</a></div></div>
<div class="ttc" id="astmm_8h_html_ab5f0750cc80ba337fdcbddea2d3a1ee6"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a></div><div class="ttdeci">#define ast_strdupa(s)</div><div class="ttdoc">duplicate a string in memory from the stack </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00300">astmm.h:300</a></div></div>
<div class="ttc" id="structast__custom__function_html_a12b4eb89bb78da247bc61eeed36d5cee"><div class="ttname"><a href="../../db/dc0/structast__custom__function.html#a12b4eb89bb78da247bc61eeed36d5cee">ast_custom_function::write</a></div><div class="ttdeci">ast_acf_write_fn_t write</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de0/pbx_8h_source.html#l00141">pbx.h:141</a></div></div>
<div class="ttc" id="module_8h_html_ad315d50d0a7d61cb9feac19223fff8c0"><div class="ttname"><a href="../../d5/d16/module_8h.html#ad315d50d0a7d61cb9feac19223fff8c0">__ast_module_user_add</a></div><div class="ttdeci">struct ast_module_user * __ast_module_user_add(struct ast_module *, struct ast_channel *)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00800">loader.c:800</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="pbx__functions_8c_html_a5e0f8c2ce2a3c8994648254799a0c3b7"><div class="ttname"><a href="../../db/d70/pbx__functions_8c.html#a5e0f8c2ce2a3c8994648254799a0c3b7">ast_custom_function_find</a></div><div class="ttdeci">struct ast_custom_function * ast_custom_function_find(const char *name)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d70/pbx__functions_8c_source.html#l00262">pbx_functions.c:262</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a8a3d015c3048804b0c2a37413a14f11e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a3d015c3048804b0c2a37413a14f11e">&#9670;&nbsp;</a></span>ast_get_context_name()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static const char * ast_get_context_name </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d6/d7c/structast__context.html">ast_context</a> *&#160;</td>
          <td class="paramname"><em>con</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/db7/ael__main_8c_source.html#l00421">421</a> of file <a class="el" href="../../d2/db7/ael__main_8c_source.html">ael_main.c</a>.</p>

<p class="reference">References <a class="el" href="../../d2/db7/ael__main_8c_source.html#l00427">ast_walk_context_extensions()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l00238">ast_exten::exten</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l00297">ast_context::name</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/d1b/app__macro_8c_source.html#l00236">_macro_exec()</a>, <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00422">add_extension()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l03982">ast_add_hint()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l04096">ast_change_hint()</a>, <a class="el" href="../../d0/d85/pval_8c_source.html#l04413">ast_compile_ael2()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l06726">ast_context_add_include2()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l06791">ast_context_add_switch2()</a>, <a class="el" href="../../d2/db7/ael__main_8c_source.html#l00414">ast_context_destroy()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l04863">ast_context_remove_include2()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l04920">ast_context_remove_switch2()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08750">ast_context_verify_includes()</a>, <a class="el" href="../../de/dcc/conf2ael_8c_source.html#l00639">ast_merge_contexts_and_delete()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l03945">ast_remove_hint()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l01306">complete_dialplan_add_extension()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l01392">complete_dialplan_add_ignorepat()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00744">complete_dialplan_add_include()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l01277">complete_dialplan_remove_context()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00550">complete_dialplan_remove_extension()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l01488">complete_dialplan_remove_ignorepat()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00289">complete_dialplan_remove_include()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l05447">complete_show_dialplan_context()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l06294">context_merge_incls_swits_igps_other_registrars()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l03370">device_state_notify_callbacks()</a>, <a class="el" href="../../d1/dc0/pbx__dundi_8c_source.html#l03972">dundi_precache_full()</a>, <a class="el" href="../../d7/d45/res__parking_8c_source.html#l00730">extension_is_compatible()</a>, <a class="el" href="../../d1/d02/app__if_8c_source.html#l00134">find_matching_endif()</a>, <a class="el" href="../../d0/d8e/app__while_8c_source.html#l00152">find_matching_endwhile()</a>, <a class="el" href="../../d1/d02/app__if_8c_source.html#l00097">find_matching_priority()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00809">handle_cli_dialplan_save()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l05304">handle_show_hint()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l05205">handle_show_hints()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l05864">manager_show_dialplan_helper()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l03464">presence_state_notify_callbacks()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08950">print_hintdevices_key()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08939">print_hints_key()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l05677">show_debug_helper()</a>, and <a class="el" href="../../db/d94/pbx_8c_source.html#l05516">show_dialplan_helper()</a>.</p>
<div class="fragment"><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;{</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;   <span class="keywordflow">return</span> con ? con-&gt;<a class="code" href="../../d6/d7c/structast__context.html#a2a7f851274ec18e17d38114c39b8511a">name</a> : <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;}</div><div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structast__context_html_a2a7f851274ec18e17d38114c39b8511a"><div class="ttname"><a href="../../d6/d7c/structast__context.html#a2a7f851274ec18e17d38114c39b8511a">ast_context::name</a></div><div class="ttdeci">char name[0]</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l00297">pbx.c:297</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a9df0a5d301454fe924172cf89c7165a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9df0a5d301454fe924172cf89c7165a4">&#9670;&nbsp;</a></span>ast_get_context_registrar()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* ast_get_context_registrar </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d6/d7c/structast__context.html">ast_context</a> *&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/d94/pbx_8c_source.html#l08566">8566</a> of file <a class="el" href="../../db/d94/pbx_8c_source.html">pbx.c</a>.</p>

<p class="reference">References <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../db/d94/pbx_8c_source.html#l00293">ast_context::registrar</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00809">handle_cli_dialplan_save()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l05677">show_debug_helper()</a>, and <a class="el" href="../../db/d94/pbx_8c_source.html#l05516">show_dialplan_helper()</a>.</p>
<div class="fragment"><div class="line"><a name="l08567"></a><span class="lineno"> 8567</span>&#160;{</div><div class="line"><a name="l08568"></a><span class="lineno"> 8568</span>&#160;   <span class="keywordflow">return</span> c ? c-&gt;<a class="code" href="../../d6/d7c/structast__context.html#a8c205128d7dc6034c5a5cf16b602f2fe">registrar</a> : <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l08569"></a><span class="lineno"> 8569</span>&#160;}</div><div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structast__context_html_a8c205128d7dc6034c5a5cf16b602f2fe"><div class="ttname"><a href="../../d6/d7c/structast__context.html#a8c205128d7dc6034c5a5cf16b602f2fe">ast_context::registrar</a></div><div class="ttdeci">char * registrar</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l00293">pbx.c:293</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6594bb017b4d4fe1bc42370cc32ec974"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6594bb017b4d4fe1bc42370cc32ec974">&#9670;&nbsp;</a></span>ast_get_extension_app()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* ast_get_extension_app </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d7/d00/structast__exten.html">ast_exten</a> *&#160;</td>
          <td class="paramname"><em>e</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/d94/pbx_8c_source.html#l08596">8596</a> of file <a class="el" href="../../db/d94/pbx_8c_source.html">pbx.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/d94/pbx_8c_source.html#l00246">ast_exten::app</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/d1b/app__macro_8c_source.html#l00236">_macro_exec()</a>, <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00422">add_extension()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l03982">ast_add_hint()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l04096">ast_change_hint()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l03113">ast_extension_state2()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l04141">ast_get_hint()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l04159">ast_str_get_hint()</a>, <a class="el" href="../../d6/d14/parking__tests_8c_source.html#l00471">check_retrieve_call_extensions()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l03370">device_state_notify_callbacks()</a>, <a class="el" href="../../d7/d45/res__parking_8c_source.html#l00730">extension_is_compatible()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l03200">extension_presence_state_helper()</a>, <a class="el" href="../../d1/d02/app__if_8c_source.html#l00134">find_matching_endif()</a>, <a class="el" href="../../d0/d8e/app__while_8c_source.html#l00152">find_matching_endwhile()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00809">handle_cli_dialplan_save()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l05304">handle_show_hint()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l05205">handle_show_hints()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l05864">manager_show_dialplan_helper()</a>, <a class="el" href="../../d1/db7/parking__bridge__features_8c_source.html#l00297">parking_is_exten_park()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l03464">presence_state_notify_callbacks()</a>, and <a class="el" href="../../db/d94/pbx_8c_source.html#l05487">print_ext()</a>.</p>
<div class="fragment"><div class="line"><a name="l08597"></a><span class="lineno"> 8597</span>&#160;{</div><div class="line"><a name="l08598"></a><span class="lineno"> 8598</span>&#160;   <span class="keywordflow">return</span> e ? e-&gt;<a class="code" href="../../d7/d00/structast__exten.html#a39cd5d0fb8998335df42679419beada9">app</a> : <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l08599"></a><span class="lineno"> 8599</span>&#160;}</div><div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structast__exten_html_a39cd5d0fb8998335df42679419beada9"><div class="ttname"><a href="../../d7/d00/structast__exten.html#a39cd5d0fb8998335df42679419beada9">ast_exten::app</a></div><div class="ttdeci">const char * app</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l00246">pbx.c:246</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac0a6c0c39796f36864868365d8989f02"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac0a6c0c39796f36864868365d8989f02">&#9670;&nbsp;</a></span>ast_get_extension_app_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* ast_get_extension_app_data </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d7/d00/structast__exten.html">ast_exten</a> *&#160;</td>
          <td class="paramname"><em>e</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/d94/pbx_8c_source.html#l08601">8601</a> of file <a class="el" href="../../db/d94/pbx_8c_source.html">pbx.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/d94/pbx_8c_source.html#l00248">ast_exten::data</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/d1b/app__macro_8c_source.html#l00236">_macro_exec()</a>, <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00422">add_extension()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l04141">ast_get_hint()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l04159">ast_str_get_hint()</a>, <a class="el" href="../../de/dbf/func__evalexten_8c_source.html#l00090">get_extension_data()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00809">handle_cli_dialplan_save()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l05864">manager_show_dialplan_helper()</a>, <a class="el" href="../../d1/db7/parking__bridge__features_8c_source.html#l00336">parking_blind_transfer_park()</a>, and <a class="el" href="../../db/d94/pbx_8c_source.html#l05487">print_ext()</a>.</p>
<div class="fragment"><div class="line"><a name="l08602"></a><span class="lineno"> 8602</span>&#160;{</div><div class="line"><a name="l08603"></a><span class="lineno"> 8603</span>&#160;   <span class="keywordflow">return</span> e ? e-&gt;<a class="code" href="../../d7/d00/structast__exten.html#ac5c5967f62e5c3601479be651a8ed76c">data</a> : <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l08604"></a><span class="lineno"> 8604</span>&#160;}</div><div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structast__exten_html_ac5c5967f62e5c3601479be651a8ed76c"><div class="ttname"><a href="../../d7/d00/structast__exten.html#ac5c5967f62e5c3601479be651a8ed76c">ast_exten::data</a></div><div class="ttdeci">void * data</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l00248">pbx.c:248</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aee004b6fcfccea3fa6acf9b7264f42c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee004b6fcfccea3fa6acf9b7264f42c9">&#9670;&nbsp;</a></span>ast_get_extension_cidmatch()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* ast_get_extension_cidmatch </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d7/d00/structast__exten.html">ast_exten</a> *&#160;</td>
          <td class="paramname"><em>e</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/d94/pbx_8c_source.html#l08591">8591</a> of file <a class="el" href="../../db/d94/pbx_8c_source.html">pbx.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/d94/pbx_8c_source.html#l00242">ast_exten::cidmatch_display</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00550">complete_dialplan_remove_extension()</a>, <a class="el" href="../../d1/d02/app__if_8c_source.html#l00097">find_matching_priority()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00809">handle_cli_dialplan_save()</a>, and <a class="el" href="../../d9/d62/test__pbx_8c_source.html#l00156">test_exten()</a>.</p>
<div class="fragment"><div class="line"><a name="l08592"></a><span class="lineno"> 8592</span>&#160;{</div><div class="line"><a name="l08593"></a><span class="lineno"> 8593</span>&#160;   <span class="keywordflow">return</span> e ? e-&gt;<a class="code" href="../../d7/d00/structast__exten.html#a0574199c7fbb661fd7684472741955bb">cidmatch_display</a> : <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l08594"></a><span class="lineno"> 8594</span>&#160;}</div><div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structast__exten_html_a0574199c7fbb661fd7684472741955bb"><div class="ttname"><a href="../../d7/d00/structast__exten.html#a0574199c7fbb661fd7684472741955bb">ast_exten::cidmatch_display</a></div><div class="ttdeci">const char * cidmatch_display</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l00242">pbx.c:242</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a65bb6651308bdad136b637965835cb82"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a65bb6651308bdad136b637965835cb82">&#9670;&nbsp;</a></span>ast_get_extension_context()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d6/d7c/structast__context.html">ast_context</a>* ast_get_extension_context </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d7/d00/structast__exten.html">ast_exten</a> *&#160;</td>
          <td class="paramname"><em>exten</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/d94/pbx_8c_source.html#l08543">8543</a> of file <a class="el" href="../../db/d94/pbx_8c_source.html">pbx.c</a>.</p>

<p class="reference">References <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../db/d94/pbx_8c_source.html#l00245">ast_exten::parent</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d94/pbx_8c_source.html#l03982">ast_add_hint()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l04096">ast_change_hint()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l03945">ast_remove_hint()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l03370">device_state_notify_callbacks()</a>, <a class="el" href="../../d7/d45/res__parking_8c_source.html#l00730">extension_is_compatible()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l05304">handle_show_hint()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l05205">handle_show_hints()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l03464">presence_state_notify_callbacks()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08950">print_hintdevices_key()</a>, and <a class="el" href="../../db/d94/pbx_8c_source.html#l08939">print_hints_key()</a>.</p>
<div class="fragment"><div class="line"><a name="l08544"></a><span class="lineno"> 8544</span>&#160;{</div><div class="line"><a name="l08545"></a><span class="lineno"> 8545</span>&#160;   <span class="keywordflow">return</span> exten ? exten-&gt;<a class="code" href="../../d7/d00/structast__exten.html#aa0b51b36bbd4dfa2db0d18352aa7dc3f">parent</a> : <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l08546"></a><span class="lineno"> 8546</span>&#160;}</div><div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structast__exten_html_aa0b51b36bbd4dfa2db0d18352aa7dc3f"><div class="ttname"><a href="../../d7/d00/structast__exten.html#aa0b51b36bbd4dfa2db0d18352aa7dc3f">ast_exten::parent</a></div><div class="ttdeci">struct ast_context * parent</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l00245">pbx.c:245</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a266960fe6aa4db1066ed0b012fb7eb62"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a266960fe6aa4db1066ed0b012fb7eb62">&#9670;&nbsp;</a></span>ast_get_extension_label()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* ast_get_extension_label </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d7/d00/structast__exten.html">ast_exten</a> *&#160;</td>
          <td class="paramname"><em>e</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/d94/pbx_8c_source.html#l08553">8553</a> of file <a class="el" href="../../db/d94/pbx_8c_source.html">pbx.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/d94/pbx_8c_source.html#l00244">ast_exten::label</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00809">handle_cli_dialplan_save()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l05864">manager_show_dialplan_helper()</a>, and <a class="el" href="../../db/d94/pbx_8c_source.html#l05516">show_dialplan_helper()</a>.</p>
<div class="fragment"><div class="line"><a name="l08554"></a><span class="lineno"> 8554</span>&#160;{</div><div class="line"><a name="l08555"></a><span class="lineno"> 8555</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a> ? <a class="code" href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>-&gt;label : <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l08556"></a><span class="lineno"> 8556</span>&#160;}</div><div class="ttc" id="chan__alsa_8c_html_a78d4847658b695383d849efd12399b38"><div class="ttname"><a href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a></div><div class="ttdeci">static char exten[AST_MAX_EXTENSION]</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d45/chan__alsa_8c_source.html#l00118">chan_alsa.c:118</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a26c679c70c1a8dd0968579be0c1755ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a26c679c70c1a8dd0968579be0c1755ab">&#9670;&nbsp;</a></span>ast_get_extension_matchcid()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_get_extension_matchcid </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d7/d00/structast__exten.html">ast_exten</a> *&#160;</td>
          <td class="paramname"><em>e</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/d94/pbx_8c_source.html#l08586">8586</a> of file <a class="el" href="../../db/d94/pbx_8c_source.html">pbx.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/d94/pbx_8c_source.html#l00240">ast_exten::matchcid</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00550">complete_dialplan_remove_extension()</a>, <a class="el" href="../../d1/d02/app__if_8c_source.html#l00097">find_matching_priority()</a>, and <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00809">handle_cli_dialplan_save()</a>.</p>
<div class="fragment"><div class="line"><a name="l08587"></a><span class="lineno"> 8587</span>&#160;{</div><div class="line"><a name="l08588"></a><span class="lineno"> 8588</span>&#160;   <span class="keywordflow">return</span> e ? e-&gt;<a class="code" href="../../d7/d00/structast__exten.html#af0803fced1d4ccfbc6ec4d8577d30525">matchcid</a> : 0;</div><div class="line"><a name="l08589"></a><span class="lineno"> 8589</span>&#160;}</div><div class="ttc" id="structast__exten_html_af0803fced1d4ccfbc6ec4d8577d30525"><div class="ttname"><a href="../../d7/d00/structast__exten.html#af0803fced1d4ccfbc6ec4d8577d30525">ast_exten::matchcid</a></div><div class="ttdeci">int matchcid</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l00240">pbx.c:240</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6fb940c1fd9c74b9d573e0a91bb23697"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6fb940c1fd9c74b9d573e0a91bb23697">&#9670;&nbsp;</a></span>ast_get_extension_name()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* ast_get_extension_name </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d7/d00/structast__exten.html">ast_exten</a> *&#160;</td>
          <td class="paramname"><em>exten</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/d94/pbx_8c_source.html#l08548">8548</a> of file <a class="el" href="../../db/d94/pbx_8c_source.html">pbx.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/d94/pbx_8c_source.html#l00239">ast_exten::name</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d94/pbx_8c_source.html#l03982">ast_add_hint()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l04096">ast_change_hint()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l03945">ast_remove_hint()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l05268">complete_core_show_hint()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00550">complete_dialplan_remove_extension()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l03370">device_state_notify_callbacks()</a>, <a class="el" href="../../d1/dc0/pbx__dundi_8c_source.html#l03972">dundi_precache_full()</a>, <a class="el" href="../../d7/d45/res__parking_8c_source.html#l00730">extension_is_compatible()</a>, <a class="el" href="../../d1/d02/app__if_8c_source.html#l00097">find_matching_priority()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00809">handle_cli_dialplan_save()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l05304">handle_show_hint()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l05205">handle_show_hints()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08869">hint_hash()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l05864">manager_show_dialplan_helper()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l03464">presence_state_notify_callbacks()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08950">print_hintdevices_key()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08939">print_hints_key()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l05516">show_dialplan_helper()</a>, and <a class="el" href="../../d9/d62/test__pbx_8c_source.html#l00156">test_exten()</a>.</p>
<div class="fragment"><div class="line"><a name="l08549"></a><span class="lineno"> 8549</span>&#160;{</div><div class="line"><a name="l08550"></a><span class="lineno"> 8550</span>&#160;   <span class="keywordflow">return</span> exten ? exten-&gt;<a class="code" href="../../d7/d00/structast__exten.html#a5ac083a645d964373f022d03df4849c8">name</a> : <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l08551"></a><span class="lineno"> 8551</span>&#160;}</div><div class="ttc" id="structast__exten_html_a5ac083a645d964373f022d03df4849c8"><div class="ttname"><a href="../../d7/d00/structast__exten.html#a5ac083a645d964373f022d03df4849c8">ast_exten::name</a></div><div class="ttdeci">char * name</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l00239">pbx.c:239</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a1662981db35d4125afaf6de98b2ba52f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1662981db35d4125afaf6de98b2ba52f">&#9670;&nbsp;</a></span>ast_get_extension_priority()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_get_extension_priority </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d7/d00/structast__exten.html">ast_exten</a> *&#160;</td>
          <td class="paramname"><em>exten</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/d94/pbx_8c_source.html#l08558">8558</a> of file <a class="el" href="../../db/d94/pbx_8c_source.html">pbx.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/d94/pbx_8c_source.html#l00243">ast_exten::priority</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00550">complete_dialplan_remove_extension()</a>, <a class="el" href="../../d1/d02/app__if_8c_source.html#l00097">find_matching_priority()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00809">handle_cli_dialplan_save()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l05864">manager_show_dialplan_helper()</a>, and <a class="el" href="../../db/d94/pbx_8c_source.html#l05487">print_ext()</a>.</p>
<div class="fragment"><div class="line"><a name="l08559"></a><span class="lineno"> 8559</span>&#160;{</div><div class="line"><a name="l08560"></a><span class="lineno"> 8560</span>&#160;   <span class="keywordflow">return</span> exten ? exten-&gt;<a class="code" href="../../d7/d00/structast__exten.html#acec9ce2df15222151ad66fcb1d74eb9f">priority</a> : -1;</div><div class="line"><a name="l08561"></a><span class="lineno"> 8561</span>&#160;}</div><div class="ttc" id="structast__exten_html_acec9ce2df15222151ad66fcb1d74eb9f"><div class="ttname"><a href="../../d7/d00/structast__exten.html#acec9ce2df15222151ad66fcb1d74eb9f">ast_exten::priority</a></div><div class="ttdeci">int priority</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l00243">pbx.c:243</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a7f23f7c798d61e68c32b21d3e0cd15a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f23f7c798d61e68c32b21d3e0cd15a2">&#9670;&nbsp;</a></span>ast_get_extension_registrar()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* ast_get_extension_registrar </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d7/d00/structast__exten.html">ast_exten</a> *&#160;</td>
          <td class="paramname"><em>e</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/d94/pbx_8c_source.html#l08571">8571</a> of file <a class="el" href="../../db/d94/pbx_8c_source.html">pbx.c</a>.</p>

<p class="reference">References <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../db/d94/pbx_8c_source.html#l00253">ast_exten::registrar</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d45/res__parking_8c_source.html#l00730">extension_is_compatible()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00809">handle_cli_dialplan_save()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l05864">manager_show_dialplan_helper()</a>, <a class="el" href="../../d1/db7/parking__bridge__features_8c_source.html#l00575">parking_duration_callback()</a>, <a class="el" href="../../d7/d45/res__parking_8c_source.html#l00758">parking_lot_cfg_create_extensions()</a>, and <a class="el" href="../../db/d94/pbx_8c_source.html#l05501">show_dialplan_helper_extension_output()</a>.</p>
<div class="fragment"><div class="line"><a name="l08572"></a><span class="lineno"> 8572</span>&#160;{</div><div class="line"><a name="l08573"></a><span class="lineno"> 8573</span>&#160;   <span class="keywordflow">return</span> e ? e-&gt;<a class="code" href="../../d7/d00/structast__exten.html#a8c205128d7dc6034c5a5cf16b602f2fe">registrar</a> : <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l08574"></a><span class="lineno"> 8574</span>&#160;}</div><div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structast__exten_html_a8c205128d7dc6034c5a5cf16b602f2fe"><div class="ttname"><a href="../../d7/d00/structast__exten.html#a8c205128d7dc6034c5a5cf16b602f2fe">ast_exten::registrar</a></div><div class="ttdeci">const char * registrar</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l00253">pbx.c:253</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a1d9b67d1b29ee2e6c3c27e14b9269410"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d9b67d1b29ee2e6c3c27e14b9269410">&#9670;&nbsp;</a></span>ast_get_extension_registrar_file()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* ast_get_extension_registrar_file </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d7/d00/structast__exten.html">ast_exten</a> *&#160;</td>
          <td class="paramname"><em>e</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get name of configuration file used by registrar to register this extension. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">NULL</td><td>if registrar did not indicate config file when registering the extension </td></tr>
    <tr><td class="paramname">name</td><td>of the file used to register the extension </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../db/d94/pbx_8c_source.html#l08576">8576</a> of file <a class="el" href="../../db/d94/pbx_8c_source.html">pbx.c</a>.</p>

<p class="reference">References <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../db/d94/pbx_8c_source.html#l00254">ast_exten::registrar_file</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d94/pbx_8c_source.html#l05501">show_dialplan_helper_extension_output()</a>.</p>
<div class="fragment"><div class="line"><a name="l08577"></a><span class="lineno"> 8577</span>&#160;{</div><div class="line"><a name="l08578"></a><span class="lineno"> 8578</span>&#160;   <span class="keywordflow">return</span> e ? e-&gt;<a class="code" href="../../d7/d00/structast__exten.html#a3e3ed71b5dcbadee8292f3d1837eaa38">registrar_file</a> : <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l08579"></a><span class="lineno"> 8579</span>&#160;}</div><div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structast__exten_html_a3e3ed71b5dcbadee8292f3d1837eaa38"><div class="ttname"><a href="../../d7/d00/structast__exten.html#a3e3ed71b5dcbadee8292f3d1837eaa38">ast_exten::registrar_file</a></div><div class="ttdeci">const char * registrar_file</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l00254">pbx.c:254</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a25c1ae521dc0aa6949e716b8ce49b4e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a25c1ae521dc0aa6949e716b8ce49b4e7">&#9670;&nbsp;</a></span>ast_get_extension_registrar_line()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_get_extension_registrar_line </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d7/d00/structast__exten.html">ast_exten</a> *&#160;</td>
          <td class="paramname"><em>e</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get line number of configuration file used by registrar to register this extension. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>if the line wasn't indicated when the extension was registered </td></tr>
    <tr><td class="paramname">positive</td><td>integer indicating what line in the config file was responsible for registering the extension. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../db/d94/pbx_8c_source.html#l08581">8581</a> of file <a class="el" href="../../db/d94/pbx_8c_source.html">pbx.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/d94/pbx_8c_source.html#l00255">ast_exten::registrar_line</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d94/pbx_8c_source.html#l05501">show_dialplan_helper_extension_output()</a>.</p>
<div class="fragment"><div class="line"><a name="l08582"></a><span class="lineno"> 8582</span>&#160;{</div><div class="line"><a name="l08583"></a><span class="lineno"> 8583</span>&#160;   <span class="keywordflow">return</span> e ? e-&gt;<a class="code" href="../../d7/d00/structast__exten.html#a90ec1116822211c96e24055d95972cca">registrar_line</a> : 0;</div><div class="line"><a name="l08584"></a><span class="lineno"> 8584</span>&#160;}</div><div class="ttc" id="structast__exten_html_a90ec1116822211c96e24055d95972cca"><div class="ttname"><a href="../../d7/d00/structast__exten.html#a90ec1116822211c96e24055d95972cca">ast_exten::registrar_line</a></div><div class="ttdeci">int registrar_line</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l00255">pbx.c:255</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac778ac642def88a06e5d59e11a964c43"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac778ac642def88a06e5d59e11a964c43">&#9670;&nbsp;</a></span>ast_get_hint()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_get_hint </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>hint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>hintsize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>namesize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>exten</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>If an extension hint exists, return non-zero. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hint</td><td>buffer for hint </td></tr>
    <tr><td class="paramname">hintsize</td><td>size of hint buffer, in bytes </td></tr>
    <tr><td class="paramname">name</td><td>buffer for name portion of hint </td></tr>
    <tr><td class="paramname">namesize</td><td>size of name buffer </td></tr>
    <tr><td class="paramname">c</td><td>Channel from which to return the hint. This is only important when the hint or name contains an expression to be expanded. </td></tr>
    <tr><td class="paramname">context</td><td>which context to look in </td></tr>
    <tr><td class="paramname">exten</td><td>which extension to search for</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>If an extension within the given context with the priority PRIORITY_HINT is found, a non zero value will be returned. Otherwise, 0 is returned.</dd></dl>
<p>If an extension hint exists, return non-zero. </p>

<p class="definition">Definition at line <a class="el" href="../../db/d94/pbx_8c_source.html#l04141">4141</a> of file <a class="el" href="../../db/d94/pbx_8c_source.html">pbx.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/d90/strings_8h_source.html#l00401">ast_copy_string()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08596">ast_get_extension_app()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08601">ast_get_extension_app_data()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l02997">ast_hint_extension()</a>, and <a class="el" href="../../de/d1e/bt__open_8c_source.html#l00389">tmp()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d10/manager_8c_source.html#l05974">action_extensionstate()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l03584">device_state_cb()</a>, <a class="el" href="../../d9/d12/app__dial_8c_source.html#l00900">get_cid_name()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l18508">get_destination()</a>, <a class="el" href="../../d7/d0b/func__devstate_8c_source.html#l00146">hint_read()</a>, <a class="el" href="../../d4/d10/manager_8c_source.html#l07288">manager_state_cb()</a>, <a class="el" href="../../d0/d80/chan__skinny_8c_source.html#l03414">skinny_extensionstate_cb()</a>, and <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l15193">state_notify_build_xml()</a>.</p>
<div class="fragment"><div class="line"><a name="l04142"></a><span class="lineno"> 4142</span>&#160;{</div><div class="line"><a name="l04143"></a><span class="lineno"> 4143</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d7/d00/structast__exten.html">ast_exten</a> *e = <a class="code" href="../../db/d94/pbx_8c.html#a666d27d15c01c2b36dd8523a0146ba40">ast_hint_extension</a>(c, <a class="code" href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a>, <a class="code" href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>);</div><div class="line"><a name="l04144"></a><span class="lineno"> 4144</span>&#160;</div><div class="line"><a name="l04145"></a><span class="lineno"> 4145</span>&#160;   <span class="keywordflow">if</span> (e) {</div><div class="line"><a name="l04146"></a><span class="lineno"> 4146</span>&#160;      <span class="keywordflow">if</span> (hint)</div><div class="line"><a name="l04147"></a><span class="lineno"> 4147</span>&#160;         <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(hint, <a class="code" href="../../db/d94/pbx_8c.html#a6594bb017b4d4fe1bc42370cc32ec974">ast_get_extension_app</a>(e), hintsize);</div><div class="line"><a name="l04148"></a><span class="lineno"> 4148</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>) {</div><div class="line"><a name="l04149"></a><span class="lineno"> 4149</span>&#160;         <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a> = <a class="code" href="../../db/d94/pbx_8c.html#ac0a6c0c39796f36864868365d8989f02">ast_get_extension_app_data</a>(e);</div><div class="line"><a name="l04150"></a><span class="lineno"> 4150</span>&#160;         <span class="keywordflow">if</span> (tmp)</div><div class="line"><a name="l04151"></a><span class="lineno"> 4151</span>&#160;            <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, tmp, namesize);</div><div class="line"><a name="l04152"></a><span class="lineno"> 4152</span>&#160;      }</div><div class="line"><a name="l04153"></a><span class="lineno"> 4153</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l04154"></a><span class="lineno"> 4154</span>&#160;   }</div><div class="line"><a name="l04155"></a><span class="lineno"> 4155</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l04156"></a><span class="lineno"> 4156</span>&#160;}</div><div class="ttc" id="chan__alsa_8c_html_a78d4847658b695383d849efd12399b38"><div class="ttname"><a href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a></div><div class="ttdeci">static char exten[AST_MAX_EXTENSION]</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d45/chan__alsa_8c_source.html#l00118">chan_alsa.c:118</a></div></div>
<div class="ttc" id="structast__exten_html"><div class="ttname"><a href="../../d7/d00/structast__exten.html">ast_exten</a></div><div class="ttdoc">ast_exten: An extension The dialplan is saved as a linked list with each context having it&amp;#39;s own link...</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l00237">pbx.c:237</a></div></div>
<div class="ttc" id="bt__open_8c_html_a1cdd2bb1a9a71d3e1120100229315d67"><div class="ttname"><a href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a></div><div class="ttdeci">static int tmp()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1e/bt__open_8c_source.html#l00389">bt_open.c:389</a></div></div>
<div class="ttc" id="pbx_8c_html_ac0a6c0c39796f36864868365d8989f02"><div class="ttname"><a href="../../db/d94/pbx_8c.html#ac0a6c0c39796f36864868365d8989f02">ast_get_extension_app_data</a></div><div class="ttdeci">void * ast_get_extension_app_data(struct ast_exten *e)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l08601">pbx.c:8601</a></div></div>
<div class="ttc" id="pbx_8c_html_a666d27d15c01c2b36dd8523a0146ba40"><div class="ttname"><a href="../../db/d94/pbx_8c.html#a666d27d15c01c2b36dd8523a0146ba40">ast_hint_extension</a></div><div class="ttdeci">static struct ast_exten * ast_hint_extension(struct ast_channel *c, const char *context, const char *exten)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l02997">pbx.c:2997</a></div></div>
<div class="ttc" id="cdr__mysql_8c_html_a0980a105ccb863d8008eb6201a51da52"><div class="ttname"><a href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a></div><div class="ttdeci">static const char name[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/cdr__mysql_8c_source.html#l00074">cdr_mysql.c:74</a></div></div>
<div class="ttc" id="strings_8h_html_ac4040268f7b6ed77dfc49c7767626369"><div class="ttname"><a href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a></div><div class="ttdeci">void ast_copy_string(char *dst, const char *src, size_t size)</div><div class="ttdoc">Size-limited null-terminating string copy. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00401">strings.h:401</a></div></div>
<div class="ttc" id="pbx_8c_html_a6594bb017b4d4fe1bc42370cc32ec974"><div class="ttname"><a href="../../db/d94/pbx_8c.html#a6594bb017b4d4fe1bc42370cc32ec974">ast_get_extension_app</a></div><div class="ttdeci">const char * ast_get_extension_app(struct ast_exten *e)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l08596">pbx.c:8596</a></div></div>
<div class="ttc" id="chan__alsa_8c_html_ac25ea00ee3f082df06e0cf468cbde240"><div class="ttname"><a href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a></div><div class="ttdeci">static char context[AST_MAX_CONTEXT]</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d45/chan__alsa_8c_source.html#l00116">chan_alsa.c:116</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad40e50eea098e5c16ef7dd3ffbff1bba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad40e50eea098e5c16ef7dd3ffbff1bba">&#9670;&nbsp;</a></span>ast_get_ignorepat_name()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* ast_get_ignorepat_name </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d0/d11/structast__ignorepat.html">ast_ignorepat</a> *&#160;</td>
          <td class="paramname"><em>ip</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d9/d63/pbx__ignorepat_8c_source.html#l00042">42</a> of file <a class="el" href="../../d9/d63/pbx__ignorepat_8c_source.html">pbx_ignorepat.c</a>.</p>

<p class="reference">References <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../d9/d63/pbx__ignorepat_8c_source.html#l00039">ast_ignorepat::pattern</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d94/pbx_8c_source.html#l06890">ast_context_add_ignorepat2()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l06850">ast_context_remove_ignorepat2()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l06921">ast_ignore_pattern()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l01488">complete_dialplan_remove_ignorepat()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l06294">context_merge_incls_swits_igps_other_registrars()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00809">handle_cli_dialplan_save()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00212">lookup_c_ip()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l05864">manager_show_dialplan_helper()</a>, and <a class="el" href="../../db/d94/pbx_8c_source.html#l05516">show_dialplan_helper()</a>.</p>
<div class="fragment"><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;{</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;   <span class="keywordflow">return</span> ip ? ip-&gt;<a class="code" href="../../d0/d11/structast__ignorepat.html#a330f40c3d5af3c94035e90e4cf4599c0">pattern</a> : <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;}</div><div class="ttc" id="structast__ignorepat_html_a330f40c3d5af3c94035e90e4cf4599c0"><div class="ttname"><a href="../../d0/d11/structast__ignorepat.html#a330f40c3d5af3c94035e90e4cf4599c0">ast_ignorepat::pattern</a></div><div class="ttdeci">const char pattern[0]</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d63/pbx__ignorepat_8c_source.html#l00039">pbx_ignorepat.c:39</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a8a6feb7cd8e08f18c9d0f4887d7f3d47"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a6feb7cd8e08f18c9d0f4887d7f3d47">&#9670;&nbsp;</a></span>ast_get_ignorepat_registrar()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* ast_get_ignorepat_registrar </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d0/d11/structast__ignorepat.html">ast_ignorepat</a> *&#160;</td>
          <td class="paramname"><em>ip</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d9/d63/pbx__ignorepat_8c_source.html#l00047">47</a> of file <a class="el" href="../../d9/d63/pbx__ignorepat_8c_source.html">pbx_ignorepat.c</a>.</p>

<p class="reference">References <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../d9/d63/pbx__ignorepat_8c_source.html#l00038">ast_ignorepat::registrar</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d94/pbx_8c_source.html#l08095">__ast_context_destroy()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l06850">ast_context_remove_ignorepat2()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l06294">context_merge_incls_swits_igps_other_registrars()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00809">handle_cli_dialplan_save()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l05864">manager_show_dialplan_helper()</a>, and <a class="el" href="../../db/d94/pbx_8c_source.html#l05516">show_dialplan_helper()</a>.</p>
<div class="fragment"><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;{</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;   <span class="keywordflow">return</span> ip ? ip-&gt;<a class="code" href="../../d0/d11/structast__ignorepat.html#a8c205128d7dc6034c5a5cf16b602f2fe">registrar</a> : <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;}</div><div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structast__ignorepat_html_a8c205128d7dc6034c5a5cf16b602f2fe"><div class="ttname"><a href="../../d0/d11/structast__ignorepat.html#a8c205128d7dc6034c5a5cf16b602f2fe">ast_ignorepat::registrar</a></div><div class="ttdeci">const char * registrar</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d63/pbx__ignorepat_8c_source.html#l00038">pbx_ignorepat.c:38</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a1cf62f8cc1e47da88dae67f4ee623684"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1cf62f8cc1e47da88dae67f4ee623684">&#9670;&nbsp;</a></span>ast_get_include_name()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* ast_get_include_name </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d5/db2/structast__include.html">ast_include</a> *&#160;</td>
          <td class="paramname"><em>include</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d0e/pbx__include_8c_source.html#l00050">50</a> of file <a class="el" href="../../d6/d0e/pbx__include_8c_source.html">pbx_include.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/d0e/pbx__include_8c_source.html#l00038">ast_include::name</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d94/pbx_8c_source.html#l06726">ast_context_add_include2()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l04863">ast_context_remove_include2()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00289">complete_dialplan_remove_include()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l06294">context_merge_incls_swits_igps_other_registrars()</a>, <a class="el" href="../../d1/d02/app__if_8c_source.html#l00097">find_matching_priority()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00809">handle_cli_dialplan_save()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00188">lookup_ci()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l05864">manager_show_dialplan_helper()</a>, and <a class="el" href="../../db/d94/pbx_8c_source.html#l05516">show_dialplan_helper()</a>.</p>
<div class="fragment"><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;{</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;   <span class="keywordflow">return</span> inc ? inc-&gt;name : <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;}</div><div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2bf7469cd4b7de5d4de43d58aeff46c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2bf7469cd4b7de5d4de43d58aeff46c5">&#9670;&nbsp;</a></span>ast_get_include_registrar()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* ast_get_include_registrar </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d5/db2/structast__include.html">ast_include</a> *&#160;</td>
          <td class="paramname"><em>i</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d0e/pbx__include_8c_source.html#l00060">60</a> of file <a class="el" href="../../d6/d0e/pbx__include_8c_source.html">pbx_include.c</a>.</p>

<p class="reference">References <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../d6/d0e/pbx__include_8c_source.html#l00042">ast_include::registrar</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d94/pbx_8c_source.html#l08095">__ast_context_destroy()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l04863">ast_context_remove_include2()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l06294">context_merge_incls_swits_igps_other_registrars()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00809">handle_cli_dialplan_save()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l05864">manager_show_dialplan_helper()</a>, and <a class="el" href="../../db/d94/pbx_8c_source.html#l05516">show_dialplan_helper()</a>.</p>
<div class="fragment"><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;{</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;   <span class="keywordflow">return</span> inc ? inc-&gt;registrar : <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;}</div><div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad4f9fd5bd7afc28347c808ea295233e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad4f9fd5bd7afc28347c808ea295233e8">&#9670;&nbsp;</a></span>ast_get_switch_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* ast_get_switch_data </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d3/def/structast__sw.html">ast_sw</a> *&#160;</td>
          <td class="paramname"><em>sw</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d9/d5d/pbx__sw_8c_source.html#l00053">53</a> of file <a class="el" href="../../d9/d5d/pbx__sw_8c_source.html">pbx_sw.c</a>.</p>

<p class="reference">References <a class="el" href="../../d9/d5d/pbx__sw_8c_source.html#l00042">ast_sw::data</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d94/pbx_8c_source.html#l06791">ast_context_add_switch2()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l04920">ast_context_remove_switch2()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l06294">context_merge_incls_swits_igps_other_registrars()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00809">handle_cli_dialplan_save()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l05864">manager_show_dialplan_helper()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l02485">pbx_find_extension()</a>, and <a class="el" href="../../db/d94/pbx_8c_source.html#l05516">show_dialplan_helper()</a>.</p>
<div class="fragment"><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;{</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;   <span class="keywordflow">return</span> sw ? sw-&gt;<a class="code" href="../../d3/def/structast__sw.html#ab5dd39b3c6371b911a65f9b97dc61453">data</a> : <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;}</div><div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structast__sw_html_ab5dd39b3c6371b911a65f9b97dc61453"><div class="ttname"><a href="../../d3/def/structast__sw.html#ab5dd39b3c6371b911a65f9b97dc61453">ast_sw::data</a></div><div class="ttdeci">const char * data</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d5d/pbx__sw_8c_source.html#l00042">pbx_sw.c:42</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae87c469f677f728e1f1337abb3f22ada"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae87c469f677f728e1f1337abb3f22ada">&#9670;&nbsp;</a></span>ast_get_switch_eval()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_get_switch_eval </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d3/def/structast__sw.html">ast_sw</a> *&#160;</td>
          <td class="paramname"><em>sw</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d9/d5d/pbx__sw_8c_source.html#l00058">58</a> of file <a class="el" href="../../d9/d5d/pbx__sw_8c_source.html">pbx_sw.c</a>.</p>

<p class="reference">References <a class="el" href="../../d9/d5d/pbx__sw_8c_source.html#l00043">ast_sw::eval</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d94/pbx_8c_source.html#l06294">context_merge_incls_swits_igps_other_registrars()</a>, and <a class="el" href="../../db/d94/pbx_8c_source.html#l02485">pbx_find_extension()</a>.</p>
<div class="fragment"><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;{</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;   <span class="keywordflow">return</span> sw-&gt;<a class="code" href="../../d3/def/structast__sw.html#a4e3f077fec8b035a2678e7740f366dea">eval</a>;</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;}</div><div class="ttc" id="structast__sw_html_a4e3f077fec8b035a2678e7740f366dea"><div class="ttname"><a href="../../d3/def/structast__sw.html#a4e3f077fec8b035a2678e7740f366dea">ast_sw::eval</a></div><div class="ttdeci">int eval</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d5d/pbx__sw_8c_source.html#l00043">pbx_sw.c:43</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa0ebd34e8d1605aa4b6e3fadea6adfb5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa0ebd34e8d1605aa4b6e3fadea6adfb5">&#9670;&nbsp;</a></span>ast_get_switch_name()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* ast_get_switch_name </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d3/def/structast__sw.html">ast_sw</a> *&#160;</td>
          <td class="paramname"><em>sw</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d9/d5d/pbx__sw_8c_source.html#l00048">48</a> of file <a class="el" href="../../d9/d5d/pbx__sw_8c_source.html">pbx_sw.c</a>.</p>

<p class="reference">References <a class="el" href="../../d9/d5d/pbx__sw_8c_source.html#l00038">ast_sw::name</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d94/pbx_8c_source.html#l06791">ast_context_add_switch2()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l04920">ast_context_remove_switch2()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l06294">context_merge_incls_swits_igps_other_registrars()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00809">handle_cli_dialplan_save()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l05864">manager_show_dialplan_helper()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l02485">pbx_find_extension()</a>, and <a class="el" href="../../db/d94/pbx_8c_source.html#l05516">show_dialplan_helper()</a>.</p>
<div class="fragment"><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;{</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;   <span class="keywordflow">return</span> sw ? sw-&gt;<a class="code" href="../../d3/def/structast__sw.html#ad547fb8186b526cb1b588daad4334fbe">name</a> : <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;}</div><div class="ttc" id="structast__sw_html_ad547fb8186b526cb1b588daad4334fbe"><div class="ttname"><a href="../../d3/def/structast__sw.html#ad547fb8186b526cb1b588daad4334fbe">ast_sw::name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d5d/pbx__sw_8c_source.html#l00038">pbx_sw.c:38</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3d45d3b9bc79bf6ffb1540f3e815f677"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d45d3b9bc79bf6ffb1540f3e815f677">&#9670;&nbsp;</a></span>ast_get_switch_registrar()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* ast_get_switch_registrar </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d3/def/structast__sw.html">ast_sw</a> *&#160;</td>
          <td class="paramname"><em>sw</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d9/d5d/pbx__sw_8c_source.html#l00063">63</a> of file <a class="el" href="../../d9/d5d/pbx__sw_8c_source.html">pbx_sw.c</a>.</p>

<p class="reference">References <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../d9/d5d/pbx__sw_8c_source.html#l00040">ast_sw::registrar</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d94/pbx_8c_source.html#l08095">__ast_context_destroy()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l04920">ast_context_remove_switch2()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l06294">context_merge_incls_swits_igps_other_registrars()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00809">handle_cli_dialplan_save()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l05864">manager_show_dialplan_helper()</a>, and <a class="el" href="../../db/d94/pbx_8c_source.html#l05516">show_dialplan_helper()</a>.</p>
<div class="fragment"><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;{</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;   <span class="keywordflow">return</span> sw ? sw-&gt;<a class="code" href="../../d3/def/structast__sw.html#a8c205128d7dc6034c5a5cf16b602f2fe">registrar</a> : <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;}</div><div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structast__sw_html_a8c205128d7dc6034c5a5cf16b602f2fe"><div class="ttname"><a href="../../d3/def/structast__sw.html#a8c205128d7dc6034c5a5cf16b602f2fe">ast_sw::registrar</a></div><div class="ttdeci">const char * registrar</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d5d/pbx__sw_8c_source.html#l00040">pbx_sw.c:40</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a8f7166f50cb9642179c9b321b8143f55"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8f7166f50cb9642179c9b321b8143f55">&#9670;&nbsp;</a></span>ast_goto_if_exists()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_goto_if_exists </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>exten</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>priority</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section note"><dt>Note</dt><dd>This function will handle locking the channel as needed. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../db/d94/pbx_8c_source.html#l08793">8793</a> of file <a class="el" href="../../db/d94/pbx_8c_source.html">pbx.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/d94/pbx_8c_source.html#l08772">__ast_goto_if_exists()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/db6/bridge__after_8c_source.html#l00447">ast_bridge_setup_after_goto()</a>, <a class="el" href="../../d3/dba/app__talkdetect_8c_source.html#l00080">background_detect_exec()</a>, <a class="el" href="../../dc/d04/app__chanspy_8c_source.html#l00640">channel_spy()</a>, <a class="el" href="../../dc/d04/app__chanspy_8c_source.html#l00892">common_exec()</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l03177">conf_run()</a>, <a class="el" href="../../d0/de2/app__directory_8c_source.html#l00268">goto_exten()</a>, <a class="el" href="../../d9/d12/app__dial_8c_source.html#l00881">onedigit_goto()</a>, <a class="el" href="../../d0/de2/app__directory_8c_source.html#l00314">select_entry()</a>, <a class="el" href="../../da/dfb/app__queue_8c_source.html#l03945">valid_exit()</a>, <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l11503">vm_execmain()</a>, and <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l12765">vmauthenticate()</a>.</p>
<div class="fragment"><div class="line"><a name="l08794"></a><span class="lineno"> 8794</span>&#160;{</div><div class="line"><a name="l08795"></a><span class="lineno"> 8795</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../db/d94/pbx_8c.html#a5c2ad0729efb2f13f192ee283f6f13c2">__ast_goto_if_exists</a>(chan, <a class="code" href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a>, <a class="code" href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>, <a class="code" href="../../d9/d47/cdr__beanstalkd_8c.html#acec9ce2df15222151ad66fcb1d74eb9f">priority</a>, 0);</div><div class="line"><a name="l08796"></a><span class="lineno"> 8796</span>&#160;}</div><div class="ttc" id="chan__alsa_8c_html_a78d4847658b695383d849efd12399b38"><div class="ttname"><a href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a></div><div class="ttdeci">static char exten[AST_MAX_EXTENSION]</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d45/chan__alsa_8c_source.html#l00118">chan_alsa.c:118</a></div></div>
<div class="ttc" id="pbx_8c_html_a5c2ad0729efb2f13f192ee283f6f13c2"><div class="ttname"><a href="../../db/d94/pbx_8c.html#a5c2ad0729efb2f13f192ee283f6f13c2">__ast_goto_if_exists</a></div><div class="ttdeci">static int __ast_goto_if_exists(struct ast_channel *chan, const char *context, const char *exten, int priority, int async)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l08772">pbx.c:8772</a></div></div>
<div class="ttc" id="cdr__beanstalkd_8c_html_acec9ce2df15222151ad66fcb1d74eb9f"><div class="ttname"><a href="../../d9/d47/cdr__beanstalkd_8c.html#acec9ce2df15222151ad66fcb1d74eb9f">priority</a></div><div class="ttdeci">static int priority</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d47/cdr__beanstalkd_8c_source.html#l00076">cdr_beanstalkd.c:76</a></div></div>
<div class="ttc" id="chan__alsa_8c_html_ac25ea00ee3f082df06e0cf468cbde240"><div class="ttname"><a href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a></div><div class="ttdeci">static char context[AST_MAX_CONTEXT]</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d45/chan__alsa_8c_source.html#l00116">chan_alsa.c:116</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a20a2f5668173430437db02cdd0acc9f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a20a2f5668173430437db02cdd0acc9f3">&#9670;&nbsp;</a></span>ast_hashtab_compare_contexts()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_hashtab_compare_contexts </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>ah_a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>ah_b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>hashtable functions for contexts </p>

<p class="definition">Definition at line <a class="el" href="../../d2/db7/ael__main_8c_source.html#l00589">589</a> of file <a class="el" href="../../d2/db7/ael__main_8c_source.html">ael_main.c</a>.</p>

<p class="reference">References <a class="el" href="../../d2/db7/ael__main_8c_source.html#l00596">ast_hashtab_hash_contexts()</a>, <a class="el" href="../../d8/d34/gsm__explode_8c.html#a4e819f902d7ae632dd5ae75b29372f1b">bc</a>, and <a class="el" href="../../db/d94/pbx_8c_source.html#l00297">ast_context::name</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d94/pbx_8c_source.html#l06198">ast_context_find_or_create()</a>, <a class="el" href="../../d6/dde/pbx__lua_8c_source.html#l00987">lua_register_hints()</a>, <a class="el" href="../../d6/dde/pbx__lua_8c_source.html#l00929">lua_register_switches()</a>, <a class="el" href="../../d2/db7/ael__main_8c_source.html#l00491">main()</a>, <a class="el" href="../../de/dcc/conf2ael_8c_source.html#l00672">pbx_find_extension()</a>, and <a class="el" href="../../de/d23/pbx__ael_8c_source.html#l00146">pbx_load_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;{</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;}</div></div><!-- fragment -->
</div>
</div>
<a id="a56461864a4e21b14e753b78f9ac7afb7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a56461864a4e21b14e753b78f9ac7afb7">&#9670;&nbsp;</a></span>ast_hashtab_hash_contexts()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int ast_hashtab_hash_contexts </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>obj</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/db7/ael__main_8c_source.html#l00596">596</a> of file <a class="el" href="../../d2/db7/ael__main_8c_source.html">ael_main.c</a>.</p>

<p class="reference">References <a class="el" href="../../df/d35/hashtab_8c_source.html#l00153">ast_hashtab_hash_string()</a>, and <a class="el" href="../../db/d94/pbx_8c_source.html#l00297">ast_context::name</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d94/pbx_8c_source.html#l06198">ast_context_find_or_create()</a>, <a class="el" href="../../d2/db7/ael__main_8c_source.html#l00589">ast_hashtab_compare_contexts()</a>, <a class="el" href="../../d6/dde/pbx__lua_8c_source.html#l00987">lua_register_hints()</a>, <a class="el" href="../../d6/dde/pbx__lua_8c_source.html#l00929">lua_register_switches()</a>, and <a class="el" href="../../de/d23/pbx__ael_8c_source.html#l00146">pbx_load_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;{</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;}</div></div><!-- fragment -->
</div>
</div>
<a id="a0a1d79f17ab4af99009246a130eff8ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a1d79f17ab4af99009246a130eff8ef">&#9670;&nbsp;</a></span>ast_hint_presence_state()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_hint_presence_state </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>exten</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>subtype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>message</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Uses hint and presence state callback to get the presence state of an extension. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">c</td><td>this is not important </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">context</td><td>which context to look in </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">exten</td><td>which extension to get state </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">subtype</td><td>Further information regarding the presence returned </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">message</td><td>Custom message further describing current presence</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>The subtype and message are dynamically allocated and must be freed by the caller of this function.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>returns the presence state value. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../db/d94/pbx_8c_source.html#l03226">3226</a> of file <a class="el" href="../../db/d94/pbx_8c_source.html">pbx.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00718">ao2_lock</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00730">ao2_unlock</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l00246">ast_exten::app</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l06970">ast_add_extension()</a>, <a class="el" href="../../d9/db0/astmm_8c_source.html#l01771">ast_free_ptr()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l02997">ast_hint_extension()</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00243">ast_strdup</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l00241">ast_exten::cidmatch</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l00248">ast_exten::data</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l00238">ast_exten::exten</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l03200">extension_presence_state_helper()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l00244">ast_exten::label</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l00240">ast_exten::matchcid</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l00297">ast_context::name</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l00245">ast_exten::parent</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l00243">ast_exten::priority</a>, and <a class="el" href="../../db/d94/pbx_8c_source.html#l00253">ast_exten::registrar</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/d3d/res__pjsip__exten__state_8c_source.html#l00482">exten_state_data_alloc()</a>, and <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l28575">handle_request_subscribe()</a>.</p>
<div class="fragment"><div class="line"><a name="l03227"></a><span class="lineno"> 3227</span>&#160;{</div><div class="line"><a name="l03228"></a><span class="lineno"> 3228</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d7/d00/structast__exten.html">ast_exten</a> *e;</div><div class="line"><a name="l03229"></a><span class="lineno"> 3229</span>&#160;</div><div class="line"><a name="l03230"></a><span class="lineno"> 3230</span>&#160;   <span class="keywordflow">if</span> (!(e = <a class="code" href="../../db/d94/pbx_8c.html#a666d27d15c01c2b36dd8523a0146ba40">ast_hint_extension</a>(c, <a class="code" href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a>, <a class="code" href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>))) {  <span class="comment">/* Do we have a hint for this extension ? */</span></div><div class="line"><a name="l03231"></a><span class="lineno"> 3231</span>&#160;      <span class="keywordflow">return</span> -1;                   <span class="comment">/* No hint, return -1 */</span></div><div class="line"><a name="l03232"></a><span class="lineno"> 3232</span>&#160;   }</div><div class="line"><a name="l03233"></a><span class="lineno"> 3233</span>&#160;</div><div class="line"><a name="l03234"></a><span class="lineno"> 3234</span>&#160;   <span class="keywordflow">if</span> (e-&gt;<a class="code" href="../../d7/d00/structast__exten.html#a0f7fc37040d0e6f05e756cf921c14a31">exten</a>[0] == <span class="charliteral">&#39;_&#39;</span>) {</div><div class="line"><a name="l03235"></a><span class="lineno"> 3235</span>&#160;      <span class="comment">/* Create this hint on-the-fly */</span></div><div class="line"><a name="l03236"></a><span class="lineno"> 3236</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aa9fdb5d0a6157a56060d9f7279fe6c49">ao2_lock</a>(<a class="code" href="../../de/d2c/structhints.html">hints</a>);</div><div class="line"><a name="l03237"></a><span class="lineno"> 3237</span>&#160;      <a class="code" href="../../db/d94/pbx_8c.html#a07176e8d314eb68b3b50279fafa11390">ast_add_extension</a>(e-&gt;<a class="code" href="../../d7/d00/structast__exten.html#aa0b51b36bbd4dfa2db0d18352aa7dc3f">parent</a>-&gt;<a class="code" href="../../d6/d7c/structast__context.html#a2a7f851274ec18e17d38114c39b8511a">name</a>, 0, <a class="code" href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>, e-&gt;<a class="code" href="../../d7/d00/structast__exten.html#acec9ce2df15222151ad66fcb1d74eb9f">priority</a>, e-&gt;<a class="code" href="../../d7/d00/structast__exten.html#ad5d5c96b6acf265b9982ca93960b0d59">label</a>,</div><div class="line"><a name="l03238"></a><span class="lineno"> 3238</span>&#160;         e-&gt;<a class="code" href="../../d7/d00/structast__exten.html#af0803fced1d4ccfbc6ec4d8577d30525">matchcid</a> ? e-&gt;<a class="code" href="../../d7/d00/structast__exten.html#a8de82ae926b28db46e3c459a7a1efe83">cidmatch</a> : <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, e-&gt;<a class="code" href="../../d7/d00/structast__exten.html#a39cd5d0fb8998335df42679419beada9">app</a>, <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(e-&gt;<a class="code" href="../../d7/d00/structast__exten.html#ac5c5967f62e5c3601479be651a8ed76c">data</a>), <a class="code" href="../../d8/d8a/astmm_8h.html#ad42ab843b767e8b57162c10a158b75c3">ast_free_ptr</a>,</div><div class="line"><a name="l03239"></a><span class="lineno"> 3239</span>&#160;         e-&gt;<a class="code" href="../../d7/d00/structast__exten.html#a8c205128d7dc6034c5a5cf16b602f2fe">registrar</a>);</div><div class="line"><a name="l03240"></a><span class="lineno"> 3240</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a>(<a class="code" href="../../de/d2c/structhints.html">hints</a>);</div><div class="line"><a name="l03241"></a><span class="lineno"> 3241</span>&#160;      <span class="keywordflow">if</span> (!(e = <a class="code" href="../../db/d94/pbx_8c.html#a666d27d15c01c2b36dd8523a0146ba40">ast_hint_extension</a>(c, <a class="code" href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a>, <a class="code" href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>))) {</div><div class="line"><a name="l03242"></a><span class="lineno"> 3242</span>&#160;         <span class="comment">/* Improbable, but not impossible */</span></div><div class="line"><a name="l03243"></a><span class="lineno"> 3243</span>&#160;         <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l03244"></a><span class="lineno"> 3244</span>&#160;      }</div><div class="line"><a name="l03245"></a><span class="lineno"> 3245</span>&#160;   }</div><div class="line"><a name="l03246"></a><span class="lineno"> 3246</span>&#160;</div><div class="line"><a name="l03247"></a><span class="lineno"> 3247</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../db/d94/pbx_8c.html#abf4ec36d94c7f4b99cb3cd4a0bb51111">extension_presence_state_helper</a>(e, subtype, <a class="code" href="../../d8/d9e/structmessage.html">message</a>);</div><div class="line"><a name="l03248"></a><span class="lineno"> 3248</span>&#160;}</div><div class="ttc" id="structast__exten_html_ad5d5c96b6acf265b9982ca93960b0d59"><div class="ttname"><a href="../../d7/d00/structast__exten.html#ad5d5c96b6acf265b9982ca93960b0d59">ast_exten::label</a></div><div class="ttdeci">const char * label</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l00244">pbx.c:244</a></div></div>
<div class="ttc" id="chan__alsa_8c_html_a78d4847658b695383d849efd12399b38"><div class="ttname"><a href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a></div><div class="ttdeci">static char exten[AST_MAX_EXTENSION]</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d45/chan__alsa_8c_source.html#l00118">chan_alsa.c:118</a></div></div>
<div class="ttc" id="structmessage_html"><div class="ttname"><a href="../../d8/d9e/structmessage.html">message</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/d45/manager_8h_source.html#l00144">manager.h:144</a></div></div>
<div class="ttc" id="structast__exten_html"><div class="ttname"><a href="../../d7/d00/structast__exten.html">ast_exten</a></div><div class="ttdoc">ast_exten: An extension The dialplan is saved as a linked list with each context having it&amp;#39;s own link...</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l00237">pbx.c:237</a></div></div>
<div class="ttc" id="pbx_8c_html_abf4ec36d94c7f4b99cb3cd4a0bb51111"><div class="ttname"><a href="../../db/d94/pbx_8c.html#abf4ec36d94c7f4b99cb3cd4a0bb51111">extension_presence_state_helper</a></div><div class="ttdeci">static int extension_presence_state_helper(struct ast_exten *e, char **subtype, char **message)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l03200">pbx.c:3200</a></div></div>
<div class="ttc" id="astobj2_8h_html_a9998bd156b936636a8780385e9a910b2"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a></div><div class="ttdeci">#define ao2_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00730">astobj2.h:730</a></div></div>
<div class="ttc" id="astmm_8h_html_ab263849d03fb892847be4986db759737"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a></div><div class="ttdeci">#define ast_strdup(str)</div><div class="ttdoc">A wrapper for strdup() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00243">astmm.h:243</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="astmm_8h_html_ad42ab843b767e8b57162c10a158b75c3"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ad42ab843b767e8b57162c10a158b75c3">ast_free_ptr</a></div><div class="ttdeci">void ast_free_ptr(void *ptr)</div><div class="ttdoc">free() wrapper </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db0/astmm_8c_source.html#l01771">astmm.c:1771</a></div></div>
<div class="ttc" id="structast__exten_html_a8c205128d7dc6034c5a5cf16b602f2fe"><div class="ttname"><a href="../../d7/d00/structast__exten.html#a8c205128d7dc6034c5a5cf16b602f2fe">ast_exten::registrar</a></div><div class="ttdeci">const char * registrar</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l00253">pbx.c:253</a></div></div>
<div class="ttc" id="structast__exten_html_af0803fced1d4ccfbc6ec4d8577d30525"><div class="ttname"><a href="../../d7/d00/structast__exten.html#af0803fced1d4ccfbc6ec4d8577d30525">ast_exten::matchcid</a></div><div class="ttdeci">int matchcid</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l00240">pbx.c:240</a></div></div>
<div class="ttc" id="structast__exten_html_acec9ce2df15222151ad66fcb1d74eb9f"><div class="ttname"><a href="../../d7/d00/structast__exten.html#acec9ce2df15222151ad66fcb1d74eb9f">ast_exten::priority</a></div><div class="ttdeci">int priority</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l00243">pbx.c:243</a></div></div>
<div class="ttc" id="pbx_8c_html_a666d27d15c01c2b36dd8523a0146ba40"><div class="ttname"><a href="../../db/d94/pbx_8c.html#a666d27d15c01c2b36dd8523a0146ba40">ast_hint_extension</a></div><div class="ttdeci">static struct ast_exten * ast_hint_extension(struct ast_channel *c, const char *context, const char *exten)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l02997">pbx.c:2997</a></div></div>
<div class="ttc" id="astobj2_8h_html_aa9fdb5d0a6157a56060d9f7279fe6c49"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aa9fdb5d0a6157a56060d9f7279fe6c49">ao2_lock</a></div><div class="ttdeci">#define ao2_lock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00718">astobj2.h:718</a></div></div>
<div class="ttc" id="structast__exten_html_a0f7fc37040d0e6f05e756cf921c14a31"><div class="ttname"><a href="../../d7/d00/structast__exten.html#a0f7fc37040d0e6f05e756cf921c14a31">ast_exten::exten</a></div><div class="ttdeci">char * exten</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l00238">pbx.c:238</a></div></div>
<div class="ttc" id="structast__context_html_a2a7f851274ec18e17d38114c39b8511a"><div class="ttname"><a href="../../d6/d7c/structast__context.html#a2a7f851274ec18e17d38114c39b8511a">ast_context::name</a></div><div class="ttdeci">char name[0]</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l00297">pbx.c:297</a></div></div>
<div class="ttc" id="pbx_8c_html_a07176e8d314eb68b3b50279fafa11390"><div class="ttname"><a href="../../db/d94/pbx_8c.html#a07176e8d314eb68b3b50279fafa11390">ast_add_extension</a></div><div class="ttdeci">int ast_add_extension(const char *context, int replace, const char *extension, int priority, const char *label, const char *callerid, const char *application, void *data, void(*datad)(void *), const char *registrar)</div><div class="ttdoc">Add and extension to an extension context. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l06970">pbx.c:6970</a></div></div>
<div class="ttc" id="structhints_html"><div class="ttname"><a href="../../de/d2c/structhints.html">hints</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc5/extconf_8c_source.html#l03624">extconf.c:3624</a></div></div>
<div class="ttc" id="structast__exten_html_a8de82ae926b28db46e3c459a7a1efe83"><div class="ttname"><a href="../../d7/d00/structast__exten.html#a8de82ae926b28db46e3c459a7a1efe83">ast_exten::cidmatch</a></div><div class="ttdeci">const char * cidmatch</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l00241">pbx.c:241</a></div></div>
<div class="ttc" id="structast__exten_html_a39cd5d0fb8998335df42679419beada9"><div class="ttname"><a href="../../d7/d00/structast__exten.html#a39cd5d0fb8998335df42679419beada9">ast_exten::app</a></div><div class="ttdeci">const char * app</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l00246">pbx.c:246</a></div></div>
<div class="ttc" id="structast__exten_html_aa0b51b36bbd4dfa2db0d18352aa7dc3f"><div class="ttname"><a href="../../d7/d00/structast__exten.html#aa0b51b36bbd4dfa2db0d18352aa7dc3f">ast_exten::parent</a></div><div class="ttdeci">struct ast_context * parent</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l00245">pbx.c:245</a></div></div>
<div class="ttc" id="structast__exten_html_ac5c5967f62e5c3601479be651a8ed76c"><div class="ttname"><a href="../../d7/d00/structast__exten.html#ac5c5967f62e5c3601479be651a8ed76c">ast_exten::data</a></div><div class="ttdeci">void * data</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l00248">pbx.c:248</a></div></div>
<div class="ttc" id="chan__alsa_8c_html_ac25ea00ee3f082df06e0cf468cbde240"><div class="ttname"><a href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a></div><div class="ttdeci">static char context[AST_MAX_CONTEXT]</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d45/chan__alsa_8c_source.html#l00116">chan_alsa.c:116</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa73d176ed4f1ce51e5db6beafba45fe3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa73d176ed4f1ce51e5db6beafba45fe3">&#9670;&nbsp;</a></span>ast_ignore_pattern()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_ignore_pattern </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>pattern</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks to see if a number should be ignored. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">context</td><td>context to search within </td></tr>
    <tr><td class="paramname">pattern</td><td>to check whether it should be ignored or not</td></tr>
  </table>
  </dd>
</dl>
<p>Check if a number should be ignored with respect to dialtone cancellation.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>if the pattern should not be ignored </td></tr>
    <tr><td class="paramname">non-zero</td><td>if the pattern should be ignored </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="../../d4/dca/_2usr_2src_2asterisk-18_85_80_2main_2app_8c-example.html#a44">/usr/src/asterisk-18.5.0/main/app.c</a>.</dd>
</dl>
<p class="definition">Definition at line <a class="el" href="../../db/d94/pbx_8c_source.html#l06921">6921</a> of file <a class="el" href="../../db/d94/pbx_8c_source.html">pbx.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/d94/pbx_8c_source.html#l02443">ast_context_find()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08740">ast_context_ignorepats_count()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08745">ast_context_ignorepats_get()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l02413">ast_extension_match()</a>, <a class="el" href="../../d9/d63/pbx__ignorepat_8c_source.html#l00042">ast_get_ignorepat_name()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08507">ast_rdlock_contexts()</a>, and <a class="el" href="../../db/d94/pbx_8c_source.html#l08512">ast_unlock_contexts()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/d09/sig__analog_8c_source.html#l01711">__analog_ss_thread()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l09512">analog_ss_thread()</a>, <a class="el" href="../../d3/d83/main_2app_8c_source.html#l00139">ast_app_dtget()</a>, <a class="el" href="../../d4/d7e/app__disa_8c_source.html#l00146">disa_exec()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l09538">dp_lookup()</a>, <a class="el" href="../../d1/dc0/pbx__dundi_8c_source.html#l00578">dundi_lookup_local()</a>, and <a class="el" href="../../d0/dd6/chan__mgcp_8c_source.html#l03000">mgcp_ss()</a>.</p>
<div class="fragment"><div class="line"><a name="l06922"></a><span class="lineno"> 6922</span>&#160;{</div><div class="line"><a name="l06923"></a><span class="lineno"> 6923</span>&#160;   <span class="keywordtype">int</span> ret = 0;</div><div class="line"><a name="l06924"></a><span class="lineno"> 6924</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d6/d7c/structast__context.html">ast_context</a> *con;</div><div class="line"><a name="l06925"></a><span class="lineno"> 6925</span>&#160;</div><div class="line"><a name="l06926"></a><span class="lineno"> 6926</span>&#160;   <a class="code" href="../../db/d94/pbx_8c.html#aa2c309331fff0a086ab8e216f803d546">ast_rdlock_contexts</a>();</div><div class="line"><a name="l06927"></a><span class="lineno"> 6927</span>&#160;   con = <a class="code" href="../../db/d94/pbx_8c.html#a2af2d2771e5347b18454a05dbc98e35f">ast_context_find</a>(<a class="code" href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a>);</div><div class="line"><a name="l06928"></a><span class="lineno"> 6928</span>&#160;   <span class="keywordflow">if</span> (con) {</div><div class="line"><a name="l06929"></a><span class="lineno"> 6929</span>&#160;      <span class="keywordtype">int</span> idx;</div><div class="line"><a name="l06930"></a><span class="lineno"> 6930</span>&#160;</div><div class="line"><a name="l06931"></a><span class="lineno"> 6931</span>&#160;      <span class="keywordflow">for</span> (idx = 0; idx &lt; <a class="code" href="../../db/d94/pbx_8c.html#aa780584a8327cbe41d566b91e119eb97">ast_context_ignorepats_count</a>(con); idx++) {</div><div class="line"><a name="l06932"></a><span class="lineno"> 6932</span>&#160;         <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="../../d0/d11/structast__ignorepat.html">ast_ignorepat</a> *pat = <a class="code" href="../../db/d94/pbx_8c.html#a6fee17b9633bb84f0fce209d5d42fb0a">ast_context_ignorepats_get</a>(con, idx);</div><div class="line"><a name="l06933"></a><span class="lineno"> 6933</span>&#160;</div><div class="line"><a name="l06934"></a><span class="lineno"> 6934</span>&#160;         <span class="keywordflow">if</span> (<a class="code" href="../../db/d94/pbx_8c.html#a594f1f57f847b59c1d8aeef4b0e3a337">ast_extension_match</a>(<a class="code" href="../../db/de0/pbx_8h.html#ad40e50eea098e5c16ef7dd3ffbff1bba">ast_get_ignorepat_name</a>(pat), <a class="code" href="../../d0/d11/structast__ignorepat.html#a330f40c3d5af3c94035e90e4cf4599c0">pattern</a>)) {</div><div class="line"><a name="l06935"></a><span class="lineno"> 6935</span>&#160;            ret = 1;</div><div class="line"><a name="l06936"></a><span class="lineno"> 6936</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l06937"></a><span class="lineno"> 6937</span>&#160;         }</div><div class="line"><a name="l06938"></a><span class="lineno"> 6938</span>&#160;      }</div><div class="line"><a name="l06939"></a><span class="lineno"> 6939</span>&#160;   }</div><div class="line"><a name="l06940"></a><span class="lineno"> 6940</span>&#160;   <a class="code" href="../../db/d94/pbx_8c.html#ae517a87b356aec60d5de4591ef94581b">ast_unlock_contexts</a>();</div><div class="line"><a name="l06941"></a><span class="lineno"> 6941</span>&#160;</div><div class="line"><a name="l06942"></a><span class="lineno"> 6942</span>&#160;   <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l06943"></a><span class="lineno"> 6943</span>&#160;}</div><div class="ttc" id="structast__ignorepat_html_a330f40c3d5af3c94035e90e4cf4599c0"><div class="ttname"><a href="../../d0/d11/structast__ignorepat.html#a330f40c3d5af3c94035e90e4cf4599c0">ast_ignorepat::pattern</a></div><div class="ttdeci">const char pattern[0]</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d63/pbx__ignorepat_8c_source.html#l00039">pbx_ignorepat.c:39</a></div></div>
<div class="ttc" id="pbx_8c_html_a6fee17b9633bb84f0fce209d5d42fb0a"><div class="ttname"><a href="../../db/d94/pbx_8c.html#a6fee17b9633bb84f0fce209d5d42fb0a">ast_context_ignorepats_get</a></div><div class="ttdeci">const struct ast_ignorepat * ast_context_ignorepats_get(const struct ast_context *con, int idx)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l08745">pbx.c:8745</a></div></div>
<div class="ttc" id="pbx_8c_html_a2af2d2771e5347b18454a05dbc98e35f"><div class="ttname"><a href="../../db/d94/pbx_8c.html#a2af2d2771e5347b18454a05dbc98e35f">ast_context_find</a></div><div class="ttdeci">struct ast_context * ast_context_find(const char *name)</div><div class="ttdoc">Find a context. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l02443">pbx.c:2443</a></div></div>
<div class="ttc" id="pbx_8c_html_aa2c309331fff0a086ab8e216f803d546"><div class="ttname"><a href="../../db/d94/pbx_8c.html#aa2c309331fff0a086ab8e216f803d546">ast_rdlock_contexts</a></div><div class="ttdeci">int ast_rdlock_contexts(void)</div><div class="ttdoc">Read locks the context list. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l08507">pbx.c:8507</a></div></div>
<div class="ttc" id="pbx_8h_html_ad40e50eea098e5c16ef7dd3ffbff1bba"><div class="ttname"><a href="../../db/de0/pbx_8h.html#ad40e50eea098e5c16ef7dd3ffbff1bba">ast_get_ignorepat_name</a></div><div class="ttdeci">const char * ast_get_ignorepat_name(const struct ast_ignorepat *ip)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d63/pbx__ignorepat_8c_source.html#l00042">pbx_ignorepat.c:42</a></div></div>
<div class="ttc" id="pbx_8c_html_aa780584a8327cbe41d566b91e119eb97"><div class="ttname"><a href="../../db/d94/pbx_8c.html#aa780584a8327cbe41d566b91e119eb97">ast_context_ignorepats_count</a></div><div class="ttdeci">int ast_context_ignorepats_count(const struct ast_context *con)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l08740">pbx.c:8740</a></div></div>
<div class="ttc" id="pbx_8c_html_ae517a87b356aec60d5de4591ef94581b"><div class="ttname"><a href="../../db/d94/pbx_8c.html#ae517a87b356aec60d5de4591ef94581b">ast_unlock_contexts</a></div><div class="ttdeci">int ast_unlock_contexts(void)</div><div class="ttdoc">Unlocks contexts. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l08512">pbx.c:8512</a></div></div>
<div class="ttc" id="structast__ignorepat_html"><div class="ttname"><a href="../../d0/d11/structast__ignorepat.html">ast_ignorepat</a></div><div class="ttdoc">ast_ignorepat: Ignore patterns in dial plan </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d63/pbx__ignorepat_8c_source.html#l00037">pbx_ignorepat.c:37</a></div></div>
<div class="ttc" id="pbx_8c_html_a594f1f57f847b59c1d8aeef4b0e3a337"><div class="ttname"><a href="../../db/d94/pbx_8c.html#a594f1f57f847b59c1d8aeef4b0e3a337">ast_extension_match</a></div><div class="ttdeci">int ast_extension_match(const char *pattern, const char *data)</div><div class="ttdoc">Determine if a given extension matches a given pattern (in NXX format) </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l02413">pbx.c:2413</a></div></div>
<div class="ttc" id="chan__alsa_8c_html_ac25ea00ee3f082df06e0cf468cbde240"><div class="ttname"><a href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a></div><div class="ttdeci">static char context[AST_MAX_CONTEXT]</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d45/chan__alsa_8c_source.html#l00116">chan_alsa.c:116</a></div></div>
<div class="ttc" id="structast__context_html"><div class="ttname"><a href="../../d6/d7c/structast__context.html">ast_context</a></div><div class="ttdoc">ast_context: An extension context - must remain in sync with fake_context </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l00284">pbx.c:284</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac359af75b9494f50904583d2168a7577"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac359af75b9494f50904583d2168a7577">&#9670;&nbsp;</a></span>ast_matchmore_extension()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_matchmore_extension </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>exten</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>priority</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>callerid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Looks to see if adding anything to this extension might match something. (exists ^ canmatch) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">c</td><td>not really important XXX </td></tr>
    <tr><td class="paramname">context</td><td>context to serach within </td></tr>
    <tr><td class="paramname">exten</td><td>extension to check </td></tr>
    <tr><td class="paramname">priority</td><td>priority of extension path </td></tr>
    <tr><td class="paramname">callerid</td><td>callerid of extension being searched for</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>It is possible for autoservice to be started and stopped on c during this function call, it is important that c is not locked prior to calling this. Otherwise a deadlock may occur</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>If "exten" <em>could match</em> a valid extension in this context with some more digits, return non-zero. Does NOT return non-zero if this is an exact-match only. Basically, when this returns 0, no matter what you add to exten, it's not going to be a valid extension anymore </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="../../d4/dca/_2usr_2src_2asterisk-18_85_80_2main_2app_8c-example.html#a46">/usr/src/asterisk-18.5.0/main/app.c</a>.</dd>
</dl>
<p class="definition">Definition at line <a class="el" href="../../db/d94/pbx_8c_source.html#l04199">4199</a> of file <a class="el" href="../../db/d94/pbx_8c_source.html">pbx.c</a>.</p>

<p class="reference">References <a class="el" href="../../dd/ddb/extconf_8h_source.html#l00216">E_MATCHMORE</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../db/d94/pbx_8c_source.html#l02875">pbx_extension_helper()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/d09/sig__analog_8c_source.html#l01711">__analog_ss_thread()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l04310">__ast_pbx_run()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l09512">analog_ss_thread()</a>, <a class="el" href="../../d3/d83/main_2app_8c_source.html#l00139">ast_app_dtget()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l04283">collect_digits()</a>, <a class="el" href="../../d4/d7e/app__disa_8c_source.html#l00146">disa_exec()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l09538">dp_lookup()</a>, <a class="el" href="../../d1/dc0/pbx__dundi_8c_source.html#l00578">dundi_lookup_local()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l03537">handle_clear_alarms()</a>, <a class="el" href="../../d1/d6d/chan__unistim_8c_source.html#l03561">key_dial_page()</a>, <a class="el" href="../../d8/d48/pbx__loopback_8c_source.html#l00158">loopback_matchmore()</a>, <a class="el" href="../../d0/dd6/chan__mgcp_8c_source.html#l03000">mgcp_ss()</a>, <a class="el" href="../../df/d1d/pbx__builtins_8c_source.html#l01144">pbx_builtin_background()</a>, <a class="el" href="../../d2/de3/app__readexten_8c_source.html#l00119">readexten_exec()</a>, and <a class="el" href="../../d0/d80/chan__skinny_8c_source.html#l04858">skinny_dialer()</a>.</p>
<div class="fragment"><div class="line"><a name="l04200"></a><span class="lineno"> 4200</span>&#160;{</div><div class="line"><a name="l04201"></a><span class="lineno"> 4201</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../db/d94/pbx_8c.html#ae381d99bea85b43f022470b64171018d">pbx_extension_helper</a>(c, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a>, <a class="code" href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>, <a class="code" href="../../d9/d47/cdr__beanstalkd_8c.html#acec9ce2df15222151ad66fcb1d74eb9f">priority</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, callerid, <a class="code" href="../../dd/ddb/extconf_8h.html#a2b7f0fafc6995b2630658a4fd8df26bea7e20dcb277877b81e8099470cd631277">E_MATCHMORE</a>, 0, 0);</div><div class="line"><a name="l04202"></a><span class="lineno"> 4202</span>&#160;}</div><div class="ttc" id="chan__alsa_8c_html_a78d4847658b695383d849efd12399b38"><div class="ttname"><a href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a></div><div class="ttdeci">static char exten[AST_MAX_EXTENSION]</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d45/chan__alsa_8c_source.html#l00118">chan_alsa.c:118</a></div></div>
<div class="ttc" id="extconf_8h_html_a2b7f0fafc6995b2630658a4fd8df26bea7e20dcb277877b81e8099470cd631277"><div class="ttname"><a href="../../dd/ddb/extconf_8h.html#a2b7f0fafc6995b2630658a4fd8df26bea7e20dcb277877b81e8099470cd631277">E_MATCHMORE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/ddb/extconf_8h_source.html#l00216">extconf.h:216</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="cdr__beanstalkd_8c_html_acec9ce2df15222151ad66fcb1d74eb9f"><div class="ttname"><a href="../../d9/d47/cdr__beanstalkd_8c.html#acec9ce2df15222151ad66fcb1d74eb9f">priority</a></div><div class="ttdeci">static int priority</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d47/cdr__beanstalkd_8c_source.html#l00076">cdr_beanstalkd.c:76</a></div></div>
<div class="ttc" id="chan__alsa_8c_html_ac25ea00ee3f082df06e0cf468cbde240"><div class="ttname"><a href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a></div><div class="ttdeci">static char context[AST_MAX_CONTEXT]</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d45/chan__alsa_8c_source.html#l00116">chan_alsa.c:116</a></div></div>
<div class="ttc" id="pbx_8c_html_ae381d99bea85b43f022470b64171018d"><div class="ttname"><a href="../../db/d94/pbx_8c.html#ae381d99bea85b43f022470b64171018d">pbx_extension_helper</a></div><div class="ttdeci">static int pbx_extension_helper(struct ast_channel *c, struct ast_context *con, const char *context, const char *exten, int priority, const char *label, const char *callerid, enum ext_match_t action, int *found, int combined_find_spawn)</div><div class="ttdoc">The return value depends on the action: </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l02875">pbx.c:2875</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a833a703b21d8f6bcb9f68e57185bca67"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a833a703b21d8f6bcb9f68e57185bca67">&#9670;&nbsp;</a></span>ast_merge_contexts_and_delete()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_merge_contexts_and_delete </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d6/d7c/structast__context.html">ast_context</a> **&#160;</td>
          <td class="paramname"><em>extcontexts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d0/d4a/structast__hashtab.html">ast_hashtab</a> *&#160;</td>
          <td class="paramname"><em>exttable</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>registrar</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Merge the temporary contexts into a global contexts list and delete from the global list the ones that are being added. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">extcontexts</td><td>pointer to the <a class="el" href="../../d6/d7c/structast__context.html" title="ast_context: An extension context - must remain in sync with fake_context ">ast_context</a> structure </td></tr>
    <tr><td class="paramname">exttable</td><td>pointer to the <a class="el" href="../../d0/d4a/structast__hashtab.html">ast_hashtab</a> structure that contains all the elements in extcontexts </td></tr>
    <tr><td class="paramname">registrar</td><td>of the context; if it's set the routine will delete all contexts that belong to that registrar; if NULL only the contexts that are specified in extcontexts </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/dcc/conf2ael_8c_source.html#l00639">639</a> of file <a class="el" href="../../de/dcc/conf2ael_8c_source.html">conf2ael.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/d94/pbx_8c_source.html#l08050">__ast_internal_context_destroy()</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01716">ao2_callback</a>, <a class="el" href="../../d7/d22/astobj2__container_8c_source.html#l00034">ao2_container_count()</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01756">ao2_find</a>, <a class="el" href="../../d7/d22/astobj2__container_8c_source.html#l00534">ao2_iterator_destroy()</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01872">AO2_ITERATOR_DONTLOCK</a>, <a class="el" href="../../d7/d22/astobj2__container_8c_source.html#l00485">ao2_iterator_init()</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01933">ao2_iterator_next</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01549">ao2_link</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00718">ao2_lock</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00730">ao2_unlock</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l00246">ast_exten::app</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l06950">ast_add_extension_nolock()</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00204">ast_calloc</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00401">ast_copy_string()</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../d9/db0/astmm_8c_source.html#l01771">ast_free_ptr()</a>, <a class="el" href="../../de/dcc/conf2ael_8c_source.html#l00645">ast_get_context_name()</a>, <a class="el" href="../../df/d35/hashtab_8c_source.html#l00363">ast_hashtab_destroy()</a>, <a class="el" href="../../df/d35/hashtab_8c_source.html#l00674">ast_hashtab_end_traversal()</a>, <a class="el" href="../../df/d35/hashtab_8c_source.html#l00683">ast_hashtab_next()</a>, <a class="el" href="../../d6/da0/hashtab_8h_source.html#l00355">ast_hashtab_start_traversal</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l02991">ast_hint_extension_nolock()</a>, <a class="el" href="../../db/de0/pbx_8h_source.html#l00091">AST_HINT_UPDATE_DEVICE</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00251">AST_LIST_HEAD_NOLOCK_INIT_VALUE</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00710">AST_LIST_INSERT_HEAD</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00730">AST_LIST_INSERT_TAIL</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00832">AST_LIST_REMOVE_HEAD</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00187">ast_mutex_lock</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00188">ast_mutex_unlock</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00243">ast_strdup</a>, <a class="el" href="../../de/df7/time_8h_source.html#l00078">ast_tvdiff_us()</a>, <a class="el" href="../../de/df7/time_8h_source.html#l00150">ast_tvnow()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08512">ast_unlock_contexts()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00463">ast_verb</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08502">ast_wrlock_contexts()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l00332">ast_hint::callbacks</a>, <a class="el" href="../../d4/dc5/extconf_8c_source.html#l02442">store_hint::callbacks</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l00309">ast_state_cb::change_cb</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l06280">store_hint::context</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l06369">context_merge()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l00790">context_merge_lock</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l06332">context_table_create_autohints()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l00776">contexts</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l00777">contexts_table</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l00248">ast_exten::data</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l00305">ast_state_cb::data</a>, <a class="el" href="../../dd/ddb/extconf_8h_source.html#l00218">E_MATCH</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l03250">execute_state_callback()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l00238">ast_exten::exten</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l00331">ast_hint::exten</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l06281">store_hint::exten</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l00340">ast_hint::last_presence_message</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l06286">store_hint::last_presence_message</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l00338">ast_hint::last_presence_state</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l06284">store_hint::last_presence_state</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l00339">ast_hint::last_presence_subtype</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l06285">store_hint::last_presence_subtype</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l00335">ast_hint::laststate</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l06283">store_hint::laststate</a>, <a class="el" href="../../d4/dc5/extconf_8c_source.html#l05618">localized_merge_contexts_and_delete()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l00297">ast_context::name</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l00256">ast_exten::next</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l00289">ast_context::next</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01043">OBJ_UNLINK</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l00245">ast_exten::parent</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l02485">pbx_find_extension()</a>, <a class="el" href="../../db/de0/pbx_8h_source.html#l00054">PRIORITY_HINT</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l00253">ast_exten::registrar</a>, <a class="el" href="../../dd/ddb/extconf_8h_source.html#l00238">pbx_find_info::stacklen</a>, and <a class="el" href="../../de/d1e/bt__open_8c_source.html#l00389">tmp()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/dcc/conf2ael_8c_source.html#l00632">ast_context_verify_includes()</a>, <a class="el" href="../../d6/dde/pbx__lua_8c_source.html#l01213">lua_reload_extensions()</a>, and <a class="el" href="../../de/d23/pbx__ael_8c_source.html#l00146">pbx_load_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;{</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;   <a class="code" href="../../dd/ddb/extconf_8h.html#a86a4d005832a85fe5184296289ceee2f">localized_merge_contexts_and_delete</a>(extcontexts, exttable, <a class="code" href="../../de/d23/pbx__ael_8c.html#ab990a3529ebde2681a00468cad7c0b48">registrar</a>);</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;}</div><div class="ttc" id="extconf_8h_html_a86a4d005832a85fe5184296289ceee2f"><div class="ttname"><a href="../../dd/ddb/extconf_8h.html#a86a4d005832a85fe5184296289ceee2f">localized_merge_contexts_and_delete</a></div><div class="ttdeci">void localized_merge_contexts_and_delete(struct ast_context **extcontexts, void *tab, const char *registrar)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc5/extconf_8c_source.html#l05618">extconf.c:5618</a></div></div>
<div class="ttc" id="pbx__ael_8c_html_ab990a3529ebde2681a00468cad7c0b48"><div class="ttname"><a href="../../de/d23/pbx__ael_8c.html#ab990a3529ebde2681a00468cad7c0b48">registrar</a></div><div class="ttdeci">static char * registrar</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d23/pbx__ael_8c_source.html#l00078">pbx_ael.c:78</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae9b65b0515d88371a5293dd354bfd92f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae9b65b0515d88371a5293dd354bfd92f">&#9670;&nbsp;</a></span>ast_parseable_goto()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_parseable_goto </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>goto_string</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section note"><dt>Note</dt><dd>This function will handle locking the channel as needed. </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="../../d4/dca/_2usr_2src_2asterisk-18_85_80_2main_2app_8c-example.html#a401">/usr/src/asterisk-18.5.0/main/app.c</a>.</dd>
</dl>
<p class="definition">Definition at line <a class="el" href="../../db/d94/pbx_8c_source.html#l08859">8859</a> of file <a class="el" href="../../db/d94/pbx_8c_source.html">pbx.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/d94/pbx_8c_source.html#l08803">pbx_parseable_goto()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/d02/app__if_8c_source.html#l00179">_if_exec()</a>, <a class="el" href="../../d0/d8e/app__while_8c_source.html#l00197">_while_exec()</a>, <a class="el" href="../../df/db6/bridge__after_8c_source.html#l00447">ast_bridge_setup_after_goto()</a>, <a class="el" href="../../d9/d12/app__dial_8c_source.html#l02254">dial_exec_full()</a>, <a class="el" href="../../d1/d71/app__stack_8c_source.html#l00516">gosub_exec()</a>, <a class="el" href="../../d3/d83/main_2app_8c_source.html#l02590">ivr_dispatch()</a>, <a class="el" href="../../df/d1d/pbx__builtins_8c_source.html#l00894">pbx_builtin_goto()</a>, and <a class="el" href="../../d0/d8e/app__while_8c_source.html#l00319">while_continue_exec()</a>.</p>
<div class="fragment"><div class="line"><a name="l08860"></a><span class="lineno"> 8860</span>&#160;{</div><div class="line"><a name="l08861"></a><span class="lineno"> 8861</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../db/d94/pbx_8c.html#aa18771ce9668fbafeb630ce5c802e6f8">pbx_parseable_goto</a>(chan, goto_string, 0);</div><div class="line"><a name="l08862"></a><span class="lineno"> 8862</span>&#160;}</div><div class="ttc" id="pbx_8c_html_aa18771ce9668fbafeb630ce5c802e6f8"><div class="ttname"><a href="../../db/d94/pbx_8c.html#aa18771ce9668fbafeb630ce5c802e6f8">pbx_parseable_goto</a></div><div class="ttdeci">static int pbx_parseable_goto(struct ast_channel *chan, const char *goto_string, int async)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l08803">pbx.c:8803</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a90b8895bf6b299c1b844a57c2ea10348"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a90b8895bf6b299c1b844a57c2ea10348">&#9670;&nbsp;</a></span>ast_pbx_h_exten_run()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_pbx_h_exten_run </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>context</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Run the h exten from the given context. </p>
<dl class="section since"><dt>Since</dt><dd>11.0</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chan</td><td>Channel to run the h exten on. </td></tr>
    <tr><td class="paramname">context</td><td>Context the h exten is in.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Nothing </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../db/d94/pbx_8c_source.html#l04209">4209</a> of file <a class="el" href="../../db/d94/pbx_8c_source.html">pbx.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00888">ast_channel_caller()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00344">ast_channel_context()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00348">ast_channel_context_set()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00353">ast_channel_exten()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00357">ast_channel_exten_set()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l01260">ast_channel_flags()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02945">ast_channel_lock</a>, <a class="el" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00444">ast_channel_priority()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00448">ast_channel_priority_set()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l01019">AST_FLAG_BRIDGE_HANGUP_RUN</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l00998">AST_FLAG_IN_AUTOLOOP</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00094">ast_set2_flag</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00070">ast_set_flag</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l01155">AST_SOFTHANGUP_HANGUP_EXEC</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l02463">ast_softhangup_nolock()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l04204">ast_spawn_extension()</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00063">ast_test_flag</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00463">ast_verb</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../d6/d90/strings_8h_source.html#l00085">S_COR</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d94/pbx_8c_source.html#l04310">__ast_pbx_run()</a>, and <a class="el" href="../../df/db6/bridge__after_8c_source.html#l00447">ast_bridge_setup_after_goto()</a>.</p>
<div class="fragment"><div class="line"><a name="l04210"></a><span class="lineno"> 4210</span>&#160;{</div><div class="line"><a name="l04211"></a><span class="lineno"> 4211</span>&#160;   <span class="keywordtype">int</span> autoloopflag;</div><div class="line"><a name="l04212"></a><span class="lineno"> 4212</span>&#160;   <span class="keywordtype">int</span> found;</div><div class="line"><a name="l04213"></a><span class="lineno"> 4213</span>&#160;   <span class="keywordtype">int</span> spawn_error;</div><div class="line"><a name="l04214"></a><span class="lineno"> 4214</span>&#160;</div><div class="line"><a name="l04215"></a><span class="lineno"> 4215</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(chan);</div><div class="line"><a name="l04216"></a><span class="lineno"> 4216</span>&#160;</div><div class="line"><a name="l04217"></a><span class="lineno"> 4217</span>&#160;   <span class="comment">/*</span></div><div class="line"><a name="l04218"></a><span class="lineno"> 4218</span>&#160;<span class="comment">    * Make sure that the channel is marked as hungup since we are</span></div><div class="line"><a name="l04219"></a><span class="lineno"> 4219</span>&#160;<span class="comment">    * going to run the h exten on it.</span></div><div class="line"><a name="l04220"></a><span class="lineno"> 4220</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l04221"></a><span class="lineno"> 4221</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#ae90da1877e143b996d202d4c88a9c862">ast_softhangup_nolock</a>(chan, <a class="code" href="../../d5/d7b/channel_8h.html#a9e9505a91a84992d04ba4e85217fb4e4a33d9271d8d892501de8c9536382d71ea">AST_SOFTHANGUP_HANGUP_EXEC</a>);</div><div class="line"><a name="l04222"></a><span class="lineno"> 4222</span>&#160;</div><div class="line"><a name="l04223"></a><span class="lineno"> 4223</span>&#160;   <span class="comment">/* Set h exten location */</span></div><div class="line"><a name="l04224"></a><span class="lineno"> 4224</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a> != <a class="code" href="../../d5/d7b/channel_8h.html#a582dee4d5ea9b2ff6f309f0c5239f6bd">ast_channel_context</a>(chan)) {</div><div class="line"><a name="l04225"></a><span class="lineno"> 4225</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#aca211972dac7b8f3f08a283bfe0aa8bf">ast_channel_context_set</a>(chan, <a class="code" href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a>);</div><div class="line"><a name="l04226"></a><span class="lineno"> 4226</span>&#160;   }</div><div class="line"><a name="l04227"></a><span class="lineno"> 4227</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a018b7a29cef2d62074dc46e9aaad0d1a">ast_channel_exten_set</a>(chan, <span class="stringliteral">&quot;h&quot;</span>);</div><div class="line"><a name="l04228"></a><span class="lineno"> 4228</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#ae56cab679c0cda6436b930bc74297895">ast_channel_priority_set</a>(chan, 1);</div><div class="line"><a name="l04229"></a><span class="lineno"> 4229</span>&#160;</div><div class="line"><a name="l04230"></a><span class="lineno"> 4230</span>&#160;   <span class="comment">/* Save autoloop flag */</span></div><div class="line"><a name="l04231"></a><span class="lineno"> 4231</span>&#160;   autoloopflag = <a class="code" href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a91de92158876186d28ba1773877f2732">ast_channel_flags</a>(chan), <a class="code" href="../../d5/d7b/channel_8h.html#a82f2c6e4d47f62f6b65c5887eb096fd5a5ff4f7a94a36fcc2b8628186cb643d4b">AST_FLAG_IN_AUTOLOOP</a>);</div><div class="line"><a name="l04232"></a><span class="lineno"> 4232</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#ab5033a1f3d781d45e7ccc27598114510">ast_set_flag</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a91de92158876186d28ba1773877f2732">ast_channel_flags</a>(chan), <a class="code" href="../../d5/d7b/channel_8h.html#a82f2c6e4d47f62f6b65c5887eb096fd5a5ff4f7a94a36fcc2b8628186cb643d4b">AST_FLAG_IN_AUTOLOOP</a>);</div><div class="line"><a name="l04233"></a><span class="lineno"> 4233</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l04234"></a><span class="lineno"> 4234</span>&#160;</div><div class="line"><a name="l04235"></a><span class="lineno"> 4235</span>&#160;   <span class="keywordflow">for</span> (;;) {</div><div class="line"><a name="l04236"></a><span class="lineno"> 4236</span>&#160;      spawn_error = <a class="code" href="../../db/d94/pbx_8c.html#a94ca71e502d95d1cb0a815072e059aee">ast_spawn_extension</a>(chan, <a class="code" href="../../d5/d7b/channel_8h.html#a582dee4d5ea9b2ff6f309f0c5239f6bd">ast_channel_context</a>(chan),</div><div class="line"><a name="l04237"></a><span class="lineno"> 4237</span>&#160;         <a class="code" href="../../d5/d7b/channel_8h.html#aa8b52fbc8168e939bc5553502367d46a">ast_channel_exten</a>(chan), <a class="code" href="../../d5/d7b/channel_8h.html#a6610c8171ced0a69738622c11736ff5e">ast_channel_priority</a>(chan),</div><div class="line"><a name="l04238"></a><span class="lineno"> 4238</span>&#160;         <a class="code" href="../../d6/d90/strings_8h.html#a38a896048b2ca84076864505f0aa8f01">S_COR</a>(<a class="code" href="../../d5/d7b/channel_8h.html#ac2dc872b606534943c98304aed841b34">ast_channel_caller</a>(chan)-&gt;<span class="keywordtype">id</span>.<a class="code" href="../../d6/d49/structnumber.html">number</a>.valid,</div><div class="line"><a name="l04239"></a><span class="lineno"> 4239</span>&#160;            <a class="code" href="../../d5/d7b/channel_8h.html#ac2dc872b606534943c98304aed841b34">ast_channel_caller</a>(chan)-&gt;<span class="keywordtype">id</span>.<a class="code" href="../../d6/d49/structnumber.html">number</a>.str, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>), &amp;found, 1);</div><div class="line"><a name="l04240"></a><span class="lineno"> 4240</span>&#160;</div><div class="line"><a name="l04241"></a><span class="lineno"> 4241</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(chan);</div><div class="line"><a name="l04242"></a><span class="lineno"> 4242</span>&#160;      <span class="keywordflow">if</span> (spawn_error) {</div><div class="line"><a name="l04243"></a><span class="lineno"> 4243</span>&#160;         <span class="comment">/* The code after the loop needs the channel locked. */</span></div><div class="line"><a name="l04244"></a><span class="lineno"> 4244</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l04245"></a><span class="lineno"> 4245</span>&#160;      }</div><div class="line"><a name="l04246"></a><span class="lineno"> 4246</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#ae56cab679c0cda6436b930bc74297895">ast_channel_priority_set</a>(chan, <a class="code" href="../../d5/d7b/channel_8h.html#a6610c8171ced0a69738622c11736ff5e">ast_channel_priority</a>(chan) + 1);</div><div class="line"><a name="l04247"></a><span class="lineno"> 4247</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l04248"></a><span class="lineno"> 4248</span>&#160;   }</div><div class="line"><a name="l04249"></a><span class="lineno"> 4249</span>&#160;   <span class="keywordflow">if</span> (found &amp;&amp; spawn_error) {</div><div class="line"><a name="l04250"></a><span class="lineno"> 4250</span>&#160;      <span class="comment">/* Something bad happened, or a hangup has been requested. */</span></div><div class="line"><a name="l04251"></a><span class="lineno"> 4251</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;Spawn extension (%s,%s,%d) exited non-zero on &#39;%s&#39;\n&quot;</span>,</div><div class="line"><a name="l04252"></a><span class="lineno"> 4252</span>&#160;         <a class="code" href="../../d5/d7b/channel_8h.html#a582dee4d5ea9b2ff6f309f0c5239f6bd">ast_channel_context</a>(chan), <a class="code" href="../../d5/d7b/channel_8h.html#aa8b52fbc8168e939bc5553502367d46a">ast_channel_exten</a>(chan),</div><div class="line"><a name="l04253"></a><span class="lineno"> 4253</span>&#160;         <a class="code" href="../../d5/d7b/channel_8h.html#a6610c8171ced0a69738622c11736ff5e">ast_channel_priority</a>(chan), <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan));</div><div class="line"><a name="l04254"></a><span class="lineno"> 4254</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(2, <span class="stringliteral">&quot;Spawn extension (%s, %s, %d) exited non-zero on &#39;%s&#39;\n&quot;</span>,</div><div class="line"><a name="l04255"></a><span class="lineno"> 4255</span>&#160;         <a class="code" href="../../d5/d7b/channel_8h.html#a582dee4d5ea9b2ff6f309f0c5239f6bd">ast_channel_context</a>(chan), <a class="code" href="../../d5/d7b/channel_8h.html#aa8b52fbc8168e939bc5553502367d46a">ast_channel_exten</a>(chan),</div><div class="line"><a name="l04256"></a><span class="lineno"> 4256</span>&#160;         <a class="code" href="../../d5/d7b/channel_8h.html#a6610c8171ced0a69738622c11736ff5e">ast_channel_priority</a>(chan), <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan));</div><div class="line"><a name="l04257"></a><span class="lineno"> 4257</span>&#160;   }</div><div class="line"><a name="l04258"></a><span class="lineno"> 4258</span>&#160;</div><div class="line"><a name="l04259"></a><span class="lineno"> 4259</span>&#160;   <span class="comment">/* An &quot;h&quot; exten has been run, so indicate that one has been run. */</span></div><div class="line"><a name="l04260"></a><span class="lineno"> 4260</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#ab5033a1f3d781d45e7ccc27598114510">ast_set_flag</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a91de92158876186d28ba1773877f2732">ast_channel_flags</a>(chan), <a class="code" href="../../d5/d7b/channel_8h.html#a82f2c6e4d47f62f6b65c5887eb096fd5a3f96b2798b1f93fa27bc2dff7dfd9a26">AST_FLAG_BRIDGE_HANGUP_RUN</a>);</div><div class="line"><a name="l04261"></a><span class="lineno"> 4261</span>&#160;</div><div class="line"><a name="l04262"></a><span class="lineno"> 4262</span>&#160;   <span class="comment">/* Restore autoloop flag */</span></div><div class="line"><a name="l04263"></a><span class="lineno"> 4263</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a67b6713ff86cf82aaed821e9a87d1c21">ast_set2_flag</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a91de92158876186d28ba1773877f2732">ast_channel_flags</a>(chan), autoloopflag, <a class="code" href="../../d5/d7b/channel_8h.html#a82f2c6e4d47f62f6b65c5887eb096fd5a5ff4f7a94a36fcc2b8628186cb643d4b">AST_FLAG_IN_AUTOLOOP</a>);</div><div class="line"><a name="l04264"></a><span class="lineno"> 4264</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l04265"></a><span class="lineno"> 4265</span>&#160;}</div><div class="ttc" id="channel_8h_html_ac2dc872b606534943c98304aed841b34"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#ac2dc872b606534943c98304aed841b34">ast_channel_caller</a></div><div class="ttdeci">struct ast_party_caller * ast_channel_caller(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00888">channel_internal_api.c:888</a></div></div>
<div class="ttc" id="pbx_8c_html_a94ca71e502d95d1cb0a815072e059aee"><div class="ttname"><a href="../../db/d94/pbx_8c.html#a94ca71e502d95d1cb0a815072e059aee">ast_spawn_extension</a></div><div class="ttdeci">int ast_spawn_extension(struct ast_channel *c, const char *context, const char *exten, int priority, const char *callerid, int *found, int combined_find_spawn)</div><div class="ttdoc">Launch a new extension (i.e. new stack) </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l04204">pbx.c:4204</a></div></div>
<div class="ttc" id="channel_8h_html_a493bdebe876caafb8ee535853310364a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a></div><div class="ttdeci">#define ast_channel_lock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02945">channel.h:2945</a></div></div>
<div class="ttc" id="utils_8h_html_a67b6713ff86cf82aaed821e9a87d1c21"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a67b6713ff86cf82aaed821e9a87d1c21">ast_set2_flag</a></div><div class="ttdeci">#define ast_set2_flag(p, value, flag)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00094">utils.h:94</a></div></div>
<div class="ttc" id="utils_8h_html_a00d4c9254c9827d6fa44f17a326744a5"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a></div><div class="ttdeci">#define ast_test_flag(p, flag)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00063">utils.h:63</a></div></div>
<div class="ttc" id="utils_8h_html_ab5033a1f3d781d45e7ccc27598114510"><div class="ttname"><a href="../../d5/d60/utils_8h.html#ab5033a1f3d781d45e7ccc27598114510">ast_set_flag</a></div><div class="ttdeci">#define ast_set_flag(p, flag)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00070">utils.h:70</a></div></div>
<div class="ttc" id="channel_8h_html_a82f2c6e4d47f62f6b65c5887eb096fd5a3f96b2798b1f93fa27bc2dff7dfd9a26"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a82f2c6e4d47f62f6b65c5887eb096fd5a3f96b2798b1f93fa27bc2dff7dfd9a26">AST_FLAG_BRIDGE_HANGUP_RUN</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01019">channel.h:1019</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="channel_8h_html_a6610c8171ced0a69738622c11736ff5e"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a6610c8171ced0a69738622c11736ff5e">ast_channel_priority</a></div><div class="ttdeci">int ast_channel_priority(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00444">channel_internal_api.c:444</a></div></div>
<div class="ttc" id="logger_8h_html_ad770f83c71e237e1f64163358ce4e13d"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a></div><div class="ttdeci">#define ast_verb(level,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00463">logger.h:463</a></div></div>
<div class="ttc" id="structnumber_html"><div class="ttname"><a href="../../d6/d49/structnumber.html">number</a></div><div class="ttdoc">Number structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d55/app__followme_8c_source.html#l00154">app_followme.c:154</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="strings_8h_html_a38a896048b2ca84076864505f0aa8f01"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a38a896048b2ca84076864505f0aa8f01">S_COR</a></div><div class="ttdeci">#define S_COR(a, b, c)</div><div class="ttdoc">returns the equivalent of logic or for strings, with an additional boolean check: second one if not e...</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00085">strings.h:85</a></div></div>
<div class="ttc" id="channel_8h_html_aa8b52fbc8168e939bc5553502367d46a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#aa8b52fbc8168e939bc5553502367d46a">ast_channel_exten</a></div><div class="ttdeci">const char * ast_channel_exten(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00353">channel_internal_api.c:353</a></div></div>
<div class="ttc" id="channel_8h_html_ae90da1877e143b996d202d4c88a9c862"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#ae90da1877e143b996d202d4c88a9c862">ast_softhangup_nolock</a></div><div class="ttdeci">int ast_softhangup_nolock(struct ast_channel *chan, int reason)</div><div class="ttdoc">Softly hangup up a channel (no channel lock) </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l02463">channel.c:2463</a></div></div>
<div class="ttc" id="channel_8h_html_a82f2c6e4d47f62f6b65c5887eb096fd5a5ff4f7a94a36fcc2b8628186cb643d4b"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a82f2c6e4d47f62f6b65c5887eb096fd5a5ff4f7a94a36fcc2b8628186cb643d4b">AST_FLAG_IN_AUTOLOOP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l00998">channel.h:998</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="channel_8h_html_a018b7a29cef2d62074dc46e9aaad0d1a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a018b7a29cef2d62074dc46e9aaad0d1a">ast_channel_exten_set</a></div><div class="ttdeci">void ast_channel_exten_set(struct ast_channel *chan, const char *value)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00357">channel_internal_api.c:357</a></div></div>
<div class="ttc" id="channel_8h_html_aca211972dac7b8f3f08a283bfe0aa8bf"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#aca211972dac7b8f3f08a283bfe0aa8bf">ast_channel_context_set</a></div><div class="ttdeci">void ast_channel_context_set(struct ast_channel *chan, const char *value)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00348">channel_internal_api.c:348</a></div></div>
<div class="ttc" id="channel_8h_html_a7ca2fda13b129a55c251b56729de285b"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a></div><div class="ttdeci">const char * ast_channel_name(const struct ast_channel *chan)</div></div>
<div class="ttc" id="channel_8h_html_a582dee4d5ea9b2ff6f309f0c5239f6bd"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a582dee4d5ea9b2ff6f309f0c5239f6bd">ast_channel_context</a></div><div class="ttdeci">const char * ast_channel_context(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00344">channel_internal_api.c:344</a></div></div>
<div class="ttc" id="chan__alsa_8c_html_ac25ea00ee3f082df06e0cf468cbde240"><div class="ttname"><a href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a></div><div class="ttdeci">static char context[AST_MAX_CONTEXT]</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d45/chan__alsa_8c_source.html#l00116">chan_alsa.c:116</a></div></div>
<div class="ttc" id="channel_8h_html_a91de92158876186d28ba1773877f2732"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a91de92158876186d28ba1773877f2732">ast_channel_flags</a></div><div class="ttdeci">struct ast_flags * ast_channel_flags(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l01260">channel_internal_api.c:1260</a></div></div>
<div class="ttc" id="channel_8h_html_ae56cab679c0cda6436b930bc74297895"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#ae56cab679c0cda6436b930bc74297895">ast_channel_priority_set</a></div><div class="ttdeci">void ast_channel_priority_set(struct ast_channel *chan, int value)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00448">channel_internal_api.c:448</a></div></div>
<div class="ttc" id="channel_8h_html_a9e9505a91a84992d04ba4e85217fb4e4a33d9271d8d892501de8c9536382d71ea"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a9e9505a91a84992d04ba4e85217fb4e4a33d9271d8d892501de8c9536382d71ea">AST_SOFTHANGUP_HANGUP_EXEC</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01155">channel.h:1155</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a4d655002901faaf06a9a891f17dcff83"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4d655002901faaf06a9a891f17dcff83">&#9670;&nbsp;</a></span>ast_pbx_hangup_handler_destroy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_pbx_hangup_handler_destroy </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destroy the hangup handler container on a channel. </p>
<dl class="section since"><dt>Since</dt><dd>11.0</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chan</td><td>Channel to destroy the hangup handler container on.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Nothing </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d9/d53/pbx__hangup__handler_8c_source.html#l00103">103</a> of file <a class="el" href="../../d9/d53/pbx__hangup__handler_8c_source.html">pbx_hangup_handler.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00864">ast_channel_hangup_handlers()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02945">ast_channel_lock</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, and <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00832">AST_LIST_REMOVE_HEAD</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d28/channel_8c_source.html#l02192">ast_channel_destructor()</a>, and <a class="el" href="../../d4/d28/channel_8c_source.html#l02338">ast_dummy_channel_destructor()</a>.</p>
<div class="fragment"><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;{</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d5/d49/structast__hangup__handler__list.html">ast_hangup_handler_list</a> *handlers;</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d7/d16/structast__hangup__handler.html">ast_hangup_handler</a> *h_handler;</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(chan);</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;   <span class="comment">/* Get rid of each of the hangup handlers on the channel */</span></div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;   handlers = <a class="code" href="../../d5/d7b/channel_8h.html#a7f1aac8d8ed115097063ae6922ec4029">ast_channel_hangup_handlers</a>(chan);</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;   <span class="keywordflow">while</span> ((h_handler = <a class="code" href="../../df/d90/linkedlists_8h.html#aadfe2a69fbba4f27c201266a2ca5f989">AST_LIST_REMOVE_HEAD</a>(handlers, <a class="code" href="../../d5/da1/structnode.html">node</a>))) {</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(h_handler);</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;   }</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;}</div><div class="ttc" id="channel_8h_html_a493bdebe876caafb8ee535853310364a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a></div><div class="ttdeci">#define ast_channel_lock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02945">channel.h:2945</a></div></div>
<div class="ttc" id="structnode_html"><div class="ttname"><a href="../../d5/da1/structnode.html">node</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d2b/test__heap_8c_source.html#l00038">test_heap.c:38</a></div></div>
<div class="ttc" id="structast__hangup__handler_html"><div class="ttname"><a href="../../d7/d16/structast__hangup__handler.html">ast_hangup_handler</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l00888">channel.h:888</a></div></div>
<div class="ttc" id="linkedlists_8h_html_aadfe2a69fbba4f27c201266a2ca5f989"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#aadfe2a69fbba4f27c201266a2ca5f989">AST_LIST_REMOVE_HEAD</a></div><div class="ttdeci">#define AST_LIST_REMOVE_HEAD(head, field)</div><div class="ttdoc">Removes and returns the head entry from a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00832">linkedlists.h:832</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="channel_8h_html_a7f1aac8d8ed115097063ae6922ec4029"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a7f1aac8d8ed115097063ae6922ec4029">ast_channel_hangup_handlers</a></div><div class="ttdeci">struct ast_hangup_handler_list * ast_channel_hangup_handlers(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00864">channel_internal_api.c:864</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="structast__hangup__handler__list_html"><div class="ttname"><a href="../../d5/d49/structast__hangup__handler__list.html">ast_hangup_handler_list</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l00895">channel.h:895</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aabba812de5650c13f20fee47dffbed8b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aabba812de5650c13f20fee47dffbed8b">&#9670;&nbsp;</a></span>ast_pbx_hangup_handler_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_pbx_hangup_handler_init </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Init the hangup handler container on a channel. </p>
<dl class="section since"><dt>Since</dt><dd>11.0</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chan</td><td>Channel to init the hangup handler container on.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Nothing </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d9/d53/pbx__hangup__handler_8c_source.html#l00095">95</a> of file <a class="el" href="../../d9/d53/pbx__hangup__handler_8c_source.html">pbx_hangup_handler.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00864">ast_channel_hangup_handlers()</a>, and <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00680">AST_LIST_HEAD_INIT_NOLOCK</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d28/channel_8c_source.html#l00739">__ast_channel_alloc_ap()</a>, and <a class="el" href="../../d4/d28/channel_8c_source.html#l00981">__ast_dummy_channel_alloc()</a>.</p>
<div class="fragment"><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;{</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d5/d49/structast__hangup__handler__list.html">ast_hangup_handler_list</a> *handlers;</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;   handlers = <a class="code" href="../../d5/d7b/channel_8h.html#a7f1aac8d8ed115097063ae6922ec4029">ast_channel_hangup_handlers</a>(chan);</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a0d1f922e093ac18824a7863fe3f5fa27">AST_LIST_HEAD_INIT_NOLOCK</a>(handlers);</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;}</div><div class="ttc" id="channel_8h_html_a7f1aac8d8ed115097063ae6922ec4029"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a7f1aac8d8ed115097063ae6922ec4029">ast_channel_hangup_handlers</a></div><div class="ttdeci">struct ast_hangup_handler_list * ast_channel_hangup_handlers(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00864">channel_internal_api.c:864</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a0d1f922e093ac18824a7863fe3f5fa27"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a0d1f922e093ac18824a7863fe3f5fa27">AST_LIST_HEAD_INIT_NOLOCK</a></div><div class="ttdeci">#define AST_LIST_HEAD_INIT_NOLOCK(head)</div><div class="ttdoc">Initializes a list head structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00680">linkedlists.h:680</a></div></div>
<div class="ttc" id="structast__hangup__handler__list_html"><div class="ttname"><a href="../../d5/d49/structast__hangup__handler__list.html">ast_hangup_handler_list</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l00895">channel.h:895</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aebd5f64029975f303a2e1e56798beeb5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aebd5f64029975f303a2e1e56798beeb5">&#9670;&nbsp;</a></span>ast_pbx_hangup_handler_pop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_pbx_hangup_handler_pop </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Pop the top of the channel hangup handler stack. </p>
<dl class="section since"><dt>Since</dt><dd>11.0</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chan</td><td>Channel to push the hangup handler onto.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">TRUE</td><td>if a handler was popped off of the stack. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d9/d53/pbx__hangup__handler_8c_source.html#l00119">119</a> of file <a class="el" href="../../d9/d53/pbx__hangup__handler_8c_source.html">pbx_hangup_handler.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d7b/channel_8h_source.html#l00892">ast_hangup_handler::args</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00864">ast_channel_hangup_handlers()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02945">ast_channel_lock</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00832">AST_LIST_REMOVE_HEAD</a>, and <a class="el" href="../../d9/d53/pbx__hangup__handler_8c_source.html#l00044">publish_hangup_handler_message()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d3d/func__channel_8c_source.html#l00470">func_channel_write_real()</a>.</p>
<div class="fragment"><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;{</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d5/d49/structast__hangup__handler__list.html">ast_hangup_handler_list</a> *handlers;</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d7/d16/structast__hangup__handler.html">ast_hangup_handler</a> *h_handler;</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(chan);</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;   handlers = <a class="code" href="../../d5/d7b/channel_8h.html#a7f1aac8d8ed115097063ae6922ec4029">ast_channel_hangup_handlers</a>(chan);</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;   h_handler = <a class="code" href="../../df/d90/linkedlists_8h.html#aadfe2a69fbba4f27c201266a2ca5f989">AST_LIST_REMOVE_HEAD</a>(handlers, <a class="code" href="../../d5/da1/structnode.html">node</a>);</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;   <span class="keywordflow">if</span> (h_handler) {</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;      <a class="code" href="../../d9/d53/pbx__hangup__handler_8c.html#abc5e66a0d041a96ee325156d05b9e9dd">publish_hangup_handler_message</a>(<span class="stringliteral">&quot;pop&quot;</span>, chan, h_handler-&gt;<a class="code" href="../../d7/d16/structast__hangup__handler.html#a54c355086db84793e70e20b3bc861605">args</a>);</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;   }</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;   <span class="keywordflow">if</span> (h_handler) {</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(h_handler);</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;      <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;   }</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;}</div><div class="ttc" id="channel_8h_html_a493bdebe876caafb8ee535853310364a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a></div><div class="ttdeci">#define ast_channel_lock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02945">channel.h:2945</a></div></div>
<div class="ttc" id="structnode_html"><div class="ttname"><a href="../../d5/da1/structnode.html">node</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d2b/test__heap_8c_source.html#l00038">test_heap.c:38</a></div></div>
<div class="ttc" id="pbx__hangup__handler_8c_html_abc5e66a0d041a96ee325156d05b9e9dd"><div class="ttname"><a href="../../d9/d53/pbx__hangup__handler_8c.html#abc5e66a0d041a96ee325156d05b9e9dd">publish_hangup_handler_message</a></div><div class="ttdeci">static void publish_hangup_handler_message(const char *action, struct ast_channel *chan, const char *handler)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d53/pbx__hangup__handler_8c_source.html#l00044">pbx_hangup_handler.c:44</a></div></div>
<div class="ttc" id="structast__hangup__handler_html"><div class="ttname"><a href="../../d7/d16/structast__hangup__handler.html">ast_hangup_handler</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l00888">channel.h:888</a></div></div>
<div class="ttc" id="linkedlists_8h_html_aadfe2a69fbba4f27c201266a2ca5f989"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#aadfe2a69fbba4f27c201266a2ca5f989">AST_LIST_REMOVE_HEAD</a></div><div class="ttdeci">#define AST_LIST_REMOVE_HEAD(head, field)</div><div class="ttdoc">Removes and returns the head entry from a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00832">linkedlists.h:832</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="channel_8h_html_a7f1aac8d8ed115097063ae6922ec4029"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a7f1aac8d8ed115097063ae6922ec4029">ast_channel_hangup_handlers</a></div><div class="ttdeci">struct ast_hangup_handler_list * ast_channel_hangup_handlers(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00864">channel_internal_api.c:864</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="structast__hangup__handler_html_a54c355086db84793e70e20b3bc861605"><div class="ttname"><a href="../../d7/d16/structast__hangup__handler.html#a54c355086db84793e70e20b3bc861605">ast_hangup_handler::args</a></div><div class="ttdeci">char args[0]</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l00892">channel.h:892</a></div></div>
<div class="ttc" id="structast__hangup__handler__list_html"><div class="ttname"><a href="../../d5/d49/structast__hangup__handler__list.html">ast_hangup_handler_list</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l00895">channel.h:895</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab43454b90f6bc8153f37376456521ed5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab43454b90f6bc8153f37376456521ed5">&#9670;&nbsp;</a></span>ast_pbx_hangup_handler_push()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_pbx_hangup_handler_push </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>handler</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Push the given hangup handler onto the channel hangup handler stack. </p>
<dl class="section since"><dt>Since</dt><dd>11.0</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chan</td><td>Channel to push the hangup handler onto. </td></tr>
    <tr><td class="paramname">handler</td><td>Gosub application parameter string.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Nothing </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d9/d53/pbx__hangup__handler_8c_source.html#l00138">138</a> of file <a class="el" href="../../d9/d53/pbx__hangup__handler_8c_source.html">pbx_hangup_handler.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d7b/channel_8h_source.html#l00892">ast_hangup_handler::args</a>, <a class="el" href="../../d3/d83/main_2app_8c_source.html#l00351">ast_app_expand_sub_args()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00864">ast_channel_hangup_handlers()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02945">ast_channel_lock</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00710">AST_LIST_INSERT_HEAD</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00193">ast_malloc</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, and <a class="el" href="../../d9/d53/pbx__hangup__handler_8c_source.html#l00044">publish_hangup_handler_message()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d3d/func__channel_8c_source.html#l00470">func_channel_write_real()</a>.</p>
<div class="fragment"><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;{</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d5/d49/structast__hangup__handler__list.html">ast_hangup_handler_list</a> *handlers;</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d7/d16/structast__hangup__handler.html">ast_hangup_handler</a> *h_handler;</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *expanded_handler;</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(<a class="code" href="../../da/d03/test__ari_8c.html#a695cc202c7a2869aa8202bb20726ea3c">handler</a>)) {</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;   }</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;   expanded_handler = <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a1a168653d77787b51d3447e5e80d42bb">ast_app_expand_sub_args</a>(chan, <a class="code" href="../../da/d03/test__ari_8c.html#a695cc202c7a2869aa8202bb20726ea3c">handler</a>);</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;   <span class="keywordflow">if</span> (!expanded_handler) {</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;   }</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;   h_handler = <a class="code" href="../../d8/d8a/astmm_8h.html#ae63d4f486bcf6eac7c1593f867717d91">ast_malloc</a>(<span class="keyword">sizeof</span>(*h_handler) + 1 + strlen(expanded_handler));</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;   <span class="keywordflow">if</span> (!h_handler) {</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>((<span class="keywordtype">char</span> *) expanded_handler);</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;   }</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;   strcpy(h_handler-&gt;<a class="code" href="../../d7/d16/structast__hangup__handler.html#a54c355086db84793e70e20b3bc861605">args</a>, expanded_handler);<span class="comment">/* Safe */</span></div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;   <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>((<span class="keywordtype">char</span> *) expanded_handler);</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(chan);</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;   handlers = <a class="code" href="../../d5/d7b/channel_8h.html#a7f1aac8d8ed115097063ae6922ec4029">ast_channel_hangup_handlers</a>(chan);</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#aa2ded2af046bb513f77056c27c083307">AST_LIST_INSERT_HEAD</a>(handlers, h_handler, <a class="code" href="../../d5/da1/structnode.html">node</a>);</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;   <a class="code" href="../../d9/d53/pbx__hangup__handler_8c.html#abc5e66a0d041a96ee325156d05b9e9dd">publish_hangup_handler_message</a>(<span class="stringliteral">&quot;push&quot;</span>, chan, h_handler-&gt;<a class="code" href="../../d7/d16/structast__hangup__handler.html#a54c355086db84793e70e20b3bc861605">args</a>);</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;}</div><div class="ttc" id="channel_8h_html_a493bdebe876caafb8ee535853310364a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a></div><div class="ttdeci">#define ast_channel_lock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02945">channel.h:2945</a></div></div>
<div class="ttc" id="structnode_html"><div class="ttname"><a href="../../d5/da1/structnode.html">node</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d2b/test__heap_8c_source.html#l00038">test_heap.c:38</a></div></div>
<div class="ttc" id="include_2asterisk_2app_8h_html_a1a168653d77787b51d3447e5e80d42bb"><div class="ttname"><a href="../../d3/d93/include_2asterisk_2app_8h.html#a1a168653d77787b51d3447e5e80d42bb">ast_app_expand_sub_args</a></div><div class="ttdeci">const char * ast_app_expand_sub_args(struct ast_channel *chan, const char *args)</div><div class="ttdoc">Add missing context/exten to subroutine argument string. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d83/main_2app_8c_source.html#l00351">main/app.c:351</a></div></div>
<div class="ttc" id="pbx__hangup__handler_8c_html_abc5e66a0d041a96ee325156d05b9e9dd"><div class="ttname"><a href="../../d9/d53/pbx__hangup__handler_8c.html#abc5e66a0d041a96ee325156d05b9e9dd">publish_hangup_handler_message</a></div><div class="ttdeci">static void publish_hangup_handler_message(const char *action, struct ast_channel *chan, const char *handler)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d53/pbx__hangup__handler_8c_source.html#l00044">pbx_hangup_handler.c:44</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="structast__hangup__handler_html"><div class="ttname"><a href="../../d7/d16/structast__hangup__handler.html">ast_hangup_handler</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l00888">channel.h:888</a></div></div>
<div class="ttc" id="astmm_8h_html_ae63d4f486bcf6eac7c1593f867717d91"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ae63d4f486bcf6eac7c1593f867717d91">ast_malloc</a></div><div class="ttdeci">#define ast_malloc(len)</div><div class="ttdoc">A wrapper for malloc() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00193">astmm.h:193</a></div></div>
<div class="ttc" id="linkedlists_8h_html_aa2ded2af046bb513f77056c27c083307"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#aa2ded2af046bb513f77056c27c083307">AST_LIST_INSERT_HEAD</a></div><div class="ttdeci">#define AST_LIST_INSERT_HEAD(head, elm, field)</div><div class="ttdoc">Inserts a list entry at the head of a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00710">linkedlists.h:710</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="channel_8h_html_a7f1aac8d8ed115097063ae6922ec4029"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a7f1aac8d8ed115097063ae6922ec4029">ast_channel_hangup_handlers</a></div><div class="ttdeci">struct ast_hangup_handler_list * ast_channel_hangup_handlers(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00864">channel_internal_api.c:864</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="test__ari_8c_html_a695cc202c7a2869aa8202bb20726ea3c"><div class="ttname"><a href="../../da/d03/test__ari_8c.html#a695cc202c7a2869aa8202bb20726ea3c">handler</a></div><div class="ttdeci">static void handler(const char *name, int response_code, struct ast_variable *get_params, struct ast_variable *path_vars, struct ast_variable *headers, struct ast_json *body, struct ast_ari_response *response)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d03/test__ari_8c_source.html#l00059">test_ari.c:59</a></div></div>
<div class="ttc" id="structast__hangup__handler_html_a54c355086db84793e70e20b3bc861605"><div class="ttname"><a href="../../d7/d16/structast__hangup__handler.html#a54c355086db84793e70e20b3bc861605">ast_hangup_handler::args</a></div><div class="ttdeci">char args[0]</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l00892">channel.h:892</a></div></div>
<div class="ttc" id="structast__hangup__handler__list_html"><div class="ttname"><a href="../../d5/d49/structast__hangup__handler__list.html">ast_hangup_handler_list</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l00895">channel.h:895</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="adc4d340f4e9d60ef5fbfd93a0e6f9c33"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc4d340f4e9d60ef5fbfd93a0e6f9c33">&#9670;&nbsp;</a></span>ast_pbx_hangup_handler_run()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_pbx_hangup_handler_run </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Run all hangup handlers on the channel. </p>
<dl class="section since"><dt>Since</dt><dd>11.0</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chan</td><td>Channel to run the hangup handlers on.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Absolutely <em>NO</em> channel locks should be held before calling this function.</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">Zero</td><td>if no hangup handlers run. </td></tr>
    <tr><td class="paramname">non-zero</td><td>if hangup handlers were run. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d9/d53/pbx__hangup__handler_8c_source.html#l00058">58</a> of file <a class="el" href="../../d9/d53/pbx__hangup__handler_8c_source.html">pbx_hangup_handler.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d7b/channel_8h_source.html#l00892">ast_hangup_handler::args</a>, <a class="el" href="../../d3/d83/main_2app_8c_source.html#l00370">ast_app_exec_sub()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00864">ast_channel_hangup_handlers()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02945">ast_channel_lock</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00449">AST_LIST_EMPTY</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00832">AST_LIST_REMOVE_HEAD</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l01155">AST_SOFTHANGUP_HANGUP_EXEC</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l02463">ast_softhangup_nolock()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../d9/d53/pbx__hangup__handler_8c_source.html#l00044">publish_hangup_handler_message()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d94/pbx_8c_source.html#l04310">__ast_pbx_run()</a>, and <a class="el" href="../../d4/d28/channel_8c_source.html#l02548">ast_hangup()</a>.</p>
<div class="fragment"><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;{</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d5/d49/structast__hangup__handler__list.html">ast_hangup_handler_list</a> *handlers;</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d7/d16/structast__hangup__handler.html">ast_hangup_handler</a> *h_handler;</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(chan);</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;   handlers = <a class="code" href="../../d5/d7b/channel_8h.html#a7f1aac8d8ed115097063ae6922ec4029">ast_channel_hangup_handlers</a>(chan);</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../df/d90/linkedlists_8h.html#a4a1884cde93e53bef32ca85c194a1d05">AST_LIST_EMPTY</a>(handlers)) {</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;   }</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;   <span class="comment">/*</span></div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="comment">    * Make sure that the channel is marked as hungup since we are</span></div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="comment">    * going to run the hangup handlers on it.</span></div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#ae90da1877e143b996d202d4c88a9c862">ast_softhangup_nolock</a>(chan, <a class="code" href="../../d5/d7b/channel_8h.html#a9e9505a91a84992d04ba4e85217fb4e4a33d9271d8d892501de8c9536382d71ea">AST_SOFTHANGUP_HANGUP_EXEC</a>);</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;   <span class="keywordflow">for</span> (;;) {</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;      handlers = <a class="code" href="../../d5/d7b/channel_8h.html#a7f1aac8d8ed115097063ae6922ec4029">ast_channel_hangup_handlers</a>(chan);</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;      h_handler = <a class="code" href="../../df/d90/linkedlists_8h.html#aadfe2a69fbba4f27c201266a2ca5f989">AST_LIST_REMOVE_HEAD</a>(handlers, <a class="code" href="../../d5/da1/structnode.html">node</a>);</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;      <span class="keywordflow">if</span> (!h_handler) {</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;      }</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;      <a class="code" href="../../d9/d53/pbx__hangup__handler_8c.html#abc5e66a0d041a96ee325156d05b9e9dd">publish_hangup_handler_message</a>(<span class="stringliteral">&quot;run&quot;</span>, chan, h_handler-&gt;<a class="code" href="../../d7/d16/structast__hangup__handler.html#a54c355086db84793e70e20b3bc861605">args</a>);</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;      <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#aee5e20694b04eee43463fde6cf121d06">ast_app_exec_sub</a>(<a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, chan, h_handler-&gt;<a class="code" href="../../d7/d16/structast__hangup__handler.html#a54c355086db84793e70e20b3bc861605">args</a>, 1);</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(h_handler);</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(chan);</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;   }</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;   <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;}</div><div class="ttc" id="channel_8h_html_a493bdebe876caafb8ee535853310364a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a></div><div class="ttdeci">#define ast_channel_lock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02945">channel.h:2945</a></div></div>
<div class="ttc" id="structnode_html"><div class="ttname"><a href="../../d5/da1/structnode.html">node</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d2b/test__heap_8c_source.html#l00038">test_heap.c:38</a></div></div>
<div class="ttc" id="pbx__hangup__handler_8c_html_abc5e66a0d041a96ee325156d05b9e9dd"><div class="ttname"><a href="../../d9/d53/pbx__hangup__handler_8c.html#abc5e66a0d041a96ee325156d05b9e9dd">publish_hangup_handler_message</a></div><div class="ttdeci">static void publish_hangup_handler_message(const char *action, struct ast_channel *chan, const char *handler)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d53/pbx__hangup__handler_8c_source.html#l00044">pbx_hangup_handler.c:44</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a4a1884cde93e53bef32ca85c194a1d05"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a4a1884cde93e53bef32ca85c194a1d05">AST_LIST_EMPTY</a></div><div class="ttdeci">#define AST_LIST_EMPTY(head)</div><div class="ttdoc">Checks whether the specified list contains any entries. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00449">linkedlists.h:449</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structast__hangup__handler_html"><div class="ttname"><a href="../../d7/d16/structast__hangup__handler.html">ast_hangup_handler</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l00888">channel.h:888</a></div></div>
<div class="ttc" id="linkedlists_8h_html_aadfe2a69fbba4f27c201266a2ca5f989"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#aadfe2a69fbba4f27c201266a2ca5f989">AST_LIST_REMOVE_HEAD</a></div><div class="ttdeci">#define AST_LIST_REMOVE_HEAD(head, field)</div><div class="ttdoc">Removes and returns the head entry from a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00832">linkedlists.h:832</a></div></div>
<div class="ttc" id="channel_8h_html_ae90da1877e143b996d202d4c88a9c862"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#ae90da1877e143b996d202d4c88a9c862">ast_softhangup_nolock</a></div><div class="ttdeci">int ast_softhangup_nolock(struct ast_channel *chan, int reason)</div><div class="ttdoc">Softly hangup up a channel (no channel lock) </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l02463">channel.c:2463</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="channel_8h_html_a7f1aac8d8ed115097063ae6922ec4029"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a7f1aac8d8ed115097063ae6922ec4029">ast_channel_hangup_handlers</a></div><div class="ttdeci">struct ast_hangup_handler_list * ast_channel_hangup_handlers(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00864">channel_internal_api.c:864</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="include_2asterisk_2app_8h_html_aee5e20694b04eee43463fde6cf121d06"><div class="ttname"><a href="../../d3/d93/include_2asterisk_2app_8h.html#aee5e20694b04eee43463fde6cf121d06">ast_app_exec_sub</a></div><div class="ttdeci">int ast_app_exec_sub(struct ast_channel *autoservice_chan, struct ast_channel *sub_chan, const char *sub_args, int ignore_hangup)</div><div class="ttdoc">Run a subroutine on a channel, placing an optional second channel into autoservice. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d83/main_2app_8c_source.html#l00370">main/app.c:370</a></div></div>
<div class="ttc" id="structast__hangup__handler_html_a54c355086db84793e70e20b3bc861605"><div class="ttname"><a href="../../d7/d16/structast__hangup__handler.html#a54c355086db84793e70e20b3bc861605">ast_hangup_handler::args</a></div><div class="ttdeci">char args[0]</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l00892">channel.h:892</a></div></div>
<div class="ttc" id="structast__hangup__handler__list_html"><div class="ttname"><a href="../../d5/d49/structast__hangup__handler__list.html">ast_hangup_handler_list</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l00895">channel.h:895</a></div></div>
<div class="ttc" id="channel_8h_html_a9e9505a91a84992d04ba4e85217fb4e4a33d9271d8d892501de8c9536382d71ea"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a9e9505a91a84992d04ba4e85217fb4e4a33d9271d8d892501de8c9536382d71ea">AST_SOFTHANGUP_HANGUP_EXEC</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01155">channel.h:1155</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2afffb175879297ed07ec21df02fa6dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2afffb175879297ed07ec21df02fa6dc">&#9670;&nbsp;</a></span>ast_pbx_outgoing_app()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_pbx_outgoing_app </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d8/d69/structast__format__cap.html">ast_format_cap</a> *&#160;</td>
          <td class="paramname"><em>cap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>timeout</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>app</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>appdata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>reason</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>synchronous</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>cid_num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>cid_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../dd/d02/structast__variable.html">ast_variable</a> *&#160;</td>
          <td class="paramname"><em>vars</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>account</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> **&#160;</td>
          <td class="paramname"><em>locked_channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="../../da/de5/structast__assigned__ids.html">ast_assigned_ids</a> *&#160;</td>
          <td class="paramname"><em>assignedids</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Synchronously or asynchronously make an outbound call and execute an application on the channel. </p>
<p>Note that when the application stops executing, the channel is hungup.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">type</td><td>The channel technology to create </td></tr>
    <tr><td class="paramname">cap</td><td>The format capabilities for the channel </td></tr>
    <tr><td class="paramname">addr</td><td>Address data to pass to the channel technology driver </td></tr>
    <tr><td class="paramname">timeout</td><td>How long we should attempt to dial the outbound channel </td></tr>
    <tr><td class="paramname">app</td><td>The name of the application to execute </td></tr>
    <tr><td class="paramname">appdata</td><td>Data to pass to the application </td></tr>
    <tr><td class="paramname">reason</td><td>Optional. If provided, the dialed status of the outgoing channel. Codes are AST_CONTROL_xxx values. Valid only if synchronous is non-zero. </td></tr>
    <tr><td class="paramname">synchronous</td><td>defined by the ast_pbx_outgoing_sync enum. If <code>AST_OUTGOING_NO_WAIT</code> then don't wait for anything. If <code>AST_OUTGOING_WAIT</code> then block until the outbound channel answers or the call fails. If <code>AST_OUTGOING_WAIT_COMPLETE</code> then wait for the call to complete or fail. </td></tr>
    <tr><td class="paramname">cid_num</td><td>The caller ID number to set on the outbound channel </td></tr>
    <tr><td class="paramname">cid_name</td><td>The caller ID name to set on the outbound channel </td></tr>
    <tr><td class="paramname">vars</td><td>Variables to set on the outbound channel </td></tr>
    <tr><td class="paramname">account</td><td>The accountcode for the outbound channel </td></tr>
    <tr><td class="paramname">locked_channel</td><td>Optional. The outbound channel that was created if success is returned. Otherwise it is set to NULL. This is returned both locked and reference bumped. </td></tr>
    <tr><td class="paramname">assignedids</td><td>Optional. The uniqueid(s) to assign the <a class="el" href="../../d4/d84/structchannel.html">channel(s)</a> that are created.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>on success </td></tr>
    <tr><td class="paramname">-1</td><td>on failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../db/d94/pbx_8c_source.html#l08015">8015</a> of file <a class="el" href="../../db/d94/pbx_8c_source.html">pbx.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/d94/pbx_8c_source.html#l08025">ast_pbx_outgoing_app_predial()</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d10/manager_8c_source.html#l05723">action_originate()</a>, <a class="el" href="../../d9/dd4/pbx__spool_8c_source.html#l00431">attempt_thread()</a>, <a class="el" href="../../d4/d10/manager_8c_source.html#l05413">fast_originate()</a>, and <a class="el" href="../../d6/d2e/res__clioriginate_8c_source.html#l00053">orig_app()</a>.</p>
<div class="fragment"><div class="line"><a name="l08020"></a><span class="lineno"> 8020</span>&#160;{</div><div class="line"><a name="l08021"></a><span class="lineno"> 8021</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../db/d94/pbx_8c.html#a251d9b38cd3fe1bd5ec39bf0b1c3b65f">ast_pbx_outgoing_app_predial</a>(<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>, cap, addr, <a class="code" href="../../d0/d29/cdr__mysql_8c.html#a493b57f443cc38b3d3df9c1e584d9d82">timeout</a>, <a class="code" href="../../d0/db6/app__mysql_8c.html#a1d9b1eccfc259a14525ce817482a3f88">app</a>, appdata, reason, synchronous,</div><div class="line"><a name="l08022"></a><span class="lineno"> 8022</span>&#160;      <a class="code" href="../../d0/dd6/chan__mgcp_8c.html#a29e973bd94bfbaf59d939bd1bc988c32">cid_num</a>, <a class="code" href="../../d0/dd6/chan__mgcp_8c.html#ade5a89f9bee15a492c760ec1765a292d">cid_name</a>, vars, account, locked_channel, assignedids, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l08023"></a><span class="lineno"> 8023</span>&#160;}</div><div class="ttc" id="chan__ooh323_8c_html_a4d63fdfe5451ec2248c16a2739190c56"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a></div><div class="ttdeci">static const char type[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00109">chan_ooh323.c:109</a></div></div>
<div class="ttc" id="cdr__mysql_8c_html_a493b57f443cc38b3d3df9c1e584d9d82"><div class="ttname"><a href="../../d0/d29/cdr__mysql_8c.html#a493b57f443cc38b3d3df9c1e584d9d82">timeout</a></div><div class="ttdeci">static int timeout</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/cdr__mysql_8c_source.html#l00086">cdr_mysql.c:86</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="chan__mgcp_8c_html_a29e973bd94bfbaf59d939bd1bc988c32"><div class="ttname"><a href="../../d0/dd6/chan__mgcp_8c.html#a29e973bd94bfbaf59d939bd1bc988c32">cid_num</a></div><div class="ttdeci">static char cid_num[AST_MAX_EXTENSION]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dd6/chan__mgcp_8c_source.html#l00164">chan_mgcp.c:164</a></div></div>
<div class="ttc" id="chan__mgcp_8c_html_ade5a89f9bee15a492c760ec1765a292d"><div class="ttname"><a href="../../d0/dd6/chan__mgcp_8c.html#ade5a89f9bee15a492c760ec1765a292d">cid_name</a></div><div class="ttdeci">static char cid_name[AST_MAX_EXTENSION]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dd6/chan__mgcp_8c_source.html#l00165">chan_mgcp.c:165</a></div></div>
<div class="ttc" id="pbx_8c_html_a251d9b38cd3fe1bd5ec39bf0b1c3b65f"><div class="ttname"><a href="../../db/d94/pbx_8c.html#a251d9b38cd3fe1bd5ec39bf0b1c3b65f">ast_pbx_outgoing_app_predial</a></div><div class="ttdeci">int ast_pbx_outgoing_app_predial(const char *type, struct ast_format_cap *cap, const char *addr, int timeout, const char *app, const char *appdata, int *reason, int synchronous, const char *cid_num, const char *cid_name, struct ast_variable *vars, const char *account, struct ast_channel **locked_channel, const struct ast_assigned_ids *assignedids, const char *predial_callee)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l08025">pbx.c:8025</a></div></div>
<div class="ttc" id="app__mysql_8c_html_a1d9b1eccfc259a14525ce817482a3f88"><div class="ttname"><a href="../../d0/db6/app__mysql_8c.html#a1d9b1eccfc259a14525ce817482a3f88">app</a></div><div class="ttdeci">static const char app[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/db6/app__mysql_8c_source.html#l00062">app_mysql.c:62</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a251d9b38cd3fe1bd5ec39bf0b1c3b65f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a251d9b38cd3fe1bd5ec39bf0b1c3b65f">&#9670;&nbsp;</a></span>ast_pbx_outgoing_app_predial()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_pbx_outgoing_app_predial </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d8/d69/structast__format__cap.html">ast_format_cap</a> *&#160;</td>
          <td class="paramname"><em>cap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>timeout</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>app</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>appdata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>reason</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>synchronous</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>cid_num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>cid_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../dd/d02/structast__variable.html">ast_variable</a> *&#160;</td>
          <td class="paramname"><em>vars</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>account</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> **&#160;</td>
          <td class="paramname"><em>locked_channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="../../da/de5/structast__assigned__ids.html">ast_assigned_ids</a> *&#160;</td>
          <td class="paramname"><em>assignedids</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>predial_callee</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/d94/pbx_8c_source.html#l08025">8025</a> of file <a class="el" href="../../db/d94/pbx_8c_source.html">pbx.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../db/d94/pbx_8c_source.html#l07755">pbx_outgoing_attempt()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d94/pbx_8c_source.html#l08015">ast_pbx_outgoing_app()</a>, and <a class="el" href="../../da/db1/app__originate_8c_source.html#l00173">originate_exec()</a>.</p>
<div class="fragment"><div class="line"><a name="l08030"></a><span class="lineno"> 8030</span>&#160;{</div><div class="line"><a name="l08031"></a><span class="lineno"> 8031</span>&#160;   <span class="keywordflow">if</span> (reason) {</div><div class="line"><a name="l08032"></a><span class="lineno"> 8032</span>&#160;      *reason = 0;</div><div class="line"><a name="l08033"></a><span class="lineno"> 8033</span>&#160;   }</div><div class="line"><a name="l08034"></a><span class="lineno"> 8034</span>&#160;   <span class="keywordflow">if</span> (locked_channel) {</div><div class="line"><a name="l08035"></a><span class="lineno"> 8035</span>&#160;      *locked_channel = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l08036"></a><span class="lineno"> 8036</span>&#160;   }</div><div class="line"><a name="l08037"></a><span class="lineno"> 8037</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(<a class="code" href="../../d0/db6/app__mysql_8c.html#a1d9b1eccfc259a14525ce817482a3f88">app</a>)) {</div><div class="line"><a name="l08038"></a><span class="lineno"> 8038</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l08039"></a><span class="lineno"> 8039</span>&#160;   }</div><div class="line"><a name="l08040"></a><span class="lineno"> 8040</span>&#160;</div><div class="line"><a name="l08041"></a><span class="lineno"> 8041</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../db/d94/pbx_8c.html#a9582d9da72e4e799183a50e4ddc90a94">pbx_outgoing_attempt</a>(<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>, cap, addr, <a class="code" href="../../d0/d29/cdr__mysql_8c.html#a493b57f443cc38b3d3df9c1e584d9d82">timeout</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0, <a class="code" href="../../d0/db6/app__mysql_8c.html#a1d9b1eccfc259a14525ce817482a3f88">app</a>, appdata,</div><div class="line"><a name="l08042"></a><span class="lineno"> 8042</span>&#160;      reason, synchronous, <a class="code" href="../../d0/dd6/chan__mgcp_8c.html#a29e973bd94bfbaf59d939bd1bc988c32">cid_num</a>, <a class="code" href="../../d0/dd6/chan__mgcp_8c.html#ade5a89f9bee15a492c760ec1765a292d">cid_name</a>, vars, account, locked_channel, 0,</div><div class="line"><a name="l08043"></a><span class="lineno"> 8043</span>&#160;      assignedids, predial_callee);</div><div class="line"><a name="l08044"></a><span class="lineno"> 8044</span>&#160;}</div><div class="ttc" id="chan__ooh323_8c_html_a4d63fdfe5451ec2248c16a2739190c56"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a></div><div class="ttdeci">static const char type[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00109">chan_ooh323.c:109</a></div></div>
<div class="ttc" id="pbx_8c_html_a9582d9da72e4e799183a50e4ddc90a94"><div class="ttname"><a href="../../db/d94/pbx_8c.html#a9582d9da72e4e799183a50e4ddc90a94">pbx_outgoing_attempt</a></div><div class="ttdeci">static int pbx_outgoing_attempt(const char *type, struct ast_format_cap *cap, const char *addr, int timeout, const char *context, const char *exten, int priority, const char *app, const char *appdata, int *reason, int synchronous, const char *cid_num, const char *cid_name, struct ast_variable *vars, const char *account, struct ast_channel **locked_channel, int early_media, const struct ast_assigned_ids *assignedids, const char *predial_callee)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l07755">pbx.c:7755</a></div></div>
<div class="ttc" id="cdr__mysql_8c_html_a493b57f443cc38b3d3df9c1e584d9d82"><div class="ttname"><a href="../../d0/d29/cdr__mysql_8c.html#a493b57f443cc38b3d3df9c1e584d9d82">timeout</a></div><div class="ttdeci">static int timeout</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/cdr__mysql_8c_source.html#l00086">cdr_mysql.c:86</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="chan__mgcp_8c_html_a29e973bd94bfbaf59d939bd1bc988c32"><div class="ttname"><a href="../../d0/dd6/chan__mgcp_8c.html#a29e973bd94bfbaf59d939bd1bc988c32">cid_num</a></div><div class="ttdeci">static char cid_num[AST_MAX_EXTENSION]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dd6/chan__mgcp_8c_source.html#l00164">chan_mgcp.c:164</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="chan__mgcp_8c_html_ade5a89f9bee15a492c760ec1765a292d"><div class="ttname"><a href="../../d0/dd6/chan__mgcp_8c.html#ade5a89f9bee15a492c760ec1765a292d">cid_name</a></div><div class="ttdeci">static char cid_name[AST_MAX_EXTENSION]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dd6/chan__mgcp_8c_source.html#l00165">chan_mgcp.c:165</a></div></div>
<div class="ttc" id="app__mysql_8c_html_a1d9b1eccfc259a14525ce817482a3f88"><div class="ttname"><a href="../../d0/db6/app__mysql_8c.html#a1d9b1eccfc259a14525ce817482a3f88">app</a></div><div class="ttdeci">static const char app[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/db6/app__mysql_8c_source.html#l00062">app_mysql.c:62</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6c3a35983760904213206a8f0a7df9c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c3a35983760904213206a8f0a7df9c9">&#9670;&nbsp;</a></span>ast_pbx_outgoing_exten()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_pbx_outgoing_exten </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d8/d69/structast__format__cap.html">ast_format_cap</a> *&#160;</td>
          <td class="paramname"><em>cap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>timeout</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>exten</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>priority</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>reason</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>synchronous</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>cid_num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>cid_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../dd/d02/structast__variable.html">ast_variable</a> *&#160;</td>
          <td class="paramname"><em>vars</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>account</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> **&#160;</td>
          <td class="paramname"><em>locked_channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>early_media</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="../../da/de5/structast__assigned__ids.html">ast_assigned_ids</a> *&#160;</td>
          <td class="paramname"><em>assignedids</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Synchronously or asynchronously make an outbound call and send it to a particular extension. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">type</td><td>The channel technology to create </td></tr>
    <tr><td class="paramname">cap</td><td>The format capabilities for the channel </td></tr>
    <tr><td class="paramname">addr</td><td>Address data to pass to the channel technology driver </td></tr>
    <tr><td class="paramname">timeout</td><td>How long we should attempt to dial the outbound channel </td></tr>
    <tr><td class="paramname">context</td><td>The destination context for the outbound channel </td></tr>
    <tr><td class="paramname">exten</td><td>The destination extension for the outbound channel </td></tr>
    <tr><td class="paramname">priority</td><td>The destination priority for the outbound channel </td></tr>
    <tr><td class="paramname">reason</td><td>Optional. If provided, the dialed status of the outgoing channel. Codes are AST_CONTROL_xxx values. Valid only if synchronous is non-zero. </td></tr>
    <tr><td class="paramname">synchronous</td><td>defined by the ast_pbx_outgoing_sync enum. If <code>AST_OUTGOING_NO_WAIT</code> then don't wait for anything. If <code>AST_OUTGOING_WAIT</code> then block until the outbound channel answers or the call fails. If <code>AST_OUTGOING_WAIT_COMPLETE</code> then wait for the call to complete or fail. If <code>AST_OUTGOING_WAIT</code> or <code>AST_OUTGOING_WAIT_COMPLETE</code> is specified, the call doesn't answer, and <code>failed</code>  exists then run a channel named <code>OutgoingSpoolFailed</code> at <code>failed</code> . </td></tr>
    <tr><td class="paramname">cid_num</td><td>The caller ID number to set on the outbound channel </td></tr>
    <tr><td class="paramname">cid_name</td><td>The caller ID name to set on the outbound channel </td></tr>
    <tr><td class="paramname">vars</td><td>Variables to set on the outbound channel </td></tr>
    <tr><td class="paramname">account</td><td>The accountcode for the outbound channel </td></tr>
    <tr><td class="paramname">locked_channel</td><td>Optional. The outbound channel that was created if success is returned. Otherwise it is set to NULL. This is returned both locked and reference bumped. </td></tr>
    <tr><td class="paramname">early_media</td><td>If non-zero the channel "answers" when progress is indicated. </td></tr>
    <tr><td class="paramname">assignedids</td><td>Optional. The uniqueid(s) to assign the <a class="el" href="../../d4/d84/structchannel.html">channel(s)</a> that are created.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>on success </td></tr>
    <tr><td class="paramname">-1</td><td>on failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../db/d94/pbx_8c_source.html#l07951">7951</a> of file <a class="el" href="../../db/d94/pbx_8c_source.html">pbx.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/d94/pbx_8c_source.html#l07961">ast_pbx_outgoing_exten_predial()</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d10/manager_8c_source.html#l05723">action_originate()</a>, <a class="el" href="../../d9/dd4/pbx__spool_8c_source.html#l00431">attempt_thread()</a>, <a class="el" href="../../d4/d10/manager_8c_source.html#l05413">fast_originate()</a>, <a class="el" href="../../dc/dcf/func__periodic__hook_8c_source.html#l00168">hook_launch_thread()</a>, and <a class="el" href="../../d6/d2e/res__clioriginate_8c_source.html#l00091">orig_exten()</a>.</p>
<div class="fragment"><div class="line"><a name="l07956"></a><span class="lineno"> 7956</span>&#160;{</div><div class="line"><a name="l07957"></a><span class="lineno"> 7957</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../db/d94/pbx_8c.html#a0c27e04a09684e80f2a49fc4c4820fd0">ast_pbx_outgoing_exten_predial</a>(<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>, cap, addr, <a class="code" href="../../d0/d29/cdr__mysql_8c.html#a493b57f443cc38b3d3df9c1e584d9d82">timeout</a>, <a class="code" href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a>, <a class="code" href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>, <a class="code" href="../../d9/d47/cdr__beanstalkd_8c.html#acec9ce2df15222151ad66fcb1d74eb9f">priority</a>, reason,</div><div class="line"><a name="l07958"></a><span class="lineno"> 7958</span>&#160;      synchronous, <a class="code" href="../../d0/dd6/chan__mgcp_8c.html#a29e973bd94bfbaf59d939bd1bc988c32">cid_num</a>, <a class="code" href="../../d0/dd6/chan__mgcp_8c.html#ade5a89f9bee15a492c760ec1765a292d">cid_name</a>, vars, account, locked_channel, early_media, assignedids, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l07959"></a><span class="lineno"> 7959</span>&#160;}</div><div class="ttc" id="chan__ooh323_8c_html_a4d63fdfe5451ec2248c16a2739190c56"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a></div><div class="ttdeci">static const char type[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00109">chan_ooh323.c:109</a></div></div>
<div class="ttc" id="chan__alsa_8c_html_a78d4847658b695383d849efd12399b38"><div class="ttname"><a href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a></div><div class="ttdeci">static char exten[AST_MAX_EXTENSION]</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d45/chan__alsa_8c_source.html#l00118">chan_alsa.c:118</a></div></div>
<div class="ttc" id="cdr__mysql_8c_html_a493b57f443cc38b3d3df9c1e584d9d82"><div class="ttname"><a href="../../d0/d29/cdr__mysql_8c.html#a493b57f443cc38b3d3df9c1e584d9d82">timeout</a></div><div class="ttdeci">static int timeout</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/cdr__mysql_8c_source.html#l00086">cdr_mysql.c:86</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="cdr__beanstalkd_8c_html_acec9ce2df15222151ad66fcb1d74eb9f"><div class="ttname"><a href="../../d9/d47/cdr__beanstalkd_8c.html#acec9ce2df15222151ad66fcb1d74eb9f">priority</a></div><div class="ttdeci">static int priority</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d47/cdr__beanstalkd_8c_source.html#l00076">cdr_beanstalkd.c:76</a></div></div>
<div class="ttc" id="chan__mgcp_8c_html_a29e973bd94bfbaf59d939bd1bc988c32"><div class="ttname"><a href="../../d0/dd6/chan__mgcp_8c.html#a29e973bd94bfbaf59d939bd1bc988c32">cid_num</a></div><div class="ttdeci">static char cid_num[AST_MAX_EXTENSION]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dd6/chan__mgcp_8c_source.html#l00164">chan_mgcp.c:164</a></div></div>
<div class="ttc" id="chan__mgcp_8c_html_ade5a89f9bee15a492c760ec1765a292d"><div class="ttname"><a href="../../d0/dd6/chan__mgcp_8c.html#ade5a89f9bee15a492c760ec1765a292d">cid_name</a></div><div class="ttdeci">static char cid_name[AST_MAX_EXTENSION]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dd6/chan__mgcp_8c_source.html#l00165">chan_mgcp.c:165</a></div></div>
<div class="ttc" id="pbx_8c_html_a0c27e04a09684e80f2a49fc4c4820fd0"><div class="ttname"><a href="../../db/d94/pbx_8c.html#a0c27e04a09684e80f2a49fc4c4820fd0">ast_pbx_outgoing_exten_predial</a></div><div class="ttdeci">int ast_pbx_outgoing_exten_predial(const char *type, struct ast_format_cap *cap, const char *addr, int timeout, const char *context, const char *exten, int priority, int *reason, int synchronous, const char *cid_num, const char *cid_name, struct ast_variable *vars, const char *account, struct ast_channel **locked_channel, int early_media, const struct ast_assigned_ids *assignedids, const char *predial_callee)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l07961">pbx.c:7961</a></div></div>
<div class="ttc" id="chan__alsa_8c_html_ac25ea00ee3f082df06e0cf468cbde240"><div class="ttname"><a href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a></div><div class="ttdeci">static char context[AST_MAX_CONTEXT]</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d45/chan__alsa_8c_source.html#l00116">chan_alsa.c:116</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a0c27e04a09684e80f2a49fc4c4820fd0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c27e04a09684e80f2a49fc4c4820fd0">&#9670;&nbsp;</a></span>ast_pbx_outgoing_exten_predial()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_pbx_outgoing_exten_predial </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d8/d69/structast__format__cap.html">ast_format_cap</a> *&#160;</td>
          <td class="paramname"><em>cap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>timeout</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>exten</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>priority</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>reason</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>synchronous</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>cid_num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>cid_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../dd/d02/structast__variable.html">ast_variable</a> *&#160;</td>
          <td class="paramname"><em>vars</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>account</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> **&#160;</td>
          <td class="paramname"><em>locked_channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>early_media</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="../../da/de5/structast__assigned__ids.html">ast_assigned_ids</a> *&#160;</td>
          <td class="paramname"><em>assignedids</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>predial_callee</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="todo"><dt><b><a class="el" href="../../dd/da0/todo.html#_todo000075">Todo:</a></b></dt><dd>XXX Not good. The channel name is not unique if more than one originate fails at a time. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../db/d94/pbx_8c_source.html#l07961">7961</a> of file <a class="el" href="../../db/d94/pbx_8c_source.html">pbx.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d60/utils_8h_source.html#l00695">ast_assert</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l01259">ast_channel_alloc</a>, <a class="el" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l04179">ast_exists_extension()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l02548">ast_hangup()</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l04759">ast_pbx_run()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l08217">ast_set_variables()</a>, <a class="el" href="../../d9/d95/channelstate_8h_source.html#l00036">AST_STATE_DOWN</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d3/d8c/pbx__variables_8c_source.html#l01071">pbx_builtin_setvar_helper()</a>, and <a class="el" href="../../db/d94/pbx_8c_source.html#l07755">pbx_outgoing_attempt()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d94/pbx_8c_source.html#l07951">ast_pbx_outgoing_exten()</a>, and <a class="el" href="../../da/db1/app__originate_8c_source.html#l00173">originate_exec()</a>.</p>
<div class="fragment"><div class="line"><a name="l07966"></a><span class="lineno"> 7966</span>&#160;{</div><div class="line"><a name="l07967"></a><span class="lineno"> 7967</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l07968"></a><span class="lineno"> 7968</span>&#160;   <span class="keywordtype">int</span> my_reason;</div><div class="line"><a name="l07969"></a><span class="lineno"> 7969</span>&#160;</div><div class="line"><a name="l07970"></a><span class="lineno"> 7970</span>&#160;   <span class="keywordflow">if</span> (!reason) {</div><div class="line"><a name="l07971"></a><span class="lineno"> 7971</span>&#160;      reason = &amp;my_reason;</div><div class="line"><a name="l07972"></a><span class="lineno"> 7972</span>&#160;   }</div><div class="line"><a name="l07973"></a><span class="lineno"> 7973</span>&#160;   *reason = 0;</div><div class="line"><a name="l07974"></a><span class="lineno"> 7974</span>&#160;   <span class="keywordflow">if</span> (locked_channel) {</div><div class="line"><a name="l07975"></a><span class="lineno"> 7975</span>&#160;      *locked_channel = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l07976"></a><span class="lineno"> 7976</span>&#160;   }</div><div class="line"><a name="l07977"></a><span class="lineno"> 7977</span>&#160;</div><div class="line"><a name="l07978"></a><span class="lineno"> 7978</span>&#160;   res = <a class="code" href="../../db/d94/pbx_8c.html#a9582d9da72e4e799183a50e4ddc90a94">pbx_outgoing_attempt</a>(<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>, cap, addr, <a class="code" href="../../d0/d29/cdr__mysql_8c.html#a493b57f443cc38b3d3df9c1e584d9d82">timeout</a>, <a class="code" href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a>, <a class="code" href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>, <a class="code" href="../../d9/d47/cdr__beanstalkd_8c.html#acec9ce2df15222151ad66fcb1d74eb9f">priority</a>,</div><div class="line"><a name="l07979"></a><span class="lineno"> 7979</span>&#160;      <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, reason, synchronous, <a class="code" href="../../d0/dd6/chan__mgcp_8c.html#a29e973bd94bfbaf59d939bd1bc988c32">cid_num</a>, <a class="code" href="../../d0/dd6/chan__mgcp_8c.html#ade5a89f9bee15a492c760ec1765a292d">cid_name</a>, vars, account, locked_channel,</div><div class="line"><a name="l07980"></a><span class="lineno"> 7980</span>&#160;      early_media, assignedids, predial_callee);</div><div class="line"><a name="l07981"></a><span class="lineno"> 7981</span>&#160;</div><div class="line"><a name="l07982"></a><span class="lineno"> 7982</span>&#160;   <span class="keywordflow">if</span> (res &lt; 0 <span class="comment">/* Call failed to get connected for some reason. */</span></div><div class="line"><a name="l07983"></a><span class="lineno"> 7983</span>&#160;      &amp;&amp; 0 &lt; synchronous</div><div class="line"><a name="l07984"></a><span class="lineno"> 7984</span>&#160;      &amp;&amp; <a class="code" href="../../db/d94/pbx_8c.html#a64a5b8fdc919806135ad427aca9e71b7">ast_exists_extension</a>(<a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a>, <span class="stringliteral">&quot;failed&quot;</span>, 1, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)) {</div><div class="line"><a name="l07985"></a><span class="lineno"> 7985</span>&#160;      <span class="keyword">struct </span><a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *failed;</div><div class="line"><a name="l07986"></a><span class="lineno"> 7986</span>&#160;</div><div class="line"><a name="l07987"></a><span class="lineno"> 7987</span>&#160;      <span class="comment">/* We do not have to worry about a locked_channel if dialing failed. */</span></div><div class="line"><a name="l07988"></a><span class="lineno"> 7988</span>&#160;      <a class="code" href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a>(!locked_channel || !*locked_channel);</div><div class="line"><a name="l07989"></a><span class="lineno"> 7989</span>&#160;<span class="comment"></span></div><div class="line"><a name="l07990"></a><span class="lineno"> 7990</span>&#160;<span class="comment">      /*!</span></div><div class="line"><a name="l07991"></a><span class="lineno"> 7991</span>&#160;<span class="comment">       * \todo XXX Not good.  The channel name is not unique if more than</span></div><div class="line"><a name="l07992"></a><span class="lineno"> 7992</span>&#160;<span class="comment">       * one originate fails at a time.</span></div><div class="line"><a name="l07993"></a><span class="lineno"> 7993</span>&#160;<span class="comment">       */</span></div><div class="line"><a name="l07994"></a><span class="lineno"> 7994</span>&#160;      failed = <a class="code" href="../../d5/d7b/channel_8h.html#a2f18aafad0442206e71033ac6676dbb5">ast_channel_alloc</a>(0, <a class="code" href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660a81348336816e0a2f6f3a76da487a46dc">AST_STATE_DOWN</a>, <a class="code" href="../../d0/dd6/chan__mgcp_8c.html#a29e973bd94bfbaf59d939bd1bc988c32">cid_num</a>, <a class="code" href="../../d0/dd6/chan__mgcp_8c.html#ade5a89f9bee15a492c760ec1765a292d">cid_name</a>, account,</div><div class="line"><a name="l07995"></a><span class="lineno"> 7995</span>&#160;         <span class="stringliteral">&quot;failed&quot;</span>, <a class="code" href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0, <span class="stringliteral">&quot;OutgoingSpoolFailed&quot;</span>);</div><div class="line"><a name="l07996"></a><span class="lineno"> 7996</span>&#160;      <span class="keywordflow">if</span> (failed) {</div><div class="line"><a name="l07997"></a><span class="lineno"> 7997</span>&#160;         <span class="keywordtype">char</span> failed_reason[12];</div><div class="line"><a name="l07998"></a><span class="lineno"> 7998</span>&#160;</div><div class="line"><a name="l07999"></a><span class="lineno"> 7999</span>&#160;         <a class="code" href="../../d5/d7b/channel_8h.html#a5b14bfe21364dd8f73d45f15cf313524">ast_set_variables</a>(failed, vars);</div><div class="line"><a name="l08000"></a><span class="lineno"> 8000</span>&#160;         snprintf(failed_reason, <span class="keyword">sizeof</span>(failed_reason), <span class="stringliteral">&quot;%d&quot;</span>, *reason);</div><div class="line"><a name="l08001"></a><span class="lineno"> 8001</span>&#160;         <a class="code" href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a>(failed, <span class="stringliteral">&quot;REASON&quot;</span>, failed_reason);</div><div class="line"><a name="l08002"></a><span class="lineno"> 8002</span>&#160;         <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(failed);</div><div class="line"><a name="l08003"></a><span class="lineno"> 8003</span>&#160;</div><div class="line"><a name="l08004"></a><span class="lineno"> 8004</span>&#160;         <span class="keywordflow">if</span> (<a class="code" href="../../db/d94/pbx_8c.html#a44b6406c9220f7f2b610ac712369f405">ast_pbx_run</a>(failed)) {</div><div class="line"><a name="l08005"></a><span class="lineno"> 8005</span>&#160;            <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Unable to run PBX on &#39;%s&#39;\n&quot;</span>,</div><div class="line"><a name="l08006"></a><span class="lineno"> 8006</span>&#160;               <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(failed));</div><div class="line"><a name="l08007"></a><span class="lineno"> 8007</span>&#160;            <a class="code" href="../../d5/d7b/channel_8h.html#a29557c4823f5e9c02519a01daf6a289c">ast_hangup</a>(failed);</div><div class="line"><a name="l08008"></a><span class="lineno"> 8008</span>&#160;         }</div><div class="line"><a name="l08009"></a><span class="lineno"> 8009</span>&#160;      }</div><div class="line"><a name="l08010"></a><span class="lineno"> 8010</span>&#160;   }</div><div class="line"><a name="l08011"></a><span class="lineno"> 8011</span>&#160;</div><div class="line"><a name="l08012"></a><span class="lineno"> 8012</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l08013"></a><span class="lineno"> 8013</span>&#160;}</div><div class="ttc" id="chan__ooh323_8c_html_a4d63fdfe5451ec2248c16a2739190c56"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a></div><div class="ttdeci">static const char type[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00109">chan_ooh323.c:109</a></div></div>
<div class="ttc" id="chan__alsa_8c_html_a78d4847658b695383d849efd12399b38"><div class="ttname"><a href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a></div><div class="ttdeci">static char exten[AST_MAX_EXTENSION]</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d45/chan__alsa_8c_source.html#l00118">chan_alsa.c:118</a></div></div>
<div class="ttc" id="structast__channel_html"><div class="ttname"><a href="../../df/d3c/structast__channel.html">ast_channel</a></div><div class="ttdoc">Main Channel structure associated with a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00073">channel_internal_api.c:73</a></div></div>
<div class="ttc" id="pbx_8c_html_a9582d9da72e4e799183a50e4ddc90a94"><div class="ttname"><a href="../../db/d94/pbx_8c.html#a9582d9da72e4e799183a50e4ddc90a94">pbx_outgoing_attempt</a></div><div class="ttdeci">static int pbx_outgoing_attempt(const char *type, struct ast_format_cap *cap, const char *addr, int timeout, const char *context, const char *exten, int priority, const char *app, const char *appdata, int *reason, int synchronous, const char *cid_num, const char *cid_name, struct ast_variable *vars, const char *account, struct ast_channel **locked_channel, int early_media, const struct ast_assigned_ids *assignedids, const char *predial_callee)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l07755">pbx.c:7755</a></div></div>
<div class="ttc" id="channelstate_8h_html_a03585bc87e5bbd0f4d11bc789734c660a81348336816e0a2f6f3a76da487a46dc"><div class="ttname"><a href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660a81348336816e0a2f6f3a76da487a46dc">AST_STATE_DOWN</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d95/channelstate_8h_source.html#l00036">channelstate.h:36</a></div></div>
<div class="ttc" id="cdr__mysql_8c_html_a493b57f443cc38b3d3df9c1e584d9d82"><div class="ttname"><a href="../../d0/d29/cdr__mysql_8c.html#a493b57f443cc38b3d3df9c1e584d9d82">timeout</a></div><div class="ttdeci">static int timeout</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/cdr__mysql_8c_source.html#l00086">cdr_mysql.c:86</a></div></div>
<div class="ttc" id="channel_8h_html_a5b14bfe21364dd8f73d45f15cf313524"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a5b14bfe21364dd8f73d45f15cf313524">ast_set_variables</a></div><div class="ttdeci">void ast_set_variables(struct ast_channel *chan, struct ast_variable *vars)</div><div class="ttdoc">adds a list of channel variables to a channel </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l08217">channel.c:8217</a></div></div>
<div class="ttc" id="utils_8h_html_a24374da24af1931d8a7ccde5b352bb2c"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a></div><div class="ttdeci">#define ast_assert(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00695">utils.h:695</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="cdr__beanstalkd_8c_html_acec9ce2df15222151ad66fcb1d74eb9f"><div class="ttname"><a href="../../d9/d47/cdr__beanstalkd_8c.html#acec9ce2df15222151ad66fcb1d74eb9f">priority</a></div><div class="ttdeci">static int priority</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d47/cdr__beanstalkd_8c_source.html#l00076">cdr_beanstalkd.c:76</a></div></div>
<div class="ttc" id="chan__mgcp_8c_html_a29e973bd94bfbaf59d939bd1bc988c32"><div class="ttname"><a href="../../d0/dd6/chan__mgcp_8c.html#a29e973bd94bfbaf59d939bd1bc988c32">cid_num</a></div><div class="ttdeci">static char cid_num[AST_MAX_EXTENSION]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dd6/chan__mgcp_8c_source.html#l00164">chan_mgcp.c:164</a></div></div>
<div class="ttc" id="pbx_8c_html_a44b6406c9220f7f2b610ac712369f405"><div class="ttname"><a href="../../db/d94/pbx_8c.html#a44b6406c9220f7f2b610ac712369f405">ast_pbx_run</a></div><div class="ttdeci">enum ast_pbx_result ast_pbx_run(struct ast_channel *c)</div><div class="ttdoc">Execute the PBX in the current thread. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l04759">pbx.c:4759</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="pbx_8c_html_a64a5b8fdc919806135ad427aca9e71b7"><div class="ttname"><a href="../../db/d94/pbx_8c.html#a64a5b8fdc919806135ad427aca9e71b7">ast_exists_extension</a></div><div class="ttdeci">int ast_exists_extension(struct ast_channel *c, const char *context, const char *exten, int priority, const char *callerid)</div><div class="ttdoc">Determine whether an extension exists. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l04179">pbx.c:4179</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="channel_8h_html_a29557c4823f5e9c02519a01daf6a289c"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a29557c4823f5e9c02519a01daf6a289c">ast_hangup</a></div><div class="ttdeci">void ast_hangup(struct ast_channel *chan)</div><div class="ttdoc">Hang up a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l02548">channel.c:2548</a></div></div>
<div class="ttc" id="chan__mgcp_8c_html_ade5a89f9bee15a492c760ec1765a292d"><div class="ttname"><a href="../../d0/dd6/chan__mgcp_8c.html#ade5a89f9bee15a492c760ec1765a292d">cid_name</a></div><div class="ttdeci">static char cid_name[AST_MAX_EXTENSION]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dd6/chan__mgcp_8c_source.html#l00165">chan_mgcp.c:165</a></div></div>
<div class="ttc" id="pbx_8h_html_a6e5b90edb84d216267148dddcffe9b9a"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a></div><div class="ttdeci">int pbx_builtin_setvar_helper(struct ast_channel *chan, const char *name, const char *value)</div><div class="ttdoc">Add a variable to the channel variable stack, removing the most recently set value for the same name...</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d8c/pbx__variables_8c_source.html#l01071">pbx_variables.c:1071</a></div></div>
<div class="ttc" id="channel_8h_html_a7ca2fda13b129a55c251b56729de285b"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a></div><div class="ttdeci">const char * ast_channel_name(const struct ast_channel *chan)</div></div>
<div class="ttc" id="chan__alsa_8c_html_ac25ea00ee3f082df06e0cf468cbde240"><div class="ttname"><a href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a></div><div class="ttdeci">static char context[AST_MAX_CONTEXT]</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d45/chan__alsa_8c_source.html#l00116">chan_alsa.c:116</a></div></div>
<div class="ttc" id="channel_8h_html_a2f18aafad0442206e71033ac6676dbb5"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a2f18aafad0442206e71033ac6676dbb5">ast_channel_alloc</a></div><div class="ttdeci">#define ast_channel_alloc(needqueue, state, cid_num, cid_name, acctcode, exten, context, assignedids, requestor, amaflag,...)</div><div class="ttdoc">Create a channel structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01259">channel.h:1259</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a44b6406c9220f7f2b610ac712369f405"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a44b6406c9220f7f2b610ac712369f405">&#9670;&nbsp;</a></span>ast_pbx_run()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../db/de0/pbx_8h.html#a0e4eb357d2ef42629fbcf191a473f735">ast_pbx_result</a> ast_pbx_run </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Execute the PBX in the current thread. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">c</td><td>channel to run the pbx on</td></tr>
  </table>
  </dd>
</dl>
<p>This executes the PBX on a given channel. It allocates a new PBX structure for the channel, and provides all PBX functionality. See ast_pbx_start for an asynchronous function to run the PBX in a new thread as opposed to the current one.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">Zero</td><td>on success </td></tr>
    <tr><td class="paramname">non-zero</td><td>on failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../db/d94/pbx_8c_source.html#l04759">4759</a> of file <a class="el" href="../../db/d94/pbx_8c_source.html">pbx.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/d94/pbx_8c_source.html#l04739">ast_pbx_run_args()</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/d09/sig__analog_8c_source.html#l01711">__analog_ss_thread()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l09512">analog_ss_thread()</a>, <a class="el" href="../../da/d49/resource__channels_8c_source.html#l01013">ari_originate_dial()</a>, <a class="el" href="../../df/db6/bridge__after_8c_source.html#l00537">ast_bridge_run_after_goto()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l07961">ast_pbx_outgoing_exten_predial()</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00741">do_notify()</a>, <a class="el" href="../../d0/dd6/chan__mgcp_8c_source.html#l03000">mgcp_ss()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l07627">pbx_outgoing_exec()</a>, <a class="el" href="../../d0/d80/chan__skinny_8c_source.html#l04823">skinny_newcall()</a>, and <a class="el" href="../../d1/d6d/chan__unistim_8c_source.html#l02659">unistim_ss()</a>.</p>
<div class="fragment"><div class="line"><a name="l04760"></a><span class="lineno"> 4760</span>&#160;{</div><div class="line"><a name="l04761"></a><span class="lineno"> 4761</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../db/d94/pbx_8c.html#a2c502c100b8b4791d9efe395e08d620b">ast_pbx_run_args</a>(c, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l04762"></a><span class="lineno"> 4762</span>&#160;}</div><div class="ttc" id="pbx_8c_html_a2c502c100b8b4791d9efe395e08d620b"><div class="ttname"><a href="../../db/d94/pbx_8c.html#a2c502c100b8b4791d9efe395e08d620b">ast_pbx_run_args</a></div><div class="ttdeci">enum ast_pbx_result ast_pbx_run_args(struct ast_channel *c, struct ast_pbx_args *args)</div><div class="ttdoc">Execute the PBX in the current thread. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l04739">pbx.c:4739</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2c502c100b8b4791d9efe395e08d620b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c502c100b8b4791d9efe395e08d620b">&#9670;&nbsp;</a></span>ast_pbx_run_args()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../db/de0/pbx_8h.html#a0e4eb357d2ef42629fbcf191a473f735">ast_pbx_result</a> ast_pbx_run_args </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../da/db8/structast__pbx__args.html">ast_pbx_args</a> *&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Execute the PBX in the current thread. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">c</td><td>channel to run the pbx on </td></tr>
    <tr><td class="paramname">args</td><td>options for the pbx</td></tr>
  </table>
  </dd>
</dl>
<p>This executes the PBX on a given channel. It allocates a new PBX structure for the channel, and provides all PBX functionality. See ast_pbx_start for an asynchronous function to run the PBX in a new thread as opposed to the current one.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">Zero</td><td>on success </td></tr>
    <tr><td class="paramname">non-zero</td><td>on failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../db/d94/pbx_8c_source.html#l04739">4739</a> of file <a class="el" href="../../db/d94/pbx_8c_source.html">pbx.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/d94/pbx_8c_source.html#l04310">__ast_pbx_run()</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d7/d5b/options_8h_source.html#l00058">AST_OPT_FLAG_FULLY_BOOTED</a>, <a class="el" href="../../de/dc5/options_8c_source.html#l00061">ast_options</a>, <a class="el" href="../../db/de0/pbx_8h_source.html#l00357">AST_PBX_CALL_LIMIT</a>, <a class="el" href="../../db/de0/pbx_8h_source.html#l00356">AST_PBX_FAILED</a>, <a class="el" href="../../db/de0/pbx_8h_source.html#l00355">AST_PBX_SUCCESS</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00063">ast_test_flag</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l04670">decrease_call_count()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l04621">increase_call_count()</a>, and <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/dcf/app__confbridge_8c_source.html#l03059">action_dialplan_exec()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l04759">ast_pbx_run()</a>, <a class="el" href="../../d1/d71/app__stack_8c_source.html#l01118">handle_gosub()</a>, <a class="el" href="../../d0/d6d/message_8c_source.html#l00756">msg_route()</a>, and <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l01324">stasis_app_exec()</a>.</p>
<div class="fragment"><div class="line"><a name="l04740"></a><span class="lineno"> 4740</span>&#160;{</div><div class="line"><a name="l04741"></a><span class="lineno"> 4741</span>&#160;   <span class="keyword">enum</span> <a class="code" href="../../db/de0/pbx_8h.html#a0e4eb357d2ef42629fbcf191a473f735">ast_pbx_result</a> res = <a class="code" href="../../db/de0/pbx_8h.html#a0e4eb357d2ef42629fbcf191a473f735ae1482e87c137b03ef9f9c17cf4fb5ec4">AST_PBX_SUCCESS</a>;</div><div class="line"><a name="l04742"></a><span class="lineno"> 4742</span>&#160;</div><div class="line"><a name="l04743"></a><span class="lineno"> 4743</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a>(&amp;<a class="code" href="../../d6/dd6/group__main__options.html#gaa5dba371db31dc4ebecdff7c929ff263">ast_options</a>, <a class="code" href="../../d6/dd6/group__main__options.html#gaf2588453b3a373a770741ad3ce353343ade4cf3231c69af57ad0527bd46244680">AST_OPT_FLAG_FULLY_BOOTED</a>)) {</div><div class="line"><a name="l04744"></a><span class="lineno"> 4744</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;PBX requires Asterisk to be fully booted\n&quot;</span>);</div><div class="line"><a name="l04745"></a><span class="lineno"> 4745</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../db/de0/pbx_8h.html#a0e4eb357d2ef42629fbcf191a473f735a4a46cde728f5cd375af4f2d5b1542490">AST_PBX_FAILED</a>;</div><div class="line"><a name="l04746"></a><span class="lineno"> 4746</span>&#160;   }</div><div class="line"><a name="l04747"></a><span class="lineno"> 4747</span>&#160;</div><div class="line"><a name="l04748"></a><span class="lineno"> 4748</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../db/d94/pbx_8c.html#a829520d1350a9bfcd02e2106e5a22a24">increase_call_count</a>(c)) {</div><div class="line"><a name="l04749"></a><span class="lineno"> 4749</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../db/de0/pbx_8h.html#a0e4eb357d2ef42629fbcf191a473f735ab69a419c47206542956e9d933b6605f5">AST_PBX_CALL_LIMIT</a>;</div><div class="line"><a name="l04750"></a><span class="lineno"> 4750</span>&#160;   }</div><div class="line"><a name="l04751"></a><span class="lineno"> 4751</span>&#160;</div><div class="line"><a name="l04752"></a><span class="lineno"> 4752</span>&#160;   res = <a class="code" href="../../db/d94/pbx_8c.html#ab203ba8e71a7c11736a40f7967ba1fdf">__ast_pbx_run</a>(c, args);</div><div class="line"><a name="l04753"></a><span class="lineno"> 4753</span>&#160;</div><div class="line"><a name="l04754"></a><span class="lineno"> 4754</span>&#160;   <a class="code" href="../../db/d94/pbx_8c.html#a3bf2bd297c32c358066446ceb1f4551b">decrease_call_count</a>();</div><div class="line"><a name="l04755"></a><span class="lineno"> 4755</span>&#160;</div><div class="line"><a name="l04756"></a><span class="lineno"> 4756</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l04757"></a><span class="lineno"> 4757</span>&#160;}</div><div class="ttc" id="pbx_8h_html_a0e4eb357d2ef42629fbcf191a473f735ae1482e87c137b03ef9f9c17cf4fb5ec4"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a0e4eb357d2ef42629fbcf191a473f735ae1482e87c137b03ef9f9c17cf4fb5ec4">AST_PBX_SUCCESS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/de0/pbx_8h_source.html#l00355">pbx.h:355</a></div></div>
<div class="ttc" id="utils_8h_html_a00d4c9254c9827d6fa44f17a326744a5"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a></div><div class="ttdeci">#define ast_test_flag(p, flag)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00063">utils.h:63</a></div></div>
<div class="ttc" id="pbx_8c_html_a3bf2bd297c32c358066446ceb1f4551b"><div class="ttname"><a href="../../db/d94/pbx_8c.html#a3bf2bd297c32c358066446ceb1f4551b">decrease_call_count</a></div><div class="ttdeci">static void decrease_call_count(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l04670">pbx.c:4670</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="pbx_8c_html_ab203ba8e71a7c11736a40f7967ba1fdf"><div class="ttname"><a href="../../db/d94/pbx_8c.html#ab203ba8e71a7c11736a40f7967ba1fdf">__ast_pbx_run</a></div><div class="ttdeci">static enum ast_pbx_result __ast_pbx_run(struct ast_channel *c, struct ast_pbx_args *args)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l04310">pbx.c:4310</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="pbx_8c_html_a829520d1350a9bfcd02e2106e5a22a24"><div class="ttname"><a href="../../db/d94/pbx_8c.html#a829520d1350a9bfcd02e2106e5a22a24">increase_call_count</a></div><div class="ttdeci">static int increase_call_count(const struct ast_channel *c)</div><div class="ttdoc">Increase call count for channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l04621">pbx.c:4621</a></div></div>
<div class="ttc" id="pbx_8h_html_a0e4eb357d2ef42629fbcf191a473f735ab69a419c47206542956e9d933b6605f5"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a0e4eb357d2ef42629fbcf191a473f735ab69a419c47206542956e9d933b6605f5">AST_PBX_CALL_LIMIT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/de0/pbx_8h_source.html#l00357">pbx.h:357</a></div></div>
<div class="ttc" id="pbx_8h_html_a0e4eb357d2ef42629fbcf191a473f735"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a0e4eb357d2ef42629fbcf191a473f735">ast_pbx_result</a></div><div class="ttdeci">ast_pbx_result</div><div class="ttdoc">The result codes when starting the PBX on a channel with ast_pbx_start. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/de0/pbx_8h_source.html#l00354">pbx.h:354</a></div></div>
<div class="ttc" id="pbx_8h_html_a0e4eb357d2ef42629fbcf191a473f735a4a46cde728f5cd375af4f2d5b1542490"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a0e4eb357d2ef42629fbcf191a473f735a4a46cde728f5cd375af4f2d5b1542490">AST_PBX_FAILED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/de0/pbx_8h_source.html#l00356">pbx.h:356</a></div></div>
<div class="ttc" id="group__main__options_html_gaa5dba371db31dc4ebecdff7c929ff263"><div class="ttname"><a href="../../d6/dd6/group__main__options.html#gaa5dba371db31dc4ebecdff7c929ff263">ast_options</a></div><div class="ttdeci">struct ast_flags ast_options</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc5/options_8c_source.html#l00061">options.c:61</a></div></div>
<div class="ttc" id="group__main__options_html_gaf2588453b3a373a770741ad3ce353343ade4cf3231c69af57ad0527bd46244680"><div class="ttname"><a href="../../d6/dd6/group__main__options.html#gaf2588453b3a373a770741ad3ce353343ade4cf3231c69af57ad0527bd46244680">AST_OPT_FLAG_FULLY_BOOTED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5b/options_8h_source.html#l00058">options.h:58</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a9a937fbb3b5f4e68880a9c5714a29ce5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a937fbb3b5f4e68880a9c5714a29ce5">&#9670;&nbsp;</a></span>ast_pbx_start()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../db/de0/pbx_8h.html#a0e4eb357d2ef42629fbcf191a473f735">ast_pbx_result</a> ast_pbx_start </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a new thread and start the PBX. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">c</td><td>channel to start the pbx on</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../db/de0/pbx_8h.html#a44b6406c9220f7f2b610ac712369f405" title="Execute the PBX in the current thread. ">ast_pbx_run</a> for <a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a> synchronous function to run the PBX <a class="el" href="../../da/d7c/utils_2frame_8h.html#aca392a8d3941cd0740aef3ad92545d67">in</a> the current <a class="el" href="../../da/ddc/res__timing__pthread_8c.html#a01f75a9ad916f63a94e06a27635ba278">thread</a>, as opposed to starting <a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a> new one.</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">Zero</td><td>on success </td></tr>
    <tr><td class="paramname">non-zero</td><td>on failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../db/d94/pbx_8c_source.html#l04712">4712</a> of file <a class="el" href="../../db/d94/pbx_8c_source.html">pbx.c</a>.</p>

<p class="reference">References <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d7/d5b/options_8h_source.html#l00058">AST_OPT_FLAG_FULLY_BOOTED</a>, <a class="el" href="../../de/dc5/options_8c_source.html#l00061">ast_options</a>, <a class="el" href="../../db/de0/pbx_8h_source.html#l00357">AST_PBX_CALL_LIMIT</a>, <a class="el" href="../../db/de0/pbx_8h_source.html#l00356">AST_PBX_FAILED</a>, <a class="el" href="../../db/de0/pbx_8h_source.html#l00355">AST_PBX_SUCCESS</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00563">ast_pthread_create_detached</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00063">ast_test_flag</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l04670">decrease_call_count()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l04621">increase_call_count()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../db/d94/pbx_8c_source.html#l04692">pbx_thread()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/d45/chan__alsa_8c_source.html#l00580">alsa_new()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l07011">ast_async_goto()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l05829">ast_iax2_new()</a>, <a class="el" href="../../d5/d92/features_8c_source.html#l00528">bridge_failed_peer_goto()</a>, <a class="el" href="../../d3/d4e/chan__console_8c_source.html#l00423">console_new()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l09153">dahdi_new()</a>, <a class="el" href="../../d9/d12/app__dial_8c_source.html#l02254">dial_exec_full()</a>, <a class="el" href="../../d3/d51/chan__mobile_8c_source.html#l04119">do_monitor_headset()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02816">generic_recall()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l26347">handle_request_invite()</a>, <a class="el" href="../../d3/d51/chan__mobile_8c_source.html#l03651">handle_response_clip()</a>, <a class="el" href="../../d3/d51/chan__mobile_8c_source.html#l03735">handle_response_cmgr()</a>, <a class="el" href="../../de/da4/chan__motif_8c_source.html#l02390">jingle_action_session_initiate()</a>, <a class="el" href="../../de/d47/core__local_8c_source.html#l00677">local_call()</a>, <a class="el" href="../../d0/dd6/chan__mgcp_8c_source.html#l01494">mgcp_new()</a>, <a class="el" href="../../df/d83/chan__nbs_8c_source.html#l00193">nbs_new()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00413">ooh323_new()</a>, <a class="el" href="../../d3/dac/chan__oss_8c_source.html#l00799">oss_new()</a>, <a class="el" href="../../d7/d9b/chan__misdn_8c_source.html#l08438">pbx_start_chan()</a>, <a class="el" href="../../d0/d29/chan__pjsip_8c_source.html#l03115">pbx_start_incoming_request()</a>, <a class="el" href="../../da/dde/chan__phone_8c_source.html#l00855">phone_new()</a>, <a class="el" href="../../d0/d80/chan__skinny_8c_source.html#l05371">skinny_new()</a>, <a class="el" href="../../d1/d6d/chan__unistim_8c_source.html#l05704">unistim_new()</a>, and <a class="el" href="../../d7/d9b/chan__misdn_8c_source.html#l08889">wait_for_digits()</a>.</p>
<div class="fragment"><div class="line"><a name="l04713"></a><span class="lineno"> 4713</span>&#160;{</div><div class="line"><a name="l04714"></a><span class="lineno"> 4714</span>&#160;   pthread_t t;</div><div class="line"><a name="l04715"></a><span class="lineno"> 4715</span>&#160;</div><div class="line"><a name="l04716"></a><span class="lineno"> 4716</span>&#160;   <span class="keywordflow">if</span> (!c) {</div><div class="line"><a name="l04717"></a><span class="lineno"> 4717</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Asked to start thread on NULL channel?\n&quot;</span>);</div><div class="line"><a name="l04718"></a><span class="lineno"> 4718</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../db/de0/pbx_8h.html#a0e4eb357d2ef42629fbcf191a473f735a4a46cde728f5cd375af4f2d5b1542490">AST_PBX_FAILED</a>;</div><div class="line"><a name="l04719"></a><span class="lineno"> 4719</span>&#160;   }</div><div class="line"><a name="l04720"></a><span class="lineno"> 4720</span>&#160;</div><div class="line"><a name="l04721"></a><span class="lineno"> 4721</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a>(&amp;<a class="code" href="../../d6/dd6/group__main__options.html#gaa5dba371db31dc4ebecdff7c929ff263">ast_options</a>, <a class="code" href="../../d6/dd6/group__main__options.html#gaf2588453b3a373a770741ad3ce353343ade4cf3231c69af57ad0527bd46244680">AST_OPT_FLAG_FULLY_BOOTED</a>)) {</div><div class="line"><a name="l04722"></a><span class="lineno"> 4722</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;PBX requires Asterisk to be fully booted\n&quot;</span>);</div><div class="line"><a name="l04723"></a><span class="lineno"> 4723</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../db/de0/pbx_8h.html#a0e4eb357d2ef42629fbcf191a473f735a4a46cde728f5cd375af4f2d5b1542490">AST_PBX_FAILED</a>;</div><div class="line"><a name="l04724"></a><span class="lineno"> 4724</span>&#160;   }</div><div class="line"><a name="l04725"></a><span class="lineno"> 4725</span>&#160;</div><div class="line"><a name="l04726"></a><span class="lineno"> 4726</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../db/d94/pbx_8c.html#a829520d1350a9bfcd02e2106e5a22a24">increase_call_count</a>(c))</div><div class="line"><a name="l04727"></a><span class="lineno"> 4727</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../db/de0/pbx_8h.html#a0e4eb357d2ef42629fbcf191a473f735ab69a419c47206542956e9d933b6605f5">AST_PBX_CALL_LIMIT</a>;</div><div class="line"><a name="l04728"></a><span class="lineno"> 4728</span>&#160;</div><div class="line"><a name="l04729"></a><span class="lineno"> 4729</span>&#160;   <span class="comment">/* Start a new thread, and get something handling this channel. */</span></div><div class="line"><a name="l04730"></a><span class="lineno"> 4730</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d5/d60/utils_8h.html#a832647380b1f97e7ac1b4492f8816d46">ast_pthread_create_detached</a>(&amp;t, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../db/d94/pbx_8c.html#a61bf09bfdadba04e51d6576aa014e097">pbx_thread</a>, c)) {</div><div class="line"><a name="l04731"></a><span class="lineno"> 4731</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Failed to create new channel thread\n&quot;</span>);</div><div class="line"><a name="l04732"></a><span class="lineno"> 4732</span>&#160;      <a class="code" href="../../db/d94/pbx_8c.html#a3bf2bd297c32c358066446ceb1f4551b">decrease_call_count</a>();</div><div class="line"><a name="l04733"></a><span class="lineno"> 4733</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../db/de0/pbx_8h.html#a0e4eb357d2ef42629fbcf191a473f735a4a46cde728f5cd375af4f2d5b1542490">AST_PBX_FAILED</a>;</div><div class="line"><a name="l04734"></a><span class="lineno"> 4734</span>&#160;   }</div><div class="line"><a name="l04735"></a><span class="lineno"> 4735</span>&#160;</div><div class="line"><a name="l04736"></a><span class="lineno"> 4736</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../db/de0/pbx_8h.html#a0e4eb357d2ef42629fbcf191a473f735ae1482e87c137b03ef9f9c17cf4fb5ec4">AST_PBX_SUCCESS</a>;</div><div class="line"><a name="l04737"></a><span class="lineno"> 4737</span>&#160;}</div><div class="ttc" id="pbx_8h_html_a0e4eb357d2ef42629fbcf191a473f735ae1482e87c137b03ef9f9c17cf4fb5ec4"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a0e4eb357d2ef42629fbcf191a473f735ae1482e87c137b03ef9f9c17cf4fb5ec4">AST_PBX_SUCCESS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/de0/pbx_8h_source.html#l00355">pbx.h:355</a></div></div>
<div class="ttc" id="utils_8h_html_a832647380b1f97e7ac1b4492f8816d46"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a832647380b1f97e7ac1b4492f8816d46">ast_pthread_create_detached</a></div><div class="ttdeci">#define ast_pthread_create_detached(a, b, c, d)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00563">utils.h:563</a></div></div>
<div class="ttc" id="utils_8h_html_a00d4c9254c9827d6fa44f17a326744a5"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a></div><div class="ttdeci">#define ast_test_flag(p, flag)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00063">utils.h:63</a></div></div>
<div class="ttc" id="pbx_8c_html_a3bf2bd297c32c358066446ceb1f4551b"><div class="ttname"><a href="../../db/d94/pbx_8c.html#a3bf2bd297c32c358066446ceb1f4551b">decrease_call_count</a></div><div class="ttdeci">static void decrease_call_count(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l04670">pbx.c:4670</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="pbx_8c_html_a829520d1350a9bfcd02e2106e5a22a24"><div class="ttname"><a href="../../db/d94/pbx_8c.html#a829520d1350a9bfcd02e2106e5a22a24">increase_call_count</a></div><div class="ttdeci">static int increase_call_count(const struct ast_channel *c)</div><div class="ttdoc">Increase call count for channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l04621">pbx.c:4621</a></div></div>
<div class="ttc" id="pbx_8h_html_a0e4eb357d2ef42629fbcf191a473f735ab69a419c47206542956e9d933b6605f5"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a0e4eb357d2ef42629fbcf191a473f735ab69a419c47206542956e9d933b6605f5">AST_PBX_CALL_LIMIT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/de0/pbx_8h_source.html#l00357">pbx.h:357</a></div></div>
<div class="ttc" id="pbx_8h_html_a0e4eb357d2ef42629fbcf191a473f735a4a46cde728f5cd375af4f2d5b1542490"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a0e4eb357d2ef42629fbcf191a473f735a4a46cde728f5cd375af4f2d5b1542490">AST_PBX_FAILED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/de0/pbx_8h_source.html#l00356">pbx.h:356</a></div></div>
<div class="ttc" id="pbx_8c_html_a61bf09bfdadba04e51d6576aa014e097"><div class="ttname"><a href="../../db/d94/pbx_8c.html#a61bf09bfdadba04e51d6576aa014e097">pbx_thread</a></div><div class="ttdeci">static void * pbx_thread(void *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l04692">pbx.c:4692</a></div></div>
<div class="ttc" id="group__main__options_html_gaa5dba371db31dc4ebecdff7c929ff263"><div class="ttname"><a href="../../d6/dd6/group__main__options.html#gaa5dba371db31dc4ebecdff7c929ff263">ast_options</a></div><div class="ttdeci">struct ast_flags ast_options</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc5/options_8c_source.html#l00061">options.c:61</a></div></div>
<div class="ttc" id="group__main__options_html_gaf2588453b3a373a770741ad3ce353343ade4cf3231c69af57ad0527bd46244680"><div class="ttname"><a href="../../d6/dd6/group__main__options.html#gaf2588453b3a373a770741ad3ce353343ade4cf3231c69af57ad0527bd46244680">AST_OPT_FLAG_FULLY_BOOTED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5b/options_8h_source.html#l00058">options.h:58</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6cd4c64e374623ea3393fbc5d580f68e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6cd4c64e374623ea3393fbc5d580f68e">&#9670;&nbsp;</a></span>ast_processed_calls()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_processed_calls </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve the total number of calls processed through the PBX since last restart. </p>

<p class="definition">Definition at line <a class="el" href="../../db/d94/pbx_8c_source.html#l04769">4769</a> of file <a class="el" href="../../db/d94/pbx_8c_source.html">pbx.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/d94/pbx_8c_source.html#l00774">totalcalls</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d2b/agent_8c_source.html#l00638">ast_var_Config()</a>, <a class="el" href="../../df/d8d/channels_8c_source.html#l00095">get_total_call_count()</a>, <a class="el" href="../../df/dd3/main_2cli_8c_source.html#l01067">handle_chanlist()</a>, and <a class="el" href="../../df/dd3/main_2cli_8c_source.html#l01011">handle_showcalls()</a>.</p>
<div class="fragment"><div class="line"><a name="l04770"></a><span class="lineno"> 4770</span>&#160;{</div><div class="line"><a name="l04771"></a><span class="lineno"> 4771</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../db/d94/pbx_8c.html#a078330b9a32065ec6a0c0731c06719cd">totalcalls</a>;</div><div class="line"><a name="l04772"></a><span class="lineno"> 4772</span>&#160;}</div><div class="ttc" id="pbx_8c_html_a078330b9a32065ec6a0c0731c06719cd"><div class="ttname"><a href="../../db/d94/pbx_8c.html#a078330b9a32065ec6a0c0731c06719cd">totalcalls</a></div><div class="ttdeci">static int totalcalls</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l00774">pbx.c:774</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af1a624244a07626a8f70843005206c95"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af1a624244a07626a8f70843005206c95">&#9670;&nbsp;</a></span>ast_rdlock_context()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_rdlock_context </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d6/d7c/structast__context.html">ast_context</a> *&#160;</td>
          <td class="paramname"><em>con</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read locks a given context. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">con</td><td>context to lock</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>on success </td></tr>
    <tr><td class="paramname">-1</td><td>on failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../db/d94/pbx_8c_source.html#l08525">8525</a> of file <a class="el" href="../../db/d94/pbx_8c_source.html">pbx.c</a>.</p>

<p class="reference">References <a class="el" href="../../dd/d42/lock_8h_source.html#l00233">ast_rwlock_rdlock</a>, and <a class="el" href="../../db/d94/pbx_8c_source.html#l00285">ast_context::lock</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/d1b/app__macro_8c_source.html#l00236">_macro_exec()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l01488">complete_dialplan_remove_ignorepat()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00289">complete_dialplan_remove_include()</a>, <a class="el" href="../../d1/dc0/pbx__dundi_8c_source.html#l03972">dundi_precache_full()</a>, <a class="el" href="../../d1/d02/app__if_8c_source.html#l00134">find_matching_endif()</a>, <a class="el" href="../../d0/d8e/app__while_8c_source.html#l00152">find_matching_endwhile()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00809">handle_cli_dialplan_save()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00212">lookup_c_ip()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00188">lookup_ci()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l05864">manager_show_dialplan_helper()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l05677">show_debug_helper()</a>, and <a class="el" href="../../db/d94/pbx_8c_source.html#l05516">show_dialplan_helper()</a>.</p>
<div class="fragment"><div class="line"><a name="l08526"></a><span class="lineno"> 8526</span>&#160;{</div><div class="line"><a name="l08527"></a><span class="lineno"> 8527</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dd/d42/lock_8h.html#a7330ac9d36b05bad68b188c2dcfa42d7">ast_rwlock_rdlock</a>(&amp;con-&gt;<a class="code" href="../../d6/d7c/structast__context.html#ace4e0066a5b24f84b90536e9906619f6">lock</a>);</div><div class="line"><a name="l08528"></a><span class="lineno"> 8528</span>&#160;}</div><div class="ttc" id="lock_8h_html_a7330ac9d36b05bad68b188c2dcfa42d7"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a7330ac9d36b05bad68b188c2dcfa42d7">ast_rwlock_rdlock</a></div><div class="ttdeci">#define ast_rwlock_rdlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00233">lock.h:233</a></div></div>
<div class="ttc" id="structast__context_html_ace4e0066a5b24f84b90536e9906619f6"><div class="ttname"><a href="../../d6/d7c/structast__context.html#ace4e0066a5b24f84b90536e9906619f6">ast_context::lock</a></div><div class="ttdeci">ast_rwlock_t lock</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l00285">pbx.c:285</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa2c309331fff0a086ab8e216f803d546"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa2c309331fff0a086ab8e216f803d546">&#9670;&nbsp;</a></span>ast_rdlock_contexts()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_rdlock_contexts </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read locks the context list. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>on success </td></tr>
    <tr><td class="paramname">-1</td><td>on error </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../db/d94/pbx_8c_source.html#l08507">8507</a> of file <a class="el" href="../../db/d94/pbx_8c_source.html">pbx.c</a>.</p>

<p class="reference">References <a class="el" href="../../dd/d42/lock_8h_source.html#l00187">ast_mutex_lock</a>, and <a class="el" href="../../db/d94/pbx_8c_source.html#l00785">conlock</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/d1b/app__macro_8c_source.html#l00236">_macro_exec()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l02443">ast_context_find()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l06198">ast_context_find_or_create()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l02997">ast_hint_extension()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l06921">ast_ignore_pattern()</a>, <a class="el" href="../../dd/d16/pbx__app_8c_source.html#l00392">ast_unregister_application()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l01306">complete_dialplan_add_extension()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l01392">complete_dialplan_add_ignorepat()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00744">complete_dialplan_add_include()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l01277">complete_dialplan_remove_context()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00550">complete_dialplan_remove_extension()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l01488">complete_dialplan_remove_ignorepat()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00289">complete_dialplan_remove_include()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l05447">complete_show_dialplan_context()</a>, <a class="el" href="../../d1/dc0/pbx__dundi_8c_source.html#l03972">dundi_precache_full()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l04818">find_context_locked()</a>, <a class="el" href="../../d1/d02/app__if_8c_source.html#l00134">find_matching_endif()</a>, <a class="el" href="../../d0/d8e/app__while_8c_source.html#l00152">find_matching_endwhile()</a>, <a class="el" href="../../de/dbf/func__evalexten_8c_source.html#l00090">get_extension_data()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00809">handle_cli_dialplan_save()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l05864">manager_show_dialplan_helper()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l02875">pbx_extension_helper()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l05677">show_debug_helper()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l05516">show_dialplan_helper()</a>, and <a class="el" href="../../db/d94/pbx_8c_source.html#l06179">unreference_cached_app()</a>.</p>
<div class="fragment"><div class="line"><a name="l08508"></a><span class="lineno"> 8508</span>&#160;{</div><div class="line"><a name="l08509"></a><span class="lineno"> 8509</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dd/d42/lock_8h.html#ac5e13c7fe64d3b271a52028b0a78b92b">ast_mutex_lock</a>(&amp;<a class="code" href="../../db/d94/pbx_8c.html#a7470458bc954de8f3d698bd99b25aed5">conlock</a>);</div><div class="line"><a name="l08510"></a><span class="lineno"> 8510</span>&#160;}</div><div class="ttc" id="lock_8h_html_ac5e13c7fe64d3b271a52028b0a78b92b"><div class="ttname"><a href="../../dd/d42/lock_8h.html#ac5e13c7fe64d3b271a52028b0a78b92b">ast_mutex_lock</a></div><div class="ttdeci">#define ast_mutex_lock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00187">lock.h:187</a></div></div>
<div class="ttc" id="pbx_8c_html_a7470458bc954de8f3d698bd99b25aed5"><div class="ttname"><a href="../../db/d94/pbx_8c.html#a7470458bc954de8f3d698bd99b25aed5">conlock</a></div><div class="ttdeci">static ast_mutex_t conlock</div><div class="ttdoc">Lock for the ast_context list. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l00785">pbx.c:785</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a5297fa9c52ff50da5b08c7217d9251b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5297fa9c52ff50da5b08c7217d9251b4">&#9670;&nbsp;</a></span>ast_register_switch()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_register_switch </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d9/df6/structast__switch.html">ast_switch</a> *&#160;</td>
          <td class="paramname"><em>sw</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register an alternative dialplan switch. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sw</td><td>switch to register</td></tr>
  </table>
  </dd>
</dl>
<p>This function registers a populated <a class="el" href="../../d9/df6/structast__switch.html">ast_switch</a> structure with the asterisk switching architecture.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>success </td></tr>
    <tr><td class="paramname">non-zero</td><td>failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d2/df2/pbx__switch_8c_source.html#l00058">58</a> of file <a class="el" href="../../d2/df2/pbx__switch_8c_source.html">pbx_switch.c</a>.</p>

<p class="reference">References <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00740">AST_RWLIST_INSERT_TAIL</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00493">AST_RWLIST_TRAVERSE</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00150">AST_RWLIST_UNLOCK</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00051">AST_RWLIST_WRLOCK</a>, <a class="el" href="../../d9/df6/structast__switch.html#af89062e7ec533d49969a67fb6b5e8b74">ast_switch::list</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../db/de0/pbx_8h_source.html#l00162">ast_switch::name</a>, and <a class="el" href="../../de/d1e/bt__open_8c_source.html#l00389">tmp()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l14828">load_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;{</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/df6/structast__switch.html">ast_switch</a> *<a class="code" href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a>;</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a2d0cf4182bade9f773fb16ff12abe595">AST_RWLIST_WRLOCK</a>(&amp;<a class="code" href="../../d9/da9/structswitches.html">switches</a>);</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a944b82566722f2247aa35f1328402c98">AST_RWLIST_TRAVERSE</a>(&amp;<a class="code" href="../../d9/da9/structswitches.html">switches</a>, tmp, <a class="code" href="../../d9/df6/structast__switch.html#af89062e7ec533d49969a67fb6b5e8b74">list</a>) {</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;      <span class="keywordflow">if</span> (!strcasecmp(tmp-&gt;<a class="code" href="../../d9/df6/structast__switch.html#afcd1706c9144e6d6eee6127661ae3be2">name</a>, sw-&gt;<a class="code" href="../../d9/df6/structast__switch.html#afcd1706c9144e6d6eee6127661ae3be2">name</a>)) {</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;         <a class="code" href="../../df/d90/linkedlists_8h.html#a2e9a2518b5029b96671aff6701bd5138">AST_RWLIST_UNLOCK</a>(&amp;<a class="code" href="../../d9/da9/structswitches.html">switches</a>);</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Switch &#39;%s&#39; already found\n&quot;</span>, sw-&gt;<a class="code" href="../../d9/df6/structast__switch.html#afcd1706c9144e6d6eee6127661ae3be2">name</a>);</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;         <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;      }</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;   }</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#aadda916488b2d151af4426e2f06ad332">AST_RWLIST_INSERT_TAIL</a>(&amp;<a class="code" href="../../d9/da9/structswitches.html">switches</a>, sw, <a class="code" href="../../d9/df6/structast__switch.html#af89062e7ec533d49969a67fb6b5e8b74">list</a>);</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a2e9a2518b5029b96671aff6701bd5138">AST_RWLIST_UNLOCK</a>(&amp;<a class="code" href="../../d9/da9/structswitches.html">switches</a>);</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;}</div><div class="ttc" id="structast__switch_html"><div class="ttname"><a href="../../d9/df6/structast__switch.html">ast_switch</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/de0/pbx_8h_source.html#l00160">pbx.h:160</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a2d0cf4182bade9f773fb16ff12abe595"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a2d0cf4182bade9f773fb16ff12abe595">AST_RWLIST_WRLOCK</a></div><div class="ttdeci">#define AST_RWLIST_WRLOCK(head)</div><div class="ttdoc">Write locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00051">linkedlists.h:51</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="bt__open_8c_html_a1cdd2bb1a9a71d3e1120100229315d67"><div class="ttname"><a href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a></div><div class="ttdeci">static int tmp()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1e/bt__open_8c_source.html#l00389">bt_open.c:389</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a2e9a2518b5029b96671aff6701bd5138"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a2e9a2518b5029b96671aff6701bd5138">AST_RWLIST_UNLOCK</a></div><div class="ttdeci">#define AST_RWLIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a read/write based list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00150">linkedlists.h:150</a></div></div>
<div class="ttc" id="structast__switch_html_afcd1706c9144e6d6eee6127661ae3be2"><div class="ttname"><a href="../../d9/df6/structast__switch.html#afcd1706c9144e6d6eee6127661ae3be2">ast_switch::name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de0/pbx_8h_source.html#l00162">pbx.h:162</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a944b82566722f2247aa35f1328402c98"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a944b82566722f2247aa35f1328402c98">AST_RWLIST_TRAVERSE</a></div><div class="ttdeci">#define AST_RWLIST_TRAVERSE</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00493">linkedlists.h:493</a></div></div>
<div class="ttc" id="structswitches_html"><div class="ttname"><a href="../../d9/da9/structswitches.html">switches</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/df2/pbx__switch_8c_source.html#l00038">pbx_switch.c:38</a></div></div>
<div class="ttc" id="linkedlists_8h_html_aadda916488b2d151af4426e2f06ad332"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#aadda916488b2d151af4426e2f06ad332">AST_RWLIST_INSERT_TAIL</a></div><div class="ttdeci">#define AST_RWLIST_INSERT_TAIL</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00740">linkedlists.h:740</a></div></div>
<div class="ttc" id="structast__switch_html_af89062e7ec533d49969a67fb6b5e8b74"><div class="ttname"><a href="../../d9/df6/structast__switch.html#af89062e7ec533d49969a67fb6b5e8b74">ast_switch::list</a></div><div class="ttdeci">struct ast_switch::@278 list</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a94ca71e502d95d1cb0a815072e059aee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a94ca71e502d95d1cb0a815072e059aee">&#9670;&nbsp;</a></span>ast_spawn_extension()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_spawn_extension </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>exten</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>priority</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>callerid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>found</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>combined_find_spawn</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Launch a new extension (i.e. new stack) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">c</td><td>not important </td></tr>
    <tr><td class="paramname">context</td><td>which context to generate the extension within </td></tr>
    <tr><td class="paramname">exten</td><td>new extension to add </td></tr>
    <tr><td class="paramname">priority</td><td>priority of new extension </td></tr>
    <tr><td class="paramname">callerid</td><td>callerid of extension </td></tr>
    <tr><td class="paramname">found</td><td></td></tr>
    <tr><td class="paramname">combined_find_spawn</td><td>This adds a new extension to the asterisk extension list.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>It is possible for autoservice to be started and stopped on c during this function call, it is important that c is not locked prior to calling this. Otherwise a deadlock may occur</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>on success </td></tr>
    <tr><td class="paramname">-1</td><td>on failure. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../db/d94/pbx_8c_source.html#l04204">4204</a> of file <a class="el" href="../../db/d94/pbx_8c_source.html">pbx.c</a>.</p>

<p class="reference">References <a class="el" href="../../dd/ddb/extconf_8h_source.html#l00220">E_SPAWN</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../db/d94/pbx_8c_source.html#l02875">pbx_extension_helper()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d94/pbx_8c_source.html#l04310">__ast_pbx_run()</a>, <a class="el" href="../../d0/d1b/app__macro_8c_source.html#l00236">_macro_exec()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l04209">ast_pbx_h_exten_run()</a>, <a class="el" href="../../d1/d71/app__stack_8c_source.html#l00970">gosub_run()</a>, and <a class="el" href="../../d8/d48/pbx__loopback_8c_source.html#l00150">loopback_exec()</a>.</p>
<div class="fragment"><div class="line"><a name="l04205"></a><span class="lineno"> 4205</span>&#160;{</div><div class="line"><a name="l04206"></a><span class="lineno"> 4206</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../db/d94/pbx_8c.html#ae381d99bea85b43f022470b64171018d">pbx_extension_helper</a>(c, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a>, <a class="code" href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>, <a class="code" href="../../d9/d47/cdr__beanstalkd_8c.html#acec9ce2df15222151ad66fcb1d74eb9f">priority</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, callerid, <a class="code" href="../../dd/ddb/extconf_8h.html#a2b7f0fafc6995b2630658a4fd8df26bea8f986496ee140e4c7167ae25ad28d0ee">E_SPAWN</a>, found, combined_find_spawn);</div><div class="line"><a name="l04207"></a><span class="lineno"> 4207</span>&#160;}</div><div class="ttc" id="chan__alsa_8c_html_a78d4847658b695383d849efd12399b38"><div class="ttname"><a href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a></div><div class="ttdeci">static char exten[AST_MAX_EXTENSION]</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d45/chan__alsa_8c_source.html#l00118">chan_alsa.c:118</a></div></div>
<div class="ttc" id="extconf_8h_html_a2b7f0fafc6995b2630658a4fd8df26bea8f986496ee140e4c7167ae25ad28d0ee"><div class="ttname"><a href="../../dd/ddb/extconf_8h.html#a2b7f0fafc6995b2630658a4fd8df26bea8f986496ee140e4c7167ae25ad28d0ee">E_SPAWN</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/ddb/extconf_8h_source.html#l00220">extconf.h:220</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="cdr__beanstalkd_8c_html_acec9ce2df15222151ad66fcb1d74eb9f"><div class="ttname"><a href="../../d9/d47/cdr__beanstalkd_8c.html#acec9ce2df15222151ad66fcb1d74eb9f">priority</a></div><div class="ttdeci">static int priority</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d47/cdr__beanstalkd_8c_source.html#l00076">cdr_beanstalkd.c:76</a></div></div>
<div class="ttc" id="chan__alsa_8c_html_ac25ea00ee3f082df06e0cf468cbde240"><div class="ttname"><a href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a></div><div class="ttdeci">static char context[AST_MAX_CONTEXT]</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d45/chan__alsa_8c_source.html#l00116">chan_alsa.c:116</a></div></div>
<div class="ttc" id="pbx_8c_html_ae381d99bea85b43f022470b64171018d"><div class="ttname"><a href="../../db/d94/pbx_8c.html#ae381d99bea85b43f022470b64171018d">pbx_extension_helper</a></div><div class="ttdeci">static int pbx_extension_helper(struct ast_channel *c, struct ast_context *con, const char *context, const char *exten, int priority, const char *label, const char *callerid, enum ext_match_t action, int *found, int combined_find_spawn)</div><div class="ttdoc">The return value depends on the action: </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l02875">pbx.c:2875</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aea38e9b2b0f0aa337444fcc030e12730"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aea38e9b2b0f0aa337444fcc030e12730">&#9670;&nbsp;</a></span>ast_str_get_hint()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_str_get_hint </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dd/da2/structast__str.html">ast_str</a> **&#160;</td>
          <td class="paramname"><em>hint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ssize_t&#160;</td>
          <td class="paramname"><em>hintsize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../dd/da2/structast__str.html">ast_str</a> **&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ssize_t&#160;</td>
          <td class="paramname"><em>namesize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>exten</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>If an extension hint exists, return non-zero. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hint</td><td>buffer for hint </td></tr>
    <tr><td class="paramname">hintsize</td><td>Maximum size of hint buffer (&lt;0 to prevent growth, &gt;0 to limit growth to that number of bytes, or 0 for unlimited growth) </td></tr>
    <tr><td class="paramname">name</td><td>buffer for name portion of hint </td></tr>
    <tr><td class="paramname">namesize</td><td>Maximum size of name buffer (&lt;0 to prevent growth, &gt;0 to limit growth to that number of bytes, or 0 for unlimited growth) </td></tr>
    <tr><td class="paramname">c</td><td>Channel from which to return the hint. This is only important when the hint or name contains an expression to be expanded. </td></tr>
    <tr><td class="paramname">context</td><td>which context to look in </td></tr>
    <tr><td class="paramname">exten</td><td>which extension to search for</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>If an extension within the given context with the priority PRIORITY_HINT is found, a non zero value will be returned. Otherwise, 0 is returned.</dd></dl>
<p>If an extension hint exists, return non-zero. </p>

<p class="definition">Definition at line <a class="el" href="../../db/d94/pbx_8c_source.html#l04159">4159</a> of file <a class="el" href="../../db/d94/pbx_8c_source.html">pbx.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/d94/pbx_8c_source.html#l08596">ast_get_extension_app()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08601">ast_get_extension_app_data()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l02997">ast_hint_extension()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l01065">ast_str_set()</a>, and <a class="el" href="../../de/d1e/bt__open_8c_source.html#l00389">tmp()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d8c/pbx__variables_8c_source.html#l00246">ast_str_retrieve_variable()</a>.</p>
<div class="fragment"><div class="line"><a name="l04160"></a><span class="lineno"> 4160</span>&#160;{</div><div class="line"><a name="l04161"></a><span class="lineno"> 4161</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d7/d00/structast__exten.html">ast_exten</a> *e = <a class="code" href="../../db/d94/pbx_8c.html#a666d27d15c01c2b36dd8523a0146ba40">ast_hint_extension</a>(c, <a class="code" href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a>, <a class="code" href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>);</div><div class="line"><a name="l04162"></a><span class="lineno"> 4162</span>&#160;</div><div class="line"><a name="l04163"></a><span class="lineno"> 4163</span>&#160;   <span class="keywordflow">if</span> (!e) {</div><div class="line"><a name="l04164"></a><span class="lineno"> 4164</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l04165"></a><span class="lineno"> 4165</span>&#160;   }</div><div class="line"><a name="l04166"></a><span class="lineno"> 4166</span>&#160;</div><div class="line"><a name="l04167"></a><span class="lineno"> 4167</span>&#160;   <span class="keywordflow">if</span> (hint) {</div><div class="line"><a name="l04168"></a><span class="lineno"> 4168</span>&#160;      <a class="code" href="../../d6/d90/strings_8h.html#aa3341f35cedca29e60bb7f3927204283">ast_str_set</a>(hint, hintsize, <span class="stringliteral">&quot;%s&quot;</span>, <a class="code" href="../../db/d94/pbx_8c.html#a6594bb017b4d4fe1bc42370cc32ec974">ast_get_extension_app</a>(e));</div><div class="line"><a name="l04169"></a><span class="lineno"> 4169</span>&#160;   }</div><div class="line"><a name="l04170"></a><span class="lineno"> 4170</span>&#160;   <span class="keywordflow">if</span> (name) {</div><div class="line"><a name="l04171"></a><span class="lineno"> 4171</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a> = <a class="code" href="../../db/d94/pbx_8c.html#ac0a6c0c39796f36864868365d8989f02">ast_get_extension_app_data</a>(e);</div><div class="line"><a name="l04172"></a><span class="lineno"> 4172</span>&#160;      <span class="keywordflow">if</span> (tmp) {</div><div class="line"><a name="l04173"></a><span class="lineno"> 4173</span>&#160;         <a class="code" href="../../d6/d90/strings_8h.html#aa3341f35cedca29e60bb7f3927204283">ast_str_set</a>(name, namesize, <span class="stringliteral">&quot;%s&quot;</span>, tmp);</div><div class="line"><a name="l04174"></a><span class="lineno"> 4174</span>&#160;      }</div><div class="line"><a name="l04175"></a><span class="lineno"> 4175</span>&#160;   }</div><div class="line"><a name="l04176"></a><span class="lineno"> 4176</span>&#160;   <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l04177"></a><span class="lineno"> 4177</span>&#160;}</div><div class="ttc" id="chan__alsa_8c_html_a78d4847658b695383d849efd12399b38"><div class="ttname"><a href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a></div><div class="ttdeci">static char exten[AST_MAX_EXTENSION]</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d45/chan__alsa_8c_source.html#l00118">chan_alsa.c:118</a></div></div>
<div class="ttc" id="structast__exten_html"><div class="ttname"><a href="../../d7/d00/structast__exten.html">ast_exten</a></div><div class="ttdoc">ast_exten: An extension The dialplan is saved as a linked list with each context having it&amp;#39;s own link...</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l00237">pbx.c:237</a></div></div>
<div class="ttc" id="bt__open_8c_html_a1cdd2bb1a9a71d3e1120100229315d67"><div class="ttname"><a href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a></div><div class="ttdeci">static int tmp()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1e/bt__open_8c_source.html#l00389">bt_open.c:389</a></div></div>
<div class="ttc" id="pbx_8c_html_ac0a6c0c39796f36864868365d8989f02"><div class="ttname"><a href="../../db/d94/pbx_8c.html#ac0a6c0c39796f36864868365d8989f02">ast_get_extension_app_data</a></div><div class="ttdeci">void * ast_get_extension_app_data(struct ast_exten *e)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l08601">pbx.c:8601</a></div></div>
<div class="ttc" id="strings_8h_html_aa3341f35cedca29e60bb7f3927204283"><div class="ttname"><a href="../../d6/d90/strings_8h.html#aa3341f35cedca29e60bb7f3927204283">ast_str_set</a></div><div class="ttdeci">int ast_str_set(struct ast_str **buf, ssize_t max_len, const char *fmt,...)</div><div class="ttdoc">Set a dynamic string using variable arguments. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l01065">strings.h:1065</a></div></div>
<div class="ttc" id="pbx_8c_html_a666d27d15c01c2b36dd8523a0146ba40"><div class="ttname"><a href="../../db/d94/pbx_8c.html#a666d27d15c01c2b36dd8523a0146ba40">ast_hint_extension</a></div><div class="ttdeci">static struct ast_exten * ast_hint_extension(struct ast_channel *c, const char *context, const char *exten)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l02997">pbx.c:2997</a></div></div>
<div class="ttc" id="pbx_8c_html_a6594bb017b4d4fe1bc42370cc32ec974"><div class="ttname"><a href="../../db/d94/pbx_8c.html#a6594bb017b4d4fe1bc42370cc32ec974">ast_get_extension_app</a></div><div class="ttdeci">const char * ast_get_extension_app(struct ast_exten *e)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l08596">pbx.c:8596</a></div></div>
<div class="ttc" id="chan__alsa_8c_html_ac25ea00ee3f082df06e0cf468cbde240"><div class="ttname"><a href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a></div><div class="ttdeci">static char context[AST_MAX_CONTEXT]</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d45/chan__alsa_8c_source.html#l00116">chan_alsa.c:116</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2ddba5e9da6f9b512561b7fe4c15c5d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2ddba5e9da6f9b512561b7fe4c15c5d2">&#9670;&nbsp;</a></span>ast_str_retrieve_variable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* ast_str_retrieve_variable </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dd/da2/structast__str.html">ast_str</a> **&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ssize_t&#160;</td>
          <td class="paramname"><em>maxlen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../dd/de6/structvarshead.html">varshead</a> *&#160;</td>
          <td class="paramname"><em>headp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>var</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buf</td><td>Result will be placed in this buffer. </td></tr>
    <tr><td class="paramname">maxlen</td><td>-1 if the buffer should not grow, 0 if the buffer may grow to any size, and &gt;0 if the buffer should grow only to that number of bytes. </td></tr>
    <tr><td class="paramname">chan</td><td>Channel variables from which to extract values, and channel to pass to any dialplan functions. </td></tr>
    <tr><td class="paramname">headp</td><td>If no channel is specified, a channel list from which to extract variable values </td></tr>
    <tr><td class="paramname">var</td><td>Variable name to retrieve. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d8c/pbx__variables_8c_source.html#l00246">246</a> of file <a class="el" href="../../d3/d8c/pbx__variables_8c_source.html">pbx_variables.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/dfe/isdn__lib_8c_source.html#l00042">ARRAY_LEN</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00888">ast_channel_caller()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00344">ast_channel_context()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00904">ast_channel_dialed()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00353">ast_channel_exten()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00427">ast_channel_hangupcause()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02945">ast_channel_lock</a>, <a class="el" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00444">ast_channel_priority()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00305">ast_channel_uniqueid()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00932">ast_channel_varshead()</a>, <a class="el" href="../../de/dc5/options_8c_source.html#l00160">ast_config_AST_AGI_DIR</a>, <a class="el" href="../../de/dc5/options_8c_source.html#l00150">ast_config_AST_CACHE_DIR</a>, <a class="el" href="../../de/dc5/options_8c_source.html#l00151">ast_config_AST_CONFIG_DIR</a>, <a class="el" href="../../de/dc5/options_8c_source.html#l00158">ast_config_AST_DATA_DIR</a>, <a class="el" href="../../de/dc5/options_8c_source.html#l00165">ast_config_AST_DB</a>, <a class="el" href="../../de/dc5/options_8c_source.html#l00161">ast_config_AST_KEY_DIR</a>, <a class="el" href="../../de/dc5/options_8c_source.html#l00159">ast_config_AST_LOG_DIR</a>, <a class="el" href="../../de/dc5/options_8c_source.html#l00153">ast_config_AST_MODULE_DIR</a>, <a class="el" href="../../de/dc5/options_8c_source.html#l00162">ast_config_AST_RUN_DIR</a>, <a class="el" href="../../de/dc5/options_8c_source.html#l00154">ast_config_AST_SPOOL_DIR</a>, <a class="el" href="../../de/dc5/options_8c_source.html#l00170">ast_config_AST_SYSTEM_NAME</a>, <a class="el" href="../../de/dc5/options_8c_source.html#l00157">ast_config_AST_VAR_DIR</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../de/dc5/options_8c_source.html#l00093">ast_eid_default</a>, <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l02587">ast_eid_to_str()</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00490">AST_LIST_TRAVERSE</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l01821">ast_party_id_presentation()</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00233">ast_rwlock_rdlock</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00232">ast_rwlock_unlock</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00714">ast_str_buffer()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l04159">ast_str_get_hint()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l01065">ast_str_set()</a>, <a class="el" href="../../d3/d8c/pbx__variables_8c_source.html#l00185">ast_str_substring()</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00300">ast_strdupa</a>, <a class="el" href="../../d9/df9/chanvars_8c_source.html#l00060">ast_var_name()</a>, <a class="el" href="../../d9/df9/chanvars_8c_source.html#l00080">ast_var_value()</a>, <a class="el" href="../../d0/d7d/structast__var__t.html#a55d5c7988e3164d7310d88c67d97a1db">ast_var_t::entries</a>, <a class="el" href="../../d3/d8c/pbx__variables_8c_source.html#l00108">globalslock</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../d3/d8c/pbx__variables_8c_source.html#l00116">parse_variable_name()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/d20/resource__asterisk_8c_source.html#l00780">ast_ari_asterisk_get_global_var()</a>, <a class="el" href="../../da/d49/resource__channels_8c_source.html#l01472">ast_ari_channels_get_channel_var()</a>, <a class="el" href="../../d3/d8c/pbx__variables_8c_source.html#l00394">ast_str_substitute_variables_full()</a>, and <a class="el" href="../../d3/d8c/pbx__variables_8c_source.html#l00235">pbx_retrieve_variable()</a>.</p>
<div class="fragment"><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;{</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> not_found = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;   <span class="keywordtype">char</span> *tmpvar;</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *ret;</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *s; <span class="comment">/* the result */</span></div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;   <span class="keywordtype">int</span> offset, length;</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;   <span class="keywordtype">int</span> i, need_substring;</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/de6/structvarshead.html">varshead</a> *places[2] = { headp, &amp;<a class="code" href="../../d3/d8c/pbx__variables_8c.html#aec3689c71194f8504dafc644005a97db">globals</a> };  <span class="comment">/* list of places where we may look */</span></div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;   <span class="keywordtype">char</span> workspace[20];</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>) {</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>);</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;      places[0] = <a class="code" href="../../d5/d7b/channel_8h.html#add6255866ea1651a90cf70d963c4920a">ast_channel_varshead</a>(<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>);</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;   }</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;   <span class="comment">/*</span></div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;<span class="comment">    * Make a copy of var because parse_variable_name() modifies the string.</span></div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;<span class="comment">    * Then if called directly, we might need to run substring() on the result;</span></div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;<span class="comment">    * remember this for later in &#39;need_substring&#39;, &#39;offset&#39; and &#39;length&#39;</span></div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;   tmpvar = <a class="code" href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a>(<a class="code" href="../../dc/df2/ast__expr2f_8c.html#a1b0936415a643c88ce543099c10e0d7f">var</a>); <span class="comment">/* parse_variable_name modifies the string */</span></div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;   need_substring = <a class="code" href="../../d3/d8c/pbx__variables_8c.html#ac280b071ffa8f9e016cc011d77c41a86">parse_variable_name</a>(tmpvar, &amp;offset, &amp;length, &amp;i <span class="comment">/* ignored */</span>);</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;   <span class="comment">/*</span></div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;<span class="comment">    * Look first into predefined variables, then into variable lists.</span></div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;<span class="comment">    * Variable &#39;s&#39; points to the result, according to the following rules:</span></div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;<span class="comment">    * s == &amp;not_found (set at the beginning) means that we did not find a</span></div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;<span class="comment">    * matching variable and need to look into more places.</span></div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;<span class="comment">    * If s != &amp;not_found, s is a valid result string as follows:</span></div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;<span class="comment">    * s = NULL if the variable does not have a value;</span></div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;<span class="comment">    * you typically do this when looking for an unset predefined variable.</span></div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;<span class="comment">    * s = workspace if the result has been assembled there;</span></div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;<span class="comment">    * typically done when the result is built e.g. with an snprintf(),</span></div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;<span class="comment">    * so we don&#39;t need to do an additional copy.</span></div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;<span class="comment">    * s != workspace in case we have a string, that needs to be copied</span></div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;<span class="comment">    * (the ast_copy_string is done once for all at the end).</span></div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;<span class="comment">    * Typically done when the result is already available in some string.</span></div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;   s = &amp;not_found;   <span class="comment">/* default value */</span></div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>) { <span class="comment">/* This group requires a valid channel */</span></div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;      <span class="comment">/* Names with common parts are looked up a piece at a time using strncmp. */</span></div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;      <span class="keywordflow">if</span> (!strncmp(<a class="code" href="../../dc/df2/ast__expr2f_8c.html#a1b0936415a643c88ce543099c10e0d7f">var</a>, <span class="stringliteral">&quot;CALL&quot;</span>, 4)) {</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;         <span class="keywordflow">if</span> (!strncmp(<a class="code" href="../../dc/df2/ast__expr2f_8c.html#a1b0936415a643c88ce543099c10e0d7f">var</a> + 4, <span class="stringliteral">&quot;ING&quot;</span>, 3)) {</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;            <span class="keywordflow">if</span> (!strcmp(<a class="code" href="../../dc/df2/ast__expr2f_8c.html#a1b0936415a643c88ce543099c10e0d7f">var</a> + 7, <span class="stringliteral">&quot;PRES&quot;</span>)) {        <span class="comment">/* CALLINGPRES */</span></div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;               <a class="code" href="../../d6/d90/strings_8h.html#aa3341f35cedca29e60bb7f3927204283">ast_str_set</a>(<a class="code" href="../../de/dcd/app__jack_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a>, maxlen, <span class="stringliteral">&quot;%d&quot;</span>,</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;                  <a class="code" href="../../d5/d7b/channel_8h.html#a39aac47fef1240391fd97e055522fd83">ast_party_id_presentation</a>(&amp;<a class="code" href="../../d5/d7b/channel_8h.html#ac2dc872b606534943c98304aed841b34">ast_channel_caller</a>(<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>)-&gt;<span class="keywordtype">id</span>));</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;               s = <a class="code" href="../../d6/d90/strings_8h.html#a1ef7e2644ca7258070db316fdc0a465b">ast_str_buffer</a>(*<a class="code" href="../../de/dcd/app__jack_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a>);</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(<a class="code" href="../../dc/df2/ast__expr2f_8c.html#a1b0936415a643c88ce543099c10e0d7f">var</a> + 7, <span class="stringliteral">&quot;ANI2&quot;</span>)) {    <span class="comment">/* CALLINGANI2 */</span></div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;               <a class="code" href="../../d6/d90/strings_8h.html#aa3341f35cedca29e60bb7f3927204283">ast_str_set</a>(<a class="code" href="../../de/dcd/app__jack_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a>, maxlen, <span class="stringliteral">&quot;%d&quot;</span>, <a class="code" href="../../d5/d7b/channel_8h.html#ac2dc872b606534943c98304aed841b34">ast_channel_caller</a>(<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>)-&gt;ani2);</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;               s = <a class="code" href="../../d6/d90/strings_8h.html#a1ef7e2644ca7258070db316fdc0a465b">ast_str_buffer</a>(*<a class="code" href="../../de/dcd/app__jack_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a>);</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(<a class="code" href="../../dc/df2/ast__expr2f_8c.html#a1b0936415a643c88ce543099c10e0d7f">var</a> + 7, <span class="stringliteral">&quot;TON&quot;</span>)) {     <span class="comment">/* CALLINGTON */</span></div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;               <a class="code" href="../../d6/d90/strings_8h.html#aa3341f35cedca29e60bb7f3927204283">ast_str_set</a>(<a class="code" href="../../de/dcd/app__jack_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a>, maxlen, <span class="stringliteral">&quot;%d&quot;</span>, <a class="code" href="../../d5/d7b/channel_8h.html#ac2dc872b606534943c98304aed841b34">ast_channel_caller</a>(<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>)-&gt;<span class="keywordtype">id</span>.<a class="code" href="../../d6/d49/structnumber.html">number</a>.plan);</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;               s = <a class="code" href="../../d6/d90/strings_8h.html#a1ef7e2644ca7258070db316fdc0a465b">ast_str_buffer</a>(*<a class="code" href="../../de/dcd/app__jack_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a>);</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(<a class="code" href="../../dc/df2/ast__expr2f_8c.html#a1b0936415a643c88ce543099c10e0d7f">var</a> + 7, <span class="stringliteral">&quot;TNS&quot;</span>)) {     <span class="comment">/* CALLINGTNS */</span></div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;               <a class="code" href="../../d6/d90/strings_8h.html#aa3341f35cedca29e60bb7f3927204283">ast_str_set</a>(<a class="code" href="../../de/dcd/app__jack_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a>, maxlen, <span class="stringliteral">&quot;%d&quot;</span>, <a class="code" href="../../d5/d7b/channel_8h.html#a63732831df3e7a0999b0900ec85c626a">ast_channel_dialed</a>(<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>)-&gt;transit_network_select);</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;               s = <a class="code" href="../../d6/d90/strings_8h.html#a1ef7e2644ca7258070db316fdc0a465b">ast_str_buffer</a>(*<a class="code" href="../../de/dcd/app__jack_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a>);</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;            }</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;         }</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(<a class="code" href="../../dc/df2/ast__expr2f_8c.html#a1b0936415a643c88ce543099c10e0d7f">var</a>, <span class="stringliteral">&quot;HINT&quot;</span>)) {</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;         s = <a class="code" href="../../db/de0/pbx_8h.html#aea38e9b2b0f0aa337444fcc030e12730">ast_str_get_hint</a>(<a class="code" href="../../de/dcd/app__jack_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a>, maxlen, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0, <a class="code" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>, <a class="code" href="../../d5/d7b/channel_8h.html#a582dee4d5ea9b2ff6f309f0c5239f6bd">ast_channel_context</a>(<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>), <a class="code" href="../../d5/d7b/channel_8h.html#aa8b52fbc8168e939bc5553502367d46a">ast_channel_exten</a>(<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>)) ? <a class="code" href="../../d6/d90/strings_8h.html#a1ef7e2644ca7258070db316fdc0a465b">ast_str_buffer</a>(*<a class="code" href="../../de/dcd/app__jack_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a>) : <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(<a class="code" href="../../dc/df2/ast__expr2f_8c.html#a1b0936415a643c88ce543099c10e0d7f">var</a>, <span class="stringliteral">&quot;HINTNAME&quot;</span>)) {</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;         s = <a class="code" href="../../db/de0/pbx_8h.html#aea38e9b2b0f0aa337444fcc030e12730">ast_str_get_hint</a>(<a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0, <a class="code" href="../../de/dcd/app__jack_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a>, maxlen, <a class="code" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>, <a class="code" href="../../d5/d7b/channel_8h.html#a582dee4d5ea9b2ff6f309f0c5239f6bd">ast_channel_context</a>(<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>), <a class="code" href="../../d5/d7b/channel_8h.html#aa8b52fbc8168e939bc5553502367d46a">ast_channel_exten</a>(<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>)) ? <a class="code" href="../../d6/d90/strings_8h.html#a1ef7e2644ca7258070db316fdc0a465b">ast_str_buffer</a>(*<a class="code" href="../../de/dcd/app__jack_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a>) : <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(<a class="code" href="../../dc/df2/ast__expr2f_8c.html#a1b0936415a643c88ce543099c10e0d7f">var</a>, <span class="stringliteral">&quot;EXTEN&quot;</span>)) {</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;         s = <a class="code" href="../../d5/d7b/channel_8h.html#aa8b52fbc8168e939bc5553502367d46a">ast_channel_exten</a>(<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>);</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(<a class="code" href="../../dc/df2/ast__expr2f_8c.html#a1b0936415a643c88ce543099c10e0d7f">var</a>, <span class="stringliteral">&quot;CONTEXT&quot;</span>)) {</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;         s = <a class="code" href="../../d5/d7b/channel_8h.html#a582dee4d5ea9b2ff6f309f0c5239f6bd">ast_channel_context</a>(<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>);</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(<a class="code" href="../../dc/df2/ast__expr2f_8c.html#a1b0936415a643c88ce543099c10e0d7f">var</a>, <span class="stringliteral">&quot;PRIORITY&quot;</span>)) {</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;         <a class="code" href="../../d6/d90/strings_8h.html#aa3341f35cedca29e60bb7f3927204283">ast_str_set</a>(<a class="code" href="../../de/dcd/app__jack_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a>, maxlen, <span class="stringliteral">&quot;%d&quot;</span>, <a class="code" href="../../d5/d7b/channel_8h.html#a6610c8171ced0a69738622c11736ff5e">ast_channel_priority</a>(<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>));</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;         s = <a class="code" href="../../d6/d90/strings_8h.html#a1ef7e2644ca7258070db316fdc0a465b">ast_str_buffer</a>(*<a class="code" href="../../de/dcd/app__jack_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a>);</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(<a class="code" href="../../dc/df2/ast__expr2f_8c.html#a1b0936415a643c88ce543099c10e0d7f">var</a>, <span class="stringliteral">&quot;CHANNEL&quot;</span>)) {</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;         s = <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>);</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(<a class="code" href="../../dc/df2/ast__expr2f_8c.html#a1b0936415a643c88ce543099c10e0d7f">var</a>, <span class="stringliteral">&quot;UNIQUEID&quot;</span>)) {</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;         s = <a class="code" href="../../d5/d7b/channel_8h.html#a3b6254f6d3832ef928f0a727113b1c63">ast_channel_uniqueid</a>(<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>);</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(<a class="code" href="../../dc/df2/ast__expr2f_8c.html#a1b0936415a643c88ce543099c10e0d7f">var</a>, <span class="stringliteral">&quot;HANGUPCAUSE&quot;</span>)) {</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;         <a class="code" href="../../d6/d90/strings_8h.html#aa3341f35cedca29e60bb7f3927204283">ast_str_set</a>(<a class="code" href="../../de/dcd/app__jack_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a>, maxlen, <span class="stringliteral">&quot;%d&quot;</span>, <a class="code" href="../../d5/d7b/channel_8h.html#aa04afa262d7e1b211ee32d17c949a275">ast_channel_hangupcause</a>(<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>));</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;         s = <a class="code" href="../../d6/d90/strings_8h.html#a1ef7e2644ca7258070db316fdc0a465b">ast_str_buffer</a>(*<a class="code" href="../../de/dcd/app__jack_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a>);</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;      }</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;   }</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;   <span class="keywordflow">if</span> (s == &amp;not_found) { <span class="comment">/* look for more */</span></div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;      <span class="keywordflow">if</span> (!strcmp(<a class="code" href="../../dc/df2/ast__expr2f_8c.html#a1b0936415a643c88ce543099c10e0d7f">var</a>, <span class="stringliteral">&quot;EPOCH&quot;</span>)) {</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;         <a class="code" href="../../d6/d90/strings_8h.html#aa3341f35cedca29e60bb7f3927204283">ast_str_set</a>(<a class="code" href="../../de/dcd/app__jack_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a>, maxlen, <span class="stringliteral">&quot;%d&quot;</span>, (<span class="keywordtype">int</span>) time(<a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>));</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;         s = <a class="code" href="../../d6/d90/strings_8h.html#a1ef7e2644ca7258070db316fdc0a465b">ast_str_buffer</a>(*<a class="code" href="../../de/dcd/app__jack_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a>);</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(<a class="code" href="../../dc/df2/ast__expr2f_8c.html#a1b0936415a643c88ce543099c10e0d7f">var</a>, <span class="stringliteral">&quot;SYSTEMNAME&quot;</span>)) {</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;         s = <a class="code" href="../../dd/df2/paths_8h.html#ab9f9346c7a41bdf3720f7b1ed02ec703">ast_config_AST_SYSTEM_NAME</a>;</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(<a class="code" href="../../dc/df2/ast__expr2f_8c.html#a1b0936415a643c88ce543099c10e0d7f">var</a>, <span class="stringliteral">&quot;ASTCACHEDIR&quot;</span>)) {</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;         s = <a class="code" href="../../dd/df2/paths_8h.html#a1de8f27469b9469f968154c725a9f1b3">ast_config_AST_CACHE_DIR</a>;</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(<a class="code" href="../../dc/df2/ast__expr2f_8c.html#a1b0936415a643c88ce543099c10e0d7f">var</a>, <span class="stringliteral">&quot;ASTETCDIR&quot;</span>)) {</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;         s = <a class="code" href="../../dd/df2/paths_8h.html#a7d3836e5581e433c9f5edd30300cc187">ast_config_AST_CONFIG_DIR</a>;</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(<a class="code" href="../../dc/df2/ast__expr2f_8c.html#a1b0936415a643c88ce543099c10e0d7f">var</a>, <span class="stringliteral">&quot;ASTMODDIR&quot;</span>)) {</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;         s = <a class="code" href="../../dd/df2/paths_8h.html#a5852d8e3bf5485c09b0f3d2c2375eec3">ast_config_AST_MODULE_DIR</a>;</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(<a class="code" href="../../dc/df2/ast__expr2f_8c.html#a1b0936415a643c88ce543099c10e0d7f">var</a>, <span class="stringliteral">&quot;ASTVARLIBDIR&quot;</span>)) {</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;         s = <a class="code" href="../../dd/df2/paths_8h.html#ab6e1cd3d774ab1b31836a8777d3a812d">ast_config_AST_VAR_DIR</a>;</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(<a class="code" href="../../dc/df2/ast__expr2f_8c.html#a1b0936415a643c88ce543099c10e0d7f">var</a>, <span class="stringliteral">&quot;ASTDBDIR&quot;</span>)) {</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;         s = <a class="code" href="../../dd/df2/paths_8h.html#af89b8aa53d5b08a03b56f5163805bd97">ast_config_AST_DB</a>;</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(<a class="code" href="../../dc/df2/ast__expr2f_8c.html#a1b0936415a643c88ce543099c10e0d7f">var</a>, <span class="stringliteral">&quot;ASTKEYDIR&quot;</span>)) {</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;         s = <a class="code" href="../../dd/df2/paths_8h.html#a0334adace37c0e8de8ea89c8651336a2">ast_config_AST_KEY_DIR</a>;</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(<a class="code" href="../../dc/df2/ast__expr2f_8c.html#a1b0936415a643c88ce543099c10e0d7f">var</a>, <span class="stringliteral">&quot;ASTDATADIR&quot;</span>)) {</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;         s = <a class="code" href="../../dd/df2/paths_8h.html#a63af4213b5b83f717398d8d62008a50d">ast_config_AST_DATA_DIR</a>;</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(<a class="code" href="../../dc/df2/ast__expr2f_8c.html#a1b0936415a643c88ce543099c10e0d7f">var</a>, <span class="stringliteral">&quot;ASTAGIDIR&quot;</span>)) {</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;         s = <a class="code" href="../../dd/df2/paths_8h.html#a9b39aef5b661559fc470307cb315a417">ast_config_AST_AGI_DIR</a>;</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(<a class="code" href="../../dc/df2/ast__expr2f_8c.html#a1b0936415a643c88ce543099c10e0d7f">var</a>, <span class="stringliteral">&quot;ASTSPOOLDIR&quot;</span>)) {</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;         s = <a class="code" href="../../dd/df2/paths_8h.html#a95c5b4ffe620dc96d1ea9311b35c4d4f">ast_config_AST_SPOOL_DIR</a>;</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(<a class="code" href="../../dc/df2/ast__expr2f_8c.html#a1b0936415a643c88ce543099c10e0d7f">var</a>, <span class="stringliteral">&quot;ASTRUNDIR&quot;</span>)) {</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;         s = <a class="code" href="../../dd/df2/paths_8h.html#a6014e29009d7db30e546a244c2cc95b6">ast_config_AST_RUN_DIR</a>;</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(<a class="code" href="../../dc/df2/ast__expr2f_8c.html#a1b0936415a643c88ce543099c10e0d7f">var</a>, <span class="stringliteral">&quot;ASTLOGDIR&quot;</span>)) {</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;         s = <a class="code" href="../../dd/df2/paths_8h.html#aea5e16ca2517e2093fdfa0e7fd112f0f">ast_config_AST_LOG_DIR</a>;</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(<a class="code" href="../../dc/df2/ast__expr2f_8c.html#a1b0936415a643c88ce543099c10e0d7f">var</a>, <span class="stringliteral">&quot;ENTITYID&quot;</span>)) {</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;         <a class="code" href="../../d5/d60/utils_8h.html#a8ebf6841073ea2a063a0c86a5092a85b">ast_eid_to_str</a>(workspace, <span class="keyword">sizeof</span>(workspace), &amp;<a class="code" href="../../d5/d60/utils_8h.html#ad5db11fa27352e2b9a3c669adc76955f">ast_eid_default</a>);</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;         s = workspace;</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;      }</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;   }</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;   <span class="comment">/* if not found, look into chanvars or global vars */</span></div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;   <span class="keywordflow">for</span> (i = 0; s == &amp;not_found &amp;&amp; i &lt; <a class="code" href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a>(places); i++) {</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;      <span class="keyword">struct </span><a class="code" href="../../d0/d7d/structast__var__t.html">ast_var_t</a> *variables;</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;      <span class="keywordflow">if</span> (!places[i])</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;         <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;      <span class="keywordflow">if</span> (places[i] == &amp;globals)</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;         <a class="code" href="../../dd/d42/lock_8h.html#a7330ac9d36b05bad68b188c2dcfa42d7">ast_rwlock_rdlock</a>(&amp;<a class="code" href="../../d3/d8c/pbx__variables_8c.html#a3bbd0f743b066c2670d7301b078f6510">globalslock</a>);</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;      <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(places[i], variables, <a class="code" href="../../d0/d7d/structast__var__t.html#a55d5c7988e3164d7310d88c67d97a1db">entries</a>) {</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;         <span class="keywordflow">if</span> (!strcmp(<a class="code" href="../../d9/de7/chanvars_8h.html#a356a31cd608ec07d3668dcd589be49d8">ast_var_name</a>(variables), <a class="code" href="../../dc/df2/ast__expr2f_8c.html#a1b0936415a643c88ce543099c10e0d7f">var</a>)) {</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;            s = <a class="code" href="../../d9/de7/chanvars_8h.html#a8e0081172db71c5021d20706c50d959c">ast_var_value</a>(variables);</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;         }</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;      }</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;      <span class="keywordflow">if</span> (places[i] == &amp;globals)</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;         <a class="code" href="../../dd/d42/lock_8h.html#ac2920a1db37313ec46bd91dc83bf9c8a">ast_rwlock_unlock</a>(&amp;<a class="code" href="../../d3/d8c/pbx__variables_8c.html#a3bbd0f743b066c2670d7301b078f6510">globalslock</a>);</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;   }</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;   <span class="keywordflow">if</span> (s == &amp;not_found || s == <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(5, <span class="stringliteral">&quot;Result of &#39;%s&#39; is NULL\n&quot;</span>, <a class="code" href="../../dc/df2/ast__expr2f_8c.html#a1b0936415a643c88ce543099c10e0d7f">var</a>);</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;      ret = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(5, <span class="stringliteral">&quot;Result of &#39;%s&#39; is &#39;%s&#39;\n&quot;</span>, <a class="code" href="../../dc/df2/ast__expr2f_8c.html#a1b0936415a643c88ce543099c10e0d7f">var</a>, s);</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;      <span class="keywordflow">if</span> (s != <a class="code" href="../../d6/d90/strings_8h.html#a1ef7e2644ca7258070db316fdc0a465b">ast_str_buffer</a>(*<a class="code" href="../../de/dcd/app__jack_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a>)) {</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;         <a class="code" href="../../d6/d90/strings_8h.html#aa3341f35cedca29e60bb7f3927204283">ast_str_set</a>(<a class="code" href="../../de/dcd/app__jack_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a>, maxlen, <span class="stringliteral">&quot;%s&quot;</span>, s);</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;      }</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;      ret = <a class="code" href="../../d6/d90/strings_8h.html#a1ef7e2644ca7258070db316fdc0a465b">ast_str_buffer</a>(*<a class="code" href="../../de/dcd/app__jack_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a>);</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;      <span class="keywordflow">if</span> (need_substring) {</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;         ret = <a class="code" href="../../d3/d8c/pbx__variables_8c.html#ad96d1367fe3f50cc96690a056fc49744">ast_str_substring</a>(*<a class="code" href="../../de/dcd/app__jack_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a>, offset, length);</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;         <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(2, <span class="stringliteral">&quot;Final result of &#39;%s&#39; is &#39;%s&#39;\n&quot;</span>, <a class="code" href="../../dc/df2/ast__expr2f_8c.html#a1b0936415a643c88ce543099c10e0d7f">var</a>, ret);</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;      }</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;   }</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>) {</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>);</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;   }</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;   <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;}</div><div class="ttc" id="channel_8h_html_ac2dc872b606534943c98304aed841b34"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#ac2dc872b606534943c98304aed841b34">ast_channel_caller</a></div><div class="ttdeci">struct ast_party_caller * ast_channel_caller(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00888">channel_internal_api.c:888</a></div></div>
<div class="ttc" id="paths_8h_html_a0334adace37c0e8de8ea89c8651336a2"><div class="ttname"><a href="../../dd/df2/paths_8h.html#a0334adace37c0e8de8ea89c8651336a2">ast_config_AST_KEY_DIR</a></div><div class="ttdeci">const char * ast_config_AST_KEY_DIR</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc5/options_8c_source.html#l00161">options.c:161</a></div></div>
<div class="ttc" id="lock_8h_html_a7330ac9d36b05bad68b188c2dcfa42d7"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a7330ac9d36b05bad68b188c2dcfa42d7">ast_rwlock_rdlock</a></div><div class="ttdeci">#define ast_rwlock_rdlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00233">lock.h:233</a></div></div>
<div class="ttc" id="channel_8h_html_a493bdebe876caafb8ee535853310364a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a></div><div class="ttdeci">#define ast_channel_lock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02945">channel.h:2945</a></div></div>
<div class="ttc" id="paths_8h_html_a1de8f27469b9469f968154c725a9f1b3"><div class="ttname"><a href="../../dd/df2/paths_8h.html#a1de8f27469b9469f968154c725a9f1b3">ast_config_AST_CACHE_DIR</a></div><div class="ttdeci">const char * ast_config_AST_CACHE_DIR</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc5/options_8c_source.html#l00150">options.c:150</a></div></div>
<div class="ttc" id="isdn__lib_8c_html_ab9129b977a587b50ea801daac75e178f"><div class="ttname"><a href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a></div><div class="ttdeci">#define ARRAY_LEN(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dfe/isdn__lib_8c_source.html#l00042">isdn_lib.c:42</a></div></div>
<div class="ttc" id="paths_8h_html_af89b8aa53d5b08a03b56f5163805bd97"><div class="ttname"><a href="../../dd/df2/paths_8h.html#af89b8aa53d5b08a03b56f5163805bd97">ast_config_AST_DB</a></div><div class="ttdeci">const char * ast_config_AST_DB</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc5/options_8c_source.html#l00165">options.c:165</a></div></div>
<div class="ttc" id="utils_8h_html_a8ebf6841073ea2a063a0c86a5092a85b"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a8ebf6841073ea2a063a0c86a5092a85b">ast_eid_to_str</a></div><div class="ttdeci">char * ast_eid_to_str(char *s, int maxlen, struct ast_eid *eid)</div><div class="ttdoc">Convert an EID to a string. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1f/main_2utils_8c_source.html#l02587">main/utils.c:2587</a></div></div>
<div class="ttc" id="chanvars_8h_html_a8e0081172db71c5021d20706c50d959c"><div class="ttname"><a href="../../d9/de7/chanvars_8h.html#a8e0081172db71c5021d20706c50d959c">ast_var_value</a></div><div class="ttdeci">const char * ast_var_value(const struct ast_var_t *var)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/df9/chanvars_8c_source.html#l00080">chanvars.c:80</a></div></div>
<div class="ttc" id="paths_8h_html_a5852d8e3bf5485c09b0f3d2c2375eec3"><div class="ttname"><a href="../../dd/df2/paths_8h.html#a5852d8e3bf5485c09b0f3d2c2375eec3">ast_config_AST_MODULE_DIR</a></div><div class="ttdeci">const char * ast_config_AST_MODULE_DIR</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc5/options_8c_source.html#l00153">options.c:153</a></div></div>
<div class="ttc" id="chanvars_8h_html_a356a31cd608ec07d3668dcd589be49d8"><div class="ttname"><a href="../../d9/de7/chanvars_8h.html#a356a31cd608ec07d3668dcd589be49d8">ast_var_name</a></div><div class="ttdeci">const char * ast_var_name(const struct ast_var_t *var)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/df9/chanvars_8c_source.html#l00060">chanvars.c:60</a></div></div>
<div class="ttc" id="pbx__variables_8c_html_ac280b071ffa8f9e016cc011d77c41a86"><div class="ttname"><a href="../../d3/d8c/pbx__variables_8c.html#ac280b071ffa8f9e016cc011d77c41a86">parse_variable_name</a></div><div class="ttdeci">static int parse_variable_name(char *var, int *offset, int *length, int *isfunc)</div><div class="ttdoc">extract offset:length from variable name. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d8c/pbx__variables_8c_source.html#l00116">pbx_variables.c:116</a></div></div>
<div class="ttc" id="strings_8h_html_a1ef7e2644ca7258070db316fdc0a465b"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a1ef7e2644ca7258070db316fdc0a465b">ast_str_buffer</a></div><div class="ttdeci">char * ast_str_buffer(const struct ast_str *buf)</div><div class="ttdoc">Returns the string buffer within the ast_str buf. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00714">strings.h:714</a></div></div>
<div class="ttc" id="channel_8h_html_a39aac47fef1240391fd97e055522fd83"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a39aac47fef1240391fd97e055522fd83">ast_party_id_presentation</a></div><div class="ttdeci">int ast_party_id_presentation(const struct ast_party_id *id)</div><div class="ttdoc">Determine the overall presentation value for the given party. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l01821">channel.c:1821</a></div></div>
<div class="ttc" id="ast__expr2f_8c_html_a1b0936415a643c88ce543099c10e0d7f"><div class="ttname"><a href="../../dc/df2/ast__expr2f_8c.html#a1b0936415a643c88ce543099c10e0d7f">var</a></div><div class="ttdeci">#define var</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/ast__expr2f_8c_source.html#l00614">ast_expr2f.c:614</a></div></div>
<div class="ttc" id="paths_8h_html_a6014e29009d7db30e546a244c2cc95b6"><div class="ttname"><a href="../../dd/df2/paths_8h.html#a6014e29009d7db30e546a244c2cc95b6">ast_config_AST_RUN_DIR</a></div><div class="ttdeci">const char * ast_config_AST_RUN_DIR</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc5/options_8c_source.html#l00162">options.c:162</a></div></div>
<div class="ttc" id="test__linkedlists_8c_html_acd9db00336027462cfb25b97b5356883"><div class="ttname"><a href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a></div><div class="ttdeci">static struct test_val c</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d6f/test__linkedlists_8c_source.html#l00048">test_linkedlists.c:48</a></div></div>
<div class="ttc" id="app__jack_8c_html_af25d6dc49269fa2003ac7c7fa6f13915"><div class="ttname"><a href="../../de/dcd/app__jack_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a></div><div class="ttdeci">const char * str</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00147">app_jack.c:147</a></div></div>
<div class="ttc" id="channel_8h_html_add6255866ea1651a90cf70d963c4920a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#add6255866ea1651a90cf70d963c4920a">ast_channel_varshead</a></div><div class="ttdeci">struct varshead * ast_channel_varshead(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00932">channel_internal_api.c:932</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="pbx_8h_html_aea38e9b2b0f0aa337444fcc030e12730"><div class="ttname"><a href="../../db/de0/pbx_8h.html#aea38e9b2b0f0aa337444fcc030e12730">ast_str_get_hint</a></div><div class="ttdeci">int ast_str_get_hint(struct ast_str **hint, ssize_t hintsize, struct ast_str **name, ssize_t namesize, struct ast_channel *c, const char *context, const char *exten)</div><div class="ttdoc">If an extension hint exists, return non-zero. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l04159">pbx.c:4159</a></div></div>
<div class="ttc" id="lock_8h_html_ac2920a1db37313ec46bd91dc83bf9c8a"><div class="ttname"><a href="../../dd/d42/lock_8h.html#ac2920a1db37313ec46bd91dc83bf9c8a">ast_rwlock_unlock</a></div><div class="ttdeci">#define ast_rwlock_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00232">lock.h:232</a></div></div>
<div class="ttc" id="channel_8h_html_a6610c8171ced0a69738622c11736ff5e"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a6610c8171ced0a69738622c11736ff5e">ast_channel_priority</a></div><div class="ttdeci">int ast_channel_priority(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00444">channel_internal_api.c:444</a></div></div>
<div class="ttc" id="paths_8h_html_ab9f9346c7a41bdf3720f7b1ed02ec703"><div class="ttname"><a href="../../dd/df2/paths_8h.html#ab9f9346c7a41bdf3720f7b1ed02ec703">ast_config_AST_SYSTEM_NAME</a></div><div class="ttdeci">const char * ast_config_AST_SYSTEM_NAME</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc5/options_8c_source.html#l00170">options.c:170</a></div></div>
<div class="ttc" id="structnumber_html"><div class="ttname"><a href="../../d6/d49/structnumber.html">number</a></div><div class="ttdoc">Number structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d55/app__followme_8c_source.html#l00154">app_followme.c:154</a></div></div>
<div class="ttc" id="pbx__variables_8c_html_ad96d1367fe3f50cc96690a056fc49744"><div class="ttname"><a href="../../d3/d8c/pbx__variables_8c.html#ad96d1367fe3f50cc96690a056fc49744">ast_str_substring</a></div><div class="ttdeci">static const char * ast_str_substring(struct ast_str *value, int offset, int length)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d8c/pbx__variables_8c_source.html#l00185">pbx_variables.c:185</a></div></div>
<div class="ttc" id="strings_8h_html_aa3341f35cedca29e60bb7f3927204283"><div class="ttname"><a href="../../d6/d90/strings_8h.html#aa3341f35cedca29e60bb7f3927204283">ast_str_set</a></div><div class="ttdeci">int ast_str_set(struct ast_str **buf, ssize_t max_len, const char *fmt,...)</div><div class="ttdoc">Set a dynamic string using variable arguments. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l01065">strings.h:1065</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="paths_8h_html_a9b39aef5b661559fc470307cb315a417"><div class="ttname"><a href="../../dd/df2/paths_8h.html#a9b39aef5b661559fc470307cb315a417">ast_config_AST_AGI_DIR</a></div><div class="ttdeci">const char * ast_config_AST_AGI_DIR</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc5/options_8c_source.html#l00160">options.c:160</a></div></div>
<div class="ttc" id="astmm_8h_html_ab5f0750cc80ba337fdcbddea2d3a1ee6"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a></div><div class="ttdeci">#define ast_strdupa(s)</div><div class="ttdoc">duplicate a string in memory from the stack </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00300">astmm.h:300</a></div></div>
<div class="ttc" id="channel_8h_html_aa8b52fbc8168e939bc5553502367d46a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#aa8b52fbc8168e939bc5553502367d46a">ast_channel_exten</a></div><div class="ttdeci">const char * ast_channel_exten(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00353">channel_internal_api.c:353</a></div></div>
<div class="ttc" id="channel_8h_html_a3b6254f6d3832ef928f0a727113b1c63"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a3b6254f6d3832ef928f0a727113b1c63">ast_channel_uniqueid</a></div><div class="ttdeci">const char * ast_channel_uniqueid(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00305">channel_internal_api.c:305</a></div></div>
<div class="ttc" id="paths_8h_html_a63af4213b5b83f717398d8d62008a50d"><div class="ttname"><a href="../../dd/df2/paths_8h.html#a63af4213b5b83f717398d8d62008a50d">ast_config_AST_DATA_DIR</a></div><div class="ttdeci">const char * ast_config_AST_DATA_DIR</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc5/options_8c_source.html#l00158">options.c:158</a></div></div>
<div class="ttc" id="structast__var__t_html"><div class="ttname"><a href="../../d0/d7d/structast__var__t.html">ast_var_t</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de7/chanvars_8h_source.html#l00028">chanvars.h:28</a></div></div>
<div class="ttc" id="paths_8h_html_a7d3836e5581e433c9f5edd30300cc187"><div class="ttname"><a href="../../dd/df2/paths_8h.html#a7d3836e5581e433c9f5edd30300cc187">ast_config_AST_CONFIG_DIR</a></div><div class="ttdeci">const char * ast_config_AST_CONFIG_DIR</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc5/options_8c_source.html#l00151">options.c:151</a></div></div>
<div class="ttc" id="structvarshead_html"><div class="ttname"><a href="../../dd/de6/structvarshead.html">varshead</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de7/chanvars_8h_source.html#l00034">chanvars.h:34</a></div></div>
<div class="ttc" id="channel_8h_html_a63732831df3e7a0999b0900ec85c626a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a63732831df3e7a0999b0900ec85c626a">ast_channel_dialed</a></div><div class="ttdeci">struct ast_party_dialed * ast_channel_dialed(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00904">channel_internal_api.c:904</a></div></div>
<div class="ttc" id="pbx__variables_8c_html_aec3689c71194f8504dafc644005a97db"><div class="ttname"><a href="../../d3/d8c/pbx__variables_8c.html#aec3689c71194f8504dafc644005a97db">globals</a></div><div class="ttdeci">static struct varshead globals</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d8c/pbx__variables_8c_source.html#l00109">pbx_variables.c:109</a></div></div>
<div class="ttc" id="paths_8h_html_aea5e16ca2517e2093fdfa0e7fd112f0f"><div class="ttname"><a href="../../dd/df2/paths_8h.html#aea5e16ca2517e2093fdfa0e7fd112f0f">ast_config_AST_LOG_DIR</a></div><div class="ttdeci">const char * ast_config_AST_LOG_DIR</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc5/options_8c_source.html#l00159">options.c:159</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a3008b2f4f236b72d8bcfb80e346324ef"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a></div><div class="ttdeci">#define AST_LIST_TRAVERSE(head, var, field)</div><div class="ttdoc">Loops over (traverses) the entries in a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00490">linkedlists.h:490</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="structast__var__t_html_a55d5c7988e3164d7310d88c67d97a1db"><div class="ttname"><a href="../../d0/d7d/structast__var__t.html#a55d5c7988e3164d7310d88c67d97a1db">ast_var_t::entries</a></div><div class="ttdeci">struct ast_var_t::@249 entries</div></div>
<div class="ttc" id="paths_8h_html_a95c5b4ffe620dc96d1ea9311b35c4d4f"><div class="ttname"><a href="../../dd/df2/paths_8h.html#a95c5b4ffe620dc96d1ea9311b35c4d4f">ast_config_AST_SPOOL_DIR</a></div><div class="ttdeci">const char * ast_config_AST_SPOOL_DIR</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc5/options_8c_source.html#l00154">options.c:154</a></div></div>
<div class="ttc" id="utils_8h_html_ad5db11fa27352e2b9a3c669adc76955f"><div class="ttname"><a href="../../d5/d60/utils_8h.html#ad5db11fa27352e2b9a3c669adc76955f">ast_eid_default</a></div><div class="ttdeci">struct ast_eid ast_eid_default</div><div class="ttdoc">Global EID. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc5/options_8c_source.html#l00093">options.c:93</a></div></div>
<div class="ttc" id="channel_8h_html_aa04afa262d7e1b211ee32d17c949a275"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#aa04afa262d7e1b211ee32d17c949a275">ast_channel_hangupcause</a></div><div class="ttdeci">int ast_channel_hangupcause(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00427">channel_internal_api.c:427</a></div></div>
<div class="ttc" id="pbx__variables_8c_html_a3bbd0f743b066c2670d7301b078f6510"><div class="ttname"><a href="../../d3/d8c/pbx__variables_8c.html#a3bbd0f743b066c2670d7301b078f6510">globalslock</a></div><div class="ttdeci">static ast_rwlock_t globalslock</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d8c/pbx__variables_8c_source.html#l00108">pbx_variables.c:108</a></div></div>
<div class="ttc" id="channel_8h_html_a7ca2fda13b129a55c251b56729de285b"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a></div><div class="ttdeci">const char * ast_channel_name(const struct ast_channel *chan)</div></div>
<div class="ttc" id="channel_8h_html_a582dee4d5ea9b2ff6f309f0c5239f6bd"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a582dee4d5ea9b2ff6f309f0c5239f6bd">ast_channel_context</a></div><div class="ttdeci">const char * ast_channel_context(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00344">channel_internal_api.c:344</a></div></div>
<div class="ttc" id="paths_8h_html_ab6e1cd3d774ab1b31836a8777d3a812d"><div class="ttname"><a href="../../dd/df2/paths_8h.html#ab6e1cd3d774ab1b31836a8777d3a812d">ast_config_AST_VAR_DIR</a></div><div class="ttdeci">const char * ast_config_AST_VAR_DIR</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc5/options_8c_source.html#l00157">options.c:157</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a556749361c7b9109134c8d00ab4ef6bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a556749361c7b9109134c8d00ab4ef6bf">&#9670;&nbsp;</a></span>ast_str_substitute_variables()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_str_substitute_variables </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dd/da2/structast__str.html">ast_str</a> **&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ssize_t&#160;</td>
          <td class="paramname"><em>maxlen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>templ</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buf</td><td>Result will be placed in this buffer. </td></tr>
    <tr><td class="paramname">maxlen</td><td>-1 if the buffer should not grow, 0 if the buffer may grow to any size, and &gt;0 if the buffer should grow only to that number of bytes. </td></tr>
    <tr><td class="paramname">chan</td><td>Channel variables from which to extract values, and channel to pass to any dialplan functions. </td></tr>
    <tr><td class="paramname">templ</td><td>Variable template to expand. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d8c/pbx__variables_8c_source.html#l00616">616</a> of file <a class="el" href="../../d3/d8c/pbx__variables_8c_source.html">pbx_variables.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d8c/pbx__variables_8c_source.html#l00394">ast_str_substitute_variables_full()</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/d1b/app__macro_8c_source.html#l00236">_macro_exec()</a>, <a class="el" href="../../dc/d1d/func__odbc_8c_source.html#l00725">acf_odbc_read()</a>, <a class="el" href="../../dc/d1d/func__odbc_8c_source.html#l00509">acf_odbc_write()</a>, <a class="el" href="../../d8/d06/sip_2dialplan__functions_8c_source.html#l00359">AST_TEST_DEFINE()</a>, <a class="el" href="../../dc/d1d/func__odbc_8c_source.html#l01430">cli_odbc_read()</a>, <a class="el" href="../../dc/d1d/func__odbc_8c_source.html#l01643">cli_odbc_write()</a>, <a class="el" href="../../de/d36/res__config__curl_8c_source.html#l00515">config_curl()</a>, <a class="el" href="../../d2/df4/cdr__custom_8c_source.html#l00129">custom_log()</a>, <a class="el" href="../../da/db0/func__cut_8c_source.html#l00153">cut_internal()</a>, <a class="el" href="../../de/d36/res__config__curl_8c_source.html#l00415">destroy_curl()</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00741">do_notify()</a>, <a class="el" href="../../d9/d7c/app__exec_8c_source.html#l00133">exec_exec()</a>, <a class="el" href="../../d9/d3d/func__channel_8c_source.html#l00714">func_mchan_read()</a>, <a class="el" href="../../d9/d1e/func__strings_8c_source.html#l01451">function_eval2()</a>, <a class="el" href="../../d9/d1e/func__strings_8c_source.html#l00503">function_fieldnum_helper()</a>, <a class="el" href="../../d9/d1e/func__strings_8c_source.html#l00440">function_fieldqty_helper()</a>, <a class="el" href="../../dd/de9/res__agi_8c_source.html#l03239">handle_getvariablefull()</a>, <a class="el" href="../../da/dd2/func__logic_8c_source.html#l00236">import_helper()</a>, <a class="el" href="../../d9/d1e/func__strings_8c_source.html#l00582">listfilter()</a>, <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l05085">make_email_file()</a>, <a class="el" href="../../de/d36/res__config__curl_8c_source.html#l00061">realtime_curl()</a>, <a class="el" href="../../de/d36/res__config__curl_8c_source.html#l00132">realtime_multi_curl()</a>, <a class="el" href="../../d9/d1e/func__strings_8c_source.html#l00790">replace()</a>, <a class="el" href="../../de/d36/res__config__curl_8c_source.html#l00464">require_curl()</a>, <a class="el" href="../../d3/d32/bridge__channel_8c_source.html#l01211">run_app_helper()</a>, <a class="el" href="../../de/dfe/app__minivm_8c_source.html#l01234">sendmail()</a>, <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l05571">sendpage()</a>, <a class="el" href="../../d9/d1e/func__strings_8c_source.html#l01568">shift_pop()</a>, <a class="el" href="../../de/d36/res__config__curl_8c_source.html#l00354">store_curl()</a>, <a class="el" href="../../d9/d1e/func__strings_8c_source.html#l00859">strreplace()</a>, <a class="el" href="../../d3/de4/cdr__syslog_8c_source.html#l00086">syslog_log()</a>, <a class="el" href="../../dd/d55/test__substitution_8c_source.html#l00176">test_2way_function()</a>, <a class="el" href="../../dd/d55/test__substitution_8c_source.html#l00153">test_chan_function()</a>, <a class="el" href="../../dd/d55/test__substitution_8c_source.html#l00048">test_chan_integer()</a>, <a class="el" href="../../dd/d55/test__substitution_8c_source.html#l00072">test_chan_integer_accessor()</a>, <a class="el" href="../../dd/d55/test__substitution_8c_source.html#l00096">test_chan_string()</a>, <a class="el" href="../../dd/d55/test__substitution_8c_source.html#l00123">test_chan_variable()</a>, <a class="el" href="../../dd/d55/test__substitution_8c_source.html#l00202">test_expected_result()</a>, <a class="el" href="../../d9/d7c/app__exec_8c_source.html#l00167">tryexec_exec()</a>, <a class="el" href="../../d9/d1e/func__strings_8c_source.html#l01628">unshift_push()</a>, <a class="el" href="../../de/d36/res__config__curl_8c_source.html#l00281">update2_curl()</a>, and <a class="el" href="../../de/d36/res__config__curl_8c_source.html#l00232">update_curl()</a>.</p>
<div class="fragment"><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;{</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;   <a class="code" href="../../d3/d8c/pbx__variables_8c.html#a8dabe2c61eaa45af79ad2d40182e60bd">ast_str_substitute_variables_full</a>(buf, maxlen, chan, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, templ, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;}</div><div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="pbx__variables_8c_html_a8dabe2c61eaa45af79ad2d40182e60bd"><div class="ttname"><a href="../../d3/d8c/pbx__variables_8c.html#a8dabe2c61eaa45af79ad2d40182e60bd">ast_str_substitute_variables_full</a></div><div class="ttdeci">void ast_str_substitute_variables_full(struct ast_str **buf, ssize_t maxlen, struct ast_channel *c, struct varshead *headp, const char *templ, size_t *used)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d8c/pbx__variables_8c_source.html#l00394">pbx_variables.c:394</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a8dabe2c61eaa45af79ad2d40182e60bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8dabe2c61eaa45af79ad2d40182e60bd">&#9670;&nbsp;</a></span>ast_str_substitute_variables_full()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_str_substitute_variables_full </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dd/da2/structast__str.html">ast_str</a> **&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ssize_t&#160;</td>
          <td class="paramname"><em>maxlen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../dd/de6/structvarshead.html">varshead</a> *&#160;</td>
          <td class="paramname"><em>headp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>templ</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>used</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buf</td><td>Result will be placed in this buffer. </td></tr>
    <tr><td class="paramname">maxlen</td><td>-1 if the buffer should not grow, 0 if the buffer may grow to any size, and &gt;0 if the buffer should grow only to that number of bytes. </td></tr>
    <tr><td class="paramname">c</td><td>Channel variables from which to extract values, and channel to pass to any dialplan functions. </td></tr>
    <tr><td class="paramname">headp</td><td>If no channel is specified, a channel list from which to extract variable values </td></tr>
    <tr><td class="paramname">templ</td><td>Variable template to expand. </td></tr>
    <tr><td class="paramname">used</td><td>Number of bytes read from the template. (May be NULL) </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d8c/pbx__variables_8c_source.html#l00394">394</a> of file <a class="el" href="../../d3/d8c/pbx__variables_8c_source.html">pbx_variables.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d7b/channel_8h_source.html#l02981">ast_channel_unref</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00932">ast_channel_varshead()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l01283">ast_dummy_channel_alloc</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../db/d70/pbx__functions_8c_source.html#l00642">ast_func_read2()</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l01091">ast_str_append()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l01014">ast_str_append_substr()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00714">ast_str_buffer()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00620">ast_str_create</a>, <a class="el" href="../../dc/df2/ast__expr2f_8c_source.html#l02447">ast_str_expr()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00653">ast_str_reset()</a>, <a class="el" href="../../d3/d8c/pbx__variables_8c_source.html#l00246">ast_str_retrieve_variable()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l01007">ast_str_set_substr()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00688">ast_str_strlen()</a>, <a class="el" href="../../d3/d8c/pbx__variables_8c_source.html#l00185">ast_str_substring()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../d9/d1e/func__strings_8c_source.html#l01344">len()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../d3/d8c/pbx__variables_8c_source.html#l00116">parse_variable_name()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d8c/pbx__variables_8c_source.html#l00616">ast_str_substitute_variables()</a>, and <a class="el" href="../../d3/d8c/pbx__variables_8c_source.html#l00621">ast_str_substitute_variables_varshead()</a>.</p>
<div class="fragment"><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;{</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;   <span class="comment">/* Substitutes variables into buf, based on string templ */</span></div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *whereweare;</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/da2/structast__str.html">ast_str</a> *substr1 = <a class="code" href="../../d6/d90/strings_8h.html#a9c34c6c6b8daaba24c0406270f3cf697">ast_str_create</a>(16);</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/da2/structast__str.html">ast_str</a> *substr2 = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/da2/structast__str.html">ast_str</a> *substr3 = <a class="code" href="../../d6/d90/strings_8h.html#a9c34c6c6b8daaba24c0406270f3cf697">ast_str_create</a>(16);</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;   <a class="code" href="../../d6/d90/strings_8h.html#a8239b9ad10367bfc936e9b60ff7706a8">ast_str_reset</a>(*buf);</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;   <span class="keywordflow">if</span> (!substr1 || !substr3) {</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;      <span class="keywordflow">if</span> (used) {</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;         *used = <a class="code" href="../../d6/d90/strings_8h.html#aabc005bd1c7e249e8f8659d57d4500b6">ast_str_strlen</a>(*buf);</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;      }</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(substr1);</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(substr3);</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;   }</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;   whereweare = templ;</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;   <span class="keywordflow">while</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(whereweare)) {</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">char</span> *nextvar = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">char</span> *nextexp = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">char</span> *nextthing;</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">char</span> *vars;</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">char</span> *vare;</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;      <span class="keywordtype">char</span> *finalvars;</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;      <span class="keywordtype">int</span> pos;</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;      <span class="keywordtype">int</span> brackets;</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;      <span class="keywordtype">int</span> needsub;</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;      <span class="keywordtype">int</span> <a class="code" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>;</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;      <span class="comment">/* reset our buffer */</span></div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;      <a class="code" href="../../d6/d90/strings_8h.html#a8239b9ad10367bfc936e9b60ff7706a8">ast_str_reset</a>(substr3);</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;      <span class="comment">/* Determine how much simply needs to be copied to the output buf. */</span></div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;      nextthing = strchr(whereweare, <span class="charliteral">&#39;$&#39;</span>);</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;      <span class="keywordflow">if</span> (nextthing) {</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;         pos = nextthing - whereweare;</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;         <span class="keywordflow">switch</span> (nextthing[1]) {</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;         <span class="keywordflow">case</span> <span class="charliteral">&#39;{&#39;</span>:</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;            <span class="comment">/* Variable substitution */</span></div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;            nextvar = nextthing;</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;         <span class="keywordflow">case</span> <span class="charliteral">&#39;[&#39;</span>:</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;            <span class="comment">/* Expression substitution */</span></div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;            nextexp = nextthing;</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;         <span class="keywordflow">default</span>:</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;            <span class="comment">/* &#39;$&#39; is not part of a substitution so include it too. */</span></div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;            ++pos;</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;         }</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;         <span class="comment">/* We&#39;re copying the whole remaining string */</span></div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;         pos = strlen(whereweare);</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;      }</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;      <span class="keywordflow">if</span> (pos) {</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;         <span class="comment">/* Copy that many bytes */</span></div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;         <a class="code" href="../../d6/d90/strings_8h.html#a66daf21afabae2111fb397beb9a6c57e">ast_str_append_substr</a>(buf, maxlen, whereweare, pos);</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;         whereweare += pos;</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;      }</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;      <span class="keywordflow">if</span> (nextvar) {</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;         <span class="keywordtype">int</span> offset;</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;         <span class="keywordtype">int</span> offset2;</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;         <span class="keywordtype">int</span> isfunction;</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;         <span class="keywordtype">int</span> res;</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;         <span class="comment">/* We have a variable.  Find the start and end, and determine</span></div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;<span class="comment">            if we are going to have to recursively call ourselves on the</span></div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;<span class="comment">            contents */</span></div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;         vars = vare = nextvar + 2;</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;         brackets = 1;</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;         needsub = 0;</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;         <span class="comment">/* Find the end of it */</span></div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;         <span class="keywordflow">while</span> (brackets &amp;&amp; *vare) {</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;            <span class="keywordflow">if</span> ((vare[0] == <span class="charliteral">&#39;$&#39;</span>) &amp;&amp; (vare[1] == <span class="charliteral">&#39;{&#39;</span>)) {</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;               needsub++;</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;               brackets++;</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;               vare++;</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (vare[0] == <span class="charliteral">&#39;{&#39;</span>) {</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;               brackets++;</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (vare[0] == <span class="charliteral">&#39;}&#39;</span>) {</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;               brackets--;</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((vare[0] == <span class="charliteral">&#39;$&#39;</span>) &amp;&amp; (vare[1] == <span class="charliteral">&#39;[&#39;</span>)) {</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;               needsub++;</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;               vare++;</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;            }</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;            vare++;</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;         }</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;         len = vare - vars;</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;         <span class="keywordflow">if</span> (brackets) {</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;            <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Error in extension logic (missing &#39;}&#39;)\n&quot;</span>);</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;         } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;            <span class="comment">/* Don&#39;t count the closing &#39;}&#39; in the length. */</span></div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;            --<a class="code" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>;</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;         }</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;         <span class="comment">/* Skip totally over variable string */</span></div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;         whereweare = vare;</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;         <span class="comment">/* Store variable name expression to lookup. */</span></div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;         <a class="code" href="../../d6/d90/strings_8h.html#abda810b81f8f0349aca3fad136e5d416">ast_str_set_substr</a>(&amp;substr1, 0, vars, len);</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;         <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(5, <span class="stringliteral">&quot;Evaluating &#39;%s&#39; (from &#39;%s&#39; len %d)\n&quot;</span>, <a class="code" href="../../d6/d90/strings_8h.html#a1ef7e2644ca7258070db316fdc0a465b">ast_str_buffer</a>(substr1), vars, len);</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;         <span class="comment">/* Substitute if necessary */</span></div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;         <span class="keywordflow">if</span> (needsub) {</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;            <span class="keywordflow">if</span> (!substr2) {</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;               substr2 = <a class="code" href="../../d6/d90/strings_8h.html#a9c34c6c6b8daaba24c0406270f3cf697">ast_str_create</a>(16);</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;               <span class="keywordflow">if</span> (!substr2) {</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;                  <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;               }</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;            }</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;            <a class="code" href="../../d3/d8c/pbx__variables_8c.html#a8dabe2c61eaa45af79ad2d40182e60bd">ast_str_substitute_variables_full</a>(&amp;substr2, 0, c, headp, <a class="code" href="../../d6/d90/strings_8h.html#a1ef7e2644ca7258070db316fdc0a465b">ast_str_buffer</a>(substr1), <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;            finalvars = <a class="code" href="../../d6/d90/strings_8h.html#a1ef7e2644ca7258070db316fdc0a465b">ast_str_buffer</a>(substr2);</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;         } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;            finalvars = <a class="code" href="../../d6/d90/strings_8h.html#a1ef7e2644ca7258070db316fdc0a465b">ast_str_buffer</a>(substr1);</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;         }</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;         <a class="code" href="../../d3/d8c/pbx__variables_8c.html#ac280b071ffa8f9e016cc011d77c41a86">parse_variable_name</a>(finalvars, &amp;offset, &amp;offset2, &amp;isfunction);</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;         <span class="keywordflow">if</span> (isfunction) {</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;            <span class="comment">/* Evaluate function */</span></div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;            <span class="keywordflow">if</span> (c || !headp) {</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;               res = <a class="code" href="../../db/de0/pbx_8h.html#a9c74b2f5ba8be6e351d35c1b97803e1e">ast_func_read2</a>(c, finalvars, &amp;substr3, 0);</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;            } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;               <span class="keyword">struct </span><a class="code" href="../../dd/de6/structvarshead.html">varshead</a> old;</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;               <span class="keyword">struct </span><a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *bogus;</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;               bogus = <a class="code" href="../../d5/d7b/channel_8h.html#acc0ae2c008f4157736ef290e9ca62572">ast_dummy_channel_alloc</a>();</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;               <span class="keywordflow">if</span> (bogus) {</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;                  old = *<a class="code" href="../../d5/d7b/channel_8h.html#add6255866ea1651a90cf70d963c4920a">ast_channel_varshead</a>(bogus);</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;                  *<a class="code" href="../../d5/d7b/channel_8h.html#add6255866ea1651a90cf70d963c4920a">ast_channel_varshead</a>(bogus) = *headp;</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;                  res = <a class="code" href="../../db/de0/pbx_8h.html#a9c74b2f5ba8be6e351d35c1b97803e1e">ast_func_read2</a>(bogus, finalvars, &amp;substr3, 0);</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;                  <span class="comment">/* Don&#39;t deallocate the varshead that was passed in */</span></div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;                  *<a class="code" href="../../d5/d7b/channel_8h.html#add6255866ea1651a90cf70d963c4920a">ast_channel_varshead</a>(bogus) = old;</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;                  <a class="code" href="../../d5/d7b/channel_8h.html#ab733a7825810b895a89b629e0ea89380">ast_channel_unref</a>(bogus);</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;               } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;                  <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Unable to allocate bogus channel for function value substitution.\n&quot;</span>);</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;                  res = -1;</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;               }</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;            }</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;            <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(2, <span class="stringliteral">&quot;Function %s result is &#39;%s&#39;\n&quot;</span>,</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;               finalvars, res ? <span class="stringliteral">&quot;&quot;</span> : <a class="code" href="../../d6/d90/strings_8h.html#a1ef7e2644ca7258070db316fdc0a465b">ast_str_buffer</a>(substr3));</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;         } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;            <span class="comment">/* Retrieve variable value */</span></div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;            <a class="code" href="../../d3/d8c/pbx__variables_8c.html#a83de13bef87bad84a835421e2b2937f7">ast_str_retrieve_variable</a>(&amp;substr3, 0, c, headp, finalvars);</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;            res = 0;</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;         }</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;         <span class="keywordflow">if</span> (!res) {</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;            <a class="code" href="../../d3/d8c/pbx__variables_8c.html#ad96d1367fe3f50cc96690a056fc49744">ast_str_substring</a>(substr3, offset, offset2);</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;            <a class="code" href="../../d6/d90/strings_8h.html#a1088afdd862a49b0fce34ebe02df8ca1">ast_str_append</a>(buf, maxlen, <span class="stringliteral">&quot;%s&quot;</span>, <a class="code" href="../../d6/d90/strings_8h.html#a1ef7e2644ca7258070db316fdc0a465b">ast_str_buffer</a>(substr3));</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;         }</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (nextexp) {</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;         <span class="comment">/* We have an expression.  Find the start and end, and determine</span></div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;<span class="comment">            if we are going to have to recursively call ourselves on the</span></div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;<span class="comment">            contents */</span></div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;         vars = vare = nextexp + 2;</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;         brackets = 1;</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;         needsub = 0;</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;         <span class="comment">/* Find the end of it */</span></div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;         <span class="keywordflow">while</span> (brackets &amp;&amp; *vare) {</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;            <span class="keywordflow">if</span> ((vare[0] == <span class="charliteral">&#39;$&#39;</span>) &amp;&amp; (vare[1] == <span class="charliteral">&#39;[&#39;</span>)) {</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;               needsub++;</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;               brackets++;</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;               vare++;</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (vare[0] == <span class="charliteral">&#39;[&#39;</span>) {</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;               brackets++;</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (vare[0] == <span class="charliteral">&#39;]&#39;</span>) {</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;               brackets--;</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((vare[0] == <span class="charliteral">&#39;$&#39;</span>) &amp;&amp; (vare[1] == <span class="charliteral">&#39;{&#39;</span>)) {</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;               needsub++;</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;               vare++;</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;            }</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;            vare++;</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;         }</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;         len = vare - vars;</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;         <span class="keywordflow">if</span> (brackets) {</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;            <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Error in extension logic (missing &#39;]&#39;)\n&quot;</span>);</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;         } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;            <span class="comment">/* Don&#39;t count the closing &#39;]&#39; in the length. */</span></div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;            --<a class="code" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>;</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;         }</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;         <span class="comment">/* Skip totally over expression */</span></div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;         whereweare = vare;</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;         <span class="comment">/* Store expression to evaluate. */</span></div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;         <a class="code" href="../../d6/d90/strings_8h.html#abda810b81f8f0349aca3fad136e5d416">ast_str_set_substr</a>(&amp;substr1, 0, vars, len);</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;         <span class="comment">/* Substitute if necessary */</span></div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;         <span class="keywordflow">if</span> (needsub) {</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;            <span class="keywordflow">if</span> (!substr2) {</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;               substr2 = <a class="code" href="../../d6/d90/strings_8h.html#a9c34c6c6b8daaba24c0406270f3cf697">ast_str_create</a>(16);</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;               <span class="keywordflow">if</span> (!substr2) {</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;                  <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;               }</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;            }</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;            <a class="code" href="../../d3/d8c/pbx__variables_8c.html#a8dabe2c61eaa45af79ad2d40182e60bd">ast_str_substitute_variables_full</a>(&amp;substr2, 0, c, headp, <a class="code" href="../../d6/d90/strings_8h.html#a1ef7e2644ca7258070db316fdc0a465b">ast_str_buffer</a>(substr1), <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;            finalvars = <a class="code" href="../../d6/d90/strings_8h.html#a1ef7e2644ca7258070db316fdc0a465b">ast_str_buffer</a>(substr2);</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;         } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;            finalvars = <a class="code" href="../../d6/d90/strings_8h.html#a1ef7e2644ca7258070db316fdc0a465b">ast_str_buffer</a>(substr1);</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;         }</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;         <span class="keywordflow">if</span> (<a class="code" href="../../d0/d93/ast__expr_8h.html#a19c44ad884ed893025f2ed800b4cfc50">ast_str_expr</a>(&amp;substr3, 0, c, finalvars)) {</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;            <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(2, <span class="stringliteral">&quot;Expression result is &#39;%s&#39;\n&quot;</span>, <a class="code" href="../../d6/d90/strings_8h.html#a1ef7e2644ca7258070db316fdc0a465b">ast_str_buffer</a>(substr3));</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;         }</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;         <a class="code" href="../../d6/d90/strings_8h.html#a1088afdd862a49b0fce34ebe02df8ca1">ast_str_append</a>(buf, maxlen, <span class="stringliteral">&quot;%s&quot;</span>, <a class="code" href="../../d6/d90/strings_8h.html#a1ef7e2644ca7258070db316fdc0a465b">ast_str_buffer</a>(substr3));</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;      }</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;   }</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;   <span class="keywordflow">if</span> (used) {</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;      *used = <a class="code" href="../../d6/d90/strings_8h.html#aabc005bd1c7e249e8f8659d57d4500b6">ast_str_strlen</a>(*buf);</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;   }</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;   <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(substr1);</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;   <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(substr2);</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;   <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(substr3);</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;}</div><div class="ttc" id="structast__channel_html"><div class="ttname"><a href="../../df/d3c/structast__channel.html">ast_channel</a></div><div class="ttdoc">Main Channel structure associated with a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00073">channel_internal_api.c:73</a></div></div>
<div class="ttc" id="channel_8h_html_ab733a7825810b895a89b629e0ea89380"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#ab733a7825810b895a89b629e0ea89380">ast_channel_unref</a></div><div class="ttdeci">#define ast_channel_unref(c)</div><div class="ttdoc">Decrease channel reference count. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02981">channel.h:2981</a></div></div>
<div class="ttc" id="pbx_8h_html_a9c74b2f5ba8be6e351d35c1b97803e1e"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a9c74b2f5ba8be6e351d35c1b97803e1e">ast_func_read2</a></div><div class="ttdeci">int ast_func_read2(struct ast_channel *chan, const char *function, struct ast_str **str, ssize_t maxlen)</div><div class="ttdoc">executes a read operation on a function </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d70/pbx__functions_8c_source.html#l00642">pbx_functions.c:642</a></div></div>
<div class="ttc" id="pbx__variables_8c_html_ac280b071ffa8f9e016cc011d77c41a86"><div class="ttname"><a href="../../d3/d8c/pbx__variables_8c.html#ac280b071ffa8f9e016cc011d77c41a86">parse_variable_name</a></div><div class="ttdeci">static int parse_variable_name(char *var, int *offset, int *length, int *isfunc)</div><div class="ttdoc">extract offset:length from variable name. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d8c/pbx__variables_8c_source.html#l00116">pbx_variables.c:116</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="strings_8h_html_a1ef7e2644ca7258070db316fdc0a465b"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a1ef7e2644ca7258070db316fdc0a465b">ast_str_buffer</a></div><div class="ttdeci">char * ast_str_buffer(const struct ast_str *buf)</div><div class="ttdoc">Returns the string buffer within the ast_str buf. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00714">strings.h:714</a></div></div>
<div class="ttc" id="strings_8h_html_a1088afdd862a49b0fce34ebe02df8ca1"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a1088afdd862a49b0fce34ebe02df8ca1">ast_str_append</a></div><div class="ttdeci">int ast_str_append(struct ast_str **buf, ssize_t max_len, const char *fmt,...)</div><div class="ttdoc">Append to a thread local dynamic string. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l01091">strings.h:1091</a></div></div>
<div class="ttc" id="channel_8h_html_add6255866ea1651a90cf70d963c4920a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#add6255866ea1651a90cf70d963c4920a">ast_channel_varshead</a></div><div class="ttdeci">struct varshead * ast_channel_varshead(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00932">channel_internal_api.c:932</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="pbx__variables_8c_html_a8dabe2c61eaa45af79ad2d40182e60bd"><div class="ttname"><a href="../../d3/d8c/pbx__variables_8c.html#a8dabe2c61eaa45af79ad2d40182e60bd">ast_str_substitute_variables_full</a></div><div class="ttdeci">void ast_str_substitute_variables_full(struct ast_str **buf, ssize_t maxlen, struct ast_channel *c, struct varshead *headp, const char *templ, size_t *used)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d8c/pbx__variables_8c_source.html#l00394">pbx_variables.c:394</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="pbx__variables_8c_html_ad96d1367fe3f50cc96690a056fc49744"><div class="ttname"><a href="../../d3/d8c/pbx__variables_8c.html#ad96d1367fe3f50cc96690a056fc49744">ast_str_substring</a></div><div class="ttdeci">static const char * ast_str_substring(struct ast_str *value, int offset, int length)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d8c/pbx__variables_8c_source.html#l00185">pbx_variables.c:185</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="channel_8h_html_acc0ae2c008f4157736ef290e9ca62572"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#acc0ae2c008f4157736ef290e9ca62572">ast_dummy_channel_alloc</a></div><div class="ttdeci">#define ast_dummy_channel_alloc()</div><div class="ttdoc">Create a fake channel structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01283">channel.h:1283</a></div></div>
<div class="ttc" id="strings_8h_html_a66daf21afabae2111fb397beb9a6c57e"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a66daf21afabae2111fb397beb9a6c57e">ast_str_append_substr</a></div><div class="ttdeci">char * ast_str_append_substr(struct ast_str **buf, ssize_t maxlen, const char *src, size_t maxsrc)</div><div class="ttdoc">Append a non-NULL terminated substring to the end of a dynamic string. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l01014">strings.h:1014</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="structast__str_html"><div class="ttname"><a href="../../dd/da2/structast__str.html">ast_str</a></div><div class="ttdoc">The descriptor of a dynamic string XXX storage will be optimized later if needed We use the ts field ...</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00584">strings.h:584</a></div></div>
<div class="ttc" id="func__strings_8c_html_af24e73aaf92f3000fda15d285e66df24"><div class="ttname"><a href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a></div><div class="ttdeci">static int len(struct ast_channel *chan, const char *cmd, char *data, char *buf, size_t buflen)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d1e/func__strings_8c_source.html#l01344">func_strings.c:1344</a></div></div>
<div class="ttc" id="structvarshead_html"><div class="ttname"><a href="../../dd/de6/structvarshead.html">varshead</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de7/chanvars_8h_source.html#l00034">chanvars.h:34</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="ast__expr_8h_html_a19c44ad884ed893025f2ed800b4cfc50"><div class="ttname"><a href="../../d0/d93/ast__expr_8h.html#a19c44ad884ed893025f2ed800b4cfc50">ast_str_expr</a></div><div class="ttdeci">int ast_str_expr(struct ast_str **str, ssize_t maxlen, struct ast_channel *chan, char *expr)</div><div class="ttdoc">Evaluate the given expression. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/ast__expr2f_8c_source.html#l02447">ast_expr2f.c:2447</a></div></div>
<div class="ttc" id="strings_8h_html_a8239b9ad10367bfc936e9b60ff7706a8"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a8239b9ad10367bfc936e9b60ff7706a8">ast_str_reset</a></div><div class="ttdeci">void ast_str_reset(struct ast_str *buf)</div><div class="ttdoc">Reset the content of a dynamic string. Useful before a series of ast_str_append. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00653">strings.h:653</a></div></div>
<div class="ttc" id="strings_8h_html_aabc005bd1c7e249e8f8659d57d4500b6"><div class="ttname"><a href="../../d6/d90/strings_8h.html#aabc005bd1c7e249e8f8659d57d4500b6">ast_str_strlen</a></div><div class="ttdeci">size_t ast_str_strlen(const struct ast_str *buf)</div><div class="ttdoc">Returns the current length of the string stored within buf. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00688">strings.h:688</a></div></div>
<div class="ttc" id="pbx__variables_8c_html_a83de13bef87bad84a835421e2b2937f7"><div class="ttname"><a href="../../d3/d8c/pbx__variables_8c.html#a83de13bef87bad84a835421e2b2937f7">ast_str_retrieve_variable</a></div><div class="ttdeci">const char * ast_str_retrieve_variable(struct ast_str **str, ssize_t maxlen, struct ast_channel *c, struct varshead *headp, const char *var)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d8c/pbx__variables_8c_source.html#l00246">pbx_variables.c:246</a></div></div>
<div class="ttc" id="strings_8h_html_abda810b81f8f0349aca3fad136e5d416"><div class="ttname"><a href="../../d6/d90/strings_8h.html#abda810b81f8f0349aca3fad136e5d416">ast_str_set_substr</a></div><div class="ttdeci">char * ast_str_set_substr(struct ast_str **buf, ssize_t maxlen, const char *src, size_t maxsrc)</div><div class="ttdoc">Set a dynamic string to a non-NULL terminated substring. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l01007">strings.h:1007</a></div></div>
<div class="ttc" id="strings_8h_html_a9c34c6c6b8daaba24c0406270f3cf697"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a9c34c6c6b8daaba24c0406270f3cf697">ast_str_create</a></div><div class="ttdeci">#define ast_str_create(init_len)</div><div class="ttdoc">Create a malloc&amp;#39;ed dynamic length string. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00620">strings.h:620</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a80b0feaeb3c78569effccc3ea47b3d68"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a80b0feaeb3c78569effccc3ea47b3d68">&#9670;&nbsp;</a></span>ast_str_substitute_variables_varshead()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_str_substitute_variables_varshead </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dd/da2/structast__str.html">ast_str</a> **&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ssize_t&#160;</td>
          <td class="paramname"><em>maxlen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../dd/de6/structvarshead.html">varshead</a> *&#160;</td>
          <td class="paramname"><em>headp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>templ</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buf</td><td>Result will be placed in this buffer. </td></tr>
    <tr><td class="paramname">maxlen</td><td>-1 if the buffer should not grow, 0 if the buffer may grow to any size, and &gt;0 if the buffer should grow only to that number of bytes. </td></tr>
    <tr><td class="paramname">headp</td><td>If no channel is specified, a channel list from which to extract variable values </td></tr>
    <tr><td class="paramname">templ</td><td>Variable template to expand. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d8c/pbx__variables_8c_source.html#l00621">621</a> of file <a class="el" href="../../d3/d8c/pbx__variables_8c_source.html">pbx_variables.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d8c/pbx__variables_8c_source.html#l00394">ast_str_substitute_variables_full()</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/de9/res__phoneprov_8c_source.html#l00843">build_user_routes()</a>, <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00603">handle_aor()</a>, <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00854">handle_registrations()</a>, and <a class="el" href="../../d9/de9/res__phoneprov_8c_source.html#l01054">pp_each_extension_helper()</a>.</p>
<div class="fragment"><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;{</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;   <a class="code" href="../../d3/d8c/pbx__variables_8c.html#a8dabe2c61eaa45af79ad2d40182e60bd">ast_str_substitute_variables_full</a>(buf, maxlen, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, headp, templ, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;}</div><div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="pbx__variables_8c_html_a8dabe2c61eaa45af79ad2d40182e60bd"><div class="ttname"><a href="../../d3/d8c/pbx__variables_8c.html#a8dabe2c61eaa45af79ad2d40182e60bd">ast_str_substitute_variables_full</a></div><div class="ttdeci">void ast_str_substitute_variables_full(struct ast_str **buf, ssize_t maxlen, struct ast_channel *c, struct varshead *headp, const char *templ, size_t *used)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d8c/pbx__variables_8c_source.html#l00394">pbx_variables.c:394</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aee0767aa019c9b071f4ed73ffcf499e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee0767aa019c9b071f4ed73ffcf499e5">&#9670;&nbsp;</a></span>ast_thread_inhibit_escalations()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_thread_inhibit_escalations </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Inhibit (in the current thread) the execution of dialplan functions which cause privilege escalations. If <a class="el" href="../../db/de0/pbx_8h.html#a123eff9ba5d2f446df2104e76efde9ff" title="Enable/disable the execution of &#39;dangerous&#39; functions from external protocols (AMI, etc.). ">pbx_live_dangerously()</a> has been called, this function has no effect. </p>
<dl class="section return"><dt>Returns</dt><dd>0 if successfuly marked current thread. </dd>
<dd>
Non-zero if marking current thread failed. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../db/d70/pbx__functions_8c_source.html#l00479">479</a> of file <a class="el" href="../../db/d70/pbx__functions_8c_source.html">pbx_functions.c</a>.</p>

<p class="reference">References <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../dc/d7d/threadstorage_8h_source.html#l00197">ast_threadstorage_get()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../db/d70/pbx__functions_8c_source.html#l00046">thread_inhibit_escalations_tl</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d94/pbx_8c_source.html#l07325">ast_add_extension2_lockopt()</a>, and <a class="el" href="../../dc/d9b/tcptls_8c_source.html#l00140">handle_tcptls_connection()</a>.</p>
<div class="fragment"><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;{</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;   <span class="keywordtype">int</span> *thread_inhibit_escalations;</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;   thread_inhibit_escalations = <a class="code" href="../../dc/d7d/threadstorage_8h.html#ab6ff44d2acf6ea45090177cd3141da03">ast_threadstorage_get</a>(</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;      &amp;<a class="code" href="../../db/d70/pbx__functions_8c.html#a4bd657e6882b2392edefc34c152d607d">thread_inhibit_escalations_tl</a>, <span class="keyword">sizeof</span>(*thread_inhibit_escalations));</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;   <span class="keywordflow">if</span> (thread_inhibit_escalations == <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Error inhibiting privilege escalations for current thread\n&quot;</span>);</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;   }</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;   *thread_inhibit_escalations = 1;</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;}</div><div class="ttc" id="threadstorage_8h_html_ab6ff44d2acf6ea45090177cd3141da03"><div class="ttname"><a href="../../dc/d7d/threadstorage_8h.html#ab6ff44d2acf6ea45090177cd3141da03">ast_threadstorage_get</a></div><div class="ttdeci">void * ast_threadstorage_get(struct ast_threadstorage *ts, size_t init_size)</div><div class="ttdoc">Retrieve thread storage. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7d/threadstorage_8h_source.html#l00197">threadstorage.h:197</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="pbx__functions_8c_html_a4bd657e6882b2392edefc34c152d607d"><div class="ttname"><a href="../../db/d70/pbx__functions_8c.html#a4bd657e6882b2392edefc34c152d607d">thread_inhibit_escalations_tl</a></div><div class="ttdeci">static struct ast_threadstorage thread_inhibit_escalations_tl</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d70/pbx__functions_8c_source.html#l00046">pbx_functions.c:46</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a17db9d0ffeebca9413e2e7dcb2ddd811"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a17db9d0ffeebca9413e2e7dcb2ddd811">&#9670;&nbsp;</a></span>ast_thread_inhibit_escalations_swap()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_thread_inhibit_escalations_swap </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>inhibit</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Swap the current thread escalation inhibit setting. </p>
<dl class="section since"><dt>Since</dt><dd>11.24.0</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">inhibit</td><td>New setting. Non-zero to inhibit.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">1</td><td>if dangerous function execution was inhibited. </td></tr>
    <tr><td class="paramname">0</td><td>if dangerous function execution was allowed. </td></tr>
    <tr><td class="paramname">-1</td><td>on error. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../db/d70/pbx__functions_8c_source.html#l00494">494</a> of file <a class="el" href="../../db/d70/pbx__functions_8c_source.html">pbx_functions.c</a>.</p>

<p class="reference">References <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../dc/d7d/threadstorage_8h_source.html#l00197">ast_threadstorage_get()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../db/d70/pbx__functions_8c_source.html#l00046">thread_inhibit_escalations_tl</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d94/pbx_8c_source.html#l07325">ast_add_extension2_lockopt()</a>.</p>
<div class="fragment"><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;{</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;   <span class="keywordtype">int</span> *thread_inhibit_escalations;</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;   <span class="keywordtype">int</span> orig;</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;   thread_inhibit_escalations = <a class="code" href="../../dc/d7d/threadstorage_8h.html#ab6ff44d2acf6ea45090177cd3141da03">ast_threadstorage_get</a>(</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;      &amp;<a class="code" href="../../db/d70/pbx__functions_8c.html#a4bd657e6882b2392edefc34c152d607d">thread_inhibit_escalations_tl</a>, <span class="keyword">sizeof</span>(*thread_inhibit_escalations));</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;   <span class="keywordflow">if</span> (thread_inhibit_escalations == <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Error swapping privilege escalations inhibit for current thread\n&quot;</span>);</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;   }</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;   orig = *thread_inhibit_escalations;</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;   *thread_inhibit_escalations = !!inhibit;</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;   <span class="keywordflow">return</span> orig;</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;}</div><div class="ttc" id="threadstorage_8h_html_ab6ff44d2acf6ea45090177cd3141da03"><div class="ttname"><a href="../../dc/d7d/threadstorage_8h.html#ab6ff44d2acf6ea45090177cd3141da03">ast_threadstorage_get</a></div><div class="ttdeci">void * ast_threadstorage_get(struct ast_threadstorage *ts, size_t init_size)</div><div class="ttdoc">Retrieve thread storage. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7d/threadstorage_8h_source.html#l00197">threadstorage.h:197</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="pbx__functions_8c_html_a4bd657e6882b2392edefc34c152d607d"><div class="ttname"><a href="../../db/d70/pbx__functions_8c.html#a4bd657e6882b2392edefc34c152d607d">thread_inhibit_escalations_tl</a></div><div class="ttdeci">static struct ast_threadstorage thread_inhibit_escalations_tl</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d70/pbx__functions_8c_source.html#l00046">pbx_functions.c:46</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a805796e4728845bff70c4caf5b224308"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a805796e4728845bff70c4caf5b224308">&#9670;&nbsp;</a></span>ast_unlock_context()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_unlock_context </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d6/d7c/structast__context.html">ast_context</a> *&#160;</td>
          <td class="paramname"><em>con</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">Unlocks</td><td>the given context</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">con</td><td>context to unlock</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>on success </td></tr>
    <tr><td class="paramname">-1</td><td>on failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../db/d94/pbx_8c_source.html#l08530">8530</a> of file <a class="el" href="../../db/d94/pbx_8c_source.html">pbx.c</a>.</p>

<p class="reference">References <a class="el" href="../../dd/d42/lock_8h_source.html#l00232">ast_rwlock_unlock</a>, and <a class="el" href="../../db/d94/pbx_8c_source.html#l00285">ast_context::lock</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d94/pbx_8c_source.html#l08095">__ast_context_destroy()</a>, <a class="el" href="../../d0/d1b/app__macro_8c_source.html#l00236">_macro_exec()</a>, <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00484">add_hints()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l07325">ast_add_extension2_lockopt()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l06890">ast_context_add_ignorepat2()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l06726">ast_context_add_include2()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l06791">ast_context_add_switch2()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l04987">ast_context_remove_extension_callerid2()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l06850">ast_context_remove_ignorepat2()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l04863">ast_context_remove_include2()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l04920">ast_context_remove_switch2()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l01488">complete_dialplan_remove_ignorepat()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00289">complete_dialplan_remove_include()</a>, <a class="el" href="../../d1/dc0/pbx__dundi_8c_source.html#l03972">dundi_precache_full()</a>, <a class="el" href="../../d1/d02/app__if_8c_source.html#l00134">find_matching_endif()</a>, <a class="el" href="../../d0/d8e/app__while_8c_source.html#l00152">find_matching_endwhile()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00809">handle_cli_dialplan_save()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00212">lookup_c_ip()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00188">lookup_ci()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l05864">manager_show_dialplan_helper()</a>, <a class="el" href="../../d1/db7/parking__bridge__features_8c_source.html#l00575">parking_duration_callback()</a>, <a class="el" href="../../d7/d45/res__parking_8c_source.html#l00758">parking_lot_cfg_create_extensions()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l05677">show_debug_helper()</a>, and <a class="el" href="../../db/d94/pbx_8c_source.html#l05516">show_dialplan_helper()</a>.</p>
<div class="fragment"><div class="line"><a name="l08531"></a><span class="lineno"> 8531</span>&#160;{</div><div class="line"><a name="l08532"></a><span class="lineno"> 8532</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dd/d42/lock_8h.html#ac2920a1db37313ec46bd91dc83bf9c8a">ast_rwlock_unlock</a>(&amp;con-&gt;<a class="code" href="../../d6/d7c/structast__context.html#ace4e0066a5b24f84b90536e9906619f6">lock</a>);</div><div class="line"><a name="l08533"></a><span class="lineno"> 8533</span>&#160;}</div><div class="ttc" id="lock_8h_html_ac2920a1db37313ec46bd91dc83bf9c8a"><div class="ttname"><a href="../../dd/d42/lock_8h.html#ac2920a1db37313ec46bd91dc83bf9c8a">ast_rwlock_unlock</a></div><div class="ttdeci">#define ast_rwlock_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00232">lock.h:232</a></div></div>
<div class="ttc" id="structast__context_html_ace4e0066a5b24f84b90536e9906619f6"><div class="ttname"><a href="../../d6/d7c/structast__context.html#ace4e0066a5b24f84b90536e9906619f6">ast_context::lock</a></div><div class="ttdeci">ast_rwlock_t lock</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l00285">pbx.c:285</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae517a87b356aec60d5de4591ef94581b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae517a87b356aec60d5de4591ef94581b">&#9670;&nbsp;</a></span>ast_unlock_contexts()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_unlock_contexts </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unlocks contexts. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>on success </td></tr>
    <tr><td class="paramname">-1</td><td>on failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../db/d94/pbx_8c_source.html#l08512">8512</a> of file <a class="el" href="../../db/d94/pbx_8c_source.html">pbx.c</a>.</p>

<p class="reference">References <a class="el" href="../../dd/d42/lock_8h_source.html#l00188">ast_mutex_unlock</a>, and <a class="el" href="../../db/d94/pbx_8c_source.html#l00785">conlock</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/d1b/app__macro_8c_source.html#l00236">_macro_exec()</a>, <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00484">add_hints()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l06970">ast_add_extension()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l06877">ast_context_add_ignorepat()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l06706">ast_context_add_include()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l06771">ast_context_add_switch()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08260">ast_context_destroy()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08244">ast_context_destroy_by_name()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l02443">ast_context_find()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l06198">ast_context_find_or_create()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l05162">ast_context_lockmacro()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l04957">ast_context_remove_extension_callerid()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l06837">ast_context_remove_ignorepat()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l04840">ast_context_remove_include()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l04898">ast_context_remove_switch()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l05184">ast_context_unlockmacro()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l02997">ast_hint_extension()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l06921">ast_ignore_pattern()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l06468">ast_merge_contexts_and_delete()</a>, <a class="el" href="../../dd/d16/pbx__app_8c_source.html#l00392">ast_unregister_application()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l01306">complete_dialplan_add_extension()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l01392">complete_dialplan_add_ignorepat()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00744">complete_dialplan_add_include()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l01277">complete_dialplan_remove_context()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00550">complete_dialplan_remove_extension()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l01488">complete_dialplan_remove_ignorepat()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00289">complete_dialplan_remove_include()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l05447">complete_show_dialplan_context()</a>, <a class="el" href="../../d1/dc0/pbx__dundi_8c_source.html#l03972">dundi_precache_full()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l04818">find_context_locked()</a>, <a class="el" href="../../d1/d02/app__if_8c_source.html#l00134">find_matching_endif()</a>, <a class="el" href="../../d0/d8e/app__while_8c_source.html#l00152">find_matching_endwhile()</a>, <a class="el" href="../../de/dbf/func__evalexten_8c_source.html#l00090">get_extension_data()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00809">handle_cli_dialplan_save()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l01195">manager_dialplan_extension_add()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l05864">manager_show_dialplan_helper()</a>, <a class="el" href="../../d1/db7/parking__bridge__features_8c_source.html#l00575">parking_duration_callback()</a>, <a class="el" href="../../d7/d45/res__parking_8c_source.html#l00758">parking_lot_cfg_create_extensions()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l02875">pbx_extension_helper()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l05677">show_debug_helper()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l05516">show_dialplan_helper()</a>, and <a class="el" href="../../db/d94/pbx_8c_source.html#l06179">unreference_cached_app()</a>.</p>
<div class="fragment"><div class="line"><a name="l08513"></a><span class="lineno"> 8513</span>&#160;{</div><div class="line"><a name="l08514"></a><span class="lineno"> 8514</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a>(&amp;<a class="code" href="../../db/d94/pbx_8c.html#a7470458bc954de8f3d698bd99b25aed5">conlock</a>);</div><div class="line"><a name="l08515"></a><span class="lineno"> 8515</span>&#160;}</div><div class="ttc" id="pbx_8c_html_a7470458bc954de8f3d698bd99b25aed5"><div class="ttname"><a href="../../db/d94/pbx_8c.html#a7470458bc954de8f3d698bd99b25aed5">conlock</a></div><div class="ttdeci">static ast_mutex_t conlock</div><div class="ttdoc">Lock for the ast_context list. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l00785">pbx.c:785</a></div></div>
<div class="ttc" id="lock_8h_html_a873f9ce8c6287a32d48c83133e124418"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a></div><div class="ttdeci">#define ast_mutex_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00188">lock.h:188</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a4b11d763a689cb0df33a4a16c9d89ef3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4b11d763a689cb0df33a4a16c9d89ef3">&#9670;&nbsp;</a></span>ast_unregister_switch()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_unregister_switch </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d9/df6/structast__switch.html">ast_switch</a> *&#160;</td>
          <td class="paramname"><em>sw</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unregister an alternative switch. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sw</td><td>switch to unregister</td></tr>
  </table>
  </dd>
</dl>
<p>Unregisters a switch from asterisk.</p>
<dl class="section return"><dt>Returns</dt><dd>nothing </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d2/df2/pbx__switch_8c_source.html#l00076">76</a> of file <a class="el" href="../../d2/df2/pbx__switch_8c_source.html">pbx_switch.c</a>.</p>

<p class="reference">References <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00884">AST_RWLIST_REMOVE</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00150">AST_RWLIST_UNLOCK</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00051">AST_RWLIST_WRLOCK</a>, and <a class="el" href="../../d9/df6/structast__switch.html#af89062e7ec533d49969a67fb6b5e8b74">ast_switch::list</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l14601">__unload_module()</a>, and <a class="el" href="../../d1/dc0/pbx__dundi_8c_source.html#l05099">unload_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;{</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a2d0cf4182bade9f773fb16ff12abe595">AST_RWLIST_WRLOCK</a>(&amp;<a class="code" href="../../d9/da9/structswitches.html">switches</a>);</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a6091f0518f8b6f443fd9f5150f3ac407">AST_RWLIST_REMOVE</a>(&amp;<a class="code" href="../../d9/da9/structswitches.html">switches</a>, sw, list);</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a2e9a2518b5029b96671aff6701bd5138">AST_RWLIST_UNLOCK</a>(&amp;<a class="code" href="../../d9/da9/structswitches.html">switches</a>);</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;}</div><div class="ttc" id="linkedlists_8h_html_a2d0cf4182bade9f773fb16ff12abe595"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a2d0cf4182bade9f773fb16ff12abe595">AST_RWLIST_WRLOCK</a></div><div class="ttdeci">#define AST_RWLIST_WRLOCK(head)</div><div class="ttdoc">Write locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00051">linkedlists.h:51</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a2e9a2518b5029b96671aff6701bd5138"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a2e9a2518b5029b96671aff6701bd5138">AST_RWLIST_UNLOCK</a></div><div class="ttdeci">#define AST_RWLIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a read/write based list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00150">linkedlists.h:150</a></div></div>
<div class="ttc" id="structswitches_html"><div class="ttname"><a href="../../d9/da9/structswitches.html">switches</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/df2/pbx__switch_8c_source.html#l00038">pbx_switch.c:38</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a6091f0518f8b6f443fd9f5150f3ac407"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a6091f0518f8b6f443fd9f5150f3ac407">AST_RWLIST_REMOVE</a></div><div class="ttdeci">#define AST_RWLIST_REMOVE</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00884">linkedlists.h:884</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="abb024cdd19b5c3bab7734c9708f121b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abb024cdd19b5c3bab7734c9708f121b8">&#9670;&nbsp;</a></span>ast_walk_context_extensions()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="../../d7/d00/structast__exten.html">ast_exten</a> * ast_walk_context_extensions </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d6/d7c/structast__context.html">ast_context</a> *&#160;</td>
          <td class="paramname"><em>con</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d7/d00/structast__exten.html">ast_exten</a> *&#160;</td>
          <td class="paramname"><em>priority</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/db7/ael__main_8c_source.html#l00427">427</a> of file <a class="el" href="../../d2/db7/ael__main_8c_source.html">ael_main.c</a>.</p>

<p class="reference">References <a class="el" href="../../d2/db7/ael__main_8c_source.html#l00433">ast_walk_context_includes()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l00256">ast_exten::next</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../db/d94/pbx_8c_source.html#l00286">ast_context::root</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/db7/ael__main_8c_source.html#l00421">ast_get_context_name()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00550">complete_dialplan_remove_extension()</a>, <a class="el" href="../../d0/d85/pval_8c_source.html#l04398">context_used()</a>, <a class="el" href="../../d1/dc0/pbx__dundi_8c_source.html#l03972">dundi_precache_full()</a>, <a class="el" href="../../d1/d02/app__if_8c_source.html#l00097">find_matching_priority()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00809">handle_cli_dialplan_save()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l05864">manager_show_dialplan_helper()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l02485">pbx_find_extension()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l05516">show_dialplan_helper()</a>, and <a class="el" href="../../db/d94/pbx_8c_source.html#l06179">unreference_cached_app()</a>.</p>
<div class="fragment"><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;{</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;}</div><div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aecb1e70dc11a9dc333fcd1e74587a524"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aecb1e70dc11a9dc333fcd1e74587a524">&#9670;&nbsp;</a></span>ast_walk_context_ignorepats()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const struct <a class="el" href="../../d0/d11/structast__ignorepat.html">ast_ignorepat</a>* ast_walk_context_ignorepats </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d6/d7c/structast__context.html">ast_context</a> *&#160;</td>
          <td class="paramname"><em>con</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="../../d0/d11/structast__ignorepat.html">ast_ignorepat</a> *&#160;</td>
          <td class="paramname"><em>ip</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/d94/pbx_8c_source.html#l08707">8707</a> of file <a class="el" href="../../db/d94/pbx_8c_source.html">pbx.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/d94/pbx_8c_source.html#l08740">ast_context_ignorepats_count()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08745">ast_context_ignorepats_get()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l00256">ast_exten::next</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>
<div class="fragment"><div class="line"><a name="l08709"></a><span class="lineno"> 8709</span>&#160;{</div><div class="line"><a name="l08710"></a><span class="lineno"> 8710</span>&#160;   <span class="keywordflow">if</span> (!con) {</div><div class="line"><a name="l08711"></a><span class="lineno"> 8711</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l08712"></a><span class="lineno"> 8712</span>&#160;   }</div><div class="line"><a name="l08713"></a><span class="lineno"> 8713</span>&#160;</div><div class="line"><a name="l08714"></a><span class="lineno"> 8714</span>&#160;   <span class="keywordflow">if</span> (ip) {</div><div class="line"><a name="l08715"></a><span class="lineno"> 8715</span>&#160;      <span class="keywordtype">int</span> idx;</div><div class="line"><a name="l08716"></a><span class="lineno"> 8716</span>&#160;      <span class="keywordtype">int</span> next = 0;</div><div class="line"><a name="l08717"></a><span class="lineno"> 8717</span>&#160;</div><div class="line"><a name="l08718"></a><span class="lineno"> 8718</span>&#160;      <span class="keywordflow">for</span> (idx = 0; idx &lt; <a class="code" href="../../db/d94/pbx_8c.html#aa780584a8327cbe41d566b91e119eb97">ast_context_ignorepats_count</a>(con); idx++) {</div><div class="line"><a name="l08719"></a><span class="lineno"> 8719</span>&#160;         <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="../../d0/d11/structast__ignorepat.html">ast_ignorepat</a> *i = <a class="code" href="../../db/d94/pbx_8c.html#a6fee17b9633bb84f0fce209d5d42fb0a">ast_context_ignorepats_get</a>(con, idx);</div><div class="line"><a name="l08720"></a><span class="lineno"> 8720</span>&#160;</div><div class="line"><a name="l08721"></a><span class="lineno"> 8721</span>&#160;         <span class="keywordflow">if</span> (next) {</div><div class="line"><a name="l08722"></a><span class="lineno"> 8722</span>&#160;            <span class="keywordflow">return</span> i;</div><div class="line"><a name="l08723"></a><span class="lineno"> 8723</span>&#160;         }</div><div class="line"><a name="l08724"></a><span class="lineno"> 8724</span>&#160;</div><div class="line"><a name="l08725"></a><span class="lineno"> 8725</span>&#160;         <span class="keywordflow">if</span> (ip == i) {</div><div class="line"><a name="l08726"></a><span class="lineno"> 8726</span>&#160;            next = 1;</div><div class="line"><a name="l08727"></a><span class="lineno"> 8727</span>&#160;         }</div><div class="line"><a name="l08728"></a><span class="lineno"> 8728</span>&#160;      }</div><div class="line"><a name="l08729"></a><span class="lineno"> 8729</span>&#160;</div><div class="line"><a name="l08730"></a><span class="lineno"> 8730</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l08731"></a><span class="lineno"> 8731</span>&#160;   }</div><div class="line"><a name="l08732"></a><span class="lineno"> 8732</span>&#160;</div><div class="line"><a name="l08733"></a><span class="lineno"> 8733</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../db/d94/pbx_8c.html#aa780584a8327cbe41d566b91e119eb97">ast_context_ignorepats_count</a>(con)) {</div><div class="line"><a name="l08734"></a><span class="lineno"> 8734</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l08735"></a><span class="lineno"> 8735</span>&#160;   }</div><div class="line"><a name="l08736"></a><span class="lineno"> 8736</span>&#160;</div><div class="line"><a name="l08737"></a><span class="lineno"> 8737</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../db/d94/pbx_8c.html#a6fee17b9633bb84f0fce209d5d42fb0a">ast_context_ignorepats_get</a>(con, 0);</div><div class="line"><a name="l08738"></a><span class="lineno"> 8738</span>&#160;}</div><div class="ttc" id="pbx_8c_html_a6fee17b9633bb84f0fce209d5d42fb0a"><div class="ttname"><a href="../../db/d94/pbx_8c.html#a6fee17b9633bb84f0fce209d5d42fb0a">ast_context_ignorepats_get</a></div><div class="ttdeci">const struct ast_ignorepat * ast_context_ignorepats_get(const struct ast_context *con, int idx)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l08745">pbx.c:8745</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="pbx_8c_html_aa780584a8327cbe41d566b91e119eb97"><div class="ttname"><a href="../../db/d94/pbx_8c.html#aa780584a8327cbe41d566b91e119eb97">ast_context_ignorepats_count</a></div><div class="ttdeci">int ast_context_ignorepats_count(const struct ast_context *con)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l08740">pbx.c:8740</a></div></div>
<div class="ttc" id="structast__ignorepat_html"><div class="ttname"><a href="../../d0/d11/structast__ignorepat.html">ast_ignorepat</a></div><div class="ttdoc">ast_ignorepat: Ignore patterns in dial plan </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d63/pbx__ignorepat_8c_source.html#l00037">pbx_ignorepat.c:37</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2794843cdf646ea71516194894186af5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2794843cdf646ea71516194894186af5">&#9670;&nbsp;</a></span>ast_walk_context_includes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const struct <a class="el" href="../../d5/db2/structast__include.html">ast_include</a> * ast_walk_context_includes </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d6/d7c/structast__context.html">ast_context</a> *&#160;</td>
          <td class="paramname"><em>con</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="../../d5/db2/structast__include.html">ast_include</a> *&#160;</td>
          <td class="paramname"><em>inc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/dcc/conf2ael_8c_source.html#l00657">657</a> of file <a class="el" href="../../de/dcc/conf2ael_8c_source.html">conf2ael.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/d94/pbx_8c_source.html#l08697">ast_context_includes_count()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08702">ast_context_includes_get()</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00682">AST_VECTOR_GET</a>, <a class="el" href="../../da/d45/chan__alsa_8c_source.html#l00116">context</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l00290">ast_context::includes</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l00256">ast_exten::next</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../de/dcc/conf2ael_8c_source.html#l00672">pbx_find_extension()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/dcc/conf2ael_8c_source.html#l00651">ast_walk_context_extensions()</a>.</p>
<div class="fragment"><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;{</div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;}</div><div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae726f7ec847da671c6d1ffc84240101f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae726f7ec847da671c6d1ffc84240101f">&#9670;&nbsp;</a></span>ast_walk_context_switches()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const struct <a class="el" href="../../d3/def/structast__sw.html">ast_sw</a>* ast_walk_context_switches </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d6/d7c/structast__context.html">ast_context</a> *&#160;</td>
          <td class="paramname"><em>con</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="../../d3/def/structast__sw.html">ast_sw</a> *&#160;</td>
          <td class="paramname"><em>sw</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/d94/pbx_8c_source.html#l08623">8623</a> of file <a class="el" href="../../db/d94/pbx_8c_source.html">pbx.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/d94/pbx_8c_source.html#l08652">ast_context_switches_count()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08657">ast_context_switches_get()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l00256">ast_exten::next</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>
<div class="fragment"><div class="line"><a name="l08625"></a><span class="lineno"> 8625</span>&#160;{</div><div class="line"><a name="l08626"></a><span class="lineno"> 8626</span>&#160;   <span class="keywordflow">if</span> (sw) {</div><div class="line"><a name="l08627"></a><span class="lineno"> 8627</span>&#160;      <span class="keywordtype">int</span> idx;</div><div class="line"><a name="l08628"></a><span class="lineno"> 8628</span>&#160;      <span class="keywordtype">int</span> <a class="code" href="../../d0/d11/structast__ignorepat.html#a326696e0dab6c2b8161b373c1aff23ab">next</a> = 0;</div><div class="line"><a name="l08629"></a><span class="lineno"> 8629</span>&#160;</div><div class="line"><a name="l08630"></a><span class="lineno"> 8630</span>&#160;      <span class="keywordflow">for</span> (idx = 0; idx &lt; <a class="code" href="../../db/d94/pbx_8c.html#ae8d2df08197cbd68d61419e6968baf27">ast_context_switches_count</a>(con); idx++) {</div><div class="line"><a name="l08631"></a><span class="lineno"> 8631</span>&#160;         <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="../../d3/def/structast__sw.html">ast_sw</a> *s = <a class="code" href="../../db/d94/pbx_8c.html#a0161005b7a19bc949f2c8ebbf36a46eb">ast_context_switches_get</a>(con, idx);</div><div class="line"><a name="l08632"></a><span class="lineno"> 8632</span>&#160;</div><div class="line"><a name="l08633"></a><span class="lineno"> 8633</span>&#160;         <span class="keywordflow">if</span> (next) {</div><div class="line"><a name="l08634"></a><span class="lineno"> 8634</span>&#160;            <span class="keywordflow">return</span> s;</div><div class="line"><a name="l08635"></a><span class="lineno"> 8635</span>&#160;         }</div><div class="line"><a name="l08636"></a><span class="lineno"> 8636</span>&#160;</div><div class="line"><a name="l08637"></a><span class="lineno"> 8637</span>&#160;         <span class="keywordflow">if</span> (sw == s) {</div><div class="line"><a name="l08638"></a><span class="lineno"> 8638</span>&#160;            next = 1;</div><div class="line"><a name="l08639"></a><span class="lineno"> 8639</span>&#160;         }</div><div class="line"><a name="l08640"></a><span class="lineno"> 8640</span>&#160;      }</div><div class="line"><a name="l08641"></a><span class="lineno"> 8641</span>&#160;</div><div class="line"><a name="l08642"></a><span class="lineno"> 8642</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l08643"></a><span class="lineno"> 8643</span>&#160;   }</div><div class="line"><a name="l08644"></a><span class="lineno"> 8644</span>&#160;</div><div class="line"><a name="l08645"></a><span class="lineno"> 8645</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../db/d94/pbx_8c.html#ae8d2df08197cbd68d61419e6968baf27">ast_context_switches_count</a>(con)) {</div><div class="line"><a name="l08646"></a><span class="lineno"> 8646</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l08647"></a><span class="lineno"> 8647</span>&#160;   }</div><div class="line"><a name="l08648"></a><span class="lineno"> 8648</span>&#160;</div><div class="line"><a name="l08649"></a><span class="lineno"> 8649</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../db/d94/pbx_8c.html#a0161005b7a19bc949f2c8ebbf36a46eb">ast_context_switches_get</a>(con, 0);</div><div class="line"><a name="l08650"></a><span class="lineno"> 8650</span>&#160;}</div><div class="ttc" id="pbx_8c_html_ae8d2df08197cbd68d61419e6968baf27"><div class="ttname"><a href="../../db/d94/pbx_8c.html#ae8d2df08197cbd68d61419e6968baf27">ast_context_switches_count</a></div><div class="ttdeci">int ast_context_switches_count(const struct ast_context *con)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l08652">pbx.c:8652</a></div></div>
<div class="ttc" id="pbx_8c_html_a0161005b7a19bc949f2c8ebbf36a46eb"><div class="ttname"><a href="../../db/d94/pbx_8c.html#a0161005b7a19bc949f2c8ebbf36a46eb">ast_context_switches_get</a></div><div class="ttdeci">const struct ast_sw * ast_context_switches_get(const struct ast_context *con, int idx)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l08657">pbx.c:8657</a></div></div>
<div class="ttc" id="structast__ignorepat_html_a326696e0dab6c2b8161b373c1aff23ab"><div class="ttname"><a href="../../d0/d11/structast__ignorepat.html#a326696e0dab6c2b8161b373c1aff23ab">ast_ignorepat::next</a></div><div class="ttdeci">struct ast_ignorepat * next</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcc/conf2ael_8c_source.html#l00169">conf2ael.c:169</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structast__sw_html"><div class="ttname"><a href="../../d3/def/structast__sw.html">ast_sw</a></div><div class="ttdoc">ast_sw: Switch statement in extensions.conf </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d5d/pbx__sw_8c_source.html#l00037">pbx_sw.c:37</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a15961c7507a97d62c0a07c3c01bdc369"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a15961c7507a97d62c0a07c3c01bdc369">&#9670;&nbsp;</a></span>ast_walk_contexts()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="../../d6/d7c/structast__context.html">ast_context</a> * ast_walk_contexts </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d6/d7c/structast__context.html">ast_context</a> *&#160;</td>
          <td class="paramname"><em>con</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/dcc/conf2ael_8c_source.html#l00618">618</a> of file <a class="el" href="../../de/dcc/conf2ael_8c_source.html">conf2ael.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/dcc/conf2ael_8c_source.html#l00625">ast_context_destroy()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l00776">contexts</a>, <a class="el" href="../../d4/dc5/extconf_8c_source.html#l04032">localized_walk_contexts()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l00289">ast_context::next</a>, and <a class="el" href="../../db/d94/pbx_8c_source.html#l00253">ast_exten::registrar</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/d1b/app__macro_8c_source.html#l00236">_macro_exec()</a>, <a class="el" href="../../de/dcc/conf2ael_8c_source.html#l00613">ast_cli_unregister_multiple()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l02443">ast_context_find()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l01306">complete_dialplan_add_extension()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l01392">complete_dialplan_add_ignorepat()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00744">complete_dialplan_add_include()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l01277">complete_dialplan_remove_context()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00550">complete_dialplan_remove_extension()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l01488">complete_dialplan_remove_ignorepat()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00289">complete_dialplan_remove_include()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l05447">complete_show_dialplan_context()</a>, <a class="el" href="../../d1/dc0/pbx__dundi_8c_source.html#l03972">dundi_precache_full()</a>, <a class="el" href="../../d1/d02/app__if_8c_source.html#l00134">find_matching_endif()</a>, <a class="el" href="../../d0/d8e/app__while_8c_source.html#l00152">find_matching_endwhile()</a>, <a class="el" href="../../d1/d02/app__if_8c_source.html#l00097">find_matching_priority()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00809">handle_cli_dialplan_save()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l05864">manager_show_dialplan_helper()</a>, <a class="el" href="../../de/d23/pbx__ael_8c_source.html#l00146">pbx_load_module()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l05677">show_debug_helper()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l05516">show_dialplan_helper()</a>, and <a class="el" href="../../db/d94/pbx_8c_source.html#l06179">unreference_cached_app()</a>.</p>
<div class="fragment"><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;{</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dd/ddb/extconf_8h.html#a1ff8ef2776ae960bade53e3f6b62e97b">localized_walk_contexts</a>(con);</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;}</div><div class="ttc" id="extconf_8h_html_a1ff8ef2776ae960bade53e3f6b62e97b"><div class="ttname"><a href="../../dd/ddb/extconf_8h.html#a1ff8ef2776ae960bade53e3f6b62e97b">localized_walk_contexts</a></div><div class="ttdeci">struct ast_context * localized_walk_contexts(struct ast_context *con)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc5/extconf_8c_source.html#l04032">extconf.c:4032</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a84c0f2d77948217566a9fd4775879f84"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a84c0f2d77948217566a9fd4775879f84">&#9670;&nbsp;</a></span>ast_walk_extension_priorities()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="../../d7/d00/structast__exten.html">ast_exten</a> * ast_walk_extension_priorities </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d7/d00/structast__exten.html">ast_exten</a> *&#160;</td>
          <td class="paramname"><em>exten</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d7/d00/structast__exten.html">ast_exten</a> *&#160;</td>
          <td class="paramname"><em>priority</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/dc5/extconf_8c_source.html#l04063">4063</a> of file <a class="el" href="../../d4/dc5/extconf_8c_source.html">extconf.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/d94/pbx_8c_source.html#l00238">ast_exten::exten</a>, and <a class="el" href="../../db/d94/pbx_8c_source.html#l00250">ast_exten::peer</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00550">complete_dialplan_remove_extension()</a>, <a class="el" href="../../d1/d02/app__if_8c_source.html#l00097">find_matching_priority()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00809">handle_cli_dialplan_save()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l05864">manager_show_dialplan_helper()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l05516">show_dialplan_helper()</a>, and <a class="el" href="../../db/d94/pbx_8c_source.html#l06179">unreference_cached_app()</a>.</p>
<div class="fragment"><div class="line"><a name="l04065"></a><span class="lineno"> 4065</span>&#160;{</div><div class="line"><a name="l04066"></a><span class="lineno"> 4066</span>&#160;   <span class="keywordflow">return</span> priority ? priority-&gt;<a class="code" href="../../d7/d00/structast__exten.html#ab7c1308495be24ebfa4c40a455d50145">peer</a> : <a class="code" href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>;</div><div class="line"><a name="l04067"></a><span class="lineno"> 4067</span>&#160;}</div><div class="ttc" id="chan__alsa_8c_html_a78d4847658b695383d849efd12399b38"><div class="ttname"><a href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a></div><div class="ttdeci">static char exten[AST_MAX_EXTENSION]</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d45/chan__alsa_8c_source.html#l00118">chan_alsa.c:118</a></div></div>
<div class="ttc" id="structast__exten_html_ab7c1308495be24ebfa4c40a455d50145"><div class="ttname"><a href="../../d7/d00/structast__exten.html#ab7c1308495be24ebfa4c40a455d50145">ast_exten::peer</a></div><div class="ttdeci">struct ast_exten * peer</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l00250">pbx.c:250</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2c961dcbdcade8fac28960ed67c89bd2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c961dcbdcade8fac28960ed67c89bd2">&#9670;&nbsp;</a></span>ast_wrlock_context()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_wrlock_context </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d6/d7c/structast__context.html">ast_context</a> *&#160;</td>
          <td class="paramname"><em>con</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write locks a given context. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">con</td><td>context to lock</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>on success </td></tr>
    <tr><td class="paramname">-1</td><td>on failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../db/d94/pbx_8c_source.html#l08520">8520</a> of file <a class="el" href="../../db/d94/pbx_8c_source.html">pbx.c</a>.</p>

<p class="reference">References <a class="el" href="../../dd/d42/lock_8h_source.html#l00234">ast_rwlock_wrlock</a>, and <a class="el" href="../../db/d94/pbx_8c_source.html#l00285">ast_context::lock</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d94/pbx_8c_source.html#l08095">__ast_context_destroy()</a>, <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00484">add_hints()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l07325">ast_add_extension2_lockopt()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l06890">ast_context_add_ignorepat2()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l06726">ast_context_add_include2()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l06791">ast_context_add_switch2()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l04987">ast_context_remove_extension_callerid2()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l06850">ast_context_remove_ignorepat2()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l04863">ast_context_remove_include2()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l04920">ast_context_remove_switch2()</a>, <a class="el" href="../../d1/db7/parking__bridge__features_8c_source.html#l00575">parking_duration_callback()</a>, and <a class="el" href="../../d7/d45/res__parking_8c_source.html#l00758">parking_lot_cfg_create_extensions()</a>.</p>
<div class="fragment"><div class="line"><a name="l08521"></a><span class="lineno"> 8521</span>&#160;{</div><div class="line"><a name="l08522"></a><span class="lineno"> 8522</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dd/d42/lock_8h.html#a045bd81ceab2de81e42af338ad7cf121">ast_rwlock_wrlock</a>(&amp;con-&gt;<a class="code" href="../../d6/d7c/structast__context.html#ace4e0066a5b24f84b90536e9906619f6">lock</a>);</div><div class="line"><a name="l08523"></a><span class="lineno"> 8523</span>&#160;}</div><div class="ttc" id="structast__context_html_ace4e0066a5b24f84b90536e9906619f6"><div class="ttname"><a href="../../d6/d7c/structast__context.html#ace4e0066a5b24f84b90536e9906619f6">ast_context::lock</a></div><div class="ttdeci">ast_rwlock_t lock</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l00285">pbx.c:285</a></div></div>
<div class="ttc" id="lock_8h_html_a045bd81ceab2de81e42af338ad7cf121"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a045bd81ceab2de81e42af338ad7cf121">ast_rwlock_wrlock</a></div><div class="ttdeci">#define ast_rwlock_wrlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00234">lock.h:234</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a18c87dac5f7f4368c11b67d8026adc22"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a18c87dac5f7f4368c11b67d8026adc22">&#9670;&nbsp;</a></span>ast_wrlock_contexts()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_wrlock_contexts </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write locks the context list. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>on success </td></tr>
    <tr><td class="paramname">-1</td><td>on error </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../db/d94/pbx_8c_source.html#l08502">8502</a> of file <a class="el" href="../../db/d94/pbx_8c_source.html">pbx.c</a>.</p>

<p class="reference">References <a class="el" href="../../dd/d42/lock_8h_source.html#l00187">ast_mutex_lock</a>, and <a class="el" href="../../db/d94/pbx_8c_source.html#l00785">conlock</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00484">add_hints()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08260">ast_context_destroy()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08244">ast_context_destroy_by_name()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l06198">ast_context_find_or_create()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l06468">ast_merge_contexts_and_delete()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l00289">complete_dialplan_remove_include()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l01195">manager_dialplan_extension_add()</a>, <a class="el" href="../../d1/db7/parking__bridge__features_8c_source.html#l00575">parking_duration_callback()</a>, and <a class="el" href="../../d7/d45/res__parking_8c_source.html#l00758">parking_lot_cfg_create_extensions()</a>.</p>
<div class="fragment"><div class="line"><a name="l08503"></a><span class="lineno"> 8503</span>&#160;{</div><div class="line"><a name="l08504"></a><span class="lineno"> 8504</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dd/d42/lock_8h.html#ac5e13c7fe64d3b271a52028b0a78b92b">ast_mutex_lock</a>(&amp;<a class="code" href="../../db/d94/pbx_8c.html#a7470458bc954de8f3d698bd99b25aed5">conlock</a>);</div><div class="line"><a name="l08505"></a><span class="lineno"> 8505</span>&#160;}</div><div class="ttc" id="lock_8h_html_ac5e13c7fe64d3b271a52028b0a78b92b"><div class="ttname"><a href="../../dd/d42/lock_8h.html#ac5e13c7fe64d3b271a52028b0a78b92b">ast_mutex_lock</a></div><div class="ttdeci">#define ast_mutex_lock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00187">lock.h:187</a></div></div>
<div class="ttc" id="pbx_8c_html_a7470458bc954de8f3d698bd99b25aed5"><div class="ttname"><a href="../../db/d94/pbx_8c.html#a7470458bc954de8f3d698bd99b25aed5">conlock</a></div><div class="ttdeci">static ast_mutex_t conlock</div><div class="ttdoc">Lock for the ast_context list. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l00785">pbx.c:785</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a92a606276589c513842f0cd7e455126b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a92a606276589c513842f0cd7e455126b">&#9670;&nbsp;</a></span>pbx_builtin_clear_globals()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pbx_builtin_clear_globals </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d8c/pbx__variables_8c_source.html#l01191">1191</a> of file <a class="el" href="../../d3/d8c/pbx__variables_8c_source.html">pbx_variables.c</a>.</p>

<p class="reference">References <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00832">AST_LIST_REMOVE_HEAD</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00232">ast_rwlock_unlock</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00234">ast_rwlock_wrlock</a>, <a class="el" href="../../d4/dc5/extconf_8c_source.html#l02473">ast_var_delete()</a>, <a class="el" href="../../d0/d7d/structast__var__t.html#a55d5c7988e3164d7310d88c67d97a1db">ast_var_t::entries</a>, and <a class="el" href="../../d3/d8c/pbx__variables_8c_source.html#l00108">globalslock</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l01576">handle_cli_dialplan_reload()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l02152">reload()</a>, and <a class="el" href="../../d3/d8c/pbx__variables_8c_source.html#l01208">unload_pbx_variables()</a>.</p>
<div class="fragment"><div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;{</div><div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d7d/structast__var__t.html">ast_var_t</a> *vardata;</div><div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;</div><div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a045bd81ceab2de81e42af338ad7cf121">ast_rwlock_wrlock</a>(&amp;<a class="code" href="../../d3/d8c/pbx__variables_8c.html#a3bbd0f743b066c2670d7301b078f6510">globalslock</a>);</div><div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;   <span class="keywordflow">while</span> ((vardata = <a class="code" href="../../df/d90/linkedlists_8h.html#aadfe2a69fbba4f27c201266a2ca5f989">AST_LIST_REMOVE_HEAD</a>(&amp;<a class="code" href="../../d3/d8c/pbx__variables_8c.html#aec3689c71194f8504dafc644005a97db">globals</a>, <a class="code" href="../../d0/d7d/structast__var__t.html#a55d5c7988e3164d7310d88c67d97a1db">entries</a>)))</div><div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;      <a class="code" href="../../d9/de7/chanvars_8h.html#ae19fa022349aa0481f982ccced85d7ba">ast_var_delete</a>(vardata);</div><div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#ac2920a1db37313ec46bd91dc83bf9c8a">ast_rwlock_unlock</a>(&amp;<a class="code" href="../../d3/d8c/pbx__variables_8c.html#a3bbd0f743b066c2670d7301b078f6510">globalslock</a>);</div><div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;}</div><div class="ttc" id="lock_8h_html_ac2920a1db37313ec46bd91dc83bf9c8a"><div class="ttname"><a href="../../dd/d42/lock_8h.html#ac2920a1db37313ec46bd91dc83bf9c8a">ast_rwlock_unlock</a></div><div class="ttdeci">#define ast_rwlock_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00232">lock.h:232</a></div></div>
<div class="ttc" id="linkedlists_8h_html_aadfe2a69fbba4f27c201266a2ca5f989"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#aadfe2a69fbba4f27c201266a2ca5f989">AST_LIST_REMOVE_HEAD</a></div><div class="ttdeci">#define AST_LIST_REMOVE_HEAD(head, field)</div><div class="ttdoc">Removes and returns the head entry from a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00832">linkedlists.h:832</a></div></div>
<div class="ttc" id="structast__var__t_html"><div class="ttname"><a href="../../d0/d7d/structast__var__t.html">ast_var_t</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de7/chanvars_8h_source.html#l00028">chanvars.h:28</a></div></div>
<div class="ttc" id="chanvars_8h_html_ae19fa022349aa0481f982ccced85d7ba"><div class="ttname"><a href="../../d9/de7/chanvars_8h.html#ae19fa022349aa0481f982ccced85d7ba">ast_var_delete</a></div><div class="ttdeci">void ast_var_delete(struct ast_var_t *var)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc5/extconf_8c_source.html#l02473">extconf.c:2473</a></div></div>
<div class="ttc" id="pbx__variables_8c_html_aec3689c71194f8504dafc644005a97db"><div class="ttname"><a href="../../d3/d8c/pbx__variables_8c.html#aec3689c71194f8504dafc644005a97db">globals</a></div><div class="ttdeci">static struct varshead globals</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d8c/pbx__variables_8c_source.html#l00109">pbx_variables.c:109</a></div></div>
<div class="ttc" id="structast__var__t_html_a55d5c7988e3164d7310d88c67d97a1db"><div class="ttname"><a href="../../d0/d7d/structast__var__t.html#a55d5c7988e3164d7310d88c67d97a1db">ast_var_t::entries</a></div><div class="ttdeci">struct ast_var_t::@249 entries</div></div>
<div class="ttc" id="lock_8h_html_a045bd81ceab2de81e42af338ad7cf121"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a045bd81ceab2de81e42af338ad7cf121">ast_rwlock_wrlock</a></div><div class="ttdeci">#define ast_rwlock_wrlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00234">lock.h:234</a></div></div>
<div class="ttc" id="pbx__variables_8c_html_a3bbd0f743b066c2670d7301b078f6510"><div class="ttname"><a href="../../d3/d8c/pbx__variables_8c.html#a3bbd0f743b066c2670d7301b078f6510">globalslock</a></div><div class="ttdeci">static ast_rwlock_t globalslock</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d8c/pbx__variables_8c_source.html#l00108">pbx_variables.c:108</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a98c5425b90ec7c5e136a40f529170b1b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a98c5425b90ec7c5e136a40f529170b1b">&#9670;&nbsp;</a></span>pbx_builtin_getvar_helper()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* pbx_builtin_getvar_helper </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return a pointer to the value of the corresponding channel variable. </p>
<dl class="section note"><dt>Note</dt><dd>Will lock the channel.</dd>
<dd>
This function will return a pointer to the buffer inside the channel variable. This value should only be accessed with the channel locked. If the value needs to be kept around, it should be done by using the following thread-safe code: <div class="fragment"><div class="line"><span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../dc/df2/ast__expr2f_8c.html#a1b0936415a643c88ce543099c10e0d7f">var</a>;</div><div class="line"></div><div class="line"><a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(chan);</div><div class="line"><span class="keywordflow">if</span> ((var = <a class="code" href="../../db/de0/pbx_8h.html#a98c5425b90ec7c5e136a40f529170b1b">pbx_builtin_getvar_helper</a>(chan, <span class="stringliteral">&quot;MYVAR&quot;</span>))) {</div><div class="line">   var = <a class="code" href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a>(var);</div><div class="line">}</div><div class="line"><a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div></div><!-- fragment --> </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d8c/pbx__variables_8c_source.html#l01000">1000</a> of file <a class="el" href="../../d3/d8c/pbx__variables_8c_source.html">pbx_variables.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d7b/channel_8h_source.html#l02945">ast_channel_lock</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00932">ast_channel_varshead()</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00490">AST_LIST_TRAVERSE</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00233">ast_rwlock_rdlock</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00232">ast_rwlock_unlock</a>, <a class="el" href="../../d9/df9/chanvars_8c_source.html#l00060">ast_var_name()</a>, <a class="el" href="../../d9/df9/chanvars_8c_source.html#l00080">ast_var_value()</a>, <a class="el" href="../../d3/d8c/pbx__variables_8c_source.html#l00108">globalslock</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d94/pbx_8c_source.html#l04310">__ast_pbx_run()</a>, <a class="el" href="../../d1/d02/app__if_8c_source.html#l00179">_if_exec()</a>, <a class="el" href="../../d0/d1b/app__macro_8c_source.html#l00236">_macro_exec()</a>, <a class="el" href="../../d0/d8e/app__while_8c_source.html#l00197">_while_exec()</a>, <a class="el" href="../../de/d11/app__agent__pool_8c_source.html#l02527">action_agents()</a>, <a class="el" href="../../d1/d75/res__pjsip__refer_8c_source.html#l01223">add_header_from_channel_var()</a>, <a class="el" href="../../de/d11/app__agent__pool_8c_source.html#l02426">agent_handle_show_specific()</a>, <a class="el" href="../../de/d11/app__agent__pool_8c_source.html#l02040">agent_login_channel_config()</a>, <a class="el" href="../../de/d11/app__agent__pool_8c_source.html#l01889">agent_request_exec()</a>, <a class="el" href="../../de/d11/app__agent__pool_8c_source.html#l02327">agent_show_requested()</a>, <a class="el" href="../../d0/db6/app__mysql_8c_source.html#l00321">aMYSQL_connect()</a>, <a class="el" href="../../d2/d09/sig__analog_8c_source.html#l00987">analog_call()</a>, <a class="el" href="../../d9/d1e/func__strings_8c_source.html#l01017">array()</a>, <a class="el" href="../../d5/d92/features_8c_source.html#l00886">ast_bridge_timelimit()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l04729">ast_bridge_transfer_attended()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l05988">ast_call_forward()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l10435">ast_channel_connected_line_macro()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l10539">ast_channel_connected_line_sub()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l10487">ast_channel_redirecting_macro()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l10584">ast_channel_redirecting_sub()</a>, <a class="el" href="../../de/d26/app__externalivr_8c_source.html#l00304">ast_eivr_getvariable()</a>, <a class="el" href="../../de/d71/features__config_8c_source.html#l01325">ast_get_chan_applicationmap()</a>, <a class="el" href="../../d2/d1b/res__monitor_8c_source.html#l00461">ast_monitor_stop()</a>, <a class="el" href="../../df/d2e/core__unreal_8c_source.html#l01018">ast_unreal_hangup()</a>, <a class="el" href="../../d0/df4/app__attended__transfer_8c_source.html#l00077">attended_transfer_exec()</a>, <a class="el" href="../../d5/d92/features_8c_source.html#l00486">bridge_check_monitor()</a>, <a class="el" href="../../d9/dc5/parking__bridge_8c_source.html#l00206">bridge_parking_push()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l08038">channel_get_external_vars()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l01203">check_bridge_play_sound()</a>, <a class="el" href="../../dc/d04/app__chanspy_8c_source.html#l00892">common_exec()</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l03177">conf_run()</a>, <a class="el" href="../../d7/d45/res__parking_8c_source.html#l00970">create_dynamic_lot_full()</a>, <a class="el" href="../../d1/d1e/func__math_8c_source.html#l00423">crement_function_read()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l05992">dahdi_hangup()</a>, <a class="el" href="../../d9/d12/app__dial_8c_source.html#l02254">dial_exec_full()</a>, <a class="el" href="../../d9/d12/app__dial_8c_source.html#l00930">do_forward()</a>, <a class="el" href="../../d1/dc0/pbx__dundi_8c_source.html#l04832">dundi_exec()</a>, <a class="el" href="../../d1/dc0/pbx__dundi_8c_source.html#l04783">dundi_helper()</a>, <a class="el" href="../../dd/de9/res__agi_8c_source.html#l04569">eagi_exec()</a>, <a class="el" href="../../d9/d45/bridge__builtin__features_8c_source.html#l00408">feature_automixmonitor()</a>, <a class="el" href="../../d9/d45/bridge__builtin__features_8c_source.html#l00220">feature_automonitor()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l03472">feature_blind_transfer()</a>, <a class="el" href="../../d9/db1/app__directed__pickup_8c_source.html#l00268">find_by_mark()</a>, <a class="el" href="../../d7/d45/res__parking_8c_source.html#l00607">find_channel_parking_lot_name()</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l04500">find_conf_realtime()</a>, <a class="el" href="../../d9/d3d/func__channel_8c_source.html#l00290">func_channel_read()</a>, <a class="el" href="../../d9/dc5/parking__bridge_8c_source.html#l00109">generate_parked_user()</a>, <a class="el" href="../../d0/d60/res__fax_8c_source.html#l01590">generic_fax_exec()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l19043">get_also_info()</a>, <a class="el" href="../../d1/d02/app__if_8c_source.html#l00090">get_index()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l18812">get_refer_info()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01380">get_transfer_context()</a>, <a class="el" href="../../d1/d3f/func__global_8c_source.html#l00123">global_read()</a>, <a class="el" href="../../d1/d71/app__stack_8c_source.html#l00970">gosub_run()</a>, <a class="el" href="../../de/d43/dial_8c_source.html#l00501">handle_call_forward()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l03537">handle_clear_alarms()</a>, <a class="el" href="../../d1/d71/app__stack_8c_source.html#l01118">handle_gosub()</a>, <a class="el" href="../../da/dfb/app__queue_8c_source.html#l06398">handle_hangup()</a>, <a class="el" href="../../d9/d1e/func__strings_8c_source.html#l01202">hash_read()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l05076">iax2_call()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l14339">iax2_exec()</a>, <a class="el" href="../../d7/d9b/chan__misdn_8c_source.html#l08786">import_ch()</a>, <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l06601">leave_voicemail()</a>, <a class="el" href="../../d1/d71/app__stack_8c_source.html#l00711">local_read()</a>, <a class="el" href="../../d0/d1b/app__macro_8c_source.html#l00172">macro_fixup()</a>, <a class="el" href="../../d8/d93/app__mixmonitor_8c_source.html#l01500">manager_mixmonitor()</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l02966">meetme_menu_admin_extended()</a>, <a class="el" href="../../d0/dd6/chan__mgcp_8c_source.html#l00826">mgcp_call()</a>, <a class="el" href="../../de/dfe/app__minivm_8c_source.html#l02458">minivm_delete_exec()</a>, <a class="el" href="../../de/dfe/app__minivm_8c_source.html#l02137">minivm_notify_exec()</a>, <a class="el" href="../../d7/d9b/chan__misdn_8c_source.html#l06824">misdn_answer()</a>, <a class="el" href="../../d7/d9b/chan__misdn_8c_source.html#l07117">misdn_hangup()</a>, <a class="el" href="../../d8/d8f/app__morsecode_8c_source.html#l00181">morsecode_exec()</a>, <a class="el" href="../../de/dfe/app__minivm_8c_source.html#l01811">notify_new_message()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00990">ooh323_call()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l01087">ooh323_hangup()</a>, <a class="el" href="../../da/ded/parking__applications_8c_source.html#l00545">park_app_exec()</a>, <a class="el" href="../../df/d1d/pbx__builtins_8c_source.html#l01144">pbx_builtin_background()</a>, <a class="el" href="../../df/d1d/pbx__builtins_8c_source.html#l00905">pbx_builtin_gotoiftime()</a>, <a class="el" href="../../df/d1d/pbx__builtins_8c_source.html#l01436">pbx_builtin_saycharacters()</a>, <a class="el" href="../../df/d1d/pbx__builtins_8c_source.html#l01380">pbx_builtin_saycharacters_case()</a>, <a class="el" href="../../df/d1d/pbx__builtins_8c_source.html#l01340">pbx_builtin_saydigits()</a>, <a class="el" href="../../df/d1d/pbx__builtins_8c_source.html#l01360">pbx_builtin_saymoney()</a>, <a class="el" href="../../df/d1d/pbx__builtins_8c_source.html#l01293">pbx_builtin_saynumber()</a>, <a class="el" href="../../df/d1d/pbx__builtins_8c_source.html#l01456">pbx_builtin_sayphonetic()</a>, <a class="el" href="../../d5/d92/features_8c_source.html#l00536">pre_bridge_setup()</a>, <a class="el" href="../../da/dfb/app__queue_8c_source.html#l08183">queue_exec()</a>, <a class="el" href="../../dc/d5c/app__alarmreceiver_8c_source.html#l00611">receive_ademco_event()</a>, <a class="el" href="../../d0/d60/res__fax_8c_source.html#l02018">report_receive_fax_status()</a>, <a class="el" href="../../d0/d60/res__fax_8c_source.html#l02527">report_send_fax_status()</a>, <a class="el" href="../../d9/d12/app__dial_8c_source.html#l03434">retrydial_exec()</a>, <a class="el" href="../../da/dfb/app__queue_8c_source.html#l04478">ring_entry()</a>, <a class="el" href="../../dd/de9/res__agi_8c_source.html#l04112">run_agi()</a>, <a class="el" href="../../da/df8/app__sayunixtime_8c_source.html#l00118">sayunixtime_exec()</a>, <a class="el" href="../../d8/d89/app__sendtext_8c_source.html#l00149">sendtext_exec()</a>, <a class="el" href="../../d4/d92/res__pjsip__session_8c_source.html#l01637">set_from_header()</a>, <a class="el" href="../../df/dde/app__fax_8c_source.html#l00293">set_local_info()</a>, <a class="el" href="../../d9/d45/bridge__builtin__features_8c_source.html#l00063">set_touch_variable()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l04435">set_transfer_variables_all()</a>, <a class="el" href="../../d0/d80/chan__skinny_8c_source.html#l05560">setsubstate()</a>, <a class="el" href="../../da/dfb/app__queue_8c_source.html#l06648">setup_mixmonitor()</a>, <a class="el" href="../../da/ded/parking__applications_8c_source.html#l00363">setup_park_common_datastore()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l34078">sip_addheader()</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l07228">sla_trunk_exec()</a>, <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html#l00700">speech_background()</a>, <a class="el" href="../../d0/d29/chan__pjsip_8c_source.html#l02044">transfer_refer()</a>, <a class="el" href="../../da/dfb/app__queue_8c_source.html#l06722">try_calling()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l07405">try_suggested_sip_codec()</a>, and <a class="el" href="../../d9/d12/app__dial_8c_source.html#l01202">wait_for_answer()</a>.</p>
<div class="fragment"><div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;{</div><div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d7d/structast__var__t.html">ast_var_t</a> *variables;</div><div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *ret = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;   <span class="keywordtype">int</span> i;</div><div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/de6/structvarshead.html">varshead</a> *places[2] = { <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, &amp;<a class="code" href="../../d3/d8c/pbx__variables_8c.html#aec3689c71194f8504dafc644005a97db">globals</a> };</div><div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;</div><div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>)</div><div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;</div><div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;   <span class="keywordflow">if</span> (chan) {</div><div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(chan);</div><div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;      places[0] = <a class="code" href="../../d5/d7b/channel_8h.html#add6255866ea1651a90cf70d963c4920a">ast_channel_varshead</a>(chan);</div><div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;   }</div><div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;</div><div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;   <span class="keywordflow">for</span> (i = 0; i &lt; 2; i++) {</div><div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;      <span class="keywordflow">if</span> (!places[i])</div><div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;         <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;      <span class="keywordflow">if</span> (places[i] == &amp;globals)</div><div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;         <a class="code" href="../../dd/d42/lock_8h.html#a7330ac9d36b05bad68b188c2dcfa42d7">ast_rwlock_rdlock</a>(&amp;<a class="code" href="../../d3/d8c/pbx__variables_8c.html#a3bbd0f743b066c2670d7301b078f6510">globalslock</a>);</div><div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;      <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(places[i], variables, entries) {</div><div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;         <span class="keywordflow">if</span> (!strcmp(<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, <a class="code" href="../../d9/de7/chanvars_8h.html#a356a31cd608ec07d3668dcd589be49d8">ast_var_name</a>(variables))) {</div><div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;            ret = <a class="code" href="../../d9/de7/chanvars_8h.html#a8e0081172db71c5021d20706c50d959c">ast_var_value</a>(variables);</div><div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;         }</div><div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;      }</div><div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;      <span class="keywordflow">if</span> (places[i] == &amp;globals)</div><div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;         <a class="code" href="../../dd/d42/lock_8h.html#ac2920a1db37313ec46bd91dc83bf9c8a">ast_rwlock_unlock</a>(&amp;<a class="code" href="../../d3/d8c/pbx__variables_8c.html#a3bbd0f743b066c2670d7301b078f6510">globalslock</a>);</div><div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;      <span class="keywordflow">if</span> (ret)</div><div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;   }</div><div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;</div><div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;   <span class="keywordflow">if</span> (chan)</div><div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;</div><div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;   <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;}</div><div class="ttc" id="lock_8h_html_a7330ac9d36b05bad68b188c2dcfa42d7"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a7330ac9d36b05bad68b188c2dcfa42d7">ast_rwlock_rdlock</a></div><div class="ttdeci">#define ast_rwlock_rdlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00233">lock.h:233</a></div></div>
<div class="ttc" id="channel_8h_html_a493bdebe876caafb8ee535853310364a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a></div><div class="ttdeci">#define ast_channel_lock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02945">channel.h:2945</a></div></div>
<div class="ttc" id="chanvars_8h_html_a8e0081172db71c5021d20706c50d959c"><div class="ttname"><a href="../../d9/de7/chanvars_8h.html#a8e0081172db71c5021d20706c50d959c">ast_var_value</a></div><div class="ttdeci">const char * ast_var_value(const struct ast_var_t *var)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/df9/chanvars_8c_source.html#l00080">chanvars.c:80</a></div></div>
<div class="ttc" id="chanvars_8h_html_a356a31cd608ec07d3668dcd589be49d8"><div class="ttname"><a href="../../d9/de7/chanvars_8h.html#a356a31cd608ec07d3668dcd589be49d8">ast_var_name</a></div><div class="ttdeci">const char * ast_var_name(const struct ast_var_t *var)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/df9/chanvars_8c_source.html#l00060">chanvars.c:60</a></div></div>
<div class="ttc" id="channel_8h_html_add6255866ea1651a90cf70d963c4920a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#add6255866ea1651a90cf70d963c4920a">ast_channel_varshead</a></div><div class="ttdeci">struct varshead * ast_channel_varshead(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00932">channel_internal_api.c:932</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="lock_8h_html_ac2920a1db37313ec46bd91dc83bf9c8a"><div class="ttname"><a href="../../dd/d42/lock_8h.html#ac2920a1db37313ec46bd91dc83bf9c8a">ast_rwlock_unlock</a></div><div class="ttdeci">#define ast_rwlock_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00232">lock.h:232</a></div></div>
<div class="ttc" id="structast__var__t_html"><div class="ttname"><a href="../../d0/d7d/structast__var__t.html">ast_var_t</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de7/chanvars_8h_source.html#l00028">chanvars.h:28</a></div></div>
<div class="ttc" id="structvarshead_html"><div class="ttname"><a href="../../dd/de6/structvarshead.html">varshead</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de7/chanvars_8h_source.html#l00034">chanvars.h:34</a></div></div>
<div class="ttc" id="pbx__variables_8c_html_aec3689c71194f8504dafc644005a97db"><div class="ttname"><a href="../../d3/d8c/pbx__variables_8c.html#aec3689c71194f8504dafc644005a97db">globals</a></div><div class="ttdeci">static struct varshead globals</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d8c/pbx__variables_8c_source.html#l00109">pbx_variables.c:109</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a3008b2f4f236b72d8bcfb80e346324ef"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a></div><div class="ttdeci">#define AST_LIST_TRAVERSE(head, var, field)</div><div class="ttdoc">Loops over (traverses) the entries in a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00490">linkedlists.h:490</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="cdr__mysql_8c_html_a0980a105ccb863d8008eb6201a51da52"><div class="ttname"><a href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a></div><div class="ttdeci">static const char name[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/cdr__mysql_8c_source.html#l00074">cdr_mysql.c:74</a></div></div>
<div class="ttc" id="pbx__variables_8c_html_a3bbd0f743b066c2670d7301b078f6510"><div class="ttname"><a href="../../d3/d8c/pbx__variables_8c.html#a3bbd0f743b066c2670d7301b078f6510">globalslock</a></div><div class="ttdeci">static ast_rwlock_t globalslock</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d8c/pbx__variables_8c_source.html#l00108">pbx_variables.c:108</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a9e00ba1268d8792b95063aeedd9244ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e00ba1268d8792b95063aeedd9244ea">&#9670;&nbsp;</a></span>pbx_builtin_pushvar_helper()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pbx_builtin_pushvar_helper </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add a variable to the channel variable stack, without removing any previously set value. </p>
<dl class="section note"><dt>Note</dt><dd>Will lock the channel. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d8c/pbx__variables_8c_source.html#l01038">1038</a> of file <a class="el" href="../../d3/d8c/pbx__variables_8c_source.html">pbx_variables.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d7b/channel_8h_source.html#l02945">ast_channel_lock</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00932">ast_channel_varshead()</a>, <a class="el" href="../../db/d70/pbx__functions_8c_source.html#l00692">ast_func_write()</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00710">AST_LIST_INSERT_HEAD</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00232">ast_rwlock_unlock</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00234">ast_rwlock_wrlock</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00300">ast_strdupa</a>, <a class="el" href="../../d9/de7/chanvars_8h_source.html#l00040">ast_var_assign</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00463">ast_verb</a>, <a class="el" href="../../d3/d8c/pbx__variables_8c_source.html#l00109">globals</a>, <a class="el" href="../../d3/d8c/pbx__variables_8c_source.html#l00108">globalslock</a>, and <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/d1d/func__odbc_8c_source.html#l00725">acf_odbc_read()</a>, <a class="el" href="../../dc/d1d/func__odbc_8c_source.html#l00509">acf_odbc_write()</a>, <a class="el" href="../../dc/d1d/func__odbc_8c_source.html#l01430">cli_odbc_read()</a>, <a class="el" href="../../dc/d1d/func__odbc_8c_source.html#l01643">cli_odbc_write()</a>, and <a class="el" href="../../d1/d71/app__stack_8c_source.html#l00260">frame_set_var()</a>.</p>
<div class="fragment"><div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;{</div><div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d7d/structast__var__t.html">ast_var_t</a> *newvariable;</div><div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/de6/structvarshead.html">varshead</a> *headp;</div><div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;</div><div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>[strlen(<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>)-1] == <span class="charliteral">&#39;)&#39;</span>) {</div><div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;      <span class="keywordtype">char</span> *<span class="keyword">function</span> = <a class="code" href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a>(<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>);</div><div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;</div><div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Cannot push a value onto a function\n&quot;</span>);</div><div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;      <a class="code" href="../../db/de0/pbx_8h.html#ae70e64cdf669396c88ea8eda900b0b3b">ast_func_write</a>(chan, <span class="keyword">function</span>, <a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>);</div><div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;   }</div><div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;</div><div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;   <span class="keywordflow">if</span> (chan) {</div><div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(chan);</div><div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;      headp = <a class="code" href="../../d5/d7b/channel_8h.html#add6255866ea1651a90cf70d963c4920a">ast_channel_varshead</a>(chan);</div><div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a045bd81ceab2de81e42af338ad7cf121">ast_rwlock_wrlock</a>(&amp;<a class="code" href="../../d3/d8c/pbx__variables_8c.html#a3bbd0f743b066c2670d7301b078f6510">globalslock</a>);</div><div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;      headp = &amp;<a class="code" href="../../d3/d8c/pbx__variables_8c.html#aec3689c71194f8504dafc644005a97db">globals</a>;</div><div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;   }</div><div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;</div><div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a> &amp;&amp; (newvariable = <a class="code" href="../../d9/de7/chanvars_8h.html#a78deeb18e93b145e9895346cef766577">ast_var_assign</a>(<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, <a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>))) {</div><div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;      <span class="keywordflow">if</span> (headp == &amp;<a class="code" href="../../d3/d8c/pbx__variables_8c.html#aec3689c71194f8504dafc644005a97db">globals</a>)</div><div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;         <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(2, <span class="stringliteral">&quot;Setting global variable &#39;%s&#39; to &#39;%s&#39;\n&quot;</span>, <a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, <a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>);</div><div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;      <a class="code" href="../../df/d90/linkedlists_8h.html#aa2ded2af046bb513f77056c27c083307">AST_LIST_INSERT_HEAD</a>(headp, newvariable, entries);</div><div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;   }</div><div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;</div><div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;   <span class="keywordflow">if</span> (chan)</div><div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;   <span class="keywordflow">else</span></div><div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#ac2920a1db37313ec46bd91dc83bf9c8a">ast_rwlock_unlock</a>(&amp;<a class="code" href="../../d3/d8c/pbx__variables_8c.html#a3bbd0f743b066c2670d7301b078f6510">globalslock</a>);</div><div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;}</div><div class="ttc" id="channel_8h_html_a493bdebe876caafb8ee535853310364a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a></div><div class="ttdeci">#define ast_channel_lock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02945">channel.h:2945</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="channel_8h_html_add6255866ea1651a90cf70d963c4920a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#add6255866ea1651a90cf70d963c4920a">ast_channel_varshead</a></div><div class="ttdeci">struct varshead * ast_channel_varshead(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00932">channel_internal_api.c:932</a></div></div>
<div class="ttc" id="syslog_8c_html_ac4f474c82e82cbb89ca7c36dd52be0ed"><div class="ttname"><a href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a></div><div class="ttdeci">int value</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d2f/syslog_8c_source.html#l00037">syslog.c:37</a></div></div>
<div class="ttc" id="lock_8h_html_ac2920a1db37313ec46bd91dc83bf9c8a"><div class="ttname"><a href="../../dd/d42/lock_8h.html#ac2920a1db37313ec46bd91dc83bf9c8a">ast_rwlock_unlock</a></div><div class="ttdeci">#define ast_rwlock_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00232">lock.h:232</a></div></div>
<div class="ttc" id="logger_8h_html_ad770f83c71e237e1f64163358ce4e13d"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a></div><div class="ttdeci">#define ast_verb(level,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00463">logger.h:463</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="astmm_8h_html_ab5f0750cc80ba337fdcbddea2d3a1ee6"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a></div><div class="ttdeci">#define ast_strdupa(s)</div><div class="ttdoc">duplicate a string in memory from the stack </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00300">astmm.h:300</a></div></div>
<div class="ttc" id="structast__var__t_html"><div class="ttname"><a href="../../d0/d7d/structast__var__t.html">ast_var_t</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de7/chanvars_8h_source.html#l00028">chanvars.h:28</a></div></div>
<div class="ttc" id="structvarshead_html"><div class="ttname"><a href="../../dd/de6/structvarshead.html">varshead</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de7/chanvars_8h_source.html#l00034">chanvars.h:34</a></div></div>
<div class="ttc" id="pbx__variables_8c_html_aec3689c71194f8504dafc644005a97db"><div class="ttname"><a href="../../d3/d8c/pbx__variables_8c.html#aec3689c71194f8504dafc644005a97db">globals</a></div><div class="ttdeci">static struct varshead globals</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d8c/pbx__variables_8c_source.html#l00109">pbx_variables.c:109</a></div></div>
<div class="ttc" id="linkedlists_8h_html_aa2ded2af046bb513f77056c27c083307"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#aa2ded2af046bb513f77056c27c083307">AST_LIST_INSERT_HEAD</a></div><div class="ttdeci">#define AST_LIST_INSERT_HEAD(head, elm, field)</div><div class="ttdoc">Inserts a list entry at the head of a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00710">linkedlists.h:710</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="cdr__mysql_8c_html_a0980a105ccb863d8008eb6201a51da52"><div class="ttname"><a href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a></div><div class="ttdeci">static const char name[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/cdr__mysql_8c_source.html#l00074">cdr_mysql.c:74</a></div></div>
<div class="ttc" id="chanvars_8h_html_a78deeb18e93b145e9895346cef766577"><div class="ttname"><a href="../../d9/de7/chanvars_8h.html#a78deeb18e93b145e9895346cef766577">ast_var_assign</a></div><div class="ttdeci">#define ast_var_assign(name, value)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de7/chanvars_8h_source.html#l00040">chanvars.h:40</a></div></div>
<div class="ttc" id="lock_8h_html_a045bd81ceab2de81e42af338ad7cf121"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a045bd81ceab2de81e42af338ad7cf121">ast_rwlock_wrlock</a></div><div class="ttdeci">#define ast_rwlock_wrlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00234">lock.h:234</a></div></div>
<div class="ttc" id="pbx__variables_8c_html_a3bbd0f743b066c2670d7301b078f6510"><div class="ttname"><a href="../../d3/d8c/pbx__variables_8c.html#a3bbd0f743b066c2670d7301b078f6510">globalslock</a></div><div class="ttdeci">static ast_rwlock_t globalslock</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d8c/pbx__variables_8c_source.html#l00108">pbx_variables.c:108</a></div></div>
<div class="ttc" id="pbx_8h_html_ae70e64cdf669396c88ea8eda900b0b3b"><div class="ttname"><a href="../../db/de0/pbx_8h.html#ae70e64cdf669396c88ea8eda900b0b3b">ast_func_write</a></div><div class="ttdeci">int ast_func_write(struct ast_channel *chan, const char *function, const char *value)</div><div class="ttdoc">executes a write operation on a function </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d70/pbx__functions_8c_source.html#l00692">pbx_functions.c:692</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a8621d7b5d172efa7f319e9fede9d7984"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8621d7b5d172efa7f319e9fede9d7984">&#9670;&nbsp;</a></span>pbx_builtin_raise_exception()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int pbx_builtin_raise_exception </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../df/d1d/pbx__builtins_8c_source.html#l00703">703</a> of file <a class="el" href="../../df/d1d/pbx__builtins_8c_source.html">pbx_builtins.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/d94/pbx_8c_source.html#l02806">raise_exception()</a>.</p>
<div class="fragment"><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;{</div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;   <span class="comment">/* Priority will become 1, next time through the AUTOLOOP */</span></div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../db/d94/pbx_8c.html#a7621524948e1703e981c745c74c14d01">raise_exception</a>(chan, reason, 0);</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;}</div><div class="ttc" id="pbx_8c_html_a7621524948e1703e981c745c74c14d01"><div class="ttname"><a href="../../db/d94/pbx_8c.html#a7621524948e1703e981c745c74c14d01">raise_exception</a></div><div class="ttdeci">int raise_exception(struct ast_channel *chan, const char *reason, int priority)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l02806">pbx.c:2806</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a847dc86089ce693d89a534512f16dad1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a847dc86089ce693d89a534512f16dad1">&#9670;&nbsp;</a></span>pbx_builtin_serialize_variables()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int pbx_builtin_serialize_variables </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../dd/da2/structast__str.html">ast_str</a> **&#160;</td>
          <td class="paramname"><em>buf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a human-readable string, specifying all variables and their corresponding values. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chan</td><td>Channel from which to read variables </td></tr>
    <tr><td class="paramname">buf</td><td>Dynamic string in which to place the result (should be allocated with ast_str_create). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../d6/d90/strings_8h.html#a9c34c6c6b8daaba24c0406270f3cf697" title="Create a malloc&#39;ed dynamic length string. ">ast_str_create</a> </dd></dl>
<dl class="section note"><dt>Note</dt><dd>Will lock the channel. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d8c/pbx__variables_8c_source.html#l00969">969</a> of file <a class="el" href="../../d3/d8c/pbx__variables_8c_source.html">pbx_variables.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d7b/channel_8h_source.html#l02945">ast_channel_lock</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00932">ast_channel_varshead()</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00490">AST_LIST_TRAVERSE</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l01091">ast_str_append()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00653">ast_str_reset()</a>, <a class="el" href="../../d9/df9/chanvars_8c_source.html#l00060">ast_var_name()</a>, <a class="el" href="../../d9/df9/chanvars_8c_source.html#l00080">ast_var_value()</a>, <a class="el" href="../../d0/d7d/structast__var__t.html#a55d5c7988e3164d7310d88c67d97a1db">ast_var_t::entries</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../dd/d27/res__adsi_8c_source.html#l00968">total</a>, and <a class="el" href="../../dc/df2/ast__expr2f_8c_source.html#l00614">var</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d2b/agent_8c_source.html#l00236">ast_var_channels_table()</a>, and <a class="el" href="../../d2/ddd/app__dumpchan_8c_source.html#l00172">dumpchan_exec()</a>.</p>
<div class="fragment"><div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;{</div><div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d7d/structast__var__t.html">ast_var_t</a> *variables;</div><div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../dc/df2/ast__expr2f_8c.html#a1b0936415a643c88ce543099c10e0d7f">var</a>, *<a class="code" href="../../d5/d85/structval.html">val</a>;</div><div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;   <span class="keywordtype">int</span> <a class="code" href="../../dd/d27/res__adsi_8c.html#ac7af894858cf396a219d632f40afdc8d">total</a> = 0;</div><div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;</div><div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;   <span class="keywordflow">if</span> (!chan)</div><div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;</div><div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;   <a class="code" href="../../d6/d90/strings_8h.html#a8239b9ad10367bfc936e9b60ff7706a8">ast_str_reset</a>(*buf);</div><div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;</div><div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(chan);</div><div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;</div><div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(<a class="code" href="../../d5/d7b/channel_8h.html#add6255866ea1651a90cf70d963c4920a">ast_channel_varshead</a>(chan), variables, <a class="code" href="../../d0/d7d/structast__var__t.html#a55d5c7988e3164d7310d88c67d97a1db">entries</a>) {</div><div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;      <span class="keywordflow">if</span> ((var = <a class="code" href="../../d9/de7/chanvars_8h.html#a356a31cd608ec07d3668dcd589be49d8">ast_var_name</a>(variables)) &amp;&amp; (val = <a class="code" href="../../d9/de7/chanvars_8h.html#a8e0081172db71c5021d20706c50d959c">ast_var_value</a>(variables))</div><div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;         <span class="comment">/* &amp;&amp; !ast_strlen_zero(var) &amp;&amp; !ast_strlen_zero(val) */</span></div><div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;         ) {</div><div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;         <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a1088afdd862a49b0fce34ebe02df8ca1">ast_str_append</a>(buf, 0, <span class="stringliteral">&quot;%s=%s\n&quot;</span>, var, val) &lt; 0) {</div><div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;            <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Data Buffer Size Exceeded!\n&quot;</span>);</div><div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;         } <span class="keywordflow">else</span></div><div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;            total++;</div><div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;      } <span class="keywordflow">else</span></div><div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;   }</div><div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;</div><div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;</div><div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dd/d27/res__adsi_8c.html#ac7af894858cf396a219d632f40afdc8d">total</a>;</div><div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;}</div><div class="ttc" id="channel_8h_html_a493bdebe876caafb8ee535853310364a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a></div><div class="ttdeci">#define ast_channel_lock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02945">channel.h:2945</a></div></div>
<div class="ttc" id="structval_html"><div class="ttname"><a href="../../d5/d85/structval.html">val</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd1/ast__expr2_8c_source.html#l00325">ast_expr2.c:325</a></div></div>
<div class="ttc" id="chanvars_8h_html_a8e0081172db71c5021d20706c50d959c"><div class="ttname"><a href="../../d9/de7/chanvars_8h.html#a8e0081172db71c5021d20706c50d959c">ast_var_value</a></div><div class="ttdeci">const char * ast_var_value(const struct ast_var_t *var)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/df9/chanvars_8c_source.html#l00080">chanvars.c:80</a></div></div>
<div class="ttc" id="chanvars_8h_html_a356a31cd608ec07d3668dcd589be49d8"><div class="ttname"><a href="../../d9/de7/chanvars_8h.html#a356a31cd608ec07d3668dcd589be49d8">ast_var_name</a></div><div class="ttdeci">const char * ast_var_name(const struct ast_var_t *var)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/df9/chanvars_8c_source.html#l00060">chanvars.c:60</a></div></div>
<div class="ttc" id="ast__expr2f_8c_html_a1b0936415a643c88ce543099c10e0d7f"><div class="ttname"><a href="../../dc/df2/ast__expr2f_8c.html#a1b0936415a643c88ce543099c10e0d7f">var</a></div><div class="ttdeci">#define var</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/ast__expr2f_8c_source.html#l00614">ast_expr2f.c:614</a></div></div>
<div class="ttc" id="strings_8h_html_a1088afdd862a49b0fce34ebe02df8ca1"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a1088afdd862a49b0fce34ebe02df8ca1">ast_str_append</a></div><div class="ttdeci">int ast_str_append(struct ast_str **buf, ssize_t max_len, const char *fmt,...)</div><div class="ttdoc">Append to a thread local dynamic string. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l01091">strings.h:1091</a></div></div>
<div class="ttc" id="channel_8h_html_add6255866ea1651a90cf70d963c4920a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#add6255866ea1651a90cf70d963c4920a">ast_channel_varshead</a></div><div class="ttdeci">struct varshead * ast_channel_varshead(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00932">channel_internal_api.c:932</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="structast__var__t_html"><div class="ttname"><a href="../../d0/d7d/structast__var__t.html">ast_var_t</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de7/chanvars_8h_source.html#l00028">chanvars.h:28</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a3008b2f4f236b72d8bcfb80e346324ef"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a></div><div class="ttdeci">#define AST_LIST_TRAVERSE(head, var, field)</div><div class="ttdoc">Loops over (traverses) the entries in a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00490">linkedlists.h:490</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="structast__var__t_html_a55d5c7988e3164d7310d88c67d97a1db"><div class="ttname"><a href="../../d0/d7d/structast__var__t.html#a55d5c7988e3164d7310d88c67d97a1db">ast_var_t::entries</a></div><div class="ttdeci">struct ast_var_t::@249 entries</div></div>
<div class="ttc" id="strings_8h_html_a8239b9ad10367bfc936e9b60ff7706a8"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a8239b9ad10367bfc936e9b60ff7706a8">ast_str_reset</a></div><div class="ttdeci">void ast_str_reset(struct ast_str *buf)</div><div class="ttdoc">Reset the content of a dynamic string. Useful before a series of ast_str_append. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00653">strings.h:653</a></div></div>
<div class="ttc" id="res__adsi_8c_html_ac7af894858cf396a219d632f40afdc8d"><div class="ttname"><a href="../../dd/d27/res__adsi_8c.html#ac7af894858cf396a219d632f40afdc8d">total</a></div><div class="ttdeci">static int total</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d27/res__adsi_8c_source.html#l00968">res_adsi.c:968</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a234508476cdee6fe06921552dfd46e4b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a234508476cdee6fe06921552dfd46e4b">&#9670;&nbsp;</a></span>pbx_builtin_setvar()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int pbx_builtin_setvar </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parse and set a single channel variable, where the name and value are separated with an '=' character. </p>
<dl class="section note"><dt>Note</dt><dd>Will lock the channel. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d8c/pbx__variables_8c_source.html#l01129">1129</a> of file <a class="el" href="../../d3/d8c/pbx__variables_8c_source.html">pbx_variables.c</a>.</p>

<p class="reference">References <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00300">ast_strdupa</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../d7/d6f/test__linkedlists_8c_source.html#l00048">c</a>, <a class="el" href="../../d4/dc5/extconf_8c_source.html#l02607">localized_pbx_builtin_setvar()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../d0/d29/cdr__mysql_8c_source.html#l00074">name</a>, <a class="el" href="../../d3/d8c/pbx__variables_8c_source.html#l01071">pbx_builtin_setvar_helper()</a>, <a class="el" href="../../de/dcc/conf2ael_8c_source.html#l00552">pbx_substitute_variables_helper()</a>, <a class="el" href="../../de/da3/include_2asterisk_2compat_8h.html#a40eca58273c74a20a17f137d18ba826c">strsep()</a>, and <a class="el" href="../../d4/d2f/syslog_8c_source.html#l00037">value</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/d85/pval_8c_source.html#l04413">ast_compile_ael2()</a>, and <a class="el" href="../../d3/d8c/pbx__variables_8c_source.html#l01216">load_pbx_variables()</a>.</p>
<div class="fragment"><div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;{</div><div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;   <span class="keywordtype">char</span> *<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, *<a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>, *mydata;</div><div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;</div><div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(data)) {</div><div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Set requires one variable name/value pair.\n&quot;</span>);</div><div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;   }</div><div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;</div><div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;   mydata = <a class="code" href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a>(data);</div><div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;   name = <a class="code" href="../../de/da3/include_2asterisk_2compat_8h.html#a40eca58273c74a20a17f137d18ba826c">strsep</a>(&amp;mydata, <span class="stringliteral">&quot;=&quot;</span>);</div><div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;   value = mydata;</div><div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;   <span class="keywordflow">if</span> (!value) {</div><div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Set requires an &#39;=&#39; to be a valid assignment.\n&quot;</span>);</div><div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;   }</div><div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;</div><div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;   <span class="keywordflow">if</span> (strchr(name, <span class="charliteral">&#39; &#39;</span>)) {</div><div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Please avoid unnecessary spaces on variables as it may lead to unexpected results (&#39;%s&#39; set to &#39;%s&#39;).\n&quot;</span>, name, mydata);</div><div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;   }</div><div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;</div><div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;   <a class="code" href="../../d3/d8c/pbx__variables_8c.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a>(chan, name, value);</div><div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;</div><div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;}</div><div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="syslog_8c_html_ac4f474c82e82cbb89ca7c36dd52be0ed"><div class="ttname"><a href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a></div><div class="ttdeci">int value</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d2f/syslog_8c_source.html#l00037">syslog.c:37</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="astmm_8h_html_ab5f0750cc80ba337fdcbddea2d3a1ee6"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a></div><div class="ttdeci">#define ast_strdupa(s)</div><div class="ttdoc">duplicate a string in memory from the stack </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00300">astmm.h:300</a></div></div>
<div class="ttc" id="cdr__mysql_8c_html_a0980a105ccb863d8008eb6201a51da52"><div class="ttname"><a href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a></div><div class="ttdeci">static const char name[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/cdr__mysql_8c_source.html#l00074">cdr_mysql.c:74</a></div></div>
<div class="ttc" id="pbx__variables_8c_html_a6e5b90edb84d216267148dddcffe9b9a"><div class="ttname"><a href="../../d3/d8c/pbx__variables_8c.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a></div><div class="ttdeci">int pbx_builtin_setvar_helper(struct ast_channel *chan, const char *name, const char *value)</div><div class="ttdoc">Add a variable to the channel variable stack, removing the most recently set value for the same name...</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d8c/pbx__variables_8c_source.html#l01071">pbx_variables.c:1071</a></div></div>
<div class="ttc" id="include_2asterisk_2compat_8h_html_a40eca58273c74a20a17f137d18ba826c"><div class="ttname"><a href="../../de/da3/include_2asterisk_2compat_8h.html#a40eca58273c74a20a17f137d18ba826c">strsep</a></div><div class="ttdeci">char * strsep(char **str, const char *delims)</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6e5b90edb84d216267148dddcffe9b9a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e5b90edb84d216267148dddcffe9b9a">&#9670;&nbsp;</a></span>pbx_builtin_setvar_helper()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int pbx_builtin_setvar_helper </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add a variable to the channel variable stack, removing the most recently set value for the same name. </p>
<dl class="section note"><dt>Note</dt><dd>Will lock the channel. May also be used to set a channel dialplan function to a particular value. </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../db/de0/pbx_8h.html#ae70e64cdf669396c88ea8eda900b0b3b" title="executes a write operation on a function ">ast_func_write</a> </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>-1 if the dialplan function fails to be set </dd></dl>
<dl class="section version"><dt>Version</dt><dd>1.8 changed the function to return an error code </dd></dl>
<p>True if the old value was not an empty string. </p>

<p class="definition">Definition at line <a class="el" href="../../d3/d8c/pbx__variables_8c_source.html#l01071">1071</a> of file <a class="el" href="../../d3/d8c/pbx__variables_8c_source.html">pbx_variables.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d7b/channel_8h_source.html#l02945">ast_channel_lock</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01150">ast_channel_publish_varset()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00932">ast_channel_varshead()</a>, <a class="el" href="../../db/d70/pbx__functions_8c_source.html#l00692">ast_func_write()</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00710">AST_LIST_INSERT_HEAD</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00556">AST_LIST_REMOVE_CURRENT</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00528">AST_LIST_TRAVERSE_SAFE_BEGIN</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00614">AST_LIST_TRAVERSE_SAFE_END</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00232">ast_rwlock_unlock</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00234">ast_rwlock_wrlock</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00300">ast_strdupa</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../d9/de7/chanvars_8h_source.html#l00040">ast_var_assign</a>, <a class="el" href="../../d4/dc5/extconf_8c_source.html#l02473">ast_var_delete()</a>, <a class="el" href="../../d9/df9/chanvars_8c_source.html#l00060">ast_var_name()</a>, <a class="el" href="../../d9/df9/chanvars_8c_source.html#l00080">ast_var_value()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00463">ast_verb</a>, <a class="el" href="../../d3/d8c/pbx__variables_8c_source.html#l00109">globals</a>, <a class="el" href="../../d3/d8c/pbx__variables_8c_source.html#l00108">globalslock</a>, and <a class="el" href="../../d0/d29/cdr__mysql_8c_source.html#l00074">name</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/d09/sig__analog_8c_source.html#l01711">__analog_ss_thread()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l04310">__ast_pbx_run()</a>, <a class="el" href="../../d1/d02/app__if_8c_source.html#l00179">_if_exec()</a>, <a class="el" href="../../d0/d1b/app__macro_8c_source.html#l00236">_macro_exec()</a>, <a class="el" href="../../d0/d8e/app__while_8c_source.html#l00197">_while_exec()</a>, <a class="el" href="../../d2/d3c/func__curl_8c_source.html#l00663">acf_curl_helper()</a>, <a class="el" href="../../dc/d1d/func__odbc_8c_source.html#l01127">acf_fetch()</a>, <a class="el" href="../../dc/d1d/func__odbc_8c_source.html#l00725">acf_odbc_read()</a>, <a class="el" href="../../dc/d1d/func__odbc_8c_source.html#l00509">acf_odbc_write()</a>, <a class="el" href="../../da/d92/res__odbc__transaction_8c_source.html#l00390">acf_transaction_write()</a>, <a class="el" href="../../d4/d10/manager_8c_source.html#l05164">action_atxfer()</a>, <a class="el" href="../../d0/dcf/app__confbridge_8c_source.html#l03022">action_kick_last()</a>, <a class="el" href="../../d4/d10/manager_8c_source.html#l04577">action_setvar()</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l05225">admin_exec()</a>, <a class="el" href="../../de/d11/app__agent__pool_8c_source.html#l02112">agent_login_exec()</a>, <a class="el" href="../../de/d11/app__agent__pool_8c_source.html#l01889">agent_request_exec()</a>, <a class="el" href="../../dd/de9/res__agi_8c_source.html#l04494">agi_exec_full()</a>, <a class="el" href="../../d0/db6/app__mysql_8c_source.html#l00473">aMYSQL_fetch()</a>, <a class="el" href="../../d0/db6/app__mysql_8c_source.html#l00295">aMYSQL_set()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l09512">analog_ss_thread()</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00701">app_control_set_channel_var()</a>, <a class="el" href="../../d1/d25/app__stasis_8c_source.html#l00083">app_exec()</a>, <a class="el" href="../../da/dfb/app__queue_8c_source.html#l08025">aqm_exec()</a>, <a class="el" href="../../d9/d1e/func__strings_8c_source.html#l01017">array()</a>, <a class="el" href="../../df/d20/resource__asterisk_8c_source.html#l00814">ast_ari_asterisk_set_global_var()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l04404">ast_bridge_set_transfer_variables()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l01242">ast_bridge_vars_set()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l05988">ast_call_forward()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03631">ast_cc_agent_set_interfaces_chanvar()</a>, <a class="el" href="../../de/d26/app__externalivr_8c_source.html#l00337">ast_eivr_setvariable()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l05829">ast_iax2_new()</a>, <a class="el" href="../../d2/d1b/res__monitor_8c_source.html#l00305">ast_monitor_start()</a>, <a class="el" href="../../d2/d1b/res__monitor_8c_source.html#l00461">ast_monitor_stop()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l07961">ast_pbx_outgoing_exten_predial()</a>, <a class="el" href="../../d9/dbf/pickup_8c_source.html#l00200">ast_pickup_call()</a>, <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l02500">ast_rtp_instance_set_stats_vars()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03668">ast_set_cc_interfaces_chanvar()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l08217">ast_set_variables()</a>, <a class="el" href="../../d6/d14/parking__tests_8c_source.html#l00234">AST_TEST_DEFINE()</a>, <a class="el" href="../../df/d2e/core__unreal_8c_source.html#l01018">ast_unreal_hangup()</a>, <a class="el" href="../../d7/d1b/app__channelredirect_8c_source.html#l00067">asyncgoto_exec()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l04280">attended_transfer_bridge()</a>, <a class="el" href="../../d0/df4/app__attended__transfer_8c_source.html#l00077">attended_transfer_exec()</a>, <a class="el" href="../../dd/d8a/chan__audiosocket_8c_source.html#l00139">audiosocket_request()</a>, <a class="el" href="../../d3/dba/app__talkdetect_8c_source.html#l00080">background_detect_exec()</a>, <a class="el" href="../../de/d43/dial_8c_source.html#l00451">begin_dial_channel()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l04178">blind_transfer_bridge()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l27249">blind_transfer_cb()</a>, <a class="el" href="../../d7/d7c/app__blind__transfer_8c_source.html#l00081">blind_transfer_exec()</a>, <a class="el" href="../../d3/d32/bridge__channel_8c_source.html#l02235">bridge_channel_internal_push_full()</a>, <a class="el" href="../../d5/d92/features_8c_source.html#l01007">bridge_exec()</a>, <a class="el" href="../../d8/d6e/app__bridgeaddchan_8c_source.html#l00074">bridgeadd_exec()</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l01415">calendar_write_exec()</a>, <a class="el" href="../../de/d11/app__agent__pool_8c_source.html#l01847">caller_joined_bridge()</a>, <a class="el" href="../../de/d11/app__agent__pool_8c_source.html#l01722">caller_safety_timeout()</a>, <a class="el" href="../../d7/d9b/chan__misdn_8c_source.html#l09917">cb_events()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04308">cccancel_exec()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04257">ccreq_exec()</a>, <a class="el" href="../../d0/d29/chan__pjsip_8c_source.html#l00765">chan_pjsip_cng_tone_detected()</a>, <a class="el" href="../../d0/d29/chan__pjsip_8c_source.html#l00547">chan_pjsip_new()</a>, <a class="el" href="../../d2/d43/app__chanisavail_8c_source.html#l00102">chanavail_exec()</a>, <a class="el" href="../../dc/d04/app__chanspy_8c_source.html#l00640">channel_spy()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l01203">check_bridge_play_sound()</a>, <a class="el" href="../../de/d11/app__agent__pool_8c_source.html#l01017">clear_agent_status()</a>, <a class="el" href="../../da/d92/res__odbc__transaction_8c_source.html#l00272">commit_exec()</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l03177">conf_run()</a>, <a class="el" href="../../d0/dcf/app__confbridge_8c_source.html#l02544">confbridge_exec()</a>, <a class="el" href="../../d0/dcf/app__confbridge_8c_source.html#l04256">confkick_exec()</a>, <a class="el" href="../../d6/dde/app__controlplayback_8c_source.html#l00197">controlplayback_exec()</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l04792">count_exec()</a>, <a class="el" href="../../d1/d1e/func__math_8c_source.html#l00423">crement_function_read()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l07231">dahdi_handle_dtmf()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l09153">dahdi_new()</a>, <a class="el" href="../../d9/d12/app__dial_8c_source.html#l02254">dial_exec_full()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l03255">dial_transfer()</a>, <a class="el" href="../../d0/de2/app__directory_8c_source.html#l00847">directory_exec()</a>, <a class="el" href="../../d4/d7e/app__disa_8c_source.html#l00146">disa_exec()</a>, <a class="el" href="../../d0/de2/app__directory_8c_source.html#l00768">do_directory()</a>, <a class="el" href="../../d9/d12/app__dial_8c_source.html#l00930">do_forward()</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00741">do_notify()</a>, <a class="el" href="../../d5/d4c/app__waitforsilence_8c_source.html#l00154">do_waiting()</a>, <a class="el" href="../../dc/dc1/app__dtmfstore_8c_source.html#l00131">dtmf_store_framehook()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00436">dynamic_dtmf_hook_callback()</a>, <a class="el" href="../../dd/d55/app__followme_8c_source.html#l01318">end_bridge_callback()</a>, <a class="el" href="../../d0/dcf/app__confbridge_8c_source.html#l03103">execute_menu_entry()</a>, <a class="el" href="../../d7/d9b/chan__misdn_8c_source.html#l03458">export_aoc_vars()</a>, <a class="el" href="../../d7/d9b/chan__misdn_8c_source.html#l08811">export_ch()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l18782">extract_transferrer_headers()</a>, <a class="el" href="../../d0/d60/res__fax_8c_source.html#l03745">fax_detect_framehook()</a>, <a class="el" href="../../d1/d71/app__stack_8c_source.html#l00260">frame_set_var()</a>, <a class="el" href="../../d9/d3d/func__channel_8c_source.html#l00734">func_mchan_write()</a>, <a class="el" href="../../d7/d48/func__db_8c_source.html#l00283">function_db_delete()</a>, <a class="el" href="../../d7/d48/func__db_8c_source.html#l00190">function_db_exists()</a>, <a class="el" href="../../d7/d48/func__db_8c_source.html#l00126">function_db_read()</a>, <a class="el" href="../../db/d09/func__realtime_8c_source.html#l00364">function_realtime_store()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02816">generic_recall()</a>, <a class="el" href="../../d7/d9b/chan__misdn_8c_source.html#l00786">get_chan_by_ast_name()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l18394">get_rdnis()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l18812">get_refer_info()</a>, <a class="el" href="../../d1/d3f/func__global_8c_source.html#l00135">global_write()</a>, <a class="el" href="../../d1/d71/app__stack_8c_source.html#l00294">gosub_release_frame()</a>, <a class="el" href="../../d1/d71/app__stack_8c_source.html#l00970">gosub_run()</a>, <a class="el" href="../../dd/de9/res__agi_8c_source.html#l02495">handle_controlstreamfile()</a>, <a class="el" href="../../d1/d71/app__stack_8c_source.html#l01118">handle_gosub()</a>, <a class="el" href="../../d2/d14/res__pjsip__send__to__voicemail_8c_source.html#l00125">handle_incoming_request()</a>, <a class="el" href="../../d2/d14/res__pjsip__send__to__voicemail_8c_source.html#l00187">handle_outgoing_response()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l27605">handle_request_bye()</a>, <a class="el" href="../../d3/d51/chan__mobile_8c_source.html#l03735">handle_response_cmgr()</a>, <a class="el" href="../../d3/d8c/pbx__variables_8c_source.html#l00932">handle_set_chanvar()</a>, <a class="el" href="../../d3/d8c/pbx__variables_8c_source.html#l00910">handle_set_global()</a>, <a class="el" href="../../dd/de9/res__agi_8c_source.html#l03203">handle_setvariable()</a>, <a class="el" href="../../dd/de9/res__agi_8c_source.html#l02557">handle_streamfile()</a>, <a class="el" href="../../d9/d1e/func__strings_8c_source.html#l01202">hash_read()</a>, <a class="el" href="../../d9/d1e/func__strings_8c_source.html#l01174">hash_write()</a>, <a class="el" href="../../d2/d48/app__amd_8c_source.html#l00162">isAnsweringMachine()</a>, <a class="el" href="../../d0/dcf/app__confbridge_8c_source.html#l03233">kick_conference_participant()</a>, <a class="el" href="../../d8/d93/app__mixmonitor_8c_source.html#l00933">launch_monitor_thread()</a>, <a class="el" href="../../db/da3/conf__state__multi__marked_8c_source.html#l00081">leave_marked()</a>, <a class="el" href="../../da/dfb/app__queue_8c_source.html#l04151">leave_queue()</a>, <a class="el" href="../../de/dfe/app__minivm_8c_source.html#l01912">leave_voicemail()</a>, <a class="el" href="../../d6/dde/pbx__lua_8c_source.html#l00596">lua_set_variable()</a>, <a class="el" href="../../d6/dde/pbx__lua_8c_source.html#l00360">lua_set_variable_value()</a>, <a class="el" href="../../d0/d1b/app__macro_8c_source.html#l00172">macro_fixup()</a>, <a class="el" href="../../d3/d51/chan__mobile_8c_source.html#l00715">mbl_status_exec()</a>, <a class="el" href="../../d0/dd6/chan__mgcp_8c_source.html#l01494">mgcp_new()</a>, <a class="el" href="../../de/dfe/app__minivm_8c_source.html#l02496">minivm_accmess_exec()</a>, <a class="el" href="../../de/dfe/app__minivm_8c_source.html#l02458">minivm_delete_exec()</a>, <a class="el" href="../../de/dfe/app__minivm_8c_source.html#l02268">minivm_greet_exec()</a>, <a class="el" href="../../de/dfe/app__minivm_8c_source.html#l02137">minivm_notify_exec()</a>, <a class="el" href="../../de/dfe/app__minivm_8c_source.html#l02215">minivm_record_exec()</a>, <a class="el" href="../../d7/d9b/chan__misdn_8c_source.html#l06554">misdn_call()</a>, <a class="el" href="../../d8/d93/app__mixmonitor_8c_source.html#l01115">mixmonitor_exec()</a>, <a class="el" href="../../d0/d6d/message_8c_source.html#l01226">msg_send_exec()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l01648">my_handle_dtmf()</a>, <a class="el" href="../../d0/db6/app__mysql_8c_source.html#l00561">MYSQL_exec()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l05076">onModeChanged()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00413">ooh323_new()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l04978">ooh323_rtp_read()</a>, <a class="el" href="../../da/db1/app__originate_8c_source.html#l00173">originate_exec()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l02257">ospauth_exec()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l02811">ospfinished_exec()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l02337">osplookup_exec()</a>, <a class="el" href="../../d6/d27/app__osplookup_8c_source.html#l02629">ospnext_exec()</a>, <a class="el" href="../../d1/db7/parking__bridge__features_8c_source.html#l00575">parking_duration_callback()</a>, <a class="el" href="../../d1/db7/parking__bridge__features_8c_source.html#l00542">parking_timeout_set_caller_features()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l23617">parse_moved_contact()</a>, <a class="el" href="../../df/d1d/pbx__builtins_8c_source.html#l01144">pbx_builtin_background()</a>, <a class="el" href="../../df/d1d/pbx__builtins_8c_source.html#l00905">pbx_builtin_gotoiftime()</a>, <a class="el" href="../../df/d1d/pbx__builtins_8c_source.html#l01474">pbx_builtin_importvar()</a>, <a class="el" href="../../d3/d8c/pbx__variables_8c_source.html#l01129">pbx_builtin_setvar()</a>, <a class="el" href="../../d3/d8c/pbx__variables_8c_source.html#l01155">pbx_builtin_setvar_multiple()</a>, <a class="el" href="../../df/d1d/pbx__builtins_8c_source.html#l01027">pbx_builtin_waitdigit()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l01674">pbx_load_config()</a>, <a class="el" href="../../df/dde/app__fax_8c_source.html#l00206">phase_e_handler()</a>, <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l08638">play_message_datetime()</a>, <a class="el" href="../../d7/d1b/app__playback_8c_source.html#l00442">playback_exec()</a>, <a class="el" href="../../da/dfb/app__queue_8c_source.html#l07882">pqm_exec()</a>, <a class="el" href="../../de/dfe/app__minivm_8c_source.html#l01002">prep_email_sub_vars()</a>, <a class="el" href="../../d7/d17/app__privacy_8c_source.html#l00087">privacy_exec()</a>, <a class="el" href="../../d7/d9b/chan__misdn_8c_source.html#l07318">process_ast_dsp()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l10253">process_sdp()</a>, <a class="el" href="../../da/dfb/app__queue_8c_source.html#l08183">queue_exec()</a>, <a class="el" href="../../d6/dbb/app__read_8c_source.html#l00127">read_exec()</a>, <a class="el" href="../../d7/d1d/app__mf_8c_source.html#l00274">read_mf_digits()</a>, <a class="el" href="../../d7/d1d/app__mf_8c_source.html#l00551">read_mf_exec()</a>, <a class="el" href="../../d7/d1d/app__mf_8c_source.html#l00358">read_sf_digits()</a>, <a class="el" href="../../d7/d1d/app__mf_8c_source.html#l00472">read_sf_exec()</a>, <a class="el" href="../../d2/de3/app__readexten_8c_source.html#l00119">readexten_exec()</a>, <a class="el" href="../../db/d09/func__realtime_8c_source.html#l00288">realtimefield_read()</a>, <a class="el" href="../../d0/d60/res__fax_8c_source.html#l02082">receivefax_exec()</a>, <a class="el" href="../../da/dfb/app__queue_8c_source.html#l04808">record_abandoned()</a>, <a class="el" href="../../dd/dd5/app__record_8c_source.html#l00221">record_exec()</a>, <a class="el" href="../../d1/d75/res__pjsip__refer_8c_source.html#l00625">refer_blind_callback()</a>, <a class="el" href="../../d7/d9b/chan__misdn_8c_source.html#l11538">reload()</a>, <a class="el" href="../../de/d36/res__config__curl_8c_source.html#l00604">reload_module()</a>, <a class="el" href="../../d1/d71/app__stack_8c_source.html#l00380">return_exec()</a>, <a class="el" href="../../da/d92/res__odbc__transaction_8c_source.html#l00294">rollback_exec()</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00974">rotate_file()</a>, <a class="el" href="../../da/dfb/app__queue_8c_source.html#l07954">rqm_exec()</a>, <a class="el" href="../../d0/de2/app__directory_8c_source.html#l00314">select_entry()</a>, <a class="el" href="../../d0/de2/app__directory_8c_source.html#l00395">select_item_menu()</a>, <a class="el" href="../../d0/de2/app__directory_8c_source.html#l00347">select_item_seq()</a>, <a class="el" href="../../d0/d60/res__fax_8c_source.html#l02590">sendfax_exec()</a>, <a class="el" href="../../dc/d71/app__image_8c_source.html#l00074">sendimage_exec()</a>, <a class="el" href="../../d8/d89/app__sendtext_8c_source.html#l00149">sendtext_exec()</a>, <a class="el" href="../../d8/d22/app__url_8c_source.html#l00095">sendurl_exec()</a>, <a class="el" href="../../da/dd2/func__logic_8c_source.html#l00206">set()</a>, <a class="el" href="../../d0/db6/app__mysql_8c_source.html#l00266">set_asterisk_int()</a>, <a class="el" href="../../d0/d60/res__fax_8c_source.html#l01447">set_channel_variables()</a>, <a class="el" href="../../d9/d12/app__dial_8c_source.html#l01189">set_duration_var()</a>, <a class="el" href="../../da/dfb/app__queue_8c_source.html#l01775">set_queue_result()</a>, <a class="el" href="../../d0/d29/chan__pjsip_8c_source.html#l02994">set_sipdomain_variable()</a>, <a class="el" href="../../d0/d80/chan__skinny_8c_source.html#l05560">setsubstate()</a>, <a class="el" href="../../d9/d1e/func__strings_8c_source.html#l01568">shift_pop()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l34078">sip_addheader()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l07197">sip_hangup()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l08161">sip_new()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l08742">sip_read()</a>, <a class="el" href="../../d0/d80/chan__skinny_8c_source.html#l05371">skinny_new()</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l06583">sla_calc_trunk_timeouts()</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l07006">sla_station_exec()</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l07228">sla_trunk_exec()</a>, <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html#l00543">speech_create()</a>, <a class="el" href="../../d9/d45/bridge__builtin__features_8c_source.html#l00323">start_automixmonitor()</a>, <a class="el" href="../../d9/d45/bridge__builtin__features_8c_source.html#l00139">start_automonitor()</a>, <a class="el" href="../../d2/d1b/res__monitor_8c_source.html#l00693">start_monitor_exec()</a>, <a class="el" href="../../d8/d40/app__system_8c_source.html#l00115">system_exec_helper()</a>, <a class="el" href="../../dd/d55/test__substitution_8c_source.html#l00123">test_chan_variable()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08292">testtime_write()</a>, <a class="el" href="../../d6/d7b/app__transfer_8c_source.html#l00087">transfer_exec()</a>, <a class="el" href="../../df/dde/app__fax_8c_source.html#l00779">transmit()</a>, <a class="el" href="../../d9/d7c/app__exec_8c_source.html#l00167">tryexec_exec()</a>, <a class="el" href="../../d0/d2b/chan__rtp_8c_source.html#l00269">unicast_rtp_request()</a>, <a class="el" href="../../d9/d1e/func__strings_8c_source.html#l01628">unshift_push()</a>, <a class="el" href="../../da/dfb/app__queue_8c_source.html#l05536">update_qe_rule()</a>, <a class="el" href="../../da/dfb/app__queue_8c_source.html#l07918">upqm_exec()</a>, <a class="el" href="../../d0/dcf/app__confbridge_8c_source.html#l02392">user_timeout()</a>, <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l02021">vm_allocate_dh()</a>, <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l12278">vm_exec()</a>, <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l11464">vm_playmsgexec()</a>, <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l12765">vmauthenticate()</a>, <a class="el" href="../../d9/d4a/app__tonedetect_8c_source.html#l00524">wait_exec()</a>, <a class="el" href="../../da/dfb/app__queue_8c_source.html#l04937">wait_for_answer()</a>, <a class="el" href="../../d4/d99/app__waituntil_8c_source.html#l00072">waituntil_exec()</a>, and <a class="el" href="../../d0/d72/app__zapateller_8c_source.html#l00079">zapateller_exec()</a>.</p>
<div class="fragment"><div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;{</div><div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d7d/structast__var__t.html">ast_var_t</a> *newvariable;</div><div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/de6/structvarshead.html">varshead</a> *headp;</div><div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *nametail = <a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>;<span class="comment"></span></div><div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;<span class="comment">   /*! True if the old value was not an empty string. */</span></div><div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;   <span class="keywordtype">int</span> old_value_existed = 0;</div><div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;</div><div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>[strlen(<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>) - 1] == <span class="charliteral">&#39;)&#39;</span>) {</div><div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;      <span class="keywordtype">char</span> *<span class="keyword">function</span> = <a class="code" href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a>(<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>);</div><div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;</div><div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../db/de0/pbx_8h.html#ae70e64cdf669396c88ea8eda900b0b3b">ast_func_write</a>(chan, <span class="keyword">function</span>, <a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>);</div><div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;   }</div><div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;</div><div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;   <span class="keywordflow">if</span> (chan) {</div><div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(chan);</div><div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;      headp = <a class="code" href="../../d5/d7b/channel_8h.html#add6255866ea1651a90cf70d963c4920a">ast_channel_varshead</a>(chan);</div><div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a045bd81ceab2de81e42af338ad7cf121">ast_rwlock_wrlock</a>(&amp;<a class="code" href="../../d3/d8c/pbx__variables_8c.html#a3bbd0f743b066c2670d7301b078f6510">globalslock</a>);</div><div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;      headp = &amp;<a class="code" href="../../d3/d8c/pbx__variables_8c.html#aec3689c71194f8504dafc644005a97db">globals</a>;</div><div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;   }</div><div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;</div><div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;   <span class="comment">/* For comparison purposes, we have to strip leading underscores */</span></div><div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;   <span class="keywordflow">if</span> (*nametail == <span class="charliteral">&#39;_&#39;</span>) {</div><div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;      nametail++;</div><div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;      <span class="keywordflow">if</span> (*nametail == <span class="charliteral">&#39;_&#39;</span>)</div><div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;         nametail++;</div><div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;   }</div><div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;</div><div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#aa5be52067bf16bdc7e56ca19b5ba858d">AST_LIST_TRAVERSE_SAFE_BEGIN</a>(headp, newvariable, entries) {</div><div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;      <span class="keywordflow">if</span> (strcmp(<a class="code" href="../../d9/de7/chanvars_8h.html#a356a31cd608ec07d3668dcd589be49d8">ast_var_name</a>(newvariable), nametail) == 0) {</div><div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;         <span class="comment">/* there is already such a variable, delete it */</span></div><div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;         <a class="code" href="../../df/d90/linkedlists_8h.html#aa8ac496fa9c717d5afb99a02e1e2760c">AST_LIST_REMOVE_CURRENT</a>(entries);</div><div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;         old_value_existed = !<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(<a class="code" href="../../d9/de7/chanvars_8h.html#a8e0081172db71c5021d20706c50d959c">ast_var_value</a>(newvariable));</div><div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;         <a class="code" href="../../d9/de7/chanvars_8h.html#ae19fa022349aa0481f982ccced85d7ba">ast_var_delete</a>(newvariable);</div><div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;      }</div><div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;   }</div><div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a712c04b4493919a7052399cd30ee8fb9">AST_LIST_TRAVERSE_SAFE_END</a>;</div><div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;</div><div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a> &amp;&amp; (newvariable = <a class="code" href="../../d9/de7/chanvars_8h.html#a78deeb18e93b145e9895346cef766577">ast_var_assign</a>(<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, <a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>))) {</div><div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;      <span class="keywordflow">if</span> (headp == &amp;<a class="code" href="../../d3/d8c/pbx__variables_8c.html#aec3689c71194f8504dafc644005a97db">globals</a>) {</div><div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;         <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(2, <span class="stringliteral">&quot;Setting global variable &#39;%s&#39; to &#39;%s&#39;\n&quot;</span>, <a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, <a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>);</div><div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;      }</div><div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;      <a class="code" href="../../df/d90/linkedlists_8h.html#aa2ded2af046bb513f77056c27c083307">AST_LIST_INSERT_HEAD</a>(headp, newvariable, entries);</div><div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;      <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#ga17518a82a3bc958cfb53d954dc14d630">ast_channel_publish_varset</a>(chan, <a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, <a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>);</div><div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (old_value_existed) {</div><div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;      <span class="comment">/* We just deleted a non-empty dialplan variable. */</span></div><div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;      <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#ga17518a82a3bc958cfb53d954dc14d630">ast_channel_publish_varset</a>(chan, <a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, <span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;   }</div><div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;</div><div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;   <span class="keywordflow">if</span> (chan)</div><div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;   <span class="keywordflow">else</span></div><div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#ac2920a1db37313ec46bd91dc83bf9c8a">ast_rwlock_unlock</a>(&amp;<a class="code" href="../../d3/d8c/pbx__variables_8c.html#a3bbd0f743b066c2670d7301b078f6510">globalslock</a>);</div><div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;}</div><div class="ttc" id="channel_8h_html_a493bdebe876caafb8ee535853310364a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a></div><div class="ttdeci">#define ast_channel_lock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02945">channel.h:2945</a></div></div>
<div class="ttc" id="chanvars_8h_html_a8e0081172db71c5021d20706c50d959c"><div class="ttname"><a href="../../d9/de7/chanvars_8h.html#a8e0081172db71c5021d20706c50d959c">ast_var_value</a></div><div class="ttdeci">const char * ast_var_value(const struct ast_var_t *var)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/df9/chanvars_8c_source.html#l00080">chanvars.c:80</a></div></div>
<div class="ttc" id="chanvars_8h_html_a356a31cd608ec07d3668dcd589be49d8"><div class="ttname"><a href="../../d9/de7/chanvars_8h.html#a356a31cd608ec07d3668dcd589be49d8">ast_var_name</a></div><div class="ttdeci">const char * ast_var_name(const struct ast_var_t *var)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/df9/chanvars_8c_source.html#l00060">chanvars.c:60</a></div></div>
<div class="ttc" id="channel_8h_html_add6255866ea1651a90cf70d963c4920a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#add6255866ea1651a90cf70d963c4920a">ast_channel_varshead</a></div><div class="ttdeci">struct varshead * ast_channel_varshead(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00932">channel_internal_api.c:932</a></div></div>
<div class="ttc" id="syslog_8c_html_ac4f474c82e82cbb89ca7c36dd52be0ed"><div class="ttname"><a href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a></div><div class="ttdeci">int value</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d2f/syslog_8c_source.html#l00037">syslog.c:37</a></div></div>
<div class="ttc" id="lock_8h_html_ac2920a1db37313ec46bd91dc83bf9c8a"><div class="ttname"><a href="../../dd/d42/lock_8h.html#ac2920a1db37313ec46bd91dc83bf9c8a">ast_rwlock_unlock</a></div><div class="ttdeci">#define ast_rwlock_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00232">lock.h:232</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a712c04b4493919a7052399cd30ee8fb9"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a712c04b4493919a7052399cd30ee8fb9">AST_LIST_TRAVERSE_SAFE_END</a></div><div class="ttdeci">#define AST_LIST_TRAVERSE_SAFE_END</div><div class="ttdoc">Closes a safe loop traversal block. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00614">linkedlists.h:614</a></div></div>
<div class="ttc" id="logger_8h_html_ad770f83c71e237e1f64163358ce4e13d"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a></div><div class="ttdeci">#define ast_verb(level,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00463">logger.h:463</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="linkedlists_8h_html_aa8ac496fa9c717d5afb99a02e1e2760c"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#aa8ac496fa9c717d5afb99a02e1e2760c">AST_LIST_REMOVE_CURRENT</a></div><div class="ttdeci">#define AST_LIST_REMOVE_CURRENT(field)</div><div class="ttdoc">Removes the current entry from a list during a traversal. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00556">linkedlists.h:556</a></div></div>
<div class="ttc" id="astmm_8h_html_ab5f0750cc80ba337fdcbddea2d3a1ee6"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a></div><div class="ttdeci">#define ast_strdupa(s)</div><div class="ttdoc">duplicate a string in memory from the stack </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00300">astmm.h:300</a></div></div>
<div class="ttc" id="structast__var__t_html"><div class="ttname"><a href="../../d0/d7d/structast__var__t.html">ast_var_t</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de7/chanvars_8h_source.html#l00028">chanvars.h:28</a></div></div>
<div class="ttc" id="group__StasisTopicsAndMessages_html_ga17518a82a3bc958cfb53d954dc14d630"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#ga17518a82a3bc958cfb53d954dc14d630">ast_channel_publish_varset</a></div><div class="ttdeci">void ast_channel_publish_varset(struct ast_channel *chan, const char *variable, const char *value)</div><div class="ttdoc">Publish a ast_channel_varset for a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d2b/stasis__channels_8c_source.html#l01150">stasis_channels.c:1150</a></div></div>
<div class="ttc" id="chanvars_8h_html_ae19fa022349aa0481f982ccced85d7ba"><div class="ttname"><a href="../../d9/de7/chanvars_8h.html#ae19fa022349aa0481f982ccced85d7ba">ast_var_delete</a></div><div class="ttdeci">void ast_var_delete(struct ast_var_t *var)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc5/extconf_8c_source.html#l02473">extconf.c:2473</a></div></div>
<div class="ttc" id="structvarshead_html"><div class="ttname"><a href="../../dd/de6/structvarshead.html">varshead</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de7/chanvars_8h_source.html#l00034">chanvars.h:34</a></div></div>
<div class="ttc" id="pbx__variables_8c_html_aec3689c71194f8504dafc644005a97db"><div class="ttname"><a href="../../d3/d8c/pbx__variables_8c.html#aec3689c71194f8504dafc644005a97db">globals</a></div><div class="ttdeci">static struct varshead globals</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d8c/pbx__variables_8c_source.html#l00109">pbx_variables.c:109</a></div></div>
<div class="ttc" id="linkedlists_8h_html_aa2ded2af046bb513f77056c27c083307"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#aa2ded2af046bb513f77056c27c083307">AST_LIST_INSERT_HEAD</a></div><div class="ttdeci">#define AST_LIST_INSERT_HEAD(head, elm, field)</div><div class="ttdoc">Inserts a list entry at the head of a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00710">linkedlists.h:710</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="cdr__mysql_8c_html_a0980a105ccb863d8008eb6201a51da52"><div class="ttname"><a href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a></div><div class="ttdeci">static const char name[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/cdr__mysql_8c_source.html#l00074">cdr_mysql.c:74</a></div></div>
<div class="ttc" id="chanvars_8h_html_a78deeb18e93b145e9895346cef766577"><div class="ttname"><a href="../../d9/de7/chanvars_8h.html#a78deeb18e93b145e9895346cef766577">ast_var_assign</a></div><div class="ttdeci">#define ast_var_assign(name, value)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de7/chanvars_8h_source.html#l00040">chanvars.h:40</a></div></div>
<div class="ttc" id="lock_8h_html_a045bd81ceab2de81e42af338ad7cf121"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a045bd81ceab2de81e42af338ad7cf121">ast_rwlock_wrlock</a></div><div class="ttdeci">#define ast_rwlock_wrlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00234">lock.h:234</a></div></div>
<div class="ttc" id="pbx__variables_8c_html_a3bbd0f743b066c2670d7301b078f6510"><div class="ttname"><a href="../../d3/d8c/pbx__variables_8c.html#a3bbd0f743b066c2670d7301b078f6510">globalslock</a></div><div class="ttdeci">static ast_rwlock_t globalslock</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d8c/pbx__variables_8c_source.html#l00108">pbx_variables.c:108</a></div></div>
<div class="ttc" id="linkedlists_8h_html_aa5be52067bf16bdc7e56ca19b5ba858d"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#aa5be52067bf16bdc7e56ca19b5ba858d">AST_LIST_TRAVERSE_SAFE_BEGIN</a></div><div class="ttdeci">#define AST_LIST_TRAVERSE_SAFE_BEGIN(head, var, field)</div><div class="ttdoc">Loops safely over (traverses) the entries in a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00528">linkedlists.h:528</a></div></div>
<div class="ttc" id="pbx_8h_html_ae70e64cdf669396c88ea8eda900b0b3b"><div class="ttname"><a href="../../db/de0/pbx_8h.html#ae70e64cdf669396c88ea8eda900b0b3b">ast_func_write</a></div><div class="ttdeci">int ast_func_write(struct ast_channel *chan, const char *function, const char *value)</div><div class="ttdoc">executes a write operation on a function </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d70/pbx__functions_8c_source.html#l00692">pbx_functions.c:692</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a7527f4b7b64622b458a3999ba51af07e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7527f4b7b64622b458a3999ba51af07e">&#9670;&nbsp;</a></span>pbx_builtin_setvar_multiple()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int pbx_builtin_setvar_multiple </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parse and set multiple channel variables, where the pairs are separated by the ',' character, and name and value are separated with an '=' character. </p>
<dl class="section note"><dt>Note</dt><dd>Will lock the channel. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d8c/pbx__variables_8c_source.html#l01155">1155</a> of file <a class="el" href="../../d3/d8c/pbx__variables_8c_source.html">pbx_variables.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/dde/test__func__file_8c_source.html#l00046">args</a>, <a class="el" href="../../d3/d93/include_2asterisk_2app_8h_source.html#l01232">AST_APP_ARG</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00344">ast_channel_context()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00353">ast_channel_exten()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00444">ast_channel_priority()</a>, <a class="el" href="../../d3/d93/include_2asterisk_2app_8h_source.html#l01249">AST_DECLARE_APP_ARGS</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d3/d93/include_2asterisk_2app_8h_source.html#l01300">AST_NONSTANDARD_APP_ARGS</a>, <a class="el" href="../../d3/d93/include_2asterisk_2app_8h_source.html#l01285">AST_STANDARD_APP_ARGS</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00300">ast_strdupa</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../d0/d29/cdr__mysql_8c_source.html#l00074">name</a>, <a class="el" href="../../d8/d4f/test__config_8c_source.html#l00085">pair::name</a>, <a class="el" href="../../d3/d8c/pbx__variables_8c_source.html#l01071">pbx_builtin_setvar_helper()</a>, and <a class="el" href="../../d4/d2f/syslog_8c_source.html#l00037">value</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d8c/pbx__variables_8c_source.html#l01216">load_pbx_variables()</a>, <a class="el" href="../../da/dfb/app__queue_8c_source.html#l08555">queue_function_var()</a>, <a class="el" href="../../da/dfb/app__queue_8c_source.html#l01926">set_queue_variables()</a>, and <a class="el" href="../../da/dfb/app__queue_8c_source.html#l06722">try_calling()</a>.</p>
<div class="fragment"><div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;{</div><div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;   <span class="keywordtype">char</span> *data;</div><div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;   <span class="keywordtype">int</span> x;</div><div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;   <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a80cd3f6f786b59b742bcecfc0b3be7c2">AST_DECLARE_APP_ARGS</a>(<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>,</div><div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;      <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a037e9a5b28477b17e7c9acbe7ecb21d5">AST_APP_ARG</a>(<a class="code" href="../../df/de8/structpair.html">pair</a>)[24];</div><div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;   );</div><div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;   <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a80cd3f6f786b59b742bcecfc0b3be7c2">AST_DECLARE_APP_ARGS</a>(<a class="code" href="../../df/de8/structpair.html">pair</a>,</div><div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;      <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a037e9a5b28477b17e7c9acbe7ecb21d5">AST_APP_ARG</a>(<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>);</div><div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;      <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a037e9a5b28477b17e7c9acbe7ecb21d5">AST_APP_ARG</a>(<a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>);</div><div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;   );</div><div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;</div><div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(vdata)) {</div><div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;MSet requires at least one variable name/value pair.\n&quot;</span>);</div><div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;   }</div><div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;</div><div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;   data = <a class="code" href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a>(vdata);</div><div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;   <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#ac08f7eb1eb9476b30987c73e1052ada8">AST_STANDARD_APP_ARGS</a>(<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>, data);</div><div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;</div><div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;   <span class="keywordflow">for</span> (x = 0; x &lt; <a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>.argc; x++) {</div><div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;      <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#accfcb380df76a64251d88ef49c2dd4e3">AST_NONSTANDARD_APP_ARGS</a>(<a class="code" href="../../df/de8/structpair.html">pair</a>, <a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>.pair[x], <span class="charliteral">&#39;=&#39;</span>);</div><div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../df/de8/structpair.html">pair</a>.argc == 2) {</div><div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;         <a class="code" href="../../d3/d8c/pbx__variables_8c.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a>(chan, <a class="code" href="../../df/de8/structpair.html">pair</a>.<a class="code" href="../../df/de8/structpair.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <a class="code" href="../../df/de8/structpair.html">pair</a>.value);</div><div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;         <span class="keywordflow">if</span> (strchr(<a class="code" href="../../df/de8/structpair.html">pair</a>.<a class="code" href="../../df/de8/structpair.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="charliteral">&#39; &#39;</span>))</div><div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;            <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Please avoid unnecessary spaces on variables as it may lead to unexpected results (&#39;%s&#39; set to &#39;%s&#39;).\n&quot;</span>, <a class="code" href="../../df/de8/structpair.html">pair</a>.<a class="code" href="../../df/de8/structpair.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <a class="code" href="../../df/de8/structpair.html">pair</a>.value);</div><div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!chan) {</div><div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;MSet: ignoring entry &#39;%s&#39; with no &#39;=&#39;\n&quot;</span>, <a class="code" href="../../df/de8/structpair.html">pair</a>.<a class="code" href="../../df/de8/structpair.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>);</div><div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;MSet: ignoring entry &#39;%s&#39; with no &#39;=&#39; (in %s@%s:%d\n&quot;</span>, <a class="code" href="../../df/de8/structpair.html">pair</a>.<a class="code" href="../../df/de8/structpair.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <a class="code" href="../../d5/d7b/channel_8h.html#aa8b52fbc8168e939bc5553502367d46a">ast_channel_exten</a>(chan), <a class="code" href="../../d5/d7b/channel_8h.html#a582dee4d5ea9b2ff6f309f0c5239f6bd">ast_channel_context</a>(chan), <a class="code" href="../../d5/d7b/channel_8h.html#a6610c8171ced0a69738622c11736ff5e">ast_channel_priority</a>(chan));</div><div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;      }</div><div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;   }</div><div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;</div><div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;}</div><div class="ttc" id="include_2asterisk_2app_8h_html_ac08f7eb1eb9476b30987c73e1052ada8"><div class="ttname"><a href="../../d3/d93/include_2asterisk_2app_8h.html#ac08f7eb1eb9476b30987c73e1052ada8">AST_STANDARD_APP_ARGS</a></div><div class="ttdeci">#define AST_STANDARD_APP_ARGS(args, parse)</div><div class="ttdoc">Performs the &amp;#39;standard&amp;#39; argument separation process for an application. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l01285">include/asterisk/app.h:1285</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="test__func__file_8c_html_a7df83d295429a2562396f1ec127a46c0"><div class="ttname"><a href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a></div><div class="ttdeci">const char * args</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/test__func__file_8c_source.html#l00046">test_func_file.c:46</a></div></div>
<div class="ttc" id="syslog_8c_html_ac4f474c82e82cbb89ca7c36dd52be0ed"><div class="ttname"><a href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a></div><div class="ttdeci">int value</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d2f/syslog_8c_source.html#l00037">syslog.c:37</a></div></div>
<div class="ttc" id="channel_8h_html_a6610c8171ced0a69738622c11736ff5e"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a6610c8171ced0a69738622c11736ff5e">ast_channel_priority</a></div><div class="ttdeci">int ast_channel_priority(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00444">channel_internal_api.c:444</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="astmm_8h_html_ab5f0750cc80ba337fdcbddea2d3a1ee6"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a></div><div class="ttdeci">#define ast_strdupa(s)</div><div class="ttdoc">duplicate a string in memory from the stack </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00300">astmm.h:300</a></div></div>
<div class="ttc" id="channel_8h_html_aa8b52fbc8168e939bc5553502367d46a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#aa8b52fbc8168e939bc5553502367d46a">ast_channel_exten</a></div><div class="ttdeci">const char * ast_channel_exten(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00353">channel_internal_api.c:353</a></div></div>
<div class="ttc" id="include_2asterisk_2app_8h_html_accfcb380df76a64251d88ef49c2dd4e3"><div class="ttname"><a href="../../d3/d93/include_2asterisk_2app_8h.html#accfcb380df76a64251d88ef49c2dd4e3">AST_NONSTANDARD_APP_ARGS</a></div><div class="ttdeci">#define AST_NONSTANDARD_APP_ARGS(args, parse, sep)</div><div class="ttdoc">Performs the &amp;#39;nonstandard&amp;#39; argument separation process for an application. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l01300">include/asterisk/app.h:1300</a></div></div>
<div class="ttc" id="cdr__mysql_8c_html_a0980a105ccb863d8008eb6201a51da52"><div class="ttname"><a href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a></div><div class="ttdeci">static const char name[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/cdr__mysql_8c_source.html#l00074">cdr_mysql.c:74</a></div></div>
<div class="ttc" id="pbx__variables_8c_html_a6e5b90edb84d216267148dddcffe9b9a"><div class="ttname"><a href="../../d3/d8c/pbx__variables_8c.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a></div><div class="ttdeci">int pbx_builtin_setvar_helper(struct ast_channel *chan, const char *name, const char *value)</div><div class="ttdoc">Add a variable to the channel variable stack, removing the most recently set value for the same name...</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d8c/pbx__variables_8c_source.html#l01071">pbx_variables.c:1071</a></div></div>
<div class="ttc" id="structpair_html"><div class="ttname"><a href="../../df/de8/structpair.html">pair</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d4f/test__config_8c_source.html#l00084">test_config.c:84</a></div></div>
<div class="ttc" id="structpair_html_a8f8f80d37794cde9472343e4487ba3eb"><div class="ttname"><a href="../../df/de8/structpair.html#a8f8f80d37794cde9472343e4487ba3eb">pair::name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d4f/test__config_8c_source.html#l00085">test_config.c:85</a></div></div>
<div class="ttc" id="channel_8h_html_a582dee4d5ea9b2ff6f309f0c5239f6bd"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a582dee4d5ea9b2ff6f309f0c5239f6bd">ast_channel_context</a></div><div class="ttdeci">const char * ast_channel_context(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00344">channel_internal_api.c:344</a></div></div>
<div class="ttc" id="include_2asterisk_2app_8h_html_a80cd3f6f786b59b742bcecfc0b3be7c2"><div class="ttname"><a href="../../d3/d93/include_2asterisk_2app_8h.html#a80cd3f6f786b59b742bcecfc0b3be7c2">AST_DECLARE_APP_ARGS</a></div><div class="ttdeci">#define AST_DECLARE_APP_ARGS(name, arglist)</div><div class="ttdoc">Declare a structure to hold an application&amp;#39;s arguments. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l01249">include/asterisk/app.h:1249</a></div></div>
<div class="ttc" id="include_2asterisk_2app_8h_html_a037e9a5b28477b17e7c9acbe7ecb21d5"><div class="ttname"><a href="../../d3/d93/include_2asterisk_2app_8h.html#a037e9a5b28477b17e7c9acbe7ecb21d5">AST_APP_ARG</a></div><div class="ttdeci">#define AST_APP_ARG(name)</div><div class="ttdoc">Define an application argument. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l01232">include/asterisk/app.h:1232</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac8447d16749d15c783e1dff4d8f8e495"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac8447d16749d15c783e1dff4d8f8e495">&#9670;&nbsp;</a></span>pbx_checkcondition()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int pbx_checkcondition </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>condition</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Evaluate a condition. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>if the condition is NULL or of zero length </td></tr>
    <tr><td class="paramname">int</td><td>If the string is an integer, the integer representation of the integer is returned </td></tr>
    <tr><td class="paramname">1</td><td>Any other non-empty string </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../db/d94/pbx_8c_source.html#l08321">8321</a> of file <a class="el" href="../../db/d94/pbx_8c_source.html">pbx.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/d02/app__if_8c_source.html#l00179">_if_exec()</a>, <a class="el" href="../../d0/d1b/app__macro_8c_source.html#l00236">_macro_exec()</a>, <a class="el" href="../../d0/d8e/app__while_8c_source.html#l00197">_while_exec()</a>, <a class="el" href="../../da/dd2/func__logic_8c_source.html#l00168">acf_if()</a>, <a class="el" href="../../d9/d7c/app__exec_8c_source.html#l00202">execif_exec()</a>, <a class="el" href="../../d1/d71/app__stack_8c_source.html#l00674">gosubif_exec()</a>, <a class="el" href="../../d0/d1b/app__macro_8c_source.html#l00636">macroif_exec()</a>, <a class="el" href="../../df/d1d/pbx__builtins_8c_source.html#l01269">pbx_builtin_gotoif()</a>, and <a class="el" href="../../db/d94/pbx_8c_source.html#l08292">testtime_write()</a>.</p>
<div class="fragment"><div class="line"><a name="l08322"></a><span class="lineno"> 8322</span>&#160;{</div><div class="line"><a name="l08323"></a><span class="lineno"> 8323</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l08324"></a><span class="lineno"> 8324</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(condition)) {                <span class="comment">/* NULL or empty strings are false */</span></div><div class="line"><a name="l08325"></a><span class="lineno"> 8325</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l08326"></a><span class="lineno"> 8326</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (sscanf(condition, <span class="stringliteral">&quot;%30d&quot;</span>, &amp;res) == 1) { <span class="comment">/* Numbers are evaluated for truth */</span></div><div class="line"><a name="l08327"></a><span class="lineno"> 8327</span>&#160;      <span class="keywordflow">return</span> res;</div><div class="line"><a name="l08328"></a><span class="lineno"> 8328</span>&#160;   } <span class="keywordflow">else</span> {                                         <span class="comment">/* Strings are true */</span></div><div class="line"><a name="l08329"></a><span class="lineno"> 8329</span>&#160;      <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l08330"></a><span class="lineno"> 8330</span>&#160;   }</div><div class="line"><a name="l08331"></a><span class="lineno"> 8331</span>&#160;}</div><div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6e3dbc57c03c23543354ef108c31fac8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e3dbc57c03c23543354ef108c31fac8">&#9670;&nbsp;</a></span>pbx_exec()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int pbx_exec </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d0/da3/structast__app.html">ast_app</a> *&#160;</td>
          <td class="paramname"><em>app</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Execute an application. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">c</td><td>channel to execute on </td></tr>
    <tr><td class="paramname">app</td><td>which app to execute </td></tr>
    <tr><td class="paramname">data</td><td>the data passed into the app</td></tr>
  </table>
  </dd>
</dl>
<p>This application executes an application on a given channel. It saves the stack and executes the given application passing in the given data.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>success </td></tr>
    <tr><td class="paramname">-1</td><td>failure </td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">c</td><td>Channel </td></tr>
    <tr><td class="paramname">app</td><td>Application </td></tr>
    <tr><td class="paramname">data</td><td>Data for execution </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="../../d4/dca/_2usr_2src_2asterisk-18_85_80_2main_2app_8c-example.html#a75">/usr/src/asterisk-18.5.0/main/app.c</a>.</dd>
</dl>
<p class="definition">Definition at line <a class="el" href="../../dd/d16/pbx__app_8c_source.html#l00471">471</a> of file <a class="el" href="../../dd/d16/pbx__app_8c_source.html">pbx_app.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d96/loader_8c_source.html#l00800">__ast_module_user_add()</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l00826">__ast_module_user_remove()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00317">ast_channel_appl()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00321">ast_channel_appl_set()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00334">ast_channel_data()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00338">ast_channel_data_set()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02945">ast_channel_lock</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01055">ast_channel_publish_snapshot()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../dd/d16/pbx__app_8c_source.html#l00046">ast_app::execute</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../d6/d90/strings_8h_source.html#l00079">S_OR</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/d23/pbx__ael_8c_source.html#l00126">aelsub_exec()</a>, <a class="el" href="../../de/d43/dial_8c_source.html#l00166">answer_exec_run()</a>, <a class="el" href="../../da/d49/resource__channels_8c_source.html#l01698">ari_channel_thread()</a>, <a class="el" href="../../da/d49/resource__channels_8c_source.html#l01013">ari_originate_dial()</a>, <a class="el" href="../../d3/d83/main_2app_8c_source.html#l00273">ast_app_exec_macro()</a>, <a class="el" href="../../d9/d3f/test__gosub_8c_source.html#l00041">AST_TEST_DEFINE()</a>, <a class="el" href="../../d5/d92/features_8c_source.html#l00486">bridge_check_monitor()</a>, <a class="el" href="../../d9/de0/stasis__bridge_8c_source.html#l00049">bridge_stasis_run_cb()</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l03177">conf_run()</a>, <a class="el" href="../../d0/dcf/app__confbridge_8c_source.html#l00851">conf_start_record()</a>, <a class="el" href="../../d4/d7e/app__disa_8c_source.html#l00146">disa_exec()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l26048">do_magic_pickup()</a>, <a class="el" href="../../d1/dc0/pbx__dundi_8c_source.html#l04832">dundi_exec()</a>, <a class="el" href="../../d9/d7c/app__exec_8c_source.html#l00133">exec_exec()</a>, <a class="el" href="../../d9/d7c/app__exec_8c_source.html#l00202">execif_exec()</a>, <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l08269">forward_message()</a>, <a class="el" href="../../dd/de9/res__agi_8c_source.html#l03128">handle_exec()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l14339">iax2_exec()</a>, <a class="el" href="../../d6/dde/pbx__lua_8c_source.html#l00186">lua_pbx_exec()</a>, <a class="el" href="../../d3/da4/app__page_8c_source.html#l00250">page_exec()</a>, <a class="el" href="../../df/d1d/pbx__builtins_8c_source.html#l00959">pbx_builtin_execiftime()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l02875">pbx_extension_helper()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l07627">pbx_outgoing_exec()</a>, <a class="el" href="../../d2/d2c/pbx__realtime_8c_source.html#l00309">realtime_exec()</a>, <a class="el" href="../../d3/d32/bridge__channel_8c_source.html#l01211">run_app_helper()</a>, <a class="el" href="../../dd/da3/res__stasis__snoop_8c_source.html#l00263">snoop_stasis_thread()</a>, <a class="el" href="../../da/dfb/app__queue_8c_source.html#l06722">try_calling()</a>, and <a class="el" href="../../d9/d7c/app__exec_8c_source.html#l00167">tryexec_exec()</a>.</p>
<div class="fragment"><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;{</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d98/structast__module__user.html">ast_module_user</a> *u = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *saved_c_appl;</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *saved_c_data;</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;   <span class="comment">/* save channel values */</span></div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;   saved_c_appl= <a class="code" href="../../d5/d7b/channel_8h.html#ac8b850ff95f945ad6cfeb2942799800a">ast_channel_appl</a>(c);</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;   saved_c_data= <a class="code" href="../../d5/d7b/channel_8h.html#a531fd832a2f8b0f4156735043a6158e1">ast_channel_data</a>(c);</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(c);</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a14af45a19bb70a19d44cc965e88e0a3b">ast_channel_appl_set</a>(c, app-&gt;name);</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a4d7d602ffd3240a3deed5f01343ccd31">ast_channel_data_set</a>(c, data);</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;   <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#gaec5f1aaded97197250e063ed6c7ad857">ast_channel_publish_snapshot</a>(c);</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(c);</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;   <span class="keywordflow">if</span> (app-&gt;module)</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;      u = <a class="code" href="../../d5/d16/module_8h.html#ad315d50d0a7d61cb9feac19223fff8c0">__ast_module_user_add</a>(app-&gt;module, c);</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;   res = app-&gt;<a class="code" href="../../d0/da3/structast__app.html#ae79782cc4f9d6bc42b2b563cee0420de">execute</a>(c, <a class="code" href="../../d6/d90/strings_8h.html#a2faaa16929951bfd2802b7829a100ba2">S_OR</a>(data, <span class="stringliteral">&quot;&quot;</span>));</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;   <span class="keywordflow">if</span> (app-&gt;module &amp;&amp; u)</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;      <a class="code" href="../../d5/d16/module_8h.html#aee5ac94e279928d1d1f7b6aafb62ec7a">__ast_module_user_remove</a>(app-&gt;module, u);</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;   <span class="comment">/* restore channel values */</span></div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a14af45a19bb70a19d44cc965e88e0a3b">ast_channel_appl_set</a>(c, saved_c_appl);</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a4d7d602ffd3240a3deed5f01343ccd31">ast_channel_data_set</a>(c, saved_c_data);</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;}</div><div class="ttc" id="structast__app_html_ae79782cc4f9d6bc42b2b563cee0420de"><div class="ttname"><a href="../../d0/da3/structast__app.html#ae79782cc4f9d6bc42b2b563cee0420de">ast_app::execute</a></div><div class="ttdeci">int(* execute)(struct ast_channel *chan, const char *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d16/pbx__app_8c_source.html#l00046">pbx_app.c:46</a></div></div>
<div class="ttc" id="channel_8h_html_a493bdebe876caafb8ee535853310364a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a></div><div class="ttdeci">#define ast_channel_lock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02945">channel.h:2945</a></div></div>
<div class="ttc" id="channel_8h_html_a14af45a19bb70a19d44cc965e88e0a3b"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a14af45a19bb70a19d44cc965e88e0a3b">ast_channel_appl_set</a></div><div class="ttdeci">void ast_channel_appl_set(struct ast_channel *chan, const char *value)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00321">channel_internal_api.c:321</a></div></div>
<div class="ttc" id="module_8h_html_aee5ac94e279928d1d1f7b6aafb62ec7a"><div class="ttname"><a href="../../d5/d16/module_8h.html#aee5ac94e279928d1d1f7b6aafb62ec7a">__ast_module_user_remove</a></div><div class="ttdeci">void __ast_module_user_remove(struct ast_module *, struct ast_module_user *)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00826">loader.c:826</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structast__module__user_html"><div class="ttname"><a href="../../d4/d98/structast__module__user.html">ast_module_user</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00127">loader.c:127</a></div></div>
<div class="ttc" id="module_8h_html_ad315d50d0a7d61cb9feac19223fff8c0"><div class="ttname"><a href="../../d5/d16/module_8h.html#ad315d50d0a7d61cb9feac19223fff8c0">__ast_module_user_add</a></div><div class="ttdeci">struct ast_module_user * __ast_module_user_add(struct ast_module *, struct ast_channel *)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l00800">loader.c:800</a></div></div>
<div class="ttc" id="channel_8h_html_ac8b850ff95f945ad6cfeb2942799800a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#ac8b850ff95f945ad6cfeb2942799800a">ast_channel_appl</a></div><div class="ttdeci">const char * ast_channel_appl(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00317">channel_internal_api.c:317</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="channel_8h_html_a531fd832a2f8b0f4156735043a6158e1"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a531fd832a2f8b0f4156735043a6158e1">ast_channel_data</a></div><div class="ttdeci">const char * ast_channel_data(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00334">channel_internal_api.c:334</a></div></div>
<div class="ttc" id="strings_8h_html_a2faaa16929951bfd2802b7829a100ba2"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a2faaa16929951bfd2802b7829a100ba2">S_OR</a></div><div class="ttdeci">#define S_OR(a, b)</div><div class="ttdoc">returns the equivalent of logic or for strings: first one if not empty, otherwise second one...</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00079">strings.h:79</a></div></div>
<div class="ttc" id="group__StasisTopicsAndMessages_html_gaec5f1aaded97197250e063ed6c7ad857"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#gaec5f1aaded97197250e063ed6c7ad857">ast_channel_publish_snapshot</a></div><div class="ttdeci">void ast_channel_publish_snapshot(struct ast_channel *chan)</div><div class="ttdoc">Publish a ast_channel_snapshot for a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d2b/stasis__channels_8c_source.html#l01055">stasis_channels.c:1055</a></div></div>
<div class="ttc" id="channel_8h_html_a4d7d602ffd3240a3deed5f01343ccd31"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a4d7d602ffd3240a3deed5f01343ccd31">ast_channel_data_set</a></div><div class="ttdeci">void ast_channel_data_set(struct ast_channel *chan, const char *value)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00338">channel_internal_api.c:338</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae12539be833fc552d4556c886605f17f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae12539be833fc552d4556c886605f17f">&#9670;&nbsp;</a></span>pbx_find_extension()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="../../d7/d00/structast__exten.html">ast_exten</a> * pbx_find_extension </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d6/d7c/structast__context.html">ast_context</a> *&#160;</td>
          <td class="paramname"><em>bypass</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../db/d81/structpbx__find__info.html">pbx_find_info</a> *&#160;</td>
          <td class="paramname"><em>q</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>exten</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>priority</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>label</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>callerid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="../../dd/ddb/extconf_8h.html#a2b7f0fafc6995b2630658a4fd8df26be">ext_match_t</a>&#160;</td>
          <td class="paramname"><em>action</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/db7/ael__main_8c_source.html#l00152">152</a> of file <a class="el" href="../../d2/db7/ael__main_8c_source.html">ael_main.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d66/autoservice_8c_source.html#l00200">ast_autoservice_start()</a>, <a class="el" href="../../d5/d66/autoservice_8c_source.html#l00266">ast_autoservice_stop()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08697">ast_context_includes_count()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08702">ast_context_includes_get()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08652">ast_context_switches_count()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08657">ast_context_switches_get()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../d9/d5d/pbx__sw_8c_source.html#l00053">ast_get_switch_data()</a>, <a class="el" href="../../d9/d5d/pbx__sw_8c_source.html#l00058">ast_get_switch_eval()</a>, <a class="el" href="../../d9/d5d/pbx__sw_8c_source.html#l00048">ast_get_switch_name()</a>, <a class="el" href="../../de/dcc/conf2ael_8c_source.html#l00687">ast_hashtab_compare_contexts()</a>, <a class="el" href="../../df/d35/hashtab_8c_source.html#l00486">ast_hashtab_lookup()</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../dd/ddb/extconf_8h_source.html#l00226">AST_PBX_MAX_STACK</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00714">ast_str_buffer()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00699">ast_str_size()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00861">ast_str_thread_get()</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00300">ast_strdupa</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08614">ast_walk_context_extensions()</a>, <a class="el" href="../../db/de0/pbx_8h_source.html#l00166">ast_switch::canmatch</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l00279">scoreboard::canmatch_exten</a>, <a class="el" href="../../da/d45/chan__alsa_8c_source.html#l00116">context</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l01756">create_match_char_tree()</a>, <a class="el" href="../../dd/ddb/extconf_8h_source.html#l00241">pbx_find_info::data</a>, <a class="el" href="../../dd/ddb/extconf_8h_source.html#l00217">E_CANMATCH</a>, <a class="el" href="../../dd/ddb/extconf_8h_source.html#l00221">E_FINDLABEL</a>, <a class="el" href="../../dd/ddb/extconf_8h_source.html#l00216">E_MATCHMORE</a>, <a class="el" href="../../db/de0/pbx_8h_source.html#l00165">ast_switch::exists</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l00238">ast_exten::exten</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l00280">scoreboard::exten</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l02400">extension_match_core()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l04804">find_context()</a>, <a class="el" href="../../dd/ddb/extconf_8h_source.html#l00242">pbx_find_info::foundcontext</a>, <a class="el" href="../../d6/d0e/pbx__include_8c_source.html#l00055">include_rname()</a>, <a class="el" href="../../d6/d0e/pbx__include_8c_source.html#l00065">include_valid()</a>, <a class="el" href="../../dd/ddb/extconf_8h_source.html#l00237">pbx_find_info::incstack</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l00244">ast_exten::label</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l00276">scoreboard::last_char</a>, <a class="el" href="../../d4/dc5/extconf_8c_source.html#l04470">localized_find_extension()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00263">LOG_NOTICE</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l02315">match()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l00240">ast_exten::matchcid</a>, <a class="el" href="../../db/de0/pbx_8h_source.html#l00168">ast_switch::matchmore</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l00239">ast_exten::name</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l00297">ast_context::name</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l01231">new_find_extension()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l00278">scoreboard::node</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l00288">ast_context::pattern_tree</a>, <a class="el" href="../../d2/df2/pbx__switch_8c_source.html#l00040">pbx_findswitch()</a>, <a class="el" href="../../d2/db7/ael__main_8c_source.html#l00211">pbx_substitute_variables_helper()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l00243">ast_exten::priority</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l00287">ast_context::root_table</a>, <a class="el" href="../../dd/ddb/extconf_8h_source.html#l00238">pbx_find_info::stacklen</a>, <a class="el" href="../../dd/ddb/extconf_8h_source.html#l00239">pbx_find_info::status</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l02467">STATUS_NO_CONTEXT</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l02468">STATUS_NO_EXTENSION</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l02470">STATUS_NO_LABEL</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l02469">STATUS_NO_PRIORITY</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l02471">STATUS_SUCCESS</a>, <a class="el" href="../../de/da3/include_2asterisk_2compat_8h.html#a40eca58273c74a20a17f137d18ba826c">strsep()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l00228">switch_data</a>, <a class="el" href="../../dd/ddb/extconf_8h_source.html#l00240">pbx_find_info::swo</a>, <a class="el" href="../../de/d1e/bt__open_8c_source.html#l00389">tmp()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l00275">scoreboard::total_length</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l00274">scoreboard::total_specificity</a>, and <a class="el" href="../../db/d94/pbx_8c_source.html#l01160">trie_find_next_match()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00422">add_extension()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l02991">ast_hint_extension_nolock()</a>, <a class="el" href="../../d2/db7/ael__main_8c_source.html#l00130">ast_log()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l06468">ast_merge_contexts_and_delete()</a>, <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l01329">ast_sip_persistent_endpoint_update_state()</a>, <a class="el" href="../../de/dcc/conf2ael_8c_source.html#l00657">ast_walk_context_includes()</a>, <a class="el" href="../../d0/d85/pval_8c_source.html#l01225">check_goto()</a>, <a class="el" href="../../d0/d85/pval_8c_source.html#l02357">check_pval_item()</a>, <a class="el" href="../../d6/d14/parking__tests_8c_source.html#l00471">check_retrieve_call_extensions()</a>, <a class="el" href="../../d0/dcf/app__confbridge_8c_source.html#l01473">conf_ended()</a>, <a class="el" href="../../d9/d63/res__pjsip__config__wizard_8c_source.html#l00407">delete_extens()</a>, <a class="el" href="../../de/dbf/func__evalexten_8c_source.html#l00090">get_extension_data()</a>, <a class="el" href="../../d1/db7/parking__bridge__features_8c_source.html#l00336">parking_blind_transfer_park()</a>, <a class="el" href="../../d1/db7/parking__bridge__features_8c_source.html#l00575">parking_duration_callback()</a>, <a class="el" href="../../d1/db7/parking__bridge__features_8c_source.html#l00297">parking_is_exten_park()</a>, <a class="el" href="../../d7/d45/res__parking_8c_source.html#l00758">parking_lot_cfg_create_extensions()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l02875">pbx_extension_helper()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l05238">register_peer_exten()</a>, and <a class="el" href="../../d9/d62/test__pbx_8c_source.html#l00156">test_exten()</a>.</p>
<div class="fragment"><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;{</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dd/ddb/extconf_8h.html#a9ba8e3672198f17f8476859b7e85b726">localized_find_extension</a>(bypass, q, <a class="code" href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a>, <a class="code" href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>, <a class="code" href="../../d9/d47/cdr__beanstalkd_8c.html#acec9ce2df15222151ad66fcb1d74eb9f">priority</a>, label, callerid, action);</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;}</div><div class="ttc" id="chan__alsa_8c_html_a78d4847658b695383d849efd12399b38"><div class="ttname"><a href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a></div><div class="ttdeci">static char exten[AST_MAX_EXTENSION]</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d45/chan__alsa_8c_source.html#l00118">chan_alsa.c:118</a></div></div>
<div class="ttc" id="extconf_8h_html_a9ba8e3672198f17f8476859b7e85b726"><div class="ttname"><a href="../../dd/ddb/extconf_8h.html#a9ba8e3672198f17f8476859b7e85b726">localized_find_extension</a></div><div class="ttdeci">struct ast_exten * localized_find_extension(struct ast_context *bypass, struct pbx_find_info *q, const char *context, const char *exten, int priority, const char *label, const char *callerid, enum ext_match_t action)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc5/extconf_8c_source.html#l04470">extconf.c:4470</a></div></div>
<div class="ttc" id="cdr__beanstalkd_8c_html_acec9ce2df15222151ad66fcb1d74eb9f"><div class="ttname"><a href="../../d9/d47/cdr__beanstalkd_8c.html#acec9ce2df15222151ad66fcb1d74eb9f">priority</a></div><div class="ttdeci">static int priority</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d47/cdr__beanstalkd_8c_source.html#l00076">cdr_beanstalkd.c:76</a></div></div>
<div class="ttc" id="chan__alsa_8c_html_ac25ea00ee3f082df06e0cf468cbde240"><div class="ttname"><a href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a></div><div class="ttdeci">static char context[AST_MAX_CONTEXT]</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d45/chan__alsa_8c_source.html#l00116">chan_alsa.c:116</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad4a6912dcd2ad44a186d0a284afafc51"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad4a6912dcd2ad44a186d0a284afafc51">&#9670;&nbsp;</a></span>pbx_findapp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d0/da3/structast__app.html">ast_app</a> * pbx_findapp </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>app</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Look up an application. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">app</td><td>name of the app</td></tr>
  </table>
  </dd>
</dl>
<p>This function searches for the <a class="el" href="../../d0/da3/structast__app.html" title="ast_app: A registered application ">ast_app</a> structure within the apps that are registered for the one with the name you passed in.</p>
<dl class="section return"><dt>Returns</dt><dd>the <a class="el" href="../../d0/da3/structast__app.html" title="ast_app: A registered application ">ast_app</a> structure that matches on success, or NULL on failure </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="../../d4/dca/_2usr_2src_2asterisk-18_85_80_2main_2app_8c-example.html#a67">/usr/src/asterisk-18.5.0/main/app.c</a>.</dd>
</dl>
<p class="definition">Definition at line <a class="el" href="../../d2/db7/ael__main_8c_source.html#l00165">165</a> of file <a class="el" href="../../d2/db7/ael__main_8c_source.html">ael_main.c</a>.</p>

<p class="reference">References <a class="el" href="../../d2/db7/ael__main_8c_source.html#l00173">ast_custom_function_find()</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00077">AST_RWLIST_RDLOCK</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00150">AST_RWLIST_UNLOCK</a>, <a class="el" href="../../d2/db7/ael__main_8c_source.html#l00041">namelist::name</a>, and <a class="el" href="../../dd/d16/pbx__app_8c_source.html#l00069">pbx_findapp_nolock()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/d23/pbx__ael_8c_source.html#l00126">aelsub_exec()</a>, <a class="el" href="../../de/d43/dial_8c_source.html#l00166">answer_exec_run()</a>, <a class="el" href="../../da/d49/resource__channels_8c_source.html#l01698">ari_channel_thread()</a>, <a class="el" href="../../da/d49/resource__channels_8c_source.html#l01013">ari_originate_dial()</a>, <a class="el" href="../../d3/d83/main_2app_8c_source.html#l00273">ast_app_exec_macro()</a>, <a class="el" href="../../d9/d3f/test__gosub_8c_source.html#l00041">AST_TEST_DEFINE()</a>, <a class="el" href="../../d5/d92/features_8c_source.html#l00486">bridge_check_monitor()</a>, <a class="el" href="../../d9/de0/stasis__bridge_8c_source.html#l00049">bridge_stasis_run_cb()</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l03177">conf_run()</a>, <a class="el" href="../../d0/dcf/app__confbridge_8c_source.html#l00851">conf_start_record()</a>, <a class="el" href="../../d4/d7e/app__disa_8c_source.html#l00146">disa_exec()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l26048">do_magic_pickup()</a>, <a class="el" href="../../d1/dc0/pbx__dundi_8c_source.html#l04832">dundi_exec()</a>, <a class="el" href="../../d9/d7c/app__exec_8c_source.html#l00133">exec_exec()</a>, <a class="el" href="../../d9/d7c/app__exec_8c_source.html#l00202">execif_exec()</a>, <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l08269">forward_message()</a>, <a class="el" href="../../dd/de9/res__agi_8c_source.html#l03128">handle_exec()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l14339">iax2_exec()</a>, <a class="el" href="../../d6/dde/pbx__lua_8c_source.html#l00186">lua_pbx_exec()</a>, <a class="el" href="../../d3/da4/app__page_8c_source.html#l00250">page_exec()</a>, <a class="el" href="../../df/d1d/pbx__builtins_8c_source.html#l00959">pbx_builtin_execiftime()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l02875">pbx_extension_helper()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l07627">pbx_outgoing_exec()</a>, <a class="el" href="../../d2/d2c/pbx__realtime_8c_source.html#l00309">realtime_exec()</a>, <a class="el" href="../../d3/d32/bridge__channel_8c_source.html#l01211">run_app_helper()</a>, <a class="el" href="../../dd/da3/res__stasis__snoop_8c_source.html#l00263">snoop_stasis_thread()</a>, <a class="el" href="../../da/dfb/app__queue_8c_source.html#l06722">try_calling()</a>, and <a class="el" href="../../d9/d7c/app__exec_8c_source.html#l00167">tryexec_exec()</a>.</p>
<div class="fragment"><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;{</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;   <span class="keywordflow">return</span> (<span class="keyword">struct</span> <a class="code" href="../../d0/da3/structast__app.html">ast_app</a>*)1; <span class="comment">/* so as not to trigger an error */</span></div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;}</div><div class="ttc" id="structast__app_html"><div class="ttname"><a href="../../d0/da3/structast__app.html">ast_app</a></div><div class="ttdoc">ast_app: A registered application </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d16/pbx__app_8c_source.html#l00045">pbx_app.c:45</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a123eff9ba5d2f446df2104e76efde9ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a123eff9ba5d2f446df2104e76efde9ff">&#9670;&nbsp;</a></span>pbx_live_dangerously()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pbx_live_dangerously </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>new_live_dangerously</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enable/disable the execution of 'dangerous' functions from external protocols (AMI, etc.). </p>
<p>These dialplan functions (such as <code>SHELL</code>) provide an opportunity for privilege escalation. They are okay to invoke from the dialplan, but external protocols with permission controls should not normally invoke them.</p>
<p>This function can globally enable/disable the execution of dangerous functions from external protocols.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">new_live_dangerously</td><td>If true, enable the execution of escalating functions from external protocols. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../db/d70/pbx__functions_8c_source.html#l00466">466</a> of file <a class="el" href="../../db/d70/pbx__functions_8c_source.html">pbx_functions.c</a>.</p>

<p class="reference">References <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../db/d70/pbx__functions_8c_source.html#l00046">live_dangerously</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00263">LOG_NOTICE</a>, and <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/dc5/options_8c_source.html#l00210">load_asterisk_conf()</a>.</p>
<div class="fragment"><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;{</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;   <span class="keywordflow">if</span> (new_live_dangerously &amp;&amp; !<a class="code" href="../../db/d70/pbx__functions_8c.html#a88a871a5d6bb54aa1e2789c9ab0feee5">live_dangerously</a>) {</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Privilege escalation protection disabled!\n&quot;</span></div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;         <span class="stringliteral">&quot;See https://wiki.asterisk.org/wiki/x/1gKfAQ for more details.\n&quot;</span>);</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;   }</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;   <span class="keywordflow">if</span> (!new_live_dangerously &amp;&amp; <a class="code" href="../../db/d70/pbx__functions_8c.html#a88a871a5d6bb54aa1e2789c9ab0feee5">live_dangerously</a>) {</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#ad89ee324d180cdcd7defcc709ff9ca42">LOG_NOTICE</a>, <span class="stringliteral">&quot;Privilege escalation protection enabled.\n&quot;</span>);</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;   }</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;   <a class="code" href="../../db/d70/pbx__functions_8c.html#a88a871a5d6bb54aa1e2789c9ab0feee5">live_dangerously</a> = new_live_dangerously;</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;}</div><div class="ttc" id="pbx__functions_8c_html_a88a871a5d6bb54aa1e2789c9ab0feee5"><div class="ttname"><a href="../../db/d70/pbx__functions_8c.html#a88a871a5d6bb54aa1e2789c9ab0feee5">live_dangerously</a></div><div class="ttdeci">static int live_dangerously</div><div class="ttdoc">Set to true (non-zero) to globally allow all dangerous dialplan functions to run. ...</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d70/pbx__functions_8c_source.html#l00046">pbx_functions.c:46</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="logger_8h_html_ad89ee324d180cdcd7defcc709ff9ca42"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#ad89ee324d180cdcd7defcc709ff9ca42">LOG_NOTICE</a></div><div class="ttdeci">#define LOG_NOTICE</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00263">logger.h:263</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aaf906a18ba2dcd53c35f59869757521f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaf906a18ba2dcd53c35f59869757521f">&#9670;&nbsp;</a></span>pbx_retrieve_variable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pbx_retrieve_variable </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>var</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>ret</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>workspace</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>workspacelen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../dd/de6/structvarshead.html">varshead</a> *&#160;</td>
          <td class="paramname"><em>headp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve the value of a builtin variable or variable from the channel variable stack. </p>
<dl class="section note"><dt>Note</dt><dd>Will lock the channel.</dd></dl>
<p>Retrieve the value of a builtin variable or variable from the channel variable stack.</p>
<dl class="section note"><dt>Note</dt><dd>See also<ul>
<li><a class="el" href="../../dd/dfc/AstVar.html">Globally predefined channel variables</a> Channel variables</li>
<li><a class="el" href="../../d8/da9/AstCauses.html">Hangup Causes for Asterisk</a> The HANGUPCAUSE variable </li>
</ul>
</dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d8c/pbx__variables_8c_source.html#l00235">235</a> of file <a class="el" href="../../d3/d8c/pbx__variables_8c_source.html">pbx_variables.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/d90/strings_8h_source.html#l00401">ast_copy_string()</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00714">ast_str_buffer()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00620">ast_str_create</a>, <a class="el" href="../../d3/d8c/pbx__variables_8c_source.html#l00246">ast_str_retrieve_variable()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00147">str</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d10/manager_8c_source.html#l04610">action_getvar()</a>, <a class="el" href="../../d4/d10/manager_8c_source.html#l04662">generate_status()</a>, <a class="el" href="../../dd/de9/res__agi_8c_source.html#l03216">handle_getvariable()</a>, <a class="el" href="../../d6/dde/pbx__lua_8c_source.html#l00556">lua_get_variable()</a>, <a class="el" href="../../d6/dde/pbx__lua_8c_source.html#l00300">lua_get_variable_value()</a>, and <a class="el" href="../../d3/d8c/pbx__variables_8c_source.html#l00626">pbx_substitute_variables_helper_full()</a>.</p>
<div class="fragment"><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;{</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/da2/structast__str.html">ast_str</a> *<a class="code" href="../../de/dcd/app__jack_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a> = <a class="code" href="../../d6/d90/strings_8h.html#a9c34c6c6b8daaba24c0406270f3cf697">ast_str_create</a>(16);</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *cret;</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;   cret = <a class="code" href="../../d3/d8c/pbx__variables_8c.html#a83de13bef87bad84a835421e2b2937f7">ast_str_retrieve_variable</a>(&amp;str, 0, c, headp, <a class="code" href="../../dc/df2/ast__expr2f_8c.html#a1b0936415a643c88ce543099c10e0d7f">var</a>);</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;   <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(workspace, <a class="code" href="../../d6/d90/strings_8h.html#a1ef7e2644ca7258070db316fdc0a465b">ast_str_buffer</a>(str), workspacelen);</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;   *ret = cret ? workspace : <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;   <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(str);</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;}</div><div class="ttc" id="strings_8h_html_a1ef7e2644ca7258070db316fdc0a465b"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a1ef7e2644ca7258070db316fdc0a465b">ast_str_buffer</a></div><div class="ttdeci">char * ast_str_buffer(const struct ast_str *buf)</div><div class="ttdoc">Returns the string buffer within the ast_str buf. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00714">strings.h:714</a></div></div>
<div class="ttc" id="ast__expr2f_8c_html_a1b0936415a643c88ce543099c10e0d7f"><div class="ttname"><a href="../../dc/df2/ast__expr2f_8c.html#a1b0936415a643c88ce543099c10e0d7f">var</a></div><div class="ttdeci">#define var</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/ast__expr2f_8c_source.html#l00614">ast_expr2f.c:614</a></div></div>
<div class="ttc" id="app__jack_8c_html_af25d6dc49269fa2003ac7c7fa6f13915"><div class="ttname"><a href="../../de/dcd/app__jack_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a></div><div class="ttdeci">const char * str</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00147">app_jack.c:147</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structast__str_html"><div class="ttname"><a href="../../dd/da2/structast__str.html">ast_str</a></div><div class="ttdoc">The descriptor of a dynamic string XXX storage will be optimized later if needed We use the ts field ...</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00584">strings.h:584</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="strings_8h_html_ac4040268f7b6ed77dfc49c7767626369"><div class="ttname"><a href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a></div><div class="ttdeci">void ast_copy_string(char *dst, const char *src, size_t size)</div><div class="ttdoc">Size-limited null-terminating string copy. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00401">strings.h:401</a></div></div>
<div class="ttc" id="pbx__variables_8c_html_a83de13bef87bad84a835421e2b2937f7"><div class="ttname"><a href="../../d3/d8c/pbx__variables_8c.html#a83de13bef87bad84a835421e2b2937f7">ast_str_retrieve_variable</a></div><div class="ttdeci">const char * ast_str_retrieve_variable(struct ast_str **str, ssize_t maxlen, struct ast_channel *c, struct varshead *headp, const char *var)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d8c/pbx__variables_8c_source.html#l00246">pbx_variables.c:246</a></div></div>
<div class="ttc" id="strings_8h_html_a9c34c6c6b8daaba24c0406270f3cf697"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a9c34c6c6b8daaba24c0406270f3cf697">ast_str_create</a></div><div class="ttdeci">#define ast_str_create(init_len)</div><div class="ttdoc">Create a malloc&amp;#39;ed dynamic length string. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00620">strings.h:620</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aeb0407c693573096981db1a00fab4eb8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb0407c693573096981db1a00fab4eb8">&#9670;&nbsp;</a></span>pbx_set_autofallthrough()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int pbx_set_autofallthrough </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>newval</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set "autofallthrough" flag, if newval is &lt;0, does not actually set. If set to 1, sets to auto fall through. If newval set to 0, sets to no auto fall through (reads extension instead). Returns previous value. </p>

<p class="definition">Definition at line <a class="el" href="../../db/d94/pbx_8c_source.html#l04774">4774</a> of file <a class="el" href="../../db/d94/pbx_8c_source.html">pbx.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/d94/pbx_8c_source.html#l00763">autofallthrough</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l02087">pbx_load_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l04775"></a><span class="lineno"> 4775</span>&#160;{</div><div class="line"><a name="l04776"></a><span class="lineno"> 4776</span>&#160;   <span class="keywordtype">int</span> oldval = <a class="code" href="../../db/d94/pbx_8c.html#a5f7ea48b3f8614ef9314e5aece1f1bc3">autofallthrough</a>;</div><div class="line"><a name="l04777"></a><span class="lineno"> 4777</span>&#160;   <a class="code" href="../../db/d94/pbx_8c.html#a5f7ea48b3f8614ef9314e5aece1f1bc3">autofallthrough</a> = newval;</div><div class="line"><a name="l04778"></a><span class="lineno"> 4778</span>&#160;   <span class="keywordflow">return</span> oldval;</div><div class="line"><a name="l04779"></a><span class="lineno"> 4779</span>&#160;}</div><div class="ttc" id="pbx_8c_html_a5f7ea48b3f8614ef9314e5aece1f1bc3"><div class="ttname"><a href="../../db/d94/pbx_8c.html#a5f7ea48b3f8614ef9314e5aece1f1bc3">autofallthrough</a></div><div class="ttdeci">static int autofallthrough</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l00763">pbx.c:763</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a86a7469073a22661d4db7086245c5b18"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a86a7469073a22661d4db7086245c5b18">&#9670;&nbsp;</a></span>pbx_set_extenpatternmatchnew()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int pbx_set_extenpatternmatchnew </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>newval</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set "extenpatternmatchnew" flag, if newval is &lt;0, does not actually set. If set to 1, sets to use the new Trie-based pattern matcher. If newval set to 0, sets to use the old linear-search algorithm. Returns previous value. </p>

<p class="definition">Definition at line <a class="el" href="../../db/d94/pbx_8c_source.html#l04781">4781</a> of file <a class="el" href="../../db/d94/pbx_8c_source.html">pbx.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/d94/pbx_8c_source.html#l00764">extenpatternmatchnew</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d62/test__pbx_8c_source.html#l00188">AST_TEST_DEFINE()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l06105">handle_set_extenpatternmatchnew()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l06133">handle_unset_extenpatternmatchnew()</a>, and <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l02087">pbx_load_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l04782"></a><span class="lineno"> 4782</span>&#160;{</div><div class="line"><a name="l04783"></a><span class="lineno"> 4783</span>&#160;   <span class="keywordtype">int</span> oldval = <a class="code" href="../../db/d94/pbx_8c.html#a3a7600857afccfa4f7a5c55dcaec8407">extenpatternmatchnew</a>;</div><div class="line"><a name="l04784"></a><span class="lineno"> 4784</span>&#160;   <a class="code" href="../../db/d94/pbx_8c.html#a3a7600857afccfa4f7a5c55dcaec8407">extenpatternmatchnew</a> = newval;</div><div class="line"><a name="l04785"></a><span class="lineno"> 4785</span>&#160;   <span class="keywordflow">return</span> oldval;</div><div class="line"><a name="l04786"></a><span class="lineno"> 4786</span>&#160;}</div><div class="ttc" id="pbx_8c_html_a3a7600857afccfa4f7a5c55dcaec8407"><div class="ttname"><a href="../../db/d94/pbx_8c.html#a3a7600857afccfa4f7a5c55dcaec8407">extenpatternmatchnew</a></div><div class="ttdeci">static int extenpatternmatchnew</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l00764">pbx.c:764</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a7a46e2644221be6cb7ca7ba2723006cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7a46e2644221be6cb7ca7ba2723006cd">&#9670;&nbsp;</a></span>pbx_set_overrideswitch()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pbx_set_overrideswitch </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>newval</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set "overrideswitch" field. If set and of nonzero length, all contexts will be tried directly through the named switch prior to any other matching within that context. </p><dl class="section since"><dt>Since</dt><dd>1.6.1 </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../db/d94/pbx_8c_source.html#l04788">4788</a> of file <a class="el" href="../../db/d94/pbx_8c_source.html">pbx.c</a>.</p>

<p class="reference">References <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00243">ast_strdup</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l02087">pbx_load_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l04789"></a><span class="lineno"> 4789</span>&#160;{</div><div class="line"><a name="l04790"></a><span class="lineno"> 4790</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../db/d94/pbx_8c.html#a8f600ca9999b2d9c3d64cbcdb503895c">overrideswitch</a>) {</div><div class="line"><a name="l04791"></a><span class="lineno"> 4791</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(<a class="code" href="../../db/d94/pbx_8c.html#a8f600ca9999b2d9c3d64cbcdb503895c">overrideswitch</a>);</div><div class="line"><a name="l04792"></a><span class="lineno"> 4792</span>&#160;   }</div><div class="line"><a name="l04793"></a><span class="lineno"> 4793</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(newval)) {</div><div class="line"><a name="l04794"></a><span class="lineno"> 4794</span>&#160;      <a class="code" href="../../db/d94/pbx_8c.html#a8f600ca9999b2d9c3d64cbcdb503895c">overrideswitch</a> = <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(newval);</div><div class="line"><a name="l04795"></a><span class="lineno"> 4795</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l04796"></a><span class="lineno"> 4796</span>&#160;      <a class="code" href="../../db/d94/pbx_8c.html#a8f600ca9999b2d9c3d64cbcdb503895c">overrideswitch</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l04797"></a><span class="lineno"> 4797</span>&#160;   }</div><div class="line"><a name="l04798"></a><span class="lineno"> 4798</span>&#160;}</div><div class="ttc" id="astmm_8h_html_ab263849d03fb892847be4986db759737"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a></div><div class="ttdeci">#define ast_strdup(str)</div><div class="ttdoc">A wrapper for strdup() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00243">astmm.h:243</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="pbx_8c_html_a8f600ca9999b2d9c3d64cbcdb503895c"><div class="ttname"><a href="../../db/d94/pbx_8c.html#a8f600ca9999b2d9c3d64cbcdb503895c">overrideswitch</a></div><div class="ttdeci">static char * overrideswitch</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l00765">pbx.c:765</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af5a13a9ab5aac5bb61e4f98ae7e8d296"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af5a13a9ab5aac5bb61e4f98ae7e8d296">&#9670;&nbsp;</a></span>pbx_substitute_variables_helper()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void pbx_substitute_variables_helper </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>cp1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>cp2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/db7/ael__main_8c_source.html#l00211">211</a> of file <a class="el" href="../../d2/db7/ael__main_8c_source.html">ael_main.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00932">ast_channel_varshead()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l00135">AST_MAX_EXTENSION</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../d3/d8c/pbx__variables_8c_source.html#l00626">pbx_substitute_variables_helper_full()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/db7/ael__main_8c_source.html#l00204">__ast_cli_register_multiple()</a>, <a class="el" href="../../d0/d85/pval_8c_source.html#l04213">add_extensions()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l07325">ast_add_extension2_lockopt()</a>, <a class="el" href="../../d9/d1e/func__strings_8c_source.html#l01846">AST_TEST_DEFINE()</a>, <a class="el" href="../../dc/dc1/app__dtmfstore_8c_source.html#l00131">dtmf_store_framehook()</a>, <a class="el" href="../../da/dfb/app__queue_8c_source.html#l06617">escape_and_substitute()</a>, <a class="el" href="../../de/dbf/func__evalexten_8c_source.html#l00110">eval_exten_read()</a>, <a class="el" href="../../d9/d1e/func__strings_8c_source.html#l01438">function_eval()</a>, <a class="el" href="../../d1/dc0/pbx__dundi_8c_source.html#l00559">get_mapping_weight()</a>, <a class="el" href="../../da/dd2/func__logic_8c_source.html#l00236">import_helper()</a>, <a class="el" href="../../d8/d93/app__mixmonitor_8c_source.html#l00933">launch_monitor_thread()</a>, <a class="el" href="../../d5/dd1/cdr__sqlite3__custom_8c_source.html#l00119">load_values_config()</a>, <a class="el" href="../../df/d5a/cdr__manager_8c_source.html#l00273">manager_log()</a>, <a class="el" href="../../df/d1d/pbx__builtins_8c_source.html#l01474">pbx_builtin_importvar()</a>, <a class="el" href="../../de/dcc/conf2ael_8c_source.html#l00546">pbx_builtin_setvar()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l02875">pbx_extension_helper()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l02485">pbx_find_extension()</a>, <a class="el" href="../../dd/d9a/pbx__config_8c_source.html#l01674">pbx_load_config()</a>, <a class="el" href="../../d2/d2c/pbx__realtime_8c_source.html#l00309">realtime_exec()</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00974">rotate_file()</a>, <a class="el" href="../../dc/d12/res__config__ldap_8c_source.html#l00668">substituted()</a>, <a class="el" href="../../dd/d55/test__substitution_8c_source.html#l00153">test_chan_function()</a>, <a class="el" href="../../dd/d55/test__substitution_8c_source.html#l00048">test_chan_integer()</a>, <a class="el" href="../../dd/d55/test__substitution_8c_source.html#l00072">test_chan_integer_accessor()</a>, <a class="el" href="../../dd/d55/test__substitution_8c_source.html#l00096">test_chan_string()</a>, <a class="el" href="../../dd/d55/test__substitution_8c_source.html#l00123">test_chan_variable()</a>, and <a class="el" href="../../db/d94/cel__sqlite3__custom_8c_source.html#l00240">write_cel()</a>.</p>
<div class="fragment"><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;{</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;   <span class="keywordflow">if</span> (cp1 &amp;&amp; *cp1)</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;      strncpy(cp2,cp1,<a class="code" href="../../d5/d7b/channel_8h.html#af4e59494f74ad9e0c50170d9e276ad31">AST_MAX_EXTENSION</a>); <span class="comment">/* Right now, this routine is ONLY being called for</span></div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;<span class="comment">                                    a possible var substitution on extension names,</span></div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;<span class="comment">                                    so....! */</span></div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;   <span class="keywordflow">else</span></div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;      *cp2 = 0;</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;}</div><div class="ttc" id="channel_8h_html_af4e59494f74ad9e0c50170d9e276ad31"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af4e59494f74ad9e0c50170d9e276ad31">AST_MAX_EXTENSION</a></div><div class="ttdeci">#define AST_MAX_EXTENSION</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l00135">channel.h:135</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a4019ca376e3f30f3cd342e29d3145742"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4019ca376e3f30f3cd342e29d3145742">&#9670;&nbsp;</a></span>pbx_substitute_variables_helper_full()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pbx_substitute_variables_helper_full </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../dd/de6/structvarshead.html">varshead</a> *&#160;</td>
          <td class="paramname"><em>headp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>cp1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>cp2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cp2_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>used</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d8c/pbx__variables_8c_source.html#l00626">626</a> of file <a class="el" href="../../d3/d8c/pbx__variables_8c_source.html">pbx_variables.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d7b/channel_8h_source.html#l02981">ast_channel_unref</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00932">ast_channel_varshead()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00401">ast_copy_string()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l01283">ast_dummy_channel_alloc</a>, <a class="el" href="../../dc/df2/ast__expr2f_8c_source.html#l02405">ast_expr()</a>, <a class="el" href="../../db/d70/pbx__functions_8c_source.html#l00599">ast_func_read()</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../d9/d1e/func__strings_8c_source.html#l01344">len()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d3/d8c/pbx__variables_8c_source.html#l00116">parse_variable_name()</a>, <a class="el" href="../../d3/d8c/pbx__variables_8c_source.html#l00235">pbx_retrieve_variable()</a>, <a class="el" href="../../d3/d8c/pbx__variables_8c_source.html#l00149">substring()</a>, <a class="el" href="../../dc/df2/ast__expr2f_8c_source.html#l00614">var</a>, and <a class="el" href="../../d9/da0/pbx__private_8h_source.html#l00068">VAR_BUF_SIZE</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d8c/pbx__variables_8c_source.html#l00835">pbx_substitute_variables_helper()</a>, and <a class="el" href="../../d3/d8c/pbx__variables_8c_source.html#l00840">pbx_substitute_variables_varshead()</a>.</p>
<div class="fragment"><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;{</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;   <span class="comment">/* Substitutes variables into cp2, based on string cp1, cp2 NO LONGER NEEDS TO BE ZEROED OUT!!!!  */</span></div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *whereweare;</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *orig_cp2 = cp2;</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;   <span class="keywordtype">char</span> ltmp[<a class="code" href="../../d9/da0/pbx__private_8h.html#ae1761f6ffd7763505cd891d3314cd7e4">VAR_BUF_SIZE</a>];</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;   <span class="keywordtype">char</span> <a class="code" href="../../dc/df2/ast__expr2f_8c.html#a1b0936415a643c88ce543099c10e0d7f">var</a>[<a class="code" href="../../d9/da0/pbx__private_8h.html#ae1761f6ffd7763505cd891d3314cd7e4">VAR_BUF_SIZE</a>];</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;   *cp2 = 0; <span class="comment">/* just in case nothing ends up there */</span></div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;   whereweare = cp1;</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;   <span class="keywordflow">while</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(whereweare) &amp;&amp; count) {</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;      <span class="keywordtype">char</span> *nextvar = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;      <span class="keywordtype">char</span> *nextexp = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;      <span class="keywordtype">char</span> *nextthing;</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;      <span class="keywordtype">char</span> *vars;</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;      <span class="keywordtype">char</span> *vare;</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;      <span class="keywordtype">int</span> length;</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;      <span class="keywordtype">int</span> pos;</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;      <span class="keywordtype">int</span> brackets;</div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;      <span class="keywordtype">int</span> needsub;</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;      <span class="keywordtype">int</span> <a class="code" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>;</div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;      <span class="comment">/* Determine how much simply needs to be copied to the output buf. */</span></div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;      nextthing = strchr(whereweare, <span class="charliteral">&#39;$&#39;</span>);</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;      <span class="keywordflow">if</span> (nextthing) {</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;         pos = nextthing - whereweare;</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;         <span class="keywordflow">switch</span> (nextthing[1]) {</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;         <span class="keywordflow">case</span> <span class="charliteral">&#39;{&#39;</span>:</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;            <span class="comment">/* Variable substitution */</span></div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;            nextvar = nextthing;</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;         <span class="keywordflow">case</span> <span class="charliteral">&#39;[&#39;</span>:</div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;            <span class="comment">/* Expression substitution */</span></div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;            nextexp = nextthing;</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;         <span class="keywordflow">default</span>:</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;            <span class="comment">/* &#39;$&#39; is not part of a substitution so include it too. */</span></div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;            ++pos;</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;         }</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;         <span class="comment">/* We&#39;re copying the whole remaining string */</span></div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;         pos = strlen(whereweare);</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;      }</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;      <span class="keywordflow">if</span> (pos) {</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;         <span class="comment">/* Can&#39;t copy more than &#39;count&#39; bytes */</span></div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;         <span class="keywordflow">if</span> (pos &gt; count)</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;            pos = count;</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;         <span class="comment">/* Copy that many bytes */</span></div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;         memcpy(cp2, whereweare, pos);</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;         count -= pos;</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;         cp2 += pos;</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;         whereweare += pos;</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;         *cp2 = 0;</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;      }</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;      <span class="keywordflow">if</span> (nextvar) {</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;         <span class="keywordtype">int</span> offset;</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;         <span class="keywordtype">int</span> offset2;</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;         <span class="keywordtype">int</span> isfunction;</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;         <span class="keywordtype">char</span> *cp4;</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;         <span class="keywordtype">char</span> workspace[<a class="code" href="../../d9/da0/pbx__private_8h.html#ae1761f6ffd7763505cd891d3314cd7e4">VAR_BUF_SIZE</a>] = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;         <span class="comment">/* We have a variable.  Find the start and end, and determine</span></div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;<span class="comment">            if we are going to have to recursively call ourselves on the</span></div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;<span class="comment">            contents */</span></div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;         vars = vare = nextvar + 2;</div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;         brackets = 1;</div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;         needsub = 0;</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;         <span class="comment">/* Find the end of it */</span></div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;         <span class="keywordflow">while</span> (brackets &amp;&amp; *vare) {</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;            <span class="keywordflow">if</span> ((vare[0] == <span class="charliteral">&#39;$&#39;</span>) &amp;&amp; (vare[1] == <span class="charliteral">&#39;{&#39;</span>)) {</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;               needsub++;</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;               brackets++;</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;               vare++;</div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (vare[0] == <span class="charliteral">&#39;{&#39;</span>) {</div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;               brackets++;</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (vare[0] == <span class="charliteral">&#39;}&#39;</span>) {</div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;               brackets--;</div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((vare[0] == <span class="charliteral">&#39;$&#39;</span>) &amp;&amp; (vare[1] == <span class="charliteral">&#39;[&#39;</span>)) {</div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;               needsub++;</div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;               vare++;</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;            }</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;            vare++;</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;         }</div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;         len = vare - vars;</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;         <span class="keywordflow">if</span> (brackets) {</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;            <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Error in extension logic (missing &#39;}&#39;)\n&quot;</span>);</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;         } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;            <span class="comment">/* Don&#39;t count the closing &#39;}&#39; in the length. */</span></div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;            --<a class="code" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>;</div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;         }</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;         <span class="comment">/* Skip totally over variable string */</span></div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;         whereweare = vare;</div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;</div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;         <span class="comment">/* Store variable name expression to lookup (and truncate). */</span></div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;         <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(var, vars, len + 1);</div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;</div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;         <span class="comment">/* Substitute if necessary */</span></div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;         <span class="keywordflow">if</span> (needsub) {</div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;            <a class="code" href="../../d3/d8c/pbx__variables_8c.html#a0806f58609bc84a2479d87318fc7b252">pbx_substitute_variables_helper_full</a>(c, headp, var, ltmp, <a class="code" href="../../d9/da0/pbx__private_8h.html#ae1761f6ffd7763505cd891d3314cd7e4">VAR_BUF_SIZE</a> - 1, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;            vars = ltmp;</div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;         } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;            vars = <a class="code" href="../../dc/df2/ast__expr2f_8c.html#a1b0936415a643c88ce543099c10e0d7f">var</a>;</div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;         }</div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;</div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;         <a class="code" href="../../d3/d8c/pbx__variables_8c.html#ac280b071ffa8f9e016cc011d77c41a86">parse_variable_name</a>(vars, &amp;offset, &amp;offset2, &amp;isfunction);</div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;         <span class="keywordflow">if</span> (isfunction) {</div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;            <span class="comment">/* Evaluate function */</span></div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;            <span class="keywordflow">if</span> (c || !headp)</div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;               cp4 = <a class="code" href="../../db/de0/pbx_8h.html#aa4e9618aa036a586af7d7663afd9b507">ast_func_read</a>(c, vars, workspace, <a class="code" href="../../d9/da0/pbx__private_8h.html#ae1761f6ffd7763505cd891d3314cd7e4">VAR_BUF_SIZE</a>) ? <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> : workspace;</div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;            <span class="keywordflow">else</span> {</div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;               <span class="keyword">struct </span><a class="code" href="../../dd/de6/structvarshead.html">varshead</a> old;</div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;               <span class="keyword">struct </span><a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *bogus;</div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;</div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;               bogus = <a class="code" href="../../d5/d7b/channel_8h.html#acc0ae2c008f4157736ef290e9ca62572">ast_dummy_channel_alloc</a>();</div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;               <span class="keywordflow">if</span> (bogus) {</div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;                  old = *<a class="code" href="../../d5/d7b/channel_8h.html#add6255866ea1651a90cf70d963c4920a">ast_channel_varshead</a>(bogus);</div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;                  *<a class="code" href="../../d5/d7b/channel_8h.html#add6255866ea1651a90cf70d963c4920a">ast_channel_varshead</a>(bogus) = *headp;</div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;                  cp4 = <a class="code" href="../../db/de0/pbx_8h.html#aa4e9618aa036a586af7d7663afd9b507">ast_func_read</a>(bogus, vars, workspace, <a class="code" href="../../d9/da0/pbx__private_8h.html#ae1761f6ffd7763505cd891d3314cd7e4">VAR_BUF_SIZE</a>) ? <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> : workspace;</div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;                  <span class="comment">/* Don&#39;t deallocate the varshead that was passed in */</span></div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;                  *<a class="code" href="../../d5/d7b/channel_8h.html#add6255866ea1651a90cf70d963c4920a">ast_channel_varshead</a>(bogus) = old;</div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;                  <a class="code" href="../../d5/d7b/channel_8h.html#ab733a7825810b895a89b629e0ea89380">ast_channel_unref</a>(bogus);</div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;               } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;                  <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Unable to allocate bogus channel for function value substitution.\n&quot;</span>);</div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;                  cp4 = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;               }</div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;            }</div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;            <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(2, <span class="stringliteral">&quot;Function %s result is &#39;%s&#39;\n&quot;</span>, vars, cp4 ? cp4 : <span class="stringliteral">&quot;(null)&quot;</span>);</div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;         } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;            <span class="comment">/* Retrieve variable value */</span></div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;            <a class="code" href="../../d3/d8c/pbx__variables_8c.html#aaf906a18ba2dcd53c35f59869757521f">pbx_retrieve_variable</a>(c, vars, &amp;cp4, workspace, <a class="code" href="../../d9/da0/pbx__private_8h.html#ae1761f6ffd7763505cd891d3314cd7e4">VAR_BUF_SIZE</a>, headp);</div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;         }</div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;         <span class="keywordflow">if</span> (cp4) {</div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;            cp4 = <a class="code" href="../../d3/d8c/pbx__variables_8c.html#ac79353a3cba653bbeea7eabd8e4d073c">substring</a>(cp4, offset, offset2, workspace, <a class="code" href="../../d9/da0/pbx__private_8h.html#ae1761f6ffd7763505cd891d3314cd7e4">VAR_BUF_SIZE</a>);</div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;</div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;            length = strlen(cp4);</div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;            <span class="keywordflow">if</span> (length &gt; count)</div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;               length = count;</div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;            memcpy(cp2, cp4, length);</div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;            count -= length;</div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;            cp2 += length;</div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;            *cp2 = 0;</div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;         }</div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (nextexp) {</div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;         <span class="comment">/* We have an expression.  Find the start and end, and determine</span></div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;<span class="comment">            if we are going to have to recursively call ourselves on the</span></div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;<span class="comment">            contents */</span></div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;         vars = vare = nextexp + 2;</div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;         brackets = 1;</div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;         needsub = 0;</div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;</div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;         <span class="comment">/* Find the end of it */</span></div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;         <span class="keywordflow">while</span> (brackets &amp;&amp; *vare) {</div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;            <span class="keywordflow">if</span> ((vare[0] == <span class="charliteral">&#39;$&#39;</span>) &amp;&amp; (vare[1] == <span class="charliteral">&#39;[&#39;</span>)) {</div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;               needsub++;</div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;               brackets++;</div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;               vare++;</div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (vare[0] == <span class="charliteral">&#39;[&#39;</span>) {</div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;               brackets++;</div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (vare[0] == <span class="charliteral">&#39;]&#39;</span>) {</div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;               brackets--;</div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((vare[0] == <span class="charliteral">&#39;$&#39;</span>) &amp;&amp; (vare[1] == <span class="charliteral">&#39;{&#39;</span>)) {</div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;               needsub++;</div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;               vare++;</div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;            }</div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;            vare++;</div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;         }</div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;         len = vare - vars;</div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;         <span class="keywordflow">if</span> (brackets) {</div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;            <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Error in extension logic (missing &#39;]&#39;)\n&quot;</span>);</div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;         } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;            <span class="comment">/* Don&#39;t count the closing &#39;]&#39; in the length. */</span></div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;            --<a class="code" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>;</div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;         }</div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;</div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;         <span class="comment">/* Skip totally over expression */</span></div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;         whereweare = vare;</div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;</div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;         <span class="comment">/* Store expression to evaluate (and truncate). */</span></div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;         <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(var, vars, len + 1);</div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;</div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;         <span class="comment">/* Substitute if necessary */</span></div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;         <span class="keywordflow">if</span> (needsub) {</div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;            <a class="code" href="../../d3/d8c/pbx__variables_8c.html#a0806f58609bc84a2479d87318fc7b252">pbx_substitute_variables_helper_full</a>(c, headp, var, ltmp, <a class="code" href="../../d9/da0/pbx__private_8h.html#ae1761f6ffd7763505cd891d3314cd7e4">VAR_BUF_SIZE</a> - 1, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;            vars = ltmp;</div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;         } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;            vars = <a class="code" href="../../dc/df2/ast__expr2f_8c.html#a1b0936415a643c88ce543099c10e0d7f">var</a>;</div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;         }</div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;</div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;         length = <a class="code" href="../../d0/d93/ast__expr_8h.html#a7aefd8d0694c8f4241d64ffaf5145b4c">ast_expr</a>(vars, cp2, count, c);</div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;         <span class="keywordflow">if</span> (length) {</div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;            <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;Expression result is &#39;%s&#39;\n&quot;</span>, cp2);</div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;            count -= length;</div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;            cp2 += length;</div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;            *cp2 = 0;</div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;         }</div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;      }</div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;   }</div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;   <span class="keywordflow">if</span> (used) {</div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;      *used = cp2 - orig_cp2;</div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;   }</div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;}</div><div class="ttc" id="pbx__variables_8c_html_ac79353a3cba653bbeea7eabd8e4d073c"><div class="ttname"><a href="../../d3/d8c/pbx__variables_8c.html#ac79353a3cba653bbeea7eabd8e4d073c">substring</a></div><div class="ttdeci">static char * substring(const char *value, int offset, int length, char *workspace, size_t workspace_len)</div><div class="ttdoc">takes a substring. It is ok to call with value == workspace. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d8c/pbx__variables_8c_source.html#l00149">pbx_variables.c:149</a></div></div>
<div class="ttc" id="pbx_8h_html_aa4e9618aa036a586af7d7663afd9b507"><div class="ttname"><a href="../../db/de0/pbx_8h.html#aa4e9618aa036a586af7d7663afd9b507">ast_func_read</a></div><div class="ttdeci">int ast_func_read(struct ast_channel *chan, const char *function, char *workspace, size_t len)</div><div class="ttdoc">executes a read operation on a function </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d70/pbx__functions_8c_source.html#l00599">pbx_functions.c:599</a></div></div>
<div class="ttc" id="structast__channel_html"><div class="ttname"><a href="../../df/d3c/structast__channel.html">ast_channel</a></div><div class="ttdoc">Main Channel structure associated with a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00073">channel_internal_api.c:73</a></div></div>
<div class="ttc" id="channel_8h_html_ab733a7825810b895a89b629e0ea89380"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#ab733a7825810b895a89b629e0ea89380">ast_channel_unref</a></div><div class="ttdeci">#define ast_channel_unref(c)</div><div class="ttdoc">Decrease channel reference count. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02981">channel.h:2981</a></div></div>
<div class="ttc" id="pbx__variables_8c_html_ac280b071ffa8f9e016cc011d77c41a86"><div class="ttname"><a href="../../d3/d8c/pbx__variables_8c.html#ac280b071ffa8f9e016cc011d77c41a86">parse_variable_name</a></div><div class="ttdeci">static int parse_variable_name(char *var, int *offset, int *length, int *isfunc)</div><div class="ttdoc">extract offset:length from variable name. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d8c/pbx__variables_8c_source.html#l00116">pbx_variables.c:116</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="ast__expr2f_8c_html_a1b0936415a643c88ce543099c10e0d7f"><div class="ttname"><a href="../../dc/df2/ast__expr2f_8c.html#a1b0936415a643c88ce543099c10e0d7f">var</a></div><div class="ttdeci">#define var</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/ast__expr2f_8c_source.html#l00614">ast_expr2f.c:614</a></div></div>
<div class="ttc" id="pbx__variables_8c_html_a0806f58609bc84a2479d87318fc7b252"><div class="ttname"><a href="../../d3/d8c/pbx__variables_8c.html#a0806f58609bc84a2479d87318fc7b252">pbx_substitute_variables_helper_full</a></div><div class="ttdeci">void pbx_substitute_variables_helper_full(struct ast_channel *c, struct varshead *headp, const char *cp1, char *cp2, int count, size_t *used)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d8c/pbx__variables_8c_source.html#l00626">pbx_variables.c:626</a></div></div>
<div class="ttc" id="channel_8h_html_add6255866ea1651a90cf70d963c4920a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#add6255866ea1651a90cf70d963c4920a">ast_channel_varshead</a></div><div class="ttdeci">struct varshead * ast_channel_varshead(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00932">channel_internal_api.c:932</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="channel_8h_html_acc0ae2c008f4157736ef290e9ca62572"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#acc0ae2c008f4157736ef290e9ca62572">ast_dummy_channel_alloc</a></div><div class="ttdeci">#define ast_dummy_channel_alloc()</div><div class="ttdoc">Create a fake channel structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01283">channel.h:1283</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="func__strings_8c_html_af24e73aaf92f3000fda15d285e66df24"><div class="ttname"><a href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a></div><div class="ttdeci">static int len(struct ast_channel *chan, const char *cmd, char *data, char *buf, size_t buflen)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d1e/func__strings_8c_source.html#l01344">func_strings.c:1344</a></div></div>
<div class="ttc" id="structvarshead_html"><div class="ttname"><a href="../../dd/de6/structvarshead.html">varshead</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de7/chanvars_8h_source.html#l00034">chanvars.h:34</a></div></div>
<div class="ttc" id="pbx__private_8h_html_ae1761f6ffd7763505cd891d3314cd7e4"><div class="ttname"><a href="../../d9/da0/pbx__private_8h.html#ae1761f6ffd7763505cd891d3314cd7e4">VAR_BUF_SIZE</a></div><div class="ttdeci">#define VAR_BUF_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/da0/pbx__private_8h_source.html#l00068">pbx_private.h:68</a></div></div>
<div class="ttc" id="strings_8h_html_ac4040268f7b6ed77dfc49c7767626369"><div class="ttname"><a href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a></div><div class="ttdeci">void ast_copy_string(char *dst, const char *src, size_t size)</div><div class="ttdoc">Size-limited null-terminating string copy. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00401">strings.h:401</a></div></div>
<div class="ttc" id="pbx__variables_8c_html_aaf906a18ba2dcd53c35f59869757521f"><div class="ttname"><a href="../../d3/d8c/pbx__variables_8c.html#aaf906a18ba2dcd53c35f59869757521f">pbx_retrieve_variable</a></div><div class="ttdeci">void pbx_retrieve_variable(struct ast_channel *c, const char *var, char **ret, char *workspace, int workspacelen, struct varshead *headp)</div><div class="ttdoc">Support for Asterisk built-in variables in the dialplan. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d8c/pbx__variables_8c_source.html#l00235">pbx_variables.c:235</a></div></div>
<div class="ttc" id="ast__expr_8h_html_a7aefd8d0694c8f4241d64ffaf5145b4c"><div class="ttname"><a href="../../d0/d93/ast__expr_8h.html#a7aefd8d0694c8f4241d64ffaf5145b4c">ast_expr</a></div><div class="ttdeci">int ast_expr(char *expr, char *buf, int length, struct ast_channel *chan)</div><div class="ttdoc">Evaluate the given expression. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/ast__expr2f_8c_source.html#l02405">ast_expr2f.c:2405</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2b3355625306d4b98ca8047cd2245459"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2b3355625306d4b98ca8047cd2245459">&#9670;&nbsp;</a></span>pbx_substitute_variables_varshead()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pbx_substitute_variables_varshead </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dd/de6/structvarshead.html">varshead</a> *&#160;</td>
          <td class="paramname"><em>headp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>cp1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>cp2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d8c/pbx__variables_8c_source.html#l00840">840</a> of file <a class="el" href="../../d3/d8c/pbx__variables_8c_source.html">pbx_variables.c</a>.</p>

<p class="reference">References <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../d3/d8c/pbx__variables_8c_source.html#l00626">pbx_substitute_variables_helper_full()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d1b/app__playback_8c_source.html#l00173">do_say()</a>, <a class="el" href="../../d1/dc0/pbx__dundi_8c_source.html#l00578">dundi_lookup_local()</a>, <a class="el" href="../../d1/dc0/pbx__dundi_8c_source.html#l00559">get_mapping_weight()</a>, and <a class="el" href="../../d8/d48/pbx__loopback_8c_source.html#l00084">loopback_subst()</a>.</p>
<div class="fragment"><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;{</div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;   <a class="code" href="../../d3/d8c/pbx__variables_8c.html#a0806f58609bc84a2479d87318fc7b252">pbx_substitute_variables_helper_full</a>(<a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, headp, cp1, cp2, count, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;}</div><div class="ttc" id="pbx__variables_8c_html_a0806f58609bc84a2479d87318fc7b252"><div class="ttname"><a href="../../d3/d8c/pbx__variables_8c.html#a0806f58609bc84a2479d87318fc7b252">pbx_substitute_variables_helper_full</a></div><div class="ttdeci">void pbx_substitute_variables_helper_full(struct ast_channel *c, struct varshead *headp, const char *cp1, char *cp2, int count, size_t *used)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d8c/pbx__variables_8c_source.html#l00626">pbx_variables.c:626</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Aug 8 2021 19:46:13 for Asterisk - The Open Source Telephony Project by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
