<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Asterisk - The Open Source Telephony Project: logger.c File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Asterisk - The Open Source Telephony Project
   &#160;<span id="projectnumber">18.5.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_5c982d53a68cdbcd421152b4020263a9.html">main</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">logger.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Asterisk Logger.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="../../db/db2/asterisk_8h_source.html">asterisk.h</a>&quot;</code><br />
<code>#include &lt;<a class="el" href="../../d7/d30/syslog_8h_source.html">syslog.h</a>&gt;</code><br />
<code>#include &lt;signal.h&gt;</code><br />
<code>#include &lt;<a class="el" href="../../de/df7/time_8h_source.html">time.h</a>&gt;</code><br />
<code>#include &lt;sys/stat.h&gt;</code><br />
<code>#include &lt;fcntl.h&gt;</code><br />
<code>#include &quot;<a class="el" href="../../d4/d78/__private_8h_source.html">asterisk/_private.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d5/d16/module_8h_source.html">asterisk/module.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../dd/df2/paths_8h_source.html">asterisk/paths.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d1/d8c/logger_8h_source.html">asterisk/logger.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d5/d1f/logger__category_8h_source.html">asterisk/logger_category.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../dd/d42/lock_8h_source.html">asterisk/lock.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d5/d7b/channel_8h_source.html">asterisk/channel.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html">asterisk/config.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../db/d45/term_8h_source.html">asterisk/term.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../dc/db0/cli_8h_source.html">asterisk/cli.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d5/d60/utils_8h_source.html">asterisk/utils.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../db/d45/manager_8h_source.html">asterisk/manager.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d5/da5/astobj2_8h_source.html">asterisk/astobj2.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../dc/d7d/threadstorage_8h_source.html">asterisk/threadstorage.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d6/d90/strings_8h_source.html">asterisk/strings.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../db/de0/pbx_8h_source.html">asterisk/pbx.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d3/d93/include_2asterisk_2app_8h_source.html">asterisk/app.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../de/d35/buildinfo_8h_source.html">asterisk/buildinfo.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d5/db9/ast__version_8h_source.html">asterisk/ast_version.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d3/dda/backtrace_8h_source.html">asterisk/backtrace.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d4/d05/json_8h_source.html">asterisk/json.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for logger.c:</div>
<div class="dyncontent">
<div class="center"><img src="../../da/d30/logger_8c__incl.png" border="0" usemap="#logger_8c" alt=""/></div>
<map name="logger_8c" id="logger_8c">
<area shape="rect" id="node2" href="../../db/db2/asterisk_8h.html" title="Asterisk main include file. File version handling, generic pbx functions. " alt="" coords="789,304,873,331"/>
<area shape="rect" id="node9" href="../../d7/d30/syslog_8h.html" title="Syslog support functions for Asterisk logging. " alt="" coords="44,80,119,107"/>
<area shape="rect" id="node11" href="../../de/df7/time_8h.html" title="Time&#45;related functions and macros. " alt="" coords="1902,677,1965,704"/>
<area shape="rect" id="node16" href="../../d4/d78/__private_8h.html" title="Prototypes for public functions only of internal interest,. " alt="" coords="484,80,623,107"/>
<area shape="rect" id="node17" href="../../d5/d16/module_8h.html" title="Asterisk module definitions. " alt="" coords="2470,155,2606,181"/>
<area shape="rect" id="node18" href="../../d5/d60/utils_8h.html" title="Utility functions. " alt="" coords="2444,304,2559,331"/>
<area shape="rect" id="node19" href="../../dd/d42/lock_8h.html" title="Asterisk locking&#45;related definitions: " alt="" coords="1946,603,2060,629"/>
<area shape="rect" id="node20" href="../../d3/dda/backtrace_8h.html" title="Asterisk backtrace generation. " alt="" coords="1533,677,1684,704"/>
<area shape="rect" id="node21" href="../../d1/d8c/logger_8h.html" title="Support for logging to various files, console and syslog Configuration in file logger.conf. " alt="" coords="993,677,1120,704"/>
<area shape="rect" id="node23" href="../../d6/d90/strings_8h.html" title="String manipulation functions. " alt="" coords="2436,379,2567,405"/>
<area shape="rect" id="node24" href="../../dc/d7d/threadstorage_8h.html" title="Definitions to aid in the use of thread local storage. " alt="" coords="3000,453,3179,480"/>
<area shape="rect" id="node25" href="../../d5/da5/astobj2_8h.html" title="asterisk/astobj2.h" alt="" coords="2013,453,2148,480"/>
<area shape="rect" id="node27" href="../../dd/df2/paths_8h.html" title="Asterisk file paths, configured in asterisk.conf. " alt="" coords="2114,80,2238,107"/>
<area shape="rect" id="node28" href="../../d5/d1f/logger__category_8h.html" title="asterisk/logger_category.h" alt="" coords="228,528,418,555"/>
<area shape="rect" id="node29" href="../../d5/d7b/channel_8h.html" title="General Asterisk PBX channel definitions. " alt="" coords="1546,155,1684,181"/>
<area shape="rect" id="node35" href="../../d3/de6/include_2asterisk_2config_8h.html" title="Configuration File Parser. " alt="" coords="2938,229,3065,256"/>
<area shape="rect" id="node43" href="../../d4/d05/json_8h.html" title="Asterisk JSON abstraction layer. " alt="" coords="2071,304,2186,331"/>
<area shape="rect" id="node44" href="../../db/d45/manager_8h.html" title="The AMI &#45; Asterisk Manager Interface &#45; is a TCP protocol created to manage Asterisk with third&#45;party ..." alt="" coords="1394,304,1540,331"/>
<area shape="rect" id="node45" href="../../db/d45/term_8h.html" title="Handy terminal functions for vt* terms. " alt="" coords="2837,80,2956,107"/>
<area shape="rect" id="node46" href="../../dc/db0/cli_8h.html" title="Standard Command Line Interface. " alt="" coords="2268,304,2370,331"/>
<area shape="rect" id="node47" href="../../db/de0/pbx_8h.html" title="Core PBX routines and definitions. " alt="" coords="1860,80,1970,107"/>
<area shape="rect" id="node48" href="../../d3/d93/include_2asterisk_2app_8h.html" title="Application convenience functions, designed to give consistent look and feel to Asterisk apps..." alt="" coords="2786,155,2898,181"/>
<area shape="rect" id="node49" href="../../de/d35/buildinfo_8h.html" title="asterisk/buildinfo.h" alt="" coords="3292,80,3434,107"/>
<area shape="rect" id="node50" href="../../d5/db9/ast__version_8h.html" title="Asterisk version information. " alt="" coords="3458,80,3620,107"/>
<area shape="rect" id="node3" href="../../d8/d20/autoconfig_8h.html" title="asterisk/autoconfig.h" alt="" coords="1316,752,1471,779"/>
<area shape="rect" id="node4" href="../../de/da3/include_2asterisk_2compat_8h.html" title="General Definitions for Asterisk top level program Included by asterisk.h to handle platform&#45;specific..." alt="" coords="2173,603,2310,629"/>
<area shape="rect" id="node8" href="../../d8/d8a/astmm_8h.html" title="Asterisk memory management routines. " alt="" coords="764,379,898,405"/>
<area shape="rect" id="node5" href="../../d4/dd1/compiler_8h.html" title="Compiler&#45;specific macros and other items. " alt="" coords="2041,677,2184,704"/>
<area shape="rect" id="node13" href="../../d5/d9d/inline__api_8h.html" title="Inlinable API function macro. " alt="" coords="2375,752,2522,779"/>
<area shape="rect" id="node22" href="../../d1/d0f/stringfields_8h.html" title="asterisk/stringfields.h" alt="" coords="2642,379,2799,405"/>
<area shape="rect" id="node26" href="../../df/d90/linkedlists_8h.html" title="A set of macros to manage forward&#45;linked lists. " alt="" coords="1636,528,1786,555"/>
<area shape="rect" id="node30" href="../../dc/d4d/alertpipe_8h.html" title="asterisk/alertpipe.h" alt="" coords="2415,229,2559,256"/>
<area shape="rect" id="node31" href="../../dc/d14/abstract__jb_8h.html" title="Common implementation&#45;independent jitterbuffer stuff. " alt="" coords="45,528,204,555"/>
<area shape="rect" id="node32" href="../../d4/dfb/poll-compat_8h.html" title="asterisk/poll&#45;compat.h" alt="" coords="1653,229,1817,256"/>
<area shape="rect" id="node33" href="../../d6/d66/include_2asterisk_2frame_8h.html" title="Asterisk internal frame definitions. " alt="" coords="1101,453,1228,480"/>
<area shape="rect" id="node34" href="../../d9/de7/chanvars_8h.html" title="Channel Variables. " alt="" coords="1842,229,1988,256"/>
<area shape="rect" id="node36" href="../../dc/d07/cdr_8h.html" title="Call Detail Record API. " alt="" coords="1284,229,1391,256"/>
<area shape="rect" id="node37" href="../../d9/db6/datastore_8h.html" title="Asterisk datastore objects. " alt="" coords="1540,379,1690,405"/>
<area shape="rect" id="node38" href="../../d0/d3c/format__cap_8h.html" title="Format Capabilities API. " alt="" coords="1416,229,1577,256"/>
<area shape="rect" id="node39" href="../../d9/d95/channelstate_8h.html" title="Channel states. " alt="" coords="746,229,916,256"/>
<area shape="rect" id="node40" href="../../de/dc8/ccss_8h.html" title="Call Completion Supplementary Services API. " alt="" coords="941,229,1057,256"/>
<area shape="rect" id="node41" href="../../db/d3c/framehook_8h.html" title="FrameHook Architecture. " alt="" coords="1100,379,1258,405"/>
<area shape="rect" id="node42" href="../../dd/d79/stasis_8h.html" title="Stasis Message Bus API. See Stasis Message Bus API for detailed documentation. " alt="" coords="2063,229,2188,256"/>
</map>
</div>
</div>
<p><a href="../../d1/d22/logger_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d0c/structlogchannel.html">logchannel</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/df7/structlogchannels.html">logchannels</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d44/structlogformatter.html">logformatter</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/dff/structlogmsg.html">logmsg</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dc4/structlogmsgs.html">logmsgs</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d9c/structverb__console.html">verb_console</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d05/structverb__consoles.html">verb_consoles</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a363296aa77a2d22cbdc759d82dbe883f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d22/logger_8c.html#a363296aa77a2d22cbdc759d82dbe883f">FORMATL</a>&#160;&#160;&#160;&quot;%-35.35s %-8.8s %-10.10s %-9.9s &quot;</td></tr>
<tr class="separator:a363296aa77a2d22cbdc759d82dbe883f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a823b00a2a06078bfb2e4aeb974ae9536"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d22/logger_8c.html#a823b00a2a06078bfb2e4aeb974ae9536">LOG_BUF_INIT_SIZE</a>&#160;&#160;&#160;256</td></tr>
<tr class="separator:a823b00a2a06078bfb2e4aeb974ae9536"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05dca41c190b623052222f1b9c2ffa12"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d22/logger_8c.html#a05dca41c190b623052222f1b9c2ffa12">LOTS_O_SPACES</a>&#160;&#160;&#160;&quot;                                                                                            &quot;</td></tr>
<tr class="separator:a05dca41c190b623052222f1b9c2ffa12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb718d66b0fc16699d625172b7117f94"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d22/logger_8c.html#abb718d66b0fc16699d625172b7117f94">VERBOSE_BUF_INIT_SIZE</a>&#160;&#160;&#160;256</td></tr>
<tr class="separator:abb718d66b0fc16699d625172b7117f94"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a29df94a387c835e6296b05418885993e"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d22/logger_8c.html#a29df94a387c835e6296b05418885993e">logmsgtypes</a> { <a class="el" href="../../d1/d22/logger_8c.html#a29df94a387c835e6296b05418885993ea4ff7bef379df472011e5516f51160e2c">LOGMSG_NORMAL</a> = 0, 
<a class="el" href="../../d1/d22/logger_8c.html#a29df94a387c835e6296b05418885993eae66ea31ebaa61ba9cac6412f3f9f21c7">LOGMSG_VERBOSE</a>
 }</td></tr>
<tr class="separator:a29df94a387c835e6296b05418885993e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e2550c12ff27e5cd303101e86cf8eb4"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d22/logger_8c.html#a7e2550c12ff27e5cd303101e86cf8eb4">logtypes</a> { <a class="el" href="../../d1/d22/logger_8c.html#a7e2550c12ff27e5cd303101e86cf8eb4affe678f5d32a5ad00d20d138627aa22f">LOGTYPE_SYSLOG</a>, 
<a class="el" href="../../d1/d22/logger_8c.html#a7e2550c12ff27e5cd303101e86cf8eb4a82620c2d182f4b50f3801669f747f3aa">LOGTYPE_FILE</a>, 
<a class="el" href="../../d1/d22/logger_8c.html#a7e2550c12ff27e5cd303101e86cf8eb4a439c8fd120012113aa39dfece22ed55f">LOGTYPE_CONSOLE</a>
 }</td></tr>
<tr class="separator:a7e2550c12ff27e5cd303101e86cf8eb4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a390505c32550f77c3e013a8030fac392"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d22/logger_8c.html#a390505c32550f77c3e013a8030fac392">rotatestrategy</a> { <a class="el" href="../../d1/d22/logger_8c.html#a390505c32550f77c3e013a8030fac392ac157bdf0b85a40d2619cbc8bc1ae5fe2">NONE</a> = 0, 
<a class="el" href="../../d1/d22/logger_8c.html#a390505c32550f77c3e013a8030fac392a6b834d43476553e583e0fde6578c82f0">SEQUENTIAL</a> = 1 &lt;&lt; 0, 
<a class="el" href="../../d1/d22/logger_8c.html#a390505c32550f77c3e013a8030fac392a3dcfe0046eb5876e287dbf0914819b16">ROTATE</a> = 1 &lt;&lt; 1, 
<a class="el" href="../../d1/d22/logger_8c.html#a390505c32550f77c3e013a8030fac392a3f2dbbd8fe9ad35caa594416336ceeda">TIMESTAMP</a> = 1 &lt;&lt; 2
 }</td></tr>
<tr class="separator:a390505c32550f77c3e013a8030fac392"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a90a8bd6dce895cb7d0773c1e48fc3c63"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d22/logger_8c.html#a90a8bd6dce895cb7d0773c1e48fc3c63">__ast_trace</a> (const char *file, int line, const char *func, enum <a class="el" href="../../d1/d8c/logger_8h.html#a8659de19508ec3d26275c9852a5cd5e0">ast_trace_indent_type</a> indent_type, unsigned long new_indent, const char *<a class="el" href="../../da/d45/chan__alsa_8c.html#a98f5e70e98f6dc48e3c5ba316066d540">format</a>,...)</td></tr>
<tr class="separator:a90a8bd6dce895cb7d0773c1e48fc3c63"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87ed5746d7ef430b0b16ea9a4b3ab4f2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d22/logger_8c.html#a87ed5746d7ef430b0b16ea9a4b3ab4f2">__ast_verbose</a> (const char *file, int line, const char *func, int level, const char *fmt,...)</td></tr>
<tr class="memdesc:a87ed5746d7ef430b0b16ea9a4b3ab4f2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a verbose message (based on verbose level)  <a href="#a87ed5746d7ef430b0b16ea9a4b3ab4f2">More...</a><br /></td></tr>
<tr class="separator:a87ed5746d7ef430b0b16ea9a4b3ab4f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08700711fff878bdd0ef7e7769f25fe6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d22/logger_8c.html#a08700711fff878bdd0ef7e7769f25fe6">__ast_verbose_ap</a> (const char *file, int line, const char *func, int level, <a class="el" href="../../d1/d8c/logger_8h.html#a6db44a7e26f0bc42801fc7225817c6a1">ast_callid</a> callid, const char *fmt, va_list ap)</td></tr>
<tr class="separator:a08700711fff878bdd0ef7e7769f25fe6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7fa6bcfb12ce4ce7ab07abe122aba99b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d22/logger_8c.html#a7fa6bcfb12ce4ce7ab07abe122aba99b">__ast_verbose_callid</a> (const char *file, int line, const char *func, int level, <a class="el" href="../../d1/d8c/logger_8h.html#a6db44a7e26f0bc42801fc7225817c6a1">ast_callid</a> callid, const char *fmt,...)</td></tr>
<tr class="memdesc:a7fa6bcfb12ce4ce7ab07abe122aba99b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a verbose message (based on verbose level) with deliberately specified callid.  <a href="#a7fa6bcfb12ce4ce7ab07abe122aba99b">More...</a><br /></td></tr>
<tr class="separator:a7fa6bcfb12ce4ce7ab07abe122aba99b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92572f1f7f10b2beb24312dcd328f701"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d22/logger_8c.html#a92572f1f7f10b2beb24312dcd328f701">__init_log_buf</a> (void)</td></tr>
<tr class="separator:a92572f1f7f10b2beb24312dcd328f701"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acfdbf192adaf61a3b061b7d1d73f7e17"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d22/logger_8c.html#acfdbf192adaf61a3b061b7d1d73f7e17">__init_my_verb_console</a> (void)</td></tr>
<tr class="separator:acfdbf192adaf61a3b061b7d1d73f7e17"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad01cbd4482ac5d94de942a5bbbefb15c"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d22/logger_8c.html#ad01cbd4482ac5d94de942a5bbbefb15c">__init_unique_callid</a> (void)</td></tr>
<tr class="separator:ad01cbd4482ac5d94de942a5bbbefb15c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a502d0e9afc462ac3bc83c5080737155e"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d22/logger_8c.html#a502d0e9afc462ac3bc83c5080737155e">__init_verbose_buf</a> (void)</td></tr>
<tr class="separator:a502d0e9afc462ac3bc83c5080737155e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a82f5acbf33307567f1934411e38501"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d22/logger_8c.html#a0a82f5acbf33307567f1934411e38501">__init_verbose_build_buf</a> (void)</td></tr>
<tr class="separator:a0a82f5acbf33307567f1934411e38501"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88b7c88fed6b80fd18f34f97757dfc04"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d22/logger_8c.html#a88b7c88fed6b80fd18f34f97757dfc04">__reg_module</a> (void)</td></tr>
<tr class="separator:a88b7c88fed6b80fd18f34f97757dfc04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afeab1257bd17282b95875499393a147a"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d22/logger_8c.html#afeab1257bd17282b95875499393a147a">__unreg_module</a> (void)</td></tr>
<tr class="separator:afeab1257bd17282b95875499393a147a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4592827ac63990ae6f05015a6b9985a3"><td class="memItemLeft" align="right" valign="top">unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d22/logger_8c.html#a4592827ac63990ae6f05015a6b9985a3">_ast_trace_dec_indent</a> (void)</td></tr>
<tr class="memdesc:a4592827ac63990ae6f05015a6b9985a3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Decrement the indent level.  <a href="#a4592827ac63990ae6f05015a6b9985a3">More...</a><br /></td></tr>
<tr class="separator:a4592827ac63990ae6f05015a6b9985a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a460c53a6b870c6c2f08cddc576385be2"><td class="memItemLeft" align="right" valign="top">unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d22/logger_8c.html#a460c53a6b870c6c2f08cddc576385be2">_ast_trace_get_indent</a> (void)</td></tr>
<tr class="memdesc:a460c53a6b870c6c2f08cddc576385be2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the current indent level.  <a href="#a460c53a6b870c6c2f08cddc576385be2">More...</a><br /></td></tr>
<tr class="separator:a460c53a6b870c6c2f08cddc576385be2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc9f02b238d80d07e1a408e8983ebf60"><td class="memItemLeft" align="right" valign="top">unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d22/logger_8c.html#acc9f02b238d80d07e1a408e8983ebf60">_ast_trace_inc_indent</a> (void)</td></tr>
<tr class="memdesc:acc9f02b238d80d07e1a408e8983ebf60"><td class="mdescLeft">&#160;</td><td class="mdescRight">Increment the indent level.  <a href="#acc9f02b238d80d07e1a408e8983ebf60">More...</a><br /></td></tr>
<tr class="separator:acc9f02b238d80d07e1a408e8983ebf60"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20510fa64106a8e47091c9339172aca5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d22/logger_8c.html#a20510fa64106a8e47091c9339172aca5">_ast_trace_set_indent</a> (unsigned long indent)</td></tr>
<tr class="memdesc:a20510fa64106a8e47091c9339172aca5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the current indent level.  <a href="#a20510fa64106a8e47091c9339172aca5">More...</a><br /></td></tr>
<tr class="separator:a20510fa64106a8e47091c9339172aca5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f1be0b868a854412d364a9712a716ec"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d22/logger_8c.html#a2f1be0b868a854412d364a9712a716ec">_handle_SIGXFSZ</a> (int sig)</td></tr>
<tr class="separator:a2f1be0b868a854412d364a9712a716ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0feedebddbe9e37de4425491e6c6afca"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d22/logger_8c.html#a0feedebddbe9e37de4425491e6c6afca">ast_callid_strnprint</a> (char *buffer, size_t buffer_size, <a class="el" href="../../d1/d8c/logger_8h.html#a6db44a7e26f0bc42801fc7225817c6a1">ast_callid</a> callid)</td></tr>
<tr class="memdesc:a0feedebddbe9e37de4425491e6c6afca"><td class="mdescLeft">&#160;</td><td class="mdescRight">copy a string representation of the callid into a target string  <a href="#a0feedebddbe9e37de4425491e6c6afca">More...</a><br /></td></tr>
<tr class="separator:a0feedebddbe9e37de4425491e6c6afca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6956becf4d7e3906c74b6e30b834ebd8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d22/logger_8c.html#a6956becf4d7e3906c74b6e30b834ebd8">ast_callid_threadassoc_add</a> (<a class="el" href="../../d1/d8c/logger_8h.html#a6db44a7e26f0bc42801fc7225817c6a1">ast_callid</a> callid)</td></tr>
<tr class="memdesc:a6956becf4d7e3906c74b6e30b834ebd8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a known callid to thread storage of the calling thread.  <a href="#a6956becf4d7e3906c74b6e30b834ebd8">More...</a><br /></td></tr>
<tr class="separator:a6956becf4d7e3906c74b6e30b834ebd8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37b40349d0ef536a0f34b042f7803ab8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d22/logger_8c.html#a37b40349d0ef536a0f34b042f7803ab8">ast_callid_threadassoc_change</a> (<a class="el" href="../../d1/d8c/logger_8h.html#a6db44a7e26f0bc42801fc7225817c6a1">ast_callid</a> callid)</td></tr>
<tr class="memdesc:a37b40349d0ef536a0f34b042f7803ab8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets what is stored in the thread storage to the given callid if it does not match what is already there.  <a href="#a37b40349d0ef536a0f34b042f7803ab8">More...</a><br /></td></tr>
<tr class="separator:a37b40349d0ef536a0f34b042f7803ab8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e325f2d0c2872627a05feff17423f80"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d22/logger_8c.html#a9e325f2d0c2872627a05feff17423f80">ast_callid_threadassoc_remove</a> (void)</td></tr>
<tr class="memdesc:a9e325f2d0c2872627a05feff17423f80"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes callid from thread storage of the calling thread.  <a href="#a9e325f2d0c2872627a05feff17423f80">More...</a><br /></td></tr>
<tr class="separator:a9e325f2d0c2872627a05feff17423f80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9fb378dbf6d7127ecf018f0190c9fa97"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d22/logger_8c.html#a9fb378dbf6d7127ecf018f0190c9fa97">ast_callid_threadstorage_auto</a> (<a class="el" href="../../d1/d8c/logger_8h.html#a6db44a7e26f0bc42801fc7225817c6a1">ast_callid</a> *callid)</td></tr>
<tr class="memdesc:a9fb378dbf6d7127ecf018f0190c9fa97"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks thread storage for a callid and stores a reference if it exists. If not, then a new one will be created, bound to the thread, and a reference to it will be stored.  <a href="#a9fb378dbf6d7127ecf018f0190c9fa97">More...</a><br /></td></tr>
<tr class="separator:a9fb378dbf6d7127ecf018f0190c9fa97"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a226c587c10a5af466a8f81be28de668f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d22/logger_8c.html#a226c587c10a5af466a8f81be28de668f">ast_callid_threadstorage_auto_clean</a> (<a class="el" href="../../d1/d8c/logger_8h.html#a6db44a7e26f0bc42801fc7225817c6a1">ast_callid</a> callid, int callid_created)</td></tr>
<tr class="memdesc:a226c587c10a5af466a8f81be28de668f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Use in conjunction with ast_callid_threadstorage_auto. Cleans up the references and if the callid was created by threadstorage_auto, unbinds the callid from the threadstorage.  <a href="#a226c587c10a5af466a8f81be28de668f">More...</a><br /></td></tr>
<tr class="separator:a226c587c10a5af466a8f81be28de668f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe937354501761e17f2d2163d1f8ac87"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d22/logger_8c.html#abe937354501761e17f2d2163d1f8ac87">ast_child_verbose</a> (int level, const char *fmt,...)</td></tr>
<tr class="separator:abe937354501761e17f2d2163d1f8ac87"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6cd2a7c20c6cfe0e3f4fed72dd2cc6b2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d1/d8c/logger_8h.html#a6db44a7e26f0bc42801fc7225817c6a1">ast_callid</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d22/logger_8c.html#a6cd2a7c20c6cfe0e3f4fed72dd2cc6b2">ast_create_callid</a> (void)</td></tr>
<tr class="memdesc:a6cd2a7c20c6cfe0e3f4fed72dd2cc6b2"><td class="mdescLeft">&#160;</td><td class="mdescRight">factory function to create a new uniquely identifying callid.  <a href="#a6cd2a7c20c6cfe0e3f4fed72dd2cc6b2">More...</a><br /></td></tr>
<tr class="separator:a6cd2a7c20c6cfe0e3f4fed72dd2cc6b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae131afeed07fe27ce77744335dd8dba3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d22/logger_8c.html#ae131afeed07fe27ce77744335dd8dba3">ast_dynamic_logger_level</a> (const char *<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>)</td></tr>
<tr class="memdesc:ae131afeed07fe27ce77744335dd8dba3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if a dynamic logger level exists.  <a href="#ae131afeed07fe27ce77744335dd8dba3">More...</a><br /></td></tr>
<tr class="separator:ae131afeed07fe27ce77744335dd8dba3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d8b3e9d6d1e828877fab83401fcbfe4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d22/logger_8c.html#a5d8b3e9d6d1e828877fab83401fcbfe4">ast_init_logger_for_socket_console</a> (void)</td></tr>
<tr class="memdesc:a5d8b3e9d6d1e828877fab83401fcbfe4"><td class="mdescLeft">&#160;</td><td class="mdescRight">load logger.conf configuration for console socket connections  <a href="#a5d8b3e9d6d1e828877fab83401fcbfe4">More...</a><br /></td></tr>
<tr class="separator:a5d8b3e9d6d1e828877fab83401fcbfe4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50a2e3bde19d6688d7f5f47b294c1ade"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d22/logger_8c.html#a50a2e3bde19d6688d7f5f47b294c1ade">ast_is_logger_initialized</a> (void)</td></tr>
<tr class="memdesc:a50a2e3bde19d6688d7f5f47b294c1ade"><td class="mdescLeft">&#160;</td><td class="mdescRight">Test if logger is initialized.  <a href="#a50a2e3bde19d6688d7f5f47b294c1ade">More...</a><br /></td></tr>
<tr class="separator:a50a2e3bde19d6688d7f5f47b294c1ade"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93dd824dff97fe84941d6d71b7a3710e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d22/logger_8c.html#a93dd824dff97fe84941d6d71b7a3710e">ast_log</a> (int level, const char *file, int line, const char *function, const char *fmt,...)</td></tr>
<tr class="memdesc:a93dd824dff97fe84941d6d71b7a3710e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used for sending a log message This is the standard logger function. Probably the only way you will invoke it would be something like this: ast_log(AST_LOG_WHATEVER, "Problem with the %s Captain.  We should get some more.  Will %d be enough?\n", "flux capacitor", 10); where WHATEVER is one of ERROR, DEBUG, EVENT, NOTICE, or WARNING depending on which log you wish to output to. These are implemented as macros, that will provide the function with the needed arguments.  <a href="#a93dd824dff97fe84941d6d71b7a3710e">More...</a><br /></td></tr>
<tr class="separator:a93dd824dff97fe84941d6d71b7a3710e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88b95c279d534db8de80accfb4570e95"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d22/logger_8c.html#a88b95c279d534db8de80accfb4570e95">ast_log_ap</a> (int level, const char *file, int line, const char *function, const char *fmt, va_list ap)</td></tr>
<tr class="separator:a88b95c279d534db8de80accfb4570e95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6cb0aae475369edb487c5c0ea2af02a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d22/logger_8c.html#af6cb0aae475369edb487c5c0ea2af02a">ast_log_backtrace</a> (void)</td></tr>
<tr class="memdesc:af6cb0aae475369edb487c5c0ea2af02a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Log a backtrace of the current thread's execution stack to the Asterisk log.  <a href="#af6cb0aae475369edb487c5c0ea2af02a">More...</a><br /></td></tr>
<tr class="separator:af6cb0aae475369edb487c5c0ea2af02a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc9016dd0252e330dccb25552afd3b43"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d22/logger_8c.html#acc9016dd0252e330dccb25552afd3b43">ast_log_callid</a> (int level, const char *file, int line, const char *function, <a class="el" href="../../d1/d8c/logger_8h.html#a6db44a7e26f0bc42801fc7225817c6a1">ast_callid</a> callid, const char *fmt,...)</td></tr>
<tr class="memdesc:acc9016dd0252e330dccb25552afd3b43"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used for sending a log message with a known call_id This is a modified logger function which is functionally identical to the above logger function, it just include a call_id argument as well. If NULL is specified here, no attempt will be made to join the log message with a call_id.  <a href="#acc9016dd0252e330dccb25552afd3b43">More...</a><br /></td></tr>
<tr class="separator:acc9016dd0252e330dccb25552afd3b43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a372050a0b201dd3176e390b03336de1e"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d22/logger_8c.html#a372050a0b201dd3176e390b03336de1e">ast_log_full</a> (int level, int sublevel, const char *file, int line, const char *function, <a class="el" href="../../d1/d8c/logger_8h.html#a6db44a7e26f0bc42801fc7225817c6a1">ast_callid</a> callid, const char *fmt, va_list ap)</td></tr>
<tr class="memdesc:a372050a0b201dd3176e390b03336de1e"><td class="mdescLeft">&#160;</td><td class="mdescRight">send log messages to syslog and/or the console  <a href="#a372050a0b201dd3176e390b03336de1e">More...</a><br /></td></tr>
<tr class="separator:a372050a0b201dd3176e390b03336de1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3edfd90f9a0116460cf2178db5abb4e9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d22/logger_8c.html#a3edfd90f9a0116460cf2178db5abb4e9">ast_log_safe</a> (int level, const char *file, int line, const char *function, const char *fmt,...)</td></tr>
<tr class="memdesc:a3edfd90f9a0116460cf2178db5abb4e9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used for sending a log message with protection against recursion.  <a href="#a3edfd90f9a0116460cf2178db5abb4e9">More...</a><br /></td></tr>
<tr class="separator:a3edfd90f9a0116460cf2178db5abb4e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2dafb819b3b5e2505cbaf484271307f6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d22/logger_8c.html#a2dafb819b3b5e2505cbaf484271307f6">ast_logger_create_channel</a> (const char *log_channel, const char *components)</td></tr>
<tr class="memdesc:a2dafb819b3b5e2505cbaf484271307f6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a log channel.  <a href="#a2dafb819b3b5e2505cbaf484271307f6">More...</a><br /></td></tr>
<tr class="separator:a2dafb819b3b5e2505cbaf484271307f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a9b0f852538270ad879b0b6d8fea3fb"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d22/logger_8c.html#a4a9b0f852538270ad879b0b6d8fea3fb">ast_logger_get_channels</a> (int(*logentry)(const char *<a class="el" href="../../d4/d84/structchannel.html">channel</a>, const char *<a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>, const char *<a class="el" href="../../de/dcd/app__jack_8c.html#ac191e5810fa65e63095409471eb5648f">status</a>, const char *configuration, void *data), void *data)</td></tr>
<tr class="memdesc:a4a9b0f852538270ad879b0b6d8fea3fb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve the existing log channels.  <a href="#a4a9b0f852538270ad879b0b6d8fea3fb">More...</a><br /></td></tr>
<tr class="separator:a4a9b0f852538270ad879b0b6d8fea3fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a742631da92caaaf27152c0397f53ae31"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d22/logger_8c.html#a742631da92caaaf27152c0397f53ae31">ast_logger_get_dateformat</a> (void)</td></tr>
<tr class="memdesc:a742631da92caaaf27152c0397f53ae31"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the logger configured date format.  <a href="#a742631da92caaaf27152c0397f53ae31">More...</a><br /></td></tr>
<tr class="separator:a742631da92caaaf27152c0397f53ae31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a063983e8f5e104cd843dc7158272ddc5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d22/logger_8c.html#a063983e8f5e104cd843dc7158272ddc5">ast_logger_get_queue_limit</a> (void)</td></tr>
<tr class="memdesc:a063983e8f5e104cd843dc7158272ddc5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the maximum number of messages allowed in the processing queue.  <a href="#a063983e8f5e104cd843dc7158272ddc5">More...</a><br /></td></tr>
<tr class="separator:a063983e8f5e104cd843dc7158272ddc5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa689efaaa503de6322c2b13b3faab63d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d22/logger_8c.html#aa689efaaa503de6322c2b13b3faab63d">ast_logger_register_level</a> (const char *<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>)</td></tr>
<tr class="memdesc:aa689efaaa503de6322c2b13b3faab63d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register a new logger level.  <a href="#aa689efaaa503de6322c2b13b3faab63d">More...</a><br /></td></tr>
<tr class="separator:aa689efaaa503de6322c2b13b3faab63d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41eaacdc25a24b9d9a265e60555a7243"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d22/logger_8c.html#a41eaacdc25a24b9d9a265e60555a7243">ast_logger_remove_channel</a> (const char *log_channel)</td></tr>
<tr class="memdesc:a41eaacdc25a24b9d9a265e60555a7243"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delete the specified log channel.  <a href="#a41eaacdc25a24b9d9a265e60555a7243">More...</a><br /></td></tr>
<tr class="separator:a41eaacdc25a24b9d9a265e60555a7243"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41dd18dbe431737cee678307f016d99f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d22/logger_8c.html#a41dd18dbe431737cee678307f016d99f">ast_logger_rotate</a> ()</td></tr>
<tr class="memdesc:a41dd18dbe431737cee678307f016d99f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reload logger while rotating log files.  <a href="#a41dd18dbe431737cee678307f016d99f">More...</a><br /></td></tr>
<tr class="separator:a41dd18dbe431737cee678307f016d99f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ea99aa29251702bb8e6ea003423a504"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d22/logger_8c.html#a0ea99aa29251702bb8e6ea003423a504">ast_logger_rotate_channel</a> (const char *log_channel)</td></tr>
<tr class="memdesc:a0ea99aa29251702bb8e6ea003423a504"><td class="mdescLeft">&#160;</td><td class="mdescRight">Rotate the specified log channel.  <a href="#a0ea99aa29251702bb8e6ea003423a504">More...</a><br /></td></tr>
<tr class="separator:a0ea99aa29251702bb8e6ea003423a504"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab876ba122c4a14e7b474f635dec7501"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d22/logger_8c.html#aab876ba122c4a14e7b474f635dec7501">ast_logger_set_queue_limit</a> (int queue_limit)</td></tr>
<tr class="memdesc:aab876ba122c4a14e7b474f635dec7501"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the maximum number of messages allowed in the processing queue.  <a href="#aab876ba122c4a14e7b474f635dec7501">More...</a><br /></td></tr>
<tr class="separator:aab876ba122c4a14e7b474f635dec7501"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3d21782b3b66b21cda6d9e153545909"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d22/logger_8c.html#ae3d21782b3b66b21cda6d9e153545909">ast_logger_unregister_level</a> (const char *<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>)</td></tr>
<tr class="memdesc:ae3d21782b3b66b21cda6d9e153545909"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unregister a previously registered logger level.  <a href="#ae3d21782b3b66b21cda6d9e153545909">More...</a><br /></td></tr>
<tr class="separator:ae3d21782b3b66b21cda6d9e153545909"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fb0aca9bbcdb9709fa52a70aded6cae"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d22/logger_8c.html#a4fb0aca9bbcdb9709fa52a70aded6cae">AST_MODULE_SELF_SYM</a> (void)</td></tr>
<tr class="separator:a4fb0aca9bbcdb9709fa52a70aded6cae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f7a6acbec3680a06af27ae561772915"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d22/logger_8c.html#a9f7a6acbec3680a06af27ae561772915">ast_queue_log</a> (const char *queuename, const char *callid, const char *agent, const char *<a class="el" href="../../df/d7d/structevent.html">event</a>, const char *fmt,...)</td></tr>
<tr class="separator:a9f7a6acbec3680a06af27ae561772915"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b3f39ea262ffa795ce4b597968ad00b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d1/d8c/logger_8h.html#a6db44a7e26f0bc42801fc7225817c6a1">ast_callid</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d22/logger_8c.html#a5b3f39ea262ffa795ce4b597968ad00b">ast_read_threadstorage_callid</a> (void)</td></tr>
<tr class="memdesc:a5b3f39ea262ffa795ce4b597968ad00b"><td class="mdescLeft">&#160;</td><td class="mdescRight">extracts the callerid from the thread  <a href="#a5b3f39ea262ffa795ce4b597968ad00b">More...</a><br /></td></tr>
<tr class="separator:a5b3f39ea262ffa795ce4b597968ad00b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a90d4b9df64212982f448c9b287fe5f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d22/logger_8c.html#a1a90d4b9df64212982f448c9b287fe5f">AST_THREADSTORAGE_RAW</a> (in_safe_log)</td></tr>
<tr class="separator:a1a90d4b9df64212982f448c9b287fe5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9b36c97a988cc92d860b2412da16ebb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d22/logger_8c.html#af9b36c97a988cc92d860b2412da16ebb">AST_THREADSTORAGE_RAW</a> (trace_indent)</td></tr>
<tr class="separator:af9b36c97a988cc92d860b2412da16ebb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae20a38a15eebc85a55879b97f02185de"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d22/logger_8c.html#ae20a38a15eebc85a55879b97f02185de">ast_verb_console_get</a> (void)</td></tr>
<tr class="memdesc:ae20a38a15eebc85a55879b97f02185de"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get this thread's console verbosity level.  <a href="#ae20a38a15eebc85a55879b97f02185de">More...</a><br /></td></tr>
<tr class="separator:ae20a38a15eebc85a55879b97f02185de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32a16834a00172c3284070e6d6d38f47"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d22/logger_8c.html#a32a16834a00172c3284070e6d6d38f47">ast_verb_console_register</a> (int *level)</td></tr>
<tr class="memdesc:a32a16834a00172c3284070e6d6d38f47"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register this thread's console verbosity level pointer.  <a href="#a32a16834a00172c3284070e6d6d38f47">More...</a><br /></td></tr>
<tr class="separator:a32a16834a00172c3284070e6d6d38f47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6d25060778549d235d9c2aaf669b6ee"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d22/logger_8c.html#af6d25060778549d235d9c2aaf669b6ee">ast_verb_console_set</a> (int verb_level)</td></tr>
<tr class="memdesc:af6d25060778549d235d9c2aaf669b6ee"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set this thread's console verbosity level.  <a href="#af6d25060778549d235d9c2aaf669b6ee">More...</a><br /></td></tr>
<tr class="separator:af6d25060778549d235d9c2aaf669b6ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29974a7eb3d1e79c16d6923189a82f53"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d22/logger_8c.html#a29974a7eb3d1e79c16d6923189a82f53">ast_verb_console_unregister</a> (void)</td></tr>
<tr class="memdesc:a29974a7eb3d1e79c16d6923189a82f53"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unregister this thread's console verbosity level.  <a href="#a29974a7eb3d1e79c16d6923189a82f53">More...</a><br /></td></tr>
<tr class="separator:a29974a7eb3d1e79c16d6923189a82f53"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad013a7e1fb2dcbd046b44c40b060e5b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d22/logger_8c.html#aad013a7e1fb2dcbd046b44c40b060e5b">ast_verb_update</a> (void)</td></tr>
<tr class="memdesc:aad013a7e1fb2dcbd046b44c40b060e5b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Re-evaluate the system max verbosity level (ast_verb_sys_level).  <a href="#aad013a7e1fb2dcbd046b44c40b060e5b">More...</a><br /></td></tr>
<tr class="separator:aad013a7e1fb2dcbd046b44c40b060e5b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a472851d5655c8a9b9492c40e5ff32d2d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d22/logger_8c.html#a472851d5655c8a9b9492c40e5ff32d2d">close_logger</a> (void)</td></tr>
<tr class="separator:a472851d5655c8a9b9492c40e5ff32d2d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af336670f485e9c9a5eb9c21d2f9e62e0"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../d6/d0c/structlogchannel.html">logchannel</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d22/logger_8c.html#af336670f485e9c9a5eb9c21d2f9e62e0">find_logchannel</a> (const char *<a class="el" href="../../d4/d84/structchannel.html">channel</a>)</td></tr>
<tr class="memdesc:af336670f485e9c9a5eb9c21d2f9e62e0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find a particular logger channel by name.  <a href="#af336670f485e9c9a5eb9c21d2f9e62e0">More...</a><br /></td></tr>
<tr class="separator:af336670f485e9c9a5eb9c21d2f9e62e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a912a789ca7ef3b03fcc8b1d43e01b04f"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d22/logger_8c.html#a912a789ca7ef3b03fcc8b1d43e01b04f">format_log_default</a> (struct <a class="el" href="../../d6/d0c/structlogchannel.html">logchannel</a> *chan, struct <a class="el" href="../../dc/dff/structlogmsg.html">logmsg</a> *msg, char *<a class="el" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, size_t size)</td></tr>
<tr class="separator:a912a789ca7ef3b03fcc8b1d43e01b04f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02a42dd9f9b54d87ff85f4b0cfa0ff17"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d22/logger_8c.html#a02a42dd9f9b54d87ff85f4b0cfa0ff17">format_log_json</a> (struct <a class="el" href="../../d6/d0c/structlogchannel.html">logchannel</a> *<a class="el" href="../../d4/d84/structchannel.html">channel</a>, struct <a class="el" href="../../dc/dff/structlogmsg.html">logmsg</a> *msg, char *<a class="el" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, size_t size)</td></tr>
<tr class="separator:a02a42dd9f9b54d87ff85f4b0cfa0ff17"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a335a8d7cbefb2893f78fb7af2a80ab97"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../dc/dff/structlogmsg.html">logmsg</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d22/logger_8c.html#a335a8d7cbefb2893f78fb7af2a80ab97">format_log_message</a> (int level, int sublevel, const char *file, int line, const char *function, <a class="el" href="../../d1/d8c/logger_8h.html#a6db44a7e26f0bc42801fc7225817c6a1">ast_callid</a> callid, const char *fmt,...)</td></tr>
<tr class="separator:a335a8d7cbefb2893f78fb7af2a80ab97"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6bcc963cf3993d36e608ad02c23bea5"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../dc/dff/structlogmsg.html">logmsg</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d22/logger_8c.html#ab6bcc963cf3993d36e608ad02c23bea5">format_log_message_ap</a> (int level, int sublevel, const char *file, int line, const char *function, <a class="el" href="../../d1/d8c/logger_8h.html#a6db44a7e26f0bc42801fc7225817c6a1">ast_callid</a> callid, const char *fmt, va_list ap)</td></tr>
<tr class="separator:ab6bcc963cf3993d36e608ad02c23bea5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d5c694b14ef48eca0cd963671d49cb1"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d22/logger_8c.html#a0d5c694b14ef48eca0cd963671d49cb1">format_log_plain</a> (struct <a class="el" href="../../d6/d0c/structlogchannel.html">logchannel</a> *chan, struct <a class="el" href="../../dc/dff/structlogmsg.html">logmsg</a> *msg, char *<a class="el" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, size_t size)</td></tr>
<tr class="separator:a0d5c694b14ef48eca0cd963671d49cb1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9962e643261718f372efa728bc112a05"><td class="memItemLeft" align="right" valign="top">static char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d22/logger_8c.html#a9962e643261718f372efa728bc112a05">handle_logger_add_channel</a> (struct <a class="el" href="../../d8/d07/structast__cli__entry.html">ast_cli_entry</a> *e, int cmd, struct <a class="el" href="../../d3/dad/structast__cli__args.html">ast_cli_args</a> *<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a>)</td></tr>
<tr class="separator:a9962e643261718f372efa728bc112a05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60ed0cfcb00fccff5f115bca239a3737"><td class="memItemLeft" align="right" valign="top">static char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d22/logger_8c.html#a60ed0cfcb00fccff5f115bca239a3737">handle_logger_reload</a> (struct <a class="el" href="../../d8/d07/structast__cli__entry.html">ast_cli_entry</a> *e, int cmd, struct <a class="el" href="../../d3/dad/structast__cli__args.html">ast_cli_args</a> *<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a>)</td></tr>
<tr class="separator:a60ed0cfcb00fccff5f115bca239a3737"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5cecf1fa4ddafcc1f37900b14a9d88e"><td class="memItemLeft" align="right" valign="top">static char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d22/logger_8c.html#ae5cecf1fa4ddafcc1f37900b14a9d88e">handle_logger_remove_channel</a> (struct <a class="el" href="../../d8/d07/structast__cli__entry.html">ast_cli_entry</a> *e, int cmd, struct <a class="el" href="../../d3/dad/structast__cli__args.html">ast_cli_args</a> *<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a>)</td></tr>
<tr class="separator:ae5cecf1fa4ddafcc1f37900b14a9d88e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a529d7be34c865a9be09c3348f6beeefd"><td class="memItemLeft" align="right" valign="top">static char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d22/logger_8c.html#a529d7be34c865a9be09c3348f6beeefd">handle_logger_rotate</a> (struct <a class="el" href="../../d8/d07/structast__cli__entry.html">ast_cli_entry</a> *e, int cmd, struct <a class="el" href="../../d3/dad/structast__cli__args.html">ast_cli_args</a> *<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a>)</td></tr>
<tr class="separator:a529d7be34c865a9be09c3348f6beeefd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8da7a09e6808d7e4b3654f4fea8dfbfd"><td class="memItemLeft" align="right" valign="top">static char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d22/logger_8c.html#a8da7a09e6808d7e4b3654f4fea8dfbfd">handle_logger_set_level</a> (struct <a class="el" href="../../d8/d07/structast__cli__entry.html">ast_cli_entry</a> *e, int cmd, struct <a class="el" href="../../d3/dad/structast__cli__args.html">ast_cli_args</a> *<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a>)</td></tr>
<tr class="separator:a8da7a09e6808d7e4b3654f4fea8dfbfd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa66664a8448c2dbfdae4cd6ebfa8b402"><td class="memItemLeft" align="right" valign="top">static char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d22/logger_8c.html#aa66664a8448c2dbfdae4cd6ebfa8b402">handle_logger_show_channels</a> (struct <a class="el" href="../../d8/d07/structast__cli__entry.html">ast_cli_entry</a> *e, int cmd, struct <a class="el" href="../../d3/dad/structast__cli__args.html">ast_cli_args</a> *<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a>)</td></tr>
<tr class="memdesc:aa66664a8448c2dbfdae4cd6ebfa8b402"><td class="mdescLeft">&#160;</td><td class="mdescRight">CLI command to show logging system configuration.  <a href="#aa66664a8448c2dbfdae4cd6ebfa8b402">More...</a><br /></td></tr>
<tr class="separator:aa66664a8448c2dbfdae4cd6ebfa8b402"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa750bd60d48780b89622bb62520dff0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d22/logger_8c.html#aaa750bd60d48780b89622bb62520dff0">init_logger</a> (void)</td></tr>
<tr class="separator:aaa750bd60d48780b89622bb62520dff0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04da4b5280eecc1a76279432eba4fa10"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d22/logger_8c.html#a04da4b5280eecc1a76279432eba4fa10">init_logger_chain</a> (const char *altconf)</td></tr>
<tr class="memdesc:a04da4b5280eecc1a76279432eba4fa10"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read config, setup channels.  <a href="#a04da4b5280eecc1a76279432eba4fa10">More...</a><br /></td></tr>
<tr class="separator:a04da4b5280eecc1a76279432eba4fa10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3382bf6da54c56b37069bd76bbdf4f9"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d22/logger_8c.html#ac3382bf6da54c56b37069bd76bbdf4f9">load_module</a> (void)</td></tr>
<tr class="separator:ac3382bf6da54c56b37069bd76bbdf4f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7dc10409b311ad76e05dd4c747a0be97"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d22/logger_8c.html#a7dc10409b311ad76e05dd4c747a0be97">logger_add_verbose_magic</a> (struct <a class="el" href="../../dc/dff/structlogmsg.html">logmsg</a> *<a class="el" href="../../dc/dff/structlogmsg.html">logmsg</a>, char *<a class="el" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, size_t size)</td></tr>
<tr class="separator:a7dc10409b311ad76e05dd4c747a0be97"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2c5290c43f91e7f6bdac350c32d29ae"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d22/logger_8c.html#ac2c5290c43f91e7f6bdac350c32d29ae">logger_print_normal</a> (struct <a class="el" href="../../dc/dff/structlogmsg.html">logmsg</a> *<a class="el" href="../../dc/dff/structlogmsg.html">logmsg</a>)</td></tr>
<tr class="memdesc:ac2c5290c43f91e7f6bdac350c32d29ae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Print a normal log message to the channels.  <a href="#ac2c5290c43f91e7f6bdac350c32d29ae">More...</a><br /></td></tr>
<tr class="separator:ac2c5290c43f91e7f6bdac350c32d29ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad207df7ad3889d2c1bf307f697a27796"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d22/logger_8c.html#ad207df7ad3889d2c1bf307f697a27796">logger_queue_init</a> (void)</td></tr>
<tr class="separator:ad207df7ad3889d2c1bf307f697a27796"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adbdf4673bb7f9db253690c90c5cd6afd"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d22/logger_8c.html#adbdf4673bb7f9db253690c90c5cd6afd">logger_queue_restart</a> (int queue_rotate)</td></tr>
<tr class="separator:adbdf4673bb7f9db253690c90c5cd6afd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a467c5f4dc23fa36d21aceafeb65cc147"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d22/logger_8c.html#a467c5f4dc23fa36d21aceafeb65cc147">logger_queue_rt_start</a> (void)</td></tr>
<tr class="separator:a467c5f4dc23fa36d21aceafeb65cc147"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29011844a44a126bacfb81e3bddabaad"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d22/logger_8c.html#a29011844a44a126bacfb81e3bddabaad">logger_queue_start</a> (void)</td></tr>
<tr class="memdesc:a29011844a44a126bacfb81e3bddabaad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start the <a class="el" href="../../d1/d22/logger_8c.html#a9f7a6acbec3680a06af27ae561772915">ast_queue_log()</a> logger.  <a href="#a29011844a44a126bacfb81e3bddabaad">More...</a><br /></td></tr>
<tr class="separator:a29011844a44a126bacfb81e3bddabaad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82031c6f0224e2f227005cc34b833243"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d22/logger_8c.html#a82031c6f0224e2f227005cc34b833243">logger_register_level</a> (const char *<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>)</td></tr>
<tr class="separator:a82031c6f0224e2f227005cc34b833243"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4f7d8da66207fdb53d5f5ecb171032e"><td class="memItemLeft" align="right" valign="top">static void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d22/logger_8c.html#ac4f7d8da66207fdb53d5f5ecb171032e">logger_thread</a> (void *data)</td></tr>
<tr class="memdesc:ac4f7d8da66207fdb53d5f5ecb171032e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Actual logging thread.  <a href="#ac4f7d8da66207fdb53d5f5ecb171032e">More...</a><br /></td></tr>
<tr class="separator:ac4f7d8da66207fdb53d5f5ecb171032e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc616cecf77dbae42bf28c09a8398ddc"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d22/logger_8c.html#afc616cecf77dbae42bf28c09a8398ddc">logmsg_free</a> (struct <a class="el" href="../../dc/dff/structlogmsg.html">logmsg</a> *msg)</td></tr>
<tr class="separator:afc616cecf77dbae42bf28c09a8398ddc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a867f2826ec792c2f51ab97adf00fc6bd"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d22/logger_8c.html#a867f2826ec792c2f51ab97adf00fc6bd">make_components</a> (struct <a class="el" href="../../d6/d0c/structlogchannel.html">logchannel</a> *chan)</td></tr>
<tr class="separator:a867f2826ec792c2f51ab97adf00fc6bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a016a34f1dce9ea82fb0dd83f29ba376f"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d22/logger_8c.html#a016a34f1dce9ea82fb0dd83f29ba376f">make_filename</a> (const char *<a class="el" href="../../d4/d84/structchannel.html">channel</a>, char *filename, size_t size)</td></tr>
<tr class="memdesc:a016a34f1dce9ea82fb0dd83f29ba376f"><td class="mdescLeft">&#160;</td><td class="mdescRight">create the filename that will be used for a logger channel.  <a href="#a016a34f1dce9ea82fb0dd83f29ba376f">More...</a><br /></td></tr>
<tr class="separator:a016a34f1dce9ea82fb0dd83f29ba376f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7a804c1b0b716c6b612a79aded136df"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../d6/d0c/structlogchannel.html">logchannel</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d22/logger_8c.html#ab7a804c1b0b716c6b612a79aded136df">make_logchannel</a> (const char *<a class="el" href="../../d4/d84/structchannel.html">channel</a>, const char *components, int lineno, int dynamic)</td></tr>
<tr class="separator:ab7a804c1b0b716c6b612a79aded136df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4dfd6bff5fa421d9abc89125ac5d7d8b"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d22/logger_8c.html#a4dfd6bff5fa421d9abc89125ac5d7d8b">reload_logger</a> (int rotate, const char *altconf)</td></tr>
<tr class="separator:a4dfd6bff5fa421d9abc89125ac5d7d8b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c6ac25ea7536c0bc9ed18cbcf917527"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d22/logger_8c.html#a7c6ac25ea7536c0bc9ed18cbcf917527">reload_module</a> (void)</td></tr>
<tr class="separator:a7c6ac25ea7536c0bc9ed18cbcf917527"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeeca350be69b461abe789c969ed420ab"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d22/logger_8c.html#aeeca350be69b461abe789c969ed420ab">rotate_file</a> (const char *filename)</td></tr>
<tr class="separator:aeeca350be69b461abe789c969ed420ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad09fa931f468002152a3cc2d5ce25eae"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d22/logger_8c.html#ad09fa931f468002152a3cc2d5ce25eae">unload_module</a> (void)</td></tr>
<tr class="separator:ad09fa931f468002152a3cc2d5ce25eae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a72f6b0d691624a37aabc6268c7bc3f"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d22/logger_8c.html#a5a72f6b0d691624a37aabc6268c7bc3f">update_logchannels</a> (void)</td></tr>
<tr class="separator:a5a72f6b0d691624a37aabc6268c7bc3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1bbf34a84e8ad026c0eccdda92d0fa4f"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d22/logger_8c.html#a1bbf34a84e8ad026c0eccdda92d0fa4f">verb_console_free</a> (void *v_console)</td></tr>
<tr class="separator:a1bbf34a84e8ad026c0eccdda92d0fa4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af70c1c39ec11740a497d6fd421a5f183"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d22/logger_8c.html#af70c1c39ec11740a497d6fd421a5f183">verb_console_unregister</a> (struct <a class="el" href="../../d9/d9c/structverb__console.html">verb_console</a> *<a class="el" href="../../df/d87/structconsole.html">console</a>)</td></tr>
<tr class="separator:af70c1c39ec11740a497d6fd421a5f183"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ab22f32016155f7f403e7178767163d7d"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d22/logger_8c.html#ab22f32016155f7f403e7178767163d7d">__mod_info</a> = { .<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a> = <a class="el" href="../../da/ddd/named__acl_8c.html#aec23fc5034c3bb08140fc021f4955877">AST_MODULE</a>, .flags = <a class="el" href="../../d5/d16/module_8h.html#a155a0df9c59e04e305d4a2fa3e35f843a835b27a90d895a488e4e14cc3d2dee8c">AST_MODFLAG_GLOBAL_SYMBOLS</a> | <a class="el" href="../../d5/d16/module_8h.html#a155a0df9c59e04e305d4a2fa3e35f843a12c3f60dd7655dfa8d4430cbf04b1223">AST_MODFLAG_LOAD_ORDER</a> , .description = &quot;Logger&quot; , .key = &quot;This paragraph is copyright (<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>) 2006 by Digium, Inc. \In <a class="el" href="../../d5/d14/voicin_8c.html#aed7ca058008dc3e5ee131e575abed285">order</a> for your module to load, it must return this \key via <a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a> function called \&quot;key\&quot;. Any code which \includes this paragraph must <a class="el" href="../../dd/d7c/eagi__proxy_8c.html#a39730e90126aad69cfc9ca4d6fcdb3a6">be</a> licensed under the GNU \General Public License <a class="el" href="../../da/d7c/utils_2frame_8h.html#a56abfaab87c46691c1ef3ad0df23e864">version</a> 2 or later (at your \option). In addition to Digium's general reservations \of rights, Digium expressly reserves the right to \allow other parties to license this paragraph under \different terms. Any use of Digium, Inc. trademarks or \logos (including \&quot;Asterisk\&quot; or \&quot;Digium\&quot;) without \express written <a class="el" href="../../d4/d4c/structpermission.html">permission</a> of Digium, Inc. is prohibited.\n&quot; , .buildopt_sum = &quot;30ef0c93b36035ec78c9cfd712d36d9b&quot; , .support_level = AST_MODULE_SUPPORT_CORE, .load = load_module, .unload = unload_module, .reload = reload_module, .load_pri = 0, }</td></tr>
<tr class="separator:ab22f32016155f7f403e7178767163d7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad60e83b9aa660040fed4d5377966cc21"><td class="memItemLeft" align="right" valign="top">static const struct <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d22/logger_8c.html#ad60e83b9aa660040fed4d5377966cc21">ast_module_info</a> = &amp;<a class="el" href="../../d6/d7a/test__xml__escape_8c.html#ab22f32016155f7f403e7178767163d7d">__mod_info</a></td></tr>
<tr class="separator:ad60e83b9aa660040fed4d5377966cc21"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad833b610a71e242ad11a7f3fb5e79b90"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../d8/d07/structast__cli__entry.html">ast_cli_entry</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d22/logger_8c.html#ad833b610a71e242ad11a7f3fb5e79b90">cli_logger</a> []</td></tr>
<tr class="separator:ad833b610a71e242ad11a7f3fb5e79b90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38ac6d8ec7483171f8a13fed360b6ced"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d22/logger_8c.html#a38ac6d8ec7483171f8a13fed360b6ced">close_logger_thread</a> = 0</td></tr>
<tr class="separator:a38ac6d8ec7483171f8a13fed360b6ced"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e3a3c76f7cfd1cbe8818452da8eb860"><td class="memItemLeft" align="right" valign="top">static const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d22/logger_8c.html#a8e3a3c76f7cfd1cbe8818452da8eb860">colors</a> [<a class="el" href="../../d1/d8c/logger_8h.html#a3d02ffd5809bdb049c815df859bbfcf4">NUMLOGLEVELS</a>]</td></tr>
<tr class="memdesc:a8e3a3c76f7cfd1cbe8818452da8eb860"><td class="mdescLeft">&#160;</td><td class="mdescRight">Colors used in the console for logging.  <a href="#a8e3a3c76f7cfd1cbe8818452da8eb860">More...</a><br /></td></tr>
<tr class="separator:a8e3a3c76f7cfd1cbe8818452da8eb860"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2057dec53731af6bb6881015b58936ba"><td class="memItemLeft" align="right" valign="top">static char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d22/logger_8c.html#a2057dec53731af6bb6881015b58936ba">dateformat</a> [256] = &quot;%b %e %T&quot;</td></tr>
<tr class="separator:a2057dec53731af6bb6881015b58936ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f2b7ea41494bbea44ef18a8aedd671e"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d22/logger_8c.html#a5f2b7ea41494bbea44ef18a8aedd671e">display_callids</a></td></tr>
<tr class="separator:a5f2b7ea41494bbea44ef18a8aedd671e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63c5086d15ebc49d28387fcbfa176bf5"><td class="memItemLeft" align="right" valign="top">static char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d22/logger_8c.html#a63c5086d15ebc49d28387fcbfa176bf5">exec_after_rotate</a> [256] = &quot;&quot;</td></tr>
<tr class="separator:a63c5086d15ebc49d28387fcbfa176bf5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b97f7299bdadbda12e69a1a31c9d28c"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d22/logger_8c.html#a2b97f7299bdadbda12e69a1a31c9d28c">filesize_reload_needed</a></td></tr>
<tr class="separator:a2b97f7299bdadbda12e69a1a31c9d28c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0705cfbd7955309ede3cb7969dac57f1"><td class="memItemLeft" align="right" valign="top">static unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d22/logger_8c.html#a0705cfbd7955309ede3cb7969dac57f1">global_logmask</a> = 0xFFFF</td></tr>
<tr class="separator:a0705cfbd7955309ede3cb7969dac57f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96ffd6a49fc389a717897c187672d70e"><td class="memItemLeft" align="right" valign="top">static struct sigaction&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d22/logger_8c.html#a96ffd6a49fc389a717897c187672d70e">handle_SIGXFSZ</a></td></tr>
<tr class="separator:a96ffd6a49fc389a717897c187672d70e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80e170193fe4d362e68c72e8deff70b4"><td class="memItemLeft" align="right" valign="top">static unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d22/logger_8c.html#a80e170193fe4d362e68c72e8deff70b4">high_water_alert</a></td></tr>
<tr class="separator:a80e170193fe4d362e68c72e8deff70b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af31254e3111773fe1dc68e8dc13df2fe"><td class="memItemLeft" align="right" valign="top">static char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d22/logger_8c.html#af31254e3111773fe1dc68e8dc13df2fe">hostname</a> [<a class="el" href="../../d9/d94/network_8h.html#afd80ecbe3170ca4fc85b65cda8659f82">MAXHOSTNAMELEN</a>]</td></tr>
<tr class="separator:af31254e3111773fe1dc68e8dc13df2fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ae9b20e8a0ca3f97cf9f8927e0fdb7f"><td class="memItemLeft" align="right" valign="top">static char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d22/logger_8c.html#a2ae9b20e8a0ca3f97cf9f8927e0fdb7f">levels</a> [<a class="el" href="../../d1/d8c/logger_8h.html#a3d02ffd5809bdb049c815df859bbfcf4">NUMLOGLEVELS</a>]</td></tr>
<tr class="memdesc:a2ae9b20e8a0ca3f97cf9f8927e0fdb7f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Logging channels used in the Asterisk logging system.  <a href="#a2ae9b20e8a0ca3f97cf9f8927e0fdb7f">More...</a><br /></td></tr>
<tr class="separator:a2ae9b20e8a0ca3f97cf9f8927e0fdb7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad073beb53a8f82626a23cd86f79e587e"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../dd/d17/structast__threadstorage.html">ast_threadstorage</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d22/logger_8c.html#ad073beb53a8f82626a23cd86f79e587e">log_buf</a> = { .once = PTHREAD_ONCE_INIT , .key_init = <a class="el" href="../../d1/d22/logger_8c.html#a92572f1f7f10b2beb24312dcd328f701">__init_log_buf</a> , .custom_init = <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> , }</td></tr>
<tr class="separator:ad073beb53a8f82626a23cd86f79e587e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a556d481f88ac4f66e9aac3bc7eb2e8"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../d2/df7/structlogchannels.html">logchannels</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d22/logger_8c.html#a3a556d481f88ac4f66e9aac3bc7eb2e8">logchannels</a> = { .<a class="el" href="../../d7/d8e/test__cdr_8c.html#ad010071647150404acc6651544245543">first</a> = <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, .<a class="el" href="../../d7/d8e/test__cdr_8c.html#abaf7793fbb72797de5118c5f1f7b21ae">last</a> = <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, .<a class="el" href="../../d7/d8e/test__cdr_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a> = { PTHREAD_RWLOCK_INITIALIZER , <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, {1, 0} } , }</td></tr>
<tr class="separator:a3a556d481f88ac4f66e9aac3bc7eb2e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb118951a9d7c498a6e28454e7eb0bd5"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../dd/d42/lock_8h.html#ab134d98cdfe7de0f7a72b377c0765dc7">ast_cond_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d22/logger_8c.html#abb118951a9d7c498a6e28454e7eb0bd5">logcond</a></td></tr>
<tr class="separator:abb118951a9d7c498a6e28454e7eb0bd5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5bfecba707f2f239f10b2543de3b5ef6"><td class="memItemLeft" >struct {</td></tr>
<tr class="memitem:aeb4215f9d3e3d3a30209ab936f8fa92b"><td class="memItemLeft" >&#160;&#160;&#160;unsigned int&#160;&#160;&#160;<a class="el" href="../../d1/d22/logger_8c.html#aeb4215f9d3e3d3a30209ab936f8fa92b">queue_adaptive_realtime</a>:1</td></tr>
<tr class="separator:aeb4215f9d3e3d3a30209ab936f8fa92b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d989b14b09eb7e10daf08b74a8aea30"><td class="memItemLeft" >&#160;&#160;&#160;unsigned int&#160;&#160;&#160;<a class="el" href="../../d1/d22/logger_8c.html#a9d989b14b09eb7e10daf08b74a8aea30">queue_log</a>:1</td></tr>
<tr class="separator:a9d989b14b09eb7e10daf08b74a8aea30"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b9be92da988e78ef15ecdc6d9e741c9"><td class="memItemLeft" >&#160;&#160;&#160;unsigned int&#160;&#160;&#160;<a class="el" href="../../d1/d22/logger_8c.html#a7b9be92da988e78ef15ecdc6d9e741c9">queue_log_realtime_use_gmt</a>:1</td></tr>
<tr class="separator:a7b9be92da988e78ef15ecdc6d9e741c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a000726797a2551869ea812c24c181423"><td class="memItemLeft" >&#160;&#160;&#160;unsigned int&#160;&#160;&#160;<a class="el" href="../../d1/d22/logger_8c.html#a000726797a2551869ea812c24c181423">queue_log_to_file</a>:1</td></tr>
<tr class="separator:a000726797a2551869ea812c24c181423"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5bfecba707f2f239f10b2543de3b5ef6"><td class="memItemLeft" valign="top">}&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d22/logger_8c.html#a5bfecba707f2f239f10b2543de3b5ef6">logfiles</a> = { 1 }</td></tr>
<tr class="separator:a5bfecba707f2f239f10b2543de3b5ef6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a35f9cedea57e131ce4b9c5fa95b0f9"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../da/d44/structlogformatter.html">logformatter</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d22/logger_8c.html#a7a35f9cedea57e131ce4b9c5fa95b0f9">logformatter_default</a></td></tr>
<tr class="separator:a7a35f9cedea57e131ce4b9c5fa95b0f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a721d22f30132e2bc4b8bfe27f540df01"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../da/d44/structlogformatter.html">logformatter</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d22/logger_8c.html#a721d22f30132e2bc4b8bfe27f540df01">logformatter_json</a></td></tr>
<tr class="separator:a721d22f30132e2bc4b8bfe27f540df01"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5646d2a0c66031589c56297a8e78aa7"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../da/d44/structlogformatter.html">logformatter</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d22/logger_8c.html#ab5646d2a0c66031589c56297a8e78aa7">logformatter_plain</a></td></tr>
<tr class="separator:ab5646d2a0c66031589c56297a8e78aa7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f80b9400a0cdb3ac3a54a4da44af9b2"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d22/logger_8c.html#a5f80b9400a0cdb3ac3a54a4da44af9b2">logger_initialized</a></td></tr>
<tr class="separator:a5f80b9400a0cdb3ac3a54a4da44af9b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed658d1269709b76f44f0486bcac12e3"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d22/logger_8c.html#aed658d1269709b76f44f0486bcac12e3">logger_messages_discarded</a></td></tr>
<tr class="separator:aed658d1269709b76f44f0486bcac12e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70f8266b28e1b6adb224cb4dfd529d25"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d22/logger_8c.html#a70f8266b28e1b6adb224cb4dfd529d25">logger_queue_limit</a> = 1000</td></tr>
<tr class="separator:a70f8266b28e1b6adb224cb4dfd529d25"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a745a9328dff87c8a1a297f71cebd4ba6"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d22/logger_8c.html#a745a9328dff87c8a1a297f71cebd4ba6">logger_queue_size</a></td></tr>
<tr class="separator:a745a9328dff87c8a1a297f71cebd4ba6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85be4d1747f06b59ac3eeaf16a1194ab"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../d2/dc4/structlogmsgs.html">logmsgs</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d22/logger_8c.html#a85be4d1747f06b59ac3eeaf16a1194ab">logmsgs</a> = { .<a class="el" href="../../d7/d8e/test__cdr_8c.html#ad010071647150404acc6651544245543">first</a> = <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, .<a class="el" href="../../d7/d8e/test__cdr_8c.html#abaf7793fbb72797de5118c5f1f7b21ae">last</a> = <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, .<a class="el" href="../../d7/d8e/test__cdr_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a> = { PTHREAD_RECURSIVE_MUTEX_INITIALIZER_NP , <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, {1, 0} } , }</td></tr>
<tr class="separator:a85be4d1747f06b59ac3eeaf16a1194ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6685bab4f7be49a081c4d2efe4b77a23"><td class="memItemLeft" align="right" valign="top">static pthread_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d22/logger_8c.html#a6685bab4f7be49a081c4d2efe4b77a23">logthread</a> = <a class="el" href="../../d4/dc5/extconf_8c.html#a6009440c7a72f8e2e3b1ec97641ad160">AST_PTHREADT_NULL</a></td></tr>
<tr class="separator:a6685bab4f7be49a081c4d2efe4b77a23"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0079c92df75011eb8925813e3c86482"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../dd/d17/structast__threadstorage.html">ast_threadstorage</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d22/logger_8c.html#ac0079c92df75011eb8925813e3c86482">my_verb_console</a> = { .once = PTHREAD_ONCE_INIT , .key_init = <a class="el" href="../../d1/d22/logger_8c.html#acfdbf192adaf61a3b061b7d1d73f7e17">__init_my_verb_console</a> , .custom_init = <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> , }</td></tr>
<tr class="separator:ac0079c92df75011eb8925813e3c86482"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af261e7f01245059402352861a7fc28f8"><td class="memItemLeft" align="right" valign="top">static volatile int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d22/logger_8c.html#af261e7f01245059402352861a7fc28f8">next_unique_callid</a> = 1</td></tr>
<tr class="separator:af261e7f01245059402352861a7fc28f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59cef8b13e5fcb3e2ea61f66ea4bf0e5"><td class="memItemLeft" align="right" valign="top">static FILE *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d22/logger_8c.html#a59cef8b13e5fcb3e2ea61f66ea4bf0e5">qlog</a></td></tr>
<tr class="separator:a59cef8b13e5fcb3e2ea61f66ea4bf0e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a818fb8d162c63f2848d8bb57bffebd3e"><td class="memItemLeft" align="right" valign="top">static char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d22/logger_8c.html#a818fb8d162c63f2848d8bb57bffebd3e">queue_log_name</a> [256] = <a class="el" href="../../d4/dc5/extconf_8c.html#a862a4fc7926f6d3294362303efe690fe">QUEUELOG</a></td></tr>
<tr class="separator:a818fb8d162c63f2848d8bb57bffebd3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2069553a11b09d1186e5b61438b1991d"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d22/logger_8c.html#a2069553a11b09d1186e5b61438b1991d">queuelog_init</a></td></tr>
<tr class="separator:a2069553a11b09d1186e5b61438b1991d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20a02d811c5613161c33ee6110a0c854"><td class="memItemLeft" align="right" valign="top">static enum <a class="el" href="../../d1/d22/logger_8c.html#a390505c32550f77c3e013a8030fac392">rotatestrategy</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d22/logger_8c.html#a20a02d811c5613161c33ee6110a0c854">rotatestrategy</a> = <a class="el" href="../../d1/d22/logger_8c.html#a390505c32550f77c3e013a8030fac392a6b834d43476553e583e0fde6578c82f0">SEQUENTIAL</a></td></tr>
<tr class="separator:a20a02d811c5613161c33ee6110a0c854"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97ee77a4a8f2f77dadc496b5ba2aee40"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../dd/d17/structast__threadstorage.html">ast_threadstorage</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d22/logger_8c.html#a97ee77a4a8f2f77dadc496b5ba2aee40">unique_callid</a> = { .once = PTHREAD_ONCE_INIT , .key_init = <a class="el" href="../../d1/d22/logger_8c.html#ad01cbd4482ac5d94de942a5bbbefb15c">__init_unique_callid</a> , .custom_init = <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> , }</td></tr>
<tr class="separator:a97ee77a4a8f2f77dadc496b5ba2aee40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec40d4b7a2ea41ccb06c6d1a01a497b4"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../d7/d05/structverb__consoles.html">verb_consoles</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d22/logger_8c.html#aec40d4b7a2ea41ccb06c6d1a01a497b4">verb_consoles</a> = { .<a class="el" href="../../d7/d8e/test__cdr_8c.html#ad010071647150404acc6651544245543">first</a> = <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, .<a class="el" href="../../d7/d8e/test__cdr_8c.html#abaf7793fbb72797de5118c5f1f7b21ae">last</a> = <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, .<a class="el" href="../../d7/d8e/test__cdr_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a> = { PTHREAD_RWLOCK_INITIALIZER , <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, {1, 0} } , }</td></tr>
<tr class="separator:aec40d4b7a2ea41ccb06c6d1a01a497b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8356677dcdff1516bba541d39f02033e"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../dd/d42/lock_8h.html#a44a55ccb432d858a224b401116277e93">ast_mutex_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d22/logger_8c.html#a8356677dcdff1516bba541d39f02033e">verb_update_lock</a> = { PTHREAD_RECURSIVE_MUTEX_INITIALIZER_NP , <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, {1, 0} }</td></tr>
<tr class="separator:a8356677dcdff1516bba541d39f02033e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a468f362fab520a3eb3bf152d84884a"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../dd/d17/structast__threadstorage.html">ast_threadstorage</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d22/logger_8c.html#a5a468f362fab520a3eb3bf152d84884a">verbose_buf</a> = { .once = PTHREAD_ONCE_INIT , .key_init = <a class="el" href="../../d1/d22/logger_8c.html#a502d0e9afc462ac3bc83c5080737155e">__init_verbose_buf</a> , .custom_init = <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> , }</td></tr>
<tr class="separator:a5a468f362fab520a3eb3bf152d84884a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afdcc2065d8b1ac793b9909909ac9ef58"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../dd/d17/structast__threadstorage.html">ast_threadstorage</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d22/logger_8c.html#afdcc2065d8b1ac793b9909909ac9ef58">verbose_build_buf</a> = { .once = PTHREAD_ONCE_INIT , .key_init = <a class="el" href="../../d1/d22/logger_8c.html#a0a82f5acbf33307567f1934411e38501">__init_verbose_build_buf</a> , .custom_init = <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> , }</td></tr>
<tr class="separator:afdcc2065d8b1ac793b9909909ac9ef58"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Asterisk Logger. </p>
<p>Logging routines</p>
<dl class="section author"><dt>Author</dt><dd>Mark Spencer <a href="#" onclick="location.href='mai'+'lto:'+'mar'+'ks'+'ter'+'@d'+'igi'+'um'+'.co'+'m'; return false;">marks<span style="display: none;">.nosp@m.</span>ter@<span style="display: none;">.nosp@m.</span>digiu<span style="display: none;">.nosp@m.</span>m.co<span style="display: none;">.nosp@m.</span>m</a> </dd></dl>

<p class="definition">Definition in file <a class="el" href="../../d1/d22/logger_8c_source.html">logger.c</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a363296aa77a2d22cbdc759d82dbe883f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a363296aa77a2d22cbdc759d82dbe883f">&#9670;&nbsp;</a></span>FORMATL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FORMATL&#160;&#160;&#160;&quot;%-35.35s %-8.8s %-10.10s %-9.9s &quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../d1/d22/logger_8c_source.html#l01379">handle_logger_show_channels()</a>.</p>

</div>
</div>
<a id="a823b00a2a06078bfb2e4aeb974ae9536"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a823b00a2a06078bfb2e4aeb974ae9536">&#9670;&nbsp;</a></span>LOG_BUF_INIT_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LOG_BUF_INIT_SIZE&#160;&#160;&#160;256</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/d22/logger_8c_source.html#l00257">257</a> of file <a class="el" href="../../d1/d22/logger_8c_source.html">logger.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/d22/logger_8c_source.html#l01682">format_log_message_ap()</a>.</p>

</div>
</div>
<a id="a05dca41c190b623052222f1b9c2ffa12"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a05dca41c190b623052222f1b9c2ffa12">&#9670;&nbsp;</a></span>LOTS_O_SPACES</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LOTS_O_SPACES&#160;&#160;&#160;&quot;                                                                                            &quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/d22/logger_8c_source.html#l02375">2375</a> of file <a class="el" href="../../d1/d22/logger_8c_source.html">logger.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/d22/logger_8c_source.html#l02405">__ast_trace()</a>.</p>

</div>
</div>
<a id="abb718d66b0fc16699d625172b7117f94"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abb718d66b0fc16699d625172b7117f94">&#9670;&nbsp;</a></span>VERBOSE_BUF_INIT_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VERBOSE_BUF_INIT_SIZE&#160;&#160;&#160;256</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/d22/logger_8c_source.html#l00254">254</a> of file <a class="el" href="../../d1/d22/logger_8c_source.html">logger.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/d22/logger_8c_source.html#l00319">logger_add_verbose_magic()</a>.</p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a29df94a387c835e6296b05418885993e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a29df94a387c835e6296b05418885993e">&#9670;&nbsp;</a></span>logmsgtypes</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../d1/d22/logger_8c.html#a29df94a387c835e6296b05418885993e">logmsgtypes</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a29df94a387c835e6296b05418885993ea4ff7bef379df472011e5516f51160e2c"></a>LOGMSG_NORMAL&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a29df94a387c835e6296b05418885993eae66ea31ebaa61ba9cac6412f3f9f21c7"></a>LOGMSG_VERBOSE&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../d1/d22/logger_8c_source.html#l00160">160</a> of file <a class="el" href="../../d1/d22/logger_8c_source.html">logger.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;                 {</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;   <a class="code" href="../../d1/d22/logger_8c.html#a29df94a387c835e6296b05418885993ea4ff7bef379df472011e5516f51160e2c">LOGMSG_NORMAL</a> = 0,</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;   <a class="code" href="../../d1/d22/logger_8c.html#a29df94a387c835e6296b05418885993eae66ea31ebaa61ba9cac6412f3f9f21c7">LOGMSG_VERBOSE</a>,</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;};</div><div class="ttc" id="logger_8c_html_a29df94a387c835e6296b05418885993eae66ea31ebaa61ba9cac6412f3f9f21c7"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a29df94a387c835e6296b05418885993eae66ea31ebaa61ba9cac6412f3f9f21c7">LOGMSG_VERBOSE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00162">logger.c:162</a></div></div>
<div class="ttc" id="logger_8c_html_a29df94a387c835e6296b05418885993ea4ff7bef379df472011e5516f51160e2c"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a29df94a387c835e6296b05418885993ea4ff7bef379df472011e5516f51160e2c">LOGMSG_NORMAL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00161">logger.c:161</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a7e2550c12ff27e5cd303101e86cf8eb4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7e2550c12ff27e5cd303101e86cf8eb4">&#9670;&nbsp;</a></span>logtypes</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../d1/d22/logger_8c.html#a7e2550c12ff27e5cd303101e86cf8eb4">logtypes</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a7e2550c12ff27e5cd303101e86cf8eb4affe678f5d32a5ad00d20d138627aa22f"></a>LOGTYPE_SYSLOG&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a7e2550c12ff27e5cd303101e86cf8eb4a82620c2d182f4b50f3801669f747f3aa"></a>LOGTYPE_FILE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a7e2550c12ff27e5cd303101e86cf8eb4a439c8fd120012113aa39dfece22ed55f"></a>LOGTYPE_CONSOLE&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../d1/d22/logger_8c_source.html#l00125">125</a> of file <a class="el" href="../../d1/d22/logger_8c_source.html">logger.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;              {</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;   <a class="code" href="../../d1/d22/logger_8c.html#a7e2550c12ff27e5cd303101e86cf8eb4affe678f5d32a5ad00d20d138627aa22f">LOGTYPE_SYSLOG</a>,</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;   <a class="code" href="../../d1/d22/logger_8c.html#a7e2550c12ff27e5cd303101e86cf8eb4a82620c2d182f4b50f3801669f747f3aa">LOGTYPE_FILE</a>,</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;   <a class="code" href="../../d1/d22/logger_8c.html#a7e2550c12ff27e5cd303101e86cf8eb4a439c8fd120012113aa39dfece22ed55f">LOGTYPE_CONSOLE</a>,</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;};</div><div class="ttc" id="logger_8c_html_a7e2550c12ff27e5cd303101e86cf8eb4a439c8fd120012113aa39dfece22ed55f"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a7e2550c12ff27e5cd303101e86cf8eb4a439c8fd120012113aa39dfece22ed55f">LOGTYPE_CONSOLE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00128">logger.c:128</a></div></div>
<div class="ttc" id="logger_8c_html_a7e2550c12ff27e5cd303101e86cf8eb4affe678f5d32a5ad00d20d138627aa22f"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a7e2550c12ff27e5cd303101e86cf8eb4affe678f5d32a5ad00d20d138627aa22f">LOGTYPE_SYSLOG</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00126">logger.c:126</a></div></div>
<div class="ttc" id="logger_8c_html_a7e2550c12ff27e5cd303101e86cf8eb4a82620c2d182f4b50f3801669f747f3aa"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a7e2550c12ff27e5cd303101e86cf8eb4a82620c2d182f4b50f3801669f747f3aa">LOGTYPE_FILE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00127">logger.c:127</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a390505c32550f77c3e013a8030fac392"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a390505c32550f77c3e013a8030fac392">&#9670;&nbsp;</a></span>rotatestrategy</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../d1/d22/logger_8c.html#a390505c32550f77c3e013a8030fac392">rotatestrategy</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a390505c32550f77c3e013a8030fac392ac157bdf0b85a40d2619cbc8bc1ae5fe2"></a>NONE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a390505c32550f77c3e013a8030fac392a6b834d43476553e583e0fde6578c82f0"></a>SEQUENTIAL&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a390505c32550f77c3e013a8030fac392a3dcfe0046eb5876e287dbf0914819b16"></a>ROTATE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a390505c32550f77c3e013a8030fac392a3f2dbbd8fe9ad35caa594416336ceeda"></a>TIMESTAMP&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../d1/d22/logger_8c_source.html#l00098">98</a> of file <a class="el" href="../../d1/d22/logger_8c_source.html">logger.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;                           {</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;   <a class="code" href="../../d1/d22/logger_8c.html#a390505c32550f77c3e013a8030fac392ac157bdf0b85a40d2619cbc8bc1ae5fe2">NONE</a> = 0,                <span class="comment">/* Do not rotate log files at all, instead rely on external mechanisms */</span></div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;   <a class="code" href="../../d1/d22/logger_8c.html#a390505c32550f77c3e013a8030fac392a6b834d43476553e583e0fde6578c82f0">SEQUENTIAL</a> = 1 &lt;&lt; 0,     <span class="comment">/* Original method - create a new file, in order */</span></div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;   <a class="code" href="../../d1/d22/logger_8c.html#a390505c32550f77c3e013a8030fac392a3dcfe0046eb5876e287dbf0914819b16">ROTATE</a> = 1 &lt;&lt; 1,         <span class="comment">/* Rotate all files, such that the oldest file has the highest suffix */</span></div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;   <a class="code" href="../../d1/d22/logger_8c.html#a390505c32550f77c3e013a8030fac392a3f2dbbd8fe9ad35caa594416336ceeda">TIMESTAMP</a> = 1 &lt;&lt; 2,      <span class="comment">/* Append the epoch timestamp onto the end of the archived file */</span></div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;} <a class="code" href="../../d1/d22/logger_8c.html#a390505c32550f77c3e013a8030fac392">rotatestrategy</a> = <a class="code" href="../../d1/d22/logger_8c.html#a390505c32550f77c3e013a8030fac392a6b834d43476553e583e0fde6578c82f0">SEQUENTIAL</a>;</div><div class="ttc" id="logger_8c_html_a390505c32550f77c3e013a8030fac392a6b834d43476553e583e0fde6578c82f0"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a390505c32550f77c3e013a8030fac392a6b834d43476553e583e0fde6578c82f0">SEQUENTIAL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00100">logger.c:100</a></div></div>
<div class="ttc" id="logger_8c_html_a390505c32550f77c3e013a8030fac392a3f2dbbd8fe9ad35caa594416336ceeda"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a390505c32550f77c3e013a8030fac392a3f2dbbd8fe9ad35caa594416336ceeda">TIMESTAMP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00102">logger.c:102</a></div></div>
<div class="ttc" id="logger_8c_html_a390505c32550f77c3e013a8030fac392a3dcfe0046eb5876e287dbf0914819b16"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a390505c32550f77c3e013a8030fac392a3dcfe0046eb5876e287dbf0914819b16">ROTATE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00101">logger.c:101</a></div></div>
<div class="ttc" id="logger_8c_html_a390505c32550f77c3e013a8030fac392"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a390505c32550f77c3e013a8030fac392">rotatestrategy</a></div><div class="ttdeci">rotatestrategy</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00098">logger.c:98</a></div></div>
<div class="ttc" id="logger_8c_html_a390505c32550f77c3e013a8030fac392ac157bdf0b85a40d2619cbc8bc1ae5fe2"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a390505c32550f77c3e013a8030fac392ac157bdf0b85a40d2619cbc8bc1ae5fe2">NONE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00099">logger.c:99</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a90a8bd6dce895cb7d0773c1e48fc3c63"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a90a8bd6dce895cb7d0773c1e48fc3c63">&#9670;&nbsp;</a></span>__ast_trace()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void __ast_trace </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>line</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="../../d1/d8c/logger_8h.html#a8659de19508ec3d26275c9852a5cd5e0">ast_trace_indent_type</a>&#160;</td>
          <td class="paramname"><em>indent_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>new_indent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>format</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/d22/logger_8c_source.html#l02405">2405</a> of file <a class="el" href="../../d1/d22/logger_8c_source.html">logger.c</a>.</p>

<p class="reference">References <a class="el" href="../../d1/d8c/logger_8h_source.html#l00251">__LOG_TRACE</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l02053">ast_log_full()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00157">ast_skip_blanks()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00714">ast_str_buffer()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00620">ast_str_create</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l01065">ast_str_set()</a>, <a class="el" href="../../dc/d7d/threadstorage_8h_source.html#l00241">ast_threadstorage_get_ptr()</a>, <a class="el" href="../../dc/d7d/threadstorage_8h_source.html#l00260">ast_threadstorage_set_ptr()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00656">AST_TRACE_INDENT_DEC_AFTER</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00654">AST_TRACE_INDENT_DEC_BEFORE</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00652">AST_TRACE_INDENT_INC_AFTER</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00650">AST_TRACE_INDENT_INC_BEFORE</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00660">AST_TRACE_INDENT_NONE</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00658">AST_TRACE_INDENT_PROVIDED</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00648">AST_TRACE_INDENT_SAME</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l02375">LOTS_O_SPACES</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../d6/d90/strings_8h_source.html#l00079">S_OR</a>.</p>
<div class="fragment"><div class="line"><a name="l02407"></a><span class="lineno"> 2407</span>&#160;{</div><div class="line"><a name="l02408"></a><span class="lineno"> 2408</span>&#160;   va_list ap;</div><div class="line"><a name="l02409"></a><span class="lineno"> 2409</span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> indent = (<span class="keywordtype">unsigned</span> long)<a class="code" href="../../dc/d7d/threadstorage_8h.html#a273e9e038c879199c4192156b9349169">ast_threadstorage_get_ptr</a>(&amp;trace_indent);</div><div class="line"><a name="l02410"></a><span class="lineno"> 2410</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/da2/structast__str.html">ast_str</a> *fmt = <a class="code" href="../../d6/d90/strings_8h.html#a9c34c6c6b8daaba24c0406270f3cf697">ast_str_create</a>(128);</div><div class="line"><a name="l02411"></a><span class="lineno"> 2411</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d4/d8b/func__frame__drop_8c.html#a99f26e6ee9fcd62f75203b5402df8098">direction</a> = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l02412"></a><span class="lineno"> 2412</span>&#160;</div><div class="line"><a name="l02413"></a><span class="lineno"> 2413</span>&#160;   <span class="keywordflow">if</span> (!fmt) {</div><div class="line"><a name="l02414"></a><span class="lineno"> 2414</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l02415"></a><span class="lineno"> 2415</span>&#160;   }</div><div class="line"><a name="l02416"></a><span class="lineno"> 2416</span>&#160;</div><div class="line"><a name="l02417"></a><span class="lineno"> 2417</span>&#160;   <span class="keywordflow">if</span> (indent_type == <a class="code" href="../../d1/d8c/logger_8h.html#a8659de19508ec3d26275c9852a5cd5e0a43509a25382da355cd433044a7538676">AST_TRACE_INDENT_PROVIDED</a>) {</div><div class="line"><a name="l02418"></a><span class="lineno"> 2418</span>&#160;      indent = new_indent;</div><div class="line"><a name="l02419"></a><span class="lineno"> 2419</span>&#160;      <a class="code" href="../../dc/d7d/threadstorage_8h.html#a10886a1187bdffd95a266d04e0739b60">ast_threadstorage_set_ptr</a>(&amp;trace_indent, (<span class="keywordtype">void</span>*)indent);</div><div class="line"><a name="l02420"></a><span class="lineno"> 2420</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (indent_type == <a class="code" href="../../d1/d8c/logger_8h.html#a8659de19508ec3d26275c9852a5cd5e0a18ebc278ec3a0421829030afbd887263">AST_TRACE_INDENT_INC_BEFORE</a>) {</div><div class="line"><a name="l02421"></a><span class="lineno"> 2421</span>&#160;      indent++;</div><div class="line"><a name="l02422"></a><span class="lineno"> 2422</span>&#160;      <a class="code" href="../../dc/d7d/threadstorage_8h.html#a10886a1187bdffd95a266d04e0739b60">ast_threadstorage_set_ptr</a>(&amp;trace_indent, (<span class="keywordtype">void</span>*)indent);</div><div class="line"><a name="l02423"></a><span class="lineno"> 2423</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (indent_type == <a class="code" href="../../d1/d8c/logger_8h.html#a8659de19508ec3d26275c9852a5cd5e0ae6b7c86c1ec050b9e58566432a1b211c">AST_TRACE_INDENT_DEC_BEFORE</a>) {</div><div class="line"><a name="l02424"></a><span class="lineno"> 2424</span>&#160;      indent--;</div><div class="line"><a name="l02425"></a><span class="lineno"> 2425</span>&#160;      <a class="code" href="../../dc/d7d/threadstorage_8h.html#a10886a1187bdffd95a266d04e0739b60">ast_threadstorage_set_ptr</a>(&amp;trace_indent, (<span class="keywordtype">void</span>*)indent);</div><div class="line"><a name="l02426"></a><span class="lineno"> 2426</span>&#160;   }</div><div class="line"><a name="l02427"></a><span class="lineno"> 2427</span>&#160;</div><div class="line"><a name="l02428"></a><span class="lineno"> 2428</span>&#160;   <span class="keywordflow">switch</span>(indent_type) {</div><div class="line"><a name="l02429"></a><span class="lineno"> 2429</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d1/d8c/logger_8h.html#a8659de19508ec3d26275c9852a5cd5e0a65ea96f194bdb73ac57677fd9019c78e">AST_TRACE_INDENT_NONE</a>:</div><div class="line"><a name="l02430"></a><span class="lineno"> 2430</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d1/d8c/logger_8h.html#a8659de19508ec3d26275c9852a5cd5e0a1ce4537191114538961a16109b3d4de8">AST_TRACE_INDENT_SAME</a>:</div><div class="line"><a name="l02431"></a><span class="lineno"> 2431</span>&#160;      direction = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l02432"></a><span class="lineno"> 2432</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l02433"></a><span class="lineno"> 2433</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d1/d8c/logger_8h.html#a8659de19508ec3d26275c9852a5cd5e0a18ebc278ec3a0421829030afbd887263">AST_TRACE_INDENT_INC_BEFORE</a>:</div><div class="line"><a name="l02434"></a><span class="lineno"> 2434</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d1/d8c/logger_8h.html#a8659de19508ec3d26275c9852a5cd5e0a98706174fb67115e0e5784a281a47509">AST_TRACE_INDENT_INC_AFTER</a>:</div><div class="line"><a name="l02435"></a><span class="lineno"> 2435</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d1/d8c/logger_8h.html#a8659de19508ec3d26275c9852a5cd5e0a43509a25382da355cd433044a7538676">AST_TRACE_INDENT_PROVIDED</a>:</div><div class="line"><a name="l02436"></a><span class="lineno"> 2436</span>&#160;      direction = <span class="stringliteral">&quot;--&gt; &quot;</span>;</div><div class="line"><a name="l02437"></a><span class="lineno"> 2437</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l02438"></a><span class="lineno"> 2438</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d1/d8c/logger_8h.html#a8659de19508ec3d26275c9852a5cd5e0ae6b7c86c1ec050b9e58566432a1b211c">AST_TRACE_INDENT_DEC_BEFORE</a>:</div><div class="line"><a name="l02439"></a><span class="lineno"> 2439</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d1/d8c/logger_8h.html#a8659de19508ec3d26275c9852a5cd5e0afbfa4ee1738ab572aba02999c296783c">AST_TRACE_INDENT_DEC_AFTER</a>:</div><div class="line"><a name="l02440"></a><span class="lineno"> 2440</span>&#160;      direction = <span class="stringliteral">&quot;&lt;-- &quot;</span>;</div><div class="line"><a name="l02441"></a><span class="lineno"> 2441</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l02442"></a><span class="lineno"> 2442</span>&#160;   }</div><div class="line"><a name="l02443"></a><span class="lineno"> 2443</span>&#160;</div><div class="line"><a name="l02444"></a><span class="lineno"> 2444</span>&#160;   <a class="code" href="../../d6/d90/strings_8h.html#aa3341f35cedca29e60bb7f3927204283">ast_str_set</a>(&amp;fmt, 0, <span class="stringliteral">&quot;%2d %-.*s%s%s:%d %s: %s&quot;</span>, (<span class="keywordtype">int</span>)indent, (indent_type == <a class="code" href="../../d1/d8c/logger_8h.html#a8659de19508ec3d26275c9852a5cd5e0a65ea96f194bdb73ac57677fd9019c78e">AST_TRACE_INDENT_NONE</a> ? 0 : (<span class="keywordtype">int</span>)(indent * 4)),</div><div class="line"><a name="l02445"></a><span class="lineno"> 2445</span>&#160;      <a class="code" href="../../d1/d22/logger_8c.html#a05dca41c190b623052222f1b9c2ffa12">LOTS_O_SPACES</a>, direction, <a class="code" href="../../d2/dc8/namespacemake__ari__stubs.html#a40a5d58ffa6e88aa578d6683ac413105">file</a>, line, func, <a class="code" href="../../d6/d90/strings_8h.html#a2faaa16929951bfd2802b7829a100ba2">S_OR</a>(<a class="code" href="../../d6/d90/strings_8h.html#af5693da955fa3bc73bc49c47b601fc7a">ast_skip_blanks</a>(<a class="code" href="../../da/d45/chan__alsa_8c.html#a98f5e70e98f6dc48e3c5ba316066d540">format</a>), <span class="stringliteral">&quot;\n&quot;</span>));</div><div class="line"><a name="l02446"></a><span class="lineno"> 2446</span>&#160;</div><div class="line"><a name="l02447"></a><span class="lineno"> 2447</span>&#160;   <span class="keywordflow">if</span> (indent_type == <a class="code" href="../../d1/d8c/logger_8h.html#a8659de19508ec3d26275c9852a5cd5e0a98706174fb67115e0e5784a281a47509">AST_TRACE_INDENT_INC_AFTER</a> || indent_type == <a class="code" href="../../d1/d8c/logger_8h.html#a8659de19508ec3d26275c9852a5cd5e0a43509a25382da355cd433044a7538676">AST_TRACE_INDENT_PROVIDED</a>) {</div><div class="line"><a name="l02448"></a><span class="lineno"> 2448</span>&#160;      indent++;</div><div class="line"><a name="l02449"></a><span class="lineno"> 2449</span>&#160;      <a class="code" href="../../dc/d7d/threadstorage_8h.html#a10886a1187bdffd95a266d04e0739b60">ast_threadstorage_set_ptr</a>(&amp;trace_indent, (<span class="keywordtype">void</span>*)indent);</div><div class="line"><a name="l02450"></a><span class="lineno"> 2450</span>&#160;   }</div><div class="line"><a name="l02451"></a><span class="lineno"> 2451</span>&#160;   <span class="keywordflow">if</span> (indent_type == <a class="code" href="../../d1/d8c/logger_8h.html#a8659de19508ec3d26275c9852a5cd5e0afbfa4ee1738ab572aba02999c296783c">AST_TRACE_INDENT_DEC_AFTER</a>) {</div><div class="line"><a name="l02452"></a><span class="lineno"> 2452</span>&#160;      indent--;</div><div class="line"><a name="l02453"></a><span class="lineno"> 2453</span>&#160;      <a class="code" href="../../dc/d7d/threadstorage_8h.html#a10886a1187bdffd95a266d04e0739b60">ast_threadstorage_set_ptr</a>(&amp;trace_indent, (<span class="keywordtype">void</span>*)indent);</div><div class="line"><a name="l02454"></a><span class="lineno"> 2454</span>&#160;   }</div><div class="line"><a name="l02455"></a><span class="lineno"> 2455</span>&#160;</div><div class="line"><a name="l02456"></a><span class="lineno"> 2456</span>&#160;   va_start(ap, <a class="code" href="../../da/d45/chan__alsa_8c.html#a98f5e70e98f6dc48e3c5ba316066d540">format</a>);</div><div class="line"><a name="l02457"></a><span class="lineno"> 2457</span>&#160;   <a class="code" href="../../d1/d22/logger_8c.html#a372050a0b201dd3176e390b03336de1e">ast_log_full</a>(<a class="code" href="../../d1/d8c/logger_8h.html#a4c2e2b8d7e690b08c0dc79017e280b08">__LOG_TRACE</a>, -1, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0, <a class="code" href="../../d6/d90/strings_8h.html#a1ef7e2644ca7258070db316fdc0a465b">ast_str_buffer</a>(fmt), ap);</div><div class="line"><a name="l02458"></a><span class="lineno"> 2458</span>&#160;   va_end(ap);</div><div class="line"><a name="l02459"></a><span class="lineno"> 2459</span>&#160;   <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(fmt);</div><div class="line"><a name="l02460"></a><span class="lineno"> 2460</span>&#160;}</div><div class="ttc" id="logger_8h_html_a8659de19508ec3d26275c9852a5cd5e0ae6b7c86c1ec050b9e58566432a1b211c"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a8659de19508ec3d26275c9852a5cd5e0ae6b7c86c1ec050b9e58566432a1b211c">AST_TRACE_INDENT_DEC_BEFORE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00654">logger.h:654</a></div></div>
<div class="ttc" id="namespacemake__ari__stubs_html_a40a5d58ffa6e88aa578d6683ac413105"><div class="ttname"><a href="../../d2/dc8/namespacemake__ari__stubs.html#a40a5d58ffa6e88aa578d6683ac413105">make_ari_stubs.file</a></div><div class="ttdeci">file</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d28/make__ari__stubs_8py_source.html#l00025">make_ari_stubs.py:25</a></div></div>
<div class="ttc" id="strings_8h_html_a1ef7e2644ca7258070db316fdc0a465b"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a1ef7e2644ca7258070db316fdc0a465b">ast_str_buffer</a></div><div class="ttdeci">char * ast_str_buffer(const struct ast_str *buf)</div><div class="ttdoc">Returns the string buffer within the ast_str buf. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00714">strings.h:714</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="logger_8h_html_a8659de19508ec3d26275c9852a5cd5e0a43509a25382da355cd433044a7538676"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a8659de19508ec3d26275c9852a5cd5e0a43509a25382da355cd433044a7538676">AST_TRACE_INDENT_PROVIDED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00658">logger.h:658</a></div></div>
<div class="ttc" id="logger_8h_html_a8659de19508ec3d26275c9852a5cd5e0a65ea96f194bdb73ac57677fd9019c78e"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a8659de19508ec3d26275c9852a5cd5e0a65ea96f194bdb73ac57677fd9019c78e">AST_TRACE_INDENT_NONE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00660">logger.h:660</a></div></div>
<div class="ttc" id="strings_8h_html_aa3341f35cedca29e60bb7f3927204283"><div class="ttname"><a href="../../d6/d90/strings_8h.html#aa3341f35cedca29e60bb7f3927204283">ast_str_set</a></div><div class="ttdeci">int ast_str_set(struct ast_str **buf, ssize_t max_len, const char *fmt,...)</div><div class="ttdoc">Set a dynamic string using variable arguments. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l01065">strings.h:1065</a></div></div>
<div class="ttc" id="threadstorage_8h_html_a10886a1187bdffd95a266d04e0739b60"><div class="ttname"><a href="../../dc/d7d/threadstorage_8h.html#a10886a1187bdffd95a266d04e0739b60">ast_threadstorage_set_ptr</a></div><div class="ttdeci">int ast_threadstorage_set_ptr(struct ast_threadstorage *ts, void *ptr)</div><div class="ttdoc">Set a raw pointer from threadstorage. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7d/threadstorage_8h_source.html#l00260">threadstorage.h:260</a></div></div>
<div class="ttc" id="structast__str_html"><div class="ttname"><a href="../../dd/da2/structast__str.html">ast_str</a></div><div class="ttdoc">The descriptor of a dynamic string XXX storage will be optimized later if needed We use the ts field ...</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00584">strings.h:584</a></div></div>
<div class="ttc" id="strings_8h_html_af5693da955fa3bc73bc49c47b601fc7a"><div class="ttname"><a href="../../d6/d90/strings_8h.html#af5693da955fa3bc73bc49c47b601fc7a">ast_skip_blanks</a></div><div class="ttdeci">char * ast_skip_blanks(const char *str)</div><div class="ttdoc">Gets a pointer to the first non-whitespace character in a string. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00157">strings.h:157</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="threadstorage_8h_html_a273e9e038c879199c4192156b9349169"><div class="ttname"><a href="../../dc/d7d/threadstorage_8h.html#a273e9e038c879199c4192156b9349169">ast_threadstorage_get_ptr</a></div><div class="ttdeci">void * ast_threadstorage_get_ptr(struct ast_threadstorage *ts)</div><div class="ttdoc">Retrieve a raw pointer from threadstorage. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7d/threadstorage_8h_source.html#l00241">threadstorage.h:241</a></div></div>
<div class="ttc" id="logger_8h_html_a4c2e2b8d7e690b08c0dc79017e280b08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a4c2e2b8d7e690b08c0dc79017e280b08">__LOG_TRACE</a></div><div class="ttdeci">#define __LOG_TRACE</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00251">logger.h:251</a></div></div>
<div class="ttc" id="logger_8h_html_a8659de19508ec3d26275c9852a5cd5e0afbfa4ee1738ab572aba02999c296783c"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a8659de19508ec3d26275c9852a5cd5e0afbfa4ee1738ab572aba02999c296783c">AST_TRACE_INDENT_DEC_AFTER</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00656">logger.h:656</a></div></div>
<div class="ttc" id="strings_8h_html_a2faaa16929951bfd2802b7829a100ba2"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a2faaa16929951bfd2802b7829a100ba2">S_OR</a></div><div class="ttdeci">#define S_OR(a, b)</div><div class="ttdoc">returns the equivalent of logic or for strings: first one if not empty, otherwise second one...</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00079">strings.h:79</a></div></div>
<div class="ttc" id="logger_8h_html_a8659de19508ec3d26275c9852a5cd5e0a1ce4537191114538961a16109b3d4de8"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a8659de19508ec3d26275c9852a5cd5e0a1ce4537191114538961a16109b3d4de8">AST_TRACE_INDENT_SAME</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00648">logger.h:648</a></div></div>
<div class="ttc" id="logger_8c_html_a372050a0b201dd3176e390b03336de1e"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a372050a0b201dd3176e390b03336de1e">ast_log_full</a></div><div class="ttdeci">static void ast_log_full(int level, int sublevel, const char *file, int line, const char *function, ast_callid callid, const char *fmt, va_list ap)</div><div class="ttdoc">send log messages to syslog and/or the console </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l02053">logger.c:2053</a></div></div>
<div class="ttc" id="func__frame__drop_8c_html_a99f26e6ee9fcd62f75203b5402df8098"><div class="ttname"><a href="../../d4/d8b/func__frame__drop_8c.html#a99f26e6ee9fcd62f75203b5402df8098">direction</a></div><div class="ttdeci">direction</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d8b/func__frame__drop_8c_source.html#l00137">func_frame_drop.c:137</a></div></div>
<div class="ttc" id="logger_8h_html_a8659de19508ec3d26275c9852a5cd5e0a18ebc278ec3a0421829030afbd887263"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a8659de19508ec3d26275c9852a5cd5e0a18ebc278ec3a0421829030afbd887263">AST_TRACE_INDENT_INC_BEFORE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00650">logger.h:650</a></div></div>
<div class="ttc" id="chan__alsa_8c_html_a98f5e70e98f6dc48e3c5ba316066d540"><div class="ttname"><a href="../../da/d45/chan__alsa_8c.html#a98f5e70e98f6dc48e3c5ba316066d540">format</a></div><div class="ttdeci">static snd_pcm_format_t format</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d45/chan__alsa_8c_source.html#l00102">chan_alsa.c:102</a></div></div>
<div class="ttc" id="logger_8c_html_a05dca41c190b623052222f1b9c2ffa12"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a05dca41c190b623052222f1b9c2ffa12">LOTS_O_SPACES</a></div><div class="ttdeci">#define LOTS_O_SPACES</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l02375">logger.c:2375</a></div></div>
<div class="ttc" id="logger_8h_html_a8659de19508ec3d26275c9852a5cd5e0a98706174fb67115e0e5784a281a47509"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a8659de19508ec3d26275c9852a5cd5e0a98706174fb67115e0e5784a281a47509">AST_TRACE_INDENT_INC_AFTER</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00652">logger.h:652</a></div></div>
<div class="ttc" id="strings_8h_html_a9c34c6c6b8daaba24c0406270f3cf697"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a9c34c6c6b8daaba24c0406270f3cf697">ast_str_create</a></div><div class="ttdeci">#define ast_str_create(init_len)</div><div class="ttdoc">Create a malloc&amp;#39;ed dynamic length string. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00620">strings.h:620</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a87ed5746d7ef430b0b16ea9a4b3ab4f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a87ed5746d7ef430b0b16ea9a4b3ab4f2">&#9670;&nbsp;</a></span>__ast_verbose()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void __ast_verbose </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>line</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>fmt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send a verbose message (based on verbose level) </p>
<p>This works like ast_log, but prints verbose messages to the console depending on verbosity level set.</p>
<p>ast_verbose(VERBOSE_PREFIX_3 "Whatever %s is happening\n", "nothing");</p>
<p>This will print the message to the console if the verbose level is set to a level &gt;= 3</p>
<p>Note the absence of a comma after the VERBOSE_PREFIX_3. This is important. VERBOSE_PREFIX_1 through VERBOSE_PREFIX_4 are defined.</p>
<dl class="section version"><dt>Version</dt><dd>11 added level parameter </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d1/d22/logger_8c_source.html#l02198">2198</a> of file <a class="el" href="../../d1/d22/logger_8c_source.html">logger.c</a>.</p>

<p class="reference">References <a class="el" href="../../d1/d22/logger_8c_source.html#l02193">__ast_verbose_ap()</a>, and <a class="el" href="../../d1/d22/logger_8c_source.html#l01962">ast_read_threadstorage_callid()</a>.</p>
<div class="fragment"><div class="line"><a name="l02199"></a><span class="lineno"> 2199</span>&#160;{</div><div class="line"><a name="l02200"></a><span class="lineno"> 2200</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a6db44a7e26f0bc42801fc7225817c6a1">ast_callid</a> callid;</div><div class="line"><a name="l02201"></a><span class="lineno"> 2201</span>&#160;   va_list ap;</div><div class="line"><a name="l02202"></a><span class="lineno"> 2202</span>&#160;</div><div class="line"><a name="l02203"></a><span class="lineno"> 2203</span>&#160;   callid = <a class="code" href="../../d1/d22/logger_8c.html#a5b3f39ea262ffa795ce4b597968ad00b">ast_read_threadstorage_callid</a>();</div><div class="line"><a name="l02204"></a><span class="lineno"> 2204</span>&#160;</div><div class="line"><a name="l02205"></a><span class="lineno"> 2205</span>&#160;   va_start(ap, fmt);</div><div class="line"><a name="l02206"></a><span class="lineno"> 2206</span>&#160;   <a class="code" href="../../d1/d22/logger_8c.html#a08700711fff878bdd0ef7e7769f25fe6">__ast_verbose_ap</a>(<a class="code" href="../../d2/dc8/namespacemake__ari__stubs.html#a40a5d58ffa6e88aa578d6683ac413105">file</a>, line, func, level, callid, fmt, ap);</div><div class="line"><a name="l02207"></a><span class="lineno"> 2207</span>&#160;   va_end(ap);</div><div class="line"><a name="l02208"></a><span class="lineno"> 2208</span>&#160;}</div><div class="ttc" id="namespacemake__ari__stubs_html_a40a5d58ffa6e88aa578d6683ac413105"><div class="ttname"><a href="../../d2/dc8/namespacemake__ari__stubs.html#a40a5d58ffa6e88aa578d6683ac413105">make_ari_stubs.file</a></div><div class="ttdeci">file</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d28/make__ari__stubs_8py_source.html#l00025">make_ari_stubs.py:25</a></div></div>
<div class="ttc" id="logger_8h_html_a6db44a7e26f0bc42801fc7225817c6a1"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a6db44a7e26f0bc42801fc7225817c6a1">ast_callid</a></div><div class="ttdeci">unsigned int ast_callid</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00087">logger.h:87</a></div></div>
<div class="ttc" id="logger_8c_html_a08700711fff878bdd0ef7e7769f25fe6"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a08700711fff878bdd0ef7e7769f25fe6">__ast_verbose_ap</a></div><div class="ttdeci">void __ast_verbose_ap(const char *file, int line, const char *func, int level, ast_callid callid, const char *fmt, va_list ap)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l02193">logger.c:2193</a></div></div>
<div class="ttc" id="logger_8c_html_a5b3f39ea262ffa795ce4b597968ad00b"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a5b3f39ea262ffa795ce4b597968ad00b">ast_read_threadstorage_callid</a></div><div class="ttdeci">ast_callid ast_read_threadstorage_callid(void)</div><div class="ttdoc">extracts the callerid from the thread </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l01962">logger.c:1962</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a08700711fff878bdd0ef7e7769f25fe6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a08700711fff878bdd0ef7e7769f25fe6">&#9670;&nbsp;</a></span>__ast_verbose_ap()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void __ast_verbose_ap </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>line</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d1/d8c/logger_8h.html#a6db44a7e26f0bc42801fc7225817c6a1">ast_callid</a>&#160;</td>
          <td class="paramname"><em>callid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>fmt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">va_list&#160;</td>
          <td class="paramname"><em>ap</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/d22/logger_8c_source.html#l02193">2193</a> of file <a class="el" href="../../d1/d22/logger_8c_source.html">logger.c</a>.</p>

<p class="reference">References <a class="el" href="../../d1/d8c/logger_8h_source.html#l00295">__LOG_VERBOSE</a>, and <a class="el" href="../../d1/d22/logger_8c_source.html#l02053">ast_log_full()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/d22/logger_8c_source.html#l02198">__ast_verbose()</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l02210">__ast_verbose_callid()</a>, and <a class="el" href="../../d1/d22/logger_8c_source.html#l02110">ast_log_ap()</a>.</p>
<div class="fragment"><div class="line"><a name="l02194"></a><span class="lineno"> 2194</span>&#160;{</div><div class="line"><a name="l02195"></a><span class="lineno"> 2195</span>&#160;   <a class="code" href="../../d1/d22/logger_8c.html#a372050a0b201dd3176e390b03336de1e">ast_log_full</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aa11fae1314f286da3d57ae8c07ec4bca">__LOG_VERBOSE</a>, level, <a class="code" href="../../d2/dc8/namespacemake__ari__stubs.html#a40a5d58ffa6e88aa578d6683ac413105">file</a>, line, func, callid, fmt, ap);</div><div class="line"><a name="l02196"></a><span class="lineno"> 2196</span>&#160;}</div><div class="ttc" id="namespacemake__ari__stubs_html_a40a5d58ffa6e88aa578d6683ac413105"><div class="ttname"><a href="../../d2/dc8/namespacemake__ari__stubs.html#a40a5d58ffa6e88aa578d6683ac413105">make_ari_stubs.file</a></div><div class="ttdeci">file</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d28/make__ari__stubs_8py_source.html#l00025">make_ari_stubs.py:25</a></div></div>
<div class="ttc" id="logger_8h_html_aa11fae1314f286da3d57ae8c07ec4bca"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aa11fae1314f286da3d57ae8c07ec4bca">__LOG_VERBOSE</a></div><div class="ttdeci">#define __LOG_VERBOSE</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00295">logger.h:295</a></div></div>
<div class="ttc" id="logger_8c_html_a372050a0b201dd3176e390b03336de1e"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a372050a0b201dd3176e390b03336de1e">ast_log_full</a></div><div class="ttdeci">static void ast_log_full(int level, int sublevel, const char *file, int line, const char *function, ast_callid callid, const char *fmt, va_list ap)</div><div class="ttdoc">send log messages to syslog and/or the console </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l02053">logger.c:2053</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a7fa6bcfb12ce4ce7ab07abe122aba99b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7fa6bcfb12ce4ce7ab07abe122aba99b">&#9670;&nbsp;</a></span>__ast_verbose_callid()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void __ast_verbose_callid </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>line</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d1/d8c/logger_8h.html#a6db44a7e26f0bc42801fc7225817c6a1">ast_callid</a>&#160;</td>
          <td class="paramname"><em>callid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>fmt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send a verbose message (based on verbose level) with deliberately specified callid. </p>
<p>just like __ast_verbose, only __ast_verbose_callid allows you to specify which callid is being used for the log without needing to bind it to a thread. NULL is a valid argument for this function and will allow you to specify that a log will never display a call id even when there is a call id bound to the thread. </p>

<p class="definition">Definition at line <a class="el" href="../../d1/d22/logger_8c_source.html#l02210">2210</a> of file <a class="el" href="../../d1/d22/logger_8c_source.html">logger.c</a>.</p>

<p class="reference">References <a class="el" href="../../d1/d22/logger_8c_source.html#l02193">__ast_verbose_ap()</a>.</p>
<div class="fragment"><div class="line"><a name="l02211"></a><span class="lineno"> 2211</span>&#160;{</div><div class="line"><a name="l02212"></a><span class="lineno"> 2212</span>&#160;   va_list ap;</div><div class="line"><a name="l02213"></a><span class="lineno"> 2213</span>&#160;   va_start(ap, fmt);</div><div class="line"><a name="l02214"></a><span class="lineno"> 2214</span>&#160;   <a class="code" href="../../d1/d22/logger_8c.html#a08700711fff878bdd0ef7e7769f25fe6">__ast_verbose_ap</a>(<a class="code" href="../../d2/dc8/namespacemake__ari__stubs.html#a40a5d58ffa6e88aa578d6683ac413105">file</a>, line, func, level, callid, fmt, ap);</div><div class="line"><a name="l02215"></a><span class="lineno"> 2215</span>&#160;   va_end(ap);</div><div class="line"><a name="l02216"></a><span class="lineno"> 2216</span>&#160;}</div><div class="ttc" id="namespacemake__ari__stubs_html_a40a5d58ffa6e88aa578d6683ac413105"><div class="ttname"><a href="../../d2/dc8/namespacemake__ari__stubs.html#a40a5d58ffa6e88aa578d6683ac413105">make_ari_stubs.file</a></div><div class="ttdeci">file</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d28/make__ari__stubs_8py_source.html#l00025">make_ari_stubs.py:25</a></div></div>
<div class="ttc" id="logger_8c_html_a08700711fff878bdd0ef7e7769f25fe6"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a08700711fff878bdd0ef7e7769f25fe6">__ast_verbose_ap</a></div><div class="ttdeci">void __ast_verbose_ap(const char *file, int line, const char *func, int level, ast_callid callid, const char *fmt, va_list ap)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l02193">logger.c:2193</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a92572f1f7f10b2beb24312dcd328f701"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a92572f1f7f10b2beb24312dcd328f701">&#9670;&nbsp;</a></span>__init_log_buf()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void __init_log_buf </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/d22/logger_8c_source.html#l00256">256</a> of file <a class="el" href="../../d1/d22/logger_8c_source.html">logger.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;{</div></div><!-- fragment -->
</div>
</div>
<a id="acfdbf192adaf61a3b061b7d1d73f7e17"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acfdbf192adaf61a3b061b7d1d73f7e17">&#9670;&nbsp;</a></span>__init_my_verb_console()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void __init_my_verb_console </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Thread specific console verbosity level node. </p>

<p class="definition">Definition at line <a class="el" href="../../d1/d22/logger_8c_source.html#l02294">2294</a> of file <a class="el" href="../../d1/d22/logger_8c_source.html">logger.c</a>.</p>
<div class="fragment"><div class="line"><a name="l02297"></a><span class="lineno"> 2297</span>&#160;{</div></div><!-- fragment -->
</div>
</div>
<a id="ad01cbd4482ac5d94de942a5bbbefb15c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad01cbd4482ac5d94de942a5bbbefb15c">&#9670;&nbsp;</a></span>__init_unique_callid()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void __init_unique_callid </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/d22/logger_8c_source.html#l00091">91</a> of file <a class="el" href="../../d1/d22/logger_8c_source.html">logger.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;{</div></div><!-- fragment -->
</div>
</div>
<a id="a502d0e9afc462ac3bc83c5080737155e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a502d0e9afc462ac3bc83c5080737155e">&#9670;&nbsp;</a></span>__init_verbose_buf()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void __init_verbose_buf </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/d22/logger_8c_source.html#l00252">252</a> of file <a class="el" href="../../d1/d22/logger_8c_source.html">logger.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;{</div></div><!-- fragment -->
</div>
</div>
<a id="a0a82f5acbf33307567f1934411e38501"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a82f5acbf33307567f1934411e38501">&#9670;&nbsp;</a></span>__init_verbose_build_buf()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void __init_verbose_build_buf </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/d22/logger_8c_source.html#l00253">253</a> of file <a class="el" href="../../d1/d22/logger_8c_source.html">logger.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;{</div></div><!-- fragment -->
</div>
</div>
<a id="a88b7c88fed6b80fd18f34f97757dfc04"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a88b7c88fed6b80fd18f34f97757dfc04">&#9670;&nbsp;</a></span>__reg_module()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void __reg_module </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/d22/logger_8c_source.html#l02615">2615</a> of file <a class="el" href="../../d1/d22/logger_8c_source.html">logger.c</a>.</p>

</div>
</div>
<a id="afeab1257bd17282b95875499393a147a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afeab1257bd17282b95875499393a147a">&#9670;&nbsp;</a></span>__unreg_module()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void __unreg_module </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/d22/logger_8c_source.html#l02615">2615</a> of file <a class="el" href="../../d1/d22/logger_8c_source.html">logger.c</a>.</p>

</div>
</div>
<a id="a4592827ac63990ae6f05015a6b9985a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4592827ac63990ae6f05015a6b9985a3">&#9670;&nbsp;</a></span>_ast_trace_dec_indent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long _ast_trace_dec_indent </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Decrement the indent level. </p>
<dl class="section return"><dt>Returns</dt><dd>The new indent level </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d1/d22/logger_8c_source.html#l02396">2396</a> of file <a class="el" href="../../d1/d22/logger_8c_source.html">logger.c</a>.</p>

<p class="reference">References <a class="el" href="../../dc/d7d/threadstorage_8h_source.html#l00241">ast_threadstorage_get_ptr()</a>, and <a class="el" href="../../dc/d7d/threadstorage_8h_source.html#l00260">ast_threadstorage_set_ptr()</a>.</p>
<div class="fragment"><div class="line"><a name="l02397"></a><span class="lineno"> 2397</span>&#160;{</div><div class="line"><a name="l02398"></a><span class="lineno"> 2398</span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> indent = (<span class="keywordtype">unsigned</span> long)<a class="code" href="../../dc/d7d/threadstorage_8h.html#a273e9e038c879199c4192156b9349169">ast_threadstorage_get_ptr</a>(&amp;trace_indent);</div><div class="line"><a name="l02399"></a><span class="lineno"> 2399</span>&#160;   indent--;</div><div class="line"><a name="l02400"></a><span class="lineno"> 2400</span>&#160;   <a class="code" href="../../dc/d7d/threadstorage_8h.html#a10886a1187bdffd95a266d04e0739b60">ast_threadstorage_set_ptr</a>(&amp;trace_indent, (<span class="keywordtype">void</span>*)indent);</div><div class="line"><a name="l02401"></a><span class="lineno"> 2401</span>&#160;</div><div class="line"><a name="l02402"></a><span class="lineno"> 2402</span>&#160;   <span class="keywordflow">return</span> indent;</div><div class="line"><a name="l02403"></a><span class="lineno"> 2403</span>&#160;}</div><div class="ttc" id="threadstorage_8h_html_a10886a1187bdffd95a266d04e0739b60"><div class="ttname"><a href="../../dc/d7d/threadstorage_8h.html#a10886a1187bdffd95a266d04e0739b60">ast_threadstorage_set_ptr</a></div><div class="ttdeci">int ast_threadstorage_set_ptr(struct ast_threadstorage *ts, void *ptr)</div><div class="ttdoc">Set a raw pointer from threadstorage. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7d/threadstorage_8h_source.html#l00260">threadstorage.h:260</a></div></div>
<div class="ttc" id="threadstorage_8h_html_a273e9e038c879199c4192156b9349169"><div class="ttname"><a href="../../dc/d7d/threadstorage_8h.html#a273e9e038c879199c4192156b9349169">ast_threadstorage_get_ptr</a></div><div class="ttdeci">void * ast_threadstorage_get_ptr(struct ast_threadstorage *ts)</div><div class="ttdoc">Retrieve a raw pointer from threadstorage. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7d/threadstorage_8h_source.html#l00241">threadstorage.h:241</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a460c53a6b870c6c2f08cddc576385be2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a460c53a6b870c6c2f08cddc576385be2">&#9670;&nbsp;</a></span>_ast_trace_get_indent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long _ast_trace_get_indent </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the current indent level. </p>
<dl class="section return"><dt>Returns</dt><dd>The current indent level </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d1/d22/logger_8c_source.html#l02377">2377</a> of file <a class="el" href="../../d1/d22/logger_8c_source.html">logger.c</a>.</p>

<p class="reference">References <a class="el" href="../../dc/d7d/threadstorage_8h_source.html#l00241">ast_threadstorage_get_ptr()</a>.</p>
<div class="fragment"><div class="line"><a name="l02378"></a><span class="lineno"> 2378</span>&#160;{</div><div class="line"><a name="l02379"></a><span class="lineno"> 2379</span>&#160;   <span class="keywordflow">return</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>)<a class="code" href="../../dc/d7d/threadstorage_8h.html#a273e9e038c879199c4192156b9349169">ast_threadstorage_get_ptr</a>(&amp;trace_indent);</div><div class="line"><a name="l02380"></a><span class="lineno"> 2380</span>&#160;}</div><div class="ttc" id="threadstorage_8h_html_a273e9e038c879199c4192156b9349169"><div class="ttname"><a href="../../dc/d7d/threadstorage_8h.html#a273e9e038c879199c4192156b9349169">ast_threadstorage_get_ptr</a></div><div class="ttdeci">void * ast_threadstorage_get_ptr(struct ast_threadstorage *ts)</div><div class="ttdoc">Retrieve a raw pointer from threadstorage. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7d/threadstorage_8h_source.html#l00241">threadstorage.h:241</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="acc9f02b238d80d07e1a408e8983ebf60"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acc9f02b238d80d07e1a408e8983ebf60">&#9670;&nbsp;</a></span>_ast_trace_inc_indent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long _ast_trace_inc_indent </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Increment the indent level. </p>
<dl class="section return"><dt>Returns</dt><dd>The new indent level </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d1/d22/logger_8c_source.html#l02387">2387</a> of file <a class="el" href="../../d1/d22/logger_8c_source.html">logger.c</a>.</p>

<p class="reference">References <a class="el" href="../../dc/d7d/threadstorage_8h_source.html#l00241">ast_threadstorage_get_ptr()</a>, and <a class="el" href="../../dc/d7d/threadstorage_8h_source.html#l00260">ast_threadstorage_set_ptr()</a>.</p>
<div class="fragment"><div class="line"><a name="l02388"></a><span class="lineno"> 2388</span>&#160;{</div><div class="line"><a name="l02389"></a><span class="lineno"> 2389</span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> indent = (<span class="keywordtype">unsigned</span> long)<a class="code" href="../../dc/d7d/threadstorage_8h.html#a273e9e038c879199c4192156b9349169">ast_threadstorage_get_ptr</a>(&amp;trace_indent);</div><div class="line"><a name="l02390"></a><span class="lineno"> 2390</span>&#160;   indent++;</div><div class="line"><a name="l02391"></a><span class="lineno"> 2391</span>&#160;   <a class="code" href="../../dc/d7d/threadstorage_8h.html#a10886a1187bdffd95a266d04e0739b60">ast_threadstorage_set_ptr</a>(&amp;trace_indent, (<span class="keywordtype">void</span>*)indent);</div><div class="line"><a name="l02392"></a><span class="lineno"> 2392</span>&#160;</div><div class="line"><a name="l02393"></a><span class="lineno"> 2393</span>&#160;   <span class="keywordflow">return</span> indent;</div><div class="line"><a name="l02394"></a><span class="lineno"> 2394</span>&#160;}</div><div class="ttc" id="threadstorage_8h_html_a10886a1187bdffd95a266d04e0739b60"><div class="ttname"><a href="../../dc/d7d/threadstorage_8h.html#a10886a1187bdffd95a266d04e0739b60">ast_threadstorage_set_ptr</a></div><div class="ttdeci">int ast_threadstorage_set_ptr(struct ast_threadstorage *ts, void *ptr)</div><div class="ttdoc">Set a raw pointer from threadstorage. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7d/threadstorage_8h_source.html#l00260">threadstorage.h:260</a></div></div>
<div class="ttc" id="threadstorage_8h_html_a273e9e038c879199c4192156b9349169"><div class="ttname"><a href="../../dc/d7d/threadstorage_8h.html#a273e9e038c879199c4192156b9349169">ast_threadstorage_get_ptr</a></div><div class="ttdeci">void * ast_threadstorage_get_ptr(struct ast_threadstorage *ts)</div><div class="ttdoc">Retrieve a raw pointer from threadstorage. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7d/threadstorage_8h_source.html#l00241">threadstorage.h:241</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a20510fa64106a8e47091c9339172aca5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a20510fa64106a8e47091c9339172aca5">&#9670;&nbsp;</a></span>_ast_trace_set_indent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void _ast_trace_set_indent </td>
          <td>(</td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>indent</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the current indent level. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">indent</td><td>The new indent level </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d1/d22/logger_8c_source.html#l02382">2382</a> of file <a class="el" href="../../d1/d22/logger_8c_source.html">logger.c</a>.</p>

<p class="reference">References <a class="el" href="../../dc/d7d/threadstorage_8h_source.html#l00260">ast_threadstorage_set_ptr()</a>.</p>
<div class="fragment"><div class="line"><a name="l02383"></a><span class="lineno"> 2383</span>&#160;{</div><div class="line"><a name="l02384"></a><span class="lineno"> 2384</span>&#160;   <a class="code" href="../../dc/d7d/threadstorage_8h.html#a10886a1187bdffd95a266d04e0739b60">ast_threadstorage_set_ptr</a>(&amp;trace_indent, (<span class="keywordtype">void</span>*)indent);</div><div class="line"><a name="l02385"></a><span class="lineno"> 2385</span>&#160;}</div><div class="ttc" id="threadstorage_8h_html_a10886a1187bdffd95a266d04e0739b60"><div class="ttname"><a href="../../dc/d7d/threadstorage_8h.html#a10886a1187bdffd95a266d04e0739b60">ast_threadstorage_set_ptr</a></div><div class="ttdeci">int ast_threadstorage_set_ptr(struct ast_threadstorage *ts, void *ptr)</div><div class="ttdoc">Set a raw pointer from threadstorage. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7d/threadstorage_8h_source.html#l00260">threadstorage.h:260</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2f1be0b868a854412d364a9712a716ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f1be0b868a854412d364a9712a716ec">&#9670;&nbsp;</a></span>_handle_SIGXFSZ()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void _handle_SIGXFSZ </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sig</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/d22/logger_8c_source.html#l01568">1568</a> of file <a class="el" href="../../d1/d22/logger_8c_source.html">logger.c</a>.</p>

<p class="reference">References <a class="el" href="../../d1/d22/logger_8c_source.html#l00084">filesize_reload_needed</a>.</p>
<div class="fragment"><div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;{</div><div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;   <span class="comment">/* Indicate need to reload */</span></div><div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;   <a class="code" href="../../d1/d22/logger_8c.html#a2b97f7299bdadbda12e69a1a31c9d28c">filesize_reload_needed</a> = 1;</div><div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;}</div><div class="ttc" id="logger_8c_html_a2b97f7299bdadbda12e69a1a31c9d28c"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a2b97f7299bdadbda12e69a1a31c9d28c">filesize_reload_needed</a></div><div class="ttdeci">static int filesize_reload_needed</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00084">logger.c:84</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a0feedebddbe9e37de4425491e6c6afca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0feedebddbe9e37de4425491e6c6afca">&#9670;&nbsp;</a></span>ast_callid_strnprint()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_callid_strnprint </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>buffer_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d1/d8c/logger_8h.html#a6db44a7e26f0bc42801fc7225817c6a1">ast_callid</a>&#160;</td>
          <td class="paramname"><em>callid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>copy a string representation of the callid into a target string </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buffer</td><td>destination of callid string (should be able to store 13 characters or more) </td></tr>
    <tr><td class="paramname">buffer_size</td><td>maximum writable length of the string (Less than 13 will result in truncation) </td></tr>
    <tr><td class="paramname">callid</td><td>Callid for which string is being requested </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d1/d22/logger_8c_source.html#l01952">1952</a> of file <a class="el" href="../../d1/d22/logger_8c_source.html">logger.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00797">ast_channel_callid_set()</a>, <a class="el" href="../../d9/d3d/func__channel_8c_source.html#l00290">func_channel_read()</a>, <a class="el" href="../../df/dd3/main_2cli_8c_source.html#l01610">handle_showchan()</a>, and <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l01137">iax_pvt_callid_new()</a>.</p>
<div class="fragment"><div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160;{</div><div class="line"><a name="l01954"></a><span class="lineno"> 1954</span>&#160;   snprintf(buffer, buffer_size, <span class="stringliteral">&quot;[C-%08x]&quot;</span>, callid);</div><div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160;}</div></div><!-- fragment -->
</div>
</div>
<a id="a6956becf4d7e3906c74b6e30b834ebd8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6956becf4d7e3906c74b6e30b834ebd8">&#9670;&nbsp;</a></span>ast_callid_threadassoc_add()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_callid_threadassoc_add </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d1/d8c/logger_8h.html#a6db44a7e26f0bc42801fc7225817c6a1">ast_callid</a>&#160;</td>
          <td class="paramname"><em>callid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adds a known callid to thread storage of the calling thread. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>- success </td></tr>
    <tr><td class="paramname">non-zero</td><td>- failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d1/d22/logger_8c_source.html#l01984">1984</a> of file <a class="el" href="../../d1/d22/logger_8c_source.html">logger.c</a>.</p>

<p class="reference">References <a class="el" href="../../d1/d22/logger_8c_source.html#l02101">ast_log()</a>, <a class="el" href="../../dc/d7d/threadstorage_8h_source.html#l00197">ast_threadstorage_get()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, and <a class="el" href="../../d1/d22/logger_8c_source.html#l00091">unique_callid</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/d09/sig__analog_8c_source.html#l01711">__analog_ss_thread()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l04310">__ast_pbx_run()</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l02020">ast_callid_threadstorage_auto()</a>, <a class="el" href="../../de/d43/dial_8c_source.html#l00922">async_dial()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l03044">attended_transfer_monitor_thread()</a>, <a class="el" href="../../db/d0b/resource__bridges_8c_source.html#l00288">bridge_channel_control_thread()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l01757">bridge_channel_depart_thread()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l01788">bridge_channel_ind_thread()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l29424">handle_request_do()</a>, <a class="el" href="../../de/da4/chan__motif_8c_source.html#l02595">jingle_action_hook()</a>, <a class="el" href="../../de/da4/chan__motif_8c_source.html#l01524">jingle_outgoing_hook()</a>, <a class="el" href="../../d8/d93/app__mixmonitor_8c_source.html#l00709">mixmonitor_thread()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l10083">socket_process_helper()</a>, and <a class="el" href="../../db/d4e/bridge__softmix_8c_source.html#l01996">softmix_mixing_thread()</a>.</p>
<div class="fragment"><div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160;{</div><div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a6db44a7e26f0bc42801fc7225817c6a1">ast_callid</a> *pointing;</div><div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;</div><div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;   pointing = <a class="code" href="../../dc/d7d/threadstorage_8h.html#ab6ff44d2acf6ea45090177cd3141da03">ast_threadstorage_get</a>(&amp;<a class="code" href="../../d1/d22/logger_8c.html#a97ee77a4a8f2f77dadc496b5ba2aee40">unique_callid</a>, <span class="keyword">sizeof</span>(*pointing));</div><div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;   <span class="keywordflow">if</span> (!pointing) {</div><div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;   }</div><div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;</div><div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;   <span class="keywordflow">if</span> (*pointing) {</div><div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;      <a class="code" href="../../d1/d22/logger_8c.html#a93dd824dff97fe84941d6d71b7a3710e">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;ast_callid_threadassoc_add(C-%08x) on thread &quot;</span></div><div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;         <span class="stringliteral">&quot;already associated with callid [C-%08x].\n&quot;</span>, callid, *pointing);</div><div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;      <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;   }</div><div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;</div><div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;   *pointing = callid;</div><div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160;}</div><div class="ttc" id="threadstorage_8h_html_ab6ff44d2acf6ea45090177cd3141da03"><div class="ttname"><a href="../../dc/d7d/threadstorage_8h.html#ab6ff44d2acf6ea45090177cd3141da03">ast_threadstorage_get</a></div><div class="ttdeci">void * ast_threadstorage_get(struct ast_threadstorage *ts, size_t init_size)</div><div class="ttdoc">Retrieve thread storage. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7d/threadstorage_8h_source.html#l00197">threadstorage.h:197</a></div></div>
<div class="ttc" id="logger_8h_html_a6db44a7e26f0bc42801fc7225817c6a1"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a6db44a7e26f0bc42801fc7225817c6a1">ast_callid</a></div><div class="ttdeci">unsigned int ast_callid</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00087">logger.h:87</a></div></div>
<div class="ttc" id="logger_8c_html_a97ee77a4a8f2f77dadc496b5ba2aee40"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a97ee77a4a8f2f77dadc496b5ba2aee40">unique_callid</a></div><div class="ttdeci">static struct ast_threadstorage unique_callid</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00091">logger.c:91</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="logger_8c_html_a93dd824dff97fe84941d6d71b7a3710e"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a93dd824dff97fe84941d6d71b7a3710e">ast_log</a></div><div class="ttdeci">void ast_log(int level, const char *file, int line, const char *function, const char *fmt,...)</div><div class="ttdoc">Used for sending a log message This is the standard logger function. Probably the only way you will i...</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l02101">logger.c:2101</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a37b40349d0ef536a0f34b042f7803ab8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a37b40349d0ef536a0f34b042f7803ab8">&#9670;&nbsp;</a></span>ast_callid_threadassoc_change()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_callid_threadassoc_change </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d1/d8c/logger_8h.html#a6db44a7e26f0bc42801fc7225817c6a1">ast_callid</a>&#160;</td>
          <td class="paramname"><em>callid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets what is stored in the thread storage to the given callid if it does not match what is already there. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>- success </td></tr>
    <tr><td class="paramname">non-zero</td><td>- failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d1/d22/logger_8c_source.html#l01971">1971</a> of file <a class="el" href="../../d1/d22/logger_8c_source.html">logger.c</a>.</p>

<p class="reference">References <a class="el" href="../../dc/d7d/threadstorage_8h_source.html#l00197">ast_threadstorage_get()</a>, and <a class="el" href="../../d1/d22/logger_8c_source.html#l00091">unique_callid</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/d66/autoservice_8c_source.html#l00078">autoservice_run()</a>, and <a class="el" href="../../d0/d95/bridge_8c_source.html#l04923">bridge_manager_service()</a>.</p>
<div class="fragment"><div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160;{</div><div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a6db44a7e26f0bc42801fc7225817c6a1">ast_callid</a> *<span class="keywordtype">id</span> = <a class="code" href="../../dc/d7d/threadstorage_8h.html#ab6ff44d2acf6ea45090177cd3141da03">ast_threadstorage_get</a>(&amp;<a class="code" href="../../d1/d22/logger_8c.html#a97ee77a4a8f2f77dadc496b5ba2aee40">unique_callid</a>, <span class="keyword">sizeof</span>(*<span class="keywordtype">id</span>));</div><div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160;</div><div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160;   <span class="keywordflow">if</span> (!<span class="keywordtype">id</span>) {</div><div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160;   }</div><div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160;</div><div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;   *<span class="keywordtype">id</span> = callid;</div><div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;</div><div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160;}</div><div class="ttc" id="threadstorage_8h_html_ab6ff44d2acf6ea45090177cd3141da03"><div class="ttname"><a href="../../dc/d7d/threadstorage_8h.html#ab6ff44d2acf6ea45090177cd3141da03">ast_threadstorage_get</a></div><div class="ttdeci">void * ast_threadstorage_get(struct ast_threadstorage *ts, size_t init_size)</div><div class="ttdoc">Retrieve thread storage. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7d/threadstorage_8h_source.html#l00197">threadstorage.h:197</a></div></div>
<div class="ttc" id="logger_8h_html_a6db44a7e26f0bc42801fc7225817c6a1"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a6db44a7e26f0bc42801fc7225817c6a1">ast_callid</a></div><div class="ttdeci">unsigned int ast_callid</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00087">logger.h:87</a></div></div>
<div class="ttc" id="logger_8c_html_a97ee77a4a8f2f77dadc496b5ba2aee40"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a97ee77a4a8f2f77dadc496b5ba2aee40">unique_callid</a></div><div class="ttdeci">static struct ast_threadstorage unique_callid</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00091">logger.c:91</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a9e325f2d0c2872627a05feff17423f80"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e325f2d0c2872627a05feff17423f80">&#9670;&nbsp;</a></span>ast_callid_threadassoc_remove()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_callid_threadassoc_remove </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Removes callid from thread storage of the calling thread. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>- success </td></tr>
    <tr><td class="paramname">non-zero</td><td>- failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d1/d22/logger_8c_source.html#l02003">2003</a> of file <a class="el" href="../../d1/d22/logger_8c_source.html">logger.c</a>.</p>

<p class="reference">References <a class="el" href="../../dc/d7d/threadstorage_8h_source.html#l00197">ast_threadstorage_get()</a>, and <a class="el" href="../../d1/d22/logger_8c_source.html#l00091">unique_callid</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/d22/logger_8c_source.html#l02042">ast_callid_threadstorage_auto_clean()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l03044">attended_transfer_monitor_thread()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l29424">handle_request_do()</a>, <a class="el" href="../../de/da4/chan__motif_8c_source.html#l02595">jingle_action_hook()</a>, <a class="el" href="../../de/da4/chan__motif_8c_source.html#l01524">jingle_outgoing_hook()</a>, and <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l11968">socket_process()</a>.</p>
<div class="fragment"><div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160;{</div><div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a6db44a7e26f0bc42801fc7225817c6a1">ast_callid</a> *pointing;</div><div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;</div><div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;   pointing = <a class="code" href="../../dc/d7d/threadstorage_8h.html#ab6ff44d2acf6ea45090177cd3141da03">ast_threadstorage_get</a>(&amp;<a class="code" href="../../d1/d22/logger_8c.html#a97ee77a4a8f2f77dadc496b5ba2aee40">unique_callid</a>, <span class="keyword">sizeof</span>(*pointing));</div><div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;   <span class="keywordflow">if</span> (!pointing) {</div><div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;   }</div><div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160;</div><div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;   <span class="keywordflow">if</span> (*pointing) {</div><div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;      *pointing = 0;</div><div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160;   }</div><div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;</div><div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160;   <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160;}</div><div class="ttc" id="threadstorage_8h_html_ab6ff44d2acf6ea45090177cd3141da03"><div class="ttname"><a href="../../dc/d7d/threadstorage_8h.html#ab6ff44d2acf6ea45090177cd3141da03">ast_threadstorage_get</a></div><div class="ttdeci">void * ast_threadstorage_get(struct ast_threadstorage *ts, size_t init_size)</div><div class="ttdoc">Retrieve thread storage. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7d/threadstorage_8h_source.html#l00197">threadstorage.h:197</a></div></div>
<div class="ttc" id="logger_8h_html_a6db44a7e26f0bc42801fc7225817c6a1"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a6db44a7e26f0bc42801fc7225817c6a1">ast_callid</a></div><div class="ttdeci">unsigned int ast_callid</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00087">logger.h:87</a></div></div>
<div class="ttc" id="logger_8c_html_a97ee77a4a8f2f77dadc496b5ba2aee40"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a97ee77a4a8f2f77dadc496b5ba2aee40">unique_callid</a></div><div class="ttdeci">static struct ast_threadstorage unique_callid</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00091">logger.c:91</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a9fb378dbf6d7127ecf018f0190c9fa97"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9fb378dbf6d7127ecf018f0190c9fa97">&#9670;&nbsp;</a></span>ast_callid_threadstorage_auto()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_callid_threadstorage_auto </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d1/d8c/logger_8h.html#a6db44a7e26f0bc42801fc7225817c6a1">ast_callid</a> *&#160;</td>
          <td class="paramname"><em>callid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks thread storage for a callid and stores a reference if it exists. If not, then a new one will be created, bound to the thread, and a reference to it will be stored. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">callid</td><td>pointer to store the callid </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>- callid was found </td></tr>
    <tr><td class="paramname">1</td><td>- callid was created </td></tr>
    <tr><td class="paramname">-1</td><td>- the function failed somehow (presumably memory problems) </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d1/d22/logger_8c_source.html#l02020">2020</a> of file <a class="el" href="../../d1/d22/logger_8c_source.html">logger.c</a>.</p>

<p class="reference">References <a class="el" href="../../d1/d22/logger_8c_source.html#l01984">ast_callid_threadassoc_add()</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l01957">ast_create_callid()</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l01962">ast_read_threadstorage_callid()</a>, and <a class="el" href="../../de/d1e/bt__open_8c_source.html#l00389">tmp()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/d09/sig__analog_8c_source.html#l02685">__analog_handle_event()</a>, <a class="el" href="../../d2/d09/sig__analog_8c_source.html#l03675">analog_handle_init_event()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l07386">dahdi_handle_event()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l13491">dahdi_request()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l11482">do_monitor()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l03537">handle_clear_alarms()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l11218">handle_init_event()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l10726">mwi_thread()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l02225">my_new_analog_ast_channel()</a>, and <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l02700">my_on_hook()</a>.</p>
<div class="fragment"><div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160;{</div><div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a6db44a7e26f0bc42801fc7225817c6a1">ast_callid</a> <a class="code" href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a>;</div><div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160;</div><div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160;   <span class="comment">/* Start by trying to see if a callid is available from thread storage */</span></div><div class="line"><a name="l02025"></a><span class="lineno"> 2025</span>&#160;   tmp = <a class="code" href="../../d1/d22/logger_8c.html#a5b3f39ea262ffa795ce4b597968ad00b">ast_read_threadstorage_callid</a>();</div><div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160;   <span class="keywordflow">if</span> (tmp) {</div><div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160;      *callid = <a class="code" href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a>;</div><div class="line"><a name="l02028"></a><span class="lineno"> 2028</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160;   }</div><div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160;</div><div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160;   <span class="comment">/* If that failed, try to create a new one and bind it. */</span></div><div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;   *callid = <a class="code" href="../../d1/d22/logger_8c.html#a6cd2a7c20c6cfe0e3f4fed72dd2cc6b2">ast_create_callid</a>();</div><div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160;   <span class="keywordflow">if</span> (*callid) {</div><div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160;      <a class="code" href="../../d1/d22/logger_8c.html#a6956becf4d7e3906c74b6e30b834ebd8">ast_callid_threadassoc_add</a>(*callid);</div><div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160;      <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160;   }</div><div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160;</div><div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160;   <span class="comment">/* If neither worked, then something must have gone wrong. */</span></div><div class="line"><a name="l02039"></a><span class="lineno"> 2039</span>&#160;   <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160;}</div><div class="ttc" id="bt__open_8c_html_a1cdd2bb1a9a71d3e1120100229315d67"><div class="ttname"><a href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a></div><div class="ttdeci">static int tmp()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1e/bt__open_8c_source.html#l00389">bt_open.c:389</a></div></div>
<div class="ttc" id="logger_8h_html_a6db44a7e26f0bc42801fc7225817c6a1"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a6db44a7e26f0bc42801fc7225817c6a1">ast_callid</a></div><div class="ttdeci">unsigned int ast_callid</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00087">logger.h:87</a></div></div>
<div class="ttc" id="logger_8c_html_a5b3f39ea262ffa795ce4b597968ad00b"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a5b3f39ea262ffa795ce4b597968ad00b">ast_read_threadstorage_callid</a></div><div class="ttdeci">ast_callid ast_read_threadstorage_callid(void)</div><div class="ttdoc">extracts the callerid from the thread </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l01962">logger.c:1962</a></div></div>
<div class="ttc" id="logger_8c_html_a6956becf4d7e3906c74b6e30b834ebd8"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a6956becf4d7e3906c74b6e30b834ebd8">ast_callid_threadassoc_add</a></div><div class="ttdeci">int ast_callid_threadassoc_add(ast_callid callid)</div><div class="ttdoc">Adds a known callid to thread storage of the calling thread. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l01984">logger.c:1984</a></div></div>
<div class="ttc" id="logger_8c_html_a6cd2a7c20c6cfe0e3f4fed72dd2cc6b2"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a6cd2a7c20c6cfe0e3f4fed72dd2cc6b2">ast_create_callid</a></div><div class="ttdeci">ast_callid ast_create_callid(void)</div><div class="ttdoc">factory function to create a new uniquely identifying callid. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l01957">logger.c:1957</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a226c587c10a5af466a8f81be28de668f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a226c587c10a5af466a8f81be28de668f">&#9670;&nbsp;</a></span>ast_callid_threadstorage_auto_clean()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_callid_threadstorage_auto_clean </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d1/d8c/logger_8h.html#a6db44a7e26f0bc42801fc7225817c6a1">ast_callid</a>&#160;</td>
          <td class="paramname"><em>callid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>callid_created</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Use in conjunction with ast_callid_threadstorage_auto. Cleans up the references and if the callid was created by threadstorage_auto, unbinds the callid from the threadstorage. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">callid</td><td>The callid set by ast_callid_threadstorage_auto </td></tr>
    <tr><td class="paramname">callid_created</td><td>The integer returned through ast_callid_threadstorage_auto </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d1/d22/logger_8c_source.html#l02042">2042</a> of file <a class="el" href="../../d1/d22/logger_8c_source.html">logger.c</a>.</p>

<p class="reference">References <a class="el" href="../../d1/d22/logger_8c_source.html#l02003">ast_callid_threadassoc_remove()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/d09/sig__analog_8c_source.html#l02685">__analog_handle_event()</a>, <a class="el" href="../../d2/d09/sig__analog_8c_source.html#l03675">analog_handle_init_event()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l07386">dahdi_handle_event()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l09144">dahdi_new_callid_clean()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l13491">dahdi_request()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l11482">do_monitor()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l03537">handle_clear_alarms()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l11218">handle_init_event()</a>, and <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l10726">mwi_thread()</a>.</p>
<div class="fragment"><div class="line"><a name="l02043"></a><span class="lineno"> 2043</span>&#160;{</div><div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160;   <span class="keywordflow">if</span> (callid &amp;&amp; callid_created) {</div><div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160;      <span class="comment">/* If the callid was created rather than simply grabbed from the thread storage, we need to unbind here. */</span></div><div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160;      <a class="code" href="../../d1/d22/logger_8c.html#a9e325f2d0c2872627a05feff17423f80">ast_callid_threadassoc_remove</a>();</div><div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160;   }</div><div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160;}</div><div class="ttc" id="logger_8c_html_a9e325f2d0c2872627a05feff17423f80"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a9e325f2d0c2872627a05feff17423f80">ast_callid_threadassoc_remove</a></div><div class="ttdeci">int ast_callid_threadassoc_remove(void)</div><div class="ttdoc">Removes callid from thread storage of the calling thread. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l02003">logger.c:2003</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="abe937354501761e17f2d2163d1f8ac87"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abe937354501761e17f2d2163d1f8ac87">&#9670;&nbsp;</a></span>ast_child_verbose()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_child_verbose </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>fmt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/d22/logger_8c_source.html#l00850">850</a> of file <a class="el" href="../../d1/d22/logger_8c_source.html">logger.c</a>.</p>

<p class="reference">References <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00193">ast_malloc</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/de9/res__agi_8c_source.html#l02200">launch_script()</a>.</p>
<div class="fragment"><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;{</div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;   <span class="keywordtype">char</span> *msg = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, *emsg = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, *sptr, *eptr;</div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;   va_list ap, aq;</div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;   <span class="keywordtype">int</span> size;</div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;</div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;   va_start(ap, fmt);</div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;   va_copy(aq, ap);</div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;   <span class="keywordflow">if</span> ((size = vsnprintf(msg, 0, fmt, ap)) &lt; 0) {</div><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;      va_end(ap);</div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;      va_end(aq);</div><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;   }</div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;   va_end(ap);</div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;</div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;   <span class="keywordflow">if</span> (!(msg = <a class="code" href="../../d8/d8a/astmm_8h.html#ae63d4f486bcf6eac7c1593f867717d91">ast_malloc</a>(size + 1))) {</div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;      va_end(aq);</div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;   }</div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;</div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;   vsnprintf(msg, size + 1, fmt, aq);</div><div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;   va_end(aq);</div><div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;</div><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;   <span class="keywordflow">if</span> (!(emsg = <a class="code" href="../../d8/d8a/astmm_8h.html#ae63d4f486bcf6eac7c1593f867717d91">ast_malloc</a>(size * 2 + 1))) {</div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(msg);</div><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;   }</div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;</div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;   <span class="keywordflow">for</span> (sptr = msg, eptr = emsg; ; sptr++) {</div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;      <span class="keywordflow">if</span> (*sptr == <span class="charliteral">&#39;&quot;&#39;</span>) {</div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;         *eptr++ = <span class="charliteral">&#39;\\&#39;</span>;</div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;      }</div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;      *eptr++ = *sptr;</div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;      <span class="keywordflow">if</span> (*sptr == <span class="charliteral">&#39;\0&#39;</span>) {</div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;      }</div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;   }</div><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;   <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(msg);</div><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;</div><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;   fprintf(stdout, <span class="stringliteral">&quot;verbose \&quot;%s\&quot; %d\n&quot;</span>, emsg, level);</div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;   fflush(stdout);</div><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;   <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(emsg);</div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;}</div><div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="astmm_8h_html_ae63d4f486bcf6eac7c1593f867717d91"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ae63d4f486bcf6eac7c1593f867717d91">ast_malloc</a></div><div class="ttdeci">#define ast_malloc(len)</div><div class="ttdoc">A wrapper for malloc() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00193">astmm.h:193</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6cd2a7c20c6cfe0e3f4fed72dd2cc6b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6cd2a7c20c6cfe0e3f4fed72dd2cc6b2">&#9670;&nbsp;</a></span>ast_create_callid()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d1/d8c/logger_8h.html#a6db44a7e26f0bc42801fc7225817c6a1">ast_callid</a> ast_create_callid </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>factory function to create a new uniquely identifying callid. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">The</td><td>call id </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d1/d22/logger_8c_source.html#l01957">1957</a> of file <a class="el" href="../../d1/d22/logger_8c_source.html">logger.c</a>.</p>

<p class="reference">References <a class="el" href="../../dd/d42/lock_8h_source.html#l00755">ast_atomic_fetchadd_int()</a>, and <a class="el" href="../../d1/d22/logger_8c_source.html#l00088">next_unique_callid</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d94/pbx_8c_source.html#l04310">__ast_pbx_run()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l09469">__find_call()</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l02020">ast_callid_threadstorage_auto()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l01137">iax_pvt_callid_new()</a>, and <a class="el" href="../../de/da4/chan__motif_8c_source.html#l00701">jingle_alloc()</a>.</p>
<div class="fragment"><div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160;{</div><div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dd/d42/lock_8h.html#a8a3bd496edfec04a95683ace66676200">ast_atomic_fetchadd_int</a>(&amp;<a class="code" href="../../d1/d22/logger_8c.html#af261e7f01245059402352861a7fc28f8">next_unique_callid</a>, +1);</div><div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160;}</div><div class="ttc" id="lock_8h_html_a8a3bd496edfec04a95683ace66676200"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a8a3bd496edfec04a95683ace66676200">ast_atomic_fetchadd_int</a></div><div class="ttdeci">int ast_atomic_fetchadd_int(volatile int *p, int v)</div><div class="ttdoc">Atomically add v to *p and return the previous value of *p. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00755">lock.h:755</a></div></div>
<div class="ttc" id="logger_8c_html_af261e7f01245059402352861a7fc28f8"><div class="ttname"><a href="../../d1/d22/logger_8c.html#af261e7f01245059402352861a7fc28f8">next_unique_callid</a></div><div class="ttdeci">static volatile int next_unique_callid</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00088">logger.c:88</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae131afeed07fe27ce77744335dd8dba3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae131afeed07fe27ce77744335dd8dba3">&#9670;&nbsp;</a></span>ast_dynamic_logger_level()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_dynamic_logger_level </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks if a dynamic logger level exists. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>The name of the dynamic level for which to check existence </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">-1</td><td>if no such dynamic level exists </td></tr>
    <tr><td class="paramname">non-zero</td><td>negative to be used with ast_log_dynamic_level for sending messages to this level </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d1/d22/logger_8c_source.html#l02514">2514</a> of file <a class="el" href="../../d1/d22/logger_8c_source.html">logger.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/dfe/isdn__lib_8c_source.html#l00042">ARRAY_LEN</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00150">AST_RWLIST_UNLOCK</a>, and <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00051">AST_RWLIST_WRLOCK</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/dc8/app__verbose_8c_source.html#l00111">log_exec()</a>.</p>
<div class="fragment"><div class="line"><a name="l02515"></a><span class="lineno"> 2515</span>&#160;{</div><div class="line"><a name="l02516"></a><span class="lineno"> 2516</span>&#160;   <span class="keywordtype">int</span> level = -1;</div><div class="line"><a name="l02517"></a><span class="lineno"> 2517</span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> x;</div><div class="line"><a name="l02518"></a><span class="lineno"> 2518</span>&#160;</div><div class="line"><a name="l02519"></a><span class="lineno"> 2519</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a2d0cf4182bade9f773fb16ff12abe595">AST_RWLIST_WRLOCK</a>(&amp;<a class="code" href="../../d2/df7/structlogchannels.html">logchannels</a>);</div><div class="line"><a name="l02520"></a><span class="lineno"> 2520</span>&#160;</div><div class="line"><a name="l02521"></a><span class="lineno"> 2521</span>&#160;   <span class="keywordflow">for</span> (x = 16; x &lt; <a class="code" href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a>(<a class="code" href="../../d1/d22/logger_8c.html#a2ae9b20e8a0ca3f97cf9f8927e0fdb7f">levels</a>); x++) {</div><div class="line"><a name="l02522"></a><span class="lineno"> 2522</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="../../d1/d22/logger_8c.html#a2ae9b20e8a0ca3f97cf9f8927e0fdb7f">levels</a>[x]) {</div><div class="line"><a name="l02523"></a><span class="lineno"> 2523</span>&#160;         <span class="keywordflow">continue</span>;</div><div class="line"><a name="l02524"></a><span class="lineno"> 2524</span>&#160;      }</div><div class="line"><a name="l02525"></a><span class="lineno"> 2525</span>&#160;      <span class="keywordflow">if</span> (!strcasecmp(<a class="code" href="../../d1/d22/logger_8c.html#a2ae9b20e8a0ca3f97cf9f8927e0fdb7f">levels</a>[x], <a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>)) {</div><div class="line"><a name="l02526"></a><span class="lineno"> 2526</span>&#160;         level = x;</div><div class="line"><a name="l02527"></a><span class="lineno"> 2527</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l02528"></a><span class="lineno"> 2528</span>&#160;      }</div><div class="line"><a name="l02529"></a><span class="lineno"> 2529</span>&#160;   }</div><div class="line"><a name="l02530"></a><span class="lineno"> 2530</span>&#160;</div><div class="line"><a name="l02531"></a><span class="lineno"> 2531</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a2e9a2518b5029b96671aff6701bd5138">AST_RWLIST_UNLOCK</a>(&amp;<a class="code" href="../../d2/df7/structlogchannels.html">logchannels</a>);</div><div class="line"><a name="l02532"></a><span class="lineno"> 2532</span>&#160;</div><div class="line"><a name="l02533"></a><span class="lineno"> 2533</span>&#160;   <span class="keywordflow">return</span> level;</div><div class="line"><a name="l02534"></a><span class="lineno"> 2534</span>&#160;}</div><div class="ttc" id="isdn__lib_8c_html_ab9129b977a587b50ea801daac75e178f"><div class="ttname"><a href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a></div><div class="ttdeci">#define ARRAY_LEN(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dfe/isdn__lib_8c_source.html#l00042">isdn_lib.c:42</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a2d0cf4182bade9f773fb16ff12abe595"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a2d0cf4182bade9f773fb16ff12abe595">AST_RWLIST_WRLOCK</a></div><div class="ttdeci">#define AST_RWLIST_WRLOCK(head)</div><div class="ttdoc">Write locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00051">linkedlists.h:51</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a2e9a2518b5029b96671aff6701bd5138"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a2e9a2518b5029b96671aff6701bd5138">AST_RWLIST_UNLOCK</a></div><div class="ttdeci">#define AST_RWLIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a read/write based list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00150">linkedlists.h:150</a></div></div>
<div class="ttc" id="logger_8c_html_a2ae9b20e8a0ca3f97cf9f8927e0fdb7f"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a2ae9b20e8a0ca3f97cf9f8927e0fdb7f">levels</a></div><div class="ttdeci">static char * levels[NUMLOGLEVELS]</div><div class="ttdoc">Logging channels used in the Asterisk logging system. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00206">logger.c:206</a></div></div>
<div class="ttc" id="structlogchannels_html"><div class="ttname"><a href="../../d2/df7/structlogchannels.html">logchannels</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00158">logger.c:158</a></div></div>
<div class="ttc" id="cdr__mysql_8c_html_a0980a105ccb863d8008eb6201a51da52"><div class="ttname"><a href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a></div><div class="ttdeci">static const char name[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/cdr__mysql_8c_source.html#l00074">cdr_mysql.c:74</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a5d8b3e9d6d1e828877fab83401fcbfe4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5d8b3e9d6d1e828877fab83401fcbfe4">&#9670;&nbsp;</a></span>ast_init_logger_for_socket_console()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_init_logger_for_socket_console </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>load logger.conf configuration for console socket connections </p>

<p class="definition">Definition at line <a class="el" href="../../d1/d22/logger_8c_source.html#l00684">684</a> of file <a class="el" href="../../d1/d22/logger_8c_source.html">logger.c</a>.</p>

<p class="reference">References <a class="el" href="../../d4/dc5/extconf_8c_source.html#l01290">ast_config_destroy()</a>, <a class="el" href="../../d2/d9d/main_2config_8c_source.html#l03154">ast_config_load2()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00401">ast_copy_string()</a>, <a class="el" href="../../d2/d9d/main_2config_8c_source.html#l00694">ast_variable_retrieve()</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00060">CONFIG_STATUS_FILEINVALID</a>, and <a class="el" href="../../d1/d22/logger_8c_source.html#l00079">dateformat</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/d03/asterisk_8c_source.html#l03143">ast_remotecontrol()</a>.</p>
<div class="fragment"><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;{</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/d18/structast__config.html">ast_config</a> *cfg;</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *s;</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/dac/structast__flags.html">ast_flags</a> config_flags = { 0 };</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;   <span class="keywordflow">if</span> (!(cfg = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#aab3eac8fa82a86a93c074deb7b77dbc9">ast_config_load2</a>(<span class="stringliteral">&quot;logger.conf&quot;</span>, <span class="stringliteral">&quot;logger&quot;</span>, config_flags)) || cfg == <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a8d1a63cdf2c7aff22a77b6e75d93b377">CONFIG_STATUS_FILEINVALID</a>) {</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;   }</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;</div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;   <span class="keywordflow">if</span> ((s = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a9ff7aa27ae5f1a980bcf81f91cd6e470">ast_variable_retrieve</a>(cfg, <span class="stringliteral">&quot;general&quot;</span>, <span class="stringliteral">&quot;dateformat&quot;</span>))) {</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;      <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(<a class="code" href="../../d1/d22/logger_8c.html#a2057dec53731af6bb6881015b58936ba">dateformat</a>, s, <span class="keyword">sizeof</span>(<a class="code" href="../../d1/d22/logger_8c.html#a2057dec53731af6bb6881015b58936ba">dateformat</a>));</div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;   }</div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;   <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a6b4d4d929013de7812fbba4e58353078">ast_config_destroy</a>(cfg);</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;}</div><div class="ttc" id="include_2asterisk_2config_8h_html_a8d1a63cdf2c7aff22a77b6e75d93b377"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a8d1a63cdf2c7aff22a77b6e75d93b377">CONFIG_STATUS_FILEINVALID</a></div><div class="ttdeci">#define CONFIG_STATUS_FILEINVALID</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00060">include/asterisk/config.h:60</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_aab3eac8fa82a86a93c074deb7b77dbc9"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#aab3eac8fa82a86a93c074deb7b77dbc9">ast_config_load2</a></div><div class="ttdeci">struct ast_config * ast_config_load2(const char *filename, const char *who_asked, struct ast_flags flags)</div><div class="ttdoc">Load a config file. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d9d/main_2config_8c_source.html#l03154">main/config.c:3154</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a6b4d4d929013de7812fbba4e58353078"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a6b4d4d929013de7812fbba4e58353078">ast_config_destroy</a></div><div class="ttdeci">void ast_config_destroy(struct ast_config *config)</div><div class="ttdoc">Destroys a config. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc5/extconf_8c_source.html#l01290">extconf.c:1290</a></div></div>
<div class="ttc" id="structast__config_html"><div class="ttname"><a href="../../dd/d18/structast__config.html">ast_config</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d9d/main_2config_8c_source.html#l00249">main/config.c:249</a></div></div>
<div class="ttc" id="structast__flags_html"><div class="ttname"><a href="../../dc/dac/structast__flags.html">ast_flags</a></div><div class="ttdoc">Structure used to handle boolean flags. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00199">utils.h:199</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a9ff7aa27ae5f1a980bcf81f91cd6e470"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a9ff7aa27ae5f1a980bcf81f91cd6e470">ast_variable_retrieve</a></div><div class="ttdeci">const char * ast_variable_retrieve(struct ast_config *config, const char *category, const char *variable)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d9d/main_2config_8c_source.html#l00694">main/config.c:694</a></div></div>
<div class="ttc" id="logger_8c_html_a2057dec53731af6bb6881015b58936ba"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a2057dec53731af6bb6881015b58936ba">dateformat</a></div><div class="ttdeci">static char dateformat[256]</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00079">logger.c:79</a></div></div>
<div class="ttc" id="strings_8h_html_ac4040268f7b6ed77dfc49c7767626369"><div class="ttname"><a href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a></div><div class="ttdeci">void ast_copy_string(char *dst, const char *src, size_t size)</div><div class="ttdoc">Size-limited null-terminating string copy. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00401">strings.h:401</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a50a2e3bde19d6688d7f5f47b294c1ade"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a50a2e3bde19d6688d7f5f47b294c1ade">&#9670;&nbsp;</a></span>ast_is_logger_initialized()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_is_logger_initialized </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Test if logger is initialized. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>if the logger is initialized </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d1/d22/logger_8c_source.html#l01841">1841</a> of file <a class="el" href="../../d1/d22/logger_8c_source.html">logger.c</a>.</p>

<p class="reference">References <a class="el" href="../../d1/d22/logger_8c_source.html#l00087">logger_initialized</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/d03/asterisk_8c_source.html#l03934">check_init()</a>.</p>
<div class="fragment"><div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;{</div><div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d1/d22/logger_8c.html#a5f80b9400a0cdb3ac3a54a4da44af9b2">logger_initialized</a>;</div><div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;}</div><div class="ttc" id="logger_8c_html_a5f80b9400a0cdb3ac3a54a4da44af9b2"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a5f80b9400a0cdb3ac3a54a4da44af9b2">logger_initialized</a></div><div class="ttdeci">static int logger_initialized</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00087">logger.c:87</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a93dd824dff97fe84941d6d71b7a3710e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a93dd824dff97fe84941d6d71b7a3710e">&#9670;&nbsp;</a></span>ast_log()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_log </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>line</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>function</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>fmt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Used for sending a log message This is the standard logger function. Probably the only way you will invoke it would be something like this: ast_log(AST_LOG_WHATEVER, "Problem with the %s Captain.  We should get some more.  Will %d be enough?\n", "flux capacitor", 10); where WHATEVER is one of ERROR, DEBUG, EVENT, NOTICE, or WARNING depending on which log you wish to output to. These are implemented as macros, that will provide the function with the needed arguments. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">level</td><td>Type of log event </td></tr>
    <tr><td class="paramname">file</td><td>Will be provided by the AST_LOG_* macro </td></tr>
    <tr><td class="paramname">line</td><td>Will be provided by the AST_LOG_* macro </td></tr>
    <tr><td class="paramname">function</td><td>Will be provided by the AST_LOG_* macro </td></tr>
    <tr><td class="paramname">fmt</td><td>This is what is important. The format is the same as your favorite breed of printf. You know how that works, right? :-) </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d1/d22/logger_8c_source.html#l02101">2101</a> of file <a class="el" href="../../d1/d22/logger_8c_source.html">logger.c</a>.</p>

<p class="reference">References <a class="el" href="../../d1/d22/logger_8c_source.html#l02110">ast_log_ap()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/d22/logger_8c_source.html#l01984">ast_callid_threadassoc_add()</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l02158">ast_log_backtrace()</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l01870">init_logger()</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l01817">logger_queue_init()</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l01113">logger_queue_restart()</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l02464">logger_register_level()</a>, and <a class="el" href="../../d1/d22/logger_8c_source.html#l00974">rotate_file()</a>.</p>
<div class="fragment"><div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160;{</div><div class="line"><a name="l02103"></a><span class="lineno"> 2103</span>&#160;   va_list ap;</div><div class="line"><a name="l02104"></a><span class="lineno"> 2104</span>&#160;</div><div class="line"><a name="l02105"></a><span class="lineno"> 2105</span>&#160;   va_start(ap, fmt);</div><div class="line"><a name="l02106"></a><span class="lineno"> 2106</span>&#160;   <a class="code" href="../../d1/d22/logger_8c.html#a88b95c279d534db8de80accfb4570e95">ast_log_ap</a>(level, <a class="code" href="../../d2/dc8/namespacemake__ari__stubs.html#a40a5d58ffa6e88aa578d6683ac413105">file</a>, line, <span class="keyword">function</span>, fmt, ap);</div><div class="line"><a name="l02107"></a><span class="lineno"> 2107</span>&#160;   va_end(ap);</div><div class="line"><a name="l02108"></a><span class="lineno"> 2108</span>&#160;}</div><div class="ttc" id="namespacemake__ari__stubs_html_a40a5d58ffa6e88aa578d6683ac413105"><div class="ttname"><a href="../../d2/dc8/namespacemake__ari__stubs.html#a40a5d58ffa6e88aa578d6683ac413105">make_ari_stubs.file</a></div><div class="ttdeci">file</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d28/make__ari__stubs_8py_source.html#l00025">make_ari_stubs.py:25</a></div></div>
<div class="ttc" id="logger_8c_html_a88b95c279d534db8de80accfb4570e95"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a88b95c279d534db8de80accfb4570e95">ast_log_ap</a></div><div class="ttdeci">void ast_log_ap(int level, const char *file, int line, const char *function, const char *fmt, va_list ap)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l02110">logger.c:2110</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a88b95c279d534db8de80accfb4570e95"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a88b95c279d534db8de80accfb4570e95">&#9670;&nbsp;</a></span>ast_log_ap()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_log_ap </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>line</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>function</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>fmt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">va_list&#160;</td>
          <td class="paramname"><em>ap</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/d22/logger_8c_source.html#l02110">2110</a> of file <a class="el" href="../../d1/d22/logger_8c_source.html">logger.c</a>.</p>

<p class="reference">References <a class="el" href="../../d1/d22/logger_8c_source.html#l02193">__ast_verbose_ap()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00295">__LOG_VERBOSE</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l02053">ast_log_full()</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l01962">ast_read_threadstorage_callid()</a>, and <a class="el" href="../../d1/d22/logger_8c_source.html#l00171">logmsg::callid</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/d22/logger_8c_source.html#l02101">ast_log()</a>, and <a class="el" href="../../d3/d96/loader_8c_source.html#l00269">module_load_error()</a>.</p>
<div class="fragment"><div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160;{</div><div class="line"><a name="l02112"></a><span class="lineno"> 2112</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a6db44a7e26f0bc42801fc7225817c6a1">ast_callid</a> callid;</div><div class="line"><a name="l02113"></a><span class="lineno"> 2113</span>&#160;</div><div class="line"><a name="l02114"></a><span class="lineno"> 2114</span>&#160;   callid = <a class="code" href="../../d1/d22/logger_8c.html#a5b3f39ea262ffa795ce4b597968ad00b">ast_read_threadstorage_callid</a>();</div><div class="line"><a name="l02115"></a><span class="lineno"> 2115</span>&#160;</div><div class="line"><a name="l02116"></a><span class="lineno"> 2116</span>&#160;   <span class="keywordflow">if</span> (level == <a class="code" href="../../d1/d8c/logger_8h.html#aa11fae1314f286da3d57ae8c07ec4bca">__LOG_VERBOSE</a>) {</div><div class="line"><a name="l02117"></a><span class="lineno"> 2117</span>&#160;      <a class="code" href="../../d1/d22/logger_8c.html#a08700711fff878bdd0ef7e7769f25fe6">__ast_verbose_ap</a>(<a class="code" href="../../d2/dc8/namespacemake__ari__stubs.html#a40a5d58ffa6e88aa578d6683ac413105">file</a>, line, <span class="keyword">function</span>, 0, callid, fmt, ap);</div><div class="line"><a name="l02118"></a><span class="lineno"> 2118</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02119"></a><span class="lineno"> 2119</span>&#160;      <a class="code" href="../../d1/d22/logger_8c.html#a372050a0b201dd3176e390b03336de1e">ast_log_full</a>(level, -1, <a class="code" href="../../d2/dc8/namespacemake__ari__stubs.html#a40a5d58ffa6e88aa578d6683ac413105">file</a>, line, <span class="keyword">function</span>, callid, fmt, ap);</div><div class="line"><a name="l02120"></a><span class="lineno"> 2120</span>&#160;   }</div><div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160;}</div><div class="ttc" id="namespacemake__ari__stubs_html_a40a5d58ffa6e88aa578d6683ac413105"><div class="ttname"><a href="../../d2/dc8/namespacemake__ari__stubs.html#a40a5d58ffa6e88aa578d6683ac413105">make_ari_stubs.file</a></div><div class="ttdeci">file</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d28/make__ari__stubs_8py_source.html#l00025">make_ari_stubs.py:25</a></div></div>
<div class="ttc" id="logger_8h_html_a6db44a7e26f0bc42801fc7225817c6a1"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a6db44a7e26f0bc42801fc7225817c6a1">ast_callid</a></div><div class="ttdeci">unsigned int ast_callid</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00087">logger.h:87</a></div></div>
<div class="ttc" id="logger_8c_html_a08700711fff878bdd0ef7e7769f25fe6"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a08700711fff878bdd0ef7e7769f25fe6">__ast_verbose_ap</a></div><div class="ttdeci">void __ast_verbose_ap(const char *file, int line, const char *func, int level, ast_callid callid, const char *fmt, va_list ap)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l02193">logger.c:2193</a></div></div>
<div class="ttc" id="logger_8c_html_a5b3f39ea262ffa795ce4b597968ad00b"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a5b3f39ea262ffa795ce4b597968ad00b">ast_read_threadstorage_callid</a></div><div class="ttdeci">ast_callid ast_read_threadstorage_callid(void)</div><div class="ttdoc">extracts the callerid from the thread </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l01962">logger.c:1962</a></div></div>
<div class="ttc" id="logger_8h_html_aa11fae1314f286da3d57ae8c07ec4bca"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aa11fae1314f286da3d57ae8c07ec4bca">__LOG_VERBOSE</a></div><div class="ttdeci">#define __LOG_VERBOSE</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00295">logger.h:295</a></div></div>
<div class="ttc" id="logger_8c_html_a372050a0b201dd3176e390b03336de1e"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a372050a0b201dd3176e390b03336de1e">ast_log_full</a></div><div class="ttdeci">static void ast_log_full(int level, int sublevel, const char *file, int line, const char *function, ast_callid callid, const char *fmt, va_list ap)</div><div class="ttdoc">send log messages to syslog and/or the console </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l02053">logger.c:2053</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af6cb0aae475369edb487c5c0ea2af02a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af6cb0aae475369edb487c5c0ea2af02a">&#9670;&nbsp;</a></span>ast_log_backtrace()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_log_backtrace </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Log a backtrace of the current thread's execution stack to the Asterisk log. </p>

<p class="definition">Definition at line <a class="el" href="../../d1/d22/logger_8c_source.html#l02158">2158</a> of file <a class="el" href="../../d1/d22/logger_8c_source.html">logger.c</a>.</p>

<p class="reference">References <a class="el" href="../../d1/d8c/logger_8h_source.html#l00284">__LOG_ERROR</a>, <a class="el" href="../../d3/dda/backtrace_8h_source.html#l00052">ast_bt::addresses</a>, <a class="el" href="../../d3/dda/backtrace_8h_source.html#l00039">ast_bt_create</a>, <a class="el" href="../../d3/dda/backtrace_8h_source.html#l00040">ast_bt_destroy</a>, <a class="el" href="../../d3/dda/backtrace_8h_source.html#l00042">ast_bt_free_symbols</a>, <a class="el" href="../../d3/dda/backtrace_8h_source.html#l00041">ast_bt_get_symbols</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l02101">ast_log()</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l02123">ast_log_safe()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l01091">ast_str_append()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00714">ast_str_buffer()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00620">ast_str_create</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00682">AST_VECTOR_GET</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00611">AST_VECTOR_SIZE</a>, <a class="el" href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">buf</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../d3/dda/backtrace_8h_source.html#l00054">ast_bt::num_frames</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l02564">__ast_assert_failed()</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00600">ast_json_vpack()</a>, <a class="el" href="../../db/dbe/sched_8c_source.html#l00610">ast_sched_del()</a>, and <a class="el" href="../../d9/d62/test__pbx_8c_source.html#l00366">AST_TEST_DEFINE()</a>.</p>
<div class="fragment"><div class="line"><a name="l02159"></a><span class="lineno"> 2159</span>&#160;{</div><div class="line"><a name="l02160"></a><span class="lineno"> 2160</span>&#160;<span class="preprocessor">#ifdef HAVE_BKTR</span></div><div class="line"><a name="l02161"></a><span class="lineno"> 2161</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/d95/structast__bt.html">ast_bt</a> *bt;</div><div class="line"><a name="l02162"></a><span class="lineno"> 2162</span>&#160;   <span class="keywordtype">int</span> i = 0;</div><div class="line"><a name="l02163"></a><span class="lineno"> 2163</span>&#160;   <span class="keyword">struct </span>ast_vector_string *strings;</div><div class="line"><a name="l02164"></a><span class="lineno"> 2164</span>&#160;</div><div class="line"><a name="l02165"></a><span class="lineno"> 2165</span>&#160;   <span class="keywordflow">if</span> (!(bt = <a class="code" href="../../d3/dda/backtrace_8h.html#a7875fde5e973e2d35d92e9b26c45f1fc">ast_bt_create</a>())) {</div><div class="line"><a name="l02166"></a><span class="lineno"> 2166</span>&#160;      <a class="code" href="../../d1/d22/logger_8c.html#a93dd824dff97fe84941d6d71b7a3710e">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Unable to allocate space for backtrace structure\n&quot;</span>);</div><div class="line"><a name="l02167"></a><span class="lineno"> 2167</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l02168"></a><span class="lineno"> 2168</span>&#160;   }</div><div class="line"><a name="l02169"></a><span class="lineno"> 2169</span>&#160;</div><div class="line"><a name="l02170"></a><span class="lineno"> 2170</span>&#160;   <span class="keywordflow">if</span> ((strings = <a class="code" href="../../d3/dda/backtrace_8h.html#a77676041335c8b6a3fbd8e7cc529758f">ast_bt_get_symbols</a>(bt-&gt;<a class="code" href="../../dd/d95/structast__bt.html#a835321f22768399e3c83fe7164bb10e6">addresses</a>, bt-&gt;<a class="code" href="../../dd/d95/structast__bt.html#afdca39254a61566906ddd49d59155be2">num_frames</a>))) {</div><div class="line"><a name="l02171"></a><span class="lineno"> 2171</span>&#160;      <span class="keywordtype">int</span> count = <a class="code" href="../../d6/d68/vector_8h.html#a20b08af81cc9452fb721c9a698f81bdf">AST_VECTOR_SIZE</a>(strings);</div><div class="line"><a name="l02172"></a><span class="lineno"> 2172</span>&#160;      <span class="keyword">struct </span><a class="code" href="../../dd/da2/structast__str.html">ast_str</a> *<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a> = <a class="code" href="../../d6/d90/strings_8h.html#a9c34c6c6b8daaba24c0406270f3cf697">ast_str_create</a>(bt-&gt;<a class="code" href="../../dd/d95/structast__bt.html#afdca39254a61566906ddd49d59155be2">num_frames</a> * 64);</div><div class="line"><a name="l02173"></a><span class="lineno"> 2173</span>&#160;</div><div class="line"><a name="l02174"></a><span class="lineno"> 2174</span>&#160;      <span class="keywordflow">if</span> (buf) {</div><div class="line"><a name="l02175"></a><span class="lineno"> 2175</span>&#160;         <a class="code" href="../../d6/d90/strings_8h.html#a1088afdd862a49b0fce34ebe02df8ca1">ast_str_append</a>(&amp;buf, 0, <span class="stringliteral">&quot;Got %d backtrace record%c\n&quot;</span>, count - 3, count - 3 != 1 ? <span class="charliteral">&#39;s&#39;</span> : <span class="charliteral">&#39; &#39;</span>);</div><div class="line"><a name="l02176"></a><span class="lineno"> 2176</span>&#160;         <span class="keywordflow">for</span> (i = 3; i &lt; <a class="code" href="../../d6/d68/vector_8h.html#a20b08af81cc9452fb721c9a698f81bdf">AST_VECTOR_SIZE</a>(strings); i++) {</div><div class="line"><a name="l02177"></a><span class="lineno"> 2177</span>&#160;            <a class="code" href="../../d6/d90/strings_8h.html#a1088afdd862a49b0fce34ebe02df8ca1">ast_str_append</a>(&amp;buf, 0, <span class="stringliteral">&quot;#%2d: %s\n&quot;</span>, i - 3, <a class="code" href="../../d6/d68/vector_8h.html#aef32ac52c3e8a530d16eb92cde22cacd">AST_VECTOR_GET</a>(strings, i));</div><div class="line"><a name="l02178"></a><span class="lineno"> 2178</span>&#160;         }</div><div class="line"><a name="l02179"></a><span class="lineno"> 2179</span>&#160;         <a class="code" href="../../d1/d22/logger_8c.html#a3edfd90f9a0116460cf2178db5abb4e9">ast_log_safe</a>(<a class="code" href="../../d1/d8c/logger_8h.html#a0fcdc410e3e9fbb251fd0c4f8581d96c">__LOG_ERROR</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="stringliteral">&quot;%s\n&quot;</span>, <a class="code" href="../../d6/d90/strings_8h.html#a1ef7e2644ca7258070db316fdc0a465b">ast_str_buffer</a>(buf));</div><div class="line"><a name="l02180"></a><span class="lineno"> 2180</span>&#160;         <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(buf);</div><div class="line"><a name="l02181"></a><span class="lineno"> 2181</span>&#160;      }</div><div class="line"><a name="l02182"></a><span class="lineno"> 2182</span>&#160;</div><div class="line"><a name="l02183"></a><span class="lineno"> 2183</span>&#160;      <a class="code" href="../../d3/dda/backtrace_8h.html#a470244285a09e7d660027b0457a8481f">ast_bt_free_symbols</a>(strings);</div><div class="line"><a name="l02184"></a><span class="lineno"> 2184</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02185"></a><span class="lineno"> 2185</span>&#160;      <a class="code" href="../../d1/d22/logger_8c.html#a93dd824dff97fe84941d6d71b7a3710e">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Could not allocate memory for backtrace\n&quot;</span>);</div><div class="line"><a name="l02186"></a><span class="lineno"> 2186</span>&#160;   }</div><div class="line"><a name="l02187"></a><span class="lineno"> 2187</span>&#160;   <a class="code" href="../../d3/dda/backtrace_8h.html#ad022989c6fd725a97277e0c9f24ec1e3">ast_bt_destroy</a>(bt);</div><div class="line"><a name="l02188"></a><span class="lineno"> 2188</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l02189"></a><span class="lineno"> 2189</span>&#160;   <a class="code" href="../../d1/d22/logger_8c.html#a93dd824dff97fe84941d6d71b7a3710e">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Must run configure with &#39;--with-execinfo&#39; for stack backtraces.\n&quot;</span>);</div><div class="line"><a name="l02190"></a><span class="lineno"> 2190</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* defined(HAVE_BKTR) */</span><span class="preprocessor"></span></div><div class="line"><a name="l02191"></a><span class="lineno"> 2191</span>&#160;}</div><div class="ttc" id="backtrace_8h_html_a470244285a09e7d660027b0457a8481f"><div class="ttname"><a href="../../d3/dda/backtrace_8h.html#a470244285a09e7d660027b0457a8481f">ast_bt_free_symbols</a></div><div class="ttdeci">#define ast_bt_free_symbols(string_vector)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dda/backtrace_8h_source.html#l00042">backtrace.h:42</a></div></div>
<div class="ttc" id="eagi__proxy_8c_html_ac95651d79c608a3148973b5b1fc9e525"><div class="ttname"><a href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a></div><div class="ttdeci">char buf[BUFSIZE]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">eagi_proxy.c:66</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="strings_8h_html_a1ef7e2644ca7258070db316fdc0a465b"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a1ef7e2644ca7258070db316fdc0a465b">ast_str_buffer</a></div><div class="ttdeci">char * ast_str_buffer(const struct ast_str *buf)</div><div class="ttdoc">Returns the string buffer within the ast_str buf. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00714">strings.h:714</a></div></div>
<div class="ttc" id="backtrace_8h_html_a77676041335c8b6a3fbd8e7cc529758f"><div class="ttname"><a href="../../d3/dda/backtrace_8h.html#a77676041335c8b6a3fbd8e7cc529758f">ast_bt_get_symbols</a></div><div class="ttdeci">#define ast_bt_get_symbols(addresses, num_frames)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dda/backtrace_8h_source.html#l00041">backtrace.h:41</a></div></div>
<div class="ttc" id="strings_8h_html_a1088afdd862a49b0fce34ebe02df8ca1"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a1088afdd862a49b0fce34ebe02df8ca1">ast_str_append</a></div><div class="ttdeci">int ast_str_append(struct ast_str **buf, ssize_t max_len, const char *fmt,...)</div><div class="ttdoc">Append to a thread local dynamic string. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l01091">strings.h:1091</a></div></div>
<div class="ttc" id="backtrace_8h_html_ad022989c6fd725a97277e0c9f24ec1e3"><div class="ttname"><a href="../../d3/dda/backtrace_8h.html#ad022989c6fd725a97277e0c9f24ec1e3">ast_bt_destroy</a></div><div class="ttdeci">#define ast_bt_destroy(bt)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dda/backtrace_8h_source.html#l00040">backtrace.h:40</a></div></div>
<div class="ttc" id="logger_8h_html_a0fcdc410e3e9fbb251fd0c4f8581d96c"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a0fcdc410e3e9fbb251fd0c4f8581d96c">__LOG_ERROR</a></div><div class="ttdeci">#define __LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00284">logger.h:284</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="logger_8c_html_a3edfd90f9a0116460cf2178db5abb4e9"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a3edfd90f9a0116460cf2178db5abb4e9">ast_log_safe</a></div><div class="ttdeci">void ast_log_safe(int level, const char *file, int line, const char *function, const char *fmt,...)</div><div class="ttdoc">Used for sending a log message with protection against recursion. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l02123">logger.c:2123</a></div></div>
<div class="ttc" id="structast__bt_html"><div class="ttname"><a href="../../dd/d95/structast__bt.html">ast_bt</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dda/backtrace_8h_source.html#l00050">backtrace.h:50</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="structast__str_html"><div class="ttname"><a href="../../dd/da2/structast__str.html">ast_str</a></div><div class="ttdoc">The descriptor of a dynamic string XXX storage will be optimized later if needed We use the ts field ...</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00584">strings.h:584</a></div></div>
<div class="ttc" id="backtrace_8h_html_a7875fde5e973e2d35d92e9b26c45f1fc"><div class="ttname"><a href="../../d3/dda/backtrace_8h.html#a7875fde5e973e2d35d92e9b26c45f1fc">ast_bt_create</a></div><div class="ttdeci">#define ast_bt_create()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dda/backtrace_8h_source.html#l00039">backtrace.h:39</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="structast__bt_html_a835321f22768399e3c83fe7164bb10e6"><div class="ttname"><a href="../../dd/d95/structast__bt.html#a835321f22768399e3c83fe7164bb10e6">ast_bt::addresses</a></div><div class="ttdeci">void * addresses[AST_MAX_BT_FRAMES]</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dda/backtrace_8h_source.html#l00052">backtrace.h:52</a></div></div>
<div class="ttc" id="logger_8c_html_a93dd824dff97fe84941d6d71b7a3710e"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a93dd824dff97fe84941d6d71b7a3710e">ast_log</a></div><div class="ttdeci">void ast_log(int level, const char *file, int line, const char *function, const char *fmt,...)</div><div class="ttdoc">Used for sending a log message This is the standard logger function. Probably the only way you will i...</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l02101">logger.c:2101</a></div></div>
<div class="ttc" id="vector_8h_html_aef32ac52c3e8a530d16eb92cde22cacd"><div class="ttname"><a href="../../d6/d68/vector_8h.html#aef32ac52c3e8a530d16eb92cde22cacd">AST_VECTOR_GET</a></div><div class="ttdeci">#define AST_VECTOR_GET(vec, idx)</div><div class="ttdoc">Get an element from a vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00682">vector.h:682</a></div></div>
<div class="ttc" id="structast__bt_html_afdca39254a61566906ddd49d59155be2"><div class="ttname"><a href="../../dd/d95/structast__bt.html#afdca39254a61566906ddd49d59155be2">ast_bt::num_frames</a></div><div class="ttdeci">int num_frames</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dda/backtrace_8h_source.html#l00054">backtrace.h:54</a></div></div>
<div class="ttc" id="vector_8h_html_a20b08af81cc9452fb721c9a698f81bdf"><div class="ttname"><a href="../../d6/d68/vector_8h.html#a20b08af81cc9452fb721c9a698f81bdf">AST_VECTOR_SIZE</a></div><div class="ttdeci">#define AST_VECTOR_SIZE(vec)</div><div class="ttdoc">Get the number of elements in a vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00611">vector.h:611</a></div></div>
<div class="ttc" id="strings_8h_html_a9c34c6c6b8daaba24c0406270f3cf697"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a9c34c6c6b8daaba24c0406270f3cf697">ast_str_create</a></div><div class="ttdeci">#define ast_str_create(init_len)</div><div class="ttdoc">Create a malloc&amp;#39;ed dynamic length string. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00620">strings.h:620</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="acc9016dd0252e330dccb25552afd3b43"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acc9016dd0252e330dccb25552afd3b43">&#9670;&nbsp;</a></span>ast_log_callid()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_log_callid </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>line</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>function</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d1/d8c/logger_8h.html#a6db44a7e26f0bc42801fc7225817c6a1">ast_callid</a>&#160;</td>
          <td class="paramname"><em>callid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>fmt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Used for sending a log message with a known call_id This is a modified logger function which is functionally identical to the above logger function, it just include a call_id argument as well. If NULL is specified here, no attempt will be made to join the log message with a call_id. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">level</td><td>Type of log event </td></tr>
    <tr><td class="paramname">file</td><td>Will be provided by the AST_LOG_* macro </td></tr>
    <tr><td class="paramname">line</td><td>Will be provided by the AST_LOG_* macro </td></tr>
    <tr><td class="paramname">function</td><td>Will be provided by the AST_LOG_* macro </td></tr>
    <tr><td class="paramname">callid</td><td>This is the ast_callid that is associated with the log message. May be NULL. </td></tr>
    <tr><td class="paramname">fmt</td><td>This is what is important. The format is the same as your favorite breed of printf. You know how that works, right? :-) </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d1/d22/logger_8c_source.html#l02149">2149</a> of file <a class="el" href="../../d1/d22/logger_8c_source.html">logger.c</a>.</p>

<p class="reference">References <a class="el" href="../../d1/d22/logger_8c_source.html#l02053">ast_log_full()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d28/channel_8c_source.html#l02192">ast_channel_destructor()</a>, and <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l13729">dahdi_cc_callback()</a>.</p>
<div class="fragment"><div class="line"><a name="l02150"></a><span class="lineno"> 2150</span>&#160;{</div><div class="line"><a name="l02151"></a><span class="lineno"> 2151</span>&#160;   va_list ap;</div><div class="line"><a name="l02152"></a><span class="lineno"> 2152</span>&#160;   va_start(ap, fmt);</div><div class="line"><a name="l02153"></a><span class="lineno"> 2153</span>&#160;   <a class="code" href="../../d1/d22/logger_8c.html#a372050a0b201dd3176e390b03336de1e">ast_log_full</a>(level, -1, <a class="code" href="../../d2/dc8/namespacemake__ari__stubs.html#a40a5d58ffa6e88aa578d6683ac413105">file</a>, line, <span class="keyword">function</span>, callid, fmt, ap);</div><div class="line"><a name="l02154"></a><span class="lineno"> 2154</span>&#160;   va_end(ap);</div><div class="line"><a name="l02155"></a><span class="lineno"> 2155</span>&#160;}</div><div class="ttc" id="namespacemake__ari__stubs_html_a40a5d58ffa6e88aa578d6683ac413105"><div class="ttname"><a href="../../d2/dc8/namespacemake__ari__stubs.html#a40a5d58ffa6e88aa578d6683ac413105">make_ari_stubs.file</a></div><div class="ttdeci">file</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d28/make__ari__stubs_8py_source.html#l00025">make_ari_stubs.py:25</a></div></div>
<div class="ttc" id="logger_8c_html_a372050a0b201dd3176e390b03336de1e"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a372050a0b201dd3176e390b03336de1e">ast_log_full</a></div><div class="ttdeci">static void ast_log_full(int level, int sublevel, const char *file, int line, const char *function, ast_callid callid, const char *fmt, va_list ap)</div><div class="ttdoc">send log messages to syslog and/or the console </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l02053">logger.c:2053</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a372050a0b201dd3176e390b03336de1e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a372050a0b201dd3176e390b03336de1e">&#9670;&nbsp;</a></span>ast_log_full()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void ast_log_full </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sublevel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>line</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>function</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d1/d8c/logger_8h.html#a6db44a7e26f0bc42801fc7225817c6a1">ast_callid</a>&#160;</td>
          <td class="paramname"><em>callid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>fmt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">va_list&#160;</td>
          <td class="paramname"><em>ap</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>send log messages to syslog and/or the console </p>

<p class="definition">Definition at line <a class="el" href="../../d1/d22/logger_8c_source.html#l02053">2053</a> of file <a class="el" href="../../d1/d22/logger_8c_source.html">logger.c</a>.</p>

<p class="reference">References <a class="el" href="../../d1/d8c/logger_8h_source.html#l00295">__LOG_VERBOSE</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00273">__LOG_WARNING</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00201">ast_cond_signal</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00730">AST_LIST_INSERT_TAIL</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00039">AST_LIST_LOCK</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00139">AST_LIST_UNLOCK</a>, <a class="el" href="../../d7/d5b/options_8h_source.html#l00113">ast_opt_exec</a>, <a class="el" href="../../d7/d5b/options_8h_source.html#l00112">ast_opt_remote</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00066">AST_PTHREADT_NULL</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l01746">format_log_message()</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l01682">format_log_message_ap()</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00096">high_water_alert</a>, <a class="el" href="../../dc/dff/structlogmsg.html#a4cc84080b1cd46fd2e80be439884a1ba">logmsg::list</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00095">logger_messages_discarded</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l01580">logger_print_normal()</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00094">logger_queue_limit</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00091">logger_queue_size</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00182">logmsg_free()</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/d22/logger_8c_source.html#l02405">__ast_trace()</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l02193">__ast_verbose_ap()</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l02110">ast_log_ap()</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l02149">ast_log_callid()</a>, and <a class="el" href="../../d1/d22/logger_8c_source.html#l02123">ast_log_safe()</a>.</p>
<div class="fragment"><div class="line"><a name="l02056"></a><span class="lineno"> 2056</span>&#160;{</div><div class="line"><a name="l02057"></a><span class="lineno"> 2057</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/dff/structlogmsg.html">logmsg</a> *<a class="code" href="../../dc/dff/structlogmsg.html">logmsg</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l02058"></a><span class="lineno"> 2058</span>&#160;</div><div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../dc/dff/structlogmsg.html#acf4d33ee4cff36f69b924471174dcb11">level</a> == <a class="code" href="../../d1/d8c/logger_8h.html#aa11fae1314f286da3d57ae8c07ec4bca">__LOG_VERBOSE</a> &amp;&amp; <a class="code" href="../../d7/d5b/options_8h.html#a17d4d9ef04ffa9034f6c6b6c1fd2bb0b">ast_opt_remote</a> &amp;&amp; <a class="code" href="../../d7/d5b/options_8h.html#a301d032d1d86ba46348691f6d135e98a">ast_opt_exec</a>) {</div><div class="line"><a name="l02060"></a><span class="lineno"> 2060</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160;   }</div><div class="line"><a name="l02062"></a><span class="lineno"> 2062</span>&#160;</div><div class="line"><a name="l02063"></a><span class="lineno"> 2063</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a>(&amp;<a class="code" href="../../d2/dc4/structlogmsgs.html">logmsgs</a>);</div><div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d1/d22/logger_8c.html#a745a9328dff87c8a1a297f71cebd4ba6">logger_queue_size</a> &gt;= <a class="code" href="../../d1/d22/logger_8c.html#a70f8266b28e1b6adb224cb4dfd529d25">logger_queue_limit</a> &amp;&amp; !<a class="code" href="../../d1/d22/logger_8c.html#a38ac6d8ec7483171f8a13fed360b6ced">close_logger_thread</a>) {</div><div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160;      <a class="code" href="../../d1/d22/logger_8c.html#aed658d1269709b76f44f0486bcac12e3">logger_messages_discarded</a>++;</div><div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="../../d1/d22/logger_8c.html#a80e170193fe4d362e68c72e8deff70b4">high_water_alert</a> &amp;&amp; !<a class="code" href="../../d1/d22/logger_8c.html#a38ac6d8ec7483171f8a13fed360b6ced">close_logger_thread</a>) {</div><div class="line"><a name="l02067"></a><span class="lineno"> 2067</span>&#160;         logmsg = <a class="code" href="../../d1/d22/logger_8c.html#a335a8d7cbefb2893f78fb7af2a80ab97">format_log_message</a>(<a class="code" href="../../d1/d8c/logger_8h.html#abdaf681117cfed901932cc0d38f1447a">__LOG_WARNING</a>, 0, <span class="stringliteral">&quot;logger&quot;</span>, 0, <span class="stringliteral">&quot;***&quot;</span>, 0,</div><div class="line"><a name="l02068"></a><span class="lineno"> 2068</span>&#160;            <span class="stringliteral">&quot;Log queue threshold (%d) exceeded.  Discarding new messages.\n&quot;</span>, <a class="code" href="../../d1/d22/logger_8c.html#a70f8266b28e1b6adb224cb4dfd529d25">logger_queue_limit</a>);</div><div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160;         <a class="code" href="../../df/d90/linkedlists_8h.html#a4d258b4525e63c435d7de579d3f46960">AST_LIST_INSERT_TAIL</a>(&amp;<a class="code" href="../../d2/dc4/structlogmsgs.html">logmsgs</a>, logmsg, <a class="code" href="../../dc/dff/structlogmsg.html#a4cc84080b1cd46fd2e80be439884a1ba">list</a>);</div><div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160;         <a class="code" href="../../d1/d22/logger_8c.html#a80e170193fe4d362e68c72e8deff70b4">high_water_alert</a> = 1;</div><div class="line"><a name="l02071"></a><span class="lineno"> 2071</span>&#160;         <a class="code" href="../../dd/d42/lock_8h.html#ae2cdf274a5da241c3ad7324d82bf6af0">ast_cond_signal</a>(&amp;<a class="code" href="../../d1/d22/logger_8c.html#abb118951a9d7c498a6e28454e7eb0bd5">logcond</a>);</div><div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160;      }</div><div class="line"><a name="l02073"></a><span class="lineno"> 2073</span>&#160;      <a class="code" href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a>(&amp;<a class="code" href="../../d2/dc4/structlogmsgs.html">logmsgs</a>);</div><div class="line"><a name="l02074"></a><span class="lineno"> 2074</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l02075"></a><span class="lineno"> 2075</span>&#160;   }</div><div class="line"><a name="l02076"></a><span class="lineno"> 2076</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a>(&amp;<a class="code" href="../../d2/dc4/structlogmsgs.html">logmsgs</a>);</div><div class="line"><a name="l02077"></a><span class="lineno"> 2077</span>&#160;</div><div class="line"><a name="l02078"></a><span class="lineno"> 2078</span>&#160;   logmsg = <a class="code" href="../../d1/d22/logger_8c.html#ab6bcc963cf3993d36e608ad02c23bea5">format_log_message_ap</a>(<a class="code" href="../../dc/dff/structlogmsg.html#acf4d33ee4cff36f69b924471174dcb11">level</a>, <a class="code" href="../../dc/dff/structlogmsg.html#a635ef80281f5c34cbf8f5238cfe3c0c7">sublevel</a>, <a class="code" href="../../d2/dc8/namespacemake__ari__stubs.html#a40a5d58ffa6e88aa578d6683ac413105">file</a>, <a class="code" href="../../dc/dff/structlogmsg.html#a41ebd28ef1d7c6ade45642cb6acc1039">line</a>, <span class="keyword">function</span>, <a class="code" href="../../dc/dff/structlogmsg.html#a62f8995a6eac6c8a48205a6f3815d54b">callid</a>, fmt, ap);</div><div class="line"><a name="l02079"></a><span class="lineno"> 2079</span>&#160;   <span class="keywordflow">if</span> (!logmsg) {</div><div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l02081"></a><span class="lineno"> 2081</span>&#160;   }</div><div class="line"><a name="l02082"></a><span class="lineno"> 2082</span>&#160;</div><div class="line"><a name="l02083"></a><span class="lineno"> 2083</span>&#160;   <span class="comment">/* If the logger thread is active, append it to the tail end of the list - otherwise skip that step */</span></div><div class="line"><a name="l02084"></a><span class="lineno"> 2084</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d1/d22/logger_8c.html#a6685bab4f7be49a081c4d2efe4b77a23">logthread</a> != <a class="code" href="../../dd/d42/lock_8h.html#a6009440c7a72f8e2e3b1ec97641ad160">AST_PTHREADT_NULL</a>) {</div><div class="line"><a name="l02085"></a><span class="lineno"> 2085</span>&#160;      <a class="code" href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a>(&amp;<a class="code" href="../../d2/dc4/structlogmsgs.html">logmsgs</a>);</div><div class="line"><a name="l02086"></a><span class="lineno"> 2086</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d1/d22/logger_8c.html#a38ac6d8ec7483171f8a13fed360b6ced">close_logger_thread</a>) {</div><div class="line"><a name="l02087"></a><span class="lineno"> 2087</span>&#160;         <span class="comment">/* Logger is either closing or closed.  We cannot log this message. */</span></div><div class="line"><a name="l02088"></a><span class="lineno"> 2088</span>&#160;         <a class="code" href="../../d1/d22/logger_8c.html#afc616cecf77dbae42bf28c09a8398ddc">logmsg_free</a>(logmsg);</div><div class="line"><a name="l02089"></a><span class="lineno"> 2089</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160;         <a class="code" href="../../df/d90/linkedlists_8h.html#a4d258b4525e63c435d7de579d3f46960">AST_LIST_INSERT_TAIL</a>(&amp;<a class="code" href="../../d2/dc4/structlogmsgs.html">logmsgs</a>, logmsg, <a class="code" href="../../dc/dff/structlogmsg.html#a4cc84080b1cd46fd2e80be439884a1ba">list</a>);</div><div class="line"><a name="l02091"></a><span class="lineno"> 2091</span>&#160;         <a class="code" href="../../d1/d22/logger_8c.html#a745a9328dff87c8a1a297f71cebd4ba6">logger_queue_size</a>++;</div><div class="line"><a name="l02092"></a><span class="lineno"> 2092</span>&#160;         <a class="code" href="../../dd/d42/lock_8h.html#ae2cdf274a5da241c3ad7324d82bf6af0">ast_cond_signal</a>(&amp;<a class="code" href="../../d1/d22/logger_8c.html#abb118951a9d7c498a6e28454e7eb0bd5">logcond</a>);</div><div class="line"><a name="l02093"></a><span class="lineno"> 2093</span>&#160;      }</div><div class="line"><a name="l02094"></a><span class="lineno"> 2094</span>&#160;      <a class="code" href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a>(&amp;<a class="code" href="../../d2/dc4/structlogmsgs.html">logmsgs</a>);</div><div class="line"><a name="l02095"></a><span class="lineno"> 2095</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02096"></a><span class="lineno"> 2096</span>&#160;      <a class="code" href="../../d1/d22/logger_8c.html#ac2c5290c43f91e7f6bdac350c32d29ae">logger_print_normal</a>(logmsg);</div><div class="line"><a name="l02097"></a><span class="lineno"> 2097</span>&#160;      <a class="code" href="../../d1/d22/logger_8c.html#afc616cecf77dbae42bf28c09a8398ddc">logmsg_free</a>(logmsg);</div><div class="line"><a name="l02098"></a><span class="lineno"> 2098</span>&#160;   }</div><div class="line"><a name="l02099"></a><span class="lineno"> 2099</span>&#160;}</div><div class="ttc" id="logger_8c_html_ac2c5290c43f91e7f6bdac350c32d29ae"><div class="ttname"><a href="../../d1/d22/logger_8c.html#ac2c5290c43f91e7f6bdac350c32d29ae">logger_print_normal</a></div><div class="ttdeci">static void logger_print_normal(struct logmsg *logmsg)</div><div class="ttdoc">Print a normal log message to the channels. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l01580">logger.c:1580</a></div></div>
<div class="ttc" id="structlogmsg_html_a41ebd28ef1d7c6ade45642cb6acc1039"><div class="ttname"><a href="../../dc/dff/structlogmsg.html#a41ebd28ef1d7c6ade45642cb6acc1039">logmsg::line</a></div><div class="ttdeci">int line</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00169">logger.c:169</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a9140a4e4d781264fa9469c52b1adae40"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a></div><div class="ttdeci">#define AST_LIST_LOCK(head)</div><div class="ttdoc">Locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00039">linkedlists.h:39</a></div></div>
<div class="ttc" id="logger_8c_html_a6685bab4f7be49a081c4d2efe4b77a23"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a6685bab4f7be49a081c4d2efe4b77a23">logthread</a></div><div class="ttdeci">static pthread_t logthread</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00189">logger.c:189</a></div></div>
<div class="ttc" id="logger_8c_html_afc616cecf77dbae42bf28c09a8398ddc"><div class="ttname"><a href="../../d1/d22/logger_8c.html#afc616cecf77dbae42bf28c09a8398ddc">logmsg_free</a></div><div class="ttdeci">static void logmsg_free(struct logmsg *msg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00182">logger.c:182</a></div></div>
<div class="ttc" id="namespacemake__ari__stubs_html_a40a5d58ffa6e88aa578d6683ac413105"><div class="ttname"><a href="../../d2/dc8/namespacemake__ari__stubs.html#a40a5d58ffa6e88aa578d6683ac413105">make_ari_stubs.file</a></div><div class="ttdeci">file</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d28/make__ari__stubs_8py_source.html#l00025">make_ari_stubs.py:25</a></div></div>
<div class="ttc" id="structlogmsg_html_a62f8995a6eac6c8a48205a6f3815d54b"><div class="ttname"><a href="../../dc/dff/structlogmsg.html#a62f8995a6eac6c8a48205a6f3815d54b">logmsg::callid</a></div><div class="ttdeci">ast_callid callid</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00171">logger.c:171</a></div></div>
<div class="ttc" id="linkedlists_8h_html_ab48cb9e1e612dd486b747ba1c5d68d01"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a></div><div class="ttdeci">#define AST_LIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00139">linkedlists.h:139</a></div></div>
<div class="ttc" id="logger_8h_html_abdaf681117cfed901932cc0d38f1447a"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#abdaf681117cfed901932cc0d38f1447a">__LOG_WARNING</a></div><div class="ttdeci">#define __LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00273">logger.h:273</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structlogmsg_html_a4cc84080b1cd46fd2e80be439884a1ba"><div class="ttname"><a href="../../dc/dff/structlogmsg.html#a4cc84080b1cd46fd2e80be439884a1ba">logmsg::list</a></div><div class="ttdeci">struct logmsg::@405 list</div></div>
<div class="ttc" id="lock_8h_html_ae2cdf274a5da241c3ad7324d82bf6af0"><div class="ttname"><a href="../../dd/d42/lock_8h.html#ae2cdf274a5da241c3ad7324d82bf6af0">ast_cond_signal</a></div><div class="ttdeci">#define ast_cond_signal(cond)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00201">lock.h:201</a></div></div>
<div class="ttc" id="logger_8c_html_a335a8d7cbefb2893f78fb7af2a80ab97"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a335a8d7cbefb2893f78fb7af2a80ab97">format_log_message</a></div><div class="ttdeci">static struct logmsg * format_log_message(int level, int sublevel, const char *file, int line, const char *function, ast_callid callid, const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l01746">logger.c:1746</a></div></div>
<div class="ttc" id="structlogmsg_html"><div class="ttname"><a href="../../dc/dff/structlogmsg.html">logmsg</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00165">logger.c:165</a></div></div>
<div class="ttc" id="logger_8c_html_a80e170193fe4d362e68c72e8deff70b4"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a80e170193fe4d362e68c72e8deff70b4">high_water_alert</a></div><div class="ttdeci">static unsigned int high_water_alert</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00096">logger.c:96</a></div></div>
<div class="ttc" id="lock_8h_html_a6009440c7a72f8e2e3b1ec97641ad160"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a6009440c7a72f8e2e3b1ec97641ad160">AST_PTHREADT_NULL</a></div><div class="ttdeci">#define AST_PTHREADT_NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00066">lock.h:66</a></div></div>
<div class="ttc" id="structlogmsg_html_acf4d33ee4cff36f69b924471174dcb11"><div class="ttname"><a href="../../dc/dff/structlogmsg.html#acf4d33ee4cff36f69b924471174dcb11">logmsg::level</a></div><div class="ttdeci">int level</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00167">logger.c:167</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a4d258b4525e63c435d7de579d3f46960"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a4d258b4525e63c435d7de579d3f46960">AST_LIST_INSERT_TAIL</a></div><div class="ttdeci">#define AST_LIST_INSERT_TAIL(head, elm, field)</div><div class="ttdoc">Appends a list entry to the tail of a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00730">linkedlists.h:730</a></div></div>
<div class="ttc" id="options_8h_html_a17d4d9ef04ffa9034f6c6b6c1fd2bb0b"><div class="ttname"><a href="../../d7/d5b/options_8h.html#a17d4d9ef04ffa9034f6c6b6c1fd2bb0b">ast_opt_remote</a></div><div class="ttdeci">#define ast_opt_remote</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5b/options_8h_source.html#l00112">options.h:112</a></div></div>
<div class="ttc" id="logger_8c_html_ab6bcc963cf3993d36e608ad02c23bea5"><div class="ttname"><a href="../../d1/d22/logger_8c.html#ab6bcc963cf3993d36e608ad02c23bea5">format_log_message_ap</a></div><div class="ttdeci">static struct logmsg * format_log_message_ap(int level, int sublevel, const char *file, int line, const char *function, ast_callid callid, const char *fmt, va_list ap)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l01682">logger.c:1682</a></div></div>
<div class="ttc" id="options_8h_html_a301d032d1d86ba46348691f6d135e98a"><div class="ttname"><a href="../../d7/d5b/options_8h.html#a301d032d1d86ba46348691f6d135e98a">ast_opt_exec</a></div><div class="ttdeci">#define ast_opt_exec</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5b/options_8h_source.html#l00113">options.h:113</a></div></div>
<div class="ttc" id="logger_8h_html_aa11fae1314f286da3d57ae8c07ec4bca"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aa11fae1314f286da3d57ae8c07ec4bca">__LOG_VERBOSE</a></div><div class="ttdeci">#define __LOG_VERBOSE</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00295">logger.h:295</a></div></div>
<div class="ttc" id="structlogmsgs_html"><div class="ttname"><a href="../../d2/dc4/structlogmsgs.html">logmsgs</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00188">logger.c:188</a></div></div>
<div class="ttc" id="logger_8c_html_a745a9328dff87c8a1a297f71cebd4ba6"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a745a9328dff87c8a1a297f71cebd4ba6">logger_queue_size</a></div><div class="ttdeci">static int logger_queue_size</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00091">logger.c:91</a></div></div>
<div class="ttc" id="logger_8c_html_a38ac6d8ec7483171f8a13fed360b6ced"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a38ac6d8ec7483171f8a13fed360b6ced">close_logger_thread</a></div><div class="ttdeci">static int close_logger_thread</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00191">logger.c:191</a></div></div>
<div class="ttc" id="logger_8c_html_a70f8266b28e1b6adb224cb4dfd529d25"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a70f8266b28e1b6adb224cb4dfd529d25">logger_queue_limit</a></div><div class="ttdeci">static int logger_queue_limit</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00094">logger.c:94</a></div></div>
<div class="ttc" id="logger_8c_html_aed658d1269709b76f44f0486bcac12e3"><div class="ttname"><a href="../../d1/d22/logger_8c.html#aed658d1269709b76f44f0486bcac12e3">logger_messages_discarded</a></div><div class="ttdeci">static int logger_messages_discarded</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00095">logger.c:95</a></div></div>
<div class="ttc" id="logger_8c_html_abb118951a9d7c498a6e28454e7eb0bd5"><div class="ttname"><a href="../../d1/d22/logger_8c.html#abb118951a9d7c498a6e28454e7eb0bd5">logcond</a></div><div class="ttdeci">static ast_cond_t logcond</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00190">logger.c:190</a></div></div>
<div class="ttc" id="structlogmsg_html_a635ef80281f5c34cbf8f5238cfe3c0c7"><div class="ttname"><a href="../../dc/dff/structlogmsg.html#a635ef80281f5c34cbf8f5238cfe3c0c7">logmsg::sublevel</a></div><div class="ttdeci">int sublevel</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00168">logger.c:168</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3edfd90f9a0116460cf2178db5abb4e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3edfd90f9a0116460cf2178db5abb4e9">&#9670;&nbsp;</a></span>ast_log_safe()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_log_safe </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>line</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>function</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>fmt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Used for sending a log message with protection against recursion. </p>
<dl class="section note"><dt>Note</dt><dd>This function should be used by all error messages that might be directly or indirectly caused by logging.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../d1/d8c/logger_8h.html#acb8ee436a0c80c66dfcdec6b6bcc6196" title="Used for sending a log message This is the standard logger function. Probably the only way you will i...">ast_log</a> for documentation on the parameters. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d1/d22/logger_8c_source.html#l02123">2123</a> of file <a class="el" href="../../d1/d22/logger_8c_source.html">logger.c</a>.</p>

<p class="reference">References <a class="el" href="../../d1/d22/logger_8c_source.html#l02053">ast_log_full()</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l01962">ast_read_threadstorage_callid()</a>, <a class="el" href="../../dc/d7d/threadstorage_8h_source.html#l00241">ast_threadstorage_get_ptr()</a>, <a class="el" href="../../dc/d7d/threadstorage_8h_source.html#l00260">ast_threadstorage_set_ptr()</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00171">logmsg::callid</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/d48/strings_8c_source.html#l00055">__ast_str_helper()</a>, and <a class="el" href="../../d1/d22/logger_8c_source.html#l02158">ast_log_backtrace()</a>.</p>
<div class="fragment"><div class="line"><a name="l02124"></a><span class="lineno"> 2124</span>&#160;{</div><div class="line"><a name="l02125"></a><span class="lineno"> 2125</span>&#160;   va_list ap;</div><div class="line"><a name="l02126"></a><span class="lineno"> 2126</span>&#160;   <span class="keywordtype">void</span> *recursed = <a class="code" href="../../dc/d7d/threadstorage_8h.html#a273e9e038c879199c4192156b9349169">ast_threadstorage_get_ptr</a>(&amp;in_safe_log);</div><div class="line"><a name="l02127"></a><span class="lineno"> 2127</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a6db44a7e26f0bc42801fc7225817c6a1">ast_callid</a> <a class="code" href="../../dc/dff/structlogmsg.html#a62f8995a6eac6c8a48205a6f3815d54b">callid</a>;</div><div class="line"><a name="l02128"></a><span class="lineno"> 2128</span>&#160;</div><div class="line"><a name="l02129"></a><span class="lineno"> 2129</span>&#160;   <span class="keywordflow">if</span> (recursed) {</div><div class="line"><a name="l02130"></a><span class="lineno"> 2130</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l02131"></a><span class="lineno"> 2131</span>&#160;   }</div><div class="line"><a name="l02132"></a><span class="lineno"> 2132</span>&#160;</div><div class="line"><a name="l02133"></a><span class="lineno"> 2133</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../dc/d7d/threadstorage_8h.html#a10886a1187bdffd95a266d04e0739b60">ast_threadstorage_set_ptr</a>(&amp;in_safe_log, (<span class="keywordtype">void</span>*)1)) {</div><div class="line"><a name="l02134"></a><span class="lineno"> 2134</span>&#160;      <span class="comment">/* We&#39;ve failed to set the flag that protects against</span></div><div class="line"><a name="l02135"></a><span class="lineno"> 2135</span>&#160;<span class="comment">       * recursion, so bail. */</span></div><div class="line"><a name="l02136"></a><span class="lineno"> 2136</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l02137"></a><span class="lineno"> 2137</span>&#160;   }</div><div class="line"><a name="l02138"></a><span class="lineno"> 2138</span>&#160;</div><div class="line"><a name="l02139"></a><span class="lineno"> 2139</span>&#160;   callid = <a class="code" href="../../d1/d22/logger_8c.html#a5b3f39ea262ffa795ce4b597968ad00b">ast_read_threadstorage_callid</a>();</div><div class="line"><a name="l02140"></a><span class="lineno"> 2140</span>&#160;</div><div class="line"><a name="l02141"></a><span class="lineno"> 2141</span>&#160;   va_start(ap, fmt);</div><div class="line"><a name="l02142"></a><span class="lineno"> 2142</span>&#160;   <a class="code" href="../../d1/d22/logger_8c.html#a372050a0b201dd3176e390b03336de1e">ast_log_full</a>(<a class="code" href="../../dc/dff/structlogmsg.html#acf4d33ee4cff36f69b924471174dcb11">level</a>, -1, <a class="code" href="../../d2/dc8/namespacemake__ari__stubs.html#a40a5d58ffa6e88aa578d6683ac413105">file</a>, <a class="code" href="../../dc/dff/structlogmsg.html#a41ebd28ef1d7c6ade45642cb6acc1039">line</a>, <span class="keyword">function</span>, callid, fmt, ap);</div><div class="line"><a name="l02143"></a><span class="lineno"> 2143</span>&#160;   va_end(ap);</div><div class="line"><a name="l02144"></a><span class="lineno"> 2144</span>&#160;</div><div class="line"><a name="l02145"></a><span class="lineno"> 2145</span>&#160;   <span class="comment">/* Clear flag so the next allocation failure can be logged. */</span></div><div class="line"><a name="l02146"></a><span class="lineno"> 2146</span>&#160;   <a class="code" href="../../dc/d7d/threadstorage_8h.html#a10886a1187bdffd95a266d04e0739b60">ast_threadstorage_set_ptr</a>(&amp;in_safe_log, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l02147"></a><span class="lineno"> 2147</span>&#160;}</div><div class="ttc" id="structlogmsg_html_a41ebd28ef1d7c6ade45642cb6acc1039"><div class="ttname"><a href="../../dc/dff/structlogmsg.html#a41ebd28ef1d7c6ade45642cb6acc1039">logmsg::line</a></div><div class="ttdeci">int line</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00169">logger.c:169</a></div></div>
<div class="ttc" id="namespacemake__ari__stubs_html_a40a5d58ffa6e88aa578d6683ac413105"><div class="ttname"><a href="../../d2/dc8/namespacemake__ari__stubs.html#a40a5d58ffa6e88aa578d6683ac413105">make_ari_stubs.file</a></div><div class="ttdeci">file</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d28/make__ari__stubs_8py_source.html#l00025">make_ari_stubs.py:25</a></div></div>
<div class="ttc" id="structlogmsg_html_a62f8995a6eac6c8a48205a6f3815d54b"><div class="ttname"><a href="../../dc/dff/structlogmsg.html#a62f8995a6eac6c8a48205a6f3815d54b">logmsg::callid</a></div><div class="ttdeci">ast_callid callid</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00171">logger.c:171</a></div></div>
<div class="ttc" id="logger_8h_html_a6db44a7e26f0bc42801fc7225817c6a1"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a6db44a7e26f0bc42801fc7225817c6a1">ast_callid</a></div><div class="ttdeci">unsigned int ast_callid</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00087">logger.h:87</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="threadstorage_8h_html_a10886a1187bdffd95a266d04e0739b60"><div class="ttname"><a href="../../dc/d7d/threadstorage_8h.html#a10886a1187bdffd95a266d04e0739b60">ast_threadstorage_set_ptr</a></div><div class="ttdeci">int ast_threadstorage_set_ptr(struct ast_threadstorage *ts, void *ptr)</div><div class="ttdoc">Set a raw pointer from threadstorage. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7d/threadstorage_8h_source.html#l00260">threadstorage.h:260</a></div></div>
<div class="ttc" id="structlogmsg_html_acf4d33ee4cff36f69b924471174dcb11"><div class="ttname"><a href="../../dc/dff/structlogmsg.html#acf4d33ee4cff36f69b924471174dcb11">logmsg::level</a></div><div class="ttdeci">int level</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00167">logger.c:167</a></div></div>
<div class="ttc" id="logger_8c_html_a5b3f39ea262ffa795ce4b597968ad00b"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a5b3f39ea262ffa795ce4b597968ad00b">ast_read_threadstorage_callid</a></div><div class="ttdeci">ast_callid ast_read_threadstorage_callid(void)</div><div class="ttdoc">extracts the callerid from the thread </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l01962">logger.c:1962</a></div></div>
<div class="ttc" id="threadstorage_8h_html_a273e9e038c879199c4192156b9349169"><div class="ttname"><a href="../../dc/d7d/threadstorage_8h.html#a273e9e038c879199c4192156b9349169">ast_threadstorage_get_ptr</a></div><div class="ttdeci">void * ast_threadstorage_get_ptr(struct ast_threadstorage *ts)</div><div class="ttdoc">Retrieve a raw pointer from threadstorage. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7d/threadstorage_8h_source.html#l00241">threadstorage.h:241</a></div></div>
<div class="ttc" id="logger_8c_html_a372050a0b201dd3176e390b03336de1e"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a372050a0b201dd3176e390b03336de1e">ast_log_full</a></div><div class="ttdeci">static void ast_log_full(int level, int sublevel, const char *file, int line, const char *function, ast_callid callid, const char *fmt, va_list ap)</div><div class="ttdoc">send log messages to syslog and/or the console </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l02053">logger.c:2053</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2dafb819b3b5e2505cbaf484271307f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2dafb819b3b5e2505cbaf484271307f6">&#9670;&nbsp;</a></span>ast_logger_create_channel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_logger_create_channel </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>log_channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>components</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a log channel. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">log_channel</td><td>Log channel to create </td></tr>
    <tr><td class="paramname">components</td><td>Logging config levels to add to the log channel </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d1/d22/logger_8c_source.html#l01419">1419</a> of file <a class="el" href="../../d1/d22/logger_8c_source.html">logger.c</a>.</p>

<p class="reference">References <a class="el" href="../../d1/d8c/logger_8h_source.html#l00052">AST_LOGGER_ALLOC_ERROR</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00051">AST_LOGGER_DECLINE</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00050">AST_LOGGER_FAILURE</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00049">AST_LOGGER_SUCCESS</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00717">AST_RWLIST_INSERT_HEAD</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00150">AST_RWLIST_UNLOCK</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00051">AST_RWLIST_WRLOCK</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00601">find_logchannel()</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00085">global_logmask</a>, <a class="el" href="../../d6/d0c/structlogchannel.html#a05f465ec52733d0024e53f945e4cabe7">logchannel::list</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00135">logchannel::logmask</a>, and <a class="el" href="../../d1/d22/logger_8c_source.html#l00617">make_logchannel()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/d20/resource__asterisk_8c_source.html#l00705">ast_ari_asterisk_add_log()</a>, <a class="el" href="../../de/d7d/test__logger_8c_source.html#l00191">handle_cli_queue_test()</a>, and <a class="el" href="../../d1/d22/logger_8c_source.html#l01449">handle_logger_add_channel()</a>.</p>
<div class="fragment"><div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;{</div><div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d6/d0c/structlogchannel.html">logchannel</a> *chan;</div><div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;</div><div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(<a class="code" href="../../d6/d0c/structlogchannel.html#af35853f2adf49bf9ad6898a88f553ed9">components</a>)) {</div><div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d1/d8c/logger_8h.html#aa215cccdbc7f8887dc9eceddb1d18d9da78b4e7b013d4f6d306c6ef773ca754c8">AST_LOGGER_DECLINE</a>;</div><div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;   }</div><div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;</div><div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a2d0cf4182bade9f773fb16ff12abe595">AST_RWLIST_WRLOCK</a>(&amp;<a class="code" href="../../d2/df7/structlogchannels.html">logchannels</a>);</div><div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;</div><div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;   chan = <a class="code" href="../../d1/d22/logger_8c.html#af336670f485e9c9a5eb9c21d2f9e62e0">find_logchannel</a>(log_channel);</div><div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;   <span class="keywordflow">if</span> (chan) {</div><div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;      <a class="code" href="../../df/d90/linkedlists_8h.html#a2e9a2518b5029b96671aff6701bd5138">AST_RWLIST_UNLOCK</a>(&amp;<a class="code" href="../../d2/df7/structlogchannels.html">logchannels</a>);</div><div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d1/d8c/logger_8h.html#aa215cccdbc7f8887dc9eceddb1d18d9dae5001908c66f174fcbd3a2a32313226d">AST_LOGGER_FAILURE</a>;</div><div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;   }</div><div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;</div><div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;   chan = <a class="code" href="../../d1/d22/logger_8c.html#ab7a804c1b0b716c6b612a79aded136df">make_logchannel</a>(log_channel, <a class="code" href="../../d6/d0c/structlogchannel.html#af35853f2adf49bf9ad6898a88f553ed9">components</a>, 0, 1);</div><div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;   <span class="keywordflow">if</span> (!chan) {</div><div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;      <a class="code" href="../../df/d90/linkedlists_8h.html#a2e9a2518b5029b96671aff6701bd5138">AST_RWLIST_UNLOCK</a>(&amp;<a class="code" href="../../d2/df7/structlogchannels.html">logchannels</a>);</div><div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d1/d8c/logger_8h.html#aa215cccdbc7f8887dc9eceddb1d18d9daf990ebc5e99fadaa265a1def67407b7d">AST_LOGGER_ALLOC_ERROR</a>;</div><div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;   }</div><div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;</div><div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#aacc5f6b7c25e361d11d40137fd55a8e8">AST_RWLIST_INSERT_HEAD</a>(&amp;<a class="code" href="../../d2/df7/structlogchannels.html">logchannels</a>, chan, <a class="code" href="../../d6/d0c/structlogchannel.html#a05f465ec52733d0024e53f945e4cabe7">list</a>);</div><div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;   <a class="code" href="../../d1/d22/logger_8c.html#a0705cfbd7955309ede3cb7969dac57f1">global_logmask</a> |= chan-&gt;<a class="code" href="../../d6/d0c/structlogchannel.html#aaeeb8d3574465a64ed10e4809ebd4cf6">logmask</a>;</div><div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;</div><div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a2e9a2518b5029b96671aff6701bd5138">AST_RWLIST_UNLOCK</a>(&amp;<a class="code" href="../../d2/df7/structlogchannels.html">logchannels</a>);</div><div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;</div><div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d1/d8c/logger_8h.html#aa215cccdbc7f8887dc9eceddb1d18d9dae534bcd3f9115778d085780ed535abae">AST_LOGGER_SUCCESS</a>;</div><div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;}</div><div class="ttc" id="logger_8c_html_a0705cfbd7955309ede3cb7969dac57f1"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a0705cfbd7955309ede3cb7969dac57f1">global_logmask</a></div><div class="ttdeci">static unsigned int global_logmask</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00085">logger.c:85</a></div></div>
<div class="ttc" id="logger_8h_html_aa215cccdbc7f8887dc9eceddb1d18d9da78b4e7b013d4f6d306c6ef773ca754c8"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aa215cccdbc7f8887dc9eceddb1d18d9da78b4e7b013d4f6d306c6ef773ca754c8">AST_LOGGER_DECLINE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00051">logger.h:51</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a2d0cf4182bade9f773fb16ff12abe595"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a2d0cf4182bade9f773fb16ff12abe595">AST_RWLIST_WRLOCK</a></div><div class="ttdeci">#define AST_RWLIST_WRLOCK(head)</div><div class="ttdoc">Write locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00051">linkedlists.h:51</a></div></div>
<div class="ttc" id="structlogchannel_html_af35853f2adf49bf9ad6898a88f553ed9"><div class="ttname"><a href="../../d6/d0c/structlogchannel.html#af35853f2adf49bf9ad6898a88f553ed9">logchannel::components</a></div><div class="ttdeci">char components[0]</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00155">logger.c:155</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a2e9a2518b5029b96671aff6701bd5138"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a2e9a2518b5029b96671aff6701bd5138">AST_RWLIST_UNLOCK</a></div><div class="ttdeci">#define AST_RWLIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a read/write based list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00150">linkedlists.h:150</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="linkedlists_8h_html_aacc5f6b7c25e361d11d40137fd55a8e8"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#aacc5f6b7c25e361d11d40137fd55a8e8">AST_RWLIST_INSERT_HEAD</a></div><div class="ttdeci">#define AST_RWLIST_INSERT_HEAD</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00717">linkedlists.h:717</a></div></div>
<div class="ttc" id="structlogchannel_html_a05f465ec52733d0024e53f945e4cabe7"><div class="ttname"><a href="../../d6/d0c/structlogchannel.html#a05f465ec52733d0024e53f945e4cabe7">logchannel::list</a></div><div class="ttdeci">struct logchannel::@404 list</div></div>
<div class="ttc" id="structlogchannels_html"><div class="ttname"><a href="../../d2/df7/structlogchannels.html">logchannels</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00158">logger.c:158</a></div></div>
<div class="ttc" id="logger_8h_html_aa215cccdbc7f8887dc9eceddb1d18d9daf990ebc5e99fadaa265a1def67407b7d"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aa215cccdbc7f8887dc9eceddb1d18d9daf990ebc5e99fadaa265a1def67407b7d">AST_LOGGER_ALLOC_ERROR</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00052">logger.h:52</a></div></div>
<div class="ttc" id="structlogchannel_html_aaeeb8d3574465a64ed10e4809ebd4cf6"><div class="ttname"><a href="../../d6/d0c/structlogchannel.html#aaeeb8d3574465a64ed10e4809ebd4cf6">logchannel::logmask</a></div><div class="ttdeci">unsigned int logmask</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00135">logger.c:135</a></div></div>
<div class="ttc" id="logger_8c_html_ab7a804c1b0b716c6b612a79aded136df"><div class="ttname"><a href="../../d1/d22/logger_8c.html#ab7a804c1b0b716c6b612a79aded136df">make_logchannel</a></div><div class="ttdeci">static struct logchannel * make_logchannel(const char *channel, const char *components, int lineno, int dynamic)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00617">logger.c:617</a></div></div>
<div class="ttc" id="logger_8c_html_af336670f485e9c9a5eb9c21d2f9e62e0"><div class="ttname"><a href="../../d1/d22/logger_8c.html#af336670f485e9c9a5eb9c21d2f9e62e0">find_logchannel</a></div><div class="ttdeci">static struct logchannel * find_logchannel(const char *channel)</div><div class="ttdoc">Find a particular logger channel by name. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00601">logger.c:601</a></div></div>
<div class="ttc" id="structlogchannel_html"><div class="ttname"><a href="../../d6/d0c/structlogchannel.html">logchannel</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00131">logger.c:131</a></div></div>
<div class="ttc" id="logger_8h_html_aa215cccdbc7f8887dc9eceddb1d18d9dae5001908c66f174fcbd3a2a32313226d"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aa215cccdbc7f8887dc9eceddb1d18d9dae5001908c66f174fcbd3a2a32313226d">AST_LOGGER_FAILURE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00050">logger.h:50</a></div></div>
<div class="ttc" id="logger_8h_html_aa215cccdbc7f8887dc9eceddb1d18d9dae534bcd3f9115778d085780ed535abae"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aa215cccdbc7f8887dc9eceddb1d18d9dae534bcd3f9115778d085780ed535abae">AST_LOGGER_SUCCESS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00049">logger.h:49</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a4a9b0f852538270ad879b0b6d8fea3fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a9b0f852538270ad879b0b6d8fea3fb">&#9670;&nbsp;</a></span>ast_logger_get_channels()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_logger_get_channels </td>
          <td>(</td>
          <td class="paramtype">int(*)(const char *<a class="el" href="../../d4/d84/structchannel.html">channel</a>, const char *<a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>, const char *<a class="el" href="../../de/dcd/app__jack_8c.html#ac191e5810fa65e63095409471eb5648f">status</a>, const char *configuration, void *data)&#160;</td>
          <td class="paramname"><em>logentry</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve the existing log channels. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">logentry</td><td>A callback to an updater function </td></tr>
    <tr><td class="paramname">data</td><td>Data passed into the callback for manipulation</td></tr>
  </table>
  </dd>
</dl>
<p>For each of the logging channels, logentry will be executed with the channel file name, log type, status of the log, and configuration levels.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>on success </td></tr>
    <tr><td class="paramname">1</td><td>on failure </td></tr>
    <tr><td class="paramname">-2</td><td>on allocation error </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d1/d22/logger_8c_source.html#l01336">1336</a> of file <a class="el" href="../../d1/d22/logger_8c_source.html">logger.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/dfe/isdn__lib_8c_source.html#l00042">ARRAY_LEN</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00052">AST_LOGGER_ALLOC_ERROR</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00050">AST_LOGGER_FAILURE</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00049">AST_LOGGER_SUCCESS</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00077">AST_RWLIST_RDLOCK</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00493">AST_RWLIST_TRAVERSE</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00150">AST_RWLIST_UNLOCK</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l01091">ast_str_append()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00714">ast_str_buffer()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00620">ast_str_create</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00653">ast_str_reset()</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00137">logchannel::disabled</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00147">logchannel::filename</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00135">logchannel::logmask</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00128">LOGTYPE_CONSOLE</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00126">LOGTYPE_SYSLOG</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../d1/d22/logger_8c_source.html#l00143">logchannel::type</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/d20/resource__asterisk_8c_source.html#l00680">ast_ari_asterisk_list_log_channels()</a>.</p>
<div class="fragment"><div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;{</div><div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d6/d0c/structlogchannel.html">logchannel</a> *chan;</div><div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/da2/structast__str.html">ast_str</a> *<a class="code" href="../../d6/d5f/structconfigs.html">configs</a> = <a class="code" href="../../d6/d90/strings_8h.html#a9c34c6c6b8daaba24c0406270f3cf697">ast_str_create</a>(64);</div><div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;   <span class="keywordtype">int</span> res = <a class="code" href="../../d1/d8c/logger_8h.html#aa215cccdbc7f8887dc9eceddb1d18d9dae534bcd3f9115778d085780ed535abae">AST_LOGGER_SUCCESS</a>;</div><div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;</div><div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;   <span class="keywordflow">if</span> (!configs) {</div><div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d1/d8c/logger_8h.html#aa215cccdbc7f8887dc9eceddb1d18d9daf990ebc5e99fadaa265a1def67407b7d">AST_LOGGER_ALLOC_ERROR</a>;</div><div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;   }</div><div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;</div><div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a0a0fe104cc2cc36a43784f886f3ae7dc">AST_RWLIST_RDLOCK</a>(&amp;<a class="code" href="../../d2/df7/structlogchannels.html">logchannels</a>);</div><div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a944b82566722f2247aa35f1328402c98">AST_RWLIST_TRAVERSE</a>(&amp;<a class="code" href="../../d2/df7/structlogchannels.html">logchannels</a>, chan, list) {</div><div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;      <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> level;</div><div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;</div><div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;      <a class="code" href="../../d6/d90/strings_8h.html#a8239b9ad10367bfc936e9b60ff7706a8">ast_str_reset</a>(configs);</div><div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;</div><div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;      <span class="keywordflow">for</span> (level = 0; level &lt; <a class="code" href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a>(<a class="code" href="../../d1/d22/logger_8c.html#a2ae9b20e8a0ca3f97cf9f8927e0fdb7f">levels</a>); level++) {</div><div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;         <span class="keywordflow">if</span> ((chan-&gt;<a class="code" href="../../d6/d0c/structlogchannel.html#aaeeb8d3574465a64ed10e4809ebd4cf6">logmask</a> &amp; (1 &lt;&lt; level)) &amp;&amp; <a class="code" href="../../d1/d22/logger_8c.html#a2ae9b20e8a0ca3f97cf9f8927e0fdb7f">levels</a>[level]) {</div><div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;            <a class="code" href="../../d6/d90/strings_8h.html#a1088afdd862a49b0fce34ebe02df8ca1">ast_str_append</a>(&amp;configs, 0, <span class="stringliteral">&quot;%s &quot;</span>, <a class="code" href="../../d1/d22/logger_8c.html#a2ae9b20e8a0ca3f97cf9f8927e0fdb7f">levels</a>[level]);</div><div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;         }</div><div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;      }</div><div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;</div><div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;      res = logentry(chan-&gt;<a class="code" href="../../d6/d0c/structlogchannel.html#ab49244970ed5ca30989c2dab2129de34">filename</a>, chan-&gt;<a class="code" href="../../d6/d0c/structlogchannel.html#a6d3cd9e6800461f549a4fcabae1712c1">type</a> == <a class="code" href="../../d1/d22/logger_8c.html#a7e2550c12ff27e5cd303101e86cf8eb4a439c8fd120012113aa39dfece22ed55f">LOGTYPE_CONSOLE</a> ? <span class="stringliteral">&quot;Console&quot;</span> :</div><div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;         (chan-&gt;<a class="code" href="../../d6/d0c/structlogchannel.html#a6d3cd9e6800461f549a4fcabae1712c1">type</a> == <a class="code" href="../../d1/d22/logger_8c.html#a7e2550c12ff27e5cd303101e86cf8eb4affe678f5d32a5ad00d20d138627aa22f">LOGTYPE_SYSLOG</a> ? <span class="stringliteral">&quot;Syslog&quot;</span> : <span class="stringliteral">&quot;File&quot;</span>), chan-&gt;<a class="code" href="../../d6/d0c/structlogchannel.html#af255398e3e9383752e6234829e3f6037">disabled</a> ?</div><div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;         <span class="stringliteral">&quot;Disabled&quot;</span> : <span class="stringliteral">&quot;Enabled&quot;</span>, <a class="code" href="../../d6/d90/strings_8h.html#a1ef7e2644ca7258070db316fdc0a465b">ast_str_buffer</a>(configs), data);</div><div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;</div><div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;      <span class="keywordflow">if</span> (res) {</div><div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;         <a class="code" href="../../df/d90/linkedlists_8h.html#a2e9a2518b5029b96671aff6701bd5138">AST_RWLIST_UNLOCK</a>(&amp;<a class="code" href="../../d2/df7/structlogchannels.html">logchannels</a>);</div><div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;         <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(configs);</div><div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;         configs = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;         <span class="keywordflow">return</span> <a class="code" href="../../d1/d8c/logger_8h.html#aa215cccdbc7f8887dc9eceddb1d18d9dae5001908c66f174fcbd3a2a32313226d">AST_LOGGER_FAILURE</a>;</div><div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;      }</div><div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;   }</div><div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a2e9a2518b5029b96671aff6701bd5138">AST_RWLIST_UNLOCK</a>(&amp;<a class="code" href="../../d2/df7/structlogchannels.html">logchannels</a>);</div><div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;</div><div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;   <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(configs);</div><div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;   configs = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;</div><div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d1/d8c/logger_8h.html#aa215cccdbc7f8887dc9eceddb1d18d9dae534bcd3f9115778d085780ed535abae">AST_LOGGER_SUCCESS</a>;</div><div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;}</div><div class="ttc" id="isdn__lib_8c_html_ab9129b977a587b50ea801daac75e178f"><div class="ttname"><a href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a></div><div class="ttdeci">#define ARRAY_LEN(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dfe/isdn__lib_8c_source.html#l00042">isdn_lib.c:42</a></div></div>
<div class="ttc" id="logger_8c_html_a7e2550c12ff27e5cd303101e86cf8eb4a439c8fd120012113aa39dfece22ed55f"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a7e2550c12ff27e5cd303101e86cf8eb4a439c8fd120012113aa39dfece22ed55f">LOGTYPE_CONSOLE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00128">logger.c:128</a></div></div>
<div class="ttc" id="strings_8h_html_a1ef7e2644ca7258070db316fdc0a465b"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a1ef7e2644ca7258070db316fdc0a465b">ast_str_buffer</a></div><div class="ttdeci">char * ast_str_buffer(const struct ast_str *buf)</div><div class="ttdoc">Returns the string buffer within the ast_str buf. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00714">strings.h:714</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a2e9a2518b5029b96671aff6701bd5138"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a2e9a2518b5029b96671aff6701bd5138">AST_RWLIST_UNLOCK</a></div><div class="ttdeci">#define AST_RWLIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a read/write based list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00150">linkedlists.h:150</a></div></div>
<div class="ttc" id="logger_8c_html_a2ae9b20e8a0ca3f97cf9f8927e0fdb7f"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a2ae9b20e8a0ca3f97cf9f8927e0fdb7f">levels</a></div><div class="ttdeci">static char * levels[NUMLOGLEVELS]</div><div class="ttdoc">Logging channels used in the Asterisk logging system. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00206">logger.c:206</a></div></div>
<div class="ttc" id="strings_8h_html_a1088afdd862a49b0fce34ebe02df8ca1"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a1088afdd862a49b0fce34ebe02df8ca1">ast_str_append</a></div><div class="ttdeci">int ast_str_append(struct ast_str **buf, ssize_t max_len, const char *fmt,...)</div><div class="ttdoc">Append to a thread local dynamic string. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l01091">strings.h:1091</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="logger_8c_html_a7e2550c12ff27e5cd303101e86cf8eb4affe678f5d32a5ad00d20d138627aa22f"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a7e2550c12ff27e5cd303101e86cf8eb4affe678f5d32a5ad00d20d138627aa22f">LOGTYPE_SYSLOG</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00126">logger.c:126</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a0a0fe104cc2cc36a43784f886f3ae7dc"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a0a0fe104cc2cc36a43784f886f3ae7dc">AST_RWLIST_RDLOCK</a></div><div class="ttdeci">#define AST_RWLIST_RDLOCK(head)</div><div class="ttdoc">Read locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00077">linkedlists.h:77</a></div></div>
<div class="ttc" id="structlogchannels_html"><div class="ttname"><a href="../../d2/df7/structlogchannels.html">logchannels</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00158">logger.c:158</a></div></div>
<div class="ttc" id="logger_8h_html_aa215cccdbc7f8887dc9eceddb1d18d9daf990ebc5e99fadaa265a1def67407b7d"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aa215cccdbc7f8887dc9eceddb1d18d9daf990ebc5e99fadaa265a1def67407b7d">AST_LOGGER_ALLOC_ERROR</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00052">logger.h:52</a></div></div>
<div class="ttc" id="structlogchannel_html_aaeeb8d3574465a64ed10e4809ebd4cf6"><div class="ttname"><a href="../../d6/d0c/structlogchannel.html#aaeeb8d3574465a64ed10e4809ebd4cf6">logchannel::logmask</a></div><div class="ttdeci">unsigned int logmask</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00135">logger.c:135</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a944b82566722f2247aa35f1328402c98"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a944b82566722f2247aa35f1328402c98">AST_RWLIST_TRAVERSE</a></div><div class="ttdeci">#define AST_RWLIST_TRAVERSE</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00493">linkedlists.h:493</a></div></div>
<div class="ttc" id="structlogchannel_html_af255398e3e9383752e6234829e3f6037"><div class="ttname"><a href="../../d6/d0c/structlogchannel.html#af255398e3e9383752e6234829e3f6037">logchannel::disabled</a></div><div class="ttdeci">int disabled</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00137">logger.c:137</a></div></div>
<div class="ttc" id="structconfigs_html"><div class="ttname"><a href="../../d6/d5f/structconfigs.html">configs</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d3c/func__config_8c_source.html#l00071">func_config.c:71</a></div></div>
<div class="ttc" id="structast__str_html"><div class="ttname"><a href="../../dd/da2/structast__str.html">ast_str</a></div><div class="ttdoc">The descriptor of a dynamic string XXX storage will be optimized later if needed We use the ts field ...</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00584">strings.h:584</a></div></div>
<div class="ttc" id="structlogchannel_html_a6d3cd9e6800461f549a4fcabae1712c1"><div class="ttname"><a href="../../d6/d0c/structlogchannel.html#a6d3cd9e6800461f549a4fcabae1712c1">logchannel::type</a></div><div class="ttdeci">enum logtypes type</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00143">logger.c:143</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="structlogchannel_html_ab49244970ed5ca30989c2dab2129de34"><div class="ttname"><a href="../../d6/d0c/structlogchannel.html#ab49244970ed5ca30989c2dab2129de34">logchannel::filename</a></div><div class="ttdeci">char filename[PATH_MAX]</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00147">logger.c:147</a></div></div>
<div class="ttc" id="strings_8h_html_a8239b9ad10367bfc936e9b60ff7706a8"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a8239b9ad10367bfc936e9b60ff7706a8">ast_str_reset</a></div><div class="ttdeci">void ast_str_reset(struct ast_str *buf)</div><div class="ttdoc">Reset the content of a dynamic string. Useful before a series of ast_str_append. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00653">strings.h:653</a></div></div>
<div class="ttc" id="structlogchannel_html"><div class="ttname"><a href="../../d6/d0c/structlogchannel.html">logchannel</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00131">logger.c:131</a></div></div>
<div class="ttc" id="logger_8h_html_aa215cccdbc7f8887dc9eceddb1d18d9dae5001908c66f174fcbd3a2a32313226d"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aa215cccdbc7f8887dc9eceddb1d18d9dae5001908c66f174fcbd3a2a32313226d">AST_LOGGER_FAILURE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00050">logger.h:50</a></div></div>
<div class="ttc" id="logger_8h_html_aa215cccdbc7f8887dc9eceddb1d18d9dae534bcd3f9115778d085780ed535abae"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aa215cccdbc7f8887dc9eceddb1d18d9dae534bcd3f9115778d085780ed535abae">AST_LOGGER_SUCCESS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00049">logger.h:49</a></div></div>
<div class="ttc" id="strings_8h_html_a9c34c6c6b8daaba24c0406270f3cf697"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a9c34c6c6b8daaba24c0406270f3cf697">ast_str_create</a></div><div class="ttdeci">#define ast_str_create(init_len)</div><div class="ttdoc">Create a malloc&amp;#39;ed dynamic length string. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00620">strings.h:620</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a742631da92caaaf27152c0397f53ae31"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a742631da92caaaf27152c0397f53ae31">&#9670;&nbsp;</a></span>ast_logger_get_dateformat()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* ast_logger_get_dateformat </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the logger configured date format. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">The</td><td>date format string</td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since</dt><dd>13.0.0 </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d1/d22/logger_8c_source.html#l02577">2577</a> of file <a class="el" href="../../d1/d22/logger_8c_source.html">logger.c</a>.</p>

<p class="reference">References <a class="el" href="../../d1/d22/logger_8c_source.html#l00079">dateformat</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/d03/asterisk_8c_source.html#l02115">set_header()</a>.</p>
<div class="fragment"><div class="line"><a name="l02578"></a><span class="lineno"> 2578</span>&#160;{</div><div class="line"><a name="l02579"></a><span class="lineno"> 2579</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d1/d22/logger_8c.html#a2057dec53731af6bb6881015b58936ba">dateformat</a>;</div><div class="line"><a name="l02580"></a><span class="lineno"> 2580</span>&#160;}</div><div class="ttc" id="logger_8c_html_a2057dec53731af6bb6881015b58936ba"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a2057dec53731af6bb6881015b58936ba">dateformat</a></div><div class="ttdeci">static char dateformat[256]</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00079">logger.c:79</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a063983e8f5e104cd843dc7158272ddc5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a063983e8f5e104cd843dc7158272ddc5">&#9670;&nbsp;</a></span>ast_logger_get_queue_limit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_logger_get_queue_limit </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the maximum number of messages allowed in the processing queue. </p>
<dl class="section return"><dt>Returns</dt><dd>Queue limit </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d1/d22/logger_8c_source.html#l02587">2587</a> of file <a class="el" href="../../d1/d22/logger_8c_source.html">logger.c</a>.</p>

<p class="reference">References <a class="el" href="../../d1/d22/logger_8c_source.html#l00094">logger_queue_limit</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/d7d/test__logger_8c_source.html#l00191">handle_cli_queue_test()</a>.</p>
<div class="fragment"><div class="line"><a name="l02588"></a><span class="lineno"> 2588</span>&#160;{</div><div class="line"><a name="l02589"></a><span class="lineno"> 2589</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d1/d22/logger_8c.html#a70f8266b28e1b6adb224cb4dfd529d25">logger_queue_limit</a>;</div><div class="line"><a name="l02590"></a><span class="lineno"> 2590</span>&#160;}</div><div class="ttc" id="logger_8c_html_a70f8266b28e1b6adb224cb4dfd529d25"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a70f8266b28e1b6adb224cb4dfd529d25">logger_queue_limit</a></div><div class="ttdeci">static int logger_queue_limit</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00094">logger.c:94</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa689efaaa503de6322c2b13b3faab63d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa689efaaa503de6322c2b13b3faab63d">&#9670;&nbsp;</a></span>ast_logger_register_level()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_logger_register_level </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register a new logger level. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>The name of the level to be registered </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">-1</td><td>if an error occurs </td></tr>
    <tr><td class="paramname">non-zero</td><td>level to be used with ast_log for sending messages to this level </td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since</dt><dd>1.8 </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d1/d22/logger_8c_source.html#l02503">2503</a> of file <a class="el" href="../../d1/d22/logger_8c_source.html">logger.c</a>.</p>

<p class="reference">References <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00150">AST_RWLIST_UNLOCK</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00051">AST_RWLIST_WRLOCK</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l13058">available()</a>, and <a class="el" href="../../d1/d22/logger_8c_source.html#l02464">logger_register_level()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/d7d/test__logger_8c_source.html#l00065">handle_cli_dynamic_level_test()</a>, <a class="el" href="../../de/d7d/test__logger_8c_source.html#l00139">handle_cli_performance_test()</a>, <a class="el" href="../../de/d7d/test__logger_8c_source.html#l00191">handle_cli_queue_test()</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04653">load_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l02504"></a><span class="lineno"> 2504</span>&#160;{</div><div class="line"><a name="l02505"></a><span class="lineno"> 2505</span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../d1/d97/chan__dahdi_8c.html#a4ee142675554d362c585267c1290d5b3">available</a> = 0;</div><div class="line"><a name="l02506"></a><span class="lineno"> 2506</span>&#160;</div><div class="line"><a name="l02507"></a><span class="lineno"> 2507</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a2d0cf4182bade9f773fb16ff12abe595">AST_RWLIST_WRLOCK</a>(&amp;<a class="code" href="../../d2/df7/structlogchannels.html">logchannels</a>);</div><div class="line"><a name="l02508"></a><span class="lineno"> 2508</span>&#160;   available = <a class="code" href="../../d1/d22/logger_8c.html#a82031c6f0224e2f227005cc34b833243">logger_register_level</a>(<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>);</div><div class="line"><a name="l02509"></a><span class="lineno"> 2509</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a2e9a2518b5029b96671aff6701bd5138">AST_RWLIST_UNLOCK</a>(&amp;<a class="code" href="../../d2/df7/structlogchannels.html">logchannels</a>);</div><div class="line"><a name="l02510"></a><span class="lineno"> 2510</span>&#160;</div><div class="line"><a name="l02511"></a><span class="lineno"> 2511</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d1/d97/chan__dahdi_8c.html#a4ee142675554d362c585267c1290d5b3">available</a>;</div><div class="line"><a name="l02512"></a><span class="lineno"> 2512</span>&#160;}</div><div class="ttc" id="linkedlists_8h_html_a2d0cf4182bade9f773fb16ff12abe595"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a2d0cf4182bade9f773fb16ff12abe595">AST_RWLIST_WRLOCK</a></div><div class="ttdeci">#define AST_RWLIST_WRLOCK(head)</div><div class="ttdoc">Write locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00051">linkedlists.h:51</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a2e9a2518b5029b96671aff6701bd5138"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a2e9a2518b5029b96671aff6701bd5138">AST_RWLIST_UNLOCK</a></div><div class="ttdeci">#define AST_RWLIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a read/write based list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00150">linkedlists.h:150</a></div></div>
<div class="ttc" id="structlogchannels_html"><div class="ttname"><a href="../../d2/df7/structlogchannels.html">logchannels</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00158">logger.c:158</a></div></div>
<div class="ttc" id="logger_8c_html_a82031c6f0224e2f227005cc34b833243"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a82031c6f0224e2f227005cc34b833243">logger_register_level</a></div><div class="ttdeci">static int logger_register_level(const char *name)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l02464">logger.c:2464</a></div></div>
<div class="ttc" id="cdr__mysql_8c_html_a0980a105ccb863d8008eb6201a51da52"><div class="ttname"><a href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a></div><div class="ttdeci">static const char name[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/cdr__mysql_8c_source.html#l00074">cdr_mysql.c:74</a></div></div>
<div class="ttc" id="chan__dahdi_8c_html_a4ee142675554d362c585267c1290d5b3"><div class="ttname"><a href="../../d1/d97/chan__dahdi_8c.html#a4ee142675554d362c585267c1290d5b3">available</a></div><div class="ttdeci">static int available(struct dahdi_pvt **pvt, int is_specific_channel)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d97/chan__dahdi_8c_source.html#l13058">chan_dahdi.c:13058</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a41eaacdc25a24b9d9a265e60555a7243"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a41eaacdc25a24b9d9a265e60555a7243">&#9670;&nbsp;</a></span>ast_logger_remove_channel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_logger_remove_channel </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>log_channel</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Delete the specified log channel. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">log_channel</td><td>The log channel to delete </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d1/d22/logger_8c_source.html#l01485">1485</a> of file <a class="el" href="../../d1/d22/logger_8c_source.html">logger.c</a>.</p>

<p class="reference">References <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00050">AST_LOGGER_FAILURE</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00049">AST_LOGGER_SUCCESS</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00884">AST_RWLIST_REMOVE</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00150">AST_RWLIST_UNLOCK</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00051">AST_RWLIST_WRLOCK</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00153">logchannel::dynamic</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00145">logchannel::fileptr</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00601">find_logchannel()</a>, <a class="el" href="../../d6/d0c/structlogchannel.html#a05f465ec52733d0024e53f945e4cabe7">logchannel::list</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/d20/resource__asterisk_8c_source.html#l00757">ast_ari_asterisk_delete_log()</a>, <a class="el" href="../../de/d7d/test__logger_8c_source.html#l00191">handle_cli_queue_test()</a>, and <a class="el" href="../../d1/d22/logger_8c_source.html#l01510">handle_logger_remove_channel()</a>.</p>
<div class="fragment"><div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;{</div><div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d6/d0c/structlogchannel.html">logchannel</a> *chan;</div><div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;</div><div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a2d0cf4182bade9f773fb16ff12abe595">AST_RWLIST_WRLOCK</a>(&amp;<a class="code" href="../../d2/df7/structlogchannels.html">logchannels</a>);</div><div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;</div><div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;   chan = <a class="code" href="../../d1/d22/logger_8c.html#af336670f485e9c9a5eb9c21d2f9e62e0">find_logchannel</a>(log_channel);</div><div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;   <span class="keywordflow">if</span> (chan &amp;&amp; chan-&gt;<a class="code" href="../../d6/d0c/structlogchannel.html#a44690a0a629211d7620ce0d55c412e9d">dynamic</a>) {</div><div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;      <a class="code" href="../../df/d90/linkedlists_8h.html#a6091f0518f8b6f443fd9f5150f3ac407">AST_RWLIST_REMOVE</a>(&amp;<a class="code" href="../../d2/df7/structlogchannels.html">logchannels</a>, chan, <a class="code" href="../../d6/d0c/structlogchannel.html#a05f465ec52733d0024e53f945e4cabe7">list</a>);</div><div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;      <a class="code" href="../../df/d90/linkedlists_8h.html#a2e9a2518b5029b96671aff6701bd5138">AST_RWLIST_UNLOCK</a>(&amp;<a class="code" href="../../d2/df7/structlogchannels.html">logchannels</a>);</div><div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d1/d8c/logger_8h.html#aa215cccdbc7f8887dc9eceddb1d18d9dae5001908c66f174fcbd3a2a32313226d">AST_LOGGER_FAILURE</a>;</div><div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;   }</div><div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a2e9a2518b5029b96671aff6701bd5138">AST_RWLIST_UNLOCK</a>(&amp;<a class="code" href="../../d2/df7/structlogchannels.html">logchannels</a>);</div><div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;</div><div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;   <span class="keywordflow">if</span> (chan-&gt;<a class="code" href="../../d6/d0c/structlogchannel.html#acc2a21b64b19aeee05b382056974c1e9">fileptr</a>) {</div><div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;      fclose(chan-&gt;<a class="code" href="../../d6/d0c/structlogchannel.html#acc2a21b64b19aeee05b382056974c1e9">fileptr</a>);</div><div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;      chan-&gt;<a class="code" href="../../d6/d0c/structlogchannel.html#acc2a21b64b19aeee05b382056974c1e9">fileptr</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;   }</div><div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;   <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(chan);</div><div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;   chan = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;</div><div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d1/d8c/logger_8h.html#aa215cccdbc7f8887dc9eceddb1d18d9dae534bcd3f9115778d085780ed535abae">AST_LOGGER_SUCCESS</a>;</div><div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;}</div><div class="ttc" id="linkedlists_8h_html_a2d0cf4182bade9f773fb16ff12abe595"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a2d0cf4182bade9f773fb16ff12abe595">AST_RWLIST_WRLOCK</a></div><div class="ttdeci">#define AST_RWLIST_WRLOCK(head)</div><div class="ttdoc">Write locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00051">linkedlists.h:51</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a2e9a2518b5029b96671aff6701bd5138"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a2e9a2518b5029b96671aff6701bd5138">AST_RWLIST_UNLOCK</a></div><div class="ttdeci">#define AST_RWLIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a read/write based list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00150">linkedlists.h:150</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structlogchannel_html_a05f465ec52733d0024e53f945e4cabe7"><div class="ttname"><a href="../../d6/d0c/structlogchannel.html#a05f465ec52733d0024e53f945e4cabe7">logchannel::list</a></div><div class="ttdeci">struct logchannel::@404 list</div></div>
<div class="ttc" id="structlogchannels_html"><div class="ttname"><a href="../../d2/df7/structlogchannels.html">logchannels</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00158">logger.c:158</a></div></div>
<div class="ttc" id="structlogchannel_html_a44690a0a629211d7620ce0d55c412e9d"><div class="ttname"><a href="../../d6/d0c/structlogchannel.html#a44690a0a629211d7620ce0d55c412e9d">logchannel::dynamic</a></div><div class="ttdeci">int dynamic</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00153">logger.c:153</a></div></div>
<div class="ttc" id="logger_8c_html_af336670f485e9c9a5eb9c21d2f9e62e0"><div class="ttname"><a href="../../d1/d22/logger_8c.html#af336670f485e9c9a5eb9c21d2f9e62e0">find_logchannel</a></div><div class="ttdeci">static struct logchannel * find_logchannel(const char *channel)</div><div class="ttdoc">Find a particular logger channel by name. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00601">logger.c:601</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="structlogchannel_html_acc2a21b64b19aeee05b382056974c1e9"><div class="ttname"><a href="../../d6/d0c/structlogchannel.html#acc2a21b64b19aeee05b382056974c1e9">logchannel::fileptr</a></div><div class="ttdeci">FILE * fileptr</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00145">logger.c:145</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a6091f0518f8b6f443fd9f5150f3ac407"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a6091f0518f8b6f443fd9f5150f3ac407">AST_RWLIST_REMOVE</a></div><div class="ttdeci">#define AST_RWLIST_REMOVE</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00884">linkedlists.h:884</a></div></div>
<div class="ttc" id="structlogchannel_html"><div class="ttname"><a href="../../d6/d0c/structlogchannel.html">logchannel</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00131">logger.c:131</a></div></div>
<div class="ttc" id="logger_8h_html_aa215cccdbc7f8887dc9eceddb1d18d9dae5001908c66f174fcbd3a2a32313226d"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aa215cccdbc7f8887dc9eceddb1d18d9dae5001908c66f174fcbd3a2a32313226d">AST_LOGGER_FAILURE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00050">logger.h:50</a></div></div>
<div class="ttc" id="logger_8h_html_aa215cccdbc7f8887dc9eceddb1d18d9dae534bcd3f9115778d085780ed535abae"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aa215cccdbc7f8887dc9eceddb1d18d9dae534bcd3f9115778d085780ed535abae">AST_LOGGER_SUCCESS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00049">logger.h:49</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a41dd18dbe431737cee678307f016d99f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a41dd18dbe431737cee678307f016d99f">&#9670;&nbsp;</a></span>ast_logger_rotate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_logger_rotate </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reload logger while rotating log files. </p>

<p class="definition">Definition at line <a class="el" href="../../d1/d22/logger_8c_source.html#l01254">1254</a> of file <a class="el" href="../../d1/d22/logger_8c_source.html">logger.c</a>.</p>

<p class="reference">References <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../d1/d22/logger_8c_source.html#l01141">reload_logger()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d10/manager_8c_source.html#l06458">action_loggerrotate()</a>.</p>
<div class="fragment"><div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;{</div><div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d1/d22/logger_8c.html#a4dfd6bff5fa421d9abc89125ac5d7d8b">reload_logger</a>(1, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;}</div><div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="logger_8c_html_a4dfd6bff5fa421d9abc89125ac5d7d8b"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a4dfd6bff5fa421d9abc89125ac5d7d8b">reload_logger</a></div><div class="ttdeci">static int reload_logger(int rotate, const char *altconf)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l01141">logger.c:1141</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a0ea99aa29251702bb8e6ea003423a504"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ea99aa29251702bb8e6ea003423a504">&#9670;&nbsp;</a></span>ast_logger_rotate_channel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_logger_rotate_channel </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>log_channel</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Rotate the specified log channel. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">log_channel</td><td>The log channel to rotate </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d1/d22/logger_8c_source.html#l01259">1259</a> of file <a class="el" href="../../d1/d22/logger_8c_source.html">logger.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/dc5/options_8c_source.html#l00159">ast_config_AST_LOG_DIR</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00050">AST_LOGGER_FAILURE</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00049">AST_LOGGER_SUCCESS</a>, <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l02231">ast_mkdir()</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00493">AST_RWLIST_TRAVERSE</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00150">AST_RWLIST_UNLOCK</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00051">AST_RWLIST_WRLOCK</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00137">logchannel::disabled</a>, <a class="el" href="../../db/d45/manager_8h_source.html#l00071">EVENT_FLAG_SYSTEM</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00147">logchannel::filename</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00145">logchannel::fileptr</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00710">init_logger_chain()</a>, <a class="el" href="../../d6/d0c/structlogchannel.html#a05f465ec52733d0024e53f945e4cabe7">logchannel::list</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00560">make_filename()</a>, <a class="el" href="../../db/d45/manager_8h_source.html#l00248">manager_event</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../db/db2/asterisk_8h_source.html#l00040">PATH_MAX</a>, and <a class="el" href="../../d1/d22/logger_8c_source.html#l00974">rotate_file()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/d20/resource__asterisk_8c_source.html#l00732">ast_ari_asterisk_rotate_log()</a>.</p>
<div class="fragment"><div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;{</div><div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d6/d0c/structlogchannel.html">logchannel</a> *f;</div><div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;   <span class="keywordtype">int</span> success = <a class="code" href="../../d1/d8c/logger_8h.html#aa215cccdbc7f8887dc9eceddb1d18d9dae5001908c66f174fcbd3a2a32313226d">AST_LOGGER_FAILURE</a>;</div><div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;   <span class="keywordtype">char</span> <a class="code" href="../../d6/d0c/structlogchannel.html#ab49244970ed5ca30989c2dab2129de34">filename</a>[<a class="code" href="../../db/db2/asterisk_8h.html#ae688d728e1acdfe5988c7db45d6f0166">PATH_MAX</a>];</div><div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;</div><div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;   <a class="code" href="../../d1/d22/logger_8c.html#a016a34f1dce9ea82fb0dd83f29ba376f">make_filename</a>(log_channel, filename, <span class="keyword">sizeof</span>(filename));</div><div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;</div><div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a2d0cf4182bade9f773fb16ff12abe595">AST_RWLIST_WRLOCK</a>(&amp;<a class="code" href="../../d2/df7/structlogchannels.html">logchannels</a>);</div><div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;</div><div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a7c38859ed90e96df2b0a0fdf843769d0">ast_mkdir</a>(<a class="code" href="../../dd/df2/paths_8h.html#aea5e16ca2517e2093fdfa0e7fd112f0f">ast_config_AST_LOG_DIR</a>, 0644);</div><div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;</div><div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a944b82566722f2247aa35f1328402c98">AST_RWLIST_TRAVERSE</a>(&amp;<a class="code" href="../../d2/df7/structlogchannels.html">logchannels</a>, f, <a class="code" href="../../d6/d0c/structlogchannel.html#a05f465ec52733d0024e53f945e4cabe7">list</a>) {</div><div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;      <span class="keywordflow">if</span> (f-&gt;<a class="code" href="../../d6/d0c/structlogchannel.html#af255398e3e9383752e6234829e3f6037">disabled</a>) {</div><div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;         f-&gt;<a class="code" href="../../d6/d0c/structlogchannel.html#af255398e3e9383752e6234829e3f6037">disabled</a> = 0;  <span class="comment">/* Re-enable logging at reload */</span></div><div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;         <a class="code" href="../../db/d45/manager_8h.html#a1ef0ee0044dbbeb4c3a5abc6c046b208">manager_event</a>(<a class="code" href="../../db/d45/manager_8h.html#a420f0f755e1c3378b45ca7f6f0669ffa">EVENT_FLAG_SYSTEM</a>, <span class="stringliteral">&quot;LogChannel&quot;</span>, <span class="stringliteral">&quot;Channel: %s\r\nEnabled: Yes\r\n&quot;</span>,</div><div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;            f-&gt;<a class="code" href="../../d6/d0c/structlogchannel.html#ab49244970ed5ca30989c2dab2129de34">filename</a>);</div><div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;      }</div><div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;      <span class="keywordflow">if</span> (f-&gt;<a class="code" href="../../d6/d0c/structlogchannel.html#acc2a21b64b19aeee05b382056974c1e9">fileptr</a> &amp;&amp; (f-&gt;<a class="code" href="../../d6/d0c/structlogchannel.html#acc2a21b64b19aeee05b382056974c1e9">fileptr</a> != stdout) &amp;&amp; (f-&gt;<a class="code" href="../../d6/d0c/structlogchannel.html#acc2a21b64b19aeee05b382056974c1e9">fileptr</a> != stderr)) {</div><div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;         fclose(f-&gt;<a class="code" href="../../d6/d0c/structlogchannel.html#acc2a21b64b19aeee05b382056974c1e9">fileptr</a>);  <span class="comment">/* Close file */</span></div><div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;         f-&gt;<a class="code" href="../../d6/d0c/structlogchannel.html#acc2a21b64b19aeee05b382056974c1e9">fileptr</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;         <span class="keywordflow">if</span> (strcmp(filename, f-&gt;<a class="code" href="../../d6/d0c/structlogchannel.html#ab49244970ed5ca30989c2dab2129de34">filename</a>) == 0) {</div><div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;            <a class="code" href="../../d1/d22/logger_8c.html#aeeca350be69b461abe789c969ed420ab">rotate_file</a>(f-&gt;<a class="code" href="../../d6/d0c/structlogchannel.html#ab49244970ed5ca30989c2dab2129de34">filename</a>);</div><div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;            success = <a class="code" href="../../d1/d8c/logger_8h.html#aa215cccdbc7f8887dc9eceddb1d18d9dae534bcd3f9115778d085780ed535abae">AST_LOGGER_SUCCESS</a>;</div><div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;         }</div><div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;      }</div><div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;   }</div><div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;</div><div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;   <a class="code" href="../../d1/d22/logger_8c.html#a04da4b5280eecc1a76279432eba4fa10">init_logger_chain</a>(<a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;</div><div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a2e9a2518b5029b96671aff6701bd5138">AST_RWLIST_UNLOCK</a>(&amp;<a class="code" href="../../d2/df7/structlogchannels.html">logchannels</a>);</div><div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;</div><div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;   <span class="keywordflow">return</span> success;</div><div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;}</div><div class="ttc" id="logger_8c_html_a04da4b5280eecc1a76279432eba4fa10"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a04da4b5280eecc1a76279432eba4fa10">init_logger_chain</a></div><div class="ttdeci">static int init_logger_chain(const char *altconf)</div><div class="ttdoc">Read config, setup channels. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00710">logger.c:710</a></div></div>
<div class="ttc" id="logger_8c_html_aeeca350be69b461abe789c969ed420ab"><div class="ttname"><a href="../../d1/d22/logger_8c.html#aeeca350be69b461abe789c969ed420ab">rotate_file</a></div><div class="ttdeci">static int rotate_file(const char *filename)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00974">logger.c:974</a></div></div>
<div class="ttc" id="logger_8c_html_a016a34f1dce9ea82fb0dd83f29ba376f"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a016a34f1dce9ea82fb0dd83f29ba376f">make_filename</a></div><div class="ttdeci">static void make_filename(const char *channel, char *filename, size_t size)</div><div class="ttdoc">create the filename that will be used for a logger channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00560">logger.c:560</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a2d0cf4182bade9f773fb16ff12abe595"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a2d0cf4182bade9f773fb16ff12abe595">AST_RWLIST_WRLOCK</a></div><div class="ttdeci">#define AST_RWLIST_WRLOCK(head)</div><div class="ttdoc">Write locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00051">linkedlists.h:51</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a2e9a2518b5029b96671aff6701bd5138"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a2e9a2518b5029b96671aff6701bd5138">AST_RWLIST_UNLOCK</a></div><div class="ttdeci">#define AST_RWLIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a read/write based list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00150">linkedlists.h:150</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="manager_8h_html_a420f0f755e1c3378b45ca7f6f0669ffa"><div class="ttname"><a href="../../db/d45/manager_8h.html#a420f0f755e1c3378b45ca7f6f0669ffa">EVENT_FLAG_SYSTEM</a></div><div class="ttdeci">#define EVENT_FLAG_SYSTEM</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d45/manager_8h_source.html#l00071">manager.h:71</a></div></div>
<div class="ttc" id="structlogchannel_html_a05f465ec52733d0024e53f945e4cabe7"><div class="ttname"><a href="../../d6/d0c/structlogchannel.html#a05f465ec52733d0024e53f945e4cabe7">logchannel::list</a></div><div class="ttdeci">struct logchannel::@404 list</div></div>
<div class="ttc" id="structlogchannels_html"><div class="ttname"><a href="../../d2/df7/structlogchannels.html">logchannels</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00158">logger.c:158</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a944b82566722f2247aa35f1328402c98"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a944b82566722f2247aa35f1328402c98">AST_RWLIST_TRAVERSE</a></div><div class="ttdeci">#define AST_RWLIST_TRAVERSE</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00493">linkedlists.h:493</a></div></div>
<div class="ttc" id="structlogchannel_html_af255398e3e9383752e6234829e3f6037"><div class="ttname"><a href="../../d6/d0c/structlogchannel.html#af255398e3e9383752e6234829e3f6037">logchannel::disabled</a></div><div class="ttdeci">int disabled</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00137">logger.c:137</a></div></div>
<div class="ttc" id="paths_8h_html_aea5e16ca2517e2093fdfa0e7fd112f0f"><div class="ttname"><a href="../../dd/df2/paths_8h.html#aea5e16ca2517e2093fdfa0e7fd112f0f">ast_config_AST_LOG_DIR</a></div><div class="ttdeci">const char * ast_config_AST_LOG_DIR</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc5/options_8c_source.html#l00159">options.c:159</a></div></div>
<div class="ttc" id="structlogchannel_html_acc2a21b64b19aeee05b382056974c1e9"><div class="ttname"><a href="../../d6/d0c/structlogchannel.html#acc2a21b64b19aeee05b382056974c1e9">logchannel::fileptr</a></div><div class="ttdeci">FILE * fileptr</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00145">logger.c:145</a></div></div>
<div class="ttc" id="structlogchannel_html_ab49244970ed5ca30989c2dab2129de34"><div class="ttname"><a href="../../d6/d0c/structlogchannel.html#ab49244970ed5ca30989c2dab2129de34">logchannel::filename</a></div><div class="ttdeci">char filename[PATH_MAX]</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00147">logger.c:147</a></div></div>
<div class="ttc" id="asterisk_8h_html_ae688d728e1acdfe5988c7db45d6f0166"><div class="ttname"><a href="../../db/db2/asterisk_8h.html#ae688d728e1acdfe5988c7db45d6f0166">PATH_MAX</a></div><div class="ttdeci">#define PATH_MAX</div><div class="ttdef"><b>Definition:</b> <a href="../../db/db2/asterisk_8h_source.html#l00040">asterisk.h:40</a></div></div>
<div class="ttc" id="structlogchannel_html"><div class="ttname"><a href="../../d6/d0c/structlogchannel.html">logchannel</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00131">logger.c:131</a></div></div>
<div class="ttc" id="manager_8h_html_a1ef0ee0044dbbeb4c3a5abc6c046b208"><div class="ttname"><a href="../../db/d45/manager_8h.html#a1ef0ee0044dbbeb4c3a5abc6c046b208">manager_event</a></div><div class="ttdeci">#define manager_event(category, event, contents,...)</div><div class="ttdoc">External routines may send asterisk manager events this way. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d45/manager_8h_source.html#l00248">manager.h:248</a></div></div>
<div class="ttc" id="logger_8h_html_aa215cccdbc7f8887dc9eceddb1d18d9dae5001908c66f174fcbd3a2a32313226d"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aa215cccdbc7f8887dc9eceddb1d18d9dae5001908c66f174fcbd3a2a32313226d">AST_LOGGER_FAILURE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00050">logger.h:50</a></div></div>
<div class="ttc" id="logger_8h_html_aa215cccdbc7f8887dc9eceddb1d18d9dae534bcd3f9115778d085780ed535abae"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aa215cccdbc7f8887dc9eceddb1d18d9dae534bcd3f9115778d085780ed535abae">AST_LOGGER_SUCCESS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00049">logger.h:49</a></div></div>
<div class="ttc" id="utils_8h_html_a7c38859ed90e96df2b0a0fdf843769d0"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a7c38859ed90e96df2b0a0fdf843769d0">ast_mkdir</a></div><div class="ttdeci">int ast_mkdir(const char *path, int mode)</div><div class="ttdoc">Recursively create directory path. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1f/main_2utils_8c_source.html#l02231">main/utils.c:2231</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aab876ba122c4a14e7b474f635dec7501"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab876ba122c4a14e7b474f635dec7501">&#9670;&nbsp;</a></span>ast_logger_set_queue_limit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_logger_set_queue_limit </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>queue_limit</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the maximum number of messages allowed in the processing queue. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">queue_limit</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Nothing </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d1/d22/logger_8c_source.html#l02582">2582</a> of file <a class="el" href="../../d1/d22/logger_8c_source.html">logger.c</a>.</p>

<p class="reference">References <a class="el" href="../../d1/d22/logger_8c_source.html#l00094">logger_queue_limit</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/d7d/test__logger_8c_source.html#l00191">handle_cli_queue_test()</a>.</p>
<div class="fragment"><div class="line"><a name="l02583"></a><span class="lineno"> 2583</span>&#160;{</div><div class="line"><a name="l02584"></a><span class="lineno"> 2584</span>&#160;   <a class="code" href="../../d1/d22/logger_8c.html#a70f8266b28e1b6adb224cb4dfd529d25">logger_queue_limit</a> = queue_limit;</div><div class="line"><a name="l02585"></a><span class="lineno"> 2585</span>&#160;}</div><div class="ttc" id="logger_8c_html_a70f8266b28e1b6adb224cb4dfd529d25"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a70f8266b28e1b6adb224cb4dfd529d25">logger_queue_limit</a></div><div class="ttdeci">static int logger_queue_limit</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00094">logger.c:94</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae3d21782b3b66b21cda6d9e153545909"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae3d21782b3b66b21cda6d9e153545909">&#9670;&nbsp;</a></span>ast_logger_unregister_level()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_logger_unregister_level </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unregister a previously registered logger level. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>The name of the level to be unregistered </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>nothing </dd></dl>
<dl class="section since"><dt>Since</dt><dd>1.8 </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d1/d22/logger_8c_source.html#l02536">2536</a> of file <a class="el" href="../../d1/d22/logger_8c_source.html">logger.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/dfe/isdn__lib_8c_source.html#l00042">ARRAY_LEN</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00150">AST_RWLIST_UNLOCK</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00051">AST_RWLIST_WRLOCK</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00085">global_logmask</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../d1/d22/logger_8c_source.html#l02360">update_logchannels()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/d7d/test__logger_8c_source.html#l00065">handle_cli_dynamic_level_test()</a>, <a class="el" href="../../de/d7d/test__logger_8c_source.html#l00139">handle_cli_performance_test()</a>, <a class="el" href="../../de/d7d/test__logger_8c_source.html#l00191">handle_cli_queue_test()</a>, <a class="el" href="../../dd/d1e/res__security__log_8c_source.html#l00133">load_module()</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04623">unload_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l02537"></a><span class="lineno"> 2537</span>&#160;{</div><div class="line"><a name="l02538"></a><span class="lineno"> 2538</span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> found = 0;</div><div class="line"><a name="l02539"></a><span class="lineno"> 2539</span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> x;</div><div class="line"><a name="l02540"></a><span class="lineno"> 2540</span>&#160;</div><div class="line"><a name="l02541"></a><span class="lineno"> 2541</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a2d0cf4182bade9f773fb16ff12abe595">AST_RWLIST_WRLOCK</a>(&amp;<a class="code" href="../../d2/df7/structlogchannels.html">logchannels</a>);</div><div class="line"><a name="l02542"></a><span class="lineno"> 2542</span>&#160;</div><div class="line"><a name="l02543"></a><span class="lineno"> 2543</span>&#160;   <span class="keywordflow">for</span> (x = 16; x &lt; <a class="code" href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a>(<a class="code" href="../../d1/d22/logger_8c.html#a2ae9b20e8a0ca3f97cf9f8927e0fdb7f">levels</a>); x++) {</div><div class="line"><a name="l02544"></a><span class="lineno"> 2544</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="../../d1/d22/logger_8c.html#a2ae9b20e8a0ca3f97cf9f8927e0fdb7f">levels</a>[x]) {</div><div class="line"><a name="l02545"></a><span class="lineno"> 2545</span>&#160;         <span class="keywordflow">continue</span>;</div><div class="line"><a name="l02546"></a><span class="lineno"> 2546</span>&#160;      }</div><div class="line"><a name="l02547"></a><span class="lineno"> 2547</span>&#160;</div><div class="line"><a name="l02548"></a><span class="lineno"> 2548</span>&#160;      <span class="keywordflow">if</span> (strcasecmp(<a class="code" href="../../d1/d22/logger_8c.html#a2ae9b20e8a0ca3f97cf9f8927e0fdb7f">levels</a>[x], <a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>)) {</div><div class="line"><a name="l02549"></a><span class="lineno"> 2549</span>&#160;         <span class="keywordflow">continue</span>;</div><div class="line"><a name="l02550"></a><span class="lineno"> 2550</span>&#160;      }</div><div class="line"><a name="l02551"></a><span class="lineno"> 2551</span>&#160;</div><div class="line"><a name="l02552"></a><span class="lineno"> 2552</span>&#160;      found = 1;</div><div class="line"><a name="l02553"></a><span class="lineno"> 2553</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l02554"></a><span class="lineno"> 2554</span>&#160;   }</div><div class="line"><a name="l02555"></a><span class="lineno"> 2555</span>&#160;</div><div class="line"><a name="l02556"></a><span class="lineno"> 2556</span>&#160;   <span class="keywordflow">if</span> (found) {</div><div class="line"><a name="l02557"></a><span class="lineno"> 2557</span>&#160;      <span class="comment">/* take this level out of the global_logmask, to ensure that no new log messages</span></div><div class="line"><a name="l02558"></a><span class="lineno"> 2558</span>&#160;<span class="comment">       * will be queued for it</span></div><div class="line"><a name="l02559"></a><span class="lineno"> 2559</span>&#160;<span class="comment">       */</span></div><div class="line"><a name="l02560"></a><span class="lineno"> 2560</span>&#160;</div><div class="line"><a name="l02561"></a><span class="lineno"> 2561</span>&#160;      <a class="code" href="../../d1/d22/logger_8c.html#a0705cfbd7955309ede3cb7969dac57f1">global_logmask</a> &amp;= ~(1 &lt;&lt; x);</div><div class="line"><a name="l02562"></a><span class="lineno"> 2562</span>&#160;</div><div class="line"><a name="l02563"></a><span class="lineno"> 2563</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(<a class="code" href="../../d1/d22/logger_8c.html#a2ae9b20e8a0ca3f97cf9f8927e0fdb7f">levels</a>[x]);</div><div class="line"><a name="l02564"></a><span class="lineno"> 2564</span>&#160;      <a class="code" href="../../d1/d22/logger_8c.html#a2ae9b20e8a0ca3f97cf9f8927e0fdb7f">levels</a>[x] = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l02565"></a><span class="lineno"> 2565</span>&#160;      <a class="code" href="../../df/d90/linkedlists_8h.html#a2e9a2518b5029b96671aff6701bd5138">AST_RWLIST_UNLOCK</a>(&amp;<a class="code" href="../../d2/df7/structlogchannels.html">logchannels</a>);</div><div class="line"><a name="l02566"></a><span class="lineno"> 2566</span>&#160;</div><div class="line"><a name="l02567"></a><span class="lineno"> 2567</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;Unregistered dynamic logger level &#39;%s&#39; with index %u.\n&quot;</span>, <a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, x);</div><div class="line"><a name="l02568"></a><span class="lineno"> 2568</span>&#160;</div><div class="line"><a name="l02569"></a><span class="lineno"> 2569</span>&#160;      <a class="code" href="../../df/d90/linkedlists_8h.html#a2d0cf4182bade9f773fb16ff12abe595">AST_RWLIST_WRLOCK</a>(&amp;<a class="code" href="../../d2/df7/structlogchannels.html">logchannels</a>);</div><div class="line"><a name="l02570"></a><span class="lineno"> 2570</span>&#160;      <a class="code" href="../../d1/d22/logger_8c.html#a5a72f6b0d691624a37aabc6268c7bc3f">update_logchannels</a>();</div><div class="line"><a name="l02571"></a><span class="lineno"> 2571</span>&#160;      <a class="code" href="../../df/d90/linkedlists_8h.html#a2e9a2518b5029b96671aff6701bd5138">AST_RWLIST_UNLOCK</a>(&amp;<a class="code" href="../../d2/df7/structlogchannels.html">logchannels</a>);</div><div class="line"><a name="l02572"></a><span class="lineno"> 2572</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02573"></a><span class="lineno"> 2573</span>&#160;      <a class="code" href="../../df/d90/linkedlists_8h.html#a2e9a2518b5029b96671aff6701bd5138">AST_RWLIST_UNLOCK</a>(&amp;<a class="code" href="../../d2/df7/structlogchannels.html">logchannels</a>);</div><div class="line"><a name="l02574"></a><span class="lineno"> 2574</span>&#160;   }</div><div class="line"><a name="l02575"></a><span class="lineno"> 2575</span>&#160;}</div><div class="ttc" id="isdn__lib_8c_html_ab9129b977a587b50ea801daac75e178f"><div class="ttname"><a href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a></div><div class="ttdeci">#define ARRAY_LEN(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dfe/isdn__lib_8c_source.html#l00042">isdn_lib.c:42</a></div></div>
<div class="ttc" id="logger_8c_html_a0705cfbd7955309ede3cb7969dac57f1"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a0705cfbd7955309ede3cb7969dac57f1">global_logmask</a></div><div class="ttdeci">static unsigned int global_logmask</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00085">logger.c:85</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a2d0cf4182bade9f773fb16ff12abe595"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a2d0cf4182bade9f773fb16ff12abe595">AST_RWLIST_WRLOCK</a></div><div class="ttdeci">#define AST_RWLIST_WRLOCK(head)</div><div class="ttdoc">Write locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00051">linkedlists.h:51</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a2e9a2518b5029b96671aff6701bd5138"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a2e9a2518b5029b96671aff6701bd5138">AST_RWLIST_UNLOCK</a></div><div class="ttdeci">#define AST_RWLIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a read/write based list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00150">linkedlists.h:150</a></div></div>
<div class="ttc" id="logger_8c_html_a2ae9b20e8a0ca3f97cf9f8927e0fdb7f"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a2ae9b20e8a0ca3f97cf9f8927e0fdb7f">levels</a></div><div class="ttdeci">static char * levels[NUMLOGLEVELS]</div><div class="ttdoc">Logging channels used in the Asterisk logging system. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00206">logger.c:206</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="logger_8c_html_a5a72f6b0d691624a37aabc6268c7bc3f"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a5a72f6b0d691624a37aabc6268c7bc3f">update_logchannels</a></div><div class="ttdeci">static void update_logchannels(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l02360">logger.c:2360</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="structlogchannels_html"><div class="ttname"><a href="../../d2/df7/structlogchannels.html">logchannels</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00158">logger.c:158</a></div></div>
<div class="ttc" id="cdr__mysql_8c_html_a0980a105ccb863d8008eb6201a51da52"><div class="ttname"><a href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a></div><div class="ttdeci">static const char name[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/cdr__mysql_8c_source.html#l00074">cdr_mysql.c:74</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a4fb0aca9bbcdb9709fa52a70aded6cae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4fb0aca9bbcdb9709fa52a70aded6cae">&#9670;&nbsp;</a></span>AST_MODULE_SELF_SYM()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a>* AST_MODULE_SELF_SYM </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/d22/logger_8c_source.html#l02615">2615</a> of file <a class="el" href="../../d1/d22/logger_8c_source.html">logger.c</a>.</p>

</div>
</div>
<a id="a9f7a6acbec3680a06af27ae561772915"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f7a6acbec3680a06af27ae561772915">&#9670;&nbsp;</a></span>ast_queue_log()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_queue_log </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>queuename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>callid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>agent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>event</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>fmt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/d22/logger_8c_source.html#l00894">894</a> of file <a class="el" href="../../d1/d22/logger_8c_source.html">logger.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/dde/test__func__file_8c_source.html#l00046">args</a>, <a class="el" href="../../d3/d93/include_2asterisk_2app_8h_source.html#l01232">AST_APP_ARG</a>, <a class="el" href="../../d2/d9d/main_2config_8c_source.html#l03363">ast_check_realtime()</a>, <a class="el" href="../../d3/d93/include_2asterisk_2app_8h_source.html#l01249">AST_DECLARE_APP_ARGS</a>, <a class="el" href="../../d9/df8/localtime_8c_source.html#l01739">ast_localtime()</a>, <a class="el" href="../../d3/d93/include_2asterisk_2app_8h_source.html#l01300">AST_NONSTANDARD_APP_ARGS</a>, <a class="el" href="../../d2/d9d/main_2config_8c_source.html#l03382">ast_realtime_require_field()</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00077">AST_RWLIST_RDLOCK</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00150">AST_RWLIST_UNLOCK</a>, <a class="el" href="../../d2/d9d/main_2config_8c_source.html#l03570">ast_store_realtime()</a>, <a class="el" href="../../d9/df8/localtime_8c_source.html#l02524">ast_strftime()</a>, <a class="el" href="../../de/df7/time_8h_source.html#l00150">ast_tvnow()</a>, <a class="el" href="../../d1/d22/logger_8c.html#a5bfecba707f2f239f10b2543de3b5ef6">logfiles</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00087">logger_initialized</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l01854">logger_queue_start()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00086">queuelog_init</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00076">RQ_CHAR</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00079">S_OR</a>, and <a class="el" href="../../d4/dd1/compiler_8h_source.html#l00087">SENTINEL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/dfb/app__queue_8c_source.html#l08025">aqm_exec()</a>, <a class="el" href="../../da/dfb/app__queue_8c_source.html#l03558">find_queue_by_name_rt()</a>, <a class="el" href="../../da/dfb/app__queue_8c_source.html#l06146">handle_blind_transfer()</a>, <a class="el" href="../../da/dfb/app__queue_8c_source.html#l06398">handle_hangup()</a>, <a class="el" href="../../da/dfb/app__queue_8c_source.html#l10561">handle_queue_add_member()</a>, <a class="el" href="../../da/dfb/app__queue_8c_source.html#l10687">handle_queue_remove_member()</a>, <a class="el" href="../../da/dfb/app__queue_8c_source.html#l06065">log_attended_transfer()</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l01854">logger_queue_start()</a>, <a class="el" href="../../da/dfb/app__queue_8c_source.html#l10222">manager_add_queue_member()</a>, <a class="el" href="../../da/dfb/app__queue_8c_source.html#l10358">manager_queue_log_custom()</a>, <a class="el" href="../../da/dfb/app__queue_8c_source.html#l10286">manager_remove_queue_member()</a>, <a class="el" href="../../da/dfb/app__queue_8c_source.html#l08106">ql_exec()</a>, <a class="el" href="../../da/dfb/app__queue_8c_source.html#l05895">queue_agent_cb()</a>, <a class="el" href="../../da/dfb/app__queue_8c_source.html#l08183">queue_exec()</a>, <a class="el" href="../../da/dfb/app__queue_8c_source.html#l11157">qupd_exec()</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l01141">reload_logger()</a>, <a class="el" href="../../da/dfb/app__queue_8c_source.html#l04839">rna()</a>, <a class="el" href="../../da/dfb/app__queue_8c_source.html#l07954">rqm_exec()</a>, <a class="el" href="../../da/dfb/app__queue_8c_source.html#l03392">rt_handle_member_record()</a>, <a class="el" href="../../da/dfb/app__queue_8c_source.html#l07528">set_member_paused()</a>, <a class="el" href="../../da/dfb/app__queue_8c_source.html#l07584">set_member_penalty_help_members()</a>, <a class="el" href="../../da/dfb/app__queue_8c_source.html#l07483">set_queue_member_pause()</a>, <a class="el" href="../../da/dfb/app__queue_8c_source.html#l07622">set_queue_member_ringinuse()</a>, <a class="el" href="../../da/dfb/app__queue_8c_source.html#l06722">try_calling()</a>, <a class="el" href="../../da/dfb/app__queue_8c_source.html#l03773">update_realtime_members()</a>, <a class="el" href="../../da/dfb/app__queue_8c_source.html#l04937">wait_for_answer()</a>, and <a class="el" href="../../da/dfb/app__queue_8c_source.html#l05626">wait_our_turn()</a>.</p>
<div class="fragment"><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;{</div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;   va_list ap;</div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;   <span class="keyword">struct </span>timeval tv;</div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d5/d84/structast__tm.html">ast_tm</a> tm;</div><div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;   <span class="keywordtype">char</span> qlog_msg[8192];</div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;   <span class="keywordtype">int</span> qlog_len;</div><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;   <span class="keywordtype">char</span> time_str[30];</div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;</div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d1/d22/logger_8c.html#a5f80b9400a0cdb3ac3a54a4da44af9b2">logger_initialized</a>) {</div><div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;      <span class="comment">/* You are too early.  We are not open yet! */</span></div><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;   }</div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d1/d22/logger_8c.html#a2069553a11b09d1186e5b61438b1991d">queuelog_init</a>) {</div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;      <span class="comment">/* We must initialize now since someone is trying to log something. */</span></div><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;      <a class="code" href="../../d1/d22/logger_8c.html#a29011844a44a126bacfb81e3bddabaad">logger_queue_start</a>();</div><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;   }</div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;</div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a910f835a41772603d33e200c956549ff">ast_check_realtime</a>(<span class="stringliteral">&quot;queue_log&quot;</span>)) {</div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;      tv = <a class="code" href="../../de/df7/time_8h.html#ad3899efb6f0e348556ef69f5b16aa7f7">ast_tvnow</a>();</div><div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;      <a class="code" href="../../d5/deb/localtime_8h.html#ae9fbda728350a9a5b9c09b29214d718e">ast_localtime</a>(&amp;tv, &amp;tm, <a class="code" href="../../d1/d22/logger_8c.html#a5bfecba707f2f239f10b2543de3b5ef6">logfiles</a>.queue_log_realtime_use_gmt ? <span class="stringliteral">&quot;GMT&quot;</span> : <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;      <a class="code" href="../../d5/deb/localtime_8h.html#aa8e63928b14a347bd3973d680b885f93">ast_strftime</a>(time_str, <span class="keyword">sizeof</span>(time_str), <span class="stringliteral">&quot;%F %T.%6q&quot;</span>, &amp;tm);</div><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;      va_start(ap, fmt);</div><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;      vsnprintf(qlog_msg, <span class="keyword">sizeof</span>(qlog_msg), fmt, ap);</div><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;      va_end(ap);</div><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d1/d22/logger_8c.html#a5bfecba707f2f239f10b2543de3b5ef6">logfiles</a>.queue_adaptive_realtime) {</div><div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;         <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a80cd3f6f786b59b742bcecfc0b3be7c2">AST_DECLARE_APP_ARGS</a>(<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>,</div><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;            <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a037e9a5b28477b17e7c9acbe7ecb21d5">AST_APP_ARG</a>(data)[5];</div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;         );</div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;         <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#accfcb380df76a64251d88ef49c2dd4e3">AST_NONSTANDARD_APP_ARGS</a>(<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>, qlog_msg, <span class="charliteral">&#39;|&#39;</span>);</div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;         <span class="comment">/* Ensure fields are large enough to receive data */</span></div><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;         <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a403ec8b49645ea204e82cb72bb8cf9f4">ast_realtime_require_field</a>(<span class="stringliteral">&quot;queue_log&quot;</span>,</div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;            <span class="stringliteral">&quot;data1&quot;</span>, <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#abbca034b0a98715c687b808347af82a3a75759a4654f061f8e7d6bd1ec7a3b4bb">RQ_CHAR</a>, strlen(<a class="code" href="../../d6/d90/strings_8h.html#a2faaa16929951bfd2802b7829a100ba2">S_OR</a>(<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>.data[0], <span class="stringliteral">&quot;&quot;</span>)),</div><div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;            <span class="stringliteral">&quot;data2&quot;</span>, <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#abbca034b0a98715c687b808347af82a3a75759a4654f061f8e7d6bd1ec7a3b4bb">RQ_CHAR</a>, strlen(<a class="code" href="../../d6/d90/strings_8h.html#a2faaa16929951bfd2802b7829a100ba2">S_OR</a>(<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>.data[1], <span class="stringliteral">&quot;&quot;</span>)),</div><div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;            <span class="stringliteral">&quot;data3&quot;</span>, <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#abbca034b0a98715c687b808347af82a3a75759a4654f061f8e7d6bd1ec7a3b4bb">RQ_CHAR</a>, strlen(<a class="code" href="../../d6/d90/strings_8h.html#a2faaa16929951bfd2802b7829a100ba2">S_OR</a>(<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>.data[2], <span class="stringliteral">&quot;&quot;</span>)),</div><div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;            <span class="stringliteral">&quot;data4&quot;</span>, <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#abbca034b0a98715c687b808347af82a3a75759a4654f061f8e7d6bd1ec7a3b4bb">RQ_CHAR</a>, strlen(<a class="code" href="../../d6/d90/strings_8h.html#a2faaa16929951bfd2802b7829a100ba2">S_OR</a>(<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>.data[3], <span class="stringliteral">&quot;&quot;</span>)),</div><div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;            <span class="stringliteral">&quot;data5&quot;</span>, <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#abbca034b0a98715c687b808347af82a3a75759a4654f061f8e7d6bd1ec7a3b4bb">RQ_CHAR</a>, strlen(<a class="code" href="../../d6/d90/strings_8h.html#a2faaa16929951bfd2802b7829a100ba2">S_OR</a>(<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>.data[4], <span class="stringliteral">&quot;&quot;</span>)),</div><div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;            <a class="code" href="../../d4/dd1/compiler_8h.html#af2af475b85aef66019c417d8ded1c435">SENTINEL</a>);</div><div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;</div><div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;         <span class="comment">/* Store the log */</span></div><div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;         <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#abbd9786e26d09dce06c32a53fd3c0cc2">ast_store_realtime</a>(<span class="stringliteral">&quot;queue_log&quot;</span>, <span class="stringliteral">&quot;time&quot;</span>, time_str,</div><div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;            <span class="stringliteral">&quot;callid&quot;</span>, callid,</div><div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;            <span class="stringliteral">&quot;queuename&quot;</span>, queuename,</div><div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;            <span class="stringliteral">&quot;agent&quot;</span>, agent,</div><div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;            <span class="stringliteral">&quot;event&quot;</span>, <a class="code" href="../../df/d7d/structevent.html">event</a>,</div><div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;            <span class="stringliteral">&quot;data1&quot;</span>, <a class="code" href="../../d6/d90/strings_8h.html#a2faaa16929951bfd2802b7829a100ba2">S_OR</a>(<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>.data[0], <span class="stringliteral">&quot;&quot;</span>),</div><div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;            <span class="stringliteral">&quot;data2&quot;</span>, <a class="code" href="../../d6/d90/strings_8h.html#a2faaa16929951bfd2802b7829a100ba2">S_OR</a>(<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>.data[1], <span class="stringliteral">&quot;&quot;</span>),</div><div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;            <span class="stringliteral">&quot;data3&quot;</span>, <a class="code" href="../../d6/d90/strings_8h.html#a2faaa16929951bfd2802b7829a100ba2">S_OR</a>(<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>.data[2], <span class="stringliteral">&quot;&quot;</span>),</div><div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;            <span class="stringliteral">&quot;data4&quot;</span>, <a class="code" href="../../d6/d90/strings_8h.html#a2faaa16929951bfd2802b7829a100ba2">S_OR</a>(<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>.data[3], <span class="stringliteral">&quot;&quot;</span>),</div><div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;            <span class="stringliteral">&quot;data5&quot;</span>, <a class="code" href="../../d6/d90/strings_8h.html#a2faaa16929951bfd2802b7829a100ba2">S_OR</a>(<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>.data[4], <span class="stringliteral">&quot;&quot;</span>),</div><div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;            <a class="code" href="../../d4/dd1/compiler_8h.html#af2af475b85aef66019c417d8ded1c435">SENTINEL</a>);</div><div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;         <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#abbd9786e26d09dce06c32a53fd3c0cc2">ast_store_realtime</a>(<span class="stringliteral">&quot;queue_log&quot;</span>, <span class="stringliteral">&quot;time&quot;</span>, time_str,</div><div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;            <span class="stringliteral">&quot;callid&quot;</span>, callid,</div><div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;            <span class="stringliteral">&quot;queuename&quot;</span>, queuename,</div><div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;            <span class="stringliteral">&quot;agent&quot;</span>, agent,</div><div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;            <span class="stringliteral">&quot;event&quot;</span>, <a class="code" href="../../df/d7d/structevent.html">event</a>,</div><div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;            <span class="stringliteral">&quot;data&quot;</span>, qlog_msg,</div><div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;            <a class="code" href="../../d4/dd1/compiler_8h.html#af2af475b85aef66019c417d8ded1c435">SENTINEL</a>);</div><div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;      }</div><div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;</div><div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="../../d1/d22/logger_8c.html#a5bfecba707f2f239f10b2543de3b5ef6">logfiles</a>.queue_log_to_file) {</div><div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;         <span class="keywordflow">return</span>;</div><div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;      }</div><div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;   }</div><div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;</div><div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d1/d22/logger_8c.html#a59cef8b13e5fcb3e2ea61f66ea4bf0e5">qlog</a>) {</div><div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;      va_start(ap, fmt);</div><div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;      qlog_len = snprintf(qlog_msg, <span class="keyword">sizeof</span>(qlog_msg), <span class="stringliteral">&quot;%ld|%s|%s|%s|%s|&quot;</span>, (<span class="keywordtype">long</span>)time(<a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>), callid, queuename, agent, <a class="code" href="../../df/d7d/structevent.html">event</a>);</div><div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;      vsnprintf(qlog_msg + qlog_len, <span class="keyword">sizeof</span>(qlog_msg) - qlog_len, fmt, ap);</div><div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;      va_end(ap);</div><div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;      <a class="code" href="../../df/d90/linkedlists_8h.html#a0a0fe104cc2cc36a43784f886f3ae7dc">AST_RWLIST_RDLOCK</a>(&amp;<a class="code" href="../../d2/df7/structlogchannels.html">logchannels</a>);</div><div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d1/d22/logger_8c.html#a59cef8b13e5fcb3e2ea61f66ea4bf0e5">qlog</a>) {</div><div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;         fprintf(<a class="code" href="../../d1/d22/logger_8c.html#a59cef8b13e5fcb3e2ea61f66ea4bf0e5">qlog</a>, <span class="stringliteral">&quot;%s\n&quot;</span>, qlog_msg);</div><div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;         fflush(<a class="code" href="../../d1/d22/logger_8c.html#a59cef8b13e5fcb3e2ea61f66ea4bf0e5">qlog</a>);</div><div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;      }</div><div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;      <a class="code" href="../../df/d90/linkedlists_8h.html#a2e9a2518b5029b96671aff6701bd5138">AST_RWLIST_UNLOCK</a>(&amp;<a class="code" href="../../d2/df7/structlogchannels.html">logchannels</a>);</div><div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;   }</div><div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;}</div><div class="ttc" id="logger_8c_html_a2069553a11b09d1186e5b61438b1991d"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a2069553a11b09d1186e5b61438b1991d">queuelog_init</a></div><div class="ttdeci">static int queuelog_init</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00086">logger.c:86</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a2e9a2518b5029b96671aff6701bd5138"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a2e9a2518b5029b96671aff6701bd5138">AST_RWLIST_UNLOCK</a></div><div class="ttdeci">#define AST_RWLIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a read/write based list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00150">linkedlists.h:150</a></div></div>
<div class="ttc" id="localtime_8h_html_ae9fbda728350a9a5b9c09b29214d718e"><div class="ttname"><a href="../../d5/deb/localtime_8h.html#ae9fbda728350a9a5b9c09b29214d718e">ast_localtime</a></div><div class="ttdeci">struct ast_tm * ast_localtime(const struct timeval *timep, struct ast_tm *p_tm, const char *zone)</div><div class="ttdoc">Timezone-independent version of localtime_r(3). </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/df8/localtime_8c_source.html#l01739">localtime.c:1739</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a910f835a41772603d33e200c956549ff"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a910f835a41772603d33e200c956549ff">ast_check_realtime</a></div><div class="ttdeci">int ast_check_realtime(const char *family)</div><div class="ttdoc">Check if realtime engine is configured for family. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d9d/main_2config_8c_source.html#l03363">main/config.c:3363</a></div></div>
<div class="ttc" id="structevent_html"><div class="ttname"><a href="../../df/d7d/structevent.html">event</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d4d/astman_8c_source.html#l00222">astman.c:222</a></div></div>
<div class="ttc" id="logger_8c_html_a29011844a44a126bacfb81e3bddabaad"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a29011844a44a126bacfb81e3bddabaad">logger_queue_start</a></div><div class="ttdeci">void logger_queue_start(void)</div><div class="ttdoc">Start the ast_queue_log() logger. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l01854">logger.c:1854</a></div></div>
<div class="ttc" id="time_8h_html_ad3899efb6f0e348556ef69f5b16aa7f7"><div class="ttname"><a href="../../de/df7/time_8h.html#ad3899efb6f0e348556ef69f5b16aa7f7">ast_tvnow</a></div><div class="ttdeci">struct timeval ast_tvnow(void)</div><div class="ttdoc">Returns current timeval. Meant to replace calls to gettimeofday(). </div><div class="ttdef"><b>Definition:</b> <a href="../../de/df7/time_8h_source.html#l00150">time.h:150</a></div></div>
<div class="ttc" id="test__func__file_8c_html_a7df83d295429a2562396f1ec127a46c0"><div class="ttname"><a href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a></div><div class="ttdeci">const char * args</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/test__func__file_8c_source.html#l00046">test_func_file.c:46</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="logger_8c_html_a59cef8b13e5fcb3e2ea61f66ea4bf0e5"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a59cef8b13e5fcb3e2ea61f66ea4bf0e5">qlog</a></div><div class="ttdeci">static FILE * qlog</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00193">logger.c:193</a></div></div>
<div class="ttc" id="logger_8c_html_a5f80b9400a0cdb3ac3a54a4da44af9b2"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a5f80b9400a0cdb3ac3a54a4da44af9b2">logger_initialized</a></div><div class="ttdeci">static int logger_initialized</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00087">logger.c:87</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a0a0fe104cc2cc36a43784f886f3ae7dc"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a0a0fe104cc2cc36a43784f886f3ae7dc">AST_RWLIST_RDLOCK</a></div><div class="ttdeci">#define AST_RWLIST_RDLOCK(head)</div><div class="ttdoc">Read locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00077">linkedlists.h:77</a></div></div>
<div class="ttc" id="compiler_8h_html_af2af475b85aef66019c417d8ded1c435"><div class="ttname"><a href="../../d4/dd1/compiler_8h.html#af2af475b85aef66019c417d8ded1c435">SENTINEL</a></div><div class="ttdeci">#define SENTINEL</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dd1/compiler_8h_source.html#l00087">compiler.h:87</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_abbd9786e26d09dce06c32a53fd3c0cc2"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#abbd9786e26d09dce06c32a53fd3c0cc2">ast_store_realtime</a></div><div class="ttdeci">int ast_store_realtime(const char *family,...) attribute_sentinel</div><div class="ttdoc">Create realtime configuration. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d9d/main_2config_8c_source.html#l03570">main/config.c:3570</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a403ec8b49645ea204e82cb72bb8cf9f4"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a403ec8b49645ea204e82cb72bb8cf9f4">ast_realtime_require_field</a></div><div class="ttdeci">int ast_realtime_require_field(const char *family,...) attribute_sentinel</div><div class="ttdoc">Inform realtime what fields that may be stored. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d9d/main_2config_8c_source.html#l03382">main/config.c:3382</a></div></div>
<div class="ttc" id="structlogchannels_html"><div class="ttname"><a href="../../d2/df7/structlogchannels.html">logchannels</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00158">logger.c:158</a></div></div>
<div class="ttc" id="include_2asterisk_2app_8h_html_accfcb380df76a64251d88ef49c2dd4e3"><div class="ttname"><a href="../../d3/d93/include_2asterisk_2app_8h.html#accfcb380df76a64251d88ef49c2dd4e3">AST_NONSTANDARD_APP_ARGS</a></div><div class="ttdeci">#define AST_NONSTANDARD_APP_ARGS(args, parse, sep)</div><div class="ttdoc">Performs the &amp;#39;nonstandard&amp;#39; argument separation process for an application. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l01300">include/asterisk/app.h:1300</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_abbca034b0a98715c687b808347af82a3a75759a4654f061f8e7d6bd1ec7a3b4bb"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#abbca034b0a98715c687b808347af82a3a75759a4654f061f8e7d6bd1ec7a3b4bb">RQ_CHAR</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00076">include/asterisk/config.h:76</a></div></div>
<div class="ttc" id="localtime_8h_html_aa8e63928b14a347bd3973d680b885f93"><div class="ttname"><a href="../../d5/deb/localtime_8h.html#aa8e63928b14a347bd3973d680b885f93">ast_strftime</a></div><div class="ttdeci">int ast_strftime(char *buf, size_t len, const char *format, const struct ast_tm *tm)</div><div class="ttdoc">Special version of strftime(3) that handles fractions of a second. Takes the same arguments as strfti...</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/df8/localtime_8c_source.html#l02524">localtime.c:2524</a></div></div>
<div class="ttc" id="strings_8h_html_a2faaa16929951bfd2802b7829a100ba2"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a2faaa16929951bfd2802b7829a100ba2">S_OR</a></div><div class="ttdeci">#define S_OR(a, b)</div><div class="ttdoc">returns the equivalent of logic or for strings: first one if not empty, otherwise second one...</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00079">strings.h:79</a></div></div>
<div class="ttc" id="include_2asterisk_2app_8h_html_a80cd3f6f786b59b742bcecfc0b3be7c2"><div class="ttname"><a href="../../d3/d93/include_2asterisk_2app_8h.html#a80cd3f6f786b59b742bcecfc0b3be7c2">AST_DECLARE_APP_ARGS</a></div><div class="ttdeci">#define AST_DECLARE_APP_ARGS(name, arglist)</div><div class="ttdoc">Declare a structure to hold an application&amp;#39;s arguments. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l01249">include/asterisk/app.h:1249</a></div></div>
<div class="ttc" id="logger_8c_html_a5bfecba707f2f239f10b2543de3b5ef6"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a5bfecba707f2f239f10b2543de3b5ef6">logfiles</a></div><div class="ttdeci">static struct @403 logfiles</div></div>
<div class="ttc" id="include_2asterisk_2app_8h_html_a037e9a5b28477b17e7c9acbe7ecb21d5"><div class="ttname"><a href="../../d3/d93/include_2asterisk_2app_8h.html#a037e9a5b28477b17e7c9acbe7ecb21d5">AST_APP_ARG</a></div><div class="ttdeci">#define AST_APP_ARG(name)</div><div class="ttdoc">Define an application argument. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l01232">include/asterisk/app.h:1232</a></div></div>
<div class="ttc" id="structast__tm_html"><div class="ttname"><a href="../../d5/d84/structast__tm.html">ast_tm</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/deb/localtime_8h_source.html#l00035">localtime.h:35</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a5b3f39ea262ffa795ce4b597968ad00b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b3f39ea262ffa795ce4b597968ad00b">&#9670;&nbsp;</a></span>ast_read_threadstorage_callid()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d1/d8c/logger_8h.html#a6db44a7e26f0bc42801fc7225817c6a1">ast_callid</a> ast_read_threadstorage_callid </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>extracts the callerid from the thread </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">Non-zero</td><td>Call id related to the thread </td></tr>
    <tr><td class="paramname">0</td><td>if no call_id is present in the thread </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d1/d22/logger_8c_source.html#l01962">1962</a> of file <a class="el" href="../../d1/d22/logger_8c_source.html">logger.c</a>.</p>

<p class="reference">References <a class="el" href="../../dc/d7d/threadstorage_8h_source.html#l00197">ast_threadstorage_get()</a>, and <a class="el" href="../../d1/d22/logger_8c_source.html#l00091">unique_callid</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d94/pbx_8c_source.html#l04310">__ast_pbx_run()</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l02198">__ast_verbose()</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l02020">ast_callid_threadstorage_auto()</a>, <a class="el" href="../../de/d43/dial_8c_source.html#l00939">ast_dial_run()</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l02110">ast_log_ap()</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l02123">ast_log_safe()</a>, <a class="el" href="../../d3/d32/bridge__channel_8c_source.html#l02902">bridge_channel_internal_join()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l01823">bridge_impart_internal()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02433">common_recall_channel_setup()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l12458">iax2_request()</a>, <a class="el" href="../../de/da4/chan__motif_8c_source.html#l00701">jingle_alloc()</a>, <a class="el" href="../../d8/d93/app__mixmonitor_8c_source.html#l00933">launch_monitor_thread()</a>, <a class="el" href="../../de/d47/core__local_8c_source.html#l00940">local_request_with_stream_topology()</a>, <a class="el" href="../../df/d0c/chan__bridge__media_8c_source.html#l00115">media_request_helper()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l30793">sip_request_call()</a>, and <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l11968">socket_process()</a>.</p>
<div class="fragment"><div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160;{</div><div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a6db44a7e26f0bc42801fc7225817c6a1">ast_callid</a> *callid;</div><div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160;</div><div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160;   callid = <a class="code" href="../../dc/d7d/threadstorage_8h.html#ab6ff44d2acf6ea45090177cd3141da03">ast_threadstorage_get</a>(&amp;<a class="code" href="../../d1/d22/logger_8c.html#a97ee77a4a8f2f77dadc496b5ba2aee40">unique_callid</a>, <span class="keyword">sizeof</span>(*callid));</div><div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;</div><div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160;   <span class="keywordflow">return</span> callid ? *callid : 0;</div><div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160;}</div><div class="ttc" id="threadstorage_8h_html_ab6ff44d2acf6ea45090177cd3141da03"><div class="ttname"><a href="../../dc/d7d/threadstorage_8h.html#ab6ff44d2acf6ea45090177cd3141da03">ast_threadstorage_get</a></div><div class="ttdeci">void * ast_threadstorage_get(struct ast_threadstorage *ts, size_t init_size)</div><div class="ttdoc">Retrieve thread storage. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7d/threadstorage_8h_source.html#l00197">threadstorage.h:197</a></div></div>
<div class="ttc" id="logger_8h_html_a6db44a7e26f0bc42801fc7225817c6a1"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a6db44a7e26f0bc42801fc7225817c6a1">ast_callid</a></div><div class="ttdeci">unsigned int ast_callid</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00087">logger.h:87</a></div></div>
<div class="ttc" id="logger_8c_html_a97ee77a4a8f2f77dadc496b5ba2aee40"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a97ee77a4a8f2f77dadc496b5ba2aee40">unique_callid</a></div><div class="ttdeci">static struct ast_threadstorage unique_callid</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00091">logger.c:91</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a1a90d4b9df64212982f448c9b287fe5f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a90d4b9df64212982f448c9b287fe5f">&#9670;&nbsp;</a></span>AST_THREADSTORAGE_RAW() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AST_THREADSTORAGE_RAW </td>
          <td>(</td>
          <td class="paramtype">in_safe_log&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../d1/d22/logger_8c_source.html#l02360">update_logchannels()</a>.</p>

</div>
</div>
<a id="af9b36c97a988cc92d860b2412da16ebb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af9b36c97a988cc92d860b2412da16ebb">&#9670;&nbsp;</a></span>AST_THREADSTORAGE_RAW() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AST_THREADSTORAGE_RAW </td>
          <td>(</td>
          <td class="paramtype">trace_indent&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ae20a38a15eebc85a55879b97f02185de"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae20a38a15eebc85a55879b97f02185de">&#9670;&nbsp;</a></span>ast_verb_console_get()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_verb_console_get </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get this thread's console verbosity level. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">verbosity</td><td>level of the console. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d1/d22/logger_8c_source.html#l02323">2323</a> of file <a class="el" href="../../d1/d22/logger_8c_source.html">logger.c</a>.</p>

<p class="reference">References <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00077">AST_RWLIST_RDLOCK</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00150">AST_RWLIST_UNLOCK</a>, <a class="el" href="../../dc/d7d/threadstorage_8h_source.html#l00197">ast_threadstorage_get()</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l02223">verb_console::level</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l02294">my_verb_console</a>, and <a class="el" href="../../de/dc5/options_8c_source.html#l00067">option_verbose</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/d03/asterisk_8c_source.html#l00450">handle_show_settings()</a>, and <a class="el" href="../../df/dd3/main_2cli_8c_source.html#l00683">handle_verbose()</a>.</p>
<div class="fragment"><div class="line"><a name="l02324"></a><span class="lineno"> 2324</span>&#160;{</div><div class="line"><a name="l02325"></a><span class="lineno"> 2325</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/d9c/structverb__console.html">verb_console</a> *<a class="code" href="../../df/d87/structconsole.html">console</a>;</div><div class="line"><a name="l02326"></a><span class="lineno"> 2326</span>&#160;   <span class="keywordtype">int</span> verb_level;</div><div class="line"><a name="l02327"></a><span class="lineno"> 2327</span>&#160;</div><div class="line"><a name="l02328"></a><span class="lineno"> 2328</span>&#160;   console = <a class="code" href="../../dc/d7d/threadstorage_8h.html#ab6ff44d2acf6ea45090177cd3141da03">ast_threadstorage_get</a>(&amp;<a class="code" href="../../d1/d22/logger_8c.html#ac0079c92df75011eb8925813e3c86482">my_verb_console</a>, <span class="keyword">sizeof</span>(*console));</div><div class="line"><a name="l02329"></a><span class="lineno"> 2329</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a0a0fe104cc2cc36a43784f886f3ae7dc">AST_RWLIST_RDLOCK</a>(&amp;<a class="code" href="../../d7/d05/structverb__consoles.html">verb_consoles</a>);</div><div class="line"><a name="l02330"></a><span class="lineno"> 2330</span>&#160;   <span class="keywordflow">if</span> (!console) {</div><div class="line"><a name="l02331"></a><span class="lineno"> 2331</span>&#160;      verb_level = 0;</div><div class="line"><a name="l02332"></a><span class="lineno"> 2332</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (console-&gt;<a class="code" href="../../d9/d9c/structverb__console.html#ac9001fc93d0a01b8c60a77f1e5b6a7f1">level</a>) {</div><div class="line"><a name="l02333"></a><span class="lineno"> 2333</span>&#160;      verb_level = *console-&gt;<a class="code" href="../../d9/d9c/structverb__console.html#ac9001fc93d0a01b8c60a77f1e5b6a7f1">level</a>;</div><div class="line"><a name="l02334"></a><span class="lineno"> 2334</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02335"></a><span class="lineno"> 2335</span>&#160;      verb_level = <a class="code" href="../../d6/dd6/group__main__options.html#gaa294d0efa6a89c1a3d162787cac4fff5">option_verbose</a>;</div><div class="line"><a name="l02336"></a><span class="lineno"> 2336</span>&#160;   }</div><div class="line"><a name="l02337"></a><span class="lineno"> 2337</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a2e9a2518b5029b96671aff6701bd5138">AST_RWLIST_UNLOCK</a>(&amp;<a class="code" href="../../d7/d05/structverb__consoles.html">verb_consoles</a>);</div><div class="line"><a name="l02338"></a><span class="lineno"> 2338</span>&#160;   <span class="keywordflow">return</span> verb_level;</div><div class="line"><a name="l02339"></a><span class="lineno"> 2339</span>&#160;}</div><div class="ttc" id="logger_8c_html_ac0079c92df75011eb8925813e3c86482"><div class="ttname"><a href="../../d1/d22/logger_8c.html#ac0079c92df75011eb8925813e3c86482">my_verb_console</a></div><div class="ttdeci">static struct ast_threadstorage my_verb_console</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l02294">logger.c:2294</a></div></div>
<div class="ttc" id="threadstorage_8h_html_ab6ff44d2acf6ea45090177cd3141da03"><div class="ttname"><a href="../../dc/d7d/threadstorage_8h.html#ab6ff44d2acf6ea45090177cd3141da03">ast_threadstorage_get</a></div><div class="ttdeci">void * ast_threadstorage_get(struct ast_threadstorage *ts, size_t init_size)</div><div class="ttdoc">Retrieve thread storage. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7d/threadstorage_8h_source.html#l00197">threadstorage.h:197</a></div></div>
<div class="ttc" id="structconsole_html"><div class="ttname"><a href="../../df/d87/structconsole.html">console</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d03/asterisk_8c_source.html#l00316">asterisk.c:316</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a2e9a2518b5029b96671aff6701bd5138"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a2e9a2518b5029b96671aff6701bd5138">AST_RWLIST_UNLOCK</a></div><div class="ttdeci">#define AST_RWLIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a read/write based list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00150">linkedlists.h:150</a></div></div>
<div class="ttc" id="structverb__console_html"><div class="ttname"><a href="../../d9/d9c/structverb__console.html">verb_console</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l02219">logger.c:2219</a></div></div>
<div class="ttc" id="group__main__options_html_gaa294d0efa6a89c1a3d162787cac4fff5"><div class="ttname"><a href="../../d6/dd6/group__main__options.html#gaa294d0efa6a89c1a3d162787cac4fff5">option_verbose</a></div><div class="ttdeci">int option_verbose</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc5/options_8c_source.html#l00067">options.c:67</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a0a0fe104cc2cc36a43784f886f3ae7dc"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a0a0fe104cc2cc36a43784f886f3ae7dc">AST_RWLIST_RDLOCK</a></div><div class="ttdeci">#define AST_RWLIST_RDLOCK(head)</div><div class="ttdoc">Read locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00077">linkedlists.h:77</a></div></div>
<div class="ttc" id="structverb__consoles_html"><div class="ttname"><a href="../../d7/d05/structverb__consoles.html">verb_consoles</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l02227">logger.c:2227</a></div></div>
<div class="ttc" id="structverb__console_html_ac9001fc93d0a01b8c60a77f1e5b6a7f1"><div class="ttname"><a href="../../d9/d9c/structverb__console.html#ac9001fc93d0a01b8c60a77f1e5b6a7f1">verb_console::level</a></div><div class="ttdeci">int * level</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l02223">logger.c:2223</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a32a16834a00172c3284070e6d6d38f47"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a32a16834a00172c3284070e6d6d38f47">&#9670;&nbsp;</a></span>ast_verb_console_register()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_verb_console_register </td>
          <td>(</td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>level</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register this thread's console verbosity level pointer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">level</td><td>Where the verbose level value is.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Nothing </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d1/d22/logger_8c_source.html#l02296">2296</a> of file <a class="el" href="../../d1/d22/logger_8c_source.html">logger.c</a>.</p>

<p class="reference">References <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00717">AST_RWLIST_INSERT_HEAD</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00150">AST_RWLIST_UNLOCK</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00051">AST_RWLIST_WRLOCK</a>, <a class="el" href="../../dc/d7d/threadstorage_8h_source.html#l00197">ast_threadstorage_get()</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l02232">ast_verb_update()</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l02223">verb_console::level</a>, and <a class="el" href="../../d1/d22/logger_8c_source.html#l02294">my_verb_console</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/d03/asterisk_8c_source.html#l01386">netconsole()</a>.</p>
<div class="fragment"><div class="line"><a name="l02297"></a><span class="lineno"> 2297</span>&#160;{</div><div class="line"><a name="l02298"></a><span class="lineno"> 2298</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/d9c/structverb__console.html">verb_console</a> *<a class="code" href="../../df/d87/structconsole.html">console</a>;</div><div class="line"><a name="l02299"></a><span class="lineno"> 2299</span>&#160;</div><div class="line"><a name="l02300"></a><span class="lineno"> 2300</span>&#160;   console = <a class="code" href="../../dc/d7d/threadstorage_8h.html#ab6ff44d2acf6ea45090177cd3141da03">ast_threadstorage_get</a>(&amp;<a class="code" href="../../d1/d22/logger_8c.html#ac0079c92df75011eb8925813e3c86482">my_verb_console</a>, <span class="keyword">sizeof</span>(*console));</div><div class="line"><a name="l02301"></a><span class="lineno"> 2301</span>&#160;   <span class="keywordflow">if</span> (!console || !<a class="code" href="../../d9/d9c/structverb__console.html#ac9001fc93d0a01b8c60a77f1e5b6a7f1">level</a>) {</div><div class="line"><a name="l02302"></a><span class="lineno"> 2302</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l02303"></a><span class="lineno"> 2303</span>&#160;   }</div><div class="line"><a name="l02304"></a><span class="lineno"> 2304</span>&#160;   console-&gt;<a class="code" href="../../d9/d9c/structverb__console.html#ac9001fc93d0a01b8c60a77f1e5b6a7f1">level</a> = <a class="code" href="../../d9/d9c/structverb__console.html#ac9001fc93d0a01b8c60a77f1e5b6a7f1">level</a>;</div><div class="line"><a name="l02305"></a><span class="lineno"> 2305</span>&#160;</div><div class="line"><a name="l02306"></a><span class="lineno"> 2306</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a2d0cf4182bade9f773fb16ff12abe595">AST_RWLIST_WRLOCK</a>(&amp;<a class="code" href="../../d7/d05/structverb__consoles.html">verb_consoles</a>);</div><div class="line"><a name="l02307"></a><span class="lineno"> 2307</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#aacc5f6b7c25e361d11d40137fd55a8e8">AST_RWLIST_INSERT_HEAD</a>(&amp;<a class="code" href="../../d7/d05/structverb__consoles.html">verb_consoles</a>, console, <a class="code" href="../../d5/da1/structnode.html">node</a>);</div><div class="line"><a name="l02308"></a><span class="lineno"> 2308</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a2e9a2518b5029b96671aff6701bd5138">AST_RWLIST_UNLOCK</a>(&amp;<a class="code" href="../../d7/d05/structverb__consoles.html">verb_consoles</a>);</div><div class="line"><a name="l02309"></a><span class="lineno"> 2309</span>&#160;   <a class="code" href="../../d1/d22/logger_8c.html#aad013a7e1fb2dcbd046b44c40b060e5b">ast_verb_update</a>();</div><div class="line"><a name="l02310"></a><span class="lineno"> 2310</span>&#160;}</div><div class="ttc" id="structnode_html"><div class="ttname"><a href="../../d5/da1/structnode.html">node</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d2b/test__heap_8c_source.html#l00038">test_heap.c:38</a></div></div>
<div class="ttc" id="logger_8c_html_ac0079c92df75011eb8925813e3c86482"><div class="ttname"><a href="../../d1/d22/logger_8c.html#ac0079c92df75011eb8925813e3c86482">my_verb_console</a></div><div class="ttdeci">static struct ast_threadstorage my_verb_console</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l02294">logger.c:2294</a></div></div>
<div class="ttc" id="threadstorage_8h_html_ab6ff44d2acf6ea45090177cd3141da03"><div class="ttname"><a href="../../dc/d7d/threadstorage_8h.html#ab6ff44d2acf6ea45090177cd3141da03">ast_threadstorage_get</a></div><div class="ttdeci">void * ast_threadstorage_get(struct ast_threadstorage *ts, size_t init_size)</div><div class="ttdoc">Retrieve thread storage. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7d/threadstorage_8h_source.html#l00197">threadstorage.h:197</a></div></div>
<div class="ttc" id="structconsole_html"><div class="ttname"><a href="../../df/d87/structconsole.html">console</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d03/asterisk_8c_source.html#l00316">asterisk.c:316</a></div></div>
<div class="ttc" id="logger_8c_html_aad013a7e1fb2dcbd046b44c40b060e5b"><div class="ttname"><a href="../../d1/d22/logger_8c.html#aad013a7e1fb2dcbd046b44c40b060e5b">ast_verb_update</a></div><div class="ttdeci">void ast_verb_update(void)</div><div class="ttdoc">Re-evaluate the system max verbosity level (ast_verb_sys_level). </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l02232">logger.c:2232</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a2d0cf4182bade9f773fb16ff12abe595"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a2d0cf4182bade9f773fb16ff12abe595">AST_RWLIST_WRLOCK</a></div><div class="ttdeci">#define AST_RWLIST_WRLOCK(head)</div><div class="ttdoc">Write locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00051">linkedlists.h:51</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a2e9a2518b5029b96671aff6701bd5138"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a2e9a2518b5029b96671aff6701bd5138">AST_RWLIST_UNLOCK</a></div><div class="ttdeci">#define AST_RWLIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a read/write based list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00150">linkedlists.h:150</a></div></div>
<div class="ttc" id="structverb__console_html"><div class="ttname"><a href="../../d9/d9c/structverb__console.html">verb_console</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l02219">logger.c:2219</a></div></div>
<div class="ttc" id="linkedlists_8h_html_aacc5f6b7c25e361d11d40137fd55a8e8"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#aacc5f6b7c25e361d11d40137fd55a8e8">AST_RWLIST_INSERT_HEAD</a></div><div class="ttdeci">#define AST_RWLIST_INSERT_HEAD</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00717">linkedlists.h:717</a></div></div>
<div class="ttc" id="structverb__consoles_html"><div class="ttname"><a href="../../d7/d05/structverb__consoles.html">verb_consoles</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l02227">logger.c:2227</a></div></div>
<div class="ttc" id="structverb__console_html_ac9001fc93d0a01b8c60a77f1e5b6a7f1"><div class="ttname"><a href="../../d9/d9c/structverb__console.html#ac9001fc93d0a01b8c60a77f1e5b6a7f1">verb_console::level</a></div><div class="ttdeci">int * level</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l02223">logger.c:2223</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af6d25060778549d235d9c2aaf669b6ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af6d25060778549d235d9c2aaf669b6ee">&#9670;&nbsp;</a></span>ast_verb_console_set()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_verb_console_set </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>verb_level</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set this thread's console verbosity level. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">verb_level</td><td>New level to set.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Nothing </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d1/d22/logger_8c_source.html#l02341">2341</a> of file <a class="el" href="../../d1/d22/logger_8c_source.html">logger.c</a>.</p>

<p class="reference">References <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00150">AST_RWLIST_UNLOCK</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00051">AST_RWLIST_WRLOCK</a>, <a class="el" href="../../dc/d7d/threadstorage_8h_source.html#l00197">ast_threadstorage_get()</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l02232">ast_verb_update()</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l02223">verb_console::level</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l02294">my_verb_console</a>, and <a class="el" href="../../de/dc5/options_8c_source.html#l00067">option_verbose</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/dd3/main_2cli_8c_source.html#l00683">handle_verbose()</a>.</p>
<div class="fragment"><div class="line"><a name="l02342"></a><span class="lineno"> 2342</span>&#160;{</div><div class="line"><a name="l02343"></a><span class="lineno"> 2343</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/d9c/structverb__console.html">verb_console</a> *<a class="code" href="../../df/d87/structconsole.html">console</a>;</div><div class="line"><a name="l02344"></a><span class="lineno"> 2344</span>&#160;</div><div class="line"><a name="l02345"></a><span class="lineno"> 2345</span>&#160;   console = <a class="code" href="../../dc/d7d/threadstorage_8h.html#ab6ff44d2acf6ea45090177cd3141da03">ast_threadstorage_get</a>(&amp;<a class="code" href="../../d1/d22/logger_8c.html#ac0079c92df75011eb8925813e3c86482">my_verb_console</a>, <span class="keyword">sizeof</span>(*console));</div><div class="line"><a name="l02346"></a><span class="lineno"> 2346</span>&#160;   <span class="keywordflow">if</span> (!console) {</div><div class="line"><a name="l02347"></a><span class="lineno"> 2347</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l02348"></a><span class="lineno"> 2348</span>&#160;   }</div><div class="line"><a name="l02349"></a><span class="lineno"> 2349</span>&#160;</div><div class="line"><a name="l02350"></a><span class="lineno"> 2350</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a2d0cf4182bade9f773fb16ff12abe595">AST_RWLIST_WRLOCK</a>(&amp;<a class="code" href="../../d7/d05/structverb__consoles.html">verb_consoles</a>);</div><div class="line"><a name="l02351"></a><span class="lineno"> 2351</span>&#160;   <span class="keywordflow">if</span> (console-&gt;<a class="code" href="../../d9/d9c/structverb__console.html#ac9001fc93d0a01b8c60a77f1e5b6a7f1">level</a>) {</div><div class="line"><a name="l02352"></a><span class="lineno"> 2352</span>&#160;      *console-&gt;<a class="code" href="../../d9/d9c/structverb__console.html#ac9001fc93d0a01b8c60a77f1e5b6a7f1">level</a> = verb_level;</div><div class="line"><a name="l02353"></a><span class="lineno"> 2353</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02354"></a><span class="lineno"> 2354</span>&#160;      <a class="code" href="../../d6/dd6/group__main__options.html#gaa294d0efa6a89c1a3d162787cac4fff5">option_verbose</a> = verb_level;</div><div class="line"><a name="l02355"></a><span class="lineno"> 2355</span>&#160;   }</div><div class="line"><a name="l02356"></a><span class="lineno"> 2356</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a2e9a2518b5029b96671aff6701bd5138">AST_RWLIST_UNLOCK</a>(&amp;<a class="code" href="../../d7/d05/structverb__consoles.html">verb_consoles</a>);</div><div class="line"><a name="l02357"></a><span class="lineno"> 2357</span>&#160;   <a class="code" href="../../d1/d22/logger_8c.html#aad013a7e1fb2dcbd046b44c40b060e5b">ast_verb_update</a>();</div><div class="line"><a name="l02358"></a><span class="lineno"> 2358</span>&#160;}</div><div class="ttc" id="logger_8c_html_ac0079c92df75011eb8925813e3c86482"><div class="ttname"><a href="../../d1/d22/logger_8c.html#ac0079c92df75011eb8925813e3c86482">my_verb_console</a></div><div class="ttdeci">static struct ast_threadstorage my_verb_console</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l02294">logger.c:2294</a></div></div>
<div class="ttc" id="threadstorage_8h_html_ab6ff44d2acf6ea45090177cd3141da03"><div class="ttname"><a href="../../dc/d7d/threadstorage_8h.html#ab6ff44d2acf6ea45090177cd3141da03">ast_threadstorage_get</a></div><div class="ttdeci">void * ast_threadstorage_get(struct ast_threadstorage *ts, size_t init_size)</div><div class="ttdoc">Retrieve thread storage. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7d/threadstorage_8h_source.html#l00197">threadstorage.h:197</a></div></div>
<div class="ttc" id="structconsole_html"><div class="ttname"><a href="../../df/d87/structconsole.html">console</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d03/asterisk_8c_source.html#l00316">asterisk.c:316</a></div></div>
<div class="ttc" id="logger_8c_html_aad013a7e1fb2dcbd046b44c40b060e5b"><div class="ttname"><a href="../../d1/d22/logger_8c.html#aad013a7e1fb2dcbd046b44c40b060e5b">ast_verb_update</a></div><div class="ttdeci">void ast_verb_update(void)</div><div class="ttdoc">Re-evaluate the system max verbosity level (ast_verb_sys_level). </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l02232">logger.c:2232</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a2d0cf4182bade9f773fb16ff12abe595"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a2d0cf4182bade9f773fb16ff12abe595">AST_RWLIST_WRLOCK</a></div><div class="ttdeci">#define AST_RWLIST_WRLOCK(head)</div><div class="ttdoc">Write locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00051">linkedlists.h:51</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a2e9a2518b5029b96671aff6701bd5138"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a2e9a2518b5029b96671aff6701bd5138">AST_RWLIST_UNLOCK</a></div><div class="ttdeci">#define AST_RWLIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a read/write based list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00150">linkedlists.h:150</a></div></div>
<div class="ttc" id="structverb__console_html"><div class="ttname"><a href="../../d9/d9c/structverb__console.html">verb_console</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l02219">logger.c:2219</a></div></div>
<div class="ttc" id="group__main__options_html_gaa294d0efa6a89c1a3d162787cac4fff5"><div class="ttname"><a href="../../d6/dd6/group__main__options.html#gaa294d0efa6a89c1a3d162787cac4fff5">option_verbose</a></div><div class="ttdeci">int option_verbose</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc5/options_8c_source.html#l00067">options.c:67</a></div></div>
<div class="ttc" id="structverb__consoles_html"><div class="ttname"><a href="../../d7/d05/structverb__consoles.html">verb_consoles</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l02227">logger.c:2227</a></div></div>
<div class="ttc" id="structverb__console_html_ac9001fc93d0a01b8c60a77f1e5b6a7f1"><div class="ttname"><a href="../../d9/d9c/structverb__console.html#ac9001fc93d0a01b8c60a77f1e5b6a7f1">verb_console::level</a></div><div class="ttdeci">int * level</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l02223">logger.c:2223</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a29974a7eb3d1e79c16d6923189a82f53"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a29974a7eb3d1e79c16d6923189a82f53">&#9670;&nbsp;</a></span>ast_verb_console_unregister()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_verb_console_unregister </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unregister this thread's console verbosity level. </p>
<dl class="section return"><dt>Returns</dt><dd>Nothing </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d1/d22/logger_8c_source.html#l02312">2312</a> of file <a class="el" href="../../d1/d22/logger_8c_source.html">logger.c</a>.</p>

<p class="reference">References <a class="el" href="../../dc/d7d/threadstorage_8h_source.html#l00197">ast_threadstorage_get()</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l02294">my_verb_console</a>, and <a class="el" href="../../d1/d22/logger_8c_source.html#l02275">verb_console_unregister()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/d03/asterisk_8c_source.html#l01386">netconsole()</a>.</p>
<div class="fragment"><div class="line"><a name="l02313"></a><span class="lineno"> 2313</span>&#160;{</div><div class="line"><a name="l02314"></a><span class="lineno"> 2314</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/d9c/structverb__console.html">verb_console</a> *<a class="code" href="../../df/d87/structconsole.html">console</a>;</div><div class="line"><a name="l02315"></a><span class="lineno"> 2315</span>&#160;</div><div class="line"><a name="l02316"></a><span class="lineno"> 2316</span>&#160;   console = <a class="code" href="../../dc/d7d/threadstorage_8h.html#ab6ff44d2acf6ea45090177cd3141da03">ast_threadstorage_get</a>(&amp;<a class="code" href="../../d1/d22/logger_8c.html#ac0079c92df75011eb8925813e3c86482">my_verb_console</a>, <span class="keyword">sizeof</span>(*console));</div><div class="line"><a name="l02317"></a><span class="lineno"> 2317</span>&#160;   <span class="keywordflow">if</span> (!console) {</div><div class="line"><a name="l02318"></a><span class="lineno"> 2318</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l02319"></a><span class="lineno"> 2319</span>&#160;   }</div><div class="line"><a name="l02320"></a><span class="lineno"> 2320</span>&#160;   <a class="code" href="../../d1/d22/logger_8c.html#af70c1c39ec11740a497d6fd421a5f183">verb_console_unregister</a>(console);</div><div class="line"><a name="l02321"></a><span class="lineno"> 2321</span>&#160;}</div><div class="ttc" id="logger_8c_html_ac0079c92df75011eb8925813e3c86482"><div class="ttname"><a href="../../d1/d22/logger_8c.html#ac0079c92df75011eb8925813e3c86482">my_verb_console</a></div><div class="ttdeci">static struct ast_threadstorage my_verb_console</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l02294">logger.c:2294</a></div></div>
<div class="ttc" id="threadstorage_8h_html_ab6ff44d2acf6ea45090177cd3141da03"><div class="ttname"><a href="../../dc/d7d/threadstorage_8h.html#ab6ff44d2acf6ea45090177cd3141da03">ast_threadstorage_get</a></div><div class="ttdeci">void * ast_threadstorage_get(struct ast_threadstorage *ts, size_t init_size)</div><div class="ttdoc">Retrieve thread storage. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7d/threadstorage_8h_source.html#l00197">threadstorage.h:197</a></div></div>
<div class="ttc" id="structconsole_html"><div class="ttname"><a href="../../df/d87/structconsole.html">console</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d03/asterisk_8c_source.html#l00316">asterisk.c:316</a></div></div>
<div class="ttc" id="structverb__console_html"><div class="ttname"><a href="../../d9/d9c/structverb__console.html">verb_console</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l02219">logger.c:2219</a></div></div>
<div class="ttc" id="logger_8c_html_af70c1c39ec11740a497d6fd421a5f183"><div class="ttname"><a href="../../d1/d22/logger_8c.html#af70c1c39ec11740a497d6fd421a5f183">verb_console_unregister</a></div><div class="ttdeci">static void verb_console_unregister(struct verb_console *console)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l02275">logger.c:2275</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aad013a7e1fb2dcbd046b44c40b060e5b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad013a7e1fb2dcbd046b44c40b060e5b">&#9670;&nbsp;</a></span>ast_verb_update()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_verb_update </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Re-evaluate the system max verbosity level (ast_verb_sys_level). </p>
<dl class="section return"><dt>Returns</dt><dd>Nothing </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d1/d22/logger_8c_source.html#l02232">2232</a> of file <a class="el" href="../../d1/d22/logger_8c_source.html">logger.c</a>.</p>

<p class="reference">References <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00490">AST_LIST_TRAVERSE</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00187">ast_mutex_lock</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00188">ast_mutex_unlock</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00077">AST_RWLIST_RDLOCK</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00493">AST_RWLIST_TRAVERSE</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00150">AST_RWLIST_UNLOCK</a>, <a class="el" href="../../de/dc5/options_8c_source.html#l00064">ast_verb_sys_level</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l02223">verb_console::level</a>, <a class="el" href="../../de/dc5/options_8c_source.html#l00067">option_verbose</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l02230">verb_update_lock</a>, and <a class="el" href="../../d1/d22/logger_8c_source.html#l00141">logchannel::verbosity</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/d22/logger_8c_source.html#l02296">ast_verb_console_register()</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l02341">ast_verb_console_set()</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l01870">init_logger()</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l01141">reload_logger()</a>, and <a class="el" href="../../d1/d22/logger_8c_source.html#l02275">verb_console_unregister()</a>.</p>
<div class="fragment"><div class="line"><a name="l02233"></a><span class="lineno"> 2233</span>&#160;{</div><div class="line"><a name="l02234"></a><span class="lineno"> 2234</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d6/d0c/structlogchannel.html">logchannel</a> *log;</div><div class="line"><a name="l02235"></a><span class="lineno"> 2235</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/d9c/structverb__console.html">verb_console</a> *<a class="code" href="../../df/d87/structconsole.html">console</a>;</div><div class="line"><a name="l02236"></a><span class="lineno"> 2236</span>&#160;   <span class="keywordtype">int</span> verb_level;</div><div class="line"><a name="l02237"></a><span class="lineno"> 2237</span>&#160;</div><div class="line"><a name="l02238"></a><span class="lineno"> 2238</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#ac5e13c7fe64d3b271a52028b0a78b92b">ast_mutex_lock</a>(&amp;<a class="code" href="../../d1/d22/logger_8c.html#a8356677dcdff1516bba541d39f02033e">verb_update_lock</a>);</div><div class="line"><a name="l02239"></a><span class="lineno"> 2239</span>&#160;</div><div class="line"><a name="l02240"></a><span class="lineno"> 2240</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a0a0fe104cc2cc36a43784f886f3ae7dc">AST_RWLIST_RDLOCK</a>(&amp;<a class="code" href="../../d7/d05/structverb__consoles.html">verb_consoles</a>);</div><div class="line"><a name="l02241"></a><span class="lineno"> 2241</span>&#160;</div><div class="line"><a name="l02242"></a><span class="lineno"> 2242</span>&#160;   <span class="comment">/* Default to the root console verbosity. */</span></div><div class="line"><a name="l02243"></a><span class="lineno"> 2243</span>&#160;   verb_level = <a class="code" href="../../d6/dd6/group__main__options.html#gaa294d0efa6a89c1a3d162787cac4fff5">option_verbose</a>;</div><div class="line"><a name="l02244"></a><span class="lineno"> 2244</span>&#160;</div><div class="line"><a name="l02245"></a><span class="lineno"> 2245</span>&#160;   <span class="comment">/* Determine max remote console level. */</span></div><div class="line"><a name="l02246"></a><span class="lineno"> 2246</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(&amp;<a class="code" href="../../d7/d05/structverb__consoles.html">verb_consoles</a>, console, <a class="code" href="../../d5/da1/structnode.html">node</a>) {</div><div class="line"><a name="l02247"></a><span class="lineno"> 2247</span>&#160;      <span class="keywordflow">if</span> (verb_level &lt; *console-&gt;<a class="code" href="../../d9/d9c/structverb__console.html#ac9001fc93d0a01b8c60a77f1e5b6a7f1">level</a>) {</div><div class="line"><a name="l02248"></a><span class="lineno"> 2248</span>&#160;         verb_level = *console-&gt;<a class="code" href="../../d9/d9c/structverb__console.html#ac9001fc93d0a01b8c60a77f1e5b6a7f1">level</a>;</div><div class="line"><a name="l02249"></a><span class="lineno"> 2249</span>&#160;      }</div><div class="line"><a name="l02250"></a><span class="lineno"> 2250</span>&#160;   }</div><div class="line"><a name="l02251"></a><span class="lineno"> 2251</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a2e9a2518b5029b96671aff6701bd5138">AST_RWLIST_UNLOCK</a>(&amp;<a class="code" href="../../d7/d05/structverb__consoles.html">verb_consoles</a>);</div><div class="line"><a name="l02252"></a><span class="lineno"> 2252</span>&#160;</div><div class="line"><a name="l02253"></a><span class="lineno"> 2253</span>&#160;   <span class="comment">/* Determine max logger channel level. */</span></div><div class="line"><a name="l02254"></a><span class="lineno"> 2254</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a0a0fe104cc2cc36a43784f886f3ae7dc">AST_RWLIST_RDLOCK</a>(&amp;<a class="code" href="../../d2/df7/structlogchannels.html">logchannels</a>);</div><div class="line"><a name="l02255"></a><span class="lineno"> 2255</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a944b82566722f2247aa35f1328402c98">AST_RWLIST_TRAVERSE</a>(&amp;<a class="code" href="../../d2/df7/structlogchannels.html">logchannels</a>, log, list) {</div><div class="line"><a name="l02256"></a><span class="lineno"> 2256</span>&#160;      <span class="keywordflow">if</span> (verb_level &lt; log-&gt;verbosity) {</div><div class="line"><a name="l02257"></a><span class="lineno"> 2257</span>&#160;         verb_level = log-&gt;<a class="code" href="../../d6/d0c/structlogchannel.html#a1bdcfae3209cbd96db35a2ae356fa15e">verbosity</a>;</div><div class="line"><a name="l02258"></a><span class="lineno"> 2258</span>&#160;      }</div><div class="line"><a name="l02259"></a><span class="lineno"> 2259</span>&#160;   }</div><div class="line"><a name="l02260"></a><span class="lineno"> 2260</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a2e9a2518b5029b96671aff6701bd5138">AST_RWLIST_UNLOCK</a>(&amp;<a class="code" href="../../d2/df7/structlogchannels.html">logchannels</a>);</div><div class="line"><a name="l02261"></a><span class="lineno"> 2261</span>&#160;</div><div class="line"><a name="l02262"></a><span class="lineno"> 2262</span>&#160;   <a class="code" href="../../d6/dd6/group__main__options.html#ga683995800c0376125c2c8261eda2e6e0">ast_verb_sys_level</a> = verb_level;</div><div class="line"><a name="l02263"></a><span class="lineno"> 2263</span>&#160;</div><div class="line"><a name="l02264"></a><span class="lineno"> 2264</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a>(&amp;<a class="code" href="../../d1/d22/logger_8c.html#a8356677dcdff1516bba541d39f02033e">verb_update_lock</a>);</div><div class="line"><a name="l02265"></a><span class="lineno"> 2265</span>&#160;}</div><div class="ttc" id="structnode_html"><div class="ttname"><a href="../../d5/da1/structnode.html">node</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d2b/test__heap_8c_source.html#l00038">test_heap.c:38</a></div></div>
<div class="ttc" id="logger_8c_html_a8356677dcdff1516bba541d39f02033e"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a8356677dcdff1516bba541d39f02033e">verb_update_lock</a></div><div class="ttdeci">static ast_mutex_t verb_update_lock</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l02230">logger.c:2230</a></div></div>
<div class="ttc" id="structconsole_html"><div class="ttname"><a href="../../df/d87/structconsole.html">console</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d03/asterisk_8c_source.html#l00316">asterisk.c:316</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a2e9a2518b5029b96671aff6701bd5138"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a2e9a2518b5029b96671aff6701bd5138">AST_RWLIST_UNLOCK</a></div><div class="ttdeci">#define AST_RWLIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a read/write based list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00150">linkedlists.h:150</a></div></div>
<div class="ttc" id="structverb__console_html"><div class="ttname"><a href="../../d9/d9c/structverb__console.html">verb_console</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l02219">logger.c:2219</a></div></div>
<div class="ttc" id="group__main__options_html_gaa294d0efa6a89c1a3d162787cac4fff5"><div class="ttname"><a href="../../d6/dd6/group__main__options.html#gaa294d0efa6a89c1a3d162787cac4fff5">option_verbose</a></div><div class="ttdeci">int option_verbose</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc5/options_8c_source.html#l00067">options.c:67</a></div></div>
<div class="ttc" id="lock_8h_html_ac5e13c7fe64d3b271a52028b0a78b92b"><div class="ttname"><a href="../../dd/d42/lock_8h.html#ac5e13c7fe64d3b271a52028b0a78b92b">ast_mutex_lock</a></div><div class="ttdeci">#define ast_mutex_lock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00187">lock.h:187</a></div></div>
<div class="ttc" id="structlogchannel_html_a1bdcfae3209cbd96db35a2ae356fa15e"><div class="ttname"><a href="../../d6/d0c/structlogchannel.html#a1bdcfae3209cbd96db35a2ae356fa15e">logchannel::verbosity</a></div><div class="ttdeci">int verbosity</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00141">logger.c:141</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a0a0fe104cc2cc36a43784f886f3ae7dc"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a0a0fe104cc2cc36a43784f886f3ae7dc">AST_RWLIST_RDLOCK</a></div><div class="ttdeci">#define AST_RWLIST_RDLOCK(head)</div><div class="ttdoc">Read locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00077">linkedlists.h:77</a></div></div>
<div class="ttc" id="structlogchannels_html"><div class="ttname"><a href="../../d2/df7/structlogchannels.html">logchannels</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00158">logger.c:158</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a944b82566722f2247aa35f1328402c98"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a944b82566722f2247aa35f1328402c98">AST_RWLIST_TRAVERSE</a></div><div class="ttdeci">#define AST_RWLIST_TRAVERSE</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00493">linkedlists.h:493</a></div></div>
<div class="ttc" id="group__main__options_html_ga683995800c0376125c2c8261eda2e6e0"><div class="ttname"><a href="../../d6/dd6/group__main__options.html#ga683995800c0376125c2c8261eda2e6e0">ast_verb_sys_level</a></div><div class="ttdeci">int ast_verb_sys_level</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc5/options_8c_source.html#l00064">options.c:64</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a3008b2f4f236b72d8bcfb80e346324ef"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a></div><div class="ttdeci">#define AST_LIST_TRAVERSE(head, var, field)</div><div class="ttdoc">Loops over (traverses) the entries in a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00490">linkedlists.h:490</a></div></div>
<div class="ttc" id="structverb__consoles_html"><div class="ttname"><a href="../../d7/d05/structverb__consoles.html">verb_consoles</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l02227">logger.c:2227</a></div></div>
<div class="ttc" id="structlogchannel_html"><div class="ttname"><a href="../../d6/d0c/structlogchannel.html">logchannel</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00131">logger.c:131</a></div></div>
<div class="ttc" id="structverb__console_html_ac9001fc93d0a01b8c60a77f1e5b6a7f1"><div class="ttname"><a href="../../d9/d9c/structverb__console.html#ac9001fc93d0a01b8c60a77f1e5b6a7f1">verb_console::level</a></div><div class="ttdeci">int * level</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l02223">logger.c:2223</a></div></div>
<div class="ttc" id="lock_8h_html_a873f9ce8c6287a32d48c83133e124418"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a></div><div class="ttdeci">#define ast_mutex_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00188">lock.h:188</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a472851d5655c8a9b9492c40e5ff32d2d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a472851d5655c8a9b9492c40e5ff32d2d">&#9670;&nbsp;</a></span>close_logger()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void close_logger </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Provided by logger.c </p>

<p class="definition">Definition at line <a class="el" href="../../d1/d22/logger_8c_source.html#l01912">1912</a> of file <a class="el" href="../../d1/d22/logger_8c_source.html">logger.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/dfe/isdn__lib_8c_source.html#l00042">ARRAY_LEN</a>, <a class="el" href="../../da/d4d/clicompat_8c_source.html#l00030">ast_cli_unregister_multiple()</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00201">ast_cond_signal</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00039">AST_LIST_LOCK</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00832">AST_LIST_REMOVE_HEAD</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00139">AST_LIST_UNLOCK</a>, <a class="el" href="../../d0/d87/logger__category_8c_source.html#l00311">ast_logger_category_unload()</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00066">AST_PTHREADT_NULL</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00150">AST_RWLIST_UNLOCK</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00051">AST_RWLIST_WRLOCK</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00145">logchannel::fileptr</a>, <a class="el" href="../../d6/d0c/structlogchannel.html#a05f465ec52733d0024e53f945e4cabe7">logchannel::list</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00087">logger_initialized</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/d03/asterisk_8c_source.html#l02004">really_quit()</a>.</p>
<div class="fragment"><div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;{</div><div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d6/d0c/structlogchannel.html">logchannel</a> *f = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;</div><div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;   <a class="code" href="../../d5/d1f/logger__category_8h.html#a668681fcd52b5d24b4c898b46722136e">ast_logger_category_unload</a>();</div><div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;</div><div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;   <a class="code" href="../../dc/db0/cli_8h.html#a56b6b59ee2eaa994597a5b0f4e9f9d09">ast_cli_unregister_multiple</a>(<a class="code" href="../../d1/d22/logger_8c.html#ad833b610a71e242ad11a7f3fb5e79b90">cli_logger</a>, <a class="code" href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a>(<a class="code" href="../../d1/d22/logger_8c.html#ad833b610a71e242ad11a7f3fb5e79b90">cli_logger</a>));</div><div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;</div><div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160;   <a class="code" href="../../d1/d22/logger_8c.html#a5f80b9400a0cdb3ac3a54a4da44af9b2">logger_initialized</a> = 0;</div><div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;</div><div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;   <span class="comment">/* Stop logger thread */</span></div><div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a>(&amp;<a class="code" href="../../d2/dc4/structlogmsgs.html">logmsgs</a>);</div><div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;   <a class="code" href="../../d1/d22/logger_8c.html#a38ac6d8ec7483171f8a13fed360b6ced">close_logger_thread</a> = 1;</div><div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#ae2cdf274a5da241c3ad7324d82bf6af0">ast_cond_signal</a>(&amp;<a class="code" href="../../d1/d22/logger_8c.html#abb118951a9d7c498a6e28454e7eb0bd5">logcond</a>);</div><div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a>(&amp;<a class="code" href="../../d2/dc4/structlogmsgs.html">logmsgs</a>);</div><div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;</div><div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d1/d22/logger_8c.html#a6685bab4f7be49a081c4d2efe4b77a23">logthread</a> != <a class="code" href="../../dd/d42/lock_8h.html#a6009440c7a72f8e2e3b1ec97641ad160">AST_PTHREADT_NULL</a>) {</div><div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;      pthread_join(<a class="code" href="../../d1/d22/logger_8c.html#a6685bab4f7be49a081c4d2efe4b77a23">logthread</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;   }</div><div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160;</div><div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a2d0cf4182bade9f773fb16ff12abe595">AST_RWLIST_WRLOCK</a>(&amp;<a class="code" href="../../d2/df7/structlogchannels.html">logchannels</a>);</div><div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;</div><div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d1/d22/logger_8c.html#a59cef8b13e5fcb3e2ea61f66ea4bf0e5">qlog</a>) {</div><div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;      fclose(<a class="code" href="../../d1/d22/logger_8c.html#a59cef8b13e5fcb3e2ea61f66ea4bf0e5">qlog</a>);</div><div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;      <a class="code" href="../../d1/d22/logger_8c.html#a59cef8b13e5fcb3e2ea61f66ea4bf0e5">qlog</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;   }</div><div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;</div><div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;   <span class="keywordflow">while</span> ((f = <a class="code" href="../../df/d90/linkedlists_8h.html#aadfe2a69fbba4f27c201266a2ca5f989">AST_LIST_REMOVE_HEAD</a>(&amp;<a class="code" href="../../d2/df7/structlogchannels.html">logchannels</a>, <a class="code" href="../../d6/d0c/structlogchannel.html#a05f465ec52733d0024e53f945e4cabe7">list</a>))) {</div><div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;      <span class="keywordflow">if</span> (f-&gt;<a class="code" href="../../d6/d0c/structlogchannel.html#acc2a21b64b19aeee05b382056974c1e9">fileptr</a> &amp;&amp; (f-&gt;<a class="code" href="../../d6/d0c/structlogchannel.html#acc2a21b64b19aeee05b382056974c1e9">fileptr</a> != stdout) &amp;&amp; (f-&gt;<a class="code" href="../../d6/d0c/structlogchannel.html#acc2a21b64b19aeee05b382056974c1e9">fileptr</a> != stderr)) {</div><div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160;         fclose(f-&gt;<a class="code" href="../../d6/d0c/structlogchannel.html#acc2a21b64b19aeee05b382056974c1e9">fileptr</a>);</div><div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;         f-&gt;<a class="code" href="../../d6/d0c/structlogchannel.html#acc2a21b64b19aeee05b382056974c1e9">fileptr</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160;      }</div><div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(f);</div><div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;   }</div><div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;</div><div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;   closelog(); <span class="comment">/* syslog */</span></div><div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160;</div><div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a2e9a2518b5029b96671aff6701bd5138">AST_RWLIST_UNLOCK</a>(&amp;<a class="code" href="../../d2/df7/structlogchannels.html">logchannels</a>);</div><div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;}</div><div class="ttc" id="logger_8c_html_ad833b610a71e242ad11a7f3fb5e79b90"><div class="ttname"><a href="../../d1/d22/logger_8c.html#ad833b610a71e242ad11a7f3fb5e79b90">cli_logger</a></div><div class="ttdeci">static struct ast_cli_entry cli_logger[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l01559">logger.c:1559</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a9140a4e4d781264fa9469c52b1adae40"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a></div><div class="ttdeci">#define AST_LIST_LOCK(head)</div><div class="ttdoc">Locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00039">linkedlists.h:39</a></div></div>
<div class="ttc" id="isdn__lib_8c_html_ab9129b977a587b50ea801daac75e178f"><div class="ttname"><a href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a></div><div class="ttdeci">#define ARRAY_LEN(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dfe/isdn__lib_8c_source.html#l00042">isdn_lib.c:42</a></div></div>
<div class="ttc" id="cli_8h_html_a56b6b59ee2eaa994597a5b0f4e9f9d09"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a56b6b59ee2eaa994597a5b0f4e9f9d09">ast_cli_unregister_multiple</a></div><div class="ttdeci">int ast_cli_unregister_multiple(struct ast_cli_entry *e, int len)</div><div class="ttdoc">Unregister multiple commands. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4d/clicompat_8c_source.html#l00030">clicompat.c:30</a></div></div>
<div class="ttc" id="logger_8c_html_a6685bab4f7be49a081c4d2efe4b77a23"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a6685bab4f7be49a081c4d2efe4b77a23">logthread</a></div><div class="ttdeci">static pthread_t logthread</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00189">logger.c:189</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a2d0cf4182bade9f773fb16ff12abe595"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a2d0cf4182bade9f773fb16ff12abe595">AST_RWLIST_WRLOCK</a></div><div class="ttdeci">#define AST_RWLIST_WRLOCK(head)</div><div class="ttdoc">Write locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00051">linkedlists.h:51</a></div></div>
<div class="ttc" id="linkedlists_8h_html_ab48cb9e1e612dd486b747ba1c5d68d01"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a></div><div class="ttdeci">#define AST_LIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00139">linkedlists.h:139</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a2e9a2518b5029b96671aff6701bd5138"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a2e9a2518b5029b96671aff6701bd5138">AST_RWLIST_UNLOCK</a></div><div class="ttdeci">#define AST_RWLIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a read/write based list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00150">linkedlists.h:150</a></div></div>
<div class="ttc" id="logger__category_8h_html_a668681fcd52b5d24b4c898b46722136e"><div class="ttname"><a href="../../d5/d1f/logger__category_8h.html#a668681fcd52b5d24b4c898b46722136e">ast_logger_category_unload</a></div><div class="ttdeci">int ast_logger_category_unload(void)</div><div class="ttdoc">Unload system wide logger category functionality. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d87/logger__category_8c_source.html#l00311">logger_category.c:311</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="lock_8h_html_ae2cdf274a5da241c3ad7324d82bf6af0"><div class="ttname"><a href="../../dd/d42/lock_8h.html#ae2cdf274a5da241c3ad7324d82bf6af0">ast_cond_signal</a></div><div class="ttdeci">#define ast_cond_signal(cond)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00201">lock.h:201</a></div></div>
<div class="ttc" id="logger_8c_html_a59cef8b13e5fcb3e2ea61f66ea4bf0e5"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a59cef8b13e5fcb3e2ea61f66ea4bf0e5">qlog</a></div><div class="ttdeci">static FILE * qlog</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00193">logger.c:193</a></div></div>
<div class="ttc" id="logger_8c_html_a5f80b9400a0cdb3ac3a54a4da44af9b2"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a5f80b9400a0cdb3ac3a54a4da44af9b2">logger_initialized</a></div><div class="ttdeci">static int logger_initialized</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00087">logger.c:87</a></div></div>
<div class="ttc" id="structlogchannel_html_a05f465ec52733d0024e53f945e4cabe7"><div class="ttname"><a href="../../d6/d0c/structlogchannel.html#a05f465ec52733d0024e53f945e4cabe7">logchannel::list</a></div><div class="ttdeci">struct logchannel::@404 list</div></div>
<div class="ttc" id="structlogchannels_html"><div class="ttname"><a href="../../d2/df7/structlogchannels.html">logchannels</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00158">logger.c:158</a></div></div>
<div class="ttc" id="lock_8h_html_a6009440c7a72f8e2e3b1ec97641ad160"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a6009440c7a72f8e2e3b1ec97641ad160">AST_PTHREADT_NULL</a></div><div class="ttdeci">#define AST_PTHREADT_NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00066">lock.h:66</a></div></div>
<div class="ttc" id="linkedlists_8h_html_aadfe2a69fbba4f27c201266a2ca5f989"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#aadfe2a69fbba4f27c201266a2ca5f989">AST_LIST_REMOVE_HEAD</a></div><div class="ttdeci">#define AST_LIST_REMOVE_HEAD(head, field)</div><div class="ttdoc">Removes and returns the head entry from a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00832">linkedlists.h:832</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="structlogchannel_html_acc2a21b64b19aeee05b382056974c1e9"><div class="ttname"><a href="../../d6/d0c/structlogchannel.html#acc2a21b64b19aeee05b382056974c1e9">logchannel::fileptr</a></div><div class="ttdeci">FILE * fileptr</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00145">logger.c:145</a></div></div>
<div class="ttc" id="structlogmsgs_html"><div class="ttname"><a href="../../d2/dc4/structlogmsgs.html">logmsgs</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00188">logger.c:188</a></div></div>
<div class="ttc" id="structlogchannel_html"><div class="ttname"><a href="../../d6/d0c/structlogchannel.html">logchannel</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00131">logger.c:131</a></div></div>
<div class="ttc" id="logger_8c_html_a38ac6d8ec7483171f8a13fed360b6ced"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a38ac6d8ec7483171f8a13fed360b6ced">close_logger_thread</a></div><div class="ttdeci">static int close_logger_thread</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00191">logger.c:191</a></div></div>
<div class="ttc" id="logger_8c_html_abb118951a9d7c498a6e28454e7eb0bd5"><div class="ttname"><a href="../../d1/d22/logger_8c.html#abb118951a9d7c498a6e28454e7eb0bd5">logcond</a></div><div class="ttdeci">static ast_cond_t logcond</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00190">logger.c:190</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af336670f485e9c9a5eb9c21d2f9e62e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af336670f485e9c9a5eb9c21d2f9e62e0">&#9670;&nbsp;</a></span>find_logchannel()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="../../d6/d0c/structlogchannel.html">logchannel</a>* find_logchannel </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>channel</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Find a particular logger channel by name. </p>
<dl class="section pre"><dt>Precondition</dt><dd>logchannels list is locked</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">channel</td><td>The name of the logger channel to find </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">non-NULL</td><td>The corresponding logger channel </td></tr>
    <tr><td class="paramname">NULL</td><td>Unable to find a logger channel with that particular name </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d1/d22/logger_8c_source.html#l00601">601</a> of file <a class="el" href="../../d1/d22/logger_8c_source.html">logger.c</a>.</p>

<p class="reference">References <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00493">AST_RWLIST_TRAVERSE</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00147">logchannel::filename</a>, <a class="el" href="../../d6/d0c/structlogchannel.html#a05f465ec52733d0024e53f945e4cabe7">logchannel::list</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00560">make_filename()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../db/db2/asterisk_8h_source.html#l00040">PATH_MAX</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/d22/logger_8c_source.html#l01419">ast_logger_create_channel()</a>, and <a class="el" href="../../d1/d22/logger_8c_source.html#l01485">ast_logger_remove_channel()</a>.</p>
<div class="fragment"><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;{</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;   <span class="keywordtype">char</span> <a class="code" href="../../d6/d0c/structlogchannel.html#ab49244970ed5ca30989c2dab2129de34">filename</a>[<a class="code" href="../../db/db2/asterisk_8h.html#ae688d728e1acdfe5988c7db45d6f0166">PATH_MAX</a>];</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d6/d0c/structlogchannel.html">logchannel</a> *chan;</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;   <a class="code" href="../../d1/d22/logger_8c.html#a016a34f1dce9ea82fb0dd83f29ba376f">make_filename</a>(<a class="code" href="../../d4/d84/structchannel.html">channel</a>, filename, <span class="keyword">sizeof</span>(filename));</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a944b82566722f2247aa35f1328402c98">AST_RWLIST_TRAVERSE</a>(&amp;<a class="code" href="../../d2/df7/structlogchannels.html">logchannels</a>, chan, <a class="code" href="../../d6/d0c/structlogchannel.html#a05f465ec52733d0024e53f945e4cabe7">list</a>) {</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;      <span class="keywordflow">if</span> (!strcmp(chan-&gt;<a class="code" href="../../d6/d0c/structlogchannel.html#ab49244970ed5ca30989c2dab2129de34">filename</a>, filename)) {</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;         <span class="keywordflow">return</span> chan;</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;      }</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;   }</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;}</div><div class="ttc" id="logger_8c_html_a016a34f1dce9ea82fb0dd83f29ba376f"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a016a34f1dce9ea82fb0dd83f29ba376f">make_filename</a></div><div class="ttdeci">static void make_filename(const char *channel, char *filename, size_t size)</div><div class="ttdoc">create the filename that will be used for a logger channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00560">logger.c:560</a></div></div>
<div class="ttc" id="structchannel_html"><div class="ttname"><a href="../../d4/d84/structchannel.html">channel</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d8a/muted_8c_source.html#l00095">muted.c:95</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structlogchannel_html_a05f465ec52733d0024e53f945e4cabe7"><div class="ttname"><a href="../../d6/d0c/structlogchannel.html#a05f465ec52733d0024e53f945e4cabe7">logchannel::list</a></div><div class="ttdeci">struct logchannel::@404 list</div></div>
<div class="ttc" id="structlogchannels_html"><div class="ttname"><a href="../../d2/df7/structlogchannels.html">logchannels</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00158">logger.c:158</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a944b82566722f2247aa35f1328402c98"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a944b82566722f2247aa35f1328402c98">AST_RWLIST_TRAVERSE</a></div><div class="ttdeci">#define AST_RWLIST_TRAVERSE</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00493">linkedlists.h:493</a></div></div>
<div class="ttc" id="structlogchannel_html_ab49244970ed5ca30989c2dab2129de34"><div class="ttname"><a href="../../d6/d0c/structlogchannel.html#ab49244970ed5ca30989c2dab2129de34">logchannel::filename</a></div><div class="ttdeci">char filename[PATH_MAX]</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00147">logger.c:147</a></div></div>
<div class="ttc" id="asterisk_8h_html_ae688d728e1acdfe5988c7db45d6f0166"><div class="ttname"><a href="../../db/db2/asterisk_8h.html#ae688d728e1acdfe5988c7db45d6f0166">PATH_MAX</a></div><div class="ttdeci">#define PATH_MAX</div><div class="ttdef"><b>Definition:</b> <a href="../../db/db2/asterisk_8h_source.html#l00040">asterisk.h:40</a></div></div>
<div class="ttc" id="structlogchannel_html"><div class="ttname"><a href="../../d6/d0c/structlogchannel.html">logchannel</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00131">logger.c:131</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a912a789ca7ef3b03fcc8b1d43e01b04f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a912a789ca7ef3b03fcc8b1d43e01b04f">&#9670;&nbsp;</a></span>format_log_default()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int format_log_default </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d6/d0c/structlogchannel.html">logchannel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../dc/dff/structlogmsg.html">logmsg</a> *&#160;</td>
          <td class="paramname"><em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/d22/logger_8c_source.html#l00365">365</a> of file <a class="el" href="../../d1/d22/logger_8c_source.html">logger.c</a>.</p>

<p class="reference">References <a class="el" href="../../d1/d8c/logger_8h_source.html#l00295">__LOG_VERBOSE</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00171">logmsg::callid</a>, <a class="el" href="../../db/d45/term_8h_source.html#l00062">COLOR_BRWHITE</a>, <a class="el" href="../../db/d45/term_8h_source.html#l00068">COLORIZE</a>, <a class="el" href="../../db/d45/term_8h_source.html#l00067">COLORIZE_FMT</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00178">logmsg::date</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00178">logmsg::file</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00178">logmsg::function</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00167">logmsg::level</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00178">logmsg::level_name</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00169">logmsg::line</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00319">logger_add_verbose_magic()</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00128">LOGTYPE_CONSOLE</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00127">LOGTYPE_FILE</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00126">LOGTYPE_SYSLOG</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00170">logmsg::lwp</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00178">logmsg::message</a>, <a class="el" href="../../d5/de5/term_8c_source.html#l00311">term_strip()</a>, and <a class="el" href="../../d1/d22/logger_8c_source.html#l00143">logchannel::type</a>.</p>
<div class="fragment"><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;{</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;   <span class="keywordtype">char</span> call_identifier_str[13];</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;   <span class="keywordflow">if</span> (msg-&gt;<a class="code" href="../../dc/dff/structlogmsg.html#a62f8995a6eac6c8a48205a6f3815d54b">callid</a>) {</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;      snprintf(call_identifier_str, <span class="keyword">sizeof</span>(call_identifier_str), <span class="stringliteral">&quot;[C-%08x]&quot;</span>, msg-&gt;<a class="code" href="../../dc/dff/structlogmsg.html#a62f8995a6eac6c8a48205a6f3815d54b">callid</a>);</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;      call_identifier_str[0] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;   }</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;   <span class="keywordflow">switch</span> (chan-&gt;<a class="code" href="../../d6/d0c/structlogchannel.html#a6d3cd9e6800461f549a4fcabae1712c1">type</a>) {</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d1/d22/logger_8c.html#a7e2550c12ff27e5cd303101e86cf8eb4affe678f5d32a5ad00d20d138627aa22f">LOGTYPE_SYSLOG</a>:</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;      snprintf(<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, size, <span class="stringliteral">&quot;%s[%d]%s: %s:%d in %s: %s&quot;</span>,</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;           <a class="code" href="../../d1/d22/logger_8c.html#a2ae9b20e8a0ca3f97cf9f8927e0fdb7f">levels</a>[msg-&gt;<a class="code" href="../../dc/dff/structlogmsg.html#acf4d33ee4cff36f69b924471174dcb11">level</a>], msg-&gt;<a class="code" href="../../dc/dff/structlogmsg.html#a1a8544029f1f17896aa17752c6aeed52">lwp</a>, call_identifier_str, msg-&gt;<a class="code" href="../../dc/dff/structlogmsg.html#aa725d7fa93fc31b8596cc49cddc0ce22">file</a>,</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;           msg-&gt;<a class="code" href="../../dc/dff/structlogmsg.html#a41ebd28ef1d7c6ade45642cb6acc1039">line</a>, msg-&gt;<a class="code" href="../../dc/dff/structlogmsg.html#abd55aa4365575a439025e6871f142399">function</a>, msg-&gt;<a class="code" href="../../dc/dff/structlogmsg.html#a2f3ad6f31596c2474ce9d9c75b9bd66a">message</a>);</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;      <a class="code" href="../../db/d45/term_8h.html#a3a3cbec50cdddbfe0a99732d55fc147d">term_strip</a>(<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, size);</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d1/d22/logger_8c.html#a7e2550c12ff27e5cd303101e86cf8eb4a82620c2d182f4b50f3801669f747f3aa">LOGTYPE_FILE</a>:</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;      snprintf(<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, size, <span class="stringliteral">&quot;[%s] %s[%d]%s %s: %s&quot;</span>,</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;            msg-&gt;<a class="code" href="../../dc/dff/structlogmsg.html#afce1d9744641fc2a282f827b972def2a">date</a>, msg-&gt;<a class="code" href="../../dc/dff/structlogmsg.html#a11971d47354d8f89f63bd12b0867501b">level_name</a>, msg-&gt;<a class="code" href="../../dc/dff/structlogmsg.html#a1a8544029f1f17896aa17752c6aeed52">lwp</a>, call_identifier_str,</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;            msg-&gt;<a class="code" href="../../dc/dff/structlogmsg.html#aa725d7fa93fc31b8596cc49cddc0ce22">file</a>, msg-&gt;<a class="code" href="../../dc/dff/structlogmsg.html#a2f3ad6f31596c2474ce9d9c75b9bd66a">message</a>);</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;      <a class="code" href="../../db/d45/term_8h.html#a3a3cbec50cdddbfe0a99732d55fc147d">term_strip</a>(<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, size);</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d1/d22/logger_8c.html#a7e2550c12ff27e5cd303101e86cf8eb4a439c8fd120012113aa39dfece22ed55f">LOGTYPE_CONSOLE</a>:</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;      {</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;         <span class="keywordtype">char</span> linestr[32];</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;         <span class="keywordtype">int</span> has_file = !<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(msg-&gt;<a class="code" href="../../dc/dff/structlogmsg.html#aa725d7fa93fc31b8596cc49cddc0ce22">file</a>);</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;         <span class="keywordtype">int</span> has_line = (msg-&gt;<a class="code" href="../../dc/dff/structlogmsg.html#a41ebd28ef1d7c6ade45642cb6acc1039">line</a> &gt; 0);</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;         <span class="keywordtype">int</span> has_func = !<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(msg-&gt;<a class="code" href="../../dc/dff/structlogmsg.html#abd55aa4365575a439025e6871f142399">function</a>);</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;         <span class="comment">/*</span></div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;<span class="comment">          * Verbose messages are interpreted by console channels in their own</span></div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;<span class="comment">          * special way</span></div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;<span class="comment">          */</span></div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;         <span class="keywordflow">if</span> (msg-&gt;<a class="code" href="../../dc/dff/structlogmsg.html#acf4d33ee4cff36f69b924471174dcb11">level</a> == <a class="code" href="../../d1/d8c/logger_8h.html#aa11fae1314f286da3d57ae8c07ec4bca">__LOG_VERBOSE</a>) {</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="../../d1/d22/logger_8c.html#a7dc10409b311ad76e05dd4c747a0be97">logger_add_verbose_magic</a>(msg, <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, size);</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;         }</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;         <span class="comment">/* Turn the numerical line number into a string */</span></div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;         snprintf(linestr, <span class="keyword">sizeof</span>(linestr), <span class="stringliteral">&quot;%d&quot;</span>, msg-&gt;<a class="code" href="../../dc/dff/structlogmsg.html#a41ebd28ef1d7c6ade45642cb6acc1039">line</a>);</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;         <span class="comment">/* Build string to print out */</span></div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;         snprintf(<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, size, <span class="stringliteral">&quot;[%s] &quot;</span> <a class="code" href="../../db/d45/term_8h.html#ae640996bf494da50000e83e165c5453e">COLORIZE_FMT</a> <span class="stringliteral">&quot;[%d]%s: &quot;</span> <a class="code" href="../../db/d45/term_8h.html#ae640996bf494da50000e83e165c5453e">COLORIZE_FMT</a> <span class="stringliteral">&quot;%s&quot;</span> <a class="code" href="../../db/d45/term_8h.html#ae640996bf494da50000e83e165c5453e">COLORIZE_FMT</a> <span class="stringliteral">&quot; &quot;</span> <a class="code" href="../../db/d45/term_8h.html#ae640996bf494da50000e83e165c5453e">COLORIZE_FMT</a> <span class="stringliteral">&quot;%s %s&quot;</span>,</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;            msg-&gt;<a class="code" href="../../dc/dff/structlogmsg.html#afce1d9744641fc2a282f827b972def2a">date</a>,</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;            <a class="code" href="../../db/d45/term_8h.html#ae443185677b2d0586ded82d4fcde6992">COLORIZE</a>(<a class="code" href="../../d1/d22/logger_8c.html#a8e3a3c76f7cfd1cbe8818452da8eb860">colors</a>[msg-&gt;<a class="code" href="../../dc/dff/structlogmsg.html#acf4d33ee4cff36f69b924471174dcb11">level</a>], 0, msg-&gt;<a class="code" href="../../dc/dff/structlogmsg.html#a11971d47354d8f89f63bd12b0867501b">level_name</a>),</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;            msg-&gt;<a class="code" href="../../dc/dff/structlogmsg.html#a1a8544029f1f17896aa17752c6aeed52">lwp</a>,</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;            call_identifier_str,</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;            <a class="code" href="../../db/d45/term_8h.html#ae443185677b2d0586ded82d4fcde6992">COLORIZE</a>(<a class="code" href="../../db/d45/term_8h.html#aa25d3faed7c00a4612beb33f7306d251">COLOR_BRWHITE</a>, 0, has_file ? msg-&gt;<a class="code" href="../../dc/dff/structlogmsg.html#aa725d7fa93fc31b8596cc49cddc0ce22">file</a> : <span class="stringliteral">&quot;&quot;</span>),</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;            has_file ? <span class="stringliteral">&quot;:&quot;</span> : <span class="stringliteral">&quot;&quot;</span>,</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;            <a class="code" href="../../db/d45/term_8h.html#ae443185677b2d0586ded82d4fcde6992">COLORIZE</a>(<a class="code" href="../../db/d45/term_8h.html#aa25d3faed7c00a4612beb33f7306d251">COLOR_BRWHITE</a>, 0, has_line ? linestr : <span class="stringliteral">&quot;&quot;</span>),</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;            <a class="code" href="../../db/d45/term_8h.html#ae443185677b2d0586ded82d4fcde6992">COLORIZE</a>(<a class="code" href="../../db/d45/term_8h.html#aa25d3faed7c00a4612beb33f7306d251">COLOR_BRWHITE</a>, 0, has_func ? msg-&gt;<a class="code" href="../../dc/dff/structlogmsg.html#abd55aa4365575a439025e6871f142399">function</a> : <span class="stringliteral">&quot;&quot;</span>),</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;            has_func ? <span class="stringliteral">&quot;:&quot;</span> : <span class="stringliteral">&quot;&quot;</span>,</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;            msg-&gt;<a class="code" href="../../dc/dff/structlogmsg.html#a2f3ad6f31596c2474ce9d9c75b9bd66a">message</a>);</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;      }</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;   }</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;}</div><div class="ttc" id="structlogmsg_html_a41ebd28ef1d7c6ade45642cb6acc1039"><div class="ttname"><a href="../../dc/dff/structlogmsg.html#a41ebd28ef1d7c6ade45642cb6acc1039">logmsg::line</a></div><div class="ttdeci">int line</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00169">logger.c:169</a></div></div>
<div class="ttc" id="logger_8c_html_a7dc10409b311ad76e05dd4c747a0be97"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a7dc10409b311ad76e05dd4c747a0be97">logger_add_verbose_magic</a></div><div class="ttdeci">static int logger_add_verbose_magic(struct logmsg *logmsg, char *buf, size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00319">logger.c:319</a></div></div>
<div class="ttc" id="logger_8c_html_a8e3a3c76f7cfd1cbe8818452da8eb860"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a8e3a3c76f7cfd1cbe8818452da8eb860">colors</a></div><div class="ttdeci">static const int colors[NUMLOGLEVELS]</div><div class="ttdoc">Colors used in the console for logging. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00217">logger.c:217</a></div></div>
<div class="ttc" id="logger_8c_html_a7e2550c12ff27e5cd303101e86cf8eb4a439c8fd120012113aa39dfece22ed55f"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a7e2550c12ff27e5cd303101e86cf8eb4a439c8fd120012113aa39dfece22ed55f">LOGTYPE_CONSOLE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00128">logger.c:128</a></div></div>
<div class="ttc" id="eagi__proxy_8c_html_ac95651d79c608a3148973b5b1fc9e525"><div class="ttname"><a href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a></div><div class="ttdeci">char buf[BUFSIZE]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">eagi_proxy.c:66</a></div></div>
<div class="ttc" id="structlogmsg_html_a62f8995a6eac6c8a48205a6f3815d54b"><div class="ttname"><a href="../../dc/dff/structlogmsg.html#a62f8995a6eac6c8a48205a6f3815d54b">logmsg::callid</a></div><div class="ttdeci">ast_callid callid</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00171">logger.c:171</a></div></div>
<div class="ttc" id="term_8h_html_a3a3cbec50cdddbfe0a99732d55fc147d"><div class="ttname"><a href="../../db/d45/term_8h.html#a3a3cbec50cdddbfe0a99732d55fc147d">term_strip</a></div><div class="ttdeci">char * term_strip(char *outbuf, const char *inbuf, int maxout)</div><div class="ttdoc">Remove colorings from a specified string. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de5/term_8c_source.html#l00311">term.c:311</a></div></div>
<div class="ttc" id="logger_8c_html_a2ae9b20e8a0ca3f97cf9f8927e0fdb7f"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a2ae9b20e8a0ca3f97cf9f8927e0fdb7f">levels</a></div><div class="ttdeci">static char * levels[NUMLOGLEVELS]</div><div class="ttdoc">Logging channels used in the Asterisk logging system. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00206">logger.c:206</a></div></div>
<div class="ttc" id="term_8h_html_aa25d3faed7c00a4612beb33f7306d251"><div class="ttname"><a href="../../db/d45/term_8h.html#aa25d3faed7c00a4612beb33f7306d251">COLOR_BRWHITE</a></div><div class="ttdeci">#define COLOR_BRWHITE</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d45/term_8h_source.html#l00062">term.h:62</a></div></div>
<div class="ttc" id="term_8h_html_ae443185677b2d0586ded82d4fcde6992"><div class="ttname"><a href="../../db/d45/term_8h.html#ae443185677b2d0586ded82d4fcde6992">COLORIZE</a></div><div class="ttdeci">#define COLORIZE(fg, bg, str)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d45/term_8h_source.html#l00068">term.h:68</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="logger_8c_html_a7e2550c12ff27e5cd303101e86cf8eb4affe678f5d32a5ad00d20d138627aa22f"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a7e2550c12ff27e5cd303101e86cf8eb4affe678f5d32a5ad00d20d138627aa22f">LOGTYPE_SYSLOG</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00126">logger.c:126</a></div></div>
<div class="ttc" id="term_8h_html_ae640996bf494da50000e83e165c5453e"><div class="ttname"><a href="../../db/d45/term_8h.html#ae640996bf494da50000e83e165c5453e">COLORIZE_FMT</a></div><div class="ttdeci">#define COLORIZE_FMT</div><div class="ttdoc">Shortcut macros for coloring a set of text. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d45/term_8h_source.html#l00067">term.h:67</a></div></div>
<div class="ttc" id="structlogmsg_html_abd55aa4365575a439025e6871f142399"><div class="ttname"><a href="../../dc/dff/structlogmsg.html#abd55aa4365575a439025e6871f142399">logmsg::function</a></div><div class="ttdeci">const ast_string_field function</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00178">logger.c:178</a></div></div>
<div class="ttc" id="structlogmsg_html_acf4d33ee4cff36f69b924471174dcb11"><div class="ttname"><a href="../../dc/dff/structlogmsg.html#acf4d33ee4cff36f69b924471174dcb11">logmsg::level</a></div><div class="ttdeci">int level</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00167">logger.c:167</a></div></div>
<div class="ttc" id="structlogmsg_html_afce1d9744641fc2a282f827b972def2a"><div class="ttname"><a href="../../dc/dff/structlogmsg.html#afce1d9744641fc2a282f827b972def2a">logmsg::date</a></div><div class="ttdeci">const ast_string_field date</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00178">logger.c:178</a></div></div>
<div class="ttc" id="structlogchannel_html_a6d3cd9e6800461f549a4fcabae1712c1"><div class="ttname"><a href="../../d6/d0c/structlogchannel.html#a6d3cd9e6800461f549a4fcabae1712c1">logchannel::type</a></div><div class="ttdeci">enum logtypes type</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00143">logger.c:143</a></div></div>
<div class="ttc" id="structlogmsg_html_a1a8544029f1f17896aa17752c6aeed52"><div class="ttname"><a href="../../dc/dff/structlogmsg.html#a1a8544029f1f17896aa17752c6aeed52">logmsg::lwp</a></div><div class="ttdeci">int lwp</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00170">logger.c:170</a></div></div>
<div class="ttc" id="structlogmsg_html_a11971d47354d8f89f63bd12b0867501b"><div class="ttname"><a href="../../dc/dff/structlogmsg.html#a11971d47354d8f89f63bd12b0867501b">logmsg::level_name</a></div><div class="ttdeci">const ast_string_field level_name</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00178">logger.c:178</a></div></div>
<div class="ttc" id="logger_8h_html_aa11fae1314f286da3d57ae8c07ec4bca"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aa11fae1314f286da3d57ae8c07ec4bca">__LOG_VERBOSE</a></div><div class="ttdeci">#define __LOG_VERBOSE</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00295">logger.h:295</a></div></div>
<div class="ttc" id="structlogmsg_html_a2f3ad6f31596c2474ce9d9c75b9bd66a"><div class="ttname"><a href="../../dc/dff/structlogmsg.html#a2f3ad6f31596c2474ce9d9c75b9bd66a">logmsg::message</a></div><div class="ttdeci">const ast_string_field message</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00178">logger.c:178</a></div></div>
<div class="ttc" id="structlogmsg_html_aa725d7fa93fc31b8596cc49cddc0ce22"><div class="ttname"><a href="../../dc/dff/structlogmsg.html#aa725d7fa93fc31b8596cc49cddc0ce22">logmsg::file</a></div><div class="ttdeci">const ast_string_field file</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00178">logger.c:178</a></div></div>
<div class="ttc" id="logger_8c_html_a7e2550c12ff27e5cd303101e86cf8eb4a82620c2d182f4b50f3801669f747f3aa"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a7e2550c12ff27e5cd303101e86cf8eb4a82620c2d182f4b50f3801669f747f3aa">LOGTYPE_FILE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00127">logger.c:127</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a02a42dd9f9b54d87ff85f4b0cfa0ff17"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a02a42dd9f9b54d87ff85f4b0cfa0ff17">&#9670;&nbsp;</a></span>format_log_json()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int format_log_json </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d6/d0c/structlogchannel.html">logchannel</a> *&#160;</td>
          <td class="paramname"><em>channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../dc/dff/structlogmsg.html">logmsg</a> *&#160;</td>
          <td class="paramname"><em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/d22/logger_8c_source.html#l00259">259</a> of file <a class="el" href="../../d1/d22/logger_8c_source.html">logger.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/dc5/options_8c_source.html#l00170">ast_config_AST_SYSTEM_NAME</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00401">ast_copy_string()</a>, <a class="el" href="../../d4/d05/json_8h_source.html#l00763">ast_json_dump_string</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00052">ast_json_free()</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00591">ast_json_pack()</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00073">ast_json_unref()</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00171">logmsg::callid</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00178">logmsg::date</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00178">logmsg::file</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00178">logmsg::function</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00178">logmsg::level_name</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00169">logmsg::line</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00170">logmsg::lwp</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00178">logmsg::message</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00079">S_OR</a>, <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00147">str</a>, and <a class="el" href="../../d5/de5/term_8c_source.html#l00311">term_strip()</a>.</p>
<div class="fragment"><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;{</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/da1/structast__json.html">ast_json</a> *json;</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;   <span class="keywordtype">char</span> *<a class="code" href="../../de/dcd/app__jack_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a>;</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;   <span class="keywordtype">char</span> call_identifier_str[13];</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;   <span class="keywordtype">size_t</span> json_str_len;</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;   <span class="keywordflow">if</span> (msg-&gt;<a class="code" href="../../dc/dff/structlogmsg.html#a62f8995a6eac6c8a48205a6f3815d54b">callid</a>) {</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;      snprintf(call_identifier_str, <span class="keyword">sizeof</span>(call_identifier_str), <span class="stringliteral">&quot;[C-%08x]&quot;</span>, msg-&gt;<a class="code" href="../../dc/dff/structlogmsg.html#a62f8995a6eac6c8a48205a6f3815d54b">callid</a>);</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;      call_identifier_str[0] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;   }</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;   json = <a class="code" href="../../d4/d05/json_8h.html#a99715667e822b2ad409b34ca041e535d">ast_json_pack</a>(<span class="stringliteral">&quot;{s: s, s: s, &quot;</span></div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;      <span class="stringliteral">&quot;s: {s: i, s: s} &quot;</span></div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;      <span class="stringliteral">&quot;s: {s: {s: s, s: s, s: i}, &quot;</span></div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;      <span class="stringliteral">&quot;s: s, s: s} }&quot;</span>,</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;      <span class="stringliteral">&quot;hostname&quot;</span>, <a class="code" href="../../dd/df2/paths_8h.html#ab9f9346c7a41bdf3720f7b1ed02ec703">ast_config_AST_SYSTEM_NAME</a>,</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;      <span class="stringliteral">&quot;timestamp&quot;</span>, msg-&gt;<a class="code" href="../../dc/dff/structlogmsg.html#afce1d9744641fc2a282f827b972def2a">date</a>,</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;      <span class="stringliteral">&quot;identifiers&quot;</span>,</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;      <span class="stringliteral">&quot;lwp&quot;</span>, msg-&gt;<a class="code" href="../../dc/dff/structlogmsg.html#a1a8544029f1f17896aa17752c6aeed52">lwp</a>,</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;      <span class="stringliteral">&quot;callid&quot;</span>, <a class="code" href="../../d6/d90/strings_8h.html#a2faaa16929951bfd2802b7829a100ba2">S_OR</a>(call_identifier_str, <span class="stringliteral">&quot;&quot;</span>),</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;      <span class="stringliteral">&quot;logmsg&quot;</span>,</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;      <span class="stringliteral">&quot;location&quot;</span>,</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;      <span class="stringliteral">&quot;filename&quot;</span>, msg-&gt;<a class="code" href="../../dc/dff/structlogmsg.html#aa725d7fa93fc31b8596cc49cddc0ce22">file</a>,</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;      <span class="stringliteral">&quot;function&quot;</span>, msg-&gt;<a class="code" href="../../dc/dff/structlogmsg.html#abd55aa4365575a439025e6871f142399">function</a>,</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;      <span class="stringliteral">&quot;line&quot;</span>, msg-&gt;<a class="code" href="../../dc/dff/structlogmsg.html#a41ebd28ef1d7c6ade45642cb6acc1039">line</a>,</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;      <span class="stringliteral">&quot;level&quot;</span>, msg-&gt;<a class="code" href="../../dc/dff/structlogmsg.html#a11971d47354d8f89f63bd12b0867501b">level_name</a>,</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;      <span class="stringliteral">&quot;message&quot;</span>, msg-&gt;<a class="code" href="../../dc/dff/structlogmsg.html#a2f3ad6f31596c2474ce9d9c75b9bd66a">message</a>);</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;   <span class="keywordflow">if</span> (!json) {</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;   }</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;   str = <a class="code" href="../../d4/d05/json_8h.html#a51a96b2baa67b671ac68a9fcaebbaeea">ast_json_dump_string</a>(json);</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;   <span class="keywordflow">if</span> (!str) {</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;      <a class="code" href="../../d4/d05/json_8h.html#a33bcd9181e613a659eefe411ec42c87c">ast_json_unref</a>(json);</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;   }</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;   <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, str, size);</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;   json_str_len = strlen(str);</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;   <span class="keywordflow">if</span> (json_str_len &gt; size - 1) {</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;      json_str_len = size - 1;</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;   }</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;   <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>[json_str_len] = <span class="charliteral">&#39;\n&#39;</span>;</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;   <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>[json_str_len + 1] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;   <a class="code" href="../../db/d45/term_8h.html#a3a3cbec50cdddbfe0a99732d55fc147d">term_strip</a>(<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, size);</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;   <a class="code" href="../../d4/d05/json_8h.html#a38eea5afa847432f7c10af8e69fb013e">ast_json_free</a>(str);</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;   <a class="code" href="../../d4/d05/json_8h.html#a33bcd9181e613a659eefe411ec42c87c">ast_json_unref</a>(json);</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;}</div><div class="ttc" id="structlogmsg_html_a41ebd28ef1d7c6ade45642cb6acc1039"><div class="ttname"><a href="../../dc/dff/structlogmsg.html#a41ebd28ef1d7c6ade45642cb6acc1039">logmsg::line</a></div><div class="ttdeci">int line</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00169">logger.c:169</a></div></div>
<div class="ttc" id="json_8h_html_a99715667e822b2ad409b34ca041e535d"><div class="ttname"><a href="../../d4/d05/json_8h.html#a99715667e822b2ad409b34ca041e535d">ast_json_pack</a></div><div class="ttdeci">struct ast_json * ast_json_pack(char const *format,...)</div><div class="ttdoc">Helper for creating complex JSON values. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00591">json.c:591</a></div></div>
<div class="ttc" id="json_8h_html_a33bcd9181e613a659eefe411ec42c87c"><div class="ttname"><a href="../../d4/d05/json_8h.html#a33bcd9181e613a659eefe411ec42c87c">ast_json_unref</a></div><div class="ttdeci">void ast_json_unref(struct ast_json *value)</div><div class="ttdoc">Decrease refcount on value. If refcount reaches zero, value is freed. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00073">json.c:73</a></div></div>
<div class="ttc" id="eagi__proxy_8c_html_ac95651d79c608a3148973b5b1fc9e525"><div class="ttname"><a href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a></div><div class="ttdeci">char buf[BUFSIZE]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">eagi_proxy.c:66</a></div></div>
<div class="ttc" id="structlogmsg_html_a62f8995a6eac6c8a48205a6f3815d54b"><div class="ttname"><a href="../../dc/dff/structlogmsg.html#a62f8995a6eac6c8a48205a6f3815d54b">logmsg::callid</a></div><div class="ttdeci">ast_callid callid</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00171">logger.c:171</a></div></div>
<div class="ttc" id="json_8h_html_a38eea5afa847432f7c10af8e69fb013e"><div class="ttname"><a href="../../d4/d05/json_8h.html#a38eea5afa847432f7c10af8e69fb013e">ast_json_free</a></div><div class="ttdeci">void ast_json_free(void *p)</div><div class="ttdoc">Asterisk&amp;#39;s custom JSON allocator. Exposed for use by unit tests. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00052">json.c:52</a></div></div>
<div class="ttc" id="json_8h_html_a51a96b2baa67b671ac68a9fcaebbaeea"><div class="ttname"><a href="../../d4/d05/json_8h.html#a51a96b2baa67b671ac68a9fcaebbaeea">ast_json_dump_string</a></div><div class="ttdeci">#define ast_json_dump_string(root)</div><div class="ttdoc">Encode a JSON value to a compact string. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d05/json_8h_source.html#l00763">json.h:763</a></div></div>
<div class="ttc" id="term_8h_html_a3a3cbec50cdddbfe0a99732d55fc147d"><div class="ttname"><a href="../../db/d45/term_8h.html#a3a3cbec50cdddbfe0a99732d55fc147d">term_strip</a></div><div class="ttdeci">char * term_strip(char *outbuf, const char *inbuf, int maxout)</div><div class="ttdoc">Remove colorings from a specified string. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de5/term_8c_source.html#l00311">term.c:311</a></div></div>
<div class="ttc" id="app__jack_8c_html_af25d6dc49269fa2003ac7c7fa6f13915"><div class="ttname"><a href="../../de/dcd/app__jack_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a></div><div class="ttdeci">const char * str</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcd/app__jack_8c_source.html#l00147">app_jack.c:147</a></div></div>
<div class="ttc" id="paths_8h_html_ab9f9346c7a41bdf3720f7b1ed02ec703"><div class="ttname"><a href="../../dd/df2/paths_8h.html#ab9f9346c7a41bdf3720f7b1ed02ec703">ast_config_AST_SYSTEM_NAME</a></div><div class="ttdeci">const char * ast_config_AST_SYSTEM_NAME</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc5/options_8c_source.html#l00170">options.c:170</a></div></div>
<div class="ttc" id="structlogmsg_html_abd55aa4365575a439025e6871f142399"><div class="ttname"><a href="../../dc/dff/structlogmsg.html#abd55aa4365575a439025e6871f142399">logmsg::function</a></div><div class="ttdeci">const ast_string_field function</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00178">logger.c:178</a></div></div>
<div class="ttc" id="structlogmsg_html_afce1d9744641fc2a282f827b972def2a"><div class="ttname"><a href="../../dc/dff/structlogmsg.html#afce1d9744641fc2a282f827b972def2a">logmsg::date</a></div><div class="ttdeci">const ast_string_field date</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00178">logger.c:178</a></div></div>
<div class="ttc" id="structlogmsg_html_a1a8544029f1f17896aa17752c6aeed52"><div class="ttname"><a href="../../dc/dff/structlogmsg.html#a1a8544029f1f17896aa17752c6aeed52">logmsg::lwp</a></div><div class="ttdeci">int lwp</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00170">logger.c:170</a></div></div>
<div class="ttc" id="structlogmsg_html_a11971d47354d8f89f63bd12b0867501b"><div class="ttname"><a href="../../dc/dff/structlogmsg.html#a11971d47354d8f89f63bd12b0867501b">logmsg::level_name</a></div><div class="ttdeci">const ast_string_field level_name</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00178">logger.c:178</a></div></div>
<div class="ttc" id="strings_8h_html_ac4040268f7b6ed77dfc49c7767626369"><div class="ttname"><a href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a></div><div class="ttdeci">void ast_copy_string(char *dst, const char *src, size_t size)</div><div class="ttdoc">Size-limited null-terminating string copy. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00401">strings.h:401</a></div></div>
<div class="ttc" id="strings_8h_html_a2faaa16929951bfd2802b7829a100ba2"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a2faaa16929951bfd2802b7829a100ba2">S_OR</a></div><div class="ttdeci">#define S_OR(a, b)</div><div class="ttdoc">returns the equivalent of logic or for strings: first one if not empty, otherwise second one...</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00079">strings.h:79</a></div></div>
<div class="ttc" id="structlogmsg_html_a2f3ad6f31596c2474ce9d9c75b9bd66a"><div class="ttname"><a href="../../dc/dff/structlogmsg.html#a2f3ad6f31596c2474ce9d9c75b9bd66a">logmsg::message</a></div><div class="ttdeci">const ast_string_field message</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00178">logger.c:178</a></div></div>
<div class="ttc" id="structast__json_html"><div class="ttname"><a href="../../d1/da1/structast__json.html">ast_json</a></div><div class="ttdoc">Abstract JSON element (object, array, string, int, ...). </div></div>
<div class="ttc" id="structlogmsg_html_aa725d7fa93fc31b8596cc49cddc0ce22"><div class="ttname"><a href="../../dc/dff/structlogmsg.html#aa725d7fa93fc31b8596cc49cddc0ce22">logmsg::file</a></div><div class="ttdeci">const ast_string_field file</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00178">logger.c:178</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a335a8d7cbefb2893f78fb7af2a80ab97"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a335a8d7cbefb2893f78fb7af2a80ab97">&#9670;&nbsp;</a></span>format_log_message()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="../../dc/dff/structlogmsg.html">logmsg</a>* format_log_message </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sublevel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>line</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>function</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d1/d8c/logger_8h.html#a6db44a7e26f0bc42801fc7225817c6a1">ast_callid</a>&#160;</td>
          <td class="paramname"><em>callid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>fmt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/d22/logger_8c_source.html#l01746">1746</a> of file <a class="el" href="../../d1/d22/logger_8c_source.html">logger.c</a>.</p>

<p class="reference">References <a class="el" href="../../d1/d22/logger_8c_source.html#l01682">format_log_message_ap()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/d22/logger_8c_source.html#l02053">ast_log_full()</a>, and <a class="el" href="../../d1/d22/logger_8c_source.html#l01761">logger_thread()</a>.</p>
<div class="fragment"><div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;{</div><div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/dff/structlogmsg.html">logmsg</a> *<a class="code" href="../../dc/dff/structlogmsg.html">logmsg</a>;</div><div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;   va_list ap;</div><div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;</div><div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;   va_start(ap, fmt);</div><div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;   logmsg = <a class="code" href="../../d1/d22/logger_8c.html#ab6bcc963cf3993d36e608ad02c23bea5">format_log_message_ap</a>(<a class="code" href="../../dc/dff/structlogmsg.html#acf4d33ee4cff36f69b924471174dcb11">level</a>, <a class="code" href="../../dc/dff/structlogmsg.html#a635ef80281f5c34cbf8f5238cfe3c0c7">sublevel</a>, <a class="code" href="../../d2/dc8/namespacemake__ari__stubs.html#a40a5d58ffa6e88aa578d6683ac413105">file</a>, <a class="code" href="../../dc/dff/structlogmsg.html#a41ebd28ef1d7c6ade45642cb6acc1039">line</a>, <span class="keyword">function</span>, <a class="code" href="../../dc/dff/structlogmsg.html#a62f8995a6eac6c8a48205a6f3815d54b">callid</a>, fmt, ap);</div><div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;   va_end(ap);</div><div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;</div><div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;   <span class="keywordflow">return</span> logmsg;</div><div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;}</div><div class="ttc" id="structlogmsg_html_a41ebd28ef1d7c6ade45642cb6acc1039"><div class="ttname"><a href="../../dc/dff/structlogmsg.html#a41ebd28ef1d7c6ade45642cb6acc1039">logmsg::line</a></div><div class="ttdeci">int line</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00169">logger.c:169</a></div></div>
<div class="ttc" id="namespacemake__ari__stubs_html_a40a5d58ffa6e88aa578d6683ac413105"><div class="ttname"><a href="../../d2/dc8/namespacemake__ari__stubs.html#a40a5d58ffa6e88aa578d6683ac413105">make_ari_stubs.file</a></div><div class="ttdeci">file</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d28/make__ari__stubs_8py_source.html#l00025">make_ari_stubs.py:25</a></div></div>
<div class="ttc" id="structlogmsg_html_a62f8995a6eac6c8a48205a6f3815d54b"><div class="ttname"><a href="../../dc/dff/structlogmsg.html#a62f8995a6eac6c8a48205a6f3815d54b">logmsg::callid</a></div><div class="ttdeci">ast_callid callid</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00171">logger.c:171</a></div></div>
<div class="ttc" id="structlogmsg_html"><div class="ttname"><a href="../../dc/dff/structlogmsg.html">logmsg</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00165">logger.c:165</a></div></div>
<div class="ttc" id="structlogmsg_html_acf4d33ee4cff36f69b924471174dcb11"><div class="ttname"><a href="../../dc/dff/structlogmsg.html#acf4d33ee4cff36f69b924471174dcb11">logmsg::level</a></div><div class="ttdeci">int level</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00167">logger.c:167</a></div></div>
<div class="ttc" id="logger_8c_html_ab6bcc963cf3993d36e608ad02c23bea5"><div class="ttname"><a href="../../d1/d22/logger_8c.html#ab6bcc963cf3993d36e608ad02c23bea5">format_log_message_ap</a></div><div class="ttdeci">static struct logmsg * format_log_message_ap(int level, int sublevel, const char *file, int line, const char *function, ast_callid callid, const char *fmt, va_list ap)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l01682">logger.c:1682</a></div></div>
<div class="ttc" id="structlogmsg_html_a635ef80281f5c34cbf8f5238cfe3c0c7"><div class="ttname"><a href="../../dc/dff/structlogmsg.html#a635ef80281f5c34cbf8f5238cfe3c0c7">logmsg::sublevel</a></div><div class="ttdeci">int sublevel</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00168">logger.c:168</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab6bcc963cf3993d36e608ad02c23bea5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab6bcc963cf3993d36e608ad02c23bea5">&#9670;&nbsp;</a></span>format_log_message_ap()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="../../dc/dff/structlogmsg.html">logmsg</a>* format_log_message_ap </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sublevel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>line</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>function</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d1/d8c/logger_8h.html#a6db44a7e26f0bc42801fc7225817c6a1">ast_callid</a>&#160;</td>
          <td class="paramname"><em>callid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>fmt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">va_list&#160;</td>
          <td class="paramname"><em>ap</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/d22/logger_8c_source.html#l01682">1682</a> of file <a class="el" href="../../d1/d22/logger_8c_source.html">logger.c</a>.</p>

<p class="reference">References <a class="el" href="../../d1/d8c/logger_8h_source.html#l00295">__LOG_VERBOSE</a>, <a class="el" href="../../d1/d0f/stringfields_8h_source.html#l00426">ast_calloc_with_stringfields</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00895">AST_DYNSTR_BUILD_FAILED</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00112">ast_ends_with()</a>, <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l02504">ast_get_tid()</a>, <a class="el" href="../../d9/df8/localtime_8c_source.html#l01739">ast_localtime()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l01091">ast_str_append()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00714">ast_str_buffer()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00982">ast_str_set_va()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00861">ast_str_thread_get()</a>, <a class="el" href="../../d9/df8/localtime_8c_source.html#l02524">ast_strftime()</a>, <a class="el" href="../../d1/d0f/stringfields_8h_source.html#l00514">ast_string_field_set</a>, <a class="el" href="../../de/df7/time_8h_source.html#l00150">ast_tvnow()</a>, <a class="el" href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">buf</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00171">logmsg::callid</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00079">dateformat</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00089">display_callids</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00167">logmsg::level</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00169">logmsg::line</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00256">log_buf</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00257">LOG_BUF_INIT_SIZE</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00161">LOGMSG_NORMAL</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00162">LOGMSG_VERBOSE</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00170">logmsg::lwp</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00168">logmsg::sublevel</a>, and <a class="el" href="../../d1/d22/logger_8c_source.html#l00166">logmsg::type</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/d22/logger_8c_source.html#l02053">ast_log_full()</a>, and <a class="el" href="../../d1/d22/logger_8c_source.html#l01746">format_log_message()</a>.</p>
<div class="fragment"><div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;{</div><div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/dff/structlogmsg.html">logmsg</a> *<a class="code" href="../../dc/dff/structlogmsg.html">logmsg</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/da2/structast__str.html">ast_str</a> *<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d5/d84/structast__tm.html">ast_tm</a> tm;</div><div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;   <span class="keyword">struct </span>timeval now = <a class="code" href="../../de/df7/time_8h.html#ad3899efb6f0e348556ef69f5b16aa7f7">ast_tvnow</a>();</div><div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;   <span class="keywordtype">int</span> res = 0;</div><div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;   <span class="keywordtype">char</span> datestring[256];</div><div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;</div><div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;   <span class="keywordflow">if</span> (!(buf = <a class="code" href="../../d6/d90/strings_8h.html#afe8f5f844f2fd5f5bd5d0be5ef671481">ast_str_thread_get</a>(&amp;<a class="code" href="../../d1/d22/logger_8c.html#ad073beb53a8f82626a23cd86f79e587e">log_buf</a>, <a class="code" href="../../d1/d22/logger_8c.html#a823b00a2a06078bfb2e4aeb974ae9536">LOG_BUF_INIT_SIZE</a>))) {</div><div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;   }</div><div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;</div><div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;   <span class="comment">/* Build string */</span></div><div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;   res = <a class="code" href="../../d6/d90/strings_8h.html#a271350c7540474095b75cbea17d4837a">ast_str_set_va</a>(&amp;buf, BUFSIZ, fmt, ap);</div><div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;</div><div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;   <span class="comment">/* If the build failed, then abort and free this structure */</span></div><div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;   <span class="keywordflow">if</span> (res == <a class="code" href="../../d6/d90/strings_8h.html#a640e110a8e92c1283f2aae76e4649f48a46fbdfa757aef01471bab9679ce4281f">AST_DYNSTR_BUILD_FAILED</a>) {</div><div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;   }</div><div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;</div><div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;   <span class="comment">/* Automatically add a newline to format strings that don&#39;t have one */</span></div><div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a58dc754cbd6253d7955714f4d058a138">ast_ends_with</a>(<a class="code" href="../../d6/d90/strings_8h.html#a1ef7e2644ca7258070db316fdc0a465b">ast_str_buffer</a>(buf), <span class="stringliteral">&quot;\n&quot;</span>)) {</div><div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;      <a class="code" href="../../d6/d90/strings_8h.html#a1088afdd862a49b0fce34ebe02df8ca1">ast_str_append</a>(&amp;buf, 0, <span class="stringliteral">&quot;\n&quot;</span>);</div><div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;   }</div><div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;</div><div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;   <span class="comment">/* Create a new logging message */</span></div><div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;   <span class="keywordflow">if</span> (!(logmsg = <a class="code" href="../../d1/d0f/stringfields_8h.html#a3b64083b978bdb9d28222357acf5aff7">ast_calloc_with_stringfields</a>(1, <span class="keyword">struct</span> logmsg, res + 128))) {</div><div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;   }</div><div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;</div><div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;   <span class="comment">/* Copy string over */</span></div><div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;   <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(logmsg, <a class="code" href="../../d8/d9e/structmessage.html">message</a>, <a class="code" href="../../d6/d90/strings_8h.html#a1ef7e2644ca7258070db316fdc0a465b">ast_str_buffer</a>(buf));</div><div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;</div><div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;   <span class="comment">/* Set type */</span></div><div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;   <span class="keywordflow">if</span> (level == <a class="code" href="../../d1/d8c/logger_8h.html#aa11fae1314f286da3d57ae8c07ec4bca">__LOG_VERBOSE</a>) {</div><div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;      logmsg-&gt;<a class="code" href="../../dc/dff/structlogmsg.html#ac85f938a8e2e1945cc672e4886cfb9e8">type</a> = <a class="code" href="../../d1/d22/logger_8c.html#a29df94a387c835e6296b05418885993eae66ea31ebaa61ba9cac6412f3f9f21c7">LOGMSG_VERBOSE</a>;</div><div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;      logmsg-&gt;<a class="code" href="../../dc/dff/structlogmsg.html#ac85f938a8e2e1945cc672e4886cfb9e8">type</a> = <a class="code" href="../../d1/d22/logger_8c.html#a29df94a387c835e6296b05418885993ea4ff7bef379df472011e5516f51160e2c">LOGMSG_NORMAL</a>;</div><div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;   }</div><div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;</div><div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d1/d22/logger_8c.html#a5f2b7ea41494bbea44ef18a8aedd671e">display_callids</a> &amp;&amp; callid) {</div><div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;      logmsg-&gt;<a class="code" href="../../dc/dff/structlogmsg.html#a62f8995a6eac6c8a48205a6f3815d54b">callid</a> = callid;</div><div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;   }</div><div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;</div><div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;   <span class="comment">/* Create our date/time */</span></div><div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;   <a class="code" href="../../d5/deb/localtime_8h.html#ae9fbda728350a9a5b9c09b29214d718e">ast_localtime</a>(&amp;now, &amp;tm, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;   <a class="code" href="../../d5/deb/localtime_8h.html#aa8e63928b14a347bd3973d680b885f93">ast_strftime</a>(datestring, <span class="keyword">sizeof</span>(datestring), <a class="code" href="../../d1/d22/logger_8c.html#a2057dec53731af6bb6881015b58936ba">dateformat</a>, &amp;tm);</div><div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;   <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(logmsg, date, datestring);</div><div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;</div><div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;   <span class="comment">/* Copy over data */</span></div><div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;   logmsg-&gt;<a class="code" href="../../dc/dff/structlogmsg.html#acf4d33ee4cff36f69b924471174dcb11">level</a> = level;</div><div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;   logmsg-&gt;<a class="code" href="../../dc/dff/structlogmsg.html#a635ef80281f5c34cbf8f5238cfe3c0c7">sublevel</a> = sublevel;</div><div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;   logmsg-&gt;<a class="code" href="../../dc/dff/structlogmsg.html#a41ebd28ef1d7c6ade45642cb6acc1039">line</a> = line;</div><div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;   <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(logmsg, level_name, <a class="code" href="../../d1/d22/logger_8c.html#a2ae9b20e8a0ca3f97cf9f8927e0fdb7f">levels</a>[level]);</div><div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;   <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(logmsg, <a class="code" href="../../d2/dc8/namespacemake__ari__stubs.html#a40a5d58ffa6e88aa578d6683ac413105">file</a>, <a class="code" href="../../d2/dc8/namespacemake__ari__stubs.html#a40a5d58ffa6e88aa578d6683ac413105">file</a>);</div><div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;   <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(logmsg, <span class="keyword">function</span>, <span class="keyword">function</span>);</div><div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;   logmsg-&gt;<a class="code" href="../../dc/dff/structlogmsg.html#a1a8544029f1f17896aa17752c6aeed52">lwp</a> = <a class="code" href="../../d5/d60/utils_8h.html#a78ce13d749925cbdaa7625e8dbdcbf7f">ast_get_tid</a>();</div><div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;</div><div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;   <span class="keywordflow">return</span> logmsg;</div><div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;}</div><div class="ttc" id="structmessage_html"><div class="ttname"><a href="../../d8/d9e/structmessage.html">message</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/d45/manager_8h_source.html#l00144">manager.h:144</a></div></div>
<div class="ttc" id="structlogmsg_html_a41ebd28ef1d7c6ade45642cb6acc1039"><div class="ttname"><a href="../../dc/dff/structlogmsg.html#a41ebd28ef1d7c6ade45642cb6acc1039">logmsg::line</a></div><div class="ttdeci">int line</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00169">logger.c:169</a></div></div>
<div class="ttc" id="strings_8h_html_a58dc754cbd6253d7955714f4d058a138"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a58dc754cbd6253d7955714f4d058a138">ast_ends_with</a></div><div class="ttdeci">static int force_inline attribute_pure ast_ends_with(const char *str, const char *suffix)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00112">strings.h:112</a></div></div>
<div class="ttc" id="eagi__proxy_8c_html_ac95651d79c608a3148973b5b1fc9e525"><div class="ttname"><a href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a></div><div class="ttdeci">char buf[BUFSIZE]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">eagi_proxy.c:66</a></div></div>
<div class="ttc" id="namespacemake__ari__stubs_html_a40a5d58ffa6e88aa578d6683ac413105"><div class="ttname"><a href="../../d2/dc8/namespacemake__ari__stubs.html#a40a5d58ffa6e88aa578d6683ac413105">make_ari_stubs.file</a></div><div class="ttdeci">file</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d28/make__ari__stubs_8py_source.html#l00025">make_ari_stubs.py:25</a></div></div>
<div class="ttc" id="structlogmsg_html_a62f8995a6eac6c8a48205a6f3815d54b"><div class="ttname"><a href="../../dc/dff/structlogmsg.html#a62f8995a6eac6c8a48205a6f3815d54b">logmsg::callid</a></div><div class="ttdeci">ast_callid callid</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00171">logger.c:171</a></div></div>
<div class="ttc" id="strings_8h_html_a1ef7e2644ca7258070db316fdc0a465b"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a1ef7e2644ca7258070db316fdc0a465b">ast_str_buffer</a></div><div class="ttdeci">char * ast_str_buffer(const struct ast_str *buf)</div><div class="ttdoc">Returns the string buffer within the ast_str buf. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00714">strings.h:714</a></div></div>
<div class="ttc" id="localtime_8h_html_ae9fbda728350a9a5b9c09b29214d718e"><div class="ttname"><a href="../../d5/deb/localtime_8h.html#ae9fbda728350a9a5b9c09b29214d718e">ast_localtime</a></div><div class="ttdeci">struct ast_tm * ast_localtime(const struct timeval *timep, struct ast_tm *p_tm, const char *zone)</div><div class="ttdoc">Timezone-independent version of localtime_r(3). </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/df8/localtime_8c_source.html#l01739">localtime.c:1739</a></div></div>
<div class="ttc" id="logger_8c_html_a823b00a2a06078bfb2e4aeb974ae9536"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a823b00a2a06078bfb2e4aeb974ae9536">LOG_BUF_INIT_SIZE</a></div><div class="ttdeci">#define LOG_BUF_INIT_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00257">logger.c:257</a></div></div>
<div class="ttc" id="strings_8h_html_a271350c7540474095b75cbea17d4837a"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a271350c7540474095b75cbea17d4837a">ast_str_set_va</a></div><div class="ttdeci">int ast_str_set_va(struct ast_str **buf, ssize_t max_len, const char *fmt, va_list ap)</div><div class="ttdoc">Set a dynamic string from a va_list. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00982">strings.h:982</a></div></div>
<div class="ttc" id="stringfields_8h_html_a3b64083b978bdb9d28222357acf5aff7"><div class="ttname"><a href="../../d1/d0f/stringfields_8h.html#a3b64083b978bdb9d28222357acf5aff7">ast_calloc_with_stringfields</a></div><div class="ttdeci">#define ast_calloc_with_stringfields(n, type, size)</div><div class="ttdoc">Allocate a structure with embedded stringfields in a single allocation. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d0f/stringfields_8h_source.html#l00426">stringfields.h:426</a></div></div>
<div class="ttc" id="logger_8c_html_a2ae9b20e8a0ca3f97cf9f8927e0fdb7f"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a2ae9b20e8a0ca3f97cf9f8927e0fdb7f">levels</a></div><div class="ttdeci">static char * levels[NUMLOGLEVELS]</div><div class="ttdoc">Logging channels used in the Asterisk logging system. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00206">logger.c:206</a></div></div>
<div class="ttc" id="strings_8h_html_a1088afdd862a49b0fce34ebe02df8ca1"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a1088afdd862a49b0fce34ebe02df8ca1">ast_str_append</a></div><div class="ttdeci">int ast_str_append(struct ast_str **buf, ssize_t max_len, const char *fmt,...)</div><div class="ttdoc">Append to a thread local dynamic string. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l01091">strings.h:1091</a></div></div>
<div class="ttc" id="time_8h_html_ad3899efb6f0e348556ef69f5b16aa7f7"><div class="ttname"><a href="../../de/df7/time_8h.html#ad3899efb6f0e348556ef69f5b16aa7f7">ast_tvnow</a></div><div class="ttdeci">struct timeval ast_tvnow(void)</div><div class="ttdoc">Returns current timeval. Meant to replace calls to gettimeofday(). </div><div class="ttdef"><b>Definition:</b> <a href="../../de/df7/time_8h_source.html#l00150">time.h:150</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="logger_8c_html_a29df94a387c835e6296b05418885993eae66ea31ebaa61ba9cac6412f3f9f21c7"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a29df94a387c835e6296b05418885993eae66ea31ebaa61ba9cac6412f3f9f21c7">LOGMSG_VERBOSE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00162">logger.c:162</a></div></div>
<div class="ttc" id="logger_8c_html_ad073beb53a8f82626a23cd86f79e587e"><div class="ttname"><a href="../../d1/d22/logger_8c.html#ad073beb53a8f82626a23cd86f79e587e">log_buf</a></div><div class="ttdeci">static struct ast_threadstorage log_buf</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00256">logger.c:256</a></div></div>
<div class="ttc" id="structlogmsg_html"><div class="ttname"><a href="../../dc/dff/structlogmsg.html">logmsg</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00165">logger.c:165</a></div></div>
<div class="ttc" id="utils_8h_html_a78ce13d749925cbdaa7625e8dbdcbf7f"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a78ce13d749925cbdaa7625e8dbdcbf7f">ast_get_tid</a></div><div class="ttdeci">int ast_get_tid(void)</div><div class="ttdoc">Get current thread ID. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1f/main_2utils_8c_source.html#l02504">main/utils.c:2504</a></div></div>
<div class="ttc" id="structlogmsg_html_acf4d33ee4cff36f69b924471174dcb11"><div class="ttname"><a href="../../dc/dff/structlogmsg.html#acf4d33ee4cff36f69b924471174dcb11">logmsg::level</a></div><div class="ttdeci">int level</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00167">logger.c:167</a></div></div>
<div class="ttc" id="structast__str_html"><div class="ttname"><a href="../../dd/da2/structast__str.html">ast_str</a></div><div class="ttdoc">The descriptor of a dynamic string XXX storage will be optimized later if needed We use the ts field ...</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00584">strings.h:584</a></div></div>
<div class="ttc" id="logger_8c_html_a29df94a387c835e6296b05418885993ea4ff7bef379df472011e5516f51160e2c"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a29df94a387c835e6296b05418885993ea4ff7bef379df472011e5516f51160e2c">LOGMSG_NORMAL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00161">logger.c:161</a></div></div>
<div class="ttc" id="strings_8h_html_a640e110a8e92c1283f2aae76e4649f48a46fbdfa757aef01471bab9679ce4281f"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a640e110a8e92c1283f2aae76e4649f48a46fbdfa757aef01471bab9679ce4281f">AST_DYNSTR_BUILD_FAILED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00895">strings.h:895</a></div></div>
<div class="ttc" id="structlogmsg_html_a1a8544029f1f17896aa17752c6aeed52"><div class="ttname"><a href="../../dc/dff/structlogmsg.html#a1a8544029f1f17896aa17752c6aeed52">logmsg::lwp</a></div><div class="ttdeci">int lwp</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00170">logger.c:170</a></div></div>
<div class="ttc" id="localtime_8h_html_aa8e63928b14a347bd3973d680b885f93"><div class="ttname"><a href="../../d5/deb/localtime_8h.html#aa8e63928b14a347bd3973d680b885f93">ast_strftime</a></div><div class="ttdeci">int ast_strftime(char *buf, size_t len, const char *format, const struct ast_tm *tm)</div><div class="ttdoc">Special version of strftime(3) that handles fractions of a second. Takes the same arguments as strfti...</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/df8/localtime_8c_source.html#l02524">localtime.c:2524</a></div></div>
<div class="ttc" id="structlogmsg_html_ac85f938a8e2e1945cc672e4886cfb9e8"><div class="ttname"><a href="../../dc/dff/structlogmsg.html#ac85f938a8e2e1945cc672e4886cfb9e8">logmsg::type</a></div><div class="ttdeci">enum logmsgtypes type</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00166">logger.c:166</a></div></div>
<div class="ttc" id="logger_8c_html_a2057dec53731af6bb6881015b58936ba"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a2057dec53731af6bb6881015b58936ba">dateformat</a></div><div class="ttdeci">static char dateformat[256]</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00079">logger.c:79</a></div></div>
<div class="ttc" id="logger_8c_html_a5f2b7ea41494bbea44ef18a8aedd671e"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a5f2b7ea41494bbea44ef18a8aedd671e">display_callids</a></div><div class="ttdeci">static int display_callids</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00089">logger.c:89</a></div></div>
<div class="ttc" id="logger_8h_html_aa11fae1314f286da3d57ae8c07ec4bca"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aa11fae1314f286da3d57ae8c07ec4bca">__LOG_VERBOSE</a></div><div class="ttdeci">#define __LOG_VERBOSE</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00295">logger.h:295</a></div></div>
<div class="ttc" id="strings_8h_html_afe8f5f844f2fd5f5bd5d0be5ef671481"><div class="ttname"><a href="../../d6/d90/strings_8h.html#afe8f5f844f2fd5f5bd5d0be5ef671481">ast_str_thread_get</a></div><div class="ttdeci">struct ast_str * ast_str_thread_get(struct ast_threadstorage *ts, size_t init_len)</div><div class="ttdoc">Retrieve a thread locally stored dynamic string. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00861">strings.h:861</a></div></div>
<div class="ttc" id="structlogmsg_html_a635ef80281f5c34cbf8f5238cfe3c0c7"><div class="ttname"><a href="../../dc/dff/structlogmsg.html#a635ef80281f5c34cbf8f5238cfe3c0c7">logmsg::sublevel</a></div><div class="ttdeci">int sublevel</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00168">logger.c:168</a></div></div>
<div class="ttc" id="stringfields_8h_html_a653461abd6e0d16e4e3326ab90e0501d"><div class="ttname"><a href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a></div><div class="ttdeci">#define ast_string_field_set(x, field, data)</div><div class="ttdoc">Set a field to a simple string value. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d0f/stringfields_8h_source.html#l00514">stringfields.h:514</a></div></div>
<div class="ttc" id="structast__tm_html"><div class="ttname"><a href="../../d5/d84/structast__tm.html">ast_tm</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/deb/localtime_8h_source.html#l00035">localtime.h:35</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a0d5c694b14ef48eca0cd963671d49cb1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d5c694b14ef48eca0cd963671d49cb1">&#9670;&nbsp;</a></span>format_log_plain()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int format_log_plain </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d6/d0c/structlogchannel.html">logchannel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../dc/dff/structlogmsg.html">logmsg</a> *&#160;</td>
          <td class="paramname"><em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/d22/logger_8c_source.html#l00429">429</a> of file <a class="el" href="../../d1/d22/logger_8c_source.html">logger.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00171">logmsg::callid</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00178">logmsg::date</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00178">logmsg::file</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00178">logmsg::function</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00167">logmsg::level</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00178">logmsg::level_name</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00169">logmsg::line</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00128">LOGTYPE_CONSOLE</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00127">LOGTYPE_FILE</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00126">LOGTYPE_SYSLOG</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00170">logmsg::lwp</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00178">logmsg::message</a>, <a class="el" href="../../d5/de5/term_8c_source.html#l00311">term_strip()</a>, and <a class="el" href="../../d1/d22/logger_8c_source.html#l00143">logchannel::type</a>.</p>
<div class="fragment"><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;{</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;   <span class="keywordtype">char</span> call_identifier_str[13];</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;   <span class="keywordtype">char</span> linestr[32];</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;   <span class="keywordtype">int</span> has_file = !<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(msg-&gt;<a class="code" href="../../dc/dff/structlogmsg.html#aa725d7fa93fc31b8596cc49cddc0ce22">file</a>);</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;   <span class="keywordtype">int</span> has_line = (msg-&gt;<a class="code" href="../../dc/dff/structlogmsg.html#a41ebd28ef1d7c6ade45642cb6acc1039">line</a> &gt; 0);</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;   <span class="keywordtype">int</span> has_func = !<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(msg-&gt;<a class="code" href="../../dc/dff/structlogmsg.html#abd55aa4365575a439025e6871f142399">function</a>);</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;   <span class="keywordflow">if</span> (msg-&gt;<a class="code" href="../../dc/dff/structlogmsg.html#a62f8995a6eac6c8a48205a6f3815d54b">callid</a>) {</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;      snprintf(call_identifier_str, <span class="keyword">sizeof</span>(call_identifier_str), <span class="stringliteral">&quot;[C-%08x]&quot;</span>, msg-&gt;<a class="code" href="../../dc/dff/structlogmsg.html#a62f8995a6eac6c8a48205a6f3815d54b">callid</a>);</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;      call_identifier_str[0] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;   }</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;   <span class="keywordflow">switch</span> (chan-&gt;<a class="code" href="../../d6/d0c/structlogchannel.html#a6d3cd9e6800461f549a4fcabae1712c1">type</a>) {</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d1/d22/logger_8c.html#a7e2550c12ff27e5cd303101e86cf8eb4affe678f5d32a5ad00d20d138627aa22f">LOGTYPE_SYSLOG</a>:</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;      snprintf(<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, size, <span class="stringliteral">&quot;%s[%d]%s: %s:%d in %s: %s&quot;</span>,</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;           <a class="code" href="../../d1/d22/logger_8c.html#a2ae9b20e8a0ca3f97cf9f8927e0fdb7f">levels</a>[msg-&gt;<a class="code" href="../../dc/dff/structlogmsg.html#acf4d33ee4cff36f69b924471174dcb11">level</a>], msg-&gt;<a class="code" href="../../dc/dff/structlogmsg.html#a1a8544029f1f17896aa17752c6aeed52">lwp</a>, call_identifier_str, msg-&gt;<a class="code" href="../../dc/dff/structlogmsg.html#aa725d7fa93fc31b8596cc49cddc0ce22">file</a>,</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;           msg-&gt;<a class="code" href="../../dc/dff/structlogmsg.html#a41ebd28ef1d7c6ade45642cb6acc1039">line</a>, msg-&gt;<a class="code" href="../../dc/dff/structlogmsg.html#abd55aa4365575a439025e6871f142399">function</a>, msg-&gt;<a class="code" href="../../dc/dff/structlogmsg.html#a2f3ad6f31596c2474ce9d9c75b9bd66a">message</a>);</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;      <a class="code" href="../../db/d45/term_8h.html#a3a3cbec50cdddbfe0a99732d55fc147d">term_strip</a>(<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, size);</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d1/d22/logger_8c.html#a7e2550c12ff27e5cd303101e86cf8eb4a82620c2d182f4b50f3801669f747f3aa">LOGTYPE_FILE</a>:</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d1/d22/logger_8c.html#a7e2550c12ff27e5cd303101e86cf8eb4a439c8fd120012113aa39dfece22ed55f">LOGTYPE_CONSOLE</a>:</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;      <span class="comment">/* Turn the numerical line number into a string */</span></div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;      snprintf(linestr, <span class="keyword">sizeof</span>(linestr), <span class="stringliteral">&quot;%d&quot;</span>, msg-&gt;<a class="code" href="../../dc/dff/structlogmsg.html#a41ebd28ef1d7c6ade45642cb6acc1039">line</a>);</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;      <span class="comment">/* Build string to print out */</span></div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;      snprintf(<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, size, <span class="stringliteral">&quot;[%s] %s[%d]%s: %s%s%s%s%s%s%s&quot;</span>,</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;         msg-&gt;<a class="code" href="../../dc/dff/structlogmsg.html#afce1d9744641fc2a282f827b972def2a">date</a>,</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;         msg-&gt;<a class="code" href="../../dc/dff/structlogmsg.html#a11971d47354d8f89f63bd12b0867501b">level_name</a>,</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;         msg-&gt;<a class="code" href="../../dc/dff/structlogmsg.html#a1a8544029f1f17896aa17752c6aeed52">lwp</a>,</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;         call_identifier_str,</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;         has_file ? msg-&gt;<a class="code" href="../../dc/dff/structlogmsg.html#aa725d7fa93fc31b8596cc49cddc0ce22">file</a> : <span class="stringliteral">&quot;&quot;</span>,</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;         has_file ? <span class="stringliteral">&quot;:&quot;</span> : <span class="stringliteral">&quot;&quot;</span>,</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;         has_line ? linestr : <span class="stringliteral">&quot;&quot;</span>,</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;         has_line ? <span class="stringliteral">&quot; &quot;</span> : <span class="stringliteral">&quot;&quot;</span>,</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;         has_func ? msg-&gt;<a class="code" href="../../dc/dff/structlogmsg.html#abd55aa4365575a439025e6871f142399">function</a> : <span class="stringliteral">&quot;&quot;</span>,</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;         has_func ? <span class="stringliteral">&quot;: &quot;</span> : <span class="stringliteral">&quot;&quot;</span>,</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;         msg-&gt;<a class="code" href="../../dc/dff/structlogmsg.html#a2f3ad6f31596c2474ce9d9c75b9bd66a">message</a>);</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;      <a class="code" href="../../db/d45/term_8h.html#a3a3cbec50cdddbfe0a99732d55fc147d">term_strip</a>(<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, size);</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;   }</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;}</div><div class="ttc" id="structlogmsg_html_a41ebd28ef1d7c6ade45642cb6acc1039"><div class="ttname"><a href="../../dc/dff/structlogmsg.html#a41ebd28ef1d7c6ade45642cb6acc1039">logmsg::line</a></div><div class="ttdeci">int line</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00169">logger.c:169</a></div></div>
<div class="ttc" id="logger_8c_html_a7e2550c12ff27e5cd303101e86cf8eb4a439c8fd120012113aa39dfece22ed55f"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a7e2550c12ff27e5cd303101e86cf8eb4a439c8fd120012113aa39dfece22ed55f">LOGTYPE_CONSOLE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00128">logger.c:128</a></div></div>
<div class="ttc" id="eagi__proxy_8c_html_ac95651d79c608a3148973b5b1fc9e525"><div class="ttname"><a href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a></div><div class="ttdeci">char buf[BUFSIZE]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">eagi_proxy.c:66</a></div></div>
<div class="ttc" id="structlogmsg_html_a62f8995a6eac6c8a48205a6f3815d54b"><div class="ttname"><a href="../../dc/dff/structlogmsg.html#a62f8995a6eac6c8a48205a6f3815d54b">logmsg::callid</a></div><div class="ttdeci">ast_callid callid</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00171">logger.c:171</a></div></div>
<div class="ttc" id="term_8h_html_a3a3cbec50cdddbfe0a99732d55fc147d"><div class="ttname"><a href="../../db/d45/term_8h.html#a3a3cbec50cdddbfe0a99732d55fc147d">term_strip</a></div><div class="ttdeci">char * term_strip(char *outbuf, const char *inbuf, int maxout)</div><div class="ttdoc">Remove colorings from a specified string. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de5/term_8c_source.html#l00311">term.c:311</a></div></div>
<div class="ttc" id="logger_8c_html_a2ae9b20e8a0ca3f97cf9f8927e0fdb7f"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a2ae9b20e8a0ca3f97cf9f8927e0fdb7f">levels</a></div><div class="ttdeci">static char * levels[NUMLOGLEVELS]</div><div class="ttdoc">Logging channels used in the Asterisk logging system. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00206">logger.c:206</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="logger_8c_html_a7e2550c12ff27e5cd303101e86cf8eb4affe678f5d32a5ad00d20d138627aa22f"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a7e2550c12ff27e5cd303101e86cf8eb4affe678f5d32a5ad00d20d138627aa22f">LOGTYPE_SYSLOG</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00126">logger.c:126</a></div></div>
<div class="ttc" id="structlogmsg_html_abd55aa4365575a439025e6871f142399"><div class="ttname"><a href="../../dc/dff/structlogmsg.html#abd55aa4365575a439025e6871f142399">logmsg::function</a></div><div class="ttdeci">const ast_string_field function</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00178">logger.c:178</a></div></div>
<div class="ttc" id="structlogmsg_html_acf4d33ee4cff36f69b924471174dcb11"><div class="ttname"><a href="../../dc/dff/structlogmsg.html#acf4d33ee4cff36f69b924471174dcb11">logmsg::level</a></div><div class="ttdeci">int level</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00167">logger.c:167</a></div></div>
<div class="ttc" id="structlogmsg_html_afce1d9744641fc2a282f827b972def2a"><div class="ttname"><a href="../../dc/dff/structlogmsg.html#afce1d9744641fc2a282f827b972def2a">logmsg::date</a></div><div class="ttdeci">const ast_string_field date</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00178">logger.c:178</a></div></div>
<div class="ttc" id="structlogchannel_html_a6d3cd9e6800461f549a4fcabae1712c1"><div class="ttname"><a href="../../d6/d0c/structlogchannel.html#a6d3cd9e6800461f549a4fcabae1712c1">logchannel::type</a></div><div class="ttdeci">enum logtypes type</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00143">logger.c:143</a></div></div>
<div class="ttc" id="structlogmsg_html_a1a8544029f1f17896aa17752c6aeed52"><div class="ttname"><a href="../../dc/dff/structlogmsg.html#a1a8544029f1f17896aa17752c6aeed52">logmsg::lwp</a></div><div class="ttdeci">int lwp</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00170">logger.c:170</a></div></div>
<div class="ttc" id="structlogmsg_html_a11971d47354d8f89f63bd12b0867501b"><div class="ttname"><a href="../../dc/dff/structlogmsg.html#a11971d47354d8f89f63bd12b0867501b">logmsg::level_name</a></div><div class="ttdeci">const ast_string_field level_name</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00178">logger.c:178</a></div></div>
<div class="ttc" id="structlogmsg_html_a2f3ad6f31596c2474ce9d9c75b9bd66a"><div class="ttname"><a href="../../dc/dff/structlogmsg.html#a2f3ad6f31596c2474ce9d9c75b9bd66a">logmsg::message</a></div><div class="ttdeci">const ast_string_field message</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00178">logger.c:178</a></div></div>
<div class="ttc" id="structlogmsg_html_aa725d7fa93fc31b8596cc49cddc0ce22"><div class="ttname"><a href="../../dc/dff/structlogmsg.html#aa725d7fa93fc31b8596cc49cddc0ce22">logmsg::file</a></div><div class="ttdeci">const ast_string_field file</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00178">logger.c:178</a></div></div>
<div class="ttc" id="logger_8c_html_a7e2550c12ff27e5cd303101e86cf8eb4a82620c2d182f4b50f3801669f747f3aa"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a7e2550c12ff27e5cd303101e86cf8eb4a82620c2d182f4b50f3801669f747f3aa">LOGTYPE_FILE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00127">logger.c:127</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a9962e643261718f372efa728bc112a05"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9962e643261718f372efa728bc112a05">&#9670;&nbsp;</a></span>handle_logger_add_channel()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static char* handle_logger_add_channel </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d8/d07/structast__cli__entry.html">ast_cli_entry</a> *&#160;</td>
          <td class="paramname"><em>e</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d3/dad/structast__cli__args.html">ast_cli_args</a> *&#160;</td>
          <td class="paramname"><em>a</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/d22/logger_8c_source.html#l01449">1449</a> of file <a class="el" href="../../d1/d22/logger_8c_source.html">logger.c</a>.</p>

<p class="reference">References <a class="el" href="../../dc/db0/cli_8h_source.html#l00160">ast_cli_args::argc</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00161">ast_cli_args::argv</a>, <a class="el" href="../../da/d4d/clicompat_8c_source.html#l00006">ast_cli()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00052">AST_LOGGER_ALLOC_ERROR</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l01419">ast_logger_create_channel()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00051">AST_LOGGER_DECLINE</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00050">AST_LOGGER_FAILURE</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00049">AST_LOGGER_SUCCESS</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00046">CLI_FAILURE</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00153">CLI_GENERATE</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00152">CLI_INIT</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00045">CLI_SHOWUSAGE</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00044">CLI_SUCCESS</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00186">ast_cli_entry::command</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00159">ast_cli_args::fd</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../dc/db0/cli_8h_source.html#l00177">ast_cli_entry::usage</a>.</p>
<div class="fragment"><div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;{</div><div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;   <span class="keywordflow">switch</span> (cmd) {</div><div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a71745eb63dd093f560a1add3e430d2a9">CLI_INIT</a>:</div><div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;      e-&gt;<a class="code" href="../../d8/d07/structast__cli__entry.html#ade9cba72805fe52685a1deea307a8e82">command</a> = <span class="stringliteral">&quot;logger add channel&quot;</span>;</div><div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;      e-&gt;<a class="code" href="../../d8/d07/structast__cli__entry.html#aef1bd6ad890a110b466cb0e8088507a2">usage</a> =</div><div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;         <span class="stringliteral">&quot;Usage: logger add channel &lt;name&gt; &lt;levels&gt;\n&quot;</span></div><div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;         <span class="stringliteral">&quot;       Adds a temporary logger channel. This logger channel\n&quot;</span></div><div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;         <span class="stringliteral">&quot;       will exist until removed or until Asterisk is restarted.\n&quot;</span></div><div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;         <span class="stringliteral">&quot;       &lt;levels&gt; is a comma-separated list of desired logger\n&quot;</span></div><div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;         <span class="stringliteral">&quot;       levels such as: verbose,warning,error\n&quot;</span></div><div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;         <span class="stringliteral">&quot;       An optional formatter may be specified with the levels;\n&quot;</span></div><div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;         <span class="stringliteral">&quot;       valid values are &#39;[json]&#39; and &#39;[default]&#39;.\n&quot;</span>;</div><div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a76bf33139279b03ec1691f2be2d1be40">CLI_GENERATE</a>:</div><div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;   }</div><div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;</div><div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;   <span class="keywordflow">if</span> (a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#a98e1d8441ca58834f11f7367be4b3345">argc</a> &lt; 5) {</div><div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#a0873456096960dab21fff0ce68c95acb">CLI_SHOWUSAGE</a>;</div><div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;   }</div><div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;</div><div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;   <span class="keywordflow">switch</span> (<a class="code" href="../../d1/d22/logger_8c.html#a2dafb819b3b5e2505cbaf484271307f6">ast_logger_create_channel</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[3], a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[4])) {</div><div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d1/d8c/logger_8h.html#aa215cccdbc7f8887dc9eceddb1d18d9dae534bcd3f9115778d085780ed535abae">AST_LOGGER_SUCCESS</a>:</div><div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#a50989f00b32eeb2516a3803cb2ffb766">CLI_SUCCESS</a>;</div><div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d1/d8c/logger_8h.html#aa215cccdbc7f8887dc9eceddb1d18d9dae5001908c66f174fcbd3a2a32313226d">AST_LOGGER_FAILURE</a>:</div><div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;      <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;Logger channel &#39;%s&#39; already exists\n&quot;</span>, a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[3]);</div><div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#a50989f00b32eeb2516a3803cb2ffb766">CLI_SUCCESS</a>;</div><div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d1/d8c/logger_8h.html#aa215cccdbc7f8887dc9eceddb1d18d9da78b4e7b013d4f6d306c6ef773ca754c8">AST_LOGGER_DECLINE</a>:</div><div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d1/d8c/logger_8h.html#aa215cccdbc7f8887dc9eceddb1d18d9daf990ebc5e99fadaa265a1def67407b7d">AST_LOGGER_ALLOC_ERROR</a>:</div><div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;   <span class="keywordflow">default</span>:</div><div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;      <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;ERROR: Unable to create log channel &#39;%s&#39;\n&quot;</span>, a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[3]);</div><div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#ae47751901c430ebb833e59291a5e0b3f">CLI_FAILURE</a>;</div><div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;   }</div><div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;}</div><div class="ttc" id="logger_8h_html_aa215cccdbc7f8887dc9eceddb1d18d9da78b4e7b013d4f6d306c6ef773ca754c8"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aa215cccdbc7f8887dc9eceddb1d18d9da78b4e7b013d4f6d306c6ef773ca754c8">AST_LOGGER_DECLINE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00051">logger.h:51</a></div></div>
<div class="ttc" id="structast__cli__args_html_a98e1d8441ca58834f11f7367be4b3345"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html#a98e1d8441ca58834f11f7367be4b3345">ast_cli_args::argc</a></div><div class="ttdeci">const int argc</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00160">cli.h:160</a></div></div>
<div class="ttc" id="cli_8h_html_ab33e5350a923c3a8cedbeb496cd88ec9a71745eb63dd093f560a1add3e430d2a9"><div class="ttname"><a href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a71745eb63dd093f560a1add3e430d2a9">CLI_INIT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00152">cli.h:152</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="cli_8h_html_a791bf9f5637185bee5e8f0907c762130"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a></div><div class="ttdeci">void ast_cli(int fd, const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4d/clicompat_8c_source.html#l00006">clicompat.c:6</a></div></div>
<div class="ttc" id="structast__cli__args_html_acf64f219885421479997667d2ed3f08a"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">ast_cli_args::fd</a></div><div class="ttdeci">const int fd</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00159">cli.h:159</a></div></div>
<div class="ttc" id="logger_8h_html_aa215cccdbc7f8887dc9eceddb1d18d9daf990ebc5e99fadaa265a1def67407b7d"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aa215cccdbc7f8887dc9eceddb1d18d9daf990ebc5e99fadaa265a1def67407b7d">AST_LOGGER_ALLOC_ERROR</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00052">logger.h:52</a></div></div>
<div class="ttc" id="structast__cli__args_html_ad0a19c4d63698f9e9cfd5653e8851452"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">ast_cli_args::argv</a></div><div class="ttdeci">const char *const  * argv</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00161">cli.h:161</a></div></div>
<div class="ttc" id="cli_8h_html_a0873456096960dab21fff0ce68c95acb"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a0873456096960dab21fff0ce68c95acb">CLI_SHOWUSAGE</a></div><div class="ttdeci">#define CLI_SHOWUSAGE</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00045">cli.h:45</a></div></div>
<div class="ttc" id="logger_8c_html_a2dafb819b3b5e2505cbaf484271307f6"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a2dafb819b3b5e2505cbaf484271307f6">ast_logger_create_channel</a></div><div class="ttdeci">int ast_logger_create_channel(const char *log_channel, const char *components)</div><div class="ttdoc">Create a log channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l01419">logger.c:1419</a></div></div>
<div class="ttc" id="cli_8h_html_ae47751901c430ebb833e59291a5e0b3f"><div class="ttname"><a href="../../dc/db0/cli_8h.html#ae47751901c430ebb833e59291a5e0b3f">CLI_FAILURE</a></div><div class="ttdeci">#define CLI_FAILURE</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00046">cli.h:46</a></div></div>
<div class="ttc" id="structast__cli__entry_html_ade9cba72805fe52685a1deea307a8e82"><div class="ttname"><a href="../../d8/d07/structast__cli__entry.html#ade9cba72805fe52685a1deea307a8e82">ast_cli_entry::command</a></div><div class="ttdeci">char * command</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00186">cli.h:186</a></div></div>
<div class="ttc" id="structast__cli__entry_html_aef1bd6ad890a110b466cb0e8088507a2"><div class="ttname"><a href="../../d8/d07/structast__cli__entry.html#aef1bd6ad890a110b466cb0e8088507a2">ast_cli_entry::usage</a></div><div class="ttdeci">const char * usage</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00177">cli.h:177</a></div></div>
<div class="ttc" id="cli_8h_html_a50989f00b32eeb2516a3803cb2ffb766"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a50989f00b32eeb2516a3803cb2ffb766">CLI_SUCCESS</a></div><div class="ttdeci">#define CLI_SUCCESS</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00044">cli.h:44</a></div></div>
<div class="ttc" id="cli_8h_html_ab33e5350a923c3a8cedbeb496cd88ec9a76bf33139279b03ec1691f2be2d1be40"><div class="ttname"><a href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a76bf33139279b03ec1691f2be2d1be40">CLI_GENERATE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00153">cli.h:153</a></div></div>
<div class="ttc" id="logger_8h_html_aa215cccdbc7f8887dc9eceddb1d18d9dae5001908c66f174fcbd3a2a32313226d"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aa215cccdbc7f8887dc9eceddb1d18d9dae5001908c66f174fcbd3a2a32313226d">AST_LOGGER_FAILURE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00050">logger.h:50</a></div></div>
<div class="ttc" id="logger_8h_html_aa215cccdbc7f8887dc9eceddb1d18d9dae534bcd3f9115778d085780ed535abae"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aa215cccdbc7f8887dc9eceddb1d18d9dae534bcd3f9115778d085780ed535abae">AST_LOGGER_SUCCESS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00049">logger.h:49</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a60ed0cfcb00fccff5f115bca239a3737"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a60ed0cfcb00fccff5f115bca239a3737">&#9670;&nbsp;</a></span>handle_logger_reload()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static char* handle_logger_reload </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d8/d07/structast__cli__entry.html">ast_cli_entry</a> *&#160;</td>
          <td class="paramname"><em>e</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d3/dad/structast__cli__args.html">ast_cli_args</a> *&#160;</td>
          <td class="paramname"><em>a</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/d22/logger_8c_source.html#l01216">1216</a> of file <a class="el" href="../../d1/d22/logger_8c_source.html">logger.c</a>.</p>

<p class="reference">References <a class="el" href="../../dc/db0/cli_8h_source.html#l00160">ast_cli_args::argc</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00161">ast_cli_args::argv</a>, <a class="el" href="../../da/d4d/clicompat_8c_source.html#l00006">ast_cli()</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00046">CLI_FAILURE</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00153">CLI_GENERATE</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00152">CLI_INIT</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00044">CLI_SUCCESS</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00186">ast_cli_entry::command</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00159">ast_cli_args::fd</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l01141">reload_logger()</a>, and <a class="el" href="../../dc/db0/cli_8h_source.html#l00177">ast_cli_entry::usage</a>.</p>
<div class="fragment"><div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;{</div><div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;   <span class="keywordflow">switch</span> (cmd) {</div><div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a71745eb63dd093f560a1add3e430d2a9">CLI_INIT</a>:</div><div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;      e-&gt;<a class="code" href="../../d8/d07/structast__cli__entry.html#ade9cba72805fe52685a1deea307a8e82">command</a> = <span class="stringliteral">&quot;logger reload&quot;</span>;</div><div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;      e-&gt;<a class="code" href="../../d8/d07/structast__cli__entry.html#aef1bd6ad890a110b466cb0e8088507a2">usage</a> =</div><div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;         <span class="stringliteral">&quot;Usage: logger reload [&lt;alt-conf&gt;]\n&quot;</span></div><div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;         <span class="stringliteral">&quot;       Reloads the logger subsystem state.  Use after restarting syslogd(8) if you are using syslog logging.\n&quot;</span>;</div><div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a76bf33139279b03ec1691f2be2d1be40">CLI_GENERATE</a>:</div><div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;   }</div><div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d1/d22/logger_8c.html#a4dfd6bff5fa421d9abc89125ac5d7d8b">reload_logger</a>(0, a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#a98e1d8441ca58834f11f7367be4b3345">argc</a> == 3 ? a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[2] : <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)) {</div><div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;      <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;Failed to reload the logger\n&quot;</span>);</div><div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#ae47751901c430ebb833e59291a5e0b3f">CLI_FAILURE</a>;</div><div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;   }</div><div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#a50989f00b32eeb2516a3803cb2ffb766">CLI_SUCCESS</a>;</div><div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;}</div><div class="ttc" id="structast__cli__args_html_a98e1d8441ca58834f11f7367be4b3345"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html#a98e1d8441ca58834f11f7367be4b3345">ast_cli_args::argc</a></div><div class="ttdeci">const int argc</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00160">cli.h:160</a></div></div>
<div class="ttc" id="cli_8h_html_ab33e5350a923c3a8cedbeb496cd88ec9a71745eb63dd093f560a1add3e430d2a9"><div class="ttname"><a href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a71745eb63dd093f560a1add3e430d2a9">CLI_INIT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00152">cli.h:152</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="logger_8c_html_a4dfd6bff5fa421d9abc89125ac5d7d8b"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a4dfd6bff5fa421d9abc89125ac5d7d8b">reload_logger</a></div><div class="ttdeci">static int reload_logger(int rotate, const char *altconf)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l01141">logger.c:1141</a></div></div>
<div class="ttc" id="cli_8h_html_a791bf9f5637185bee5e8f0907c762130"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a></div><div class="ttdeci">void ast_cli(int fd, const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4d/clicompat_8c_source.html#l00006">clicompat.c:6</a></div></div>
<div class="ttc" id="structast__cli__args_html_acf64f219885421479997667d2ed3f08a"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">ast_cli_args::fd</a></div><div class="ttdeci">const int fd</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00159">cli.h:159</a></div></div>
<div class="ttc" id="structast__cli__args_html_ad0a19c4d63698f9e9cfd5653e8851452"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">ast_cli_args::argv</a></div><div class="ttdeci">const char *const  * argv</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00161">cli.h:161</a></div></div>
<div class="ttc" id="cli_8h_html_ae47751901c430ebb833e59291a5e0b3f"><div class="ttname"><a href="../../dc/db0/cli_8h.html#ae47751901c430ebb833e59291a5e0b3f">CLI_FAILURE</a></div><div class="ttdeci">#define CLI_FAILURE</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00046">cli.h:46</a></div></div>
<div class="ttc" id="structast__cli__entry_html_ade9cba72805fe52685a1deea307a8e82"><div class="ttname"><a href="../../d8/d07/structast__cli__entry.html#ade9cba72805fe52685a1deea307a8e82">ast_cli_entry::command</a></div><div class="ttdeci">char * command</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00186">cli.h:186</a></div></div>
<div class="ttc" id="structast__cli__entry_html_aef1bd6ad890a110b466cb0e8088507a2"><div class="ttname"><a href="../../d8/d07/structast__cli__entry.html#aef1bd6ad890a110b466cb0e8088507a2">ast_cli_entry::usage</a></div><div class="ttdeci">const char * usage</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00177">cli.h:177</a></div></div>
<div class="ttc" id="cli_8h_html_a50989f00b32eeb2516a3803cb2ffb766"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a50989f00b32eeb2516a3803cb2ffb766">CLI_SUCCESS</a></div><div class="ttdeci">#define CLI_SUCCESS</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00044">cli.h:44</a></div></div>
<div class="ttc" id="cli_8h_html_ab33e5350a923c3a8cedbeb496cd88ec9a76bf33139279b03ec1691f2be2d1be40"><div class="ttname"><a href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a76bf33139279b03ec1691f2be2d1be40">CLI_GENERATE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00153">cli.h:153</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae5cecf1fa4ddafcc1f37900b14a9d88e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae5cecf1fa4ddafcc1f37900b14a9d88e">&#9670;&nbsp;</a></span>handle_logger_remove_channel()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static char* handle_logger_remove_channel </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d8/d07/structast__cli__entry.html">ast_cli_entry</a> *&#160;</td>
          <td class="paramname"><em>e</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d3/dad/structast__cli__args.html">ast_cli_args</a> *&#160;</td>
          <td class="paramname"><em>a</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/d22/logger_8c_source.html#l01510">1510</a> of file <a class="el" href="../../d1/d22/logger_8c_source.html">logger.c</a>.</p>

<p class="reference">References <a class="el" href="../../dc/db0/cli_8h_source.html#l00160">ast_cli_args::argc</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00161">ast_cli_args::argv</a>, <a class="el" href="../../da/d4d/clicompat_8c_source.html#l00006">ast_cli()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00050">AST_LOGGER_FAILURE</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l01485">ast_logger_remove_channel()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00049">AST_LOGGER_SUCCESS</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00077">AST_RWLIST_RDLOCK</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00493">AST_RWLIST_TRAVERSE</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00150">AST_RWLIST_UNLOCK</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00243">ast_strdup</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00046">CLI_FAILURE</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00153">CLI_GENERATE</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00152">CLI_INIT</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00045">CLI_SHOWUSAGE</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00044">CLI_SUCCESS</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00186">ast_cli_entry::command</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00153">logchannel::dynamic</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00159">ast_cli_args::fd</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00147">logchannel::filename</a>, <a class="el" href="../../d6/d0c/structlogchannel.html#a05f465ec52733d0024e53f945e4cabe7">logchannel::list</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00165">ast_cli_args::n</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00164">ast_cli_args::pos</a>, and <a class="el" href="../../dc/db0/cli_8h_source.html#l00177">ast_cli_entry::usage</a>.</p>
<div class="fragment"><div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;{</div><div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d6/d0c/structlogchannel.html">logchannel</a> *chan;</div><div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;   <span class="keywordtype">int</span> gen_count = 0;</div><div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;   <span class="keywordtype">char</span> *gen_ret = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;</div><div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;   <span class="keywordflow">switch</span> (cmd) {</div><div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a71745eb63dd093f560a1add3e430d2a9">CLI_INIT</a>:</div><div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;      e-&gt;<a class="code" href="../../d8/d07/structast__cli__entry.html#ade9cba72805fe52685a1deea307a8e82">command</a> = <span class="stringliteral">&quot;logger remove channel&quot;</span>;</div><div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;      e-&gt;<a class="code" href="../../d8/d07/structast__cli__entry.html#aef1bd6ad890a110b466cb0e8088507a2">usage</a> =</div><div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;         <span class="stringliteral">&quot;Usage: logger remove channel &lt;name&gt;\n&quot;</span></div><div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;         <span class="stringliteral">&quot;       Removes a temporary logger channel.\n&quot;</span>;</div><div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a76bf33139279b03ec1691f2be2d1be40">CLI_GENERATE</a>:</div><div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;      <span class="keywordflow">if</span> (a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#a98e1d8441ca58834f11f7367be4b3345">argc</a> &gt; 4 || (a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#a98e1d8441ca58834f11f7367be4b3345">argc</a> == 4 &amp;&amp; a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#a4b911d12699acbbb5a8b62355b35bae8">pos</a> &gt; 3)) {</div><div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;         <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;      }</div><div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;      <a class="code" href="../../df/d90/linkedlists_8h.html#a0a0fe104cc2cc36a43784f886f3ae7dc">AST_RWLIST_RDLOCK</a>(&amp;<a class="code" href="../../d2/df7/structlogchannels.html">logchannels</a>);</div><div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;      <a class="code" href="../../df/d90/linkedlists_8h.html#a944b82566722f2247aa35f1328402c98">AST_RWLIST_TRAVERSE</a>(&amp;<a class="code" href="../../d2/df7/structlogchannels.html">logchannels</a>, chan, <a class="code" href="../../d6/d0c/structlogchannel.html#a05f465ec52733d0024e53f945e4cabe7">list</a>) {</div><div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;         <span class="keywordflow">if</span> (chan-&gt;<a class="code" href="../../d6/d0c/structlogchannel.html#a44690a0a629211d7620ce0d55c412e9d">dynamic</a> &amp;&amp; (<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[3])</div><div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;            || !strncmp(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[3], chan-&gt;<a class="code" href="../../d6/d0c/structlogchannel.html#ab49244970ed5ca30989c2dab2129de34">filename</a>, strlen(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[3])))) {</div><div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;            <span class="keywordflow">if</span> (gen_count == a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acfc02ec89670db29251fda6a66602ce2">n</a>) {</div><div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;               gen_ret = <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(chan-&gt;<a class="code" href="../../d6/d0c/structlogchannel.html#ab49244970ed5ca30989c2dab2129de34">filename</a>);</div><div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;               <span class="keywordflow">break</span>;</div><div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;            }</div><div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;            gen_count++;</div><div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;         }</div><div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;      }</div><div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;      <a class="code" href="../../df/d90/linkedlists_8h.html#a2e9a2518b5029b96671aff6701bd5138">AST_RWLIST_UNLOCK</a>(&amp;<a class="code" href="../../d2/df7/structlogchannels.html">logchannels</a>);</div><div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;      <span class="keywordflow">return</span> gen_ret;</div><div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;   }</div><div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;</div><div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;   <span class="keywordflow">if</span> (a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#a98e1d8441ca58834f11f7367be4b3345">argc</a> &lt; 4) {</div><div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#a0873456096960dab21fff0ce68c95acb">CLI_SHOWUSAGE</a>;</div><div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;   }</div><div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;</div><div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;   <span class="keywordflow">switch</span> (<a class="code" href="../../d1/d22/logger_8c.html#a41eaacdc25a24b9d9a265e60555a7243">ast_logger_remove_channel</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[3])) {</div><div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d1/d8c/logger_8h.html#aa215cccdbc7f8887dc9eceddb1d18d9dae534bcd3f9115778d085780ed535abae">AST_LOGGER_SUCCESS</a>:</div><div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;      <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;Removed dynamic logger channel &#39;%s&#39;\n&quot;</span>, a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[3]);</div><div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#a50989f00b32eeb2516a3803cb2ffb766">CLI_SUCCESS</a>;</div><div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d1/d8c/logger_8h.html#aa215cccdbc7f8887dc9eceddb1d18d9dae5001908c66f174fcbd3a2a32313226d">AST_LOGGER_FAILURE</a>:</div><div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;      <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;Unable to find dynamic logger channel &#39;%s&#39;\n&quot;</span>, a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[3]);</div><div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#a50989f00b32eeb2516a3803cb2ffb766">CLI_SUCCESS</a>;</div><div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;   <span class="keywordflow">default</span>:</div><div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;      <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;Internal failure attempting to delete dynamic logger channel &#39;%s&#39;\n&quot;</span>, a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[3]);</div><div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#ae47751901c430ebb833e59291a5e0b3f">CLI_FAILURE</a>;</div><div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;   }</div><div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;}</div><div class="ttc" id="logger_8c_html_a41eaacdc25a24b9d9a265e60555a7243"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a41eaacdc25a24b9d9a265e60555a7243">ast_logger_remove_channel</a></div><div class="ttdeci">int ast_logger_remove_channel(const char *log_channel)</div><div class="ttdoc">Delete the specified log channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l01485">logger.c:1485</a></div></div>
<div class="ttc" id="structast__cli__args_html_a98e1d8441ca58834f11f7367be4b3345"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html#a98e1d8441ca58834f11f7367be4b3345">ast_cli_args::argc</a></div><div class="ttdeci">const int argc</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00160">cli.h:160</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a2e9a2518b5029b96671aff6701bd5138"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a2e9a2518b5029b96671aff6701bd5138">AST_RWLIST_UNLOCK</a></div><div class="ttdeci">#define AST_RWLIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a read/write based list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00150">linkedlists.h:150</a></div></div>
<div class="ttc" id="cli_8h_html_ab33e5350a923c3a8cedbeb496cd88ec9a71745eb63dd093f560a1add3e430d2a9"><div class="ttname"><a href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a71745eb63dd093f560a1add3e430d2a9">CLI_INIT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00152">cli.h:152</a></div></div>
<div class="ttc" id="astmm_8h_html_ab263849d03fb892847be4986db759737"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a></div><div class="ttdeci">#define ast_strdup(str)</div><div class="ttdoc">A wrapper for strdup() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00243">astmm.h:243</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="cli_8h_html_a791bf9f5637185bee5e8f0907c762130"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a></div><div class="ttdeci">void ast_cli(int fd, const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4d/clicompat_8c_source.html#l00006">clicompat.c:6</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a0a0fe104cc2cc36a43784f886f3ae7dc"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a0a0fe104cc2cc36a43784f886f3ae7dc">AST_RWLIST_RDLOCK</a></div><div class="ttdeci">#define AST_RWLIST_RDLOCK(head)</div><div class="ttdoc">Read locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00077">linkedlists.h:77</a></div></div>
<div class="ttc" id="structlogchannel_html_a05f465ec52733d0024e53f945e4cabe7"><div class="ttname"><a href="../../d6/d0c/structlogchannel.html#a05f465ec52733d0024e53f945e4cabe7">logchannel::list</a></div><div class="ttdeci">struct logchannel::@404 list</div></div>
<div class="ttc" id="structlogchannels_html"><div class="ttname"><a href="../../d2/df7/structlogchannels.html">logchannels</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00158">logger.c:158</a></div></div>
<div class="ttc" id="structast__cli__args_html_acf64f219885421479997667d2ed3f08a"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">ast_cli_args::fd</a></div><div class="ttdeci">const int fd</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00159">cli.h:159</a></div></div>
<div class="ttc" id="structlogchannel_html_a44690a0a629211d7620ce0d55c412e9d"><div class="ttname"><a href="../../d6/d0c/structlogchannel.html#a44690a0a629211d7620ce0d55c412e9d">logchannel::dynamic</a></div><div class="ttdeci">int dynamic</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00153">logger.c:153</a></div></div>
<div class="ttc" id="structast__cli__args_html_acfc02ec89670db29251fda6a66602ce2"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html#acfc02ec89670db29251fda6a66602ce2">ast_cli_args::n</a></div><div class="ttdeci">const int n</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00165">cli.h:165</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a944b82566722f2247aa35f1328402c98"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a944b82566722f2247aa35f1328402c98">AST_RWLIST_TRAVERSE</a></div><div class="ttdeci">#define AST_RWLIST_TRAVERSE</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00493">linkedlists.h:493</a></div></div>
<div class="ttc" id="structast__cli__args_html_ad0a19c4d63698f9e9cfd5653e8851452"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">ast_cli_args::argv</a></div><div class="ttdeci">const char *const  * argv</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00161">cli.h:161</a></div></div>
<div class="ttc" id="cli_8h_html_a0873456096960dab21fff0ce68c95acb"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a0873456096960dab21fff0ce68c95acb">CLI_SHOWUSAGE</a></div><div class="ttdeci">#define CLI_SHOWUSAGE</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00045">cli.h:45</a></div></div>
<div class="ttc" id="cli_8h_html_ae47751901c430ebb833e59291a5e0b3f"><div class="ttname"><a href="../../dc/db0/cli_8h.html#ae47751901c430ebb833e59291a5e0b3f">CLI_FAILURE</a></div><div class="ttdeci">#define CLI_FAILURE</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00046">cli.h:46</a></div></div>
<div class="ttc" id="structast__cli__entry_html_ade9cba72805fe52685a1deea307a8e82"><div class="ttname"><a href="../../d8/d07/structast__cli__entry.html#ade9cba72805fe52685a1deea307a8e82">ast_cli_entry::command</a></div><div class="ttdeci">char * command</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00186">cli.h:186</a></div></div>
<div class="ttc" id="structast__cli__entry_html_aef1bd6ad890a110b466cb0e8088507a2"><div class="ttname"><a href="../../d8/d07/structast__cli__entry.html#aef1bd6ad890a110b466cb0e8088507a2">ast_cli_entry::usage</a></div><div class="ttdeci">const char * usage</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00177">cli.h:177</a></div></div>
<div class="ttc" id="structlogchannel_html_ab49244970ed5ca30989c2dab2129de34"><div class="ttname"><a href="../../d6/d0c/structlogchannel.html#ab49244970ed5ca30989c2dab2129de34">logchannel::filename</a></div><div class="ttdeci">char filename[PATH_MAX]</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00147">logger.c:147</a></div></div>
<div class="ttc" id="cli_8h_html_a50989f00b32eeb2516a3803cb2ffb766"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a50989f00b32eeb2516a3803cb2ffb766">CLI_SUCCESS</a></div><div class="ttdeci">#define CLI_SUCCESS</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00044">cli.h:44</a></div></div>
<div class="ttc" id="cli_8h_html_ab33e5350a923c3a8cedbeb496cd88ec9a76bf33139279b03ec1691f2be2d1be40"><div class="ttname"><a href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a76bf33139279b03ec1691f2be2d1be40">CLI_GENERATE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00153">cli.h:153</a></div></div>
<div class="ttc" id="structast__cli__args_html_a4b911d12699acbbb5a8b62355b35bae8"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html#a4b911d12699acbbb5a8b62355b35bae8">ast_cli_args::pos</a></div><div class="ttdeci">const int pos</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00164">cli.h:164</a></div></div>
<div class="ttc" id="structlogchannel_html"><div class="ttname"><a href="../../d6/d0c/structlogchannel.html">logchannel</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00131">logger.c:131</a></div></div>
<div class="ttc" id="logger_8h_html_aa215cccdbc7f8887dc9eceddb1d18d9dae5001908c66f174fcbd3a2a32313226d"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aa215cccdbc7f8887dc9eceddb1d18d9dae5001908c66f174fcbd3a2a32313226d">AST_LOGGER_FAILURE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00050">logger.h:50</a></div></div>
<div class="ttc" id="logger_8h_html_aa215cccdbc7f8887dc9eceddb1d18d9dae534bcd3f9115778d085780ed535abae"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aa215cccdbc7f8887dc9eceddb1d18d9dae534bcd3f9115778d085780ed535abae">AST_LOGGER_SUCCESS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00049">logger.h:49</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a529d7be34c865a9be09c3348f6beeefd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a529d7be34c865a9be09c3348f6beeefd">&#9670;&nbsp;</a></span>handle_logger_rotate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static char* handle_logger_rotate </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d8/d07/structast__cli__entry.html">ast_cli_entry</a> *&#160;</td>
          <td class="paramname"><em>e</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d3/dad/structast__cli__args.html">ast_cli_args</a> *&#160;</td>
          <td class="paramname"><em>a</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/d22/logger_8c_source.html#l01235">1235</a> of file <a class="el" href="../../d1/d22/logger_8c_source.html">logger.c</a>.</p>

<p class="reference">References <a class="el" href="../../da/d4d/clicompat_8c_source.html#l00006">ast_cli()</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00046">CLI_FAILURE</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00153">CLI_GENERATE</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00152">CLI_INIT</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00044">CLI_SUCCESS</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00186">ast_cli_entry::command</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00159">ast_cli_args::fd</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l01141">reload_logger()</a>, and <a class="el" href="../../dc/db0/cli_8h_source.html#l00177">ast_cli_entry::usage</a>.</p>
<div class="fragment"><div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;{</div><div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;   <span class="keywordflow">switch</span> (cmd) {</div><div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a71745eb63dd093f560a1add3e430d2a9">CLI_INIT</a>:</div><div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;      e-&gt;<a class="code" href="../../d8/d07/structast__cli__entry.html#ade9cba72805fe52685a1deea307a8e82">command</a> = <span class="stringliteral">&quot;logger rotate&quot;</span>;</div><div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;      e-&gt;<a class="code" href="../../d8/d07/structast__cli__entry.html#aef1bd6ad890a110b466cb0e8088507a2">usage</a> =</div><div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;         <span class="stringliteral">&quot;Usage: logger rotate\n&quot;</span></div><div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;         <span class="stringliteral">&quot;       Rotates and Reopens the log files.\n&quot;</span>;</div><div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a76bf33139279b03ec1691f2be2d1be40">CLI_GENERATE</a>:</div><div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;   }</div><div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d1/d22/logger_8c.html#a4dfd6bff5fa421d9abc89125ac5d7d8b">reload_logger</a>(1, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)) {</div><div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;      <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;Failed to reload the logger and rotate log files\n&quot;</span>);</div><div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#ae47751901c430ebb833e59291a5e0b3f">CLI_FAILURE</a>;</div><div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;   }</div><div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#a50989f00b32eeb2516a3803cb2ffb766">CLI_SUCCESS</a>;</div><div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;}</div><div class="ttc" id="cli_8h_html_ab33e5350a923c3a8cedbeb496cd88ec9a71745eb63dd093f560a1add3e430d2a9"><div class="ttname"><a href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a71745eb63dd093f560a1add3e430d2a9">CLI_INIT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00152">cli.h:152</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="logger_8c_html_a4dfd6bff5fa421d9abc89125ac5d7d8b"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a4dfd6bff5fa421d9abc89125ac5d7d8b">reload_logger</a></div><div class="ttdeci">static int reload_logger(int rotate, const char *altconf)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l01141">logger.c:1141</a></div></div>
<div class="ttc" id="cli_8h_html_a791bf9f5637185bee5e8f0907c762130"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a></div><div class="ttdeci">void ast_cli(int fd, const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4d/clicompat_8c_source.html#l00006">clicompat.c:6</a></div></div>
<div class="ttc" id="structast__cli__args_html_acf64f219885421479997667d2ed3f08a"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">ast_cli_args::fd</a></div><div class="ttdeci">const int fd</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00159">cli.h:159</a></div></div>
<div class="ttc" id="cli_8h_html_ae47751901c430ebb833e59291a5e0b3f"><div class="ttname"><a href="../../dc/db0/cli_8h.html#ae47751901c430ebb833e59291a5e0b3f">CLI_FAILURE</a></div><div class="ttdeci">#define CLI_FAILURE</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00046">cli.h:46</a></div></div>
<div class="ttc" id="structast__cli__entry_html_ade9cba72805fe52685a1deea307a8e82"><div class="ttname"><a href="../../d8/d07/structast__cli__entry.html#ade9cba72805fe52685a1deea307a8e82">ast_cli_entry::command</a></div><div class="ttdeci">char * command</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00186">cli.h:186</a></div></div>
<div class="ttc" id="structast__cli__entry_html_aef1bd6ad890a110b466cb0e8088507a2"><div class="ttname"><a href="../../d8/d07/structast__cli__entry.html#aef1bd6ad890a110b466cb0e8088507a2">ast_cli_entry::usage</a></div><div class="ttdeci">const char * usage</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00177">cli.h:177</a></div></div>
<div class="ttc" id="cli_8h_html_a50989f00b32eeb2516a3803cb2ffb766"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a50989f00b32eeb2516a3803cb2ffb766">CLI_SUCCESS</a></div><div class="ttdeci">#define CLI_SUCCESS</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00044">cli.h:44</a></div></div>
<div class="ttc" id="cli_8h_html_ab33e5350a923c3a8cedbeb496cd88ec9a76bf33139279b03ec1691f2be2d1be40"><div class="ttname"><a href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a76bf33139279b03ec1691f2be2d1be40">CLI_GENERATE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00153">cli.h:153</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a8da7a09e6808d7e4b3654f4fea8dfbfd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8da7a09e6808d7e4b3654f4fea8dfbfd">&#9670;&nbsp;</a></span>handle_logger_set_level()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static char* handle_logger_set_level </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d8/d07/structast__cli__entry.html">ast_cli_entry</a> *&#160;</td>
          <td class="paramname"><em>e</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d3/dad/structast__cli__args.html">ast_cli_args</a> *&#160;</td>
          <td class="paramname"><em>a</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/d22/logger_8c_source.html#l01294">1294</a> of file <a class="el" href="../../d1/d22/logger_8c_source.html">logger.c</a>.</p>

<p class="reference">References <a class="el" href="../../dc/db0/cli_8h_source.html#l00160">ast_cli_args::argc</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00161">ast_cli_args::argv</a>, <a class="el" href="../../de/dfe/isdn__lib_8c_source.html#l00042">ARRAY_LEN</a>, <a class="el" href="../../da/d4d/clicompat_8c_source.html#l00006">ast_cli()</a>, <a class="el" href="../../d5/d03/asterisk_8c_source.html#l01209">ast_console_toggle_loglevel()</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00150">AST_RWLIST_UNLOCK</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00051">AST_RWLIST_WRLOCK</a>, <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l01951">ast_true()</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00153">CLI_GENERATE</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00152">CLI_INIT</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00045">CLI_SHOWUSAGE</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00044">CLI_SUCCESS</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00186">ast_cli_entry::command</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00159">ast_cli_args::fd</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l00959">state</a>, and <a class="el" href="../../dc/db0/cli_8h_source.html#l00177">ast_cli_entry::usage</a>.</p>
<div class="fragment"><div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;{</div><div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;   <span class="keywordtype">int</span> x;</div><div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;   <span class="keywordtype">int</span> <a class="code" href="../../d5/dfe/chan__sip_8c.html#a14a9662e09deed264497073732fb014a">state</a>;</div><div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;   <span class="keywordtype">int</span> level = -1;</div><div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;</div><div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;   <span class="keywordflow">switch</span> (cmd) {</div><div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a71745eb63dd093f560a1add3e430d2a9">CLI_INIT</a>:</div><div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;      e-&gt;<a class="code" href="../../d8/d07/structast__cli__entry.html#ade9cba72805fe52685a1deea307a8e82">command</a> = <span class="stringliteral">&quot;logger set level {DEBUG|TRACE|NOTICE|WARNING|ERROR|VERBOSE|DTMF} {on|off}&quot;</span>;</div><div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;      e-&gt;<a class="code" href="../../d8/d07/structast__cli__entry.html#aef1bd6ad890a110b466cb0e8088507a2">usage</a> =</div><div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;         <span class="stringliteral">&quot;Usage: logger set level {DEBUG|TRACE|NOTICE|WARNING|ERROR|VERBOSE|DTMF} {on|off}\n&quot;</span></div><div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;         <span class="stringliteral">&quot;       Set a specific log level to enabled/disabled for this console.\n&quot;</span>;</div><div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a76bf33139279b03ec1691f2be2d1be40">CLI_GENERATE</a>:</div><div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;   }</div><div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;</div><div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;   <span class="keywordflow">if</span> (a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#a98e1d8441ca58834f11f7367be4b3345">argc</a> &lt; 5)</div><div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#a0873456096960dab21fff0ce68c95acb">CLI_SHOWUSAGE</a>;</div><div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;</div><div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a2d0cf4182bade9f773fb16ff12abe595">AST_RWLIST_WRLOCK</a>(&amp;<a class="code" href="../../d2/df7/structlogchannels.html">logchannels</a>);</div><div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;</div><div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;   <span class="keywordflow">for</span> (x = 0; x &lt; <a class="code" href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a>(<a class="code" href="../../d1/d22/logger_8c.html#a2ae9b20e8a0ca3f97cf9f8927e0fdb7f">levels</a>); x++) {</div><div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d1/d22/logger_8c.html#a2ae9b20e8a0ca3f97cf9f8927e0fdb7f">levels</a>[x] &amp;&amp; !strcasecmp(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[3], <a class="code" href="../../d1/d22/logger_8c.html#a2ae9b20e8a0ca3f97cf9f8927e0fdb7f">levels</a>[x])) {</div><div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;         level = x;</div><div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;      }</div><div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;   }</div><div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;</div><div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a2e9a2518b5029b96671aff6701bd5138">AST_RWLIST_UNLOCK</a>(&amp;<a class="code" href="../../d2/df7/structlogchannels.html">logchannels</a>);</div><div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;</div><div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;   state = <a class="code" href="../../d6/d90/strings_8h.html#a387a69b3871ca31061566a73f45d20f4">ast_true</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[4]) ? 1 : 0;</div><div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;</div><div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;   <span class="keywordflow">if</span> (level != -1) {</div><div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a4f8c3e6c4cf3b41470b9df95f046a48d">ast_console_toggle_loglevel</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, level, state);</div><div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;      <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;Logger status for &#39;%s&#39; has been set to &#39;%s&#39;.\n&quot;</span>, <a class="code" href="../../d1/d22/logger_8c.html#a2ae9b20e8a0ca3f97cf9f8927e0fdb7f">levels</a>[level], state ? <span class="stringliteral">&quot;on&quot;</span> : <span class="stringliteral">&quot;off&quot;</span>);</div><div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;   } <span class="keywordflow">else</span></div><div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#a0873456096960dab21fff0ce68c95acb">CLI_SHOWUSAGE</a>;</div><div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;</div><div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#a50989f00b32eeb2516a3803cb2ffb766">CLI_SUCCESS</a>;</div><div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;}</div><div class="ttc" id="chan__sip_8c_html_a14a9662e09deed264497073732fb014a"><div class="ttname"><a href="../../d5/dfe/chan__sip_8c.html#a14a9662e09deed264497073732fb014a">state</a></div><div class="ttdeci">enum sip_cc_notify_state state</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dfe/chan__sip_8c_source.html#l00959">chan_sip.c:959</a></div></div>
<div class="ttc" id="isdn__lib_8c_html_ab9129b977a587b50ea801daac75e178f"><div class="ttname"><a href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a></div><div class="ttdeci">#define ARRAY_LEN(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dfe/isdn__lib_8c_source.html#l00042">isdn_lib.c:42</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a2d0cf4182bade9f773fb16ff12abe595"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a2d0cf4182bade9f773fb16ff12abe595">AST_RWLIST_WRLOCK</a></div><div class="ttdeci">#define AST_RWLIST_WRLOCK(head)</div><div class="ttdoc">Write locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00051">linkedlists.h:51</a></div></div>
<div class="ttc" id="structast__cli__args_html_a98e1d8441ca58834f11f7367be4b3345"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html#a98e1d8441ca58834f11f7367be4b3345">ast_cli_args::argc</a></div><div class="ttdeci">const int argc</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00160">cli.h:160</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a2e9a2518b5029b96671aff6701bd5138"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a2e9a2518b5029b96671aff6701bd5138">AST_RWLIST_UNLOCK</a></div><div class="ttdeci">#define AST_RWLIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a read/write based list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00150">linkedlists.h:150</a></div></div>
<div class="ttc" id="cli_8h_html_ab33e5350a923c3a8cedbeb496cd88ec9a71745eb63dd093f560a1add3e430d2a9"><div class="ttname"><a href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a71745eb63dd093f560a1add3e430d2a9">CLI_INIT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00152">cli.h:152</a></div></div>
<div class="ttc" id="logger_8c_html_a2ae9b20e8a0ca3f97cf9f8927e0fdb7f"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a2ae9b20e8a0ca3f97cf9f8927e0fdb7f">levels</a></div><div class="ttdeci">static char * levels[NUMLOGLEVELS]</div><div class="ttdoc">Logging channels used in the Asterisk logging system. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00206">logger.c:206</a></div></div>
<div class="ttc" id="logger_8h_html_a4f8c3e6c4cf3b41470b9df95f046a48d"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a4f8c3e6c4cf3b41470b9df95f046a48d">ast_console_toggle_loglevel</a></div><div class="ttdeci">void ast_console_toggle_loglevel(int fd, int level, int state)</div><div class="ttdoc">enables or disables logging of a specified level to the console fd specifies the index of the console...</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d03/asterisk_8c_source.html#l01209">asterisk.c:1209</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="cli_8h_html_a791bf9f5637185bee5e8f0907c762130"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a></div><div class="ttdeci">void ast_cli(int fd, const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4d/clicompat_8c_source.html#l00006">clicompat.c:6</a></div></div>
<div class="ttc" id="structlogchannels_html"><div class="ttname"><a href="../../d2/df7/structlogchannels.html">logchannels</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00158">logger.c:158</a></div></div>
<div class="ttc" id="structast__cli__args_html_acf64f219885421479997667d2ed3f08a"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">ast_cli_args::fd</a></div><div class="ttdeci">const int fd</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00159">cli.h:159</a></div></div>
<div class="ttc" id="structast__cli__args_html_ad0a19c4d63698f9e9cfd5653e8851452"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">ast_cli_args::argv</a></div><div class="ttdeci">const char *const  * argv</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00161">cli.h:161</a></div></div>
<div class="ttc" id="strings_8h_html_a387a69b3871ca31061566a73f45d20f4"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a387a69b3871ca31061566a73f45d20f4">ast_true</a></div><div class="ttdeci">int attribute_pure ast_true(const char *val)</div><div class="ttdoc">Make sure something is true. Determine if a string containing a boolean value is &quot;true&quot;. This function checks to see whether a string passed to it is an indication of an &quot;true&quot; value. It checks to see if the string is &quot;yes&quot;, &quot;true&quot;, &quot;y&quot;, &quot;t&quot;, &quot;on&quot; or &quot;1&quot;. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1f/main_2utils_8c_source.html#l01951">main/utils.c:1951</a></div></div>
<div class="ttc" id="cli_8h_html_a0873456096960dab21fff0ce68c95acb"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a0873456096960dab21fff0ce68c95acb">CLI_SHOWUSAGE</a></div><div class="ttdeci">#define CLI_SHOWUSAGE</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00045">cli.h:45</a></div></div>
<div class="ttc" id="structast__cli__entry_html_ade9cba72805fe52685a1deea307a8e82"><div class="ttname"><a href="../../d8/d07/structast__cli__entry.html#ade9cba72805fe52685a1deea307a8e82">ast_cli_entry::command</a></div><div class="ttdeci">char * command</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00186">cli.h:186</a></div></div>
<div class="ttc" id="structast__cli__entry_html_aef1bd6ad890a110b466cb0e8088507a2"><div class="ttname"><a href="../../d8/d07/structast__cli__entry.html#aef1bd6ad890a110b466cb0e8088507a2">ast_cli_entry::usage</a></div><div class="ttdeci">const char * usage</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00177">cli.h:177</a></div></div>
<div class="ttc" id="cli_8h_html_a50989f00b32eeb2516a3803cb2ffb766"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a50989f00b32eeb2516a3803cb2ffb766">CLI_SUCCESS</a></div><div class="ttdeci">#define CLI_SUCCESS</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00044">cli.h:44</a></div></div>
<div class="ttc" id="cli_8h_html_ab33e5350a923c3a8cedbeb496cd88ec9a76bf33139279b03ec1691f2be2d1be40"><div class="ttname"><a href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a76bf33139279b03ec1691f2be2d1be40">CLI_GENERATE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00153">cli.h:153</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa66664a8448c2dbfdae4cd6ebfa8b402"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa66664a8448c2dbfdae4cd6ebfa8b402">&#9670;&nbsp;</a></span>handle_logger_show_channels()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static char* handle_logger_show_channels </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d8/d07/structast__cli__entry.html">ast_cli_entry</a> *&#160;</td>
          <td class="paramname"><em>e</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d3/dad/structast__cli__args.html">ast_cli_args</a> *&#160;</td>
          <td class="paramname"><em>a</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>CLI command to show logging system configuration. </p>

<p class="definition">Definition at line <a class="el" href="../../d1/d22/logger_8c_source.html#l01379">1379</a> of file <a class="el" href="../../d1/d22/logger_8c_source.html">logger.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/dfe/isdn__lib_8c_source.html#l00042">ARRAY_LEN</a>, <a class="el" href="../../da/d4d/clicompat_8c_source.html#l00006">ast_cli()</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00077">AST_RWLIST_RDLOCK</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00493">AST_RWLIST_TRAVERSE</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00150">AST_RWLIST_UNLOCK</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00153">CLI_GENERATE</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00152">CLI_INIT</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00044">CLI_SUCCESS</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00186">ast_cli_entry::command</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00137">logchannel::disabled</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00159">ast_cli_args::fd</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00147">logchannel::filename</a>, <a class="el" href="../../d1/d22/logger_8c.html#a363296aa77a2d22cbdc759d82dbe883f">FORMATL</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00133">logchannel::formatter</a>, <a class="el" href="../../d6/d0c/structlogchannel.html#a05f465ec52733d0024e53f945e4cabe7">logchannel::list</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00094">logger_queue_limit</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00135">logchannel::logmask</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00128">LOGTYPE_CONSOLE</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00126">LOGTYPE_SYSLOG</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00120">logformatter::name</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00143">logchannel::type</a>, and <a class="el" href="../../dc/db0/cli_8h_source.html#l00177">ast_cli_entry::usage</a>.</p>
<div class="fragment"><div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;{</div><div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;<span class="preprocessor">#define FORMATL   &quot;%-35.35s %-8.8s %-10.10s %-9.9s &quot;</span></div><div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d6/d0c/structlogchannel.html">logchannel</a> *chan;</div><div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;   <span class="keywordflow">switch</span> (cmd) {</div><div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a71745eb63dd093f560a1add3e430d2a9">CLI_INIT</a>:</div><div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;      e-&gt;<a class="code" href="../../d8/d07/structast__cli__entry.html#ade9cba72805fe52685a1deea307a8e82">command</a> = <span class="stringliteral">&quot;logger show channels&quot;</span>;</div><div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;      e-&gt;<a class="code" href="../../d8/d07/structast__cli__entry.html#aef1bd6ad890a110b466cb0e8088507a2">usage</a> =</div><div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;         <span class="stringliteral">&quot;Usage: logger show channels\n&quot;</span></div><div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;         <span class="stringliteral">&quot;       List configured logger channels.\n&quot;</span>;</div><div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a76bf33139279b03ec1691f2be2d1be40">CLI_GENERATE</a>:</div><div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;   }</div><div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;   <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;Logger queue limit: %d\n\n&quot;</span>, <a class="code" href="../../d1/d22/logger_8c.html#a70f8266b28e1b6adb224cb4dfd529d25">logger_queue_limit</a>);</div><div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;   <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <a class="code" href="../../d1/d22/logger_8c.html#a363296aa77a2d22cbdc759d82dbe883f">FORMATL</a>, <span class="stringliteral">&quot;Channel&quot;</span>, <span class="stringliteral">&quot;Type&quot;</span>, <span class="stringliteral">&quot;Formatter&quot;</span>, <span class="stringliteral">&quot;Status&quot;</span>);</div><div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;   <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;Configuration\n&quot;</span>);</div><div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;   <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <a class="code" href="../../d1/d22/logger_8c.html#a363296aa77a2d22cbdc759d82dbe883f">FORMATL</a>, <span class="stringliteral">&quot;-------&quot;</span>, <span class="stringliteral">&quot;----&quot;</span>, <span class="stringliteral">&quot;---------&quot;</span>, <span class="stringliteral">&quot;------&quot;</span>);</div><div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;   <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;-------------\n&quot;</span>);</div><div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a0a0fe104cc2cc36a43784f886f3ae7dc">AST_RWLIST_RDLOCK</a>(&amp;<a class="code" href="../../d2/df7/structlogchannels.html">logchannels</a>);</div><div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a944b82566722f2247aa35f1328402c98">AST_RWLIST_TRAVERSE</a>(&amp;<a class="code" href="../../d2/df7/structlogchannels.html">logchannels</a>, chan, <a class="code" href="../../d6/d0c/structlogchannel.html#a05f465ec52733d0024e53f945e4cabe7">list</a>) {</div><div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;      <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> level;</div><div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;</div><div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;      <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <a class="code" href="../../d1/d22/logger_8c.html#a363296aa77a2d22cbdc759d82dbe883f">FORMATL</a>, chan-&gt;<a class="code" href="../../d6/d0c/structlogchannel.html#ab49244970ed5ca30989c2dab2129de34">filename</a>, chan-&gt;<a class="code" href="../../d6/d0c/structlogchannel.html#a6d3cd9e6800461f549a4fcabae1712c1">type</a> == <a class="code" href="../../d1/d22/logger_8c.html#a7e2550c12ff27e5cd303101e86cf8eb4a439c8fd120012113aa39dfece22ed55f">LOGTYPE_CONSOLE</a> ? <span class="stringliteral">&quot;Console&quot;</span> : (chan-&gt;<a class="code" href="../../d6/d0c/structlogchannel.html#a6d3cd9e6800461f549a4fcabae1712c1">type</a> == <a class="code" href="../../d1/d22/logger_8c.html#a7e2550c12ff27e5cd303101e86cf8eb4affe678f5d32a5ad00d20d138627aa22f">LOGTYPE_SYSLOG</a> ? <span class="stringliteral">&quot;Syslog&quot;</span> : <span class="stringliteral">&quot;File&quot;</span>),</div><div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;         chan-&gt;<a class="code" href="../../d6/d0c/structlogchannel.html#a299de010a23aac23f580fa86ddf17dde">formatter</a>.<a class="code" href="../../da/d44/structlogformatter.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>,</div><div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;         chan-&gt;<a class="code" href="../../d6/d0c/structlogchannel.html#af255398e3e9383752e6234829e3f6037">disabled</a> ? <span class="stringliteral">&quot;Disabled&quot;</span> : <span class="stringliteral">&quot;Enabled&quot;</span>);</div><div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;      <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot; - &quot;</span>);</div><div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;      <span class="keywordflow">for</span> (level = 0; level &lt; <a class="code" href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a>(<a class="code" href="../../d1/d22/logger_8c.html#a2ae9b20e8a0ca3f97cf9f8927e0fdb7f">levels</a>); level++) {</div><div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;         <span class="keywordflow">if</span> ((chan-&gt;<a class="code" href="../../d6/d0c/structlogchannel.html#aaeeb8d3574465a64ed10e4809ebd4cf6">logmask</a> &amp; (1 &lt;&lt; level)) &amp;&amp; <a class="code" href="../../d1/d22/logger_8c.html#a2ae9b20e8a0ca3f97cf9f8927e0fdb7f">levels</a>[level]) {</div><div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;            <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;%s &quot;</span>, <a class="code" href="../../d1/d22/logger_8c.html#a2ae9b20e8a0ca3f97cf9f8927e0fdb7f">levels</a>[level]);</div><div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;         }</div><div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;      }</div><div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;      <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;\n&quot;</span>);</div><div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;   }</div><div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a2e9a2518b5029b96671aff6701bd5138">AST_RWLIST_UNLOCK</a>(&amp;<a class="code" href="../../d2/df7/structlogchannels.html">logchannels</a>);</div><div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;   <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;\n&quot;</span>);</div><div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;</div><div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#a50989f00b32eeb2516a3803cb2ffb766">CLI_SUCCESS</a>;</div><div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;}</div><div class="ttc" id="logger_8c_html_a363296aa77a2d22cbdc759d82dbe883f"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a363296aa77a2d22cbdc759d82dbe883f">FORMATL</a></div><div class="ttdeci">#define FORMATL</div></div>
<div class="ttc" id="structlogchannel_html_a299de010a23aac23f580fa86ddf17dde"><div class="ttname"><a href="../../d6/d0c/structlogchannel.html#a299de010a23aac23f580fa86ddf17dde">logchannel::formatter</a></div><div class="ttdeci">struct logformatter formatter</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00133">logger.c:133</a></div></div>
<div class="ttc" id="isdn__lib_8c_html_ab9129b977a587b50ea801daac75e178f"><div class="ttname"><a href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a></div><div class="ttdeci">#define ARRAY_LEN(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dfe/isdn__lib_8c_source.html#l00042">isdn_lib.c:42</a></div></div>
<div class="ttc" id="logger_8c_html_a7e2550c12ff27e5cd303101e86cf8eb4a439c8fd120012113aa39dfece22ed55f"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a7e2550c12ff27e5cd303101e86cf8eb4a439c8fd120012113aa39dfece22ed55f">LOGTYPE_CONSOLE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00128">logger.c:128</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a2e9a2518b5029b96671aff6701bd5138"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a2e9a2518b5029b96671aff6701bd5138">AST_RWLIST_UNLOCK</a></div><div class="ttdeci">#define AST_RWLIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a read/write based list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00150">linkedlists.h:150</a></div></div>
<div class="ttc" id="cli_8h_html_ab33e5350a923c3a8cedbeb496cd88ec9a71745eb63dd093f560a1add3e430d2a9"><div class="ttname"><a href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a71745eb63dd093f560a1add3e430d2a9">CLI_INIT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00152">cli.h:152</a></div></div>
<div class="ttc" id="logger_8c_html_a2ae9b20e8a0ca3f97cf9f8927e0fdb7f"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a2ae9b20e8a0ca3f97cf9f8927e0fdb7f">levels</a></div><div class="ttdeci">static char * levels[NUMLOGLEVELS]</div><div class="ttdoc">Logging channels used in the Asterisk logging system. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00206">logger.c:206</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="cli_8h_html_a791bf9f5637185bee5e8f0907c762130"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a></div><div class="ttdeci">void ast_cli(int fd, const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4d/clicompat_8c_source.html#l00006">clicompat.c:6</a></div></div>
<div class="ttc" id="logger_8c_html_a7e2550c12ff27e5cd303101e86cf8eb4affe678f5d32a5ad00d20d138627aa22f"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a7e2550c12ff27e5cd303101e86cf8eb4affe678f5d32a5ad00d20d138627aa22f">LOGTYPE_SYSLOG</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00126">logger.c:126</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a0a0fe104cc2cc36a43784f886f3ae7dc"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a0a0fe104cc2cc36a43784f886f3ae7dc">AST_RWLIST_RDLOCK</a></div><div class="ttdeci">#define AST_RWLIST_RDLOCK(head)</div><div class="ttdoc">Read locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00077">linkedlists.h:77</a></div></div>
<div class="ttc" id="structlogchannel_html_a05f465ec52733d0024e53f945e4cabe7"><div class="ttname"><a href="../../d6/d0c/structlogchannel.html#a05f465ec52733d0024e53f945e4cabe7">logchannel::list</a></div><div class="ttdeci">struct logchannel::@404 list</div></div>
<div class="ttc" id="structlogchannels_html"><div class="ttname"><a href="../../d2/df7/structlogchannels.html">logchannels</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00158">logger.c:158</a></div></div>
<div class="ttc" id="structast__cli__args_html_acf64f219885421479997667d2ed3f08a"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">ast_cli_args::fd</a></div><div class="ttdeci">const int fd</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00159">cli.h:159</a></div></div>
<div class="ttc" id="structlogchannel_html_aaeeb8d3574465a64ed10e4809ebd4cf6"><div class="ttname"><a href="../../d6/d0c/structlogchannel.html#aaeeb8d3574465a64ed10e4809ebd4cf6">logchannel::logmask</a></div><div class="ttdeci">unsigned int logmask</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00135">logger.c:135</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a944b82566722f2247aa35f1328402c98"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a944b82566722f2247aa35f1328402c98">AST_RWLIST_TRAVERSE</a></div><div class="ttdeci">#define AST_RWLIST_TRAVERSE</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00493">linkedlists.h:493</a></div></div>
<div class="ttc" id="structlogchannel_html_af255398e3e9383752e6234829e3f6037"><div class="ttname"><a href="../../d6/d0c/structlogchannel.html#af255398e3e9383752e6234829e3f6037">logchannel::disabled</a></div><div class="ttdeci">int disabled</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00137">logger.c:137</a></div></div>
<div class="ttc" id="structlogchannel_html_a6d3cd9e6800461f549a4fcabae1712c1"><div class="ttname"><a href="../../d6/d0c/structlogchannel.html#a6d3cd9e6800461f549a4fcabae1712c1">logchannel::type</a></div><div class="ttdeci">enum logtypes type</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00143">logger.c:143</a></div></div>
<div class="ttc" id="structast__cli__entry_html_ade9cba72805fe52685a1deea307a8e82"><div class="ttname"><a href="../../d8/d07/structast__cli__entry.html#ade9cba72805fe52685a1deea307a8e82">ast_cli_entry::command</a></div><div class="ttdeci">char * command</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00186">cli.h:186</a></div></div>
<div class="ttc" id="structlogformatter_html_a8f8f80d37794cde9472343e4487ba3eb"><div class="ttname"><a href="../../da/d44/structlogformatter.html#a8f8f80d37794cde9472343e4487ba3eb">logformatter::name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00120">logger.c:120</a></div></div>
<div class="ttc" id="structast__cli__entry_html_aef1bd6ad890a110b466cb0e8088507a2"><div class="ttname"><a href="../../d8/d07/structast__cli__entry.html#aef1bd6ad890a110b466cb0e8088507a2">ast_cli_entry::usage</a></div><div class="ttdeci">const char * usage</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00177">cli.h:177</a></div></div>
<div class="ttc" id="structlogchannel_html_ab49244970ed5ca30989c2dab2129de34"><div class="ttname"><a href="../../d6/d0c/structlogchannel.html#ab49244970ed5ca30989c2dab2129de34">logchannel::filename</a></div><div class="ttdeci">char filename[PATH_MAX]</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00147">logger.c:147</a></div></div>
<div class="ttc" id="cli_8h_html_a50989f00b32eeb2516a3803cb2ffb766"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a50989f00b32eeb2516a3803cb2ffb766">CLI_SUCCESS</a></div><div class="ttdeci">#define CLI_SUCCESS</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00044">cli.h:44</a></div></div>
<div class="ttc" id="cli_8h_html_ab33e5350a923c3a8cedbeb496cd88ec9a76bf33139279b03ec1691f2be2d1be40"><div class="ttname"><a href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a76bf33139279b03ec1691f2be2d1be40">CLI_GENERATE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00153">cli.h:153</a></div></div>
<div class="ttc" id="structlogchannel_html"><div class="ttname"><a href="../../d6/d0c/structlogchannel.html">logchannel</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00131">logger.c:131</a></div></div>
<div class="ttc" id="logger_8c_html_a70f8266b28e1b6adb224cb4dfd529d25"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a70f8266b28e1b6adb224cb4dfd529d25">logger_queue_limit</a></div><div class="ttdeci">static int logger_queue_limit</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00094">logger.c:94</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aaa750bd60d48780b89622bb62520dff0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaa750bd60d48780b89622bb62520dff0">&#9670;&nbsp;</a></span>init_logger()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int init_logger </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Provided by logger.c </p>

<p class="definition">Definition at line <a class="el" href="../../d1/d22/logger_8c_source.html#l01870">1870</a> of file <a class="el" href="../../d1/d22/logger_8c_source.html">logger.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/dfe/isdn__lib_8c_source.html#l00042">ARRAY_LEN</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00265">ast_cli_register_multiple</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00200">ast_cond_destroy</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00199">ast_cond_init</a>, <a class="el" href="../../de/dc5/options_8c_source.html#l00159">ast_config_AST_LOG_DIR</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l02101">ast_log()</a>, <a class="el" href="../../d0/d87/logger__category_8c_source.html#l00317">ast_logger_category_load()</a>, <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l02231">ast_mkdir()</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00186">ast_mutex_destroy</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00184">ast_mutex_init</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00559">ast_pthread_create</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00150">AST_RWLIST_UNLOCK</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00051">AST_RWLIST_WRLOCK</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l02232">ast_verb_update()</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00710">init_logger_chain()</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00188">logmsgs::lock</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00087">logger_initialized</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l01761">logger_thread()</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/d03/asterisk_8c_source.html#l03947">asterisk_daemon()</a>.</p>
<div class="fragment"><div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;{</div><div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;   <span class="comment">/* auto rotate if sig SIGXFSZ comes a-knockin */</span></div><div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;   sigaction(SIGXFSZ, &amp;<a class="code" href="../../d1/d22/logger_8c.html#a96ffd6a49fc389a717897c187672d70e">handle_SIGXFSZ</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;</div><div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;   <span class="comment">/* Re-initialize the logmsgs mutex.  The recursive mutex can be accessed prior</span></div><div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;<span class="comment">    * to Asterisk being forked into the background, which can cause the thread</span></div><div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;<span class="comment">    * ID tracked by the underlying pthread mutex to be different than the ID of</span></div><div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;<span class="comment">    * the thread that unlocks the mutex.  Since init_logger is called after the</span></div><div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;<span class="comment">    * fork, it is safe to initialize the mutex here for future accesses.</span></div><div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#ab8977a71822daa556f19f30ba6eec765">ast_mutex_destroy</a>(&amp;<a class="code" href="../../d2/dc4/structlogmsgs.html">logmsgs</a>.<a class="code" href="../../d2/dc4/structlogmsgs.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>);</div><div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a76e8ed6bb354be6c6dd9e51acc1d7a1b">ast_mutex_init</a>(&amp;<a class="code" href="../../d2/dc4/structlogmsgs.html">logmsgs</a>.<a class="code" href="../../d2/dc4/structlogmsgs.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>);</div><div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a69e9591803d36f5683eb9b084442be9b">ast_cond_init</a>(&amp;<a class="code" href="../../d1/d22/logger_8c.html#abb118951a9d7c498a6e28454e7eb0bd5">logcond</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;</div><div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;   <span class="comment">/* start logger thread */</span></div><div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d5/d60/utils_8h.html#a4781fd54a4ca8c7f0f8a32a6cce503c0">ast_pthread_create</a>(&amp;<a class="code" href="../../d1/d22/logger_8c.html#a6685bab4f7be49a081c4d2efe4b77a23">logthread</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d1/d22/logger_8c.html#ac4f7d8da66207fdb53d5f5ecb171032e">logger_thread</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) &lt; 0) {</div><div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a1ea2f4040a736cddbecea48b30ffedfd">ast_cond_destroy</a>(&amp;<a class="code" href="../../d1/d22/logger_8c.html#abb118951a9d7c498a6e28454e7eb0bd5">logcond</a>);</div><div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;   }</div><div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;</div><div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;   <span class="comment">/* register the logger cli commands */</span></div><div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;   <a class="code" href="../../dc/db0/cli_8h.html#aea8910ed9e301e7f741f87942c244eac">ast_cli_register_multiple</a>(<a class="code" href="../../d1/d22/logger_8c.html#ad833b610a71e242ad11a7f3fb5e79b90">cli_logger</a>, <a class="code" href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a>(<a class="code" href="../../d1/d22/logger_8c.html#ad833b610a71e242ad11a7f3fb5e79b90">cli_logger</a>));</div><div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;</div><div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a7c38859ed90e96df2b0a0fdf843769d0">ast_mkdir</a>(<a class="code" href="../../dd/df2/paths_8h.html#aea5e16ca2517e2093fdfa0e7fd112f0f">ast_config_AST_LOG_DIR</a>, 0777);</div><div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;</div><div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;   <span class="comment">/* create log channels */</span></div><div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a2d0cf4182bade9f773fb16ff12abe595">AST_RWLIST_WRLOCK</a>(&amp;<a class="code" href="../../d2/df7/structlogchannels.html">logchannels</a>);</div><div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;   res = <a class="code" href="../../d1/d22/logger_8c.html#a04da4b5280eecc1a76279432eba4fa10">init_logger_chain</a>(<a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a2e9a2518b5029b96671aff6701bd5138">AST_RWLIST_UNLOCK</a>(&amp;<a class="code" href="../../d2/df7/structlogchannels.html">logchannels</a>);</div><div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;   <a class="code" href="../../d1/d22/logger_8c.html#aad013a7e1fb2dcbd046b44c40b060e5b">ast_verb_update</a>();</div><div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;   <a class="code" href="../../d1/d22/logger_8c.html#a5f80b9400a0cdb3ac3a54a4da44af9b2">logger_initialized</a> = 1;</div><div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;   <span class="keywordflow">if</span> (res) {</div><div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;      <a class="code" href="../../d1/d22/logger_8c.html#a93dd824dff97fe84941d6d71b7a3710e">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Errors detected in logger.conf.  Default console logging is being used.\n&quot;</span>);</div><div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;   }</div><div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;</div><div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;   <a class="code" href="../../d5/d1f/logger__category_8h.html#a3bea8a838d6703301dd3557d9cdb3311">ast_logger_category_load</a>();</div><div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;</div><div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;}</div><div class="ttc" id="logger_8c_html_ad833b610a71e242ad11a7f3fb5e79b90"><div class="ttname"><a href="../../d1/d22/logger_8c.html#ad833b610a71e242ad11a7f3fb5e79b90">cli_logger</a></div><div class="ttdeci">static struct ast_cli_entry cli_logger[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l01559">logger.c:1559</a></div></div>
<div class="ttc" id="logger_8c_html_a04da4b5280eecc1a76279432eba4fa10"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a04da4b5280eecc1a76279432eba4fa10">init_logger_chain</a></div><div class="ttdeci">static int init_logger_chain(const char *altconf)</div><div class="ttdoc">Read config, setup channels. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00710">logger.c:710</a></div></div>
<div class="ttc" id="isdn__lib_8c_html_ab9129b977a587b50ea801daac75e178f"><div class="ttname"><a href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a></div><div class="ttdeci">#define ARRAY_LEN(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dfe/isdn__lib_8c_source.html#l00042">isdn_lib.c:42</a></div></div>
<div class="ttc" id="logger_8c_html_a96ffd6a49fc389a717897c187672d70e"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a96ffd6a49fc389a717897c187672d70e">handle_SIGXFSZ</a></div><div class="ttdeci">static struct sigaction handle_SIGXFSZ</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l01574">logger.c:1574</a></div></div>
<div class="ttc" id="logger_8c_html_a6685bab4f7be49a081c4d2efe4b77a23"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a6685bab4f7be49a081c4d2efe4b77a23">logthread</a></div><div class="ttdeci">static pthread_t logthread</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00189">logger.c:189</a></div></div>
<div class="ttc" id="logger_8c_html_aad013a7e1fb2dcbd046b44c40b060e5b"><div class="ttname"><a href="../../d1/d22/logger_8c.html#aad013a7e1fb2dcbd046b44c40b060e5b">ast_verb_update</a></div><div class="ttdeci">void ast_verb_update(void)</div><div class="ttdoc">Re-evaluate the system max verbosity level (ast_verb_sys_level). </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l02232">logger.c:2232</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a2d0cf4182bade9f773fb16ff12abe595"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a2d0cf4182bade9f773fb16ff12abe595">AST_RWLIST_WRLOCK</a></div><div class="ttdeci">#define AST_RWLIST_WRLOCK(head)</div><div class="ttdoc">Write locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00051">linkedlists.h:51</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a2e9a2518b5029b96671aff6701bd5138"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a2e9a2518b5029b96671aff6701bd5138">AST_RWLIST_UNLOCK</a></div><div class="ttdeci">#define AST_RWLIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a read/write based list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00150">linkedlists.h:150</a></div></div>
<div class="ttc" id="lock_8h_html_a69e9591803d36f5683eb9b084442be9b"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a69e9591803d36f5683eb9b084442be9b">ast_cond_init</a></div><div class="ttdeci">#define ast_cond_init(cond, attr)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00199">lock.h:199</a></div></div>
<div class="ttc" id="cli_8h_html_aea8910ed9e301e7f741f87942c244eac"><div class="ttname"><a href="../../dc/db0/cli_8h.html#aea8910ed9e301e7f741f87942c244eac">ast_cli_register_multiple</a></div><div class="ttdeci">#define ast_cli_register_multiple(e, len)</div><div class="ttdoc">Register multiple commands. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00265">cli.h:265</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="logger_8c_html_a5f80b9400a0cdb3ac3a54a4da44af9b2"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a5f80b9400a0cdb3ac3a54a4da44af9b2">logger_initialized</a></div><div class="ttdeci">static int logger_initialized</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00087">logger.c:87</a></div></div>
<div class="ttc" id="structlogchannels_html"><div class="ttname"><a href="../../d2/df7/structlogchannels.html">logchannels</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00158">logger.c:158</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="lock_8h_html_a1ea2f4040a736cddbecea48b30ffedfd"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a1ea2f4040a736cddbecea48b30ffedfd">ast_cond_destroy</a></div><div class="ttdeci">#define ast_cond_destroy(cond)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00200">lock.h:200</a></div></div>
<div class="ttc" id="paths_8h_html_aea5e16ca2517e2093fdfa0e7fd112f0f"><div class="ttname"><a href="../../dd/df2/paths_8h.html#aea5e16ca2517e2093fdfa0e7fd112f0f">ast_config_AST_LOG_DIR</a></div><div class="ttdeci">const char * ast_config_AST_LOG_DIR</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc5/options_8c_source.html#l00159">options.c:159</a></div></div>
<div class="ttc" id="logger_8c_html_ac4f7d8da66207fdb53d5f5ecb171032e"><div class="ttname"><a href="../../d1/d22/logger_8c.html#ac4f7d8da66207fdb53d5f5ecb171032e">logger_thread</a></div><div class="ttdeci">static void * logger_thread(void *data)</div><div class="ttdoc">Actual logging thread. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l01761">logger.c:1761</a></div></div>
<div class="ttc" id="utils_8h_html_a4781fd54a4ca8c7f0f8a32a6cce503c0"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a4781fd54a4ca8c7f0f8a32a6cce503c0">ast_pthread_create</a></div><div class="ttdeci">#define ast_pthread_create(a, b, c, d)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00559">utils.h:559</a></div></div>
<div class="ttc" id="logger_8c_html_a93dd824dff97fe84941d6d71b7a3710e"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a93dd824dff97fe84941d6d71b7a3710e">ast_log</a></div><div class="ttdeci">void ast_log(int level, const char *file, int line, const char *function, const char *fmt,...)</div><div class="ttdoc">Used for sending a log message This is the standard logger function. Probably the only way you will i...</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l02101">logger.c:2101</a></div></div>
<div class="ttc" id="structlogmsgs_html"><div class="ttname"><a href="../../d2/dc4/structlogmsgs.html">logmsgs</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00188">logger.c:188</a></div></div>
<div class="ttc" id="lock_8h_html_a76e8ed6bb354be6c6dd9e51acc1d7a1b"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a76e8ed6bb354be6c6dd9e51acc1d7a1b">ast_mutex_init</a></div><div class="ttdeci">#define ast_mutex_init(pmutex)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00184">lock.h:184</a></div></div>
<div class="ttc" id="lock_8h_html_ab8977a71822daa556f19f30ba6eec765"><div class="ttname"><a href="../../dd/d42/lock_8h.html#ab8977a71822daa556f19f30ba6eec765">ast_mutex_destroy</a></div><div class="ttdeci">#define ast_mutex_destroy(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00186">lock.h:186</a></div></div>
<div class="ttc" id="structlogmsgs_html_adf04f66344e3fb0a6f6a69bf39d19902"><div class="ttname"><a href="../../d2/dc4/structlogmsgs.html#adf04f66344e3fb0a6f6a69bf39d19902">logmsgs::lock</a></div><div class="ttdeci">ast_mutex_t lock</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00188">logger.c:188</a></div></div>
<div class="ttc" id="logger_8c_html_abb118951a9d7c498a6e28454e7eb0bd5"><div class="ttname"><a href="../../d1/d22/logger_8c.html#abb118951a9d7c498a6e28454e7eb0bd5">logcond</a></div><div class="ttdeci">static ast_cond_t logcond</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00190">logger.c:190</a></div></div>
<div class="ttc" id="utils_8h_html_a7c38859ed90e96df2b0a0fdf843769d0"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a7c38859ed90e96df2b0a0fdf843769d0">ast_mkdir</a></div><div class="ttdeci">int ast_mkdir(const char *path, int mode)</div><div class="ttdoc">Recursively create directory path. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1f/main_2utils_8c_source.html#l02231">main/utils.c:2231</a></div></div>
<div class="ttc" id="logger__category_8h_html_a3bea8a838d6703301dd3557d9cdb3311"><div class="ttname"><a href="../../d5/d1f/logger__category_8h.html#a3bea8a838d6703301dd3557d9cdb3311">ast_logger_category_load</a></div><div class="ttdeci">int ast_logger_category_load(void)</div><div class="ttdoc">Load/Initialize system wide logger category functionality. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d87/logger__category_8c_source.html#l00317">logger_category.c:317</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a04da4b5280eecc1a76279432eba4fa10"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a04da4b5280eecc1a76279432eba4fa10">&#9670;&nbsp;</a></span>init_logger_chain()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int init_logger_chain </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>altconf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Read config, setup channels. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">altconf</td><td>Alternate configuration file to read.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition</dt><dd>logchannels list is write locked</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Success </td></tr>
    <tr><td class="paramname">-1</td><td>No config found or Failed </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d1/d22/logger_8c_source.html#l00710">710</a> of file <a class="el" href="../../d1/d22/logger_8c_source.html">logger.c</a>.</p>

<p class="reference">References <a class="el" href="../../d1/d8c/logger_8h_source.html#l00284">__LOG_ERROR</a>, <a class="el" href="../../d4/dc5/extconf_8c_source.html#l01290">ast_config_destroy()</a>, <a class="el" href="../../d2/d9d/main_2config_8c_source.html#l03154">ast_config_load2()</a>, <a class="el" href="../../d5/d03/asterisk_8c_source.html#l01274">ast_console_puts_mutable()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00401">ast_copy_string()</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00717">AST_RWLIST_INSERT_HEAD</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00843">AST_RWLIST_REMOVE_HEAD</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00243">ast_strdup</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00300">ast_strdupa</a>, <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l01951">ast_true()</a>, <a class="el" href="../../d4/dc5/extconf_8c_source.html#l01216">ast_variable_browse()</a>, <a class="el" href="../../d2/d9d/main_2config_8c_source.html#l00694">ast_variable_retrieve()</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00060">CONFIG_STATUS_FILEINVALID</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00079">dateformat</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00089">display_callids</a>, <a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00082">exec_after_rotate</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00085">global_logmask</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00112">hostname</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00095">ast_variable::lineno</a>, <a class="el" href="../../d1/d22/logger_8c.html#a5bfecba707f2f239f10b2543de3b5ef6">logfiles</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00094">logger_queue_limit</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l02464">logger_register_level()</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00135">logchannel::logmask</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00617">make_logchannel()</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00085">ast_variable::name</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00090">ast_variable::next</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00099">NONE</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00081">queue_log_name</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00035">QUEUELOG</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00101">ROTATE</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00079">S_OR</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00100">SEQUENTIAL</a>, <a class="el" href="../../de/da3/include_2asterisk_2compat_8h.html#a40eca58273c74a20a17f137d18ba826c">strsep()</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00102">TIMESTAMP</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00087">ast_variable::value</a>, and <a class="el" href="../../dc/df2/ast__expr2f_8c_source.html#l00614">var</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/d22/logger_8c_source.html#l01259">ast_logger_rotate_channel()</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l01870">init_logger()</a>, and <a class="el" href="../../d1/d22/logger_8c_source.html#l01141">reload_logger()</a>.</p>
<div class="fragment"><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;{</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d6/d0c/structlogchannel.html">logchannel</a> *chan;</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/d18/structast__config.html">ast_config</a> *cfg;</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/d02/structast__variable.html">ast_variable</a> *<a class="code" href="../../dc/df2/ast__expr2f_8c.html#a1b0936415a643c88ce543099c10e0d7f">var</a>;</div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *s;</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/dac/structast__flags.html">ast_flags</a> config_flags = { 0 };</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;   <span class="keywordflow">if</span> (!(cfg = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#aab3eac8fa82a86a93c074deb7b77dbc9">ast_config_load2</a>(<a class="code" href="../../d6/d90/strings_8h.html#a2faaa16929951bfd2802b7829a100ba2">S_OR</a>(altconf, <span class="stringliteral">&quot;logger.conf&quot;</span>), <span class="stringliteral">&quot;logger&quot;</span>, config_flags)) || cfg == <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a8d1a63cdf2c7aff22a77b6e75d93b377">CONFIG_STATUS_FILEINVALID</a>) {</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;      cfg = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;   }</div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;   <span class="comment">/* Set defaults */</span></div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;   <a class="code" href="../../d1/d22/logger_8c.html#af31254e3111773fe1dc68e8dc13df2fe">hostname</a>[0] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;   <a class="code" href="../../d1/d22/logger_8c.html#a5f2b7ea41494bbea44ef18a8aedd671e">display_callids</a> = 1;</div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;   memset(&amp;<a class="code" href="../../d1/d22/logger_8c.html#a5bfecba707f2f239f10b2543de3b5ef6">logfiles</a>, 0, <span class="keyword">sizeof</span>(<a class="code" href="../../d1/d22/logger_8c.html#a5bfecba707f2f239f10b2543de3b5ef6">logfiles</a>));</div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;   <a class="code" href="../../d1/d22/logger_8c.html#a5bfecba707f2f239f10b2543de3b5ef6">logfiles</a>.queue_log = 1;</div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;   <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(<a class="code" href="../../d1/d22/logger_8c.html#a2057dec53731af6bb6881015b58936ba">dateformat</a>, <span class="stringliteral">&quot;%b %e %T&quot;</span>, <span class="keyword">sizeof</span>(<a class="code" href="../../d1/d22/logger_8c.html#a2057dec53731af6bb6881015b58936ba">dateformat</a>));</div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;   <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(<a class="code" href="../../d1/d22/logger_8c.html#a818fb8d162c63f2848d8bb57bffebd3e">queue_log_name</a>, <a class="code" href="../../d1/d8c/logger_8h.html#a862a4fc7926f6d3294362303efe690fe">QUEUELOG</a>, <span class="keyword">sizeof</span>(<a class="code" href="../../d1/d22/logger_8c.html#a818fb8d162c63f2848d8bb57bffebd3e">queue_log_name</a>));</div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;   <a class="code" href="../../d1/d22/logger_8c.html#a63c5086d15ebc49d28387fcbfa176bf5">exec_after_rotate</a>[0] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;   <a class="code" href="../../d1/d22/logger_8c.html#a390505c32550f77c3e013a8030fac392">rotatestrategy</a> = <a class="code" href="../../d1/d22/logger_8c.html#a390505c32550f77c3e013a8030fac392a6b834d43476553e583e0fde6578c82f0">SEQUENTIAL</a>;</div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;</div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;   <span class="comment">/* delete our list of log channels */</span></div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;   <span class="keywordflow">while</span> ((chan = <a class="code" href="../../df/d90/linkedlists_8h.html#a3d3aa4fb3b4ba38ad8d6d255d97e037c">AST_RWLIST_REMOVE_HEAD</a>(&amp;<a class="code" href="../../d2/df7/structlogchannels.html">logchannels</a>, list))) {</div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(chan);</div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;   }</div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;   <a class="code" href="../../d1/d22/logger_8c.html#a0705cfbd7955309ede3cb7969dac57f1">global_logmask</a> = 0;</div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;</div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;   <a class="code" href="../../d1/d6e/main_2stdtime_2private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a> = 0;</div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;   <span class="comment">/* close syslog */</span></div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;   closelog();</div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;</div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;   <span class="comment">/* If no config file, we&#39;re fine, set default options. */</span></div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;   <span class="keywordflow">if</span> (!cfg) {</div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;      chan = <a class="code" href="../../d1/d22/logger_8c.html#ab7a804c1b0b716c6b612a79aded136df">make_logchannel</a>(<span class="stringliteral">&quot;console&quot;</span>, <span class="stringliteral">&quot;error,warning,notice,verbose&quot;</span>, 0, 0);</div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;      <span class="keywordflow">if</span> (!chan) {</div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;         fprintf(stderr, <span class="stringliteral">&quot;ERROR: Failed to initialize default logging\n&quot;</span>);</div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;         <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;      }</div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;</div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;      <a class="code" href="../../df/d90/linkedlists_8h.html#aacc5f6b7c25e361d11d40137fd55a8e8">AST_RWLIST_INSERT_HEAD</a>(&amp;<a class="code" href="../../d2/df7/structlogchannels.html">logchannels</a>, chan, list);</div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;      <a class="code" href="../../d1/d22/logger_8c.html#a0705cfbd7955309ede3cb7969dac57f1">global_logmask</a> |= chan-&gt;<a class="code" href="../../d6/d0c/structlogchannel.html#aaeeb8d3574465a64ed10e4809ebd4cf6">logmask</a>;</div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;</div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;   }</div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;</div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;   <span class="keywordflow">if</span> ((s = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a9ff7aa27ae5f1a980bcf81f91cd6e470">ast_variable_retrieve</a>(cfg, <span class="stringliteral">&quot;general&quot;</span>, <span class="stringliteral">&quot;appendhostname&quot;</span>))) {</div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a387a69b3871ca31061566a73f45d20f4">ast_true</a>(s)) {</div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;         <span class="keywordflow">if</span> (gethostname(<a class="code" href="../../d1/d22/logger_8c.html#af31254e3111773fe1dc68e8dc13df2fe">hostname</a>, <span class="keyword">sizeof</span>(<a class="code" href="../../d1/d22/logger_8c.html#af31254e3111773fe1dc68e8dc13df2fe">hostname</a>) - 1)) {</div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;            <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(<a class="code" href="../../d1/d22/logger_8c.html#af31254e3111773fe1dc68e8dc13df2fe">hostname</a>, <span class="stringliteral">&quot;unknown&quot;</span>, <span class="keyword">sizeof</span>(<a class="code" href="../../d1/d22/logger_8c.html#af31254e3111773fe1dc68e8dc13df2fe">hostname</a>));</div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;            fprintf(stderr, <span class="stringliteral">&quot;What box has no hostname???\n&quot;</span>);</div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;         }</div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;      }</div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;   }</div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;   <span class="keywordflow">if</span> ((s = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a9ff7aa27ae5f1a980bcf81f91cd6e470">ast_variable_retrieve</a>(cfg, <span class="stringliteral">&quot;general&quot;</span>, <span class="stringliteral">&quot;display_callids&quot;</span>))) {</div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;      <a class="code" href="../../d1/d22/logger_8c.html#a5f2b7ea41494bbea44ef18a8aedd671e">display_callids</a> = <a class="code" href="../../d6/d90/strings_8h.html#a387a69b3871ca31061566a73f45d20f4">ast_true</a>(s);</div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;   }</div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;   <span class="keywordflow">if</span> ((s = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a9ff7aa27ae5f1a980bcf81f91cd6e470">ast_variable_retrieve</a>(cfg, <span class="stringliteral">&quot;general&quot;</span>, <span class="stringliteral">&quot;dateformat&quot;</span>))) {</div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;      <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(<a class="code" href="../../d1/d22/logger_8c.html#a2057dec53731af6bb6881015b58936ba">dateformat</a>, s, <span class="keyword">sizeof</span>(<a class="code" href="../../d1/d22/logger_8c.html#a2057dec53731af6bb6881015b58936ba">dateformat</a>));</div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;   }</div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;   <span class="keywordflow">if</span> ((s = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a9ff7aa27ae5f1a980bcf81f91cd6e470">ast_variable_retrieve</a>(cfg, <span class="stringliteral">&quot;general&quot;</span>, <span class="stringliteral">&quot;queue_log&quot;</span>))) {</div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;      <a class="code" href="../../d1/d22/logger_8c.html#a5bfecba707f2f239f10b2543de3b5ef6">logfiles</a>.queue_log = <a class="code" href="../../d6/d90/strings_8h.html#a387a69b3871ca31061566a73f45d20f4">ast_true</a>(s);</div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;   }</div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;   <span class="keywordflow">if</span> ((s = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a9ff7aa27ae5f1a980bcf81f91cd6e470">ast_variable_retrieve</a>(cfg, <span class="stringliteral">&quot;general&quot;</span>, <span class="stringliteral">&quot;queue_log_to_file&quot;</span>))) {</div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;      <a class="code" href="../../d1/d22/logger_8c.html#a5bfecba707f2f239f10b2543de3b5ef6">logfiles</a>.queue_log_to_file = <a class="code" href="../../d6/d90/strings_8h.html#a387a69b3871ca31061566a73f45d20f4">ast_true</a>(s);</div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;   }</div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;   <span class="keywordflow">if</span> ((s = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a9ff7aa27ae5f1a980bcf81f91cd6e470">ast_variable_retrieve</a>(cfg, <span class="stringliteral">&quot;general&quot;</span>, <span class="stringliteral">&quot;queue_log_name&quot;</span>))) {</div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;      <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(<a class="code" href="../../d1/d22/logger_8c.html#a818fb8d162c63f2848d8bb57bffebd3e">queue_log_name</a>, s, <span class="keyword">sizeof</span>(<a class="code" href="../../d1/d22/logger_8c.html#a818fb8d162c63f2848d8bb57bffebd3e">queue_log_name</a>));</div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;   }</div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;   <span class="keywordflow">if</span> ((s = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a9ff7aa27ae5f1a980bcf81f91cd6e470">ast_variable_retrieve</a>(cfg, <span class="stringliteral">&quot;general&quot;</span>, <span class="stringliteral">&quot;queue_log_realtime_use_gmt&quot;</span>))) {</div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;      <a class="code" href="../../d1/d22/logger_8c.html#a5bfecba707f2f239f10b2543de3b5ef6">logfiles</a>.queue_log_realtime_use_gmt = <a class="code" href="../../d6/d90/strings_8h.html#a387a69b3871ca31061566a73f45d20f4">ast_true</a>(s);</div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;   }</div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;   <span class="keywordflow">if</span> ((s = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a9ff7aa27ae5f1a980bcf81f91cd6e470">ast_variable_retrieve</a>(cfg, <span class="stringliteral">&quot;general&quot;</span>, <span class="stringliteral">&quot;exec_after_rotate&quot;</span>))) {</div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;      <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(<a class="code" href="../../d1/d22/logger_8c.html#a63c5086d15ebc49d28387fcbfa176bf5">exec_after_rotate</a>, s, <span class="keyword">sizeof</span>(<a class="code" href="../../d1/d22/logger_8c.html#a63c5086d15ebc49d28387fcbfa176bf5">exec_after_rotate</a>));</div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;   }</div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;   <span class="keywordflow">if</span> ((s = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a9ff7aa27ae5f1a980bcf81f91cd6e470">ast_variable_retrieve</a>(cfg, <span class="stringliteral">&quot;general&quot;</span>, <span class="stringliteral">&quot;rotatestrategy&quot;</span>))) {</div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;      <span class="keywordflow">if</span> (strcasecmp(s, <span class="stringliteral">&quot;timestamp&quot;</span>) == 0) {</div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;         <a class="code" href="../../d1/d22/logger_8c.html#a390505c32550f77c3e013a8030fac392">rotatestrategy</a> = <a class="code" href="../../d1/d22/logger_8c.html#a390505c32550f77c3e013a8030fac392a3f2dbbd8fe9ad35caa594416336ceeda">TIMESTAMP</a>;</div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcasecmp(s, <span class="stringliteral">&quot;rotate&quot;</span>) == 0) {</div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;         <a class="code" href="../../d1/d22/logger_8c.html#a390505c32550f77c3e013a8030fac392">rotatestrategy</a> = <a class="code" href="../../d1/d22/logger_8c.html#a390505c32550f77c3e013a8030fac392a3dcfe0046eb5876e287dbf0914819b16">ROTATE</a>;</div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcasecmp(s, <span class="stringliteral">&quot;sequential&quot;</span>) == 0) {</div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;         <a class="code" href="../../d1/d22/logger_8c.html#a390505c32550f77c3e013a8030fac392">rotatestrategy</a> = <a class="code" href="../../d1/d22/logger_8c.html#a390505c32550f77c3e013a8030fac392a6b834d43476553e583e0fde6578c82f0">SEQUENTIAL</a>;</div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcasecmp(s, <span class="stringliteral">&quot;none&quot;</span>) == 0) {</div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;         <a class="code" href="../../d1/d22/logger_8c.html#a390505c32550f77c3e013a8030fac392">rotatestrategy</a> = <a class="code" href="../../d1/d22/logger_8c.html#a390505c32550f77c3e013a8030fac392ac157bdf0b85a40d2619cbc8bc1ae5fe2">NONE</a>;</div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;         fprintf(stderr, <span class="stringliteral">&quot;Unknown rotatestrategy: %s\n&quot;</span>, s);</div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;      }</div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;      <span class="keywordflow">if</span> ((s = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a9ff7aa27ae5f1a980bcf81f91cd6e470">ast_variable_retrieve</a>(cfg, <span class="stringliteral">&quot;general&quot;</span>, <span class="stringliteral">&quot;rotatetimestamp&quot;</span>))) {</div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;         <a class="code" href="../../d1/d22/logger_8c.html#a390505c32550f77c3e013a8030fac392">rotatestrategy</a> = <a class="code" href="../../d6/d90/strings_8h.html#a387a69b3871ca31061566a73f45d20f4">ast_true</a>(s) ? <a class="code" href="../../d1/d22/logger_8c.html#a390505c32550f77c3e013a8030fac392a3f2dbbd8fe9ad35caa594416336ceeda">TIMESTAMP</a> : <a class="code" href="../../d1/d22/logger_8c.html#a390505c32550f77c3e013a8030fac392a6b834d43476553e583e0fde6578c82f0">SEQUENTIAL</a>;</div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;         fprintf(stderr, <span class="stringliteral">&quot;rotatetimestamp option has been deprecated.  Please use rotatestrategy instead.\n&quot;</span>);</div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;      }</div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;   }</div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;   <span class="keywordflow">if</span> ((s = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a9ff7aa27ae5f1a980bcf81f91cd6e470">ast_variable_retrieve</a>(cfg, <span class="stringliteral">&quot;general&quot;</span>, <span class="stringliteral">&quot;logger_queue_limit&quot;</span>))) {</div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;      <span class="keywordflow">if</span> (sscanf(s, <span class="stringliteral">&quot;%30d&quot;</span>, &amp;<a class="code" href="../../d1/d22/logger_8c.html#a70f8266b28e1b6adb224cb4dfd529d25">logger_queue_limit</a>) != 1) {</div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;         fprintf(stderr, <span class="stringliteral">&quot;logger_queue_limit has an invalid value.  Leaving at default of %d.\n&quot;</span>,</div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;            <a class="code" href="../../d1/d22/logger_8c.html#a70f8266b28e1b6adb224cb4dfd529d25">logger_queue_limit</a>);</div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;      }</div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d1/d22/logger_8c.html#a70f8266b28e1b6adb224cb4dfd529d25">logger_queue_limit</a> &lt; 10) {</div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;         fprintf(stderr, <span class="stringliteral">&quot;logger_queue_limit must be &gt;= 10. Setting to 10.\n&quot;</span>);</div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;         <a class="code" href="../../d1/d22/logger_8c.html#a70f8266b28e1b6adb224cb4dfd529d25">logger_queue_limit</a> = 10;</div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;      }</div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;   }</div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;</div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;   <span class="comment">/* Custom dynamic logging levels defined by user */</span></div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;   <span class="keywordflow">if</span> ((s = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a9ff7aa27ae5f1a980bcf81f91cd6e470">ast_variable_retrieve</a>(cfg, <span class="stringliteral">&quot;general&quot;</span>, <span class="stringliteral">&quot;custom_logs&quot;</span>))) {</div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;      <span class="keywordtype">char</span> *customlogs = <a class="code" href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a>(s);</div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;      <span class="keywordtype">char</span> *logfile;</div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;      <span class="keywordflow">while</span> ((logfile = <a class="code" href="../../de/da3/include_2asterisk_2compat_8h.html#a40eca58273c74a20a17f137d18ba826c">strsep</a>(&amp;customlogs, <span class="stringliteral">&quot;,&quot;</span>))) {</div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;         <span class="keywordtype">char</span> *customlog = <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(logfile);</div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;         <span class="comment">/* Lock already held, so directly register the level */</span></div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;         <a class="code" href="../../d1/d22/logger_8c.html#a82031c6f0224e2f227005cc34b833243">logger_register_level</a>(customlog);</div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;      }</div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;   }</div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;</div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;   var = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#aef636ed2f3d33f4c7a1ba67eb7c4d052">ast_variable_browse</a>(cfg, <span class="stringliteral">&quot;logfiles&quot;</span>);</div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;   <span class="keywordflow">for</span> (; <a class="code" href="../../dc/df2/ast__expr2f_8c.html#a1b0936415a643c88ce543099c10e0d7f">var</a>; var = var-&gt;<a class="code" href="../../dd/d02/structast__variable.html#afaaf66cc5029a563bd0bb9df076ea14b">next</a>) {</div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;      chan = <a class="code" href="../../d1/d22/logger_8c.html#ab7a804c1b0b716c6b612a79aded136df">make_logchannel</a>(var-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, var-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>, var-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a501b314f49b3a9ff6e7be599d94686ee">lineno</a>, 0);</div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;      <span class="keywordflow">if</span> (!chan) {</div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;         <span class="comment">/* Print error message directly to the consoles since the lock is held</span></div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;<span class="comment">          * and we don&#39;t want to unlock with the list partially built */</span></div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;         <a class="code" href="../../d1/d8c/logger_8h.html#a6b74ef8709c2a8f00f06c0933ca993a1">ast_console_puts_mutable</a>(<span class="stringliteral">&quot;ERROR: Unable to create log channel &#39;&quot;</span>, <a class="code" href="../../d1/d8c/logger_8h.html#a0fcdc410e3e9fbb251fd0c4f8581d96c">__LOG_ERROR</a>);</div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;         <a class="code" href="../../d1/d8c/logger_8h.html#a6b74ef8709c2a8f00f06c0933ca993a1">ast_console_puts_mutable</a>(var-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <a class="code" href="../../d1/d8c/logger_8h.html#a0fcdc410e3e9fbb251fd0c4f8581d96c">__LOG_ERROR</a>);</div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;         <a class="code" href="../../d1/d8c/logger_8h.html#a6b74ef8709c2a8f00f06c0933ca993a1">ast_console_puts_mutable</a>(<span class="stringliteral">&quot;&#39;\n&quot;</span>, <a class="code" href="../../d1/d8c/logger_8h.html#a0fcdc410e3e9fbb251fd0c4f8581d96c">__LOG_ERROR</a>);</div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;         <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;      }</div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;      <a class="code" href="../../df/d90/linkedlists_8h.html#aacc5f6b7c25e361d11d40137fd55a8e8">AST_RWLIST_INSERT_HEAD</a>(&amp;<a class="code" href="../../d2/df7/structlogchannels.html">logchannels</a>, chan, list);</div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;      <a class="code" href="../../d1/d22/logger_8c.html#a0705cfbd7955309ede3cb7969dac57f1">global_logmask</a> |= chan-&gt;<a class="code" href="../../d6/d0c/structlogchannel.html#aaeeb8d3574465a64ed10e4809ebd4cf6">logmask</a>;</div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;   }</div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;</div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d1/d22/logger_8c.html#a59cef8b13e5fcb3e2ea61f66ea4bf0e5">qlog</a>) {</div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;      fclose(<a class="code" href="../../d1/d22/logger_8c.html#a59cef8b13e5fcb3e2ea61f66ea4bf0e5">qlog</a>);</div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;      <a class="code" href="../../d1/d22/logger_8c.html#a59cef8b13e5fcb3e2ea61f66ea4bf0e5">qlog</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;   }</div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;</div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;   <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a6b4d4d929013de7812fbba4e58353078">ast_config_destroy</a>(cfg);</div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;</div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;}</div><div class="ttc" id="structast__variable_html_afaaf66cc5029a563bd0bb9df076ea14b"><div class="ttname"><a href="../../dd/d02/structast__variable.html#afaaf66cc5029a563bd0bb9df076ea14b">ast_variable::next</a></div><div class="ttdeci">struct ast_variable * next</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00090">include/asterisk/config.h:90</a></div></div>
<div class="ttc" id="logger_8c_html_a390505c32550f77c3e013a8030fac392a6b834d43476553e583e0fde6578c82f0"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a390505c32550f77c3e013a8030fac392a6b834d43476553e583e0fde6578c82f0">SEQUENTIAL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00100">logger.c:100</a></div></div>
<div class="ttc" id="logger_8c_html_a0705cfbd7955309ede3cb7969dac57f1"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a0705cfbd7955309ede3cb7969dac57f1">global_logmask</a></div><div class="ttdeci">static unsigned int global_logmask</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00085">logger.c:85</a></div></div>
<div class="ttc" id="logger_8c_html_a390505c32550f77c3e013a8030fac392a3f2dbbd8fe9ad35caa594416336ceeda"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a390505c32550f77c3e013a8030fac392a3f2dbbd8fe9ad35caa594416336ceeda">TIMESTAMP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00102">logger.c:102</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_aef636ed2f3d33f4c7a1ba67eb7c4d052"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#aef636ed2f3d33f4c7a1ba67eb7c4d052">ast_variable_browse</a></div><div class="ttdeci">struct ast_variable * ast_variable_browse(const struct ast_config *config, const char *category_name)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc5/extconf_8c_source.html#l01216">extconf.c:1216</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a8d1a63cdf2c7aff22a77b6e75d93b377"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a8d1a63cdf2c7aff22a77b6e75d93b377">CONFIG_STATUS_FILEINVALID</a></div><div class="ttdeci">#define CONFIG_STATUS_FILEINVALID</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00060">include/asterisk/config.h:60</a></div></div>
<div class="ttc" id="structast__variable_html_a501b314f49b3a9ff6e7be599d94686ee"><div class="ttname"><a href="../../dd/d02/structast__variable.html#a501b314f49b3a9ff6e7be599d94686ee">ast_variable::lineno</a></div><div class="ttdeci">int lineno</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00095">include/asterisk/config.h:95</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_aab3eac8fa82a86a93c074deb7b77dbc9"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#aab3eac8fa82a86a93c074deb7b77dbc9">ast_config_load2</a></div><div class="ttdeci">struct ast_config * ast_config_load2(const char *filename, const char *who_asked, struct ast_flags flags)</div><div class="ttdoc">Load a config file. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d9d/main_2config_8c_source.html#l03154">main/config.c:3154</a></div></div>
<div class="ttc" id="structast__variable_html"><div class="ttname"><a href="../../dd/d02/structast__variable.html">ast_variable</a></div><div class="ttdoc">Structure for variables, used for configurations and for channel variables. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00083">include/asterisk/config.h:83</a></div></div>
<div class="ttc" id="ast__expr2f_8c_html_a1b0936415a643c88ce543099c10e0d7f"><div class="ttname"><a href="../../dc/df2/ast__expr2f_8c.html#a1b0936415a643c88ce543099c10e0d7f">var</a></div><div class="ttdeci">#define var</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/ast__expr2f_8c_source.html#l00614">ast_expr2f.c:614</a></div></div>
<div class="ttc" id="logger_8h_html_a0fcdc410e3e9fbb251fd0c4f8581d96c"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a0fcdc410e3e9fbb251fd0c4f8581d96c">__LOG_ERROR</a></div><div class="ttdeci">#define __LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00284">logger.h:284</a></div></div>
<div class="ttc" id="astmm_8h_html_ab263849d03fb892847be4986db759737"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a></div><div class="ttdeci">#define ast_strdup(str)</div><div class="ttdoc">A wrapper for strdup() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00243">astmm.h:243</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="logger_8c_html_a59cef8b13e5fcb3e2ea61f66ea4bf0e5"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a59cef8b13e5fcb3e2ea61f66ea4bf0e5">qlog</a></div><div class="ttdeci">static FILE * qlog</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00193">logger.c:193</a></div></div>
<div class="ttc" id="logger_8c_html_a390505c32550f77c3e013a8030fac392a3dcfe0046eb5876e287dbf0914819b16"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a390505c32550f77c3e013a8030fac392a3dcfe0046eb5876e287dbf0914819b16">ROTATE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00101">logger.c:101</a></div></div>
<div class="ttc" id="linkedlists_8h_html_aacc5f6b7c25e361d11d40137fd55a8e8"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#aacc5f6b7c25e361d11d40137fd55a8e8">AST_RWLIST_INSERT_HEAD</a></div><div class="ttdeci">#define AST_RWLIST_INSERT_HEAD</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00717">linkedlists.h:717</a></div></div>
<div class="ttc" id="structast__variable_html_a8556878012feffc9e0beb86cd78f424d"><div class="ttname"><a href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">ast_variable::value</a></div><div class="ttdeci">const char * value</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00087">include/asterisk/config.h:87</a></div></div>
<div class="ttc" id="structlogchannels_html"><div class="ttname"><a href="../../d2/df7/structlogchannels.html">logchannels</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00158">logger.c:158</a></div></div>
<div class="ttc" id="structlogchannel_html_aaeeb8d3574465a64ed10e4809ebd4cf6"><div class="ttname"><a href="../../d6/d0c/structlogchannel.html#aaeeb8d3574465a64ed10e4809ebd4cf6">logchannel::logmask</a></div><div class="ttdeci">unsigned int logmask</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00135">logger.c:135</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a6b4d4d929013de7812fbba4e58353078"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a6b4d4d929013de7812fbba4e58353078">ast_config_destroy</a></div><div class="ttdeci">void ast_config_destroy(struct ast_config *config)</div><div class="ttdoc">Destroys a config. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc5/extconf_8c_source.html#l01290">extconf.c:1290</a></div></div>
<div class="ttc" id="logger_8c_html_a82031c6f0224e2f227005cc34b833243"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a82031c6f0224e2f227005cc34b833243">logger_register_level</a></div><div class="ttdeci">static int logger_register_level(const char *name)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l02464">logger.c:2464</a></div></div>
<div class="ttc" id="astmm_8h_html_ab5f0750cc80ba337fdcbddea2d3a1ee6"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a></div><div class="ttdeci">#define ast_strdupa(s)</div><div class="ttdoc">duplicate a string in memory from the stack </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00300">astmm.h:300</a></div></div>
<div class="ttc" id="logger_8c_html_a818fb8d162c63f2848d8bb57bffebd3e"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a818fb8d162c63f2848d8bb57bffebd3e">queue_log_name</a></div><div class="ttdeci">static char queue_log_name[256]</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00081">logger.c:81</a></div></div>
<div class="ttc" id="structast__variable_html_a8f8f80d37794cde9472343e4487ba3eb"><div class="ttname"><a href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">ast_variable::name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00085">include/asterisk/config.h:85</a></div></div>
<div class="ttc" id="logger_8c_html_a63c5086d15ebc49d28387fcbfa176bf5"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a63c5086d15ebc49d28387fcbfa176bf5">exec_after_rotate</a></div><div class="ttdeci">static char exec_after_rotate[256]</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00082">logger.c:82</a></div></div>
<div class="ttc" id="strings_8h_html_a387a69b3871ca31061566a73f45d20f4"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a387a69b3871ca31061566a73f45d20f4">ast_true</a></div><div class="ttdeci">int attribute_pure ast_true(const char *val)</div><div class="ttdoc">Make sure something is true. Determine if a string containing a boolean value is &quot;true&quot;. This function checks to see whether a string passed to it is an indication of an &quot;true&quot; value. It checks to see if the string is &quot;yes&quot;, &quot;true&quot;, &quot;y&quot;, &quot;t&quot;, &quot;on&quot; or &quot;1&quot;. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1f/main_2utils_8c_source.html#l01951">main/utils.c:1951</a></div></div>
<div class="ttc" id="main_2stdtime_2private_8h_html_ad65a8842cc674e3ddf69355898c0ecbf"><div class="ttname"><a href="../../d1/d6e/main_2stdtime_2private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a></div><div class="ttdeci">int errno</div></div>
<div class="ttc" id="logger_8c_html_ab7a804c1b0b716c6b612a79aded136df"><div class="ttname"><a href="../../d1/d22/logger_8c.html#ab7a804c1b0b716c6b612a79aded136df">make_logchannel</a></div><div class="ttdeci">static struct logchannel * make_logchannel(const char *channel, const char *components, int lineno, int dynamic)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00617">logger.c:617</a></div></div>
<div class="ttc" id="structast__config_html"><div class="ttname"><a href="../../dd/d18/structast__config.html">ast_config</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d9d/main_2config_8c_source.html#l00249">main/config.c:249</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a3d3aa4fb3b4ba38ad8d6d255d97e037c"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a3d3aa4fb3b4ba38ad8d6d255d97e037c">AST_RWLIST_REMOVE_HEAD</a></div><div class="ttdeci">#define AST_RWLIST_REMOVE_HEAD</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00843">linkedlists.h:843</a></div></div>
<div class="ttc" id="logger_8h_html_a6b74ef8709c2a8f00f06c0933ca993a1"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a6b74ef8709c2a8f00f06c0933ca993a1">ast_console_puts_mutable</a></div><div class="ttdeci">void ast_console_puts_mutable(const char *string, int level)</div><div class="ttdoc">log the string to the console, and all attached console clients </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d03/asterisk_8c_source.html#l01274">asterisk.c:1274</a></div></div>
<div class="ttc" id="structast__flags_html"><div class="ttname"><a href="../../dc/dac/structast__flags.html">ast_flags</a></div><div class="ttdoc">Structure used to handle boolean flags. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00199">utils.h:199</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a9ff7aa27ae5f1a980bcf81f91cd6e470"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a9ff7aa27ae5f1a980bcf81f91cd6e470">ast_variable_retrieve</a></div><div class="ttdeci">const char * ast_variable_retrieve(struct ast_config *config, const char *category, const char *variable)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d9d/main_2config_8c_source.html#l00694">main/config.c:694</a></div></div>
<div class="ttc" id="logger_8c_html_a2057dec53731af6bb6881015b58936ba"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a2057dec53731af6bb6881015b58936ba">dateformat</a></div><div class="ttdeci">static char dateformat[256]</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00079">logger.c:79</a></div></div>
<div class="ttc" id="logger_8c_html_a390505c32550f77c3e013a8030fac392"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a390505c32550f77c3e013a8030fac392">rotatestrategy</a></div><div class="ttdeci">rotatestrategy</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00098">logger.c:98</a></div></div>
<div class="ttc" id="include_2asterisk_2compat_8h_html_a40eca58273c74a20a17f137d18ba826c"><div class="ttname"><a href="../../de/da3/include_2asterisk_2compat_8h.html#a40eca58273c74a20a17f137d18ba826c">strsep</a></div><div class="ttdeci">char * strsep(char **str, const char *delims)</div></div>
<div class="ttc" id="logger_8c_html_a5f2b7ea41494bbea44ef18a8aedd671e"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a5f2b7ea41494bbea44ef18a8aedd671e">display_callids</a></div><div class="ttdeci">static int display_callids</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00089">logger.c:89</a></div></div>
<div class="ttc" id="strings_8h_html_ac4040268f7b6ed77dfc49c7767626369"><div class="ttname"><a href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a></div><div class="ttdeci">void ast_copy_string(char *dst, const char *src, size_t size)</div><div class="ttdoc">Size-limited null-terminating string copy. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00401">strings.h:401</a></div></div>
<div class="ttc" id="strings_8h_html_a2faaa16929951bfd2802b7829a100ba2"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a2faaa16929951bfd2802b7829a100ba2">S_OR</a></div><div class="ttdeci">#define S_OR(a, b)</div><div class="ttdoc">returns the equivalent of logic or for strings: first one if not empty, otherwise second one...</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00079">strings.h:79</a></div></div>
<div class="ttc" id="logger_8c_html_a390505c32550f77c3e013a8030fac392ac157bdf0b85a40d2619cbc8bc1ae5fe2"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a390505c32550f77c3e013a8030fac392ac157bdf0b85a40d2619cbc8bc1ae5fe2">NONE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00099">logger.c:99</a></div></div>
<div class="ttc" id="structlogchannel_html"><div class="ttname"><a href="../../d6/d0c/structlogchannel.html">logchannel</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00131">logger.c:131</a></div></div>
<div class="ttc" id="logger_8c_html_a70f8266b28e1b6adb224cb4dfd529d25"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a70f8266b28e1b6adb224cb4dfd529d25">logger_queue_limit</a></div><div class="ttdeci">static int logger_queue_limit</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00094">logger.c:94</a></div></div>
<div class="ttc" id="logger_8c_html_a5bfecba707f2f239f10b2543de3b5ef6"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a5bfecba707f2f239f10b2543de3b5ef6">logfiles</a></div><div class="ttdeci">static struct @403 logfiles</div></div>
<div class="ttc" id="logger_8h_html_a862a4fc7926f6d3294362303efe690fe"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a862a4fc7926f6d3294362303efe690fe">QUEUELOG</a></div><div class="ttdeci">#define QUEUELOG</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00035">logger.h:35</a></div></div>
<div class="ttc" id="logger_8c_html_af31254e3111773fe1dc68e8dc13df2fe"><div class="ttname"><a href="../../d1/d22/logger_8c.html#af31254e3111773fe1dc68e8dc13df2fe">hostname</a></div><div class="ttdeci">static char hostname[MAXHOSTNAMELEN]</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00112">logger.c:112</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac3382bf6da54c56b37069bd76bbdf4f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac3382bf6da54c56b37069bd76bbdf4f9">&#9670;&nbsp;</a></span>load_module()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int load_module </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/d22/logger_8c_source.html#l02602">2602</a> of file <a class="el" href="../../d1/d22/logger_8c_source.html">logger.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d16/module_8h_source.html#l00316">AST_MODFLAG_GLOBAL_SYMBOLS</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00317">AST_MODFLAG_LOAD_ORDER</a>, <a class="el" href="../../d9/de9/res__phoneprov_8c.html#addaa208b0ed785225e24490fb9f28a80">AST_MODULE_INFO()</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00070">AST_MODULE_LOAD_SUCCESS</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00121">AST_MODULE_SUPPORT_CORE</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00046">ASTERISK_GPL_KEY</a>, <a class="el" href="../../d0/d29/cdr__mysql_8c_source.html#l00741">reload()</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l02592">reload_module()</a>, and <a class="el" href="../../d1/d22/logger_8c_source.html#l02597">unload_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l02603"></a><span class="lineno"> 2603</span>&#160;{</div><div class="line"><a name="l02604"></a><span class="lineno"> 2604</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfa89bb877ade9ce418ad6663f3d936f314">AST_MODULE_LOAD_SUCCESS</a>;</div><div class="line"><a name="l02605"></a><span class="lineno"> 2605</span>&#160;}</div><div class="ttc" id="module_8h_html_adc09474f0ff557e9925b722ee5b952dfa89bb877ade9ce418ad6663f3d936f314"><div class="ttname"><a href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfa89bb877ade9ce418ad6663f3d936f314">AST_MODULE_LOAD_SUCCESS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00070">module.h:70</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a7dc10409b311ad76e05dd4c747a0be97"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7dc10409b311ad76e05dd4c747a0be97">&#9670;&nbsp;</a></span>logger_add_verbose_magic()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int logger_add_verbose_magic </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dc/dff/structlogmsg.html">logmsg</a> *&#160;</td>
          <td class="paramname"><em>logmsg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/d22/logger_8c_source.html#l00319">319</a> of file <a class="el" href="../../d1/d22/logger_8c_source.html">logger.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/d90/strings_8h_source.html#l01091">ast_str_append()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l01014">ast_str_append_substr()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00714">ast_str_buffer()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00653">ast_str_reset()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00861">ast_str_thread_get()</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00178">logmsg::message</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00168">logmsg::sublevel</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00252">verbose_buf</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00254">VERBOSE_BUF_INIT_SIZE</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00041">VERBOSE_PREFIX_1</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00042">VERBOSE_PREFIX_2</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00043">VERBOSE_PREFIX_3</a>, and <a class="el" href="../../d1/d8c/logger_8h_source.html#l00044">VERBOSE_PREFIX_4</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/d22/logger_8c_source.html#l00365">format_log_default()</a>.</p>
<div class="fragment"><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;{</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *p;</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *fmt;</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/da2/structast__str.html">ast_str</a> *prefixed;</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;   <span class="keywordtype">signed</span> <span class="keywordtype">char</span> magic = logmsg-&gt;<a class="code" href="../../dc/dff/structlogmsg.html#a635ef80281f5c34cbf8f5238cfe3c0c7">sublevel</a> &gt; 9 ? -10 : -logmsg-&gt;<a class="code" href="../../dc/dff/structlogmsg.html#a635ef80281f5c34cbf8f5238cfe3c0c7">sublevel</a> - 1; <span class="comment">/* 0 =&gt; -1, 1 =&gt; -2, etc.  Can&#39;t pass NUL, as it is EOS-delimiter */</span></div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;   <span class="comment">/* For compatibility with modules still calling ast_verbose() directly instead of using ast_verb() */</span></div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;   <span class="keywordflow">if</span> (logmsg-&gt;<a class="code" href="../../dc/dff/structlogmsg.html#a635ef80281f5c34cbf8f5238cfe3c0c7">sublevel</a> &lt; 0) {</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;      <span class="keywordflow">if</span> (!strncmp(logmsg-&gt;<a class="code" href="../../dc/dff/structlogmsg.html#a2f3ad6f31596c2474ce9d9c75b9bd66a">message</a>, <a class="code" href="../../d1/d8c/logger_8h.html#a9aaf93f121b63d51444d573673d4b791">VERBOSE_PREFIX_4</a>, strlen(<a class="code" href="../../d1/d8c/logger_8h.html#a9aaf93f121b63d51444d573673d4b791">VERBOSE_PREFIX_4</a>))) {</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;         magic = -5;</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strncmp(logmsg-&gt;<a class="code" href="../../dc/dff/structlogmsg.html#a2f3ad6f31596c2474ce9d9c75b9bd66a">message</a>, <a class="code" href="../../d1/d8c/logger_8h.html#a24b0f46e22f4ea3226fa082e955dd4ef">VERBOSE_PREFIX_3</a>, strlen(<a class="code" href="../../d1/d8c/logger_8h.html#a24b0f46e22f4ea3226fa082e955dd4ef">VERBOSE_PREFIX_3</a>))) {</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;         magic = -4;</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strncmp(logmsg-&gt;<a class="code" href="../../dc/dff/structlogmsg.html#a2f3ad6f31596c2474ce9d9c75b9bd66a">message</a>, <a class="code" href="../../d1/d8c/logger_8h.html#a5623b2747e49964e0eae2795057bc92e">VERBOSE_PREFIX_2</a>, strlen(<a class="code" href="../../d1/d8c/logger_8h.html#a5623b2747e49964e0eae2795057bc92e">VERBOSE_PREFIX_2</a>))) {</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;         magic = -3;</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strncmp(logmsg-&gt;<a class="code" href="../../dc/dff/structlogmsg.html#a2f3ad6f31596c2474ce9d9c75b9bd66a">message</a>, <a class="code" href="../../d1/d8c/logger_8h.html#aad3298cde7f9cc6ea7f3f60b797cef11">VERBOSE_PREFIX_1</a>, strlen(<a class="code" href="../../d1/d8c/logger_8h.html#aad3298cde7f9cc6ea7f3f60b797cef11">VERBOSE_PREFIX_1</a>))) {</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;         magic = -2;</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;         magic = -1;</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;      }</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;   }</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;   <span class="keywordflow">if</span> (!(prefixed = <a class="code" href="../../d6/d90/strings_8h.html#afe8f5f844f2fd5f5bd5d0be5ef671481">ast_str_thread_get</a>(&amp;<a class="code" href="../../d1/d22/logger_8c.html#a5a468f362fab520a3eb3bf152d84884a">verbose_buf</a>, <a class="code" href="../../d1/d22/logger_8c.html#abb718d66b0fc16699d625172b7117f94">VERBOSE_BUF_INIT_SIZE</a>))) {</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;   }</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;   <a class="code" href="../../d6/d90/strings_8h.html#a8239b9ad10367bfc936e9b60ff7706a8">ast_str_reset</a>(prefixed);</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;   <span class="comment">/* for every newline found in the buffer add verbose prefix data */</span></div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;   fmt = logmsg-&gt;<a class="code" href="../../dc/dff/structlogmsg.html#a2f3ad6f31596c2474ce9d9c75b9bd66a">message</a>;</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;   <span class="keywordflow">do</span> {</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;      <span class="keywordflow">if</span> (!(p = strchr(fmt, <span class="charliteral">&#39;\n&#39;</span>))) {</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;         p = strchr(fmt, <span class="charliteral">&#39;\0&#39;</span>) - 1;</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;      }</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;      ++p;</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;      <a class="code" href="../../d6/d90/strings_8h.html#a1088afdd862a49b0fce34ebe02df8ca1">ast_str_append</a>(&amp;prefixed, 0, <span class="stringliteral">&quot;%c&quot;</span>, (<span class="keywordtype">char</span>)magic);</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;      <a class="code" href="../../d6/d90/strings_8h.html#a66daf21afabae2111fb397beb9a6c57e">ast_str_append_substr</a>(&amp;prefixed, 0, fmt, p - fmt);</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;      fmt = p;</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;   } <span class="keywordflow">while</span> (p &amp;&amp; *p);</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;   snprintf(<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, size, <span class="stringliteral">&quot;%s&quot;</span>, <a class="code" href="../../d6/d90/strings_8h.html#a1ef7e2644ca7258070db316fdc0a465b">ast_str_buffer</a>(prefixed));</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;}</div><div class="ttc" id="logger_8h_html_aad3298cde7f9cc6ea7f3f60b797cef11"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aad3298cde7f9cc6ea7f3f60b797cef11">VERBOSE_PREFIX_1</a></div><div class="ttdeci">#define VERBOSE_PREFIX_1</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00041">logger.h:41</a></div></div>
<div class="ttc" id="eagi__proxy_8c_html_ac95651d79c608a3148973b5b1fc9e525"><div class="ttname"><a href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a></div><div class="ttdeci">char buf[BUFSIZE]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">eagi_proxy.c:66</a></div></div>
<div class="ttc" id="logger_8h_html_a24b0f46e22f4ea3226fa082e955dd4ef"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a24b0f46e22f4ea3226fa082e955dd4ef">VERBOSE_PREFIX_3</a></div><div class="ttdeci">#define VERBOSE_PREFIX_3</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00043">logger.h:43</a></div></div>
<div class="ttc" id="strings_8h_html_a1ef7e2644ca7258070db316fdc0a465b"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a1ef7e2644ca7258070db316fdc0a465b">ast_str_buffer</a></div><div class="ttdeci">char * ast_str_buffer(const struct ast_str *buf)</div><div class="ttdoc">Returns the string buffer within the ast_str buf. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00714">strings.h:714</a></div></div>
<div class="ttc" id="strings_8h_html_a1088afdd862a49b0fce34ebe02df8ca1"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a1088afdd862a49b0fce34ebe02df8ca1">ast_str_append</a></div><div class="ttdeci">int ast_str_append(struct ast_str **buf, ssize_t max_len, const char *fmt,...)</div><div class="ttdoc">Append to a thread local dynamic string. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l01091">strings.h:1091</a></div></div>
<div class="ttc" id="logger_8c_html_abb718d66b0fc16699d625172b7117f94"><div class="ttname"><a href="../../d1/d22/logger_8c.html#abb718d66b0fc16699d625172b7117f94">VERBOSE_BUF_INIT_SIZE</a></div><div class="ttdeci">#define VERBOSE_BUF_INIT_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00254">logger.c:254</a></div></div>
<div class="ttc" id="logger_8h_html_a9aaf93f121b63d51444d573673d4b791"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a9aaf93f121b63d51444d573673d4b791">VERBOSE_PREFIX_4</a></div><div class="ttdeci">#define VERBOSE_PREFIX_4</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00044">logger.h:44</a></div></div>
<div class="ttc" id="logger_8h_html_a5623b2747e49964e0eae2795057bc92e"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a5623b2747e49964e0eae2795057bc92e">VERBOSE_PREFIX_2</a></div><div class="ttdeci">#define VERBOSE_PREFIX_2</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00042">logger.h:42</a></div></div>
<div class="ttc" id="strings_8h_html_a66daf21afabae2111fb397beb9a6c57e"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a66daf21afabae2111fb397beb9a6c57e">ast_str_append_substr</a></div><div class="ttdeci">char * ast_str_append_substr(struct ast_str **buf, ssize_t maxlen, const char *src, size_t maxsrc)</div><div class="ttdoc">Append a non-NULL terminated substring to the end of a dynamic string. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l01014">strings.h:1014</a></div></div>
<div class="ttc" id="structast__str_html"><div class="ttname"><a href="../../dd/da2/structast__str.html">ast_str</a></div><div class="ttdoc">The descriptor of a dynamic string XXX storage will be optimized later if needed We use the ts field ...</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00584">strings.h:584</a></div></div>
<div class="ttc" id="strings_8h_html_a8239b9ad10367bfc936e9b60ff7706a8"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a8239b9ad10367bfc936e9b60ff7706a8">ast_str_reset</a></div><div class="ttdeci">void ast_str_reset(struct ast_str *buf)</div><div class="ttdoc">Reset the content of a dynamic string. Useful before a series of ast_str_append. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00653">strings.h:653</a></div></div>
<div class="ttc" id="structlogmsg_html_a2f3ad6f31596c2474ce9d9c75b9bd66a"><div class="ttname"><a href="../../dc/dff/structlogmsg.html#a2f3ad6f31596c2474ce9d9c75b9bd66a">logmsg::message</a></div><div class="ttdeci">const ast_string_field message</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00178">logger.c:178</a></div></div>
<div class="ttc" id="logger_8c_html_a5a468f362fab520a3eb3bf152d84884a"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a5a468f362fab520a3eb3bf152d84884a">verbose_buf</a></div><div class="ttdeci">static struct ast_threadstorage verbose_buf</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00252">logger.c:252</a></div></div>
<div class="ttc" id="strings_8h_html_afe8f5f844f2fd5f5bd5d0be5ef671481"><div class="ttname"><a href="../../d6/d90/strings_8h.html#afe8f5f844f2fd5f5bd5d0be5ef671481">ast_str_thread_get</a></div><div class="ttdeci">struct ast_str * ast_str_thread_get(struct ast_threadstorage *ts, size_t init_len)</div><div class="ttdoc">Retrieve a thread locally stored dynamic string. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00861">strings.h:861</a></div></div>
<div class="ttc" id="structlogmsg_html_a635ef80281f5c34cbf8f5238cfe3c0c7"><div class="ttname"><a href="../../dc/dff/structlogmsg.html#a635ef80281f5c34cbf8f5238cfe3c0c7">logmsg::sublevel</a></div><div class="ttdeci">int sublevel</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00168">logger.c:168</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac2c5290c43f91e7f6bdac350c32d29ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac2c5290c43f91e7f6bdac350c32d29ae">&#9670;&nbsp;</a></span>logger_print_normal()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void logger_print_normal </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dc/dff/structlogmsg.html">logmsg</a> *&#160;</td>
          <td class="paramname"><em>logmsg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Print a normal log message to the channels. </p>

<p class="definition">Definition at line <a class="el" href="../../d1/d22/logger_8c_source.html#l01580">1580</a> of file <a class="el" href="../../d1/d22/logger_8c_source.html">logger.c</a>.</p>

<p class="reference">References <a class="el" href="../../d1/d8c/logger_8h_source.html#l00295">__LOG_VERBOSE</a>, <a class="el" href="../../d5/d03/asterisk_8c_source.html#l01281">ast_console_puts_mutable_full()</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00451">AST_RWLIST_EMPTY</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00077">AST_RWLIST_RDLOCK</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00493">AST_RWLIST_TRAVERSE</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00150">AST_RWLIST_UNLOCK</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../d4/d2f/syslog_8c_source.html#l00162">ast_syslog_priority_from_loglevel()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00463">ast_verb</a>, <a class="el" href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">buf</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00137">logchannel::disabled</a>, <a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a>, <a class="el" href="../../db/d45/manager_8h_source.html#l00071">EVENT_FLAG_SYSTEM</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00139">logchannel::facility</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00147">logchannel::filename</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00145">logchannel::fileptr</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00084">filesize_reload_needed</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00122">logformatter::format_log</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00133">logchannel::formatter</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00167">logmsg::level</a>, <a class="el" href="../../d6/d0c/structlogchannel.html#a05f465ec52733d0024e53f945e4cabe7">logchannel::list</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00135">logchannel::logmask</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00128">LOGTYPE_CONSOLE</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00127">LOGTYPE_FILE</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00126">LOGTYPE_SYSLOG</a>, <a class="el" href="../../db/d45/manager_8h_source.html#l00248">manager_event</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00178">logmsg::message</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../de/dc5/options_8c_source.html#l00067">option_verbose</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l01141">reload_logger()</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00168">logmsg::sublevel</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00143">logchannel::type</a>, and <a class="el" href="../../d1/d22/logger_8c_source.html#l00141">logchannel::verbosity</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/d22/logger_8c_source.html#l02053">ast_log_full()</a>, and <a class="el" href="../../d1/d22/logger_8c_source.html#l01761">logger_thread()</a>.</p>
<div class="fragment"><div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;{</div><div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d6/d0c/structlogchannel.html">logchannel</a> *chan = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;   <span class="keywordtype">char</span> <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>[BUFSIZ];</div><div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;   <span class="keywordtype">int</span> level = 0;</div><div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;</div><div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a0a0fe104cc2cc36a43784f886f3ae7dc">AST_RWLIST_RDLOCK</a>(&amp;<a class="code" href="../../d2/df7/structlogchannels.html">logchannels</a>);</div><div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../df/d90/linkedlists_8h.html#a0044f6572f50a89049b3b5272e51b0e7">AST_RWLIST_EMPTY</a>(&amp;<a class="code" href="../../d2/df7/structlogchannels.html">logchannels</a>)) {</div><div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;      <a class="code" href="../../df/d90/linkedlists_8h.html#a944b82566722f2247aa35f1328402c98">AST_RWLIST_TRAVERSE</a>(&amp;<a class="code" href="../../d2/df7/structlogchannels.html">logchannels</a>, chan, <a class="code" href="../../d6/d0c/structlogchannel.html#a05f465ec52733d0024e53f945e4cabe7">list</a>) {</div><div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;</div><div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;         <span class="comment">/* If the channel is disabled, then move on to the next one */</span></div><div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;         <span class="keywordflow">if</span> (chan-&gt;<a class="code" href="../../d6/d0c/structlogchannel.html#af255398e3e9383752e6234829e3f6037">disabled</a>) {</div><div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;         }</div><div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;         <span class="keywordflow">if</span> (logmsg-&gt;<a class="code" href="../../dc/dff/structlogmsg.html#acf4d33ee4cff36f69b924471174dcb11">level</a> == <a class="code" href="../../d1/d8c/logger_8h.html#aa11fae1314f286da3d57ae8c07ec4bca">__LOG_VERBOSE</a></div><div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;            &amp;&amp; (((chan-&gt;<a class="code" href="../../d6/d0c/structlogchannel.html#a1bdcfae3209cbd96db35a2ae356fa15e">verbosity</a> &lt; 0) ? <a class="code" href="../../d6/dd6/group__main__options.html#gaa294d0efa6a89c1a3d162787cac4fff5">option_verbose</a> : chan-&gt;<a class="code" href="../../d6/d0c/structlogchannel.html#a1bdcfae3209cbd96db35a2ae356fa15e">verbosity</a>)) &lt; level) {</div><div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;         }</div><div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;</div><div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;         <span class="keywordflow">if</span> (!(chan-&gt;<a class="code" href="../../d6/d0c/structlogchannel.html#aaeeb8d3574465a64ed10e4809ebd4cf6">logmask</a> &amp; (1 &lt;&lt; logmsg-&gt;<a class="code" href="../../dc/dff/structlogmsg.html#acf4d33ee4cff36f69b924471174dcb11">level</a>))) {</div><div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;         }</div><div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;</div><div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;         <span class="keywordflow">switch</span> (chan-&gt;<a class="code" href="../../d6/d0c/structlogchannel.html#a6d3cd9e6800461f549a4fcabae1712c1">type</a>) {</div><div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;         <span class="keywordflow">case</span> <a class="code" href="../../d1/d22/logger_8c.html#a7e2550c12ff27e5cd303101e86cf8eb4affe678f5d32a5ad00d20d138627aa22f">LOGTYPE_SYSLOG</a>:</div><div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;            {</div><div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;               <span class="keywordtype">int</span> syslog_level = <a class="code" href="../../d7/d30/syslog_8h.html#aa206928061ae3944f043883e2c6aa7d1">ast_syslog_priority_from_loglevel</a>(logmsg-&gt;<a class="code" href="../../dc/dff/structlogmsg.html#acf4d33ee4cff36f69b924471174dcb11">level</a>);</div><div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;</div><div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;               <span class="keywordflow">if</span> (syslog_level &lt; 0) {</div><div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;                  <span class="comment">/* we are locked here, so cannot ast_log() */</span></div><div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;                  fprintf(stderr, <span class="stringliteral">&quot;ast_log_vsyslog called with bogus level: %d\n&quot;</span>, logmsg-&gt;<a class="code" href="../../dc/dff/structlogmsg.html#acf4d33ee4cff36f69b924471174dcb11">level</a>);</div><div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;                  <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;               }</div><div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;</div><div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;               <span class="comment">/* Don&#39;t use LOG_MAKEPRI because it&#39;s broken in glibc&lt;2.17 */</span></div><div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;               syslog_level = chan-&gt;<a class="code" href="../../d6/d0c/structlogchannel.html#a213afa2e73e0c2102f43d4067e41b90f">facility</a> | syslog_level; <span class="comment">/* LOG_MAKEPRI(chan-&gt;facility, syslog_level); */</span></div><div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;               <span class="keywordflow">if</span> (!chan-&gt;<a class="code" href="../../d6/d0c/structlogchannel.html#a299de010a23aac23f580fa86ddf17dde">formatter</a>.<a class="code" href="../../da/d44/structlogformatter.html#ab68fb22d38da15af2f80458cc50e6d93">format_log</a>(chan, logmsg, buf, BUFSIZ)) {</div><div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;                  syslog(syslog_level, <span class="stringliteral">&quot;%s&quot;</span>, buf);</div><div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;               }</div><div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;            }</div><div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;         <span class="keywordflow">case</span> <a class="code" href="../../d1/d22/logger_8c.html#a7e2550c12ff27e5cd303101e86cf8eb4a439c8fd120012113aa39dfece22ed55f">LOGTYPE_CONSOLE</a>:</div><div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;            <span class="keywordflow">if</span> (!chan-&gt;<a class="code" href="../../d6/d0c/structlogchannel.html#a299de010a23aac23f580fa86ddf17dde">formatter</a>.<a class="code" href="../../da/d44/structlogformatter.html#ab68fb22d38da15af2f80458cc50e6d93">format_log</a>(chan, logmsg, buf, BUFSIZ)) {</div><div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;               <a class="code" href="../../d1/d8c/logger_8h.html#ae7ff139d2c02940102c3881091670f47">ast_console_puts_mutable_full</a>(buf, logmsg-&gt;<a class="code" href="../../dc/dff/structlogmsg.html#acf4d33ee4cff36f69b924471174dcb11">level</a>, logmsg-&gt;<a class="code" href="../../dc/dff/structlogmsg.html#a635ef80281f5c34cbf8f5238cfe3c0c7">sublevel</a>);</div><div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;            }</div><div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;         <span class="keywordflow">case</span> <a class="code" href="../../d1/d22/logger_8c.html#a7e2550c12ff27e5cd303101e86cf8eb4a82620c2d182f4b50f3801669f747f3aa">LOGTYPE_FILE</a>:</div><div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;            {</div><div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;               <span class="keywordtype">int</span> res = 0;</div><div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;</div><div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;               <span class="keywordflow">if</span> (!chan-&gt;<a class="code" href="../../d6/d0c/structlogchannel.html#acc2a21b64b19aeee05b382056974c1e9">fileptr</a>) {</div><div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;                  <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;               }</div><div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;</div><div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;               <span class="keywordflow">if</span> (chan-&gt;<a class="code" href="../../d6/d0c/structlogchannel.html#a299de010a23aac23f580fa86ddf17dde">formatter</a>.<a class="code" href="../../da/d44/structlogformatter.html#ab68fb22d38da15af2f80458cc50e6d93">format_log</a>(chan, logmsg, buf, BUFSIZ)) {</div><div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;                  <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;               }</div><div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;</div><div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;               <span class="comment">/* Print out to the file */</span></div><div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;               res = fprintf(chan-&gt;<a class="code" href="../../d6/d0c/structlogchannel.html#acc2a21b64b19aeee05b382056974c1e9">fileptr</a>, <span class="stringliteral">&quot;%s&quot;</span>, buf);</div><div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;               <span class="keywordflow">if</span> (res &gt; 0) {</div><div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;                  fflush(chan-&gt;<a class="code" href="../../d6/d0c/structlogchannel.html#acc2a21b64b19aeee05b382056974c1e9">fileptr</a>);</div><div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;               } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (res &lt;= 0 &amp;&amp; !<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(logmsg-&gt;<a class="code" href="../../dc/dff/structlogmsg.html#a2f3ad6f31596c2474ce9d9c75b9bd66a">message</a>)) {</div><div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;                  fprintf(stderr, <span class="stringliteral">&quot;**** Asterisk Logging Error: ***********\n&quot;</span>);</div><div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;                  <span class="keywordflow">if</span> (<a class="code" href="../../d1/d6e/main_2stdtime_2private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a> == ENOMEM || <a class="code" href="../../d1/d6e/main_2stdtime_2private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a> == ENOSPC) {</div><div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;                     fprintf(stderr, <span class="stringliteral">&quot;Asterisk logging error: Out of disk space, can&#39;t log to log file %s\n&quot;</span>, chan-&gt;<a class="code" href="../../d6/d0c/structlogchannel.html#ab49244970ed5ca30989c2dab2129de34">filename</a>);</div><div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;                  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;                     fprintf(stderr, <span class="stringliteral">&quot;Logger Warning: Unable to write to log file &#39;%s&#39;: %s (disabled)\n&quot;</span>, chan-&gt;<a class="code" href="../../d6/d0c/structlogchannel.html#ab49244970ed5ca30989c2dab2129de34">filename</a>, strerror(<a class="code" href="../../d1/d6e/main_2stdtime_2private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a>));</div><div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;                  }</div><div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;</div><div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;                  <span class="comment">/*** DOCUMENTATION</span></div><div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;<span class="comment">                     &lt;managerEventInstance&gt;</span></div><div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;<span class="comment">                        &lt;synopsis&gt;Raised when a logging channel is disabled.&lt;/synopsis&gt;</span></div><div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;<span class="comment">                        &lt;syntax&gt;</span></div><div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;<span class="comment">                           &lt;parameter name=&quot;Channel&quot;&gt;</span></div><div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;<span class="comment">                              &lt;para&gt;The name of the logging channel.&lt;/para&gt;</span></div><div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;<span class="comment">                           &lt;/parameter&gt;</span></div><div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;<span class="comment">                        &lt;/syntax&gt;</span></div><div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;<span class="comment">                     &lt;/managerEventInstance&gt;</span></div><div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;<span class="comment">                  ***/</span></div><div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;                  <a class="code" href="../../db/d45/manager_8h.html#a1ef0ee0044dbbeb4c3a5abc6c046b208">manager_event</a>(<a class="code" href="../../db/d45/manager_8h.html#a420f0f755e1c3378b45ca7f6f0669ffa">EVENT_FLAG_SYSTEM</a>, <span class="stringliteral">&quot;LogChannel&quot;</span>, <span class="stringliteral">&quot;Channel: %s\r\nEnabled: No\r\nReason: %d - %s\r\n&quot;</span>, chan-&gt;<a class="code" href="../../d6/d0c/structlogchannel.html#ab49244970ed5ca30989c2dab2129de34">filename</a>, <a class="code" href="../../d1/d6e/main_2stdtime_2private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a>, strerror(<a class="code" href="../../d1/d6e/main_2stdtime_2private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a>));</div><div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;                  chan-&gt;<a class="code" href="../../d6/d0c/structlogchannel.html#af255398e3e9383752e6234829e3f6037">disabled</a> = 1;</div><div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;               }</div><div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;            }</div><div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;         }</div><div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;      }</div><div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (logmsg-&gt;<a class="code" href="../../dc/dff/structlogmsg.html#acf4d33ee4cff36f69b924471174dcb11">level</a> != <a class="code" href="../../d1/d8c/logger_8h.html#aa11fae1314f286da3d57ae8c07ec4bca">__LOG_VERBOSE</a> || <a class="code" href="../../d6/dd6/group__main__options.html#gaa294d0efa6a89c1a3d162787cac4fff5">option_verbose</a> &gt;= logmsg-&gt;<a class="code" href="../../dc/dff/structlogmsg.html#a635ef80281f5c34cbf8f5238cfe3c0c7">sublevel</a>) {</div><div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;      fputs(logmsg-&gt;<a class="code" href="../../dc/dff/structlogmsg.html#a2f3ad6f31596c2474ce9d9c75b9bd66a">message</a>, stdout);</div><div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;   }</div><div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;</div><div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a2e9a2518b5029b96671aff6701bd5138">AST_RWLIST_UNLOCK</a>(&amp;<a class="code" href="../../d2/df7/structlogchannels.html">logchannels</a>);</div><div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;</div><div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;   <span class="comment">/* If we need to reload because of the file size, then do so */</span></div><div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d1/d22/logger_8c.html#a2b97f7299bdadbda12e69a1a31c9d28c">filesize_reload_needed</a>) {</div><div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;      <a class="code" href="../../d1/d22/logger_8c.html#a4dfd6bff5fa421d9abc89125ac5d7d8b">reload_logger</a>(-1, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(1, <span class="stringliteral">&quot;Rotated Logs Per SIGXFSZ (Exceeded file size limit)\n&quot;</span>);</div><div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;   }</div><div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;</div><div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;   <span class="keywordflow">return</span>;</div><div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;}</div><div class="ttc" id="structlogchannel_html_a299de010a23aac23f580fa86ddf17dde"><div class="ttname"><a href="../../d6/d0c/structlogchannel.html#a299de010a23aac23f580fa86ddf17dde">logchannel::formatter</a></div><div class="ttdeci">struct logformatter formatter</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00133">logger.c:133</a></div></div>
<div class="ttc" id="logger_8h_html_ae7ff139d2c02940102c3881091670f47"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#ae7ff139d2c02940102c3881091670f47">ast_console_puts_mutable_full</a></div><div class="ttdeci">void ast_console_puts_mutable_full(const char *message, int level, int sublevel)</div><div class="ttdoc">log the string to the console, and all attached console clients </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d03/asterisk_8c_source.html#l01281">asterisk.c:1281</a></div></div>
<div class="ttc" id="structlogchannel_html_a213afa2e73e0c2102f43d4067e41b90f"><div class="ttname"><a href="../../d6/d0c/structlogchannel.html#a213afa2e73e0c2102f43d4067e41b90f">logchannel::facility</a></div><div class="ttdeci">int facility</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00139">logger.c:139</a></div></div>
<div class="ttc" id="logger_8c_html_a7e2550c12ff27e5cd303101e86cf8eb4a439c8fd120012113aa39dfece22ed55f"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a7e2550c12ff27e5cd303101e86cf8eb4a439c8fd120012113aa39dfece22ed55f">LOGTYPE_CONSOLE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00128">logger.c:128</a></div></div>
<div class="ttc" id="eagi__proxy_8c_html_ac95651d79c608a3148973b5b1fc9e525"><div class="ttname"><a href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a></div><div class="ttdeci">char buf[BUFSIZE]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">eagi_proxy.c:66</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a2e9a2518b5029b96671aff6701bd5138"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a2e9a2518b5029b96671aff6701bd5138">AST_RWLIST_UNLOCK</a></div><div class="ttdeci">#define AST_RWLIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a read/write based list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00150">linkedlists.h:150</a></div></div>
<div class="ttc" id="group__main__options_html_gaa294d0efa6a89c1a3d162787cac4fff5"><div class="ttname"><a href="../../d6/dd6/group__main__options.html#gaa294d0efa6a89c1a3d162787cac4fff5">option_verbose</a></div><div class="ttdeci">int option_verbose</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc5/options_8c_source.html#l00067">options.c:67</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="logger_8c_html_a4dfd6bff5fa421d9abc89125ac5d7d8b"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a4dfd6bff5fa421d9abc89125ac5d7d8b">reload_logger</a></div><div class="ttdeci">static int reload_logger(int rotate, const char *altconf)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l01141">logger.c:1141</a></div></div>
<div class="ttc" id="syslog_8h_html_aa206928061ae3944f043883e2c6aa7d1"><div class="ttname"><a href="../../d7/d30/syslog_8h.html#aa206928061ae3944f043883e2c6aa7d1">ast_syslog_priority_from_loglevel</a></div><div class="ttdeci">int ast_syslog_priority_from_loglevel(int level)</div><div class="ttdoc">Maps an Asterisk log level (i.e. LOG_ERROR) to a syslog priority constant. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d2f/syslog_8c_source.html#l00162">syslog.c:162</a></div></div>
<div class="ttc" id="logger_8h_html_ad770f83c71e237e1f64163358ce4e13d"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a></div><div class="ttdeci">#define ast_verb(level,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00463">logger.h:463</a></div></div>
<div class="ttc" id="structlogchannel_html_a1bdcfae3209cbd96db35a2ae356fa15e"><div class="ttname"><a href="../../d6/d0c/structlogchannel.html#a1bdcfae3209cbd96db35a2ae356fa15e">logchannel::verbosity</a></div><div class="ttdeci">int verbosity</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00141">logger.c:141</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="logger_8c_html_a7e2550c12ff27e5cd303101e86cf8eb4affe678f5d32a5ad00d20d138627aa22f"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a7e2550c12ff27e5cd303101e86cf8eb4affe678f5d32a5ad00d20d138627aa22f">LOGTYPE_SYSLOG</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00126">logger.c:126</a></div></div>
<div class="ttc" id="logger_8c_html_a2b97f7299bdadbda12e69a1a31c9d28c"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a2b97f7299bdadbda12e69a1a31c9d28c">filesize_reload_needed</a></div><div class="ttdeci">static int filesize_reload_needed</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00084">logger.c:84</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a0a0fe104cc2cc36a43784f886f3ae7dc"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a0a0fe104cc2cc36a43784f886f3ae7dc">AST_RWLIST_RDLOCK</a></div><div class="ttdeci">#define AST_RWLIST_RDLOCK(head)</div><div class="ttdoc">Read locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00077">linkedlists.h:77</a></div></div>
<div class="ttc" id="manager_8h_html_a420f0f755e1c3378b45ca7f6f0669ffa"><div class="ttname"><a href="../../db/d45/manager_8h.html#a420f0f755e1c3378b45ca7f6f0669ffa">EVENT_FLAG_SYSTEM</a></div><div class="ttdeci">#define EVENT_FLAG_SYSTEM</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d45/manager_8h_source.html#l00071">manager.h:71</a></div></div>
<div class="ttc" id="structlogchannel_html_a05f465ec52733d0024e53f945e4cabe7"><div class="ttname"><a href="../../d6/d0c/structlogchannel.html#a05f465ec52733d0024e53f945e4cabe7">logchannel::list</a></div><div class="ttdeci">struct logchannel::@404 list</div></div>
<div class="ttc" id="structlogchannels_html"><div class="ttname"><a href="../../d2/df7/structlogchannels.html">logchannels</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00158">logger.c:158</a></div></div>
<div class="ttc" id="structlogchannel_html_aaeeb8d3574465a64ed10e4809ebd4cf6"><div class="ttname"><a href="../../d6/d0c/structlogchannel.html#aaeeb8d3574465a64ed10e4809ebd4cf6">logchannel::logmask</a></div><div class="ttdeci">unsigned int logmask</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00135">logger.c:135</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a944b82566722f2247aa35f1328402c98"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a944b82566722f2247aa35f1328402c98">AST_RWLIST_TRAVERSE</a></div><div class="ttdeci">#define AST_RWLIST_TRAVERSE</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00493">linkedlists.h:493</a></div></div>
<div class="ttc" id="structlogmsg_html_acf4d33ee4cff36f69b924471174dcb11"><div class="ttname"><a href="../../dc/dff/structlogmsg.html#acf4d33ee4cff36f69b924471174dcb11">logmsg::level</a></div><div class="ttdeci">int level</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00167">logger.c:167</a></div></div>
<div class="ttc" id="structlogformatter_html_ab68fb22d38da15af2f80458cc50e6d93"><div class="ttname"><a href="../../da/d44/structlogformatter.html#ab68fb22d38da15af2f80458cc50e6d93">logformatter::format_log</a></div><div class="ttdeci">int(*const format_log)(struct logchannel *channel, struct logmsg *msg, char *buf, size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00122">logger.c:122</a></div></div>
<div class="ttc" id="structlogchannel_html_af255398e3e9383752e6234829e3f6037"><div class="ttname"><a href="../../d6/d0c/structlogchannel.html#af255398e3e9383752e6234829e3f6037">logchannel::disabled</a></div><div class="ttdeci">int disabled</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00137">logger.c:137</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a0044f6572f50a89049b3b5272e51b0e7"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a0044f6572f50a89049b3b5272e51b0e7">AST_RWLIST_EMPTY</a></div><div class="ttdeci">#define AST_RWLIST_EMPTY</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00451">linkedlists.h:451</a></div></div>
<div class="ttc" id="main_2stdtime_2private_8h_html_ad65a8842cc674e3ddf69355898c0ecbf"><div class="ttname"><a href="../../d1/d6e/main_2stdtime_2private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a></div><div class="ttdeci">int errno</div></div>
<div class="ttc" id="structlogchannel_html_a6d3cd9e6800461f549a4fcabae1712c1"><div class="ttname"><a href="../../d6/d0c/structlogchannel.html#a6d3cd9e6800461f549a4fcabae1712c1">logchannel::type</a></div><div class="ttdeci">enum logtypes type</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00143">logger.c:143</a></div></div>
<div class="ttc" id="structlogchannel_html_acc2a21b64b19aeee05b382056974c1e9"><div class="ttname"><a href="../../d6/d0c/structlogchannel.html#acc2a21b64b19aeee05b382056974c1e9">logchannel::fileptr</a></div><div class="ttdeci">FILE * fileptr</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00145">logger.c:145</a></div></div>
<div class="ttc" id="structlogchannel_html_ab49244970ed5ca30989c2dab2129de34"><div class="ttname"><a href="../../d6/d0c/structlogchannel.html#ab49244970ed5ca30989c2dab2129de34">logchannel::filename</a></div><div class="ttdeci">char filename[PATH_MAX]</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00147">logger.c:147</a></div></div>
<div class="ttc" id="logger_8h_html_aa11fae1314f286da3d57ae8c07ec4bca"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aa11fae1314f286da3d57ae8c07ec4bca">__LOG_VERBOSE</a></div><div class="ttdeci">#define __LOG_VERBOSE</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00295">logger.h:295</a></div></div>
<div class="ttc" id="structlogmsg_html_a2f3ad6f31596c2474ce9d9c75b9bd66a"><div class="ttname"><a href="../../dc/dff/structlogmsg.html#a2f3ad6f31596c2474ce9d9c75b9bd66a">logmsg::message</a></div><div class="ttdeci">const ast_string_field message</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00178">logger.c:178</a></div></div>
<div class="ttc" id="structlogchannel_html"><div class="ttname"><a href="../../d6/d0c/structlogchannel.html">logchannel</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00131">logger.c:131</a></div></div>
<div class="ttc" id="manager_8h_html_a1ef0ee0044dbbeb4c3a5abc6c046b208"><div class="ttname"><a href="../../db/d45/manager_8h.html#a1ef0ee0044dbbeb4c3a5abc6c046b208">manager_event</a></div><div class="ttdeci">#define manager_event(category, event, contents,...)</div><div class="ttdoc">External routines may send asterisk manager events this way. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d45/manager_8h_source.html#l00248">manager.h:248</a></div></div>
<div class="ttc" id="logger_8c_html_a7e2550c12ff27e5cd303101e86cf8eb4a82620c2d182f4b50f3801669f747f3aa"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a7e2550c12ff27e5cd303101e86cf8eb4a82620c2d182f4b50f3801669f747f3aa">LOGTYPE_FILE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00127">logger.c:127</a></div></div>
<div class="ttc" id="structlogmsg_html_a635ef80281f5c34cbf8f5238cfe3c0c7"><div class="ttname"><a href="../../dc/dff/structlogmsg.html#a635ef80281f5c34cbf8f5238cfe3c0c7">logmsg::sublevel</a></div><div class="ttdeci">int sublevel</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00168">logger.c:168</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad207df7ad3889d2c1bf307f697a27796"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad207df7ad3889d2c1bf307f697a27796">&#9670;&nbsp;</a></span>logger_queue_init()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void logger_queue_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/d22/logger_8c_source.html#l01817">1817</a> of file <a class="el" href="../../d1/d22/logger_8c_source.html">logger.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/dc5/options_8c_source.html#l00159">ast_config_AST_LOG_DIR</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l02101">ast_log()</a>, <a class="el" href="../../d2/d9d/main_2config_8c_source.html#l03406">ast_unload_realtime()</a>, <a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../d1/d22/logger_8c.html#a5bfecba707f2f239f10b2543de3b5ef6">logfiles</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l01078">logger_queue_rt_start()</a>, <a class="el" href="../../db/db2/asterisk_8h_source.html#l00040">PATH_MAX</a>, and <a class="el" href="../../d1/d22/logger_8c_source.html#l00081">queue_log_name</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/d22/logger_8c_source.html#l01854">logger_queue_start()</a>.</p>
<div class="fragment"><div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;{</div><div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;   <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a66b6af9ceef39cb23b48501efe87219f">ast_unload_realtime</a>(<span class="stringliteral">&quot;queue_log&quot;</span>);</div><div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d1/d22/logger_8c.html#a5bfecba707f2f239f10b2543de3b5ef6">logfiles</a>.queue_log) {</div><div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;      <span class="keywordtype">char</span> qfname[<a class="code" href="../../db/db2/asterisk_8h.html#ae688d728e1acdfe5988c7db45d6f0166">PATH_MAX</a>];</div><div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;</div><div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d1/d22/logger_8c.html#a467c5f4dc23fa36d21aceafeb65cc147">logger_queue_rt_start</a>()) {</div><div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;         <span class="keywordflow">return</span>;</div><div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;      }</div><div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;</div><div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;      <span class="comment">/* Open the log file. */</span></div><div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;      snprintf(qfname, <span class="keyword">sizeof</span>(qfname), <span class="stringliteral">&quot;%s/%s&quot;</span>, <a class="code" href="../../dd/df2/paths_8h.html#aea5e16ca2517e2093fdfa0e7fd112f0f">ast_config_AST_LOG_DIR</a>,</div><div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;         <a class="code" href="../../d1/d22/logger_8c.html#a818fb8d162c63f2848d8bb57bffebd3e">queue_log_name</a>);</div><div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d1/d22/logger_8c.html#a59cef8b13e5fcb3e2ea61f66ea4bf0e5">qlog</a>) {</div><div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;         <span class="comment">/* Just in case it was already open. */</span></div><div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;         fclose(<a class="code" href="../../d1/d22/logger_8c.html#a59cef8b13e5fcb3e2ea61f66ea4bf0e5">qlog</a>);</div><div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;      }</div><div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;      <a class="code" href="../../d1/d22/logger_8c.html#a59cef8b13e5fcb3e2ea61f66ea4bf0e5">qlog</a> = fopen(qfname, <span class="stringliteral">&quot;a&quot;</span>);</div><div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="../../d1/d22/logger_8c.html#a59cef8b13e5fcb3e2ea61f66ea4bf0e5">qlog</a>) {</div><div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;         <a class="code" href="../../d1/d22/logger_8c.html#a93dd824dff97fe84941d6d71b7a3710e">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Unable to create queue log: %s\n&quot;</span>, strerror(<a class="code" href="../../d1/d6e/main_2stdtime_2private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a>));</div><div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;      }</div><div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;   }</div><div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;}</div><div class="ttc" id="include_2asterisk_2config_8h_html_a66b6af9ceef39cb23b48501efe87219f"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a66b6af9ceef39cb23b48501efe87219f">ast_unload_realtime</a></div><div class="ttdeci">int ast_unload_realtime(const char *family)</div><div class="ttdoc">Release any resources cached for a realtime family. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d9d/main_2config_8c_source.html#l03406">main/config.c:3406</a></div></div>
<div class="ttc" id="logger_8c_html_a59cef8b13e5fcb3e2ea61f66ea4bf0e5"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a59cef8b13e5fcb3e2ea61f66ea4bf0e5">qlog</a></div><div class="ttdeci">static FILE * qlog</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00193">logger.c:193</a></div></div>
<div class="ttc" id="logger_8c_html_a467c5f4dc23fa36d21aceafeb65cc147"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a467c5f4dc23fa36d21aceafeb65cc147">logger_queue_rt_start</a></div><div class="ttdeci">static int logger_queue_rt_start(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l01078">logger.c:1078</a></div></div>
<div class="ttc" id="logger_8c_html_a818fb8d162c63f2848d8bb57bffebd3e"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a818fb8d162c63f2848d8bb57bffebd3e">queue_log_name</a></div><div class="ttdeci">static char queue_log_name[256]</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00081">logger.c:81</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="main_2stdtime_2private_8h_html_ad65a8842cc674e3ddf69355898c0ecbf"><div class="ttname"><a href="../../d1/d6e/main_2stdtime_2private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a></div><div class="ttdeci">int errno</div></div>
<div class="ttc" id="paths_8h_html_aea5e16ca2517e2093fdfa0e7fd112f0f"><div class="ttname"><a href="../../dd/df2/paths_8h.html#aea5e16ca2517e2093fdfa0e7fd112f0f">ast_config_AST_LOG_DIR</a></div><div class="ttdeci">const char * ast_config_AST_LOG_DIR</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc5/options_8c_source.html#l00159">options.c:159</a></div></div>
<div class="ttc" id="logger_8c_html_a93dd824dff97fe84941d6d71b7a3710e"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a93dd824dff97fe84941d6d71b7a3710e">ast_log</a></div><div class="ttdeci">void ast_log(int level, const char *file, int line, const char *function, const char *fmt,...)</div><div class="ttdoc">Used for sending a log message This is the standard logger function. Probably the only way you will i...</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l02101">logger.c:2101</a></div></div>
<div class="ttc" id="asterisk_8h_html_ae688d728e1acdfe5988c7db45d6f0166"><div class="ttname"><a href="../../db/db2/asterisk_8h.html#ae688d728e1acdfe5988c7db45d6f0166">PATH_MAX</a></div><div class="ttdeci">#define PATH_MAX</div><div class="ttdef"><b>Definition:</b> <a href="../../db/db2/asterisk_8h_source.html#l00040">asterisk.h:40</a></div></div>
<div class="ttc" id="logger_8c_html_a5bfecba707f2f239f10b2543de3b5ef6"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a5bfecba707f2f239f10b2543de3b5ef6">logfiles</a></div><div class="ttdeci">static struct @403 logfiles</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="adbdf4673bb7f9db253690c90c5cd6afd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adbdf4673bb7f9db253690c90c5cd6afd">&#9670;&nbsp;</a></span>logger_queue_restart()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int logger_queue_restart </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>queue_rotate</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/d22/logger_8c_source.html#l01113">1113</a> of file <a class="el" href="../../d1/d22/logger_8c_source.html">logger.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/dc5/options_8c_source.html#l00159">ast_config_AST_LOG_DIR</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l02101">ast_log()</a>, <a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l01078">logger_queue_rt_start()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../db/db2/asterisk_8h_source.html#l00040">PATH_MAX</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00081">queue_log_name</a>, and <a class="el" href="../../d1/d22/logger_8c_source.html#l00974">rotate_file()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/d22/logger_8c_source.html#l01141">reload_logger()</a>.</p>
<div class="fragment"><div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;{</div><div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;   <span class="keywordtype">int</span> res = 0;</div><div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;   <span class="keywordtype">char</span> qfname[<a class="code" href="../../db/db2/asterisk_8h.html#ae688d728e1acdfe5988c7db45d6f0166">PATH_MAX</a>];</div><div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;</div><div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d1/d22/logger_8c.html#a467c5f4dc23fa36d21aceafeb65cc147">logger_queue_rt_start</a>()) {</div><div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;      <span class="keywordflow">return</span> res;</div><div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;   }</div><div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;</div><div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;   snprintf(qfname, <span class="keyword">sizeof</span>(qfname), <span class="stringliteral">&quot;%s/%s&quot;</span>, <a class="code" href="../../dd/df2/paths_8h.html#aea5e16ca2517e2093fdfa0e7fd112f0f">ast_config_AST_LOG_DIR</a>, <a class="code" href="../../d1/d22/logger_8c.html#a818fb8d162c63f2848d8bb57bffebd3e">queue_log_name</a>);</div><div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d1/d22/logger_8c.html#a59cef8b13e5fcb3e2ea61f66ea4bf0e5">qlog</a>) {</div><div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;      <span class="comment">/* Just in case it was still open. */</span></div><div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;      fclose(<a class="code" href="../../d1/d22/logger_8c.html#a59cef8b13e5fcb3e2ea61f66ea4bf0e5">qlog</a>);</div><div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;      <a class="code" href="../../d1/d22/logger_8c.html#a59cef8b13e5fcb3e2ea61f66ea4bf0e5">qlog</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;   }</div><div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;   <span class="keywordflow">if</span> (queue_rotate) {</div><div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;      <a class="code" href="../../d1/d22/logger_8c.html#aeeca350be69b461abe789c969ed420ab">rotate_file</a>(qfname);</div><div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;   }</div><div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;</div><div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;   <span class="comment">/* Open the log file. */</span></div><div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;   <a class="code" href="../../d1/d22/logger_8c.html#a59cef8b13e5fcb3e2ea61f66ea4bf0e5">qlog</a> = fopen(qfname, <span class="stringliteral">&quot;a&quot;</span>);</div><div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d1/d22/logger_8c.html#a59cef8b13e5fcb3e2ea61f66ea4bf0e5">qlog</a>) {</div><div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;      <a class="code" href="../../d1/d22/logger_8c.html#a93dd824dff97fe84941d6d71b7a3710e">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Unable to create queue log: %s\n&quot;</span>, strerror(<a class="code" href="../../d1/d6e/main_2stdtime_2private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a>));</div><div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;      res = -1;</div><div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;   }</div><div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;}</div><div class="ttc" id="logger_8c_html_aeeca350be69b461abe789c969ed420ab"><div class="ttname"><a href="../../d1/d22/logger_8c.html#aeeca350be69b461abe789c969ed420ab">rotate_file</a></div><div class="ttdeci">static int rotate_file(const char *filename)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00974">logger.c:974</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="logger_8c_html_a59cef8b13e5fcb3e2ea61f66ea4bf0e5"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a59cef8b13e5fcb3e2ea61f66ea4bf0e5">qlog</a></div><div class="ttdeci">static FILE * qlog</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00193">logger.c:193</a></div></div>
<div class="ttc" id="logger_8c_html_a467c5f4dc23fa36d21aceafeb65cc147"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a467c5f4dc23fa36d21aceafeb65cc147">logger_queue_rt_start</a></div><div class="ttdeci">static int logger_queue_rt_start(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l01078">logger.c:1078</a></div></div>
<div class="ttc" id="logger_8c_html_a818fb8d162c63f2848d8bb57bffebd3e"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a818fb8d162c63f2848d8bb57bffebd3e">queue_log_name</a></div><div class="ttdeci">static char queue_log_name[256]</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00081">logger.c:81</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="main_2stdtime_2private_8h_html_ad65a8842cc674e3ddf69355898c0ecbf"><div class="ttname"><a href="../../d1/d6e/main_2stdtime_2private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a></div><div class="ttdeci">int errno</div></div>
<div class="ttc" id="paths_8h_html_aea5e16ca2517e2093fdfa0e7fd112f0f"><div class="ttname"><a href="../../dd/df2/paths_8h.html#aea5e16ca2517e2093fdfa0e7fd112f0f">ast_config_AST_LOG_DIR</a></div><div class="ttdeci">const char * ast_config_AST_LOG_DIR</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc5/options_8c_source.html#l00159">options.c:159</a></div></div>
<div class="ttc" id="logger_8c_html_a93dd824dff97fe84941d6d71b7a3710e"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a93dd824dff97fe84941d6d71b7a3710e">ast_log</a></div><div class="ttdeci">void ast_log(int level, const char *file, int line, const char *function, const char *fmt,...)</div><div class="ttdoc">Used for sending a log message This is the standard logger function. Probably the only way you will i...</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l02101">logger.c:2101</a></div></div>
<div class="ttc" id="asterisk_8h_html_ae688d728e1acdfe5988c7db45d6f0166"><div class="ttname"><a href="../../db/db2/asterisk_8h.html#ae688d728e1acdfe5988c7db45d6f0166">PATH_MAX</a></div><div class="ttdeci">#define PATH_MAX</div><div class="ttdef"><b>Definition:</b> <a href="../../db/db2/asterisk_8h_source.html#l00040">asterisk.h:40</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a467c5f4dc23fa36d21aceafeb65cc147"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a467c5f4dc23fa36d21aceafeb65cc147">&#9670;&nbsp;</a></span>logger_queue_rt_start()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int logger_queue_rt_start </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/d22/logger_8c_source.html#l01078">1078</a> of file <a class="el" href="../../d1/d22/logger_8c_source.html">logger.c</a>.</p>

<p class="reference">References <a class="el" href="../../d2/d9d/main_2config_8c_source.html#l03363">ast_check_realtime()</a>, <a class="el" href="../../d2/d9d/main_2config_8c_source.html#l03382">ast_realtime_require_field()</a>, <a class="el" href="../../d1/d22/logger_8c.html#a5bfecba707f2f239f10b2543de3b5ef6">logfiles</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00076">RQ_CHAR</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00079">RQ_DATETIME</a>, and <a class="el" href="../../d4/dd1/compiler_8h_source.html#l00087">SENTINEL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/d22/logger_8c_source.html#l01817">logger_queue_init()</a>, and <a class="el" href="../../d1/d22/logger_8c_source.html#l01113">logger_queue_restart()</a>.</p>
<div class="fragment"><div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;{</div><div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a910f835a41772603d33e200c956549ff">ast_check_realtime</a>(<span class="stringliteral">&quot;queue_log&quot;</span>)) {</div><div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a403ec8b49645ea204e82cb72bb8cf9f4">ast_realtime_require_field</a>(<span class="stringliteral">&quot;queue_log&quot;</span>,</div><div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;         <span class="stringliteral">&quot;time&quot;</span>, <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#abbca034b0a98715c687b808347af82a3acf1d0ae3a1d0e3ae12a1f05f485f07c9">RQ_DATETIME</a>, 26,</div><div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;         <span class="stringliteral">&quot;data1&quot;</span>, <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#abbca034b0a98715c687b808347af82a3a75759a4654f061f8e7d6bd1ec7a3b4bb">RQ_CHAR</a>, 20,</div><div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;         <span class="stringliteral">&quot;data2&quot;</span>, <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#abbca034b0a98715c687b808347af82a3a75759a4654f061f8e7d6bd1ec7a3b4bb">RQ_CHAR</a>, 20,</div><div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;         <span class="stringliteral">&quot;data3&quot;</span>, <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#abbca034b0a98715c687b808347af82a3a75759a4654f061f8e7d6bd1ec7a3b4bb">RQ_CHAR</a>, 20,</div><div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;         <span class="stringliteral">&quot;data4&quot;</span>, <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#abbca034b0a98715c687b808347af82a3a75759a4654f061f8e7d6bd1ec7a3b4bb">RQ_CHAR</a>, 20,</div><div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;         <span class="stringliteral">&quot;data5&quot;</span>, <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#abbca034b0a98715c687b808347af82a3a75759a4654f061f8e7d6bd1ec7a3b4bb">RQ_CHAR</a>, 20,</div><div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;         <a class="code" href="../../d4/dd1/compiler_8h.html#af2af475b85aef66019c417d8ded1c435">SENTINEL</a>)) {</div><div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;         <a class="code" href="../../d1/d22/logger_8c.html#a5bfecba707f2f239f10b2543de3b5ef6">logfiles</a>.queue_adaptive_realtime = 1;</div><div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;         <a class="code" href="../../d1/d22/logger_8c.html#a5bfecba707f2f239f10b2543de3b5ef6">logfiles</a>.queue_adaptive_realtime = 0;</div><div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;      }</div><div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;</div><div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="../../d1/d22/logger_8c.html#a5bfecba707f2f239f10b2543de3b5ef6">logfiles</a>.queue_log_to_file) {</div><div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;         <span class="comment">/* Don&#39;t open the log file. */</span></div><div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;         <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;      }</div><div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;   }</div><div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;}</div><div class="ttc" id="include_2asterisk_2config_8h_html_a910f835a41772603d33e200c956549ff"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a910f835a41772603d33e200c956549ff">ast_check_realtime</a></div><div class="ttdeci">int ast_check_realtime(const char *family)</div><div class="ttdoc">Check if realtime engine is configured for family. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d9d/main_2config_8c_source.html#l03363">main/config.c:3363</a></div></div>
<div class="ttc" id="compiler_8h_html_af2af475b85aef66019c417d8ded1c435"><div class="ttname"><a href="../../d4/dd1/compiler_8h.html#af2af475b85aef66019c417d8ded1c435">SENTINEL</a></div><div class="ttdeci">#define SENTINEL</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dd1/compiler_8h_source.html#l00087">compiler.h:87</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a403ec8b49645ea204e82cb72bb8cf9f4"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a403ec8b49645ea204e82cb72bb8cf9f4">ast_realtime_require_field</a></div><div class="ttdeci">int ast_realtime_require_field(const char *family,...) attribute_sentinel</div><div class="ttdoc">Inform realtime what fields that may be stored. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d9d/main_2config_8c_source.html#l03382">main/config.c:3382</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_abbca034b0a98715c687b808347af82a3acf1d0ae3a1d0e3ae12a1f05f485f07c9"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#abbca034b0a98715c687b808347af82a3acf1d0ae3a1d0e3ae12a1f05f485f07c9">RQ_DATETIME</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00079">include/asterisk/config.h:79</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_abbca034b0a98715c687b808347af82a3a75759a4654f061f8e7d6bd1ec7a3b4bb"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#abbca034b0a98715c687b808347af82a3a75759a4654f061f8e7d6bd1ec7a3b4bb">RQ_CHAR</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00076">include/asterisk/config.h:76</a></div></div>
<div class="ttc" id="logger_8c_html_a5bfecba707f2f239f10b2543de3b5ef6"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a5bfecba707f2f239f10b2543de3b5ef6">logfiles</a></div><div class="ttdeci">static struct @403 logfiles</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a29011844a44a126bacfb81e3bddabaad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a29011844a44a126bacfb81e3bddabaad">&#9670;&nbsp;</a></span>logger_queue_start()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void logger_queue_start </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Start the <a class="el" href="../../d1/d22/logger_8c.html#a9f7a6acbec3680a06af27ae561772915">ast_queue_log()</a> logger. </p>
<dl class="section note"><dt>Note</dt><dd>Called when the system is fully booted after startup so preloaded realtime modules can get up.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>Nothing </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d1/d22/logger_8c_source.html#l01854">1854</a> of file <a class="el" href="../../d1/d22/logger_8c_source.html">logger.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d60/utils_8h_source.html#l00695">ast_assert</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00894">ast_queue_log()</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00150">AST_RWLIST_UNLOCK</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00051">AST_RWLIST_WRLOCK</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00087">logger_initialized</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l01817">logger_queue_init()</a>, and <a class="el" href="../../d1/d22/logger_8c_source.html#l00086">queuelog_init</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/d22/logger_8c_source.html#l00894">ast_queue_log()</a>, and <a class="el" href="../../d5/d03/asterisk_8c_source.html#l03947">asterisk_daemon()</a>.</p>
<div class="fragment"><div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;{</div><div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;   <span class="comment">/* Must not be called before the logger is initialized. */</span></div><div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a>(<a class="code" href="../../d1/d22/logger_8c.html#a5f80b9400a0cdb3ac3a54a4da44af9b2">logger_initialized</a>);</div><div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;</div><div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a2d0cf4182bade9f773fb16ff12abe595">AST_RWLIST_WRLOCK</a>(&amp;<a class="code" href="../../d2/df7/structlogchannels.html">logchannels</a>);</div><div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d1/d22/logger_8c.html#a2069553a11b09d1186e5b61438b1991d">queuelog_init</a>) {</div><div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;      <a class="code" href="../../d1/d22/logger_8c.html#ad207df7ad3889d2c1bf307f697a27796">logger_queue_init</a>();</div><div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;      <a class="code" href="../../d1/d22/logger_8c.html#a2069553a11b09d1186e5b61438b1991d">queuelog_init</a> = 1;</div><div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;      <a class="code" href="../../df/d90/linkedlists_8h.html#a2e9a2518b5029b96671aff6701bd5138">AST_RWLIST_UNLOCK</a>(&amp;<a class="code" href="../../d2/df7/structlogchannels.html">logchannels</a>);</div><div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;      <a class="code" href="../../d1/d22/logger_8c.html#a9f7a6acbec3680a06af27ae561772915">ast_queue_log</a>(<span class="stringliteral">&quot;NONE&quot;</span>, <span class="stringliteral">&quot;NONE&quot;</span>, <span class="stringliteral">&quot;NONE&quot;</span>, <span class="stringliteral">&quot;QUEUESTART&quot;</span>, <span class="stringliteral">&quot;%s&quot;</span>, <span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;      <a class="code" href="../../df/d90/linkedlists_8h.html#a2e9a2518b5029b96671aff6701bd5138">AST_RWLIST_UNLOCK</a>(&amp;<a class="code" href="../../d2/df7/structlogchannels.html">logchannels</a>);</div><div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;   }</div><div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;}</div><div class="ttc" id="logger_8c_html_a2069553a11b09d1186e5b61438b1991d"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a2069553a11b09d1186e5b61438b1991d">queuelog_init</a></div><div class="ttdeci">static int queuelog_init</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00086">logger.c:86</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a2d0cf4182bade9f773fb16ff12abe595"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a2d0cf4182bade9f773fb16ff12abe595">AST_RWLIST_WRLOCK</a></div><div class="ttdeci">#define AST_RWLIST_WRLOCK(head)</div><div class="ttdoc">Write locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00051">linkedlists.h:51</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a2e9a2518b5029b96671aff6701bd5138"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a2e9a2518b5029b96671aff6701bd5138">AST_RWLIST_UNLOCK</a></div><div class="ttdeci">#define AST_RWLIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a read/write based list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00150">linkedlists.h:150</a></div></div>
<div class="ttc" id="utils_8h_html_a24374da24af1931d8a7ccde5b352bb2c"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a></div><div class="ttdeci">#define ast_assert(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00695">utils.h:695</a></div></div>
<div class="ttc" id="logger_8c_html_a9f7a6acbec3680a06af27ae561772915"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a9f7a6acbec3680a06af27ae561772915">ast_queue_log</a></div><div class="ttdeci">void ast_queue_log(const char *queuename, const char *callid, const char *agent, const char *event, const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00894">logger.c:894</a></div></div>
<div class="ttc" id="logger_8c_html_a5f80b9400a0cdb3ac3a54a4da44af9b2"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a5f80b9400a0cdb3ac3a54a4da44af9b2">logger_initialized</a></div><div class="ttdeci">static int logger_initialized</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00087">logger.c:87</a></div></div>
<div class="ttc" id="structlogchannels_html"><div class="ttname"><a href="../../d2/df7/structlogchannels.html">logchannels</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00158">logger.c:158</a></div></div>
<div class="ttc" id="logger_8c_html_ad207df7ad3889d2c1bf307f697a27796"><div class="ttname"><a href="../../d1/d22/logger_8c.html#ad207df7ad3889d2c1bf307f697a27796">logger_queue_init</a></div><div class="ttdeci">static void logger_queue_init(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l01817">logger.c:1817</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a82031c6f0224e2f227005cc34b833243"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a82031c6f0224e2f227005cc34b833243">&#9670;&nbsp;</a></span>logger_register_level()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int logger_register_level </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/d22/logger_8c_source.html#l02464">2464</a> of file <a class="el" href="../../d1/d22/logger_8c_source.html">logger.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/dfe/isdn__lib_8c_source.html#l00042">ARRAY_LEN</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l02101">ast_log()</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00150">AST_RWLIST_UNLOCK</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00243">ast_strdup</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l13058">available()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, and <a class="el" href="../../d1/d22/logger_8c_source.html#l02360">update_logchannels()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/d22/logger_8c_source.html#l02503">ast_logger_register_level()</a>, and <a class="el" href="../../d1/d22/logger_8c_source.html#l00710">init_logger_chain()</a>.</p>
<div class="fragment"><div class="line"><a name="l02465"></a><span class="lineno"> 2465</span>&#160;{</div><div class="line"><a name="l02466"></a><span class="lineno"> 2466</span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> level;</div><div class="line"><a name="l02467"></a><span class="lineno"> 2467</span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../d1/d97/chan__dahdi_8c.html#a4ee142675554d362c585267c1290d5b3">available</a> = 0;</div><div class="line"><a name="l02468"></a><span class="lineno"> 2468</span>&#160;</div><div class="line"><a name="l02469"></a><span class="lineno"> 2469</span>&#160;   <span class="keywordflow">for</span> (level = 0; level &lt; <a class="code" href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a>(<a class="code" href="../../d1/d22/logger_8c.html#a2ae9b20e8a0ca3f97cf9f8927e0fdb7f">levels</a>); level++) {</div><div class="line"><a name="l02470"></a><span class="lineno"> 2470</span>&#160;      <span class="keywordflow">if</span> ((level &gt;= 16) &amp;&amp; !available &amp;&amp; !<a class="code" href="../../d1/d22/logger_8c.html#a2ae9b20e8a0ca3f97cf9f8927e0fdb7f">levels</a>[level]) {</div><div class="line"><a name="l02471"></a><span class="lineno"> 2471</span>&#160;         available = level;</div><div class="line"><a name="l02472"></a><span class="lineno"> 2472</span>&#160;         <span class="keywordflow">continue</span>;</div><div class="line"><a name="l02473"></a><span class="lineno"> 2473</span>&#160;      }</div><div class="line"><a name="l02474"></a><span class="lineno"> 2474</span>&#160;</div><div class="line"><a name="l02475"></a><span class="lineno"> 2475</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d1/d22/logger_8c.html#a2ae9b20e8a0ca3f97cf9f8927e0fdb7f">levels</a>[level] &amp;&amp; !strcasecmp(<a class="code" href="../../d1/d22/logger_8c.html#a2ae9b20e8a0ca3f97cf9f8927e0fdb7f">levels</a>[level], <a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>)) {</div><div class="line"><a name="l02476"></a><span class="lineno"> 2476</span>&#160;         <a class="code" href="../../d1/d22/logger_8c.html#a93dd824dff97fe84941d6d71b7a3710e">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>,</div><div class="line"><a name="l02477"></a><span class="lineno"> 2477</span>&#160;            <span class="stringliteral">&quot;Unable to register dynamic logger level &#39;%s&#39;: a standard logger level uses that name.\n&quot;</span>,</div><div class="line"><a name="l02478"></a><span class="lineno"> 2478</span>&#160;            <a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>);</div><div class="line"><a name="l02479"></a><span class="lineno"> 2479</span>&#160;         <a class="code" href="../../df/d90/linkedlists_8h.html#a2e9a2518b5029b96671aff6701bd5138">AST_RWLIST_UNLOCK</a>(&amp;<a class="code" href="../../d2/df7/structlogchannels.html">logchannels</a>);</div><div class="line"><a name="l02480"></a><span class="lineno"> 2480</span>&#160;</div><div class="line"><a name="l02481"></a><span class="lineno"> 2481</span>&#160;         <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l02482"></a><span class="lineno"> 2482</span>&#160;      }</div><div class="line"><a name="l02483"></a><span class="lineno"> 2483</span>&#160;   }</div><div class="line"><a name="l02484"></a><span class="lineno"> 2484</span>&#160;</div><div class="line"><a name="l02485"></a><span class="lineno"> 2485</span>&#160;   <span class="keywordflow">if</span> (!available) {</div><div class="line"><a name="l02486"></a><span class="lineno"> 2486</span>&#160;      <a class="code" href="../../d1/d22/logger_8c.html#a93dd824dff97fe84941d6d71b7a3710e">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>,</div><div class="line"><a name="l02487"></a><span class="lineno"> 2487</span>&#160;         <span class="stringliteral">&quot;Unable to register dynamic logger level &#39;%s&#39;; maximum number of levels registered.\n&quot;</span>,</div><div class="line"><a name="l02488"></a><span class="lineno"> 2488</span>&#160;         <a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>);</div><div class="line"><a name="l02489"></a><span class="lineno"> 2489</span>&#160;      <a class="code" href="../../df/d90/linkedlists_8h.html#a2e9a2518b5029b96671aff6701bd5138">AST_RWLIST_UNLOCK</a>(&amp;<a class="code" href="../../d2/df7/structlogchannels.html">logchannels</a>);</div><div class="line"><a name="l02490"></a><span class="lineno"> 2490</span>&#160;</div><div class="line"><a name="l02491"></a><span class="lineno"> 2491</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l02492"></a><span class="lineno"> 2492</span>&#160;   }</div><div class="line"><a name="l02493"></a><span class="lineno"> 2493</span>&#160;</div><div class="line"><a name="l02494"></a><span class="lineno"> 2494</span>&#160;   <a class="code" href="../../d1/d22/logger_8c.html#a2ae9b20e8a0ca3f97cf9f8927e0fdb7f">levels</a>[<a class="code" href="../../d1/d97/chan__dahdi_8c.html#a4ee142675554d362c585267c1290d5b3">available</a>] = <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>);</div><div class="line"><a name="l02495"></a><span class="lineno"> 2495</span>&#160;</div><div class="line"><a name="l02496"></a><span class="lineno"> 2496</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;Registered dynamic logger level &#39;%s&#39; with index %u.\n&quot;</span>, <a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, available);</div><div class="line"><a name="l02497"></a><span class="lineno"> 2497</span>&#160;</div><div class="line"><a name="l02498"></a><span class="lineno"> 2498</span>&#160;   <a class="code" href="../../d1/d22/logger_8c.html#a5a72f6b0d691624a37aabc6268c7bc3f">update_logchannels</a>();</div><div class="line"><a name="l02499"></a><span class="lineno"> 2499</span>&#160;</div><div class="line"><a name="l02500"></a><span class="lineno"> 2500</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d1/d97/chan__dahdi_8c.html#a4ee142675554d362c585267c1290d5b3">available</a>;</div><div class="line"><a name="l02501"></a><span class="lineno"> 2501</span>&#160;}</div><div class="ttc" id="isdn__lib_8c_html_ab9129b977a587b50ea801daac75e178f"><div class="ttname"><a href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a></div><div class="ttdeci">#define ARRAY_LEN(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dfe/isdn__lib_8c_source.html#l00042">isdn_lib.c:42</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a2e9a2518b5029b96671aff6701bd5138"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a2e9a2518b5029b96671aff6701bd5138">AST_RWLIST_UNLOCK</a></div><div class="ttdeci">#define AST_RWLIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a read/write based list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00150">linkedlists.h:150</a></div></div>
<div class="ttc" id="logger_8c_html_a2ae9b20e8a0ca3f97cf9f8927e0fdb7f"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a2ae9b20e8a0ca3f97cf9f8927e0fdb7f">levels</a></div><div class="ttdeci">static char * levels[NUMLOGLEVELS]</div><div class="ttdoc">Logging channels used in the Asterisk logging system. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00206">logger.c:206</a></div></div>
<div class="ttc" id="astmm_8h_html_ab263849d03fb892847be4986db759737"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a></div><div class="ttdeci">#define ast_strdup(str)</div><div class="ttdoc">A wrapper for strdup() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00243">astmm.h:243</a></div></div>
<div class="ttc" id="logger_8c_html_a5a72f6b0d691624a37aabc6268c7bc3f"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a5a72f6b0d691624a37aabc6268c7bc3f">update_logchannels</a></div><div class="ttdeci">static void update_logchannels(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l02360">logger.c:2360</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="structlogchannels_html"><div class="ttname"><a href="../../d2/df7/structlogchannels.html">logchannels</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00158">logger.c:158</a></div></div>
<div class="ttc" id="cdr__mysql_8c_html_a0980a105ccb863d8008eb6201a51da52"><div class="ttname"><a href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a></div><div class="ttdeci">static const char name[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/cdr__mysql_8c_source.html#l00074">cdr_mysql.c:74</a></div></div>
<div class="ttc" id="chan__dahdi_8c_html_a4ee142675554d362c585267c1290d5b3"><div class="ttname"><a href="../../d1/d97/chan__dahdi_8c.html#a4ee142675554d362c585267c1290d5b3">available</a></div><div class="ttdeci">static int available(struct dahdi_pvt **pvt, int is_specific_channel)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d97/chan__dahdi_8c_source.html#l13058">chan_dahdi.c:13058</a></div></div>
<div class="ttc" id="logger_8c_html_a93dd824dff97fe84941d6d71b7a3710e"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a93dd824dff97fe84941d6d71b7a3710e">ast_log</a></div><div class="ttdeci">void ast_log(int level, const char *file, int line, const char *function, const char *fmt,...)</div><div class="ttdoc">Used for sending a log message This is the standard logger function. Probably the only way you will i...</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l02101">logger.c:2101</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac4f7d8da66207fdb53d5f5ecb171032e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac4f7d8da66207fdb53d5f5ecb171032e">&#9670;&nbsp;</a></span>logger_thread()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void* logger_thread </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Actual logging thread. </p>

<p class="definition">Definition at line <a class="el" href="../../d1/d22/logger_8c_source.html#l01761">1761</a> of file <a class="el" href="../../d1/d22/logger_8c_source.html">logger.c</a>.</p>

<p class="reference">References <a class="el" href="../../d1/d8c/logger_8h_source.html#l00273">__LOG_WARNING</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00203">ast_cond_wait</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00449">AST_LIST_EMPTY</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00420">AST_LIST_FIRST</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00680">AST_LIST_HEAD_INIT_NOLOCK</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00730">AST_LIST_INSERT_TAIL</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00039">AST_LIST_LOCK</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00438">AST_LIST_NEXT</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00139">AST_LIST_UNLOCK</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l01746">format_log_message()</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00096">high_water_alert</a>, <a class="el" href="../../dc/dff/structlogmsg.html#a4cc84080b1cd46fd2e80be439884a1ba">logmsg::list</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00188">logmsgs::lock</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00095">logger_messages_discarded</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l01580">logger_print_normal()</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00091">logger_queue_size</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00182">logmsg_free()</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00179">logmsg::next</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/d22/logger_8c_source.html#l01870">init_logger()</a>.</p>
<div class="fragment"><div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;{</div><div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/dff/structlogmsg.html">logmsg</a> *<a class="code" href="../../dc/dff/structlogmsg.html#a6e3efb045d98a2c5c40e43d2980b2e55">next</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, *msg = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;</div><div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;   <span class="keywordflow">for</span> (;;) {</div><div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;      <span class="comment">/* We lock the message list, and see if any message exists... if not we wait on the condition to be signalled */</span></div><div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;      <a class="code" href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a>(&amp;<a class="code" href="../../d2/dc4/structlogmsgs.html">logmsgs</a>);</div><div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../df/d90/linkedlists_8h.html#a4a1884cde93e53bef32ca85c194a1d05">AST_LIST_EMPTY</a>(&amp;<a class="code" href="../../d2/dc4/structlogmsgs.html">logmsgs</a>)) {</div><div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;         <span class="keywordflow">if</span> (<a class="code" href="../../d1/d22/logger_8c.html#a38ac6d8ec7483171f8a13fed360b6ced">close_logger_thread</a>) {</div><div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;            <a class="code" href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a>(&amp;<a class="code" href="../../d2/dc4/structlogmsgs.html">logmsgs</a>);</div><div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;         } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;            <a class="code" href="../../dd/d42/lock_8h.html#a36233c5520173c095bf732a788356aee">ast_cond_wait</a>(&amp;<a class="code" href="../../d1/d22/logger_8c.html#abb118951a9d7c498a6e28454e7eb0bd5">logcond</a>, &amp;<a class="code" href="../../d2/dc4/structlogmsgs.html">logmsgs</a>.<a class="code" href="../../d2/dc4/structlogmsgs.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>);</div><div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;         }</div><div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;      }</div><div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;</div><div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d1/d22/logger_8c.html#a80e170193fe4d362e68c72e8deff70b4">high_water_alert</a>) {</div><div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;         msg = <a class="code" href="../../d1/d22/logger_8c.html#a335a8d7cbefb2893f78fb7af2a80ab97">format_log_message</a>(<a class="code" href="../../d1/d8c/logger_8h.html#abdaf681117cfed901932cc0d38f1447a">__LOG_WARNING</a>, 0, <span class="stringliteral">&quot;logger&quot;</span>, 0, <span class="stringliteral">&quot;***&quot;</span>, 0,</div><div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;            <span class="stringliteral">&quot;Logging resumed.  %d message%s discarded.\n&quot;</span>,</div><div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;            <a class="code" href="../../d1/d22/logger_8c.html#aed658d1269709b76f44f0486bcac12e3">logger_messages_discarded</a>, <a class="code" href="../../d1/d22/logger_8c.html#aed658d1269709b76f44f0486bcac12e3">logger_messages_discarded</a> == 1 ? <span class="stringliteral">&quot;&quot;</span> : <span class="stringliteral">&quot;s&quot;</span>);</div><div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;         <span class="keywordflow">if</span> (msg) {</div><div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;            <a class="code" href="../../df/d90/linkedlists_8h.html#a4d258b4525e63c435d7de579d3f46960">AST_LIST_INSERT_TAIL</a>(&amp;<a class="code" href="../../d2/dc4/structlogmsgs.html">logmsgs</a>, msg, <a class="code" href="../../dc/dff/structlogmsg.html#a4cc84080b1cd46fd2e80be439884a1ba">list</a>);</div><div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;         }</div><div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;         <a class="code" href="../../d1/d22/logger_8c.html#a80e170193fe4d362e68c72e8deff70b4">high_water_alert</a> = 0;</div><div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;         <a class="code" href="../../d1/d22/logger_8c.html#aed658d1269709b76f44f0486bcac12e3">logger_messages_discarded</a> = 0;</div><div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;      }</div><div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;</div><div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;      next = <a class="code" href="../../df/d90/linkedlists_8h.html#adf1959c5c03a3a706da97ad2f49617e5">AST_LIST_FIRST</a>(&amp;<a class="code" href="../../d2/dc4/structlogmsgs.html">logmsgs</a>);</div><div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;      <a class="code" href="../../df/d90/linkedlists_8h.html#a0d1f922e093ac18824a7863fe3f5fa27">AST_LIST_HEAD_INIT_NOLOCK</a>(&amp;<a class="code" href="../../d2/dc4/structlogmsgs.html">logmsgs</a>);</div><div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;      <a class="code" href="../../d1/d22/logger_8c.html#a745a9328dff87c8a1a297f71cebd4ba6">logger_queue_size</a> = 0;</div><div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;      <a class="code" href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a>(&amp;<a class="code" href="../../d2/dc4/structlogmsgs.html">logmsgs</a>);</div><div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;</div><div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;      <span class="comment">/* Otherwise go through and process each message in the order added */</span></div><div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;      <span class="keywordflow">while</span> ((msg = next)) {</div><div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;         <span class="comment">/* Get the next entry now so that we can free our current structure later */</span></div><div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;         next = <a class="code" href="../../df/d90/linkedlists_8h.html#ae234825bcb65b88c0554b995ff1b8ba6">AST_LIST_NEXT</a>(msg, <a class="code" href="../../dc/dff/structlogmsg.html#a4cc84080b1cd46fd2e80be439884a1ba">list</a>);</div><div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;</div><div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;         <span class="comment">/* Depending on the type, send it to the proper function */</span></div><div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;         <a class="code" href="../../d1/d22/logger_8c.html#ac2c5290c43f91e7f6bdac350c32d29ae">logger_print_normal</a>(msg);</div><div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;</div><div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;         <span class="comment">/* Free the data since we are done */</span></div><div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;         <a class="code" href="../../d1/d22/logger_8c.html#afc616cecf77dbae42bf28c09a8398ddc">logmsg_free</a>(msg);</div><div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;      }</div><div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;   }</div><div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;</div><div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;}</div><div class="ttc" id="logger_8c_html_ac2c5290c43f91e7f6bdac350c32d29ae"><div class="ttname"><a href="../../d1/d22/logger_8c.html#ac2c5290c43f91e7f6bdac350c32d29ae">logger_print_normal</a></div><div class="ttdeci">static void logger_print_normal(struct logmsg *logmsg)</div><div class="ttdoc">Print a normal log message to the channels. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l01580">logger.c:1580</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a9140a4e4d781264fa9469c52b1adae40"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a></div><div class="ttdeci">#define AST_LIST_LOCK(head)</div><div class="ttdoc">Locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00039">linkedlists.h:39</a></div></div>
<div class="ttc" id="linkedlists_8h_html_adf1959c5c03a3a706da97ad2f49617e5"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#adf1959c5c03a3a706da97ad2f49617e5">AST_LIST_FIRST</a></div><div class="ttdeci">#define AST_LIST_FIRST(head)</div><div class="ttdoc">Returns the first entry contained in a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00420">linkedlists.h:420</a></div></div>
<div class="ttc" id="logger_8c_html_afc616cecf77dbae42bf28c09a8398ddc"><div class="ttname"><a href="../../d1/d22/logger_8c.html#afc616cecf77dbae42bf28c09a8398ddc">logmsg_free</a></div><div class="ttdeci">static void logmsg_free(struct logmsg *msg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00182">logger.c:182</a></div></div>
<div class="ttc" id="linkedlists_8h_html_ab48cb9e1e612dd486b747ba1c5d68d01"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a></div><div class="ttdeci">#define AST_LIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00139">linkedlists.h:139</a></div></div>
<div class="ttc" id="linkedlists_8h_html_ae234825bcb65b88c0554b995ff1b8ba6"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#ae234825bcb65b88c0554b995ff1b8ba6">AST_LIST_NEXT</a></div><div class="ttdeci">#define AST_LIST_NEXT(elm, field)</div><div class="ttdoc">Returns the next entry in the list after the given entry. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00438">linkedlists.h:438</a></div></div>
<div class="ttc" id="structlogmsg_html_a6e3efb045d98a2c5c40e43d2980b2e55"><div class="ttname"><a href="../../dc/dff/structlogmsg.html#a6e3efb045d98a2c5c40e43d2980b2e55">logmsg::next</a></div><div class="ttdeci">struct logmsg * next</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00179">logger.c:179</a></div></div>
<div class="ttc" id="lock_8h_html_a36233c5520173c095bf732a788356aee"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a36233c5520173c095bf732a788356aee">ast_cond_wait</a></div><div class="ttdeci">#define ast_cond_wait(cond, mutex)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00203">lock.h:203</a></div></div>
<div class="ttc" id="logger_8h_html_abdaf681117cfed901932cc0d38f1447a"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#abdaf681117cfed901932cc0d38f1447a">__LOG_WARNING</a></div><div class="ttdeci">#define __LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00273">logger.h:273</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a4a1884cde93e53bef32ca85c194a1d05"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a4a1884cde93e53bef32ca85c194a1d05">AST_LIST_EMPTY</a></div><div class="ttdeci">#define AST_LIST_EMPTY(head)</div><div class="ttdoc">Checks whether the specified list contains any entries. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00449">linkedlists.h:449</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structlogmsg_html_a4cc84080b1cd46fd2e80be439884a1ba"><div class="ttname"><a href="../../dc/dff/structlogmsg.html#a4cc84080b1cd46fd2e80be439884a1ba">logmsg::list</a></div><div class="ttdeci">struct logmsg::@405 list</div></div>
<div class="ttc" id="logger_8c_html_a335a8d7cbefb2893f78fb7af2a80ab97"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a335a8d7cbefb2893f78fb7af2a80ab97">format_log_message</a></div><div class="ttdeci">static struct logmsg * format_log_message(int level, int sublevel, const char *file, int line, const char *function, ast_callid callid, const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l01746">logger.c:1746</a></div></div>
<div class="ttc" id="structlogmsg_html"><div class="ttname"><a href="../../dc/dff/structlogmsg.html">logmsg</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00165">logger.c:165</a></div></div>
<div class="ttc" id="logger_8c_html_a80e170193fe4d362e68c72e8deff70b4"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a80e170193fe4d362e68c72e8deff70b4">high_water_alert</a></div><div class="ttdeci">static unsigned int high_water_alert</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00096">logger.c:96</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a4d258b4525e63c435d7de579d3f46960"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a4d258b4525e63c435d7de579d3f46960">AST_LIST_INSERT_TAIL</a></div><div class="ttdeci">#define AST_LIST_INSERT_TAIL(head, elm, field)</div><div class="ttdoc">Appends a list entry to the tail of a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00730">linkedlists.h:730</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a0d1f922e093ac18824a7863fe3f5fa27"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a0d1f922e093ac18824a7863fe3f5fa27">AST_LIST_HEAD_INIT_NOLOCK</a></div><div class="ttdeci">#define AST_LIST_HEAD_INIT_NOLOCK(head)</div><div class="ttdoc">Initializes a list head structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00680">linkedlists.h:680</a></div></div>
<div class="ttc" id="structlogmsgs_html"><div class="ttname"><a href="../../d2/dc4/structlogmsgs.html">logmsgs</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00188">logger.c:188</a></div></div>
<div class="ttc" id="logger_8c_html_a745a9328dff87c8a1a297f71cebd4ba6"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a745a9328dff87c8a1a297f71cebd4ba6">logger_queue_size</a></div><div class="ttdeci">static int logger_queue_size</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00091">logger.c:91</a></div></div>
<div class="ttc" id="logger_8c_html_a38ac6d8ec7483171f8a13fed360b6ced"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a38ac6d8ec7483171f8a13fed360b6ced">close_logger_thread</a></div><div class="ttdeci">static int close_logger_thread</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00191">logger.c:191</a></div></div>
<div class="ttc" id="structlogmsgs_html_adf04f66344e3fb0a6f6a69bf39d19902"><div class="ttname"><a href="../../d2/dc4/structlogmsgs.html#adf04f66344e3fb0a6f6a69bf39d19902">logmsgs::lock</a></div><div class="ttdeci">ast_mutex_t lock</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00188">logger.c:188</a></div></div>
<div class="ttc" id="logger_8c_html_aed658d1269709b76f44f0486bcac12e3"><div class="ttname"><a href="../../d1/d22/logger_8c.html#aed658d1269709b76f44f0486bcac12e3">logger_messages_discarded</a></div><div class="ttdeci">static int logger_messages_discarded</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00095">logger.c:95</a></div></div>
<div class="ttc" id="logger_8c_html_abb118951a9d7c498a6e28454e7eb0bd5"><div class="ttname"><a href="../../d1/d22/logger_8c.html#abb118951a9d7c498a6e28454e7eb0bd5">logcond</a></div><div class="ttdeci">static ast_cond_t logcond</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00190">logger.c:190</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="afc616cecf77dbae42bf28c09a8398ddc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc616cecf77dbae42bf28c09a8398ddc">&#9670;&nbsp;</a></span>logmsg_free()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void logmsg_free </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dc/dff/structlogmsg.html">logmsg</a> *&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/d22/logger_8c_source.html#l00182">182</a> of file <a class="el" href="../../d1/d22/logger_8c_source.html">logger.c</a>.</p>

<p class="reference">References <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, and <a class="el" href="../../d1/d0f/stringfields_8h_source.html#l00368">ast_string_field_free_memory</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/d22/logger_8c_source.html#l02053">ast_log_full()</a>, and <a class="el" href="../../d1/d22/logger_8c_source.html#l01761">logger_thread()</a>.</p>
<div class="fragment"><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;{</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;   <a class="code" href="../../d1/d0f/stringfields_8h.html#abf60f862ae6a141d2f86a0f5e82792de">ast_string_field_free_memory</a>(msg);</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;   <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(msg);</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;}</div><div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="stringfields_8h_html_abf60f862ae6a141d2f86a0f5e82792de"><div class="ttname"><a href="../../d1/d0f/stringfields_8h.html#abf60f862ae6a141d2f86a0f5e82792de">ast_string_field_free_memory</a></div><div class="ttdeci">#define ast_string_field_free_memory(x)</div><div class="ttdoc">free all memory - to be called before destroying the object </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d0f/stringfields_8h_source.html#l00368">stringfields.h:368</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a867f2826ec792c2f51ab97adf00fc6bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a867f2826ec792c2f51ab97adf00fc6bd">&#9670;&nbsp;</a></span>make_components()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void make_components </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d6/d0c/structlogchannel.html">logchannel</a> *&#160;</td>
          <td class="paramname"><em>chan</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/d22/logger_8c_source.html#l00479">479</a> of file <a class="el" href="../../d1/d22/logger_8c_source.html">logger.c</a>.</p>

<p class="reference">References <a class="el" href="../../d1/d8c/logger_8h_source.html#l00295">__LOG_VERBOSE</a>, <a class="el" href="../../de/dfe/isdn__lib_8c_source.html#l00042">ARRAY_LEN</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00300">ast_strdupa</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00219">ast_strip()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00155">logchannel::components</a>, <a class="el" href="../../dd/d7c/eagi__proxy_8c_source.html#l00073">end</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00147">logchannel::filename</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00133">logchannel::formatter</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00135">logchannel::logmask</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00128">LOGTYPE_CONSOLE</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00120">logformatter::name</a>, <a class="el" href="../../de/da3/include_2asterisk_2compat_8h.html#a40eca58273c74a20a17f137d18ba826c">strsep()</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00143">logchannel::type</a>, and <a class="el" href="../../d1/d22/logger_8c_source.html#l00141">logchannel::verbosity</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/d22/logger_8c_source.html#l00617">make_logchannel()</a>, and <a class="el" href="../../d1/d22/logger_8c_source.html#l02360">update_logchannels()</a>.</p>
<div class="fragment"><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;{</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;   <span class="keywordtype">char</span> *w;</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> logmask = 0;</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;   <span class="keywordtype">char</span> *stringp = <a class="code" href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a>(chan-&gt;<a class="code" href="../../d6/d0c/structlogchannel.html#af35853f2adf49bf9ad6898a88f553ed9">components</a>);</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> x;</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> verb_level;</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;   <span class="comment">/* Default to using option_verbose as the verbosity level of the logging channel.  */</span></div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;   verb_level = -1;</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;   w = strchr(stringp, <span class="charliteral">&#39;[&#39;</span>);</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;   <span class="keywordflow">if</span> (w) {</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;      <span class="keywordtype">char</span> *<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#a8fd806ad19b8f5513a4cf18cbf77532c">end</a> = strchr(w + 1, <span class="charliteral">&#39;]&#39;</span>);</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;      <span class="keywordflow">if</span> (!end) {</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;         fprintf(stderr, <span class="stringliteral">&quot;Logger Warning: bad formatter definition for %s in logger.conf\n&quot;</span>, chan-&gt;<a class="code" href="../../d6/d0c/structlogchannel.html#ab49244970ed5ca30989c2dab2129de34">filename</a>);</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;         <span class="keywordtype">char</span> *formatter_name = w + 1;</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;         *end = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;         stringp = end + 1;</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;         <span class="keywordflow">if</span> (!strcasecmp(formatter_name, <span class="stringliteral">&quot;json&quot;</span>)) {</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;            memcpy(&amp;chan-&gt;<a class="code" href="../../d6/d0c/structlogchannel.html#a299de010a23aac23f580fa86ddf17dde">formatter</a>, &amp;<a class="code" href="../../d1/d22/logger_8c.html#a721d22f30132e2bc4b8bfe27f540df01">logformatter_json</a>, <span class="keyword">sizeof</span>(chan-&gt;<a class="code" href="../../d6/d0c/structlogchannel.html#a299de010a23aac23f580fa86ddf17dde">formatter</a>));</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(formatter_name, <span class="stringliteral">&quot;default&quot;</span>)) {</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;            memcpy(&amp;chan-&gt;<a class="code" href="../../d6/d0c/structlogchannel.html#a299de010a23aac23f580fa86ddf17dde">formatter</a>, &amp;<a class="code" href="../../d1/d22/logger_8c.html#a7a35f9cedea57e131ce4b9c5fa95b0f9">logformatter_default</a>, <span class="keyword">sizeof</span>(chan-&gt;<a class="code" href="../../d6/d0c/structlogchannel.html#a299de010a23aac23f580fa86ddf17dde">formatter</a>));</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(formatter_name, <span class="stringliteral">&quot;plain&quot;</span>)) {</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;            memcpy(&amp;chan-&gt;<a class="code" href="../../d6/d0c/structlogchannel.html#a299de010a23aac23f580fa86ddf17dde">formatter</a>, &amp;<a class="code" href="../../d1/d22/logger_8c.html#ab5646d2a0c66031589c56297a8e78aa7">logformatter_plain</a>, <span class="keyword">sizeof</span>(chan-&gt;<a class="code" href="../../d6/d0c/structlogchannel.html#a299de010a23aac23f580fa86ddf17dde">formatter</a>));</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;         } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;            fprintf(stderr, <span class="stringliteral">&quot;Logger Warning: Unknown formatter definition %s for %s in logger.conf; using &#39;default&#39;\n&quot;</span>,</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;               formatter_name, chan-&gt;<a class="code" href="../../d6/d0c/structlogchannel.html#ab49244970ed5ca30989c2dab2129de34">filename</a>);</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;            memcpy(&amp;chan-&gt;<a class="code" href="../../d6/d0c/structlogchannel.html#a299de010a23aac23f580fa86ddf17dde">formatter</a>, &amp;<a class="code" href="../../d1/d22/logger_8c.html#a7a35f9cedea57e131ce4b9c5fa95b0f9">logformatter_default</a>, <span class="keyword">sizeof</span>(chan-&gt;<a class="code" href="../../d6/d0c/structlogchannel.html#a299de010a23aac23f580fa86ddf17dde">formatter</a>));</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;         }</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;      }</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;   }</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;   <span class="keywordflow">if</span> (!chan-&gt;<a class="code" href="../../d6/d0c/structlogchannel.html#a299de010a23aac23f580fa86ddf17dde">formatter</a>.<a class="code" href="../../da/d44/structlogformatter.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>) {</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;      memcpy(&amp;chan-&gt;<a class="code" href="../../d6/d0c/structlogchannel.html#a299de010a23aac23f580fa86ddf17dde">formatter</a>, &amp;<a class="code" href="../../d1/d22/logger_8c.html#a7a35f9cedea57e131ce4b9c5fa95b0f9">logformatter_default</a>, <span class="keyword">sizeof</span>(chan-&gt;<a class="code" href="../../d6/d0c/structlogchannel.html#a299de010a23aac23f580fa86ddf17dde">formatter</a>));</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;   }</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;   <span class="keywordflow">while</span> ((w = <a class="code" href="../../de/da3/include_2asterisk_2compat_8h.html#a40eca58273c74a20a17f137d18ba826c">strsep</a>(&amp;stringp, <span class="stringliteral">&quot;,&quot;</span>))) {</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;      w = <a class="code" href="../../d6/d90/strings_8h.html#ac92713b8d07a45720b2664be70810e55">ast_strip</a>(w);</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(w)) {</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;         <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;      }</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;      <span class="keywordflow">if</span> (!strcmp(w, <span class="stringliteral">&quot;*&quot;</span>)) {</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;         logmask = 0xFFFFFFFF;</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strncasecmp(w, <span class="stringliteral">&quot;verbose(&quot;</span>, 8)) {</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;         <span class="keywordflow">if</span> (<a class="code" href="../../d1/d22/logger_8c.html#a2ae9b20e8a0ca3f97cf9f8927e0fdb7f">levels</a>[<a class="code" href="../../d1/d8c/logger_8h.html#aa11fae1314f286da3d57ae8c07ec4bca">__LOG_VERBOSE</a>] &amp;&amp; sscanf(w + 8, <span class="stringliteral">&quot;%30u)&quot;</span>, &amp;verb_level) == 1) {</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;            logmask |= (1 &lt;&lt; <a class="code" href="../../d1/d8c/logger_8h.html#aa11fae1314f286da3d57ae8c07ec4bca">__LOG_VERBOSE</a>);</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;         }</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;         <span class="keywordflow">for</span> (x = 0; x &lt; <a class="code" href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a>(<a class="code" href="../../d1/d22/logger_8c.html#a2ae9b20e8a0ca3f97cf9f8927e0fdb7f">levels</a>); ++x) {</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d1/d22/logger_8c.html#a2ae9b20e8a0ca3f97cf9f8927e0fdb7f">levels</a>[x] &amp;&amp; !strcasecmp(w, <a class="code" href="../../d1/d22/logger_8c.html#a2ae9b20e8a0ca3f97cf9f8927e0fdb7f">levels</a>[x])) {</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;               logmask |= (1 &lt;&lt; x);</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;               <span class="keywordflow">break</span>;</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;            }</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;         }</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;      }</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;   }</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;   <span class="keywordflow">if</span> (chan-&gt;<a class="code" href="../../d6/d0c/structlogchannel.html#a6d3cd9e6800461f549a4fcabae1712c1">type</a> == <a class="code" href="../../d1/d22/logger_8c.html#a7e2550c12ff27e5cd303101e86cf8eb4a439c8fd120012113aa39dfece22ed55f">LOGTYPE_CONSOLE</a>) {</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;      <span class="comment">/*</span></div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;<span class="comment">       * Force to use the root console verbose level so if the</span></div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;<span class="comment">       * user specified any verbose level then it does not interfere</span></div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;<span class="comment">       * with calculating the ast_verb_sys_level value.</span></div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;<span class="comment">       */</span></div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;      chan-&gt;<a class="code" href="../../d6/d0c/structlogchannel.html#a1bdcfae3209cbd96db35a2ae356fa15e">verbosity</a> = -1;</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;      logmask |= (1 &lt;&lt; <a class="code" href="../../d1/d8c/logger_8h.html#aa11fae1314f286da3d57ae8c07ec4bca">__LOG_VERBOSE</a>);</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;      chan-&gt;<a class="code" href="../../d6/d0c/structlogchannel.html#a1bdcfae3209cbd96db35a2ae356fa15e">verbosity</a> = verb_level;</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;   }</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;   chan-&gt;<a class="code" href="../../d6/d0c/structlogchannel.html#aaeeb8d3574465a64ed10e4809ebd4cf6">logmask</a> = logmask;</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;}</div><div class="ttc" id="structlogchannel_html_a299de010a23aac23f580fa86ddf17dde"><div class="ttname"><a href="../../d6/d0c/structlogchannel.html#a299de010a23aac23f580fa86ddf17dde">logchannel::formatter</a></div><div class="ttdeci">struct logformatter formatter</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00133">logger.c:133</a></div></div>
<div class="ttc" id="isdn__lib_8c_html_ab9129b977a587b50ea801daac75e178f"><div class="ttname"><a href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a></div><div class="ttdeci">#define ARRAY_LEN(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dfe/isdn__lib_8c_source.html#l00042">isdn_lib.c:42</a></div></div>
<div class="ttc" id="logger_8c_html_a7e2550c12ff27e5cd303101e86cf8eb4a439c8fd120012113aa39dfece22ed55f"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a7e2550c12ff27e5cd303101e86cf8eb4a439c8fd120012113aa39dfece22ed55f">LOGTYPE_CONSOLE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00128">logger.c:128</a></div></div>
<div class="ttc" id="structlogchannel_html_af35853f2adf49bf9ad6898a88f553ed9"><div class="ttname"><a href="../../d6/d0c/structlogchannel.html#af35853f2adf49bf9ad6898a88f553ed9">logchannel::components</a></div><div class="ttdeci">char components[0]</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00155">logger.c:155</a></div></div>
<div class="ttc" id="logger_8c_html_a2ae9b20e8a0ca3f97cf9f8927e0fdb7f"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a2ae9b20e8a0ca3f97cf9f8927e0fdb7f">levels</a></div><div class="ttdeci">static char * levels[NUMLOGLEVELS]</div><div class="ttdoc">Logging channels used in the Asterisk logging system. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00206">logger.c:206</a></div></div>
<div class="ttc" id="eagi__proxy_8c_html_a8fd806ad19b8f5513a4cf18cbf77532c"><div class="ttname"><a href="../../dd/d7c/eagi__proxy_8c.html#a8fd806ad19b8f5513a4cf18cbf77532c">end</a></div><div class="ttdeci">char * end</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d7c/eagi__proxy_8c_source.html#l00073">eagi_proxy.c:73</a></div></div>
<div class="ttc" id="structlogchannel_html_a1bdcfae3209cbd96db35a2ae356fa15e"><div class="ttname"><a href="../../d6/d0c/structlogchannel.html#a1bdcfae3209cbd96db35a2ae356fa15e">logchannel::verbosity</a></div><div class="ttdeci">int verbosity</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00141">logger.c:141</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="logger_8c_html_a721d22f30132e2bc4b8bfe27f540df01"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a721d22f30132e2bc4b8bfe27f540df01">logformatter_json</a></div><div class="ttdeci">static struct logformatter logformatter_json</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00314">logger.c:314</a></div></div>
<div class="ttc" id="logger_8c_html_ab5646d2a0c66031589c56297a8e78aa7"><div class="ttname"><a href="../../d1/d22/logger_8c.html#ab5646d2a0c66031589c56297a8e78aa7">logformatter_plain</a></div><div class="ttdeci">static struct logformatter logformatter_plain</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00474">logger.c:474</a></div></div>
<div class="ttc" id="structlogchannel_html_aaeeb8d3574465a64ed10e4809ebd4cf6"><div class="ttname"><a href="../../d6/d0c/structlogchannel.html#aaeeb8d3574465a64ed10e4809ebd4cf6">logchannel::logmask</a></div><div class="ttdeci">unsigned int logmask</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00135">logger.c:135</a></div></div>
<div class="ttc" id="strings_8h_html_ac92713b8d07a45720b2664be70810e55"><div class="ttname"><a href="../../d6/d90/strings_8h.html#ac92713b8d07a45720b2664be70810e55">ast_strip</a></div><div class="ttdeci">char * ast_strip(char *s)</div><div class="ttdoc">Strip leading/trailing whitespace from a string. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00219">strings.h:219</a></div></div>
<div class="ttc" id="astmm_8h_html_ab5f0750cc80ba337fdcbddea2d3a1ee6"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a></div><div class="ttdeci">#define ast_strdupa(s)</div><div class="ttdoc">duplicate a string in memory from the stack </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00300">astmm.h:300</a></div></div>
<div class="ttc" id="structlogchannel_html_a6d3cd9e6800461f549a4fcabae1712c1"><div class="ttname"><a href="../../d6/d0c/structlogchannel.html#a6d3cd9e6800461f549a4fcabae1712c1">logchannel::type</a></div><div class="ttdeci">enum logtypes type</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00143">logger.c:143</a></div></div>
<div class="ttc" id="logger_8c_html_a7a35f9cedea57e131ce4b9c5fa95b0f9"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a7a35f9cedea57e131ce4b9c5fa95b0f9">logformatter_default</a></div><div class="ttdeci">static struct logformatter logformatter_default</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00424">logger.c:424</a></div></div>
<div class="ttc" id="structlogformatter_html_a8f8f80d37794cde9472343e4487ba3eb"><div class="ttname"><a href="../../da/d44/structlogformatter.html#a8f8f80d37794cde9472343e4487ba3eb">logformatter::name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00120">logger.c:120</a></div></div>
<div class="ttc" id="structlogchannel_html_ab49244970ed5ca30989c2dab2129de34"><div class="ttname"><a href="../../d6/d0c/structlogchannel.html#ab49244970ed5ca30989c2dab2129de34">logchannel::filename</a></div><div class="ttdeci">char filename[PATH_MAX]</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00147">logger.c:147</a></div></div>
<div class="ttc" id="include_2asterisk_2compat_8h_html_a40eca58273c74a20a17f137d18ba826c"><div class="ttname"><a href="../../de/da3/include_2asterisk_2compat_8h.html#a40eca58273c74a20a17f137d18ba826c">strsep</a></div><div class="ttdeci">char * strsep(char **str, const char *delims)</div></div>
<div class="ttc" id="logger_8h_html_aa11fae1314f286da3d57ae8c07ec4bca"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aa11fae1314f286da3d57ae8c07ec4bca">__LOG_VERBOSE</a></div><div class="ttdeci">#define __LOG_VERBOSE</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00295">logger.h:295</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a016a34f1dce9ea82fb0dd83f29ba376f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a016a34f1dce9ea82fb0dd83f29ba376f">&#9670;&nbsp;</a></span>make_filename()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void make_filename </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>create the filename that will be used for a logger channel. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">channel</td><td>The name of the logger channel </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">filename</td><td>The filename for the logger channel </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">size</td><td>The size of the filename buffer </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d1/d22/logger_8c_source.html#l00560">560</a> of file <a class="el" href="../../d1/d22/logger_8c_source.html">logger.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/dc5/options_8c_source.html#l00159">ast_config_AST_LOG_DIR</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00401">ast_copy_string()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, and <a class="el" href="../../d1/d22/logger_8c_source.html#l00112">hostname</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/d22/logger_8c_source.html#l01259">ast_logger_rotate_channel()</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00601">find_logchannel()</a>, and <a class="el" href="../../d1/d22/logger_8c_source.html#l00617">make_logchannel()</a>.</p>
<div class="fragment"><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;{</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *log_dir_prefix = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *log_dir_separator = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;   *filename = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;   <span class="keywordflow">if</span> (!strcasecmp(<a class="code" href="../../d4/d84/structchannel.html">channel</a>, <span class="stringliteral">&quot;console&quot;</span>)) {</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;   }</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;   <span class="keywordflow">if</span> (!strncasecmp(<a class="code" href="../../d4/d84/structchannel.html">channel</a>, <span class="stringliteral">&quot;syslog&quot;</span>, 6)) {</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;      <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(filename, <a class="code" href="../../d4/d84/structchannel.html">channel</a>, size);</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;   }</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;   <span class="comment">/* It&#39;s a filename */</span></div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d4/d84/structchannel.html">channel</a>[0] != <span class="charliteral">&#39;/&#39;</span>) {</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;      log_dir_prefix = <a class="code" href="../../dd/df2/paths_8h.html#aea5e16ca2517e2093fdfa0e7fd112f0f">ast_config_AST_LOG_DIR</a>;</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;      log_dir_separator = <span class="stringliteral">&quot;/&quot;</span>;</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;   }</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(<a class="code" href="../../d1/d22/logger_8c.html#af31254e3111773fe1dc68e8dc13df2fe">hostname</a>)) {</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;      snprintf(filename, size, <span class="stringliteral">&quot;%s%s%s.%s&quot;</span>,</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;         log_dir_prefix, log_dir_separator, <a class="code" href="../../d4/d84/structchannel.html">channel</a>, <a class="code" href="../../d1/d22/logger_8c.html#af31254e3111773fe1dc68e8dc13df2fe">hostname</a>);</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;      snprintf(filename, size, <span class="stringliteral">&quot;%s%s%s&quot;</span>,</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;         log_dir_prefix, log_dir_separator, <a class="code" href="../../d4/d84/structchannel.html">channel</a>);</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;   }</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;}</div><div class="ttc" id="structchannel_html"><div class="ttname"><a href="../../d4/d84/structchannel.html">channel</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d8a/muted_8c_source.html#l00095">muted.c:95</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="paths_8h_html_aea5e16ca2517e2093fdfa0e7fd112f0f"><div class="ttname"><a href="../../dd/df2/paths_8h.html#aea5e16ca2517e2093fdfa0e7fd112f0f">ast_config_AST_LOG_DIR</a></div><div class="ttdeci">const char * ast_config_AST_LOG_DIR</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc5/options_8c_source.html#l00159">options.c:159</a></div></div>
<div class="ttc" id="strings_8h_html_ac4040268f7b6ed77dfc49c7767626369"><div class="ttname"><a href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a></div><div class="ttdeci">void ast_copy_string(char *dst, const char *src, size_t size)</div><div class="ttdoc">Size-limited null-terminating string copy. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00401">strings.h:401</a></div></div>
<div class="ttc" id="logger_8c_html_af31254e3111773fe1dc68e8dc13df2fe"><div class="ttname"><a href="../../d1/d22/logger_8c.html#af31254e3111773fe1dc68e8dc13df2fe">hostname</a></div><div class="ttdeci">static char hostname[MAXHOSTNAMELEN]</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00112">logger.c:112</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab7a804c1b0b716c6b612a79aded136df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab7a804c1b0b716c6b612a79aded136df">&#9670;&nbsp;</a></span>make_logchannel()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="../../d6/d0c/structlogchannel.html">logchannel</a>* make_logchannel </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>components</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lineno</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>dynamic</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/d22/logger_8c_source.html#l00617">617</a> of file <a class="el" href="../../d1/d22/logger_8c_source.html">logger.c</a>.</p>

<p class="reference">References <a class="el" href="../../d1/d8c/logger_8h_source.html#l00284">__LOG_ERROR</a>, <a class="el" href="../../d4/d42/buildinfo_8c_source.html#l00033">ast_build_date</a>, <a class="el" href="../../d4/d42/buildinfo_8c_source.html#l00029">ast_build_hostname</a>, <a class="el" href="../../d4/d42/buildinfo_8c_source.html#l00031">ast_build_machine</a>, <a class="el" href="../../d4/d42/buildinfo_8c_source.html#l00032">ast_build_os</a>, <a class="el" href="../../d4/d42/buildinfo_8c_source.html#l00034">ast_build_user</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00204">ast_calloc</a>, <a class="el" href="../../d5/d03/asterisk_8c_source.html#l01274">ast_console_puts_mutable()</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../d2/d0b/version_8c_source.html#l00016">ast_get_version()</a>, <a class="el" href="../../d9/df8/localtime_8c_source.html#l01739">ast_localtime()</a>, <a class="el" href="../../d9/df8/localtime_8c_source.html#l02524">ast_strftime()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../d4/d2f/syslog_8c_source.html#l00085">ast_syslog_facility()</a>, <a class="el" href="../../de/df7/time_8h_source.html#l00150">ast_tvnow()</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00155">logchannel::components</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00079">dateformat</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00153">logchannel::dynamic</a>, <a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00139">logchannel::facility</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00147">logchannel::filename</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00145">logchannel::fileptr</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00151">logchannel::lineno</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00128">LOGTYPE_CONSOLE</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00127">LOGTYPE_FILE</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00126">LOGTYPE_SYSLOG</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00479">make_components()</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00560">make_filename()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../d1/d22/logger_8c_source.html#l00143">logchannel::type</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/d22/logger_8c_source.html#l01419">ast_logger_create_channel()</a>, and <a class="el" href="../../d1/d22/logger_8c_source.html#l00710">init_logger_chain()</a>.</p>
<div class="fragment"><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;{</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d6/d0c/structlogchannel.html">logchannel</a> *chan;</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;   <span class="keywordtype">char</span> *<a class="code" href="../../d6/d0c/structlogchannel.html#a213afa2e73e0c2102f43d4067e41b90f">facility</a>;</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d5/d84/structast__tm.html">ast_tm</a> tm;</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;   <span class="keyword">struct </span>timeval now = <a class="code" href="../../de/df7/time_8h.html#ad3899efb6f0e348556ef69f5b16aa7f7">ast_tvnow</a>();</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;   <span class="keywordtype">char</span> datestring[256];</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(<a class="code" href="../../d4/d84/structchannel.html">channel</a>) || !(chan = <a class="code" href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a>(1, <span class="keyword">sizeof</span>(*chan) + strlen(components) + 1)))</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;   strcpy(chan-&gt;<a class="code" href="../../d6/d0c/structlogchannel.html#af35853f2adf49bf9ad6898a88f553ed9">components</a>, components);</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;   chan-&gt;<a class="code" href="../../d6/d0c/structlogchannel.html#a501b314f49b3a9ff6e7be599d94686ee">lineno</a> = lineno;</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;   chan-&gt;<a class="code" href="../../d6/d0c/structlogchannel.html#a44690a0a629211d7620ce0d55c412e9d">dynamic</a> = dynamic;</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;   <a class="code" href="../../d1/d22/logger_8c.html#a016a34f1dce9ea82fb0dd83f29ba376f">make_filename</a>(<a class="code" href="../../d4/d84/structchannel.html">channel</a>, chan-&gt;<a class="code" href="../../d6/d0c/structlogchannel.html#ab49244970ed5ca30989c2dab2129de34">filename</a>, <span class="keyword">sizeof</span>(chan-&gt;<a class="code" href="../../d6/d0c/structlogchannel.html#ab49244970ed5ca30989c2dab2129de34">filename</a>));</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;   <span class="keywordflow">if</span> (!strcasecmp(<a class="code" href="../../d4/d84/structchannel.html">channel</a>, <span class="stringliteral">&quot;console&quot;</span>)) {</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;      chan-&gt;<a class="code" href="../../d6/d0c/structlogchannel.html#a6d3cd9e6800461f549a4fcabae1712c1">type</a> = <a class="code" href="../../d1/d22/logger_8c.html#a7e2550c12ff27e5cd303101e86cf8eb4a439c8fd120012113aa39dfece22ed55f">LOGTYPE_CONSOLE</a>;</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strncasecmp(<a class="code" href="../../d4/d84/structchannel.html">channel</a>, <span class="stringliteral">&quot;syslog&quot;</span>, 6)) {</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;      <span class="comment">/*</span></div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;<span class="comment">      * syntax is:</span></div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;<span class="comment">      *  syslog.facility =&gt; level,level,level</span></div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;<span class="comment">      */</span></div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;      facility = strchr(<a class="code" href="../../d4/d84/structchannel.html">channel</a>, <span class="charliteral">&#39;.&#39;</span>);</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;      <span class="keywordflow">if</span> (!facility++ || !facility) {</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;         facility = <span class="stringliteral">&quot;local0&quot;</span>;</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;      }</div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;      chan-&gt;<a class="code" href="../../d6/d0c/structlogchannel.html#a213afa2e73e0c2102f43d4067e41b90f">facility</a> = <a class="code" href="../../d7/d30/syslog_8h.html#acb62c53ab705d8321096e079d5964350">ast_syslog_facility</a>(facility);</div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;      <span class="keywordflow">if</span> (chan-&gt;<a class="code" href="../../d6/d0c/structlogchannel.html#a213afa2e73e0c2102f43d4067e41b90f">facility</a> &lt; 0) {</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;         fprintf(stderr, <span class="stringliteral">&quot;Logger Warning: bad syslog facility in logger.conf\n&quot;</span>);</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;         <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(chan);</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;         <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;      }</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;      chan-&gt;<a class="code" href="../../d6/d0c/structlogchannel.html#a6d3cd9e6800461f549a4fcabae1712c1">type</a> = <a class="code" href="../../d1/d22/logger_8c.html#a7e2550c12ff27e5cd303101e86cf8eb4affe678f5d32a5ad00d20d138627aa22f">LOGTYPE_SYSLOG</a>;</div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;      openlog(<span class="stringliteral">&quot;asterisk&quot;</span>, LOG_PID, chan-&gt;<a class="code" href="../../d6/d0c/structlogchannel.html#a213afa2e73e0c2102f43d4067e41b90f">facility</a>);</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;      <span class="keywordflow">if</span> (!(chan-&gt;<a class="code" href="../../d6/d0c/structlogchannel.html#acc2a21b64b19aeee05b382056974c1e9">fileptr</a> = fopen(chan-&gt;<a class="code" href="../../d6/d0c/structlogchannel.html#ab49244970ed5ca30989c2dab2129de34">filename</a>, <span class="stringliteral">&quot;a&quot;</span>))) {</div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;         <span class="comment">/* Can&#39;t do real logging here since we&#39;re called with a lock</span></div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;<span class="comment">          * so log to any attached consoles */</span></div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;         <a class="code" href="../../d1/d8c/logger_8h.html#a6b74ef8709c2a8f00f06c0933ca993a1">ast_console_puts_mutable</a>(<span class="stringliteral">&quot;ERROR: Unable to open log file &#39;&quot;</span>, <a class="code" href="../../d1/d8c/logger_8h.html#a0fcdc410e3e9fbb251fd0c4f8581d96c">__LOG_ERROR</a>);</div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;         <a class="code" href="../../d1/d8c/logger_8h.html#a6b74ef8709c2a8f00f06c0933ca993a1">ast_console_puts_mutable</a>(chan-&gt;<a class="code" href="../../d6/d0c/structlogchannel.html#ab49244970ed5ca30989c2dab2129de34">filename</a>, <a class="code" href="../../d1/d8c/logger_8h.html#a0fcdc410e3e9fbb251fd0c4f8581d96c">__LOG_ERROR</a>);</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;         <a class="code" href="../../d1/d8c/logger_8h.html#a6b74ef8709c2a8f00f06c0933ca993a1">ast_console_puts_mutable</a>(<span class="stringliteral">&quot;&#39;: &quot;</span>, <a class="code" href="../../d1/d8c/logger_8h.html#a0fcdc410e3e9fbb251fd0c4f8581d96c">__LOG_ERROR</a>);</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;         <a class="code" href="../../d1/d8c/logger_8h.html#a6b74ef8709c2a8f00f06c0933ca993a1">ast_console_puts_mutable</a>(strerror(<a class="code" href="../../d1/d6e/main_2stdtime_2private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a>), <a class="code" href="../../d1/d8c/logger_8h.html#a0fcdc410e3e9fbb251fd0c4f8581d96c">__LOG_ERROR</a>);</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;         <a class="code" href="../../d1/d8c/logger_8h.html#a6b74ef8709c2a8f00f06c0933ca993a1">ast_console_puts_mutable</a>(<span class="stringliteral">&quot;&#39;\n&quot;</span>, <a class="code" href="../../d1/d8c/logger_8h.html#a0fcdc410e3e9fbb251fd0c4f8581d96c">__LOG_ERROR</a>);</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;         <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(chan);</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;         <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;         <span class="comment">/* Create our date/time */</span></div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;         <a class="code" href="../../d5/deb/localtime_8h.html#ae9fbda728350a9a5b9c09b29214d718e">ast_localtime</a>(&amp;now, &amp;tm, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;         <a class="code" href="../../d5/deb/localtime_8h.html#aa8e63928b14a347bd3973d680b885f93">ast_strftime</a>(datestring, <span class="keyword">sizeof</span>(datestring), <a class="code" href="../../d1/d22/logger_8c.html#a2057dec53731af6bb6881015b58936ba">dateformat</a>, &amp;tm);</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;         fprintf(chan-&gt;<a class="code" href="../../d6/d0c/structlogchannel.html#acc2a21b64b19aeee05b382056974c1e9">fileptr</a>, <span class="stringliteral">&quot;[%s] Asterisk %s built by %s @ %s on a %s running %s on %s\n&quot;</span>,</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;            datestring, <a class="code" href="../../d5/db9/ast__version_8h.html#a7765c608aea948584928643ab3963b2a">ast_get_version</a>(), <a class="code" href="../../de/d35/buildinfo_8h.html#ac67b18fb7444d973a733a9757c1ff8f9">ast_build_user</a>, <a class="code" href="../../de/d35/buildinfo_8h.html#aae3c7406e483c475f34063c84048ab89">ast_build_hostname</a>,</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;            <a class="code" href="../../de/d35/buildinfo_8h.html#a6d456a43bdae713459ee5ee67439670c">ast_build_machine</a>, <a class="code" href="../../de/d35/buildinfo_8h.html#a00b5464ec2f306ae8f17f73a0a81f28d">ast_build_os</a>, <a class="code" href="../../de/d35/buildinfo_8h.html#af1708cda257f6db95f77b34f112ef64b">ast_build_date</a>);</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;         fflush(chan-&gt;<a class="code" href="../../d6/d0c/structlogchannel.html#acc2a21b64b19aeee05b382056974c1e9">fileptr</a>);</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;      }</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;      chan-&gt;<a class="code" href="../../d6/d0c/structlogchannel.html#a6d3cd9e6800461f549a4fcabae1712c1">type</a> = <a class="code" href="../../d1/d22/logger_8c.html#a7e2550c12ff27e5cd303101e86cf8eb4a82620c2d182f4b50f3801669f747f3aa">LOGTYPE_FILE</a>;</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;   }</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;   <a class="code" href="../../d1/d22/logger_8c.html#a867f2826ec792c2f51ab97adf00fc6bd">make_components</a>(chan);</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;   <span class="keywordflow">return</span> chan;</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;}</div><div class="ttc" id="buildinfo_8h_html_ac67b18fb7444d973a733a9757c1ff8f9"><div class="ttname"><a href="../../de/d35/buildinfo_8h.html#ac67b18fb7444d973a733a9757c1ff8f9">ast_build_user</a></div><div class="ttdeci">const char * ast_build_user</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d42/buildinfo_8c_source.html#l00034">buildinfo.c:34</a></div></div>
<div class="ttc" id="structlogchannel_html_a213afa2e73e0c2102f43d4067e41b90f"><div class="ttname"><a href="../../d6/d0c/structlogchannel.html#a213afa2e73e0c2102f43d4067e41b90f">logchannel::facility</a></div><div class="ttdeci">int facility</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00139">logger.c:139</a></div></div>
<div class="ttc" id="logger_8c_html_a7e2550c12ff27e5cd303101e86cf8eb4a439c8fd120012113aa39dfece22ed55f"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a7e2550c12ff27e5cd303101e86cf8eb4a439c8fd120012113aa39dfece22ed55f">LOGTYPE_CONSOLE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00128">logger.c:128</a></div></div>
<div class="ttc" id="logger_8c_html_a016a34f1dce9ea82fb0dd83f29ba376f"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a016a34f1dce9ea82fb0dd83f29ba376f">make_filename</a></div><div class="ttdeci">static void make_filename(const char *channel, char *filename, size_t size)</div><div class="ttdoc">create the filename that will be used for a logger channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00560">logger.c:560</a></div></div>
<div class="ttc" id="ast__version_8h_html_a7765c608aea948584928643ab3963b2a"><div class="ttname"><a href="../../d5/db9/ast__version_8h.html#a7765c608aea948584928643ab3963b2a">ast_get_version</a></div><div class="ttdeci">const char * ast_get_version(void)</div><div class="ttdoc">Retrieve the Asterisk version string. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d0b/version_8c_source.html#l00016">version.c:16</a></div></div>
<div class="ttc" id="structlogchannel_html_af35853f2adf49bf9ad6898a88f553ed9"><div class="ttname"><a href="../../d6/d0c/structlogchannel.html#af35853f2adf49bf9ad6898a88f553ed9">logchannel::components</a></div><div class="ttdeci">char components[0]</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00155">logger.c:155</a></div></div>
<div class="ttc" id="localtime_8h_html_ae9fbda728350a9a5b9c09b29214d718e"><div class="ttname"><a href="../../d5/deb/localtime_8h.html#ae9fbda728350a9a5b9c09b29214d718e">ast_localtime</a></div><div class="ttdeci">struct ast_tm * ast_localtime(const struct timeval *timep, struct ast_tm *p_tm, const char *zone)</div><div class="ttdoc">Timezone-independent version of localtime_r(3). </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/df8/localtime_8c_source.html#l01739">localtime.c:1739</a></div></div>
<div class="ttc" id="buildinfo_8h_html_af1708cda257f6db95f77b34f112ef64b"><div class="ttname"><a href="../../de/d35/buildinfo_8h.html#af1708cda257f6db95f77b34f112ef64b">ast_build_date</a></div><div class="ttdeci">const char * ast_build_date</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d42/buildinfo_8c_source.html#l00033">buildinfo.c:33</a></div></div>
<div class="ttc" id="buildinfo_8h_html_a00b5464ec2f306ae8f17f73a0a81f28d"><div class="ttname"><a href="../../de/d35/buildinfo_8h.html#a00b5464ec2f306ae8f17f73a0a81f28d">ast_build_os</a></div><div class="ttdeci">const char * ast_build_os</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d42/buildinfo_8c_source.html#l00032">buildinfo.c:32</a></div></div>
<div class="ttc" id="time_8h_html_ad3899efb6f0e348556ef69f5b16aa7f7"><div class="ttname"><a href="../../de/df7/time_8h.html#ad3899efb6f0e348556ef69f5b16aa7f7">ast_tvnow</a></div><div class="ttdeci">struct timeval ast_tvnow(void)</div><div class="ttdoc">Returns current timeval. Meant to replace calls to gettimeofday(). </div><div class="ttdef"><b>Definition:</b> <a href="../../de/df7/time_8h_source.html#l00150">time.h:150</a></div></div>
<div class="ttc" id="structchannel_html"><div class="ttname"><a href="../../d4/d84/structchannel.html">channel</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d8a/muted_8c_source.html#l00095">muted.c:95</a></div></div>
<div class="ttc" id="logger_8h_html_a0fcdc410e3e9fbb251fd0c4f8581d96c"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a0fcdc410e3e9fbb251fd0c4f8581d96c">__LOG_ERROR</a></div><div class="ttdeci">#define __LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00284">logger.h:284</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="logger_8c_html_a867f2826ec792c2f51ab97adf00fc6bd"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a867f2826ec792c2f51ab97adf00fc6bd">make_components</a></div><div class="ttdeci">static void make_components(struct logchannel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00479">logger.c:479</a></div></div>
<div class="ttc" id="buildinfo_8h_html_aae3c7406e483c475f34063c84048ab89"><div class="ttname"><a href="../../de/d35/buildinfo_8h.html#aae3c7406e483c475f34063c84048ab89">ast_build_hostname</a></div><div class="ttdeci">const char * ast_build_hostname</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d42/buildinfo_8c_source.html#l00029">buildinfo.c:29</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="logger_8c_html_a7e2550c12ff27e5cd303101e86cf8eb4affe678f5d32a5ad00d20d138627aa22f"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a7e2550c12ff27e5cd303101e86cf8eb4affe678f5d32a5ad00d20d138627aa22f">LOGTYPE_SYSLOG</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00126">logger.c:126</a></div></div>
<div class="ttc" id="buildinfo_8h_html_a6d456a43bdae713459ee5ee67439670c"><div class="ttname"><a href="../../de/d35/buildinfo_8h.html#a6d456a43bdae713459ee5ee67439670c">ast_build_machine</a></div><div class="ttdeci">const char * ast_build_machine</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d42/buildinfo_8c_source.html#l00031">buildinfo.c:31</a></div></div>
<div class="ttc" id="structlogchannel_html_a44690a0a629211d7620ce0d55c412e9d"><div class="ttname"><a href="../../d6/d0c/structlogchannel.html#a44690a0a629211d7620ce0d55c412e9d">logchannel::dynamic</a></div><div class="ttdeci">int dynamic</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00153">logger.c:153</a></div></div>
<div class="ttc" id="main_2stdtime_2private_8h_html_ad65a8842cc674e3ddf69355898c0ecbf"><div class="ttname"><a href="../../d1/d6e/main_2stdtime_2private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a></div><div class="ttdeci">int errno</div></div>
<div class="ttc" id="structlogchannel_html_a6d3cd9e6800461f549a4fcabae1712c1"><div class="ttname"><a href="../../d6/d0c/structlogchannel.html#a6d3cd9e6800461f549a4fcabae1712c1">logchannel::type</a></div><div class="ttdeci">enum logtypes type</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00143">logger.c:143</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="astmm_8h_html_ae0cd4c5524b01287ab19cbe233d9cebb"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a></div><div class="ttdeci">#define ast_calloc(num, len)</div><div class="ttdoc">A wrapper for calloc() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00204">astmm.h:204</a></div></div>
<div class="ttc" id="logger_8h_html_a6b74ef8709c2a8f00f06c0933ca993a1"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a6b74ef8709c2a8f00f06c0933ca993a1">ast_console_puts_mutable</a></div><div class="ttdeci">void ast_console_puts_mutable(const char *string, int level)</div><div class="ttdoc">log the string to the console, and all attached console clients </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d03/asterisk_8c_source.html#l01274">asterisk.c:1274</a></div></div>
<div class="ttc" id="localtime_8h_html_aa8e63928b14a347bd3973d680b885f93"><div class="ttname"><a href="../../d5/deb/localtime_8h.html#aa8e63928b14a347bd3973d680b885f93">ast_strftime</a></div><div class="ttdeci">int ast_strftime(char *buf, size_t len, const char *format, const struct ast_tm *tm)</div><div class="ttdoc">Special version of strftime(3) that handles fractions of a second. Takes the same arguments as strfti...</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/df8/localtime_8c_source.html#l02524">localtime.c:2524</a></div></div>
<div class="ttc" id="structlogchannel_html_acc2a21b64b19aeee05b382056974c1e9"><div class="ttname"><a href="../../d6/d0c/structlogchannel.html#acc2a21b64b19aeee05b382056974c1e9">logchannel::fileptr</a></div><div class="ttdeci">FILE * fileptr</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00145">logger.c:145</a></div></div>
<div class="ttc" id="structlogchannel_html_ab49244970ed5ca30989c2dab2129de34"><div class="ttname"><a href="../../d6/d0c/structlogchannel.html#ab49244970ed5ca30989c2dab2129de34">logchannel::filename</a></div><div class="ttdeci">char filename[PATH_MAX]</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00147">logger.c:147</a></div></div>
<div class="ttc" id="logger_8c_html_a2057dec53731af6bb6881015b58936ba"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a2057dec53731af6bb6881015b58936ba">dateformat</a></div><div class="ttdeci">static char dateformat[256]</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00079">logger.c:79</a></div></div>
<div class="ttc" id="structlogchannel_html_a501b314f49b3a9ff6e7be599d94686ee"><div class="ttname"><a href="../../d6/d0c/structlogchannel.html#a501b314f49b3a9ff6e7be599d94686ee">logchannel::lineno</a></div><div class="ttdeci">int lineno</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00151">logger.c:151</a></div></div>
<div class="ttc" id="syslog_8h_html_acb62c53ab705d8321096e079d5964350"><div class="ttname"><a href="../../d7/d30/syslog_8h.html#acb62c53ab705d8321096e079d5964350">ast_syslog_facility</a></div><div class="ttdeci">int ast_syslog_facility(const char *facility)</div><div class="ttdoc">Maps a syslog facility name from a string to a syslog facility constant. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d2f/syslog_8c_source.html#l00085">syslog.c:85</a></div></div>
<div class="ttc" id="structlogchannel_html"><div class="ttname"><a href="../../d6/d0c/structlogchannel.html">logchannel</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00131">logger.c:131</a></div></div>
<div class="ttc" id="logger_8c_html_a7e2550c12ff27e5cd303101e86cf8eb4a82620c2d182f4b50f3801669f747f3aa"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a7e2550c12ff27e5cd303101e86cf8eb4a82620c2d182f4b50f3801669f747f3aa">LOGTYPE_FILE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00127">logger.c:127</a></div></div>
<div class="ttc" id="structast__tm_html"><div class="ttname"><a href="../../d5/d84/structast__tm.html">ast_tm</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/deb/localtime_8h_source.html#l00035">localtime.h:35</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a4dfd6bff5fa421d9abc89125ac5d7d8b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4dfd6bff5fa421d9abc89125ac5d7d8b">&#9670;&nbsp;</a></span>reload_logger()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int reload_logger </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>rotate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>altconf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/d22/logger_8c_source.html#l01141">1141</a> of file <a class="el" href="../../d1/d22/logger_8c_source.html">logger.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/dc5/options_8c_source.html#l00159">ast_config_AST_LOG_DIR</a>, <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l02231">ast_mkdir()</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00894">ast_queue_log()</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00493">AST_RWLIST_TRAVERSE</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00150">AST_RWLIST_UNLOCK</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00051">AST_RWLIST_WRLOCK</a>, <a class="el" href="../../d2/d9d/main_2config_8c_source.html#l03406">ast_unload_realtime()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00463">ast_verb</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l02232">ast_verb_update()</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00137">logchannel::disabled</a>, <a class="el" href="../../db/d45/manager_8h_source.html#l00071">EVENT_FLAG_SYSTEM</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00147">logchannel::filename</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00145">logchannel::fileptr</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00084">filesize_reload_needed</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00710">init_logger_chain()</a>, <a class="el" href="../../d6/d0c/structlogchannel.html#a05f465ec52733d0024e53f945e4cabe7">logchannel::list</a>, <a class="el" href="../../d1/d22/logger_8c.html#a5bfecba707f2f239f10b2543de3b5ef6">logfiles</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l01113">logger_queue_restart()</a>, <a class="el" href="../../db/d45/manager_8h_source.html#l00248">manager_event</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00099">NONE</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../d1/d22/logger_8c_source.html#l00974">rotate_file()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/d22/logger_8c_source.html#l01254">ast_logger_rotate()</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l01216">handle_logger_reload()</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l01235">handle_logger_rotate()</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l01580">logger_print_normal()</a>, and <a class="el" href="../../d1/d22/logger_8c_source.html#l02592">reload_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;{</div><div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;   <span class="keywordtype">int</span> queue_rotate = rotate;</div><div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d6/d0c/structlogchannel.html">logchannel</a> *f;</div><div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;   <span class="keywordtype">int</span> res = 0;</div><div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;</div><div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a2d0cf4182bade9f773fb16ff12abe595">AST_RWLIST_WRLOCK</a>(&amp;<a class="code" href="../../d2/df7/structlogchannels.html">logchannels</a>);</div><div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;</div><div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d1/d22/logger_8c.html#a59cef8b13e5fcb3e2ea61f66ea4bf0e5">qlog</a>) {</div><div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;      <span class="keywordflow">if</span> (rotate &lt; 0) {</div><div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;         <span class="comment">/* Check filesize - this one typically doesn&#39;t need an auto-rotate */</span></div><div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;         <span class="keywordflow">if</span> (ftello(<a class="code" href="../../d1/d22/logger_8c.html#a59cef8b13e5fcb3e2ea61f66ea4bf0e5">qlog</a>) &gt; 0x40000000) { <span class="comment">/* Arbitrarily, 1 GB */</span></div><div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;            fclose(<a class="code" href="../../d1/d22/logger_8c.html#a59cef8b13e5fcb3e2ea61f66ea4bf0e5">qlog</a>);</div><div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;            <a class="code" href="../../d1/d22/logger_8c.html#a59cef8b13e5fcb3e2ea61f66ea4bf0e5">qlog</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;         } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;            queue_rotate = 0;</div><div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;         }</div><div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;         fclose(<a class="code" href="../../d1/d22/logger_8c.html#a59cef8b13e5fcb3e2ea61f66ea4bf0e5">qlog</a>);</div><div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;         <a class="code" href="../../d1/d22/logger_8c.html#a59cef8b13e5fcb3e2ea61f66ea4bf0e5">qlog</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;      }</div><div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;      queue_rotate = 0;</div><div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;   }</div><div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;</div><div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a7c38859ed90e96df2b0a0fdf843769d0">ast_mkdir</a>(<a class="code" href="../../dd/df2/paths_8h.html#aea5e16ca2517e2093fdfa0e7fd112f0f">ast_config_AST_LOG_DIR</a>, 0777);</div><div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;</div><div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a944b82566722f2247aa35f1328402c98">AST_RWLIST_TRAVERSE</a>(&amp;<a class="code" href="../../d2/df7/structlogchannels.html">logchannels</a>, f, <a class="code" href="../../d6/d0c/structlogchannel.html#a05f465ec52733d0024e53f945e4cabe7">list</a>) {</div><div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;      <span class="keywordflow">if</span> (f-&gt;<a class="code" href="../../d6/d0c/structlogchannel.html#af255398e3e9383752e6234829e3f6037">disabled</a>) {</div><div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;         f-&gt;<a class="code" href="../../d6/d0c/structlogchannel.html#af255398e3e9383752e6234829e3f6037">disabled</a> = 0;  <span class="comment">/* Re-enable logging at reload */</span></div><div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;         <span class="comment">/*** DOCUMENTATION</span></div><div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;<span class="comment">            &lt;managerEventInstance&gt;</span></div><div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;<span class="comment">               &lt;synopsis&gt;Raised when a logging channel is re-enabled after a reload operation.&lt;/synopsis&gt;</span></div><div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;<span class="comment">               &lt;syntax&gt;</span></div><div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;<span class="comment">                  &lt;parameter name=&quot;Channel&quot;&gt;</span></div><div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;<span class="comment">                     &lt;para&gt;The name of the logging channel.&lt;/para&gt;</span></div><div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;<span class="comment">                  &lt;/parameter&gt;</span></div><div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;<span class="comment">               &lt;/syntax&gt;</span></div><div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;<span class="comment">            &lt;/managerEventInstance&gt;</span></div><div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;<span class="comment">         ***/</span></div><div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;         <a class="code" href="../../db/d45/manager_8h.html#a1ef0ee0044dbbeb4c3a5abc6c046b208">manager_event</a>(<a class="code" href="../../db/d45/manager_8h.html#a420f0f755e1c3378b45ca7f6f0669ffa">EVENT_FLAG_SYSTEM</a>, <span class="stringliteral">&quot;LogChannel&quot;</span>, <span class="stringliteral">&quot;Channel: %s\r\nEnabled: Yes\r\n&quot;</span>, f-&gt;<a class="code" href="../../d6/d0c/structlogchannel.html#ab49244970ed5ca30989c2dab2129de34">filename</a>);</div><div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;      }</div><div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;      <span class="keywordflow">if</span> (f-&gt;<a class="code" href="../../d6/d0c/structlogchannel.html#acc2a21b64b19aeee05b382056974c1e9">fileptr</a> &amp;&amp; (f-&gt;<a class="code" href="../../d6/d0c/structlogchannel.html#acc2a21b64b19aeee05b382056974c1e9">fileptr</a> != stdout) &amp;&amp; (f-&gt;<a class="code" href="../../d6/d0c/structlogchannel.html#acc2a21b64b19aeee05b382056974c1e9">fileptr</a> != stderr)) {</div><div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;         <span class="keywordtype">int</span> rotate_this = 0;</div><div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;         <span class="keywordflow">if</span> (<a class="code" href="../../d1/d22/logger_8c.html#a390505c32550f77c3e013a8030fac392">rotatestrategy</a> != <a class="code" href="../../d1/d22/logger_8c.html#a390505c32550f77c3e013a8030fac392ac157bdf0b85a40d2619cbc8bc1ae5fe2">NONE</a> &amp;&amp; ftello(f-&gt;<a class="code" href="../../d6/d0c/structlogchannel.html#acc2a21b64b19aeee05b382056974c1e9">fileptr</a>) &gt; 0x40000000) { <span class="comment">/* Arbitrarily, 1 GB */</span></div><div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;            <span class="comment">/* Be more proactive about rotating massive log files */</span></div><div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;            rotate_this = 1;</div><div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;         }</div><div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;         fclose(f-&gt;<a class="code" href="../../d6/d0c/structlogchannel.html#acc2a21b64b19aeee05b382056974c1e9">fileptr</a>);  <span class="comment">/* Close file */</span></div><div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;         f-&gt;<a class="code" href="../../d6/d0c/structlogchannel.html#acc2a21b64b19aeee05b382056974c1e9">fileptr</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;         <span class="keywordflow">if</span> (rotate || rotate_this) {</div><div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;            <a class="code" href="../../d1/d22/logger_8c.html#aeeca350be69b461abe789c969ed420ab">rotate_file</a>(f-&gt;<a class="code" href="../../d6/d0c/structlogchannel.html#ab49244970ed5ca30989c2dab2129de34">filename</a>);</div><div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;         }</div><div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;      }</div><div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;   }</div><div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;</div><div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;   <a class="code" href="../../d1/d22/logger_8c.html#a2b97f7299bdadbda12e69a1a31c9d28c">filesize_reload_needed</a> = 0;</div><div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;</div><div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;   <a class="code" href="../../d1/d22/logger_8c.html#a04da4b5280eecc1a76279432eba4fa10">init_logger_chain</a>(altconf);</div><div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;</div><div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;   <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a66b6af9ceef39cb23b48501efe87219f">ast_unload_realtime</a>(<span class="stringliteral">&quot;queue_log&quot;</span>);</div><div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d1/d22/logger_8c.html#a5bfecba707f2f239f10b2543de3b5ef6">logfiles</a>.queue_log) {</div><div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;      res = <a class="code" href="../../d1/d22/logger_8c.html#adbdf4673bb7f9db253690c90c5cd6afd">logger_queue_restart</a>(queue_rotate);</div><div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;      <a class="code" href="../../df/d90/linkedlists_8h.html#a2e9a2518b5029b96671aff6701bd5138">AST_RWLIST_UNLOCK</a>(&amp;<a class="code" href="../../d2/df7/structlogchannels.html">logchannels</a>);</div><div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;      <a class="code" href="../../d1/d22/logger_8c.html#aad013a7e1fb2dcbd046b44c40b060e5b">ast_verb_update</a>();</div><div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;      <a class="code" href="../../d1/d22/logger_8c.html#a9f7a6acbec3680a06af27ae561772915">ast_queue_log</a>(<span class="stringliteral">&quot;NONE&quot;</span>, <span class="stringliteral">&quot;NONE&quot;</span>, <span class="stringliteral">&quot;NONE&quot;</span>, <span class="stringliteral">&quot;CONFIGRELOAD&quot;</span>, <span class="stringliteral">&quot;%s&quot;</span>, <span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(1, <span class="stringliteral">&quot;Asterisk Queue Logger restarted\n&quot;</span>);</div><div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;      <a class="code" href="../../df/d90/linkedlists_8h.html#a2e9a2518b5029b96671aff6701bd5138">AST_RWLIST_UNLOCK</a>(&amp;<a class="code" href="../../d2/df7/structlogchannels.html">logchannels</a>);</div><div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;      <a class="code" href="../../d1/d22/logger_8c.html#aad013a7e1fb2dcbd046b44c40b060e5b">ast_verb_update</a>();</div><div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;   }</div><div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;</div><div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;}</div><div class="ttc" id="logger_8c_html_a04da4b5280eecc1a76279432eba4fa10"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a04da4b5280eecc1a76279432eba4fa10">init_logger_chain</a></div><div class="ttdeci">static int init_logger_chain(const char *altconf)</div><div class="ttdoc">Read config, setup channels. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00710">logger.c:710</a></div></div>
<div class="ttc" id="logger_8c_html_aeeca350be69b461abe789c969ed420ab"><div class="ttname"><a href="../../d1/d22/logger_8c.html#aeeca350be69b461abe789c969ed420ab">rotate_file</a></div><div class="ttdeci">static int rotate_file(const char *filename)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00974">logger.c:974</a></div></div>
<div class="ttc" id="logger_8c_html_aad013a7e1fb2dcbd046b44c40b060e5b"><div class="ttname"><a href="../../d1/d22/logger_8c.html#aad013a7e1fb2dcbd046b44c40b060e5b">ast_verb_update</a></div><div class="ttdeci">void ast_verb_update(void)</div><div class="ttdoc">Re-evaluate the system max verbosity level (ast_verb_sys_level). </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l02232">logger.c:2232</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a2d0cf4182bade9f773fb16ff12abe595"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a2d0cf4182bade9f773fb16ff12abe595">AST_RWLIST_WRLOCK</a></div><div class="ttdeci">#define AST_RWLIST_WRLOCK(head)</div><div class="ttdoc">Write locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00051">linkedlists.h:51</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a66b6af9ceef39cb23b48501efe87219f"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a66b6af9ceef39cb23b48501efe87219f">ast_unload_realtime</a></div><div class="ttdeci">int ast_unload_realtime(const char *family)</div><div class="ttdoc">Release any resources cached for a realtime family. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d9d/main_2config_8c_source.html#l03406">main/config.c:3406</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a2e9a2518b5029b96671aff6701bd5138"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a2e9a2518b5029b96671aff6701bd5138">AST_RWLIST_UNLOCK</a></div><div class="ttdeci">#define AST_RWLIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a read/write based list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00150">linkedlists.h:150</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="logger_8c_html_a59cef8b13e5fcb3e2ea61f66ea4bf0e5"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a59cef8b13e5fcb3e2ea61f66ea4bf0e5">qlog</a></div><div class="ttdeci">static FILE * qlog</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00193">logger.c:193</a></div></div>
<div class="ttc" id="logger_8h_html_ad770f83c71e237e1f64163358ce4e13d"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a></div><div class="ttdeci">#define ast_verb(level,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00463">logger.h:463</a></div></div>
<div class="ttc" id="logger_8c_html_a9f7a6acbec3680a06af27ae561772915"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a9f7a6acbec3680a06af27ae561772915">ast_queue_log</a></div><div class="ttdeci">void ast_queue_log(const char *queuename, const char *callid, const char *agent, const char *event, const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00894">logger.c:894</a></div></div>
<div class="ttc" id="logger_8c_html_a2b97f7299bdadbda12e69a1a31c9d28c"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a2b97f7299bdadbda12e69a1a31c9d28c">filesize_reload_needed</a></div><div class="ttdeci">static int filesize_reload_needed</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00084">logger.c:84</a></div></div>
<div class="ttc" id="manager_8h_html_a420f0f755e1c3378b45ca7f6f0669ffa"><div class="ttname"><a href="../../db/d45/manager_8h.html#a420f0f755e1c3378b45ca7f6f0669ffa">EVENT_FLAG_SYSTEM</a></div><div class="ttdeci">#define EVENT_FLAG_SYSTEM</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d45/manager_8h_source.html#l00071">manager.h:71</a></div></div>
<div class="ttc" id="structlogchannel_html_a05f465ec52733d0024e53f945e4cabe7"><div class="ttname"><a href="../../d6/d0c/structlogchannel.html#a05f465ec52733d0024e53f945e4cabe7">logchannel::list</a></div><div class="ttdeci">struct logchannel::@404 list</div></div>
<div class="ttc" id="structlogchannels_html"><div class="ttname"><a href="../../d2/df7/structlogchannels.html">logchannels</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00158">logger.c:158</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a944b82566722f2247aa35f1328402c98"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a944b82566722f2247aa35f1328402c98">AST_RWLIST_TRAVERSE</a></div><div class="ttdeci">#define AST_RWLIST_TRAVERSE</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00493">linkedlists.h:493</a></div></div>
<div class="ttc" id="structlogchannel_html_af255398e3e9383752e6234829e3f6037"><div class="ttname"><a href="../../d6/d0c/structlogchannel.html#af255398e3e9383752e6234829e3f6037">logchannel::disabled</a></div><div class="ttdeci">int disabled</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00137">logger.c:137</a></div></div>
<div class="ttc" id="paths_8h_html_aea5e16ca2517e2093fdfa0e7fd112f0f"><div class="ttname"><a href="../../dd/df2/paths_8h.html#aea5e16ca2517e2093fdfa0e7fd112f0f">ast_config_AST_LOG_DIR</a></div><div class="ttdeci">const char * ast_config_AST_LOG_DIR</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc5/options_8c_source.html#l00159">options.c:159</a></div></div>
<div class="ttc" id="structlogchannel_html_acc2a21b64b19aeee05b382056974c1e9"><div class="ttname"><a href="../../d6/d0c/structlogchannel.html#acc2a21b64b19aeee05b382056974c1e9">logchannel::fileptr</a></div><div class="ttdeci">FILE * fileptr</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00145">logger.c:145</a></div></div>
<div class="ttc" id="structlogchannel_html_ab49244970ed5ca30989c2dab2129de34"><div class="ttname"><a href="../../d6/d0c/structlogchannel.html#ab49244970ed5ca30989c2dab2129de34">logchannel::filename</a></div><div class="ttdeci">char filename[PATH_MAX]</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00147">logger.c:147</a></div></div>
<div class="ttc" id="logger_8c_html_a390505c32550f77c3e013a8030fac392"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a390505c32550f77c3e013a8030fac392">rotatestrategy</a></div><div class="ttdeci">rotatestrategy</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00098">logger.c:98</a></div></div>
<div class="ttc" id="logger_8c_html_a390505c32550f77c3e013a8030fac392ac157bdf0b85a40d2619cbc8bc1ae5fe2"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a390505c32550f77c3e013a8030fac392ac157bdf0b85a40d2619cbc8bc1ae5fe2">NONE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00099">logger.c:99</a></div></div>
<div class="ttc" id="structlogchannel_html"><div class="ttname"><a href="../../d6/d0c/structlogchannel.html">logchannel</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00131">logger.c:131</a></div></div>
<div class="ttc" id="logger_8c_html_adbdf4673bb7f9db253690c90c5cd6afd"><div class="ttname"><a href="../../d1/d22/logger_8c.html#adbdf4673bb7f9db253690c90c5cd6afd">logger_queue_restart</a></div><div class="ttdeci">static int logger_queue_restart(int queue_rotate)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l01113">logger.c:1113</a></div></div>
<div class="ttc" id="manager_8h_html_a1ef0ee0044dbbeb4c3a5abc6c046b208"><div class="ttname"><a href="../../db/d45/manager_8h.html#a1ef0ee0044dbbeb4c3a5abc6c046b208">manager_event</a></div><div class="ttdeci">#define manager_event(category, event, contents,...)</div><div class="ttdoc">External routines may send asterisk manager events this way. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d45/manager_8h_source.html#l00248">manager.h:248</a></div></div>
<div class="ttc" id="logger_8c_html_a5bfecba707f2f239f10b2543de3b5ef6"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a5bfecba707f2f239f10b2543de3b5ef6">logfiles</a></div><div class="ttdeci">static struct @403 logfiles</div></div>
<div class="ttc" id="utils_8h_html_a7c38859ed90e96df2b0a0fdf843769d0"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a7c38859ed90e96df2b0a0fdf843769d0">ast_mkdir</a></div><div class="ttdeci">int ast_mkdir(const char *path, int mode)</div><div class="ttdoc">Recursively create directory path. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1f/main_2utils_8c_source.html#l02231">main/utils.c:2231</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a7c6ac25ea7536c0bc9ed18cbcf917527"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7c6ac25ea7536c0bc9ed18cbcf917527">&#9670;&nbsp;</a></span>reload_module()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int reload_module </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/d22/logger_8c_source.html#l02592">2592</a> of file <a class="el" href="../../d1/d22/logger_8c_source.html">logger.c</a>.</p>

<p class="reference">References <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../d1/d22/logger_8c_source.html#l01141">reload_logger()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/d22/logger_8c_source.html#l02602">load_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l02593"></a><span class="lineno"> 2593</span>&#160;{</div><div class="line"><a name="l02594"></a><span class="lineno"> 2594</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d1/d22/logger_8c.html#a4dfd6bff5fa421d9abc89125ac5d7d8b">reload_logger</a>(0, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l02595"></a><span class="lineno"> 2595</span>&#160;}</div><div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="logger_8c_html_a4dfd6bff5fa421d9abc89125ac5d7d8b"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a4dfd6bff5fa421d9abc89125ac5d7d8b">reload_logger</a></div><div class="ttdeci">static int reload_logger(int rotate, const char *altconf)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l01141">logger.c:1141</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aeeca350be69b461abe789c969ed420ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeeca350be69b461abe789c969ed420ab">&#9670;&nbsp;</a></span>rotate_file()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int rotate_file </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/d22/logger_8c_source.html#l00974">974</a> of file <a class="el" href="../../d1/d22/logger_8c_source.html">logger.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/dfe/isdn__lib_8c_source.html#l00042">ARRAY_LEN</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02981">ast_channel_unref</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l01283">ast_dummy_channel_alloc</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l02101">ast_log()</a>, <a class="el" href="../../d4/dc5/extconf_8c_source.html#l00829">ast_safe_system()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">buf</a>, <a class="el" href="../../d7/d6f/test__linkedlists_8c_source.html#l00048">c</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00082">exec_after_rotate</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00099">NONE</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../db/db2/asterisk_8h_source.html#l00040">PATH_MAX</a>, <a class="el" href="../../d3/d8c/pbx__variables_8c_source.html#l01071">pbx_builtin_setvar_helper()</a>, <a class="el" href="../../d2/db7/ael__main_8c_source.html#l00211">pbx_substitute_variables_helper()</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00101">ROTATE</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00100">SEQUENTIAL</a>, and <a class="el" href="../../d1/d22/logger_8c_source.html#l00102">TIMESTAMP</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/d22/logger_8c_source.html#l01259">ast_logger_rotate_channel()</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l01113">logger_queue_restart()</a>, and <a class="el" href="../../d1/d22/logger_8c_source.html#l01141">reload_logger()</a>.</p>
<div class="fragment"><div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;{</div><div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;   <span class="keywordtype">char</span> old[<a class="code" href="../../db/db2/asterisk_8h.html#ae688d728e1acdfe5988c7db45d6f0166">PATH_MAX</a>];</div><div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;   <span class="keywordtype">char</span> <span class="keyword">new</span>[<a class="code" href="../../db/db2/asterisk_8h.html#ae688d728e1acdfe5988c7db45d6f0166">PATH_MAX</a>];</div><div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;   <span class="keywordtype">int</span> x, y, which, found, res = 0, fd;</div><div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;   <span class="keywordtype">char</span> *suffixes[4] = { <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;.gz&quot;</span>, <span class="stringliteral">&quot;.bz2&quot;</span>, <span class="stringliteral">&quot;.Z&quot;</span> };</div><div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;</div><div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;   <span class="keywordflow">switch</span> (<a class="code" href="../../d1/d22/logger_8c.html#a390505c32550f77c3e013a8030fac392">rotatestrategy</a>) {</div><div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d1/d22/logger_8c.html#a390505c32550f77c3e013a8030fac392ac157bdf0b85a40d2619cbc8bc1ae5fe2">NONE</a>:</div><div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;      <span class="comment">/* No rotation */</span></div><div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d1/d22/logger_8c.html#a390505c32550f77c3e013a8030fac392a6b834d43476553e583e0fde6578c82f0">SEQUENTIAL</a>:</div><div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;      <span class="keywordflow">for</span> (x = 0; ; x++) {</div><div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;         snprintf(<span class="keyword">new</span>, <span class="keyword">sizeof</span>(<span class="keyword">new</span>), <span class="stringliteral">&quot;%s.%d&quot;</span>, <a class="code" href="../../d6/d0c/structlogchannel.html#ab49244970ed5ca30989c2dab2129de34">filename</a>, x);</div><div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;         fd = open(<span class="keyword">new</span>, O_RDONLY);</div><div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;         <span class="keywordflow">if</span> (fd &gt; -1)</div><div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;            close(fd);</div><div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;         <span class="keywordflow">else</span></div><div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;      }</div><div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;      <span class="keywordflow">if</span> (rename(<a class="code" href="../../d6/d0c/structlogchannel.html#ab49244970ed5ca30989c2dab2129de34">filename</a>, <span class="keyword">new</span>)) {</div><div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;         fprintf(stderr, <span class="stringliteral">&quot;Unable to rename file &#39;%s&#39; to &#39;%s&#39;\n&quot;</span>, <a class="code" href="../../d6/d0c/structlogchannel.html#ab49244970ed5ca30989c2dab2129de34">filename</a>, <span class="keyword">new</span>);</div><div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;         res = -1;</div><div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;         <a class="code" href="../../d6/d0c/structlogchannel.html#ab49244970ed5ca30989c2dab2129de34">filename</a> = <span class="keyword">new</span>;</div><div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;      }</div><div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d1/d22/logger_8c.html#a390505c32550f77c3e013a8030fac392a3f2dbbd8fe9ad35caa594416336ceeda">TIMESTAMP</a>:</div><div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;      snprintf(<span class="keyword">new</span>, <span class="keyword">sizeof</span>(<span class="keyword">new</span>), <span class="stringliteral">&quot;%s.%ld&quot;</span>, <a class="code" href="../../d6/d0c/structlogchannel.html#ab49244970ed5ca30989c2dab2129de34">filename</a>, (<span class="keywordtype">long</span>)time(<a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>));</div><div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;      <span class="keywordflow">if</span> (rename(<a class="code" href="../../d6/d0c/structlogchannel.html#ab49244970ed5ca30989c2dab2129de34">filename</a>, <span class="keyword">new</span>)) {</div><div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;         fprintf(stderr, <span class="stringliteral">&quot;Unable to rename file &#39;%s&#39; to &#39;%s&#39;\n&quot;</span>, <a class="code" href="../../d6/d0c/structlogchannel.html#ab49244970ed5ca30989c2dab2129de34">filename</a>, <span class="keyword">new</span>);</div><div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;         res = -1;</div><div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;         <a class="code" href="../../d6/d0c/structlogchannel.html#ab49244970ed5ca30989c2dab2129de34">filename</a> = <span class="keyword">new</span>;</div><div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;      }</div><div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d1/d22/logger_8c.html#a390505c32550f77c3e013a8030fac392a3dcfe0046eb5876e287dbf0914819b16">ROTATE</a>:</div><div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;      <span class="comment">/* Find the next empty slot, including a possible suffix */</span></div><div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;      <span class="keywordflow">for</span> (x = 0; ; x++) {</div><div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;         found = 0;</div><div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;         <span class="keywordflow">for</span> (which = 0; which &lt; <a class="code" href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a>(suffixes); which++) {</div><div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;            snprintf(<span class="keyword">new</span>, <span class="keyword">sizeof</span>(<span class="keyword">new</span>), <span class="stringliteral">&quot;%s.%d%s&quot;</span>, <a class="code" href="../../d6/d0c/structlogchannel.html#ab49244970ed5ca30989c2dab2129de34">filename</a>, x, suffixes[which]);</div><div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;            fd = open(<span class="keyword">new</span>, O_RDONLY);</div><div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;            <span class="keywordflow">if</span> (fd &gt; -1) {</div><div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;               close(fd);</div><div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;               found = 1;</div><div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;               <span class="keywordflow">break</span>;</div><div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;            }</div><div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;         }</div><div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;         <span class="keywordflow">if</span> (!found) {</div><div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;         }</div><div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;      }</div><div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;</div><div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;      <span class="comment">/* Found an empty slot */</span></div><div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;      <span class="keywordflow">for</span> (y = x; y &gt; 0; y--) {</div><div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;         <span class="keywordflow">for</span> (which = 0; which &lt; <a class="code" href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a>(suffixes); which++) {</div><div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;            snprintf(old, <span class="keyword">sizeof</span>(old), <span class="stringliteral">&quot;%s.%d%s&quot;</span>, <a class="code" href="../../d6/d0c/structlogchannel.html#ab49244970ed5ca30989c2dab2129de34">filename</a>, y - 1, suffixes[which]);</div><div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;            fd = open(old, O_RDONLY);</div><div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;            <span class="keywordflow">if</span> (fd &gt; -1) {</div><div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;               <span class="comment">/* Found the right suffix */</span></div><div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;               close(fd);</div><div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;               snprintf(<span class="keyword">new</span>, <span class="keyword">sizeof</span>(<span class="keyword">new</span>), <span class="stringliteral">&quot;%s.%d%s&quot;</span>, <a class="code" href="../../d6/d0c/structlogchannel.html#ab49244970ed5ca30989c2dab2129de34">filename</a>, y, suffixes[which]);</div><div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;               <span class="keywordflow">if</span> (rename(old, <span class="keyword">new</span>)) {</div><div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;                  fprintf(stderr, <span class="stringliteral">&quot;Unable to rename file &#39;%s&#39; to &#39;%s&#39;\n&quot;</span>, old, <span class="keyword">new</span>);</div><div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;                  res = -1;</div><div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;               }</div><div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;               <span class="keywordflow">break</span>;</div><div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;            }</div><div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;         }</div><div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;      }</div><div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;</div><div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;      <span class="comment">/* Finally, rename the current file */</span></div><div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;      snprintf(<span class="keyword">new</span>, <span class="keyword">sizeof</span>(<span class="keyword">new</span>), <span class="stringliteral">&quot;%s.0&quot;</span>, <a class="code" href="../../d6/d0c/structlogchannel.html#ab49244970ed5ca30989c2dab2129de34">filename</a>);</div><div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;      <span class="keywordflow">if</span> (rename(<a class="code" href="../../d6/d0c/structlogchannel.html#ab49244970ed5ca30989c2dab2129de34">filename</a>, <span class="keyword">new</span>)) {</div><div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;         fprintf(stderr, <span class="stringliteral">&quot;Unable to rename file &#39;%s&#39; to &#39;%s&#39;\n&quot;</span>, <a class="code" href="../../d6/d0c/structlogchannel.html#ab49244970ed5ca30989c2dab2129de34">filename</a>, <span class="keyword">new</span>);</div><div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;         res = -1;</div><div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;         <a class="code" href="../../d6/d0c/structlogchannel.html#ab49244970ed5ca30989c2dab2129de34">filename</a> = <span class="keyword">new</span>;</div><div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;      }</div><div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;   }</div><div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;</div><div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(<a class="code" href="../../d1/d22/logger_8c.html#a63c5086d15ebc49d28387fcbfa176bf5">exec_after_rotate</a>)) {</div><div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;      <span class="keyword">struct </span><a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *<a class="code" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a> = <a class="code" href="../../d5/d7b/channel_8h.html#acc0ae2c008f4157736ef290e9ca62572">ast_dummy_channel_alloc</a>();</div><div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;      <span class="keywordtype">char</span> <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>[512];</div><div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;</div><div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;      <a class="code" href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a>(c, <span class="stringliteral">&quot;filename&quot;</span>, filename);</div><div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;      <a class="code" href="../../db/de0/pbx_8h.html#af5a13a9ab5aac5bb61e4f98ae7e8d296">pbx_substitute_variables_helper</a>(c, <a class="code" href="../../d1/d22/logger_8c.html#a63c5086d15ebc49d28387fcbfa176bf5">exec_after_rotate</a>, buf, <span class="keyword">sizeof</span>(buf));</div><div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;      <span class="keywordflow">if</span> (c) {</div><div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;         c = <a class="code" href="../../d5/d7b/channel_8h.html#ab733a7825810b895a89b629e0ea89380">ast_channel_unref</a>(c);</div><div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;      }</div><div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a9fb5cf0385848033ee3e98625e5f9784">ast_safe_system</a>(buf) == -1) {</div><div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;         <a class="code" href="../../d1/d22/logger_8c.html#a93dd824dff97fe84941d6d71b7a3710e">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;error executing &#39;%s&#39;\n&quot;</span>, buf);</div><div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;      }</div><div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;   }</div><div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;}</div><div class="ttc" id="structast__channel_html"><div class="ttname"><a href="../../df/d3c/structast__channel.html">ast_channel</a></div><div class="ttdoc">Main Channel structure associated with a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00073">channel_internal_api.c:73</a></div></div>
<div class="ttc" id="logger_8c_html_a390505c32550f77c3e013a8030fac392a6b834d43476553e583e0fde6578c82f0"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a390505c32550f77c3e013a8030fac392a6b834d43476553e583e0fde6578c82f0">SEQUENTIAL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00100">logger.c:100</a></div></div>
<div class="ttc" id="isdn__lib_8c_html_ab9129b977a587b50ea801daac75e178f"><div class="ttname"><a href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a></div><div class="ttdeci">#define ARRAY_LEN(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dfe/isdn__lib_8c_source.html#l00042">isdn_lib.c:42</a></div></div>
<div class="ttc" id="logger_8c_html_a390505c32550f77c3e013a8030fac392a3f2dbbd8fe9ad35caa594416336ceeda"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a390505c32550f77c3e013a8030fac392a3f2dbbd8fe9ad35caa594416336ceeda">TIMESTAMP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00102">logger.c:102</a></div></div>
<div class="ttc" id="channel_8h_html_ab733a7825810b895a89b629e0ea89380"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#ab733a7825810b895a89b629e0ea89380">ast_channel_unref</a></div><div class="ttdeci">#define ast_channel_unref(c)</div><div class="ttdoc">Decrease channel reference count. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02981">channel.h:2981</a></div></div>
<div class="ttc" id="eagi__proxy_8c_html_ac95651d79c608a3148973b5b1fc9e525"><div class="ttname"><a href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a></div><div class="ttdeci">char buf[BUFSIZE]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">eagi_proxy.c:66</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="test__linkedlists_8c_html_acd9db00336027462cfb25b97b5356883"><div class="ttname"><a href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a></div><div class="ttdeci">static struct test_val c</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d6f/test__linkedlists_8c_source.html#l00048">test_linkedlists.c:48</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="logger_8c_html_a390505c32550f77c3e013a8030fac392a3dcfe0046eb5876e287dbf0914819b16"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a390505c32550f77c3e013a8030fac392a3dcfe0046eb5876e287dbf0914819b16">ROTATE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00101">logger.c:101</a></div></div>
<div class="ttc" id="channel_8h_html_acc0ae2c008f4157736ef290e9ca62572"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#acc0ae2c008f4157736ef290e9ca62572">ast_dummy_channel_alloc</a></div><div class="ttdeci">#define ast_dummy_channel_alloc()</div><div class="ttdoc">Create a fake channel structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01283">channel.h:1283</a></div></div>
<div class="ttc" id="logger_8c_html_a63c5086d15ebc49d28387fcbfa176bf5"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a63c5086d15ebc49d28387fcbfa176bf5">exec_after_rotate</a></div><div class="ttdeci">static char exec_after_rotate[256]</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00082">logger.c:82</a></div></div>
<div class="ttc" id="include_2asterisk_2app_8h_html_a9fb5cf0385848033ee3e98625e5f9784"><div class="ttname"><a href="../../d3/d93/include_2asterisk_2app_8h.html#a9fb5cf0385848033ee3e98625e5f9784">ast_safe_system</a></div><div class="ttdeci">int ast_safe_system(const char *s)</div><div class="ttdoc">Safely spawn an OS shell command while closing file descriptors. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc5/extconf_8c_source.html#l00829">extconf.c:829</a></div></div>
<div class="ttc" id="pbx_8h_html_a6e5b90edb84d216267148dddcffe9b9a"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a></div><div class="ttdeci">int pbx_builtin_setvar_helper(struct ast_channel *chan, const char *name, const char *value)</div><div class="ttdoc">Add a variable to the channel variable stack, removing the most recently set value for the same name...</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d8c/pbx__variables_8c_source.html#l01071">pbx_variables.c:1071</a></div></div>
<div class="ttc" id="structlogchannel_html_ab49244970ed5ca30989c2dab2129de34"><div class="ttname"><a href="../../d6/d0c/structlogchannel.html#ab49244970ed5ca30989c2dab2129de34">logchannel::filename</a></div><div class="ttdeci">char filename[PATH_MAX]</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00147">logger.c:147</a></div></div>
<div class="ttc" id="logger_8c_html_a93dd824dff97fe84941d6d71b7a3710e"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a93dd824dff97fe84941d6d71b7a3710e">ast_log</a></div><div class="ttdeci">void ast_log(int level, const char *file, int line, const char *function, const char *fmt,...)</div><div class="ttdoc">Used for sending a log message This is the standard logger function. Probably the only way you will i...</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l02101">logger.c:2101</a></div></div>
<div class="ttc" id="logger_8c_html_a390505c32550f77c3e013a8030fac392"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a390505c32550f77c3e013a8030fac392">rotatestrategy</a></div><div class="ttdeci">rotatestrategy</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00098">logger.c:98</a></div></div>
<div class="ttc" id="pbx_8h_html_af5a13a9ab5aac5bb61e4f98ae7e8d296"><div class="ttname"><a href="../../db/de0/pbx_8h.html#af5a13a9ab5aac5bb61e4f98ae7e8d296">pbx_substitute_variables_helper</a></div><div class="ttdeci">void pbx_substitute_variables_helper(struct ast_channel *c, const char *cp1, char *cp2, int count)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db7/ael__main_8c_source.html#l00211">ael_main.c:211</a></div></div>
<div class="ttc" id="logger_8c_html_a390505c32550f77c3e013a8030fac392ac157bdf0b85a40d2619cbc8bc1ae5fe2"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a390505c32550f77c3e013a8030fac392ac157bdf0b85a40d2619cbc8bc1ae5fe2">NONE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00099">logger.c:99</a></div></div>
<div class="ttc" id="asterisk_8h_html_ae688d728e1acdfe5988c7db45d6f0166"><div class="ttname"><a href="../../db/db2/asterisk_8h.html#ae688d728e1acdfe5988c7db45d6f0166">PATH_MAX</a></div><div class="ttdeci">#define PATH_MAX</div><div class="ttdef"><b>Definition:</b> <a href="../../db/db2/asterisk_8h_source.html#l00040">asterisk.h:40</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad09fa931f468002152a3cc2d5ce25eae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad09fa931f468002152a3cc2d5ce25eae">&#9670;&nbsp;</a></span>unload_module()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int unload_module </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/d22/logger_8c_source.html#l02597">2597</a> of file <a class="el" href="../../d1/d22/logger_8c_source.html">logger.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/d22/logger_8c_source.html#l02602">load_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l02598"></a><span class="lineno"> 2598</span>&#160;{</div><div class="line"><a name="l02599"></a><span class="lineno"> 2599</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02600"></a><span class="lineno"> 2600</span>&#160;}</div></div><!-- fragment -->
</div>
</div>
<a id="a5a72f6b0d691624a37aabc6268c7bc3f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a72f6b0d691624a37aabc6268c7bc3f">&#9670;&nbsp;</a></span>update_logchannels()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void update_logchannels </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/d22/logger_8c_source.html#l02360">2360</a> of file <a class="el" href="../../d1/d22/logger_8c_source.html">logger.c</a>.</p>

<p class="reference">References <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00493">AST_RWLIST_TRAVERSE</a>, <a class="el" href="../../d1/d22/logger_8c.html#a1a90d4b9df64212982f448c9b287fe5f">AST_THREADSTORAGE_RAW()</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00085">global_logmask</a>, <a class="el" href="../../d6/d0c/structlogchannel.html#a05f465ec52733d0024e53f945e4cabe7">logchannel::list</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00135">logchannel::logmask</a>, and <a class="el" href="../../d1/d22/logger_8c_source.html#l00479">make_components()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/d22/logger_8c_source.html#l02536">ast_logger_unregister_level()</a>, and <a class="el" href="../../d1/d22/logger_8c_source.html#l02464">logger_register_level()</a>.</p>
<div class="fragment"><div class="line"><a name="l02361"></a><span class="lineno"> 2361</span>&#160;{</div><div class="line"><a name="l02362"></a><span class="lineno"> 2362</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d6/d0c/structlogchannel.html">logchannel</a> *cur;</div><div class="line"><a name="l02363"></a><span class="lineno"> 2363</span>&#160;</div><div class="line"><a name="l02364"></a><span class="lineno"> 2364</span>&#160;   <a class="code" href="../../d1/d22/logger_8c.html#a0705cfbd7955309ede3cb7969dac57f1">global_logmask</a> = 0;</div><div class="line"><a name="l02365"></a><span class="lineno"> 2365</span>&#160;</div><div class="line"><a name="l02366"></a><span class="lineno"> 2366</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a944b82566722f2247aa35f1328402c98">AST_RWLIST_TRAVERSE</a>(&amp;<a class="code" href="../../d2/df7/structlogchannels.html">logchannels</a>, cur, <a class="code" href="../../d6/d0c/structlogchannel.html#a05f465ec52733d0024e53f945e4cabe7">list</a>) {</div><div class="line"><a name="l02367"></a><span class="lineno"> 2367</span>&#160;      <a class="code" href="../../d1/d22/logger_8c.html#a867f2826ec792c2f51ab97adf00fc6bd">make_components</a>(cur);</div><div class="line"><a name="l02368"></a><span class="lineno"> 2368</span>&#160;      <a class="code" href="../../d1/d22/logger_8c.html#a0705cfbd7955309ede3cb7969dac57f1">global_logmask</a> |= cur-&gt;<a class="code" href="../../d6/d0c/structlogchannel.html#aaeeb8d3574465a64ed10e4809ebd4cf6">logmask</a>;</div><div class="line"><a name="l02369"></a><span class="lineno"> 2369</span>&#160;   }</div><div class="line"><a name="l02370"></a><span class="lineno"> 2370</span>&#160;}</div><div class="ttc" id="logger_8c_html_a0705cfbd7955309ede3cb7969dac57f1"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a0705cfbd7955309ede3cb7969dac57f1">global_logmask</a></div><div class="ttdeci">static unsigned int global_logmask</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00085">logger.c:85</a></div></div>
<div class="ttc" id="logger_8c_html_a867f2826ec792c2f51ab97adf00fc6bd"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a867f2826ec792c2f51ab97adf00fc6bd">make_components</a></div><div class="ttdeci">static void make_components(struct logchannel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00479">logger.c:479</a></div></div>
<div class="ttc" id="structlogchannel_html_a05f465ec52733d0024e53f945e4cabe7"><div class="ttname"><a href="../../d6/d0c/structlogchannel.html#a05f465ec52733d0024e53f945e4cabe7">logchannel::list</a></div><div class="ttdeci">struct logchannel::@404 list</div></div>
<div class="ttc" id="structlogchannels_html"><div class="ttname"><a href="../../d2/df7/structlogchannels.html">logchannels</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00158">logger.c:158</a></div></div>
<div class="ttc" id="structlogchannel_html_aaeeb8d3574465a64ed10e4809ebd4cf6"><div class="ttname"><a href="../../d6/d0c/structlogchannel.html#aaeeb8d3574465a64ed10e4809ebd4cf6">logchannel::logmask</a></div><div class="ttdeci">unsigned int logmask</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00135">logger.c:135</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a944b82566722f2247aa35f1328402c98"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a944b82566722f2247aa35f1328402c98">AST_RWLIST_TRAVERSE</a></div><div class="ttdeci">#define AST_RWLIST_TRAVERSE</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00493">linkedlists.h:493</a></div></div>
<div class="ttc" id="structlogchannel_html"><div class="ttname"><a href="../../d6/d0c/structlogchannel.html">logchannel</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00131">logger.c:131</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a1bbf34a84e8ad026c0eccdda92d0fa4f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1bbf34a84e8ad026c0eccdda92d0fa4f">&#9670;&nbsp;</a></span>verb_console_free()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void verb_console_free </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>v_console</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/d22/logger_8c_source.html#l02285">2285</a> of file <a class="el" href="../../d1/d22/logger_8c_source.html">logger.c</a>.</p>

<p class="reference">References <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, and <a class="el" href="../../d1/d22/logger_8c_source.html#l02275">verb_console_unregister()</a>.</p>
<div class="fragment"><div class="line"><a name="l02286"></a><span class="lineno"> 2286</span>&#160;{</div><div class="line"><a name="l02287"></a><span class="lineno"> 2287</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/d9c/structverb__console.html">verb_console</a> *<a class="code" href="../../df/d87/structconsole.html">console</a> = v_console;</div><div class="line"><a name="l02288"></a><span class="lineno"> 2288</span>&#160;</div><div class="line"><a name="l02289"></a><span class="lineno"> 2289</span>&#160;   <a class="code" href="../../d1/d22/logger_8c.html#af70c1c39ec11740a497d6fd421a5f183">verb_console_unregister</a>(console);</div><div class="line"><a name="l02290"></a><span class="lineno"> 2290</span>&#160;   <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(console);</div><div class="line"><a name="l02291"></a><span class="lineno"> 2291</span>&#160;}</div><div class="ttc" id="structconsole_html"><div class="ttname"><a href="../../df/d87/structconsole.html">console</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d03/asterisk_8c_source.html#l00316">asterisk.c:316</a></div></div>
<div class="ttc" id="structverb__console_html"><div class="ttname"><a href="../../d9/d9c/structverb__console.html">verb_console</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l02219">logger.c:2219</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="logger_8c_html_af70c1c39ec11740a497d6fd421a5f183"><div class="ttname"><a href="../../d1/d22/logger_8c.html#af70c1c39ec11740a497d6fd421a5f183">verb_console_unregister</a></div><div class="ttdeci">static void verb_console_unregister(struct verb_console *console)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l02275">logger.c:2275</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af70c1c39ec11740a497d6fd421a5f183"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af70c1c39ec11740a497d6fd421a5f183">&#9670;&nbsp;</a></span>verb_console_unregister()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void verb_console_unregister </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d9/d9c/structverb__console.html">verb_console</a> *&#160;</td>
          <td class="paramname"><em>console</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/d22/logger_8c_source.html#l02275">2275</a> of file <a class="el" href="../../d1/d22/logger_8c_source.html">logger.c</a>.</p>

<p class="reference">References <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00884">AST_RWLIST_REMOVE</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00150">AST_RWLIST_UNLOCK</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00051">AST_RWLIST_WRLOCK</a>, and <a class="el" href="../../d1/d22/logger_8c_source.html#l02232">ast_verb_update()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/d22/logger_8c_source.html#l02312">ast_verb_console_unregister()</a>, and <a class="el" href="../../d1/d22/logger_8c_source.html#l02285">verb_console_free()</a>.</p>
<div class="fragment"><div class="line"><a name="l02276"></a><span class="lineno"> 2276</span>&#160;{</div><div class="line"><a name="l02277"></a><span class="lineno"> 2277</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a2d0cf4182bade9f773fb16ff12abe595">AST_RWLIST_WRLOCK</a>(&amp;<a class="code" href="../../d7/d05/structverb__consoles.html">verb_consoles</a>);</div><div class="line"><a name="l02278"></a><span class="lineno"> 2278</span>&#160;   console = <a class="code" href="../../df/d90/linkedlists_8h.html#a6091f0518f8b6f443fd9f5150f3ac407">AST_RWLIST_REMOVE</a>(&amp;<a class="code" href="../../d7/d05/structverb__consoles.html">verb_consoles</a>, console, <a class="code" href="../../d5/da1/structnode.html">node</a>);</div><div class="line"><a name="l02279"></a><span class="lineno"> 2279</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a2e9a2518b5029b96671aff6701bd5138">AST_RWLIST_UNLOCK</a>(&amp;<a class="code" href="../../d7/d05/structverb__consoles.html">verb_consoles</a>);</div><div class="line"><a name="l02280"></a><span class="lineno"> 2280</span>&#160;   <span class="keywordflow">if</span> (console) {</div><div class="line"><a name="l02281"></a><span class="lineno"> 2281</span>&#160;      <a class="code" href="../../d1/d22/logger_8c.html#aad013a7e1fb2dcbd046b44c40b060e5b">ast_verb_update</a>();</div><div class="line"><a name="l02282"></a><span class="lineno"> 2282</span>&#160;   }</div><div class="line"><a name="l02283"></a><span class="lineno"> 2283</span>&#160;}</div><div class="ttc" id="structnode_html"><div class="ttname"><a href="../../d5/da1/structnode.html">node</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d2b/test__heap_8c_source.html#l00038">test_heap.c:38</a></div></div>
<div class="ttc" id="logger_8c_html_aad013a7e1fb2dcbd046b44c40b060e5b"><div class="ttname"><a href="../../d1/d22/logger_8c.html#aad013a7e1fb2dcbd046b44c40b060e5b">ast_verb_update</a></div><div class="ttdeci">void ast_verb_update(void)</div><div class="ttdoc">Re-evaluate the system max verbosity level (ast_verb_sys_level). </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l02232">logger.c:2232</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a2d0cf4182bade9f773fb16ff12abe595"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a2d0cf4182bade9f773fb16ff12abe595">AST_RWLIST_WRLOCK</a></div><div class="ttdeci">#define AST_RWLIST_WRLOCK(head)</div><div class="ttdoc">Write locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00051">linkedlists.h:51</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a2e9a2518b5029b96671aff6701bd5138"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a2e9a2518b5029b96671aff6701bd5138">AST_RWLIST_UNLOCK</a></div><div class="ttdeci">#define AST_RWLIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a read/write based list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00150">linkedlists.h:150</a></div></div>
<div class="ttc" id="structverb__consoles_html"><div class="ttname"><a href="../../d7/d05/structverb__consoles.html">verb_consoles</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l02227">logger.c:2227</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a6091f0518f8b6f443fd9f5150f3ac407"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a6091f0518f8b6f443fd9f5150f3ac407">AST_RWLIST_REMOVE</a></div><div class="ttdeci">#define AST_RWLIST_REMOVE</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00884">linkedlists.h:884</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ab22f32016155f7f403e7178767163d7d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab22f32016155f7f403e7178767163d7d">&#9670;&nbsp;</a></span>__mod_info</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a> __mod_info = { .<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a> = <a class="el" href="../../da/ddd/named__acl_8c.html#aec23fc5034c3bb08140fc021f4955877">AST_MODULE</a>, .flags = <a class="el" href="../../d5/d16/module_8h.html#a155a0df9c59e04e305d4a2fa3e35f843a835b27a90d895a488e4e14cc3d2dee8c">AST_MODFLAG_GLOBAL_SYMBOLS</a> | <a class="el" href="../../d5/d16/module_8h.html#a155a0df9c59e04e305d4a2fa3e35f843a12c3f60dd7655dfa8d4430cbf04b1223">AST_MODFLAG_LOAD_ORDER</a> , .description = &quot;Logger&quot; , .key = &quot;This paragraph is copyright (<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>) 2006 by Digium, Inc. \In <a class="el" href="../../d5/d14/voicin_8c.html#aed7ca058008dc3e5ee131e575abed285">order</a> for your module to load, it must return this \key via <a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a> function called \&quot;key\&quot;. Any code which \includes this paragraph must <a class="el" href="../../dd/d7c/eagi__proxy_8c.html#a39730e90126aad69cfc9ca4d6fcdb3a6">be</a> licensed under the GNU \General Public License <a class="el" href="../../da/d7c/utils_2frame_8h.html#a56abfaab87c46691c1ef3ad0df23e864">version</a> 2 or later (at your \option). In addition to Digium's general reservations \of rights, Digium expressly reserves the right to \allow other parties to license this paragraph under \different terms. Any use of Digium, Inc. trademarks or \logos (including \&quot;Asterisk\&quot; or \&quot;Digium\&quot;) without \express written <a class="el" href="../../d4/d4c/structpermission.html">permission</a> of Digium, Inc. is prohibited.\n&quot; , .buildopt_sum = &quot;30ef0c93b36035ec78c9cfd712d36d9b&quot; , .support_level = AST_MODULE_SUPPORT_CORE, .load = load_module, .unload = unload_module, .reload = reload_module, .load_pri = 0, }</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/d22/logger_8c_source.html#l02615">2615</a> of file <a class="el" href="../../d1/d22/logger_8c_source.html">logger.c</a>.</p>

</div>
</div>
<a id="ad60e83b9aa660040fed4d5377966cc21"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad60e83b9aa660040fed4d5377966cc21">&#9670;&nbsp;</a></span>ast_module_info</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const struct <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a>* <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a> = &amp;<a class="el" href="../../d6/d7a/test__xml__escape_8c.html#ab22f32016155f7f403e7178767163d7d">__mod_info</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/d22/logger_8c_source.html#l02615">2615</a> of file <a class="el" href="../../d1/d22/logger_8c_source.html">logger.c</a>.</p>

</div>
</div>
<a id="ad833b610a71e242ad11a7f3fb5e79b90"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad833b610a71e242ad11a7f3fb5e79b90">&#9670;&nbsp;</a></span>cli_logger</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d8/d07/structast__cli__entry.html">ast_cli_entry</a> cli_logger[]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/d22/logger_8c_source.html#l01559">1559</a> of file <a class="el" href="../../d1/d22/logger_8c_source.html">logger.c</a>.</p>

</div>
</div>
<a id="a38ac6d8ec7483171f8a13fed360b6ced"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a38ac6d8ec7483171f8a13fed360b6ced">&#9670;&nbsp;</a></span>close_logger_thread</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int close_logger_thread = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/d22/logger_8c_source.html#l00191">191</a> of file <a class="el" href="../../d1/d22/logger_8c_source.html">logger.c</a>.</p>

</div>
</div>
<a id="a8e3a3c76f7cfd1cbe8818452da8eb860"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e3a3c76f7cfd1cbe8818452da8eb860">&#9670;&nbsp;</a></span>colors</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const int colors[<a class="el" href="../../d1/d8c/logger_8h.html#a3d02ffd5809bdb049c815df859bbfcf4">NUMLOGLEVELS</a>]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Colors used in the console for logging. </p>

<p class="definition">Definition at line <a class="el" href="../../d1/d22/logger_8c_source.html#l00217">217</a> of file <a class="el" href="../../d1/d22/logger_8c_source.html">logger.c</a>.</p>

</div>
</div>
<a id="a2057dec53731af6bb6881015b58936ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2057dec53731af6bb6881015b58936ba">&#9670;&nbsp;</a></span>dateformat</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">char dateformat[256] = &quot;%b %e %T&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/d22/logger_8c_source.html#l00079">79</a> of file <a class="el" href="../../d1/d22/logger_8c_source.html">logger.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/d22/logger_8c_source.html#l00684">ast_init_logger_for_socket_console()</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l02577">ast_logger_get_dateformat()</a>, <a class="el" href="../../d1/d6d/chan__unistim_8c_source.html#l06501">build_device()</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l01682">format_log_message_ap()</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00710">init_logger_chain()</a>, and <a class="el" href="../../d1/d22/logger_8c_source.html#l00617">make_logchannel()</a>.</p>

</div>
</div>
<a id="a5f2b7ea41494bbea44ef18a8aedd671e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5f2b7ea41494bbea44ef18a8aedd671e">&#9670;&nbsp;</a></span>display_callids</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int display_callids</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/d22/logger_8c_source.html#l00089">89</a> of file <a class="el" href="../../d1/d22/logger_8c_source.html">logger.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/d22/logger_8c_source.html#l01682">format_log_message_ap()</a>, and <a class="el" href="../../d1/d22/logger_8c_source.html#l00710">init_logger_chain()</a>.</p>

</div>
</div>
<a id="a63c5086d15ebc49d28387fcbfa176bf5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a63c5086d15ebc49d28387fcbfa176bf5">&#9670;&nbsp;</a></span>exec_after_rotate</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">char exec_after_rotate[256] = &quot;&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/d22/logger_8c_source.html#l00082">82</a> of file <a class="el" href="../../d1/d22/logger_8c_source.html">logger.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/d22/logger_8c_source.html#l00710">init_logger_chain()</a>, and <a class="el" href="../../d1/d22/logger_8c_source.html#l00974">rotate_file()</a>.</p>

</div>
</div>
<a id="a2b97f7299bdadbda12e69a1a31c9d28c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2b97f7299bdadbda12e69a1a31c9d28c">&#9670;&nbsp;</a></span>filesize_reload_needed</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int filesize_reload_needed</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/d22/logger_8c_source.html#l00084">84</a> of file <a class="el" href="../../d1/d22/logger_8c_source.html">logger.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/d22/logger_8c_source.html#l01568">_handle_SIGXFSZ()</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l01580">logger_print_normal()</a>, and <a class="el" href="../../d1/d22/logger_8c_source.html#l01141">reload_logger()</a>.</p>

</div>
</div>
<a id="a0705cfbd7955309ede3cb7969dac57f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0705cfbd7955309ede3cb7969dac57f1">&#9670;&nbsp;</a></span>global_logmask</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int global_logmask = 0xFFFF</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/d22/logger_8c_source.html#l00085">85</a> of file <a class="el" href="../../d1/d22/logger_8c_source.html">logger.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/d22/logger_8c_source.html#l01419">ast_logger_create_channel()</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l02536">ast_logger_unregister_level()</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00710">init_logger_chain()</a>, and <a class="el" href="../../d1/d22/logger_8c_source.html#l02360">update_logchannels()</a>.</p>

</div>
</div>
<a id="a96ffd6a49fc389a717897c187672d70e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a96ffd6a49fc389a717897c187672d70e">&#9670;&nbsp;</a></span>handle_SIGXFSZ</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct sigaction handle_SIGXFSZ</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div><div class="line">   .sa_handler = <a class="code" href="../../d1/d22/logger_8c.html#a2f1be0b868a854412d364a9712a716ec">_handle_SIGXFSZ</a>,</div><div class="line">   .sa_flags = SA_RESTART,</div><div class="line">}</div><div class="ttc" id="logger_8c_html_a2f1be0b868a854412d364a9712a716ec"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a2f1be0b868a854412d364a9712a716ec">_handle_SIGXFSZ</a></div><div class="ttdeci">static void _handle_SIGXFSZ(int sig)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l01568">logger.c:1568</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="../../d1/d22/logger_8c_source.html#l01574">1574</a> of file <a class="el" href="../../d1/d22/logger_8c_source.html">logger.c</a>.</p>

</div>
</div>
<a id="a80e170193fe4d362e68c72e8deff70b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a80e170193fe4d362e68c72e8deff70b4">&#9670;&nbsp;</a></span>high_water_alert</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int high_water_alert</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/d22/logger_8c_source.html#l00096">96</a> of file <a class="el" href="../../d1/d22/logger_8c_source.html">logger.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/d22/logger_8c_source.html#l02053">ast_log_full()</a>, and <a class="el" href="../../d1/d22/logger_8c_source.html#l01761">logger_thread()</a>.</p>

</div>
</div>
<a id="af31254e3111773fe1dc68e8dc13df2fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af31254e3111773fe1dc68e8dc13df2fe">&#9670;&nbsp;</a></span>hostname</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">char hostname[<a class="el" href="../../d9/d94/network_8h.html#afd80ecbe3170ca4fc85b65cda8659f82">MAXHOSTNAMELEN</a>]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/d22/logger_8c_source.html#l00112">112</a> of file <a class="el" href="../../d1/d22/logger_8c_source.html">logger.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/d22/logger_8c_source.html#l00710">init_logger_chain()</a>, and <a class="el" href="../../d1/d22/logger_8c_source.html#l00560">make_filename()</a>.</p>

</div>
</div>
<a id="a2ae9b20e8a0ca3f97cf9f8927e0fdb7f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2ae9b20e8a0ca3f97cf9f8927e0fdb7f">&#9670;&nbsp;</a></span>levels</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">char* levels[<a class="el" href="../../d1/d8c/logger_8h.html#a3d02ffd5809bdb049c815df859bbfcf4">NUMLOGLEVELS</a>]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Logging channels used in the Asterisk logging system. </p>
<p>The first 16 levels are reserved for system usage, and the remaining levels are reserved for usage by dynamic levels registered via ast_logger_register_level. </p>

<p class="definition">Definition at line <a class="el" href="../../d1/d22/logger_8c_source.html#l00206">206</a> of file <a class="el" href="../../d1/d22/logger_8c_source.html">logger.c</a>.</p>

</div>
</div>
<a id="ad073beb53a8f82626a23cd86f79e587e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad073beb53a8f82626a23cd86f79e587e">&#9670;&nbsp;</a></span>log_buf</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../dd/d17/structast__threadstorage.html">ast_threadstorage</a> log_buf = { .once = PTHREAD_ONCE_INIT , .key_init = <a class="el" href="../../d1/d22/logger_8c.html#a92572f1f7f10b2beb24312dcd328f701">__init_log_buf</a> , .custom_init = <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> , }</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/d22/logger_8c_source.html#l00256">256</a> of file <a class="el" href="../../d1/d22/logger_8c_source.html">logger.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/d22/logger_8c_source.html#l01682">format_log_message_ap()</a>.</p>

</div>
</div>
<a id="a3a556d481f88ac4f66e9aac3bc7eb2e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3a556d481f88ac4f66e9aac3bc7eb2e8">&#9670;&nbsp;</a></span>logchannels</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d2/df7/structlogchannels.html">logchannels</a>   <a class="el" href="../../d2/df7/structlogchannels.html">logchannels</a> = { .<a class="el" href="../../d7/d8e/test__cdr_8c.html#ad010071647150404acc6651544245543">first</a> = <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, .<a class="el" href="../../d7/d8e/test__cdr_8c.html#abaf7793fbb72797de5118c5f1f7b21ae">last</a> = <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, .<a class="el" href="../../d7/d8e/test__cdr_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a> = { PTHREAD_RWLOCK_INITIALIZER , <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, {1, 0} } , }</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="abb118951a9d7c498a6e28454e7eb0bd5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abb118951a9d7c498a6e28454e7eb0bd5">&#9670;&nbsp;</a></span>logcond</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dd/d42/lock_8h.html#ab134d98cdfe7de0f7a72b377c0765dc7">ast_cond_t</a> logcond</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/d22/logger_8c_source.html#l00190">190</a> of file <a class="el" href="../../d1/d22/logger_8c_source.html">logger.c</a>.</p>

</div>
</div>
<a id="a5bfecba707f2f239f10b2543de3b5ef6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5bfecba707f2f239f10b2543de3b5ef6">&#9670;&nbsp;</a></span>logfiles</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct { ... }   logfiles</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../d1/d22/logger_8c_source.html#l00894">ast_queue_log()</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00710">init_logger_chain()</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l01817">logger_queue_init()</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l01078">logger_queue_rt_start()</a>, and <a class="el" href="../../d1/d22/logger_8c_source.html#l01141">reload_logger()</a>.</p>

</div>
</div>
<a id="a7a35f9cedea57e131ce4b9c5fa95b0f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7a35f9cedea57e131ce4b9c5fa95b0f9">&#9670;&nbsp;</a></span>logformatter_default</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../da/d44/structlogformatter.html">logformatter</a> logformatter_default</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div><div class="line">   .name = <span class="stringliteral">&quot;default&quot;</span>,</div><div class="line">   .format_log = <a class="code" href="../../d1/d22/logger_8c.html#a912a789ca7ef3b03fcc8b1d43e01b04f">format_log_default</a>,</div><div class="line">}</div><div class="ttc" id="logger_8c_html_a912a789ca7ef3b03fcc8b1d43e01b04f"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a912a789ca7ef3b03fcc8b1d43e01b04f">format_log_default</a></div><div class="ttdeci">static int format_log_default(struct logchannel *chan, struct logmsg *msg, char *buf, size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00365">logger.c:365</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="../../d1/d22/logger_8c_source.html#l00424">424</a> of file <a class="el" href="../../d1/d22/logger_8c_source.html">logger.c</a>.</p>

</div>
</div>
<a id="a721d22f30132e2bc4b8bfe27f540df01"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a721d22f30132e2bc4b8bfe27f540df01">&#9670;&nbsp;</a></span>logformatter_json</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../da/d44/structlogformatter.html">logformatter</a> logformatter_json</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div><div class="line">   .name = <span class="stringliteral">&quot;json&quot;</span>,</div><div class="line">   .format_log = <a class="code" href="../../d1/d22/logger_8c.html#a02a42dd9f9b54d87ff85f4b0cfa0ff17">format_log_json</a></div><div class="line">}</div><div class="ttc" id="logger_8c_html_a02a42dd9f9b54d87ff85f4b0cfa0ff17"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a02a42dd9f9b54d87ff85f4b0cfa0ff17">format_log_json</a></div><div class="ttdeci">static int format_log_json(struct logchannel *channel, struct logmsg *msg, char *buf, size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00259">logger.c:259</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="../../d1/d22/logger_8c_source.html#l00314">314</a> of file <a class="el" href="../../d1/d22/logger_8c_source.html">logger.c</a>.</p>

</div>
</div>
<a id="ab5646d2a0c66031589c56297a8e78aa7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab5646d2a0c66031589c56297a8e78aa7">&#9670;&nbsp;</a></span>logformatter_plain</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../da/d44/structlogformatter.html">logformatter</a> logformatter_plain</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div><div class="line">   .name = <span class="stringliteral">&quot;plain&quot;</span>,</div><div class="line">   .format_log = <a class="code" href="../../d1/d22/logger_8c.html#a0d5c694b14ef48eca0cd963671d49cb1">format_log_plain</a>,</div><div class="line">}</div><div class="ttc" id="logger_8c_html_a0d5c694b14ef48eca0cd963671d49cb1"><div class="ttname"><a href="../../d1/d22/logger_8c.html#a0d5c694b14ef48eca0cd963671d49cb1">format_log_plain</a></div><div class="ttdeci">static int format_log_plain(struct logchannel *chan, struct logmsg *msg, char *buf, size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l00429">logger.c:429</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="../../d1/d22/logger_8c_source.html#l00474">474</a> of file <a class="el" href="../../d1/d22/logger_8c_source.html">logger.c</a>.</p>

</div>
</div>
<a id="a5f80b9400a0cdb3ac3a54a4da44af9b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5f80b9400a0cdb3ac3a54a4da44af9b2">&#9670;&nbsp;</a></span>logger_initialized</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int logger_initialized</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/d22/logger_8c_source.html#l00087">87</a> of file <a class="el" href="../../d1/d22/logger_8c_source.html">logger.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/d22/logger_8c_source.html#l01841">ast_is_logger_initialized()</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00894">ast_queue_log()</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l01912">close_logger()</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l01870">init_logger()</a>, and <a class="el" href="../../d1/d22/logger_8c_source.html#l01854">logger_queue_start()</a>.</p>

</div>
</div>
<a id="aed658d1269709b76f44f0486bcac12e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aed658d1269709b76f44f0486bcac12e3">&#9670;&nbsp;</a></span>logger_messages_discarded</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int logger_messages_discarded</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/d22/logger_8c_source.html#l00095">95</a> of file <a class="el" href="../../d1/d22/logger_8c_source.html">logger.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/d22/logger_8c_source.html#l02053">ast_log_full()</a>, and <a class="el" href="../../d1/d22/logger_8c_source.html#l01761">logger_thread()</a>.</p>

</div>
</div>
<a id="a70f8266b28e1b6adb224cb4dfd529d25"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a70f8266b28e1b6adb224cb4dfd529d25">&#9670;&nbsp;</a></span>logger_queue_limit</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int logger_queue_limit = 1000</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/d22/logger_8c_source.html#l00094">94</a> of file <a class="el" href="../../d1/d22/logger_8c_source.html">logger.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/d22/logger_8c_source.html#l02053">ast_log_full()</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l02587">ast_logger_get_queue_limit()</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l02582">ast_logger_set_queue_limit()</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l01379">handle_logger_show_channels()</a>, and <a class="el" href="../../d1/d22/logger_8c_source.html#l00710">init_logger_chain()</a>.</p>

</div>
</div>
<a id="a745a9328dff87c8a1a297f71cebd4ba6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a745a9328dff87c8a1a297f71cebd4ba6">&#9670;&nbsp;</a></span>logger_queue_size</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int logger_queue_size</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/d22/logger_8c_source.html#l00091">91</a> of file <a class="el" href="../../d1/d22/logger_8c_source.html">logger.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/d22/logger_8c_source.html#l02053">ast_log_full()</a>, and <a class="el" href="../../d1/d22/logger_8c_source.html#l01761">logger_thread()</a>.</p>

</div>
</div>
<a id="a85be4d1747f06b59ac3eeaf16a1194ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a85be4d1747f06b59ac3eeaf16a1194ab">&#9670;&nbsp;</a></span>logmsgs</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d2/dc4/structlogmsgs.html">logmsgs</a>   <a class="el" href="../../d2/dc4/structlogmsgs.html">logmsgs</a> = { .<a class="el" href="../../d7/d8e/test__cdr_8c.html#ad010071647150404acc6651544245543">first</a> = <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, .<a class="el" href="../../d7/d8e/test__cdr_8c.html#abaf7793fbb72797de5118c5f1f7b21ae">last</a> = <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, .<a class="el" href="../../d7/d8e/test__cdr_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a> = { PTHREAD_RECURSIVE_MUTEX_INITIALIZER_NP , <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, {1, 0} } , }</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a6685bab4f7be49a081c4d2efe4b77a23"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6685bab4f7be49a081c4d2efe4b77a23">&#9670;&nbsp;</a></span>logthread</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">pthread_t logthread = <a class="el" href="../../d4/dc5/extconf_8c.html#a6009440c7a72f8e2e3b1ec97641ad160">AST_PTHREADT_NULL</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/d22/logger_8c_source.html#l00189">189</a> of file <a class="el" href="../../d1/d22/logger_8c_source.html">logger.c</a>.</p>

</div>
</div>
<a id="ac0079c92df75011eb8925813e3c86482"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac0079c92df75011eb8925813e3c86482">&#9670;&nbsp;</a></span>my_verb_console</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../dd/d17/structast__threadstorage.html">ast_threadstorage</a> my_verb_console = { .once = PTHREAD_ONCE_INIT , .key_init = <a class="el" href="../../d1/d22/logger_8c.html#acfdbf192adaf61a3b061b7d1d73f7e17">__init_my_verb_console</a> , .custom_init = <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> , }</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/d22/logger_8c_source.html#l02294">2294</a> of file <a class="el" href="../../d1/d22/logger_8c_source.html">logger.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/d22/logger_8c_source.html#l02323">ast_verb_console_get()</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l02296">ast_verb_console_register()</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l02341">ast_verb_console_set()</a>, and <a class="el" href="../../d1/d22/logger_8c_source.html#l02312">ast_verb_console_unregister()</a>.</p>

</div>
</div>
<a id="af261e7f01245059402352861a7fc28f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af261e7f01245059402352861a7fc28f8">&#9670;&nbsp;</a></span>next_unique_callid</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">volatile int next_unique_callid = 1</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/d22/logger_8c_source.html#l00088">88</a> of file <a class="el" href="../../d1/d22/logger_8c_source.html">logger.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/d22/logger_8c_source.html#l01957">ast_create_callid()</a>.</p>

</div>
</div>
<a id="a59cef8b13e5fcb3e2ea61f66ea4bf0e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59cef8b13e5fcb3e2ea61f66ea4bf0e5">&#9670;&nbsp;</a></span>qlog</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">FILE* qlog</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/d22/logger_8c_source.html#l00193">193</a> of file <a class="el" href="../../d1/d22/logger_8c_source.html">logger.c</a>.</p>

</div>
</div>
<a id="aeb4215f9d3e3d3a30209ab936f8fa92b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb4215f9d3e3d3a30209ab936f8fa92b">&#9670;&nbsp;</a></span>queue_adaptive_realtime</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int queue_adaptive_realtime</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/d22/logger_8c_source.html#l00108">108</a> of file <a class="el" href="../../d1/d22/logger_8c_source.html">logger.c</a>.</p>

</div>
</div>
<a id="a9d989b14b09eb7e10daf08b74a8aea30"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d989b14b09eb7e10daf08b74a8aea30">&#9670;&nbsp;</a></span>queue_log</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int queue_log</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/d22/logger_8c_source.html#l00106">106</a> of file <a class="el" href="../../d1/d22/logger_8c_source.html">logger.c</a>.</p>

</div>
</div>
<a id="a818fb8d162c63f2848d8bb57bffebd3e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a818fb8d162c63f2848d8bb57bffebd3e">&#9670;&nbsp;</a></span>queue_log_name</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">char queue_log_name[256] = <a class="el" href="../../d4/dc5/extconf_8c.html#a862a4fc7926f6d3294362303efe690fe">QUEUELOG</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/d22/logger_8c_source.html#l00081">81</a> of file <a class="el" href="../../d1/d22/logger_8c_source.html">logger.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/d22/logger_8c_source.html#l00710">init_logger_chain()</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l01817">logger_queue_init()</a>, and <a class="el" href="../../d1/d22/logger_8c_source.html#l01113">logger_queue_restart()</a>.</p>

</div>
</div>
<a id="a7b9be92da988e78ef15ecdc6d9e741c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b9be92da988e78ef15ecdc6d9e741c9">&#9670;&nbsp;</a></span>queue_log_realtime_use_gmt</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int queue_log_realtime_use_gmt</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/d22/logger_8c_source.html#l00109">109</a> of file <a class="el" href="../../d1/d22/logger_8c_source.html">logger.c</a>.</p>

</div>
</div>
<a id="a000726797a2551869ea812c24c181423"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a000726797a2551869ea812c24c181423">&#9670;&nbsp;</a></span>queue_log_to_file</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int queue_log_to_file</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/d22/logger_8c_source.html#l00107">107</a> of file <a class="el" href="../../d1/d22/logger_8c_source.html">logger.c</a>.</p>

</div>
</div>
<a id="a2069553a11b09d1186e5b61438b1991d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2069553a11b09d1186e5b61438b1991d">&#9670;&nbsp;</a></span>queuelog_init</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int queuelog_init</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/d22/logger_8c_source.html#l00086">86</a> of file <a class="el" href="../../d1/d22/logger_8c_source.html">logger.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/d22/logger_8c_source.html#l00894">ast_queue_log()</a>, and <a class="el" href="../../d1/d22/logger_8c_source.html#l01854">logger_queue_start()</a>.</p>

</div>
</div>
<a id="a20a02d811c5613161c33ee6110a0c854"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a20a02d811c5613161c33ee6110a0c854">&#9670;&nbsp;</a></span>rotatestrategy</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../d1/d22/logger_8c.html#a390505c32550f77c3e013a8030fac392">rotatestrategy</a>  <a class="el" href="../../d1/d22/logger_8c.html#a390505c32550f77c3e013a8030fac392">rotatestrategy</a> = <a class="el" href="../../d1/d22/logger_8c.html#a390505c32550f77c3e013a8030fac392a6b834d43476553e583e0fde6578c82f0">SEQUENTIAL</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a97ee77a4a8f2f77dadc496b5ba2aee40"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a97ee77a4a8f2f77dadc496b5ba2aee40">&#9670;&nbsp;</a></span>unique_callid</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../dd/d17/structast__threadstorage.html">ast_threadstorage</a> unique_callid = { .once = PTHREAD_ONCE_INIT , .key_init = <a class="el" href="../../d1/d22/logger_8c.html#ad01cbd4482ac5d94de942a5bbbefb15c">__init_unique_callid</a> , .custom_init = <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> , }</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/d22/logger_8c_source.html#l00091">91</a> of file <a class="el" href="../../d1/d22/logger_8c_source.html">logger.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/d22/logger_8c_source.html#l01984">ast_callid_threadassoc_add()</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l01971">ast_callid_threadassoc_change()</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l02003">ast_callid_threadassoc_remove()</a>, and <a class="el" href="../../d1/d22/logger_8c_source.html#l01962">ast_read_threadstorage_callid()</a>.</p>

</div>
</div>
<a id="aec40d4b7a2ea41ccb06c6d1a01a497b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aec40d4b7a2ea41ccb06c6d1a01a497b4">&#9670;&nbsp;</a></span>verb_consoles</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d7/d05/structverb__consoles.html">verb_consoles</a>   <a class="el" href="../../d7/d05/structverb__consoles.html">verb_consoles</a> = { .<a class="el" href="../../d7/d8e/test__cdr_8c.html#ad010071647150404acc6651544245543">first</a> = <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, .<a class="el" href="../../d7/d8e/test__cdr_8c.html#abaf7793fbb72797de5118c5f1f7b21ae">last</a> = <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, .<a class="el" href="../../d7/d8e/test__cdr_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a> = { PTHREAD_RWLOCK_INITIALIZER , <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, {1, 0} } , }</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a8356677dcdff1516bba541d39f02033e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8356677dcdff1516bba541d39f02033e">&#9670;&nbsp;</a></span>verb_update_lock</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dd/d42/lock_8h.html#a44a55ccb432d858a224b401116277e93">ast_mutex_t</a> verb_update_lock = { PTHREAD_RECURSIVE_MUTEX_INITIALIZER_NP , <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, {1, 0} }</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p><a class="el" href="../../d1/d22/logger_8c.html#aad013a7e1fb2dcbd046b44c40b060e5b" title="Re-evaluate the system max verbosity level (ast_verb_sys_level). ">ast_verb_update()</a> reentrancy protection lock. </p>

<p class="definition">Definition at line <a class="el" href="../../d1/d22/logger_8c_source.html#l02230">2230</a> of file <a class="el" href="../../d1/d22/logger_8c_source.html">logger.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/d22/logger_8c_source.html#l02232">ast_verb_update()</a>.</p>

</div>
</div>
<a id="a5a468f362fab520a3eb3bf152d84884a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a468f362fab520a3eb3bf152d84884a">&#9670;&nbsp;</a></span>verbose_buf</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../dd/d17/structast__threadstorage.html">ast_threadstorage</a> verbose_buf = { .once = PTHREAD_ONCE_INIT , .key_init = <a class="el" href="../../d1/d22/logger_8c.html#a502d0e9afc462ac3bc83c5080737155e">__init_verbose_buf</a> , .custom_init = <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> , }</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/d22/logger_8c_source.html#l00252">252</a> of file <a class="el" href="../../d1/d22/logger_8c_source.html">logger.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/d22/logger_8c_source.html#l00319">logger_add_verbose_magic()</a>.</p>

</div>
</div>
<a id="afdcc2065d8b1ac793b9909909ac9ef58"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afdcc2065d8b1ac793b9909909ac9ef58">&#9670;&nbsp;</a></span>verbose_build_buf</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../dd/d17/structast__threadstorage.html">ast_threadstorage</a> verbose_build_buf = { .once = PTHREAD_ONCE_INIT , .key_init = <a class="el" href="../../d1/d22/logger_8c.html#a0a82f5acbf33307567f1934411e38501">__init_verbose_build_buf</a> , .custom_init = <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> , }</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/d22/logger_8c_source.html#l00253">253</a> of file <a class="el" href="../../d1/d22/logger_8c_source.html">logger.c</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Aug 8 2021 19:46:06 for Asterisk - The Open Source Telephony Project by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
