<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Asterisk - The Open Source Telephony Project: Asterisk Channels</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Asterisk - The Open Source Telephony Project
   &#160;<span id="projectnumber">18.5.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Asterisk Channels </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><dl class="section user"><dt>What is a Channel?</dt><dd>A phone call through Asterisk consists of an incoming connection and an outbound connection. Each call comes in through a channel driver that supports one technology, like SIP, DAHDI, IAX2 etc. </dd></dl>
<dl class="section user"><dt></dt><dd>Each channel driver, technology, has it's own private channel or dialog structure, that is technology-dependent. Each private structure is "owned" by a generic Asterisk channel structure, defined in <a class="el" href="../../d5/d7b/channel_8h.html" title="General Asterisk PBX channel definitions. ">channel.h</a> and handled by channel.c . </dd></dl>
<dl class="section user"><dt>Call scenario</dt><dd>This happens when an incoming call arrives to Asterisk<ol type="1">
<li>Call arrives on a channel driver interface</li>
<li>Channel driver creates a PBX channel and starts a pbx thread on the channel</li>
<li>The dial plan is executed</li>
<li>At this point at least two things can happen:<ol type="a">
<li>The call is answered by Asterisk and Asterisk plays a media stream or reads media</li>
<li>The dial plan forces Asterisk to create an outbound call somewhere with the dial (see <a class="el" href="../../d9/d12/app__dial_8c.html">app_dial.c</a>) application</li>
</ol>
</li>
</ol>
</dd></dl>
<dl class="section user"><dt>Bridging channels</dt><dd>If Asterisk dials out this happens:<ol type="1">
<li>Dial creates an outbound PBX channel and asks one of the channel drivers to create a call</li>
<li>When the call is answered, Asterisk bridges the media streams so the caller on the first channel can speak with the callee on the second, outbound channel</li>
<li>In some cases where we have the same technology on both channels and compatible codecs, a native bridge is used. In a native bridge, the channel driver handles forwarding of incoming audio to the outbound stream internally, without sending audio frames through the PBX.</li>
<li>In SIP, theres an "external native bridge" where Asterisk redirects the endpoint, so audio flows directly between the caller's phone and the callee's phone. Signalling stays in Asterisk in order to be able to provide a proper CDR record for the call.</li>
</ol>
</dd></dl>
<dl class="section user"><dt>Masquerading channels</dt><dd>In some cases, a channel can masquerade itself into another channel. This happens frequently in call transfers, where a new channel takes over a channel that is already involved in a call. The new channel sneaks in and takes over the bridge and the old channel, now a zombie, is hung up.</dd></dl>
<dl class="section user"><dt>Reference</dt><dd><ul>
<li>channel.c - generic functions </li>
<li><a class="el" href="../../d5/d7b/channel_8h.html" title="General Asterisk PBX channel definitions. ">channel.h</a> - declarations of functions, flags and structures </li>
<li><a class="el" href="../../db/d39/translate_8h.html" title="Support for translation of data formats. translate.c. ">translate.h</a> - Transcoding support functions </li>
<li><a class="el" href="../../d6/df4/group__channel__drivers.html">Module: Asterisk Channel Drivers</a> - Implemented channel drivers </li>
<li><a class="el" href="../../d6/d1e/Def_Frame.html">AST Multimedia and signalling frames</a> Asterisk Multimedia Frames </li>
<li><a class="el" href="../../d1/d94/Def_Bridge.html">Asterisk Channel Bridges</a> </li>
</ul>
</dd></dl>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Aug 8 2021 19:47:11 for Asterisk - The Open Source Telephony Project by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
