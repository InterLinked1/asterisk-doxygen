<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Asterisk - The Open Source Telephony Project: bridge_native_rtp.c File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Asterisk - The Open Source Telephony Project
   &#160;<span id="projectnumber">18.5.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_248c5494cbf50d375c6b51a2b292aa12.html">bridges</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">bridge_native_rtp.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Native RTP bridging technology module.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="../../db/db2/asterisk_8h_source.html">asterisk.h</a>&quot;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &lt;sys/types.h&gt;</code><br />
<code>#include &lt;sys/stat.h&gt;</code><br />
<code>#include &quot;<a class="el" href="../../d5/d16/module_8h_source.html">asterisk/module.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d5/d7b/channel_8h_source.html">asterisk/channel.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d4/d56/bridge_8h_source.html">asterisk/bridge.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d0/d3b/bridge__technology_8h_source.html">asterisk/bridge_technology.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html">asterisk/frame.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d5/dde/rtp__engine_8h_source.html">asterisk/rtp_engine.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d8/d95/stream_8h_source.html">asterisk/stream.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for bridge_native_rtp.c:</div>
<div class="dyncontent">
<div class="center"><img src="../../df/d68/bridge__native__rtp_8c__incl.png" border="0" usemap="#bridge__native__rtp_8c" alt=""/></div>
<map name="bridge__native__rtp_8c" id="bridge__native__rtp_8c">
<area shape="rect" id="node2" href="../../db/db2/asterisk_8h.html" title="Asterisk main include file. File version handling, generic pbx functions. " alt="" coords="471,453,555,480"/>
<area shape="rect" id="node12" href="../../d5/d16/module_8h.html" title="Asterisk module definitions. " alt="" coords="828,304,964,331"/>
<area shape="rect" id="node17" href="../../d5/d7b/channel_8h.html" title="General Asterisk PBX channel definitions. " alt="" coords="2357,304,2496,331"/>
<area shape="rect" id="node26" href="../../d6/d66/include_2asterisk_2frame_8h.html" title="Asterisk internal frame definitions. " alt="" coords="3391,453,3518,480"/>
<area shape="rect" id="node38" href="../../d4/d56/bridge_8h.html" title="Bridging API. " alt="" coords="2212,80,2340,107"/>
<area shape="rect" id="node41" href="../../d0/d3b/bridge__technology_8h.html" title="Channel Bridging API. " alt="" coords="2401,229,2604,256"/>
<area shape="rect" id="node45" href="../../d5/dde/rtp__engine_8h.html" title="Pluggable RTP Architecture. " alt="" coords="1230,304,1386,331"/>
<area shape="rect" id="node50" href="../../d8/d95/stream_8h.html" title="Media Stream API. " alt="" coords="3674,528,3809,555"/>
<area shape="rect" id="node3" href="../../d8/d20/autoconfig_8h.html" title="asterisk/autoconfig.h" alt="" coords="5,528,160,555"/>
<area shape="rect" id="node5" href="../../de/da3/include_2asterisk_2compat_8h.html" title="General Definitions for Asterisk top level program Included by asterisk.h to handle platform&#45;specific..." alt="" coords="445,528,582,555"/>
<area shape="rect" id="node10" href="../../d8/d8a/astmm_8h.html" title="Asterisk memory management routines. " alt="" coords="286,528,421,555"/>
<area shape="rect" id="node4" href="../../dc/dba/buildopts_8h.html" title="asterisk/buildopts.h" alt="" coords="9,603,156,629"/>
<area shape="rect" id="node13" href="../../d5/d60/utils_8h.html" title="Utility functions. " alt="" coords="1528,453,1643,480"/>
<area shape="rect" id="node14" href="../../dd/d42/lock_8h.html" title="Asterisk locking&#45;related definitions: " alt="" coords="2159,677,2273,704"/>
<area shape="rect" id="node15" href="../../d1/d0f/stringfields_8h.html" title="asterisk/stringfields.h" alt="" coords="2021,528,2179,555"/>
<area shape="rect" id="node16" href="../../d6/d68/vector_8h.html" title="Vector container support. " alt="" coords="2045,603,2171,629"/>
<area shape="rect" id="node18" href="../../dc/d4d/alertpipe_8h.html" title="asterisk/alertpipe.h" alt="" coords="1689,379,1833,405"/>
<area shape="rect" id="node19" href="../../dc/d14/abstract__jb_8h.html" title="Common implementation&#45;independent jitterbuffer stuff. " alt="" coords="3542,453,3701,480"/>
<area shape="rect" id="node23" href="../../d5/da5/astobj2_8h.html" title="asterisk/astobj2.h" alt="" coords="2143,453,2278,480"/>
<area shape="rect" id="node24" href="../../df/d90/linkedlists_8h.html" title="A set of macros to manage forward&#45;linked lists. " alt="" coords="3063,528,3214,555"/>
<area shape="rect" id="node25" href="../../d4/dfb/poll-compat_8h.html" title="asterisk/poll&#45;compat.h" alt="" coords="2642,379,2806,405"/>
<area shape="rect" id="node28" href="../../d9/de7/chanvars_8h.html" title="Channel Variables. " alt="" coords="2892,453,3039,480"/>
<area shape="rect" id="node29" href="../../d3/de6/include_2asterisk_2config_8h.html" title="Configuration File Parser. " alt="" coords="1909,379,2035,405"/>
<area shape="rect" id="node30" href="../../dc/d07/cdr_8h.html" title="Call Detail Record API. " alt="" coords="2831,379,2937,405"/>
<area shape="rect" id="node31" href="../../d9/db6/datastore_8h.html" title="Asterisk datastore objects. " alt="" coords="3063,453,3214,480"/>
<area shape="rect" id="node32" href="../../d0/d3c/format__cap_8h.html" title="Format Capabilities API. " alt="" coords="2405,379,2566,405"/>
<area shape="rect" id="node33" href="../../d9/d95/channelstate_8h.html" title="Channel states. " alt="" coords="1495,379,1665,405"/>
<area shape="rect" id="node34" href="../../de/dc8/ccss_8h.html" title="Call Completion Supplementary Services API. " alt="" coords="2162,379,2278,405"/>
<area shape="rect" id="node35" href="../../db/d3c/framehook_8h.html" title="FrameHook Architecture. " alt="" coords="3289,379,3447,405"/>
<area shape="rect" id="node36" href="../../dd/d79/stasis_8h.html" title="Stasis Message Bus API. See Stasis Message Bus API for detailed documentation. " alt="" coords="1345,379,1471,405"/>
<area shape="rect" id="node37" href="../../d4/d61/endpoints_8h.html" title="Endpoint abstractions. " alt="" coords="2962,379,3113,405"/>
<area shape="rect" id="node21" href="../../d0/d0a/format_8h.html" title="Media Format API. " alt="" coords="3519,528,3649,555"/>
<area shape="rect" id="node22" href="../../d1/d16/codec_8h.html" title="Codec API. " alt="" coords="3521,603,3647,629"/>
<area shape="rect" id="node27" href="../../d1/d84/endian_8h.html" title="Asterisk architecture endianess compatibility definitions. " alt="" coords="3252,528,3383,555"/>
<area shape="rect" id="node39" href="../../dc/d7a/bridge__features_8h.html" title="Channel Bridging API. " alt="" coords="2097,229,2285,256"/>
<area shape="rect" id="node40" href="../../de/d41/bridge__channel_8h.html" title="asterisk/bridge_channel.h" alt="" coords="2098,155,2283,181"/>
<area shape="rect" id="node42" href="../../dd/dff/bridge__roles_8h.html" title="Channel Bridging Roles API. " alt="" coords="3223,229,3390,256"/>
<area shape="rect" id="node43" href="../../d3/d08/dsp_8h.html" title="Convenient Signal Processing routines. " alt="" coords="2307,155,2418,181"/>
<area shape="rect" id="node44" href="../../dd/d1d/uuid_8h.html" title="Universally unique identifier support. " alt="" coords="2443,155,2557,181"/>
<area shape="rect" id="node46" href="../../db/df1/netsock2_8h.html" title="Network socket handling. " alt="" coords="1124,379,1271,405"/>
<area shape="rect" id="node47" href="../../d7/d00/sched_8h.html" title="Scheduler Routines (derived from cheops) " alt="" coords="759,379,886,405"/>
<area shape="rect" id="node48" href="../../de/d15/res__srtp_8h.html" title="SRTP resource. " alt="" coords="493,379,633,405"/>
<area shape="rect" id="node49" href="../../d5/d1f/logger__category_8h.html" title="asterisk/logger_category.h" alt="" coords="911,379,1100,405"/>
</map>
</div>
</div>
<p><a href="../../d1/d27/bridge__native__rtp_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d1d/structnative__rtp__bridge__channel__data.html">native_rtp_bridge_channel_data</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Internal structure which contains instance information about bridged RTP channels.  <a href="../../dc/d1d/structnative__rtp__bridge__channel__data.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/dd3/structnative__rtp__framehook__data.html">native_rtp_framehook_data</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Internal structure which contains bridged RTP channel hook data.  <a href="../../d9/dd3/structnative__rtp__framehook__data.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/db1/structrtp__glue__data.html">rtp_glue_data</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d6b/structrtp__glue__stream.html">rtp_glue_stream</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a88b7c88fed6b80fd18f34f97757dfc04"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d27/bridge__native__rtp_8c.html#a88b7c88fed6b80fd18f34f97757dfc04">__reg_module</a> (void)</td></tr>
<tr class="separator:a88b7c88fed6b80fd18f34f97757dfc04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afeab1257bd17282b95875499393a147a"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d27/bridge__native__rtp_8c.html#afeab1257bd17282b95875499393a147a">__unreg_module</a> (void)</td></tr>
<tr class="separator:afeab1257bd17282b95875499393a147a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fb0aca9bbcdb9709fa52a70aded6cae"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d27/bridge__native__rtp_8c.html#a4fb0aca9bbcdb9709fa52a70aded6cae">AST_MODULE_SELF_SYM</a> (void)</td></tr>
<tr class="separator:a4fb0aca9bbcdb9709fa52a70aded6cae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3382bf6da54c56b37069bd76bbdf4f9"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d27/bridge__native__rtp_8c.html#ac3382bf6da54c56b37069bd76bbdf4f9">load_module</a> (void)</td></tr>
<tr class="separator:ac3382bf6da54c56b37069bd76bbdf4f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2905829ce573007f9a241a1cd3518c64"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d27/bridge__native__rtp_8c.html#a2905829ce573007f9a241a1cd3518c64">native_rtp_bridge_capable</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan)</td></tr>
<tr class="separator:a2905829ce573007f9a241a1cd3518c64"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d1cf68b2cb3872a93b4abc6867fa1a8"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../dc/d1d/structnative__rtp__bridge__channel__data.html">native_rtp_bridge_channel_data</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d27/bridge__native__rtp_8c.html#a3d1cf68b2cb3872a93b4abc6867fa1a8">native_rtp_bridge_channel_data_alloc</a> (void)</td></tr>
<tr class="separator:a3d1cf68b2cb3872a93b4abc6867fa1a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f73c963473d8f91a5051a346ae9c105"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d27/bridge__native__rtp_8c.html#a9f73c963473d8f91a5051a346ae9c105">native_rtp_bridge_channel_data_free</a> (struct <a class="el" href="../../dc/d1d/structnative__rtp__bridge__channel__data.html">native_rtp_bridge_channel_data</a> *data)</td></tr>
<tr class="separator:a9f73c963473d8f91a5051a346ae9c105"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2e987d11197fac37e5848910e05c8c0"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d27/bridge__native__rtp_8c.html#ae2e987d11197fac37e5848910e05c8c0">native_rtp_bridge_compatible</a> (struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *bridge)</td></tr>
<tr class="separator:ae2e987d11197fac37e5848910e05c8c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37623ff198528b19d9861e4abe3c3d29"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d27/bridge__native__rtp_8c.html#a37623ff198528b19d9861e4abe3c3d29">native_rtp_bridge_compatible_check</a> (struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *bridge, struct <a class="el" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *bc0, struct <a class="el" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *bc1)</td></tr>
<tr class="separator:a37623ff198528b19d9861e4abe3c3d29"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae33b6a175b2d2cc8d98299ad3e4c7f8a"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d27/bridge__native__rtp_8c.html#ae33b6a175b2d2cc8d98299ad3e4c7f8a">native_rtp_bridge_framehook_attach</a> (struct <a class="el" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *bridge_channel)</td></tr>
<tr class="separator:ae33b6a175b2d2cc8d98299ad3e4c7f8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37edac417b7fd1e1cc2f8283700d84c9"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d27/bridge__native__rtp_8c.html#a37edac417b7fd1e1cc2f8283700d84c9">native_rtp_bridge_framehook_detach</a> (struct <a class="el" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *bridge_channel)</td></tr>
<tr class="separator:a37edac417b7fd1e1cc2f8283700d84c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42ba7043b5cb8718966b640d7d0b6704"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d27/bridge__native__rtp_8c.html#a42ba7043b5cb8718966b640d7d0b6704">native_rtp_bridge_join</a> (struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *bridge, struct <a class="el" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *bridge_channel)</td></tr>
<tr class="memdesc:a42ba7043b5cb8718966b640d7d0b6704"><td class="mdescLeft">&#160;</td><td class="mdescRight">Forward declarations.  <a href="#a42ba7043b5cb8718966b640d7d0b6704">More...</a><br /></td></tr>
<tr class="separator:a42ba7043b5cb8718966b640d7d0b6704"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0a5941f1c69a22f499685ede499644f"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d27/bridge__native__rtp_8c.html#ab0a5941f1c69a22f499685ede499644f">native_rtp_bridge_leave</a> (struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *bridge, struct <a class="el" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *bridge_channel)</td></tr>
<tr class="separator:ab0a5941f1c69a22f499685ede499644f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afae9d93cb6334134a1c14804cf7059fa"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d27/bridge__native__rtp_8c.html#afae9d93cb6334134a1c14804cf7059fa">native_rtp_bridge_start</a> (struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *bridge, struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *target)</td></tr>
<tr class="separator:afae9d93cb6334134a1c14804cf7059fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a632245bb3be7224b5246a34d7e5f20a1"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d27/bridge__native__rtp_8c.html#a632245bb3be7224b5246a34d7e5f20a1">native_rtp_bridge_stop</a> (struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *bridge, struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *target)</td></tr>
<tr class="separator:a632245bb3be7224b5246a34d7e5f20a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5aba9f9bcc2798e95cac24f1812890cf"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d27/bridge__native__rtp_8c.html#a5aba9f9bcc2798e95cac24f1812890cf">native_rtp_bridge_suspend</a> (struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *bridge, struct <a class="el" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *bridge_channel)</td></tr>
<tr class="separator:a5aba9f9bcc2798e95cac24f1812890cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54c08e6d2041223968dc823c7661016b"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d27/bridge__native__rtp_8c.html#a54c08e6d2041223968dc823c7661016b">native_rtp_bridge_unsuspend</a> (struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *bridge, struct <a class="el" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *bridge_channel)</td></tr>
<tr class="separator:a54c08e6d2041223968dc823c7661016b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ae4ab1621325ae501df0d71ae4c3dcd"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d27/bridge__native__rtp_8c.html#a7ae4ab1621325ae501df0d71ae4c3dcd">native_rtp_bridge_write</a> (struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *bridge, struct <a class="el" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *bridge_channel, struct <a class="el" href="../../d0/d99/structast__frame.html">ast_frame</a> *frame)</td></tr>
<tr class="separator:a7ae4ab1621325ae501df0d71ae4c3dcd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d71bcbfad3fdb28e10204d9779490b3"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../d0/d99/structast__frame.html">ast_frame</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d27/bridge__native__rtp_8c.html#a0d71bcbfad3fdb28e10204d9779490b3">native_rtp_framehook</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, struct <a class="el" href="../../d0/d99/structast__frame.html">ast_frame</a> *f, enum <a class="el" href="../../db/d3c/framehook_8h.html#a54250544f50efde9156d2341e8da0614">ast_framehook_event</a> <a class="el" href="../../df/d7d/structevent.html">event</a>, void *data)</td></tr>
<tr class="separator:a0d71bcbfad3fdb28e10204d9779490b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e9a90ebcf5a55230473f5474fd4db47"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d27/bridge__native__rtp_8c.html#a4e9a90ebcf5a55230473f5474fd4db47">native_rtp_framehook_consume</a> (void *data, enum <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h.html#ae2e1a9c4e048da387b761f619312d6e0">ast_frame_type</a> <a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>)</td></tr>
<tr class="separator:a4e9a90ebcf5a55230473f5474fd4db47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7f9b9dcd8e47b9a63032a2c93efeb72"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../da/d35/structast__stream__topology.html">ast_stream_topology</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d27/bridge__native__rtp_8c.html#af7f9b9dcd8e47b9a63032a2c93efeb72">native_rtp_request_stream_topology_update</a> (struct <a class="el" href="../../da/d35/structast__stream__topology.html">ast_stream_topology</a> *existing_topology, struct <a class="el" href="../../da/d35/structast__stream__topology.html">ast_stream_topology</a> *requested_topology)</td></tr>
<tr class="separator:af7f9b9dcd8e47b9a63032a2c93efeb72"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03c6227a1b01f72cb71a51c12b3aa6a1"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d27/bridge__native__rtp_8c.html#a03c6227a1b01f72cb71a51c12b3aa6a1">native_rtp_stream_topology_changed</a> (struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *bridge, struct <a class="el" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *bridge_channel)</td></tr>
<tr class="separator:a03c6227a1b01f72cb71a51c12b3aa6a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aecf1630493bccc42337862af88d6e164"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d27/bridge__native__rtp_8c.html#aecf1630493bccc42337862af88d6e164">rtp_glue_data_destroy</a> (struct <a class="el" href="../../dc/db1/structrtp__glue__data.html">rtp_glue_data</a> *glue)</td></tr>
<tr class="separator:aecf1630493bccc42337862af88d6e164"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa40e079d059392c8d71d8d3ad48e8413"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d27/bridge__native__rtp_8c.html#aa40e079d059392c8d71d8d3ad48e8413">rtp_glue_data_get</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *c0, struct <a class="el" href="../../dc/db1/structrtp__glue__data.html">rtp_glue_data</a> *glue0, struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *c1, struct <a class="el" href="../../dc/db1/structrtp__glue__data.html">rtp_glue_data</a> *glue1)</td></tr>
<tr class="separator:aa40e079d059392c8d71d8d3ad48e8413"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af01f7ed1abd11408a284211052e87295"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d27/bridge__native__rtp_8c.html#af01f7ed1abd11408a284211052e87295">rtp_glue_data_init</a> (struct <a class="el" href="../../dc/db1/structrtp__glue__data.html">rtp_glue_data</a> *glue)</td></tr>
<tr class="separator:af01f7ed1abd11408a284211052e87295"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab64cb05ff2283dba3ba9ae92789df264"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d27/bridge__native__rtp_8c.html#ab64cb05ff2283dba3ba9ae92789df264">rtp_glue_data_reset</a> (struct <a class="el" href="../../dc/db1/structrtp__glue__data.html">rtp_glue_data</a> *glue)</td></tr>
<tr class="separator:ab64cb05ff2283dba3ba9ae92789df264"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67f2d26394b6b0c6c89e5b53a8a0d27f"><td class="memItemLeft" align="right" valign="top">static enum <a class="el" href="../../d5/dde/rtp__engine_8h.html#a4f2fb6c08b3697d011cf613c8b68054c">ast_rtp_glue_result</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d27/bridge__native__rtp_8c.html#a67f2d26394b6b0c6c89e5b53a8a0d27f">rtp_glue_get_current_combined_result</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *c0, struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *c1)</td></tr>
<tr class="separator:a67f2d26394b6b0c6c89e5b53a8a0d27f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad09fa931f468002152a3cc2d5ce25eae"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d27/bridge__native__rtp_8c.html#ad09fa931f468002152a3cc2d5ce25eae">unload_module</a> (void)</td></tr>
<tr class="separator:ad09fa931f468002152a3cc2d5ce25eae"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ab22f32016155f7f403e7178767163d7d"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d27/bridge__native__rtp_8c.html#ab22f32016155f7f403e7178767163d7d">__mod_info</a> = { .<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a> = <a class="el" href="../../da/ddd/named__acl_8c.html#aec23fc5034c3bb08140fc021f4955877">AST_MODULE</a>, .flags = <a class="el" href="../../d5/d16/module_8h.html#a155a0df9c59e04e305d4a2fa3e35f843a12c3f60dd7655dfa8d4430cbf04b1223">AST_MODFLAG_LOAD_ORDER</a> , .description = &quot;Native <a class="el" href="../../d1/d94/sip_8h.html#ad5ec12ad08cacd2598d873052c72857a">RTP</a> bridging module&quot; , .key = &quot;This paragraph is copyright (<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>) 2006 by Digium, Inc. \In <a class="el" href="../../d5/d14/voicin_8c.html#aed7ca058008dc3e5ee131e575abed285">order</a> for your module to load, it must return this \key via <a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a> function called \&quot;key\&quot;. Any code which \includes this paragraph must <a class="el" href="../../dd/d7c/eagi__proxy_8c.html#a39730e90126aad69cfc9ca4d6fcdb3a6">be</a> licensed under the GNU \General Public License <a class="el" href="../../da/d7c/utils_2frame_8h.html#a56abfaab87c46691c1ef3ad0df23e864">version</a> 2 or later (at your \option). In addition to Digium's general reservations \of rights, Digium expressly reserves the right to \allow other parties to license this paragraph under \different terms. Any use of Digium, Inc. trademarks or \logos (including \&quot;Asterisk\&quot; or \&quot;Digium\&quot;) without \express written <a class="el" href="../../d4/d4c/structpermission.html">permission</a> of Digium, Inc. is prohibited.\n&quot; , .buildopt_sum = &quot;30ef0c93b36035ec78c9cfd712d36d9b&quot; , .load = load_module, .unload = unload_module, .load_pri = AST_MODPRI_DEFAULT, .support_level = AST_MODULE_SUPPORT_CORE, }</td></tr>
<tr class="separator:ab22f32016155f7f403e7178767163d7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad60e83b9aa660040fed4d5377966cc21"><td class="memItemLeft" align="right" valign="top">static const struct <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d27/bridge__native__rtp_8c.html#ad60e83b9aa660040fed4d5377966cc21">ast_module_info</a> = &amp;<a class="el" href="../../d6/d7a/test__xml__escape_8c.html#ab22f32016155f7f403e7178767163d7d">__mod_info</a></td></tr>
<tr class="separator:ad60e83b9aa660040fed4d5377966cc21"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ea330d0c88cf1eb8ee8504dbf3c43b5"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../d1/d04/structast__bridge__technology.html">ast_bridge_technology</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d27/bridge__native__rtp_8c.html#a6ea330d0c88cf1eb8ee8504dbf3c43b5">native_rtp_bridge</a></td></tr>
<tr class="separator:a6ea330d0c88cf1eb8ee8504dbf3c43b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Native RTP bridging technology module. </p>
<dl class="section author"><dt>Author</dt><dd>Joshua Colp <a href="#" onclick="location.href='mai'+'lto:'+'jco'+'lp'+'@di'+'gi'+'um.'+'co'+'m'; return false;">jcolp<span style="display: none;">.nosp@m.</span>@dig<span style="display: none;">.nosp@m.</span>ium.c<span style="display: none;">.nosp@m.</span>om</a> </dd></dl>

<p class="definition">Definition in file <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html">bridge_native_rtp.c</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a88b7c88fed6b80fd18f34f97757dfc04"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a88b7c88fed6b80fd18f34f97757dfc04">&#9670;&nbsp;</a></span>__reg_module()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void __reg_module </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html#l01113">1113</a> of file <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html">bridge_native_rtp.c</a>.</p>

</div>
</div>
<a id="afeab1257bd17282b95875499393a147a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afeab1257bd17282b95875499393a147a">&#9670;&nbsp;</a></span>__unreg_module()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void __unreg_module </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html#l01113">1113</a> of file <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html">bridge_native_rtp.c</a>.</p>

</div>
</div>
<a id="a4fb0aca9bbcdb9709fa52a70aded6cae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4fb0aca9bbcdb9709fa52a70aded6cae">&#9670;&nbsp;</a></span>AST_MODULE_SELF_SYM()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a>* AST_MODULE_SELF_SYM </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html#l01113">1113</a> of file <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html">bridge_native_rtp.c</a>.</p>

</div>
</div>
<a id="ac3382bf6da54c56b37069bd76bbdf4f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac3382bf6da54c56b37069bd76bbdf4f9">&#9670;&nbsp;</a></span>load_module()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int load_module </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html#l01104">1104</a> of file <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html">bridge_native_rtp.c</a>.</p>

<p class="reference">References <a class="el" href="../../d0/d3b/bridge__technology_8h_source.html#l00223">ast_bridge_technology_register</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00078">AST_MODULE_LOAD_DECLINE</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00070">AST_MODULE_LOAD_SUCCESS</a>, and <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html#l01098">unload_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;{</div><div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d0/d3b/bridge__technology_8h.html#ac2da6e2d9c71311ada917906641e8f9f">ast_bridge_technology_register</a>(&amp;<a class="code" href="../../d1/d27/bridge__native__rtp_8c.html#a6ea330d0c88cf1eb8ee8504dbf3c43b5">native_rtp_bridge</a>)) {</div><div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;      <a class="code" href="../../d1/d27/bridge__native__rtp_8c.html#ad09fa931f468002152a3cc2d5ce25eae">unload_module</a>();</div><div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfac742921e9f9512d28f62c74ea2affe57">AST_MODULE_LOAD_DECLINE</a>;</div><div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;   }</div><div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfa89bb877ade9ce418ad6663f3d936f314">AST_MODULE_LOAD_SUCCESS</a>;</div><div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;}</div><div class="ttc" id="module_8h_html_adc09474f0ff557e9925b722ee5b952dfa89bb877ade9ce418ad6663f3d936f314"><div class="ttname"><a href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfa89bb877ade9ce418ad6663f3d936f314">AST_MODULE_LOAD_SUCCESS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00070">module.h:70</a></div></div>
<div class="ttc" id="bridge__native__rtp_8c_html_ad09fa931f468002152a3cc2d5ce25eae"><div class="ttname"><a href="../../d1/d27/bridge__native__rtp_8c.html#ad09fa931f468002152a3cc2d5ce25eae">unload_module</a></div><div class="ttdeci">static int unload_module(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d27/bridge__native__rtp_8c_source.html#l01098">bridge_native_rtp.c:1098</a></div></div>
<div class="ttc" id="bridge__native__rtp_8c_html_a6ea330d0c88cf1eb8ee8504dbf3c43b5"><div class="ttname"><a href="../../d1/d27/bridge__native__rtp_8c.html#a6ea330d0c88cf1eb8ee8504dbf3c43b5">native_rtp_bridge</a></div><div class="ttdeci">static struct ast_bridge_technology native_rtp_bridge</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d27/bridge__native__rtp_8c_source.html#l00098">bridge_native_rtp.c:98</a></div></div>
<div class="ttc" id="bridge__technology_8h_html_ac2da6e2d9c71311ada917906641e8f9f"><div class="ttname"><a href="../../d0/d3b/bridge__technology_8h.html#ac2da6e2d9c71311ada917906641e8f9f">ast_bridge_technology_register</a></div><div class="ttdeci">#define ast_bridge_technology_register(technology)</div><div class="ttdoc">See __ast_bridge_technology_register() </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d3b/bridge__technology_8h_source.html#l00223">bridge_technology.h:223</a></div></div>
<div class="ttc" id="module_8h_html_adc09474f0ff557e9925b722ee5b952dfac742921e9f9512d28f62c74ea2affe57"><div class="ttname"><a href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfac742921e9f9512d28f62c74ea2affe57">AST_MODULE_LOAD_DECLINE</a></div><div class="ttdoc">Module has failed to load, may be in an inconsistent state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00078">module.h:78</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2905829ce573007f9a241a1cd3518c64"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2905829ce573007f9a241a1cd3518c64">&#9670;&nbsp;</a></span>native_rtp_bridge_capable()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int native_rtp_bridge_capable </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html#l00622">622</a> of file <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html">bridge_native_rtp.c</a>.</p>

<p class="reference">References <a class="el" href="../../d4/d28/channel_8c_source.html#l02530">ast_channel_has_hook_requiring_audio()</a>, and <a class="el" href="../../d9/d95/channelstate_8h_source.html#l00042">AST_STATE_UP</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html#l00632">native_rtp_bridge_compatible_check()</a>.</p>
<div class="fragment"><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;{</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;   <span class="keywordflow">return</span> !<a class="code" href="../../d5/d7b/channel_8h.html#a40263dbf8fc7b0a72bb50541b306d6d6">ast_channel_has_hook_requiring_audio</a>(chan)</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;         &amp;&amp; <a class="code" href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660">ast_channel_state</a>(chan) == <a class="code" href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660aa8ab4bcda7378ccc17c39dfd880cba3d">AST_STATE_UP</a>;</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;}</div><div class="ttc" id="channelstate_8h_html_a03585bc87e5bbd0f4d11bc789734c660"><div class="ttname"><a href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660">ast_channel_state</a></div><div class="ttdeci">ast_channel_state</div><div class="ttdoc">ast_channel states </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d95/channelstate_8h_source.html#l00035">channelstate.h:35</a></div></div>
<div class="ttc" id="channelstate_8h_html_a03585bc87e5bbd0f4d11bc789734c660aa8ab4bcda7378ccc17c39dfd880cba3d"><div class="ttname"><a href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660aa8ab4bcda7378ccc17c39dfd880cba3d">AST_STATE_UP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d95/channelstate_8h_source.html#l00042">channelstate.h:42</a></div></div>
<div class="ttc" id="channel_8h_html_a40263dbf8fc7b0a72bb50541b306d6d6"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a40263dbf8fc7b0a72bb50541b306d6d6">ast_channel_has_hook_requiring_audio</a></div><div class="ttdeci">int ast_channel_has_hook_requiring_audio(struct ast_channel *chan)</div><div class="ttdoc">Check if the channel has any active hooks that require audio. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l02530">channel.c:2530</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3d1cf68b2cb3872a93b4abc6867fa1a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d1cf68b2cb3872a93b4abc6867fa1a8">&#9670;&nbsp;</a></span>native_rtp_bridge_channel_data_alloc()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="../../dc/d1d/structnative__rtp__bridge__channel__data.html">native_rtp_bridge_channel_data</a>* native_rtp_bridge_channel_data_alloc </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html#l00150">150</a> of file <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html">bridge_native_rtp.c</a>.</p>

<p class="reference">References <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00204">ast_calloc</a>, <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html#l00086">native_rtp_bridge_channel_data::glue</a>, and <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html#l00111">rtp_glue_data_init()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html#l00967">native_rtp_bridge_join()</a>.</p>
<div class="fragment"><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;{</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/d1d/structnative__rtp__bridge__channel__data.html">native_rtp_bridge_channel_data</a> *data;</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;   data = <a class="code" href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a>(1, <span class="keyword">sizeof</span>(*data));</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;   <span class="keywordflow">if</span> (data) {</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;      <a class="code" href="../../d1/d27/bridge__native__rtp_8c.html#af01f7ed1abd11408a284211052e87295">rtp_glue_data_init</a>(&amp;data-&gt;<a class="code" href="../../dc/d1d/structnative__rtp__bridge__channel__data.html#a7b8147624c6fea1893758bb32ceb89a8">glue</a>);</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;   }</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;   <span class="keywordflow">return</span> data;</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;}</div><div class="ttc" id="structnative__rtp__bridge__channel__data_html"><div class="ttname"><a href="../../dc/d1d/structnative__rtp__bridge__channel__data.html">native_rtp_bridge_channel_data</a></div><div class="ttdoc">Internal structure which contains instance information about bridged RTP channels. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d27/bridge__native__rtp_8c_source.html#l00077">bridge_native_rtp.c:77</a></div></div>
<div class="ttc" id="bridge__native__rtp_8c_html_af01f7ed1abd11408a284211052e87295"><div class="ttname"><a href="../../d1/d27/bridge__native__rtp_8c.html#af01f7ed1abd11408a284211052e87295">rtp_glue_data_init</a></div><div class="ttdeci">static void rtp_glue_data_init(struct rtp_glue_data *glue)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d27/bridge__native__rtp_8c_source.html#l00111">bridge_native_rtp.c:111</a></div></div>
<div class="ttc" id="astmm_8h_html_ae0cd4c5524b01287ab19cbe233d9cebb"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a></div><div class="ttdeci">#define ast_calloc(num, len)</div><div class="ttdoc">A wrapper for calloc() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00204">astmm.h:204</a></div></div>
<div class="ttc" id="structnative__rtp__bridge__channel__data_html_a7b8147624c6fea1893758bb32ceb89a8"><div class="ttname"><a href="../../dc/d1d/structnative__rtp__bridge__channel__data.html#a7b8147624c6fea1893758bb32ceb89a8">native_rtp_bridge_channel_data::glue</a></div><div class="ttdeci">struct rtp_glue_data glue</div><div class="ttdoc">Channel&amp;#39;s cached RTP glue information. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d27/bridge__native__rtp_8c_source.html#l00086">bridge_native_rtp.c:86</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a9f73c963473d8f91a5051a346ae9c105"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f73c963473d8f91a5051a346ae9c105">&#9670;&nbsp;</a></span>native_rtp_bridge_channel_data_free()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void native_rtp_bridge_channel_data_free </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dc/d1d/structnative__rtp__bridge__channel__data.html">native_rtp_bridge_channel_data</a> *&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html#l00136">136</a> of file <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html">bridge_native_rtp.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html#l00086">native_rtp_bridge_channel_data::glue</a>, <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html#l00079">native_rtp_bridge_channel_data::hook_data</a>, and <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html#l00130">rtp_glue_data_reset()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html#l00967">native_rtp_bridge_join()</a>, and <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html#l01036">native_rtp_bridge_leave()</a>.</p>
<div class="fragment"><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;{</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(2, <span class="stringliteral">&quot;Destroying channel tech_pvt data %p\n&quot;</span>, data);</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;   <span class="comment">/*</span></div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;<span class="comment">    * hook_data will probably already have been unreferenced by the framehook detach</span></div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;<span class="comment">    * and the pointer set to null.</span></div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>(data-&gt;<a class="code" href="../../dc/d1d/structnative__rtp__bridge__channel__data.html#a54afeeb9f644c2baee6bd0cb13dfe4c2">hook_data</a>);</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;   <a class="code" href="../../d1/d27/bridge__native__rtp_8c.html#ab64cb05ff2283dba3ba9ae92789df264">rtp_glue_data_reset</a>(&amp;data-&gt;<a class="code" href="../../dc/d1d/structnative__rtp__bridge__channel__data.html#a7b8147624c6fea1893758bb32ceb89a8">glue</a>);</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;   <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(data);</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;}</div><div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="bridge__native__rtp_8c_html_ab64cb05ff2283dba3ba9ae92789df264"><div class="ttname"><a href="../../d1/d27/bridge__native__rtp_8c.html#ab64cb05ff2283dba3ba9ae92789df264">rtp_glue_data_reset</a></div><div class="ttdeci">static void rtp_glue_data_reset(struct rtp_glue_data *glue)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d27/bridge__native__rtp_8c_source.html#l00130">bridge_native_rtp.c:130</a></div></div>
<div class="ttc" id="structnative__rtp__bridge__channel__data_html_a54afeeb9f644c2baee6bd0cb13dfe4c2"><div class="ttname"><a href="../../dc/d1d/structnative__rtp__bridge__channel__data.html#a54afeeb9f644c2baee6bd0cb13dfe4c2">native_rtp_bridge_channel_data::hook_data</a></div><div class="ttdeci">struct native_rtp_framehook_data * hook_data</div><div class="ttdoc">Channel&amp;#39;s hook data. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d27/bridge__native__rtp_8c_source.html#l00079">bridge_native_rtp.c:79</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="structnative__rtp__bridge__channel__data_html_a7b8147624c6fea1893758bb32ceb89a8"><div class="ttname"><a href="../../dc/d1d/structnative__rtp__bridge__channel__data.html#a7b8147624c6fea1893758bb32ceb89a8">native_rtp_bridge_channel_data::glue</a></div><div class="ttdeci">struct rtp_glue_data glue</div><div class="ttdoc">Channel&amp;#39;s cached RTP glue information. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d27/bridge__native__rtp_8c_source.html#l00086">bridge_native_rtp.c:86</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae2e987d11197fac37e5848910e05c8c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae2e987d11197fac37e5848910e05c8c0">&#9670;&nbsp;</a></span>native_rtp_bridge_compatible()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int native_rtp_bridge_compatible </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *&#160;</td>
          <td class="paramname"><em>bridge</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html#l00765">765</a> of file <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html">bridge_native_rtp.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d7b/channel_8h_source.html#l02952">ast_channel_lock_both</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00420">AST_LIST_FIRST</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00428">AST_LIST_LAST</a>, <a class="el" href="../../de/d41/bridge__channel_8h_source.html#l00091">ast_bridge_channel::chan</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00371">ast_bridge::channels</a>, <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html#l00632">native_rtp_bridge_compatible_check()</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00381">ast_bridge::num_channels</a>, and <a class="el" href="../../d4/d56/bridge_8h_source.html#l00409">ast_bridge::uniqueid</a>.</p>
<div class="fragment"><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;{</div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *bc0;</div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *bc1;</div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;   <span class="keywordtype">int</span> is_compatible;</div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;</div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;   <span class="comment">/* We require two channels before even considering native bridging */</span></div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;   <span class="keywordflow">if</span> (bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a97e3bedeadf444995deb6fab68f57e21">num_channels</a> != 2) {</div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;Bridge &#39;%s&#39; can not use native RTP bridge as two channels are required\n&quot;</span>,</div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;         bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a753c7b39e3284d771f13f513b003d033">uniqueid</a>);</div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;   }</div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;</div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;   bc0 = <a class="code" href="../../df/d90/linkedlists_8h.html#adf1959c5c03a3a706da97ad2f49617e5">AST_LIST_FIRST</a>(&amp;bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a77542a877d8ed62331c5b3b6aa3e87a7">channels</a>);</div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;   bc1 = <a class="code" href="../../df/d90/linkedlists_8h.html#a1e37109bb72d95999821eb45f28c261c">AST_LIST_LAST</a>(&amp;bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a77542a877d8ed62331c5b3b6aa3e87a7">channels</a>);</div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;</div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a695e5b4fcf983db6451b583fbd647424">ast_channel_lock_both</a>(bc0-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>, bc1-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>);</div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;   is_compatible = <a class="code" href="../../d1/d27/bridge__native__rtp_8c.html#a37623ff198528b19d9861e4abe3c3d29">native_rtp_bridge_compatible_check</a>(bridge, bc0, bc1);</div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(bc0-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>);</div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(bc1-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>);</div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;</div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;   <span class="keywordflow">return</span> is_compatible;</div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;}</div><div class="ttc" id="linkedlists_8h_html_adf1959c5c03a3a706da97ad2f49617e5"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#adf1959c5c03a3a706da97ad2f49617e5">AST_LIST_FIRST</a></div><div class="ttdeci">#define AST_LIST_FIRST(head)</div><div class="ttdoc">Returns the first entry contained in a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00420">linkedlists.h:420</a></div></div>
<div class="ttc" id="structast__bridge_html_a753c7b39e3284d771f13f513b003d033"><div class="ttname"><a href="../../d4/d84/structast__bridge.html#a753c7b39e3284d771f13f513b003d033">ast_bridge::uniqueid</a></div><div class="ttdeci">const ast_string_field uniqueid</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00409">bridge.h:409</a></div></div>
<div class="ttc" id="bridge__native__rtp_8c_html_a37623ff198528b19d9861e4abe3c3d29"><div class="ttname"><a href="../../d1/d27/bridge__native__rtp_8c.html#a37623ff198528b19d9861e4abe3c3d29">native_rtp_bridge_compatible_check</a></div><div class="ttdeci">static int native_rtp_bridge_compatible_check(struct ast_bridge *bridge, struct ast_bridge_channel *bc0, struct ast_bridge_channel *bc1)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d27/bridge__native__rtp_8c_source.html#l00632">bridge_native_rtp.c:632</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a1e37109bb72d95999821eb45f28c261c"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a1e37109bb72d95999821eb45f28c261c">AST_LIST_LAST</a></div><div class="ttdeci">#define AST_LIST_LAST(head)</div><div class="ttdoc">Returns the last entry contained in a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00428">linkedlists.h:428</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="channel_8h_html_a695e5b4fcf983db6451b583fbd647424"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a695e5b4fcf983db6451b583fbd647424">ast_channel_lock_both</a></div><div class="ttdeci">#define ast_channel_lock_both(chan1, chan2)</div><div class="ttdoc">Lock two channels. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02952">channel.h:2952</a></div></div>
<div class="ttc" id="structast__bridge_html_a77542a877d8ed62331c5b3b6aa3e87a7"><div class="ttname"><a href="../../d4/d84/structast__bridge.html#a77542a877d8ed62331c5b3b6aa3e87a7">ast_bridge::channels</a></div><div class="ttdeci">struct ast_bridge_channels_list channels</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00371">bridge.h:371</a></div></div>
<div class="ttc" id="structast__bridge__channel_html_a84d1435c5b8d387806714ea7079304b7"><div class="ttname"><a href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">ast_bridge_channel::chan</a></div><div class="ttdeci">struct ast_channel * chan</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00091">bridge_channel.h:91</a></div></div>
<div class="ttc" id="structast__bridge__channel_html"><div class="ttname"><a href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a></div><div class="ttdoc">Structure that contains information regarding a channel in a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00084">bridge_channel.h:84</a></div></div>
<div class="ttc" id="structast__bridge_html_a97e3bedeadf444995deb6fab68f57e21"><div class="ttname"><a href="../../d4/d84/structast__bridge.html#a97e3bedeadf444995deb6fab68f57e21">ast_bridge::num_channels</a></div><div class="ttdeci">unsigned int num_channels</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00381">bridge.h:381</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a37623ff198528b19d9861e4abe3c3d29"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a37623ff198528b19d9861e4abe3c3d29">&#9670;&nbsp;</a></span>native_rtp_bridge_compatible_check()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int native_rtp_bridge_compatible_check </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *&#160;</td>
          <td class="paramname"><em>bridge</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *&#160;</td>
          <td class="paramname"><em>bc0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *&#160;</td>
          <td class="paramname"><em>bc1</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html#l00632">632</a> of file <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html">bridge_native_rtp.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d7/d22/astobj2__container_8c_source.html#l00034">ao2_container_count()</a>, <a class="el" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00848">ast_channel_rawreadformat()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00852">ast_channel_rawwriteformat()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../d0/d3c/format__cap_8h_source.html#l00052">ast_format_cap_alloc</a>, <a class="el" href="../../d3/dc9/format__cap_8c_source.html#l00395">ast_format_cap_count()</a>, <a class="el" href="../../d0/d3c/format__cap_8h_source.html#l00038">AST_FORMAT_CAP_FLAG_DEFAULT</a>, <a class="el" href="../../d3/dc9/format__cap_8c_source.html#l00443">ast_format_cap_get_format_framing()</a>, <a class="el" href="../../d3/dc9/format__cap_8c_source.html#l00736">ast_format_cap_get_names()</a>, <a class="el" href="../../d3/dc9/format__cap_8c_source.html#l00655">ast_format_cap_iscompatible()</a>, <a class="el" href="../../d0/d3c/format__cap_8h_source.html#l00326">AST_FORMAT_CAP_NAMES_LEN</a>, <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l01569">ast_rtp_codecs_get_framing()</a>, <a class="el" href="../../d5/dde/rtp__engine_8h_source.html#l00160">AST_RTP_GLUE_RESULT_FORBID</a>, <a class="el" href="../../d5/dde/rtp__engine_8h_source.html#l00164">AST_RTP_GLUE_RESULT_LOCAL</a>, <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l02137">ast_rtp_instance_dtmf_mode_get()</a>, <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l00727">ast_rtp_instance_get_codecs()</a>, <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l02700">ast_rtp_instance_get_engine()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00800">ast_str_alloca</a>, <a class="el" href="../../de/d41/bridge__channel_8h_source.html#l00091">ast_bridge_channel::chan</a>, <a class="el" href="../../d5/dde/rtp__engine_8h_source.html#l00671">ast_rtp_engine::dtmf_compatible</a>, <a class="el" href="../../dc/d7a/bridge__features_8h_source.html#l00265">ast_bridge_features::dtmf_hooks</a>, <a class="el" href="../../de/d41/bridge__channel_8h_source.html#l00132">ast_bridge_channel::features</a>, <a class="el" href="../../d5/dde/rtp__engine_8h_source.html#l00663">ast_rtp_engine::local_bridge</a>, <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html#l00622">native_rtp_bridge_capable()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00911">RAII_VAR</a>, <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html#l00121">rtp_glue_data_destroy()</a>, <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html#l00168">rtp_glue_data_get()</a>, <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html#l00111">rtp_glue_data_init()</a>, and <a class="el" href="../../d4/d56/bridge_8h_source.html#l00409">ast_bridge::uniqueid</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html#l00765">native_rtp_bridge_compatible()</a>.</p>
<div class="fragment"><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;{</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;   <span class="keyword">enum</span> <a class="code" href="../../d5/dde/rtp__engine_8h.html#a4f2fb6c08b3697d011cf613c8b68054c">ast_rtp_glue_result</a> native_type;</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;   <span class="keywordtype">int</span> read_ptime0;</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;   <span class="keywordtype">int</span> read_ptime1;</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;   <span class="keywordtype">int</span> write_ptime0;</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;   <span class="keywordtype">int</span> write_ptime1;</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/db1/structrtp__glue__data.html">rtp_glue_data</a> glue_a;</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/db1/structrtp__glue__data.html">rtp_glue_data</a> glue_b;</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d8/d69/structast__format__cap.html">ast_format_cap</a> *, cap0, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d8/d69/structast__format__cap.html">ast_format_cap</a> *, cap1, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../dc/db1/structrtp__glue__data.html">rtp_glue_data</a> *, glue0, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d1/d27/bridge__native__rtp_8c.html#aecf1630493bccc42337862af88d6e164">rtp_glue_data_destroy</a>);</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../dc/db1/structrtp__glue__data.html">rtp_glue_data</a> *, glue1, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d1/d27/bridge__native__rtp_8c.html#aecf1630493bccc42337862af88d6e164">rtp_glue_data_destroy</a>);</div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;Bridge &#39;%s&#39;.  Checking compatability for channels &#39;%s&#39; and &#39;%s&#39;\n&quot;</span>,</div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;      bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a753c7b39e3284d771f13f513b003d033">uniqueid</a>, <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(bc0-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>), <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(bc1-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>));</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d1/d27/bridge__native__rtp_8c.html#a2905829ce573007f9a241a1cd3518c64">native_rtp_bridge_capable</a>(bc0-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>)) {</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;Bridge &#39;%s&#39; can not use native RTP bridge as channel &#39;%s&#39; has features which prevent it\n&quot;</span>,</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;         bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a753c7b39e3284d771f13f513b003d033">uniqueid</a>, <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(bc0-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>));</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;   }</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;</div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d1/d27/bridge__native__rtp_8c.html#a2905829ce573007f9a241a1cd3518c64">native_rtp_bridge_capable</a>(bc1-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>)) {</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;Bridge &#39;%s&#39; can not use native RTP bridge as channel &#39;%s&#39; has features which prevent it\n&quot;</span>,</div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;         bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a753c7b39e3284d771f13f513b003d033">uniqueid</a>, <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(bc1-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>));</div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;   }</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;</div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;   <a class="code" href="../../d1/d27/bridge__native__rtp_8c.html#af01f7ed1abd11408a284211052e87295">rtp_glue_data_init</a>(&amp;glue_a);</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;   glue0 = &amp;glue_a;</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;   <a class="code" href="../../d1/d27/bridge__native__rtp_8c.html#af01f7ed1abd11408a284211052e87295">rtp_glue_data_init</a>(&amp;glue_b);</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;   glue1 = &amp;glue_b;</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d1/d27/bridge__native__rtp_8c.html#aa40e079d059392c8d71d8d3ad48e8413">rtp_glue_data_get</a>(bc0-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>, glue0, bc1-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>, glue1)) {</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;Bridge &#39;%s&#39; can not use native RTP bridge as could not get details\n&quot;</span>,</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;         bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a753c7b39e3284d771f13f513b003d033">uniqueid</a>);</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;   }</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;   native_type = glue0-&gt;result;</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;   <span class="keywordflow">if</span> (native_type == <a class="code" href="../../d5/dde/rtp__engine_8h.html#a4f2fb6c08b3697d011cf613c8b68054ca6b70d26095905cd6bd5ddffc01d81843">AST_RTP_GLUE_RESULT_FORBID</a>) {</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;Bridge &#39;%s&#39; can not use native RTP bridge as it was forbidden while getting details\n&quot;</span>,</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;         bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a753c7b39e3284d771f13f513b003d033">uniqueid</a>);</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;   }</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d5/da5/astobj2_8h.html#a512cc40ce96c63b3d5c78040baa4c9cd">ao2_container_count</a>(bc0-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a65633fdc6178dc8d9f754fda0166d16e">features</a>-&gt;<a class="code" href="../../db/dba/structast__bridge__features.html#a70760b613dd26b51a5667e7f0fa7fb8a">dtmf_hooks</a>)</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;      &amp;&amp; <a class="code" href="../../d5/dde/rtp__engine_8h.html#a0cff5eb6a29ecb54fe5589a48556bfac">ast_rtp_instance_dtmf_mode_get</a>(glue0-&gt;audio.instance)) {</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;Bridge &#39;%s&#39; can not use native RTP bridge as channel &#39;%s&#39; has DTMF hooks\n&quot;</span>,</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;         bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a753c7b39e3284d771f13f513b003d033">uniqueid</a>, <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(bc0-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>));</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;   }</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d5/da5/astobj2_8h.html#a512cc40ce96c63b3d5c78040baa4c9cd">ao2_container_count</a>(bc1-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a65633fdc6178dc8d9f754fda0166d16e">features</a>-&gt;<a class="code" href="../../db/dba/structast__bridge__features.html#a70760b613dd26b51a5667e7f0fa7fb8a">dtmf_hooks</a>)</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;      &amp;&amp; <a class="code" href="../../d5/dde/rtp__engine_8h.html#a0cff5eb6a29ecb54fe5589a48556bfac">ast_rtp_instance_dtmf_mode_get</a>(glue1-&gt;audio.instance)) {</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;Bridge &#39;%s&#39; can not use native RTP bridge as channel &#39;%s&#39; has DTMF hooks\n&quot;</span>,</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;         bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a753c7b39e3284d771f13f513b003d033">uniqueid</a>, <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(bc1-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>));</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;   }</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;   <span class="keywordflow">if</span> (native_type == <a class="code" href="../../d5/dde/rtp__engine_8h.html#a4f2fb6c08b3697d011cf613c8b68054ca06df52d7b998aec9a879a1a53624c5e8">AST_RTP_GLUE_RESULT_LOCAL</a></div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;      &amp;&amp; (<a class="code" href="../../d5/dde/rtp__engine_8h.html#a0102aea603f46707ed8895975372dd3a">ast_rtp_instance_get_engine</a>(glue0-&gt;audio.instance)-&gt;<a class="code" href="../../d2/d14/structast__rtp__engine.html#a2b9b48ac0487fd570907492c1103eff1">local_bridge</a></div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;         != <a class="code" href="../../d5/dde/rtp__engine_8h.html#a0102aea603f46707ed8895975372dd3a">ast_rtp_instance_get_engine</a>(glue1-&gt;audio.instance)-&gt;<a class="code" href="../../d2/d14/structast__rtp__engine.html#a2b9b48ac0487fd570907492c1103eff1">local_bridge</a></div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;         || (<a class="code" href="../../d5/dde/rtp__engine_8h.html#a0102aea603f46707ed8895975372dd3a">ast_rtp_instance_get_engine</a>(glue0-&gt;audio.instance)-&gt;<a class="code" href="../../d2/d14/structast__rtp__engine.html#a7098816fc495e32f08ad659554730f90">dtmf_compatible</a></div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;            &amp;&amp; !<a class="code" href="../../d5/dde/rtp__engine_8h.html#a0102aea603f46707ed8895975372dd3a">ast_rtp_instance_get_engine</a>(glue0-&gt;audio.instance)-&gt;<a class="code" href="../../d2/d14/structast__rtp__engine.html#a7098816fc495e32f08ad659554730f90">dtmf_compatible</a>(bc0-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>,</div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;               glue0-&gt;audio.instance, bc1-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>, glue1-&gt;audio.instance)))) {</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;Bridge &#39;%s&#39; can not use local native RTP bridge as local bridge or DTMF is not compatible\n&quot;</span>,</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;         bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a753c7b39e3284d771f13f513b003d033">uniqueid</a>);</div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;   }</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;   cap0 = <a class="code" href="../../d0/d3c/format__cap_8h.html#aeb38ee3bdc8594745a707c0927146fdb">ast_format_cap_alloc</a>(<a class="code" href="../../d0/d3c/format__cap_8h.html#a51f3293ae7b01a8353bf4aa1204abba5ad111d20686641a6f0fc5efd33c82e97a">AST_FORMAT_CAP_FLAG_DEFAULT</a>);</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;   cap1 = <a class="code" href="../../d0/d3c/format__cap_8h.html#aeb38ee3bdc8594745a707c0927146fdb">ast_format_cap_alloc</a>(<a class="code" href="../../d0/d3c/format__cap_8h.html#a51f3293ae7b01a8353bf4aa1204abba5ad111d20686641a6f0fc5efd33c82e97a">AST_FORMAT_CAP_FLAG_DEFAULT</a>);</div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;   <span class="keywordflow">if</span> (!cap0 || !cap1) {</div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;   }</div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;</div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;   <span class="comment">/* Make sure that codecs match */</span></div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;   <span class="keywordflow">if</span> (glue0-&gt;cb-&gt;get_codec) {</div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;      glue0-&gt;cb-&gt;get_codec(bc0-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>, cap0);</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;   }</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;   <span class="keywordflow">if</span> (glue1-&gt;cb-&gt;get_codec) {</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;      glue1-&gt;cb-&gt;get_codec(bc1-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>, cap1);</div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;   }</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d0/d3c/format__cap_8h.html#aefb7d3623f4d8a582168e7aaf509459c">ast_format_cap_count</a>(cap0) != 0</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;      &amp;&amp; <a class="code" href="../../d0/d3c/format__cap_8h.html#aefb7d3623f4d8a582168e7aaf509459c">ast_format_cap_count</a>(cap1) != 0</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;      &amp;&amp; !<a class="code" href="../../d0/d3c/format__cap_8h.html#a9c9b87b5062c057862aa7d4237db2780">ast_format_cap_iscompatible</a>(cap0, cap1)) {</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;      <span class="keyword">struct </span><a class="code" href="../../dd/da2/structast__str.html">ast_str</a> *codec_buf0 = <a class="code" href="../../d6/d90/strings_8h.html#a7fc844c12b769ccded05e7514036e241">ast_str_alloca</a>(<a class="code" href="../../d0/d3c/format__cap_8h.html#a035f4aa78f172a18311bfa15dd232c6f">AST_FORMAT_CAP_NAMES_LEN</a>);</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;      <span class="keyword">struct </span><a class="code" href="../../dd/da2/structast__str.html">ast_str</a> *codec_buf1 = <a class="code" href="../../d6/d90/strings_8h.html#a7fc844c12b769ccded05e7514036e241">ast_str_alloca</a>(<a class="code" href="../../d0/d3c/format__cap_8h.html#a035f4aa78f172a18311bfa15dd232c6f">AST_FORMAT_CAP_NAMES_LEN</a>);</div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;Bridge &#39;%s&#39;: Channel codec0 = %s is not codec1 = %s, cannot native bridge in RTP.\n&quot;</span>,</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;         bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a753c7b39e3284d771f13f513b003d033">uniqueid</a>,</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;         <a class="code" href="../../d0/d3c/format__cap_8h.html#a4dff925fc9e3bb805b926d18447eb3eb">ast_format_cap_get_names</a>(cap0, &amp;codec_buf0),</div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;         <a class="code" href="../../d0/d3c/format__cap_8h.html#a4dff925fc9e3bb805b926d18447eb3eb">ast_format_cap_get_names</a>(cap1, &amp;codec_buf1));</div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;   }</div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;</div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;   <span class="keywordflow">if</span> (glue0-&gt;audio.instance &amp;&amp; glue1-&gt;audio.instance) {</div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;      <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> framing_inst0, framing_inst1;</div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;      framing_inst0 = <a class="code" href="../../d5/dde/rtp__engine_8h.html#aef5d988932736b654957f46ff4360889">ast_rtp_codecs_get_framing</a>(<a class="code" href="../../d5/dde/rtp__engine_8h.html#a0376aa2503a185437fab8cb0b7d674fb">ast_rtp_instance_get_codecs</a>(glue0-&gt;audio.instance));</div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;      framing_inst1 = <a class="code" href="../../d5/dde/rtp__engine_8h.html#aef5d988932736b654957f46ff4360889">ast_rtp_codecs_get_framing</a>(<a class="code" href="../../d5/dde/rtp__engine_8h.html#a0376aa2503a185437fab8cb0b7d674fb">ast_rtp_instance_get_codecs</a>(glue1-&gt;audio.instance));</div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;      <span class="keywordflow">if</span> (framing_inst0 != framing_inst1) {</div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;         <span class="comment">/* ptimes are asymmetric on the two call legs so we can&#39;t use the native bridge */</span></div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;         <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;Asymmetric ptimes on the two call legs (%u != %u). Cannot native bridge in RTP\n&quot;</span>,</div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;            framing_inst0, framing_inst1);</div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;         <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;      }</div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(3, <span class="stringliteral">&quot;Symmetric ptimes on the two call legs (%u). May be able to native bridge in RTP\n&quot;</span>,</div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;         framing_inst0);</div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;   }</div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;</div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;   read_ptime0 = <a class="code" href="../../d0/d3c/format__cap_8h.html#a0e882d4c863b74fd9cd6f7d94740bfe2">ast_format_cap_get_format_framing</a>(cap0, <a class="code" href="../../d5/d7b/channel_8h.html#aa6ceb6b9067d793c4d00c566ae585f0b">ast_channel_rawreadformat</a>(bc0-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>));</div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;   read_ptime1 = <a class="code" href="../../d0/d3c/format__cap_8h.html#a0e882d4c863b74fd9cd6f7d94740bfe2">ast_format_cap_get_format_framing</a>(cap1, <a class="code" href="../../d5/d7b/channel_8h.html#aa6ceb6b9067d793c4d00c566ae585f0b">ast_channel_rawreadformat</a>(bc1-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>));</div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;   write_ptime0 = <a class="code" href="../../d0/d3c/format__cap_8h.html#a0e882d4c863b74fd9cd6f7d94740bfe2">ast_format_cap_get_format_framing</a>(cap0, <a class="code" href="../../d5/d7b/channel_8h.html#ad27c52cda6e6435a121900661ad5bdce">ast_channel_rawwriteformat</a>(bc0-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>));</div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;   write_ptime1 = <a class="code" href="../../d0/d3c/format__cap_8h.html#a0e882d4c863b74fd9cd6f7d94740bfe2">ast_format_cap_get_format_framing</a>(cap1, <a class="code" href="../../d5/d7b/channel_8h.html#ad27c52cda6e6435a121900661ad5bdce">ast_channel_rawwriteformat</a>(bc1-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>));</div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;</div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;   <span class="keywordflow">if</span> (read_ptime0 != write_ptime1 || read_ptime1 != write_ptime0) {</div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;Bridge &#39;%s&#39;: Packetization differs between RTP streams (%d != %d or %d != %d). Cannot native bridge in RTP\n&quot;</span>,</div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;         bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a753c7b39e3284d771f13f513b003d033">uniqueid</a>,</div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;         read_ptime0, write_ptime1, read_ptime1, write_ptime0);</div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;   }</div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(3, <span class="stringliteral">&quot;Bridge &#39;%s&#39;: Packetization comparison success between RTP streams (read_ptime0:%d == write_ptime1:%d and read_ptime1:%d == write_ptime0:%d).\n&quot;</span>,</div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;      bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a753c7b39e3284d771f13f513b003d033">uniqueid</a>,</div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;      read_ptime0, write_ptime1, read_ptime1, write_ptime0);</div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;</div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;   <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;}</div><div class="ttc" id="structast__bridge_html_a753c7b39e3284d771f13f513b003d033"><div class="ttname"><a href="../../d4/d84/structast__bridge.html#a753c7b39e3284d771f13f513b003d033">ast_bridge::uniqueid</a></div><div class="ttdeci">const ast_string_field uniqueid</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00409">bridge.h:409</a></div></div>
<div class="ttc" id="astobj2_8h_html_a512cc40ce96c63b3d5c78040baa4c9cd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a512cc40ce96c63b3d5c78040baa4c9cd">ao2_container_count</a></div><div class="ttdeci">int ao2_container_count(struct ao2_container *c)</div><div class="ttdoc">Returns the number of elements in a container. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d22/astobj2__container_8c_source.html#l00034">astobj2_container.c:34</a></div></div>
<div class="ttc" id="structast__bridge__channel_html_a65633fdc6178dc8d9f754fda0166d16e"><div class="ttname"><a href="../../d5/dca/structast__bridge__channel.html#a65633fdc6178dc8d9f754fda0166d16e">ast_bridge_channel::features</a></div><div class="ttdeci">struct ast_bridge_features * features</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00132">bridge_channel.h:132</a></div></div>
<div class="ttc" id="rtp__engine_8h_html_a0376aa2503a185437fab8cb0b7d674fb"><div class="ttname"><a href="../../d5/dde/rtp__engine_8h.html#a0376aa2503a185437fab8cb0b7d674fb">ast_rtp_instance_get_codecs</a></div><div class="ttdeci">struct ast_rtp_codecs * ast_rtp_instance_get_codecs(struct ast_rtp_instance *instance)</div><div class="ttdoc">Get the codecs structure of an RTP instance. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/dbe/rtp__engine_8c_source.html#l00727">rtp_engine.c:727</a></div></div>
<div class="ttc" id="format__cap_8h_html_a035f4aa78f172a18311bfa15dd232c6f"><div class="ttname"><a href="../../d0/d3c/format__cap_8h.html#a035f4aa78f172a18311bfa15dd232c6f">AST_FORMAT_CAP_NAMES_LEN</a></div><div class="ttdeci">#define AST_FORMAT_CAP_NAMES_LEN</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d3c/format__cap_8h_source.html#l00326">format_cap.h:326</a></div></div>
<div class="ttc" id="structast__bridge__features_html_a70760b613dd26b51a5667e7f0fa7fb8a"><div class="ttname"><a href="../../db/dba/structast__bridge__features.html#a70760b613dd26b51a5667e7f0fa7fb8a">ast_bridge_features::dtmf_hooks</a></div><div class="ttdeci">struct ao2_container * dtmf_hooks</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00265">bridge_features.h:265</a></div></div>
<div class="ttc" id="format__cap_8h_html_aefb7d3623f4d8a582168e7aaf509459c"><div class="ttname"><a href="../../d0/d3c/format__cap_8h.html#aefb7d3623f4d8a582168e7aaf509459c">ast_format_cap_count</a></div><div class="ttdeci">size_t ast_format_cap_count(const struct ast_format_cap *cap)</div><div class="ttdoc">Get the number of formats present within the capabilities structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dc9/format__cap_8c_source.html#l00395">format_cap.c:395</a></div></div>
<div class="ttc" id="strings_8h_html_a7fc844c12b769ccded05e7514036e241"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a7fc844c12b769ccded05e7514036e241">ast_str_alloca</a></div><div class="ttdeci">#define ast_str_alloca(init_len)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00800">strings.h:800</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="rtp__engine_8h_html_aef5d988932736b654957f46ff4360889"><div class="ttname"><a href="../../d5/dde/rtp__engine_8h.html#aef5d988932736b654957f46ff4360889">ast_rtp_codecs_get_framing</a></div><div class="ttdeci">unsigned int ast_rtp_codecs_get_framing(struct ast_rtp_codecs *codecs)</div><div class="ttdoc">Get the framing used for a set of codecs. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/dbe/rtp__engine_8c_source.html#l01569">rtp_engine.c:1569</a></div></div>
<div class="ttc" id="bridge__native__rtp_8c_html_aecf1630493bccc42337862af88d6e164"><div class="ttname"><a href="../../d1/d27/bridge__native__rtp_8c.html#aecf1630493bccc42337862af88d6e164">rtp_glue_data_destroy</a></div><div class="ttdeci">static void rtp_glue_data_destroy(struct rtp_glue_data *glue)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d27/bridge__native__rtp_8c_source.html#l00121">bridge_native_rtp.c:121</a></div></div>
<div class="ttc" id="bridge__native__rtp_8c_html_aa40e079d059392c8d71d8d3ad48e8413"><div class="ttname"><a href="../../d1/d27/bridge__native__rtp_8c.html#aa40e079d059392c8d71d8d3ad48e8413">rtp_glue_data_get</a></div><div class="ttdeci">static int rtp_glue_data_get(struct ast_channel *c0, struct rtp_glue_data *glue0, struct ast_channel *c1, struct rtp_glue_data *glue1)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d27/bridge__native__rtp_8c_source.html#l00168">bridge_native_rtp.c:168</a></div></div>
<div class="ttc" id="bridge__native__rtp_8c_html_af01f7ed1abd11408a284211052e87295"><div class="ttname"><a href="../../d1/d27/bridge__native__rtp_8c.html#af01f7ed1abd11408a284211052e87295">rtp_glue_data_init</a></div><div class="ttdeci">static void rtp_glue_data_init(struct rtp_glue_data *glue)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d27/bridge__native__rtp_8c_source.html#l00111">bridge_native_rtp.c:111</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="structast__rtp__engine_html_a7098816fc495e32f08ad659554730f90"><div class="ttname"><a href="../../d2/d14/structast__rtp__engine.html#a7098816fc495e32f08ad659554730f90">ast_rtp_engine::dtmf_compatible</a></div><div class="ttdeci">int(* dtmf_compatible)(struct ast_channel *chan0, struct ast_rtp_instance *instance0, struct ast_channel *chan1, struct ast_rtp_instance *instance1)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/rtp__engine_8h_source.html#l00671">rtp_engine.h:671</a></div></div>
<div class="ttc" id="utils_8h_html_a1604b4d72144dd3d9f7da668e90337e9"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a></div><div class="ttdeci">#define RAII_VAR(vartype, varname, initval, dtor)</div><div class="ttdoc">Declare a variable that will call a destructor function when it goes out of scope. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00911">utils.h:911</a></div></div>
<div class="ttc" id="bridge__native__rtp_8c_html_a2905829ce573007f9a241a1cd3518c64"><div class="ttname"><a href="../../d1/d27/bridge__native__rtp_8c.html#a2905829ce573007f9a241a1cd3518c64">native_rtp_bridge_capable</a></div><div class="ttdeci">static int native_rtp_bridge_capable(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d27/bridge__native__rtp_8c_source.html#l00622">bridge_native_rtp.c:622</a></div></div>
<div class="ttc" id="rtp__engine_8h_html_a0102aea603f46707ed8895975372dd3a"><div class="ttname"><a href="../../d5/dde/rtp__engine_8h.html#a0102aea603f46707ed8895975372dd3a">ast_rtp_instance_get_engine</a></div><div class="ttdeci">struct ast_rtp_engine * ast_rtp_instance_get_engine(struct ast_rtp_instance *instance)</div><div class="ttdoc">Get the RTP engine in use on an RTP instance. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/dbe/rtp__engine_8c_source.html#l02700">rtp_engine.c:2700</a></div></div>
<div class="ttc" id="rtp__engine_8h_html_a4f2fb6c08b3697d011cf613c8b68054c"><div class="ttname"><a href="../../d5/dde/rtp__engine_8h.html#a4f2fb6c08b3697d011cf613c8b68054c">ast_rtp_glue_result</a></div><div class="ttdeci">ast_rtp_glue_result</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/rtp__engine_8h_source.html#l00158">rtp_engine.h:158</a></div></div>
<div class="ttc" id="format__cap_8h_html_aeb38ee3bdc8594745a707c0927146fdb"><div class="ttname"><a href="../../d0/d3c/format__cap_8h.html#aeb38ee3bdc8594745a707c0927146fdb">ast_format_cap_alloc</a></div><div class="ttdeci">#define ast_format_cap_alloc(flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d3c/format__cap_8h_source.html#l00052">format_cap.h:52</a></div></div>
<div class="ttc" id="format__cap_8h_html_a51f3293ae7b01a8353bf4aa1204abba5ad111d20686641a6f0fc5efd33c82e97a"><div class="ttname"><a href="../../d0/d3c/format__cap_8h.html#a51f3293ae7b01a8353bf4aa1204abba5ad111d20686641a6f0fc5efd33c82e97a">AST_FORMAT_CAP_FLAG_DEFAULT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d3c/format__cap_8h_source.html#l00038">format_cap.h:38</a></div></div>
<div class="ttc" id="channel_8h_html_aa6ceb6b9067d793c4d00c566ae585f0b"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#aa6ceb6b9067d793c4d00c566ae585f0b">ast_channel_rawreadformat</a></div><div class="ttdeci">struct ast_format * ast_channel_rawreadformat(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00848">channel_internal_api.c:848</a></div></div>
<div class="ttc" id="structast__str_html"><div class="ttname"><a href="../../dd/da2/structast__str.html">ast_str</a></div><div class="ttdoc">The descriptor of a dynamic string XXX storage will be optimized later if needed We use the ts field ...</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00584">strings.h:584</a></div></div>
<div class="ttc" id="rtp__engine_8h_html_a4f2fb6c08b3697d011cf613c8b68054ca6b70d26095905cd6bd5ddffc01d81843"><div class="ttname"><a href="../../d5/dde/rtp__engine_8h.html#a4f2fb6c08b3697d011cf613c8b68054ca6b70d26095905cd6bd5ddffc01d81843">AST_RTP_GLUE_RESULT_FORBID</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/rtp__engine_8h_source.html#l00160">rtp_engine.h:160</a></div></div>
<div class="ttc" id="structast__format__cap_html"><div class="ttname"><a href="../../d8/d69/structast__format__cap.html">ast_format_cap</a></div><div class="ttdoc">Format capabilities structure, holds formats + preference order + etc. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dc9/format__cap_8c_source.html#l00054">format_cap.c:54</a></div></div>
<div class="ttc" id="format__cap_8h_html_a0e882d4c863b74fd9cd6f7d94740bfe2"><div class="ttname"><a href="../../d0/d3c/format__cap_8h.html#a0e882d4c863b74fd9cd6f7d94740bfe2">ast_format_cap_get_format_framing</a></div><div class="ttdeci">unsigned int ast_format_cap_get_format_framing(const struct ast_format_cap *cap, const struct ast_format *format)</div><div class="ttdoc">Get the framing for a format. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dc9/format__cap_8c_source.html#l00443">format_cap.c:443</a></div></div>
<div class="ttc" id="rtp__engine_8h_html_a4f2fb6c08b3697d011cf613c8b68054ca06df52d7b998aec9a879a1a53624c5e8"><div class="ttname"><a href="../../d5/dde/rtp__engine_8h.html#a4f2fb6c08b3697d011cf613c8b68054ca06df52d7b998aec9a879a1a53624c5e8">AST_RTP_GLUE_RESULT_LOCAL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/rtp__engine_8h_source.html#l00164">rtp_engine.h:164</a></div></div>
<div class="ttc" id="format__cap_8h_html_a4dff925fc9e3bb805b926d18447eb3eb"><div class="ttname"><a href="../../d0/d3c/format__cap_8h.html#a4dff925fc9e3bb805b926d18447eb3eb">ast_format_cap_get_names</a></div><div class="ttdeci">const char * ast_format_cap_get_names(const struct ast_format_cap *cap, struct ast_str **buf)</div><div class="ttdoc">Get the names of codecs of a set of formats. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dc9/format__cap_8c_source.html#l00736">format_cap.c:736</a></div></div>
<div class="ttc" id="structast__bridge__channel_html_a84d1435c5b8d387806714ea7079304b7"><div class="ttname"><a href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">ast_bridge_channel::chan</a></div><div class="ttdeci">struct ast_channel * chan</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00091">bridge_channel.h:91</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="channel_8h_html_a7ca2fda13b129a55c251b56729de285b"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a></div><div class="ttdeci">const char * ast_channel_name(const struct ast_channel *chan)</div></div>
<div class="ttc" id="structrtp__glue__data_html"><div class="ttname"><a href="../../dc/db1/structrtp__glue__data.html">rtp_glue_data</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d27/bridge__native__rtp_8c_source.html#l00063">bridge_native_rtp.c:63</a></div></div>
<div class="ttc" id="structast__rtp__engine_html_a2b9b48ac0487fd570907492c1103eff1"><div class="ttname"><a href="../../d2/d14/structast__rtp__engine.html#a2b9b48ac0487fd570907492c1103eff1">ast_rtp_engine::local_bridge</a></div><div class="ttdeci">int(* local_bridge)(struct ast_rtp_instance *instance0, struct ast_rtp_instance *instance1)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/rtp__engine_8h_source.html#l00663">rtp_engine.h:663</a></div></div>
<div class="ttc" id="rtp__engine_8h_html_a0cff5eb6a29ecb54fe5589a48556bfac"><div class="ttname"><a href="../../d5/dde/rtp__engine_8h.html#a0cff5eb6a29ecb54fe5589a48556bfac">ast_rtp_instance_dtmf_mode_get</a></div><div class="ttdeci">enum ast_rtp_dtmf_mode ast_rtp_instance_dtmf_mode_get(struct ast_rtp_instance *instance)</div><div class="ttdoc">Get the DTMF mode of an RTP instance. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/dbe/rtp__engine_8c_source.html#l02137">rtp_engine.c:2137</a></div></div>
<div class="ttc" id="channel_8h_html_ad27c52cda6e6435a121900661ad5bdce"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#ad27c52cda6e6435a121900661ad5bdce">ast_channel_rawwriteformat</a></div><div class="ttdeci">struct ast_format * ast_channel_rawwriteformat(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00852">channel_internal_api.c:852</a></div></div>
<div class="ttc" id="format__cap_8h_html_a9c9b87b5062c057862aa7d4237db2780"><div class="ttname"><a href="../../d0/d3c/format__cap_8h.html#a9c9b87b5062c057862aa7d4237db2780">ast_format_cap_iscompatible</a></div><div class="ttdeci">int ast_format_cap_iscompatible(const struct ast_format_cap *cap1, const struct ast_format_cap *cap2)</div><div class="ttdoc">Determine if any joint capabilities exist between two capabilities structures. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dc9/format__cap_8c_source.html#l00655">format_cap.c:655</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae33b6a175b2d2cc8d98299ad3e4c7f8a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae33b6a175b2d2cc8d98299ad3e4c7f8a">&#9670;&nbsp;</a></span>native_rtp_bridge_framehook_attach()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int native_rtp_bridge_framehook_attach </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *&#160;</td>
          <td class="paramname"><em>bridge_channel</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html#l00793">793</a> of file <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html">bridge_native_rtp.c</a>.</p>

<p class="reference">References <a class="el" href="../../da/df7/astobj2_8c_source.html#l00674">__ao2_cleanup()</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00369">AO2_ALLOC_OPT_LOCK_NOLOCK</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00406">ao2_alloc_options</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00491">ao2_bump</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00695">ast_assert</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02945">ast_channel_lock</a>, <a class="el" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../da/dac/framehook_8c_source.html#l00132">ast_framehook_attach()</a>, <a class="el" href="../../db/d3c/framehook_8h_source.html#l00227">AST_FRAMEHOOK_INTERFACE_VERSION</a>, <a class="el" href="../../de/d41/bridge__channel_8h_source.html#l00100">ast_bridge_channel::bridge</a>, <a class="el" href="../../de/d41/bridge__channel_8h_source.html#l00091">ast_bridge_channel::chan</a>, <a class="el" href="../../db/d3c/framehook_8h_source.html#l00255">ast_framehook_interface::data</a>, <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html#l00079">native_rtp_bridge_channel_data::hook_data</a>, <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html#l00051">native_rtp_framehook_data::id</a>, <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html#l00562">native_rtp_framehook()</a>, <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html#l00613">native_rtp_framehook_consume()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../de/d41/bridge__channel_8h_source.html#l00116">ast_bridge_channel::tech_pvt</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00409">ast_bridge::uniqueid</a>, and <a class="el" href="../../db/d3c/framehook_8h_source.html#l00231">ast_framehook_interface::version</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html#l00967">native_rtp_bridge_join()</a>.</p>
<div class="fragment"><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;{</div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/d1d/structnative__rtp__bridge__channel__data.html">native_rtp_bridge_channel_data</a> *data = bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a19aa04db5508cf9496602e694dc69e2f">tech_pvt</a>;</div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d3/d7b/structast__framehook__interface.html">ast_framehook_interface</a> hook = {</div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;      .<a class="code" href="../../d3/d7b/structast__framehook__interface.html#ab6d7b6f8c2ceaba7acda80aaf05f4899">version</a> = <a class="code" href="../../db/d3c/framehook_8h.html#ae3b6fa28df6c8608d05936efaf929f32">AST_FRAMEHOOK_INTERFACE_VERSION</a>,</div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;      .event_cb = <a class="code" href="../../d1/d27/bridge__native__rtp_8c.html#a0d71bcbfad3fdb28e10204d9779490b3">native_rtp_framehook</a>,</div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;      .destroy_cb = <a class="code" href="../../d5/da5/astobj2_8h.html#ab940ba7749a2a12c3e9a356bd26fd744">__ao2_cleanup</a>,</div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;      .consume_cb = <a class="code" href="../../d1/d27/bridge__native__rtp_8c.html#a4e9a90ebcf5a55230473f5474fd4db47">native_rtp_framehook_consume</a>,</div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;      .disable_inheritance = 1,</div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;   };</div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;</div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a>(data-&gt;<a class="code" href="../../dc/d1d/structnative__rtp__bridge__channel__data.html#a54afeeb9f644c2baee6bd0cb13dfe4c2">hook_data</a> == <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;   data-&gt;<a class="code" href="../../dc/d1d/structnative__rtp__bridge__channel__data.html#a54afeeb9f644c2baee6bd0cb13dfe4c2">hook_data</a> = <a class="code" href="../../d5/da5/astobj2_8h.html#ab3c44e28d661616129b7819069effe61">ao2_alloc_options</a>(<span class="keyword">sizeof</span>(*data-&gt;<a class="code" href="../../dc/d1d/structnative__rtp__bridge__channel__data.html#a54afeeb9f644c2baee6bd0cb13dfe4c2">hook_data</a>), <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#a2cf7e3433f08351aafe3b0cd31edf7f8a23b60f2636bcfbc4dfeea6cc21bf847b">AO2_ALLOC_OPT_LOCK_NOLOCK</a>);</div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;   <span class="keywordflow">if</span> (!data-&gt;<a class="code" href="../../dc/d1d/structnative__rtp__bridge__channel__data.html#a54afeeb9f644c2baee6bd0cb13dfe4c2">hook_data</a>) {</div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;   }</div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;</div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(2, <span class="stringliteral">&quot;Bridge &#39;%s&#39;.  Attaching hook data %p to &#39;%s&#39;\n&quot;</span>,</div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;      bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a4fe7571e3c1759f3689d4453c132bdb7">bridge</a>-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a753c7b39e3284d771f13f513b003d033">uniqueid</a>, data, <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>));</div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;</div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;   <span class="comment">/* We&#39;re giving 1 ref to the framehook and keeping the one from the alloc for ourselves */</span></div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;   hook.<a class="code" href="../../d3/d7b/structast__framehook__interface.html#a735984d41155bc1032e09bece8f8d66d">data</a> = <a class="code" href="../../d5/da5/astobj2_8h.html#ac438c3fcd3150481fad38689fd813a15">ao2_bump</a>(data-&gt;<a class="code" href="../../dc/d1d/structnative__rtp__bridge__channel__data.html#a54afeeb9f644c2baee6bd0cb13dfe4c2">hook_data</a>);</div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;</div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>);</div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;   data-&gt;<a class="code" href="../../dc/d1d/structnative__rtp__bridge__channel__data.html#a54afeeb9f644c2baee6bd0cb13dfe4c2">hook_data</a>-&gt;<a class="code" href="../../d9/dd3/structnative__rtp__framehook__data.html#a7441ef0865bcb3db9b8064dd7375c1ea">id</a> = <a class="code" href="../../db/d3c/framehook_8h.html#a3ca711dc98d26e881936c855f0ae3d77">ast_framehook_attach</a>(bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>, &amp;hook);</div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>);</div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;   <span class="keywordflow">if</span> (data-&gt;<a class="code" href="../../dc/d1d/structnative__rtp__bridge__channel__data.html#a54afeeb9f644c2baee6bd0cb13dfe4c2">hook_data</a>-&gt;<a class="code" href="../../d9/dd3/structnative__rtp__framehook__data.html#a7441ef0865bcb3db9b8064dd7375c1ea">id</a> &lt; 0) {</div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;      <span class="comment">/*</span></div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;<span class="comment">       * We need to drop both the reference we hold in data,</span></div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;<span class="comment">       * and the one the framehook would hold.</span></div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;<span class="comment">       */</span></div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(data-&gt;<a class="code" href="../../dc/d1d/structnative__rtp__bridge__channel__data.html#a54afeeb9f644c2baee6bd0cb13dfe4c2">hook_data</a>, -2);</div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;      data-&gt;<a class="code" href="../../dc/d1d/structnative__rtp__bridge__channel__data.html#a54afeeb9f644c2baee6bd0cb13dfe4c2">hook_data</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;</div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;   }</div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;</div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;}</div><div class="ttc" id="structast__framehook__interface_html_ab6d7b6f8c2ceaba7acda80aaf05f4899"><div class="ttname"><a href="../../d3/d7b/structast__framehook__interface.html#ab6d7b6f8c2ceaba7acda80aaf05f4899">ast_framehook_interface::version</a></div><div class="ttdeci">uint16_t version</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d3c/framehook_8h_source.html#l00231">framehook.h:231</a></div></div>
<div class="ttc" id="structast__framehook__interface_html"><div class="ttname"><a href="../../d3/d7b/structast__framehook__interface.html">ast_framehook_interface</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/d3c/framehook_8h_source.html#l00229">framehook.h:229</a></div></div>
<div class="ttc" id="channel_8h_html_a493bdebe876caafb8ee535853310364a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a></div><div class="ttdeci">#define ast_channel_lock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02945">channel.h:2945</a></div></div>
<div class="ttc" id="structast__bridge_html_a753c7b39e3284d771f13f513b003d033"><div class="ttname"><a href="../../d4/d84/structast__bridge.html#a753c7b39e3284d771f13f513b003d033">ast_bridge::uniqueid</a></div><div class="ttdeci">const ast_string_field uniqueid</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00409">bridge.h:409</a></div></div>
<div class="ttc" id="astobj2_8h_html_a2cf7e3433f08351aafe3b0cd31edf7f8a23b60f2636bcfbc4dfeea6cc21bf847b"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a2cf7e3433f08351aafe3b0cd31edf7f8a23b60f2636bcfbc4dfeea6cc21bf847b">AO2_ALLOC_OPT_LOCK_NOLOCK</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00369">astobj2.h:369</a></div></div>
<div class="ttc" id="bridge__native__rtp_8c_html_a0d71bcbfad3fdb28e10204d9779490b3"><div class="ttname"><a href="../../d1/d27/bridge__native__rtp_8c.html#a0d71bcbfad3fdb28e10204d9779490b3">native_rtp_framehook</a></div><div class="ttdeci">static struct ast_frame * native_rtp_framehook(struct ast_channel *chan, struct ast_frame *f, enum ast_framehook_event event, void *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d27/bridge__native__rtp_8c_source.html#l00562">bridge_native_rtp.c:562</a></div></div>
<div class="ttc" id="astobj2_8h_html_ab940ba7749a2a12c3e9a356bd26fd744"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ab940ba7749a2a12c3e9a356bd26fd744">__ao2_cleanup</a></div><div class="ttdeci">void __ao2_cleanup(void *obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00674">astobj2.c:674</a></div></div>
<div class="ttc" id="structnative__rtp__framehook__data_html_a7441ef0865bcb3db9b8064dd7375c1ea"><div class="ttname"><a href="../../d9/dd3/structnative__rtp__framehook__data.html#a7441ef0865bcb3db9b8064dd7375c1ea">native_rtp_framehook_data::id</a></div><div class="ttdeci">int id</div><div class="ttdoc">Framehook used to intercept certain control frames. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d27/bridge__native__rtp_8c_source.html#l00051">bridge_native_rtp.c:51</a></div></div>
<div class="ttc" id="astobj2_8h_html_ab3c44e28d661616129b7819069effe61"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ab3c44e28d661616129b7819069effe61">ao2_alloc_options</a></div><div class="ttdeci">#define ao2_alloc_options(data_size, destructor_fn, options)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00406">astobj2.h:406</a></div></div>
<div class="ttc" id="utils_8h_html_a24374da24af1931d8a7ccde5b352bb2c"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a></div><div class="ttdeci">#define ast_assert(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00695">utils.h:695</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structast__bridge__channel_html_a4fe7571e3c1759f3689d4453c132bdb7"><div class="ttname"><a href="../../d5/dca/structast__bridge__channel.html#a4fe7571e3c1759f3689d4453c132bdb7">ast_bridge_channel::bridge</a></div><div class="ttdeci">struct ast_bridge * bridge</div><div class="ttdoc">Bridge this channel is participating in. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00100">bridge_channel.h:100</a></div></div>
<div class="ttc" id="structnative__rtp__bridge__channel__data_html"><div class="ttname"><a href="../../dc/d1d/structnative__rtp__bridge__channel__data.html">native_rtp_bridge_channel_data</a></div><div class="ttdoc">Internal structure which contains instance information about bridged RTP channels. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d27/bridge__native__rtp_8c_source.html#l00077">bridge_native_rtp.c:77</a></div></div>
<div class="ttc" id="astobj2_8h_html_ac438c3fcd3150481fad38689fd813a15"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ac438c3fcd3150481fad38689fd813a15">ao2_bump</a></div><div class="ttdeci">#define ao2_bump(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00491">astobj2.h:491</a></div></div>
<div class="ttc" id="framehook_8h_html_a3ca711dc98d26e881936c855f0ae3d77"><div class="ttname"><a href="../../db/d3c/framehook_8h.html#a3ca711dc98d26e881936c855f0ae3d77">ast_framehook_attach</a></div><div class="ttdeci">int ast_framehook_attach(struct ast_channel *chan, struct ast_framehook_interface *i)</div><div class="ttdoc">Attach an framehook onto a channel for frame interception. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/dac/framehook_8c_source.html#l00132">framehook.c:132</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="bridge__native__rtp_8c_html_a4e9a90ebcf5a55230473f5474fd4db47"><div class="ttname"><a href="../../d1/d27/bridge__native__rtp_8c.html#a4e9a90ebcf5a55230473f5474fd4db47">native_rtp_framehook_consume</a></div><div class="ttdeci">static int native_rtp_framehook_consume(void *data, enum ast_frame_type type)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d27/bridge__native__rtp_8c_source.html#l00613">bridge_native_rtp.c:613</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="structast__framehook__interface_html_a735984d41155bc1032e09bece8f8d66d"><div class="ttname"><a href="../../d3/d7b/structast__framehook__interface.html#a735984d41155bc1032e09bece8f8d66d">ast_framehook_interface::data</a></div><div class="ttdeci">void * data</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d3c/framehook_8h_source.html#l00255">framehook.h:255</a></div></div>
<div class="ttc" id="structnative__rtp__bridge__channel__data_html_a54afeeb9f644c2baee6bd0cb13dfe4c2"><div class="ttname"><a href="../../dc/d1d/structnative__rtp__bridge__channel__data.html#a54afeeb9f644c2baee6bd0cb13dfe4c2">native_rtp_bridge_channel_data::hook_data</a></div><div class="ttdeci">struct native_rtp_framehook_data * hook_data</div><div class="ttdoc">Channel&amp;#39;s hook data. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d27/bridge__native__rtp_8c_source.html#l00079">bridge_native_rtp.c:79</a></div></div>
<div class="ttc" id="framehook_8h_html_ae3b6fa28df6c8608d05936efaf929f32"><div class="ttname"><a href="../../db/d3c/framehook_8h.html#ae3b6fa28df6c8608d05936efaf929f32">AST_FRAMEHOOK_INTERFACE_VERSION</a></div><div class="ttdeci">#define AST_FRAMEHOOK_INTERFACE_VERSION</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d3c/framehook_8h_source.html#l00227">framehook.h:227</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="structast__bridge__channel_html_a19aa04db5508cf9496602e694dc69e2f"><div class="ttname"><a href="../../d5/dca/structast__bridge__channel.html#a19aa04db5508cf9496602e694dc69e2f">ast_bridge_channel::tech_pvt</a></div><div class="ttdeci">void * tech_pvt</div><div class="ttdoc">Private information unique to the bridge technology. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00116">bridge_channel.h:116</a></div></div>
<div class="ttc" id="structast__bridge__channel_html_a84d1435c5b8d387806714ea7079304b7"><div class="ttname"><a href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">ast_bridge_channel::chan</a></div><div class="ttdeci">struct ast_channel * chan</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00091">bridge_channel.h:91</a></div></div>
<div class="ttc" id="channel_8h_html_a7ca2fda13b129a55c251b56729de285b"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a></div><div class="ttdeci">const char * ast_channel_name(const struct ast_channel *chan)</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a37edac417b7fd1e1cc2f8283700d84c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a37edac417b7fd1e1cc2f8283700d84c9">&#9670;&nbsp;</a></span>native_rtp_bridge_framehook_detach()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void native_rtp_bridge_framehook_detach </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *&#160;</td>
          <td class="paramname"><em>bridge_channel</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html#l00838">838</a> of file <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html">bridge_native_rtp.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02945">ast_channel_lock</a>, <a class="el" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../da/dac/framehook_8c_source.html#l00177">ast_framehook_detach()</a>, <a class="el" href="../../de/d41/bridge__channel_8h_source.html#l00100">ast_bridge_channel::bridge</a>, <a class="el" href="../../de/d41/bridge__channel_8h_source.html#l00091">ast_bridge_channel::chan</a>, <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html#l00053">native_rtp_framehook_data::detached</a>, <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html#l00079">native_rtp_bridge_channel_data::hook_data</a>, <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html#l00051">native_rtp_framehook_data::id</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../de/d41/bridge__channel_8h_source.html#l00116">ast_bridge_channel::tech_pvt</a>, and <a class="el" href="../../d4/d56/bridge_8h_source.html#l00409">ast_bridge::uniqueid</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html#l01036">native_rtp_bridge_leave()</a>.</p>
<div class="fragment"><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;{</div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/d1d/structnative__rtp__bridge__channel__data.html">native_rtp_bridge_channel_data</a> *data = bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a19aa04db5508cf9496602e694dc69e2f">tech_pvt</a>;</div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;</div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;   <span class="keywordflow">if</span> (!data || !data-&gt;<a class="code" href="../../dc/d1d/structnative__rtp__bridge__channel__data.html#a54afeeb9f644c2baee6bd0cb13dfe4c2">hook_data</a>) {</div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;   }</div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;</div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(2, <span class="stringliteral">&quot;Bridge &#39;%s&#39;.  Detaching hook data %p from &#39;%s&#39;\n&quot;</span>,</div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;      bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a4fe7571e3c1759f3689d4453c132bdb7">bridge</a>-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a753c7b39e3284d771f13f513b003d033">uniqueid</a>, data-&gt;<a class="code" href="../../dc/d1d/structnative__rtp__bridge__channel__data.html#a54afeeb9f644c2baee6bd0cb13dfe4c2">hook_data</a>, <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>));</div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;</div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>);</div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;   <a class="code" href="../../db/d3c/framehook_8h.html#a6e116259cae8c1e5cca074d05f0a3475">ast_framehook_detach</a>(bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>, data-&gt;<a class="code" href="../../dc/d1d/structnative__rtp__bridge__channel__data.html#a54afeeb9f644c2baee6bd0cb13dfe4c2">hook_data</a>-&gt;<a class="code" href="../../d9/dd3/structnative__rtp__framehook__data.html#a7441ef0865bcb3db9b8064dd7375c1ea">id</a>);</div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;   data-&gt;<a class="code" href="../../dc/d1d/structnative__rtp__bridge__channel__data.html#a54afeeb9f644c2baee6bd0cb13dfe4c2">hook_data</a>-&gt;<a class="code" href="../../d9/dd3/structnative__rtp__framehook__data.html#a691d9bb12ec3ee055a779e36c3f08b5b">detached</a> = 1;</div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>);</div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>(data-&gt;<a class="code" href="../../dc/d1d/structnative__rtp__bridge__channel__data.html#a54afeeb9f644c2baee6bd0cb13dfe4c2">hook_data</a>);</div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;   data-&gt;<a class="code" href="../../dc/d1d/structnative__rtp__bridge__channel__data.html#a54afeeb9f644c2baee6bd0cb13dfe4c2">hook_data</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;}</div><div class="ttc" id="channel_8h_html_a493bdebe876caafb8ee535853310364a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a></div><div class="ttdeci">#define ast_channel_lock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02945">channel.h:2945</a></div></div>
<div class="ttc" id="structast__bridge_html_a753c7b39e3284d771f13f513b003d033"><div class="ttname"><a href="../../d4/d84/structast__bridge.html#a753c7b39e3284d771f13f513b003d033">ast_bridge::uniqueid</a></div><div class="ttdeci">const ast_string_field uniqueid</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00409">bridge.h:409</a></div></div>
<div class="ttc" id="framehook_8h_html_a6e116259cae8c1e5cca074d05f0a3475"><div class="ttname"><a href="../../db/d3c/framehook_8h.html#a6e116259cae8c1e5cca074d05f0a3475">ast_framehook_detach</a></div><div class="ttdeci">int ast_framehook_detach(struct ast_channel *chan, int framehook_id)</div><div class="ttdoc">Detach an framehook from a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/dac/framehook_8c_source.html#l00177">framehook.c:177</a></div></div>
<div class="ttc" id="structnative__rtp__framehook__data_html_a7441ef0865bcb3db9b8064dd7375c1ea"><div class="ttname"><a href="../../d9/dd3/structnative__rtp__framehook__data.html#a7441ef0865bcb3db9b8064dd7375c1ea">native_rtp_framehook_data::id</a></div><div class="ttdeci">int id</div><div class="ttdoc">Framehook used to intercept certain control frames. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d27/bridge__native__rtp_8c_source.html#l00051">bridge_native_rtp.c:51</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structast__bridge__channel_html_a4fe7571e3c1759f3689d4453c132bdb7"><div class="ttname"><a href="../../d5/dca/structast__bridge__channel.html#a4fe7571e3c1759f3689d4453c132bdb7">ast_bridge_channel::bridge</a></div><div class="ttdeci">struct ast_bridge * bridge</div><div class="ttdoc">Bridge this channel is participating in. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00100">bridge_channel.h:100</a></div></div>
<div class="ttc" id="structnative__rtp__bridge__channel__data_html"><div class="ttname"><a href="../../dc/d1d/structnative__rtp__bridge__channel__data.html">native_rtp_bridge_channel_data</a></div><div class="ttdoc">Internal structure which contains instance information about bridged RTP channels. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d27/bridge__native__rtp_8c_source.html#l00077">bridge_native_rtp.c:77</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="structnative__rtp__bridge__channel__data_html_a54afeeb9f644c2baee6bd0cb13dfe4c2"><div class="ttname"><a href="../../dc/d1d/structnative__rtp__bridge__channel__data.html#a54afeeb9f644c2baee6bd0cb13dfe4c2">native_rtp_bridge_channel_data::hook_data</a></div><div class="ttdeci">struct native_rtp_framehook_data * hook_data</div><div class="ttdoc">Channel&amp;#39;s hook data. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d27/bridge__native__rtp_8c_source.html#l00079">bridge_native_rtp.c:79</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="structast__bridge__channel_html_a19aa04db5508cf9496602e694dc69e2f"><div class="ttname"><a href="../../d5/dca/structast__bridge__channel.html#a19aa04db5508cf9496602e694dc69e2f">ast_bridge_channel::tech_pvt</a></div><div class="ttdeci">void * tech_pvt</div><div class="ttdoc">Private information unique to the bridge technology. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00116">bridge_channel.h:116</a></div></div>
<div class="ttc" id="structast__bridge__channel_html_a84d1435c5b8d387806714ea7079304b7"><div class="ttname"><a href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">ast_bridge_channel::chan</a></div><div class="ttdeci">struct ast_channel * chan</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00091">bridge_channel.h:91</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="channel_8h_html_a7ca2fda13b129a55c251b56729de285b"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a></div><div class="ttdeci">const char * ast_channel_name(const struct ast_channel *chan)</div></div>
<div class="ttc" id="structnative__rtp__framehook__data_html_a691d9bb12ec3ee055a779e36c3f08b5b"><div class="ttname"><a href="../../d9/dd3/structnative__rtp__framehook__data.html#a691d9bb12ec3ee055a779e36c3f08b5b">native_rtp_framehook_data::detached</a></div><div class="ttdeci">unsigned int detached</div><div class="ttdoc">Set when this framehook has been detached. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d27/bridge__native__rtp_8c_source.html#l00053">bridge_native_rtp.c:53</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a42ba7043b5cb8718966b640d7d0b6704"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a42ba7043b5cb8718966b640d7d0b6704">&#9670;&nbsp;</a></span>native_rtp_bridge_join()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int native_rtp_bridge_join </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *&#160;</td>
          <td class="paramname"><em>bridge</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *&#160;</td>
          <td class="paramname"><em>bridge_channel</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Forward declarations. </p>

<p class="definition">Definition at line <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html#l00967">967</a> of file <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html">bridge_native_rtp.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d60/utils_8h_source.html#l00695">ast_assert</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l01583">ast_channel_get_stream_topology()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02952">ast_channel_lock_both</a>, <a class="el" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l11167">ast_channel_request_stream_topology_change()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00420">AST_LIST_FIRST</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00428">AST_LIST_LAST</a>, <a class="el" href="../../d8/d4d/stream_8c_source.html#l00743">ast_stream_topology_free()</a>, <a class="el" href="../../d8/d4d/stream_8c_source.html#l00765">ast_stream_topology_get_count()</a>, <a class="el" href="../../de/d41/bridge__channel_8h_source.html#l00091">ast_bridge_channel::chan</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00371">ast_bridge::channels</a>, <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html#l00150">native_rtp_bridge_channel_data_alloc()</a>, <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html#l00136">native_rtp_bridge_channel_data_free()</a>, <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html#l00793">native_rtp_bridge_framehook_attach()</a>, <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html#l00289">native_rtp_bridge_start()</a>, <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html#l00857">native_rtp_request_stream_topology_update()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../de/d41/bridge__channel_8h_source.html#l00125">ast_bridge_channel::suspended</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00230">SWAP</a>, <a class="el" href="../../de/d41/bridge__channel_8h_source.html#l00116">ast_bridge_channel::tech_pvt</a>, and <a class="el" href="../../d4/d56/bridge_8h_source.html#l00409">ast_bridge::uniqueid</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html#l01025">native_rtp_bridge_unsuspend()</a>.</p>
<div class="fragment"><div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;{</div><div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../da/d35/structast__stream__topology.html">ast_stream_topology</a> *req_top;</div><div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../da/d35/structast__stream__topology.html">ast_stream_topology</a> *existing_top;</div><div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../da/d35/structast__stream__topology.html">ast_stream_topology</a> *new_top;</div><div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *c0 = <a class="code" href="../../df/d90/linkedlists_8h.html#adf1959c5c03a3a706da97ad2f49617e5">AST_LIST_FIRST</a>(&amp;bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a77542a877d8ed62331c5b3b6aa3e87a7">channels</a>)-&gt;chan;</div><div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *c1 = <a class="code" href="../../df/d90/linkedlists_8h.html#a1e37109bb72d95999821eb45f28c261c">AST_LIST_LAST</a>(&amp;bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a77542a877d8ed62331c5b3b6aa3e87a7">channels</a>)-&gt;chan;</div><div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;</div><div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(2, <span class="stringliteral">&quot;Bridge &#39;%s&#39;.  Channel &#39;%s&#39; is joining bridge tech\n&quot;</span>,</div><div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;      bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a753c7b39e3284d771f13f513b003d033">uniqueid</a>, <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>));</div><div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;</div><div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a>(bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a19aa04db5508cf9496602e694dc69e2f">tech_pvt</a> == <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;</div><div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;   <span class="keywordflow">if</span> (bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a2862ffde11c780129862e5549415a6f6">suspended</a>) {</div><div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;      <span class="comment">/* The channel will rejoin when it is unsuspended */</span></div><div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;   }</div><div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;</div><div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;   bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a19aa04db5508cf9496602e694dc69e2f">tech_pvt</a> = <a class="code" href="../../d1/d27/bridge__native__rtp_8c.html#a3d1cf68b2cb3872a93b4abc6867fa1a8">native_rtp_bridge_channel_data_alloc</a>();</div><div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;   <span class="keywordflow">if</span> (!bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a19aa04db5508cf9496602e694dc69e2f">tech_pvt</a>) {</div><div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;   }</div><div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;</div><div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d1/d27/bridge__native__rtp_8c.html#ae33b6a175b2d2cc8d98299ad3e4c7f8a">native_rtp_bridge_framehook_attach</a>(bridge_channel)) {</div><div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;      <a class="code" href="../../d1/d27/bridge__native__rtp_8c.html#a9f73c963473d8f91a5051a346ae9c105">native_rtp_bridge_channel_data_free</a>(bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a19aa04db5508cf9496602e694dc69e2f">tech_pvt</a>);</div><div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;      bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a19aa04db5508cf9496602e694dc69e2f">tech_pvt</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;   }</div><div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;</div><div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;   <span class="keywordflow">if</span> (c0 != c1) {</div><div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;      <span class="comment">/* When both channels are joined we want to try to improve the experience by</span></div><div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;<span class="comment">       * raising the number of streams so they match.</span></div><div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;<span class="comment">       */</span></div><div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#a695e5b4fcf983db6451b583fbd647424">ast_channel_lock_both</a>(c0, c1);</div><div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;      req_top = <a class="code" href="../../d5/d7b/channel_8h.html#ae35174b33cb8d9b4c1424448b21e50d2">ast_channel_get_stream_topology</a>(c0);</div><div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;      existing_top = <a class="code" href="../../d5/d7b/channel_8h.html#ae35174b33cb8d9b4c1424448b21e50d2">ast_channel_get_stream_topology</a>(c1);</div><div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d8/d95/stream_8h.html#a5eb43440630db819220df97b01f48922">ast_stream_topology_get_count</a>(req_top) &lt; <a class="code" href="../../d8/d95/stream_8h.html#a5eb43440630db819220df97b01f48922">ast_stream_topology_get_count</a>(existing_top)) {</div><div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;         <a class="code" href="../../d5/d60/utils_8h.html#aac9153aee4bdb92701df902e06a74eb3">SWAP</a>(req_top, existing_top);</div><div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;         <a class="code" href="../../d5/d60/utils_8h.html#aac9153aee4bdb92701df902e06a74eb3">SWAP</a>(c0, c1);</div><div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;      }</div><div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;      new_top = <a class="code" href="../../d1/d27/bridge__native__rtp_8c.html#af7f9b9dcd8e47b9a63032a2c93efeb72">native_rtp_request_stream_topology_update</a>(existing_top, req_top);</div><div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(c0);</div><div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(c1);</div><div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;</div><div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;      <span class="keywordflow">if</span> (new_top) {</div><div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;         <a class="code" href="../../d5/d7b/channel_8h.html#a0b1e57b68b6e4970d55a1ffe49baaaf1">ast_channel_request_stream_topology_change</a>(c1, new_top, &amp;<a class="code" href="../../d1/d27/bridge__native__rtp_8c.html#a6ea330d0c88cf1eb8ee8504dbf3c43b5">native_rtp_bridge</a>);</div><div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;         <a class="code" href="../../d8/d95/stream_8h.html#a88eca139ded2d5bbc6cdcf793febc265">ast_stream_topology_free</a>(new_top);</div><div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;      }</div><div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;   }</div><div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;</div><div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;   <a class="code" href="../../d1/d27/bridge__native__rtp_8c.html#afae9d93cb6334134a1c14804cf7059fa">native_rtp_bridge_start</a>(bridge, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;}</div><div class="ttc" id="structast__channel_html"><div class="ttname"><a href="../../df/d3c/structast__channel.html">ast_channel</a></div><div class="ttdoc">Main Channel structure associated with a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00073">channel_internal_api.c:73</a></div></div>
<div class="ttc" id="linkedlists_8h_html_adf1959c5c03a3a706da97ad2f49617e5"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#adf1959c5c03a3a706da97ad2f49617e5">AST_LIST_FIRST</a></div><div class="ttdeci">#define AST_LIST_FIRST(head)</div><div class="ttdoc">Returns the first entry contained in a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00420">linkedlists.h:420</a></div></div>
<div class="ttc" id="structast__bridge_html_a753c7b39e3284d771f13f513b003d033"><div class="ttname"><a href="../../d4/d84/structast__bridge.html#a753c7b39e3284d771f13f513b003d033">ast_bridge::uniqueid</a></div><div class="ttdeci">const ast_string_field uniqueid</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00409">bridge.h:409</a></div></div>
<div class="ttc" id="channel_8h_html_ae35174b33cb8d9b4c1424448b21e50d2"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#ae35174b33cb8d9b4c1424448b21e50d2">ast_channel_get_stream_topology</a></div><div class="ttdeci">struct ast_stream_topology * ast_channel_get_stream_topology(const struct ast_channel *chan)</div><div class="ttdoc">Retrieve the topology of streams on a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l01583">channel_internal_api.c:1583</a></div></div>
<div class="ttc" id="structast__bridge__channel_html_a2862ffde11c780129862e5549415a6f6"><div class="ttname"><a href="../../d5/dca/structast__bridge__channel.html#a2862ffde11c780129862e5549415a6f6">ast_bridge_channel::suspended</a></div><div class="ttdeci">unsigned int suspended</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00125">bridge_channel.h:125</a></div></div>
<div class="ttc" id="utils_8h_html_a24374da24af1931d8a7ccde5b352bb2c"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a></div><div class="ttdeci">#define ast_assert(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00695">utils.h:695</a></div></div>
<div class="ttc" id="utils_8h_html_aac9153aee4bdb92701df902e06a74eb3"><div class="ttname"><a href="../../d5/d60/utils_8h.html#aac9153aee4bdb92701df902e06a74eb3">SWAP</a></div><div class="ttdeci">#define SWAP(a, b)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00230">utils.h:230</a></div></div>
<div class="ttc" id="channel_8h_html_a0b1e57b68b6e4970d55a1ffe49baaaf1"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a0b1e57b68b6e4970d55a1ffe49baaaf1">ast_channel_request_stream_topology_change</a></div><div class="ttdeci">int ast_channel_request_stream_topology_change(struct ast_channel *chan, struct ast_stream_topology *topology, void *change_source)</div><div class="ttdoc">Request that the stream topology of a channel change. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l11167">channel.c:11167</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="bridge__native__rtp_8c_html_a6ea330d0c88cf1eb8ee8504dbf3c43b5"><div class="ttname"><a href="../../d1/d27/bridge__native__rtp_8c.html#a6ea330d0c88cf1eb8ee8504dbf3c43b5">native_rtp_bridge</a></div><div class="ttdeci">static struct ast_bridge_technology native_rtp_bridge</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d27/bridge__native__rtp_8c_source.html#l00098">bridge_native_rtp.c:98</a></div></div>
<div class="ttc" id="bridge__native__rtp_8c_html_af7f9b9dcd8e47b9a63032a2c93efeb72"><div class="ttname"><a href="../../d1/d27/bridge__native__rtp_8c.html#af7f9b9dcd8e47b9a63032a2c93efeb72">native_rtp_request_stream_topology_update</a></div><div class="ttdeci">static struct ast_stream_topology * native_rtp_request_stream_topology_update(struct ast_stream_topology *existing_topology, struct ast_stream_topology *requested_topology)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d27/bridge__native__rtp_8c_source.html#l00857">bridge_native_rtp.c:857</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="bridge__native__rtp_8c_html_a9f73c963473d8f91a5051a346ae9c105"><div class="ttname"><a href="../../d1/d27/bridge__native__rtp_8c.html#a9f73c963473d8f91a5051a346ae9c105">native_rtp_bridge_channel_data_free</a></div><div class="ttdeci">static void native_rtp_bridge_channel_data_free(struct native_rtp_bridge_channel_data *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d27/bridge__native__rtp_8c_source.html#l00136">bridge_native_rtp.c:136</a></div></div>
<div class="ttc" id="structast__stream__topology_html"><div class="ttname"><a href="../../da/d35/structast__stream__topology.html">ast_stream_topology</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d4d/stream_8c_source.html#l00123">stream.c:123</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a1e37109bb72d95999821eb45f28c261c"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a1e37109bb72d95999821eb45f28c261c">AST_LIST_LAST</a></div><div class="ttdeci">#define AST_LIST_LAST(head)</div><div class="ttdoc">Returns the last entry contained in a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00428">linkedlists.h:428</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="structast__bridge__channel_html_a19aa04db5508cf9496602e694dc69e2f"><div class="ttname"><a href="../../d5/dca/structast__bridge__channel.html#a19aa04db5508cf9496602e694dc69e2f">ast_bridge_channel::tech_pvt</a></div><div class="ttdeci">void * tech_pvt</div><div class="ttdoc">Private information unique to the bridge technology. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00116">bridge_channel.h:116</a></div></div>
<div class="ttc" id="stream_8h_html_a5eb43440630db819220df97b01f48922"><div class="ttname"><a href="../../d8/d95/stream_8h.html#a5eb43440630db819220df97b01f48922">ast_stream_topology_get_count</a></div><div class="ttdeci">int ast_stream_topology_get_count(const struct ast_stream_topology *topology)</div><div class="ttdoc">Get the number of streams in a topology. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d4d/stream_8c_source.html#l00765">stream.c:765</a></div></div>
<div class="ttc" id="channel_8h_html_a695e5b4fcf983db6451b583fbd647424"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a695e5b4fcf983db6451b583fbd647424">ast_channel_lock_both</a></div><div class="ttdeci">#define ast_channel_lock_both(chan1, chan2)</div><div class="ttdoc">Lock two channels. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02952">channel.h:2952</a></div></div>
<div class="ttc" id="structast__bridge_html_a77542a877d8ed62331c5b3b6aa3e87a7"><div class="ttname"><a href="../../d4/d84/structast__bridge.html#a77542a877d8ed62331c5b3b6aa3e87a7">ast_bridge::channels</a></div><div class="ttdeci">struct ast_bridge_channels_list channels</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00371">bridge.h:371</a></div></div>
<div class="ttc" id="structast__bridge__channel_html_a84d1435c5b8d387806714ea7079304b7"><div class="ttname"><a href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">ast_bridge_channel::chan</a></div><div class="ttdeci">struct ast_channel * chan</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00091">bridge_channel.h:91</a></div></div>
<div class="ttc" id="channel_8h_html_a7ca2fda13b129a55c251b56729de285b"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a></div><div class="ttdeci">const char * ast_channel_name(const struct ast_channel *chan)</div></div>
<div class="ttc" id="bridge__native__rtp_8c_html_a3d1cf68b2cb3872a93b4abc6867fa1a8"><div class="ttname"><a href="../../d1/d27/bridge__native__rtp_8c.html#a3d1cf68b2cb3872a93b4abc6867fa1a8">native_rtp_bridge_channel_data_alloc</a></div><div class="ttdeci">static struct native_rtp_bridge_channel_data * native_rtp_bridge_channel_data_alloc(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d27/bridge__native__rtp_8c_source.html#l00150">bridge_native_rtp.c:150</a></div></div>
<div class="ttc" id="stream_8h_html_a88eca139ded2d5bbc6cdcf793febc265"><div class="ttname"><a href="../../d8/d95/stream_8h.html#a88eca139ded2d5bbc6cdcf793febc265">ast_stream_topology_free</a></div><div class="ttdeci">void ast_stream_topology_free(struct ast_stream_topology *topology)</div><div class="ttdoc">Unreference and destroy a stream topology. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d4d/stream_8c_source.html#l00743">stream.c:743</a></div></div>
<div class="ttc" id="bridge__native__rtp_8c_html_afae9d93cb6334134a1c14804cf7059fa"><div class="ttname"><a href="../../d1/d27/bridge__native__rtp_8c.html#afae9d93cb6334134a1c14804cf7059fa">native_rtp_bridge_start</a></div><div class="ttdeci">static void native_rtp_bridge_start(struct ast_bridge *bridge, struct ast_channel *target)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d27/bridge__native__rtp_8c_source.html#l00289">bridge_native_rtp.c:289</a></div></div>
<div class="ttc" id="bridge__native__rtp_8c_html_ae33b6a175b2d2cc8d98299ad3e4c7f8a"><div class="ttname"><a href="../../d1/d27/bridge__native__rtp_8c.html#ae33b6a175b2d2cc8d98299ad3e4c7f8a">native_rtp_bridge_framehook_attach</a></div><div class="ttdeci">static int native_rtp_bridge_framehook_attach(struct ast_bridge_channel *bridge_channel)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d27/bridge__native__rtp_8c_source.html#l00793">bridge_native_rtp.c:793</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab0a5941f1c69a22f499685ede499644f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab0a5941f1c69a22f499685ede499644f">&#9670;&nbsp;</a></span>native_rtp_bridge_leave()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void native_rtp_bridge_leave </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *&#160;</td>
          <td class="paramname"><em>bridge</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *&#160;</td>
          <td class="paramname"><em>bridge_channel</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html#l01036">1036</a> of file <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html">bridge_native_rtp.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../de/d41/bridge__channel_8h_source.html#l00091">ast_bridge_channel::chan</a>, <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html#l00136">native_rtp_bridge_channel_data_free()</a>, <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html#l00838">native_rtp_bridge_framehook_detach()</a>, <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html#l00435">native_rtp_bridge_stop()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../de/d41/bridge__channel_8h_source.html#l00116">ast_bridge_channel::tech_pvt</a>, and <a class="el" href="../../d4/d56/bridge_8h_source.html#l00409">ast_bridge::uniqueid</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html#l01056">native_rtp_bridge_suspend()</a>.</p>
<div class="fragment"><div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;{</div><div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(2, <span class="stringliteral">&quot;Bridge &#39;%s&#39;.  Channel &#39;%s&#39; is leaving bridge tech\n&quot;</span>,</div><div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;      bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a753c7b39e3284d771f13f513b003d033">uniqueid</a>, <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>));</div><div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;</div><div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;   <span class="keywordflow">if</span> (!bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a19aa04db5508cf9496602e694dc69e2f">tech_pvt</a>) {</div><div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;   }</div><div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;</div><div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;   <a class="code" href="../../d1/d27/bridge__native__rtp_8c.html#a37edac417b7fd1e1cc2f8283700d84c9">native_rtp_bridge_framehook_detach</a>(bridge_channel);</div><div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;   <a class="code" href="../../d1/d27/bridge__native__rtp_8c.html#a632245bb3be7224b5246a34d7e5f20a1">native_rtp_bridge_stop</a>(bridge, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;</div><div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;   <a class="code" href="../../d1/d27/bridge__native__rtp_8c.html#a9f73c963473d8f91a5051a346ae9c105">native_rtp_bridge_channel_data_free</a>(bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a19aa04db5508cf9496602e694dc69e2f">tech_pvt</a>);</div><div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;   bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a19aa04db5508cf9496602e694dc69e2f">tech_pvt</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;}</div><div class="ttc" id="structast__bridge_html_a753c7b39e3284d771f13f513b003d033"><div class="ttname"><a href="../../d4/d84/structast__bridge.html#a753c7b39e3284d771f13f513b003d033">ast_bridge::uniqueid</a></div><div class="ttdeci">const ast_string_field uniqueid</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00409">bridge.h:409</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="bridge__native__rtp_8c_html_a9f73c963473d8f91a5051a346ae9c105"><div class="ttname"><a href="../../d1/d27/bridge__native__rtp_8c.html#a9f73c963473d8f91a5051a346ae9c105">native_rtp_bridge_channel_data_free</a></div><div class="ttdeci">static void native_rtp_bridge_channel_data_free(struct native_rtp_bridge_channel_data *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d27/bridge__native__rtp_8c_source.html#l00136">bridge_native_rtp.c:136</a></div></div>
<div class="ttc" id="bridge__native__rtp_8c_html_a632245bb3be7224b5246a34d7e5f20a1"><div class="ttname"><a href="../../d1/d27/bridge__native__rtp_8c.html#a632245bb3be7224b5246a34d7e5f20a1">native_rtp_bridge_stop</a></div><div class="ttdeci">static void native_rtp_bridge_stop(struct ast_bridge *bridge, struct ast_channel *target)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d27/bridge__native__rtp_8c_source.html#l00435">bridge_native_rtp.c:435</a></div></div>
<div class="ttc" id="bridge__native__rtp_8c_html_a37edac417b7fd1e1cc2f8283700d84c9"><div class="ttname"><a href="../../d1/d27/bridge__native__rtp_8c.html#a37edac417b7fd1e1cc2f8283700d84c9">native_rtp_bridge_framehook_detach</a></div><div class="ttdeci">static void native_rtp_bridge_framehook_detach(struct ast_bridge_channel *bridge_channel)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d27/bridge__native__rtp_8c_source.html#l00838">bridge_native_rtp.c:838</a></div></div>
<div class="ttc" id="structast__bridge__channel_html_a19aa04db5508cf9496602e694dc69e2f"><div class="ttname"><a href="../../d5/dca/structast__bridge__channel.html#a19aa04db5508cf9496602e694dc69e2f">ast_bridge_channel::tech_pvt</a></div><div class="ttdeci">void * tech_pvt</div><div class="ttdoc">Private information unique to the bridge technology. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00116">bridge_channel.h:116</a></div></div>
<div class="ttc" id="structast__bridge__channel_html_a84d1435c5b8d387806714ea7079304b7"><div class="ttname"><a href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">ast_bridge_channel::chan</a></div><div class="ttdeci">struct ast_channel * chan</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00091">bridge_channel.h:91</a></div></div>
<div class="ttc" id="channel_8h_html_a7ca2fda13b129a55c251b56729de285b"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a></div><div class="ttdeci">const char * ast_channel_name(const struct ast_channel *chan)</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="afae9d93cb6334134a1c14804cf7059fa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afae9d93cb6334134a1c14804cf7059fa">&#9670;&nbsp;</a></span>native_rtp_bridge_start()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void native_rtp_bridge_start </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *&#160;</td>
          <td class="paramname"><em>bridge</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>target</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html#l00289">289</a> of file <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html">bridge_native_rtp.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00695">ast_assert</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02952">ast_channel_lock_both</a>, <a class="el" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../d0/d3c/format__cap_8h_source.html#l00052">ast_format_cap_alloc</a>, <a class="el" href="../../d0/d3c/format__cap_8h_source.html#l00038">AST_FORMAT_CAP_FLAG_DEFAULT</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00420">AST_LIST_FIRST</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00428">AST_LIST_LAST</a>, <a class="el" href="../../d5/dde/rtp__engine_8h_source.html#l00160">AST_RTP_GLUE_RESULT_FORBID</a>, <a class="el" href="../../d5/dde/rtp__engine_8h_source.html#l00164">AST_RTP_GLUE_RESULT_LOCAL</a>, <a class="el" href="../../d5/dde/rtp__engine_8h_source.html#l00162">AST_RTP_GLUE_RESULT_REMOTE</a>, <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l02700">ast_rtp_instance_get_engine()</a>, <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l02244">ast_rtp_instance_set_bridged()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00463">ast_verb</a>, <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html#l00070">rtp_glue_data::audio</a>, <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html#l00069">rtp_glue_data::cb</a>, <a class="el" href="../../de/d41/bridge__channel_8h_source.html#l00091">ast_bridge_channel::chan</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00371">ast_bridge::channels</a>, <a class="el" href="../../dc/dbf/test__amihooks_8c_source.html#l00048">done</a>, <a class="el" href="../../d5/dde/rtp__engine_8h_source.html#l00761">ast_rtp_glue::get_codec</a>, <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html#l00086">native_rtp_bridge_channel_data::glue</a>, <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html#l00058">rtp_glue_stream::instance</a>, <a class="el" href="../../d5/dde/rtp__engine_8h_source.html#l00663">ast_rtp_engine::local_bridge</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html#l00084">native_rtp_bridge_channel_data::remote_cb</a>, <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html#l00073">rtp_glue_data::result</a>, <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html#l00168">rtp_glue_data_get()</a>, <a class="el" href="../../de/d41/bridge__channel_8h_source.html#l00116">ast_bridge_channel::tech_pvt</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00409">ast_bridge::uniqueid</a>, <a class="el" href="../../d5/dde/rtp__engine_8h_source.html#l00756">ast_rtp_glue::update_peer</a>, and <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html#l00071">rtp_glue_data::video</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html#l00967">native_rtp_bridge_join()</a>, and <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html#l00562">native_rtp_framehook()</a>.</p>
<div class="fragment"><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;{</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *bc0 = <a class="code" href="../../df/d90/linkedlists_8h.html#adf1959c5c03a3a706da97ad2f49617e5">AST_LIST_FIRST</a>(&amp;bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a77542a877d8ed62331c5b3b6aa3e87a7">channels</a>);</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *bc1 = <a class="code" href="../../df/d90/linkedlists_8h.html#a1e37109bb72d95999821eb45f28c261c">AST_LIST_LAST</a>(&amp;bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a77542a877d8ed62331c5b3b6aa3e87a7">channels</a>);</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/d1d/structnative__rtp__bridge__channel__data.html">native_rtp_bridge_channel_data</a> *data0;</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/d1d/structnative__rtp__bridge__channel__data.html">native_rtp_bridge_channel_data</a> *data1;</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/db1/structrtp__glue__data.html">rtp_glue_data</a> *glue0;</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/db1/structrtp__glue__data.html">rtp_glue_data</a> *glue1;</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d8/d69/structast__format__cap.html">ast_format_cap</a> *cap0;</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d8/d69/structast__format__cap.html">ast_format_cap</a> *cap1;</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;   <span class="keyword">enum</span> <a class="code" href="../../d5/dde/rtp__engine_8h.html#a4f2fb6c08b3697d011cf613c8b68054c">ast_rtp_glue_result</a> native_type;</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;   <span class="keywordflow">if</span> (bc0 == bc1) {</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;   }</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;   data0 = bc0-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a19aa04db5508cf9496602e694dc69e2f">tech_pvt</a>;</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;   data1 = bc1-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a19aa04db5508cf9496602e694dc69e2f">tech_pvt</a>;</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;   <span class="keywordflow">if</span> (!data0 || !data1) {</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;      <span class="comment">/* Not all channels are joined with the bridge tech yet */</span></div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;   }</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;   glue0 = &amp;data0-&gt;<a class="code" href="../../dc/d1d/structnative__rtp__bridge__channel__data.html#a7b8147624c6fea1893758bb32ceb89a8">glue</a>;</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;   glue1 = &amp;data1-&gt;<a class="code" href="../../dc/d1d/structnative__rtp__bridge__channel__data.html#a7b8147624c6fea1893758bb32ceb89a8">glue</a>;</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a695e5b4fcf983db6451b583fbd647424">ast_channel_lock_both</a>(bc0-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>, bc1-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>);</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;   <span class="keywordflow">if</span> (!glue0-&gt;<a class="code" href="../../dc/db1/structrtp__glue__data.html#ac60e72147b8f66ed402262b67f6dee4b">cb</a> || !glue1-&gt;<a class="code" href="../../dc/db1/structrtp__glue__data.html#ac60e72147b8f66ed402262b67f6dee4b">cb</a>) {</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;      <span class="comment">/*</span></div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;<span class="comment">       * Somebody doesn&#39;t have glue data so the bridge isn&#39;t running</span></div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;<span class="comment">       *</span></div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;<span class="comment">       * Actually neither side should have glue data.</span></div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;<span class="comment">       */</span></div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;      <a class="code" href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a>(!glue0-&gt;<a class="code" href="../../dc/db1/structrtp__glue__data.html#ac60e72147b8f66ed402262b67f6dee4b">cb</a> &amp;&amp; !glue1-&gt;<a class="code" href="../../dc/db1/structrtp__glue__data.html#ac60e72147b8f66ed402262b67f6dee4b">cb</a>);</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d1/d27/bridge__native__rtp_8c.html#aa40e079d059392c8d71d8d3ad48e8413">rtp_glue_data_get</a>(bc0-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>, glue0, bc1-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>, glue1)) {</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;         <span class="comment">/*</span></div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;<span class="comment">          * This might happen if one of the channels got masqueraded</span></div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;<span class="comment">          * at a critical time.  It&#39;s a bit of a stretch even then</span></div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;<span class="comment">          * since the channel is in a bridge.</span></div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;<span class="comment">          */</span></div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;         <span class="keywordflow">goto</span> <a class="code" href="../../dc/dbf/test__amihooks_8c.html#a5992b274cfdcacdbc1fa8347fd01ebde">done</a>;</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;      }</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;   }</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(2, <span class="stringliteral">&quot;Bridge &#39;%s&#39;.  Tech starting &#39;%s&#39; and &#39;%s&#39; with target &#39;%s&#39;\n&quot;</span>,</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;      bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a753c7b39e3284d771f13f513b003d033">uniqueid</a>, <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(bc0-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>), <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(bc1-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>),</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;      target ? <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(target) : <span class="stringliteral">&quot;none&quot;</span>);</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;   native_type = glue0-&gt;<a class="code" href="../../dc/db1/structrtp__glue__data.html#aa8ee7cf218c500340ec7cf2283b67504">result</a>;</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;   <span class="keywordflow">switch</span> (native_type) {</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d5/dde/rtp__engine_8h.html#a4f2fb6c08b3697d011cf613c8b68054ca06df52d7b998aec9a879a1a53624c5e8">AST_RTP_GLUE_RESULT_LOCAL</a>:</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d5/dde/rtp__engine_8h.html#a0102aea603f46707ed8895975372dd3a">ast_rtp_instance_get_engine</a>(glue0-&gt;<a class="code" href="../../dc/db1/structrtp__glue__data.html#a325a7b6542ba7c103a7ded311a0ab44d">audio</a>.<a class="code" href="../../d8/d6b/structrtp__glue__stream.html#ab8379d828ec083fe0cdb16f540f67d1f">instance</a>)-&gt;<a class="code" href="../../d2/d14/structast__rtp__engine.html#a2b9b48ac0487fd570907492c1103eff1">local_bridge</a>) {</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;         <a class="code" href="../../d5/dde/rtp__engine_8h.html#a0102aea603f46707ed8895975372dd3a">ast_rtp_instance_get_engine</a>(glue0-&gt;<a class="code" href="../../dc/db1/structrtp__glue__data.html#a325a7b6542ba7c103a7ded311a0ab44d">audio</a>.<a class="code" href="../../d8/d6b/structrtp__glue__stream.html#ab8379d828ec083fe0cdb16f540f67d1f">instance</a>)-&gt;<a class="code" href="../../d2/d14/structast__rtp__engine.html#a2b9b48ac0487fd570907492c1103eff1">local_bridge</a>(glue0-&gt;<a class="code" href="../../dc/db1/structrtp__glue__data.html#a325a7b6542ba7c103a7ded311a0ab44d">audio</a>.<a class="code" href="../../d8/d6b/structrtp__glue__stream.html#ab8379d828ec083fe0cdb16f540f67d1f">instance</a>, glue1-&gt;<a class="code" href="../../dc/db1/structrtp__glue__data.html#a325a7b6542ba7c103a7ded311a0ab44d">audio</a>.<a class="code" href="../../d8/d6b/structrtp__glue__stream.html#ab8379d828ec083fe0cdb16f540f67d1f">instance</a>);</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;      }</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d5/dde/rtp__engine_8h.html#a0102aea603f46707ed8895975372dd3a">ast_rtp_instance_get_engine</a>(glue1-&gt;<a class="code" href="../../dc/db1/structrtp__glue__data.html#a325a7b6542ba7c103a7ded311a0ab44d">audio</a>.<a class="code" href="../../d8/d6b/structrtp__glue__stream.html#ab8379d828ec083fe0cdb16f540f67d1f">instance</a>)-&gt;<a class="code" href="../../d2/d14/structast__rtp__engine.html#a2b9b48ac0487fd570907492c1103eff1">local_bridge</a>) {</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;         <a class="code" href="../../d5/dde/rtp__engine_8h.html#a0102aea603f46707ed8895975372dd3a">ast_rtp_instance_get_engine</a>(glue1-&gt;<a class="code" href="../../dc/db1/structrtp__glue__data.html#a325a7b6542ba7c103a7ded311a0ab44d">audio</a>.<a class="code" href="../../d8/d6b/structrtp__glue__stream.html#ab8379d828ec083fe0cdb16f540f67d1f">instance</a>)-&gt;<a class="code" href="../../d2/d14/structast__rtp__engine.html#a2b9b48ac0487fd570907492c1103eff1">local_bridge</a>(glue1-&gt;<a class="code" href="../../dc/db1/structrtp__glue__data.html#a325a7b6542ba7c103a7ded311a0ab44d">audio</a>.<a class="code" href="../../d8/d6b/structrtp__glue__stream.html#ab8379d828ec083fe0cdb16f540f67d1f">instance</a>, glue0-&gt;<a class="code" href="../../dc/db1/structrtp__glue__data.html#a325a7b6542ba7c103a7ded311a0ab44d">audio</a>.<a class="code" href="../../d8/d6b/structrtp__glue__stream.html#ab8379d828ec083fe0cdb16f540f67d1f">instance</a>);</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;      }</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;      <a class="code" href="../../d5/dde/rtp__engine_8h.html#afcde4e4b65201b3a7b5ee9c84bd1043c">ast_rtp_instance_set_bridged</a>(glue0-&gt;<a class="code" href="../../dc/db1/structrtp__glue__data.html#a325a7b6542ba7c103a7ded311a0ab44d">audio</a>.<a class="code" href="../../d8/d6b/structrtp__glue__stream.html#ab8379d828ec083fe0cdb16f540f67d1f">instance</a>, glue1-&gt;<a class="code" href="../../dc/db1/structrtp__glue__data.html#a325a7b6542ba7c103a7ded311a0ab44d">audio</a>.<a class="code" href="../../d8/d6b/structrtp__glue__stream.html#ab8379d828ec083fe0cdb16f540f67d1f">instance</a>);</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;      <a class="code" href="../../d5/dde/rtp__engine_8h.html#afcde4e4b65201b3a7b5ee9c84bd1043c">ast_rtp_instance_set_bridged</a>(glue1-&gt;<a class="code" href="../../dc/db1/structrtp__glue__data.html#a325a7b6542ba7c103a7ded311a0ab44d">audio</a>.<a class="code" href="../../d8/d6b/structrtp__glue__stream.html#ab8379d828ec083fe0cdb16f540f67d1f">instance</a>, glue0-&gt;<a class="code" href="../../dc/db1/structrtp__glue__data.html#a325a7b6542ba7c103a7ded311a0ab44d">audio</a>.<a class="code" href="../../d8/d6b/structrtp__glue__stream.html#ab8379d828ec083fe0cdb16f540f67d1f">instance</a>);</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(4, <span class="stringliteral">&quot;Locally RTP bridged &#39;%s&#39; and &#39;%s&#39; in stack\n&quot;</span>,</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;         <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(bc0-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>), <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(bc1-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>));</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d5/dde/rtp__engine_8h.html#a4f2fb6c08b3697d011cf613c8b68054ca08fec5e751b8194dd415a96306f16ff2">AST_RTP_GLUE_RESULT_REMOTE</a>:</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;      cap0 = <a class="code" href="../../d0/d3c/format__cap_8h.html#aeb38ee3bdc8594745a707c0927146fdb">ast_format_cap_alloc</a>(<a class="code" href="../../d0/d3c/format__cap_8h.html#a51f3293ae7b01a8353bf4aa1204abba5ad111d20686641a6f0fc5efd33c82e97a">AST_FORMAT_CAP_FLAG_DEFAULT</a>);</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;      cap1 = <a class="code" href="../../d0/d3c/format__cap_8h.html#aeb38ee3bdc8594745a707c0927146fdb">ast_format_cap_alloc</a>(<a class="code" href="../../d0/d3c/format__cap_8h.html#a51f3293ae7b01a8353bf4aa1204abba5ad111d20686641a6f0fc5efd33c82e97a">AST_FORMAT_CAP_FLAG_DEFAULT</a>);</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;      <span class="keywordflow">if</span> (!cap0 || !cap1) {</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;         <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>(cap0);</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;         <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>(cap1);</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;      }</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;      <span class="keywordflow">if</span> (glue0-&gt;<a class="code" href="../../dc/db1/structrtp__glue__data.html#ac60e72147b8f66ed402262b67f6dee4b">cb</a>-&gt;<a class="code" href="../../d8/dc9/structast__rtp__glue.html#a446e18924acc8aa16863aac05266866d">get_codec</a>) {</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;         glue0-&gt;<a class="code" href="../../dc/db1/structrtp__glue__data.html#ac60e72147b8f66ed402262b67f6dee4b">cb</a>-&gt;<a class="code" href="../../d8/dc9/structast__rtp__glue.html#a446e18924acc8aa16863aac05266866d">get_codec</a>(bc0-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>, cap0);</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;      }</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;      <span class="keywordflow">if</span> (glue1-&gt;<a class="code" href="../../dc/db1/structrtp__glue__data.html#ac60e72147b8f66ed402262b67f6dee4b">cb</a>-&gt;<a class="code" href="../../d8/dc9/structast__rtp__glue.html#a446e18924acc8aa16863aac05266866d">get_codec</a>) {</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;         glue1-&gt;<a class="code" href="../../dc/db1/structrtp__glue__data.html#ac60e72147b8f66ed402262b67f6dee4b">cb</a>-&gt;<a class="code" href="../../d8/dc9/structast__rtp__glue.html#a446e18924acc8aa16863aac05266866d">get_codec</a>(bc1-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>, cap1);</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;      }</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;      <span class="comment">/*</span></div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;<span class="comment">       * If we have a target, it&#39;s the channel that received the UNHOLD or</span></div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;<span class="comment">       * UPDATE_RTP_PEER frame and was told to resume</span></div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;<span class="comment">       */</span></div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;      <span class="keywordflow">if</span> (!target) {</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;         <span class="comment">/* Send both channels to remote */</span></div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;         data0-&gt;<a class="code" href="../../dc/d1d/structnative__rtp__bridge__channel__data.html#ad509a382876cf2850ef985020d38406d">remote_cb</a> = glue0-&gt;<a class="code" href="../../dc/db1/structrtp__glue__data.html#ac60e72147b8f66ed402262b67f6dee4b">cb</a>;</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;         data1-&gt;<a class="code" href="../../dc/d1d/structnative__rtp__bridge__channel__data.html#ad509a382876cf2850ef985020d38406d">remote_cb</a> = glue1-&gt;<a class="code" href="../../dc/db1/structrtp__glue__data.html#ac60e72147b8f66ed402262b67f6dee4b">cb</a>;</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;         glue0-&gt;<a class="code" href="../../dc/db1/structrtp__glue__data.html#ac60e72147b8f66ed402262b67f6dee4b">cb</a>-&gt;<a class="code" href="../../d8/dc9/structast__rtp__glue.html#a6ee109780d8fa72a8b5e87471330d053">update_peer</a>(bc0-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>, glue1-&gt;<a class="code" href="../../dc/db1/structrtp__glue__data.html#a325a7b6542ba7c103a7ded311a0ab44d">audio</a>.<a class="code" href="../../d8/d6b/structrtp__glue__stream.html#ab8379d828ec083fe0cdb16f540f67d1f">instance</a>, glue1-&gt;<a class="code" href="../../dc/db1/structrtp__glue__data.html#a49a570b04f7044ee37d2ef9b881f32d2">video</a>.<a class="code" href="../../d8/d6b/structrtp__glue__stream.html#ab8379d828ec083fe0cdb16f540f67d1f">instance</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, cap1, 0);</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;         glue1-&gt;<a class="code" href="../../dc/db1/structrtp__glue__data.html#ac60e72147b8f66ed402262b67f6dee4b">cb</a>-&gt;<a class="code" href="../../d8/dc9/structast__rtp__glue.html#a6ee109780d8fa72a8b5e87471330d053">update_peer</a>(bc1-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>, glue0-&gt;<a class="code" href="../../dc/db1/structrtp__glue__data.html#a325a7b6542ba7c103a7ded311a0ab44d">audio</a>.<a class="code" href="../../d8/d6b/structrtp__glue__stream.html#ab8379d828ec083fe0cdb16f540f67d1f">instance</a>, glue0-&gt;<a class="code" href="../../dc/db1/structrtp__glue__data.html#a49a570b04f7044ee37d2ef9b881f32d2">video</a>.<a class="code" href="../../d8/d6b/structrtp__glue__stream.html#ab8379d828ec083fe0cdb16f540f67d1f">instance</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, cap0, 0);</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;         <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(4, <span class="stringliteral">&quot;Remotely bridged &#39;%s&#39; and &#39;%s&#39; - media will flow directly between them\n&quot;</span>,</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;            <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(bc0-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>), <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(bc1-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>));</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;         <span class="comment">/*</span></div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;<span class="comment">          * If a target was provided, it is the recipient of an unhold or an update and needs to have</span></div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;<span class="comment">          * its media redirected to fit the current remote bridging needs. The other channel is either</span></div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;<span class="comment">          * already set up to handle the new media path or will have its own set of updates independent</span></div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;<span class="comment">          * of this pass.</span></div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;<span class="comment">          */</span></div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;         <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(2, <span class="stringliteral">&quot;Bridge &#39;%s&#39;.  Sending &#39;%s&#39; back to remote\n&quot;</span>,</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;            bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a753c7b39e3284d771f13f513b003d033">uniqueid</a>, <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(target));</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;         <span class="keywordflow">if</span> (bc0-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a> == target) {</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;            data0-&gt;<a class="code" href="../../dc/d1d/structnative__rtp__bridge__channel__data.html#ad509a382876cf2850ef985020d38406d">remote_cb</a> = glue0-&gt;<a class="code" href="../../dc/db1/structrtp__glue__data.html#ac60e72147b8f66ed402262b67f6dee4b">cb</a>;</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;            glue0-&gt;<a class="code" href="../../dc/db1/structrtp__glue__data.html#ac60e72147b8f66ed402262b67f6dee4b">cb</a>-&gt;<a class="code" href="../../d8/dc9/structast__rtp__glue.html#a6ee109780d8fa72a8b5e87471330d053">update_peer</a>(bc0-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>, glue1-&gt;<a class="code" href="../../dc/db1/structrtp__glue__data.html#a325a7b6542ba7c103a7ded311a0ab44d">audio</a>.<a class="code" href="../../d8/d6b/structrtp__glue__stream.html#ab8379d828ec083fe0cdb16f540f67d1f">instance</a>, glue1-&gt;<a class="code" href="../../dc/db1/structrtp__glue__data.html#a49a570b04f7044ee37d2ef9b881f32d2">video</a>.<a class="code" href="../../d8/d6b/structrtp__glue__stream.html#ab8379d828ec083fe0cdb16f540f67d1f">instance</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, cap1, 0);</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;         } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;            data1-&gt;<a class="code" href="../../dc/d1d/structnative__rtp__bridge__channel__data.html#ad509a382876cf2850ef985020d38406d">remote_cb</a> = glue1-&gt;<a class="code" href="../../dc/db1/structrtp__glue__data.html#ac60e72147b8f66ed402262b67f6dee4b">cb</a>;</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;            glue1-&gt;<a class="code" href="../../dc/db1/structrtp__glue__data.html#ac60e72147b8f66ed402262b67f6dee4b">cb</a>-&gt;<a class="code" href="../../d8/dc9/structast__rtp__glue.html#a6ee109780d8fa72a8b5e87471330d053">update_peer</a>(bc1-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>, glue0-&gt;<a class="code" href="../../dc/db1/structrtp__glue__data.html#a325a7b6542ba7c103a7ded311a0ab44d">audio</a>.<a class="code" href="../../d8/d6b/structrtp__glue__stream.html#ab8379d828ec083fe0cdb16f540f67d1f">instance</a>, glue0-&gt;<a class="code" href="../../dc/db1/structrtp__glue__data.html#a49a570b04f7044ee37d2ef9b881f32d2">video</a>.<a class="code" href="../../d8/d6b/structrtp__glue__stream.html#ab8379d828ec083fe0cdb16f540f67d1f">instance</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, cap0, 0);</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;         }</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;      }</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>(cap0);</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>(cap1);</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d5/dde/rtp__engine_8h.html#a4f2fb6c08b3697d011cf613c8b68054ca6b70d26095905cd6bd5ddffc01d81843">AST_RTP_GLUE_RESULT_FORBID</a>:</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;   }</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;   <span class="keywordflow">if</span> (native_type != <a class="code" href="../../d5/dde/rtp__engine_8h.html#a4f2fb6c08b3697d011cf613c8b68054ca08fec5e751b8194dd415a96306f16ff2">AST_RTP_GLUE_RESULT_REMOTE</a>) {</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;      <span class="comment">/* Bring any remaining channels back to us. */</span></div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;      <span class="keywordflow">if</span> (data0-&gt;<a class="code" href="../../dc/d1d/structnative__rtp__bridge__channel__data.html#ad509a382876cf2850ef985020d38406d">remote_cb</a>) {</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;         <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(2, <span class="stringliteral">&quot;Bridge &#39;%s&#39;.  Bringing back &#39;%s&#39; to us\n&quot;</span>,</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;            bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a753c7b39e3284d771f13f513b003d033">uniqueid</a>, <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(bc0-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>));</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;         data0-&gt;<a class="code" href="../../dc/d1d/structnative__rtp__bridge__channel__data.html#ad509a382876cf2850ef985020d38406d">remote_cb</a>-&gt;<a class="code" href="../../d8/dc9/structast__rtp__glue.html#a6ee109780d8fa72a8b5e87471330d053">update_peer</a>(bc0-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0);</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;         data0-&gt;<a class="code" href="../../dc/d1d/structnative__rtp__bridge__channel__data.html#ad509a382876cf2850ef985020d38406d">remote_cb</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;      }</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;      <span class="keywordflow">if</span> (data1-&gt;<a class="code" href="../../dc/d1d/structnative__rtp__bridge__channel__data.html#ad509a382876cf2850ef985020d38406d">remote_cb</a>) {</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;         <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(2, <span class="stringliteral">&quot;Bridge &#39;%s&#39;.  Bringing back &#39;%s&#39; to us\n&quot;</span>,</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;            bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a753c7b39e3284d771f13f513b003d033">uniqueid</a>, <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(bc1-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>));</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;         data1-&gt;<a class="code" href="../../dc/d1d/structnative__rtp__bridge__channel__data.html#ad509a382876cf2850ef985020d38406d">remote_cb</a>-&gt;<a class="code" href="../../d8/dc9/structast__rtp__glue.html#a6ee109780d8fa72a8b5e87471330d053">update_peer</a>(bc1-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0);</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;         data1-&gt;<a class="code" href="../../dc/d1d/structnative__rtp__bridge__channel__data.html#ad509a382876cf2850ef985020d38406d">remote_cb</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;      }</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;   }</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;<a class="code" href="../../dc/dbf/test__amihooks_8c.html#a5992b274cfdcacdbc1fa8347fd01ebde">done</a>:</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(bc0-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>);</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(bc1-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>);</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;}</div><div class="ttc" id="linkedlists_8h_html_adf1959c5c03a3a706da97ad2f49617e5"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#adf1959c5c03a3a706da97ad2f49617e5">AST_LIST_FIRST</a></div><div class="ttdeci">#define AST_LIST_FIRST(head)</div><div class="ttdoc">Returns the first entry contained in a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00420">linkedlists.h:420</a></div></div>
<div class="ttc" id="structast__bridge_html_a753c7b39e3284d771f13f513b003d033"><div class="ttname"><a href="../../d4/d84/structast__bridge.html#a753c7b39e3284d771f13f513b003d033">ast_bridge::uniqueid</a></div><div class="ttdeci">const ast_string_field uniqueid</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00409">bridge.h:409</a></div></div>
<div class="ttc" id="structast__rtp__glue_html_a6ee109780d8fa72a8b5e87471330d053"><div class="ttname"><a href="../../d8/dc9/structast__rtp__glue.html#a6ee109780d8fa72a8b5e87471330d053">ast_rtp_glue::update_peer</a></div><div class="ttdeci">int(* update_peer)(struct ast_channel *chan, struct ast_rtp_instance *instance, struct ast_rtp_instance *vinstance, struct ast_rtp_instance *tinstance, const struct ast_format_cap *cap, int nat_active)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/rtp__engine_8h_source.html#l00756">rtp_engine.h:756</a></div></div>
<div class="ttc" id="rtp__engine_8h_html_a4f2fb6c08b3697d011cf613c8b68054ca08fec5e751b8194dd415a96306f16ff2"><div class="ttname"><a href="../../d5/dde/rtp__engine_8h.html#a4f2fb6c08b3697d011cf613c8b68054ca08fec5e751b8194dd415a96306f16ff2">AST_RTP_GLUE_RESULT_REMOTE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/rtp__engine_8h_source.html#l00162">rtp_engine.h:162</a></div></div>
<div class="ttc" id="utils_8h_html_a24374da24af1931d8a7ccde5b352bb2c"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a></div><div class="ttdeci">#define ast_assert(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00695">utils.h:695</a></div></div>
<div class="ttc" id="structrtp__glue__data_html_ac60e72147b8f66ed402262b67f6dee4b"><div class="ttname"><a href="../../dc/db1/structrtp__glue__data.html#ac60e72147b8f66ed402262b67f6dee4b">rtp_glue_data::cb</a></div><div class="ttdeci">struct ast_rtp_glue * cb</div><div class="ttdoc">glue callbacks </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d27/bridge__native__rtp_8c_source.html#l00069">bridge_native_rtp.c:69</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="logger_8h_html_ad770f83c71e237e1f64163358ce4e13d"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a></div><div class="ttdeci">#define ast_verb(level,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00463">logger.h:463</a></div></div>
<div class="ttc" id="structnative__rtp__bridge__channel__data_html"><div class="ttname"><a href="../../dc/d1d/structnative__rtp__bridge__channel__data.html">native_rtp_bridge_channel_data</a></div><div class="ttdoc">Internal structure which contains instance information about bridged RTP channels. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d27/bridge__native__rtp_8c_source.html#l00077">bridge_native_rtp.c:77</a></div></div>
<div class="ttc" id="test__amihooks_8c_html_a5992b274cfdcacdbc1fa8347fd01ebde"><div class="ttname"><a href="../../dc/dbf/test__amihooks_8c.html#a5992b274cfdcacdbc1fa8347fd01ebde">done</a></div><div class="ttdeci">int done</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbf/test__amihooks_8c_source.html#l00048">test_amihooks.c:48</a></div></div>
<div class="ttc" id="structrtp__glue__data_html_a49a570b04f7044ee37d2ef9b881f32d2"><div class="ttname"><a href="../../dc/db1/structrtp__glue__data.html#a49a570b04f7044ee37d2ef9b881f32d2">rtp_glue_data::video</a></div><div class="ttdeci">struct rtp_glue_stream video</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d27/bridge__native__rtp_8c_source.html#l00071">bridge_native_rtp.c:71</a></div></div>
<div class="ttc" id="bridge__native__rtp_8c_html_aa40e079d059392c8d71d8d3ad48e8413"><div class="ttname"><a href="../../d1/d27/bridge__native__rtp_8c.html#aa40e079d059392c8d71d8d3ad48e8413">rtp_glue_data_get</a></div><div class="ttdeci">static int rtp_glue_data_get(struct ast_channel *c0, struct rtp_glue_data *glue0, struct ast_channel *c1, struct rtp_glue_data *glue1)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d27/bridge__native__rtp_8c_source.html#l00168">bridge_native_rtp.c:168</a></div></div>
<div class="ttc" id="rtp__engine_8h_html_afcde4e4b65201b3a7b5ee9c84bd1043c"><div class="ttname"><a href="../../d5/dde/rtp__engine_8h.html#afcde4e4b65201b3a7b5ee9c84bd1043c">ast_rtp_instance_set_bridged</a></div><div class="ttdeci">void ast_rtp_instance_set_bridged(struct ast_rtp_instance *instance, struct ast_rtp_instance *bridged)</div><div class="ttdoc">Set the other RTP instance that an instance is bridged to. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/dbe/rtp__engine_8c_source.html#l02244">rtp_engine.c:2244</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="structrtp__glue__stream_html_ab8379d828ec083fe0cdb16f540f67d1f"><div class="ttname"><a href="../../d8/d6b/structrtp__glue__stream.html#ab8379d828ec083fe0cdb16f540f67d1f">rtp_glue_stream::instance</a></div><div class="ttdeci">struct ast_rtp_instance * instance</div><div class="ttdoc">RTP instance. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d27/bridge__native__rtp_8c_source.html#l00058">bridge_native_rtp.c:58</a></div></div>
<div class="ttc" id="structnative__rtp__bridge__channel__data_html_ad509a382876cf2850ef985020d38406d"><div class="ttname"><a href="../../dc/d1d/structnative__rtp__bridge__channel__data.html#ad509a382876cf2850ef985020d38406d">native_rtp_bridge_channel_data::remote_cb</a></div><div class="ttdeci">struct ast_rtp_glue * remote_cb</div><div class="ttdoc">Glue callbacks to bring remote channel streams back to Asterisk. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d27/bridge__native__rtp_8c_source.html#l00084">bridge_native_rtp.c:84</a></div></div>
<div class="ttc" id="rtp__engine_8h_html_a0102aea603f46707ed8895975372dd3a"><div class="ttname"><a href="../../d5/dde/rtp__engine_8h.html#a0102aea603f46707ed8895975372dd3a">ast_rtp_instance_get_engine</a></div><div class="ttdeci">struct ast_rtp_engine * ast_rtp_instance_get_engine(struct ast_rtp_instance *instance)</div><div class="ttdoc">Get the RTP engine in use on an RTP instance. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/dbe/rtp__engine_8c_source.html#l02700">rtp_engine.c:2700</a></div></div>
<div class="ttc" id="structrtp__glue__data_html_aa8ee7cf218c500340ec7cf2283b67504"><div class="ttname"><a href="../../dc/db1/structrtp__glue__data.html#aa8ee7cf218c500340ec7cf2283b67504">rtp_glue_data::result</a></div><div class="ttdeci">enum ast_rtp_glue_result result</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d27/bridge__native__rtp_8c_source.html#l00073">bridge_native_rtp.c:73</a></div></div>
<div class="ttc" id="rtp__engine_8h_html_a4f2fb6c08b3697d011cf613c8b68054c"><div class="ttname"><a href="../../d5/dde/rtp__engine_8h.html#a4f2fb6c08b3697d011cf613c8b68054c">ast_rtp_glue_result</a></div><div class="ttdeci">ast_rtp_glue_result</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/rtp__engine_8h_source.html#l00158">rtp_engine.h:158</a></div></div>
<div class="ttc" id="structast__rtp__glue_html_a446e18924acc8aa16863aac05266866d"><div class="ttname"><a href="../../d8/dc9/structast__rtp__glue.html#a446e18924acc8aa16863aac05266866d">ast_rtp_glue::get_codec</a></div><div class="ttdeci">void(* get_codec)(struct ast_channel *chan, struct ast_format_cap *result_cap)</div><div class="ttdoc">Callback for retrieving codecs that the channel can do. Result returned in result_cap. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/rtp__engine_8h_source.html#l00761">rtp_engine.h:761</a></div></div>
<div class="ttc" id="format__cap_8h_html_aeb38ee3bdc8594745a707c0927146fdb"><div class="ttname"><a href="../../d0/d3c/format__cap_8h.html#aeb38ee3bdc8594745a707c0927146fdb">ast_format_cap_alloc</a></div><div class="ttdeci">#define ast_format_cap_alloc(flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d3c/format__cap_8h_source.html#l00052">format_cap.h:52</a></div></div>
<div class="ttc" id="format__cap_8h_html_a51f3293ae7b01a8353bf4aa1204abba5ad111d20686641a6f0fc5efd33c82e97a"><div class="ttname"><a href="../../d0/d3c/format__cap_8h.html#a51f3293ae7b01a8353bf4aa1204abba5ad111d20686641a6f0fc5efd33c82e97a">AST_FORMAT_CAP_FLAG_DEFAULT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d3c/format__cap_8h_source.html#l00038">format_cap.h:38</a></div></div>
<div class="ttc" id="rtp__engine_8h_html_a4f2fb6c08b3697d011cf613c8b68054ca6b70d26095905cd6bd5ddffc01d81843"><div class="ttname"><a href="../../d5/dde/rtp__engine_8h.html#a4f2fb6c08b3697d011cf613c8b68054ca6b70d26095905cd6bd5ddffc01d81843">AST_RTP_GLUE_RESULT_FORBID</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/rtp__engine_8h_source.html#l00160">rtp_engine.h:160</a></div></div>
<div class="ttc" id="structast__format__cap_html"><div class="ttname"><a href="../../d8/d69/structast__format__cap.html">ast_format_cap</a></div><div class="ttdoc">Format capabilities structure, holds formats + preference order + etc. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dc9/format__cap_8c_source.html#l00054">format_cap.c:54</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a1e37109bb72d95999821eb45f28c261c"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a1e37109bb72d95999821eb45f28c261c">AST_LIST_LAST</a></div><div class="ttdeci">#define AST_LIST_LAST(head)</div><div class="ttdoc">Returns the last entry contained in a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00428">linkedlists.h:428</a></div></div>
<div class="ttc" id="rtp__engine_8h_html_a4f2fb6c08b3697d011cf613c8b68054ca06df52d7b998aec9a879a1a53624c5e8"><div class="ttname"><a href="../../d5/dde/rtp__engine_8h.html#a4f2fb6c08b3697d011cf613c8b68054ca06df52d7b998aec9a879a1a53624c5e8">AST_RTP_GLUE_RESULT_LOCAL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/rtp__engine_8h_source.html#l00164">rtp_engine.h:164</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="structast__bridge__channel_html_a19aa04db5508cf9496602e694dc69e2f"><div class="ttname"><a href="../../d5/dca/structast__bridge__channel.html#a19aa04db5508cf9496602e694dc69e2f">ast_bridge_channel::tech_pvt</a></div><div class="ttdeci">void * tech_pvt</div><div class="ttdoc">Private information unique to the bridge technology. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00116">bridge_channel.h:116</a></div></div>
<div class="ttc" id="channel_8h_html_a695e5b4fcf983db6451b583fbd647424"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a695e5b4fcf983db6451b583fbd647424">ast_channel_lock_both</a></div><div class="ttdeci">#define ast_channel_lock_both(chan1, chan2)</div><div class="ttdoc">Lock two channels. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02952">channel.h:2952</a></div></div>
<div class="ttc" id="structast__bridge_html_a77542a877d8ed62331c5b3b6aa3e87a7"><div class="ttname"><a href="../../d4/d84/structast__bridge.html#a77542a877d8ed62331c5b3b6aa3e87a7">ast_bridge::channels</a></div><div class="ttdeci">struct ast_bridge_channels_list channels</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00371">bridge.h:371</a></div></div>
<div class="ttc" id="structast__bridge__channel_html_a84d1435c5b8d387806714ea7079304b7"><div class="ttname"><a href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">ast_bridge_channel::chan</a></div><div class="ttdeci">struct ast_channel * chan</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00091">bridge_channel.h:91</a></div></div>
<div class="ttc" id="structast__bridge__channel_html"><div class="ttname"><a href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a></div><div class="ttdoc">Structure that contains information regarding a channel in a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00084">bridge_channel.h:84</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="channel_8h_html_a7ca2fda13b129a55c251b56729de285b"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a></div><div class="ttdeci">const char * ast_channel_name(const struct ast_channel *chan)</div></div>
<div class="ttc" id="structrtp__glue__data_html_a325a7b6542ba7c103a7ded311a0ab44d"><div class="ttname"><a href="../../dc/db1/structrtp__glue__data.html#a325a7b6542ba7c103a7ded311a0ab44d">rtp_glue_data::audio</a></div><div class="ttdeci">struct rtp_glue_stream audio</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d27/bridge__native__rtp_8c_source.html#l00070">bridge_native_rtp.c:70</a></div></div>
<div class="ttc" id="structrtp__glue__data_html"><div class="ttname"><a href="../../dc/db1/structrtp__glue__data.html">rtp_glue_data</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d27/bridge__native__rtp_8c_source.html#l00063">bridge_native_rtp.c:63</a></div></div>
<div class="ttc" id="structast__rtp__engine_html_a2b9b48ac0487fd570907492c1103eff1"><div class="ttname"><a href="../../d2/d14/structast__rtp__engine.html#a2b9b48ac0487fd570907492c1103eff1">ast_rtp_engine::local_bridge</a></div><div class="ttdeci">int(* local_bridge)(struct ast_rtp_instance *instance0, struct ast_rtp_instance *instance1)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/rtp__engine_8h_source.html#l00663">rtp_engine.h:663</a></div></div>
<div class="ttc" id="structnative__rtp__bridge__channel__data_html_a7b8147624c6fea1893758bb32ceb89a8"><div class="ttname"><a href="../../dc/d1d/structnative__rtp__bridge__channel__data.html#a7b8147624c6fea1893758bb32ceb89a8">native_rtp_bridge_channel_data::glue</a></div><div class="ttdeci">struct rtp_glue_data glue</div><div class="ttdoc">Channel&amp;#39;s cached RTP glue information. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d27/bridge__native__rtp_8c_source.html#l00086">bridge_native_rtp.c:86</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a632245bb3be7224b5246a34d7e5f20a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a632245bb3be7224b5246a34d7e5f20a1">&#9670;&nbsp;</a></span>native_rtp_bridge_stop()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void native_rtp_bridge_stop </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *&#160;</td>
          <td class="paramname"><em>bridge</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>target</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html#l00435">435</a> of file <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html">bridge_native_rtp.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d60/utils_8h_source.html#l00695">ast_assert</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02945">ast_channel_lock</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02952">ast_channel_lock_both</a>, <a class="el" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00420">AST_LIST_FIRST</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00428">AST_LIST_LAST</a>, <a class="el" href="../../d5/dde/rtp__engine_8h_source.html#l00160">AST_RTP_GLUE_RESULT_FORBID</a>, <a class="el" href="../../d5/dde/rtp__engine_8h_source.html#l00164">AST_RTP_GLUE_RESULT_LOCAL</a>, <a class="el" href="../../d5/dde/rtp__engine_8h_source.html#l00162">AST_RTP_GLUE_RESULT_REMOTE</a>, <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l02700">ast_rtp_instance_get_engine()</a>, <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l02244">ast_rtp_instance_set_bridged()</a>, <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html#l00070">rtp_glue_data::audio</a>, <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html#l00069">rtp_glue_data::cb</a>, <a class="el" href="../../de/d41/bridge__channel_8h_source.html#l00091">ast_bridge_channel::chan</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00371">ast_bridge::channels</a>, <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html#l00086">native_rtp_bridge_channel_data::glue</a>, <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html#l00058">rtp_glue_stream::instance</a>, <a class="el" href="../../d5/dde/rtp__engine_8h_source.html#l00663">ast_rtp_engine::local_bridge</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html#l00084">native_rtp_bridge_channel_data::remote_cb</a>, <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html#l00073">rtp_glue_data::result</a>, <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html#l00130">rtp_glue_data_reset()</a>, <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html#l00257">rtp_glue_get_current_combined_result()</a>, <a class="el" href="../../de/d41/bridge__channel_8h_source.html#l00116">ast_bridge_channel::tech_pvt</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00409">ast_bridge::uniqueid</a>, and <a class="el" href="../../d5/dde/rtp__engine_8h_source.html#l00756">ast_rtp_glue::update_peer</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html#l01036">native_rtp_bridge_leave()</a>, and <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html#l00562">native_rtp_framehook()</a>.</p>
<div class="fragment"><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;{</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *bc0 = <a class="code" href="../../df/d90/linkedlists_8h.html#adf1959c5c03a3a706da97ad2f49617e5">AST_LIST_FIRST</a>(&amp;bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a77542a877d8ed62331c5b3b6aa3e87a7">channels</a>);</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *bc1 = <a class="code" href="../../df/d90/linkedlists_8h.html#a1e37109bb72d95999821eb45f28c261c">AST_LIST_LAST</a>(&amp;bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a77542a877d8ed62331c5b3b6aa3e87a7">channels</a>);</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/d1d/structnative__rtp__bridge__channel__data.html">native_rtp_bridge_channel_data</a> *data0;</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/d1d/structnative__rtp__bridge__channel__data.html">native_rtp_bridge_channel_data</a> *data1;</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/db1/structrtp__glue__data.html">rtp_glue_data</a> *glue0;</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/db1/structrtp__glue__data.html">rtp_glue_data</a> *glue1;</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;   <span class="keywordflow">if</span> (bc0 == bc1) {</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;   }</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;   data0 = bc0-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a19aa04db5508cf9496602e694dc69e2f">tech_pvt</a>;</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;   data1 = bc1-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a19aa04db5508cf9496602e694dc69e2f">tech_pvt</a>;</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;   <span class="keywordflow">if</span> (!data0 || !data1) {</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;      <span class="comment">/* Not all channels are joined with the bridge tech */</span></div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;   }</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;   glue0 = &amp;data0-&gt;<a class="code" href="../../dc/d1d/structnative__rtp__bridge__channel__data.html#a7b8147624c6fea1893758bb32ceb89a8">glue</a>;</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;   glue1 = &amp;data1-&gt;<a class="code" href="../../dc/d1d/structnative__rtp__bridge__channel__data.html#a7b8147624c6fea1893758bb32ceb89a8">glue</a>;</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(2, <span class="stringliteral">&quot;Bridge &#39;%s&#39;.  Tech stopping &#39;%s&#39; and &#39;%s&#39; with target &#39;%s&#39;\n&quot;</span>,</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;      bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a753c7b39e3284d771f13f513b003d033">uniqueid</a>, <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(bc0-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>), <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(bc1-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>),</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;      target ? <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(target) : <span class="stringliteral">&quot;none&quot;</span>);</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;   <span class="keywordflow">if</span> (!glue0-&gt;<a class="code" href="../../dc/db1/structrtp__glue__data.html#ac60e72147b8f66ed402262b67f6dee4b">cb</a> || !glue1-&gt;<a class="code" href="../../dc/db1/structrtp__glue__data.html#ac60e72147b8f66ed402262b67f6dee4b">cb</a>) {</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;      <span class="comment">/*</span></div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;<span class="comment">       * Somebody doesn&#39;t have glue data so the bridge isn&#39;t running</span></div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;<span class="comment">       *</span></div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;<span class="comment">       * Actually neither side should have glue data.</span></div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;<span class="comment">       */</span></div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;      <a class="code" href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a>(!glue0-&gt;<a class="code" href="../../dc/db1/structrtp__glue__data.html#ac60e72147b8f66ed402262b67f6dee4b">cb</a> &amp;&amp; !glue1-&gt;<a class="code" href="../../dc/db1/structrtp__glue__data.html#ac60e72147b8f66ed402262b67f6dee4b">cb</a>);</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;      <span class="comment">/* At most one channel can be left at the remote endpoint here. */</span></div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;      <a class="code" href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a>(!data0-&gt;<a class="code" href="../../dc/d1d/structnative__rtp__bridge__channel__data.html#ad509a382876cf2850ef985020d38406d">remote_cb</a> || !data1-&gt;<a class="code" href="../../dc/d1d/structnative__rtp__bridge__channel__data.html#ad509a382876cf2850ef985020d38406d">remote_cb</a>);</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;      <span class="comment">/* Bring selected channel streams back to us */</span></div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;      <span class="keywordflow">if</span> (data0-&gt;<a class="code" href="../../dc/d1d/structnative__rtp__bridge__channel__data.html#ad509a382876cf2850ef985020d38406d">remote_cb</a> &amp;&amp; (!target || target == bc0-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>)) {</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;         <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(bc0-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>);</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;         <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(2, <span class="stringliteral">&quot;Bridge &#39;%s&#39;.  Bringing back &#39;%s&#39; to us\n&quot;</span>,</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;            bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a753c7b39e3284d771f13f513b003d033">uniqueid</a>, <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(bc0-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>));</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;         data0-&gt;<a class="code" href="../../dc/d1d/structnative__rtp__bridge__channel__data.html#ad509a382876cf2850ef985020d38406d">remote_cb</a>-&gt;<a class="code" href="../../d8/dc9/structast__rtp__glue.html#a6ee109780d8fa72a8b5e87471330d053">update_peer</a>(bc0-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0);</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;         data0-&gt;<a class="code" href="../../dc/d1d/structnative__rtp__bridge__channel__data.html#ad509a382876cf2850ef985020d38406d">remote_cb</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;         <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(bc0-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>);</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;      }</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;      <span class="keywordflow">if</span> (data1-&gt;<a class="code" href="../../dc/d1d/structnative__rtp__bridge__channel__data.html#ad509a382876cf2850ef985020d38406d">remote_cb</a> &amp;&amp; (!target || target == bc1-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>)) {</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;         <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(bc1-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>);</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;         <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(2, <span class="stringliteral">&quot;Bridge &#39;%s&#39;.  Bringing back &#39;%s&#39; to us\n&quot;</span>,</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;            bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a753c7b39e3284d771f13f513b003d033">uniqueid</a>, <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(bc1-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>));</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;         data1-&gt;<a class="code" href="../../dc/d1d/structnative__rtp__bridge__channel__data.html#ad509a382876cf2850ef985020d38406d">remote_cb</a>-&gt;<a class="code" href="../../d8/dc9/structast__rtp__glue.html#a6ee109780d8fa72a8b5e87471330d053">update_peer</a>(bc1-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0);</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;         data1-&gt;<a class="code" href="../../dc/d1d/structnative__rtp__bridge__channel__data.html#ad509a382876cf2850ef985020d38406d">remote_cb</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;         <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(bc1-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>);</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;      }</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;   }</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a695e5b4fcf983db6451b583fbd647424">ast_channel_lock_both</a>(bc0-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>, bc1-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>);</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;   <span class="keywordflow">switch</span> (glue0-&gt;<a class="code" href="../../dc/db1/structrtp__glue__data.html#aa8ee7cf218c500340ec7cf2283b67504">result</a>) {</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d5/dde/rtp__engine_8h.html#a4f2fb6c08b3697d011cf613c8b68054ca06df52d7b998aec9a879a1a53624c5e8">AST_RTP_GLUE_RESULT_LOCAL</a>:</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d5/dde/rtp__engine_8h.html#a0102aea603f46707ed8895975372dd3a">ast_rtp_instance_get_engine</a>(glue0-&gt;<a class="code" href="../../dc/db1/structrtp__glue__data.html#a325a7b6542ba7c103a7ded311a0ab44d">audio</a>.<a class="code" href="../../d8/d6b/structrtp__glue__stream.html#ab8379d828ec083fe0cdb16f540f67d1f">instance</a>)-&gt;<a class="code" href="../../d2/d14/structast__rtp__engine.html#a2b9b48ac0487fd570907492c1103eff1">local_bridge</a>) {</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;         <a class="code" href="../../d5/dde/rtp__engine_8h.html#a0102aea603f46707ed8895975372dd3a">ast_rtp_instance_get_engine</a>(glue0-&gt;<a class="code" href="../../dc/db1/structrtp__glue__data.html#a325a7b6542ba7c103a7ded311a0ab44d">audio</a>.<a class="code" href="../../d8/d6b/structrtp__glue__stream.html#ab8379d828ec083fe0cdb16f540f67d1f">instance</a>)-&gt;<a class="code" href="../../d2/d14/structast__rtp__engine.html#a2b9b48ac0487fd570907492c1103eff1">local_bridge</a>(glue0-&gt;<a class="code" href="../../dc/db1/structrtp__glue__data.html#a325a7b6542ba7c103a7ded311a0ab44d">audio</a>.<a class="code" href="../../d8/d6b/structrtp__glue__stream.html#ab8379d828ec083fe0cdb16f540f67d1f">instance</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;      }</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d5/dde/rtp__engine_8h.html#a0102aea603f46707ed8895975372dd3a">ast_rtp_instance_get_engine</a>(glue1-&gt;<a class="code" href="../../dc/db1/structrtp__glue__data.html#a325a7b6542ba7c103a7ded311a0ab44d">audio</a>.<a class="code" href="../../d8/d6b/structrtp__glue__stream.html#ab8379d828ec083fe0cdb16f540f67d1f">instance</a>)-&gt;<a class="code" href="../../d2/d14/structast__rtp__engine.html#a2b9b48ac0487fd570907492c1103eff1">local_bridge</a>) {</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;         <a class="code" href="../../d5/dde/rtp__engine_8h.html#a0102aea603f46707ed8895975372dd3a">ast_rtp_instance_get_engine</a>(glue1-&gt;<a class="code" href="../../dc/db1/structrtp__glue__data.html#a325a7b6542ba7c103a7ded311a0ab44d">audio</a>.<a class="code" href="../../d8/d6b/structrtp__glue__stream.html#ab8379d828ec083fe0cdb16f540f67d1f">instance</a>)-&gt;<a class="code" href="../../d2/d14/structast__rtp__engine.html#a2b9b48ac0487fd570907492c1103eff1">local_bridge</a>(glue1-&gt;<a class="code" href="../../dc/db1/structrtp__glue__data.html#a325a7b6542ba7c103a7ded311a0ab44d">audio</a>.<a class="code" href="../../d8/d6b/structrtp__glue__stream.html#ab8379d828ec083fe0cdb16f540f67d1f">instance</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;      }</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;      <a class="code" href="../../d5/dde/rtp__engine_8h.html#afcde4e4b65201b3a7b5ee9c84bd1043c">ast_rtp_instance_set_bridged</a>(glue0-&gt;<a class="code" href="../../dc/db1/structrtp__glue__data.html#a325a7b6542ba7c103a7ded311a0ab44d">audio</a>.<a class="code" href="../../d8/d6b/structrtp__glue__stream.html#ab8379d828ec083fe0cdb16f540f67d1f">instance</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;      <a class="code" href="../../d5/dde/rtp__engine_8h.html#afcde4e4b65201b3a7b5ee9c84bd1043c">ast_rtp_instance_set_bridged</a>(glue1-&gt;<a class="code" href="../../dc/db1/structrtp__glue__data.html#a325a7b6542ba7c103a7ded311a0ab44d">audio</a>.<a class="code" href="../../d8/d6b/structrtp__glue__stream.html#ab8379d828ec083fe0cdb16f540f67d1f">instance</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d5/dde/rtp__engine_8h.html#a4f2fb6c08b3697d011cf613c8b68054ca08fec5e751b8194dd415a96306f16ff2">AST_RTP_GLUE_RESULT_REMOTE</a>:</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;      <span class="keywordflow">if</span> (target) {</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;         <span class="comment">/*</span></div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;<span class="comment">          * If a target was provided, it is being put on hold and should expect to</span></div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;<span class="comment">          * receive media from Asterisk instead of what it was previously connected to.</span></div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;<span class="comment">          */</span></div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;         <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(2, <span class="stringliteral">&quot;Bridge &#39;%s&#39;.  Bringing back &#39;%s&#39; to us\n&quot;</span>,</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;            bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a753c7b39e3284d771f13f513b003d033">uniqueid</a>, <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(target));</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;         <span class="keywordflow">if</span> (bc0-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a> == target) {</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;            data0-&gt;<a class="code" href="../../dc/d1d/structnative__rtp__bridge__channel__data.html#ad509a382876cf2850ef985020d38406d">remote_cb</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;            glue0-&gt;<a class="code" href="../../dc/db1/structrtp__glue__data.html#ac60e72147b8f66ed402262b67f6dee4b">cb</a>-&gt;<a class="code" href="../../d8/dc9/structast__rtp__glue.html#a6ee109780d8fa72a8b5e87471330d053">update_peer</a>(bc0-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0);</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;         } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;            data1-&gt;<a class="code" href="../../dc/d1d/structnative__rtp__bridge__channel__data.html#ad509a382876cf2850ef985020d38406d">remote_cb</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;            glue1-&gt;<a class="code" href="../../dc/db1/structrtp__glue__data.html#ac60e72147b8f66ed402262b67f6dee4b">cb</a>-&gt;<a class="code" href="../../d8/dc9/structast__rtp__glue.html#a6ee109780d8fa72a8b5e87471330d053">update_peer</a>(bc1-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0);</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;         }</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;         data0-&gt;<a class="code" href="../../dc/d1d/structnative__rtp__bridge__channel__data.html#ad509a382876cf2850ef985020d38406d">remote_cb</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;         data1-&gt;<a class="code" href="../../dc/d1d/structnative__rtp__bridge__channel__data.html#ad509a382876cf2850ef985020d38406d">remote_cb</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;         <span class="comment">/*</span></div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;<span class="comment">          * XXX We don&#39;t want to bring back the channels if we are</span></div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;<span class="comment">          * switching to T.38.  We have received a reinvite on one channel</span></div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;<span class="comment">          * and we will be sending a reinvite on the other to start T.38.</span></div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;<span class="comment">          * If we bring the streams back now we confuse the chan_pjsip</span></div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;<span class="comment">          * channel driver processing the incoming T.38 reinvite with</span></div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;<span class="comment">          * reinvite glare.  I think this is really a bug in chan_pjsip</span></div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;<span class="comment">          * that this exception case is working around.</span></div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;<span class="comment">          */</span></div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;         <span class="keywordflow">if</span> (<a class="code" href="../../d1/d27/bridge__native__rtp_8c.html#a67f2d26394b6b0c6c89e5b53a8a0d27f">rtp_glue_get_current_combined_result</a>(bc0-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>, bc1-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>)</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;            != <a class="code" href="../../d5/dde/rtp__engine_8h.html#a4f2fb6c08b3697d011cf613c8b68054ca6b70d26095905cd6bd5ddffc01d81843">AST_RTP_GLUE_RESULT_FORBID</a>) {</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;            <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(2, <span class="stringliteral">&quot;Bridge &#39;%s&#39;.  Bringing back &#39;%s&#39; and &#39;%s&#39; to us\n&quot;</span>,</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;               bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a753c7b39e3284d771f13f513b003d033">uniqueid</a>, <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(bc0-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>),</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;               <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(bc1-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>));</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;            glue0-&gt;<a class="code" href="../../dc/db1/structrtp__glue__data.html#ac60e72147b8f66ed402262b67f6dee4b">cb</a>-&gt;<a class="code" href="../../d8/dc9/structast__rtp__glue.html#a6ee109780d8fa72a8b5e87471330d053">update_peer</a>(bc0-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0);</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;            glue1-&gt;<a class="code" href="../../dc/db1/structrtp__glue__data.html#ac60e72147b8f66ed402262b67f6dee4b">cb</a>-&gt;<a class="code" href="../../d8/dc9/structast__rtp__glue.html#a6ee109780d8fa72a8b5e87471330d053">update_peer</a>(bc1-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0);</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;         } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;            <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(2, <span class="stringliteral">&quot;Bridge &#39;%s&#39;.  Skip bringing back &#39;%s&#39; and &#39;%s&#39; to us\n&quot;</span>,</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;               bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a753c7b39e3284d771f13f513b003d033">uniqueid</a>, <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(bc0-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>),</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;               <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(bc1-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>));</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;         }</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;      }</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d5/dde/rtp__engine_8h.html#a4f2fb6c08b3697d011cf613c8b68054ca6b70d26095905cd6bd5ddffc01d81843">AST_RTP_GLUE_RESULT_FORBID</a>:</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;   }</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;   <a class="code" href="../../d1/d27/bridge__native__rtp_8c.html#ab64cb05ff2283dba3ba9ae92789df264">rtp_glue_data_reset</a>(glue0);</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;   <a class="code" href="../../d1/d27/bridge__native__rtp_8c.html#ab64cb05ff2283dba3ba9ae92789df264">rtp_glue_data_reset</a>(glue1);</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(2, <span class="stringliteral">&quot;Discontinued RTP bridging of &#39;%s&#39; and &#39;%s&#39; - media will flow through Asterisk core\n&quot;</span>,</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(bc0-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>), <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(bc1-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>));</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(bc0-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>);</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(bc1-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>);</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;}</div><div class="ttc" id="channel_8h_html_a493bdebe876caafb8ee535853310364a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a></div><div class="ttdeci">#define ast_channel_lock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02945">channel.h:2945</a></div></div>
<div class="ttc" id="bridge__native__rtp_8c_html_a67f2d26394b6b0c6c89e5b53a8a0d27f"><div class="ttname"><a href="../../d1/d27/bridge__native__rtp_8c.html#a67f2d26394b6b0c6c89e5b53a8a0d27f">rtp_glue_get_current_combined_result</a></div><div class="ttdeci">static enum ast_rtp_glue_result rtp_glue_get_current_combined_result(struct ast_channel *c0, struct ast_channel *c1)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d27/bridge__native__rtp_8c_source.html#l00257">bridge_native_rtp.c:257</a></div></div>
<div class="ttc" id="linkedlists_8h_html_adf1959c5c03a3a706da97ad2f49617e5"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#adf1959c5c03a3a706da97ad2f49617e5">AST_LIST_FIRST</a></div><div class="ttdeci">#define AST_LIST_FIRST(head)</div><div class="ttdoc">Returns the first entry contained in a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00420">linkedlists.h:420</a></div></div>
<div class="ttc" id="structast__bridge_html_a753c7b39e3284d771f13f513b003d033"><div class="ttname"><a href="../../d4/d84/structast__bridge.html#a753c7b39e3284d771f13f513b003d033">ast_bridge::uniqueid</a></div><div class="ttdeci">const ast_string_field uniqueid</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00409">bridge.h:409</a></div></div>
<div class="ttc" id="structast__rtp__glue_html_a6ee109780d8fa72a8b5e87471330d053"><div class="ttname"><a href="../../d8/dc9/structast__rtp__glue.html#a6ee109780d8fa72a8b5e87471330d053">ast_rtp_glue::update_peer</a></div><div class="ttdeci">int(* update_peer)(struct ast_channel *chan, struct ast_rtp_instance *instance, struct ast_rtp_instance *vinstance, struct ast_rtp_instance *tinstance, const struct ast_format_cap *cap, int nat_active)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/rtp__engine_8h_source.html#l00756">rtp_engine.h:756</a></div></div>
<div class="ttc" id="rtp__engine_8h_html_a4f2fb6c08b3697d011cf613c8b68054ca08fec5e751b8194dd415a96306f16ff2"><div class="ttname"><a href="../../d5/dde/rtp__engine_8h.html#a4f2fb6c08b3697d011cf613c8b68054ca08fec5e751b8194dd415a96306f16ff2">AST_RTP_GLUE_RESULT_REMOTE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/rtp__engine_8h_source.html#l00162">rtp_engine.h:162</a></div></div>
<div class="ttc" id="utils_8h_html_a24374da24af1931d8a7ccde5b352bb2c"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a></div><div class="ttdeci">#define ast_assert(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00695">utils.h:695</a></div></div>
<div class="ttc" id="structrtp__glue__data_html_ac60e72147b8f66ed402262b67f6dee4b"><div class="ttname"><a href="../../dc/db1/structrtp__glue__data.html#ac60e72147b8f66ed402262b67f6dee4b">rtp_glue_data::cb</a></div><div class="ttdeci">struct ast_rtp_glue * cb</div><div class="ttdoc">glue callbacks </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d27/bridge__native__rtp_8c_source.html#l00069">bridge_native_rtp.c:69</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structnative__rtp__bridge__channel__data_html"><div class="ttname"><a href="../../dc/d1d/structnative__rtp__bridge__channel__data.html">native_rtp_bridge_channel_data</a></div><div class="ttdoc">Internal structure which contains instance information about bridged RTP channels. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d27/bridge__native__rtp_8c_source.html#l00077">bridge_native_rtp.c:77</a></div></div>
<div class="ttc" id="rtp__engine_8h_html_afcde4e4b65201b3a7b5ee9c84bd1043c"><div class="ttname"><a href="../../d5/dde/rtp__engine_8h.html#afcde4e4b65201b3a7b5ee9c84bd1043c">ast_rtp_instance_set_bridged</a></div><div class="ttdeci">void ast_rtp_instance_set_bridged(struct ast_rtp_instance *instance, struct ast_rtp_instance *bridged)</div><div class="ttdoc">Set the other RTP instance that an instance is bridged to. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/dbe/rtp__engine_8c_source.html#l02244">rtp_engine.c:2244</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="structrtp__glue__stream_html_ab8379d828ec083fe0cdb16f540f67d1f"><div class="ttname"><a href="../../d8/d6b/structrtp__glue__stream.html#ab8379d828ec083fe0cdb16f540f67d1f">rtp_glue_stream::instance</a></div><div class="ttdeci">struct ast_rtp_instance * instance</div><div class="ttdoc">RTP instance. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d27/bridge__native__rtp_8c_source.html#l00058">bridge_native_rtp.c:58</a></div></div>
<div class="ttc" id="bridge__native__rtp_8c_html_ab64cb05ff2283dba3ba9ae92789df264"><div class="ttname"><a href="../../d1/d27/bridge__native__rtp_8c.html#ab64cb05ff2283dba3ba9ae92789df264">rtp_glue_data_reset</a></div><div class="ttdeci">static void rtp_glue_data_reset(struct rtp_glue_data *glue)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d27/bridge__native__rtp_8c_source.html#l00130">bridge_native_rtp.c:130</a></div></div>
<div class="ttc" id="structnative__rtp__bridge__channel__data_html_ad509a382876cf2850ef985020d38406d"><div class="ttname"><a href="../../dc/d1d/structnative__rtp__bridge__channel__data.html#ad509a382876cf2850ef985020d38406d">native_rtp_bridge_channel_data::remote_cb</a></div><div class="ttdeci">struct ast_rtp_glue * remote_cb</div><div class="ttdoc">Glue callbacks to bring remote channel streams back to Asterisk. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d27/bridge__native__rtp_8c_source.html#l00084">bridge_native_rtp.c:84</a></div></div>
<div class="ttc" id="rtp__engine_8h_html_a0102aea603f46707ed8895975372dd3a"><div class="ttname"><a href="../../d5/dde/rtp__engine_8h.html#a0102aea603f46707ed8895975372dd3a">ast_rtp_instance_get_engine</a></div><div class="ttdeci">struct ast_rtp_engine * ast_rtp_instance_get_engine(struct ast_rtp_instance *instance)</div><div class="ttdoc">Get the RTP engine in use on an RTP instance. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/dbe/rtp__engine_8c_source.html#l02700">rtp_engine.c:2700</a></div></div>
<div class="ttc" id="structrtp__glue__data_html_aa8ee7cf218c500340ec7cf2283b67504"><div class="ttname"><a href="../../dc/db1/structrtp__glue__data.html#aa8ee7cf218c500340ec7cf2283b67504">rtp_glue_data::result</a></div><div class="ttdeci">enum ast_rtp_glue_result result</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d27/bridge__native__rtp_8c_source.html#l00073">bridge_native_rtp.c:73</a></div></div>
<div class="ttc" id="rtp__engine_8h_html_a4f2fb6c08b3697d011cf613c8b68054ca6b70d26095905cd6bd5ddffc01d81843"><div class="ttname"><a href="../../d5/dde/rtp__engine_8h.html#a4f2fb6c08b3697d011cf613c8b68054ca6b70d26095905cd6bd5ddffc01d81843">AST_RTP_GLUE_RESULT_FORBID</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/rtp__engine_8h_source.html#l00160">rtp_engine.h:160</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a1e37109bb72d95999821eb45f28c261c"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a1e37109bb72d95999821eb45f28c261c">AST_LIST_LAST</a></div><div class="ttdeci">#define AST_LIST_LAST(head)</div><div class="ttdoc">Returns the last entry contained in a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00428">linkedlists.h:428</a></div></div>
<div class="ttc" id="rtp__engine_8h_html_a4f2fb6c08b3697d011cf613c8b68054ca06df52d7b998aec9a879a1a53624c5e8"><div class="ttname"><a href="../../d5/dde/rtp__engine_8h.html#a4f2fb6c08b3697d011cf613c8b68054ca06df52d7b998aec9a879a1a53624c5e8">AST_RTP_GLUE_RESULT_LOCAL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/rtp__engine_8h_source.html#l00164">rtp_engine.h:164</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="structast__bridge__channel_html_a19aa04db5508cf9496602e694dc69e2f"><div class="ttname"><a href="../../d5/dca/structast__bridge__channel.html#a19aa04db5508cf9496602e694dc69e2f">ast_bridge_channel::tech_pvt</a></div><div class="ttdeci">void * tech_pvt</div><div class="ttdoc">Private information unique to the bridge technology. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00116">bridge_channel.h:116</a></div></div>
<div class="ttc" id="channel_8h_html_a695e5b4fcf983db6451b583fbd647424"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a695e5b4fcf983db6451b583fbd647424">ast_channel_lock_both</a></div><div class="ttdeci">#define ast_channel_lock_both(chan1, chan2)</div><div class="ttdoc">Lock two channels. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02952">channel.h:2952</a></div></div>
<div class="ttc" id="structast__bridge_html_a77542a877d8ed62331c5b3b6aa3e87a7"><div class="ttname"><a href="../../d4/d84/structast__bridge.html#a77542a877d8ed62331c5b3b6aa3e87a7">ast_bridge::channels</a></div><div class="ttdeci">struct ast_bridge_channels_list channels</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00371">bridge.h:371</a></div></div>
<div class="ttc" id="structast__bridge__channel_html_a84d1435c5b8d387806714ea7079304b7"><div class="ttname"><a href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">ast_bridge_channel::chan</a></div><div class="ttdeci">struct ast_channel * chan</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00091">bridge_channel.h:91</a></div></div>
<div class="ttc" id="structast__bridge__channel_html"><div class="ttname"><a href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a></div><div class="ttdoc">Structure that contains information regarding a channel in a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00084">bridge_channel.h:84</a></div></div>
<div class="ttc" id="channel_8h_html_a7ca2fda13b129a55c251b56729de285b"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a></div><div class="ttdeci">const char * ast_channel_name(const struct ast_channel *chan)</div></div>
<div class="ttc" id="structrtp__glue__data_html_a325a7b6542ba7c103a7ded311a0ab44d"><div class="ttname"><a href="../../dc/db1/structrtp__glue__data.html#a325a7b6542ba7c103a7ded311a0ab44d">rtp_glue_data::audio</a></div><div class="ttdeci">struct rtp_glue_stream audio</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d27/bridge__native__rtp_8c_source.html#l00070">bridge_native_rtp.c:70</a></div></div>
<div class="ttc" id="structrtp__glue__data_html"><div class="ttname"><a href="../../dc/db1/structrtp__glue__data.html">rtp_glue_data</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d27/bridge__native__rtp_8c_source.html#l00063">bridge_native_rtp.c:63</a></div></div>
<div class="ttc" id="structast__rtp__engine_html_a2b9b48ac0487fd570907492c1103eff1"><div class="ttname"><a href="../../d2/d14/structast__rtp__engine.html#a2b9b48ac0487fd570907492c1103eff1">ast_rtp_engine::local_bridge</a></div><div class="ttdeci">int(* local_bridge)(struct ast_rtp_instance *instance0, struct ast_rtp_instance *instance1)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/rtp__engine_8h_source.html#l00663">rtp_engine.h:663</a></div></div>
<div class="ttc" id="structnative__rtp__bridge__channel__data_html_a7b8147624c6fea1893758bb32ceb89a8"><div class="ttname"><a href="../../dc/d1d/structnative__rtp__bridge__channel__data.html#a7b8147624c6fea1893758bb32ceb89a8">native_rtp_bridge_channel_data::glue</a></div><div class="ttdeci">struct rtp_glue_data glue</div><div class="ttdoc">Channel&amp;#39;s cached RTP glue information. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d27/bridge__native__rtp_8c_source.html#l00086">bridge_native_rtp.c:86</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a5aba9f9bcc2798e95cac24f1812890cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5aba9f9bcc2798e95cac24f1812890cf">&#9670;&nbsp;</a></span>native_rtp_bridge_suspend()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void native_rtp_bridge_suspend </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *&#160;</td>
          <td class="paramname"><em>bridge</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *&#160;</td>
          <td class="paramname"><em>bridge_channel</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html#l01056">1056</a> of file <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html">bridge_native_rtp.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../de/d41/bridge__channel_8h_source.html#l00091">ast_bridge_channel::chan</a>, <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html#l01036">native_rtp_bridge_leave()</a>, and <a class="el" href="../../d4/d56/bridge_8h_source.html#l00409">ast_bridge::uniqueid</a>.</p>
<div class="fragment"><div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;{</div><div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(2, <span class="stringliteral">&quot;Bridge &#39;%s&#39;.  Channel &#39;%s&#39; is suspending from bridge tech\n&quot;</span>,</div><div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;      bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a753c7b39e3284d771f13f513b003d033">uniqueid</a>, <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>));</div><div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;   <a class="code" href="../../d1/d27/bridge__native__rtp_8c.html#ab0a5941f1c69a22f499685ede499644f">native_rtp_bridge_leave</a>(bridge, bridge_channel);</div><div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;}</div><div class="ttc" id="structast__bridge_html_a753c7b39e3284d771f13f513b003d033"><div class="ttname"><a href="../../d4/d84/structast__bridge.html#a753c7b39e3284d771f13f513b003d033">ast_bridge::uniqueid</a></div><div class="ttdeci">const ast_string_field uniqueid</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00409">bridge.h:409</a></div></div>
<div class="ttc" id="bridge__native__rtp_8c_html_ab0a5941f1c69a22f499685ede499644f"><div class="ttname"><a href="../../d1/d27/bridge__native__rtp_8c.html#ab0a5941f1c69a22f499685ede499644f">native_rtp_bridge_leave</a></div><div class="ttdeci">static void native_rtp_bridge_leave(struct ast_bridge *bridge, struct ast_bridge_channel *bridge_channel)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d27/bridge__native__rtp_8c_source.html#l01036">bridge_native_rtp.c:1036</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="structast__bridge__channel_html_a84d1435c5b8d387806714ea7079304b7"><div class="ttname"><a href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">ast_bridge_channel::chan</a></div><div class="ttdeci">struct ast_channel * chan</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00091">bridge_channel.h:91</a></div></div>
<div class="ttc" id="channel_8h_html_a7ca2fda13b129a55c251b56729de285b"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a></div><div class="ttdeci">const char * ast_channel_name(const struct ast_channel *chan)</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a54c08e6d2041223968dc823c7661016b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a54c08e6d2041223968dc823c7661016b">&#9670;&nbsp;</a></span>native_rtp_bridge_unsuspend()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void native_rtp_bridge_unsuspend </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *&#160;</td>
          <td class="paramname"><em>bridge</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *&#160;</td>
          <td class="paramname"><em>bridge_channel</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html#l01025">1025</a> of file <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html">bridge_native_rtp.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../de/d41/bridge__channel_8h_source.html#l00091">ast_bridge_channel::chan</a>, <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html#l00967">native_rtp_bridge_join()</a>, and <a class="el" href="../../d4/d56/bridge_8h_source.html#l00409">ast_bridge::uniqueid</a>.</p>
<div class="fragment"><div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;{</div><div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(2, <span class="stringliteral">&quot;Bridge &#39;%s&#39;.  Channel &#39;%s&#39; is unsuspended back to bridge tech\n&quot;</span>,</div><div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;      bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a753c7b39e3284d771f13f513b003d033">uniqueid</a>, <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>));</div><div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;   <a class="code" href="../../d1/d27/bridge__native__rtp_8c.html#a42ba7043b5cb8718966b640d7d0b6704">native_rtp_bridge_join</a>(bridge, bridge_channel);</div><div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;}</div><div class="ttc" id="structast__bridge_html_a753c7b39e3284d771f13f513b003d033"><div class="ttname"><a href="../../d4/d84/structast__bridge.html#a753c7b39e3284d771f13f513b003d033">ast_bridge::uniqueid</a></div><div class="ttdeci">const ast_string_field uniqueid</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00409">bridge.h:409</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="structast__bridge__channel_html_a84d1435c5b8d387806714ea7079304b7"><div class="ttname"><a href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">ast_bridge_channel::chan</a></div><div class="ttdeci">struct ast_channel * chan</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00091">bridge_channel.h:91</a></div></div>
<div class="ttc" id="channel_8h_html_a7ca2fda13b129a55c251b56729de285b"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a></div><div class="ttdeci">const char * ast_channel_name(const struct ast_channel *chan)</div></div>
<div class="ttc" id="bridge__native__rtp_8c_html_a42ba7043b5cb8718966b640d7d0b6704"><div class="ttname"><a href="../../d1/d27/bridge__native__rtp_8c.html#a42ba7043b5cb8718966b640d7d0b6704">native_rtp_bridge_join</a></div><div class="ttdeci">static int native_rtp_bridge_join(struct ast_bridge *bridge, struct ast_bridge_channel *bridge_channel)</div><div class="ttdoc">Forward declarations. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d27/bridge__native__rtp_8c_source.html#l00967">bridge_native_rtp.c:967</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a7ae4ab1621325ae501df0d71ae4c3dcd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ae4ab1621325ae501df0d71ae4c3dcd">&#9670;&nbsp;</a></span>native_rtp_bridge_write()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int native_rtp_bridge_write </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *&#160;</td>
          <td class="paramname"><em>bridge</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *&#160;</td>
          <td class="paramname"><em>bridge_channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d0/d99/structast__frame.html">ast_frame</a> *&#160;</td>
          <td class="paramname"><em>frame</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html#l01063">1063</a> of file <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html">bridge_native_rtp.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d32/bridge__channel_8c_source.html#l01122">ast_bridge_queue_everyone_else()</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00301">AST_CONTROL_T38_PARAMETERS</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00105">AST_FRAME_CONTROL</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00371">AST_T38_REQUEST_NEGOTIATE</a>, <a class="el" href="../../d0/d99/structast__frame.html#a4027905f872af30d910929b07e261ca5">ast_frame::data</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00167">ast_frame::frametype</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00152">ast_frame_subclass::integer</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00183">ast_frame::ptr</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00398">ast_control_t38_parameters::request_response</a>, and <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00169">ast_frame::subclass</a>.</p>
<div class="fragment"><div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;{</div><div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;   <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="../../d5/def/structast__control__t38__parameters.html">ast_control_t38_parameters</a> *t38_parameters;</div><div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;   <span class="keywordtype">int</span> defer = 0;</div><div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;</div><div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d4/d56/bridge_8h.html#aef93dd372b07227b9aa10c530d5039f8">ast_bridge_queue_everyone_else</a>(bridge, bridge_channel, frame)) {</div><div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;      <span class="comment">/* This frame was successfully queued so no need to defer */</span></div><div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;   }</div><div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;</div><div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;   <span class="comment">/* Depending on the frame defer it so when the next channel joins it receives it */</span></div><div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;   <span class="keywordflow">switch</span> (frame-&gt;<a class="code" href="../../d0/d99/structast__frame.html#a6937b93c56cb473b547eda454dca7b4c">frametype</a>) {</div><div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#ae2e1a9c4e048da387b761f619312d6e0ae1dae388b0d70825876e137ae95bb0c1">AST_FRAME_CONTROL</a>:</div><div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;      <span class="keywordflow">switch</span> (frame-&gt;<a class="code" href="../../d0/d99/structast__frame.html#a27237c48fdcd22556401f20c693811db">subclass</a>.<a class="code" href="../../d1/d9f/structast__frame__subclass.html#adece183191b0e700e039e59101e06105">integer</a>) {</div><div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390a7334c9d27a6d70fe7c85b60b864788fc">AST_CONTROL_T38_PARAMETERS</a>:</div><div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;         t38_parameters = frame-&gt;<a class="code" href="../../d0/d99/structast__frame.html#a4027905f872af30d910929b07e261ca5">data</a>.<a class="code" href="../../d0/d99/structast__frame.html#add9af9569af79ec26dd741fb226b38ba">ptr</a>;</div><div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;         <span class="keywordflow">switch</span> (t38_parameters-&gt;<a class="code" href="../../d5/def/structast__control__t38__parameters.html#adb36822366e10ce64ca8337c512732a6">request_response</a>) {</div><div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;         <span class="keywordflow">case</span> <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#a168d496bdac09ece3ce49cf473bbdb4bafdb1ca68d683c64301c4cf07463a9975">AST_T38_REQUEST_NEGOTIATE</a>:</div><div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;            defer = -1;</div><div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;         <span class="keywordflow">default</span>:</div><div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;         }</div><div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;      <span class="keywordflow">default</span>:</div><div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;      }</div><div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;   <span class="keywordflow">default</span>:</div><div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;   }</div><div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;</div><div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;   <span class="keywordflow">return</span> defer;</div><div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;}</div><div class="ttc" id="structast__control__t38__parameters_html"><div class="ttname"><a href="../../d5/def/structast__control__t38__parameters.html">ast_control_t38_parameters</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00397">include/asterisk/frame.h:397</a></div></div>
<div class="ttc" id="structast__frame_html_add9af9569af79ec26dd741fb226b38ba"><div class="ttname"><a href="../../d0/d99/structast__frame.html#add9af9569af79ec26dd741fb226b38ba">ast_frame::ptr</a></div><div class="ttdeci">void * ptr</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00183">include/asterisk/frame.h:183</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_a168d496bdac09ece3ce49cf473bbdb4bafdb1ca68d683c64301c4cf07463a9975"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#a168d496bdac09ece3ce49cf473bbdb4bafdb1ca68d683c64301c4cf07463a9975">AST_T38_REQUEST_NEGOTIATE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00371">include/asterisk/frame.h:371</a></div></div>
<div class="ttc" id="structast__control__t38__parameters_html_adb36822366e10ce64ca8337c512732a6"><div class="ttname"><a href="../../d5/def/structast__control__t38__parameters.html#adb36822366e10ce64ca8337c512732a6">ast_control_t38_parameters::request_response</a></div><div class="ttdeci">enum ast_control_t38 request_response</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00398">include/asterisk/frame.h:398</a></div></div>
<div class="ttc" id="bridge_8h_html_aef93dd372b07227b9aa10c530d5039f8"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#aef93dd372b07227b9aa10c530d5039f8">ast_bridge_queue_everyone_else</a></div><div class="ttdeci">int ast_bridge_queue_everyone_else(struct ast_bridge *bridge, struct ast_bridge_channel *bridge_channel, struct ast_frame *frame)</div><div class="ttdoc">Queue the given frame to everyone else. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d32/bridge__channel_8c_source.html#l01122">bridge_channel.c:1122</a></div></div>
<div class="ttc" id="structast__frame_html_a27237c48fdcd22556401f20c693811db"><div class="ttname"><a href="../../d0/d99/structast__frame.html#a27237c48fdcd22556401f20c693811db">ast_frame::subclass</a></div><div class="ttdeci">struct ast_frame_subclass subclass</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00169">include/asterisk/frame.h:169</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_aedda41918e992000fe921f8f7363b390a7334c9d27a6d70fe7c85b60b864788fc"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390a7334c9d27a6d70fe7c85b60b864788fc">AST_CONTROL_T38_PARAMETERS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00301">include/asterisk/frame.h:301</a></div></div>
<div class="ttc" id="structast__frame__subclass_html_adece183191b0e700e039e59101e06105"><div class="ttname"><a href="../../d1/d9f/structast__frame__subclass.html#adece183191b0e700e039e59101e06105">ast_frame_subclass::integer</a></div><div class="ttdeci">int integer</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00152">include/asterisk/frame.h:152</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_ae2e1a9c4e048da387b761f619312d6e0ae1dae388b0d70825876e137ae95bb0c1"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#ae2e1a9c4e048da387b761f619312d6e0ae1dae388b0d70825876e137ae95bb0c1">AST_FRAME_CONTROL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00105">include/asterisk/frame.h:105</a></div></div>
<div class="ttc" id="structast__frame_html_a4027905f872af30d910929b07e261ca5"><div class="ttname"><a href="../../d0/d99/structast__frame.html#a4027905f872af30d910929b07e261ca5">ast_frame::data</a></div><div class="ttdeci">union ast_frame::@263 data</div></div>
<div class="ttc" id="structast__frame_html_a6937b93c56cb473b547eda454dca7b4c"><div class="ttname"><a href="../../d0/d99/structast__frame.html#a6937b93c56cb473b547eda454dca7b4c">ast_frame::frametype</a></div><div class="ttdeci">enum ast_frame_type frametype</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00167">include/asterisk/frame.h:167</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a0d71bcbfad3fdb28e10204d9779490b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d71bcbfad3fdb28e10204d9779490b3">&#9670;&nbsp;</a></span>native_rtp_framehook()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="../../d0/d99/structast__frame.html">ast_frame</a>* native_rtp_framehook </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d0/d99/structast__frame.html">ast_frame</a> *&#160;</td>
          <td class="paramname"><em>f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="../../db/d3c/framehook_8h.html#a54250544f50efde9156d2341e8da0614">ast_framehook_event</a>&#160;</td>
          <td class="paramname"><em>event</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html#l00562">562</a> of file <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html">bridge_native_rtp.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00480">ast_bridge_lock</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00493">ast_bridge_unlock</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l10735">ast_channel_get_bridge()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02945">ast_channel_lock</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00293">AST_CONTROL_HOLD</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00294">AST_CONTROL_UNHOLD</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00309">AST_CONTROL_UPDATE_RTP_PEER</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00105">AST_FRAME_CONTROL</a>, <a class="el" href="../../db/d3c/framehook_8h_source.html#l00153">AST_FRAMEHOOK_EVENT_WRITE</a>, <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html#l00053">native_rtp_framehook_data::detached</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00167">ast_frame::frametype</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00152">ast_frame_subclass::integer</a>, <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html#l00289">native_rtp_bridge_start()</a>, <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html#l00435">native_rtp_bridge_stop()</a>, and <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00169">ast_frame::subclass</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html#l00793">native_rtp_bridge_framehook_attach()</a>.</p>
<div class="fragment"><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;{</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *bridge;</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/dd3/structnative__rtp__framehook__data.html">native_rtp_framehook_data</a> *native_data = data;</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;   <span class="keywordflow">if</span> (!f</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;      || f-&gt;<a class="code" href="../../d0/d99/structast__frame.html#a6937b93c56cb473b547eda454dca7b4c">frametype</a> != <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#ae2e1a9c4e048da387b761f619312d6e0ae1dae388b0d70825876e137ae95bb0c1">AST_FRAME_CONTROL</a></div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;      || <a class="code" href="../../df/d7d/structevent.html">event</a> != <a class="code" href="../../db/d3c/framehook_8h.html#a54250544f50efde9156d2341e8da0614a8e96ab8d6971c2abf694c55ed52653d9">AST_FRAMEHOOK_EVENT_WRITE</a>) {</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;      <span class="keywordflow">return</span> f;</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;   }</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;   bridge = <a class="code" href="../../d5/d7b/channel_8h.html#a557663006d52a9cdc11f42602bf48326">ast_channel_get_bridge</a>(chan);</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;   <span class="keywordflow">if</span> (bridge) {</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;      <span class="comment">/* native_rtp_bridge_start/stop are not being called from bridging</span></div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;<span class="comment">         core so we need to lock the bridge prior to calling these functions</span></div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;<span class="comment">         Unfortunately that means unlocking the channel, but as it</span></div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;<span class="comment">         should not be modified this should be okay... hopefully...</span></div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;<span class="comment">         unless this channel is being moved around right now and is in</span></div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;<span class="comment">         the process of having this framehook removed (which is fine). To</span></div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;<span class="comment">         ensure we then don&#39;t stop or start when we shouldn&#39;t we consult</span></div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;<span class="comment">         the data provided. If this framehook has been detached then the</span></div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;<span class="comment">         detached variable will be set. This is safe to check as it is only</span></div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;<span class="comment">         manipulated with the bridge lock held. */</span></div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;      <a class="code" href="../../d4/d56/bridge_8h.html#ab8ee807d2c3a21d19e16fedf35c90de8">ast_bridge_lock</a>(bridge);</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;      <span class="keywordflow">if</span> (!native_data-&gt;<a class="code" href="../../d9/dd3/structnative__rtp__framehook__data.html#a691d9bb12ec3ee055a779e36c3f08b5b">detached</a>) {</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;         <span class="keywordflow">switch</span> (f-&gt;<a class="code" href="../../d0/d99/structast__frame.html#a27237c48fdcd22556401f20c693811db">subclass</a>.<a class="code" href="../../d1/d9f/structast__frame__subclass.html#adece183191b0e700e039e59101e06105">integer</a>) {</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;         <span class="keywordflow">case</span> <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390ab99a3d1c08c5ae8bca078c7cd1ec02f5">AST_CONTROL_HOLD</a>:</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;            <a class="code" href="../../d1/d27/bridge__native__rtp_8c.html#a632245bb3be7224b5246a34d7e5f20a1">native_rtp_bridge_stop</a>(bridge, chan);</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;         <span class="keywordflow">case</span> <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390a3e7629b5f7e39f1cc8ad2e51e266f91e">AST_CONTROL_UNHOLD</a>:</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;         <span class="keywordflow">case</span> <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390afa94175de1fafa29c027294f1e5a2aee">AST_CONTROL_UPDATE_RTP_PEER</a>:</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;            <a class="code" href="../../d1/d27/bridge__native__rtp_8c.html#afae9d93cb6334134a1c14804cf7059fa">native_rtp_bridge_start</a>(bridge, chan);</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;         <span class="keywordflow">default</span>:</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;         }</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;      }</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;      <a class="code" href="../../d4/d56/bridge_8h.html#a0fb66f4741ca8d106af1917a2f1aab6e">ast_bridge_unlock</a>(bridge);</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(bridge, -1);</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(chan);</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;   }</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;   <span class="keywordflow">return</span> f;</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;}</div><div class="ttc" id="include_2asterisk_2frame_8h_html_aedda41918e992000fe921f8f7363b390ab99a3d1c08c5ae8bca078c7cd1ec02f5"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390ab99a3d1c08c5ae8bca078c7cd1ec02f5">AST_CONTROL_HOLD</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00293">include/asterisk/frame.h:293</a></div></div>
<div class="ttc" id="channel_8h_html_a493bdebe876caafb8ee535853310364a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a></div><div class="ttdeci">#define ast_channel_lock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02945">channel.h:2945</a></div></div>
<div class="ttc" id="structevent_html"><div class="ttname"><a href="../../df/d7d/structevent.html">event</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d4d/astman_8c_source.html#l00222">astman.c:222</a></div></div>
<div class="ttc" id="structast__frame_html_a27237c48fdcd22556401f20c693811db"><div class="ttname"><a href="../../d0/d99/structast__frame.html#a27237c48fdcd22556401f20c693811db">ast_frame::subclass</a></div><div class="ttdeci">struct ast_frame_subclass subclass</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00169">include/asterisk/frame.h:169</a></div></div>
<div class="ttc" id="structast__frame__subclass_html_adece183191b0e700e039e59101e06105"><div class="ttname"><a href="../../d1/d9f/structast__frame__subclass.html#adece183191b0e700e039e59101e06105">ast_frame_subclass::integer</a></div><div class="ttdeci">int integer</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00152">include/asterisk/frame.h:152</a></div></div>
<div class="ttc" id="structnative__rtp__framehook__data_html"><div class="ttname"><a href="../../d9/dd3/structnative__rtp__framehook__data.html">native_rtp_framehook_data</a></div><div class="ttdoc">Internal structure which contains bridged RTP channel hook data. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d27/bridge__native__rtp_8c_source.html#l00049">bridge_native_rtp.c:49</a></div></div>
<div class="ttc" id="channel_8h_html_a557663006d52a9cdc11f42602bf48326"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a557663006d52a9cdc11f42602bf48326">ast_channel_get_bridge</a></div><div class="ttdeci">struct ast_bridge * ast_channel_get_bridge(const struct ast_channel *chan)</div><div class="ttdoc">Get the bridge associated with a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l10735">channel.c:10735</a></div></div>
<div class="ttc" id="framehook_8h_html_a54250544f50efde9156d2341e8da0614a8e96ab8d6971c2abf694c55ed52653d9"><div class="ttname"><a href="../../db/d3c/framehook_8h.html#a54250544f50efde9156d2341e8da0614a8e96ab8d6971c2abf694c55ed52653d9">AST_FRAMEHOOK_EVENT_WRITE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/d3c/framehook_8h_source.html#l00153">framehook.h:153</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="bridge__native__rtp_8c_html_a632245bb3be7224b5246a34d7e5f20a1"><div class="ttname"><a href="../../d1/d27/bridge__native__rtp_8c.html#a632245bb3be7224b5246a34d7e5f20a1">native_rtp_bridge_stop</a></div><div class="ttdeci">static void native_rtp_bridge_stop(struct ast_bridge *bridge, struct ast_channel *target)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d27/bridge__native__rtp_8c_source.html#l00435">bridge_native_rtp.c:435</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_ae2e1a9c4e048da387b761f619312d6e0ae1dae388b0d70825876e137ae95bb0c1"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#ae2e1a9c4e048da387b761f619312d6e0ae1dae388b0d70825876e137ae95bb0c1">AST_FRAME_CONTROL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00105">include/asterisk/frame.h:105</a></div></div>
<div class="ttc" id="structast__bridge_html"><div class="ttname"><a href="../../d4/d84/structast__bridge.html">ast_bridge</a></div><div class="ttdoc">Structure that contains information about a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00357">bridge.h:357</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="bridge_8h_html_a0fb66f4741ca8d106af1917a2f1aab6e"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a0fb66f4741ca8d106af1917a2f1aab6e">ast_bridge_unlock</a></div><div class="ttdeci">#define ast_bridge_unlock(bridge)</div><div class="ttdoc">Unlock the bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00493">bridge.h:493</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_aedda41918e992000fe921f8f7363b390afa94175de1fafa29c027294f1e5a2aee"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390afa94175de1fafa29c027294f1e5a2aee">AST_CONTROL_UPDATE_RTP_PEER</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00309">include/asterisk/frame.h:309</a></div></div>
<div class="ttc" id="bridge_8h_html_ab8ee807d2c3a21d19e16fedf35c90de8"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#ab8ee807d2c3a21d19e16fedf35c90de8">ast_bridge_lock</a></div><div class="ttdeci">#define ast_bridge_lock(bridge)</div><div class="ttdoc">Lock the bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00480">bridge.h:480</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_aedda41918e992000fe921f8f7363b390a3e7629b5f7e39f1cc8ad2e51e266f91e"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390a3e7629b5f7e39f1cc8ad2e51e266f91e">AST_CONTROL_UNHOLD</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00294">include/asterisk/frame.h:294</a></div></div>
<div class="ttc" id="structast__frame_html_a6937b93c56cb473b547eda454dca7b4c"><div class="ttname"><a href="../../d0/d99/structast__frame.html#a6937b93c56cb473b547eda454dca7b4c">ast_frame::frametype</a></div><div class="ttdeci">enum ast_frame_type frametype</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00167">include/asterisk/frame.h:167</a></div></div>
<div class="ttc" id="structnative__rtp__framehook__data_html_a691d9bb12ec3ee055a779e36c3f08b5b"><div class="ttname"><a href="../../d9/dd3/structnative__rtp__framehook__data.html#a691d9bb12ec3ee055a779e36c3f08b5b">native_rtp_framehook_data::detached</a></div><div class="ttdeci">unsigned int detached</div><div class="ttdoc">Set when this framehook has been detached. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d27/bridge__native__rtp_8c_source.html#l00053">bridge_native_rtp.c:53</a></div></div>
<div class="ttc" id="bridge__native__rtp_8c_html_afae9d93cb6334134a1c14804cf7059fa"><div class="ttname"><a href="../../d1/d27/bridge__native__rtp_8c.html#afae9d93cb6334134a1c14804cf7059fa">native_rtp_bridge_start</a></div><div class="ttdeci">static void native_rtp_bridge_start(struct ast_bridge *bridge, struct ast_channel *target)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d27/bridge__native__rtp_8c_source.html#l00289">bridge_native_rtp.c:289</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a4e9a90ebcf5a55230473f5474fd4db47"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4e9a90ebcf5a55230473f5474fd4db47">&#9670;&nbsp;</a></span>native_rtp_framehook_consume()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int native_rtp_framehook_consume </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h.html#ae2e1a9c4e048da387b761f619312d6e0">ast_frame_type</a>&#160;</td>
          <td class="paramname"><em>type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html#l00613">613</a> of file <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html">bridge_native_rtp.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00105">AST_FRAME_CONTROL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html#l00793">native_rtp_bridge_framehook_attach()</a>.</p>
<div class="fragment"><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;{</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;   <span class="keywordflow">return</span> (<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a> == <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#ae2e1a9c4e048da387b761f619312d6e0ae1dae388b0d70825876e137ae95bb0c1">AST_FRAME_CONTROL</a> ? 1 : 0);</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;}</div><div class="ttc" id="chan__ooh323_8c_html_a4d63fdfe5451ec2248c16a2739190c56"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a></div><div class="ttdeci">static const char type[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00109">chan_ooh323.c:109</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_ae2e1a9c4e048da387b761f619312d6e0ae1dae388b0d70825876e137ae95bb0c1"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#ae2e1a9c4e048da387b761f619312d6e0ae1dae388b0d70825876e137ae95bb0c1">AST_FRAME_CONTROL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00105">include/asterisk/frame.h:105</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af7f9b9dcd8e47b9a63032a2c93efeb72"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af7f9b9dcd8e47b9a63032a2c93efeb72">&#9670;&nbsp;</a></span>native_rtp_request_stream_topology_update()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="../../da/d35/structast__stream__topology.html">ast_stream_topology</a>* native_rtp_request_stream_topology_update </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/d35/structast__stream__topology.html">ast_stream_topology</a> *&#160;</td>
          <td class="paramname"><em>existing_topology</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../da/d35/structast__stream__topology.html">ast_stream_topology</a> *&#160;</td>
          <td class="paramname"><em>requested_topology</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html#l00857">857</a> of file <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html">bridge_native_rtp.c</a>.</p>

<p class="reference">References <a class="el" href="../../d1/d16/codec_8h_source.html#l00032">AST_MEDIA_TYPE_AUDIO</a>, <a class="el" href="../../d8/d4d/stream_8c_source.html#l00330">ast_stream_get_formats()</a>, <a class="el" href="../../d8/d4d/stream_8c_source.html#l00373">ast_stream_get_state()</a>, <a class="el" href="../../d8/d4d/stream_8c_source.html#l00316">ast_stream_get_type()</a>, <a class="el" href="../../d8/d4d/stream_8c_source.html#l00365">ast_stream_set_formats()</a>, <a class="el" href="../../d8/d4d/stream_8c_source.html#l00380">ast_stream_set_state()</a>, <a class="el" href="../../d8/d95/stream_8h_source.html#l00090">AST_STREAM_STATE_RECVONLY</a>, <a class="el" href="../../d8/d95/stream_8h_source.html#l00078">AST_STREAM_STATE_REMOVED</a>, <a class="el" href="../../d8/d95/stream_8h_source.html#l00086">AST_STREAM_STATE_SENDONLY</a>, <a class="el" href="../../d8/d4d/stream_8c_source.html#l00667">ast_stream_topology_clone()</a>, <a class="el" href="../../d8/d4d/stream_8c_source.html#l00765">ast_stream_topology_get_count()</a>, <a class="el" href="../../d8/d4d/stream_8c_source.html#l00788">ast_stream_topology_get_stream()</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html#l00967">native_rtp_bridge_join()</a>, and <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html#l00920">native_rtp_stream_topology_changed()</a>.</p>
<div class="fragment"><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;{</div><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d17/structast__stream.html">ast_stream</a> *stream;</div><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;   <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="../../d8/d69/structast__format__cap.html">ast_format_cap</a> *audio_formats = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../da/d35/structast__stream__topology.html">ast_stream_topology</a> *new_topology;</div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;   <span class="keywordtype">int</span> i;</div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;</div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;   new_topology = <a class="code" href="../../d8/d95/stream_8h.html#a00b605b453fe5ff538e361126d600303">ast_stream_topology_clone</a>(requested_topology);</div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;   <span class="keywordflow">if</span> (!new_topology) {</div><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;   }</div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;</div><div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;   <span class="comment">/* We find an existing stream with negotiated audio formats that we can place into</span></div><div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;<span class="comment">    * any audio streams in the new topology to ensure that negotiation succeeds. Some</span></div><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;<span class="comment">    * endpoints incorrectly terminate the call if SDP negotiation fails.</span></div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;   <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="../../d8/d95/stream_8h.html#a5eb43440630db819220df97b01f48922">ast_stream_topology_get_count</a>(existing_topology); ++i) {</div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;      stream = <a class="code" href="../../d8/d95/stream_8h.html#aa4a9c0de95417c5db8eda8544cd1631d">ast_stream_topology_get_stream</a>(existing_topology, i);</div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;</div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d8/d95/stream_8h.html#a86319542b92fb0dc6b2ed337d83cf8ce">ast_stream_get_type</a>(stream) != <a class="code" href="../../d1/d16/codec_8h.html#a0f1467803be2cc40b53765e3df54c212a044356ace82a79fd7d127e97b03c7841">AST_MEDIA_TYPE_AUDIO</a> ||</div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;         <a class="code" href="../../d8/d95/stream_8h.html#a6fdfb5754dad81680c197d5c9df44971">ast_stream_get_state</a>(stream) == <a class="code" href="../../d8/d95/stream_8h.html#a343d6a412f1391cbbe60bbc1736f3288adda44d968899f20b2f5c167d38ab23e7">AST_STREAM_STATE_REMOVED</a>) {</div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;         <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;      }</div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;</div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;      audio_formats = <a class="code" href="../../d8/d95/stream_8h.html#ae8e2f46d218285e0f0ec97ba8ab77ffb">ast_stream_get_formats</a>(stream);</div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;   }</div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;</div><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;   <span class="keywordflow">if</span> (audio_formats) {</div><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;      <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="../../d8/d95/stream_8h.html#a5eb43440630db819220df97b01f48922">ast_stream_topology_get_count</a>(new_topology); ++i) {</div><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;         stream = <a class="code" href="../../d8/d95/stream_8h.html#aa4a9c0de95417c5db8eda8544cd1631d">ast_stream_topology_get_stream</a>(new_topology, i);</div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;</div><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;         <span class="keywordflow">if</span> (<a class="code" href="../../d8/d95/stream_8h.html#a86319542b92fb0dc6b2ed337d83cf8ce">ast_stream_get_type</a>(stream) != <a class="code" href="../../d1/d16/codec_8h.html#a0f1467803be2cc40b53765e3df54c212a044356ace82a79fd7d127e97b03c7841">AST_MEDIA_TYPE_AUDIO</a> ||</div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;            <a class="code" href="../../d8/d95/stream_8h.html#a6fdfb5754dad81680c197d5c9df44971">ast_stream_get_state</a>(stream) == <a class="code" href="../../d8/d95/stream_8h.html#a343d6a412f1391cbbe60bbc1736f3288adda44d968899f20b2f5c167d38ab23e7">AST_STREAM_STATE_REMOVED</a>) {</div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;         }</div><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;</div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;         <span class="comment">/* We haven&#39;t actually modified audio_formats so this is safe */</span></div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;         <a class="code" href="../../d8/d95/stream_8h.html#a8dc44f43dab4a5484631812d9bbc3ae9">ast_stream_set_formats</a>(stream, (<span class="keyword">struct</span> <a class="code" href="../../d8/d69/structast__format__cap.html">ast_format_cap</a> *)audio_formats);</div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;      }</div><div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;   }</div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;</div><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;   <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="../../d8/d95/stream_8h.html#a5eb43440630db819220df97b01f48922">ast_stream_topology_get_count</a>(new_topology); ++i) {</div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;      stream = <a class="code" href="../../d8/d95/stream_8h.html#aa4a9c0de95417c5db8eda8544cd1631d">ast_stream_topology_get_stream</a>(new_topology, i);</div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;</div><div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;      <span class="comment">/* For both recvonly and sendonly the stream state reflects our state, that is we</span></div><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;<span class="comment">       * are receiving only and we are sending only. Since we are renegotiating a remote</span></div><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;<span class="comment">       * party we need to swap this to reflect what we will be doing. That is, if we are</span></div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;<span class="comment">       * receiving from Alice then we want to be sending to Bob, so swap recvonly to</span></div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;<span class="comment">       * sendonly.</span></div><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;<span class="comment">       */</span></div><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d8/d95/stream_8h.html#a6fdfb5754dad81680c197d5c9df44971">ast_stream_get_state</a>(stream) == <a class="code" href="../../d8/d95/stream_8h.html#a343d6a412f1391cbbe60bbc1736f3288a5c7755c7947aed47c123f459311deb24">AST_STREAM_STATE_RECVONLY</a>) {</div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;         <a class="code" href="../../d8/d95/stream_8h.html#a4459bba3b00250f5c5b2b4ae265909ee">ast_stream_set_state</a>(stream, <a class="code" href="../../d8/d95/stream_8h.html#a343d6a412f1391cbbe60bbc1736f3288afaf3d3b8e7792a1332821dbbebf2d443">AST_STREAM_STATE_SENDONLY</a>);</div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d8/d95/stream_8h.html#a6fdfb5754dad81680c197d5c9df44971">ast_stream_get_state</a>(stream) == <a class="code" href="../../d8/d95/stream_8h.html#a343d6a412f1391cbbe60bbc1736f3288afaf3d3b8e7792a1332821dbbebf2d443">AST_STREAM_STATE_SENDONLY</a>) {</div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;         <a class="code" href="../../d8/d95/stream_8h.html#a4459bba3b00250f5c5b2b4ae265909ee">ast_stream_set_state</a>(stream, <a class="code" href="../../d8/d95/stream_8h.html#a343d6a412f1391cbbe60bbc1736f3288a5c7755c7947aed47c123f459311deb24">AST_STREAM_STATE_RECVONLY</a>);</div><div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;      }</div><div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;   }</div><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;</div><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;   <span class="keywordflow">return</span> new_topology;</div><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;}</div><div class="ttc" id="stream_8h_html_a86319542b92fb0dc6b2ed337d83cf8ce"><div class="ttname"><a href="../../d8/d95/stream_8h.html#a86319542b92fb0dc6b2ed337d83cf8ce">ast_stream_get_type</a></div><div class="ttdeci">enum ast_media_type ast_stream_get_type(const struct ast_stream *stream)</div><div class="ttdoc">Get the media type of a stream. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d4d/stream_8c_source.html#l00316">stream.c:316</a></div></div>
<div class="ttc" id="stream_8h_html_a343d6a412f1391cbbe60bbc1736f3288adda44d968899f20b2f5c167d38ab23e7"><div class="ttname"><a href="../../d8/d95/stream_8h.html#a343d6a412f1391cbbe60bbc1736f3288adda44d968899f20b2f5c167d38ab23e7">AST_STREAM_STATE_REMOVED</a></div><div class="ttdoc">Set when the stream has been removed/declined. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d95/stream_8h_source.html#l00078">stream.h:78</a></div></div>
<div class="ttc" id="stream_8h_html_aa4a9c0de95417c5db8eda8544cd1631d"><div class="ttname"><a href="../../d8/d95/stream_8h.html#aa4a9c0de95417c5db8eda8544cd1631d">ast_stream_topology_get_stream</a></div><div class="ttdeci">struct ast_stream * ast_stream_topology_get_stream(const struct ast_stream_topology *topology, unsigned int position)</div><div class="ttdoc">Get a specific stream from the topology. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d4d/stream_8c_source.html#l00788">stream.c:788</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="stream_8h_html_a8dc44f43dab4a5484631812d9bbc3ae9"><div class="ttname"><a href="../../d8/d95/stream_8h.html#a8dc44f43dab4a5484631812d9bbc3ae9">ast_stream_set_formats</a></div><div class="ttdeci">void ast_stream_set_formats(struct ast_stream *stream, struct ast_format_cap *caps)</div><div class="ttdoc">Set the current negotiated formats of a stream. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d4d/stream_8c_source.html#l00365">stream.c:365</a></div></div>
<div class="ttc" id="stream_8h_html_ae8e2f46d218285e0f0ec97ba8ab77ffb"><div class="ttname"><a href="../../d8/d95/stream_8h.html#ae8e2f46d218285e0f0ec97ba8ab77ffb">ast_stream_get_formats</a></div><div class="ttdeci">const struct ast_format_cap * ast_stream_get_formats(const struct ast_stream *stream)</div><div class="ttdoc">Get the current negotiated formats of a stream. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d4d/stream_8c_source.html#l00330">stream.c:330</a></div></div>
<div class="ttc" id="structast__stream__topology_html"><div class="ttname"><a href="../../da/d35/structast__stream__topology.html">ast_stream_topology</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d4d/stream_8c_source.html#l00123">stream.c:123</a></div></div>
<div class="ttc" id="structast__format__cap_html"><div class="ttname"><a href="../../d8/d69/structast__format__cap.html">ast_format_cap</a></div><div class="ttdoc">Format capabilities structure, holds formats + preference order + etc. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dc9/format__cap_8c_source.html#l00054">format_cap.c:54</a></div></div>
<div class="ttc" id="codec_8h_html_a0f1467803be2cc40b53765e3df54c212a044356ace82a79fd7d127e97b03c7841"><div class="ttname"><a href="../../d1/d16/codec_8h.html#a0f1467803be2cc40b53765e3df54c212a044356ace82a79fd7d127e97b03c7841">AST_MEDIA_TYPE_AUDIO</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d16/codec_8h_source.html#l00032">codec.h:32</a></div></div>
<div class="ttc" id="stream_8h_html_a343d6a412f1391cbbe60bbc1736f3288afaf3d3b8e7792a1332821dbbebf2d443"><div class="ttname"><a href="../../d8/d95/stream_8h.html#a343d6a412f1391cbbe60bbc1736f3288afaf3d3b8e7792a1332821dbbebf2d443">AST_STREAM_STATE_SENDONLY</a></div><div class="ttdoc">Set when the stream is sending media only. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d95/stream_8h_source.html#l00086">stream.h:86</a></div></div>
<div class="ttc" id="stream_8h_html_a4459bba3b00250f5c5b2b4ae265909ee"><div class="ttname"><a href="../../d8/d95/stream_8h.html#a4459bba3b00250f5c5b2b4ae265909ee">ast_stream_set_state</a></div><div class="ttdeci">void ast_stream_set_state(struct ast_stream *stream, enum ast_stream_state state)</div><div class="ttdoc">Set the state of a stream. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d4d/stream_8c_source.html#l00380">stream.c:380</a></div></div>
<div class="ttc" id="stream_8h_html_a5eb43440630db819220df97b01f48922"><div class="ttname"><a href="../../d8/d95/stream_8h.html#a5eb43440630db819220df97b01f48922">ast_stream_topology_get_count</a></div><div class="ttdeci">int ast_stream_topology_get_count(const struct ast_stream_topology *topology)</div><div class="ttdoc">Get the number of streams in a topology. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d4d/stream_8c_source.html#l00765">stream.c:765</a></div></div>
<div class="ttc" id="stream_8h_html_a00b605b453fe5ff538e361126d600303"><div class="ttname"><a href="../../d8/d95/stream_8h.html#a00b605b453fe5ff538e361126d600303">ast_stream_topology_clone</a></div><div class="ttdeci">struct ast_stream_topology * ast_stream_topology_clone(const struct ast_stream_topology *topology)</div><div class="ttdoc">Create a deep clone of an existing stream topology. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d4d/stream_8c_source.html#l00667">stream.c:667</a></div></div>
<div class="ttc" id="structast__stream_html"><div class="ttname"><a href="../../d4/d17/structast__stream.html">ast_stream</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d4d/stream_8c_source.html#l00081">stream.c:81</a></div></div>
<div class="ttc" id="stream_8h_html_a343d6a412f1391cbbe60bbc1736f3288a5c7755c7947aed47c123f459311deb24"><div class="ttname"><a href="../../d8/d95/stream_8h.html#a343d6a412f1391cbbe60bbc1736f3288a5c7755c7947aed47c123f459311deb24">AST_STREAM_STATE_RECVONLY</a></div><div class="ttdoc">Set when the stream is receiving media only. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d95/stream_8h_source.html#l00090">stream.h:90</a></div></div>
<div class="ttc" id="stream_8h_html_a6fdfb5754dad81680c197d5c9df44971"><div class="ttname"><a href="../../d8/d95/stream_8h.html#a6fdfb5754dad81680c197d5c9df44971">ast_stream_get_state</a></div><div class="ttdeci">enum ast_stream_state ast_stream_get_state(const struct ast_stream *stream)</div><div class="ttdoc">Get the current state of a stream. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d4d/stream_8c_source.html#l00373">stream.c:373</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a03c6227a1b01f72cb71a51c12b3aa6a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a03c6227a1b01f72cb71a51c12b3aa6a1">&#9670;&nbsp;</a></span>native_rtp_stream_topology_changed()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void native_rtp_stream_topology_changed </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *&#160;</td>
          <td class="paramname"><em>bridge</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *&#160;</td>
          <td class="paramname"><em>bridge_channel</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html#l00920">920</a> of file <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html">bridge_native_rtp.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d32/bridge__channel_8c_source.html#l03174">ast_bridge_channel_stream_map()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l01583">ast_channel_get_stream_topology()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00672">ast_channel_get_stream_topology_change_source()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02952">ast_channel_lock_both</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l11167">ast_channel_request_stream_topology_change()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00420">AST_LIST_FIRST</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00428">AST_LIST_LAST</a>, <a class="el" href="../../d8/d4d/stream_8c_source.html#l00743">ast_stream_topology_free()</a>, <a class="el" href="../../de/d41/bridge__channel_8h_source.html#l00091">ast_bridge_channel::chan</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00371">ast_bridge::channels</a>, and <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html#l00857">native_rtp_request_stream_topology_update()</a>.</p>
<div class="fragment"><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;{</div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *c0 = bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>;</div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *c1 = <a class="code" href="../../df/d90/linkedlists_8h.html#adf1959c5c03a3a706da97ad2f49617e5">AST_LIST_FIRST</a>(&amp;bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a77542a877d8ed62331c5b3b6aa3e87a7">channels</a>)-&gt;chan;</div><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../da/d35/structast__stream__topology.html">ast_stream_topology</a> *req_top;</div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../da/d35/structast__stream__topology.html">ast_stream_topology</a> *existing_top;</div><div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../da/d35/structast__stream__topology.html">ast_stream_topology</a> *new_top;</div><div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;</div><div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;   <a class="code" href="../../de/d41/bridge__channel_8h.html#aa464f1acd378d6a297a514007cec8d18">ast_bridge_channel_stream_map</a>(bridge_channel);</div><div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;</div><div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d5/d7b/channel_8h.html#a983c3f3126939711d51e98a7c6a26857">ast_channel_get_stream_topology_change_source</a>(bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>)</div><div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;      == &amp;<a class="code" href="../../d1/d27/bridge__native__rtp_8c.html#a6ea330d0c88cf1eb8ee8504dbf3c43b5">native_rtp_bridge</a>) {</div><div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;   }</div><div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;</div><div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;   <span class="keywordflow">if</span> (c0 == c1) {</div><div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;      c1 = <a class="code" href="../../df/d90/linkedlists_8h.html#a1e37109bb72d95999821eb45f28c261c">AST_LIST_LAST</a>(&amp;bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a77542a877d8ed62331c5b3b6aa3e87a7">channels</a>)-&gt;chan;</div><div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;   }</div><div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;</div><div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;   <span class="keywordflow">if</span> (c0 == c1) {</div><div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;   }</div><div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;</div><div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;   <span class="comment">/* If a party renegotiates we want to renegotiate their counterpart to a matching</span></div><div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;<span class="comment">    * topology.</span></div><div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a695e5b4fcf983db6451b583fbd647424">ast_channel_lock_both</a>(c0, c1);</div><div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;   req_top = <a class="code" href="../../d5/d7b/channel_8h.html#ae35174b33cb8d9b4c1424448b21e50d2">ast_channel_get_stream_topology</a>(c0);</div><div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;   existing_top = <a class="code" href="../../d5/d7b/channel_8h.html#ae35174b33cb8d9b4c1424448b21e50d2">ast_channel_get_stream_topology</a>(c1);</div><div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;   new_top = <a class="code" href="../../d1/d27/bridge__native__rtp_8c.html#af7f9b9dcd8e47b9a63032a2c93efeb72">native_rtp_request_stream_topology_update</a>(existing_top, req_top);</div><div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(c0);</div><div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(c1);</div><div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;</div><div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;   <span class="keywordflow">if</span> (!new_top) {</div><div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;      <span class="comment">/* Failure.  We&#39;ll just have to live with the current topology. */</span></div><div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;   }</div><div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;</div><div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a0b1e57b68b6e4970d55a1ffe49baaaf1">ast_channel_request_stream_topology_change</a>(c1, new_top, &amp;<a class="code" href="../../d1/d27/bridge__native__rtp_8c.html#a6ea330d0c88cf1eb8ee8504dbf3c43b5">native_rtp_bridge</a>);</div><div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;   <a class="code" href="../../d8/d95/stream_8h.html#a88eca139ded2d5bbc6cdcf793febc265">ast_stream_topology_free</a>(new_top);</div><div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;}</div><div class="ttc" id="structast__channel_html"><div class="ttname"><a href="../../df/d3c/structast__channel.html">ast_channel</a></div><div class="ttdoc">Main Channel structure associated with a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00073">channel_internal_api.c:73</a></div></div>
<div class="ttc" id="linkedlists_8h_html_adf1959c5c03a3a706da97ad2f49617e5"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#adf1959c5c03a3a706da97ad2f49617e5">AST_LIST_FIRST</a></div><div class="ttdeci">#define AST_LIST_FIRST(head)</div><div class="ttdoc">Returns the first entry contained in a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00420">linkedlists.h:420</a></div></div>
<div class="ttc" id="channel_8h_html_ae35174b33cb8d9b4c1424448b21e50d2"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#ae35174b33cb8d9b4c1424448b21e50d2">ast_channel_get_stream_topology</a></div><div class="ttdeci">struct ast_stream_topology * ast_channel_get_stream_topology(const struct ast_channel *chan)</div><div class="ttdoc">Retrieve the topology of streams on a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l01583">channel_internal_api.c:1583</a></div></div>
<div class="ttc" id="channel_8h_html_a0b1e57b68b6e4970d55a1ffe49baaaf1"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a0b1e57b68b6e4970d55a1ffe49baaaf1">ast_channel_request_stream_topology_change</a></div><div class="ttdeci">int ast_channel_request_stream_topology_change(struct ast_channel *chan, struct ast_stream_topology *topology, void *change_source)</div><div class="ttdoc">Request that the stream topology of a channel change. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l11167">channel.c:11167</a></div></div>
<div class="ttc" id="bridge__native__rtp_8c_html_a6ea330d0c88cf1eb8ee8504dbf3c43b5"><div class="ttname"><a href="../../d1/d27/bridge__native__rtp_8c.html#a6ea330d0c88cf1eb8ee8504dbf3c43b5">native_rtp_bridge</a></div><div class="ttdeci">static struct ast_bridge_technology native_rtp_bridge</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d27/bridge__native__rtp_8c_source.html#l00098">bridge_native_rtp.c:98</a></div></div>
<div class="ttc" id="bridge__native__rtp_8c_html_af7f9b9dcd8e47b9a63032a2c93efeb72"><div class="ttname"><a href="../../d1/d27/bridge__native__rtp_8c.html#af7f9b9dcd8e47b9a63032a2c93efeb72">native_rtp_request_stream_topology_update</a></div><div class="ttdeci">static struct ast_stream_topology * native_rtp_request_stream_topology_update(struct ast_stream_topology *existing_topology, struct ast_stream_topology *requested_topology)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d27/bridge__native__rtp_8c_source.html#l00857">bridge_native_rtp.c:857</a></div></div>
<div class="ttc" id="structast__stream__topology_html"><div class="ttname"><a href="../../da/d35/structast__stream__topology.html">ast_stream_topology</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d4d/stream_8c_source.html#l00123">stream.c:123</a></div></div>
<div class="ttc" id="channel_8h_html_a983c3f3126939711d51e98a7c6a26857"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a983c3f3126939711d51e98a7c6a26857">ast_channel_get_stream_topology_change_source</a></div><div class="ttdeci">void * ast_channel_get_stream_topology_change_source(struct ast_channel *chan)</div><div class="ttdoc">Retrieve the source that initiated the last stream topology change. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00672">channel_internal_api.c:672</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a1e37109bb72d95999821eb45f28c261c"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a1e37109bb72d95999821eb45f28c261c">AST_LIST_LAST</a></div><div class="ttdeci">#define AST_LIST_LAST(head)</div><div class="ttdoc">Returns the last entry contained in a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00428">linkedlists.h:428</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="channel_8h_html_a695e5b4fcf983db6451b583fbd647424"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a695e5b4fcf983db6451b583fbd647424">ast_channel_lock_both</a></div><div class="ttdeci">#define ast_channel_lock_both(chan1, chan2)</div><div class="ttdoc">Lock two channels. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02952">channel.h:2952</a></div></div>
<div class="ttc" id="structast__bridge_html_a77542a877d8ed62331c5b3b6aa3e87a7"><div class="ttname"><a href="../../d4/d84/structast__bridge.html#a77542a877d8ed62331c5b3b6aa3e87a7">ast_bridge::channels</a></div><div class="ttdeci">struct ast_bridge_channels_list channels</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00371">bridge.h:371</a></div></div>
<div class="ttc" id="structast__bridge__channel_html_a84d1435c5b8d387806714ea7079304b7"><div class="ttname"><a href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">ast_bridge_channel::chan</a></div><div class="ttdeci">struct ast_channel * chan</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00091">bridge_channel.h:91</a></div></div>
<div class="ttc" id="bridge__channel_8h_html_aa464f1acd378d6a297a514007cec8d18"><div class="ttname"><a href="../../de/d41/bridge__channel_8h.html#aa464f1acd378d6a297a514007cec8d18">ast_bridge_channel_stream_map</a></div><div class="ttdeci">void ast_bridge_channel_stream_map(struct ast_bridge_channel *bridge_channel)</div><div class="ttdoc">Maps a channel&amp;#39;s stream topology to and from the bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d32/bridge__channel_8c_source.html#l03174">bridge_channel.c:3174</a></div></div>
<div class="ttc" id="stream_8h_html_a88eca139ded2d5bbc6cdcf793febc265"><div class="ttname"><a href="../../d8/d95/stream_8h.html#a88eca139ded2d5bbc6cdcf793febc265">ast_stream_topology_free</a></div><div class="ttdeci">void ast_stream_topology_free(struct ast_stream_topology *topology)</div><div class="ttdoc">Unreference and destroy a stream topology. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d4d/stream_8c_source.html#l00743">stream.c:743</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aecf1630493bccc42337862af88d6e164"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aecf1630493bccc42337862af88d6e164">&#9670;&nbsp;</a></span>rtp_glue_data_destroy()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void rtp_glue_data_destroy </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dc/db1/structrtp__glue__data.html">rtp_glue_data</a> *&#160;</td>
          <td class="paramname"><em>glue</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html#l00121">121</a> of file <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html">bridge_native_rtp.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html#l00070">rtp_glue_data::audio</a>, <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html#l00058">rtp_glue_stream::instance</a>, and <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html#l00071">rtp_glue_data::video</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html#l00632">native_rtp_bridge_compatible_check()</a>, <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html#l00130">rtp_glue_data_reset()</a>, and <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html#l00257">rtp_glue_get_current_combined_result()</a>.</p>
<div class="fragment"><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;{</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;   <span class="keywordflow">if</span> (!glue) {</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;   }</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>(glue-&gt;<a class="code" href="../../dc/db1/structrtp__glue__data.html#a325a7b6542ba7c103a7ded311a0ab44d">audio</a>.<a class="code" href="../../d8/d6b/structrtp__glue__stream.html#ab8379d828ec083fe0cdb16f540f67d1f">instance</a>);</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>(glue-&gt;<a class="code" href="../../dc/db1/structrtp__glue__data.html#a49a570b04f7044ee37d2ef9b881f32d2">video</a>.<a class="code" href="../../d8/d6b/structrtp__glue__stream.html#ab8379d828ec083fe0cdb16f540f67d1f">instance</a>);</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;}</div><div class="ttc" id="structrtp__glue__data_html_a49a570b04f7044ee37d2ef9b881f32d2"><div class="ttname"><a href="../../dc/db1/structrtp__glue__data.html#a49a570b04f7044ee37d2ef9b881f32d2">rtp_glue_data::video</a></div><div class="ttdeci">struct rtp_glue_stream video</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d27/bridge__native__rtp_8c_source.html#l00071">bridge_native_rtp.c:71</a></div></div>
<div class="ttc" id="structrtp__glue__stream_html_ab8379d828ec083fe0cdb16f540f67d1f"><div class="ttname"><a href="../../d8/d6b/structrtp__glue__stream.html#ab8379d828ec083fe0cdb16f540f67d1f">rtp_glue_stream::instance</a></div><div class="ttdeci">struct ast_rtp_instance * instance</div><div class="ttdoc">RTP instance. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d27/bridge__native__rtp_8c_source.html#l00058">bridge_native_rtp.c:58</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="structrtp__glue__data_html_a325a7b6542ba7c103a7ded311a0ab44d"><div class="ttname"><a href="../../dc/db1/structrtp__glue__data.html#a325a7b6542ba7c103a7ded311a0ab44d">rtp_glue_data::audio</a></div><div class="ttdeci">struct rtp_glue_stream audio</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d27/bridge__native__rtp_8c_source.html#l00070">bridge_native_rtp.c:70</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa40e079d059392c8d71d8d3ad48e8413"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa40e079d059392c8d71d8d3ad48e8413">&#9670;&nbsp;</a></span>rtp_glue_data_get()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int rtp_glue_data_get </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>c0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../dc/db1/structrtp__glue__data.html">rtp_glue_data</a> *&#160;</td>
          <td class="paramname"><em>glue0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>c1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../dc/db1/structrtp__glue__data.html">rtp_glue_data</a> *&#160;</td>
          <td class="paramname"><em>glue1</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html#l00168">168</a> of file <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html">bridge_native_rtp.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/dde/rtp__engine_8h_source.html#l00735">ast_rtp_glue::allow_rtp_remote</a>, <a class="el" href="../../d5/dde/rtp__engine_8h_source.html#l00747">ast_rtp_glue::allow_vrtp_remote</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00769">ast_channel_tech()</a>, <a class="el" href="../../d5/dde/rtp__engine_8h_source.html#l00160">AST_RTP_GLUE_RESULT_FORBID</a>, <a class="el" href="../../d5/dde/rtp__engine_8h_source.html#l00164">AST_RTP_GLUE_RESULT_LOCAL</a>, <a class="el" href="../../d5/dde/rtp__engine_8h_source.html#l00162">AST_RTP_GLUE_RESULT_REMOTE</a>, <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l02206">ast_rtp_instance_get_glue()</a>, <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html#l00070">rtp_glue_data::audio</a>, <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html#l00069">rtp_glue_data::cb</a>, <a class="el" href="../../d5/dde/rtp__engine_8h_source.html#l00729">ast_rtp_glue::get_rtp_info</a>, <a class="el" href="../../d5/dde/rtp__engine_8h_source.html#l00741">ast_rtp_glue::get_vrtp_info</a>, <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html#l00058">rtp_glue_stream::instance</a>, <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html#l00060">rtp_glue_stream::result</a>, <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html#l00073">rtp_glue_data::result</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00109">type</a>, and <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html#l00071">rtp_glue_data::video</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html#l00632">native_rtp_bridge_compatible_check()</a>, <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html#l00289">native_rtp_bridge_start()</a>, and <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html#l00257">rtp_glue_get_current_combined_result()</a>.</p>
<div class="fragment"><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;{</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d8/dc9/structast__rtp__glue.html">ast_rtp_glue</a> *cb0;</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d8/dc9/structast__rtp__glue.html">ast_rtp_glue</a> *cb1;</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;   <span class="keyword">enum</span> <a class="code" href="../../d5/dde/rtp__engine_8h.html#a4f2fb6c08b3697d011cf613c8b68054c">ast_rtp_glue_result</a> combined_result;</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;   cb0 = <a class="code" href="../../d5/dde/rtp__engine_8h.html#ad8bdc0c51b9a04967d2b507e64d64d5b">ast_rtp_instance_get_glue</a>(<a class="code" href="../../d5/d7b/channel_8h.html#af5dee96d4dcc88a95fce391c22d4d21f">ast_channel_tech</a>(c0)-&gt;<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>);</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;   cb1 = <a class="code" href="../../d5/dde/rtp__engine_8h.html#ad8bdc0c51b9a04967d2b507e64d64d5b">ast_rtp_instance_get_glue</a>(<a class="code" href="../../d5/d7b/channel_8h.html#af5dee96d4dcc88a95fce391c22d4d21f">ast_channel_tech</a>(c1)-&gt;<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>);</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;   <span class="keywordflow">if</span> (!cb0 || !cb1) {</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;      <span class="comment">/* One or both channels doesn&#39;t have any RTP glue registered. */</span></div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;   }</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;   <span class="comment">/* The glue callbacks bump the RTP instance refcounts for us. */</span></div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;   glue0-&gt;<a class="code" href="../../dc/db1/structrtp__glue__data.html#ac60e72147b8f66ed402262b67f6dee4b">cb</a> = cb0;</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;   glue0-&gt;<a class="code" href="../../dc/db1/structrtp__glue__data.html#a325a7b6542ba7c103a7ded311a0ab44d">audio</a>.<a class="code" href="../../d8/d6b/structrtp__glue__stream.html#aa8ee7cf218c500340ec7cf2283b67504">result</a> = cb0-&gt;<a class="code" href="../../d8/dc9/structast__rtp__glue.html#a42454110450e5a6883707f9b4b685e8f">get_rtp_info</a>(c0, &amp;glue0-&gt;<a class="code" href="../../dc/db1/structrtp__glue__data.html#a325a7b6542ba7c103a7ded311a0ab44d">audio</a>.<a class="code" href="../../d8/d6b/structrtp__glue__stream.html#ab8379d828ec083fe0cdb16f540f67d1f">instance</a>);</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;   glue0-&gt;<a class="code" href="../../dc/db1/structrtp__glue__data.html#a49a570b04f7044ee37d2ef9b881f32d2">video</a>.<a class="code" href="../../d8/d6b/structrtp__glue__stream.html#aa8ee7cf218c500340ec7cf2283b67504">result</a> = cb0-&gt;<a class="code" href="../../d8/dc9/structast__rtp__glue.html#afc66a77fb119541a45aebe90c46db8a7">get_vrtp_info</a></div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;      ? cb0-&gt;<a class="code" href="../../d8/dc9/structast__rtp__glue.html#afc66a77fb119541a45aebe90c46db8a7">get_vrtp_info</a>(c0, &amp;glue0-&gt;<a class="code" href="../../dc/db1/structrtp__glue__data.html#a49a570b04f7044ee37d2ef9b881f32d2">video</a>.<a class="code" href="../../d8/d6b/structrtp__glue__stream.html#ab8379d828ec083fe0cdb16f540f67d1f">instance</a>) : <a class="code" href="../../d5/dde/rtp__engine_8h.html#a4f2fb6c08b3697d011cf613c8b68054ca6b70d26095905cd6bd5ddffc01d81843">AST_RTP_GLUE_RESULT_FORBID</a>;</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;   glue1-&gt;<a class="code" href="../../dc/db1/structrtp__glue__data.html#ac60e72147b8f66ed402262b67f6dee4b">cb</a> = cb1;</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;   glue1-&gt;<a class="code" href="../../dc/db1/structrtp__glue__data.html#a325a7b6542ba7c103a7ded311a0ab44d">audio</a>.<a class="code" href="../../d8/d6b/structrtp__glue__stream.html#aa8ee7cf218c500340ec7cf2283b67504">result</a> = cb1-&gt;<a class="code" href="../../d8/dc9/structast__rtp__glue.html#a42454110450e5a6883707f9b4b685e8f">get_rtp_info</a>(c1, &amp;glue1-&gt;<a class="code" href="../../dc/db1/structrtp__glue__data.html#a325a7b6542ba7c103a7ded311a0ab44d">audio</a>.<a class="code" href="../../d8/d6b/structrtp__glue__stream.html#ab8379d828ec083fe0cdb16f540f67d1f">instance</a>);</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;   glue1-&gt;<a class="code" href="../../dc/db1/structrtp__glue__data.html#a49a570b04f7044ee37d2ef9b881f32d2">video</a>.<a class="code" href="../../d8/d6b/structrtp__glue__stream.html#aa8ee7cf218c500340ec7cf2283b67504">result</a> = cb1-&gt;<a class="code" href="../../d8/dc9/structast__rtp__glue.html#afc66a77fb119541a45aebe90c46db8a7">get_vrtp_info</a></div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;      ? cb1-&gt;<a class="code" href="../../d8/dc9/structast__rtp__glue.html#afc66a77fb119541a45aebe90c46db8a7">get_vrtp_info</a>(c1, &amp;glue1-&gt;<a class="code" href="../../dc/db1/structrtp__glue__data.html#a49a570b04f7044ee37d2ef9b881f32d2">video</a>.<a class="code" href="../../d8/d6b/structrtp__glue__stream.html#ab8379d828ec083fe0cdb16f540f67d1f">instance</a>) : <a class="code" href="../../d5/dde/rtp__engine_8h.html#a4f2fb6c08b3697d011cf613c8b68054ca6b70d26095905cd6bd5ddffc01d81843">AST_RTP_GLUE_RESULT_FORBID</a>;</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;   <span class="comment">/*</span></div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;<span class="comment">    * Now determine the combined glue result.</span></div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;   <span class="comment">/* Apply any limitations on direct media bridging that may be present */</span></div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;   <span class="keywordflow">if</span> (glue0-&gt;<a class="code" href="../../dc/db1/structrtp__glue__data.html#a325a7b6542ba7c103a7ded311a0ab44d">audio</a>.<a class="code" href="../../d8/d6b/structrtp__glue__stream.html#aa8ee7cf218c500340ec7cf2283b67504">result</a> == glue1-&gt;<a class="code" href="../../dc/db1/structrtp__glue__data.html#a325a7b6542ba7c103a7ded311a0ab44d">audio</a>.<a class="code" href="../../d8/d6b/structrtp__glue__stream.html#aa8ee7cf218c500340ec7cf2283b67504">result</a> &amp;&amp; glue1-&gt;<a class="code" href="../../dc/db1/structrtp__glue__data.html#a325a7b6542ba7c103a7ded311a0ab44d">audio</a>.<a class="code" href="../../d8/d6b/structrtp__glue__stream.html#aa8ee7cf218c500340ec7cf2283b67504">result</a> == <a class="code" href="../../d5/dde/rtp__engine_8h.html#a4f2fb6c08b3697d011cf613c8b68054ca08fec5e751b8194dd415a96306f16ff2">AST_RTP_GLUE_RESULT_REMOTE</a>) {</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;      <span class="keywordflow">if</span> (glue0-&gt;<a class="code" href="../../dc/db1/structrtp__glue__data.html#ac60e72147b8f66ed402262b67f6dee4b">cb</a>-&gt;<a class="code" href="../../d8/dc9/structast__rtp__glue.html#abaded3ee6df7c686a10f3f79de1614a8">allow_rtp_remote</a> &amp;&amp; !glue0-&gt;<a class="code" href="../../dc/db1/structrtp__glue__data.html#ac60e72147b8f66ed402262b67f6dee4b">cb</a>-&gt;<a class="code" href="../../d8/dc9/structast__rtp__glue.html#abaded3ee6df7c686a10f3f79de1614a8">allow_rtp_remote</a>(c0, glue1-&gt;<a class="code" href="../../dc/db1/structrtp__glue__data.html#a325a7b6542ba7c103a7ded311a0ab44d">audio</a>.<a class="code" href="../../d8/d6b/structrtp__glue__stream.html#ab8379d828ec083fe0cdb16f540f67d1f">instance</a>)) {</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;         <span class="comment">/* If the allow_rtp_remote indicates that remote isn&#39;t allowed, revert to local bridge */</span></div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;         glue0-&gt;<a class="code" href="../../dc/db1/structrtp__glue__data.html#a325a7b6542ba7c103a7ded311a0ab44d">audio</a>.<a class="code" href="../../d8/d6b/structrtp__glue__stream.html#aa8ee7cf218c500340ec7cf2283b67504">result</a> = glue1-&gt;<a class="code" href="../../dc/db1/structrtp__glue__data.html#a325a7b6542ba7c103a7ded311a0ab44d">audio</a>.<a class="code" href="../../d8/d6b/structrtp__glue__stream.html#aa8ee7cf218c500340ec7cf2283b67504">result</a> = <a class="code" href="../../d5/dde/rtp__engine_8h.html#a4f2fb6c08b3697d011cf613c8b68054ca06df52d7b998aec9a879a1a53624c5e8">AST_RTP_GLUE_RESULT_LOCAL</a>;</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (glue1-&gt;<a class="code" href="../../dc/db1/structrtp__glue__data.html#ac60e72147b8f66ed402262b67f6dee4b">cb</a>-&gt;<a class="code" href="../../d8/dc9/structast__rtp__glue.html#abaded3ee6df7c686a10f3f79de1614a8">allow_rtp_remote</a> &amp;&amp; !glue1-&gt;<a class="code" href="../../dc/db1/structrtp__glue__data.html#ac60e72147b8f66ed402262b67f6dee4b">cb</a>-&gt;<a class="code" href="../../d8/dc9/structast__rtp__glue.html#abaded3ee6df7c686a10f3f79de1614a8">allow_rtp_remote</a>(c1, glue0-&gt;<a class="code" href="../../dc/db1/structrtp__glue__data.html#a325a7b6542ba7c103a7ded311a0ab44d">audio</a>.<a class="code" href="../../d8/d6b/structrtp__glue__stream.html#ab8379d828ec083fe0cdb16f540f67d1f">instance</a>)) {</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;         glue0-&gt;<a class="code" href="../../dc/db1/structrtp__glue__data.html#a325a7b6542ba7c103a7ded311a0ab44d">audio</a>.<a class="code" href="../../d8/d6b/structrtp__glue__stream.html#aa8ee7cf218c500340ec7cf2283b67504">result</a> = glue1-&gt;<a class="code" href="../../dc/db1/structrtp__glue__data.html#a325a7b6542ba7c103a7ded311a0ab44d">audio</a>.<a class="code" href="../../d8/d6b/structrtp__glue__stream.html#aa8ee7cf218c500340ec7cf2283b67504">result</a> = <a class="code" href="../../d5/dde/rtp__engine_8h.html#a4f2fb6c08b3697d011cf613c8b68054ca06df52d7b998aec9a879a1a53624c5e8">AST_RTP_GLUE_RESULT_LOCAL</a>;</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;      }</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;   }</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;   <span class="keywordflow">if</span> (glue0-&gt;<a class="code" href="../../dc/db1/structrtp__glue__data.html#a49a570b04f7044ee37d2ef9b881f32d2">video</a>.<a class="code" href="../../d8/d6b/structrtp__glue__stream.html#aa8ee7cf218c500340ec7cf2283b67504">result</a> == glue1-&gt;<a class="code" href="../../dc/db1/structrtp__glue__data.html#a49a570b04f7044ee37d2ef9b881f32d2">video</a>.<a class="code" href="../../d8/d6b/structrtp__glue__stream.html#aa8ee7cf218c500340ec7cf2283b67504">result</a> &amp;&amp; glue1-&gt;<a class="code" href="../../dc/db1/structrtp__glue__data.html#a49a570b04f7044ee37d2ef9b881f32d2">video</a>.<a class="code" href="../../d8/d6b/structrtp__glue__stream.html#aa8ee7cf218c500340ec7cf2283b67504">result</a> == <a class="code" href="../../d5/dde/rtp__engine_8h.html#a4f2fb6c08b3697d011cf613c8b68054ca08fec5e751b8194dd415a96306f16ff2">AST_RTP_GLUE_RESULT_REMOTE</a>) {</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;      <span class="keywordflow">if</span> (glue0-&gt;<a class="code" href="../../dc/db1/structrtp__glue__data.html#ac60e72147b8f66ed402262b67f6dee4b">cb</a>-&gt;<a class="code" href="../../d8/dc9/structast__rtp__glue.html#a09bfdfe933a215942c939a04e580f1bd">allow_vrtp_remote</a> &amp;&amp; !glue0-&gt;<a class="code" href="../../dc/db1/structrtp__glue__data.html#ac60e72147b8f66ed402262b67f6dee4b">cb</a>-&gt;<a class="code" href="../../d8/dc9/structast__rtp__glue.html#a09bfdfe933a215942c939a04e580f1bd">allow_vrtp_remote</a>(c0, glue1-&gt;<a class="code" href="../../dc/db1/structrtp__glue__data.html#a49a570b04f7044ee37d2ef9b881f32d2">video</a>.<a class="code" href="../../d8/d6b/structrtp__glue__stream.html#ab8379d828ec083fe0cdb16f540f67d1f">instance</a>)) {</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;         <span class="comment">/* If the allow_vrtp_remote indicates that remote isn&#39;t allowed, revert to local bridge */</span></div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;         glue0-&gt;<a class="code" href="../../dc/db1/structrtp__glue__data.html#a49a570b04f7044ee37d2ef9b881f32d2">video</a>.<a class="code" href="../../d8/d6b/structrtp__glue__stream.html#aa8ee7cf218c500340ec7cf2283b67504">result</a> = glue1-&gt;<a class="code" href="../../dc/db1/structrtp__glue__data.html#a49a570b04f7044ee37d2ef9b881f32d2">video</a>.<a class="code" href="../../d8/d6b/structrtp__glue__stream.html#aa8ee7cf218c500340ec7cf2283b67504">result</a> = <a class="code" href="../../d5/dde/rtp__engine_8h.html#a4f2fb6c08b3697d011cf613c8b68054ca06df52d7b998aec9a879a1a53624c5e8">AST_RTP_GLUE_RESULT_LOCAL</a>;</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (glue1-&gt;<a class="code" href="../../dc/db1/structrtp__glue__data.html#ac60e72147b8f66ed402262b67f6dee4b">cb</a>-&gt;<a class="code" href="../../d8/dc9/structast__rtp__glue.html#a09bfdfe933a215942c939a04e580f1bd">allow_vrtp_remote</a> &amp;&amp; !glue1-&gt;<a class="code" href="../../dc/db1/structrtp__glue__data.html#ac60e72147b8f66ed402262b67f6dee4b">cb</a>-&gt;<a class="code" href="../../d8/dc9/structast__rtp__glue.html#a09bfdfe933a215942c939a04e580f1bd">allow_vrtp_remote</a>(c1, glue0-&gt;<a class="code" href="../../dc/db1/structrtp__glue__data.html#a49a570b04f7044ee37d2ef9b881f32d2">video</a>.<a class="code" href="../../d8/d6b/structrtp__glue__stream.html#ab8379d828ec083fe0cdb16f540f67d1f">instance</a>)) {</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;         glue0-&gt;<a class="code" href="../../dc/db1/structrtp__glue__data.html#a49a570b04f7044ee37d2ef9b881f32d2">video</a>.<a class="code" href="../../d8/d6b/structrtp__glue__stream.html#aa8ee7cf218c500340ec7cf2283b67504">result</a> = glue1-&gt;<a class="code" href="../../dc/db1/structrtp__glue__data.html#a49a570b04f7044ee37d2ef9b881f32d2">video</a>.<a class="code" href="../../d8/d6b/structrtp__glue__stream.html#aa8ee7cf218c500340ec7cf2283b67504">result</a> = <a class="code" href="../../d5/dde/rtp__engine_8h.html#a4f2fb6c08b3697d011cf613c8b68054ca06df52d7b998aec9a879a1a53624c5e8">AST_RTP_GLUE_RESULT_LOCAL</a>;</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;      }</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;   }</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;   <span class="comment">/* If we are carrying video, and both sides are not going to remotely bridge... fail the native bridge */</span></div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;   <span class="keywordflow">if</span> (glue0-&gt;<a class="code" href="../../dc/db1/structrtp__glue__data.html#a49a570b04f7044ee37d2ef9b881f32d2">video</a>.<a class="code" href="../../d8/d6b/structrtp__glue__stream.html#aa8ee7cf218c500340ec7cf2283b67504">result</a> != <a class="code" href="../../d5/dde/rtp__engine_8h.html#a4f2fb6c08b3697d011cf613c8b68054ca6b70d26095905cd6bd5ddffc01d81843">AST_RTP_GLUE_RESULT_FORBID</a></div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;      &amp;&amp; (glue0-&gt;<a class="code" href="../../dc/db1/structrtp__glue__data.html#a325a7b6542ba7c103a7ded311a0ab44d">audio</a>.<a class="code" href="../../d8/d6b/structrtp__glue__stream.html#aa8ee7cf218c500340ec7cf2283b67504">result</a> != <a class="code" href="../../d5/dde/rtp__engine_8h.html#a4f2fb6c08b3697d011cf613c8b68054ca08fec5e751b8194dd415a96306f16ff2">AST_RTP_GLUE_RESULT_REMOTE</a></div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;         || glue0-&gt;<a class="code" href="../../dc/db1/structrtp__glue__data.html#a49a570b04f7044ee37d2ef9b881f32d2">video</a>.<a class="code" href="../../d8/d6b/structrtp__glue__stream.html#aa8ee7cf218c500340ec7cf2283b67504">result</a> != <a class="code" href="../../d5/dde/rtp__engine_8h.html#a4f2fb6c08b3697d011cf613c8b68054ca08fec5e751b8194dd415a96306f16ff2">AST_RTP_GLUE_RESULT_REMOTE</a>)) {</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;      glue0-&gt;<a class="code" href="../../dc/db1/structrtp__glue__data.html#a325a7b6542ba7c103a7ded311a0ab44d">audio</a>.<a class="code" href="../../d8/d6b/structrtp__glue__stream.html#aa8ee7cf218c500340ec7cf2283b67504">result</a> = <a class="code" href="../../d5/dde/rtp__engine_8h.html#a4f2fb6c08b3697d011cf613c8b68054ca6b70d26095905cd6bd5ddffc01d81843">AST_RTP_GLUE_RESULT_FORBID</a>;</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;   }</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;   <span class="keywordflow">if</span> (glue1-&gt;<a class="code" href="../../dc/db1/structrtp__glue__data.html#a49a570b04f7044ee37d2ef9b881f32d2">video</a>.<a class="code" href="../../d8/d6b/structrtp__glue__stream.html#aa8ee7cf218c500340ec7cf2283b67504">result</a> != <a class="code" href="../../d5/dde/rtp__engine_8h.html#a4f2fb6c08b3697d011cf613c8b68054ca6b70d26095905cd6bd5ddffc01d81843">AST_RTP_GLUE_RESULT_FORBID</a></div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;      &amp;&amp; (glue1-&gt;<a class="code" href="../../dc/db1/structrtp__glue__data.html#a325a7b6542ba7c103a7ded311a0ab44d">audio</a>.<a class="code" href="../../d8/d6b/structrtp__glue__stream.html#aa8ee7cf218c500340ec7cf2283b67504">result</a> != <a class="code" href="../../d5/dde/rtp__engine_8h.html#a4f2fb6c08b3697d011cf613c8b68054ca08fec5e751b8194dd415a96306f16ff2">AST_RTP_GLUE_RESULT_REMOTE</a></div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;         || glue1-&gt;<a class="code" href="../../dc/db1/structrtp__glue__data.html#a49a570b04f7044ee37d2ef9b881f32d2">video</a>.<a class="code" href="../../d8/d6b/structrtp__glue__stream.html#aa8ee7cf218c500340ec7cf2283b67504">result</a> != <a class="code" href="../../d5/dde/rtp__engine_8h.html#a4f2fb6c08b3697d011cf613c8b68054ca08fec5e751b8194dd415a96306f16ff2">AST_RTP_GLUE_RESULT_REMOTE</a>)) {</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;      glue1-&gt;<a class="code" href="../../dc/db1/structrtp__glue__data.html#a325a7b6542ba7c103a7ded311a0ab44d">audio</a>.<a class="code" href="../../d8/d6b/structrtp__glue__stream.html#aa8ee7cf218c500340ec7cf2283b67504">result</a> = <a class="code" href="../../d5/dde/rtp__engine_8h.html#a4f2fb6c08b3697d011cf613c8b68054ca6b70d26095905cd6bd5ddffc01d81843">AST_RTP_GLUE_RESULT_FORBID</a>;</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;   }</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;   <span class="comment">/* The order of preference is: forbid, local, and remote. */</span></div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;   <span class="keywordflow">if</span> (glue0-&gt;<a class="code" href="../../dc/db1/structrtp__glue__data.html#a325a7b6542ba7c103a7ded311a0ab44d">audio</a>.<a class="code" href="../../d8/d6b/structrtp__glue__stream.html#aa8ee7cf218c500340ec7cf2283b67504">result</a> == <a class="code" href="../../d5/dde/rtp__engine_8h.html#a4f2fb6c08b3697d011cf613c8b68054ca6b70d26095905cd6bd5ddffc01d81843">AST_RTP_GLUE_RESULT_FORBID</a></div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;      || glue1-&gt;<a class="code" href="../../dc/db1/structrtp__glue__data.html#a325a7b6542ba7c103a7ded311a0ab44d">audio</a>.<a class="code" href="../../d8/d6b/structrtp__glue__stream.html#aa8ee7cf218c500340ec7cf2283b67504">result</a> == <a class="code" href="../../d5/dde/rtp__engine_8h.html#a4f2fb6c08b3697d011cf613c8b68054ca6b70d26095905cd6bd5ddffc01d81843">AST_RTP_GLUE_RESULT_FORBID</a>) {</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;      <span class="comment">/* If any sort of bridge is forbidden just completely bail out and go back to generic bridging */</span></div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;      combined_result = <a class="code" href="../../d5/dde/rtp__engine_8h.html#a4f2fb6c08b3697d011cf613c8b68054ca6b70d26095905cd6bd5ddffc01d81843">AST_RTP_GLUE_RESULT_FORBID</a>;</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (glue0-&gt;<a class="code" href="../../dc/db1/structrtp__glue__data.html#a325a7b6542ba7c103a7ded311a0ab44d">audio</a>.<a class="code" href="../../d8/d6b/structrtp__glue__stream.html#aa8ee7cf218c500340ec7cf2283b67504">result</a> == <a class="code" href="../../d5/dde/rtp__engine_8h.html#a4f2fb6c08b3697d011cf613c8b68054ca06df52d7b998aec9a879a1a53624c5e8">AST_RTP_GLUE_RESULT_LOCAL</a></div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;      || glue1-&gt;<a class="code" href="../../dc/db1/structrtp__glue__data.html#a325a7b6542ba7c103a7ded311a0ab44d">audio</a>.<a class="code" href="../../d8/d6b/structrtp__glue__stream.html#aa8ee7cf218c500340ec7cf2283b67504">result</a> == <a class="code" href="../../d5/dde/rtp__engine_8h.html#a4f2fb6c08b3697d011cf613c8b68054ca06df52d7b998aec9a879a1a53624c5e8">AST_RTP_GLUE_RESULT_LOCAL</a>) {</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;      combined_result = <a class="code" href="../../d5/dde/rtp__engine_8h.html#a4f2fb6c08b3697d011cf613c8b68054ca06df52d7b998aec9a879a1a53624c5e8">AST_RTP_GLUE_RESULT_LOCAL</a>;</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;      combined_result = <a class="code" href="../../d5/dde/rtp__engine_8h.html#a4f2fb6c08b3697d011cf613c8b68054ca08fec5e751b8194dd415a96306f16ff2">AST_RTP_GLUE_RESULT_REMOTE</a>;</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;   }</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;   glue0-&gt;<a class="code" href="../../dc/db1/structrtp__glue__data.html#aa8ee7cf218c500340ec7cf2283b67504">result</a> = combined_result;</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;   glue1-&gt;<a class="code" href="../../dc/db1/structrtp__glue__data.html#aa8ee7cf218c500340ec7cf2283b67504">result</a> = combined_result;</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;}</div><div class="ttc" id="chan__ooh323_8c_html_a4d63fdfe5451ec2248c16a2739190c56"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a></div><div class="ttdeci">static const char type[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00109">chan_ooh323.c:109</a></div></div>
<div class="ttc" id="structast__rtp__glue_html"><div class="ttname"><a href="../../d8/dc9/structast__rtp__glue.html">ast_rtp_glue</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/rtp__engine_8h_source.html#l00720">rtp_engine.h:720</a></div></div>
<div class="ttc" id="rtp__engine_8h_html_a4f2fb6c08b3697d011cf613c8b68054ca08fec5e751b8194dd415a96306f16ff2"><div class="ttname"><a href="../../d5/dde/rtp__engine_8h.html#a4f2fb6c08b3697d011cf613c8b68054ca08fec5e751b8194dd415a96306f16ff2">AST_RTP_GLUE_RESULT_REMOTE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/rtp__engine_8h_source.html#l00162">rtp_engine.h:162</a></div></div>
<div class="ttc" id="structrtp__glue__data_html_ac60e72147b8f66ed402262b67f6dee4b"><div class="ttname"><a href="../../dc/db1/structrtp__glue__data.html#ac60e72147b8f66ed402262b67f6dee4b">rtp_glue_data::cb</a></div><div class="ttdeci">struct ast_rtp_glue * cb</div><div class="ttdoc">glue callbacks </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d27/bridge__native__rtp_8c_source.html#l00069">bridge_native_rtp.c:69</a></div></div>
<div class="ttc" id="structrtp__glue__data_html_a49a570b04f7044ee37d2ef9b881f32d2"><div class="ttname"><a href="../../dc/db1/structrtp__glue__data.html#a49a570b04f7044ee37d2ef9b881f32d2">rtp_glue_data::video</a></div><div class="ttdeci">struct rtp_glue_stream video</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d27/bridge__native__rtp_8c_source.html#l00071">bridge_native_rtp.c:71</a></div></div>
<div class="ttc" id="structast__rtp__glue_html_a09bfdfe933a215942c939a04e580f1bd"><div class="ttname"><a href="../../d8/dc9/structast__rtp__glue.html#a09bfdfe933a215942c939a04e580f1bd">ast_rtp_glue::allow_vrtp_remote</a></div><div class="ttdeci">int(* allow_vrtp_remote)(struct ast_channel *chan1, struct ast_rtp_instance *instance)</div><div class="ttdoc">Used to prevent two channels from remotely bridging video rtp if the channel tech has a reason for pr...</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/rtp__engine_8h_source.html#l00747">rtp_engine.h:747</a></div></div>
<div class="ttc" id="structast__rtp__glue_html_a42454110450e5a6883707f9b4b685e8f"><div class="ttname"><a href="../../d8/dc9/structast__rtp__glue.html#a42454110450e5a6883707f9b4b685e8f">ast_rtp_glue::get_rtp_info</a></div><div class="ttdeci">enum ast_rtp_glue_result(* get_rtp_info)(struct ast_channel *chan, struct ast_rtp_instance **instance)</div><div class="ttdoc">Callback for retrieving the RTP instance carrying audio. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/rtp__engine_8h_source.html#l00729">rtp_engine.h:729</a></div></div>
<div class="ttc" id="structrtp__glue__stream_html_ab8379d828ec083fe0cdb16f540f67d1f"><div class="ttname"><a href="../../d8/d6b/structrtp__glue__stream.html#ab8379d828ec083fe0cdb16f540f67d1f">rtp_glue_stream::instance</a></div><div class="ttdeci">struct ast_rtp_instance * instance</div><div class="ttdoc">RTP instance. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d27/bridge__native__rtp_8c_source.html#l00058">bridge_native_rtp.c:58</a></div></div>
<div class="ttc" id="structrtp__glue__data_html_aa8ee7cf218c500340ec7cf2283b67504"><div class="ttname"><a href="../../dc/db1/structrtp__glue__data.html#aa8ee7cf218c500340ec7cf2283b67504">rtp_glue_data::result</a></div><div class="ttdeci">enum ast_rtp_glue_result result</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d27/bridge__native__rtp_8c_source.html#l00073">bridge_native_rtp.c:73</a></div></div>
<div class="ttc" id="rtp__engine_8h_html_a4f2fb6c08b3697d011cf613c8b68054c"><div class="ttname"><a href="../../d5/dde/rtp__engine_8h.html#a4f2fb6c08b3697d011cf613c8b68054c">ast_rtp_glue_result</a></div><div class="ttdeci">ast_rtp_glue_result</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/rtp__engine_8h_source.html#l00158">rtp_engine.h:158</a></div></div>
<div class="ttc" id="rtp__engine_8h_html_a4f2fb6c08b3697d011cf613c8b68054ca6b70d26095905cd6bd5ddffc01d81843"><div class="ttname"><a href="../../d5/dde/rtp__engine_8h.html#a4f2fb6c08b3697d011cf613c8b68054ca6b70d26095905cd6bd5ddffc01d81843">AST_RTP_GLUE_RESULT_FORBID</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/rtp__engine_8h_source.html#l00160">rtp_engine.h:160</a></div></div>
<div class="ttc" id="rtp__engine_8h_html_a4f2fb6c08b3697d011cf613c8b68054ca06df52d7b998aec9a879a1a53624c5e8"><div class="ttname"><a href="../../d5/dde/rtp__engine_8h.html#a4f2fb6c08b3697d011cf613c8b68054ca06df52d7b998aec9a879a1a53624c5e8">AST_RTP_GLUE_RESULT_LOCAL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/rtp__engine_8h_source.html#l00164">rtp_engine.h:164</a></div></div>
<div class="ttc" id="structast__rtp__glue_html_abaded3ee6df7c686a10f3f79de1614a8"><div class="ttname"><a href="../../d8/dc9/structast__rtp__glue.html#abaded3ee6df7c686a10f3f79de1614a8">ast_rtp_glue::allow_rtp_remote</a></div><div class="ttdeci">int(* allow_rtp_remote)(struct ast_channel *chan1, struct ast_rtp_instance *instance)</div><div class="ttdoc">Used to prevent two channels from remotely bridging audio rtp if the channel tech has a reason for pr...</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/rtp__engine_8h_source.html#l00735">rtp_engine.h:735</a></div></div>
<div class="ttc" id="structrtp__glue__data_html_a325a7b6542ba7c103a7ded311a0ab44d"><div class="ttname"><a href="../../dc/db1/structrtp__glue__data.html#a325a7b6542ba7c103a7ded311a0ab44d">rtp_glue_data::audio</a></div><div class="ttdeci">struct rtp_glue_stream audio</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d27/bridge__native__rtp_8c_source.html#l00070">bridge_native_rtp.c:70</a></div></div>
<div class="ttc" id="structrtp__glue__stream_html_aa8ee7cf218c500340ec7cf2283b67504"><div class="ttname"><a href="../../d8/d6b/structrtp__glue__stream.html#aa8ee7cf218c500340ec7cf2283b67504">rtp_glue_stream::result</a></div><div class="ttdeci">enum ast_rtp_glue_result result</div><div class="ttdoc">glue result </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d27/bridge__native__rtp_8c_source.html#l00060">bridge_native_rtp.c:60</a></div></div>
<div class="ttc" id="structast__rtp__glue_html_afc66a77fb119541a45aebe90c46db8a7"><div class="ttname"><a href="../../d8/dc9/structast__rtp__glue.html#afc66a77fb119541a45aebe90c46db8a7">ast_rtp_glue::get_vrtp_info</a></div><div class="ttdeci">enum ast_rtp_glue_result(* get_vrtp_info)(struct ast_channel *chan, struct ast_rtp_instance **instance)</div><div class="ttdoc">Callback for retrieving the RTP instance carrying video. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/rtp__engine_8h_source.html#l00741">rtp_engine.h:741</a></div></div>
<div class="ttc" id="rtp__engine_8h_html_ad8bdc0c51b9a04967d2b507e64d64d5b"><div class="ttname"><a href="../../d5/dde/rtp__engine_8h.html#ad8bdc0c51b9a04967d2b507e64d64d5b">ast_rtp_instance_get_glue</a></div><div class="ttdeci">struct ast_rtp_glue * ast_rtp_instance_get_glue(const char *type)</div><div class="ttdoc">Get the RTP glue that binds a channel to the RTP engine. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/dbe/rtp__engine_8c_source.html#l02206">rtp_engine.c:2206</a></div></div>
<div class="ttc" id="channel_8h_html_af5dee96d4dcc88a95fce391c22d4d21f"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af5dee96d4dcc88a95fce391c22d4d21f">ast_channel_tech</a></div><div class="ttdeci">const struct ast_channel_tech * ast_channel_tech(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00769">channel_internal_api.c:769</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af01f7ed1abd11408a284211052e87295"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af01f7ed1abd11408a284211052e87295">&#9670;&nbsp;</a></span>rtp_glue_data_init()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void rtp_glue_data_init </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dc/db1/structrtp__glue__data.html">rtp_glue_data</a> *&#160;</td>
          <td class="paramname"><em>glue</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html#l00111">111</a> of file <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html">bridge_native_rtp.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/dde/rtp__engine_8h_source.html#l00160">AST_RTP_GLUE_RESULT_FORBID</a>, <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html#l00070">rtp_glue_data::audio</a>, <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html#l00069">rtp_glue_data::cb</a>, <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html#l00058">rtp_glue_stream::instance</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html#l00060">rtp_glue_stream::result</a>, <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html#l00073">rtp_glue_data::result</a>, and <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html#l00071">rtp_glue_data::video</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html#l00150">native_rtp_bridge_channel_data_alloc()</a>, <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html#l00632">native_rtp_bridge_compatible_check()</a>, <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html#l00130">rtp_glue_data_reset()</a>, and <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html#l00257">rtp_glue_get_current_combined_result()</a>.</p>
<div class="fragment"><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;{</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;   glue-&gt;<a class="code" href="../../dc/db1/structrtp__glue__data.html#ac60e72147b8f66ed402262b67f6dee4b">cb</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;   glue-&gt;<a class="code" href="../../dc/db1/structrtp__glue__data.html#a325a7b6542ba7c103a7ded311a0ab44d">audio</a>.<a class="code" href="../../d8/d6b/structrtp__glue__stream.html#ab8379d828ec083fe0cdb16f540f67d1f">instance</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;   glue-&gt;<a class="code" href="../../dc/db1/structrtp__glue__data.html#a325a7b6542ba7c103a7ded311a0ab44d">audio</a>.<a class="code" href="../../d8/d6b/structrtp__glue__stream.html#aa8ee7cf218c500340ec7cf2283b67504">result</a> = <a class="code" href="../../d5/dde/rtp__engine_8h.html#a4f2fb6c08b3697d011cf613c8b68054ca6b70d26095905cd6bd5ddffc01d81843">AST_RTP_GLUE_RESULT_FORBID</a>;</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;   glue-&gt;<a class="code" href="../../dc/db1/structrtp__glue__data.html#a49a570b04f7044ee37d2ef9b881f32d2">video</a>.<a class="code" href="../../d8/d6b/structrtp__glue__stream.html#ab8379d828ec083fe0cdb16f540f67d1f">instance</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;   glue-&gt;<a class="code" href="../../dc/db1/structrtp__glue__data.html#a49a570b04f7044ee37d2ef9b881f32d2">video</a>.<a class="code" href="../../d8/d6b/structrtp__glue__stream.html#aa8ee7cf218c500340ec7cf2283b67504">result</a> = <a class="code" href="../../d5/dde/rtp__engine_8h.html#a4f2fb6c08b3697d011cf613c8b68054ca6b70d26095905cd6bd5ddffc01d81843">AST_RTP_GLUE_RESULT_FORBID</a>;</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;   glue-&gt;<a class="code" href="../../dc/db1/structrtp__glue__data.html#aa8ee7cf218c500340ec7cf2283b67504">result</a> = <a class="code" href="../../d5/dde/rtp__engine_8h.html#a4f2fb6c08b3697d011cf613c8b68054ca6b70d26095905cd6bd5ddffc01d81843">AST_RTP_GLUE_RESULT_FORBID</a>;</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;}</div><div class="ttc" id="structrtp__glue__data_html_ac60e72147b8f66ed402262b67f6dee4b"><div class="ttname"><a href="../../dc/db1/structrtp__glue__data.html#ac60e72147b8f66ed402262b67f6dee4b">rtp_glue_data::cb</a></div><div class="ttdeci">struct ast_rtp_glue * cb</div><div class="ttdoc">glue callbacks </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d27/bridge__native__rtp_8c_source.html#l00069">bridge_native_rtp.c:69</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structrtp__glue__data_html_a49a570b04f7044ee37d2ef9b881f32d2"><div class="ttname"><a href="../../dc/db1/structrtp__glue__data.html#a49a570b04f7044ee37d2ef9b881f32d2">rtp_glue_data::video</a></div><div class="ttdeci">struct rtp_glue_stream video</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d27/bridge__native__rtp_8c_source.html#l00071">bridge_native_rtp.c:71</a></div></div>
<div class="ttc" id="structrtp__glue__stream_html_ab8379d828ec083fe0cdb16f540f67d1f"><div class="ttname"><a href="../../d8/d6b/structrtp__glue__stream.html#ab8379d828ec083fe0cdb16f540f67d1f">rtp_glue_stream::instance</a></div><div class="ttdeci">struct ast_rtp_instance * instance</div><div class="ttdoc">RTP instance. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d27/bridge__native__rtp_8c_source.html#l00058">bridge_native_rtp.c:58</a></div></div>
<div class="ttc" id="structrtp__glue__data_html_aa8ee7cf218c500340ec7cf2283b67504"><div class="ttname"><a href="../../dc/db1/structrtp__glue__data.html#aa8ee7cf218c500340ec7cf2283b67504">rtp_glue_data::result</a></div><div class="ttdeci">enum ast_rtp_glue_result result</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d27/bridge__native__rtp_8c_source.html#l00073">bridge_native_rtp.c:73</a></div></div>
<div class="ttc" id="rtp__engine_8h_html_a4f2fb6c08b3697d011cf613c8b68054ca6b70d26095905cd6bd5ddffc01d81843"><div class="ttname"><a href="../../d5/dde/rtp__engine_8h.html#a4f2fb6c08b3697d011cf613c8b68054ca6b70d26095905cd6bd5ddffc01d81843">AST_RTP_GLUE_RESULT_FORBID</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/rtp__engine_8h_source.html#l00160">rtp_engine.h:160</a></div></div>
<div class="ttc" id="structrtp__glue__data_html_a325a7b6542ba7c103a7ded311a0ab44d"><div class="ttname"><a href="../../dc/db1/structrtp__glue__data.html#a325a7b6542ba7c103a7ded311a0ab44d">rtp_glue_data::audio</a></div><div class="ttdeci">struct rtp_glue_stream audio</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d27/bridge__native__rtp_8c_source.html#l00070">bridge_native_rtp.c:70</a></div></div>
<div class="ttc" id="structrtp__glue__stream_html_aa8ee7cf218c500340ec7cf2283b67504"><div class="ttname"><a href="../../d8/d6b/structrtp__glue__stream.html#aa8ee7cf218c500340ec7cf2283b67504">rtp_glue_stream::result</a></div><div class="ttdeci">enum ast_rtp_glue_result result</div><div class="ttdoc">glue result </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d27/bridge__native__rtp_8c_source.html#l00060">bridge_native_rtp.c:60</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab64cb05ff2283dba3ba9ae92789df264"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab64cb05ff2283dba3ba9ae92789df264">&#9670;&nbsp;</a></span>rtp_glue_data_reset()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void rtp_glue_data_reset </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dc/db1/structrtp__glue__data.html">rtp_glue_data</a> *&#160;</td>
          <td class="paramname"><em>glue</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html#l00130">130</a> of file <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html">bridge_native_rtp.c</a>.</p>

<p class="reference">References <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html#l00121">rtp_glue_data_destroy()</a>, and <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html#l00111">rtp_glue_data_init()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html#l00136">native_rtp_bridge_channel_data_free()</a>, and <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html#l00435">native_rtp_bridge_stop()</a>.</p>
<div class="fragment"><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;{</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;   <a class="code" href="../../d1/d27/bridge__native__rtp_8c.html#aecf1630493bccc42337862af88d6e164">rtp_glue_data_destroy</a>(glue);</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;   <a class="code" href="../../d1/d27/bridge__native__rtp_8c.html#af01f7ed1abd11408a284211052e87295">rtp_glue_data_init</a>(glue);</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;}</div><div class="ttc" id="bridge__native__rtp_8c_html_aecf1630493bccc42337862af88d6e164"><div class="ttname"><a href="../../d1/d27/bridge__native__rtp_8c.html#aecf1630493bccc42337862af88d6e164">rtp_glue_data_destroy</a></div><div class="ttdeci">static void rtp_glue_data_destroy(struct rtp_glue_data *glue)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d27/bridge__native__rtp_8c_source.html#l00121">bridge_native_rtp.c:121</a></div></div>
<div class="ttc" id="bridge__native__rtp_8c_html_af01f7ed1abd11408a284211052e87295"><div class="ttname"><a href="../../d1/d27/bridge__native__rtp_8c.html#af01f7ed1abd11408a284211052e87295">rtp_glue_data_init</a></div><div class="ttdeci">static void rtp_glue_data_init(struct rtp_glue_data *glue)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d27/bridge__native__rtp_8c_source.html#l00111">bridge_native_rtp.c:111</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a67f2d26394b6b0c6c89e5b53a8a0d27f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a67f2d26394b6b0c6c89e5b53a8a0d27f">&#9670;&nbsp;</a></span>rtp_glue_get_current_combined_result()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static enum <a class="el" href="../../d5/dde/rtp__engine_8h.html#a4f2fb6c08b3697d011cf613c8b68054c">ast_rtp_glue_result</a> rtp_glue_get_current_combined_result </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>c0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>c1</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html#l00257">257</a> of file <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html">bridge_native_rtp.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/dde/rtp__engine_8h_source.html#l00160">AST_RTP_GLUE_RESULT_FORBID</a>, <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html#l00073">rtp_glue_data::result</a>, <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html#l00121">rtp_glue_data_destroy()</a>, <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html#l00168">rtp_glue_data_get()</a>, and <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html#l00111">rtp_glue_data_init()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html#l00435">native_rtp_bridge_stop()</a>.</p>
<div class="fragment"><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;{</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/db1/structrtp__glue__data.html">rtp_glue_data</a> glue_a;</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/db1/structrtp__glue__data.html">rtp_glue_data</a> glue_b;</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/db1/structrtp__glue__data.html">rtp_glue_data</a> *glue0;</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/db1/structrtp__glue__data.html">rtp_glue_data</a> *glue1;</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;   <span class="keyword">enum</span> <a class="code" href="../../d5/dde/rtp__engine_8h.html#a4f2fb6c08b3697d011cf613c8b68054c">ast_rtp_glue_result</a> combined_result;</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;   <a class="code" href="../../d1/d27/bridge__native__rtp_8c.html#af01f7ed1abd11408a284211052e87295">rtp_glue_data_init</a>(&amp;glue_a);</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;   glue0 = &amp;glue_a;</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;   <a class="code" href="../../d1/d27/bridge__native__rtp_8c.html#af01f7ed1abd11408a284211052e87295">rtp_glue_data_init</a>(&amp;glue_b);</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;   glue1 = &amp;glue_b;</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d1/d27/bridge__native__rtp_8c.html#aa40e079d059392c8d71d8d3ad48e8413">rtp_glue_data_get</a>(c0, glue0, c1, glue1)) {</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d5/dde/rtp__engine_8h.html#a4f2fb6c08b3697d011cf613c8b68054ca6b70d26095905cd6bd5ddffc01d81843">AST_RTP_GLUE_RESULT_FORBID</a>;</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;   }</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;   combined_result = glue0-&gt;<a class="code" href="../../dc/db1/structrtp__glue__data.html#aa8ee7cf218c500340ec7cf2283b67504">result</a>;</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;   <a class="code" href="../../d1/d27/bridge__native__rtp_8c.html#aecf1630493bccc42337862af88d6e164">rtp_glue_data_destroy</a>(glue0);</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;   <a class="code" href="../../d1/d27/bridge__native__rtp_8c.html#aecf1630493bccc42337862af88d6e164">rtp_glue_data_destroy</a>(glue1);</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;   <span class="keywordflow">return</span> combined_result;</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;}</div><div class="ttc" id="bridge__native__rtp_8c_html_aecf1630493bccc42337862af88d6e164"><div class="ttname"><a href="../../d1/d27/bridge__native__rtp_8c.html#aecf1630493bccc42337862af88d6e164">rtp_glue_data_destroy</a></div><div class="ttdeci">static void rtp_glue_data_destroy(struct rtp_glue_data *glue)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d27/bridge__native__rtp_8c_source.html#l00121">bridge_native_rtp.c:121</a></div></div>
<div class="ttc" id="bridge__native__rtp_8c_html_aa40e079d059392c8d71d8d3ad48e8413"><div class="ttname"><a href="../../d1/d27/bridge__native__rtp_8c.html#aa40e079d059392c8d71d8d3ad48e8413">rtp_glue_data_get</a></div><div class="ttdeci">static int rtp_glue_data_get(struct ast_channel *c0, struct rtp_glue_data *glue0, struct ast_channel *c1, struct rtp_glue_data *glue1)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d27/bridge__native__rtp_8c_source.html#l00168">bridge_native_rtp.c:168</a></div></div>
<div class="ttc" id="bridge__native__rtp_8c_html_af01f7ed1abd11408a284211052e87295"><div class="ttname"><a href="../../d1/d27/bridge__native__rtp_8c.html#af01f7ed1abd11408a284211052e87295">rtp_glue_data_init</a></div><div class="ttdeci">static void rtp_glue_data_init(struct rtp_glue_data *glue)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d27/bridge__native__rtp_8c_source.html#l00111">bridge_native_rtp.c:111</a></div></div>
<div class="ttc" id="structrtp__glue__data_html_aa8ee7cf218c500340ec7cf2283b67504"><div class="ttname"><a href="../../dc/db1/structrtp__glue__data.html#aa8ee7cf218c500340ec7cf2283b67504">rtp_glue_data::result</a></div><div class="ttdeci">enum ast_rtp_glue_result result</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d27/bridge__native__rtp_8c_source.html#l00073">bridge_native_rtp.c:73</a></div></div>
<div class="ttc" id="rtp__engine_8h_html_a4f2fb6c08b3697d011cf613c8b68054c"><div class="ttname"><a href="../../d5/dde/rtp__engine_8h.html#a4f2fb6c08b3697d011cf613c8b68054c">ast_rtp_glue_result</a></div><div class="ttdeci">ast_rtp_glue_result</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/rtp__engine_8h_source.html#l00158">rtp_engine.h:158</a></div></div>
<div class="ttc" id="rtp__engine_8h_html_a4f2fb6c08b3697d011cf613c8b68054ca6b70d26095905cd6bd5ddffc01d81843"><div class="ttname"><a href="../../d5/dde/rtp__engine_8h.html#a4f2fb6c08b3697d011cf613c8b68054ca6b70d26095905cd6bd5ddffc01d81843">AST_RTP_GLUE_RESULT_FORBID</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/rtp__engine_8h_source.html#l00160">rtp_engine.h:160</a></div></div>
<div class="ttc" id="structrtp__glue__data_html"><div class="ttname"><a href="../../dc/db1/structrtp__glue__data.html">rtp_glue_data</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d27/bridge__native__rtp_8c_source.html#l00063">bridge_native_rtp.c:63</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad09fa931f468002152a3cc2d5ce25eae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad09fa931f468002152a3cc2d5ce25eae">&#9670;&nbsp;</a></span>unload_module()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int unload_module </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html#l01098">1098</a> of file <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html">bridge_native_rtp.c</a>.</p>

<p class="reference">References <a class="el" href="../../d0/d95/bridge_8c_source.html#l00265">ast_bridge_technology_unregister()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html#l01104">load_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;{</div><div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;   <a class="code" href="../../d0/d3b/bridge__technology_8h.html#ac74018e91ff4fc7374f6137dd76c40f5">ast_bridge_technology_unregister</a>(&amp;<a class="code" href="../../d1/d27/bridge__native__rtp_8c.html#a6ea330d0c88cf1eb8ee8504dbf3c43b5">native_rtp_bridge</a>);</div><div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;}</div><div class="ttc" id="bridge__native__rtp_8c_html_a6ea330d0c88cf1eb8ee8504dbf3c43b5"><div class="ttname"><a href="../../d1/d27/bridge__native__rtp_8c.html#a6ea330d0c88cf1eb8ee8504dbf3c43b5">native_rtp_bridge</a></div><div class="ttdeci">static struct ast_bridge_technology native_rtp_bridge</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d27/bridge__native__rtp_8c_source.html#l00098">bridge_native_rtp.c:98</a></div></div>
<div class="ttc" id="bridge__technology_8h_html_ac74018e91ff4fc7374f6137dd76c40f5"><div class="ttname"><a href="../../d0/d3b/bridge__technology_8h.html#ac74018e91ff4fc7374f6137dd76c40f5">ast_bridge_technology_unregister</a></div><div class="ttdeci">int ast_bridge_technology_unregister(struct ast_bridge_technology *technology)</div><div class="ttdoc">Unregister a bridge technology from use. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l00265">bridge.c:265</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ab22f32016155f7f403e7178767163d7d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab22f32016155f7f403e7178767163d7d">&#9670;&nbsp;</a></span>__mod_info</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a> __mod_info = { .<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a> = <a class="el" href="../../da/ddd/named__acl_8c.html#aec23fc5034c3bb08140fc021f4955877">AST_MODULE</a>, .flags = <a class="el" href="../../d5/d16/module_8h.html#a155a0df9c59e04e305d4a2fa3e35f843a12c3f60dd7655dfa8d4430cbf04b1223">AST_MODFLAG_LOAD_ORDER</a> , .description = &quot;Native <a class="el" href="../../d1/d94/sip_8h.html#ad5ec12ad08cacd2598d873052c72857a">RTP</a> bridging module&quot; , .key = &quot;This paragraph is copyright (<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>) 2006 by Digium, Inc. \In <a class="el" href="../../d5/d14/voicin_8c.html#aed7ca058008dc3e5ee131e575abed285">order</a> for your module to load, it must return this \key via <a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a> function called \&quot;key\&quot;. Any code which \includes this paragraph must <a class="el" href="../../dd/d7c/eagi__proxy_8c.html#a39730e90126aad69cfc9ca4d6fcdb3a6">be</a> licensed under the GNU \General Public License <a class="el" href="../../da/d7c/utils_2frame_8h.html#a56abfaab87c46691c1ef3ad0df23e864">version</a> 2 or later (at your \option). In addition to Digium's general reservations \of rights, Digium expressly reserves the right to \allow other parties to license this paragraph under \different terms. Any use of Digium, Inc. trademarks or \logos (including \&quot;Asterisk\&quot; or \&quot;Digium\&quot;) without \express written <a class="el" href="../../d4/d4c/structpermission.html">permission</a> of Digium, Inc. is prohibited.\n&quot; , .buildopt_sum = &quot;30ef0c93b36035ec78c9cfd712d36d9b&quot; , .load = load_module, .unload = unload_module, .load_pri = AST_MODPRI_DEFAULT, .support_level = AST_MODULE_SUPPORT_CORE, }</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html#l01113">1113</a> of file <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html">bridge_native_rtp.c</a>.</p>

</div>
</div>
<a id="ad60e83b9aa660040fed4d5377966cc21"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad60e83b9aa660040fed4d5377966cc21">&#9670;&nbsp;</a></span>ast_module_info</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const struct <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a>* <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a> = &amp;<a class="el" href="../../d6/d7a/test__xml__escape_8c.html#ab22f32016155f7f403e7178767163d7d">__mod_info</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html#l01113">1113</a> of file <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html">bridge_native_rtp.c</a>.</p>

</div>
</div>
<a id="a6ea330d0c88cf1eb8ee8504dbf3c43b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6ea330d0c88cf1eb8ee8504dbf3c43b5">&#9670;&nbsp;</a></span>native_rtp_bridge</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d1/d04/structast__bridge__technology.html">ast_bridge_technology</a> native_rtp_bridge</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html#l00098">98</a> of file <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html">bridge_native_rtp.c</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Aug 8 2021 19:44:54 for Asterisk - The Open Source Telephony Project by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
