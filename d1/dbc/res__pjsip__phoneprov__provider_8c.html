<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Asterisk - The Open Source Telephony Project: res_pjsip_phoneprov_provider.c File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Asterisk - The Open Source Telephony Project
   &#160;<span id="projectnumber">18.5.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_7b47cca4d318623bb4270ab1fb592ef5.html">res</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">res_pjsip_phoneprov_provider.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>PJSIP Phoneprov Configuration Provider.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="../../db/db2/asterisk_8h_source.html">asterisk.h</a>&quot;</code><br />
<code>#include &lt;pjsip.h&gt;</code><br />
<code>#include &quot;<a class="el" href="../../d8/d8c/res__pjsip_8h_source.html">asterisk/res_pjsip.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d5/d16/module_8h_source.html">asterisk/module.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d8/d25/sorcery_8h_source.html">asterisk/sorcery.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d7/d50/phoneprov_8h_source.html">asterisk/phoneprov.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d7/d5c/res__pjsip__private_8h_source.html">res_pjsip/include/res_pjsip_private.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for res_pjsip_phoneprov_provider.c:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/d5b/res__pjsip__phoneprov__provider_8c__incl.png" border="0" usemap="#res__pjsip__phoneprov__provider_8c" alt=""/></div>
<map name="res__pjsip__phoneprov__provider_8c" id="res__pjsip__phoneprov__provider_8c">
<area shape="rect" id="node2" href="../../db/db2/asterisk_8h.html" title="Asterisk main include file. File version handling, generic pbx functions. " alt="" coords="2415,184,2499,211"/>
<area shape="rect" id="node23" href="../../d8/d8c/res__pjsip_8h.html" title="asterisk/res_pjsip.h" alt="" coords="905,102,1049,129"/>
<area shape="rect" id="node39" href="../../d8/d25/sorcery_8h.html" title="Sorcery Data Access Layer API. " alt="" coords="1773,184,1906,211"/>
<area shape="rect" id="node48" href="../../d5/d16/module_8h.html" title="Asterisk module definitions. " alt="" coords="1999,184,2135,211"/>
<area shape="rect" id="node49" href="../../d7/d50/phoneprov_8h.html" title="asterisk/phoneprov.h" alt="" coords="2379,102,2534,129"/>
<area shape="rect" id="node50" href="../../d7/d5c/res__pjsip__private_8h.html" title="res_pjsip/include/res\l_pjsip_private.h" alt="" coords="2019,95,2169,136"/>
<area shape="rect" id="node3" href="../../d8/d20/autoconfig_8h.html" title="asterisk/autoconfig.h" alt="" coords="2863,259,3018,285"/>
<area shape="rect" id="node5" href="../../de/da3/include_2asterisk_2compat_8h.html" title="General Definitions for Asterisk top level program Included by asterisk.h to handle platform&#45;specific..." alt="" coords="2348,259,2485,285"/>
<area shape="rect" id="node21" href="../../d8/d8a/astmm_8h.html" title="Asterisk memory management routines. " alt="" coords="2509,259,2644,285"/>
<area shape="rect" id="node4" href="../../dc/dba/buildopts_8h.html" title="asterisk/buildopts.h" alt="" coords="3119,333,3266,360"/>
<area shape="rect" id="node6" href="../../d4/dd1/compiler_8h.html" title="Compiler&#45;specific macros and other items. " alt="" coords="1701,333,1844,360"/>
<area shape="rect" id="node28" href="../../d1/d0f/stringfields_8h.html" title="asterisk/stringfields.h" alt="" coords="1043,408,1201,435"/>
<area shape="rect" id="node30" href="../../d6/d68/vector_8h.html" title="Vector container support. " alt="" coords="507,483,633,509"/>
<area shape="rect" id="node31" href="../../db/df1/netsock2_8h.html" title="Network socket handling. " alt="" coords="693,259,839,285"/>
<area shape="rect" id="node35" href="../../df/d90/linkedlists_8h.html" title="A set of macros to manage forward&#45;linked lists. " alt="" coords="1160,333,1311,360"/>
<area shape="rect" id="node36" href="../../d5/d7b/channel_8h.html" title="General Asterisk PBX channel definitions. " alt="" coords="1323,259,1462,285"/>
<area shape="rect" id="node38" href="../../d4/d61/endpoints_8h.html" title="Endpoint abstractions. " alt="" coords="1387,333,1537,360"/>
<area shape="rect" id="node42" href="../../db/dc4/dnsmgr_8h.html" title="Background DNS update manager. " alt="" coords="803,184,939,211"/>
<area shape="rect" id="node43" href="../../d5/da1/udptl_8h.html" title="UDPTL support for T.38. " alt="" coords="1014,184,1134,211"/>
<area shape="rect" id="node44" href="../../d5/dde/rtp__engine_8h.html" title="Pluggable RTP Architecture. " alt="" coords="572,184,728,211"/>
<area shape="rect" id="node45" href="../../d9/d4a/stasis__channels_8h.html" title="asterisk/stasis_channels.h" alt="" coords="1259,184,1449,211"/>
<area shape="rect" id="node46" href="../../d7/d44/stasis__endpoints_8h.html" title="Endpoint abstractions. " alt="" coords="1003,259,1198,285"/>
<area shape="rect" id="node47" href="../../d8/d95/stream_8h.html" title="Media Stream API. " alt="" coords="361,408,496,435"/>
<area shape="rect" id="node29" href="../../d5/d9d/inline__api_8h.html" title="Inlinable API function macro. " alt="" coords="2139,483,2286,509"/>
<area shape="rect" id="node34" href="../../d1/d8c/logger_8h.html" title="Support for logging to various files, console and syslog Configuration in file logger.conf. " alt="" coords="764,408,891,435"/>
<area shape="rect" id="node37" href="../../d5/d60/utils_8h.html" title="Utility functions. " alt="" coords="1562,333,1677,360"/>
<area shape="rect" id="node40" href="../../db/dfe/config__options_8h.html" title="Configuration option&#45;handling. " alt="" coords="1711,259,1891,285"/>
<area shape="rect" id="node41" href="../../dd/d1d/uuid_8h.html" title="Universally unique identifier support. " alt="" coords="1915,259,2030,285"/>
</map>
</div>
</div>
<p><a href="../../d1/dbc/res__pjsip__phoneprov__provider_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/de8/structphoneprov.html">phoneprov</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Structure for a phoneprov object.  <a href="../../d5/de8/structphoneprov.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a88b7c88fed6b80fd18f34f97757dfc04"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a88b7c88fed6b80fd18f34f97757dfc04">__reg_module</a> (void)</td></tr>
<tr class="separator:a88b7c88fed6b80fd18f34f97757dfc04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afeab1257bd17282b95875499393a147a"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#afeab1257bd17282b95875499393a147a">__unreg_module</a> (void)</td></tr>
<tr class="separator:afeab1257bd17282b95875499393a147a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40d2e34a56cec08be996d6a2c50534c9"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a40d2e34a56cec08be996d6a2c50534c9">aco_handler</a> (const struct <a class="el" href="../../db/de0/structaco__option.html">aco_option</a> *opt, struct <a class="el" href="../../dd/d02/structast__variable.html">ast_variable</a> *<a class="el" href="../../dc/df2/ast__expr2f_8c.html#a1b0936415a643c88ce543099c10e0d7f">var</a>, void *obj)</td></tr>
<tr class="memdesc:a40d2e34a56cec08be996d6a2c50534c9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a config name/value pair to the phoneprov object.  <a href="#a40d2e34a56cec08be996d6a2c50534c9">More...</a><br /></td></tr>
<tr class="separator:a40d2e34a56cec08be996d6a2c50534c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb894323d41bb079bc18fd3ce1c93600"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#acb894323d41bb079bc18fd3ce1c93600">assign_and_insert</a> (const char *<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, const char *<a class="el" href="../../d5/dde/test__func__file_8c.html#a8556878012feffc9e0beb86cd78f424d">value</a>, struct <a class="el" href="../../dd/de6/structvarshead.html">varshead</a> *vars)</td></tr>
<tr class="memdesc:acb894323d41bb079bc18fd3ce1c93600"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper that creates an <a class="el" href="../../d0/d7d/structast__var__t.html">ast_var_t</a> and inserts it into the list.  <a href="#acb894323d41bb079bc18fd3ce1c93600">More...</a><br /></td></tr>
<tr class="separator:acb894323d41bb079bc18fd3ce1c93600"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fb0aca9bbcdb9709fa52a70aded6cae"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a4fb0aca9bbcdb9709fa52a70aded6cae">AST_MODULE_SELF_SYM</a> (void)</td></tr>
<tr class="separator:a4fb0aca9bbcdb9709fa52a70aded6cae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef582369c9a71d11fddc07bfe2c75362"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#aef582369c9a71d11fddc07bfe2c75362">fields_handler</a> (const void *obj, struct <a class="el" href="../../dd/d02/structast__variable.html">ast_variable</a> **fields)</td></tr>
<tr class="memdesc:aef582369c9a71d11fddc07bfe2c75362"><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts the phoneprov varlist to an <a class="el" href="../../dd/d02/structast__variable.html" title="Structure for variables, used for configurations and for channel variables. ">ast_variable</a> list.  <a href="#aef582369c9a71d11fddc07bfe2c75362">More...</a><br /></td></tr>
<tr class="separator:aef582369c9a71d11fddc07bfe2c75362"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b4073f6d990b040f39e9fe2927b2f1f"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a2b4073f6d990b040f39e9fe2927b2f1f">load_endpoint</a> (const char *<a class="el" href="../../d1/da4/res__corosync_8c.html#a2465fd4497a7402ad72da7d6e03f9934">id</a>, const char *endpoint_name, struct <a class="el" href="../../dd/de6/structvarshead.html">varshead</a> *vars, char *port_string)</td></tr>
<tr class="separator:a2b4073f6d990b040f39e9fe2927b2f1f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3382bf6da54c56b37069bd76bbdf4f9"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#ac3382bf6da54c56b37069bd76bbdf4f9">load_module</a> (void)</td></tr>
<tr class="separator:ac3382bf6da54c56b37069bd76bbdf4f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aceb9567b3d5ac32c079a14ab6ee28ab4"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#aceb9567b3d5ac32c079a14ab6ee28ab4">load_users</a> (void)</td></tr>
<tr class="memdesc:aceb9567b3d5ac32c079a14ab6ee28ab4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback that loads the users from phoneprov sections.  <a href="#aceb9567b3d5ac32c079a14ab6ee28ab4">More...</a><br /></td></tr>
<tr class="separator:aceb9567b3d5ac32c079a14ab6ee28ab4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19b018b8140fafe10c6a6ce8d9e265d7"><td class="memItemLeft" align="right" valign="top">static void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a19b018b8140fafe10c6a6ce8d9e265d7">phoneprov_alloc</a> (const char *<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>)</td></tr>
<tr class="memdesc:a19b018b8140fafe10c6a6ce8d9e265d7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocator for phoneprov.  <a href="#a19b018b8140fafe10c6a6ce8d9e265d7">More...</a><br /></td></tr>
<tr class="separator:a19b018b8140fafe10c6a6ce8d9e265d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa654fc562bf7cbb000055cbbe54e557f"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#aa654fc562bf7cbb000055cbbe54e557f">phoneprov_destroy</a> (void *obj)</td></tr>
<tr class="memdesc:aa654fc562bf7cbb000055cbbe54e557f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor function for phoneprov.  <a href="#aa654fc562bf7cbb000055cbbe54e557f">More...</a><br /></td></tr>
<tr class="separator:aa654fc562bf7cbb000055cbbe54e557f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c6ac25ea7536c0bc9ed18cbcf917527"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a7c6ac25ea7536c0bc9ed18cbcf917527">reload_module</a> (void)</td></tr>
<tr class="separator:a7c6ac25ea7536c0bc9ed18cbcf917527"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad09fa931f468002152a3cc2d5ce25eae"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#ad09fa931f468002152a3cc2d5ce25eae">unload_module</a> (void)</td></tr>
<tr class="separator:ad09fa931f468002152a3cc2d5ce25eae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d63cb07a8937580384f256c8c705885"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a1d63cb07a8937580384f256c8c705885">users_apply_handler</a> (struct <a class="el" href="../../d5/de8/structphoneprov.html">phoneprov</a> *pp)</td></tr>
<tr class="memdesc:a1d63cb07a8937580384f256c8c705885"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback that validates the phoneprov object.  <a href="#a1d63cb07a8937580384f256c8c705885">More...</a><br /></td></tr>
<tr class="separator:a1d63cb07a8937580384f256c8c705885"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ab22f32016155f7f403e7178767163d7d"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#ab22f32016155f7f403e7178767163d7d">__mod_info</a> = { .<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a> = <a class="el" href="../../da/ddd/named__acl_8c.html#aec23fc5034c3bb08140fc021f4955877">AST_MODULE</a>, .flags = <a class="el" href="../../d5/d16/module_8h.html#a155a0df9c59e04e305d4a2fa3e35f843a12c3f60dd7655dfa8d4430cbf04b1223">AST_MODFLAG_LOAD_ORDER</a> , .description = &quot;PJSIP Phoneprov Provider&quot; , .key = &quot;This paragraph is copyright (<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>) 2006 by Digium, Inc. \In <a class="el" href="../../d5/d14/voicin_8c.html#aed7ca058008dc3e5ee131e575abed285">order</a> for your module to load, it must return this \key via <a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a> function called \&quot;key\&quot;. Any code which \includes this paragraph must <a class="el" href="../../dd/d7c/eagi__proxy_8c.html#a39730e90126aad69cfc9ca4d6fcdb3a6">be</a> licensed under the GNU \General Public License <a class="el" href="../../da/d7c/utils_2frame_8h.html#a56abfaab87c46691c1ef3ad0df23e864">version</a> 2 or later (at your \option). In addition to Digium's general reservations \of rights, Digium expressly reserves the right to \allow other parties to license this paragraph under \different terms. Any use of Digium, Inc. trademarks or \logos (including \&quot;Asterisk\&quot; or \&quot;Digium\&quot;) without \express written <a class="el" href="../../d4/d4c/structpermission.html">permission</a> of Digium, Inc. is prohibited.\n&quot; , .buildopt_sum = &quot;30ef0c93b36035ec78c9cfd712d36d9b&quot; , .support_level = AST_MODULE_SUPPORT_EXTENDED, .load = load_module, .reload = reload_module, .unload = unload_module, .load_pri = AST_MODPRI_APP_DEPEND, .requires = &quot;res_pjsip,res_phoneprov&quot;, }</td></tr>
<tr class="separator:ab22f32016155f7f403e7178767163d7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad60e83b9aa660040fed4d5377966cc21"><td class="memItemLeft" align="right" valign="top">static const struct <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#ad60e83b9aa660040fed4d5377966cc21">ast_module_info</a> = &amp;<a class="el" href="../../d6/d7a/test__xml__escape_8c.html#ab22f32016155f7f403e7178767163d7d">__mod_info</a></td></tr>
<tr class="separator:ad60e83b9aa660040fed4d5377966cc21"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95eb520bdb1abcd2a70b1432d3ecbf4c"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../d2/d88/structast__sorcery.html">ast_sorcery</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a></td></tr>
<tr class="separator:a95eb520bdb1abcd2a70b1432d3ecbf4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>PJSIP Phoneprov Configuration Provider. </p>
<dl class="section author"><dt>Author</dt><dd>George Joseph <a href="#" onclick="location.href='mai'+'lto:'+'geo'+'rg'+'e.j'+'os'+'eph'+'@f'+'air'+'vi'+'ew5'+'.c'+'om'; return false;">georg<span style="display: none;">.nosp@m.</span>e.jo<span style="display: none;">.nosp@m.</span>seph@<span style="display: none;">.nosp@m.</span>fair<span style="display: none;">.nosp@m.</span>view5<span style="display: none;">.nosp@m.</span>.com</a> </dd></dl>

<p class="definition">Definition in file <a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c_source.html">res_pjsip_phoneprov_provider.c</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a88b7c88fed6b80fd18f34f97757dfc04"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a88b7c88fed6b80fd18f34f97757dfc04">&#9670;&nbsp;</a></span>__reg_module()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void __reg_module </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c_source.html#l00420">420</a> of file <a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c_source.html">res_pjsip_phoneprov_provider.c</a>.</p>

</div>
</div>
<a id="afeab1257bd17282b95875499393a147a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afeab1257bd17282b95875499393a147a">&#9670;&nbsp;</a></span>__unreg_module()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void __unreg_module </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c_source.html#l00420">420</a> of file <a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c_source.html">res_pjsip_phoneprov_provider.c</a>.</p>

</div>
</div>
<a id="a40d2e34a56cec08be996d6a2c50534c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a40d2e34a56cec08be996d6a2c50534c9">&#9670;&nbsp;</a></span>aco_handler()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int aco_handler </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../db/de0/structaco__option.html">aco_option</a> *&#160;</td>
          <td class="paramname"><em>opt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../dd/d02/structast__variable.html">ast_variable</a> *&#160;</td>
          <td class="paramname"><em>var</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>obj</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Adds a config name/value pair to the phoneprov object. </p>

<p class="definition">Definition at line <a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c_source.html#l00187">187</a> of file <a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c_source.html">res_pjsip_phoneprov_provider.c</a>.</p>

<p class="reference">References <a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c_source.html#l00163">assign_and_insert()</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00085">ast_variable::name</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00087">ast_variable::value</a>, and <a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c_source.html#l00131">phoneprov::vars</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c_source.html#l00368">load_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;{</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d5/de8/structphoneprov.html">phoneprov</a> *pp = obj;</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#acb894323d41bb079bc18fd3ce1c93600">assign_and_insert</a>(var-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, var-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>, pp-&gt;<a class="code" href="../../d5/de8/structphoneprov.html#a9bb9f65f9ba922a3b001bac434de488c">vars</a>);</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;}</div><div class="ttc" id="structphoneprov_html_a9bb9f65f9ba922a3b001bac434de488c"><div class="ttname"><a href="../../d5/de8/structphoneprov.html#a9bb9f65f9ba922a3b001bac434de488c">phoneprov::vars</a></div><div class="ttdeci">struct varshead * vars</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbc/res__pjsip__phoneprov__provider_8c_source.html#l00131">res_pjsip_phoneprov_provider.c:131</a></div></div>
<div class="ttc" id="structast__variable_html_a8556878012feffc9e0beb86cd78f424d"><div class="ttname"><a href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">ast_variable::value</a></div><div class="ttdeci">const char * value</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00087">include/asterisk/config.h:87</a></div></div>
<div class="ttc" id="structast__variable_html_a8f8f80d37794cde9472343e4487ba3eb"><div class="ttname"><a href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">ast_variable::name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00085">include/asterisk/config.h:85</a></div></div>
<div class="ttc" id="res__pjsip__phoneprov__provider_8c_html_acb894323d41bb079bc18fd3ce1c93600"><div class="ttname"><a href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#acb894323d41bb079bc18fd3ce1c93600">assign_and_insert</a></div><div class="ttdeci">static int assign_and_insert(const char *name, const char *value, struct varshead *vars)</div><div class="ttdoc">Helper that creates an ast_var_t and inserts it into the list. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbc/res__pjsip__phoneprov__provider_8c_source.html#l00163">res_pjsip_phoneprov_provider.c:163</a></div></div>
<div class="ttc" id="structphoneprov_html"><div class="ttname"><a href="../../d5/de8/structphoneprov.html">phoneprov</a></div><div class="ttdoc">Structure for a phoneprov object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbc/res__pjsip__phoneprov__provider_8c_source.html#l00129">res_pjsip_phoneprov_provider.c:129</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="acb894323d41bb079bc18fd3ce1c93600"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb894323d41bb079bc18fd3ce1c93600">&#9670;&nbsp;</a></span>assign_and_insert()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int assign_and_insert </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../dd/de6/structvarshead.html">varshead</a> *&#160;</td>
          <td class="paramname"><em>vars</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Helper that creates an <a class="el" href="../../d0/d7d/structast__var__t.html">ast_var_t</a> and inserts it into the list. </p>

<p class="definition">Definition at line <a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c_source.html#l00163">163</a> of file <a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c_source.html">res_pjsip_phoneprov_provider.c</a>.</p>

<p class="reference">References <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../d9/de7/chanvars_8h_source.html#l00040">ast_var_assign</a>, <a class="el" href="../../d9/de7/chanvars_8h_source.html#l00051">AST_VAR_LIST_INSERT_TAIL()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, and <a class="el" href="../../dc/df2/ast__expr2f_8c_source.html#l00614">var</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c_source.html#l00187">aco_handler()</a>, <a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c_source.html#l00223">load_endpoint()</a>, and <a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c_source.html#l00289">users_apply_handler()</a>.</p>
<div class="fragment"><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;{</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d7d/structast__var__t.html">ast_var_t</a> *<a class="code" href="../../dc/df2/ast__expr2f_8c.html#a1b0936415a643c88ce543099c10e0d7f">var</a>;</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>) || !vars) {</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;   }</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;   <span class="comment">/* Just ignore if the value is NULL or empty */</span></div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(<a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>)) {</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;   }</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;   var = <a class="code" href="../../d9/de7/chanvars_8h.html#a78deeb18e93b145e9895346cef766577">ast_var_assign</a>(<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, <a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>);</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;   <span class="keywordflow">if</span> (!var) {</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Could not allocate variable memory for variable.\n&quot;</span>);</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;   }</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;   <a class="code" href="../../d9/de7/chanvars_8h.html#a392443df4fe40d95be2280e6c1b0fc6d">AST_VAR_LIST_INSERT_TAIL</a>(vars, var);</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;}</div><div class="ttc" id="ast__expr2f_8c_html_a1b0936415a643c88ce543099c10e0d7f"><div class="ttname"><a href="../../dc/df2/ast__expr2f_8c.html#a1b0936415a643c88ce543099c10e0d7f">var</a></div><div class="ttdeci">#define var</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/ast__expr2f_8c_source.html#l00614">ast_expr2f.c:614</a></div></div>
<div class="ttc" id="syslog_8c_html_ac4f474c82e82cbb89ca7c36dd52be0ed"><div class="ttname"><a href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a></div><div class="ttdeci">int value</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d2f/syslog_8c_source.html#l00037">syslog.c:37</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="structast__var__t_html"><div class="ttname"><a href="../../d0/d7d/structast__var__t.html">ast_var_t</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de7/chanvars_8h_source.html#l00028">chanvars.h:28</a></div></div>
<div class="ttc" id="cdr__mysql_8c_html_a0980a105ccb863d8008eb6201a51da52"><div class="ttname"><a href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a></div><div class="ttdeci">static const char name[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/cdr__mysql_8c_source.html#l00074">cdr_mysql.c:74</a></div></div>
<div class="ttc" id="chanvars_8h_html_a78deeb18e93b145e9895346cef766577"><div class="ttname"><a href="../../d9/de7/chanvars_8h.html#a78deeb18e93b145e9895346cef766577">ast_var_assign</a></div><div class="ttdeci">#define ast_var_assign(name, value)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de7/chanvars_8h_source.html#l00040">chanvars.h:40</a></div></div>
<div class="ttc" id="chanvars_8h_html_a392443df4fe40d95be2280e6c1b0fc6d"><div class="ttname"><a href="../../d9/de7/chanvars_8h.html#a392443df4fe40d95be2280e6c1b0fc6d">AST_VAR_LIST_INSERT_TAIL</a></div><div class="ttdeci">static void AST_VAR_LIST_INSERT_TAIL(struct varshead *head, struct ast_var_t *var)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de7/chanvars_8h_source.html#l00051">chanvars.h:51</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a4fb0aca9bbcdb9709fa52a70aded6cae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4fb0aca9bbcdb9709fa52a70aded6cae">&#9670;&nbsp;</a></span>AST_MODULE_SELF_SYM()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a>* AST_MODULE_SELF_SYM </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c_source.html#l00420">420</a> of file <a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c_source.html">res_pjsip_phoneprov_provider.c</a>.</p>

</div>
</div>
<a id="aef582369c9a71d11fddc07bfe2c75362"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aef582369c9a71d11fddc07bfe2c75362">&#9670;&nbsp;</a></span>fields_handler()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int fields_handler </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../dd/d02/structast__variable.html">ast_variable</a> **&#160;</td>
          <td class="paramname"><em>fields</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Converts the phoneprov varlist to an <a class="el" href="../../dd/d02/structast__variable.html" title="Structure for variables, used for configurations and for channel variables. ">ast_variable</a> list. </p>

<p class="definition">Definition at line <a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c_source.html#l00195">195</a> of file <a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c_source.html">res_pjsip_phoneprov_provider.c</a>.</p>

<p class="reference">References <a class="el" href="../../d9/de7/chanvars_8h_source.html#l00049">AST_VAR_LIST_TRAVERSE</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00914">ast_variable_new</a>, <a class="el" href="../../d4/dc5/extconf_8c_source.html#l01263">ast_variables_destroy()</a>, <a class="el" href="../../d9/de7/chanvars_8h_source.html#l00031">ast_var_t::name</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00090">ast_variable::next</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d9/de7/chanvars_8h_source.html#l00030">ast_var_t::value</a>, <a class="el" href="../../dc/df2/ast__expr2f_8c_source.html#l00614">var</a>, and <a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c_source.html#l00131">phoneprov::vars</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c_source.html#l00368">load_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;{</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;   <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="../../d5/de8/structphoneprov.html">phoneprov</a> *pp = obj;</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d7d/structast__var__t.html">ast_var_t</a> *pvar;</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/d02/structast__variable.html">ast_variable</a> *head = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/d02/structast__variable.html">ast_variable</a> *tail = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/d02/structast__variable.html">ast_variable</a> *<a class="code" href="../../dc/df2/ast__expr2f_8c.html#a1b0936415a643c88ce543099c10e0d7f">var</a>;</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;   <a class="code" href="../../d9/de7/chanvars_8h.html#a6d8ea2eb5bbe9fbc57e9e41875fbf859">AST_VAR_LIST_TRAVERSE</a>(pp-&gt;<a class="code" href="../../d5/de8/structphoneprov.html#a9bb9f65f9ba922a3b001bac434de488c">vars</a>, pvar) {</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;      var = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a66581086d34dfe7ea86b0644bacef239">ast_variable_new</a>(pvar-&gt;<a class="code" href="../../d0/d7d/structast__var__t.html#a2a7f851274ec18e17d38114c39b8511a">name</a>, pvar-&gt;<a class="code" href="../../d0/d7d/structast__var__t.html#a325611b97f57f55a57b2a7cf3238ef54">value</a>, <span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;      <span class="keywordflow">if</span> (!var) {</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;         <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#adea5390496e5477192d86f340d512d04">ast_variables_destroy</a>(head);</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;         <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;      }</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;      <span class="keywordflow">if</span> (!head) {</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;         head = <a class="code" href="../../dc/df2/ast__expr2f_8c.html#a1b0936415a643c88ce543099c10e0d7f">var</a>;</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;         tail = <a class="code" href="../../dc/df2/ast__expr2f_8c.html#a1b0936415a643c88ce543099c10e0d7f">var</a>;</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;         <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;      }</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;      tail-&gt;<a class="code" href="../../dd/d02/structast__variable.html#afaaf66cc5029a563bd0bb9df076ea14b">next</a> = <a class="code" href="../../dc/df2/ast__expr2f_8c.html#a1b0936415a643c88ce543099c10e0d7f">var</a>;</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;      tail = <a class="code" href="../../dc/df2/ast__expr2f_8c.html#a1b0936415a643c88ce543099c10e0d7f">var</a>;</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;   }</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;   *fields = head;</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;}</div><div class="ttc" id="structast__variable_html_afaaf66cc5029a563bd0bb9df076ea14b"><div class="ttname"><a href="../../dd/d02/structast__variable.html#afaaf66cc5029a563bd0bb9df076ea14b">ast_variable::next</a></div><div class="ttdeci">struct ast_variable * next</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00090">include/asterisk/config.h:90</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_adea5390496e5477192d86f340d512d04"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#adea5390496e5477192d86f340d512d04">ast_variables_destroy</a></div><div class="ttdeci">void ast_variables_destroy(struct ast_variable *var)</div><div class="ttdoc">Free variable list. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc5/extconf_8c_source.html#l01263">extconf.c:1263</a></div></div>
<div class="ttc" id="structphoneprov_html_a9bb9f65f9ba922a3b001bac434de488c"><div class="ttname"><a href="../../d5/de8/structphoneprov.html#a9bb9f65f9ba922a3b001bac434de488c">phoneprov::vars</a></div><div class="ttdeci">struct varshead * vars</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbc/res__pjsip__phoneprov__provider_8c_source.html#l00131">res_pjsip_phoneprov_provider.c:131</a></div></div>
<div class="ttc" id="structast__variable_html"><div class="ttname"><a href="../../dd/d02/structast__variable.html">ast_variable</a></div><div class="ttdoc">Structure for variables, used for configurations and for channel variables. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00083">include/asterisk/config.h:83</a></div></div>
<div class="ttc" id="ast__expr2f_8c_html_a1b0936415a643c88ce543099c10e0d7f"><div class="ttname"><a href="../../dc/df2/ast__expr2f_8c.html#a1b0936415a643c88ce543099c10e0d7f">var</a></div><div class="ttdeci">#define var</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/ast__expr2f_8c_source.html#l00614">ast_expr2f.c:614</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a66581086d34dfe7ea86b0644bacef239"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a66581086d34dfe7ea86b0644bacef239">ast_variable_new</a></div><div class="ttdeci">#define ast_variable_new(name, value, filename)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00914">include/asterisk/config.h:914</a></div></div>
<div class="ttc" id="structast__var__t_html_a2a7f851274ec18e17d38114c39b8511a"><div class="ttname"><a href="../../d0/d7d/structast__var__t.html#a2a7f851274ec18e17d38114c39b8511a">ast_var_t::name</a></div><div class="ttdeci">char name[0]</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de7/chanvars_8h_source.html#l00031">chanvars.h:31</a></div></div>
<div class="ttc" id="structast__var__t_html"><div class="ttname"><a href="../../d0/d7d/structast__var__t.html">ast_var_t</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de7/chanvars_8h_source.html#l00028">chanvars.h:28</a></div></div>
<div class="ttc" id="structast__var__t_html_a325611b97f57f55a57b2a7cf3238ef54"><div class="ttname"><a href="../../d0/d7d/structast__var__t.html#a325611b97f57f55a57b2a7cf3238ef54">ast_var_t::value</a></div><div class="ttdeci">char * value</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de7/chanvars_8h_source.html#l00030">chanvars.h:30</a></div></div>
<div class="ttc" id="structphoneprov_html"><div class="ttname"><a href="../../d5/de8/structphoneprov.html">phoneprov</a></div><div class="ttdoc">Structure for a phoneprov object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbc/res__pjsip__phoneprov__provider_8c_source.html#l00129">res_pjsip_phoneprov_provider.c:129</a></div></div>
<div class="ttc" id="chanvars_8h_html_a6d8ea2eb5bbe9fbc57e9e41875fbf859"><div class="ttname"><a href="../../d9/de7/chanvars_8h.html#a6d8ea2eb5bbe9fbc57e9e41875fbf859">AST_VAR_LIST_TRAVERSE</a></div><div class="ttdeci">#define AST_VAR_LIST_TRAVERSE(head, var)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de7/chanvars_8h_source.html#l00049">chanvars.h:49</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2b4073f6d990b040f39e9fe2927b2f1f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2b4073f6d990b040f39e9fe2927b2f1f">&#9670;&nbsp;</a></span>load_endpoint()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int load_endpoint </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>endpoint_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../dd/de6/structvarshead.html">varshead</a> *&#160;</td>
          <td class="paramname"><em>vars</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>port_string</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c_source.html#l00223">223</a> of file <a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c_source.html">res_pjsip_phoneprov_provider.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c_source.html#l00163">assign_and_insert()</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d7/d50/phoneprov_8h_source.html#l00036">AST_PHONEPROV_STD_CALLERID</a>, <a class="el" href="../../d7/d50/phoneprov_8h_source.html#l00033">AST_PHONEPROV_STD_DISPLAY_NAME</a>, <a class="el" href="../../d7/d50/phoneprov_8h_source.html#l00034">AST_PHONEPROV_STD_SECRET</a>, <a class="el" href="../../d7/d50/phoneprov_8h_source.html#l00032">AST_PHONEPROV_STD_USERNAME</a>, <a class="el" href="../../d9/de9/res__phoneprov_8c_source.html#l01505">ast_phoneprov_std_variable_lookup()</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l01853">ast_sorcery_retrieve_by_id()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00682">AST_VECTOR_GET</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00611">AST_VECTOR_SIZE</a>, <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l00452">ast_sip_auth::auth_pass</a>, <a class="el" href="../../d8/d8c/res__pjsip_8h_source.html#l00450">ast_sip_auth::auth_user</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../d5/d60/utils_8h_source.html#l00911">RAII_VAR</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c_source.html#l00289">users_apply_handler()</a>.</p>
<div class="fragment"><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;{</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d01/structast__sip__auth.html">ast_sip_auth</a> *auth;</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d3/d46/structast__sip__endpoint.html">ast_sip_endpoint</a> *, endpoint, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d1/d04/structast__sip__transport.html">ast_sip_transport</a> *, transport, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *auth_name;</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;   *port_string = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;   <span class="comment">/* We need to use res_pjsip&#39;s sorcery instance instead of our own to</span></div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;<span class="comment">    * get endpoint and auth.</span></div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;   endpoint = <a class="code" href="../../d8/d25/sorcery_8h.html#a100106a82d72aa59a66513ef3ad161c8">ast_sorcery_retrieve_by_id</a>(<a class="code" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>, <span class="stringliteral">&quot;endpoint&quot;</span>,</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;      endpoint_name);</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;   <span class="keywordflow">if</span> (!endpoint) {</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;phoneprov %s contained invalid endpoint %s.\n&quot;</span>, <span class="keywordtype">id</span>,</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;         endpoint_name);</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;   }</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;   <a class="code" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#acb894323d41bb079bc18fd3ce1c93600">assign_and_insert</a>(<span class="stringliteral">&quot;ENDPOINT_ID&quot;</span>, endpoint_name, vars);</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;   <a class="code" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#acb894323d41bb079bc18fd3ce1c93600">assign_and_insert</a>(<span class="stringliteral">&quot;TRANSPORT_ID&quot;</span>, endpoint-&gt;transport, vars);</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;   <span class="keywordflow">if</span> (endpoint-&gt;id.self.number.valid &amp;&amp; !<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(endpoint-&gt;id.self.number.str)) {</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;      <a class="code" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#acb894323d41bb079bc18fd3ce1c93600">assign_and_insert</a>(<a class="code" href="../../d7/d50/phoneprov_8h.html#a76a1f7f6b8d45a021c95a96863d8390b">ast_phoneprov_std_variable_lookup</a>(<a class="code" href="../../d7/d50/phoneprov_8h.html#a91ad1746f852b2da89475b86fb4ef962a4df598960f33d8332532aefcbf075444">AST_PHONEPROV_STD_CALLERID</a>),</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;         endpoint-&gt;id.self.number.str, vars);</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;   }</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;   <span class="keywordflow">if</span> (endpoint-&gt;id.self.name.valid &amp;&amp; !<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(endpoint-&gt;id.self.name.str)) {</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;      <a class="code" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#acb894323d41bb079bc18fd3ce1c93600">assign_and_insert</a>(</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;         <a class="code" href="../../d7/d50/phoneprov_8h.html#a76a1f7f6b8d45a021c95a96863d8390b">ast_phoneprov_std_variable_lookup</a>(<a class="code" href="../../d7/d50/phoneprov_8h.html#a91ad1746f852b2da89475b86fb4ef962af1e349f96e42bd94d0ad2e7194cae081">AST_PHONEPROV_STD_DISPLAY_NAME</a>),</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;         endpoint-&gt;id.self.name.str, vars);</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;   }</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;   transport = <a class="code" href="../../d8/d25/sorcery_8h.html#a100106a82d72aa59a66513ef3ad161c8">ast_sorcery_retrieve_by_id</a>(<a class="code" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>, <span class="stringliteral">&quot;transport&quot;</span>,</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;      endpoint-&gt;transport);</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;   <span class="keywordflow">if</span> (!transport) {</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Endpoint %s contained invalid transport %s.\n&quot;</span>, endpoint_name,</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;         endpoint-&gt;transport);</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;   }</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;   snprintf(port_string, 6, <span class="stringliteral">&quot;%d&quot;</span>, pj_sockaddr_get_port(&amp;transport-&gt;host));</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d68/vector_8h.html#a20b08af81cc9452fb721c9a698f81bdf">AST_VECTOR_SIZE</a>(&amp;endpoint-&gt;inbound_auths)) {</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;   }</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;   auth_name = <a class="code" href="../../d6/d68/vector_8h.html#aef32ac52c3e8a530d16eb92cde22cacd">AST_VECTOR_GET</a>(&amp;endpoint-&gt;inbound_auths, 0);</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;   auth = <a class="code" href="../../d8/d25/sorcery_8h.html#a100106a82d72aa59a66513ef3ad161c8">ast_sorcery_retrieve_by_id</a>(<a class="code" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>, <span class="stringliteral">&quot;auth&quot;</span>, auth_name);</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;   <span class="keywordflow">if</span> (!auth) {</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;phoneprov %s contained invalid auth %s.\n&quot;</span>, <span class="keywordtype">id</span>, auth_name);</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;   }</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;   <a class="code" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#acb894323d41bb079bc18fd3ce1c93600">assign_and_insert</a>(<span class="stringliteral">&quot;AUTH_ID&quot;</span>, auth_name, vars);</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;   <a class="code" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#acb894323d41bb079bc18fd3ce1c93600">assign_and_insert</a>(<a class="code" href="../../d7/d50/phoneprov_8h.html#a76a1f7f6b8d45a021c95a96863d8390b">ast_phoneprov_std_variable_lookup</a>(<a class="code" href="../../d7/d50/phoneprov_8h.html#a91ad1746f852b2da89475b86fb4ef962a6dd6f797aa633b6c26fa2a4a891a1c76">AST_PHONEPROV_STD_USERNAME</a>),</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;      auth-&gt;<a class="code" href="../../d0/d01/structast__sip__auth.html#a9dfeb2fdce6acf9c0f869d674aa5a1c2">auth_user</a>, vars);</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;   <a class="code" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#acb894323d41bb079bc18fd3ce1c93600">assign_and_insert</a>(<a class="code" href="../../d7/d50/phoneprov_8h.html#a76a1f7f6b8d45a021c95a96863d8390b">ast_phoneprov_std_variable_lookup</a>(<a class="code" href="../../d7/d50/phoneprov_8h.html#a91ad1746f852b2da89475b86fb4ef962af3e2c889872d65b433abb6672fdfaf35">AST_PHONEPROV_STD_SECRET</a>),</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;      auth-&gt;<a class="code" href="../../d0/d01/structast__sip__auth.html#af263f62bf45d20982f102de2a9cd461f">auth_pass</a>, vars);</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(auth, -1);</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;}</div><div class="ttc" id="structast__sip__auth_html"><div class="ttname"><a href="../../d0/d01/structast__sip__auth.html">ast_sip_auth</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00444">res_pjsip.h:444</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="sorcery_8h_html_a100106a82d72aa59a66513ef3ad161c8"><div class="ttname"><a href="../../d8/d25/sorcery_8h.html#a100106a82d72aa59a66513ef3ad161c8">ast_sorcery_retrieve_by_id</a></div><div class="ttdeci">void * ast_sorcery_retrieve_by_id(const struct ast_sorcery *sorcery, const char *type, const char *id)</div><div class="ttdoc">Retrieve an object using its unique identifier. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l01853">sorcery.c:1853</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="utils_8h_html_a1604b4d72144dd3d9f7da668e90337e9"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a></div><div class="ttdeci">#define RAII_VAR(vartype, varname, initval, dtor)</div><div class="ttdoc">Declare a variable that will call a destructor function when it goes out of scope. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00911">utils.h:911</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="structast__sip__endpoint_html"><div class="ttname"><a href="../../d3/d46/structast__sip__endpoint.html">ast_sip_endpoint</a></div><div class="ttdoc">An entity with which Asterisk communicates. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00812">res_pjsip.h:812</a></div></div>
<div class="ttc" id="phoneprov_8h_html_a91ad1746f852b2da89475b86fb4ef962af1e349f96e42bd94d0ad2e7194cae081"><div class="ttname"><a href="../../d7/d50/phoneprov_8h.html#a91ad1746f852b2da89475b86fb4ef962af1e349f96e42bd94d0ad2e7194cae081">AST_PHONEPROV_STD_DISPLAY_NAME</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d50/phoneprov_8h_source.html#l00033">phoneprov.h:33</a></div></div>
<div class="ttc" id="phoneprov_8h_html_a91ad1746f852b2da89475b86fb4ef962a6dd6f797aa633b6c26fa2a4a891a1c76"><div class="ttname"><a href="../../d7/d50/phoneprov_8h.html#a91ad1746f852b2da89475b86fb4ef962a6dd6f797aa633b6c26fa2a4a891a1c76">AST_PHONEPROV_STD_USERNAME</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d50/phoneprov_8h_source.html#l00032">phoneprov.h:32</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="structast__sip__transport_html"><div class="ttname"><a href="../../d1/d04/structast__sip__transport.html">ast_sip_transport</a></div><div class="ttdoc">Transport to bind to. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00171">res_pjsip.h:171</a></div></div>
<div class="ttc" id="phoneprov_8h_html_a91ad1746f852b2da89475b86fb4ef962af3e2c889872d65b433abb6672fdfaf35"><div class="ttname"><a href="../../d7/d50/phoneprov_8h.html#a91ad1746f852b2da89475b86fb4ef962af3e2c889872d65b433abb6672fdfaf35">AST_PHONEPROV_STD_SECRET</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d50/phoneprov_8h_source.html#l00034">phoneprov.h:34</a></div></div>
<div class="ttc" id="res__pjsip__phoneprov__provider_8c_html_acb894323d41bb079bc18fd3ce1c93600"><div class="ttname"><a href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#acb894323d41bb079bc18fd3ce1c93600">assign_and_insert</a></div><div class="ttdeci">static int assign_and_insert(const char *name, const char *value, struct varshead *vars)</div><div class="ttdoc">Helper that creates an ast_var_t and inserts it into the list. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbc/res__pjsip__phoneprov__provider_8c_source.html#l00163">res_pjsip_phoneprov_provider.c:163</a></div></div>
<div class="ttc" id="structast__sip__auth_html_af263f62bf45d20982f102de2a9cd461f"><div class="ttname"><a href="../../d0/d01/structast__sip__auth.html#af263f62bf45d20982f102de2a9cd461f">ast_sip_auth::auth_pass</a></div><div class="ttdeci">const ast_string_field auth_pass</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00452">res_pjsip.h:452</a></div></div>
<div class="ttc" id="vector_8h_html_aef32ac52c3e8a530d16eb92cde22cacd"><div class="ttname"><a href="../../d6/d68/vector_8h.html#aef32ac52c3e8a530d16eb92cde22cacd">AST_VECTOR_GET</a></div><div class="ttdeci">#define AST_VECTOR_GET(vec, idx)</div><div class="ttdoc">Get an element from a vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00682">vector.h:682</a></div></div>
<div class="ttc" id="res__pjsip__phoneprov__provider_8c_html_a95eb520bdb1abcd2a70b1432d3ecbf4c"><div class="ttname"><a href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a></div><div class="ttdeci">static struct ast_sorcery * sorcery</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbc/res__pjsip__phoneprov__provider_8c_source.html#l00126">res_pjsip_phoneprov_provider.c:126</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="phoneprov_8h_html_a91ad1746f852b2da89475b86fb4ef962a4df598960f33d8332532aefcbf075444"><div class="ttname"><a href="../../d7/d50/phoneprov_8h.html#a91ad1746f852b2da89475b86fb4ef962a4df598960f33d8332532aefcbf075444">AST_PHONEPROV_STD_CALLERID</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d50/phoneprov_8h_source.html#l00036">phoneprov.h:36</a></div></div>
<div class="ttc" id="phoneprov_8h_html_a76a1f7f6b8d45a021c95a96863d8390b"><div class="ttname"><a href="../../d7/d50/phoneprov_8h.html#a76a1f7f6b8d45a021c95a96863d8390b">ast_phoneprov_std_variable_lookup</a></div><div class="ttdeci">const char * ast_phoneprov_std_variable_lookup(enum ast_phoneprov_std_variables var)</div><div class="ttdoc">Returns the string respresentation of a phoneprov standard variable. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de9/res__phoneprov_8c_source.html#l01505">res_phoneprov.c:1505</a></div></div>
<div class="ttc" id="structast__sip__auth_html_a9dfeb2fdce6acf9c0f869d674aa5a1c2"><div class="ttname"><a href="../../d0/d01/structast__sip__auth.html#a9dfeb2fdce6acf9c0f869d674aa5a1c2">ast_sip_auth::auth_user</a></div><div class="ttdeci">const ast_string_field auth_user</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/res__pjsip_8h_source.html#l00450">res_pjsip.h:450</a></div></div>
<div class="ttc" id="vector_8h_html_a20b08af81cc9452fb721c9a698f81bdf"><div class="ttname"><a href="../../d6/d68/vector_8h.html#a20b08af81cc9452fb721c9a698f81bdf">AST_VECTOR_SIZE</a></div><div class="ttdeci">#define AST_VECTOR_SIZE(vec)</div><div class="ttdoc">Get the number of elements in a vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00611">vector.h:611</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac3382bf6da54c56b37069bd76bbdf4f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac3382bf6da54c56b37069bd76bbdf4f9">&#9670;&nbsp;</a></span>load_module()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int load_module </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c_source.html#l00368">368</a> of file <a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c_source.html">res_pjsip_phoneprov_provider.c</a>.</p>

<p class="reference">References <a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c_source.html#l00187">aco_handler()</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d9/daa/app__audiosocket_8c_source.html#l00045">AST_MODULE</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00078">AST_MODULE_LOAD_DECLINE</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00070">AST_MODULE_LOAD_SUCCESS</a>, <a class="el" href="../../d9/de9/res__phoneprov_8c_source.html#l01514">ast_phoneprov_provider_register()</a>, <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l02404">ast_sip_get_sorcery()</a>, <a class="el" href="../../d8/d25/sorcery_8h_source.html#l00456">ast_sorcery_apply_config</a>, <a class="el" href="../../d8/d25/sorcery_8h_source.html#l00477">ast_sorcery_apply_default</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l01393">ast_sorcery_load_object()</a>, <a class="el" href="../../d8/d25/sorcery_8h_source.html#l00955">ast_sorcery_object_field_register</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l01160">ast_sorcery_object_fields_register()</a>, <a class="el" href="../../d8/d25/sorcery_8h_source.html#l00838">ast_sorcery_object_register</a>, <a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c_source.html#l00195">fields_handler()</a>, <a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c_source.html#l00343">load_users()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../db/dfe/config__options_8h_source.html#l00399">OPT_NOOP_T</a>, and <a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c_source.html#l00148">phoneprov_alloc()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c_source.html#l00401">reload_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;{</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;   <a class="code" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a> = <a class="code" href="../../d8/d8c/res__pjsip_8h.html#a5572d52daf1a841b0f9308df901448c8">ast_sip_get_sorcery</a>();</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;   <a class="code" href="../../d8/d25/sorcery_8h.html#a9db9fd1cf5ec967af2ad3a63c27e0233">ast_sorcery_apply_config</a>(<a class="code" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>, <span class="stringliteral">&quot;res_pjsip_phoneprov_provider&quot;</span>);</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;   <a class="code" href="../../d8/d25/sorcery_8h.html#ad1165cf9d45ed5ffa1555371be9ae770">ast_sorcery_apply_default</a>(<a class="code" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>, <span class="stringliteral">&quot;phoneprov&quot;</span>, <span class="stringliteral">&quot;config&quot;</span>,</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;      <span class="stringliteral">&quot;pjsip.conf,criteria=type=phoneprov&quot;</span>);</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;   <a class="code" href="../../d8/d25/sorcery_8h.html#a5ee86f00f6e2240f74772d59edf0f74a">ast_sorcery_object_register</a>(<a class="code" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>, <span class="stringliteral">&quot;phoneprov&quot;</span>, <a class="code" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a19b018b8140fafe10c6a6ce8d9e265d7">phoneprov_alloc</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;      <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;   <a class="code" href="../../d8/d25/sorcery_8h.html#aa7102b6e71e4fa6525b24a6123a2f6d4">ast_sorcery_object_field_register</a>(<a class="code" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>, <span class="stringliteral">&quot;phoneprov&quot;</span>, <span class="stringliteral">&quot;type&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, <a class="code" href="../../db/dfe/config__options_8h.html#a61bb4940517e7d00e7104de8273c2144a0df2cc9dc9bf09ee71252c183fe64bd7">OPT_NOOP_T</a>, 0,</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;      0);</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;   <a class="code" href="../../d8/d25/sorcery_8h.html#a1f0ff2b69990cd594471a830dea51f6c">ast_sorcery_object_fields_register</a>(<a class="code" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>, <span class="stringliteral">&quot;phoneprov&quot;</span>, <span class="stringliteral">&quot;^&quot;</span>, <a class="code" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a40d2e34a56cec08be996d6a2c50534c9">aco_handler</a>,</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;      <a class="code" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#aef582369c9a71d11fddc07bfe2c75362">fields_handler</a>);</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;   <a class="code" href="../../d8/d25/sorcery_8h.html#a6f052c6dd5e388e519725406a6af5215">ast_sorcery_load_object</a>(<a class="code" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>, <span class="stringliteral">&quot;phoneprov&quot;</span>);</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d7/d50/phoneprov_8h.html#af53aa46d99a1efa854d249df26cec227">ast_phoneprov_provider_register</a>(<a class="code" href="../../d9/daa/app__audiosocket_8c.html#aec23fc5034c3bb08140fc021f4955877">AST_MODULE</a>, <a class="code" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#aceb9567b3d5ac32c079a14ab6ee28ab4">load_users</a>)) {</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Unable to register pjsip phoneprov provider.\n&quot;</span>);</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfac742921e9f9512d28f62c74ea2affe57">AST_MODULE_LOAD_DECLINE</a>;</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;   }</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfa89bb877ade9ce418ad6663f3d936f314">AST_MODULE_LOAD_SUCCESS</a>;</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;}</div><div class="ttc" id="module_8h_html_adc09474f0ff557e9925b722ee5b952dfa89bb877ade9ce418ad6663f3d936f314"><div class="ttname"><a href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfa89bb877ade9ce418ad6663f3d936f314">AST_MODULE_LOAD_SUCCESS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00070">module.h:70</a></div></div>
<div class="ttc" id="sorcery_8h_html_a1f0ff2b69990cd594471a830dea51f6c"><div class="ttname"><a href="../../d8/d25/sorcery_8h.html#a1f0ff2b69990cd594471a830dea51f6c">ast_sorcery_object_fields_register</a></div><div class="ttdeci">int ast_sorcery_object_fields_register(struct ast_sorcery *sorcery, const char *type, const char *regex, aco_option_handler config_handler, sorcery_fields_handler sorcery_handler)</div><div class="ttdoc">Register a regex for multiple fields within an object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l01160">sorcery.c:1160</a></div></div>
<div class="ttc" id="config__options_8h_html_a61bb4940517e7d00e7104de8273c2144a0df2cc9dc9bf09ee71252c183fe64bd7"><div class="ttname"><a href="../../db/dfe/config__options_8h.html#a61bb4940517e7d00e7104de8273c2144a0df2cc9dc9bf09ee71252c183fe64bd7">OPT_NOOP_T</a></div><div class="ttdoc">Type for a default handler that should do nothing. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/dfe/config__options_8h_source.html#l00399">config_options.h:399</a></div></div>
<div class="ttc" id="sorcery_8h_html_a9db9fd1cf5ec967af2ad3a63c27e0233"><div class="ttname"><a href="../../d8/d25/sorcery_8h.html#a9db9fd1cf5ec967af2ad3a63c27e0233">ast_sorcery_apply_config</a></div><div class="ttdeci">#define ast_sorcery_apply_config(sorcery, name)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d25/sorcery_8h_source.html#l00456">sorcery.h:456</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="sorcery_8h_html_a6f052c6dd5e388e519725406a6af5215"><div class="ttname"><a href="../../d8/d25/sorcery_8h.html#a6f052c6dd5e388e519725406a6af5215">ast_sorcery_load_object</a></div><div class="ttdeci">void ast_sorcery_load_object(const struct ast_sorcery *sorcery, const char *type)</div><div class="ttdoc">Inform any wizards of a specific object type to load persistent objects. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l01393">sorcery.c:1393</a></div></div>
<div class="ttc" id="phoneprov_8h_html_af53aa46d99a1efa854d249df26cec227"><div class="ttname"><a href="../../d7/d50/phoneprov_8h.html#af53aa46d99a1efa854d249df26cec227">ast_phoneprov_provider_register</a></div><div class="ttdeci">int ast_phoneprov_provider_register(char *provider_name, ast_phoneprov_load_users_cb load_users)</div><div class="ttdoc">Registers a config provider to phoneprov. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de9/res__phoneprov_8c_source.html#l01514">res_phoneprov.c:1514</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="sorcery_8h_html_a5ee86f00f6e2240f74772d59edf0f74a"><div class="ttname"><a href="../../d8/d25/sorcery_8h.html#a5ee86f00f6e2240f74772d59edf0f74a">ast_sorcery_object_register</a></div><div class="ttdeci">#define ast_sorcery_object_register(sorcery, type, alloc, transform, apply)</div><div class="ttdoc">Register an object type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d25/sorcery_8h_source.html#l00838">sorcery.h:838</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="sorcery_8h_html_ad1165cf9d45ed5ffa1555371be9ae770"><div class="ttname"><a href="../../d8/d25/sorcery_8h.html#ad1165cf9d45ed5ffa1555371be9ae770">ast_sorcery_apply_default</a></div><div class="ttdeci">#define ast_sorcery_apply_default(sorcery, type, name, data)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d25/sorcery_8h_source.html#l00477">sorcery.h:477</a></div></div>
<div class="ttc" id="module_8h_html_adc09474f0ff557e9925b722ee5b952dfac742921e9f9512d28f62c74ea2affe57"><div class="ttname"><a href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfac742921e9f9512d28f62c74ea2affe57">AST_MODULE_LOAD_DECLINE</a></div><div class="ttdoc">Module has failed to load, may be in an inconsistent state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00078">module.h:78</a></div></div>
<div class="ttc" id="sorcery_8h_html_aa7102b6e71e4fa6525b24a6123a2f6d4"><div class="ttname"><a href="../../d8/d25/sorcery_8h.html#aa7102b6e71e4fa6525b24a6123a2f6d4">ast_sorcery_object_field_register</a></div><div class="ttdeci">#define ast_sorcery_object_field_register(sorcery, type, name, default_val, opt_type, flags,...)</div><div class="ttdoc">Register a field within an object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d25/sorcery_8h_source.html#l00955">sorcery.h:955</a></div></div>
<div class="ttc" id="res__pjsip__phoneprov__provider_8c_html_a19b018b8140fafe10c6a6ce8d9e265d7"><div class="ttname"><a href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a19b018b8140fafe10c6a6ce8d9e265d7">phoneprov_alloc</a></div><div class="ttdeci">static void * phoneprov_alloc(const char *name)</div><div class="ttdoc">Allocator for phoneprov. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbc/res__pjsip__phoneprov__provider_8c_source.html#l00148">res_pjsip_phoneprov_provider.c:148</a></div></div>
<div class="ttc" id="res__pjsip__phoneprov__provider_8c_html_a95eb520bdb1abcd2a70b1432d3ecbf4c"><div class="ttname"><a href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a></div><div class="ttdeci">static struct ast_sorcery * sorcery</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbc/res__pjsip__phoneprov__provider_8c_source.html#l00126">res_pjsip_phoneprov_provider.c:126</a></div></div>
<div class="ttc" id="res__pjsip_8h_html_a5572d52daf1a841b0f9308df901448c8"><div class="ttname"><a href="../../d8/d8c/res__pjsip_8h.html#a5572d52daf1a841b0f9308df901448c8">ast_sip_get_sorcery</a></div><div class="ttdeci">struct ast_sorcery * ast_sip_get_sorcery(void)</div><div class="ttdoc">Get a pointer to the SIP sorcery structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df6/pjsip__configuration_8c_source.html#l02404">pjsip_configuration.c:2404</a></div></div>
<div class="ttc" id="app__audiosocket_8c_html_aec23fc5034c3bb08140fc021f4955877"><div class="ttname"><a href="../../d9/daa/app__audiosocket_8c.html#aec23fc5034c3bb08140fc021f4955877">AST_MODULE</a></div><div class="ttdeci">#define AST_MODULE</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/daa/app__audiosocket_8c_source.html#l00045">app_audiosocket.c:45</a></div></div>
<div class="ttc" id="res__pjsip__phoneprov__provider_8c_html_aceb9567b3d5ac32c079a14ab6ee28ab4"><div class="ttname"><a href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#aceb9567b3d5ac32c079a14ab6ee28ab4">load_users</a></div><div class="ttdeci">static int load_users(void)</div><div class="ttdoc">Callback that loads the users from phoneprov sections. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbc/res__pjsip__phoneprov__provider_8c_source.html#l00343">res_pjsip_phoneprov_provider.c:343</a></div></div>
<div class="ttc" id="res__pjsip__phoneprov__provider_8c_html_a40d2e34a56cec08be996d6a2c50534c9"><div class="ttname"><a href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a40d2e34a56cec08be996d6a2c50534c9">aco_handler</a></div><div class="ttdeci">static int aco_handler(const struct aco_option *opt, struct ast_variable *var, void *obj)</div><div class="ttdoc">Adds a config name/value pair to the phoneprov object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbc/res__pjsip__phoneprov__provider_8c_source.html#l00187">res_pjsip_phoneprov_provider.c:187</a></div></div>
<div class="ttc" id="res__pjsip__phoneprov__provider_8c_html_aef582369c9a71d11fddc07bfe2c75362"><div class="ttname"><a href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#aef582369c9a71d11fddc07bfe2c75362">fields_handler</a></div><div class="ttdeci">static int fields_handler(const void *obj, struct ast_variable **fields)</div><div class="ttdoc">Converts the phoneprov varlist to an ast_variable list. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbc/res__pjsip__phoneprov__provider_8c_source.html#l00195">res_pjsip_phoneprov_provider.c:195</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aceb9567b3d5ac32c079a14ab6ee28ab4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aceb9567b3d5ac32c079a14ab6ee28ab4">&#9670;&nbsp;</a></span>load_users()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int load_users </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Callback that loads the users from phoneprov sections. </p>

<p class="definition">Definition at line <a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c_source.html#l00343">343</a> of file <a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c_source.html">res_pjsip_phoneprov_provider.c</a>.</p>

<p class="reference">References <a class="el" href="../../d7/d22/astobj2__container_8c_source.html#l00534">ao2_iterator_destroy()</a>, <a class="el" href="../../d7/d22/astobj2__container_8c_source.html#l00485">ao2_iterator_init()</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01933">ao2_iterator_next</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d8/d25/sorcery_8h_source.html#l00123">AST_RETRIEVE_FLAG_ALL</a>, <a class="el" href="../../d8/d25/sorcery_8h_source.html#l00120">AST_RETRIEVE_FLAG_MULTIPLE</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l01442">ast_sorcery_reload_object()</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l01897">ast_sorcery_retrieve_by_fields()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d9/de9/res__phoneprov_8c_source.html#l00318">users</a>, and <a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c_source.html#l00289">users_apply_handler()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c_source.html#l00368">load_module()</a>, and <a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c_source.html#l00401">reload_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;{</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/da9/structao2__container.html">ao2_container</a> *<a class="code" href="../../d9/de9/res__phoneprov_8c.html#a83dc8a4d62a5fdcd27ed6756cdaeb114">users</a>;</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/d97/structao2__iterator.html">ao2_iterator</a> i;</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d5/de8/structphoneprov.html">phoneprov</a> *pp;</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;   <a class="code" href="../../d8/d25/sorcery_8h.html#ad98ae6e153f53b0c3c40119acc5e5266">ast_sorcery_reload_object</a>(<a class="code" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>, <span class="stringliteral">&quot;phoneprov&quot;</span>);</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;   users = <a class="code" href="../../d8/d25/sorcery_8h.html#aaa9cd237841a70862001f580b23212c9">ast_sorcery_retrieve_by_fields</a>(<a class="code" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a>, <span class="stringliteral">&quot;phoneprov&quot;</span>,</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;      <a class="code" href="../../d8/d25/sorcery_8h.html#a320e98591a38316a313a3ca83ea8df20a019a4a531b83f4ab0b35a3c788bf8d55">AST_RETRIEVE_FLAG_MULTIPLE</a> | <a class="code" href="../../d8/d25/sorcery_8h.html#a320e98591a38316a313a3ca83ea8df20a643c7c50af2691bb16052509d47b61cd">AST_RETRIEVE_FLAG_ALL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;   <span class="keywordflow">if</span> (!users) {</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;   }</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;   i = <a class="code" href="../../d5/da5/astobj2_8h.html#a91d5d37d00874ae7a92d1a15c0a3b3a6">ao2_iterator_init</a>(users, 0);</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;   <span class="keywordflow">while</span> ((pp = <a class="code" href="../../d5/da5/astobj2_8h.html#a17990ea630db7dbd1252ef0132133a2b">ao2_iterator_next</a>(&amp;i))) {</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;      <a class="code" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a1d63cb07a8937580384f256c8c705885">users_apply_handler</a>(pp);</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(pp, -1);</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;   }</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#ad36841ab6daa3997f7ca7047ad2d033a">ao2_iterator_destroy</a>(&amp;i);</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(users, -1);</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;}</div><div class="ttc" id="sorcery_8h_html_a320e98591a38316a313a3ca83ea8df20a643c7c50af2691bb16052509d47b61cd"><div class="ttname"><a href="../../d8/d25/sorcery_8h.html#a320e98591a38316a313a3ca83ea8df20a643c7c50af2691bb16052509d47b61cd">AST_RETRIEVE_FLAG_ALL</a></div><div class="ttdoc">Perform no matching, return all objects. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d25/sorcery_8h_source.html#l00123">sorcery.h:123</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad36841ab6daa3997f7ca7047ad2d033a"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad36841ab6daa3997f7ca7047ad2d033a">ao2_iterator_destroy</a></div><div class="ttdeci">void ao2_iterator_destroy(struct ao2_iterator *iter)</div><div class="ttdoc">Destroy a container iterator. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d22/astobj2__container_8c_source.html#l00534">astobj2_container.c:534</a></div></div>
<div class="ttc" id="sorcery_8h_html_a320e98591a38316a313a3ca83ea8df20a019a4a531b83f4ab0b35a3c788bf8d55"><div class="ttname"><a href="../../d8/d25/sorcery_8h.html#a320e98591a38316a313a3ca83ea8df20a019a4a531b83f4ab0b35a3c788bf8d55">AST_RETRIEVE_FLAG_MULTIPLE</a></div><div class="ttdoc">Return all matching objects. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d25/sorcery_8h_source.html#l00120">sorcery.h:120</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="astobj2_8h_html_a17990ea630db7dbd1252ef0132133a2b"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a17990ea630db7dbd1252ef0132133a2b">ao2_iterator_next</a></div><div class="ttdeci">#define ao2_iterator_next(iter)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01933">astobj2.h:1933</a></div></div>
<div class="ttc" id="res__phoneprov_8c_html_a83dc8a4d62a5fdcd27ed6756cdaeb114"><div class="ttname"><a href="../../d9/de9/res__phoneprov_8c.html#a83dc8a4d62a5fdcd27ed6756cdaeb114">users</a></div><div class="ttdeci">struct ao2_container * users</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de9/res__phoneprov_8c_source.html#l00318">res_phoneprov.c:318</a></div></div>
<div class="ttc" id="res__pjsip__phoneprov__provider_8c_html_a1d63cb07a8937580384f256c8c705885"><div class="ttname"><a href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a1d63cb07a8937580384f256c8c705885">users_apply_handler</a></div><div class="ttdeci">static void users_apply_handler(struct phoneprov *pp)</div><div class="ttdoc">Callback that validates the phoneprov object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbc/res__pjsip__phoneprov__provider_8c_source.html#l00289">res_pjsip_phoneprov_provider.c:289</a></div></div>
<div class="ttc" id="structphoneprov_html"><div class="ttname"><a href="../../d5/de8/structphoneprov.html">phoneprov</a></div><div class="ttdoc">Structure for a phoneprov object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbc/res__pjsip__phoneprov__provider_8c_source.html#l00129">res_pjsip_phoneprov_provider.c:129</a></div></div>
<div class="ttc" id="sorcery_8h_html_aaa9cd237841a70862001f580b23212c9"><div class="ttname"><a href="../../d8/d25/sorcery_8h.html#aaa9cd237841a70862001f580b23212c9">ast_sorcery_retrieve_by_fields</a></div><div class="ttdeci">void * ast_sorcery_retrieve_by_fields(const struct ast_sorcery *sorcery, const char *type, unsigned int flags, struct ast_variable *fields)</div><div class="ttdoc">Retrieve an object or multiple objects using specific fields. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l01897">sorcery.c:1897</a></div></div>
<div class="ttc" id="res__pjsip__phoneprov__provider_8c_html_a95eb520bdb1abcd2a70b1432d3ecbf4c"><div class="ttname"><a href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a95eb520bdb1abcd2a70b1432d3ecbf4c">sorcery</a></div><div class="ttdeci">static struct ast_sorcery * sorcery</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbc/res__pjsip__phoneprov__provider_8c_source.html#l00126">res_pjsip_phoneprov_provider.c:126</a></div></div>
<div class="ttc" id="structao2__iterator_html"><div class="ttname"><a href="../../d9/d97/structao2__iterator.html">ao2_iterator</a></div><div class="ttdoc">When we need to walk through a container, we use an ao2_iterator to keep track of the current positio...</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01841">astobj2.h:1841</a></div></div>
<div class="ttc" id="structao2__container_html"><div class="ttname"><a href="../../d2/da9/structao2__container.html">ao2_container</a></div><div class="ttdoc">Generic container type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d20/astobj2__container__private_8h_source.html#l00282">astobj2_container_private.h:282</a></div></div>
<div class="ttc" id="astobj2_8h_html_a91d5d37d00874ae7a92d1a15c0a3b3a6"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a91d5d37d00874ae7a92d1a15c0a3b3a6">ao2_iterator_init</a></div><div class="ttdeci">struct ao2_iterator ao2_iterator_init(struct ao2_container *c, int flags) attribute_warn_unused_result</div><div class="ttdoc">Create an iterator for a container. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d22/astobj2__container_8c_source.html#l00485">astobj2_container.c:485</a></div></div>
<div class="ttc" id="sorcery_8h_html_ad98ae6e153f53b0c3c40119acc5e5266"><div class="ttname"><a href="../../d8/d25/sorcery_8h.html#ad98ae6e153f53b0c3c40119acc5e5266">ast_sorcery_reload_object</a></div><div class="ttdeci">void ast_sorcery_reload_object(const struct ast_sorcery *sorcery, const char *type)</div><div class="ttdoc">Inform any wizards of a specific object type to reload persistent objects. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l01442">sorcery.c:1442</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a19b018b8140fafe10c6a6ce8d9e265d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a19b018b8140fafe10c6a6ce8d9e265d7">&#9670;&nbsp;</a></span>phoneprov_alloc()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void* phoneprov_alloc </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Allocator for phoneprov. </p>

<p class="definition">Definition at line <a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c_source.html#l00148">148</a> of file <a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c_source.html">res_pjsip_phoneprov_provider.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l01728">ast_sorcery_generic_alloc()</a>, <a class="el" href="../../d9/df9/chanvars_8c_source.html#l00097">ast_var_list_create()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c_source.html#l00135">phoneprov_destroy()</a>, and <a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c_source.html#l00131">phoneprov::vars</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c_source.html#l00368">load_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;{</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d5/de8/structphoneprov.html">phoneprov</a> *pp = <a class="code" href="../../d8/d25/sorcery_8h.html#a4c03ccef909474831717c93679065508">ast_sorcery_generic_alloc</a>(<span class="keyword">sizeof</span>(*pp), <a class="code" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#aa654fc562bf7cbb000055cbbe54e557f">phoneprov_destroy</a>);</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;   <span class="keywordflow">if</span> (!pp || !(pp-&gt;<a class="code" href="../../d5/de8/structphoneprov.html#a9bb9f65f9ba922a3b001bac434de488c">vars</a> = <a class="code" href="../../d9/de7/chanvars_8h.html#a1df6978d9c527d25a2f5d195a50d1b36">ast_var_list_create</a>())) {</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Unable to allocate memory for phoneprov structure %s\n&quot;</span>,</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;         <a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>);</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>(pp);</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;   }</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;   <span class="keywordflow">return</span> pp;</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;}</div><div class="ttc" id="structphoneprov_html_a9bb9f65f9ba922a3b001bac434de488c"><div class="ttname"><a href="../../d5/de8/structphoneprov.html#a9bb9f65f9ba922a3b001bac434de488c">phoneprov::vars</a></div><div class="ttdeci">struct varshead * vars</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbc/res__pjsip__phoneprov__provider_8c_source.html#l00131">res_pjsip_phoneprov_provider.c:131</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="res__pjsip__phoneprov__provider_8c_html_aa654fc562bf7cbb000055cbbe54e557f"><div class="ttname"><a href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#aa654fc562bf7cbb000055cbbe54e557f">phoneprov_destroy</a></div><div class="ttdeci">static void phoneprov_destroy(void *obj)</div><div class="ttdoc">Destructor function for phoneprov. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbc/res__pjsip__phoneprov__provider_8c_source.html#l00135">res_pjsip_phoneprov_provider.c:135</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="cdr__mysql_8c_html_a0980a105ccb863d8008eb6201a51da52"><div class="ttname"><a href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a></div><div class="ttdeci">static const char name[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/cdr__mysql_8c_source.html#l00074">cdr_mysql.c:74</a></div></div>
<div class="ttc" id="structphoneprov_html"><div class="ttname"><a href="../../d5/de8/structphoneprov.html">phoneprov</a></div><div class="ttdoc">Structure for a phoneprov object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbc/res__pjsip__phoneprov__provider_8c_source.html#l00129">res_pjsip_phoneprov_provider.c:129</a></div></div>
<div class="ttc" id="chanvars_8h_html_a1df6978d9c527d25a2f5d195a50d1b36"><div class="ttname"><a href="../../d9/de7/chanvars_8h.html#a1df6978d9c527d25a2f5d195a50d1b36">ast_var_list_create</a></div><div class="ttdeci">struct varshead * ast_var_list_create(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/df9/chanvars_8c_source.html#l00097">chanvars.c:97</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="sorcery_8h_html_a4c03ccef909474831717c93679065508"><div class="ttname"><a href="../../d8/d25/sorcery_8h.html#a4c03ccef909474831717c93679065508">ast_sorcery_generic_alloc</a></div><div class="ttdeci">void * ast_sorcery_generic_alloc(size_t size, ao2_destructor_fn destructor)</div><div class="ttdoc">Allocate a generic sorcery capable object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l01728">sorcery.c:1728</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa654fc562bf7cbb000055cbbe54e557f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa654fc562bf7cbb000055cbbe54e557f">&#9670;&nbsp;</a></span>phoneprov_destroy()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void phoneprov_destroy </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>obj</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Destructor function for phoneprov. </p>

<p class="definition">Definition at line <a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c_source.html#l00135">135</a> of file <a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c_source.html">res_pjsip_phoneprov_provider.c</a>.</p>

<p class="reference">References <a class="el" href="../../d9/daa/app__audiosocket_8c_source.html#l00045">AST_MODULE</a>, <a class="el" href="../../d9/de9/res__phoneprov_8c_source.html#l01585">ast_phoneprov_delete_extension()</a>, <a class="el" href="../../d9/df9/chanvars_8c_source.html#l00085">ast_var_find()</a>, <a class="el" href="../../d9/df9/chanvars_8c_source.html#l00109">ast_var_list_destroy()</a>, and <a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c_source.html#l00131">phoneprov::vars</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c_source.html#l00148">phoneprov_alloc()</a>.</p>
<div class="fragment"><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;{</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d5/de8/structphoneprov.html">phoneprov</a> *pp = obj;</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;   <span class="keywordtype">char</span> *mac = <a class="code" href="../../d9/de7/chanvars_8h.html#a10c46a8667c6f917a391718ad580a8ee">ast_var_find</a>(pp-&gt;<a class="code" href="../../d5/de8/structphoneprov.html#a9bb9f65f9ba922a3b001bac434de488c">vars</a>, <span class="stringliteral">&quot;MAC&quot;</span>);</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;   <span class="keywordflow">if</span> (mac) {</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;      <a class="code" href="../../d7/d50/phoneprov_8h.html#abc4a9c6465f0e993e2db007adcf4ec8d">ast_phoneprov_delete_extension</a>(<a class="code" href="../../d9/daa/app__audiosocket_8c.html#aec23fc5034c3bb08140fc021f4955877">AST_MODULE</a>, mac);</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;   }</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;   <a class="code" href="../../d9/de7/chanvars_8h.html#a0b8e11b286f89075c1b2615211125c2b">ast_var_list_destroy</a>(pp-&gt;<a class="code" href="../../d5/de8/structphoneprov.html#a9bb9f65f9ba922a3b001bac434de488c">vars</a>);</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;}</div><div class="ttc" id="structphoneprov_html_a9bb9f65f9ba922a3b001bac434de488c"><div class="ttname"><a href="../../d5/de8/structphoneprov.html#a9bb9f65f9ba922a3b001bac434de488c">phoneprov::vars</a></div><div class="ttdeci">struct varshead * vars</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbc/res__pjsip__phoneprov__provider_8c_source.html#l00131">res_pjsip_phoneprov_provider.c:131</a></div></div>
<div class="ttc" id="chanvars_8h_html_a10c46a8667c6f917a391718ad580a8ee"><div class="ttname"><a href="../../d9/de7/chanvars_8h.html#a10c46a8667c6f917a391718ad580a8ee">ast_var_find</a></div><div class="ttdeci">char * ast_var_find(const struct varshead *head, const char *name)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/df9/chanvars_8c_source.html#l00085">chanvars.c:85</a></div></div>
<div class="ttc" id="structphoneprov_html"><div class="ttname"><a href="../../d5/de8/structphoneprov.html">phoneprov</a></div><div class="ttdoc">Structure for a phoneprov object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbc/res__pjsip__phoneprov__provider_8c_source.html#l00129">res_pjsip_phoneprov_provider.c:129</a></div></div>
<div class="ttc" id="app__audiosocket_8c_html_aec23fc5034c3bb08140fc021f4955877"><div class="ttname"><a href="../../d9/daa/app__audiosocket_8c.html#aec23fc5034c3bb08140fc021f4955877">AST_MODULE</a></div><div class="ttdeci">#define AST_MODULE</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/daa/app__audiosocket_8c_source.html#l00045">app_audiosocket.c:45</a></div></div>
<div class="ttc" id="phoneprov_8h_html_abc4a9c6465f0e993e2db007adcf4ec8d"><div class="ttname"><a href="../../d7/d50/phoneprov_8h.html#abc4a9c6465f0e993e2db007adcf4ec8d">ast_phoneprov_delete_extension</a></div><div class="ttdeci">void ast_phoneprov_delete_extension(char *provider_name, char *macaddress)</div><div class="ttdoc">Deletes an extension. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de9/res__phoneprov_8c_source.html#l01585">res_phoneprov.c:1585</a></div></div>
<div class="ttc" id="chanvars_8h_html_a0b8e11b286f89075c1b2615211125c2b"><div class="ttname"><a href="../../d9/de7/chanvars_8h.html#a0b8e11b286f89075c1b2615211125c2b">ast_var_list_destroy</a></div><div class="ttdeci">void ast_var_list_destroy(struct varshead *head)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/df9/chanvars_8c_source.html#l00109">chanvars.c:109</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a7c6ac25ea7536c0bc9ed18cbcf917527"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7c6ac25ea7536c0bc9ed18cbcf917527">&#9670;&nbsp;</a></span>reload_module()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int reload_module </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c_source.html#l00401">401</a> of file <a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c_source.html">res_pjsip_phoneprov_provider.c</a>.</p>

<p class="reference">References <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00317">AST_MODFLAG_LOAD_ORDER</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00328">AST_MODPRI_APP_DEPEND</a>, <a class="el" href="../../d9/daa/app__audiosocket_8c_source.html#l00045">AST_MODULE</a>, <a class="el" href="../../d9/de9/res__phoneprov_8c.html#addaa208b0ed785225e24490fb9f28a80">AST_MODULE_INFO()</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00078">AST_MODULE_LOAD_DECLINE</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00122">AST_MODULE_SUPPORT_EXTENDED</a>, <a class="el" href="../../d9/de9/res__phoneprov_8c_source.html#l01514">ast_phoneprov_provider_register()</a>, <a class="el" href="../../d9/de9/res__phoneprov_8c_source.html#l01604">ast_phoneprov_provider_unregister()</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00046">ASTERISK_GPL_KEY</a>, <a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c_source.html#l00368">load_module()</a>, <a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c_source.html#l00343">load_users()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../d0/d29/cdr__mysql_8c_source.html#l00741">reload()</a>, and <a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c_source.html#l00394">unload_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;{</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;   <a class="code" href="../../d7/d50/phoneprov_8h.html#a3abf037ffea44720cdb5b8bce4fa7c72">ast_phoneprov_provider_unregister</a>(<a class="code" href="../../d9/daa/app__audiosocket_8c.html#aec23fc5034c3bb08140fc021f4955877">AST_MODULE</a>);</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d7/d50/phoneprov_8h.html#af53aa46d99a1efa854d249df26cec227">ast_phoneprov_provider_register</a>(<a class="code" href="../../d9/daa/app__audiosocket_8c.html#aec23fc5034c3bb08140fc021f4955877">AST_MODULE</a>, <a class="code" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#aceb9567b3d5ac32c079a14ab6ee28ab4">load_users</a>)) {</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Unable to register pjsip phoneprov provider.\n&quot;</span>);</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfac742921e9f9512d28f62c74ea2affe57">AST_MODULE_LOAD_DECLINE</a>;</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;   }</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;}</div><div class="ttc" id="phoneprov_8h_html_af53aa46d99a1efa854d249df26cec227"><div class="ttname"><a href="../../d7/d50/phoneprov_8h.html#af53aa46d99a1efa854d249df26cec227">ast_phoneprov_provider_register</a></div><div class="ttdeci">int ast_phoneprov_provider_register(char *provider_name, ast_phoneprov_load_users_cb load_users)</div><div class="ttdoc">Registers a config provider to phoneprov. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de9/res__phoneprov_8c_source.html#l01514">res_phoneprov.c:1514</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="phoneprov_8h_html_a3abf037ffea44720cdb5b8bce4fa7c72"><div class="ttname"><a href="../../d7/d50/phoneprov_8h.html#a3abf037ffea44720cdb5b8bce4fa7c72">ast_phoneprov_provider_unregister</a></div><div class="ttdeci">void ast_phoneprov_provider_unregister(char *provider_name)</div><div class="ttdoc">Unegisters a config provider from phoneprov and frees its resources. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de9/res__phoneprov_8c_source.html#l01604">res_phoneprov.c:1604</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="module_8h_html_adc09474f0ff557e9925b722ee5b952dfac742921e9f9512d28f62c74ea2affe57"><div class="ttname"><a href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfac742921e9f9512d28f62c74ea2affe57">AST_MODULE_LOAD_DECLINE</a></div><div class="ttdoc">Module has failed to load, may be in an inconsistent state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00078">module.h:78</a></div></div>
<div class="ttc" id="app__audiosocket_8c_html_aec23fc5034c3bb08140fc021f4955877"><div class="ttname"><a href="../../d9/daa/app__audiosocket_8c.html#aec23fc5034c3bb08140fc021f4955877">AST_MODULE</a></div><div class="ttdeci">#define AST_MODULE</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/daa/app__audiosocket_8c_source.html#l00045">app_audiosocket.c:45</a></div></div>
<div class="ttc" id="res__pjsip__phoneprov__provider_8c_html_aceb9567b3d5ac32c079a14ab6ee28ab4"><div class="ttname"><a href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#aceb9567b3d5ac32c079a14ab6ee28ab4">load_users</a></div><div class="ttdeci">static int load_users(void)</div><div class="ttdoc">Callback that loads the users from phoneprov sections. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbc/res__pjsip__phoneprov__provider_8c_source.html#l00343">res_pjsip_phoneprov_provider.c:343</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad09fa931f468002152a3cc2d5ce25eae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad09fa931f468002152a3cc2d5ce25eae">&#9670;&nbsp;</a></span>unload_module()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int unload_module </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c_source.html#l00394">394</a> of file <a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c_source.html">res_pjsip_phoneprov_provider.c</a>.</p>

<p class="reference">References <a class="el" href="../../d9/daa/app__audiosocket_8c_source.html#l00045">AST_MODULE</a>, and <a class="el" href="../../d9/de9/res__phoneprov_8c_source.html#l01604">ast_phoneprov_provider_unregister()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c_source.html#l00401">reload_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;{</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;   <a class="code" href="../../d7/d50/phoneprov_8h.html#a3abf037ffea44720cdb5b8bce4fa7c72">ast_phoneprov_provider_unregister</a>(<a class="code" href="../../d9/daa/app__audiosocket_8c.html#aec23fc5034c3bb08140fc021f4955877">AST_MODULE</a>);</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;}</div><div class="ttc" id="phoneprov_8h_html_a3abf037ffea44720cdb5b8bce4fa7c72"><div class="ttname"><a href="../../d7/d50/phoneprov_8h.html#a3abf037ffea44720cdb5b8bce4fa7c72">ast_phoneprov_provider_unregister</a></div><div class="ttdeci">void ast_phoneprov_provider_unregister(char *provider_name)</div><div class="ttdoc">Unegisters a config provider from phoneprov and frees its resources. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de9/res__phoneprov_8c_source.html#l01604">res_phoneprov.c:1604</a></div></div>
<div class="ttc" id="app__audiosocket_8c_html_aec23fc5034c3bb08140fc021f4955877"><div class="ttname"><a href="../../d9/daa/app__audiosocket_8c.html#aec23fc5034c3bb08140fc021f4955877">AST_MODULE</a></div><div class="ttdeci">#define AST_MODULE</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/daa/app__audiosocket_8c_source.html#l00045">app_audiosocket.c:45</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a1d63cb07a8937580384f256c8c705885"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d63cb07a8937580384f256c8c705885">&#9670;&nbsp;</a></span>users_apply_handler()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void users_apply_handler </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d5/de8/structphoneprov.html">phoneprov</a> *&#160;</td>
          <td class="paramname"><em>pp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Callback that validates the phoneprov object. </p>

<p class="definition">Definition at line <a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c_source.html#l00289">289</a> of file <a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c_source.html">res_pjsip_phoneprov_provider.c</a>.</p>

<p class="reference">References <a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c_source.html#l00163">assign_and_insert()</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d9/daa/app__audiosocket_8c_source.html#l00045">AST_MODULE</a>, <a class="el" href="../../d9/de9/res__phoneprov_8c_source.html#l01614">ast_phoneprov_add_extension()</a>, <a class="el" href="../../d7/d50/phoneprov_8h_source.html#l00035">AST_PHONEPROV_STD_LABEL</a>, <a class="el" href="../../d7/d50/phoneprov_8h_source.html#l00030">AST_PHONEPROV_STD_MAC</a>, <a class="el" href="../../d7/d50/phoneprov_8h_source.html#l00031">AST_PHONEPROV_STD_PROFILE</a>, <a class="el" href="../../d7/d50/phoneprov_8h_source.html#l00041">AST_PHONEPROV_STD_SERVER_PORT</a>, <a class="el" href="../../d7/d50/phoneprov_8h_source.html#l00032">AST_PHONEPROV_STD_USERNAME</a>, <a class="el" href="../../d9/de9/res__phoneprov_8c_source.html#l01505">ast_phoneprov_std_variable_lookup()</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l02312">ast_sorcery_object_get_id()</a>, <a class="el" href="../../d9/df9/chanvars_8c_source.html#l00085">ast_var_find()</a>, <a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c_source.html#l00223">load_endpoint()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00079">S_OR</a>, and <a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c_source.html#l00131">phoneprov::vars</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c_source.html#l00343">load_users()</a>.</p>
<div class="fragment"><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;{</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keywordtype">id</span> = <a class="code" href="../../d8/d25/sorcery_8h.html#a97706283a06cbb44e4f0f9620dd5cf07">ast_sorcery_object_get_id</a>(pp);</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *endpoint_name;</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;   <span class="keywordtype">char</span> port_string[6];</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d9/de7/chanvars_8h.html#a10c46a8667c6f917a391718ad580a8ee">ast_var_find</a>(pp-&gt;<a class="code" href="../../d5/de8/structphoneprov.html#a9bb9f65f9ba922a3b001bac434de488c">vars</a>,</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;      <a class="code" href="../../d7/d50/phoneprov_8h.html#a76a1f7f6b8d45a021c95a96863d8390b">ast_phoneprov_std_variable_lookup</a>(<a class="code" href="../../d7/d50/phoneprov_8h.html#a91ad1746f852b2da89475b86fb4ef962a4c06cd76782e52f59d79481cdf1a82b3">AST_PHONEPROV_STD_MAC</a>))) {</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;phoneprov %s must contain a MAC entry.\n&quot;</span>, <span class="keywordtype">id</span>);</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;   }</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d9/de7/chanvars_8h.html#a10c46a8667c6f917a391718ad580a8ee">ast_var_find</a>(pp-&gt;<a class="code" href="../../d5/de8/structphoneprov.html#a9bb9f65f9ba922a3b001bac434de488c">vars</a>,</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;      <a class="code" href="../../d7/d50/phoneprov_8h.html#a76a1f7f6b8d45a021c95a96863d8390b">ast_phoneprov_std_variable_lookup</a>(<a class="code" href="../../d7/d50/phoneprov_8h.html#a91ad1746f852b2da89475b86fb4ef962aa5e9f903f247d7ccfe2e755a3b71dfbe">AST_PHONEPROV_STD_PROFILE</a>))) {</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;phoneprov %s must contain a PROFILE entry.\n&quot;</span>, <span class="keywordtype">id</span>);</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;   }</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;   endpoint_name = <a class="code" href="../../d9/de7/chanvars_8h.html#a10c46a8667c6f917a391718ad580a8ee">ast_var_find</a>(pp-&gt;<a class="code" href="../../d5/de8/structphoneprov.html#a9bb9f65f9ba922a3b001bac434de488c">vars</a>, <span class="stringliteral">&quot;endpoint&quot;</span>);</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;   <span class="keywordflow">if</span> (endpoint_name) {</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a2b4073f6d990b040f39e9fe2927b2f1f">load_endpoint</a>(<span class="keywordtype">id</span>, endpoint_name, pp-&gt;<a class="code" href="../../d5/de8/structphoneprov.html#a9bb9f65f9ba922a3b001bac434de488c">vars</a>, port_string)) {</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;         <span class="keywordflow">return</span>;</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;      }</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;   }</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d9/de7/chanvars_8h.html#a10c46a8667c6f917a391718ad580a8ee">ast_var_find</a>(pp-&gt;<a class="code" href="../../d5/de8/structphoneprov.html#a9bb9f65f9ba922a3b001bac434de488c">vars</a>,</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;      <a class="code" href="../../d7/d50/phoneprov_8h.html#a76a1f7f6b8d45a021c95a96863d8390b">ast_phoneprov_std_variable_lookup</a>(<a class="code" href="../../d7/d50/phoneprov_8h.html#a91ad1746f852b2da89475b86fb4ef962a6dd6f797aa633b6c26fa2a4a891a1c76">AST_PHONEPROV_STD_USERNAME</a>))) {</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;      <a class="code" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#acb894323d41bb079bc18fd3ce1c93600">assign_and_insert</a>(</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;         <a class="code" href="../../d7/d50/phoneprov_8h.html#a76a1f7f6b8d45a021c95a96863d8390b">ast_phoneprov_std_variable_lookup</a>(<a class="code" href="../../d7/d50/phoneprov_8h.html#a91ad1746f852b2da89475b86fb4ef962a6dd6f797aa633b6c26fa2a4a891a1c76">AST_PHONEPROV_STD_USERNAME</a>), <span class="keywordtype">id</span>,</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;         pp-&gt;<a class="code" href="../../d5/de8/structphoneprov.html#a9bb9f65f9ba922a3b001bac434de488c">vars</a>);</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;   }</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d9/de7/chanvars_8h.html#a10c46a8667c6f917a391718ad580a8ee">ast_var_find</a>(pp-&gt;<a class="code" href="../../d5/de8/structphoneprov.html#a9bb9f65f9ba922a3b001bac434de488c">vars</a>,</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;      <a class="code" href="../../d7/d50/phoneprov_8h.html#a76a1f7f6b8d45a021c95a96863d8390b">ast_phoneprov_std_variable_lookup</a>(<a class="code" href="../../d7/d50/phoneprov_8h.html#a91ad1746f852b2da89475b86fb4ef962aa4d81659127387936a2b9f0839514842">AST_PHONEPROV_STD_LABEL</a>))) {</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;      <a class="code" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#acb894323d41bb079bc18fd3ce1c93600">assign_and_insert</a>(<a class="code" href="../../d7/d50/phoneprov_8h.html#a76a1f7f6b8d45a021c95a96863d8390b">ast_phoneprov_std_variable_lookup</a>(<a class="code" href="../../d7/d50/phoneprov_8h.html#a91ad1746f852b2da89475b86fb4ef962aa4d81659127387936a2b9f0839514842">AST_PHONEPROV_STD_LABEL</a>),</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;         <span class="keywordtype">id</span>, pp-&gt;<a class="code" href="../../d5/de8/structphoneprov.html#a9bb9f65f9ba922a3b001bac434de488c">vars</a>);</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;   }</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d9/de7/chanvars_8h.html#a10c46a8667c6f917a391718ad580a8ee">ast_var_find</a>(pp-&gt;<a class="code" href="../../d5/de8/structphoneprov.html#a9bb9f65f9ba922a3b001bac434de488c">vars</a>,</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;      <a class="code" href="../../d7/d50/phoneprov_8h.html#a76a1f7f6b8d45a021c95a96863d8390b">ast_phoneprov_std_variable_lookup</a>(<a class="code" href="../../d7/d50/phoneprov_8h.html#a91ad1746f852b2da89475b86fb4ef962a2405edc0cbfb62175d1eed3be475ed9d">AST_PHONEPROV_STD_SERVER_PORT</a>))) {</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;      <a class="code" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#acb894323d41bb079bc18fd3ce1c93600">assign_and_insert</a>(<span class="stringliteral">&quot;SERVER_PORT&quot;</span>, <a class="code" href="../../d6/d90/strings_8h.html#a2faaa16929951bfd2802b7829a100ba2">S_OR</a>(port_string, <span class="stringliteral">&quot;5060&quot;</span>), pp-&gt;<a class="code" href="../../d5/de8/structphoneprov.html#a9bb9f65f9ba922a3b001bac434de488c">vars</a>);</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;   }</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d9/de7/chanvars_8h.html#a10c46a8667c6f917a391718ad580a8ee">ast_var_find</a>(pp-&gt;<a class="code" href="../../d5/de8/structphoneprov.html#a9bb9f65f9ba922a3b001bac434de488c">vars</a>,</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;      <a class="code" href="../../d7/d50/phoneprov_8h.html#a76a1f7f6b8d45a021c95a96863d8390b">ast_phoneprov_std_variable_lookup</a>(<a class="code" href="../../d7/d50/phoneprov_8h.html#a91ad1746f852b2da89475b86fb4ef962aa5e9f903f247d7ccfe2e755a3b71dfbe">AST_PHONEPROV_STD_PROFILE</a>))) {</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;phoneprov %s didn&#39;t contain a PROFILE entry.\n&quot;</span>, <span class="keywordtype">id</span>);</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;   }</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;   <a class="code" href="../../d7/d50/phoneprov_8h.html#a4de0e222e0c7b8770d9be873330ea13e">ast_phoneprov_add_extension</a>(<a class="code" href="../../d9/daa/app__audiosocket_8c.html#aec23fc5034c3bb08140fc021f4955877">AST_MODULE</a>, pp-&gt;<a class="code" href="../../d5/de8/structphoneprov.html#a9bb9f65f9ba922a3b001bac434de488c">vars</a>);</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;   <span class="keywordflow">return</span>;</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;}</div><div class="ttc" id="phoneprov_8h_html_a91ad1746f852b2da89475b86fb4ef962aa5e9f903f247d7ccfe2e755a3b71dfbe"><div class="ttname"><a href="../../d7/d50/phoneprov_8h.html#a91ad1746f852b2da89475b86fb4ef962aa5e9f903f247d7ccfe2e755a3b71dfbe">AST_PHONEPROV_STD_PROFILE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d50/phoneprov_8h_source.html#l00031">phoneprov.h:31</a></div></div>
<div class="ttc" id="structphoneprov_html_a9bb9f65f9ba922a3b001bac434de488c"><div class="ttname"><a href="../../d5/de8/structphoneprov.html#a9bb9f65f9ba922a3b001bac434de488c">phoneprov::vars</a></div><div class="ttdeci">struct varshead * vars</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbc/res__pjsip__phoneprov__provider_8c_source.html#l00131">res_pjsip_phoneprov_provider.c:131</a></div></div>
<div class="ttc" id="res__pjsip__phoneprov__provider_8c_html_a2b4073f6d990b040f39e9fe2927b2f1f"><div class="ttname"><a href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#a2b4073f6d990b040f39e9fe2927b2f1f">load_endpoint</a></div><div class="ttdeci">static int load_endpoint(const char *id, const char *endpoint_name, struct varshead *vars, char *port_string)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbc/res__pjsip__phoneprov__provider_8c_source.html#l00223">res_pjsip_phoneprov_provider.c:223</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="phoneprov_8h_html_a91ad1746f852b2da89475b86fb4ef962a2405edc0cbfb62175d1eed3be475ed9d"><div class="ttname"><a href="../../d7/d50/phoneprov_8h.html#a91ad1746f852b2da89475b86fb4ef962a2405edc0cbfb62175d1eed3be475ed9d">AST_PHONEPROV_STD_SERVER_PORT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d50/phoneprov_8h_source.html#l00041">phoneprov.h:41</a></div></div>
<div class="ttc" id="sorcery_8h_html_a97706283a06cbb44e4f0f9620dd5cf07"><div class="ttname"><a href="../../d8/d25/sorcery_8h.html#a97706283a06cbb44e4f0f9620dd5cf07">ast_sorcery_object_get_id</a></div><div class="ttdeci">const char * ast_sorcery_object_get_id(const void *object)</div><div class="ttdoc">Get the unique identifier of a sorcery object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d69/sorcery_8c_source.html#l02312">sorcery.c:2312</a></div></div>
<div class="ttc" id="phoneprov_8h_html_a91ad1746f852b2da89475b86fb4ef962a6dd6f797aa633b6c26fa2a4a891a1c76"><div class="ttname"><a href="../../d7/d50/phoneprov_8h.html#a91ad1746f852b2da89475b86fb4ef962a6dd6f797aa633b6c26fa2a4a891a1c76">AST_PHONEPROV_STD_USERNAME</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d50/phoneprov_8h_source.html#l00032">phoneprov.h:32</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="res__pjsip__phoneprov__provider_8c_html_acb894323d41bb079bc18fd3ce1c93600"><div class="ttname"><a href="../../d1/dbc/res__pjsip__phoneprov__provider_8c.html#acb894323d41bb079bc18fd3ce1c93600">assign_and_insert</a></div><div class="ttdeci">static int assign_and_insert(const char *name, const char *value, struct varshead *vars)</div><div class="ttdoc">Helper that creates an ast_var_t and inserts it into the list. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbc/res__pjsip__phoneprov__provider_8c_source.html#l00163">res_pjsip_phoneprov_provider.c:163</a></div></div>
<div class="ttc" id="phoneprov_8h_html_a91ad1746f852b2da89475b86fb4ef962a4c06cd76782e52f59d79481cdf1a82b3"><div class="ttname"><a href="../../d7/d50/phoneprov_8h.html#a91ad1746f852b2da89475b86fb4ef962a4c06cd76782e52f59d79481cdf1a82b3">AST_PHONEPROV_STD_MAC</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d50/phoneprov_8h_source.html#l00030">phoneprov.h:30</a></div></div>
<div class="ttc" id="chanvars_8h_html_a10c46a8667c6f917a391718ad580a8ee"><div class="ttname"><a href="../../d9/de7/chanvars_8h.html#a10c46a8667c6f917a391718ad580a8ee">ast_var_find</a></div><div class="ttdeci">char * ast_var_find(const struct varshead *head, const char *name)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/df9/chanvars_8c_source.html#l00085">chanvars.c:85</a></div></div>
<div class="ttc" id="phoneprov_8h_html_a4de0e222e0c7b8770d9be873330ea13e"><div class="ttname"><a href="../../d7/d50/phoneprov_8h.html#a4de0e222e0c7b8770d9be873330ea13e">ast_phoneprov_add_extension</a></div><div class="ttdeci">int ast_phoneprov_add_extension(char *provider_name, struct varshead *vars)</div><div class="ttdoc">Adds an extension. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de9/res__phoneprov_8c_source.html#l01614">res_phoneprov.c:1614</a></div></div>
<div class="ttc" id="app__audiosocket_8c_html_aec23fc5034c3bb08140fc021f4955877"><div class="ttname"><a href="../../d9/daa/app__audiosocket_8c.html#aec23fc5034c3bb08140fc021f4955877">AST_MODULE</a></div><div class="ttdeci">#define AST_MODULE</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/daa/app__audiosocket_8c_source.html#l00045">app_audiosocket.c:45</a></div></div>
<div class="ttc" id="phoneprov_8h_html_a91ad1746f852b2da89475b86fb4ef962aa4d81659127387936a2b9f0839514842"><div class="ttname"><a href="../../d7/d50/phoneprov_8h.html#a91ad1746f852b2da89475b86fb4ef962aa4d81659127387936a2b9f0839514842">AST_PHONEPROV_STD_LABEL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d50/phoneprov_8h_source.html#l00035">phoneprov.h:35</a></div></div>
<div class="ttc" id="strings_8h_html_a2faaa16929951bfd2802b7829a100ba2"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a2faaa16929951bfd2802b7829a100ba2">S_OR</a></div><div class="ttdeci">#define S_OR(a, b)</div><div class="ttdoc">returns the equivalent of logic or for strings: first one if not empty, otherwise second one...</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00079">strings.h:79</a></div></div>
<div class="ttc" id="phoneprov_8h_html_a76a1f7f6b8d45a021c95a96863d8390b"><div class="ttname"><a href="../../d7/d50/phoneprov_8h.html#a76a1f7f6b8d45a021c95a96863d8390b">ast_phoneprov_std_variable_lookup</a></div><div class="ttdeci">const char * ast_phoneprov_std_variable_lookup(enum ast_phoneprov_std_variables var)</div><div class="ttdoc">Returns the string respresentation of a phoneprov standard variable. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de9/res__phoneprov_8c_source.html#l01505">res_phoneprov.c:1505</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ab22f32016155f7f403e7178767163d7d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab22f32016155f7f403e7178767163d7d">&#9670;&nbsp;</a></span>__mod_info</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a> __mod_info = { .<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a> = <a class="el" href="../../da/ddd/named__acl_8c.html#aec23fc5034c3bb08140fc021f4955877">AST_MODULE</a>, .flags = <a class="el" href="../../d5/d16/module_8h.html#a155a0df9c59e04e305d4a2fa3e35f843a12c3f60dd7655dfa8d4430cbf04b1223">AST_MODFLAG_LOAD_ORDER</a> , .description = &quot;PJSIP Phoneprov Provider&quot; , .key = &quot;This paragraph is copyright (<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>) 2006 by Digium, Inc. \In <a class="el" href="../../d5/d14/voicin_8c.html#aed7ca058008dc3e5ee131e575abed285">order</a> for your module to load, it must return this \key via <a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a> function called \&quot;key\&quot;. Any code which \includes this paragraph must <a class="el" href="../../dd/d7c/eagi__proxy_8c.html#a39730e90126aad69cfc9ca4d6fcdb3a6">be</a> licensed under the GNU \General Public License <a class="el" href="../../da/d7c/utils_2frame_8h.html#a56abfaab87c46691c1ef3ad0df23e864">version</a> 2 or later (at your \option). In addition to Digium's general reservations \of rights, Digium expressly reserves the right to \allow other parties to license this paragraph under \different terms. Any use of Digium, Inc. trademarks or \logos (including \&quot;Asterisk\&quot; or \&quot;Digium\&quot;) without \express written <a class="el" href="../../d4/d4c/structpermission.html">permission</a> of Digium, Inc. is prohibited.\n&quot; , .buildopt_sum = &quot;30ef0c93b36035ec78c9cfd712d36d9b&quot; , .support_level = AST_MODULE_SUPPORT_EXTENDED, .load = load_module, .reload = reload_module, .unload = unload_module, .load_pri = AST_MODPRI_APP_DEPEND, .requires = &quot;res_pjsip,res_phoneprov&quot;, }</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c_source.html#l00420">420</a> of file <a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c_source.html">res_pjsip_phoneprov_provider.c</a>.</p>

</div>
</div>
<a id="ad60e83b9aa660040fed4d5377966cc21"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad60e83b9aa660040fed4d5377966cc21">&#9670;&nbsp;</a></span>ast_module_info</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const struct <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a>* <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a> = &amp;<a class="el" href="../../d6/d7a/test__xml__escape_8c.html#ab22f32016155f7f403e7178767163d7d">__mod_info</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c_source.html#l00420">420</a> of file <a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c_source.html">res_pjsip_phoneprov_provider.c</a>.</p>

</div>
</div>
<a id="a95eb520bdb1abcd2a70b1432d3ecbf4c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a95eb520bdb1abcd2a70b1432d3ecbf4c">&#9670;&nbsp;</a></span>sorcery</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d2/d88/structast__sorcery.html">ast_sorcery</a>* sorcery</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c_source.html#l00126">126</a> of file <a class="el" href="../../d1/dbc/res__pjsip__phoneprov__provider_8c_source.html">res_pjsip_phoneprov_provider.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00601">__ast_sorcery_open()</a>, <a class="el" href="../../d6/d12/test__sorcery_8c_source.html#l00332">alloc_and_initialize_sorcery()</a>, <a class="el" href="../../df/d20/resource__asterisk_8c_source.html#l00247">ast_ari_asterisk_delete_object()</a>, <a class="el" href="../../df/d20/resource__asterisk_8c_source.html#l00089">ast_ari_asterisk_get_object()</a>, <a class="el" href="../../df/d20/resource__asterisk_8c_source.html#l00128">ast_ari_asterisk_update_object()</a>, <a class="el" href="../../dd/dfd/config__global_8c_source.html#l00630">ast_sip_destroy_sorcery_global()</a>, <a class="el" href="../../d5/dcb/config__auth_8c_source.html#l00370">ast_sip_initialize_sorcery_auth()</a>, <a class="el" href="../../d9/d9e/config__domain__aliases_8c_source.html#l00071">ast_sip_initialize_sorcery_domain_alias()</a>, <a class="el" href="../../dd/dfd/config__global_8c_source.html#l00647">ast_sip_initialize_sorcery_global()</a>, <a class="el" href="../../d0/dad/location_8c_source.html#l01366">ast_sip_initialize_sorcery_location()</a>, <a class="el" href="../../d3/d17/config__transport_8c_source.html#l01618">ast_sip_initialize_sorcery_transport()</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l02057">ast_sorcery_create()</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l02233">ast_sorcery_delete()</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l01425">ast_sorcery_force_reload()</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l01457">ast_sorcery_force_reload_object()</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l01377">ast_sorcery_load()</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l01393">ast_sorcery_load_object()</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l01408">ast_sorcery_reload()</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l01442">ast_sorcery_reload_object()</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l01853">ast_sorcery_retrieve_by_id()</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l02145">ast_sorcery_update()</a>, <a class="el" href="../../d6/d12/test__sorcery_8c_source.html#l00391">AST_TEST_DEFINE()</a>, <a class="el" href="../../d9/d96/res__pjsip__outbound__registration_8c_source.html#l01461">can_reuse_registration()</a>, <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l05560">load_module()</a>, <a class="el" href="../../d2/dea/res__sorcery__config_8c_source.html#l00170">sorcery_config_retrieve_fields()</a>, <a class="el" href="../../d2/dea/res__sorcery__config_8c_source.html#l00196">sorcery_config_retrieve_multiple()</a>, <a class="el" href="../../d2/dea/res__sorcery__config_8c_source.html#l00236">sorcery_config_retrieve_prefix()</a>, <a class="el" href="../../d2/dea/res__sorcery__config_8c_source.html#l00213">sorcery_config_retrieve_regex()</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l00581">sorcery_destructor()</a>, <a class="el" href="../../d3/dc6/func__sorcery_8c_source.html#l00079">sorcery_function_read()</a>, <a class="el" href="../../d7/d69/sorcery_8c_source.html#l01253">sorcery_wizard_load()</a>, <a class="el" href="../../d7/d5c/certificate_8c_source.html#l00355">stir_shaken_certificate_load()</a>, <a class="el" href="../../d1/dca/general_8c_source.html#l00248">stir_shaken_general_load()</a>, <a class="el" href="../../d9/d7e/store_8c_source.html#l00180">stir_shaken_store_load()</a>, <a class="el" href="../../d7/d5c/certificate_8c_source.html#l00280">test_stir_shaken_cleanup_cert()</a>, and <a class="el" href="../../d7/d5c/certificate_8c_source.html#l00306">test_stir_shaken_create_cert()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Aug 8 2021 19:46:32 for Asterisk - The Open Source Telephony Project by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
