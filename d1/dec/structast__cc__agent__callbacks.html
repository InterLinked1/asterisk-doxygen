<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Asterisk - The Open Source Telephony Project: ast_cc_agent_callbacks Struct Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Asterisk - The Open Source Telephony Project
   &#160;<span id="projectnumber">18.5.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-attribs">Data Fields</a>  </div>
  <div class="headertitle">
<div class="title">ast_cc_agent_callbacks Struct Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="../../de/dc8/ccss_8h_source.html">ccss.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr class="memitem:ae307d9129c1eaa6b8ba587d99fcef234"><td class="memItemLeft" align="right" valign="top">int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/dec/structast__cc__agent__callbacks.html#ae307d9129c1eaa6b8ba587d99fcef234">callee_available</a> )(struct <a class="el" href="../../d0/db3/structast__cc__agent.html">ast_cc_agent</a> *agent)</td></tr>
<tr class="memdesc:ae307d9129c1eaa6b8ba587d99fcef234"><td class="mdescLeft">&#160;</td><td class="mdescRight">Alert the caller that it is time to try recalling.  <a href="#ae307d9129c1eaa6b8ba587d99fcef234">More...</a><br /></td></tr>
<tr class="separator:ae307d9129c1eaa6b8ba587d99fcef234"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf1e534523b828b9d7b8821d1d0e4bdb"><td class="memItemLeft" align="right" valign="top">void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/dec/structast__cc__agent__callbacks.html#abf1e534523b828b9d7b8821d1d0e4bdb">destructor</a> )(struct <a class="el" href="../../d0/db3/structast__cc__agent.html">ast_cc_agent</a> *agent)</td></tr>
<tr class="memdesc:abf1e534523b828b9d7b8821d1d0e4bdb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroy private data on the agent.  <a href="#abf1e534523b828b9d7b8821d1d0e4bdb">More...</a><br /></td></tr>
<tr class="separator:abf1e534523b828b9d7b8821d1d0e4bdb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeeb8ff0890dae22b5f7d39b9c5e24c66"><td class="memItemLeft" align="right" valign="top">int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/dec/structast__cc__agent__callbacks.html#aeeb8ff0890dae22b5f7d39b9c5e24c66">init</a> )(struct <a class="el" href="../../d0/db3/structast__cc__agent.html">ast_cc_agent</a> *agent, struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan)</td></tr>
<tr class="memdesc:aeeb8ff0890dae22b5f7d39b9c5e24c66"><td class="mdescLeft">&#160;</td><td class="mdescRight">CC agent initialization.  <a href="#aeeb8ff0890dae22b5f7d39b9c5e24c66">More...</a><br /></td></tr>
<tr class="separator:aeeb8ff0890dae22b5f7d39b9c5e24c66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05baf0755cbce8e94fd4855e5e972a41"><td class="memItemLeft" align="right" valign="top">int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/dec/structast__cc__agent__callbacks.html#a05baf0755cbce8e94fd4855e5e972a41">party_b_free</a> )(struct <a class="el" href="../../d0/db3/structast__cc__agent.html">ast_cc_agent</a> *agent)</td></tr>
<tr class="memdesc:a05baf0755cbce8e94fd4855e5e972a41"><td class="mdescLeft">&#160;</td><td class="mdescRight">Let the caller know that the callee has become free but that the caller cannot attempt to call back because he is either busy or there is congestion on his line.  <a href="#a05baf0755cbce8e94fd4855e5e972a41">More...</a><br /></td></tr>
<tr class="separator:a05baf0755cbce8e94fd4855e5e972a41"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe187e8a31acf5a75a56b9270d72ecc3"><td class="memItemLeft" align="right" valign="top">void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/dec/structast__cc__agent__callbacks.html#abe187e8a31acf5a75a56b9270d72ecc3">respond</a> )(struct <a class="el" href="../../d0/db3/structast__cc__agent.html">ast_cc_agent</a> *agent, enum <a class="el" href="../../de/dc8/ccss_8h.html#a4dc7abb083c6d920fc6ed652f1b3e40f">ast_cc_agent_response_reason</a> reason)</td></tr>
<tr class="memdesc:abe187e8a31acf5a75a56b9270d72ecc3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Respond to a CC request.  <a href="#abe187e8a31acf5a75a56b9270d72ecc3">More...</a><br /></td></tr>
<tr class="separator:abe187e8a31acf5a75a56b9270d72ecc3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a919f7047e7bdec9419d339b40e077883"><td class="memItemLeft" align="right" valign="top">int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/dec/structast__cc__agent__callbacks.html#a919f7047e7bdec9419d339b40e077883">start_monitoring</a> )(struct <a class="el" href="../../d0/db3/structast__cc__agent.html">ast_cc_agent</a> *agent)</td></tr>
<tr class="memdesc:a919f7047e7bdec9419d339b40e077883"><td class="mdescLeft">&#160;</td><td class="mdescRight">Begin monitoring a busy device.  <a href="#a919f7047e7bdec9419d339b40e077883">More...</a><br /></td></tr>
<tr class="separator:a919f7047e7bdec9419d339b40e077883"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a805746d67bc4fc51e968ddd28b271e9f"><td class="memItemLeft" align="right" valign="top">int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/dec/structast__cc__agent__callbacks.html#a805746d67bc4fc51e968ddd28b271e9f">start_offer_timer</a> )(struct <a class="el" href="../../d0/db3/structast__cc__agent.html">ast_cc_agent</a> *agent)</td></tr>
<tr class="memdesc:a805746d67bc4fc51e968ddd28b271e9f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start the offer timer.  <a href="#a805746d67bc4fc51e968ddd28b271e9f">More...</a><br /></td></tr>
<tr class="separator:a805746d67bc4fc51e968ddd28b271e9f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1862ef446c88799949a4de8f76f9ee13"><td class="memItemLeft" align="right" valign="top">int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/dec/structast__cc__agent__callbacks.html#a1862ef446c88799949a4de8f76f9ee13">status_request</a> )(struct <a class="el" href="../../d0/db3/structast__cc__agent.html">ast_cc_agent</a> *agent)</td></tr>
<tr class="memdesc:a1862ef446c88799949a4de8f76f9ee13"><td class="mdescLeft">&#160;</td><td class="mdescRight">Request the status of the agent's device.  <a href="#a1862ef446c88799949a4de8f76f9ee13">More...</a><br /></td></tr>
<tr class="separator:a1862ef446c88799949a4de8f76f9ee13"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add00b87d43860616f10b9f0dd0774152"><td class="memItemLeft" align="right" valign="top">int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/dec/structast__cc__agent__callbacks.html#add00b87d43860616f10b9f0dd0774152">stop_offer_timer</a> )(struct <a class="el" href="../../d0/db3/structast__cc__agent.html">ast_cc_agent</a> *agent)</td></tr>
<tr class="memdesc:add00b87d43860616f10b9f0dd0774152"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stop the offer timer.  <a href="#add00b87d43860616f10b9f0dd0774152">More...</a><br /></td></tr>
<tr class="separator:add00b87d43860616f10b9f0dd0774152"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5256b8f41a1691dfcb5b543b529da9ea"><td class="memItemLeft" align="right" valign="top">int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/dec/structast__cc__agent__callbacks.html#a5256b8f41a1691dfcb5b543b529da9ea">stop_ringing</a> )(struct <a class="el" href="../../d0/db3/structast__cc__agent.html">ast_cc_agent</a> *agent)</td></tr>
<tr class="memdesc:a5256b8f41a1691dfcb5b543b529da9ea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Request for an agent's phone to stop ringing.  <a href="#a5256b8f41a1691dfcb5b543b529da9ea">More...</a><br /></td></tr>
<tr class="separator:a5256b8f41a1691dfcb5b543b529da9ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a763fd8db6bba8fbbbc113ca0d61c47c2"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/dec/structast__cc__agent__callbacks.html#a763fd8db6bba8fbbbc113ca0d61c47c2">type</a></td></tr>
<tr class="memdesc:a763fd8db6bba8fbbbc113ca0d61c47c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Type of agent the callbacks belong to.  <a href="#a763fd8db6bba8fbbbc113ca0d61c47c2">More...</a><br /></td></tr>
<tr class="separator:a763fd8db6bba8fbbbc113ca0d61c47c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="../../de/dc8/ccss_8h_source.html#l00887">887</a> of file <a class="el" href="../../de/dc8/ccss_8h_source.html">ccss.h</a>.</p>
</div><h2 class="groupheader">Field Documentation</h2>
<a id="ae307d9129c1eaa6b8ba587d99fcef234"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae307d9129c1eaa6b8ba587d99fcef234">&#9670;&nbsp;</a></span>callee_available</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int(* callee_available) (struct <a class="el" href="../../d0/db3/structast__cc__agent.html">ast_cc_agent</a> *agent)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Alert the caller that it is time to try recalling. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">agent</td><td>CC core agent control.</td></tr>
  </table>
  </dd>
</dl>
<p>The core will call this function when it receives notice that a monitored party has become available.</p>
<p>The agent's job is to send a message to the caller to notify it of such a change. If the agent is able to discern that the caller is currently unavailable, then the agent should react by calling the ast_cc_caller_unavailable function.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>on success. </td></tr>
    <tr><td class="paramname">-1</td><td>on error. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/dc8/ccss_8h_source.html#l01058">1058</a> of file <a class="el" href="../../de/dc8/ccss_8h_source.html">ccss.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03187">cc_callee_ready()</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02532">check_callback_sanity()</a>.</p>

</div>
</div>
<a id="abf1e534523b828b9d7b8821d1d0e4bdb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf1e534523b828b9d7b8821d1d0e4bdb">&#9670;&nbsp;</a></span>destructor</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* destructor) (struct <a class="el" href="../../d0/db3/structast__cc__agent.html">ast_cc_agent</a> *agent)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destroy private data on the agent. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">agent</td><td>CC core agent control.</td></tr>
  </table>
  </dd>
</dl>
<p>The core will call this function upon completion or failure of CC.</p>
<dl class="section note"><dt>Note</dt><dd>The agent private_data pointer may be NULL if the agent constructor failed. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../de/dc8/ccss_8h_source.html#l01072">1072</a> of file <a class="el" href="../../de/dc8/ccss_8h_source.html">ccss.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02544">agent_destroy()</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02532">check_callback_sanity()</a>.</p>

</div>
</div>
<a id="aeeb8ff0890dae22b5f7d39b9c5e24c66"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeeb8ff0890dae22b5f7d39b9c5e24c66">&#9670;&nbsp;</a></span>init</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int(* init) (struct <a class="el" href="../../d0/db3/structast__cc__agent.html">ast_cc_agent</a> *agent, struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>CC agent initialization. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">agent</td><td>CC core agent control. </td></tr>
    <tr><td class="paramname">chan</td><td>Original channel the agent will attempt to recall.</td></tr>
  </table>
  </dd>
</dl>
<p>This callback is called when the CC core is initialized. Agents should allocate any private data necessary for the call and assign it to the private_data on the agent. Additionally, if any ast_cc_agent_flags are pertinent to the specific agent type, they should be set in this function as well.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>on success. </td></tr>
    <tr><td class="paramname">-1</td><td>on error. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/dc8/ccss_8h_source.html#l00913">913</a> of file <a class="el" href="../../de/dc8/ccss_8h_source.html">ccss.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02554">cc_agent_init()</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02532">check_callback_sanity()</a>.</p>

</div>
</div>
<a id="a05baf0755cbce8e94fd4855e5e972a41"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a05baf0755cbce8e94fd4855e5e972a41">&#9670;&nbsp;</a></span>party_b_free</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int(* party_b_free) (struct <a class="el" href="../../d0/db3/structast__cc__agent.html">ast_cc_agent</a> *agent)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Let the caller know that the callee has become free but that the caller cannot attempt to call back because he is either busy or there is congestion on his line. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">agent</td><td>CC core agent control.</td></tr>
  </table>
  </dd>
</dl>
<p>This is something that really only affects a scenario where a phone places a call over ISDN PTMP to Asterisk, who then connects over PTMP again to the ISDN network. For most agent types, there is no need to implement this callback at all because they don't really need to actually do anything in this situation. If you're having trouble understanding what the purpose of this callback is, then you can be safe simply not implementing it.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>on success. </td></tr>
    <tr><td class="paramname">-1</td><td>on error. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/dc8/ccss_8h_source.html#l01023">1023</a> of file <a class="el" href="../../de/dc8/ccss_8h_source.html">ccss.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04039">cc_party_b_free()</a>.</p>

</div>
</div>
<a id="abe187e8a31acf5a75a56b9270d72ecc3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abe187e8a31acf5a75a56b9270d72ecc3">&#9670;&nbsp;</a></span>respond</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* respond) (struct <a class="el" href="../../d0/db3/structast__cc__agent.html">ast_cc_agent</a> *agent, enum <a class="el" href="../../de/dc8/ccss_8h.html#a4dc7abb083c6d920fc6ed652f1b3e40f">ast_cc_agent_response_reason</a> reason)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Respond to a CC request. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">agent</td><td>CC core agent control. </td></tr>
    <tr><td class="paramname">reason</td><td>CC request response status.</td></tr>
  </table>
  </dd>
</dl>
<p>When the core receives knowledge that a called party has accepted a CC request, it will call this callback. The core may also call this if there is some error when attempting to process the incoming CC request.</p>
<p>The duty of this is to issue a propper response to a CC request from the caller by acknowledging receipt of that request or rejecting it. </p>

<p class="definition">Definition at line <a class="el" href="../../de/dc8/ccss_8h_source.html#l00965">965</a> of file <a class="el" href="../../de/dc8/ccss_8h_source.html">ccss.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03168">cc_active()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03132">cc_caller_requested()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03285">cc_do_state_change()</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02532">check_callback_sanity()</a>.</p>

</div>
</div>
<a id="a919f7047e7bdec9419d339b40e077883"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a919f7047e7bdec9419d339b40e077883">&#9670;&nbsp;</a></span>start_monitoring</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int(* start_monitoring) (struct <a class="el" href="../../d0/db3/structast__cc__agent.html">ast_cc_agent</a> *agent)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Begin monitoring a busy device. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">agent</td><td>CC core agent control.</td></tr>
  </table>
  </dd>
</dl>
<p>The core will call this callback if the callee becomes available but the caller has reported that he is busy. The agent should begin monitoring the caller's device. When the caller becomes available again, the agent should call ast_cc_agent_caller_available.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>on success. </td></tr>
    <tr><td class="paramname">-1</td><td>on error. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/dc8/ccss_8h_source.html#l01039">1039</a> of file <a class="el" href="../../de/dc8/ccss_8h_source.html">ccss.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03215">cc_caller_busy()</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02532">check_callback_sanity()</a>.</p>

</div>
</div>
<a id="a805746d67bc4fc51e968ddd28b271e9f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a805746d67bc4fc51e968ddd28b271e9f">&#9670;&nbsp;</a></span>start_offer_timer</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int(* start_offer_timer) (struct <a class="el" href="../../d0/db3/structast__cc__agent.html">ast_cc_agent</a> *agent)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Start the offer timer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">agent</td><td>CC core agent control.</td></tr>
  </table>
  </dd>
</dl>
<p>This is called by the core when the caller hangs up after a call for which CC may be requested. The agent should begin the timer as configured.</p>
<p>The primary reason why this functionality is left to the specific agent implementations is due to the differing use of schedulers throughout the code. Some channel drivers may already have a scheduler context they wish to use, and amongst those, some may use the ast_sched API while others may use the ast_sched_thread API, which are incompatible.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>on success. </td></tr>
    <tr><td class="paramname">-1</td><td>on error. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/dc8/ccss_8h_source.html#l00934">934</a> of file <a class="el" href="../../de/dc8/ccss_8h_source.html">ccss.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03064">cc_caller_offered()</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02532">check_callback_sanity()</a>.</p>

</div>
</div>
<a id="a1862ef446c88799949a4de8f76f9ee13"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1862ef446c88799949a4de8f76f9ee13">&#9670;&nbsp;</a></span>status_request</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int(* status_request) (struct <a class="el" href="../../d0/db3/structast__cc__agent.html">ast_cc_agent</a> *agent)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Request the status of the agent's device. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">agent</td><td>CC core agent control.</td></tr>
  </table>
  </dd>
</dl>
<p>Asynchronous request for the status of any caller which may be a valid caller for the CC transaction. Status responses should be made using the ast_cc_status_response function.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>on success. </td></tr>
    <tr><td class="paramname">-1</td><td>on error. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/dc8/ccss_8h_source.html#l00980">980</a> of file <a class="el" href="../../de/dc8/ccss_8h_source.html">ccss.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03976">cc_status_request()</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02532">check_callback_sanity()</a>.</p>

</div>
</div>
<a id="add00b87d43860616f10b9f0dd0774152"></a>
<h2 class="memtitle"><span class="permalink"><a href="#add00b87d43860616f10b9f0dd0774152">&#9670;&nbsp;</a></span>stop_offer_timer</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int(* stop_offer_timer) (struct <a class="el" href="../../d0/db3/structast__cc__agent.html">ast_cc_agent</a> *agent)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stop the offer timer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">agent</td><td>CC core agent control.</td></tr>
  </table>
  </dd>
</dl>
<p>This callback is called by the CC core when the caller has requested CC.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>on success. </td></tr>
    <tr><td class="paramname">-1</td><td>on error. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/dc8/ccss_8h_source.html#l00947">947</a> of file <a class="el" href="../../de/dc8/ccss_8h_source.html">ccss.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l03132">cc_caller_requested()</a>, and <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02532">check_callback_sanity()</a>.</p>

</div>
</div>
<a id="a5256b8f41a1691dfcb5b543b529da9ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5256b8f41a1691dfcb5b543b529da9ea">&#9670;&nbsp;</a></span>stop_ringing</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int(* stop_ringing) (struct <a class="el" href="../../d0/db3/structast__cc__agent.html">ast_cc_agent</a> *agent)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Request for an agent's phone to stop ringing. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">agent</td><td>CC core agent control.</td></tr>
  </table>
  </dd>
</dl>
<p>The usefulness of this is quite limited. The only specific known case for this is if Asterisk requests CC over an ISDN PTMP link as the TE side. If other phones are in the same recall group as the Asterisk server, and one of those phones picks up the recall notice, then Asterisk will receive a "stop ringing" notification from the NT side of the PTMP link. This indication needs to be passed to the phone on the other side of the Asterisk server which originally placed the call so that it will stop ringing. Since the phone may be of any type, it is necessary to have a callback that the core can know about.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>on success. </td></tr>
    <tr><td class="paramname">-1</td><td>on error. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/dc8/ccss_8h_source.html#l01002">1002</a> of file <a class="el" href="../../de/dc8/ccss_8h_source.html">ccss.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04002">cc_stop_ringing()</a>.</p>

</div>
</div>
<a id="a763fd8db6bba8fbbbc113ca0d61c47c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a763fd8db6bba8fbbbc113ca0d61c47c2">&#9670;&nbsp;</a></span>type</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* type</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Type of agent the callbacks belong to. </p>
<dl class="section note"><dt>Note</dt><dd>Examples are "SIP" "ISDN" and "generic" </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../de/dc8/ccss_8h_source.html#l00894">894</a> of file <a class="el" href="../../de/dc8/ccss_8h_source.html">ccss.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l16404">action_dahdishowchannels()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00444">cc_agent_callback_helper()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04308">cccancel_exec()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l04257">ccreq_exec()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l00600">ccss_device_state()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01269">find_agent_callbacks()</a>, and <a class="el" href="../../dc/ded/swagger__model_8py_source.html#l00477">Property::load()</a>.</p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li><a class="el" href="../../de/dc8/ccss_8h_source.html">ccss.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Aug 8 2021 19:47:19 for Asterisk - The Open Source Telephony Project by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
