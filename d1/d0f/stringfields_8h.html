<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Asterisk - The Open Source Telephony Project: stringfields.h File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Asterisk - The Open Source Telephony Project
   &#160;<span id="projectnumber">18.5.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="../../dir_6d4b1cdb59e2db6ad82005b337288fef.html">asterisk</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">stringfields.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="../../d5/d9d/inline__api_8h_source.html">asterisk/inline_api.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d6/d68/vector_8h_source.html">asterisk/vector.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for stringfields.h:</div>
<div class="dyncontent">
<div class="center"><img src="../../df/dc6/stringfields_8h__incl.png" border="0" usemap="#stringfields_8h" alt=""/></div>
<map name="stringfields_8h" id="stringfields_8h">
<area shape="rect" id="node2" href="../../d5/d9d/inline__api_8h.html" title="Inlinable API function macro. " alt="" coords="5,304,152,331"/>
<area shape="rect" id="node3" href="../../d6/d68/vector_8h.html" title="Vector container support. " alt="" coords="182,80,309,107"/>
<area shape="rect" id="node4" href="../../dd/d42/lock_8h.html" title="Asterisk locking&#45;related definitions: " alt="" coords="365,155,478,181"/>
<area shape="rect" id="node6" href="../../de/df7/time_8h.html" title="Time&#45;related functions and macros. " alt="" coords="225,229,287,256"/>
<area shape="rect" id="node9" href="../../d3/dda/backtrace_8h.html" title="Asterisk backtrace generation. " alt="" coords="549,229,699,256"/>
<area shape="rect" id="node10" href="../../d1/d8c/logger_8h.html" title="Support for logging to various files, console and syslog Configuration in file logger.conf. " alt="" coords="723,229,850,256"/>
<area shape="rect" id="node11" href="../../d4/dd1/compiler_8h.html" title="Compiler&#45;specific macros and other items. " alt="" coords="874,229,1017,256"/>
</map>
</div>
</div>
<p><a href="../../d1/d0f/stringfields_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dd9/structast__string__field__mgr.html">ast_string_field_mgr</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dd3/structast__string__field__pool.html">ast_string_field_pool</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a1bfcb5ab5df5370d03274a83c8350888"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d0f/stringfields_8h.html#a1bfcb5ab5df5370d03274a83c8350888">__ast_string_field_ptr_set_by_fields</a>(field_mgr_pool,  field_mgr,  ptr,  data,  file,  lineno,  func)</td></tr>
<tr class="separator:a1bfcb5ab5df5370d03274a83c8350888"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b64083b978bdb9d28222357acf5aff7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d0f/stringfields_8h.html#a3b64083b978bdb9d28222357acf5aff7">ast_calloc_with_stringfields</a>(n,  <a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>,  size)</td></tr>
<tr class="memdesc:a3b64083b978bdb9d28222357acf5aff7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocate a structure with embedded stringfields in a single allocation.  <a href="#a3b64083b978bdb9d28222357acf5aff7">More...</a><br /></td></tr>
<tr class="separator:a3b64083b978bdb9d28222357acf5aff7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a061580e89c55282a7140fa3fdfd52b6d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d0f/stringfields_8h.html#a061580e89c55282a7140fa3fdfd52b6d">AST_DECLARE_STRING_FIELDS</a>(field_list)</td></tr>
<tr class="memdesc:a061580e89c55282a7140fa3fdfd52b6d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Declare the fields needed in a structure.  <a href="#a061580e89c55282a7140fa3fdfd52b6d">More...</a><br /></td></tr>
<tr class="separator:a061580e89c55282a7140fa3fdfd52b6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51b5729220efb7cda4393ed35ecdfea2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d0f/stringfields_8h.html#a51b5729220efb7cda4393ed35ecdfea2">AST_STRING_FIELD</a>(<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>)&#160;&#160;&#160;const <a class="el" href="../../d1/d0f/stringfields_8h.html#abb39dc592226a570e6a73f1b9b09b021">ast_string_field</a> <a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a></td></tr>
<tr class="memdesc:a51b5729220efb7cda4393ed35ecdfea2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Declare a string field.  <a href="#a51b5729220efb7cda4393ed35ecdfea2">More...</a><br /></td></tr>
<tr class="separator:a51b5729220efb7cda4393ed35ecdfea2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad614492e2dc37afd8835ce6a2804bdb1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d0f/stringfields_8h.html#ad614492e2dc37afd8835ce6a2804bdb1">AST_STRING_FIELD_ALLOCATION</a>(x)&#160;&#160;&#160;*((<a class="el" href="../../d1/d0f/stringfields_8h.html#a4f9d8076634be322608f4d9d8e68bbf1">ast_string_field_allocation</a> *) (x - __alignof__(<a class="el" href="../../d1/d0f/stringfields_8h.html#a4f9d8076634be322608f4d9d8e68bbf1">ast_string_field_allocation</a>)))</td></tr>
<tr class="memdesc:ad614492e2dc37afd8835ce6a2804bdb1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Macro to provide access to the allocation field that lives immediately in front of a string field.  <a href="#ad614492e2dc37afd8835ce6a2804bdb1">More...</a><br /></td></tr>
<tr class="separator:ad614492e2dc37afd8835ce6a2804bdb1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b9f4347fc72720cc5cead952b54abe9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d0f/stringfields_8h.html#a8b9f4347fc72720cc5cead952b54abe9">ast_string_field_build</a>(x,  field,  fmt,  args...)</td></tr>
<tr class="memdesc:a8b9f4347fc72720cc5cead952b54abe9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set a field to a complex (built) value.  <a href="#a8b9f4347fc72720cc5cead952b54abe9">More...</a><br /></td></tr>
<tr class="separator:a8b9f4347fc72720cc5cead952b54abe9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5dbef560766ab8260c045b54b1dfbccd"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d0f/stringfields_8h.html#a5dbef560766ab8260c045b54b1dfbccd">ast_string_field_build_va</a>(x,  field,  fmt,  <a class="el" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>)</td></tr>
<tr class="memdesc:a5dbef560766ab8260c045b54b1dfbccd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set a field to a complex (built) value.  <a href="#a5dbef560766ab8260c045b54b1dfbccd">More...</a><br /></td></tr>
<tr class="separator:a5dbef560766ab8260c045b54b1dfbccd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8670e3e170d6d64cfbeebb93787dc40"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d0f/stringfields_8h.html#ab8670e3e170d6d64cfbeebb93787dc40">AST_STRING_FIELD_EXTENDED</a>(<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>)&#160;&#160;&#160;<a class="el" href="../../d1/d0f/stringfields_8h.html#a51b5729220efb7cda4393ed35ecdfea2">AST_STRING_FIELD</a>(<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>)</td></tr>
<tr class="memdesc:ab8670e3e170d6d64cfbeebb93787dc40"><td class="mdescLeft">&#160;</td><td class="mdescRight">Declare an extended string field.  <a href="#ab8670e3e170d6d64cfbeebb93787dc40">More...</a><br /></td></tr>
<tr class="separator:ab8670e3e170d6d64cfbeebb93787dc40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf60f862ae6a141d2f86a0f5e82792de"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d0f/stringfields_8h.html#abf60f862ae6a141d2f86a0f5e82792de">ast_string_field_free_memory</a>(x)</td></tr>
<tr class="memdesc:abf60f862ae6a141d2f86a0f5e82792de"><td class="mdescLeft">&#160;</td><td class="mdescRight">free all memory - to be called before destroying the object  <a href="#abf60f862ae6a141d2f86a0f5e82792de">More...</a><br /></td></tr>
<tr class="separator:abf60f862ae6a141d2f86a0f5e82792de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a871274fa4fd2687c7a44849a84df3665"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d0f/stringfields_8h.html#a871274fa4fd2687c7a44849a84df3665">ast_string_field_init</a>(x,  size)</td></tr>
<tr class="memdesc:a871274fa4fd2687c7a44849a84df3665"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize a field pool and fields.  <a href="#a871274fa4fd2687c7a44849a84df3665">More...</a><br /></td></tr>
<tr class="separator:a871274fa4fd2687c7a44849a84df3665"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94cf672031c1cdee340ed1979ae2a379"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d0f/stringfields_8h.html#a94cf672031c1cdee340ed1979ae2a379">ast_string_field_init_extended</a>(x,  field)</td></tr>
<tr class="memdesc:a94cf672031c1cdee340ed1979ae2a379"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize an extended string field.  <a href="#a94cf672031c1cdee340ed1979ae2a379">More...</a><br /></td></tr>
<tr class="separator:a94cf672031c1cdee340ed1979ae2a379"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f55756eaab8a360837a702a1a80426c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d0f/stringfields_8h.html#a9f55756eaab8a360837a702a1a80426c">ast_string_field_ptr_build</a>(x,  ptr,  fmt,  args...)</td></tr>
<tr class="memdesc:a9f55756eaab8a360837a702a1a80426c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set a field to a complex (built) value.  <a href="#a9f55756eaab8a360837a702a1a80426c">More...</a><br /></td></tr>
<tr class="separator:a9f55756eaab8a360837a702a1a80426c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45a8f974ba52ca692e4e0547266d3a9f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d0f/stringfields_8h.html#a45a8f974ba52ca692e4e0547266d3a9f">ast_string_field_ptr_build_va</a>(x,  ptr,  fmt,  <a class="el" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>)</td></tr>
<tr class="memdesc:a45a8f974ba52ca692e4e0547266d3a9f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set a field to a complex (built) value with prebuilt va_lists.  <a href="#a45a8f974ba52ca692e4e0547266d3a9f">More...</a><br /></td></tr>
<tr class="separator:a45a8f974ba52ca692e4e0547266d3a9f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5919d2452007db4100fda0d0b656ffa"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d0f/stringfields_8h.html#ad5919d2452007db4100fda0d0b656ffa">ast_string_field_ptr_set</a>(x,  ptr,  data)</td></tr>
<tr class="memdesc:ad5919d2452007db4100fda0d0b656ffa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set a field to a simple string value.  <a href="#ad5919d2452007db4100fda0d0b656ffa">More...</a><br /></td></tr>
<tr class="separator:ad5919d2452007db4100fda0d0b656ffa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad8deab902d72a4afd1e6404635b47023"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d0f/stringfields_8h.html#ad8deab902d72a4afd1e6404635b47023">ast_string_field_ptr_set_by_fields</a>(field_mgr_pool,  field_mgr,  ptr,  data)&#160;&#160;&#160;<a class="el" href="../../d1/d0f/stringfields_8h.html#a1bfcb5ab5df5370d03274a83c8350888">__ast_string_field_ptr_set_by_fields</a>(field_mgr_pool, field_mgr, ptr, data, __FILE__, __LINE__, __PRETTY_FUNCTION__)</td></tr>
<tr class="separator:ad8deab902d72a4afd1e6404635b47023"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a653461abd6e0d16e4e3326ab90e0501d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(x,  field,  data)</td></tr>
<tr class="memdesc:a653461abd6e0d16e4e3326ab90e0501d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set a field to a simple string value.  <a href="#a653461abd6e0d16e4e3326ab90e0501d">More...</a><br /></td></tr>
<tr class="separator:a653461abd6e0d16e4e3326ab90e0501d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1abf7a8d48a500697745b31fd64e2a8f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d0f/stringfields_8h.html#a1abf7a8d48a500697745b31fd64e2a8f">ast_string_fields_cmp</a>(instance1,  instance2)</td></tr>
<tr class="memdesc:a1abf7a8d48a500697745b31fd64e2a8f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compare the string fields in two instances of the same structure.  <a href="#a1abf7a8d48a500697745b31fd64e2a8f">More...</a><br /></td></tr>
<tr class="separator:a1abf7a8d48a500697745b31fd64e2a8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ecae7d38e954c0d5723547cd932eb5d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d0f/stringfields_8h.html#a5ecae7d38e954c0d5723547cd932eb5d">ast_string_fields_copy</a>(<a class="el" href="../../d6/d13/file_8c.html#a939eb1d85b6fd5dfc16d00d1c3f86df0">copy</a>,  orig)</td></tr>
<tr class="memdesc:a5ecae7d38e954c0d5723547cd932eb5d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy all string fields from one instance to another of the same structure.  <a href="#a5ecae7d38e954c0d5723547cd932eb5d">More...</a><br /></td></tr>
<tr class="separator:a5ecae7d38e954c0d5723547cd932eb5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:abb39dc592226a570e6a73f1b9b09b021"><td class="memItemLeft" align="right" valign="top">typedef const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d0f/stringfields_8h.html#abb39dc592226a570e6a73f1b9b09b021">ast_string_field</a></td></tr>
<tr class="separator:abb39dc592226a570e6a73f1b9b09b021"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f9d8076634be322608f4d9d8e68bbf1"><td class="memItemLeft" align="right" valign="top">typedef uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d0f/stringfields_8h.html#a4f9d8076634be322608f4d9d8e68bbf1">ast_string_field_allocation</a></td></tr>
<tr class="separator:a4f9d8076634be322608f4d9d8e68bbf1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a7fa31c0a578e7b9d98fd0a24232ec58b"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d0f/stringfields_8h.html#a7fa31c0a578e7b9d98fd0a24232ec58b">ast_stringfield_cleanup_type</a> { <a class="el" href="../../d1/d0f/stringfields_8h.html#a7fa31c0a578e7b9d98fd0a24232ec58bab556c214b5097ccd64f35d8bb472fd81">AST_STRINGFIELD_RESET</a> = 0, 
<a class="el" href="../../d1/d0f/stringfields_8h.html#a7fa31c0a578e7b9d98fd0a24232ec58ba400f97e65c44140df8ddf424d77ffe67">AST_STRINGFIELD_DESTROY</a> = -1
 }</td></tr>
<tr class="separator:a7fa31c0a578e7b9d98fd0a24232ec58b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:acc3a4cdde930c1c2551ff206fed1915a"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d0f/stringfields_8h.html#acc3a4cdde930c1c2551ff206fed1915a">__ast_calloc_with_stringfields</a> (unsigned int num_structs, size_t struct_size, size_t field_mgr_offset, size_t field_mgr_pool_offset, size_t pool_size, const char *file, int lineno, const char *func)</td></tr>
<tr class="separator:acc3a4cdde930c1c2551ff206fed1915a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2b920ebf97802e72f2ffced82987297"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d1/d0f/stringfields_8h.html#abb39dc592226a570e6a73f1b9b09b021">ast_string_field</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d0f/stringfields_8h.html#ae2b920ebf97802e72f2ffced82987297">__ast_string_field_alloc_space</a> (struct <a class="el" href="../../de/dd9/structast__string__field__mgr.html">ast_string_field_mgr</a> *mgr, struct <a class="el" href="../../d3/dd3/structast__string__field__pool.html">ast_string_field_pool</a> **pool_head, size_t needed, const char *file, int lineno, const char *func)</td></tr>
<tr class="separator:ae2b920ebf97802e72f2ffced82987297"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1fc58b9732fc51bb213be8dfe47f629"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d0f/stringfields_8h.html#ab1fc58b9732fc51bb213be8dfe47f629">__ast_string_field_free_memory</a> (struct <a class="el" href="../../de/dd9/structast__string__field__mgr.html">ast_string_field_mgr</a> *mgr, struct <a class="el" href="../../d3/dd3/structast__string__field__pool.html">ast_string_field_pool</a> **pool_head, enum <a class="el" href="../../d1/d0f/stringfields_8h.html#a7fa31c0a578e7b9d98fd0a24232ec58b">ast_stringfield_cleanup_type</a> cleanup_type, const char *file, int lineno, const char *func)</td></tr>
<tr class="memdesc:ab1fc58b9732fc51bb213be8dfe47f629"><td class="mdescLeft">&#160;</td><td class="mdescRight">Internal cleanup function.  <a href="#ab1fc58b9732fc51bb213be8dfe47f629">More...</a><br /></td></tr>
<tr class="separator:ab1fc58b9732fc51bb213be8dfe47f629"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e24c6a8b5b6ae53764e6a0e9c313506"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d0f/stringfields_8h.html#a4e24c6a8b5b6ae53764e6a0e9c313506">__ast_string_field_init</a> (struct <a class="el" href="../../de/dd9/structast__string__field__mgr.html">ast_string_field_mgr</a> *mgr, struct <a class="el" href="../../d3/dd3/structast__string__field__pool.html">ast_string_field_pool</a> **pool_head, int needed, const char *file, int lineno, const char *func)</td></tr>
<tr class="memdesc:a4e24c6a8b5b6ae53764e6a0e9c313506"><td class="mdescLeft">&#160;</td><td class="mdescRight">Internal initialization function.  <a href="#a4e24c6a8b5b6ae53764e6a0e9c313506">More...</a><br /></td></tr>
<tr class="separator:a4e24c6a8b5b6ae53764e6a0e9c313506"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3783ecdee22185b0bf2b4fdfec8600c8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d0f/stringfields_8h.html#a3783ecdee22185b0bf2b4fdfec8600c8">__ast_string_field_ptr_build</a> (const char *file, int lineno, const char *func, struct <a class="el" href="../../de/dd9/structast__string__field__mgr.html">ast_string_field_mgr</a> *mgr, struct <a class="el" href="../../d3/dd3/structast__string__field__pool.html">ast_string_field_pool</a> **pool_head, <a class="el" href="../../d1/d0f/stringfields_8h.html#abb39dc592226a570e6a73f1b9b09b021">ast_string_field</a> *ptr, const char *<a class="el" href="../../da/d45/chan__alsa_8c.html#a98f5e70e98f6dc48e3c5ba316066d540">format</a>,...)</td></tr>
<tr class="separator:a3783ecdee22185b0bf2b4fdfec8600c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06906d05886358f1aa3f83197cba9e87"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d0f/stringfields_8h.html#a06906d05886358f1aa3f83197cba9e87">__ast_string_field_ptr_build_va</a> (struct <a class="el" href="../../de/dd9/structast__string__field__mgr.html">ast_string_field_mgr</a> *mgr, struct <a class="el" href="../../d3/dd3/structast__string__field__pool.html">ast_string_field_pool</a> **pool_head, <a class="el" href="../../d1/d0f/stringfields_8h.html#abb39dc592226a570e6a73f1b9b09b021">ast_string_field</a> *ptr, const char *<a class="el" href="../../da/d45/chan__alsa_8c.html#a98f5e70e98f6dc48e3c5ba316066d540">format</a>, va_list ap, const char *file, int lineno, const char *func)</td></tr>
<tr class="separator:a06906d05886358f1aa3f83197cba9e87"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af935cb06ad7d9b2b6ac4973d1e984588"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d0f/stringfields_8h.html#af935cb06ad7d9b2b6ac4973d1e984588">__ast_string_field_ptr_grow</a> (struct <a class="el" href="../../de/dd9/structast__string__field__mgr.html">ast_string_field_mgr</a> *mgr, struct <a class="el" href="../../d3/dd3/structast__string__field__pool.html">ast_string_field_pool</a> **pool_head, size_t needed, const <a class="el" href="../../d1/d0f/stringfields_8h.html#abb39dc592226a570e6a73f1b9b09b021">ast_string_field</a> *ptr)</td></tr>
<tr class="separator:af935cb06ad7d9b2b6ac4973d1e984588"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d776ee56342840669133fa7880c9971"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d0f/stringfields_8h.html#a2d776ee56342840669133fa7880c9971">__ast_string_field_release_active</a> (struct <a class="el" href="../../d3/dd3/structast__string__field__pool.html">ast_string_field_pool</a> *pool_head, const <a class="el" href="../../d1/d0f/stringfields_8h.html#abb39dc592226a570e6a73f1b9b09b021">ast_string_field</a> ptr)</td></tr>
<tr class="separator:a2d776ee56342840669133fa7880c9971"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a286abec765fe22ab0b13e3c9bb30eafb"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d0f/stringfields_8h.html#a286abec765fe22ab0b13e3c9bb30eafb">__ast_string_fields_cmp</a> (struct ast_string_field_vector *left, struct ast_string_field_vector *right)</td></tr>
<tr class="separator:a286abec765fe22ab0b13e3c9bb30eafb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33710965bde3c85f8fb772299b24fc18"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d0f/stringfields_8h.html#a33710965bde3c85f8fb772299b24fc18">__ast_string_fields_copy</a> (struct <a class="el" href="../../d3/dd3/structast__string__field__pool.html">ast_string_field_pool</a> *copy_pool, struct <a class="el" href="../../de/dd9/structast__string__field__mgr.html">ast_string_field_mgr</a> *copy_mgr, struct <a class="el" href="../../de/dd9/structast__string__field__mgr.html">ast_string_field_mgr</a> *orig_mgr, const char *file, int lineno, const char *func)</td></tr>
<tr class="separator:a33710965bde3c85f8fb772299b24fc18"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1311cf1cc8f99000b085fd0917431286"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d0f/stringfields_8h.html#a1311cf1cc8f99000b085fd0917431286">AST_VECTOR</a> (ast_string_field_vector, const char **)</td></tr>
<tr class="separator:a1311cf1cc8f99000b085fd0917431286"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a986c48d189ab62291dea325789921fc1"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d0f/stringfields_8h.html#a986c48d189ab62291dea325789921fc1">__ast_string_field_empty</a></td></tr>
<tr class="separator:a986c48d189ab62291dea325789921fc1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a1bfcb5ab5df5370d03274a83c8350888"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1bfcb5ab5df5370d03274a83c8350888">&#9670;&nbsp;</a></span>__ast_string_field_ptr_set_by_fields</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define __ast_string_field_ptr_set_by_fields</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">field_mgr_pool, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">field_mgr, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ptr, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">data, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">file, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">lineno, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">func&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/d0f/stringfields_8h_source.html#l00479">479</a> of file <a class="el" href="../../d1/d0f/stringfields_8h_source.html">stringfields.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/dba/stringfields_8c_source.html#l00441">__ast_string_fields_copy()</a>.</p>

</div>
</div>
<a id="a3b64083b978bdb9d28222357acf5aff7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b64083b978bdb9d28222357acf5aff7">&#9670;&nbsp;</a></span>ast_calloc_with_stringfields</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ast_calloc_with_stringfields</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">n, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">size&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><a class="code" href="../../d1/d0f/stringfields_8h.html#acc3a4cdde930c1c2551ff206fed1915a">__ast_calloc_with_stringfields</a>(n, <span class="keyword">sizeof</span>(<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>), offsetof(<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>, __field_mgr), \</div><div class="line">      offsetof(<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>, __field_mgr_pool), <a class="code" href="../../d3/dd3/structast__string__field__pool.html#a854352f53b148adc24983a58a1866d66">size</a>, __FILE__, __LINE__, __PRETTY_FUNCTION__)</div><div class="ttc" id="chan__ooh323_8c_html_a4d63fdfe5451ec2248c16a2739190c56"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a></div><div class="ttdeci">static const char type[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00109">chan_ooh323.c:109</a></div></div>
<div class="ttc" id="stringfields_8h_html_acc3a4cdde930c1c2551ff206fed1915a"><div class="ttname"><a href="../../d1/d0f/stringfields_8h.html#acc3a4cdde930c1c2551ff206fed1915a">__ast_calloc_with_stringfields</a></div><div class="ttdeci">void * __ast_calloc_with_stringfields(unsigned int num_structs, size_t struct_size, size_t field_mgr_offset, size_t field_mgr_pool_offset, size_t pool_size, const char *file, int lineno, const char *func)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dba/stringfields_8c_source.html#l00380">stringfields.c:380</a></div></div>
<div class="ttc" id="structast__string__field__pool_html_a854352f53b148adc24983a58a1866d66"><div class="ttname"><a href="../../d3/dd3/structast__string__field__pool.html#a854352f53b148adc24983a58a1866d66">ast_string_field_pool::size</a></div><div class="ttdeci">size_t size</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d0f/stringfields_8h_source.html#l00210">stringfields.h:210</a></div></div>
</div><!-- fragment -->
<p>Allocate a structure with embedded stringfields in a single allocation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">n</td><td>Current imlementation only allows 1 structure to be allocated </td></tr>
    <tr><td class="paramname">type</td><td>The type of structure to allocate </td></tr>
    <tr><td class="paramname">size</td><td>The number of bytes of space (minimum) to allocate for stringfields to use in each structure</td></tr>
  </table>
  </dd>
</dl>
<p>This function will allocate memory for one or more structures that use stringfields, and also allocate space for the stringfields and initialize the stringfield management structure embedded in the outer structure.</p>
<dl class="section since"><dt>Since</dt><dd>1.8 </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d1/d0f/stringfields_8h_source.html#l00426">426</a> of file <a class="el" href="../../d1/d0f/stringfields_8h_source.html">stringfields.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d73/pjsip__global__headers_8c_source.html#l00055">alloc_header()</a>, <a class="el" href="../../d8/d96/res__smdi_8c_source.html#l00805">append_mailbox_mapping()</a>, <a class="el" href="../../d8/d9c/config__parser_8c_source.html#l00276">AST_TEST_DEFINE()</a>, <a class="el" href="../../d9/de9/res__phoneprov_8c_source.html#l00580">build_profile()</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l01682">format_log_message_ap()</a>, <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00695">jack_data_alloc()</a>, <a class="el" href="../../d2/df4/cdr__custom_8c_source.html#l00090">load_config()</a>, <a class="el" href="../../d0/d2a/cdr__tds_8c_source.html#l00597">load_module()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l02806">raise_exception()</a>, and <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l16370">sip_refer_alloc()</a>.</p>

</div>
</div>
<a id="a061580e89c55282a7140fa3fdfd52b6d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a061580e89c55282a7140fa3fdfd52b6d">&#9670;&nbsp;</a></span>AST_DECLARE_STRING_FIELDS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AST_DECLARE_STRING_FIELDS</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">field_list</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keyword">struct </span><a class="code" href="../../d3/dd3/structast__string__field__pool.html">ast_string_field_pool</a> *__field_mgr_pool; \</div><div class="line">   field_list              \</div><div class="line">   struct <a class="code" href="../../de/dd9/structast__string__field__mgr.html">ast_string_field_mgr</a> __field_mgr</div><div class="ttc" id="structast__string__field__pool_html"><div class="ttname"><a href="../../d3/dd3/structast__string__field__pool.html">ast_string_field_pool</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d0f/stringfields_8h_source.html#l00208">stringfields.h:208</a></div></div>
<div class="ttc" id="structast__string__field__mgr_html"><div class="ttname"><a href="../../de/dd9/structast__string__field__mgr.html">ast_string_field_mgr</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d0f/stringfields_8h_source.html#l00227">stringfields.h:227</a></div></div>
</div><!-- fragment -->
<p>Declare the fields needed in a structure. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">field_list</td><td>The list of fields to declare, using <a class="el" href="../../d1/d0f/stringfields_8h.html#a51b5729220efb7cda4393ed35ecdfea2" title="Declare a string field. ">AST_STRING_FIELD()</a> for each one. Internally, string fields are stored as a pointer to the head of the pool, followed by individual string fields, and then a struct <a class="el" href="../../de/dd9/structast__string__field__mgr.html">ast_string_field_mgr</a> which describes the space allocated. We split the two variables so they can be used as markers around the field_list, and this allows us to determine how many entries are in the field, and play with them. In particular, for writing to the fields, we rely on __field_mgr_pool to be a non-const pointer, so we know it has the same size as ast_string_field, and we can use it to locate the fields. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d1/d0f/stringfields_8h_source.html#l00337">337</a> of file <a class="el" href="../../d1/d0f/stringfields_8h_source.html">stringfields.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/test__stringfields_8c_source.html#l00041">AST_TEST_DEFINE()</a>.</p>

</div>
</div>
<a id="a51b5729220efb7cda4393ed35ecdfea2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a51b5729220efb7cda4393ed35ecdfea2">&#9670;&nbsp;</a></span>AST_STRING_FIELD</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AST_STRING_FIELD</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a></td><td>)</td>
          <td>&#160;&#160;&#160;const <a class="el" href="../../d1/d0f/stringfields_8h.html#abb39dc592226a570e6a73f1b9b09b021">ast_string_field</a> <a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Declare a string field. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>The field name </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d1/d0f/stringfields_8h_source.html#l00299">299</a> of file <a class="el" href="../../d1/d0f/stringfields_8h_source.html">stringfields.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/test__stringfields_8c_source.html#l00041">AST_TEST_DEFINE()</a>.</p>

</div>
</div>
<a id="ad614492e2dc37afd8835ce6a2804bdb1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad614492e2dc37afd8835ce6a2804bdb1">&#9670;&nbsp;</a></span>AST_STRING_FIELD_ALLOCATION</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AST_STRING_FIELD_ALLOCATION</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">x</td><td>)</td>
          <td>&#160;&#160;&#160;*((<a class="el" href="../../d1/d0f/stringfields_8h.html#a4f9d8076634be322608f4d9d8e68bbf1">ast_string_field_allocation</a> *) (x - __alignof__(<a class="el" href="../../d1/d0f/stringfields_8h.html#a4f9d8076634be322608f4d9d8e68bbf1">ast_string_field_allocation</a>)))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Macro to provide access to the allocation field that lives immediately in front of a string field. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">x</td><td>Pointer to the string field</td></tr>
  </table>
  </dd>
</dl>
<p>Note that x must be a pointer to a byte-sized type &ndash; normally (char *) &ndash; or this calculation would break horribly </p>

<p class="definition">Definition at line <a class="el" href="../../d1/d0f/stringfields_8h_source.html#l00460">460</a> of file <a class="el" href="../../d1/d0f/stringfields_8h_source.html">stringfields.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/dba/stringfields_8c_source.html#l00202">__ast_string_field_alloc_space()</a>, <a class="el" href="../../d5/dba/stringfields_8c_source.html#l00286">__ast_string_field_ptr_build_va()</a>, <a class="el" href="../../d5/dba/stringfields_8c_source.html#l00240">__ast_string_field_ptr_grow()</a>, <a class="el" href="../../d5/dba/stringfields_8c_source.html#l00261">__ast_string_field_release_active()</a>, and <a class="el" href="../../d3/d5a/test__stringfields_8c_source.html#l00041">AST_TEST_DEFINE()</a>.</p>

</div>
</div>
<a id="a8b9f4347fc72720cc5cead952b54abe9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b9f4347fc72720cc5cead952b54abe9">&#9670;&nbsp;</a></span>ast_string_field_build</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ast_string_field_build</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">x, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">field, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">fmt, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">args...&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set a field to a complex (built) value. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">x</td><td>Pointer to a structure containing fields </td></tr>
    <tr><td class="paramname">field</td><td>Name of the field to set </td></tr>
    <tr><td class="paramname">fmt</td><td>printf-style format string </td></tr>
    <tr><td class="paramname">args</td><td>Arguments for format string </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>nothing </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d1/d0f/stringfields_8h_source.html#l00550">550</a> of file <a class="el" href="../../d1/d0f/stringfields_8h_source.html">stringfields.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d10/manager_8c_source.html#l05723">action_originate()</a>, <a class="el" href="../../db/d0b/resource__bridges_8c_source.html#l00634">ast_ari_bridges_record()</a>, <a class="el" href="../../da/d49/resource__channels_8c_source.html#l00748">ast_ari_channels_record()</a>, <a class="el" href="../../d7/d4b/main_2endpoints_8c_source.html#l00445">ast_endpoint_snapshot_create()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l08829">build_callid_pvt()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l08892">build_callid_registry()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l14385">build_contact()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l08902">build_localtag_registry()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l17300">build_nonce()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l12794">build_peer()</a>, <a class="el" href="../../d9/de9/res__phoneprov_8c_source.html#l00580">build_profile()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l13119">build_user()</a>, <a class="el" href="../../dc/d18/res__calendar__caldav_8c_source.html#l00175">caldav_write_event()</a>, <a class="el" href="../../d7/d4b/main_2endpoints_8c_source.html#l00214">endpoint_internal_create()</a>, <a class="el" href="../../d0/d60/res__fax_8c_source.html#l03383">fax_gateway_framehook()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l18812">get_refer_info()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l28575">handle_request_subscribe()</a>, <a class="el" href="../../dc/d1d/func__odbc_8c_source.html#l01204">init_acf_query()</a>, <a class="el" href="../../de/da4/chan__motif_8c_source.html#l00701">jingle_alloc()</a>, <a class="el" href="../../d2/df4/cdr__custom_8c_source.html#l00090">load_config()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l08908">make_our_tag()</a>, <a class="el" href="../../d6/db4/mwi_8c_source.html#l00105">mwi_create_state()</a>, <a class="el" href="../../d7/d45/res__parking_8c_source.html#l00758">parking_lot_cfg_create_extensions()</a>, <a class="el" href="../../d2/d23/res__calendar__exchange_8c_source.html#l00171">parse_cdata()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l16961">parse_register_contact()</a>, <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00451">set_target_uri()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l05086">sip_sendhtml()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l34178">sip_sipredirect()</a>, <a class="el" href="../../d5/d47/res__fax__spandsp_8c_source.html#l00916">spandsp_fax_gateway_cleanup()</a>, <a class="el" href="../../d3/d74/stored_8c_source.html#l00310">stasis_app_stored_recording_find_by_name()</a>, and <a class="el" href="../../d5/d47/res__fax__spandsp_8c_source.html#l00378">t30_phase_e_handler()</a>.</p>

</div>
</div>
<a id="a5dbef560766ab8260c045b54b1dfbccd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5dbef560766ab8260c045b54b1dfbccd">&#9670;&nbsp;</a></span>ast_string_field_build_va</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ast_string_field_build_va</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">x, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">field, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">fmt, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set a field to a complex (built) value. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">x</td><td>Pointer to a structure containing fields </td></tr>
    <tr><td class="paramname">field</td><td>Name of the field to set </td></tr>
    <tr><td class="paramname">fmt</td><td>printf-style format string </td></tr>
    <tr><td class="paramname">args</td><td>Arguments for format string in va_list format </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>nothing </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d1/d0f/stringfields_8h_source.html#l00588">588</a> of file <a class="el" href="../../d1/d0f/stringfields_8h_source.html">stringfields.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/d6d/message_8c_source.html#l00476">ast_msg_set_body()</a>, <a class="el" href="../../d0/d6d/message_8c_source.html#l00487">ast_msg_set_context()</a>, <a class="el" href="../../d0/d6d/message_8c_source.html#l00520">ast_msg_set_endpoint()</a>, <a class="el" href="../../d0/d6d/message_8c_source.html#l00498">ast_msg_set_exten()</a>, <a class="el" href="../../d0/d6d/message_8c_source.html#l00465">ast_msg_set_from()</a>, <a class="el" href="../../d0/d6d/message_8c_source.html#l00509">ast_msg_set_tech()</a>, and <a class="el" href="../../d0/d6d/message_8c_source.html#l00454">ast_msg_set_to()</a>.</p>

</div>
</div>
<a id="ab8670e3e170d6d64cfbeebb93787dc40"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab8670e3e170d6d64cfbeebb93787dc40">&#9670;&nbsp;</a></span>AST_STRING_FIELD_EXTENDED</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AST_STRING_FIELD_EXTENDED</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a></td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="../../d1/d0f/stringfields_8h.html#a51b5729220efb7cda4393ed35ecdfea2">AST_STRING_FIELD</a>(<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Declare an extended string field. </p>
<dl class="section since"><dt>Since</dt><dd>13.9.0</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>The field name </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d1/d0f/stringfields_8h_source.html#l00307">307</a> of file <a class="el" href="../../d1/d0f/stringfields_8h_source.html">stringfields.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/test__stringfields_8c_source.html#l00041">AST_TEST_DEFINE()</a>.</p>

</div>
</div>
<a id="abf60f862ae6a141d2f86a0f5e82792de"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf60f862ae6a141d2f86a0f5e82792de">&#9670;&nbsp;</a></span>ast_string_field_free_memory</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ast_string_field_free_memory</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">x</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>free all memory - to be called before destroying the object </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">x</td><td></td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d1/d0f/stringfields_8h_source.html#l00368">368</a> of file <a class="el" href="../../d1/d0f/stringfields_8h_source.html">stringfields.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d10/manager_8c_source.html#l07372">action_destroy()</a>, <a class="el" href="../../de/d11/app__agent__pool_8c_source.html#l00427">agent_cfg_destructor()</a>, <a class="el" href="../../de/d11/app__agent__pool_8c_source.html#l00761">agent_pvt_destructor()</a>, <a class="el" href="../../d0/dad/location_8c_source.html#l00040">aor_destroy()</a>, <a class="el" href="../../de/d71/features__config_8c_source.html#l00409">ast_applicationmap_item_destructor()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l03470">ast_bridge_features_limits_destroy()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l01471">ast_channel_internal_cleanup()</a>, <a class="el" href="../../db/d70/pbx__functions_8c_source.html#l00273">ast_custom_function_unregister()</a>, <a class="el" href="../../d8/d9c/config__parser_8c_source.html#l00276">AST_TEST_DEFINE()</a>, <a class="el" href="../../dd/d16/pbx__app_8c_source.html#l00392">ast_unregister_application()</a>, <a class="el" href="../../d8/d2f/xmldoc_8c_source.html#l02260">ast_xml_doc_item_destructor()</a>, <a class="el" href="../../dc/d6b/res__xmpp_8c_source.html#l00523">ast_xmpp_client_config_destructor()</a>, <a class="el" href="../../dc/d7a/res__pjsip__publish__asterisk_8c_source.html#l00819">asterisk_publication_config_destroy()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01353">attended_transfer_properties_destructor()</a>, <a class="el" href="../../d5/dcb/config__auth_8c_source.html#l00030">auth_destroy()</a>, <a class="el" href="../../d4/d10/manager_8c_source.html#l08119">auth_http_callback()</a>, <a class="el" href="../../dc/d40/conf__config__parser_8c_source.html#l00996">bridge_profile_sounds_destroy_cb()</a>, <a class="el" href="../../dd/d13/bridge__roles_8c_source.html#l00071">bridge_role_destroy()</a>, <a class="el" href="../../da/d0f/stasis__bridges_8c_source.html#l00194">bridge_snapshot_dtor()</a>, <a class="el" href="../../db/d43/bucket_8c_source.html#l00371">bucket_destroy()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l13119">build_user()</a>, <a class="el" href="../../dc/d18/res__calendar__caldav_8c_source.html#l00074">caldav_destructor()</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00327">calendar_destructor()</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00609">calendar_event_destructor()</a>, <a class="el" href="../../dc/df2/cdr_8c_source.html#l00999">cdr_object_dtor()</a>, <a class="el" href="../../da/dc9/cel_8c_source.html#l00180">cel_general_config_dtor()</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l00259">channel_snapshot_base_dtor()</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l00314">channel_snapshot_caller_dtor()</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l00400">channel_snapshot_dialplan_dtor()</a>, <a class="el" href="../../dc/dec/res_2ari_2config_8c_source.html#l00170">conf_general_dtor()</a>, <a class="el" href="../../d0/dad/location_8c_source.html#l00111">contact_destroy()</a>, <a class="el" href="../../d8/d93/app__mixmonitor_8c_source.html#l00635">copy_to_voicemail()</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00231">db_destructor()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l00658">destroy_bridge()</a>, <a class="el" href="../../d4/d10/manager_8c_source.html#l05405">destroy_fast_originate_helper()</a>, <a class="el" href="../../db/d73/pjsip__global__headers_8c_source.html#l00071">destroy_header()</a>, <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00343">destroy_jack_data()</a>, <a class="el" href="../../d8/d96/res__smdi_8c_source.html#l00788">destroy_mailbox_mapping()</a>, <a class="el" href="../../dd/d53/res__config__odbc_8c_source.html#l00824">destroy_odbc()</a>, <a class="el" href="../../da/dfb/app__queue_8c_source.html#l03519">destroy_queue()</a>, <a class="el" href="../../d0/d60/res__fax_8c_source.html#l00684">destroy_session_details()</a>, <a class="el" href="../../dd/d71/res__stasis__device__state_8c_source.html#l00106">device_state_subscription_destroy()</a>, <a class="el" href="../../d9/d9e/config__domain__aliases_8c_source.html#l00029">domain_alias_destroy()</a>, <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l02267">endpoint_destructor()</a>, <a class="el" href="../../d7/d4b/main_2endpoints_8c_source.html#l00145">endpoint_dtor()</a>, <a class="el" href="../../d7/d4b/main_2endpoints_8c_source.html#l00431">endpoint_snapshot_dtor()</a>, <a class="el" href="../../d2/d4f/res__calendar__ews_8c_source.html#l00113">ewscal_destructor()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l02783">exception_store_free()</a>, <a class="el" href="../../d2/d23/res__calendar__exchange_8c_source.html#l00219">exchangecal_destructor()</a>, <a class="el" href="../../de/d71/features__config_8c_source.html#l00450">featuregroup_item_destructor()</a>, <a class="el" href="../../de/d71/features__config_8c_source.html#l00647">featuremap_config_destructor()</a>, <a class="el" href="../../dc/d1d/func__odbc_8c_source.html#l01187">free_acf_query()</a>, <a class="el" href="../../d2/df4/cdr__custom_8c_source.html#l00079">free_config()</a>, <a class="el" href="../../d9/dd4/pbx__spool_8c_source.html#l00114">free_outgoing()</a>, <a class="el" href="../../de/d71/features__config_8c_source.html#l00663">general_destructor()</a>, <a class="el" href="../../dd/dfd/config__global_8c_source.html#l00121">global_destructor()</a>, <a class="el" href="../../db/d43/res__hep_8c_source.html#l00291">hepv3_config_dtor()</a>, <a class="el" href="../../df/d58/res__calendar__icalendar_8c_source.html#l00070">icalendar_destructor()</a>, <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l02255">info_configuration_destroy()</a>, <a class="el" href="../../df/d91/res__pjsip__endpoint__identifier__ip_8c_source.html#l00152">ip_identify_destroy()</a>, <a class="el" href="../../de/da4/chan__motif_8c_source.html#l00441">jingle_endpoint_destructor()</a>, <a class="el" href="../../de/da4/chan__motif_8c_source.html#l00561">jingle_session_destructor()</a>, <a class="el" href="../../d0/d2a/cdr__tds_8c_source.html#l00597">load_module()</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l00182">logmsg_free()</a>, <a class="el" href="../../d4/d10/manager_8c_source.html#l09718">manager_event_blob_dtor()</a>, <a class="el" href="../../de/deb/res__pjproject_8c_source.html#l00311">mapping_destroy()</a>, <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l02260">media_configuration_destroy()</a>, <a class="el" href="../../de/dfe/media__index_8c_source.html#l00054">media_variant_destroy()</a>, <a class="el" href="../../d8/d93/app__mixmonitor_8c_source.html#l00604">mixmonitor_free()</a>, <a class="el" href="../../d0/d6d/message_8c_source.html#l00404">msg_data_destructor()</a>, <a class="el" href="../../d0/d6d/message_8c_source.html#l00410">msg_destructor()</a>, <a class="el" href="../../d6/db4/mwi_8c_source.html#l00077">mwi_state_dtor()</a>, <a class="el" href="../../d3/d2a/parking_8c_source.html#l00073">parked_call_payload_destructor()</a>, <a class="el" href="../../d7/d45/res__parking_8c_source.html#l00427">parking_lot_cfg_destructor()</a>, <a class="el" href="../../d7/d45/res__parking_8c_source.html#l00625">parking_lot_destructor()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l12766">peer_destructor()</a>, <a class="el" href="../../de/d71/features__config_8c_source.html#l00677">pickup_destructor()</a>, <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00124">playback_dtor()</a>, <a class="el" href="../../d5/d07/presencestate_8c_source.html#l00268">presence_state_dtor()</a>, <a class="el" href="../../d7/d1b/res__prometheus_8c_source.html#l00719">prometheus_general_config_dtor()</a>, <a class="el" href="../../d3/d4e/chan__console_8c_source.html#l01349">pvt_destructor()</a>, <a class="el" href="../../da/dfb/app__queue_8c_source.html#l05994">queue_stasis_data_destructor()</a>, <a class="el" href="../../dd/d53/res__config__odbc_8c_source.html#l00342">realtime_multi_odbc()</a>, <a class="el" href="../../dd/d53/res__config__odbc_8c_source.html#l00170">realtime_odbc()</a>, <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00144">recording_options_dtor()</a>, <a class="el" href="../../df/dda/pjsip__options_8c_source.html#l00349">sip_contact_status_dtor()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l05309">sip_destroy_peer()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l02036">sip_monitor_instance_destructor()</a>, <a class="el" href="../../df/d3a/res__pjsip__outbound__publish_8c_source.html#l00657">sip_outbound_publish_destroy()</a>, <a class="el" href="../../d9/d96/res__pjsip__outbound__registration_8c_source.html#l01363">sip_outbound_registration_destroy()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l06673">sip_pvt_dtor()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l16378">sip_refer_destroy()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l06630">sip_registry_destroy()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l06650">sip_subscribe_mwi_destroy()</a>, <a class="el" href="../../d3/d17/config__transport_8c_source.html#l00391">sip_transport_destroy()</a>, <a class="el" href="../../d9/d1a/app__skel_8c_source.html#l00297">skel_global_config_destructor()</a>, <a class="el" href="../../d9/d1a/app__skel_8c_source.html#l00325">skel_level_destructor()</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l07380">sla_station_destructor()</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l07459">sla_trunk_destructor()</a>, <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l00455">stasis_app_bridge_channel_wrapper_destructor()</a>, <a class="el" href="../../d7/d5c/certificate_8c_source.html#l00059">stir_shaken_certificate_destructor()</a>, <a class="el" href="../../d1/dca/general_8c_source.html#l00097">stir_shaken_general_destructor()</a>, <a class="el" href="../../d9/d7e/store_8c_source.html#l00055">stir_shaken_store_destructor()</a>, <a class="el" href="../../dd/d53/res__config__odbc_8c_source.html#l00741">store_odbc()</a>, <a class="el" href="../../d3/d74/stored_8c_source.html#l00046">stored_recording_dtor()</a>, <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l02249">subscription_configuration_destroy()</a>, <a class="el" href="../../d0/d2a/cdr__tds_8c_source.html#l00442">tds_unload_module()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l12591">temp_pvt_cleanup()</a>, <a class="el" href="../../d8/d4f/test__config_8c_source.html#l01373">test_item_destructor()</a>, <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l00402">test_vm_api_destroy_mock_snapshot()</a>, <a class="el" href="../../d0/d5c/res__resolver__unbound_8c_source.html#l00346">unbound_global_config_destructor()</a>, <a class="el" href="../../dd/d53/res__config__odbc_8c_source.html#l00516">update_odbc()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l13105">user_destructor()</a>, <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l15764">vm_msg_snapshot_destroy()</a>, and <a class="el" href="../../de/d71/features__config_8c_source.html#l00670">xfer_destructor()</a>.</p>

</div>
</div>
<a id="a871274fa4fd2687c7a44849a84df3665"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a871274fa4fd2687c7a44849a84df3665">&#9670;&nbsp;</a></span>ast_string_field_init</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ast_string_field_init</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">x, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">size&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize a field pool and fields. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">x</td><td>Pointer to a structure containing fields </td></tr>
    <tr><td class="paramname">size</td><td>Amount of storage to allocate. Use AST_STRINGFIELD_RESET to reset fields to the default value, and release all but the most recent pool. AST_STRINGFIELD_DESTROY (used internally) means free all pools which is equivalent to calling ast_string_field_free_memory.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, non-zero on failure </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d1/d0f/stringfields_8h_source.html#l00353">353</a> of file <a class="el" href="../../d1/d0f/stringfields_8h_source.html">stringfields.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l01331">__ast_channel_internal_alloc()</a>, <a class="el" href="../../de/d71/features__config_8c_source.html#l00732">__features_config_alloc()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l08942">__sip_alloc()</a>, <a class="el" href="../../db/d70/pbx__functions_8c_source.html#l00328">acf_retrieve_docs()</a>, <a class="el" href="../../d4/d10/manager_8c_source.html#l05723">action_originate()</a>, <a class="el" href="../../de/d11/app__agent__pool_8c_source.html#l00434">agent_cfg_alloc()</a>, <a class="el" href="../../de/d11/app__agent__pool_8c_source.html#l00784">agent_pvt_new()</a>, <a class="el" href="../../d7/d45/res__parking_8c_source.html#l00637">alloc_new_parking_lot()</a>, <a class="el" href="../../da/dfb/app__queue_8c_source.html#l03534">alloc_queue()</a>, <a class="el" href="../../d0/dad/location_8c_source.html#l00050">aor_alloc()</a>, <a class="el" href="../../de/d71/features__config_8c_source.html#l01274">applicationmap_item_alloc()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l03459">ast_bridge_features_limits_construct()</a>, <a class="el" href="../../da/d0f/stasis__bridges_8c_source.html#l00202">ast_bridge_snapshot_create()</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00667">ast_calendar_event_alloc()</a>, <a class="el" href="../../da/dc9/cel_8c_source.html#l00188">ast_cel_general_config_alloc()</a>, <a class="el" href="../../d7/d4b/main_2endpoints_8c_source.html#l00445">ast_endpoint_snapshot_create()</a>, <a class="el" href="../../d4/d10/manager_8c_source.html#l09727">ast_manager_event_blob_create()</a>, <a class="el" href="../../d4/d10/manager_8c_source.html#l07386">ast_manager_register2()</a>, <a class="el" href="../../d0/d6d/message_8c_source.html#l00418">ast_msg_alloc()</a>, <a class="el" href="../../d3/d2a/parking_8c_source.html#l00082">ast_parked_call_payload_create()</a>, <a class="el" href="../../d9/de9/res__phoneprov_8c_source.html#l01514">ast_phoneprov_provider_register()</a>, <a class="el" href="../../dd/d16/pbx__app_8c_source.html#l00103">ast_register_application2()</a>, <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l02306">ast_sip_endpoint_alloc()</a>, <a class="el" href="../../d8/d4f/test__config_8c_source.html#l01482">AST_TEST_DEFINE()</a>, <a class="el" href="../../d8/d2f/xmldoc_8c_source.html#l02289">ast_xml_doc_item_alloc()</a>, <a class="el" href="../../dc/d6b/res__xmpp_8c_source.html#l00671">ast_xmpp_client_config_alloc()</a>, <a class="el" href="../../dc/d7a/res__pjsip__publish__asterisk_8c_source.html#l00827">asterisk_publication_config_alloc()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01409">attended_transfer_properties_alloc()</a>, <a class="el" href="../../d5/dcb/config__auth_8c_source.html#l00036">auth_alloc()</a>, <a class="el" href="../../d4/d10/manager_8c_source.html#l08119">auth_http_callback()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l00724">bridge_alloc()</a>, <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l00574">bridge_moh_create()</a>, <a class="el" href="../../dc/d40/conf__config__parser_8c_source.html#l01002">bridge_profile_sounds_alloc()</a>, <a class="el" href="../../db/d43/bucket_8c_source.html#l00402">bucket_alloc()</a>, <a class="el" href="../../db/d43/bucket_8c_source.html#l00640">bucket_file_alloc()</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00400">build_calendar()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l12794">build_peer()</a>, <a class="el" href="../../d9/de9/res__phoneprov_8c_source.html#l00580">build_profile()</a>, <a class="el" href="../../d9/de9/res__phoneprov_8c_source.html#l00507">build_route()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l13119">build_user()</a>, <a class="el" href="../../dc/d18/res__calendar__caldav_8c_source.html#l00607">caldav_load_calendar()</a>, <a class="el" href="../../dc/df2/cdr_8c_source.html#l01039">cdr_object_alloc()</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l00266">channel_snapshot_base_create()</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l00321">channel_snapshot_caller_create()</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l00407">channel_snapshot_dialplan_create()</a>, <a class="el" href="../../dc/dec/res_2ari_2config_8c_source.html#l00187">conf_alloc()</a>, <a class="el" href="../../d0/dad/location_8c_source.html#l00120">contact_alloc()</a>, <a class="el" href="../../d8/d93/app__mixmonitor_8c_source.html#l00635">copy_to_voicemail()</a>, <a class="el" href="../../dd/d53/res__config__odbc_8c_source.html#l00824">destroy_odbc()</a>, <a class="el" href="../../dd/d71/res__stasis__device__state_8c_source.html#l00112">device_state_subscription_create()</a>, <a class="el" href="../../d9/d9e/config__domain__aliases_8c_source.html#l00036">domain_alias_alloc()</a>, <a class="el" href="../../d7/d4b/main_2endpoints_8c_source.html#l00214">endpoint_internal_create()</a>, <a class="el" href="../../d2/d4f/res__calendar__ews_8c_source.html#l00770">ewscal_load_calendar()</a>, <a class="el" href="../../d2/d23/res__calendar__exchange_8c_source.html#l00600">exchangecal_load_calendar()</a>, <a class="el" href="../../de/d71/features__config_8c_source.html#l01478">featuregroup_handler()</a>, <a class="el" href="../../dd/dfd/config__global_8c_source.html#l00128">global_alloc()</a>, <a class="el" href="../../de/d71/features__config_8c_source.html#l00684">global_config_alloc()</a>, <a class="el" href="../../db/d43/res__hep_8c_source.html#l00299">hepv3_config_alloc()</a>, <a class="el" href="../../df/d58/res__calendar__icalendar_8c_source.html#l00385">ical_load_calendar()</a>, <a class="el" href="../../dc/d1d/func__odbc_8c_source.html#l01204">init_acf_query()</a>, <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l02296">init_info_configuration()</a>, <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l02301">init_media_configuration()</a>, <a class="el" href="../../d3/d4e/chan__console_8c_source.html#l01356">init_pvt()</a>, <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l02291">init_subscription_configuration()</a>, <a class="el" href="../../df/d91/res__pjsip__endpoint__identifier__ip_8c_source.html#l00165">ip_identify_alloc()</a>, <a class="el" href="../../de/da4/chan__motif_8c_source.html#l00701">jingle_alloc()</a>, <a class="el" href="../../de/da4/chan__motif_8c_source.html#l00499">jingle_endpoint_alloc()</a>, <a class="el" href="../../d8/d93/app__mixmonitor_8c_source.html#l00933">launch_monitor_thread()</a>, <a class="el" href="../../de/deb/res__pjproject_8c_source.html#l00318">mapping_alloc()</a>, <a class="el" href="../../de/dfe/media__index_8c_source.html#l00062">media_variant_alloc()</a>, <a class="el" href="../../d0/d6d/message_8c_source.html#l00556">msg_data_alloc()</a>, <a class="el" href="../../d6/db4/mwi_8c_source.html#l00105">mwi_create_state()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l02243">new_iax()</a>, <a class="el" href="../../d9/dd4/pbx__spool_8c_source.html#l00124">new_outgoing()</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00388">new_realtime_sqlite3_db()</a>, <a class="el" href="../../d7/d45/res__parking_8c_source.html#l00461">parking_lot_cfg_alloc()</a>, <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00140">playback_create()</a>, <a class="el" href="../../d5/d07/presencestate_8c_source.html#l00274">presence_state_alloc()</a>, <a class="el" href="../../d7/d1b/res__prometheus_8c_source.html#l00726">prometheus_general_config_alloc()</a>, <a class="el" href="../../da/dfb/app__queue_8c_source.html#l06026">queue_stasis_data_alloc()</a>, <a class="el" href="../../dd/d53/res__config__odbc_8c_source.html#l00342">realtime_multi_odbc()</a>, <a class="el" href="../../dd/d53/res__config__odbc_8c_source.html#l00170">realtime_odbc()</a>, <a class="el" href="../../d3/d74/stored_8c_source.html#l00200">recording_alloc()</a>, <a class="el" href="../../d0/d60/res__fax_8c_source.html#l00696">session_details_new()</a>, <a class="el" href="../../dd/d13/bridge__roles_8c_source.html#l00291">setup_bridge_role_option()</a>, <a class="el" href="../../df/dda/pjsip__options_8c_source.html#l00356">sip_contact_status_alloc()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l02054">sip_monitor_instance_init()</a>, <a class="el" href="../../df/d3a/res__pjsip__outbound__publish_8c_source.html#l00667">sip_outbound_publish_alloc()</a>, <a class="el" href="../../d9/d96/res__pjsip__outbound__registration_8c_source.html#l01373">sip_outbound_registration_alloc()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l09679">sip_register()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l09720">sip_subscribe_mwi()</a>, <a class="el" href="../../d3/d17/config__transport_8c_source.html#l00399">sip_transport_alloc()</a>, <a class="el" href="../../d9/d1a/app__skel_8c_source.html#l00566">skel_config_alloc()</a>, <a class="el" href="../../d9/d1a/app__skel_8c_source.html#l00532">skel_level_alloc()</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l07646">sla_build_station()</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l07474">sla_build_trunk()</a>, <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l00705">stasis_app_bridge_playback_channel_add()</a>, <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00151">stasis_app_recording_options_create()</a>, <a class="el" href="../../d7/d5c/certificate_8c_source.html#l00067">stir_shaken_certificate_alloc()</a>, <a class="el" href="../../d1/dca/general_8c_source.html#l00104">stir_shaken_general_alloc()</a>, <a class="el" href="../../d9/d7e/store_8c_source.html#l00062">stir_shaken_store_alloc()</a>, <a class="el" href="../../dd/d53/res__config__odbc_8c_source.html#l00741">store_odbc()</a>, <a class="el" href="../../d0/d2a/cdr__tds_8c_source.html#l00481">tds_load_module()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l31550">temp_peer()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l12583">temp_pvt_init()</a>, <a class="el" href="../../d8/d4f/test__config_8c_source.html#l01383">test_item_alloc()</a>, <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l00377">test_vm_api_create_mock_snapshot()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l12601">transmit_response_using_temp()</a>, <a class="el" href="../../d0/d5c/res__resolver__unbound_8c_source.html#l00365">unbound_config_alloc()</a>, <a class="el" href="../../dd/d53/res__config__odbc_8c_source.html#l00516">update_odbc()</a>, <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l15748">vm_msg_snapshot_alloc()</a>, and <a class="el" href="../../dc/d6b/res__xmpp_8c_source.html#l00604">xmpp_client_alloc()</a>.</p>

</div>
</div>
<a id="a94cf672031c1cdee340ed1979ae2a379"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a94cf672031c1cdee340ed1979ae2a379">&#9670;&nbsp;</a></span>ast_string_field_init_extended</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ast_string_field_init_extended</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">x, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">field&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize an extended string field. </p>
<dl class="section since"><dt>Since</dt><dd>13.9.0</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">x</td><td>Pointer to a structure containing the field </td></tr>
    <tr><td class="paramname">field</td><td>The extended field to initialize </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">zero</td><td>on success </td></tr>
    <tr><td class="paramname">non-zero</td><td>on error</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>This macro must be called on ALL fields defined with AST_STRING_FIELD_EXTENDED after ast_string_field_init has been called. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d1/d0f/stringfields_8h_source.html#l00395">395</a> of file <a class="el" href="../../d1/d0f/stringfields_8h_source.html">stringfields.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/test__stringfields_8c_source.html#l00041">AST_TEST_DEFINE()</a>.</p>

</div>
</div>
<a id="a9f55756eaab8a360837a702a1a80426c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f55756eaab8a360837a702a1a80426c">&#9670;&nbsp;</a></span>ast_string_field_ptr_build</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ast_string_field_ptr_build</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">x, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ptr, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">fmt, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">args...&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set a field to a complex (built) value. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">x</td><td>Pointer to a structure containing fields </td></tr>
    <tr><td class="paramname">ptr</td><td>Pointer to a field within the structure </td></tr>
    <tr><td class="paramname">fmt</td><td>printf-style format string </td></tr>
    <tr><td class="paramname">args</td><td>Arguments for format string </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>nothing </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d1/d0f/stringfields_8h_source.html#l00531">531</a> of file <a class="el" href="../../d1/d0f/stringfields_8h_source.html">stringfields.h</a>.</p>

</div>
</div>
<a id="a45a8f974ba52ca692e4e0547266d3a9f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a45a8f974ba52ca692e4e0547266d3a9f">&#9670;&nbsp;</a></span>ast_string_field_ptr_build_va</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ast_string_field_ptr_build_va</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">x, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ptr, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">fmt, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set a field to a complex (built) value with prebuilt va_lists. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">x</td><td>Pointer to a structure containing fields </td></tr>
    <tr><td class="paramname">ptr</td><td>Pointer to a field within the structure </td></tr>
    <tr><td class="paramname">fmt</td><td>printf-style format string </td></tr>
    <tr><td class="paramname">args</td><td>Arguments for format string in va_list format </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>nothing </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d1/d0f/stringfields_8h_source.html#l00569">569</a> of file <a class="el" href="../../d1/d0f/stringfields_8h_source.html">stringfields.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d10/manager_8c_source.html#l09727">ast_manager_event_blob_create()</a>.</p>

</div>
</div>
<a id="ad5919d2452007db4100fda0d0b656ffa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad5919d2452007db4100fda0d0b656ffa">&#9670;&nbsp;</a></span>ast_string_field_ptr_set</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ast_string_field_ptr_set</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">x, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ptr, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">data&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set a field to a simple string value. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">x</td><td>Pointer to a structure containing fields </td></tr>
    <tr><td class="paramname">ptr</td><td>Pointer to a field within the structure </td></tr>
    <tr><td class="paramname">data</td><td>String value to be copied into the field </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">zero</td><td>on success </td></tr>
    <tr><td class="paramname">non-zero</td><td>on error </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d1/d0f/stringfields_8h_source.html#l00470">470</a> of file <a class="el" href="../../d1/d0f/stringfields_8h_source.html">stringfields.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l02390">ast_parse_digest()</a>, and <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l23062">reply_digest()</a>.</p>

</div>
</div>
<a id="ad8deab902d72a4afd1e6404635b47023"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad8deab902d72a4afd1e6404635b47023">&#9670;&nbsp;</a></span>ast_string_field_ptr_set_by_fields</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ast_string_field_ptr_set_by_fields</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">field_mgr_pool, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">field_mgr, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ptr, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">data&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;<a class="el" href="../../d1/d0f/stringfields_8h.html#a1bfcb5ab5df5370d03274a83c8350888">__ast_string_field_ptr_set_by_fields</a>(field_mgr_pool, field_mgr, ptr, data, __FILE__, __LINE__, __PRETTY_FUNCTION__)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/d0f/stringfields_8h_source.html#l00503">503</a> of file <a class="el" href="../../d1/d0f/stringfields_8h_source.html">stringfields.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/test__stringfields_8c_source.html#l00311">AST_TEST_DEFINE()</a>, and <a class="el" href="../../d6/dc8/config__options_8c_source.html#l01521">stringfield_handler_fn()</a>.</p>

</div>
</div>
<a id="a653461abd6e0d16e4e3326ab90e0501d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a653461abd6e0d16e4e3326ab90e0501d">&#9670;&nbsp;</a></span>ast_string_field_set</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ast_string_field_set</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">x, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">field, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">data&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set a field to a simple string value. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">x</td><td>Pointer to a structure containing fields </td></tr>
    <tr><td class="paramname">field</td><td>Name of the field to set </td></tr>
    <tr><td class="paramname">data</td><td>String value to be copied into the field </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">zero</td><td>on success </td></tr>
    <tr><td class="paramname">non-zero</td><td>on error </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d1/d0f/stringfields_8h_source.html#l00514">514</a> of file <a class="el" href="../../d1/d0f/stringfields_8h_source.html">stringfields.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l09469">__find_call()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l03108">__find_callno()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l08942">__sip_alloc()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l15075">__sip_subscribe_mwi_do()</a>, <a class="el" href="../../d0/d60/res__fax_8c_source.html#l04601">acf_faxopt_write()</a>, <a class="el" href="../../db/d70/pbx__functions_8c_source.html#l00328">acf_retrieve_docs()</a>, <a class="el" href="../../d4/d10/manager_8c_source.html#l05723">action_originate()</a>, <a class="el" href="../../de/d11/app__agent__pool_8c_source.html#l00434">agent_cfg_alloc()</a>, <a class="el" href="../../de/d11/app__agent__pool_8c_source.html#l02040">agent_login_channel_config()</a>, <a class="el" href="../../de/d11/app__agent__pool_8c_source.html#l00784">agent_pvt_new()</a>, <a class="el" href="../../d7/dad/pjsip__distributor_8c_source.html#l00594">alloc_artificial_auth()</a>, <a class="el" href="../../db/d73/pjsip__global__headers_8c_source.html#l00055">alloc_header()</a>, <a class="el" href="../../d7/d45/res__parking_8c_source.html#l00637">alloc_new_parking_lot()</a>, <a class="el" href="../../da/dfb/app__queue_8c_source.html#l03534">alloc_queue()</a>, <a class="el" href="../../d0/dad/location_8c_source.html#l01342">aor_apply_outbound_proxy()</a>, <a class="el" href="../../d8/d96/res__smdi_8c_source.html#l00805">append_mailbox_mapping()</a>, <a class="el" href="../../de/d71/features__config_8c_source.html#l01274">applicationmap_item_alloc()</a>, <a class="el" href="../../da/d0f/stasis__bridges_8c_source.html#l00202">ast_bridge_snapshot_create()</a>, <a class="el" href="../../db/d43/bucket_8c_source.html#l00431">ast_bucket_alloc()</a>, <a class="el" href="../../db/d43/bucket_8c_source.html#l00663">ast_bucket_file_alloc()</a>, <a class="el" href="../../dc/df2/cdr_8c_source.html#l03637">ast_cdr_fork()</a>, <a class="el" href="../../dd/d13/bridge__roles_8c_source.html#l00379">ast_channel_set_bridge_role_option()</a>, <a class="el" href="../../d7/d4b/main_2endpoints_8c_source.html#l00445">ast_endpoint_snapshot_create()</a>, <a class="el" href="../../d4/d10/manager_8c_source.html#l07386">ast_manager_register2()</a>, <a class="el" href="../../d0/d6d/message_8c_source.html#l00418">ast_msg_alloc()</a>, <a class="el" href="../../d3/d2a/parking_8c_source.html#l00082">ast_parked_call_payload_create()</a>, <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l02390">ast_parse_digest()</a>, <a class="el" href="../../d9/de9/res__phoneprov_8c_source.html#l01514">ast_phoneprov_provider_register()</a>, <a class="el" href="../../dd/d16/pbx__app_8c_source.html#l00103">ast_register_application2()</a>, <a class="el" href="../../df/dda/pjsip__options_8c_source.html#l00462">ast_res_pjsip_find_or_create_contact_status()</a>, <a class="el" href="../../d0/dad/location_8c_source.html#l00355">ast_sip_location_create_contact()</a>, <a class="el" href="../../d6/d14/parking__tests_8c_source.html#l00735">AST_TEST_DEFINE()</a>, <a class="el" href="../../d8/d2f/xmldoc_8c_source.html#l02289">ast_xml_doc_item_alloc()</a>, <a class="el" href="../../dc/d6b/res__xmpp_8c_source.html#l00671">ast_xmpp_client_config_alloc()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01409">attended_transfer_properties_alloc()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l08411">authenticate_reply()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l08055">authenticate_request()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l08106">authenticate_verify()</a>, <a class="el" href="../../dc/df2/cdr_8c_source.html#l01617">base_process_parked_channel()</a>, <a class="el" href="../../dc/df2/cdr_8c_source.html#l01540">base_process_party_a()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l00760">bridge_base_init()</a>, <a class="el" href="../../dc/df2/cdr_8c_source.html#l02472">bridge_candidate_add_to_cdr()</a>, <a class="el" href="../../d5/d92/features_8c_source.html#l00437">bridge_config_set_limits_warning_values()</a>, <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l00574">bridge_moh_create()</a>, <a class="el" href="../../dc/d40/conf__config__parser_8c_source.html#l02213">bridge_template_handler()</a>, <a class="el" href="../../db/d43/bucket_8c_source.html#l00497">bucket_copy_handler()</a>, <a class="el" href="../../db/d43/bucket_8c_source.html#l00772">bucket_file_copy_handler()</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00400">build_calendar()</a>, <a class="el" href="../../d8/d2f/xmldoc_8c_source.html#l02576">build_config_docs()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l12794">build_peer()</a>, <a class="el" href="../../d9/de9/res__phoneprov_8c_source.html#l00580">build_profile()</a>, <a class="el" href="../../d9/de9/res__phoneprov_8c_source.html#l00507">build_route()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l13119">build_user()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l14064">cache_get_callno_locked()</a>, <a class="el" href="../../dc/d18/res__calendar__caldav_8c_source.html#l00349">caldav_add_event()</a>, <a class="el" href="../../dc/d18/res__calendar__caldav_8c_source.html#l00607">caldav_load_calendar()</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l01415">calendar_write_exec()</a>, <a class="el" href="../../dc/df2/cdr_8c_source.html#l00949">cdr_all_relink()</a>, <a class="el" href="../../dc/df2/cdr_8c_source.html#l00972">cdr_all_unlink()</a>, <a class="el" href="../../dc/df2/cdr_8c_source.html#l01039">cdr_object_alloc()</a>, <a class="el" href="../../dc/df2/cdr_8c_source.html#l01075">cdr_object_create_and_append()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l08860">change_callid_pvt()</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l00266">channel_snapshot_base_create()</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l00321">channel_snapshot_caller_create()</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l00407">channel_snapshot_dialplan_create()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l07787">check_access()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l19237">check_peer_ok()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l19486">check_user_full()</a>, <a class="el" href="../../d7/d45/res__parking_8c_source.html#l00939">clone_parkinglot_cfg()</a>, <a class="el" href="../../d6/d80/test__res__prometheus_8c_source.html#l00059">config_alloc()</a>, <a class="el" href="../../d0/dad/location_8c_source.html#l00120">contact_alloc()</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00926">copy_event_data()</a>, <a class="el" href="../../d8/d93/app__mixmonitor_8c_source.html#l00635">copy_to_voicemail()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l06317">create_addr()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l06136">create_addr_from_peer()</a>, <a class="el" href="../../d7/d45/res__parking_8c_source.html#l00970">create_dynamic_lot_full()</a>, <a class="el" href="../../dd/d53/res__config__odbc_8c_source.html#l00101">custom_prepare()</a>, <a class="el" href="../../dd/d71/res__stasis__device__state_8c_source.html#l00112">device_state_subscription_create()</a>, <a class="el" href="../../dc/df2/cdr_8c_source.html#l01880">dial_state_process_bridge_enter()</a>, <a class="el" href="../../d2/d4f/res__calendar__ews_8c_source.html#l00386">endelm()</a>, <a class="el" href="../../d7/d4b/main_2endpoints_8c_source.html#l00214">endpoint_internal_create()</a>, <a class="el" href="../../d2/d4f/res__calendar__ews_8c_source.html#l00770">ewscal_load_calendar()</a>, <a class="el" href="../../d2/d23/res__calendar__exchange_8c_source.html#l00600">exchangecal_load_calendar()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l17610">extensionstate_update()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l14289">extract_uri()</a>, <a class="el" href="../../d0/d60/res__fax_8c_source.html#l03626">fax_gateway_attach()</a>, <a class="el" href="../../d0/d60/res__fax_8c_source.html#l03109">fax_gateway_detect_t38()</a>, <a class="el" href="../../d0/d60/res__fax_8c_source.html#l03383">fax_gateway_framehook()</a>, <a class="el" href="../../d0/d60/res__fax_8c_source.html#l02917">fax_gateway_start()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l03295">feature_attended_transfer()</a>, <a class="el" href="../../de/d71/features__config_8c_source.html#l01478">featuregroup_handler()</a>, <a class="el" href="../../de/d71/features__config_8c_source.html#l00996">featuremap_set()</a>, <a class="el" href="../../dc/d6b/res__xmpp_8c_source.html#l03827">fetch_access_token()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l09333">forked_invite_init()</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l01682">format_log_message_ap()</a>, <a class="el" href="../../dc/df6/pjsip__configuration_8c_source.html#l00995">from_user_handler()</a>, <a class="el" href="../../de/d71/features__config_8c_source.html#l00838">general_set()</a>, <a class="el" href="../../d6/d14/parking__tests_8c_source.html#l00140">generate_test_parking_lot()</a>, <a class="el" href="../../d0/d60/res__fax_8c_source.html#l01590">generic_fax_exec()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l19043">get_also_info()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l18508">get_destination()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l18190">get_pai()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l12830">get_realm()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l18812">get_refer_info()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l18266">get_rpid()</a>, <a class="el" href="../../da/dfb/app__queue_8c_source.html#l06112">handle_bridge_enter()</a>, <a class="el" href="../../dc/df2/cdr_8c_source.html#l02404">handle_bridge_leave_message()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l25671">handle_cc_notify()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l29065">handle_incoming()</a>, <a class="el" href="../../da/dfb/app__queue_8c_source.html#l06333">handle_local_optimization_end()</a>, <a class="el" href="../../da/dfb/app__queue_8c_source.html#l06455">handle_masquerade()</a>, <a class="el" href="../../de/dcd/app__jack_8c_source.html#l00709">handle_options()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l27605">handle_request_bye()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l26347">handle_request_invite()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l25900">handle_request_options()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l28410">handle_request_publish()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l27324">handle_request_refer()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l25171">handle_response()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l24006">handle_response_invite()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l24566">handle_response_notify()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l23920">handle_response_publish()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l24807">handle_response_register()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l24618">handle_response_subscribe()</a>, <a class="el" href="../../d3/d74/stored_8c_source.html#l00249">handle_scan_file()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l05076">iax2_call()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l12458">iax2_request()</a>, <a class="el" href="../../df/d58/res__calendar__icalendar_8c_source.html#l00385">ical_load_calendar()</a>, <a class="el" href="../../df/d58/res__calendar__icalendar_8c_source.html#l00190">icalendar_add_event()</a>, <a class="el" href="../../dc/d1d/func__odbc_8c_source.html#l01204">init_acf_query()</a>, <a class="el" href="../../d3/d4e/chan__console_8c_source.html#l01356">init_pvt()</a>, <a class="el" href="../../da/dfb/app__queue_8c_source.html#l02769">init_queue()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l14410">initreqprep()</a>, <a class="el" href="../../df/d91/res__pjsip__endpoint__identifier__ip_8c_source.html#l00443">ip_identify_apply()</a>, <a class="el" href="../../de/da4/chan__motif_8c_source.html#l00701">jingle_alloc()</a>, <a class="el" href="../../de/da4/chan__motif_8c_source.html#l00499">jingle_endpoint_alloc()</a>, <a class="el" href="../../de/da4/chan__motif_8c_source.html#l02033">jingle_interpret_description()</a>, <a class="el" href="../../d8/d93/app__mixmonitor_8c_source.html#l00933">launch_monitor_thread()</a>, <a class="el" href="../../d3/de4/cdr__syslog_8c_source.html#l00134">load_config()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l35495">load_module()</a>, <a class="el" href="../../d0/d6d/message_8c_source.html#l01226">msg_send_exec()</a>, <a class="el" href="../../d0/d6d/message_8c_source.html#l00580">msg_set_var_full()</a>, <a class="el" href="../../d6/db4/mwi_8c_source.html#l00105">mwi_create_state()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l02243">new_iax()</a>, <a class="el" href="../../d9/dd4/pbx__spool_8c_source.html#l00124">new_outgoing()</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00388">new_realtime_sqlite3_db()</a>, <a class="el" href="../../d7/d5c/certificate_8c_source.html#l00251">on_load_attestation()</a>, <a class="el" href="../../d1/dca/general_8c_source.html#l00188">on_load_ca_file()</a>, <a class="el" href="../../d1/dca/general_8c_source.html#l00210">on_load_ca_path()</a>, <a class="el" href="../../d7/d5c/certificate_8c_source.html#l00203">on_load_path()</a>, <a class="el" href="../../d7/d5c/certificate_8c_source.html#l00230">on_load_public_cert_url()</a>, <a class="el" href="../../d7/d45/res__parking_8c_source.html#l00461">parking_lot_cfg_alloc()</a>, <a class="el" href="../../d7/d45/res__parking_8c_source.html#l00663">parking_lot_cfg_remove_extensions()</a>, <a class="el" href="../../d9/dd4/pbx__spool_8c_source.html#l00177">parse_line()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l16811">parse_ok_contact()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l16961">parse_register_contact()</a>, <a class="el" href="../../d0/dad/location_8c_source.html#l00589">permanent_uri_handler()</a>, <a class="el" href="../../de/d71/features__config_8c_source.html#l00958">pickup_set()</a>, <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00285">play_on_channel()</a>, <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00140">playback_create()</a>, <a class="el" href="../../d5/d07/presencestate_8c_source.html#l00274">presence_state_alloc()</a>, <a class="el" href="../../de/dfe/media__index_8c_source.html#l00380">process_description_file()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l11278">process_sdp_o()</a>, <a class="el" href="../../da/dfb/app__queue_8c_source.html#l03144">queue_set_param()</a>, <a class="el" href="../../da/dfb/app__queue_8c_source.html#l06026">queue_stasis_data_alloc()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l02806">raise_exception()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l19707">receive_message()</a>, <a class="el" href="../../d0/d60/res__fax_8c_source.html#l02082">receivefax_exec()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l16743">reg_source_db()</a>, <a class="el" href="../../d3/db0/res__pjsip__registrar_8c_source.html#l00584">register_aor_core()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l08189">register_verify()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l09180">registry_authrequest()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l23062">reply_digest()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l12361">reqprep()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l12269">respprep()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l09639">save_osptoken()</a>, <a class="el" href="../../d0/d60/res__fax_8c_source.html#l02590">sendfax_exec()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l31482">set_peer_defaults()</a>, <a class="el" href="../../d3/d4e/chan__console_8c_source.html#l01274">set_pvt_defaults()</a>, <a class="el" href="../../dc/d40/conf__config__parser_8c_source.html#l01017">set_sound()</a>, <a class="el" href="../../dd/d13/bridge__roles_8c_source.html#l00291">setup_bridge_role_option()</a>, <a class="el" href="../../dc/df2/cdr_8c_source.html#l01736">single_state_process_bridge_enter()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l06445">sip_call()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l02054">sip_monitor_instance_init()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l27879">sip_msg_send()</a>, <a class="el" href="../../d8/d9c/config__parser_8c_source.html#l00037">sip_parse_register_line()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l30583">sip_poke_peer()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l09679">sip_register()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l34418">sip_reload()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l30793">sip_request_call()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l29756">sip_send_mwi_to_peer()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l05130">sip_sendtext()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l18157">sip_set_redirstr()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l09720">sip_subscribe_mwi()</a>, <a class="el" href="../../d9/d1a/app__skel_8c_source.html#l00532">skel_level_alloc()</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l07646">sla_build_station()</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l07474">sla_build_trunk()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l10083">socket_process_helper()</a>, <a class="el" href="../../d2/d4f/res__calendar__ews_8c_source.html#l00175">startelm()</a>, <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l00705">stasis_app_bridge_playback_channel_add()</a>, <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00471">stasis_app_control_play_uri()</a>, <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00151">stasis_app_recording_options_create()</a>, <a class="el" href="../../d3/d74/stored_8c_source.html#l00310">stasis_app_stored_recording_find_by_name()</a>, <a class="el" href="../../d3/d4e/chan__console_8c_source.html#l01305">store_callerid()</a>, <a class="el" href="../../d5/d47/res__fax__spandsp_8c_source.html#l00378">t30_phase_e_handler()</a>, <a class="el" href="../../d0/d2a/cdr__tds_8c_source.html#l00481">tds_load_module()</a>, <a class="el" href="../../d8/d4f/test__config_8c_source.html#l01383">test_item_alloc()</a>, <a class="el" href="../../d7/d5c/certificate_8c_source.html#l00306">test_stir_shaken_create_cert()</a>, <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l00377">test_vm_api_create_mock_snapshot()</a>, <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l00572">test_vm_api_destroy_mailbox_voicemails()</a>, <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l00626">test_vm_api_test_setup()</a>, <a class="el" href="../../d2/da2/test__voicemail__api_8c_source.html#l00740">test_vm_api_update_test_snapshots()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l16402">transmit_refer()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l16106">transmit_register()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l12601">transmit_response_using_temp()</a>, <a class="el" href="../../d3/d17/config__transport_8c_source.html#l00880">transport_tls_file_handler()</a>, <a class="el" href="../../d6/dbf/res__config__sqlite3_8c_source.html#l00438">update_realtime_sqlite3_db()</a>, <a class="el" href="../../d7/d45/res__parking_8c_source.html#l01071">verify_default_parking_lot()</a>, <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l15816">vm_msg_snapshot_create()</a>, <a class="el" href="../../de/d71/features__config_8c_source.html#l00876">xfer_set()</a>, and <a class="el" href="../../dc/d6b/res__xmpp_8c_source.html#l00604">xmpp_client_alloc()</a>.</p>

</div>
</div>
<a id="a1abf7a8d48a500697745b31fd64e2a8f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1abf7a8d48a500697745b31fd64e2a8f">&#9670;&nbsp;</a></span>ast_string_fields_cmp</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ast_string_fields_cmp</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">instance1, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">instance2&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Compare the string fields in two instances of the same structure. </p>
<dl class="section since"><dt>Since</dt><dd>12 </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">instance1</td><td>The first instance of the structure to be compared </td></tr>
    <tr><td class="paramname">instance2</td><td>The second instance of the structure to be compared </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">zero</td><td>if all string fields are equal (does not compare non-string field data) </td></tr>
    <tr><td class="paramname">non-zero</td><td>if the values of the string fields differ </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d1/d0f/stringfields_8h_source.html#l00607">607</a> of file <a class="el" href="../../d1/d0f/stringfields_8h_source.html">stringfields.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/test__stringfields_8c_source.html#l00311">AST_TEST_DEFINE()</a>.</p>

</div>
</div>
<a id="a5ecae7d38e954c0d5723547cd932eb5d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5ecae7d38e954c0d5723547cd932eb5d">&#9670;&nbsp;</a></span>ast_string_fields_copy</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ast_string_fields_copy</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d6/d13/file_8c.html#a939eb1d85b6fd5dfc16d00d1c3f86df0">copy</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">orig&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Copy all string fields from one instance to another of the same structure. </p>
<dl class="section since"><dt>Since</dt><dd>12 </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">copy</td><td>The instance of the structure to be copied into </td></tr>
    <tr><td class="paramname">orig</td><td>The instance of the structure to be copied from </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">zero</td><td>on success </td></tr>
    <tr><td class="paramname">non-zero</td><td>on error </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d1/d0f/stringfields_8h_source.html#l00627">627</a> of file <a class="el" href="../../d1/d0f/stringfields_8h_source.html">stringfields.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d5a/test__stringfields_8c_source.html#l00311">AST_TEST_DEFINE()</a>, <a class="el" href="../../d2/df4/bridge__builtin__interval__features_8c_source.html#l00131">bridge_features_limits_copy()</a>, <a class="el" href="../../d7/d45/res__parking_8c_source.html#l00939">clone_parkinglot_cfg()</a>, <a class="el" href="../../de/d71/features__config_8c_source.html#l00808">featuremap_copy()</a>, <a class="el" href="../../de/d71/features__config_8c_source.html#l00779">general_copy()</a>, <a class="el" href="../../de/d71/features__config_8c_source.html#l00796">pickup_copy()</a>, <a class="el" href="../../df/dda/pjsip__options_8c_source.html#l00374">sip_contact_status_copy()</a>, and <a class="el" href="../../de/d71/features__config_8c_source.html#l00785">xfer_copy()</a>.</p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="abb39dc592226a570e6a73f1b9b09b021"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abb39dc592226a570e6a73f1b9b09b021">&#9670;&nbsp;</a></span>ast_string_field</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef const char* <a class="el" href="../../d1/d0f/stringfields_8h.html#abb39dc592226a570e6a73f1b9b09b021">ast_string_field</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/d0f/stringfields_8h_source.html#l00190">190</a> of file <a class="el" href="../../d1/d0f/stringfields_8h_source.html">stringfields.h</a>.</p>

</div>
</div>
<a id="a4f9d8076634be322608f4d9d8e68bbf1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4f9d8076634be322608f4d9d8e68bbf1">&#9670;&nbsp;</a></span>ast_string_field_allocation</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef uint16_t <a class="el" href="../../d1/d0f/stringfields_8h.html#a4f9d8076634be322608f4d9d8e68bbf1">ast_string_field_allocation</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/d0f/stringfields_8h_source.html#l00194">194</a> of file <a class="el" href="../../d1/d0f/stringfields_8h_source.html">stringfields.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a7fa31c0a578e7b9d98fd0a24232ec58b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7fa31c0a578e7b9d98fd0a24232ec58b">&#9670;&nbsp;</a></span>ast_stringfield_cleanup_type</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../d1/d0f/stringfields_8h.html#a7fa31c0a578e7b9d98fd0a24232ec58b">ast_stringfield_cleanup_type</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a7fa31c0a578e7b9d98fd0a24232ec58bab556c214b5097ccd64f35d8bb472fd81"></a>AST_STRINGFIELD_RESET&#160;</td><td class="fielddoc"><p>Reset all string fields and free all extra pools that may have been created The allocation or structure can be reused as is. </p>
</td></tr>
<tr><td class="fieldname"><a id="a7fa31c0a578e7b9d98fd0a24232ec58ba400f97e65c44140df8ddf424d77ffe67"></a>AST_STRINGFIELD_DESTROY&#160;</td><td class="fielddoc"><p>Reset all string fields and free all pools. If the pointer was returned by ast_calloc_with_stringfields, it can NOT be reused and should be immediately freed. Otherwise, you must call ast_string_field_init again if you want to reuse it. </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../d1/d0f/stringfields_8h_source.html#l00309">309</a> of file <a class="el" href="../../d1/d0f/stringfields_8h_source.html">stringfields.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;                                  {<span class="comment"></span></div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;<span class="comment">   /*!</span></div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;<span class="comment">    * Reset all string fields and free all extra pools that may have been created</span></div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;<span class="comment">    * The allocation or structure can be reused as is.</span></div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;   <a class="code" href="../../d1/d0f/stringfields_8h.html#a7fa31c0a578e7b9d98fd0a24232ec58bab556c214b5097ccd64f35d8bb472fd81">AST_STRINGFIELD_RESET</a> = 0,<span class="comment"></span></div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;<span class="comment">   /*!</span></div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;<span class="comment">    * Reset all string fields and free all pools.</span></div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;<span class="comment">    * If the pointer was returned by ast_calloc_with_stringfields, it can NOT be reused</span></div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;<span class="comment">    * and should be immediately freed.  Otherwise, you must call ast_string_field_init</span></div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;<span class="comment">    * again if you want to reuse it.</span></div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;   <a class="code" href="../../d1/d0f/stringfields_8h.html#a7fa31c0a578e7b9d98fd0a24232ec58ba400f97e65c44140df8ddf424d77ffe67">AST_STRINGFIELD_DESTROY</a> = -1,</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;};</div><div class="ttc" id="stringfields_8h_html_a7fa31c0a578e7b9d98fd0a24232ec58ba400f97e65c44140df8ddf424d77ffe67"><div class="ttname"><a href="../../d1/d0f/stringfields_8h.html#a7fa31c0a578e7b9d98fd0a24232ec58ba400f97e65c44140df8ddf424d77ffe67">AST_STRINGFIELD_DESTROY</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d0f/stringfields_8h_source.html#l00321">stringfields.h:321</a></div></div>
<div class="ttc" id="stringfields_8h_html_a7fa31c0a578e7b9d98fd0a24232ec58bab556c214b5097ccd64f35d8bb472fd81"><div class="ttname"><a href="../../d1/d0f/stringfields_8h.html#a7fa31c0a578e7b9d98fd0a24232ec58bab556c214b5097ccd64f35d8bb472fd81">AST_STRINGFIELD_RESET</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d0f/stringfields_8h_source.html#l00314">stringfields.h:314</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="acc3a4cdde930c1c2551ff206fed1915a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acc3a4cdde930c1c2551ff206fed1915a">&#9670;&nbsp;</a></span>__ast_calloc_with_stringfields()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* __ast_calloc_with_stringfields </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>num_structs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>struct_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>field_mgr_offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>field_mgr_pool_offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>pool_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lineno</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>func</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d5/dba/stringfields_8c_source.html#l00380">380</a> of file <a class="el" href="../../d5/dba/stringfields_8c_source.html">stringfields.c</a>.</p>

<p class="reference">References <a class="el" href="../../d9/db0/astmm_8c_source.html#l01635">__ast_calloc()</a>, <a class="el" href="../../d5/dba/stringfields_8c_source.html#l00043">__ast_string_field_empty</a>, <a class="el" href="../../d5/dba/stringfields_8c_source.html#l00039">allocation</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00695">ast_assert</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00256">AST_VECTOR_APPEND</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00113">AST_VECTOR_INIT</a>, <a class="el" href="../../d1/d0f/stringfields_8h_source.html#l00229">ast_string_field_mgr::embedded_pool</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d5/dba/stringfields_8c_source.html#l00047">optimal_alloc_size()</a>, <a class="el" href="../../d9/d21/res__rtp__asterisk_8c_source.html#l00236">pool</a>, <a class="el" href="../../d1/d0f/stringfields_8h_source.html#l00210">ast_string_field_pool::size</a>, and <a class="el" href="../../d1/d0f/stringfields_8h_source.html#l00230">ast_string_field_mgr::string_fields</a>.</p>
<div class="fragment"><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;{</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../de/dd9/structast__string__field__mgr.html">ast_string_field_mgr</a> *mgr;</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d3/dd3/structast__string__field__pool.html">ast_string_field_pool</a> *<a class="code" href="../../d9/d21/res__rtp__asterisk_8c.html#a2e57658a5d3ef6c4ef2774c9d5868e7c">pool</a>;</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d3/dd3/structast__string__field__pool.html">ast_string_field_pool</a> **pool_head;</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;   <span class="keywordtype">size_t</span> pool_size_needed = <span class="keyword">sizeof</span>(*pool) + pool_size;</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;   <span class="keywordtype">size_t</span> size_to_alloc = <a class="code" href="../../d5/dba/stringfields_8c.html#afe7bc5ba7fb148d7381ac6783a331dda">optimal_alloc_size</a>(struct_size + pool_size_needed);</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;   <span class="keywordtype">void</span> *<a class="code" href="../../d5/dba/stringfields_8c.html#a4f8de5c3b7761aa423455620d7118ff6">allocation</a>;</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> **p;</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;   <span class="keywordtype">size_t</span> initial_vector_size;</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a>(num_structs == 1);</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;   allocation = <a class="code" href="../../d8/d8a/astmm_8h.html#aacec2637e88f8663d609047874c6661b">__ast_calloc</a>(num_structs, size_to_alloc, <a class="code" href="../../d2/dc8/namespacemake__ari__stubs.html#a40a5d58ffa6e88aa578d6683ac413105">file</a>, lineno, func);</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;   <span class="keywordflow">if</span> (!allocation) {</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;   }</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;   mgr = allocation + field_mgr_offset;</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;   pool = allocation + struct_size;</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;   pool_head = allocation + field_mgr_pool_offset;</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;   p = (<span class="keyword">const</span> <span class="keywordtype">char</span> **) pool_head + 1;</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;   initial_vector_size = ((size_t) (((<span class="keywordtype">char</span> *)mgr) - ((<span class="keywordtype">char</span> *)p))) / <span class="keyword">sizeof</span>(*p);</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d68/vector_8h.html#ad9d555fa89da1bfc691181993499f785">AST_VECTOR_INIT</a>(&amp;mgr-&gt;<a class="code" href="../../de/dd9/structast__string__field__mgr.html#a0d5814cc0a8aab4322f160aa2971c33c">string_fields</a>, initial_vector_size)) {</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(allocation);</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;   }</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;   <span class="keywordflow">while</span> ((<span class="keyword">struct</span> <a class="code" href="../../de/dd9/structast__string__field__mgr.html">ast_string_field_mgr</a> *) p != mgr) {</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;      <a class="code" href="../../d6/d68/vector_8h.html#ae9d6199727f88a8c2407cb0e004e634a">AST_VECTOR_APPEND</a>(&amp;mgr-&gt;<a class="code" href="../../de/dd9/structast__string__field__mgr.html#a0d5814cc0a8aab4322f160aa2971c33c">string_fields</a>, p);</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;      *p++ = <a class="code" href="../../d5/dba/stringfields_8c.html#aa836b692d44037de73837b0b545c9cc4">__ast_string_field_empty</a>;</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;   }</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;   mgr-&gt;<a class="code" href="../../de/dd9/structast__string__field__mgr.html#a19ebcc2b703ea5d5bb7124f39c62bc63">embedded_pool</a> = <a class="code" href="../../d9/d21/res__rtp__asterisk_8c.html#a2e57658a5d3ef6c4ef2774c9d5868e7c">pool</a>;</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;   *pool_head = <a class="code" href="../../d9/d21/res__rtp__asterisk_8c.html#a2e57658a5d3ef6c4ef2774c9d5868e7c">pool</a>;</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;   pool-&gt;<a class="code" href="../../d3/dd3/structast__string__field__pool.html#a854352f53b148adc24983a58a1866d66">size</a> = size_to_alloc - struct_size - <span class="keyword">sizeof</span>(*pool);</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d5/dba/stringfields_8c.html#a4f8de5c3b7761aa423455620d7118ff6">allocation</a>;</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;}</div><div class="ttc" id="astmm_8h_html_aacec2637e88f8663d609047874c6661b"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#aacec2637e88f8663d609047874c6661b">__ast_calloc</a></div><div class="ttdeci">void * __ast_calloc(size_t nmemb, size_t size, const char *file, int lineno, const char *func) attribute_malloc</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db0/astmm_8c_source.html#l01635">astmm.c:1635</a></div></div>
<div class="ttc" id="namespacemake__ari__stubs_html_a40a5d58ffa6e88aa578d6683ac413105"><div class="ttname"><a href="../../d2/dc8/namespacemake__ari__stubs.html#a40a5d58ffa6e88aa578d6683ac413105">make_ari_stubs.file</a></div><div class="ttdeci">file</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d28/make__ari__stubs_8py_source.html#l00025">make_ari_stubs.py:25</a></div></div>
<div class="ttc" id="structast__string__field__mgr_html_a19ebcc2b703ea5d5bb7124f39c62bc63"><div class="ttname"><a href="../../de/dd9/structast__string__field__mgr.html#a19ebcc2b703ea5d5bb7124f39c62bc63">ast_string_field_mgr::embedded_pool</a></div><div class="ttdeci">struct ast_string_field_pool * embedded_pool</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d0f/stringfields_8h_source.html#l00229">stringfields.h:229</a></div></div>
<div class="ttc" id="res__rtp__asterisk_8c_html_a2e57658a5d3ef6c4ef2774c9d5868e7c"><div class="ttname"><a href="../../d9/d21/res__rtp__asterisk_8c.html#a2e57658a5d3ef6c4ef2774c9d5868e7c">pool</a></div><div class="ttdeci">static pj_pool_t * pool</div><div class="ttdoc">Global memory pool for configuration and timers. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d21/res__rtp__asterisk_8c_source.html#l00236">res_rtp_asterisk.c:236</a></div></div>
<div class="ttc" id="vector_8h_html_ae9d6199727f88a8c2407cb0e004e634a"><div class="ttname"><a href="../../d6/d68/vector_8h.html#ae9d6199727f88a8c2407cb0e004e634a">AST_VECTOR_APPEND</a></div><div class="ttdeci">#define AST_VECTOR_APPEND(vec, elem)</div><div class="ttdoc">Append an element to a vector, growing the vector if needed. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00256">vector.h:256</a></div></div>
<div class="ttc" id="utils_8h_html_a24374da24af1931d8a7ccde5b352bb2c"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a></div><div class="ttdeci">#define ast_assert(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00695">utils.h:695</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structast__string__field__pool_html"><div class="ttname"><a href="../../d3/dd3/structast__string__field__pool.html">ast_string_field_pool</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d0f/stringfields_8h_source.html#l00208">stringfields.h:208</a></div></div>
<div class="ttc" id="structast__string__field__mgr_html_a0d5814cc0a8aab4322f160aa2971c33c"><div class="ttname"><a href="../../de/dd9/structast__string__field__mgr.html#a0d5814cc0a8aab4322f160aa2971c33c">ast_string_field_mgr::string_fields</a></div><div class="ttdeci">struct ast_string_field_vector string_fields</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d0f/stringfields_8h_source.html#l00230">stringfields.h:230</a></div></div>
<div class="ttc" id="structast__string__field__mgr_html"><div class="ttname"><a href="../../de/dd9/structast__string__field__mgr.html">ast_string_field_mgr</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d0f/stringfields_8h_source.html#l00227">stringfields.h:227</a></div></div>
<div class="ttc" id="vector_8h_html_ad9d555fa89da1bfc691181993499f785"><div class="ttname"><a href="../../d6/d68/vector_8h.html#ad9d555fa89da1bfc691181993499f785">AST_VECTOR_INIT</a></div><div class="ttdeci">#define AST_VECTOR_INIT(vec, size)</div><div class="ttdoc">Initialize a vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00113">vector.h:113</a></div></div>
<div class="ttc" id="stringfields_8c_html_afe7bc5ba7fb148d7381ac6783a331dda"><div class="ttname"><a href="../../d5/dba/stringfields_8c.html#afe7bc5ba7fb148d7381ac6783a331dda">optimal_alloc_size</a></div><div class="ttdeci">static size_t optimal_alloc_size(size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dba/stringfields_8c_source.html#l00047">stringfields.c:47</a></div></div>
<div class="ttc" id="stringfields_8c_html_a4f8de5c3b7761aa423455620d7118ff6"><div class="ttname"><a href="../../d5/dba/stringfields_8c.html#a4f8de5c3b7761aa423455620d7118ff6">allocation</a></div><div class="ttdeci">ast_string_field_allocation allocation</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dba/stringfields_8c_source.html#l00039">stringfields.c:39</a></div></div>
<div class="ttc" id="stringfields_8c_html_aa836b692d44037de73837b0b545c9cc4"><div class="ttname"><a href="../../d5/dba/stringfields_8c.html#aa836b692d44037de73837b0b545c9cc4">__ast_string_field_empty</a></div><div class="ttdeci">ast_string_field __ast_string_field_empty</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dba/stringfields_8c_source.html#l00043">stringfields.c:43</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="structast__string__field__pool_html_a854352f53b148adc24983a58a1866d66"><div class="ttname"><a href="../../d3/dd3/structast__string__field__pool.html#a854352f53b148adc24983a58a1866d66">ast_string_field_pool::size</a></div><div class="ttdeci">size_t size</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d0f/stringfields_8h_source.html#l00210">stringfields.h:210</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae2b920ebf97802e72f2ffced82987297"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae2b920ebf97802e72f2ffced82987297">&#9670;&nbsp;</a></span>__ast_string_field_alloc_space()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d1/d0f/stringfields_8h.html#abb39dc592226a570e6a73f1b9b09b021">ast_string_field</a> __ast_string_field_alloc_space </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../de/dd9/structast__string__field__mgr.html">ast_string_field_mgr</a> *&#160;</td>
          <td class="paramname"><em>mgr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d3/dd3/structast__string__field__pool.html">ast_string_field_pool</a> **&#160;</td>
          <td class="paramname"><em>pool_head</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>needed</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lineno</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>func</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d5/dba/stringfields_8c_source.html#l00202">202</a> of file <a class="el" href="../../d5/dba/stringfields_8c_source.html">stringfields.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/dba/stringfields_8c_source.html#l00062">add_string_pool()</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00738">ast_alignof</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00695">ast_assert</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00781">ast_make_room_for</a>, <a class="el" href="../../d1/d0f/stringfields_8h_source.html#l00460">AST_STRING_FIELD_ALLOCATION</a>, <a class="el" href="../../d1/d0f/stringfields_8h_source.html#l00228">ast_string_field_mgr::last_alloc</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../de/d1b/cel__pgsql_8c_source.html#l00088">result</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/dba/stringfields_8c_source.html#l00286">__ast_string_field_ptr_build_va()</a>.</p>
<div class="fragment"><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;{</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;   <span class="keywordtype">char</span> *<a class="code" href="../../de/d1b/cel__pgsql_8c.html#ad6c487210772a9b4b0ca04b04b847d4c">result</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;   <span class="keywordtype">size_t</span> space = (*pool_head)-&gt;size - (*pool_head)-&gt;used;</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;   <span class="keywordtype">size_t</span> to_alloc;</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;   <span class="comment">/* Make room for ast_string_field_allocation and make it a multiple of that. */</span></div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;   to_alloc = <a class="code" href="../../d5/d60/utils_8h.html#adf501f4185a660586b7e12b370321eec">ast_make_room_for</a>(needed, <a class="code" href="../../d1/d0f/stringfields_8h.html#a4f9d8076634be322608f4d9d8e68bbf1">ast_string_field_allocation</a>);</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a>(to_alloc % <a class="code" href="../../d5/d60/utils_8h.html#ae043faa05e9218e758b0b4265a6262ff">ast_alignof</a>(<a class="code" href="../../d1/d0f/stringfields_8h.html#a4f9d8076634be322608f4d9d8e68bbf1">ast_string_field_allocation</a>) == 0);</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;   <span class="keywordflow">if</span> (__builtin_expect(to_alloc &gt; space, 0)) {</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;      <span class="keywordtype">size_t</span> new_size = (*pool_head)-&gt;size;</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;      <span class="keywordflow">while</span> (new_size &lt; to_alloc) {</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;         new_size *= 2;</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;      }</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d5/dba/stringfields_8c.html#ad74eb920d81cc82cbbfe3079b8140530">add_string_pool</a>(mgr, pool_head, new_size, <a class="code" href="../../d2/dc8/namespacemake__ari__stubs.html#a40a5d58ffa6e88aa578d6683ac413105">file</a>, lineno, func)) {</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;         <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;      }</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;   }</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;   <span class="comment">/* pool-&gt;base is always aligned (gcc aligned attribute). We ensure that</span></div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;<span class="comment">    * to_alloc is also a multiple of ast_alignof(ast_string_field_allocation)</span></div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;<span class="comment">    * causing result to always be aligned as well; which in turn fixes that</span></div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;<span class="comment">    * AST_STRING_FIELD_ALLOCATION(result) is aligned. */</span></div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;   result = (*pool_head)-&gt;base + (*pool_head)-&gt;used;</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;   (*pool_head)-&gt;used += to_alloc;</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;   (*pool_head)-&gt;active += needed;</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;   result += <a class="code" href="../../d5/d60/utils_8h.html#ae043faa05e9218e758b0b4265a6262ff">ast_alignof</a>(<a class="code" href="../../d1/d0f/stringfields_8h.html#a4f9d8076634be322608f4d9d8e68bbf1">ast_string_field_allocation</a>);</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;   <a class="code" href="../../d1/d0f/stringfields_8h.html#ad614492e2dc37afd8835ce6a2804bdb1">AST_STRING_FIELD_ALLOCATION</a>(result) = needed;</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;   mgr-&gt;<a class="code" href="../../de/dd9/structast__string__field__mgr.html#a3c2227ec1356c037606f8639bdefda71">last_alloc</a> = <a class="code" href="../../de/d1b/cel__pgsql_8c.html#ad6c487210772a9b4b0ca04b04b847d4c">result</a>;</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../de/d1b/cel__pgsql_8c.html#ad6c487210772a9b4b0ca04b04b847d4c">result</a>;</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;}</div><div class="ttc" id="stringfields_8h_html_a4f9d8076634be322608f4d9d8e68bbf1"><div class="ttname"><a href="../../d1/d0f/stringfields_8h.html#a4f9d8076634be322608f4d9d8e68bbf1">ast_string_field_allocation</a></div><div class="ttdeci">uint16_t ast_string_field_allocation</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d0f/stringfields_8h_source.html#l00194">stringfields.h:194</a></div></div>
<div class="ttc" id="utils_8h_html_ae043faa05e9218e758b0b4265a6262ff"><div class="ttname"><a href="../../d5/d60/utils_8h.html#ae043faa05e9218e758b0b4265a6262ff">ast_alignof</a></div><div class="ttdeci">#define ast_alignof(type)</div><div class="ttdoc">Return the number of bytes used in the alignment of type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00738">utils.h:738</a></div></div>
<div class="ttc" id="namespacemake__ari__stubs_html_a40a5d58ffa6e88aa578d6683ac413105"><div class="ttname"><a href="../../d2/dc8/namespacemake__ari__stubs.html#a40a5d58ffa6e88aa578d6683ac413105">make_ari_stubs.file</a></div><div class="ttdeci">file</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d28/make__ari__stubs_8py_source.html#l00025">make_ari_stubs.py:25</a></div></div>
<div class="ttc" id="utils_8h_html_a24374da24af1931d8a7ccde5b352bb2c"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a></div><div class="ttdeci">#define ast_assert(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00695">utils.h:695</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="stringfields_8c_html_ad74eb920d81cc82cbbfe3079b8140530"><div class="ttname"><a href="../../d5/dba/stringfields_8c.html#ad74eb920d81cc82cbbfe3079b8140530">add_string_pool</a></div><div class="ttdeci">static int add_string_pool(struct ast_string_field_mgr *mgr, struct ast_string_field_pool **pool_head, size_t size, const char *file, int lineno, const char *func)</div><div class="ttdoc">add a new block to the pool. We can only allocate from the topmost pool, so the fields in *mgr reflec...</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dba/stringfields_8c_source.html#l00062">stringfields.c:62</a></div></div>
<div class="ttc" id="stringfields_8h_html_ad614492e2dc37afd8835ce6a2804bdb1"><div class="ttname"><a href="../../d1/d0f/stringfields_8h.html#ad614492e2dc37afd8835ce6a2804bdb1">AST_STRING_FIELD_ALLOCATION</a></div><div class="ttdeci">#define AST_STRING_FIELD_ALLOCATION(x)</div><div class="ttdoc">Macro to provide access to the allocation field that lives immediately in front of a string field...</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d0f/stringfields_8h_source.html#l00460">stringfields.h:460</a></div></div>
<div class="ttc" id="utils_8h_html_adf501f4185a660586b7e12b370321eec"><div class="ttname"><a href="../../d5/d60/utils_8h.html#adf501f4185a660586b7e12b370321eec">ast_make_room_for</a></div><div class="ttdeci">#define ast_make_room_for(offset, type)</div><div class="ttdoc">Increase offset by the required alignment of type and make sure it is a multiple of said alignment...</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00781">utils.h:781</a></div></div>
<div class="ttc" id="cel__pgsql_8c_html_ad6c487210772a9b4b0ca04b04b847d4c"><div class="ttname"><a href="../../de/d1b/cel__pgsql_8c.html#ad6c487210772a9b4b0ca04b04b847d4c">result</a></div><div class="ttdeci">static PGresult * result</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1b/cel__pgsql_8c_source.html#l00088">cel_pgsql.c:88</a></div></div>
<div class="ttc" id="structast__string__field__mgr_html_a3c2227ec1356c037606f8639bdefda71"><div class="ttname"><a href="../../de/dd9/structast__string__field__mgr.html#a3c2227ec1356c037606f8639bdefda71">ast_string_field_mgr::last_alloc</a></div><div class="ttdeci">ast_string_field last_alloc</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d0f/stringfields_8h_source.html#l00228">stringfields.h:228</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab1fc58b9732fc51bb213be8dfe47f629"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab1fc58b9732fc51bb213be8dfe47f629">&#9670;&nbsp;</a></span>__ast_string_field_free_memory()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int __ast_string_field_free_memory </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../de/dd9/structast__string__field__mgr.html">ast_string_field_mgr</a> *&#160;</td>
          <td class="paramname"><em>mgr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d3/dd3/structast__string__field__pool.html">ast_string_field_pool</a> **&#160;</td>
          <td class="paramname"><em>pool_head</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="../../d1/d0f/stringfields_8h.html#a7fa31c0a578e7b9d98fd0a24232ec58b">ast_stringfield_cleanup_type</a>&#160;</td>
          <td class="paramname"><em>cleanup_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lineno</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>func</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Internal cleanup function. </p>

<p class="definition">Definition at line <a class="el" href="../../d5/dba/stringfields_8c_source.html#l00103">103</a> of file <a class="el" href="../../d5/dba/stringfields_8c_source.html">stringfields.c</a>.</p>

<p class="reference">References <a class="el" href="../../d1/d0f/stringfields_8h_source.html#l00212">ast_string_field_pool::active</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d1/d0f/stringfields_8h_source.html#l00321">AST_STRINGFIELD_DESTROY</a>, <a class="el" href="../../d1/d0f/stringfields_8h_source.html#l00314">AST_STRINGFIELD_RESET</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00865">AST_VECTOR_CALLBACK_VOID</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00174">AST_VECTOR_FREE</a>, <a class="el" href="../../d1/d0f/stringfields_8h_source.html#l00229">ast_string_field_mgr::embedded_pool</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d1/d0f/stringfields_8h_source.html#l00209">ast_string_field_pool::prev</a>, <a class="el" href="../../d5/dba/stringfields_8c_source.html#l00081">reset_field()</a>, <a class="el" href="../../d1/d0f/stringfields_8h_source.html#l00230">ast_string_field_mgr::string_fields</a>, and <a class="el" href="../../d1/d0f/stringfields_8h_source.html#l00211">ast_string_field_pool::used</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/dba/stringfields_8c_source.html#l00171">__ast_string_field_init()</a>.</p>
<div class="fragment"><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;{</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d3/dd3/structast__string__field__pool.html">ast_string_field_pool</a> *cur = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d3/dd3/structast__string__field__pool.html">ast_string_field_pool</a> *preserve = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;   <span class="comment">/* reset all the fields regardless of cleanup type */</span></div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;   <a class="code" href="../../d6/d68/vector_8h.html#aeb9853664dde8a7df8bc7ea180d73d54">AST_VECTOR_CALLBACK_VOID</a>(&amp;mgr-&gt;<a class="code" href="../../de/dd9/structast__string__field__mgr.html#a0d5814cc0a8aab4322f160aa2971c33c">string_fields</a>, <a class="code" href="../../d5/dba/stringfields_8c.html#a2aeaf6ebe583398f7b2bb6301f383a4e">reset_field</a>);</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;   <span class="keywordflow">switch</span> (cleanup_type) {</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d1/d0f/stringfields_8h.html#a7fa31c0a578e7b9d98fd0a24232ec58ba400f97e65c44140df8ddf424d77ffe67">AST_STRINGFIELD_DESTROY</a>:</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;      <a class="code" href="../../d6/d68/vector_8h.html#a66aaa4efda59c52384b03c38e781124d">AST_VECTOR_FREE</a>(&amp;mgr-&gt;<a class="code" href="../../de/dd9/structast__string__field__mgr.html#a0d5814cc0a8aab4322f160aa2971c33c">string_fields</a>);</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;      <span class="keywordflow">if</span> (mgr-&gt;<a class="code" href="../../de/dd9/structast__string__field__mgr.html#a19ebcc2b703ea5d5bb7124f39c62bc63">embedded_pool</a>) { <span class="comment">/* ALWAYS preserve the embedded pool if there is one */</span></div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;         preserve = mgr-&gt;<a class="code" href="../../de/dd9/structast__string__field__mgr.html#a19ebcc2b703ea5d5bb7124f39c62bc63">embedded_pool</a>;</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;         preserve-&gt;<a class="code" href="../../d3/dd3/structast__string__field__pool.html#ae8cc011bf3ee2d3c19743095ffc0f7a5">used</a> = preserve-&gt;<a class="code" href="../../d3/dd3/structast__string__field__pool.html#a2e47786e62ee315eed7c6f730bd98fc4">active</a> = 0;</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;      }</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d1/d0f/stringfields_8h.html#a7fa31c0a578e7b9d98fd0a24232ec58bab556c214b5097ccd64f35d8bb472fd81">AST_STRINGFIELD_RESET</a>:</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;      <span class="comment">/* Preserve the embedded pool if there is one, otherwise the last pool */</span></div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;      <span class="keywordflow">if</span> (mgr-&gt;<a class="code" href="../../de/dd9/structast__string__field__mgr.html#a19ebcc2b703ea5d5bb7124f39c62bc63">embedded_pool</a>) {</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;         preserve = mgr-&gt;<a class="code" href="../../de/dd9/structast__string__field__mgr.html#a19ebcc2b703ea5d5bb7124f39c62bc63">embedded_pool</a>;</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;         <span class="keywordflow">if</span> (*pool_head == <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;            <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;trying to reset empty pool\n&quot;</span>);</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;            <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;         }</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;         preserve = *pool_head;</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;      }</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;      preserve-&gt;<a class="code" href="../../d3/dd3/structast__string__field__pool.html#ae8cc011bf3ee2d3c19743095ffc0f7a5">used</a> = preserve-&gt;<a class="code" href="../../d3/dd3/structast__string__field__pool.html#a2e47786e62ee315eed7c6f730bd98fc4">active</a> = 0;</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;   <span class="keywordflow">default</span>:</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;   }</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;   cur = *pool_head;</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;   <span class="keywordflow">while</span> (cur) {</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;      <span class="keyword">struct </span><a class="code" href="../../d3/dd3/structast__string__field__pool.html">ast_string_field_pool</a> *<a class="code" href="../../d3/dd3/structast__string__field__pool.html#a5782414ec616579b78d42c79ed254962">prev</a> = cur-&gt;<a class="code" href="../../d3/dd3/structast__string__field__pool.html#a5782414ec616579b78d42c79ed254962">prev</a>;</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;      <span class="keywordflow">if</span> (cur != preserve) {</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;         <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(cur);</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;      }</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;      cur = <a class="code" href="../../d3/dd3/structast__string__field__pool.html#a5782414ec616579b78d42c79ed254962">prev</a>;</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;   }</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;   *pool_head = preserve;</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;   <span class="keywordflow">if</span> (preserve) {</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;      preserve-&gt;<a class="code" href="../../d3/dd3/structast__string__field__pool.html#a5782414ec616579b78d42c79ed254962">prev</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;   }</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;}</div><div class="ttc" id="vector_8h_html_a66aaa4efda59c52384b03c38e781124d"><div class="ttname"><a href="../../d6/d68/vector_8h.html#a66aaa4efda59c52384b03c38e781124d">AST_VECTOR_FREE</a></div><div class="ttdeci">#define AST_VECTOR_FREE(vec)</div><div class="ttdoc">Deallocates this vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00174">vector.h:174</a></div></div>
<div class="ttc" id="structast__string__field__mgr_html_a19ebcc2b703ea5d5bb7124f39c62bc63"><div class="ttname"><a href="../../de/dd9/structast__string__field__mgr.html#a19ebcc2b703ea5d5bb7124f39c62bc63">ast_string_field_mgr::embedded_pool</a></div><div class="ttdeci">struct ast_string_field_pool * embedded_pool</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d0f/stringfields_8h_source.html#l00229">stringfields.h:229</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structast__string__field__pool_html"><div class="ttname"><a href="../../d3/dd3/structast__string__field__pool.html">ast_string_field_pool</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d0f/stringfields_8h_source.html#l00208">stringfields.h:208</a></div></div>
<div class="ttc" id="structast__string__field__mgr_html_a0d5814cc0a8aab4322f160aa2971c33c"><div class="ttname"><a href="../../de/dd9/structast__string__field__mgr.html#a0d5814cc0a8aab4322f160aa2971c33c">ast_string_field_mgr::string_fields</a></div><div class="ttdeci">struct ast_string_field_vector string_fields</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d0f/stringfields_8h_source.html#l00230">stringfields.h:230</a></div></div>
<div class="ttc" id="stringfields_8h_html_a7fa31c0a578e7b9d98fd0a24232ec58ba400f97e65c44140df8ddf424d77ffe67"><div class="ttname"><a href="../../d1/d0f/stringfields_8h.html#a7fa31c0a578e7b9d98fd0a24232ec58ba400f97e65c44140df8ddf424d77ffe67">AST_STRINGFIELD_DESTROY</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d0f/stringfields_8h_source.html#l00321">stringfields.h:321</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="stringfields_8c_html_a2aeaf6ebe583398f7b2bb6301f383a4e"><div class="ttname"><a href="../../d5/dba/stringfields_8c.html#a2aeaf6ebe583398f7b2bb6301f383a4e">reset_field</a></div><div class="ttdeci">static void reset_field(const char **p)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dba/stringfields_8c_source.html#l00081">stringfields.c:81</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="structast__string__field__pool_html_a2e47786e62ee315eed7c6f730bd98fc4"><div class="ttname"><a href="../../d3/dd3/structast__string__field__pool.html#a2e47786e62ee315eed7c6f730bd98fc4">ast_string_field_pool::active</a></div><div class="ttdeci">size_t active</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d0f/stringfields_8h_source.html#l00212">stringfields.h:212</a></div></div>
<div class="ttc" id="structast__string__field__pool_html_ae8cc011bf3ee2d3c19743095ffc0f7a5"><div class="ttname"><a href="../../d3/dd3/structast__string__field__pool.html#ae8cc011bf3ee2d3c19743095ffc0f7a5">ast_string_field_pool::used</a></div><div class="ttdeci">size_t used</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d0f/stringfields_8h_source.html#l00211">stringfields.h:211</a></div></div>
<div class="ttc" id="structast__string__field__pool_html_a5782414ec616579b78d42c79ed254962"><div class="ttname"><a href="../../d3/dd3/structast__string__field__pool.html#a5782414ec616579b78d42c79ed254962">ast_string_field_pool::prev</a></div><div class="ttdeci">struct ast_string_field_pool * prev</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d0f/stringfields_8h_source.html#l00209">stringfields.h:209</a></div></div>
<div class="ttc" id="stringfields_8h_html_a7fa31c0a578e7b9d98fd0a24232ec58bab556c214b5097ccd64f35d8bb472fd81"><div class="ttname"><a href="../../d1/d0f/stringfields_8h.html#a7fa31c0a578e7b9d98fd0a24232ec58bab556c214b5097ccd64f35d8bb472fd81">AST_STRINGFIELD_RESET</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d0f/stringfields_8h_source.html#l00314">stringfields.h:314</a></div></div>
<div class="ttc" id="vector_8h_html_aeb9853664dde8a7df8bc7ea180d73d54"><div class="ttname"><a href="../../d6/d68/vector_8h.html#aeb9853664dde8a7df8bc7ea180d73d54">AST_VECTOR_CALLBACK_VOID</a></div><div class="ttdeci">#define AST_VECTOR_CALLBACK_VOID(vec, callback,...)</div><div class="ttdoc">Execute a callback on every element in a vector disregarding callback return. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00865">vector.h:865</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a4e24c6a8b5b6ae53764e6a0e9c313506"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4e24c6a8b5b6ae53764e6a0e9c313506">&#9670;&nbsp;</a></span>__ast_string_field_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int __ast_string_field_init </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../de/dd9/structast__string__field__mgr.html">ast_string_field_mgr</a> *&#160;</td>
          <td class="paramname"><em>mgr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d3/dd3/structast__string__field__pool.html">ast_string_field_pool</a> **&#160;</td>
          <td class="paramname"><em>pool_head</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>needed</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lineno</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>func</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Internal initialization function. </p>

<p class="definition">Definition at line <a class="el" href="../../d5/dba/stringfields_8c_source.html#l00171">171</a> of file <a class="el" href="../../d5/dba/stringfields_8c_source.html">stringfields.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/dba/stringfields_8c_source.html#l00043">__ast_string_field_empty</a>, <a class="el" href="../../d5/dba/stringfields_8c_source.html#l00103">__ast_string_field_free_memory()</a>, <a class="el" href="../../d5/dba/stringfields_8c_source.html#l00062">add_string_pool()</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00256">AST_VECTOR_APPEND</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00174">AST_VECTOR_FREE</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00113">AST_VECTOR_INIT</a>, <a class="el" href="../../d1/d0f/stringfields_8h_source.html#l00229">ast_string_field_mgr::embedded_pool</a>, <a class="el" href="../../d1/d0f/stringfields_8h_source.html#l00228">ast_string_field_mgr::last_alloc</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../d1/d0f/stringfields_8h_source.html#l00230">ast_string_field_mgr::string_fields</a>.</p>
<div class="fragment"><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;{</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> **p = (<span class="keyword">const</span> <span class="keywordtype">char</span> **) pool_head + 1;</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;   <span class="keywordtype">size_t</span> initial_vector_size = ((size_t) (((<span class="keywordtype">char</span> *)mgr) - ((<span class="keywordtype">char</span> *)p))) / <span class="keyword">sizeof</span>(*p);</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;   <span class="keywordflow">if</span> (needed &lt;= 0) {</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d5/dba/stringfields_8c.html#ab1fc58b9732fc51bb213be8dfe47f629">__ast_string_field_free_memory</a>(mgr, pool_head, needed, <a class="code" href="../../d2/dc8/namespacemake__ari__stubs.html#a40a5d58ffa6e88aa578d6683ac413105">file</a>, lineno, func);</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;   }</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;   mgr-&gt;<a class="code" href="../../de/dd9/structast__string__field__mgr.html#a3c2227ec1356c037606f8639bdefda71">last_alloc</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d68/vector_8h.html#ad9d555fa89da1bfc691181993499f785">AST_VECTOR_INIT</a>(&amp;mgr-&gt;<a class="code" href="../../de/dd9/structast__string__field__mgr.html#a0d5814cc0a8aab4322f160aa2971c33c">string_fields</a>, initial_vector_size)) {</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;   }</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;   <span class="keywordflow">while</span> ((<span class="keyword">struct</span> <a class="code" href="../../de/dd9/structast__string__field__mgr.html">ast_string_field_mgr</a> *) p != mgr) {</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;      <a class="code" href="../../d6/d68/vector_8h.html#ae9d6199727f88a8c2407cb0e004e634a">AST_VECTOR_APPEND</a>(&amp;mgr-&gt;<a class="code" href="../../de/dd9/structast__string__field__mgr.html#a0d5814cc0a8aab4322f160aa2971c33c">string_fields</a>, p);</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;      *p++ = <a class="code" href="../../d5/dba/stringfields_8c.html#aa836b692d44037de73837b0b545c9cc4">__ast_string_field_empty</a>;</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;   }</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;   *pool_head = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;   mgr-&gt;<a class="code" href="../../de/dd9/structast__string__field__mgr.html#a19ebcc2b703ea5d5bb7124f39c62bc63">embedded_pool</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d5/dba/stringfields_8c.html#ad74eb920d81cc82cbbfe3079b8140530">add_string_pool</a>(mgr, pool_head, needed, <a class="code" href="../../d2/dc8/namespacemake__ari__stubs.html#a40a5d58ffa6e88aa578d6683ac413105">file</a>, lineno, func)) {</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;      <a class="code" href="../../d6/d68/vector_8h.html#a66aaa4efda59c52384b03c38e781124d">AST_VECTOR_FREE</a>(&amp;mgr-&gt;<a class="code" href="../../de/dd9/structast__string__field__mgr.html#a0d5814cc0a8aab4322f160aa2971c33c">string_fields</a>);</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;   }</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;}</div><div class="ttc" id="vector_8h_html_a66aaa4efda59c52384b03c38e781124d"><div class="ttname"><a href="../../d6/d68/vector_8h.html#a66aaa4efda59c52384b03c38e781124d">AST_VECTOR_FREE</a></div><div class="ttdeci">#define AST_VECTOR_FREE(vec)</div><div class="ttdoc">Deallocates this vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00174">vector.h:174</a></div></div>
<div class="ttc" id="namespacemake__ari__stubs_html_a40a5d58ffa6e88aa578d6683ac413105"><div class="ttname"><a href="../../d2/dc8/namespacemake__ari__stubs.html#a40a5d58ffa6e88aa578d6683ac413105">make_ari_stubs.file</a></div><div class="ttdeci">file</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d28/make__ari__stubs_8py_source.html#l00025">make_ari_stubs.py:25</a></div></div>
<div class="ttc" id="structast__string__field__mgr_html_a19ebcc2b703ea5d5bb7124f39c62bc63"><div class="ttname"><a href="../../de/dd9/structast__string__field__mgr.html#a19ebcc2b703ea5d5bb7124f39c62bc63">ast_string_field_mgr::embedded_pool</a></div><div class="ttdeci">struct ast_string_field_pool * embedded_pool</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d0f/stringfields_8h_source.html#l00229">stringfields.h:229</a></div></div>
<div class="ttc" id="vector_8h_html_ae9d6199727f88a8c2407cb0e004e634a"><div class="ttname"><a href="../../d6/d68/vector_8h.html#ae9d6199727f88a8c2407cb0e004e634a">AST_VECTOR_APPEND</a></div><div class="ttdeci">#define AST_VECTOR_APPEND(vec, elem)</div><div class="ttdoc">Append an element to a vector, growing the vector if needed. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00256">vector.h:256</a></div></div>
<div class="ttc" id="stringfields_8c_html_ab1fc58b9732fc51bb213be8dfe47f629"><div class="ttname"><a href="../../d5/dba/stringfields_8c.html#ab1fc58b9732fc51bb213be8dfe47f629">__ast_string_field_free_memory</a></div><div class="ttdeci">int __ast_string_field_free_memory(struct ast_string_field_mgr *mgr, struct ast_string_field_pool **pool_head, enum ast_stringfield_cleanup_type cleanup_type, const char *file, int lineno, const char *func)</div><div class="ttdoc">Internal cleanup function. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dba/stringfields_8c_source.html#l00103">stringfields.c:103</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structast__string__field__mgr_html_a0d5814cc0a8aab4322f160aa2971c33c"><div class="ttname"><a href="../../de/dd9/structast__string__field__mgr.html#a0d5814cc0a8aab4322f160aa2971c33c">ast_string_field_mgr::string_fields</a></div><div class="ttdeci">struct ast_string_field_vector string_fields</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d0f/stringfields_8h_source.html#l00230">stringfields.h:230</a></div></div>
<div class="ttc" id="stringfields_8c_html_ad74eb920d81cc82cbbfe3079b8140530"><div class="ttname"><a href="../../d5/dba/stringfields_8c.html#ad74eb920d81cc82cbbfe3079b8140530">add_string_pool</a></div><div class="ttdeci">static int add_string_pool(struct ast_string_field_mgr *mgr, struct ast_string_field_pool **pool_head, size_t size, const char *file, int lineno, const char *func)</div><div class="ttdoc">add a new block to the pool. We can only allocate from the topmost pool, so the fields in *mgr reflec...</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dba/stringfields_8c_source.html#l00062">stringfields.c:62</a></div></div>
<div class="ttc" id="structast__string__field__mgr_html"><div class="ttname"><a href="../../de/dd9/structast__string__field__mgr.html">ast_string_field_mgr</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d0f/stringfields_8h_source.html#l00227">stringfields.h:227</a></div></div>
<div class="ttc" id="vector_8h_html_ad9d555fa89da1bfc691181993499f785"><div class="ttname"><a href="../../d6/d68/vector_8h.html#ad9d555fa89da1bfc691181993499f785">AST_VECTOR_INIT</a></div><div class="ttdeci">#define AST_VECTOR_INIT(vec, size)</div><div class="ttdoc">Initialize a vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00113">vector.h:113</a></div></div>
<div class="ttc" id="stringfields_8c_html_aa836b692d44037de73837b0b545c9cc4"><div class="ttname"><a href="../../d5/dba/stringfields_8c.html#aa836b692d44037de73837b0b545c9cc4">__ast_string_field_empty</a></div><div class="ttdeci">ast_string_field __ast_string_field_empty</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dba/stringfields_8c_source.html#l00043">stringfields.c:43</a></div></div>
<div class="ttc" id="structast__string__field__mgr_html_a3c2227ec1356c037606f8639bdefda71"><div class="ttname"><a href="../../de/dd9/structast__string__field__mgr.html#a3c2227ec1356c037606f8639bdefda71">ast_string_field_mgr::last_alloc</a></div><div class="ttdeci">ast_string_field last_alloc</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d0f/stringfields_8h_source.html#l00228">stringfields.h:228</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3783ecdee22185b0bf2b4fdfec8600c8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3783ecdee22185b0bf2b4fdfec8600c8">&#9670;&nbsp;</a></span>__ast_string_field_ptr_build()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void __ast_string_field_ptr_build </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lineno</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../de/dd9/structast__string__field__mgr.html">ast_string_field_mgr</a> *&#160;</td>
          <td class="paramname"><em>mgr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d3/dd3/structast__string__field__pool.html">ast_string_field_pool</a> **&#160;</td>
          <td class="paramname"><em>pool_head</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d1/d0f/stringfields_8h.html#abb39dc592226a570e6a73f1b9b09b021">ast_string_field</a> *&#160;</td>
          <td class="paramname"><em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>format</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d5/dba/stringfields_8c_source.html#l00369">369</a> of file <a class="el" href="../../d5/dba/stringfields_8c_source.html">stringfields.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/dba/stringfields_8c_source.html#l00286">__ast_string_field_ptr_build_va()</a>.</p>
<div class="fragment"><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;{</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;   va_list ap;</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;   va_start(ap, <a class="code" href="../../da/d45/chan__alsa_8c.html#a98f5e70e98f6dc48e3c5ba316066d540">format</a>);</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;   <a class="code" href="../../d5/dba/stringfields_8c.html#a06906d05886358f1aa3f83197cba9e87">__ast_string_field_ptr_build_va</a>(mgr, pool_head, ptr, <a class="code" href="../../da/d45/chan__alsa_8c.html#a98f5e70e98f6dc48e3c5ba316066d540">format</a>, ap, <a class="code" href="../../d2/dc8/namespacemake__ari__stubs.html#a40a5d58ffa6e88aa578d6683ac413105">file</a>, lineno, func);</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;   va_end(ap);</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;}</div><div class="ttc" id="namespacemake__ari__stubs_html_a40a5d58ffa6e88aa578d6683ac413105"><div class="ttname"><a href="../../d2/dc8/namespacemake__ari__stubs.html#a40a5d58ffa6e88aa578d6683ac413105">make_ari_stubs.file</a></div><div class="ttdeci">file</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d28/make__ari__stubs_8py_source.html#l00025">make_ari_stubs.py:25</a></div></div>
<div class="ttc" id="stringfields_8c_html_a06906d05886358f1aa3f83197cba9e87"><div class="ttname"><a href="../../d5/dba/stringfields_8c.html#a06906d05886358f1aa3f83197cba9e87">__ast_string_field_ptr_build_va</a></div><div class="ttdeci">void __ast_string_field_ptr_build_va(struct ast_string_field_mgr *mgr, struct ast_string_field_pool **pool_head, ast_string_field *ptr, const char *format, va_list ap, const char *file, int lineno, const char *func)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dba/stringfields_8c_source.html#l00286">stringfields.c:286</a></div></div>
<div class="ttc" id="chan__alsa_8c_html_a98f5e70e98f6dc48e3c5ba316066d540"><div class="ttname"><a href="../../da/d45/chan__alsa_8c.html#a98f5e70e98f6dc48e3c5ba316066d540">format</a></div><div class="ttdeci">static snd_pcm_format_t format</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d45/chan__alsa_8c_source.html#l00102">chan_alsa.c:102</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a06906d05886358f1aa3f83197cba9e87"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a06906d05886358f1aa3f83197cba9e87">&#9670;&nbsp;</a></span>__ast_string_field_ptr_build_va()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void __ast_string_field_ptr_build_va </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../de/dd9/structast__string__field__mgr.html">ast_string_field_mgr</a> *&#160;</td>
          <td class="paramname"><em>mgr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d3/dd3/structast__string__field__pool.html">ast_string_field_pool</a> **&#160;</td>
          <td class="paramname"><em>pool_head</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d1/d0f/stringfields_8h.html#abb39dc592226a570e6a73f1b9b09b021">ast_string_field</a> *&#160;</td>
          <td class="paramname"><em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>format</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">va_list&#160;</td>
          <td class="paramname"><em>ap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lineno</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>func</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d5/dba/stringfields_8c_source.html#l00286">286</a> of file <a class="el" href="../../d5/dba/stringfields_8c_source.html">stringfields.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/dba/stringfields_8c_source.html#l00202">__ast_string_field_alloc_space()</a>, <a class="el" href="../../d5/dba/stringfields_8c_source.html#l00043">__ast_string_field_empty</a>, <a class="el" href="../../d5/dba/stringfields_8c_source.html#l00261">__ast_string_field_release_active()</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00758">ast_align_for</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00738">ast_alignof</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00695">ast_assert</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00781">ast_make_room_for</a>, <a class="el" href="../../d1/d0f/stringfields_8h_source.html#l00460">AST_STRING_FIELD_ALLOCATION</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l13058">available()</a>, <a class="el" href="../../d1/dc7/threadpool_8c_source.html#l00524">grow()</a>, and <a class="el" href="../../d1/d0f/stringfields_8h_source.html#l00228">ast_string_field_mgr::last_alloc</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/dba/stringfields_8c_source.html#l00369">__ast_string_field_ptr_build()</a>.</p>
<div class="fragment"><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;{</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;   <span class="keywordtype">size_t</span> needed;</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;   <span class="keywordtype">size_t</span> <a class="code" href="../../d1/d97/chan__dahdi_8c.html#a4ee142675554d362c585267c1290d5b3">available</a>;</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;   <span class="keywordtype">size_t</span> space = (*pool_head)-&gt;size - (*pool_head)-&gt;used;</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;   ssize_t <a class="code" href="../../d1/dc7/threadpool_8c.html#a4b7d634038cf195b340980395ec1b9a4">grow</a>;</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;   <span class="keywordtype">char</span> *target;</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;   va_list ap2;</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;   <span class="comment">/* if the field already has space allocated, try to reuse it;</span></div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;<span class="comment">      otherwise, try to use the empty space at the end of the current</span></div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;<span class="comment">      pool</span></div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;<span class="comment">   */</span></div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;   <span class="keywordflow">if</span> (*ptr != <a class="code" href="../../d5/dba/stringfields_8c.html#aa836b692d44037de73837b0b545c9cc4">__ast_string_field_empty</a>) {</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;      target = (<span class="keywordtype">char</span> *) *ptr;</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;      available = <a class="code" href="../../d1/d0f/stringfields_8h.html#ad614492e2dc37afd8835ce6a2804bdb1">AST_STRING_FIELD_ALLOCATION</a>(*ptr);</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;      <span class="keywordflow">if</span> (*ptr == mgr-&gt;<a class="code" href="../../de/dd9/structast__string__field__mgr.html#a3c2227ec1356c037606f8639bdefda71">last_alloc</a>) {</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;         available += space;</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;      }</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;      <span class="comment">/* pool-&gt;used is always a multiple of ast_alignof(ast_string_field_allocation)</span></div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;<span class="comment">       * so we don&#39;t need to re-align anything here.</span></div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;<span class="comment">       */</span></div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;      target = (*pool_head)-&gt;base + (*pool_head)-&gt;used + <a class="code" href="../../d5/d60/utils_8h.html#ae043faa05e9218e758b0b4265a6262ff">ast_alignof</a>(<a class="code" href="../../d1/d0f/stringfields_8h.html#a4f9d8076634be322608f4d9d8e68bbf1">ast_string_field_allocation</a>);</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;      <span class="keywordflow">if</span> (space &gt; <a class="code" href="../../d5/d60/utils_8h.html#ae043faa05e9218e758b0b4265a6262ff">ast_alignof</a>(<a class="code" href="../../d1/d0f/stringfields_8h.html#a4f9d8076634be322608f4d9d8e68bbf1">ast_string_field_allocation</a>)) {</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;         available = space - <a class="code" href="../../d5/d60/utils_8h.html#ae043faa05e9218e758b0b4265a6262ff">ast_alignof</a>(<a class="code" href="../../d1/d0f/stringfields_8h.html#a4f9d8076634be322608f4d9d8e68bbf1">ast_string_field_allocation</a>);</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;         available = 0;</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;      }</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;   }</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;   va_copy(ap2, ap);</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;   res = vsnprintf(target, available, <a class="code" href="../../da/d45/chan__alsa_8c.html#a98f5e70e98f6dc48e3c5ba316066d540">format</a>, ap2);</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;   va_end(ap2);</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;   <span class="keywordflow">if</span> (res &lt; 0) {</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;      <span class="comment">/* Are we out of memory? */</span></div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;   }</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;   <span class="keywordflow">if</span> (res == 0) {</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;      <a class="code" href="../../d5/dba/stringfields_8c.html#a2d776ee56342840669133fa7880c9971">__ast_string_field_release_active</a>(*pool_head, *ptr);</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;      *ptr = <a class="code" href="../../d5/dba/stringfields_8c.html#aa836b692d44037de73837b0b545c9cc4">__ast_string_field_empty</a>;</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;   }</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;   needed = (size_t)res + 1; <span class="comment">/* NUL byte */</span></div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;   <span class="keywordflow">if</span> (needed &gt; available) {</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;      <span class="comment">/* the allocation could not be satisfied using the field&#39;s current allocation</span></div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;<span class="comment">         (if it has one), or the space available in the pool (if it does not). allocate</span></div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;<span class="comment">         space for it, adding a new string pool if necessary.</span></div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;<span class="comment">      */</span></div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;      target = (<span class="keywordtype">char</span> *) <a class="code" href="../../d5/dba/stringfields_8c.html#ae2b920ebf97802e72f2ffced82987297">__ast_string_field_alloc_space</a>(mgr, pool_head, needed, <a class="code" href="../../d2/dc8/namespacemake__ari__stubs.html#a40a5d58ffa6e88aa578d6683ac413105">file</a>, lineno, func);</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;      <span class="keywordflow">if</span> (!target) {</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;         <span class="keywordflow">return</span>;</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;      }</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;      vsprintf(target, <a class="code" href="../../da/d45/chan__alsa_8c.html#a98f5e70e98f6dc48e3c5ba316066d540">format</a>, ap);</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;      va_end(ap); <span class="comment">/* XXX va_end without va_start? */</span></div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;      <a class="code" href="../../d5/dba/stringfields_8c.html#a2d776ee56342840669133fa7880c9971">__ast_string_field_release_active</a>(*pool_head, *ptr);</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;      *ptr = target;</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (*ptr != target) {</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;      <span class="comment">/* the allocation was satisfied using available space in the pool, but not</span></div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;<span class="comment">         using the space already allocated to the field</span></div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;<span class="comment">      */</span></div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;      <a class="code" href="../../d5/dba/stringfields_8c.html#a2d776ee56342840669133fa7880c9971">__ast_string_field_release_active</a>(*pool_head, *ptr);</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;      mgr-&gt;<a class="code" href="../../de/dd9/structast__string__field__mgr.html#a3c2227ec1356c037606f8639bdefda71">last_alloc</a> = *ptr = target;</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;           <a class="code" href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a>(needed &lt; (<a class="code" href="../../d1/d0f/stringfields_8h.html#a4f9d8076634be322608f4d9d8e68bbf1">ast_string_field_allocation</a>)-1);</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;      <a class="code" href="../../d1/d0f/stringfields_8h.html#ad614492e2dc37afd8835ce6a2804bdb1">AST_STRING_FIELD_ALLOCATION</a>(target) = (<a class="code" href="../../d1/d0f/stringfields_8h.html#a4f9d8076634be322608f4d9d8e68bbf1">ast_string_field_allocation</a>)needed;</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;      (*pool_head)-&gt;used += <a class="code" href="../../d5/d60/utils_8h.html#adf501f4185a660586b7e12b370321eec">ast_make_room_for</a>(needed, <a class="code" href="../../d1/d0f/stringfields_8h.html#a4f9d8076634be322608f4d9d8e68bbf1">ast_string_field_allocation</a>);</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;      (*pool_head)-&gt;active += needed;</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((grow = (needed - <a class="code" href="../../d1/d0f/stringfields_8h.html#ad614492e2dc37afd8835ce6a2804bdb1">AST_STRING_FIELD_ALLOCATION</a>(*ptr))) &gt; 0) {</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;      <span class="comment">/* the allocation was satisfied by using available space in the pool *and*</span></div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;<span class="comment">         the field was the last allocated field from the pool, so it grew</span></div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;<span class="comment">      */</span></div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;      <a class="code" href="../../d1/d0f/stringfields_8h.html#ad614492e2dc37afd8835ce6a2804bdb1">AST_STRING_FIELD_ALLOCATION</a>(*ptr) += <a class="code" href="../../d1/dc7/threadpool_8c.html#a4b7d634038cf195b340980395ec1b9a4">grow</a>;</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;      (*pool_head)-&gt;used += <a class="code" href="../../d5/d60/utils_8h.html#a2904e27439994a448d7b38eff8e67fb2">ast_align_for</a>(grow, <a class="code" href="../../d1/d0f/stringfields_8h.html#a4f9d8076634be322608f4d9d8e68bbf1">ast_string_field_allocation</a>);</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;      (*pool_head)-&gt;active += <a class="code" href="../../d1/dc7/threadpool_8c.html#a4b7d634038cf195b340980395ec1b9a4">grow</a>;</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;   }</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;}</div><div class="ttc" id="stringfields_8h_html_a4f9d8076634be322608f4d9d8e68bbf1"><div class="ttname"><a href="../../d1/d0f/stringfields_8h.html#a4f9d8076634be322608f4d9d8e68bbf1">ast_string_field_allocation</a></div><div class="ttdeci">uint16_t ast_string_field_allocation</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d0f/stringfields_8h_source.html#l00194">stringfields.h:194</a></div></div>
<div class="ttc" id="utils_8h_html_ae043faa05e9218e758b0b4265a6262ff"><div class="ttname"><a href="../../d5/d60/utils_8h.html#ae043faa05e9218e758b0b4265a6262ff">ast_alignof</a></div><div class="ttdeci">#define ast_alignof(type)</div><div class="ttdoc">Return the number of bytes used in the alignment of type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00738">utils.h:738</a></div></div>
<div class="ttc" id="threadpool_8c_html_a4b7d634038cf195b340980395ec1b9a4"><div class="ttname"><a href="../../d1/dc7/threadpool_8c.html#a4b7d634038cf195b340980395ec1b9a4">grow</a></div><div class="ttdeci">static void grow(struct ast_threadpool *pool, int delta)</div><div class="ttdoc">Add threads to the threadpool. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dc7/threadpool_8c_source.html#l00524">threadpool.c:524</a></div></div>
<div class="ttc" id="namespacemake__ari__stubs_html_a40a5d58ffa6e88aa578d6683ac413105"><div class="ttname"><a href="../../d2/dc8/namespacemake__ari__stubs.html#a40a5d58ffa6e88aa578d6683ac413105">make_ari_stubs.file</a></div><div class="ttdeci">file</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d28/make__ari__stubs_8py_source.html#l00025">make_ari_stubs.py:25</a></div></div>
<div class="ttc" id="utils_8h_html_a24374da24af1931d8a7ccde5b352bb2c"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a></div><div class="ttdeci">#define ast_assert(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00695">utils.h:695</a></div></div>
<div class="ttc" id="stringfields_8h_html_ad614492e2dc37afd8835ce6a2804bdb1"><div class="ttname"><a href="../../d1/d0f/stringfields_8h.html#ad614492e2dc37afd8835ce6a2804bdb1">AST_STRING_FIELD_ALLOCATION</a></div><div class="ttdeci">#define AST_STRING_FIELD_ALLOCATION(x)</div><div class="ttdoc">Macro to provide access to the allocation field that lives immediately in front of a string field...</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d0f/stringfields_8h_source.html#l00460">stringfields.h:460</a></div></div>
<div class="ttc" id="utils_8h_html_adf501f4185a660586b7e12b370321eec"><div class="ttname"><a href="../../d5/d60/utils_8h.html#adf501f4185a660586b7e12b370321eec">ast_make_room_for</a></div><div class="ttdeci">#define ast_make_room_for(offset, type)</div><div class="ttdoc">Increase offset by the required alignment of type and make sure it is a multiple of said alignment...</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00781">utils.h:781</a></div></div>
<div class="ttc" id="stringfields_8c_html_aa836b692d44037de73837b0b545c9cc4"><div class="ttname"><a href="../../d5/dba/stringfields_8c.html#aa836b692d44037de73837b0b545c9cc4">__ast_string_field_empty</a></div><div class="ttdeci">ast_string_field __ast_string_field_empty</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dba/stringfields_8c_source.html#l00043">stringfields.c:43</a></div></div>
<div class="ttc" id="chan__dahdi_8c_html_a4ee142675554d362c585267c1290d5b3"><div class="ttname"><a href="../../d1/d97/chan__dahdi_8c.html#a4ee142675554d362c585267c1290d5b3">available</a></div><div class="ttdeci">static int available(struct dahdi_pvt **pvt, int is_specific_channel)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d97/chan__dahdi_8c_source.html#l13058">chan_dahdi.c:13058</a></div></div>
<div class="ttc" id="stringfields_8c_html_a2d776ee56342840669133fa7880c9971"><div class="ttname"><a href="../../d5/dba/stringfields_8c.html#a2d776ee56342840669133fa7880c9971">__ast_string_field_release_active</a></div><div class="ttdeci">void __ast_string_field_release_active(struct ast_string_field_pool *pool_head, const ast_string_field ptr)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dba/stringfields_8c_source.html#l00261">stringfields.c:261</a></div></div>
<div class="ttc" id="utils_8h_html_a2904e27439994a448d7b38eff8e67fb2"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a2904e27439994a448d7b38eff8e67fb2">ast_align_for</a></div><div class="ttdeci">#define ast_align_for(offset, type)</div><div class="ttdoc">Increase offset so it is a multiple of the required alignment of type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00758">utils.h:758</a></div></div>
<div class="ttc" id="chan__alsa_8c_html_a98f5e70e98f6dc48e3c5ba316066d540"><div class="ttname"><a href="../../da/d45/chan__alsa_8c.html#a98f5e70e98f6dc48e3c5ba316066d540">format</a></div><div class="ttdeci">static snd_pcm_format_t format</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d45/chan__alsa_8c_source.html#l00102">chan_alsa.c:102</a></div></div>
<div class="ttc" id="stringfields_8c_html_ae2b920ebf97802e72f2ffced82987297"><div class="ttname"><a href="../../d5/dba/stringfields_8c.html#ae2b920ebf97802e72f2ffced82987297">__ast_string_field_alloc_space</a></div><div class="ttdeci">ast_string_field __ast_string_field_alloc_space(struct ast_string_field_mgr *mgr, struct ast_string_field_pool **pool_head, size_t needed, const char *file, int lineno, const char *func)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dba/stringfields_8c_source.html#l00202">stringfields.c:202</a></div></div>
<div class="ttc" id="structast__string__field__mgr_html_a3c2227ec1356c037606f8639bdefda71"><div class="ttname"><a href="../../de/dd9/structast__string__field__mgr.html#a3c2227ec1356c037606f8639bdefda71">ast_string_field_mgr::last_alloc</a></div><div class="ttdeci">ast_string_field last_alloc</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d0f/stringfields_8h_source.html#l00228">stringfields.h:228</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af935cb06ad7d9b2b6ac4973d1e984588"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af935cb06ad7d9b2b6ac4973d1e984588">&#9670;&nbsp;</a></span>__ast_string_field_ptr_grow()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int __ast_string_field_ptr_grow </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../de/dd9/structast__string__field__mgr.html">ast_string_field_mgr</a> *&#160;</td>
          <td class="paramname"><em>mgr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d3/dd3/structast__string__field__pool.html">ast_string_field_pool</a> **&#160;</td>
          <td class="paramname"><em>pool_head</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>needed</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d1/d0f/stringfields_8h.html#abb39dc592226a570e6a73f1b9b09b021">ast_string_field</a> *&#160;</td>
          <td class="paramname"><em>ptr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d5/dba/stringfields_8c_source.html#l00240">240</a> of file <a class="el" href="../../d5/dba/stringfields_8c_source.html">stringfields.c</a>.</p>

<p class="reference">References <a class="el" href="../../d1/d0f/stringfields_8h_source.html#l00460">AST_STRING_FIELD_ALLOCATION</a>, <a class="el" href="../../d1/dc7/threadpool_8c_source.html#l00524">grow()</a>, and <a class="el" href="../../d1/d0f/stringfields_8h_source.html#l00228">ast_string_field_mgr::last_alloc</a>.</p>
<div class="fragment"><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;{</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;   ssize_t <a class="code" href="../../d1/dc7/threadpool_8c.html#a4b7d634038cf195b340980395ec1b9a4">grow</a> = needed - <a class="code" href="../../d1/d0f/stringfields_8h.html#ad614492e2dc37afd8835ce6a2804bdb1">AST_STRING_FIELD_ALLOCATION</a>(*ptr);</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;   <span class="keywordtype">size_t</span> space = (*pool_head)-&gt;size - (*pool_head)-&gt;used;</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;   <span class="keywordflow">if</span> (*ptr != mgr-&gt;<a class="code" href="../../de/dd9/structast__string__field__mgr.html#a3c2227ec1356c037606f8639bdefda71">last_alloc</a>) {</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;      <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;   }</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;   <span class="keywordflow">if</span> (space &lt; grow) {</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;      <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;   }</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;   (*pool_head)-&gt;used += <a class="code" href="../../d1/dc7/threadpool_8c.html#a4b7d634038cf195b340980395ec1b9a4">grow</a>;</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;   (*pool_head)-&gt;active += <a class="code" href="../../d1/dc7/threadpool_8c.html#a4b7d634038cf195b340980395ec1b9a4">grow</a>;</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;   <a class="code" href="../../d1/d0f/stringfields_8h.html#ad614492e2dc37afd8835ce6a2804bdb1">AST_STRING_FIELD_ALLOCATION</a>(*ptr) += <a class="code" href="../../d1/dc7/threadpool_8c.html#a4b7d634038cf195b340980395ec1b9a4">grow</a>;</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;}</div><div class="ttc" id="threadpool_8c_html_a4b7d634038cf195b340980395ec1b9a4"><div class="ttname"><a href="../../d1/dc7/threadpool_8c.html#a4b7d634038cf195b340980395ec1b9a4">grow</a></div><div class="ttdeci">static void grow(struct ast_threadpool *pool, int delta)</div><div class="ttdoc">Add threads to the threadpool. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dc7/threadpool_8c_source.html#l00524">threadpool.c:524</a></div></div>
<div class="ttc" id="stringfields_8h_html_ad614492e2dc37afd8835ce6a2804bdb1"><div class="ttname"><a href="../../d1/d0f/stringfields_8h.html#ad614492e2dc37afd8835ce6a2804bdb1">AST_STRING_FIELD_ALLOCATION</a></div><div class="ttdeci">#define AST_STRING_FIELD_ALLOCATION(x)</div><div class="ttdoc">Macro to provide access to the allocation field that lives immediately in front of a string field...</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d0f/stringfields_8h_source.html#l00460">stringfields.h:460</a></div></div>
<div class="ttc" id="structast__string__field__mgr_html_a3c2227ec1356c037606f8639bdefda71"><div class="ttname"><a href="../../de/dd9/structast__string__field__mgr.html#a3c2227ec1356c037606f8639bdefda71">ast_string_field_mgr::last_alloc</a></div><div class="ttdeci">ast_string_field last_alloc</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d0f/stringfields_8h_source.html#l00228">stringfields.h:228</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2d776ee56342840669133fa7880c9971"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d776ee56342840669133fa7880c9971">&#9670;&nbsp;</a></span>__ast_string_field_release_active()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void __ast_string_field_release_active </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d3/dd3/structast__string__field__pool.html">ast_string_field_pool</a> *&#160;</td>
          <td class="paramname"><em>pool_head</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d1/d0f/stringfields_8h.html#abb39dc592226a570e6a73f1b9b09b021">ast_string_field</a>&#160;</td>
          <td class="paramname"><em>ptr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d5/dba/stringfields_8c_source.html#l00261">261</a> of file <a class="el" href="../../d5/dba/stringfields_8c_source.html">stringfields.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/dba/stringfields_8c_source.html#l00043">__ast_string_field_empty</a>, <a class="el" href="../../d1/d0f/stringfields_8h_source.html#l00212">ast_string_field_pool::active</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../d1/d0f/stringfields_8h_source.html#l00460">AST_STRING_FIELD_ALLOCATION</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d9/d21/res__rtp__asterisk_8c_source.html#l00236">pool</a>, and <a class="el" href="../../d1/d0f/stringfields_8h_source.html#l00209">ast_string_field_pool::prev</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/dba/stringfields_8c_source.html#l00286">__ast_string_field_ptr_build_va()</a>, and <a class="el" href="../../d5/dba/stringfields_8c_source.html#l00441">__ast_string_fields_copy()</a>.</p>
<div class="fragment"><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;{</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d3/dd3/structast__string__field__pool.html">ast_string_field_pool</a> *<a class="code" href="../../d9/d21/res__rtp__asterisk_8c.html#a2e57658a5d3ef6c4ef2774c9d5868e7c">pool</a>, *<a class="code" href="../../d3/dd3/structast__string__field__pool.html#a5782414ec616579b78d42c79ed254962">prev</a>;</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;   <span class="keywordflow">if</span> (ptr == <a class="code" href="../../d5/dba/stringfields_8c.html#aa836b692d44037de73837b0b545c9cc4">__ast_string_field_empty</a>) {</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;   }</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;   <span class="keywordflow">for</span> (pool = pool_head, prev = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>; <a class="code" href="../../d9/d21/res__rtp__asterisk_8c.html#a2e57658a5d3ef6c4ef2774c9d5868e7c">pool</a>; prev = <a class="code" href="../../d9/d21/res__rtp__asterisk_8c.html#a2e57658a5d3ef6c4ef2774c9d5868e7c">pool</a>, pool = pool-&gt;<a class="code" href="../../d3/dd3/structast__string__field__pool.html#a5782414ec616579b78d42c79ed254962">prev</a>) {</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;      <span class="keywordflow">if</span> ((ptr &gt;= pool-&gt;base) &amp;&amp; (ptr &lt;= (pool-&gt;base + pool-&gt;size))) {</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;         pool-&gt;<a class="code" href="../../d3/dd3/structast__string__field__pool.html#a2e47786e62ee315eed7c6f730bd98fc4">active</a> -= <a class="code" href="../../d1/d0f/stringfields_8h.html#ad614492e2dc37afd8835ce6a2804bdb1">AST_STRING_FIELD_ALLOCATION</a>(ptr);</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;         <span class="keywordflow">if</span> (pool-&gt;active == 0) {</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;            <span class="keywordflow">if</span> (prev) {</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;               prev-&gt;<a class="code" href="../../d3/dd3/structast__string__field__pool.html#a5782414ec616579b78d42c79ed254962">prev</a> = pool-&gt;<a class="code" href="../../d3/dd3/structast__string__field__pool.html#a5782414ec616579b78d42c79ed254962">prev</a>;</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;               <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(pool);</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;            } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;               pool-&gt;used = 0;</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;            }</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;         }</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;      }</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;   }</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;}</div><div class="ttc" id="res__rtp__asterisk_8c_html_a2e57658a5d3ef6c4ef2774c9d5868e7c"><div class="ttname"><a href="../../d9/d21/res__rtp__asterisk_8c.html#a2e57658a5d3ef6c4ef2774c9d5868e7c">pool</a></div><div class="ttdeci">static pj_pool_t * pool</div><div class="ttdoc">Global memory pool for configuration and timers. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d21/res__rtp__asterisk_8c_source.html#l00236">res_rtp_asterisk.c:236</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structast__string__field__pool_html"><div class="ttname"><a href="../../d3/dd3/structast__string__field__pool.html">ast_string_field_pool</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d0f/stringfields_8h_source.html#l00208">stringfields.h:208</a></div></div>
<div class="ttc" id="stringfields_8h_html_ad614492e2dc37afd8835ce6a2804bdb1"><div class="ttname"><a href="../../d1/d0f/stringfields_8h.html#ad614492e2dc37afd8835ce6a2804bdb1">AST_STRING_FIELD_ALLOCATION</a></div><div class="ttdeci">#define AST_STRING_FIELD_ALLOCATION(x)</div><div class="ttdoc">Macro to provide access to the allocation field that lives immediately in front of a string field...</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d0f/stringfields_8h_source.html#l00460">stringfields.h:460</a></div></div>
<div class="ttc" id="stringfields_8c_html_aa836b692d44037de73837b0b545c9cc4"><div class="ttname"><a href="../../d5/dba/stringfields_8c.html#aa836b692d44037de73837b0b545c9cc4">__ast_string_field_empty</a></div><div class="ttdeci">ast_string_field __ast_string_field_empty</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dba/stringfields_8c_source.html#l00043">stringfields.c:43</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="structast__string__field__pool_html_a2e47786e62ee315eed7c6f730bd98fc4"><div class="ttname"><a href="../../d3/dd3/structast__string__field__pool.html#a2e47786e62ee315eed7c6f730bd98fc4">ast_string_field_pool::active</a></div><div class="ttdeci">size_t active</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d0f/stringfields_8h_source.html#l00212">stringfields.h:212</a></div></div>
<div class="ttc" id="structast__string__field__pool_html_a5782414ec616579b78d42c79ed254962"><div class="ttname"><a href="../../d3/dd3/structast__string__field__pool.html#a5782414ec616579b78d42c79ed254962">ast_string_field_pool::prev</a></div><div class="ttdeci">struct ast_string_field_pool * prev</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d0f/stringfields_8h_source.html#l00209">stringfields.h:209</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a286abec765fe22ab0b13e3c9bb30eafb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a286abec765fe22ab0b13e3c9bb30eafb">&#9670;&nbsp;</a></span>__ast_string_fields_cmp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int __ast_string_fields_cmp </td>
          <td>(</td>
          <td class="paramtype">struct ast_string_field_vector *&#160;</td>
          <td class="paramname"><em>left</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct ast_string_field_vector *&#160;</td>
          <td class="paramname"><em>right</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d5/dba/stringfields_8c_source.html#l00424">424</a> of file <a class="el" href="../../d5/dba/stringfields_8c_source.html">stringfields.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d60/utils_8h_source.html#l00695">ast_assert</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00682">AST_VECTOR_GET</a>, and <a class="el" href="../../d6/d68/vector_8h_source.html#l00611">AST_VECTOR_SIZE</a>.</p>
<div class="fragment"><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;{</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;   <span class="keywordtype">int</span> i;</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;   <span class="keywordtype">int</span> res = 0;</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a>(<a class="code" href="../../d6/d68/vector_8h.html#a20b08af81cc9452fb721c9a698f81bdf">AST_VECTOR_SIZE</a>(left) == <a class="code" href="../../d6/d68/vector_8h.html#a20b08af81cc9452fb721c9a698f81bdf">AST_VECTOR_SIZE</a>(right));</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;   <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="../../d6/d68/vector_8h.html#a20b08af81cc9452fb721c9a698f81bdf">AST_VECTOR_SIZE</a>(left); i++) {</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;      <span class="keywordflow">if</span> ((res = strcmp(*<a class="code" href="../../d6/d68/vector_8h.html#aef32ac52c3e8a530d16eb92cde22cacd">AST_VECTOR_GET</a>(left, i), *<a class="code" href="../../d6/d68/vector_8h.html#aef32ac52c3e8a530d16eb92cde22cacd">AST_VECTOR_GET</a>(right, i)))) {</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;         <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;      }</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;   }</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;}</div><div class="ttc" id="utils_8h_html_a24374da24af1931d8a7ccde5b352bb2c"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a></div><div class="ttdeci">#define ast_assert(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00695">utils.h:695</a></div></div>
<div class="ttc" id="vector_8h_html_aef32ac52c3e8a530d16eb92cde22cacd"><div class="ttname"><a href="../../d6/d68/vector_8h.html#aef32ac52c3e8a530d16eb92cde22cacd">AST_VECTOR_GET</a></div><div class="ttdeci">#define AST_VECTOR_GET(vec, idx)</div><div class="ttdoc">Get an element from a vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00682">vector.h:682</a></div></div>
<div class="ttc" id="vector_8h_html_a20b08af81cc9452fb721c9a698f81bdf"><div class="ttname"><a href="../../d6/d68/vector_8h.html#a20b08af81cc9452fb721c9a698f81bdf">AST_VECTOR_SIZE</a></div><div class="ttdeci">#define AST_VECTOR_SIZE(vec)</div><div class="ttdoc">Get the number of elements in a vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00611">vector.h:611</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a33710965bde3c85f8fb772299b24fc18"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a33710965bde3c85f8fb772299b24fc18">&#9670;&nbsp;</a></span>__ast_string_fields_copy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int __ast_string_fields_copy </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d3/dd3/structast__string__field__pool.html">ast_string_field_pool</a> *&#160;</td>
          <td class="paramname"><em>copy_pool</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../de/dd9/structast__string__field__mgr.html">ast_string_field_mgr</a> *&#160;</td>
          <td class="paramname"><em>copy_mgr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../de/dd9/structast__string__field__mgr.html">ast_string_field_mgr</a> *&#160;</td>
          <td class="paramname"><em>orig_mgr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lineno</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>func</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d5/dba/stringfields_8c_source.html#l00441">441</a> of file <a class="el" href="../../d5/dba/stringfields_8c_source.html">stringfields.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/dba/stringfields_8c_source.html#l00043">__ast_string_field_empty</a>, <a class="el" href="../../d1/d0f/stringfields_8h_source.html#l00479">__ast_string_field_ptr_set_by_fields</a>, <a class="el" href="../../d5/dba/stringfields_8c_source.html#l00261">__ast_string_field_release_active()</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00695">ast_assert</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00682">AST_VECTOR_GET</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00611">AST_VECTOR_SIZE</a>, and <a class="el" href="../../d1/d0f/stringfields_8h_source.html#l00230">ast_string_field_mgr::string_fields</a>.</p>
<div class="fragment"><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;{</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;   <span class="keywordtype">int</span> i;</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;   <span class="keyword">struct </span>ast_string_field_vector *dest = &amp;(copy_mgr-&gt;<a class="code" href="../../de/dd9/structast__string__field__mgr.html#a0d5814cc0a8aab4322f160aa2971c33c">string_fields</a>);</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;   <span class="keyword">struct </span>ast_string_field_vector *src = &amp;(orig_mgr-&gt;<a class="code" href="../../de/dd9/structast__string__field__mgr.html#a0d5814cc0a8aab4322f160aa2971c33c">string_fields</a>);</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a>(<a class="code" href="../../d6/d68/vector_8h.html#a20b08af81cc9452fb721c9a698f81bdf">AST_VECTOR_SIZE</a>(dest) == <a class="code" href="../../d6/d68/vector_8h.html#a20b08af81cc9452fb721c9a698f81bdf">AST_VECTOR_SIZE</a>(src));</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;   <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="../../d6/d68/vector_8h.html#a20b08af81cc9452fb721c9a698f81bdf">AST_VECTOR_SIZE</a>(dest); i++) {</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;      <a class="code" href="../../d5/dba/stringfields_8c.html#a2d776ee56342840669133fa7880c9971">__ast_string_field_release_active</a>(copy_pool, *<a class="code" href="../../d6/d68/vector_8h.html#aef32ac52c3e8a530d16eb92cde22cacd">AST_VECTOR_GET</a>(dest, i));</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;      *<a class="code" href="../../d6/d68/vector_8h.html#aef32ac52c3e8a530d16eb92cde22cacd">AST_VECTOR_GET</a>(dest, i) = <a class="code" href="../../d5/dba/stringfields_8c.html#aa836b692d44037de73837b0b545c9cc4">__ast_string_field_empty</a>;</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;   }</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;   <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="../../d6/d68/vector_8h.html#a20b08af81cc9452fb721c9a698f81bdf">AST_VECTOR_SIZE</a>(dest); i++) {</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d1/d0f/stringfields_8h.html#a1bfcb5ab5df5370d03274a83c8350888">__ast_string_field_ptr_set_by_fields</a>(copy_pool, *copy_mgr, <a class="code" href="../../d6/d68/vector_8h.html#aef32ac52c3e8a530d16eb92cde22cacd">AST_VECTOR_GET</a>(dest, i),</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;         *<a class="code" href="../../d6/d68/vector_8h.html#aef32ac52c3e8a530d16eb92cde22cacd">AST_VECTOR_GET</a>(src, i), <a class="code" href="../../d2/dc8/namespacemake__ari__stubs.html#a40a5d58ffa6e88aa578d6683ac413105">file</a>, lineno, func)) {</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;         <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;      }</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;   }</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;}</div><div class="ttc" id="stringfields_8h_html_a1bfcb5ab5df5370d03274a83c8350888"><div class="ttname"><a href="../../d1/d0f/stringfields_8h.html#a1bfcb5ab5df5370d03274a83c8350888">__ast_string_field_ptr_set_by_fields</a></div><div class="ttdeci">#define __ast_string_field_ptr_set_by_fields(field_mgr_pool, field_mgr, ptr, data, file, lineno, func)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d0f/stringfields_8h_source.html#l00479">stringfields.h:479</a></div></div>
<div class="ttc" id="namespacemake__ari__stubs_html_a40a5d58ffa6e88aa578d6683ac413105"><div class="ttname"><a href="../../d2/dc8/namespacemake__ari__stubs.html#a40a5d58ffa6e88aa578d6683ac413105">make_ari_stubs.file</a></div><div class="ttdeci">file</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d28/make__ari__stubs_8py_source.html#l00025">make_ari_stubs.py:25</a></div></div>
<div class="ttc" id="utils_8h_html_a24374da24af1931d8a7ccde5b352bb2c"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a></div><div class="ttdeci">#define ast_assert(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00695">utils.h:695</a></div></div>
<div class="ttc" id="structast__string__field__mgr_html_a0d5814cc0a8aab4322f160aa2971c33c"><div class="ttname"><a href="../../de/dd9/structast__string__field__mgr.html#a0d5814cc0a8aab4322f160aa2971c33c">ast_string_field_mgr::string_fields</a></div><div class="ttdeci">struct ast_string_field_vector string_fields</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d0f/stringfields_8h_source.html#l00230">stringfields.h:230</a></div></div>
<div class="ttc" id="stringfields_8c_html_aa836b692d44037de73837b0b545c9cc4"><div class="ttname"><a href="../../d5/dba/stringfields_8c.html#aa836b692d44037de73837b0b545c9cc4">__ast_string_field_empty</a></div><div class="ttdeci">ast_string_field __ast_string_field_empty</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dba/stringfields_8c_source.html#l00043">stringfields.c:43</a></div></div>
<div class="ttc" id="vector_8h_html_aef32ac52c3e8a530d16eb92cde22cacd"><div class="ttname"><a href="../../d6/d68/vector_8h.html#aef32ac52c3e8a530d16eb92cde22cacd">AST_VECTOR_GET</a></div><div class="ttdeci">#define AST_VECTOR_GET(vec, idx)</div><div class="ttdoc">Get an element from a vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00682">vector.h:682</a></div></div>
<div class="ttc" id="stringfields_8c_html_a2d776ee56342840669133fa7880c9971"><div class="ttname"><a href="../../d5/dba/stringfields_8c.html#a2d776ee56342840669133fa7880c9971">__ast_string_field_release_active</a></div><div class="ttdeci">void __ast_string_field_release_active(struct ast_string_field_pool *pool_head, const ast_string_field ptr)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dba/stringfields_8c_source.html#l00261">stringfields.c:261</a></div></div>
<div class="ttc" id="vector_8h_html_a20b08af81cc9452fb721c9a698f81bdf"><div class="ttname"><a href="../../d6/d68/vector_8h.html#a20b08af81cc9452fb721c9a698f81bdf">AST_VECTOR_SIZE</a></div><div class="ttdeci">#define AST_VECTOR_SIZE(vec)</div><div class="ttdoc">Get the number of elements in a vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00611">vector.h:611</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a1311cf1cc8f99000b085fd0917431286"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1311cf1cc8f99000b085fd0917431286">&#9670;&nbsp;</a></span>AST_VECTOR()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AST_VECTOR </td>
          <td>(</td>
          <td class="paramtype">ast_string_field_vector&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char **&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a986c48d189ab62291dea325789921fc1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a986c48d189ab62291dea325789921fc1">&#9670;&nbsp;</a></span>__ast_string_field_empty</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* __ast_string_field_empty</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d5/dba/stringfields_8c_source.html#l00043">43</a> of file <a class="el" href="../../d5/dba/stringfields_8c_source.html">stringfields.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/dba/stringfields_8c_source.html#l00380">__ast_calloc_with_stringfields()</a>, <a class="el" href="../../d5/dba/stringfields_8c_source.html#l00171">__ast_string_field_init()</a>, <a class="el" href="../../d5/dba/stringfields_8c_source.html#l00286">__ast_string_field_ptr_build_va()</a>, <a class="el" href="../../d5/dba/stringfields_8c_source.html#l00261">__ast_string_field_release_active()</a>, <a class="el" href="../../d5/dba/stringfields_8c_source.html#l00441">__ast_string_fields_copy()</a>, <a class="el" href="../../d3/d5a/test__stringfields_8c_source.html#l00041">AST_TEST_DEFINE()</a>, and <a class="el" href="../../d5/dba/stringfields_8c_source.html#l00081">reset_field()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Aug 8 2021 19:46:51 for Asterisk - The Open Source Telephony Project by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
