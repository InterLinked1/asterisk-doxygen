<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Asterisk - The Open Source Telephony Project: stasis_endpoints.h File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Asterisk - The Open Source Telephony Project
   &#160;<span id="projectnumber">18.5.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="../../dir_6d4b1cdb59e2db6ad82005b337288fef.html">asterisk</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">stasis_endpoints.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Endpoint abstractions.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="../../d4/d61/endpoints_8h_source.html">asterisk/endpoints.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../dd/d79/stasis_8h_source.html">asterisk/stasis.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d3/d8f/stasis__cache__pattern_8h_source.html">asterisk/stasis_cache_pattern.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d1/d0f/stringfields_8h_source.html">asterisk/stringfields.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for stasis_endpoints.h:</div>
<div class="dyncontent">
<div class="center"><img src="../../d0/d07/stasis__endpoints_8h__incl.png" border="0" usemap="#stasis__endpoints_8h" alt=""/></div>
<map name="stasis__endpoints_8h" id="stasis__endpoints_8h">
<area shape="rect" id="node2" href="../../d4/d61/endpoints_8h.html" title="Endpoint abstractions. " alt="" coords="115,169,266,196"/>
<area shape="rect" id="node5" href="../../dd/d79/stasis_8h.html" title="Stasis Message Bus API. See Stasis Message Bus API for detailed documentation. " alt="" coords="375,169,500,196"/>
<area shape="rect" id="node11" href="../../d1/d0f/stringfields_8h.html" title="asterisk/stringfields.h" alt="" coords="876,393,1033,420"/>
<area shape="rect" id="node15" href="../../d3/d8f/stasis__cache__pattern_8h.html" title="Caching pattern for Stasis Message Bus API topics. " alt="" coords="299,80,458,121"/>
<area shape="rect" id="node3" href="../../d4/d05/json_8h.html" title="Asterisk JSON abstraction layer. " alt="" coords="120,244,235,271"/>
<area shape="rect" id="node4" href="../../db/df1/netsock2_8h.html" title="Network socket handling. " alt="" coords="5,319,152,345"/>
<area shape="rect" id="node6" href="../../db/d45/manager_8h.html" title="The AMI &#45; Asterisk Manager Interface &#45; is a TCP protocol created to manage Asterisk with third&#45;party ..." alt="" coords="547,244,693,271"/>
<area shape="rect" id="node12" href="../../d5/d60/utils_8h.html" title="Utility functions. " alt="" coords="408,244,523,271"/>
<area shape="rect" id="node13" href="../../dd/d20/event_8h.html" title="asterisk/event.h" alt="" coords="259,244,383,271"/>
<area shape="rect" id="node7" href="../../d9/d94/network_8h.html" title="Wrapper for network related headers, masking differences between various operating systems..." alt="" coords="549,319,688,345"/>
<area shape="rect" id="node8" href="../../dd/d42/lock_8h.html" title="Asterisk locking&#45;related definitions: " alt="" coords="411,319,525,345"/>
<area shape="rect" id="node9" href="../../d9/db6/datastore_8h.html" title="Asterisk datastore objects. " alt="" coords="713,319,863,345"/>
<area shape="rect" id="node10" href="../../d1/d99/xmldoc_8h.html" title="Asterisk XML Documentation API. " alt="" coords="887,319,1022,345"/>
<area shape="rect" id="node14" href="../../d6/d37/event__defs_8h.html" title="Generic event system. " alt="" coords="177,319,335,345"/>
</map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/deb/stasis__endpoints_8h__dep__incl.png" border="0" usemap="#stasis__endpoints_8hdep" alt=""/></div>
<map name="stasis__endpoints_8hdep" id="stasis__endpoints_8hdep">
<area shape="rect" id="node2" href="../../d5/dff/chan__iax2_8c.html" title="Implementation of Inter&#45;Asterisk eXchange Version 2 as specified in RFC 5456. " alt="" coords="2197,80,2295,107"/>
<area shape="rect" id="node3" href="../../d0/d29/chan__pjsip_8c.html" title="PSJIP SIP Channel Driver. " alt="" coords="5,162,105,189"/>
<area shape="rect" id="node4" href="../../d8/d8c/res__pjsip_8h.html" title="res_pjsip.h" alt="" coords="2370,80,2461,107"/>
<area shape="rect" id="node36" href="../../d5/dfe/chan__sip_8c.html" title="Implementation of Session Initiation Protocol. " alt="" coords="2485,80,2575,107"/>
<area shape="rect" id="node37" href="../../d0/d80/chan__skinny_8c.html" title="Implementation of the Skinny protocol. " alt="" coords="2599,80,2709,107"/>
<area shape="rect" id="node38" href="../../d5/d03/asterisk_8c.html" title="Top level source file for Asterisk &#45; the Open Source PBX. Implementation of PBX core functions and CL..." alt="" coords="2733,80,2815,107"/>
<area shape="rect" id="node39" href="../../db/de2/channel__internal__api_8c.html" title="Channel Accessor API. " alt="" coords="2840,80,3004,107"/>
<area shape="rect" id="node40" href="../../d7/d4b/main_2endpoints_8c.html" title="Asterisk endpoint API. " alt="" coords="3029,80,3125,107"/>
<area shape="rect" id="node41" href="../../df/d10/manager__endpoints_8c.html" title="The Asterisk Management Interface &#45; AMI (endpoint handling) " alt="" coords="3149,80,3311,107"/>
<area shape="rect" id="node42" href="../../d0/df4/stasis_8c.html" title="Stasis Message Bus API. " alt="" coords="3335,80,3405,107"/>
<area shape="rect" id="node43" href="../../d3/daf/stasis__endpoints_8c.html" title="Stasis endpoint API. " alt="" coords="3429,80,3569,107"/>
<area shape="rect" id="node44" href="../../d1/d5a/resource__endpoints_8c.html" title="/api&#45;docs/endpoints.{format} implementation&#45; Endpoint resources " alt="" coords="3593,80,3752,107"/>
<area shape="rect" id="node45" href="../../d6/d2c/res_2prometheus_2endpoints_8c.html" title="Prometheus Endpoint Metrics. " alt="" coords="3777,80,3873,107"/>
<area shape="rect" id="node46" href="../../d6/d6a/res__endpoint__stats_8c.html" title="res_endpoint_stats.c" alt="" coords="3897,80,4051,107"/>
<area shape="rect" id="node47" href="../../d2/d80/res__stasis_8c.html" title="Stasis application support. " alt="" coords="4076,80,4173,107"/>
<area shape="rect" id="node48" href="../../d3/d5e/res_2stasis_2app_8c.html" title="Stasis application support. " alt="" coords="4197,80,4255,107"/>
<area shape="rect" id="node49" href="../../da/d81/test__endpoints_8c.html" title="Test endpoints. " alt="" coords="4279,80,4407,107"/>
<area shape="rect" id="node50" href="../../d5/d3c/test__stasis__endpoints_8c.html" title="Test endpoints. " alt="" coords="4432,80,4604,107"/>
<area shape="rect" id="node5" href="../../d9/d6d/cli__commands_8c.html" title="PJSIP channel CLI functions. " alt="" coords="130,162,255,189"/>
<area shape="rect" id="node6" href="../../de/dfc/pjsip_2dialplan__functions_8c.html" title="PJSIP channel dialplan functions. " alt="" coords="279,162,426,189"/>
<area shape="rect" id="node7" href="../../dd/d92/func__pjsip__aor_8c.html" title="Get information about a PJSIP AOR. " alt="" coords="450,162,573,189"/>
<area shape="rect" id="node8" href="../../de/d6a/func__pjsip__contact_8c.html" title="Get information about a PJSIP contact. " alt="" coords="597,162,748,189"/>
<area shape="rect" id="node9" href="../../d0/d7b/func__pjsip__endpoint_8c.html" title="Get information about a PJSIP endpoint. " alt="" coords="772,162,931,189"/>
<area shape="rect" id="node10" href="../../d6/d5d/pjsip__outbound__registrations_8c.html" title="Prometheus PJSIP Outbound Registration Metrics. " alt="" coords="955,162,1172,189"/>
<area shape="rect" id="node11" href="../../d7/da2/res__hep__pjsip_8c.html" title="PJSIP logging with Homer. " alt="" coords="1197,162,1317,189"/>
<area shape="rect" id="node12" href="../../d5/dcb/config__auth_8c.html" title="config_auth.c" alt="" coords="1341,162,1447,189"/>
<area shape="rect" id="node13" href="../../d9/d9e/config__domain__aliases_8c.html" title="config_domain_aliases.c" alt="" coords="1472,162,1649,189"/>
<area shape="rect" id="node14" href="../../dd/dfd/config__global_8c.html" title="config_global.c" alt="" coords="1673,162,1789,189"/>
<area shape="rect" id="node15" href="../../df/dfd/config__system_8c.html" title="config_system.c" alt="" coords="1814,162,1939,189"/>
<area shape="rect" id="node16" href="../../d3/d17/config__transport_8c.html" title="config_transport.c" alt="" coords="1964,162,2101,189"/>
<area shape="rect" id="node17" href="../../d0/dad/location_8c.html" title="location.c" alt="" coords="2126,162,2209,189"/>
<area shape="rect" id="node18" href="../../d0/df0/pjsip__cli_8c.html" title="pjsip_cli.c" alt="" coords="2233,162,2315,189"/>
<area shape="rect" id="node19" href="../../dc/df6/pjsip__configuration_8c.html" title="pjsip_configuration.c" alt="" coords="2339,162,2491,189"/>
<area shape="rect" id="node20" href="../../d7/dad/pjsip__distributor_8c.html" title="pjsip_distributor.c" alt="" coords="2515,162,2649,189"/>
<area shape="rect" id="node21" href="../../db/d73/pjsip__global__headers_8c.html" title="pjsip_global_headers.c" alt="" coords="2673,162,2840,189"/>
<area shape="rect" id="node22" href="../../d3/d9e/pjsip__message__filter_8c.html" title="pjsip_message_filter.c" alt="" coords="2865,162,3027,189"/>
<area shape="rect" id="node23" href="../../df/dda/pjsip__options_8c.html" title="pjsip_options.c" alt="" coords="3052,162,3168,189"/>
<area shape="rect" id="node24" href="../../d4/d43/pjsip__resolver_8c.html" title="pjsip_resolver.c" alt="" coords="3192,162,3311,189"/>
<area shape="rect" id="node25" href="../../de/dfa/pjsip__scheduler_8c.html" title="res_pjsip Scheduler " alt="" coords="3334,162,3465,189"/>
<area shape="rect" id="node26" href="../../d2/dc0/pjsip__session_8c.html" title="pjsip_session.c" alt="" coords="3489,162,3606,189"/>
<area shape="rect" id="node27" href="../../d1/d94/pjsip__transport__events_8c.html" title="Manages the global transport event notification callbacks. " alt="" coords="3630,162,3809,189"/>
<area shape="rect" id="node28" href="../../da/db9/pjsip__transport__management_8c.html" title="pjsip_transport_management.c" alt="" coords="3833,162,4056,189"/>
<area shape="rect" id="node29" href="../../d2/d63/res_2res__pjsip_2security__events_8c.html" title="Generate security events in the PJSIP channel. " alt="" coords="4081,162,4214,189"/>
<area shape="rect" id="node30" href="../../de/d96/res__pjsip_8c.html" title="res_pjsip.c" alt="" coords="4239,162,4328,189"/>
<area shape="rect" id="node31" href="../../d5/d5e/res__pjsip__acl_8c.html" title="res_pjsip_acl.c" alt="" coords="4353,162,4467,189"/>
<area shape="rect" id="node32" href="../../dd/db2/res__pjsip__authenticator__digest_8c.html" title="res_pjsip_authenticator\l_digest.c" alt="" coords="4491,155,4662,196"/>
<area shape="rect" id="node33" href="../../dc/d2a/res__pjsip__caller__id_8c.html" title="res_pjsip_caller_id.c" alt="" coords="4687,162,4835,189"/>
<area shape="rect" id="node34" href="../../d9/d63/res__pjsip__config__wizard_8c.html" title="PJSIP Configuration Wizard. " alt="" coords="4859,162,5041,189"/>
<area shape="rect" id="node35" href="../../d9/d81/res__pjsip__dialog__info__body__generator_8c.html" title="res_pjsip_dialog_info\l_body_generator.c" alt="" coords="5065,155,5219,196"/>
</map>
</div>
</div>
<p><a href="../../d7/d44/stasis__endpoints_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d7d/structast__endpoint__blob.html">ast_endpoint_blob</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Blob of data associated with an endpoint.  <a href="../../d0/d7d/structast__endpoint__blob.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dd1/structast__endpoint__snapshot.html">ast_endpoint_snapshot</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A snapshot of an endpoint's state.  <a href="../../da/dd1/structast__endpoint__snapshot.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gab64b4e754207708a20a96e4d4fc5cf3d"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d7/d55/structstasis__message.html">stasis_message</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#gab64b4e754207708a20a96e4d4fc5cf3d">ast_endpoint_blob_create</a> (struct <a class="el" href="../../d4/df2/structast__endpoint.html">ast_endpoint</a> *endpoint, struct <a class="el" href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a> *<a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>, struct <a class="el" href="../../d1/da1/structast__json.html">ast_json</a> *blob)</td></tr>
<tr class="memdesc:gab64b4e754207708a20a96e4d4fc5cf3d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a <a class="el" href="../../d0/d7d/structast__endpoint__blob.html">ast_endpoint_blob</a> message.  <a href="../../df/deb/group__StasisTopicsAndMessages.html#gab64b4e754207708a20a96e4d4fc5cf3d">More...</a><br /></td></tr>
<tr class="separator:gab64b4e754207708a20a96e4d4fc5cf3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga18159008df1e2c2f4d86060386c8b47c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga18159008df1e2c2f4d86060386c8b47c">ast_endpoint_blob_publish</a> (struct <a class="el" href="../../d4/df2/structast__endpoint.html">ast_endpoint</a> *endpoint, struct <a class="el" href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a> *<a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>, struct <a class="el" href="../../d1/da1/structast__json.html">ast_json</a> *blob)</td></tr>
<tr class="memdesc:ga18159008df1e2c2f4d86060386c8b47c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates and publishes a <a class="el" href="../../d0/d7d/structast__endpoint__blob.html">ast_endpoint_blob</a> message.  <a href="../../df/deb/group__StasisTopicsAndMessages.html#ga18159008df1e2c2f4d86060386c8b47c">More...</a><br /></td></tr>
<tr class="separator:ga18159008df1e2c2f4d86060386c8b47c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga585e6ce87a933360a7c247d7dc101cc0"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../dd/d25/structstasis__cache.html">stasis_cache</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga585e6ce87a933360a7c247d7dc101cc0">ast_endpoint_cache</a> (void)</td></tr>
<tr class="memdesc:ga585e6ce87a933360a7c247d7dc101cc0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Backend cache for <a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#gab91de30d8cc5a14abf4c557e4a5c7c5c" title="Cached topic for all endpoint related messages. ">ast_endpoint_topic_all_cached()</a>.  <a href="../../df/deb/group__StasisTopicsAndMessages.html#ga585e6ce87a933360a7c247d7dc101cc0">More...</a><br /></td></tr>
<tr class="separator:ga585e6ce87a933360a7c247d7dc101cc0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga43f306f19e883f27adf4f416fb5ec2b4"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d0/d65/structstasis__cp__all.html">stasis_cp_all</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga43f306f19e883f27adf4f416fb5ec2b4">ast_endpoint_cache_all</a> (void)</td></tr>
<tr class="separator:ga43f306f19e883f27adf4f416fb5ec2b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4d2d85d612142c53bd09d580857206a8"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga4d2d85d612142c53bd09d580857206a8">ast_endpoint_contact_state_type</a> (void)</td></tr>
<tr class="memdesc:ga4d2d85d612142c53bd09d580857206a8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Message type for endpoint contact state changes.  <a href="../../df/deb/group__StasisTopicsAndMessages.html#ga4d2d85d612142c53bd09d580857206a8">More...</a><br /></td></tr>
<tr class="separator:ga4d2d85d612142c53bd09d580857206a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga83c4127a98da15ab67e85d7aeabdbfdf"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../da/dd1/structast__endpoint__snapshot.html">ast_endpoint_snapshot</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga83c4127a98da15ab67e85d7aeabdbfdf">ast_endpoint_latest_snapshot</a> (const char *tech, const char *resource)</td></tr>
<tr class="memdesc:ga83c4127a98da15ab67e85d7aeabdbfdf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve the most recent snapshot for the endpoint with the given name.  <a href="../../df/deb/group__StasisTopicsAndMessages.html#ga83c4127a98da15ab67e85d7aeabdbfdf">More...</a><br /></td></tr>
<tr class="separator:ga83c4127a98da15ab67e85d7aeabdbfdf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf3fae27e0558b4372735412393520a82"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../da/dd1/structast__endpoint__snapshot.html">ast_endpoint_snapshot</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#gaf3fae27e0558b4372735412393520a82">ast_endpoint_snapshot_create</a> (struct <a class="el" href="../../d4/df2/structast__endpoint.html">ast_endpoint</a> *endpoint)</td></tr>
<tr class="memdesc:gaf3fae27e0558b4372735412393520a82"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a snapshot of an endpoint.  <a href="../../df/deb/group__StasisTopicsAndMessages.html#gaf3fae27e0558b4372735412393520a82">More...</a><br /></td></tr>
<tr class="separator:gaf3fae27e0558b4372735412393520a82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a645ca4cff86118f533143b7b950e63"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d1/da1/structast__json.html">ast_json</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d44/stasis__endpoints_8h.html#a1a645ca4cff86118f533143b7b950e63">ast_endpoint_snapshot_to_json</a> (const struct <a class="el" href="../../da/dd1/structast__endpoint__snapshot.html">ast_endpoint_snapshot</a> *snapshot, const struct <a class="el" href="../../d4/d45/structstasis__message__sanitizer.html">stasis_message_sanitizer</a> *sanitize)</td></tr>
<tr class="memdesc:a1a645ca4cff86118f533143b7b950e63"><td class="mdescLeft">&#160;</td><td class="mdescRight">Build a JSON object from a <a class="el" href="../../da/dd1/structast__endpoint__snapshot.html">ast_endpoint_snapshot</a>.  <a href="#a1a645ca4cff86118f533143b7b950e63">More...</a><br /></td></tr>
<tr class="separator:a1a645ca4cff86118f533143b7b950e63"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf23b8f5195f28ae2044eae71be431433"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#gaf23b8f5195f28ae2044eae71be431433">ast_endpoint_snapshot_type</a> (void)</td></tr>
<tr class="memdesc:gaf23b8f5195f28ae2044eae71be431433"><td class="mdescLeft">&#160;</td><td class="mdescRight">Message type for <a class="el" href="../../da/dd1/structast__endpoint__snapshot.html">ast_endpoint_snapshot</a>.  <a href="../../df/deb/group__StasisTopicsAndMessages.html#gaf23b8f5195f28ae2044eae71be431433">More...</a><br /></td></tr>
<tr class="separator:gaf23b8f5195f28ae2044eae71be431433"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af268491213e6415d1b7c6f2df4a272e1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d44/stasis__endpoints_8h.html#af268491213e6415d1b7c6f2df4a272e1">ast_endpoint_stasis_init</a> (void)</td></tr>
<tr class="memdesc:af268491213e6415d1b7c6f2df4a272e1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialization function for endpoint stasis support.  <a href="#af268491213e6415d1b7c6f2df4a272e1">More...</a><br /></td></tr>
<tr class="separator:af268491213e6415d1b7c6f2df4a272e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5bef70de71c061b6ef7739d9634ebbb1"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga5bef70de71c061b6ef7739d9634ebbb1">ast_endpoint_state_type</a> (void)</td></tr>
<tr class="memdesc:ga5bef70de71c061b6ef7739d9634ebbb1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Message type for endpoint state changes.  <a href="../../df/deb/group__StasisTopicsAndMessages.html#ga5bef70de71c061b6ef7739d9634ebbb1">More...</a><br /></td></tr>
<tr class="separator:ga5bef70de71c061b6ef7739d9634ebbb1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga566d4b2133a41b34f8b80de938d82e18"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d9/d1d/structstasis__topic.html">stasis_topic</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga566d4b2133a41b34f8b80de938d82e18">ast_endpoint_topic</a> (struct <a class="el" href="../../d4/df2/structast__endpoint.html">ast_endpoint</a> *endpoint)</td></tr>
<tr class="memdesc:ga566d4b2133a41b34f8b80de938d82e18"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the topic for a specific endpoint.  <a href="../../df/deb/group__StasisTopicsAndMessages.html#ga566d4b2133a41b34f8b80de938d82e18">More...</a><br /></td></tr>
<tr class="separator:ga566d4b2133a41b34f8b80de938d82e18"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga194048b419a426601b448dc48c514a17"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d9/d1d/structstasis__topic.html">stasis_topic</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga194048b419a426601b448dc48c514a17">ast_endpoint_topic_all</a> (void)</td></tr>
<tr class="memdesc:ga194048b419a426601b448dc48c514a17"><td class="mdescLeft">&#160;</td><td class="mdescRight">Topic for all endpoint releated messages.  <a href="../../df/deb/group__StasisTopicsAndMessages.html#ga194048b419a426601b448dc48c514a17">More...</a><br /></td></tr>
<tr class="separator:ga194048b419a426601b448dc48c514a17"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab91de30d8cc5a14abf4c557e4a5c7c5c"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d9/d1d/structstasis__topic.html">stasis_topic</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#gab91de30d8cc5a14abf4c557e4a5c7c5c">ast_endpoint_topic_all_cached</a> (void)</td></tr>
<tr class="memdesc:gab91de30d8cc5a14abf4c557e4a5c7c5c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cached topic for all endpoint related messages.  <a href="../../df/deb/group__StasisTopicsAndMessages.html#gab91de30d8cc5a14abf4c557e4a5c7c5c">More...</a><br /></td></tr>
<tr class="separator:gab91de30d8cc5a14abf4c557e4a5c7c5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga56bc4873f8a6bc6cfa573347abf7560e"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d9/d1d/structstasis__topic.html">stasis_topic</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga56bc4873f8a6bc6cfa573347abf7560e">ast_endpoint_topic_cached</a> (struct <a class="el" href="../../d4/df2/structast__endpoint.html">ast_endpoint</a> *endpoint)</td></tr>
<tr class="memdesc:ga56bc4873f8a6bc6cfa573347abf7560e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the topic for a specific endpoint.  <a href="../../df/deb/group__StasisTopicsAndMessages.html#ga56bc4873f8a6bc6cfa573347abf7560e">More...</a><br /></td></tr>
<tr class="separator:ga56bc4873f8a6bc6cfa573347abf7560e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Endpoint abstractions. </p>
<dl class="section author"><dt>Author</dt><dd>David M. Lee, II <a href="#" onclick="location.href='mai'+'lto:'+'dle'+'e@'+'dig'+'iu'+'m.c'+'om'; return false;">dlee@<span style="display: none;">.nosp@m.</span>digi<span style="display: none;">.nosp@m.</span>um.co<span style="display: none;">.nosp@m.</span>m</a> </dd></dl>
<dl class="section since"><dt>Since</dt><dd>12 </dd></dl>

<p class="definition">Definition in file <a class="el" href="../../d7/d44/stasis__endpoints_8h_source.html">stasis_endpoints.h</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a1a645ca4cff86118f533143b7b950e63"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a645ca4cff86118f533143b7b950e63">&#9670;&nbsp;</a></span>ast_endpoint_snapshot_to_json()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d1/da1/structast__json.html">ast_json</a>* ast_endpoint_snapshot_to_json </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../da/dd1/structast__endpoint__snapshot.html">ast_endpoint_snapshot</a> *&#160;</td>
          <td class="paramname"><em>snapshot</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="../../d4/d45/structstasis__message__sanitizer.html">stasis_message_sanitizer</a> *&#160;</td>
          <td class="paramname"><em>sanitize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Build a JSON object from a <a class="el" href="../../da/dd1/structast__endpoint__snapshot.html">ast_endpoint_snapshot</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">snapshot</td><td>Endpoint snapshot. </td></tr>
    <tr><td class="paramname">sanitize</td><td>The message sanitizer to use on the snapshot</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>JSON object representing endpoint snapshot. </dd>
<dd>
<code>NULL</code> on error </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/daf/stasis__endpoints_8c_source.html#l00398">398</a> of file <a class="el" href="../../d3/daf/stasis__endpoints_8c_source.html">stasis_endpoints.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d60/utils_8h_source.html#l00695">ast_assert</a>, <a class="el" href="../../d7/d4b/main_2endpoints_8c_source.html#l00109">ast_endpoint_state_to_string()</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00368">ast_json_array_append()</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00317">ast_json_integer_create()</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00397">ast_json_object_get()</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00404">ast_json_object_set()</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00591">ast_json_pack()</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00268">ast_json_string_create()</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00073">ast_json_unref()</a>, <a class="el" href="../../dd/d79/stasis_8h_source.html#l00210">stasis_message_sanitizer::channel_id</a>, <a class="el" href="../../d7/d44/stasis__endpoints_8h_source.html#l00065">ast_endpoint_snapshot::channel_ids</a>, <a class="el" href="../../d7/d44/stasis__endpoints_8h_source.html#l00061">ast_endpoint_snapshot::max_channels</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d7/d44/stasis__endpoints_8h_source.html#l00063">ast_endpoint_snapshot::num_channels</a>, <a class="el" href="../../d7/d44/stasis__endpoints_8h_source.html#l00053">ast_endpoint_snapshot::resource</a>, <a class="el" href="../../d7/d44/stasis__endpoints_8h_source.html#l00056">ast_endpoint_snapshot::state</a>, and <a class="el" href="../../d7/d44/stasis__endpoints_8h_source.html#l00053">ast_endpoint_snapshot::tech</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/d5a/resource__endpoints_8c_source.html#l00153">ast_ari_endpoints_get()</a>, <a class="el" href="../../d1/d5a/resource__endpoints_8c_source.html#l00037">ast_ari_endpoints_list()</a>, <a class="el" href="../../d1/d5a/resource__endpoints_8c_source.html#l00085">ast_ari_endpoints_list_by_tech()</a>, <a class="el" href="../../d3/daf/stasis__endpoints_8c_source.html#l00237">contactstatus_to_json()</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00584">message_received_handler()</a>, <a class="el" href="../../d0/df4/stasis_8c_source.html#l02045">multi_user_event_to_json()</a>, <a class="el" href="../../d3/daf/stasis__endpoints_8c_source.html#l00163">peerstatus_to_json()</a>, and <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00567">simple_endpoint_event()</a>.</p>
<div class="fragment"><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;{</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/da1/structast__json.html">ast_json</a> *json;</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/da1/structast__json.html">ast_json</a> *channel_array;</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;   <span class="keywordtype">int</span> i;</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;   json = <a class="code" href="../../d4/d05/json_8h.html#a99715667e822b2ad409b34ca041e535d">ast_json_pack</a>(<span class="stringliteral">&quot;{s: s, s: s, s: s, s: []}&quot;</span>,</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;      <span class="stringliteral">&quot;technology&quot;</span>, snapshot-&gt;<a class="code" href="../../da/dd1/structast__endpoint__snapshot.html#a6379def8cefd9afdea29d5ed673cf8a0">tech</a>,</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;      <span class="stringliteral">&quot;resource&quot;</span>, snapshot-&gt;<a class="code" href="../../da/dd1/structast__endpoint__snapshot.html#ae2dfc8e2aac2a8f3eed1f3bf8054e358">resource</a>,</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;      <span class="stringliteral">&quot;state&quot;</span>, <a class="code" href="../../d4/d61/endpoints_8h.html#a231c819d45acb4aafb58381ac0d2987c">ast_endpoint_state_to_string</a>(snapshot-&gt;<a class="code" href="../../da/dd1/structast__endpoint__snapshot.html#a6d02593144c6c3fd9f222fce483d8a65">state</a>),</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;      <span class="stringliteral">&quot;channel_ids&quot;</span>);</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;   <span class="keywordflow">if</span> (json == <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;   }</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;   <span class="keywordflow">if</span> (snapshot-&gt;<a class="code" href="../../da/dd1/structast__endpoint__snapshot.html#ade80a1307c60b56d040abb38337e2168">max_channels</a> != -1) {</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;      <span class="keywordtype">int</span> res = <a class="code" href="../../d4/d05/json_8h.html#abc8b563c172cfaffa2b555195990f729">ast_json_object_set</a>(json, <span class="stringliteral">&quot;max_channels&quot;</span>,</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;         <a class="code" href="../../d4/d05/json_8h.html#ac13f0f415f198c5a341017195933356f">ast_json_integer_create</a>(snapshot-&gt;<a class="code" href="../../da/dd1/structast__endpoint__snapshot.html#ade80a1307c60b56d040abb38337e2168">max_channels</a>));</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;      <span class="keywordflow">if</span> (res != 0) {</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;         <a class="code" href="../../d4/d05/json_8h.html#a33bcd9181e613a659eefe411ec42c87c">ast_json_unref</a>(json);</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;         <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;      }</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;   }</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;   channel_array = <a class="code" href="../../d4/d05/json_8h.html#a53707225c3bf831e263245c6e3800676">ast_json_object_get</a>(json, <span class="stringliteral">&quot;channel_ids&quot;</span>);</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a>(channel_array != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;   <span class="keywordflow">for</span> (i = 0; i &lt; snapshot-&gt;<a class="code" href="../../da/dd1/structast__endpoint__snapshot.html#a3ebe4beb37744670619a1fb1cb609d91">num_channels</a>; ++i) {</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;      <span class="keywordtype">int</span> res;</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;      <span class="keywordflow">if</span> (sanitize &amp;&amp; sanitize-&gt;<a class="code" href="../../d4/d45/structstasis__message__sanitizer.html#ae2767f52c403c8409a9574717ec14095">channel_id</a></div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;         &amp;&amp; sanitize-&gt;<a class="code" href="../../d4/d45/structstasis__message__sanitizer.html#ae2767f52c403c8409a9574717ec14095">channel_id</a>(snapshot-&gt;<a class="code" href="../../da/dd1/structast__endpoint__snapshot.html#af8f1f95df0b0112b6e33a612c577df63">channel_ids</a>[i])) {</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;         <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;      }</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;      res = <a class="code" href="../../d4/d05/json_8h.html#a3d675e52f866630a6a03302df2712b8d">ast_json_array_append</a>(channel_array,</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;         <a class="code" href="../../d4/d05/json_8h.html#adc52f8d76b7fdd0c8d12987981fd5bf5">ast_json_string_create</a>(snapshot-&gt;<a class="code" href="../../da/dd1/structast__endpoint__snapshot.html#af8f1f95df0b0112b6e33a612c577df63">channel_ids</a>[i]));</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;      <span class="keywordflow">if</span> (res != 0) {</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;         <a class="code" href="../../d4/d05/json_8h.html#a33bcd9181e613a659eefe411ec42c87c">ast_json_unref</a>(json);</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;         <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;      }</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;   }</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;   <span class="keywordflow">return</span> json;</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;}</div><div class="ttc" id="json_8h_html_a99715667e822b2ad409b34ca041e535d"><div class="ttname"><a href="../../d4/d05/json_8h.html#a99715667e822b2ad409b34ca041e535d">ast_json_pack</a></div><div class="ttdeci">struct ast_json * ast_json_pack(char const *format,...)</div><div class="ttdoc">Helper for creating complex JSON values. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00591">json.c:591</a></div></div>
<div class="ttc" id="json_8h_html_a33bcd9181e613a659eefe411ec42c87c"><div class="ttname"><a href="../../d4/d05/json_8h.html#a33bcd9181e613a659eefe411ec42c87c">ast_json_unref</a></div><div class="ttdeci">void ast_json_unref(struct ast_json *value)</div><div class="ttdoc">Decrease refcount on value. If refcount reaches zero, value is freed. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00073">json.c:73</a></div></div>
<div class="ttc" id="structstasis__message__sanitizer_html_ae2767f52c403c8409a9574717ec14095"><div class="ttname"><a href="../../d4/d45/structstasis__message__sanitizer.html#ae2767f52c403c8409a9574717ec14095">stasis_message_sanitizer::channel_id</a></div><div class="ttdeci">int(* channel_id)(const char *channel_id)</div><div class="ttdoc">Callback which determines whether a channel should be sanitized from a message based on the channel&amp;#39;s...</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d79/stasis_8h_source.html#l00210">stasis.h:210</a></div></div>
<div class="ttc" id="utils_8h_html_a24374da24af1931d8a7ccde5b352bb2c"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a></div><div class="ttdeci">#define ast_assert(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00695">utils.h:695</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="json_8h_html_abc8b563c172cfaffa2b555195990f729"><div class="ttname"><a href="../../d4/d05/json_8h.html#abc8b563c172cfaffa2b555195990f729">ast_json_object_set</a></div><div class="ttdeci">int ast_json_object_set(struct ast_json *object, const char *key, struct ast_json *value)</div><div class="ttdoc">Set a field in a JSON object. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00404">json.c:404</a></div></div>
<div class="ttc" id="json_8h_html_adc52f8d76b7fdd0c8d12987981fd5bf5"><div class="ttname"><a href="../../d4/d05/json_8h.html#adc52f8d76b7fdd0c8d12987981fd5bf5">ast_json_string_create</a></div><div class="ttdeci">struct ast_json * ast_json_string_create(const char *value)</div><div class="ttdoc">Construct a JSON string from value. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00268">json.c:268</a></div></div>
<div class="ttc" id="structast__endpoint__snapshot_html_a3ebe4beb37744670619a1fb1cb609d91"><div class="ttname"><a href="../../da/dd1/structast__endpoint__snapshot.html#a3ebe4beb37744670619a1fb1cb609d91">ast_endpoint_snapshot::num_channels</a></div><div class="ttdeci">int num_channels</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d44/stasis__endpoints_8h_source.html#l00063">stasis_endpoints.h:63</a></div></div>
<div class="ttc" id="structast__endpoint__snapshot_html_ae2dfc8e2aac2a8f3eed1f3bf8054e358"><div class="ttname"><a href="../../da/dd1/structast__endpoint__snapshot.html#ae2dfc8e2aac2a8f3eed1f3bf8054e358">ast_endpoint_snapshot::resource</a></div><div class="ttdeci">const ast_string_field resource</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d44/stasis__endpoints_8h_source.html#l00053">stasis_endpoints.h:53</a></div></div>
<div class="ttc" id="json_8h_html_a3d675e52f866630a6a03302df2712b8d"><div class="ttname"><a href="../../d4/d05/json_8h.html#a3d675e52f866630a6a03302df2712b8d">ast_json_array_append</a></div><div class="ttdeci">int ast_json_array_append(struct ast_json *array, struct ast_json *value)</div><div class="ttdoc">Append to an array. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00368">json.c:368</a></div></div>
<div class="ttc" id="structast__endpoint__snapshot_html_a6379def8cefd9afdea29d5ed673cf8a0"><div class="ttname"><a href="../../da/dd1/structast__endpoint__snapshot.html#a6379def8cefd9afdea29d5ed673cf8a0">ast_endpoint_snapshot::tech</a></div><div class="ttdeci">const ast_string_field tech</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d44/stasis__endpoints_8h_source.html#l00053">stasis_endpoints.h:53</a></div></div>
<div class="ttc" id="structast__endpoint__snapshot_html_ade80a1307c60b56d040abb38337e2168"><div class="ttname"><a href="../../da/dd1/structast__endpoint__snapshot.html#ade80a1307c60b56d040abb38337e2168">ast_endpoint_snapshot::max_channels</a></div><div class="ttdeci">int max_channels</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d44/stasis__endpoints_8h_source.html#l00061">stasis_endpoints.h:61</a></div></div>
<div class="ttc" id="endpoints_8h_html_a231c819d45acb4aafb58381ac0d2987c"><div class="ttname"><a href="../../d4/d61/endpoints_8h.html#a231c819d45acb4aafb58381ac0d2987c">ast_endpoint_state_to_string</a></div><div class="ttdeci">const char * ast_endpoint_state_to_string(enum ast_endpoint_state state)</div><div class="ttdoc">Returns a string representation of the given endpoint state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d4b/main_2endpoints_8c_source.html#l00109">main/endpoints.c:109</a></div></div>
<div class="ttc" id="structast__endpoint__snapshot_html_af8f1f95df0b0112b6e33a612c577df63"><div class="ttname"><a href="../../da/dd1/structast__endpoint__snapshot.html#af8f1f95df0b0112b6e33a612c577df63">ast_endpoint_snapshot::channel_ids</a></div><div class="ttdeci">char * channel_ids[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d44/stasis__endpoints_8h_source.html#l00065">stasis_endpoints.h:65</a></div></div>
<div class="ttc" id="json_8h_html_a53707225c3bf831e263245c6e3800676"><div class="ttname"><a href="../../d4/d05/json_8h.html#a53707225c3bf831e263245c6e3800676">ast_json_object_get</a></div><div class="ttdeci">struct ast_json * ast_json_object_get(struct ast_json *object, const char *key)</div><div class="ttdoc">Get a field from a JSON object. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00397">json.c:397</a></div></div>
<div class="ttc" id="structast__json_html"><div class="ttname"><a href="../../d1/da1/structast__json.html">ast_json</a></div><div class="ttdoc">Abstract JSON element (object, array, string, int, ...). </div></div>
<div class="ttc" id="structast__endpoint__snapshot_html_a6d02593144c6c3fd9f222fce483d8a65"><div class="ttname"><a href="../../da/dd1/structast__endpoint__snapshot.html#a6d02593144c6c3fd9f222fce483d8a65">ast_endpoint_snapshot::state</a></div><div class="ttdeci">enum ast_endpoint_state state</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d44/stasis__endpoints_8h_source.html#l00056">stasis_endpoints.h:56</a></div></div>
<div class="ttc" id="json_8h_html_ac13f0f415f198c5a341017195933356f"><div class="ttname"><a href="../../d4/d05/json_8h.html#ac13f0f415f198c5a341017195933356f">ast_json_integer_create</a></div><div class="ttdeci">struct ast_json * ast_json_integer_create(intmax_t value)</div><div class="ttdoc">Create a JSON integer. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00317">json.c:317</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af268491213e6415d1b7c6f2df4a272e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af268491213e6415d1b7c6f2df4a272e1">&#9670;&nbsp;</a></span>ast_endpoint_stasis_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_endpoint_stasis_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialization function for endpoint stasis support. </p>
<dl class="section return"><dt>Returns</dt><dd>0 on success. </dd>
<dd>
non-zero on error. </dd></dl>
<dl class="section since"><dt>Since</dt><dd>12 </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/daf/stasis__endpoints_8c_source.html#l00458">458</a> of file <a class="el" href="../../d3/daf/stasis__endpoints_8c_source.html">stasis_endpoints.c</a>.</p>

<p class="reference">References <a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga4d2d85d612142c53bd09d580857206a8">ast_endpoint_contact_state_type()</a>, <a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#gaf23b8f5195f28ae2044eae71be431433">ast_endpoint_snapshot_type()</a>, <a class="el" href="../../df/deb/group__StasisTopicsAndMessages.html#ga5bef70de71c061b6ef7739d9634ebbb1">ast_endpoint_state_type()</a>, <a class="el" href="../../da/d4d/clicompat_8c_source.html#l00019">ast_register_cleanup()</a>, <a class="el" href="../../d3/daf/stasis__endpoints_8c_source.html#l00384">endpoint_snapshot_get_id()</a>, <a class="el" href="../../d3/daf/stasis__endpoints_8c_source.html#l00448">endpoints_stasis_cleanup()</a>, <a class="el" href="../../dc/d1c/stasis__cache__pattern_8c_source.html#l00065">stasis_cp_all_create()</a>, and <a class="el" href="../../dd/d79/stasis_8h_source.html#l01501">STASIS_MESSAGE_TYPE_INIT</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/d03/asterisk_8c_source.html#l03947">asterisk_daemon()</a>.</p>
<div class="fragment"><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;{</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;   <span class="keywordtype">int</span> res = 0;</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;   <a class="code" href="../../db/db2/asterisk_8h.html#a412442e1beffe5bec07ed2e9ea72afc3">ast_register_cleanup</a>(<a class="code" href="../../d3/daf/stasis__endpoints_8c.html#a695342a620f49a6a8043c027868b2871">endpoints_stasis_cleanup</a>);</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;   <a class="code" href="../../d3/daf/stasis__endpoints_8c.html#aa6721cc690d76957fd6f29d700bd6c0d">endpoint_cache_all</a> = <a class="code" href="../../d3/d8f/stasis__cache__pattern_8h.html#a159183561cd469e0614fe0177f1f2121">stasis_cp_all_create</a>(<span class="stringliteral">&quot;endpoint:all&quot;</span>,</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;      <a class="code" href="../../d3/daf/stasis__endpoints_8c.html#aac9d65d20455a21018d206d25beb669c">endpoint_snapshot_get_id</a>);</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d3/daf/stasis__endpoints_8c.html#aa6721cc690d76957fd6f29d700bd6c0d">endpoint_cache_all</a>) {</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;   }</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;   res |= <a class="code" href="../../dd/d79/stasis_8h.html#a70cd046d8e3fd50de5c51aecb2830d2a">STASIS_MESSAGE_TYPE_INIT</a>(<a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#gaf23b8f5195f28ae2044eae71be431433">ast_endpoint_snapshot_type</a>);</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;   res |= <a class="code" href="../../dd/d79/stasis_8h.html#a70cd046d8e3fd50de5c51aecb2830d2a">STASIS_MESSAGE_TYPE_INIT</a>(<a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#ga5bef70de71c061b6ef7739d9634ebbb1">ast_endpoint_state_type</a>);</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;   res |= <a class="code" href="../../dd/d79/stasis_8h.html#a70cd046d8e3fd50de5c51aecb2830d2a">STASIS_MESSAGE_TYPE_INIT</a>(<a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#ga4d2d85d612142c53bd09d580857206a8">ast_endpoint_contact_state_type</a>);</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;}</div><div class="ttc" id="stasis_8h_html_a70cd046d8e3fd50de5c51aecb2830d2a"><div class="ttname"><a href="../../dd/d79/stasis_8h.html#a70cd046d8e3fd50de5c51aecb2830d2a">STASIS_MESSAGE_TYPE_INIT</a></div><div class="ttdeci">#define STASIS_MESSAGE_TYPE_INIT(name)</div><div class="ttdoc">Boiler-plate messaging macro for initializing message types. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d79/stasis_8h_source.html#l01501">stasis.h:1501</a></div></div>
<div class="ttc" id="group__StasisTopicsAndMessages_html_gaf23b8f5195f28ae2044eae71be431433"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#gaf23b8f5195f28ae2044eae71be431433">ast_endpoint_snapshot_type</a></div><div class="ttdeci">struct stasis_message_type * ast_endpoint_snapshot_type(void)</div><div class="ttdoc">Message type for ast_endpoint_snapshot. </div></div>
<div class="ttc" id="stasis__endpoints_8c_html_aac9d65d20455a21018d206d25beb669c"><div class="ttname"><a href="../../d3/daf/stasis__endpoints_8c.html#aac9d65d20455a21018d206d25beb669c">endpoint_snapshot_get_id</a></div><div class="ttdeci">static const char * endpoint_snapshot_get_id(struct stasis_message *message)</div><div class="ttdoc">Callback extract a unique identity from a snapshot message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/daf/stasis__endpoints_8c_source.html#l00384">stasis_endpoints.c:384</a></div></div>
<div class="ttc" id="asterisk_8h_html_a412442e1beffe5bec07ed2e9ea72afc3"><div class="ttname"><a href="../../db/db2/asterisk_8h.html#a412442e1beffe5bec07ed2e9ea72afc3">ast_register_cleanup</a></div><div class="ttdeci">int ast_register_cleanup(void(*func)(void))</div><div class="ttdoc">Register a function to be executed before Asterisk gracefully exits. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4d/clicompat_8c_source.html#l00019">clicompat.c:19</a></div></div>
<div class="ttc" id="group__StasisTopicsAndMessages_html_ga5bef70de71c061b6ef7739d9634ebbb1"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#ga5bef70de71c061b6ef7739d9634ebbb1">ast_endpoint_state_type</a></div><div class="ttdeci">struct stasis_message_type * ast_endpoint_state_type(void)</div><div class="ttdoc">Message type for endpoint state changes. </div></div>
<div class="ttc" id="stasis__endpoints_8c_html_aa6721cc690d76957fd6f29d700bd6c0d"><div class="ttname"><a href="../../d3/daf/stasis__endpoints_8c.html#aa6721cc690d76957fd6f29d700bd6c0d">endpoint_cache_all</a></div><div class="ttdeci">static struct stasis_cp_all * endpoint_cache_all</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/daf/stasis__endpoints_8c_source.html#l00104">stasis_endpoints.c:104</a></div></div>
<div class="ttc" id="stasis__endpoints_8c_html_a695342a620f49a6a8043c027868b2871"><div class="ttname"><a href="../../d3/daf/stasis__endpoints_8c.html#a695342a620f49a6a8043c027868b2871">endpoints_stasis_cleanup</a></div><div class="ttdeci">static void endpoints_stasis_cleanup(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/daf/stasis__endpoints_8c_source.html#l00448">stasis_endpoints.c:448</a></div></div>
<div class="ttc" id="group__StasisTopicsAndMessages_html_ga4d2d85d612142c53bd09d580857206a8"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#ga4d2d85d612142c53bd09d580857206a8">ast_endpoint_contact_state_type</a></div><div class="ttdeci">struct stasis_message_type * ast_endpoint_contact_state_type(void)</div><div class="ttdoc">Message type for endpoint contact state changes. </div></div>
<div class="ttc" id="stasis__cache__pattern_8h_html_a159183561cd469e0614fe0177f1f2121"><div class="ttname"><a href="../../d3/d8f/stasis__cache__pattern_8h.html#a159183561cd469e0614fe0177f1f2121">stasis_cp_all_create</a></div><div class="ttdeci">struct stasis_cp_all * stasis_cp_all_create(const char *name, snapshot_get_id id_fn)</div><div class="ttdoc">Create an all instance of the cache pattern. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d1c/stasis__cache__pattern_8c_source.html#l00065">stasis_cache_pattern.c:65</a></div></div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Aug 8 2021 19:46:50 for Asterisk - The Open Source Telephony Project by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
