<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Asterisk - The Open Source Telephony Project: bridge_basic.c File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Asterisk - The Open Source Telephony Project
   &#160;<span id="projectnumber">18.5.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_5c982d53a68cdbcd421152b4020263a9.html">main</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">bridge_basic.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Basic bridge class. It is a subclass of struct <a class="el" href="../../d4/d84/structast__bridge.html" title="Structure that contains information about a bridge. ">ast_bridge</a>.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="../../db/db2/asterisk_8h_source.html">asterisk.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d5/d7b/channel_8h_source.html">asterisk/channel.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d5/d60/utils_8h_source.html">asterisk/utils.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../df/d90/linkedlists_8h_source.html">asterisk/linkedlists.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d4/d56/bridge_8h_source.html">asterisk/bridge.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d5/dde/bridge__internal_8h_source.html">asterisk/bridge_internal.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d4/d1e/bridge__basic_8h_source.html">asterisk/bridge_basic.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d8/d85/bridge__after_8h_source.html">asterisk/bridge_after.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d5/da5/astobj2_8h_source.html">asterisk/astobj2.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d0/daa/include_2asterisk_2features__config_8h_source.html">asterisk/features_config.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../db/de0/pbx_8h_source.html">asterisk/pbx.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d2/d4d/file_8h_source.html">asterisk/file.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d3/d93/include_2asterisk_2app_8h_source.html">asterisk/app.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../df/dcf/dial_8h_source.html">asterisk/dial.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../dc/d4e/stasis__bridges_8h_source.html">asterisk/stasis_bridges.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d9/d4a/stasis__channels_8h_source.html">asterisk/stasis_channels.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../de/d47/features_8h_source.html">asterisk/features.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../db/d1c/format__cache_8h_source.html">asterisk/format_cache.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d2/ddc/test_8h_source.html">asterisk/test.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for bridge_basic.c:</div>
<div class="dyncontent">
<div class="center"><img src="../../d5/dd2/bridge__basic_8c__incl.png" border="0" usemap="#bridge__basic_8c" alt=""/></div>
<map name="bridge__basic_8c" id="bridge__basic_8c">
<area shape="rect" id="node2" href="../../db/db2/asterisk_8h.html" title="Asterisk main include file. File version handling, generic pbx functions. " alt="" coords="878,677,962,704"/>
<area shape="rect" id="node8" href="../../d5/d7b/channel_8h.html" title="General Asterisk PBX channel definitions. " alt="" coords="1156,379,1295,405"/>
<area shape="rect" id="node10" href="../../d5/d60/utils_8h.html" title="Utility functions. " alt="" coords="2173,603,2288,629"/>
<area shape="rect" id="node15" href="../../d5/da5/astobj2_8h.html" title="asterisk/astobj2.h" alt="" coords="1441,752,1575,779"/>
<area shape="rect" id="node16" href="../../df/d90/linkedlists_8h.html" title="A set of macros to manage forward&#45;linked lists. " alt="" coords="455,827,606,853"/>
<area shape="rect" id="node31" href="../../d4/d56/bridge_8h.html" title="Bridging API. " alt="" coords="1027,155,1155,181"/>
<area shape="rect" id="node37" href="../../d5/dde/bridge__internal_8h.html" title="Private Bridging API. " alt="" coords="1521,80,1703,107"/>
<area shape="rect" id="node38" href="../../d4/d1e/bridge__basic_8h.html" title="Basic bridge subclass API. " alt="" coords="1728,80,1896,107"/>
<area shape="rect" id="node39" href="../../d8/d85/bridge__after_8h.html" title="After Bridge Execution API. " alt="" coords="1921,80,2085,107"/>
<area shape="rect" id="node40" href="../../d0/daa/include_2asterisk_2features__config_8h.html" title="asterisk/features_config.h" alt="" coords="2863,155,3049,181"/>
<area shape="rect" id="node41" href="../../db/de0/pbx_8h.html" title="Core PBX routines and definitions. " alt="" coords="947,304,1058,331"/>
<area shape="rect" id="node43" href="../../d2/d4d/file_8h.html" title="Generic File Format Support. Should be included by clients of the file handling routines. File service providers should instead include mod_format.h. " alt="" coords="2373,528,2480,555"/>
<area shape="rect" id="node44" href="../../d3/d93/include_2asterisk_2app_8h.html" title="Application convenience functions, designed to give consistent look and feel to Asterisk apps..." alt="" coords="2464,453,2576,480"/>
<area shape="rect" id="node45" href="../../df/dcf/dial_8h.html" title="Dialing API. " alt="" coords="2358,80,2469,107"/>
<area shape="rect" id="node46" href="../../dc/d4e/stasis__bridges_8h.html" title="asterisk/stasis_bridges.h" alt="" coords="1284,80,1463,107"/>
<area shape="rect" id="node47" href="../../d9/d4a/stasis__channels_8h.html" title="asterisk/stasis_channels.h" alt="" coords="2544,304,2733,331"/>
<area shape="rect" id="node48" href="../../de/d47/features_8h.html" title="Call Parking and Pickup API Includes code and algorithms from the Zapata library. ..." alt="" coords="476,80,617,107"/>
<area shape="rect" id="node49" href="../../db/d1c/format__cache_8h.html" title="Media Format Cache API. " alt="" coords="2787,80,2963,107"/>
<area shape="rect" id="node50" href="../../d2/ddc/test_8h.html" title="Test Framework API. " alt="" coords="2211,155,2325,181"/>
<area shape="rect" id="node3" href="../../d8/d20/autoconfig_8h.html" title="asterisk/autoconfig.h" alt="" coords="887,752,1041,779"/>
<area shape="rect" id="node4" href="../../de/da3/include_2asterisk_2compat_8h.html" title="General Definitions for Asterisk top level program Included by asterisk.h to handle platform&#45;specific..." alt="" coords="1798,827,1935,853"/>
<area shape="rect" id="node7" href="../../d8/d8a/astmm_8h.html" title="Asterisk memory management routines. " alt="" coords="727,752,862,779"/>
<area shape="rect" id="node9" href="../../dc/d4d/alertpipe_8h.html" title="asterisk/alertpipe.h" alt="" coords="1647,528,1791,555"/>
<area shape="rect" id="node11" href="../../dd/d42/lock_8h.html" title="Asterisk locking&#45;related definitions: " alt="" coords="841,901,954,928"/>
<area shape="rect" id="node13" href="../../d1/d0f/stringfields_8h.html" title="asterisk/stringfields.h" alt="" coords="2667,677,2824,704"/>
<area shape="rect" id="node17" href="../../dc/d14/abstract__jb_8h.html" title="Common implementation&#45;independent jitterbuffer stuff. " alt="" coords="1246,453,1405,480"/>
<area shape="rect" id="node18" href="../../d4/dfb/poll-compat_8h.html" title="asterisk/poll&#45;compat.h" alt="" coords="1429,453,1593,480"/>
<area shape="rect" id="node19" href="../../d6/d66/include_2asterisk_2frame_8h.html" title="Asterisk internal frame definitions. " alt="" coords="569,528,695,555"/>
<area shape="rect" id="node20" href="../../d9/de7/chanvars_8h.html" title="Channel Variables. " alt="" coords="296,453,443,480"/>
<area shape="rect" id="node21" href="../../d3/de6/include_2asterisk_2config_8h.html" title="Configuration File Parser. " alt="" coords="1289,528,1415,555"/>
<area shape="rect" id="node22" href="../../dc/d07/cdr_8h.html" title="Call Detail Record API. " alt="" coords="1617,453,1724,480"/>
<area shape="rect" id="node23" href="../../d9/db6/datastore_8h.html" title="Asterisk datastore objects. " alt="" coords="619,603,770,629"/>
<area shape="rect" id="node24" href="../../d0/d3c/format__cap_8h.html" title="Format Capabilities API. " alt="" coords="1749,453,1910,480"/>
<area shape="rect" id="node25" href="../../d9/d95/channelstate_8h.html" title="Channel states. " alt="" coords="896,603,1067,629"/>
<area shape="rect" id="node26" href="../../de/dc8/ccss_8h.html" title="Call Completion Supplementary Services API. " alt="" coords="902,453,1018,480"/>
<area shape="rect" id="node28" href="../../db/d3c/framehook_8h.html" title="FrameHook Architecture. " alt="" coords="517,453,675,480"/>
<area shape="rect" id="node29" href="../../dd/d79/stasis_8h.html" title="Stasis Message Bus API. See Stasis Message Bus API for detailed documentation. " alt="" coords="2224,528,2349,555"/>
<area shape="rect" id="node30" href="../../d4/d61/endpoints_8h.html" title="Endpoint abstractions. " alt="" coords="1934,453,2085,480"/>
<area shape="rect" id="node14" href="../../d6/d90/strings_8h.html" title="String manipulation functions. " alt="" coords="2071,677,2201,704"/>
<area shape="rect" id="node12" href="../../d5/d9d/inline__api_8h.html" title="Inlinable API function macro. " alt="" coords="1356,976,1503,1003"/>
<area shape="rect" id="node27" href="../../da/da2/devicestate_8h.html" title="Device state management. " alt="" coords="1000,528,1163,555"/>
<area shape="rect" id="node32" href="../../dc/d7a/bridge__features_8h.html" title="Channel Bridging API. " alt="" coords="1131,304,1319,331"/>
<area shape="rect" id="node33" href="../../de/d41/bridge__channel_8h.html" title="asterisk/bridge_channel.h" alt="" coords="1083,229,1269,256"/>
<area shape="rect" id="node34" href="../../dd/dff/bridge__roles_8h.html" title="Channel Bridging Roles API. " alt="" coords="246,379,413,405"/>
<area shape="rect" id="node35" href="../../d3/d08/dsp_8h.html" title="Convenient Signal Processing routines. " alt="" coords="949,229,1059,256"/>
<area shape="rect" id="node36" href="../../dd/d1d/uuid_8h.html" title="Universally unique identifier support. " alt="" coords="809,229,924,256"/>
<area shape="rect" id="node42" href="../../d7/d00/sched_8h.html" title="Scheduler Routines (derived from cheops) " alt="" coords="891,379,1018,405"/>
</map>
</div>
</div>
<p><a href="../../d7/d9b/bridge__basic_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d9e/structattended__transfer__properties.html">attended_transfer_properties</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Collection of data related to an attended transfer attempt.  <a href="../../dd/d9e/structattended__transfer__properties.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dab/structattended__transfer__state__properties.html">attended_transfer_state_properties</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Properties of an attended transfer state.  <a href="../../da/dab/structattended__transfer__state__properties.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d3b/structbridge__basic__personality.html">bridge_basic_personality</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">structure that organizes different personalities for basic bridges.  <a href="../../dc/d3b/structbridge__basic__personality.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d13/structdynamic__dtmf__hook__data.html">dynamic_dtmf_hook_data</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d66/structdynamic__dtmf__hook__run.html">dynamic_dtmf_hook_run</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/da5/structpersonality__details.html">personality_details</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Details for specific basic bridge personalities.  <a href="../../d6/da5/structpersonality__details.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d7c/structstimulus__list.html">stimulus_list</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:affbfe95d6aa54eb6a5809641f8e62852"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d9b/bridge__basic_8c.html#affbfe95d6aa54eb6a5809641f8e62852">NORMAL_FLAGS</a></td></tr>
<tr class="separator:affbfe95d6aa54eb6a5809641f8e62852"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82729fc63a7402ecb5575db21c593c62"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d9b/bridge__basic_8c.html#a82729fc63a7402ecb5575db21c593c62">TRANSFER_FLAGS</a>&#160;&#160;&#160;<a class="el" href="../../dc/d7a/bridge__features_8h.html#a65c2644d2eadb31bcec0aaeb41cb3444a8f8162f42b84a7eba37bfb551c31743b">AST_BRIDGE_FLAG_SMART</a></td></tr>
<tr class="separator:a82729fc63a7402ecb5575db21c593c62"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:aad3447b0c2c1b069ac9437816db513d8"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8">attended_transfer_state</a> { <br />
&#160;&#160;<a class="el" href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8ac92c2c41291ec0a68db5394709cb08f5">TRANSFER_CALLING_TARGET</a>, 
<a class="el" href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8a8f04ac5b1a23d29e4faa78f8283eaf0e">TRANSFER_HESITANT</a>, 
<a class="el" href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8a50814f10c33a876aa78ed3b96a2b1050">TRANSFER_REBRIDGE</a>, 
<a class="el" href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8ac19143ec75880c93f0c2483599b28343">TRANSFER_RESUME</a>, 
<br />
&#160;&#160;<a class="el" href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8ac7c5f29c9c62b140951b3035b1783ca2">TRANSFER_THREEWAY</a>, 
<a class="el" href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8ad60a6371cbe63dbd06152746f6fcd320">TRANSFER_CONSULTING</a>, 
<a class="el" href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8a327912f4d0734a2ea7b440531f0c5693">TRANSFER_DOUBLECHECKING</a>, 
<a class="el" href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8a46301fa6c06741434f7f8bbd53a5ec26">TRANSFER_COMPLETE</a>, 
<br />
&#160;&#160;<a class="el" href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8ab73883ddf660b1efa01fb5aeeb6a002f">TRANSFER_BLOND</a>, 
<a class="el" href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8afd695d9c2410d09ac50f1e002da07609">TRANSFER_BLOND_NONFINAL</a>, 
<a class="el" href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8afa5ecefd14d3ddf6fb4e8c9279747613">TRANSFER_RECALLING</a>, 
<a class="el" href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8a079027cbe132434fd8fd0848bced7c81">TRANSFER_WAIT_TO_RETRANSFER</a>, 
<br />
&#160;&#160;<a class="el" href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8a61cf446eec4f2188e90d11eec6fd2396">TRANSFER_RETRANSFER</a>, 
<a class="el" href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8a88843d550323b8ce636afd7469f17552">TRANSFER_WAIT_TO_RECALL</a>, 
<a class="el" href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8a8383b06b8e11a417dca5329407478ee8">TRANSFER_FAIL</a>
<br />
 }</td></tr>
<tr class="separator:aad3447b0c2c1b069ac9437816db513d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5daf4668b3fba0aceee2e74622d74858"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d9b/bridge__basic_8c.html#a5daf4668b3fba0aceee2e74622d74858">attended_transfer_state_flags</a> { <br />
&#160;&#160;<a class="el" href="../../d7/d9b/bridge__basic_8c.html#a5daf4668b3fba0aceee2e74622d74858a0d7b5731d9b9cd923680bb5562d0c019">TRANSFER_STATE_FLAG_TIMER_RESET</a> = (1 &lt;&lt; 0), 
<a class="el" href="../../d7/d9b/bridge__basic_8c.html#a5daf4668b3fba0aceee2e74622d74858ad501f6c4422c2b4da7986f4c07ed3e6b">TRANSFER_STATE_FLAG_TIMER_LOOP_DELAY</a> = (1 &lt;&lt; 1), 
<a class="el" href="../../d7/d9b/bridge__basic_8c.html#a5daf4668b3fba0aceee2e74622d74858acd63dc0869afb651b40a65f5dc56c5e0">TRANSFER_STATE_FLAG_ATXFER_NO_ANSWER</a> = (1 &lt;&lt; 2), 
<a class="el" href="../../d7/d9b/bridge__basic_8c.html#a5daf4668b3fba0aceee2e74622d74858a621578eb561adbc4c3564e1b3fb27b24">TRANSFER_STATE_FLAG_TIMED</a>, 
<br />
&#160;&#160;<a class="el" href="../../d7/d9b/bridge__basic_8c.html#a5daf4668b3fba0aceee2e74622d74858a9f933ee8ebf68a1262c85d6350830f87">TRANSFER_STATE_FLAG_TERMINAL</a> = (1 &lt;&lt; 3)
<br />
 }<tr class="memdesc:a5daf4668b3fba0aceee2e74622d74858"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flags that indicate properties of attended transfer states.  <a href="../../d7/d9b/bridge__basic_8c.html#a5daf4668b3fba0aceee2e74622d74858">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:a5daf4668b3fba0aceee2e74622d74858"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d527c82e3033559518a3626b8b03290"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290">attended_transfer_stimulus</a> { <br />
&#160;&#160;<a class="el" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290ae3857d51b5e8970ac1e3714bc1d46fe1">STIMULUS_NONE</a>, 
<a class="el" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a5bea635a52d3e646fe86091457310934">STIMULUS_TRANSFEREE_HANGUP</a>, 
<a class="el" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a800bb00b2e8ab7a8f11092b3bb2fba11">STIMULUS_TRANSFERER_HANGUP</a>, 
<a class="el" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a5b7c4fdcec2b5bea9e9be459dc924492">STIMULUS_TRANSFER_TARGET_HANGUP</a>, 
<br />
&#160;&#160;<a class="el" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a7615240e3b359bd98d9949ff77e102c2">STIMULUS_TRANSFER_TARGET_ANSWER</a>, 
<a class="el" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a41d7bde458129adf0121c70ba361258a">STIMULUS_RECALL_TARGET_HANGUP</a>, 
<a class="el" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a49ac501f06885c9839a8833e0639d38f">STIMULUS_RECALL_TARGET_ANSWER</a>, 
<a class="el" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290ad811a249bfc0c9c585652f461b127180">STIMULUS_TIMEOUT</a>, 
<br />
&#160;&#160;<a class="el" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a72d10e2721ad55addb0b84175f5280d0">STIMULUS_DTMF_ATXFER_ABORT</a>, 
<a class="el" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a9b6689669975b3d4767ca6284d721775">STIMULUS_DTMF_ATXFER_COMPLETE</a>, 
<a class="el" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a6f6c487fc2723093806c52b62c7ae80a">STIMULUS_DTMF_ATXFER_THREEWAY</a>, 
<a class="el" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290ac4c70db40c8740dc43a331ab483f3c1c">STIMULUS_DTMF_ATXFER_SWAP</a>
<br />
 }<tr class="memdesc:a4d527c82e3033559518a3626b8b03290"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stimuli that can cause transfer state changes.  <a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:a4d527c82e3033559518a3626b8b03290"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af112aa999551130fecf72643a55825f1"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d9b/bridge__basic_8c.html#af112aa999551130fecf72643a55825f1">attended_transfer_superstate</a> { <a class="el" href="../../d7/d9b/bridge__basic_8c.html#af112aa999551130fecf72643a55825f1a2c2e0690e7bcd2336e63e8cbba077db5">SUPERSTATE_TRANSFER</a>, 
<a class="el" href="../../d7/d9b/bridge__basic_8c.html#af112aa999551130fecf72643a55825f1a467b5984311242980b0d7722887a6667">SUPERSTATE_RECALL</a>
 }<tr class="memdesc:af112aa999551130fecf72643a55825f1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Attended transfer superstates.  <a href="../../d7/d9b/bridge__basic_8c.html#af112aa999551130fecf72643a55825f1">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:af112aa999551130fecf72643a55825f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a704d0cced1ceae046ad985c904dc4c6c"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d9b/bridge__basic_8c.html#a704d0cced1ceae046ad985c904dc4c6c">bridge_basic_personality_type</a> { <a class="el" href="../../d7/d9b/bridge__basic_8c.html#a704d0cced1ceae046ad985c904dc4c6ca843f6ac2918dbe2aeb6f7dd1155a90e2">BRIDGE_BASIC_PERSONALITY_NORMAL</a>, 
<a class="el" href="../../d7/d9b/bridge__basic_8c.html#a704d0cced1ceae046ad985c904dc4c6cac186ac818f5734c04a1f641b9a5670ce">BRIDGE_BASIC_PERSONALITY_ATXFER</a>, 
<a class="el" href="../../d7/d9b/bridge__basic_8c.html#a704d0cced1ceae046ad985c904dc4c6cafeeedb5cc22a30a65c6899e04ec06d2d">BRIDGE_BASIC_PERSONALITY_END</a>
 }</td></tr>
<tr class="separator:a704d0cced1ceae046ad985c904dc4c6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a5ffac345d4f2d6a42d0ffc875e0ddcf8"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d9b/bridge__basic_8c.html#a5ffac345d4f2d6a42d0ffc875e0ddcf8">add_normal_hooks</a> (struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *bridge, struct <a class="el" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *bridge_channel)</td></tr>
<tr class="separator:a5ffac345d4f2d6a42d0ffc875e0ddcf8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8717a1dc6d72feda12b953ee8436f8b"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d9b/bridge__basic_8c.html#ab8717a1dc6d72feda12b953ee8436f8b">add_transferer_role</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, struct <a class="el" href="../../d2/d6e/structast__bridge__features__attended__transfer.html">ast_bridge_features_attended_transfer</a> *attended_transfer)</td></tr>
<tr class="separator:ab8717a1dc6d72feda12b953ee8436f8b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1410fb71fa67f9ee92f15b18439b7571"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d9b/bridge__basic_8c.html#a1410fb71fa67f9ee92f15b18439b7571">ast_bridge_basic_new</a> (void)</td></tr>
<tr class="memdesc:a1410fb71fa67f9ee92f15b18439b7571"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a new basic class bridge.  <a href="#a1410fb71fa67f9ee92f15b18439b7571">More...</a><br /></td></tr>
<tr class="separator:a1410fb71fa67f9ee92f15b18439b7571"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3532f26d87ff1bdddd1b7d945b6c5802"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d9b/bridge__basic_8c.html#a3532f26d87ff1bdddd1b7d945b6c5802">ast_bridge_basic_set_flags</a> (struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *bridge, unsigned int flags)</td></tr>
<tr class="memdesc:a3532f26d87ff1bdddd1b7d945b6c5802"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set feature flags on a basic bridge.  <a href="#a3532f26d87ff1bdddd1b7d945b6c5802">More...</a><br /></td></tr>
<tr class="separator:a3532f26d87ff1bdddd1b7d945b6c5802"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abbf75b17211128395690d45b99aad6f4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d9b/bridge__basic_8c.html#abbf75b17211128395690d45b99aad6f4">ast_bridge_features_ds_append</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, struct <a class="el" href="../../dc/dac/structast__flags.html">ast_flags</a> *flags)</td></tr>
<tr class="memdesc:abbf75b17211128395690d45b99aad6f4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Append basic bridge DTMF feature flags on the channel.  <a href="#abbf75b17211128395690d45b99aad6f4">More...</a><br /></td></tr>
<tr class="separator:abbf75b17211128395690d45b99aad6f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53690d96fd11f8e502cf5fdc74ee3315"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../dc/dac/structast__flags.html">ast_flags</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d9b/bridge__basic_8c.html#a53690d96fd11f8e502cf5fdc74ee3315">ast_bridge_features_ds_get</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan)</td></tr>
<tr class="memdesc:a53690d96fd11f8e502cf5fdc74ee3315"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get DTMF feature flags from the channel.  <a href="#a53690d96fd11f8e502cf5fdc74ee3315">More...</a><br /></td></tr>
<tr class="separator:a53690d96fd11f8e502cf5fdc74ee3315"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d744033e13c08dabc909e2aa76b8f00"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d9b/bridge__basic_8c.html#a0d744033e13c08dabc909e2aa76b8f00">ast_bridge_features_ds_get_string</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, char *buffer, size_t buf_size)</td></tr>
<tr class="memdesc:a0d744033e13c08dabc909e2aa76b8f00"><td class="mdescLeft">&#160;</td><td class="mdescRight">writes a channel's DTMF features to a buffer string  <a href="#a0d744033e13c08dabc909e2aa76b8f00">More...</a><br /></td></tr>
<tr class="separator:a0d744033e13c08dabc909e2aa76b8f00"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab20a6f49985f34f55c05e2125c9e9d6a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d9b/bridge__basic_8c.html#ab20a6f49985f34f55c05e2125c9e9d6a">ast_bridge_features_ds_set</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, struct <a class="el" href="../../dc/dac/structast__flags.html">ast_flags</a> *flags)</td></tr>
<tr class="memdesc:ab20a6f49985f34f55c05e2125c9e9d6a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set basic bridge DTMF feature flags datastore on the channel.  <a href="#ab20a6f49985f34f55c05e2125c9e9d6a">More...</a><br /></td></tr>
<tr class="separator:ab20a6f49985f34f55c05e2125c9e9d6a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa080560f0e7820e1ace263e18ac7f9e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d9b/bridge__basic_8c.html#aaa080560f0e7820e1ace263e18ac7f9e">ast_bridge_features_ds_set_string</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, const char *features)</td></tr>
<tr class="memdesc:aaa080560f0e7820e1ace263e18ac7f9e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the features a channel will use upon being bridged.  <a href="#aaa080560f0e7820e1ace263e18ac7f9e">More...</a><br /></td></tr>
<tr class="separator:aaa080560f0e7820e1ace263e18ac7f9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f1a21eacbeaae5e19048c291956799b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d9b/bridge__basic_8c.html#a3f1a21eacbeaae5e19048c291956799b">ast_bridging_init_basic</a> (void)</td></tr>
<tr class="separator:a3f1a21eacbeaae5e19048c291956799b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af634e5717dd1ebf26f9cad76c43a9a96"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d9b/bridge__basic_8c.html#af634e5717dd1ebf26f9cad76c43a9a96">attach_framehook</a> (struct <a class="el" href="../../dd/d9e/structattended__transfer__properties.html">attended_transfer_properties</a> *props, struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *<a class="el" href="../../d4/d84/structchannel.html">channel</a>)</td></tr>
<tr class="separator:af634e5717dd1ebf26f9cad76c43a9a96"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb0e581583a26c610d967fa140aef634"><td class="memItemLeft" align="right" valign="top">static void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d9b/bridge__basic_8c.html#aeb0e581583a26c610d967fa140aef634">attended_transfer_monitor_thread</a> (void *data)</td></tr>
<tr class="memdesc:aeb0e581583a26c610d967fa140aef634"><td class="mdescLeft">&#160;</td><td class="mdescRight">The main loop for the attended transfer monitor thread.  <a href="#aeb0e581583a26c610d967fa140aef634">More...</a><br /></td></tr>
<tr class="separator:aeb0e581583a26c610d967fa140aef634"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b28b44da7b62fb84c14f4b82d07e81b"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../dd/d9e/structattended__transfer__properties.html">attended_transfer_properties</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d9b/bridge__basic_8c.html#a5b28b44da7b62fb84c14f4b82d07e81b">attended_transfer_properties_alloc</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *transferer, const char *<a class="el" href="../../da/dde/chan__phone_8c.html#a579ca8125bbf48d9ce8691d522f99933">context</a>)</td></tr>
<tr class="memdesc:a5b28b44da7b62fb84c14f4b82d07e81b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocate and initialize attended transfer properties.  <a href="#a5b28b44da7b62fb84c14f4b82d07e81b">More...</a><br /></td></tr>
<tr class="separator:a5b28b44da7b62fb84c14f4b82d07e81b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2057f15744454f617ca10140783dcd5a"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d9b/bridge__basic_8c.html#a2057f15744454f617ca10140783dcd5a">attended_transfer_properties_destructor</a> (void *obj)</td></tr>
<tr class="separator:a2057f15744454f617ca10140783dcd5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0eb88142da03bf04ebf78147c617d2c6"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d9b/bridge__basic_8c.html#a0eb88142da03bf04ebf78147c617d2c6">attended_transfer_properties_shutdown</a> (struct <a class="el" href="../../dd/d9e/structattended__transfer__properties.html">attended_transfer_properties</a> *props)</td></tr>
<tr class="memdesc:a0eb88142da03bf04ebf78147c617d2c6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initiate shutdown of attended transfer properties.  <a href="#a0eb88142da03bf04ebf78147c617d2c6">More...</a><br /></td></tr>
<tr class="separator:a0eb88142da03bf04ebf78147c617d2c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29852304212ba3e0f81e86da89dc32ee"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d9b/bridge__basic_8c.html#a29852304212ba3e0f81e86da89dc32ee">atxfer_abort</a> (struct <a class="el" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *bridge_channel, void *hook_pvt)</td></tr>
<tr class="memdesc:a29852304212ba3e0f81e86da89dc32ee"><td class="mdescLeft">&#160;</td><td class="mdescRight">DTMF hook when transferer presses abort sequence.  <a href="#a29852304212ba3e0f81e86da89dc32ee">More...</a><br /></td></tr>
<tr class="separator:a29852304212ba3e0f81e86da89dc32ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1df8ed0f1a107e2fc9e816c3bdce6c77"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d9b/bridge__basic_8c.html#a1df8ed0f1a107e2fc9e816c3bdce6c77">atxfer_complete</a> (struct <a class="el" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *bridge_channel, void *hook_pvt)</td></tr>
<tr class="memdesc:a1df8ed0f1a107e2fc9e816c3bdce6c77"><td class="mdescLeft">&#160;</td><td class="mdescRight">DTMF hook when transferer presses complete sequence.  <a href="#a1df8ed0f1a107e2fc9e816c3bdce6c77">More...</a><br /></td></tr>
<tr class="separator:a1df8ed0f1a107e2fc9e816c3bdce6c77"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35d4f19b94994f238ebd6a7183828c2e"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d9b/bridge__basic_8c.html#a35d4f19b94994f238ebd6a7183828c2e">atxfer_swap</a> (struct <a class="el" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *bridge_channel, void *hook_pvt)</td></tr>
<tr class="memdesc:a35d4f19b94994f238ebd6a7183828c2e"><td class="mdescLeft">&#160;</td><td class="mdescRight">DTMF hook when transferer presses swap sequence.  <a href="#a35d4f19b94994f238ebd6a7183828c2e">More...</a><br /></td></tr>
<tr class="separator:a35d4f19b94994f238ebd6a7183828c2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af85bc300c029f95cb2a1fc9157038a70"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d9b/bridge__basic_8c.html#af85bc300c029f95cb2a1fc9157038a70">atxfer_threeway</a> (struct <a class="el" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *bridge_channel, void *hook_pvt)</td></tr>
<tr class="memdesc:af85bc300c029f95cb2a1fc9157038a70"><td class="mdescLeft">&#160;</td><td class="mdescRight">DTMF hook when transferer presses threeway sequence.  <a href="#af85bc300c029f95cb2a1fc9157038a70">More...</a><br /></td></tr>
<tr class="separator:af85bc300c029f95cb2a1fc9157038a70"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3856b7d73a2892eb8cf3d45cbd6121ba"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d9b/bridge__basic_8c.html#a3856b7d73a2892eb8cf3d45cbd6121ba">atxfer_transferer_hangup</a> (struct <a class="el" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *bridge_channel, void *hook_pvt)</td></tr>
<tr class="memdesc:a3856b7d73a2892eb8cf3d45cbd6121ba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Hangup hook for transferer channel.  <a href="#a3856b7d73a2892eb8cf3d45cbd6121ba">More...</a><br /></td></tr>
<tr class="separator:a3856b7d73a2892eb8cf3d45cbd6121ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a348708f1b551fd7b043579f0209b4f5f"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d9b/bridge__basic_8c.html#a348708f1b551fd7b043579f0209b4f5f">basic_hangup_hook</a> (struct <a class="el" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *bridge_channel, void *hook_pvt)</td></tr>
<tr class="separator:a348708f1b551fd7b043579f0209b4f5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02008befa08470037e2fa09ef9aa900e"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d9b/bridge__basic_8c.html#a02008befa08470037e2fa09ef9aa900e">blind_transfer_cb</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *new_channel, struct <a class="el" href="../../da/d84/structtransfer__channel__data.html">transfer_channel_data</a> *user_data_wrapper, enum <a class="el" href="../../d4/d56/bridge_8h.html#a865f7ef0f91885406ab746b23eb598cd">ast_transfer_type</a> transfer_type)</td></tr>
<tr class="separator:a02008befa08470037e2fa09ef9aa900e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4779d77a56bd96318020129e9c1e7d9"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d9b/bridge__basic_8c.html#aa4779d77a56bd96318020129e9c1e7d9">blond_enter</a> (struct <a class="el" href="../../dd/d9e/structattended__transfer__properties.html">attended_transfer_properties</a> *props)</td></tr>
<tr class="separator:aa4779d77a56bd96318020129e9c1e7d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acdd40757ecd68a6a2fdd87701bf3df4c"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d9b/bridge__basic_8c.html#acdd40757ecd68a6a2fdd87701bf3df4c">blond_nonfinal_enter</a> (struct <a class="el" href="../../dd/d9e/structattended__transfer__properties.html">attended_transfer_properties</a> *props)</td></tr>
<tr class="separator:acdd40757ecd68a6a2fdd87701bf3df4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ca89327afce8a429d65e36280bd8f2d"><td class="memItemLeft" align="right" valign="top">static enum <a class="el" href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8">attended_transfer_state</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d9b/bridge__basic_8c.html#a9ca89327afce8a429d65e36280bd8f2d">blond_nonfinal_exit</a> (struct <a class="el" href="../../dd/d9e/structattended__transfer__properties.html">attended_transfer_properties</a> *props, enum <a class="el" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290">attended_transfer_stimulus</a> stimulus)</td></tr>
<tr class="separator:a9ca89327afce8a429d65e36280bd8f2d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3467eb2c1bece0b38cd4e45ea024bc5d"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d9b/bridge__basic_8c.html#a3467eb2c1bece0b38cd4e45ea024bc5d">bridge_basic_change_personality</a> (struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *bridge, enum <a class="el" href="../../d7/d9b/bridge__basic_8c.html#a704d0cced1ceae046ad985c904dc4c6c">bridge_basic_personality_type</a> <a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>, void *user_data)</td></tr>
<tr class="memdesc:a3467eb2c1bece0b38cd4e45ea024bc5d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Change basic bridge personality.  <a href="#a3467eb2c1bece0b38cd4e45ea024bc5d">More...</a><br /></td></tr>
<tr class="separator:a3467eb2c1bece0b38cd4e45ea024bc5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f20e19823caef51c47b6683dad75416"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d9b/bridge__basic_8c.html#a2f20e19823caef51c47b6683dad75416">bridge_basic_destroy</a> (struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *self)</td></tr>
<tr class="separator:a2f20e19823caef51c47b6683dad75416"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4e7c9178ab49b996eec4303b41f9b44"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d9b/bridge__basic_8c.html#af4e7c9178ab49b996eec4303b41f9b44">bridge_basic_personality_alloc</a> (struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *bridge)</td></tr>
<tr class="separator:af4e7c9178ab49b996eec4303b41f9b44"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a066fa40b54bae641170fbbe724bfda"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d9b/bridge__basic_8c.html#a2a066fa40b54bae641170fbbe724bfda">bridge_basic_pull</a> (struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *self, struct <a class="el" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *bridge_channel)</td></tr>
<tr class="separator:a2a066fa40b54bae641170fbbe724bfda"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a588795877fd9266c5df1db184e69f211"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d9b/bridge__basic_8c.html#a588795877fd9266c5df1db184e69f211">bridge_basic_push</a> (struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *self, struct <a class="el" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *bridge_channel, struct <a class="el" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *swap)</td></tr>
<tr class="separator:a588795877fd9266c5df1db184e69f211"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83aea8772e20812021b87eb820da75e5"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d9b/bridge__basic_8c.html#a83aea8772e20812021b87eb820da75e5">bridge_basic_setup_features</a> (struct <a class="el" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *bridge_channel)</td></tr>
<tr class="separator:a83aea8772e20812021b87eb820da75e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9bb0bf0db1fc99d0f4e835a88134aaf"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d9b/bridge__basic_8c.html#ad9bb0bf0db1fc99d0f4e835a88134aaf">bridge_features_ds_set_full</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, struct <a class="el" href="../../dc/dac/structast__flags.html">ast_flags</a> *flags, int <a class="el" href="../../d9/d1e/func__strings_8c.html#a7f763283c27da5574f6f8d1b2a2b9288">replace</a>)</td></tr>
<tr class="separator:ad9bb0bf0db1fc99d0f4e835a88134aaf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44d042922859dabab3d8b87333525240"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d9b/bridge__basic_8c.html#a44d042922859dabab3d8b87333525240">bridge_hold</a> (struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *bridge)</td></tr>
<tr class="memdesc:a44d042922859dabab3d8b87333525240"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper method to send a hold frame to all channels in a bridge.  <a href="#a44d042922859dabab3d8b87333525240">More...</a><br /></td></tr>
<tr class="separator:a44d042922859dabab3d8b87333525240"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af86a26e82b3a594e937e8d4739822492"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d9b/bridge__basic_8c.html#af86a26e82b3a594e937e8d4739822492">bridge_merge</a> (struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *dest, struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *src, struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> **kick_channels, unsigned int num_channels)</td></tr>
<tr class="memdesc:af86a26e82b3a594e937e8d4739822492"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wrapper for <a class="el" href="../../d0/d95/bridge_8c.html#a33ad1b704c3dedf9fbf0bf8c2429561a">bridge_do_merge</a>.  <a href="#af86a26e82b3a594e937e8d4739822492">More...</a><br /></td></tr>
<tr class="separator:af86a26e82b3a594e937e8d4739822492"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3fc1a10ab2ba929490e84c1960ada943"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d9b/bridge__basic_8c.html#a3fc1a10ab2ba929490e84c1960ada943">bridge_move</a> (struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *dest, struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *src, struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *<a class="el" href="../../d4/d84/structchannel.html">channel</a>, struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *swap)</td></tr>
<tr class="memdesc:a3fc1a10ab2ba929490e84c1960ada943"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wrapper for <a class="el" href="../../d0/d95/bridge_8c.html#ad663022ff4700bb2d53afeea24f402d4">bridge_do_move</a>.  <a href="#a3fc1a10ab2ba929490e84c1960ada943">More...</a><br /></td></tr>
<tr class="separator:a3fc1a10ab2ba929490e84c1960ada943"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d74b0aeb9476b4daf641e9ce5bf4622"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d9b/bridge__basic_8c.html#a2d74b0aeb9476b4daf641e9ce5bf4622">bridge_personality_atxfer_pull</a> (struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *self, struct <a class="el" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *bridge_channel)</td></tr>
<tr class="separator:a2d74b0aeb9476b4daf641e9ce5bf4622"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae04d88d4d063680e09e21cc2384e9a4d"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d9b/bridge__basic_8c.html#ae04d88d4d063680e09e21cc2384e9a4d">bridge_personality_atxfer_push</a> (struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *self, struct <a class="el" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *bridge_channel, struct <a class="el" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *swap)</td></tr>
<tr class="separator:ae04d88d4d063680e09e21cc2384e9a4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a494827c3a17703f41c365f0dbdaf9603"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d9b/bridge__basic_8c.html#a494827c3a17703f41c365f0dbdaf9603">bridge_personality_normal_push</a> (struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *self, struct <a class="el" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *bridge_channel, struct <a class="el" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *swap)</td></tr>
<tr class="separator:a494827c3a17703f41c365f0dbdaf9603"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e9b377fb281c3b2234be1e0133d7dcf"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d9b/bridge__basic_8c.html#a3e9b377fb281c3b2234be1e0133d7dcf">bridge_ringing</a> (struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *bridge)</td></tr>
<tr class="memdesc:a3e9b377fb281c3b2234be1e0133d7dcf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper method to send a ringing indication to all channels in a bridge.  <a href="#a3e9b377fb281c3b2234be1e0133d7dcf">More...</a><br /></td></tr>
<tr class="separator:a3e9b377fb281c3b2234be1e0133d7dcf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f816040356560389bfcdf5bdc218cb6"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d9b/bridge__basic_8c.html#a7f816040356560389bfcdf5bdc218cb6">bridge_unhold</a> (struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *bridge)</td></tr>
<tr class="memdesc:a7f816040356560389bfcdf5bdc218cb6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper method to send an unhold frame to all channels in a bridge.  <a href="#a7f816040356560389bfcdf5bdc218cb6">More...</a><br /></td></tr>
<tr class="separator:a7f816040356560389bfcdf5bdc218cb6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52cc3b0c4e878ac05fd5fe7e79b14590"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d9b/bridge__basic_8c.html#a52cc3b0c4e878ac05fd5fe7e79b14590">build_dtmf_features</a> (struct <a class="el" href="../../dc/dac/structast__flags.html">ast_flags</a> *flags, const char *features)</td></tr>
<tr class="separator:a52cc3b0c4e878ac05fd5fe7e79b14590"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a102203d65c65e7e429242d99e14eca7a"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d9b/bridge__basic_8c.html#a102203d65c65e7e429242d99e14eca7a">builtin_feature_get_exten</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, const char *feature_name, char *<a class="el" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, size_t <a class="el" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>)</td></tr>
<tr class="separator:a102203d65c65e7e429242d99e14eca7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6a7043b07b08e3123752a750f3299d0"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d9b/bridge__basic_8c.html#ac6a7043b07b08e3123752a750f3299d0">builtin_features_helper</a> (struct <a class="el" href="../../db/dba/structast__bridge__features.html">ast_bridge_features</a> *features, struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, struct <a class="el" href="../../dc/dac/structast__flags.html">ast_flags</a> *flags, unsigned int feature_flag, const char *feature_name, enum <a class="el" href="../../dc/d7a/bridge__features_8h.html#a59c3a69424e1d3c627ece7aeb5f0bdb3">ast_bridge_builtin_feature</a> feature_bridge)</td></tr>
<tr class="separator:ac6a7043b07b08e3123752a750f3299d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c19537457936291c2ee733e62ae45cf"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d9b/bridge__basic_8c.html#a8c19537457936291c2ee733e62ae45cf">calling_target_enter</a> (struct <a class="el" href="../../dd/d9e/structattended__transfer__properties.html">attended_transfer_properties</a> *props)</td></tr>
<tr class="separator:a8c19537457936291c2ee733e62ae45cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd2b2483dadd97efbd80417c444024e0"><td class="memItemLeft" align="right" valign="top">static enum <a class="el" href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8">attended_transfer_state</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d9b/bridge__basic_8c.html#abd2b2483dadd97efbd80417c444024e0">calling_target_exit</a> (struct <a class="el" href="../../dd/d9e/structattended__transfer__properties.html">attended_transfer_properties</a> *props, enum <a class="el" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290">attended_transfer_stimulus</a> stimulus)</td></tr>
<tr class="separator:abd2b2483dadd97efbd80417c444024e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe0121f7cc2091d454dd3f48a2af4588"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d9b/bridge__basic_8c.html#afe0121f7cc2091d454dd3f48a2af4588">clear_stimulus_queue</a> (struct <a class="el" href="../../dd/d9e/structattended__transfer__properties.html">attended_transfer_properties</a> *props)</td></tr>
<tr class="memdesc:afe0121f7cc2091d454dd3f48a2af4588"><td class="mdescLeft">&#160;</td><td class="mdescRight">Free backlog of stimuli in the queue.  <a href="#afe0121f7cc2091d454dd3f48a2af4588">More...</a><br /></td></tr>
<tr class="separator:afe0121f7cc2091d454dd3f48a2af4588"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad283c0c18011fa7f3d8d8a02f83a1183"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d9b/bridge__basic_8c.html#ad283c0c18011fa7f3d8d8a02f83a1183">common_recall_channel_setup</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *recall, struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *transferer)</td></tr>
<tr class="separator:ad283c0c18011fa7f3d8d8a02f83a1183"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98d35eb51a8c49d99c6412657a2c44d6"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d9b/bridge__basic_8c.html#a98d35eb51a8c49d99c6412657a2c44d6">complete_enter</a> (struct <a class="el" href="../../dd/d9e/structattended__transfer__properties.html">attended_transfer_properties</a> *props)</td></tr>
<tr class="separator:a98d35eb51a8c49d99c6412657a2c44d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0eb4ac26aba0d6ebd07a4bf0b0a6933"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d9b/bridge__basic_8c.html#ad0eb4ac26aba0d6ebd07a4bf0b0a6933">consulting_enter</a> (struct <a class="el" href="../../dd/d9e/structattended__transfer__properties.html">attended_transfer_properties</a> *props)</td></tr>
<tr class="separator:ad0eb4ac26aba0d6ebd07a4bf0b0a6933"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae24d0ee51b00ed173ecc77b981413ed3"><td class="memItemLeft" align="right" valign="top">static enum <a class="el" href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8">attended_transfer_state</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d9b/bridge__basic_8c.html#ae24d0ee51b00ed173ecc77b981413ed3">consulting_exit</a> (struct <a class="el" href="../../dd/d9e/structattended__transfer__properties.html">attended_transfer_properties</a> *props, enum <a class="el" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290">attended_transfer_stimulus</a> stimulus)</td></tr>
<tr class="separator:ae24d0ee51b00ed173ecc77b981413ed3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ae683e5f1bc86ab4c40a3aac44f78f6"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d9b/bridge__basic_8c.html#a6ae683e5f1bc86ab4c40a3aac44f78f6">copy_caller_data</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *dest, struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *caller)</td></tr>
<tr class="separator:a6ae683e5f1bc86ab4c40a3aac44f78f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0857f2fc207f8fb169f32f6a269b1b29"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d9b/bridge__basic_8c.html#a0857f2fc207f8fb169f32f6a269b1b29">dial_transfer</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *caller, const char *destination)</td></tr>
<tr class="memdesc:a0857f2fc207f8fb169f32f6a269b1b29"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper function that creates an outgoing channel and returns it immediately.  <a href="#a0857f2fc207f8fb169f32f6a269b1b29">More...</a><br /></td></tr>
<tr class="separator:a0857f2fc207f8fb169f32f6a269b1b29"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9c7fd8624fa3a1b3a552d36fa1cae89"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d9b/bridge__basic_8c.html#ae9c7fd8624fa3a1b3a552d36fa1cae89">double_checking_enter</a> (struct <a class="el" href="../../dd/d9e/structattended__transfer__properties.html">attended_transfer_properties</a> *props)</td></tr>
<tr class="separator:ae9c7fd8624fa3a1b3a552d36fa1cae89"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d263d6110bb221713890c4fc3b55c22"><td class="memItemLeft" align="right" valign="top">static enum <a class="el" href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8">attended_transfer_state</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d9b/bridge__basic_8c.html#a1d263d6110bb221713890c4fc3b55c22">double_checking_exit</a> (struct <a class="el" href="../../dd/d9e/structattended__transfer__properties.html">attended_transfer_properties</a> *props, enum <a class="el" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290">attended_transfer_stimulus</a> stimulus)</td></tr>
<tr class="separator:a1d263d6110bb221713890c4fc3b55c22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f18179107893291d8c5dc3647b29e44"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d9b/bridge__basic_8c.html#a9f18179107893291d8c5dc3647b29e44">dtmf_features_flags_to_string</a> (struct <a class="el" href="../../dc/dac/structast__flags.html">ast_flags</a> *feature_flags, char *buffer, size_t buffer_size)</td></tr>
<tr class="separator:a9f18179107893291d8c5dc3647b29e44"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6258fe3537ca7a00532e1f790f3330b"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d9b/bridge__basic_8c.html#af6258fe3537ca7a00532e1f790f3330b">dynamic_dtmf_hook_add</a> (struct <a class="el" href="../../db/dba/structast__bridge__features.html">ast_bridge_features</a> *features, unsigned int flags, const char *dtmf, const char *feature_name, const char *<a class="el" href="../../d9/da0/pbx__private_8h.html#a6d3c140ecf1f736c6750d5a17e5bf958">app_name</a>, const char *app_args, const char *moh_class)</td></tr>
<tr class="separator:af6258fe3537ca7a00532e1f790f3330b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00958961f573644845f275eff5ad12bf"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d9b/bridge__basic_8c.html#a00958961f573644845f275eff5ad12bf">dynamic_dtmf_hook_callback</a> (struct <a class="el" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *bridge_channel, const void *payload, size_t payload_size)</td></tr>
<tr class="separator:a00958961f573644845f275eff5ad12bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae750ee515d3690abdd1462fca0b52a9e"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d9b/bridge__basic_8c.html#ae750ee515d3690abdd1462fca0b52a9e">dynamic_dtmf_hook_trip</a> (struct <a class="el" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *bridge_channel, void *hook_pvt)</td></tr>
<tr class="separator:ae750ee515d3690abdd1462fca0b52a9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a512d0133f9317052f9fd33d58225002e"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d9b/bridge__basic_8c.html#a512d0133f9317052f9fd33d58225002e">fail_enter</a> (struct <a class="el" href="../../dd/d9e/structattended__transfer__properties.html">attended_transfer_properties</a> *props)</td></tr>
<tr class="separator:a512d0133f9317052f9fd33d58225002e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afafcaa3269e433aa5826316f13071584"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d9b/bridge__basic_8c.html#afafcaa3269e433aa5826316f13071584">feature_attended_transfer</a> (struct <a class="el" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *bridge_channel, void *hook_pvt)</td></tr>
<tr class="memdesc:afafcaa3269e433aa5826316f13071584"><td class="mdescLeft">&#160;</td><td class="mdescRight">Internal built in feature for attended transfers.  <a href="#afafcaa3269e433aa5826316f13071584">More...</a><br /></td></tr>
<tr class="separator:afafcaa3269e433aa5826316f13071584"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a256cdc56b47b88cc511b50243dc1f6ed"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d9b/bridge__basic_8c.html#a256cdc56b47b88cc511b50243dc1f6ed">feature_blind_transfer</a> (struct <a class="el" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *bridge_channel, void *hook_pvt)</td></tr>
<tr class="memdesc:a256cdc56b47b88cc511b50243dc1f6ed"><td class="mdescLeft">&#160;</td><td class="mdescRight">Internal built in feature for blind transfers.  <a href="#a256cdc56b47b88cc511b50243dc1f6ed">More...</a><br /></td></tr>
<tr class="separator:a256cdc56b47b88cc511b50243dc1f6ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2255cf81c2ada271d9553d047d92520"><td class="memItemLeft" align="right" valign="top">static const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d9b/bridge__basic_8c.html#af2255cf81c2ada271d9553d047d92520">get_transfer_context</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *transferer, const char *<a class="el" href="../../da/dde/chan__phone_8c.html#a579ca8125bbf48d9ce8691d522f99933">context</a>)</td></tr>
<tr class="separator:af2255cf81c2ada271d9553d047d92520"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeadd7c4bd948297093b832e8f9d0f48c"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d9b/bridge__basic_8c.html#aeadd7c4bd948297093b832e8f9d0f48c">get_transfer_parties</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *transferer, struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *transferee_bridge, struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *target_bridge, struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> **transferee, struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> **transfer_target)</td></tr>
<tr class="memdesc:aeadd7c4bd948297093b832e8f9d0f48c"><td class="mdescLeft">&#160;</td><td class="mdescRight">determine transferee and transfer target for an attended transfer  <a href="#aeadd7c4bd948297093b832e8f9d0f48c">More...</a><br /></td></tr>
<tr class="separator:aeadd7c4bd948297093b832e8f9d0f48c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c4d593d369cedfbbeb0ee073adf6bf8"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d9b/bridge__basic_8c.html#a2c4d593d369cedfbbeb0ee073adf6bf8">get_transfer_parties_transferer_bridge</a> (struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *transferer_bridge, struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *other_bridge, struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *transferer, struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> **transferer_peer, struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> **other_party)</td></tr>
<tr class="memdesc:a2c4d593d369cedfbbeb0ee073adf6bf8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the transferee and transfer target when the transferer is in a bridge with one of the desired parties.  <a href="#a2c4d593d369cedfbbeb0ee073adf6bf8">More...</a><br /></td></tr>
<tr class="separator:a2c4d593d369cedfbbeb0ee073adf6bf8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75f2a7a0f4ac4a74c624de034fe7cb75"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d9b/bridge__basic_8c.html#a75f2a7a0f4ac4a74c624de034fe7cb75">get_transfer_party_non_transferer_bridge</a> (struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *bridge, struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> **party)</td></tr>
<tr class="memdesc:a75f2a7a0f4ac4a74c624de034fe7cb75"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a desired transfer party for a bridge the transferer is not in.  <a href="#a75f2a7a0f4ac4a74c624de034fe7cb75">More...</a><br /></td></tr>
<tr class="separator:a75f2a7a0f4ac4a74c624de034fe7cb75"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aebcf07ece2b35dc2aa2097cb3ac6cc3e"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d9b/bridge__basic_8c.html#aebcf07ece2b35dc2aa2097cb3ac6cc3e">grab_transfer</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, char *<a class="el" href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>, size_t exten_len, const char *<a class="el" href="../../da/dde/chan__phone_8c.html#a579ca8125bbf48d9ce8691d522f99933">context</a>)</td></tr>
<tr class="memdesc:aebcf07ece2b35dc2aa2097cb3ac6cc3e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper function that presents dialtone and grabs extension.  <a href="#aebcf07ece2b35dc2aa2097cb3ac6cc3e">More...</a><br /></td></tr>
<tr class="separator:aebcf07ece2b35dc2aa2097cb3ac6cc3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67bb49ac09a9704bc93110868ba61d33"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d9b/bridge__basic_8c.html#a67bb49ac09a9704bc93110868ba61d33">hesitant_enter</a> (struct <a class="el" href="../../dd/d9e/structattended__transfer__properties.html">attended_transfer_properties</a> *props)</td></tr>
<tr class="separator:a67bb49ac09a9704bc93110868ba61d33"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8791262b974c24f12152b4552d2a9509"><td class="memItemLeft" align="right" valign="top">static enum <a class="el" href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8">attended_transfer_state</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d9b/bridge__basic_8c.html#a8791262b974c24f12152b4552d2a9509">hesitant_exit</a> (struct <a class="el" href="../../dd/d9e/structattended__transfer__properties.html">attended_transfer_properties</a> *props, enum <a class="el" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290">attended_transfer_stimulus</a> stimulus)</td></tr>
<tr class="separator:a8791262b974c24f12152b4552d2a9509"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a865b164f5f26f2bace1df76cf9cdf82e"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d9b/bridge__basic_8c.html#a865b164f5f26f2bace1df76cf9cdf82e">hold</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan)</td></tr>
<tr class="memdesc:a865b164f5f26f2bace1df76cf9cdf82e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper method to place a channel in a bridge on hold.  <a href="#a865b164f5f26f2bace1df76cf9cdf82e">More...</a><br /></td></tr>
<tr class="separator:a865b164f5f26f2bace1df76cf9cdf82e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7811b1e91421e6f1cf63c0d0e2f72373"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d9b/bridge__basic_8c.html#a7811b1e91421e6f1cf63c0d0e2f72373">init_details</a> (struct <a class="el" href="../../d6/da5/structpersonality__details.html">personality_details</a> *details, enum <a class="el" href="../../d7/d9b/bridge__basic_8c.html#a704d0cced1ceae046ad985c904dc4c6c">bridge_basic_personality_type</a> <a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>)</td></tr>
<tr class="separator:a7811b1e91421e6f1cf63c0d0e2f72373"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2ebcdbbd6be125431d4bf0da5bf1c8a"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d9b/bridge__basic_8c.html#ac2ebcdbbd6be125431d4bf0da5bf1c8a">on_personality_change_normal</a> (struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *bridge)</td></tr>
<tr class="separator:ac2ebcdbbd6be125431d4bf0da5bf1c8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2c618b15398fd5682eff76cec7c3a8f"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d9b/bridge__basic_8c.html#af2c618b15398fd5682eff76cec7c3a8f">personality_destructor</a> (void *obj)</td></tr>
<tr class="separator:af2c618b15398fd5682eff76cec7c3a8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a397a54e2f92522a19b0cd7775739e210"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d9b/bridge__basic_8c.html#a397a54e2f92522a19b0cd7775739e210">play_failsound</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan)</td></tr>
<tr class="memdesc:a397a54e2f92522a19b0cd7775739e210"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper method to play a fail sound on a channel in a bridge.  <a href="#a397a54e2f92522a19b0cd7775739e210">More...</a><br /></td></tr>
<tr class="separator:a397a54e2f92522a19b0cd7775739e210"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8bd14a986527f92e849a79a8af550ed"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d9b/bridge__basic_8c.html#ae8bd14a986527f92e849a79a8af550ed">play_sound</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, const char *sound)</td></tr>
<tr class="memdesc:ae8bd14a986527f92e849a79a8af550ed"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper method to play a sound on a channel in a bridge.  <a href="#ae8bd14a986527f92e849a79a8af550ed">More...</a><br /></td></tr>
<tr class="separator:ae8bd14a986527f92e849a79a8af550ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f74bf7c99819ae48e4f588bc6e6bc15"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d9b/bridge__basic_8c.html#a7f74bf7c99819ae48e4f588bc6e6bc15">publish_transfer_fail</a> (struct <a class="el" href="../../dd/d9e/structattended__transfer__properties.html">attended_transfer_properties</a> *props)</td></tr>
<tr class="memdesc:a7f74bf7c99819ae48e4f588bc6e6bc15"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a stasis publication for a failed attended transfer.  <a href="#a7f74bf7c99819ae48e4f588bc6e6bc15">More...</a><br /></td></tr>
<tr class="separator:a7f74bf7c99819ae48e4f588bc6e6bc15"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6fb45b453a78c3c58a3ff3a880339cb"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d9b/bridge__basic_8c.html#af6fb45b453a78c3c58a3ff3a880339cb">publish_transfer_success</a> (struct <a class="el" href="../../dd/d9e/structattended__transfer__properties.html">attended_transfer_properties</a> *props, struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *transferee_channel, struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *target_channel)</td></tr>
<tr class="memdesc:af6fb45b453a78c3c58a3ff3a880339cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a stasis publication for a successful attended transfer.  <a href="#af6fb45b453a78c3c58a3ff3a880339cb">More...</a><br /></td></tr>
<tr class="separator:af6fb45b453a78c3c58a3ff3a880339cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8cc33fcb814da6a0dd05f9821f784b53"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d9b/bridge__basic_8c.html#a8cc33fcb814da6a0dd05f9821f784b53">publish_transfer_threeway</a> (struct <a class="el" href="../../dd/d9e/structattended__transfer__properties.html">attended_transfer_properties</a> *props, struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *transferee_channel, struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *target_channel)</td></tr>
<tr class="memdesc:a8cc33fcb814da6a0dd05f9821f784b53"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a stasis publication for an attended transfer that ends in a threeway call.  <a href="#a8cc33fcb814da6a0dd05f9821f784b53">More...</a><br /></td></tr>
<tr class="separator:a8cc33fcb814da6a0dd05f9821f784b53"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f625f7d10d839e4b781b516c43bd158"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d9b/bridge__basic_8c.html#a3f625f7d10d839e4b781b516c43bd158">rebridge_enter</a> (struct <a class="el" href="../../dd/d9e/structattended__transfer__properties.html">attended_transfer_properties</a> *props)</td></tr>
<tr class="separator:a3f625f7d10d839e4b781b516c43bd158"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d5df3b1c3b311f221d8686ff531a438"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d9b/bridge__basic_8c.html#a6d5df3b1c3b311f221d8686ff531a438">recall_callback</a> (struct <a class="el" href="../../db/db7/structast__dial.html">ast_dial</a> *dial)</td></tr>
<tr class="memdesc:a6d5df3b1c3b311f221d8686ff531a438"><td class="mdescLeft">&#160;</td><td class="mdescRight">Dial callback when attempting to recall the original transferer channel.  <a href="#a6d5df3b1c3b311f221d8686ff531a438">More...</a><br /></td></tr>
<tr class="separator:a6d5df3b1c3b311f221d8686ff531a438"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a690fb93599516427baea9884edea6bee"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d9b/bridge__basic_8c.html#a690fb93599516427baea9884edea6bee">recall_pull</a> (struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *self, struct <a class="el" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *bridge_channel, struct <a class="el" href="../../dd/d9e/structattended__transfer__properties.html">attended_transfer_properties</a> *props)</td></tr>
<tr class="separator:a690fb93599516427baea9884edea6bee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3163731b906217b91fd99c881848f8d5"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d9b/bridge__basic_8c.html#a3163731b906217b91fd99c881848f8d5">recalling_enter</a> (struct <a class="el" href="../../dd/d9e/structattended__transfer__properties.html">attended_transfer_properties</a> *props)</td></tr>
<tr class="separator:a3163731b906217b91fd99c881848f8d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38552c0e5b4c8df18af79046422be6d7"><td class="memItemLeft" align="right" valign="top">static enum <a class="el" href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8">attended_transfer_state</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d9b/bridge__basic_8c.html#a38552c0e5b4c8df18af79046422be6d7">recalling_exit</a> (struct <a class="el" href="../../dd/d9e/structattended__transfer__properties.html">attended_transfer_properties</a> *props, enum <a class="el" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290">attended_transfer_stimulus</a> stimulus)</td></tr>
<tr class="separator:a38552c0e5b4c8df18af79046422be6d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf0cc768006b32570ca2921f83e42410"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d9b/bridge__basic_8c.html#abf0cc768006b32570ca2921f83e42410">remove_attended_transfer_stimulus</a> (struct <a class="el" href="../../dd/d9e/structattended__transfer__properties.html">attended_transfer_properties</a> *props, enum <a class="el" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290">attended_transfer_stimulus</a> stimulus)</td></tr>
<tr class="separator:abf0cc768006b32570ca2921f83e42410"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f6041b31ddc067d44abf2a55453caae"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d9b/bridge__basic_8c.html#a7f6041b31ddc067d44abf2a55453caae">remove_hooks_on_personality_change</a> (struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *bridge)</td></tr>
<tr class="memdesc:a7f6041b31ddc067d44abf2a55453caae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove appropriate hooks when basic bridge personality changes.  <a href="#a7f6041b31ddc067d44abf2a55453caae">More...</a><br /></td></tr>
<tr class="separator:a7f6041b31ddc067d44abf2a55453caae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2df154be351240ee8f3f57224082f84e"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d9b/bridge__basic_8c.html#a2df154be351240ee8f3f57224082f84e">resume_enter</a> (struct <a class="el" href="../../dd/d9e/structattended__transfer__properties.html">attended_transfer_properties</a> *props)</td></tr>
<tr class="separator:a2df154be351240ee8f3f57224082f84e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10e0973c2dd5c46d84e22cf506e79dc1"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d9b/bridge__basic_8c.html#a10e0973c2dd5c46d84e22cf506e79dc1">retransfer_enter</a> (struct <a class="el" href="../../dd/d9e/structattended__transfer__properties.html">attended_transfer_properties</a> *props)</td></tr>
<tr class="separator:a10e0973c2dd5c46d84e22cf506e79dc1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe28f4e52aafde58df894b512c84528e"><td class="memItemLeft" align="right" valign="top">static enum <a class="el" href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8">attended_transfer_state</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d9b/bridge__basic_8c.html#abe28f4e52aafde58df894b512c84528e">retransfer_exit</a> (struct <a class="el" href="../../dd/d9e/structattended__transfer__properties.html">attended_transfer_properties</a> *props, enum <a class="el" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290">attended_transfer_stimulus</a> stimulus)</td></tr>
<tr class="separator:abe28f4e52aafde58df894b512c84528e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ab6e51f783d7cea98857990908996d3"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d9b/bridge__basic_8c.html#a6ab6e51f783d7cea98857990908996d3">ringing</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan)</td></tr>
<tr class="memdesc:a6ab6e51f783d7cea98857990908996d3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper method to send a ringing indication to a channel in a bridge.  <a href="#a6ab6e51f783d7cea98857990908996d3">More...</a><br /></td></tr>
<tr class="separator:a6ab6e51f783d7cea98857990908996d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f21538aeaf93f55a10efc6e70c78f4d"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d9b/bridge__basic_8c.html#a7f21538aeaf93f55a10efc6e70c78f4d">set_feature_flag_from_char</a> (struct <a class="el" href="../../dc/dac/structast__flags.html">ast_flags</a> *feature_flags, char feature)</td></tr>
<tr class="separator:a7f21538aeaf93f55a10efc6e70c78f4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58fb89cd178e0c10d787d24a37f24011"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d9b/bridge__basic_8c.html#a58fb89cd178e0c10d787d24a37f24011">setup_bridge_features_builtin</a> (struct <a class="el" href="../../db/dba/structast__bridge__features.html">ast_bridge_features</a> *features, struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan)</td></tr>
<tr class="separator:a58fb89cd178e0c10d787d24a37f24011"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a418fbef0204d8f6ad5dfa12e9e64852b"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d9b/bridge__basic_8c.html#a418fbef0204d8f6ad5dfa12e9e64852b">setup_bridge_features_dynamic</a> (struct <a class="el" href="../../db/dba/structast__bridge__features.html">ast_bridge_features</a> *features, struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan)</td></tr>
<tr class="separator:a418fbef0204d8f6ad5dfa12e9e64852b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a26a1b78ad7ecd918f20211eb833eff"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d9b/bridge__basic_8c.html#a3a26a1b78ad7ecd918f20211eb833eff">setup_dynamic_feature</a> (void *obj, void *arg, void *data, int flags)</td></tr>
<tr class="separator:a3a26a1b78ad7ecd918f20211eb833eff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af815ae36fd4901cf53e2c583047d61c5"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d9b/bridge__basic_8c.html#af815ae36fd4901cf53e2c583047d61c5">stimulate_attended_transfer</a> (struct <a class="el" href="../../dd/d9e/structattended__transfer__properties.html">attended_transfer_properties</a> *props, enum <a class="el" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290">attended_transfer_stimulus</a> stimulus)</td></tr>
<tr class="separator:af815ae36fd4901cf53e2c583047d61c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f8705385084d443451ef49e7f40d4f2"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d9b/bridge__basic_8c.html#a2f8705385084d443451ef49e7f40d4f2">stream_failsound</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan)</td></tr>
<tr class="memdesc:a2f8705385084d443451ef49e7f40d4f2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper method to stream a fail sound on a channel.  <a href="#a2f8705385084d443451ef49e7f40d4f2">More...</a><br /></td></tr>
<tr class="separator:a2f8705385084d443451ef49e7f40d4f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a847063c820a5222d329e04057abe2ad8"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d9b/bridge__basic_8c.html#a847063c820a5222d329e04057abe2ad8">threeway_enter</a> (struct <a class="el" href="../../dd/d9e/structattended__transfer__properties.html">attended_transfer_properties</a> *props)</td></tr>
<tr class="separator:a847063c820a5222d329e04057abe2ad8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff57702b35576ceb2437a234a2175b7b"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d9b/bridge__basic_8c.html#aff57702b35576ceb2437a234a2175b7b">transfer_pull</a> (struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *self, struct <a class="el" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *bridge_channel, struct <a class="el" href="../../dd/d9e/structattended__transfer__properties.html">attended_transfer_properties</a> *props)</td></tr>
<tr class="separator:aff57702b35576ceb2437a234a2175b7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf2a3793c8e6538c0bba84e54273f392"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../d0/d99/structast__frame.html">ast_frame</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d9b/bridge__basic_8c.html#adf2a3793c8e6538c0bba84e54273f392">transfer_target_framehook_cb</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, struct <a class="el" href="../../d0/d99/structast__frame.html">ast_frame</a> *frame, enum <a class="el" href="../../db/d3c/framehook_8h.html#a54250544f50efde9156d2341e8da0614">ast_framehook_event</a> <a class="el" href="../../df/d7d/structevent.html">event</a>, void *data)</td></tr>
<tr class="memdesc:adf2a3793c8e6538c0bba84e54273f392"><td class="mdescLeft">&#160;</td><td class="mdescRight">Frame hook for transfer target channel.  <a href="#adf2a3793c8e6538c0bba84e54273f392">More...</a><br /></td></tr>
<tr class="separator:adf2a3793c8e6538c0bba84e54273f392"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf9db5defda27c0fb2b419779a434431"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d9b/bridge__basic_8c.html#acf9db5defda27c0fb2b419779a434431">transfer_target_framehook_consume</a> (void *data, enum <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h.html#ae2e1a9c4e048da387b761f619312d6e0">ast_frame_type</a> <a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>)</td></tr>
<tr class="memdesc:acf9db5defda27c0fb2b419779a434431"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback function which informs upstream if we are consuming a frame of a specific type.  <a href="#acf9db5defda27c0fb2b419779a434431">More...</a><br /></td></tr>
<tr class="separator:acf9db5defda27c0fb2b419779a434431"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b85c66f1941a9f1900ad6aaf174e2db"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d9b/bridge__basic_8c.html#a3b85c66f1941a9f1900ad6aaf174e2db">transfer_target_framehook_destroy_cb</a> (void *data)</td></tr>
<tr class="separator:a3b85c66f1941a9f1900ad6aaf174e2db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac08eea8a379a04d85eb9c21dc252e28d"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d9b/bridge__basic_8c.html#ac08eea8a379a04d85eb9c21dc252e28d">unhold</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan)</td></tr>
<tr class="memdesc:ac08eea8a379a04d85eb9c21dc252e28d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper method to take a channel in a bridge off hold.  <a href="#ac08eea8a379a04d85eb9c21dc252e28d">More...</a><br /></td></tr>
<tr class="separator:ac08eea8a379a04d85eb9c21dc252e28d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7465bfa0b297a1274a20e0bc77ba83cd"><td class="memItemLeft" align="right" valign="top">static enum <a class="el" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290">attended_transfer_stimulus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d9b/bridge__basic_8c.html#a7465bfa0b297a1274a20e0bc77ba83cd">wait_for_stimulus</a> (struct <a class="el" href="../../dd/d9e/structattended__transfer__properties.html">attended_transfer_properties</a> *props)</td></tr>
<tr class="separator:a7465bfa0b297a1274a20e0bc77ba83cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6830515039ff20487de0c1bd0beb4d3f"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d9b/bridge__basic_8c.html#a6830515039ff20487de0c1bd0beb4d3f">wait_to_recall_enter</a> (struct <a class="el" href="../../dd/d9e/structattended__transfer__properties.html">attended_transfer_properties</a> *props)</td></tr>
<tr class="separator:a6830515039ff20487de0c1bd0beb4d3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5dea091014d721db5e7537f68779a155"><td class="memItemLeft" align="right" valign="top">static enum <a class="el" href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8">attended_transfer_state</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d9b/bridge__basic_8c.html#a5dea091014d721db5e7537f68779a155">wait_to_recall_exit</a> (struct <a class="el" href="../../dd/d9e/structattended__transfer__properties.html">attended_transfer_properties</a> *props, enum <a class="el" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290">attended_transfer_stimulus</a> stimulus)</td></tr>
<tr class="separator:a5dea091014d721db5e7537f68779a155"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d2f2f7958b8320cdceebc5078bbbf20"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d9b/bridge__basic_8c.html#a9d2f2f7958b8320cdceebc5078bbbf20">wait_to_retransfer_enter</a> (struct <a class="el" href="../../dd/d9e/structattended__transfer__properties.html">attended_transfer_properties</a> *props)</td></tr>
<tr class="separator:a9d2f2f7958b8320cdceebc5078bbbf20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab757d2057d2d08db7dcb09851df295f0"><td class="memItemLeft" align="right" valign="top">static enum <a class="el" href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8">attended_transfer_state</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d9b/bridge__basic_8c.html#ab757d2057d2d08db7dcb09851df295f0">wait_to_retransfer_exit</a> (struct <a class="el" href="../../dd/d9e/structattended__transfer__properties.html">attended_transfer_properties</a> *props, enum <a class="el" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290">attended_transfer_stimulus</a> stimulus)</td></tr>
<tr class="separator:ab757d2057d2d08db7dcb09851df295f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a0cead317de0ed25caffc93f8b30d2860"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d2/dd3/structast__bridge__methods.html">ast_bridge_methods</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d9b/bridge__basic_8c.html#a0cead317de0ed25caffc93f8b30d2860">ast_bridge_basic_v_table</a></td></tr>
<tr class="memdesc:a0cead317de0ed25caffc93f8b30d2860"><td class="mdescLeft">&#160;</td><td class="mdescRight">Bridge basic class virtual method table.  <a href="#a0cead317de0ed25caffc93f8b30d2860">More...</a><br /></td></tr>
<tr class="separator:a0cead317de0ed25caffc93f8b30d2860"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c346e79c5a420fa078d3a43c498047d"><td class="memItemLeft" align="right" valign="top">static const struct <a class="el" href="../../d9/dfb/structast__datastore__info.html">ast_datastore_info</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d9b/bridge__basic_8c.html#a7c346e79c5a420fa078d3a43c498047d">dtmf_features_info</a></td></tr>
<tr class="separator:a7c346e79c5a420fa078d3a43c498047d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79d8a2fd1901dc403b769df45688ddf3"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d2/dd3/structast__bridge__methods.html">ast_bridge_methods</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d9b/bridge__basic_8c.html#a79d8a2fd1901dc403b769df45688ddf3">personality_atxfer_v_table</a></td></tr>
<tr class="separator:a79d8a2fd1901dc403b769df45688ddf3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e91ff97b33d5886fdad081fdd8c5488"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d2/dd3/structast__bridge__methods.html">ast_bridge_methods</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d9b/bridge__basic_8c.html#a3e91ff97b33d5886fdad081fdd8c5488">personality_normal_v_table</a></td></tr>
<tr class="separator:a3e91ff97b33d5886fdad081fdd8c5488"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53b49a058262e14d4371a6c30024ea7c"><td class="memItemLeft" align="right" valign="top">static const struct <a class="el" href="../../da/dab/structattended__transfer__state__properties.html">attended_transfer_state_properties</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d9b/bridge__basic_8c.html#a53b49a058262e14d4371a6c30024ea7c">state_properties</a> []</td></tr>
<tr class="separator:a53b49a058262e14d4371a6c30024ea7c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c44b02ff21d30611e99f11620684e42"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d9b/bridge__basic_8c.html#a6c44b02ff21d30611e99f11620684e42">stimulus_strs</a> []</td></tr>
<tr class="memdesc:a6c44b02ff21d30611e99f11620684e42"><td class="mdescLeft">&#160;</td><td class="mdescRight">String representations of the various stimuli.  <a href="#a6c44b02ff21d30611e99f11620684e42">More...</a><br /></td></tr>
<tr class="separator:a6c44b02ff21d30611e99f11620684e42"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Basic bridge class. It is a subclass of struct <a class="el" href="../../d4/d84/structast__bridge.html" title="Structure that contains information about a bridge. ">ast_bridge</a>. </p>
<dl class="section author"><dt>Author</dt><dd>Richard Mudgett <a href="#" onclick="location.href='mai'+'lto:'+'rmu'+'dg'+'ett'+'@d'+'igi'+'um'+'.co'+'m'; return false;">rmudg<span style="display: none;">.nosp@m.</span>ett@<span style="display: none;">.nosp@m.</span>digiu<span style="display: none;">.nosp@m.</span>m.co<span style="display: none;">.nosp@m.</span>m</a></dd></dl>
<p>See Also: </p><ul>
<li><a class="el" href="../../d8/d87/AstCREDITS.html">CREDITS</a> </li>
</ul>

<p class="definition">Definition in file <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html">bridge_basic.c</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="affbfe95d6aa54eb6a5809641f8e62852"></a>
<h2 class="memtitle"><span class="permalink"><a href="#affbfe95d6aa54eb6a5809641f8e62852">&#9670;&nbsp;</a></span>NORMAL_FLAGS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NORMAL_FLAGS</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">(<a class="code" href="../../dc/d7a/bridge__features_8h.html#a65c2644d2eadb31bcec0aaeb41cb3444aab11deff15a9ae22b58e49e9d6d53e16">AST_BRIDGE_FLAG_DISSOLVE_HANGUP</a> | <a class="code" href="../../dc/d7a/bridge__features_8h.html#a65c2644d2eadb31bcec0aaeb41cb3444a7e495fdd770a14a1a2166ad18a16d8ca">AST_BRIDGE_FLAG_DISSOLVE_EMPTY</a> \</div><div class="line">         | <a class="code" href="../../dc/d7a/bridge__features_8h.html#a65c2644d2eadb31bcec0aaeb41cb3444a8f8162f42b84a7eba37bfb551c31743b">AST_BRIDGE_FLAG_SMART</a>)</div><div class="ttc" id="bridge__features_8h_html_a65c2644d2eadb31bcec0aaeb41cb3444a8f8162f42b84a7eba37bfb551c31743b"><div class="ttname"><a href="../../dc/d7a/bridge__features_8h.html#a65c2644d2eadb31bcec0aaeb41cb3444a8f8162f42b84a7eba37bfb551c31743b">AST_BRIDGE_FLAG_SMART</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00041">bridge_features.h:41</a></div></div>
<div class="ttc" id="bridge__features_8h_html_a65c2644d2eadb31bcec0aaeb41cb3444aab11deff15a9ae22b58e49e9d6d53e16"><div class="ttname"><a href="../../dc/d7a/bridge__features_8h.html#a65c2644d2eadb31bcec0aaeb41cb3444aab11deff15a9ae22b58e49e9d6d53e16">AST_BRIDGE_FLAG_DISSOLVE_HANGUP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00037">bridge_features.h:37</a></div></div>
<div class="ttc" id="bridge__features_8h_html_a65c2644d2eadb31bcec0aaeb41cb3444a7e495fdd770a14a1a2166ad18a16d8ca"><div class="ttname"><a href="../../dc/d7a/bridge__features_8h.html#a65c2644d2eadb31bcec0aaeb41cb3444a7e495fdd770a14a1a2166ad18a16d8ca">AST_BRIDGE_FLAG_DISSOLVE_EMPTY</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00039">bridge_features.h:39</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00051">51</a> of file <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html">bridge_basic.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l03617">ast_bridge_basic_new()</a>, and <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l03575">init_details()</a>.</p>

</div>
</div>
<a id="a82729fc63a7402ecb5575db21c593c62"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a82729fc63a7402ecb5575db21c593c62">&#9670;&nbsp;</a></span>TRANSFER_FLAGS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TRANSFER_FLAGS&#160;&#160;&#160;<a class="el" href="../../dc/d7a/bridge__features_8h.html#a65c2644d2eadb31bcec0aaeb41cb3444a8f8162f42b84a7eba37bfb551c31743b">AST_BRIDGE_FLAG_SMART</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00054">54</a> of file <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html">bridge_basic.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l03575">init_details()</a>.</p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="aad3447b0c2c1b069ac9437816db513d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad3447b0c2c1b069ac9437816db513d8">&#9670;&nbsp;</a></span>attended_transfer_state</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8">attended_transfer_state</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The states in the attended transfer state machine. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="aad3447b0c2c1b069ac9437816db513d8ac92c2c41291ec0a68db5394709cb08f5"></a>TRANSFER_CALLING_TARGET&#160;</td><td class="fielddoc"><p>Calling Target state. </p>
<p>This state describes the initial state of a transfer. The transferer waits in the transfer target's bridge for the transfer target to answer.</p>
<p>Superstate: Transfer</p>
<p>Preconditions: 1) Transfer target is RINGING 2) Transferer is in transferee bridge 3) Transferee is on hold</p>
<p>Transitions to TRANSFER_CALLING_TARGET: 1) This is the initial state for an attended transfer. 2) TRANSFER_HESITANT: Transferer presses DTMF swap sequence</p>
<p>State operation: The transferer is moved from the transferee bridge into the transfer target bridge.</p>
<p>Transitions from TRANSFER_CALLING_TARGET: 1) TRANSFER_FAIL: Transferee hangs up. 2) TRANSFER_BLOND: Transferer hangs up or presses DTMF swap sequence and configured atxferdropcall setting is yes. 3) TRANSFER_BLOND_NONFINAL: Transferer hangs up or presses DTMF swap sequence and configured atxferdroppcall setting is no. 4) TRANSFER_CONSULTING: Transfer target answers the call. 5) TRANSFER_REBRIDGE: Transfer target hangs up, call to transfer target times out, or transferer presses DTMF abort sequence. 6) TRANSFER_THREEWAY: Transferer presses DTMF threeway sequence. 7) TRANSFER_HESITANT: Transferer presses DTMF swap sequence. </p>
</td></tr>
<tr><td class="fieldname"><a id="aad3447b0c2c1b069ac9437816db513d8a8f04ac5b1a23d29e4faa78f8283eaf0e"></a>TRANSFER_HESITANT&#160;</td><td class="fielddoc"><p>Hesitant state. </p>
<p>This state only arises if when waiting for the transfer target to answer, the transferer presses the DTMF swap sequence. This will cause the transferer to be rebridged with the transferee temporarily.</p>
<p>Superstate: Transfer</p>
<p>Preconditions: 1) Transfer target is in ringing state 2) Transferer is in transfer target bridge 3) Transferee is on hold</p>
<p>Transitions to TRANSFER_HESITANT: 1) TRANSFER_CALLING_TARGET: Transferer presses DTMF swap sequence.</p>
<p>State operation: The transferer is moved from the transfer target bridge into the transferee bridge, and the transferee is taken off hold.</p>
<p>Transitions from TRANSFER_HESITANT: 1) TRANSFER_FAIL: Transferee hangs up 2) TRANSFER_BLOND: Transferer hangs up or presses DTMF swap sequence and configured atxferdropcall setting is yes. 3) TRANSFER_BLOND_NONFINAL: Transferer hangs up or presses DTMF swap sequence and configured atxferdroppcall setting is no. 4) TRANSFER_DOUBLECHECKING: Transfer target answers the call 5) TRANSFER_RESUME: Transfer target hangs up, call to transfer target times out, or transferer presses DTMF abort sequence. 6) TRANSFER_THREEWAY: Transferer presses DTMF threeway sequence. 7) TRANSFER_CALLING_TARGET: Transferer presses DTMF swap sequence. </p>
</td></tr>
<tr><td class="fieldname"><a id="aad3447b0c2c1b069ac9437816db513d8a50814f10c33a876aa78ed3b96a2b1050"></a>TRANSFER_REBRIDGE&#160;</td><td class="fielddoc"><p>Rebridge state. </p>
<p>This is a terminal state that indicates that the transferer needs to move back to the transferee's bridge. This is a failed attended transfer result.</p>
<p>Superstate: Transfer</p>
<p>Preconditions: 1) Transferer is in transfer target bridge 2) Transferee is on hold</p>
<p>Transitions to TRANSFER_REBRIDGE: 1) TRANSFER_CALLING_TARGET: Transfer target hangs up, call to transfer target times out, or transferer presses DTMF abort sequence. 2) TRANSFER_STATE_CONSULTING: Transfer target hangs up, or transferer presses DTMF abort sequence.</p>
<p>State operation: The transferer channel is moved from the transfer target bridge to the transferee bridge. The transferee is taken off hold. A stasis transfer message is published indicating a failed attended transfer.</p>
<p>Transitions from TRANSFER_REBRIDGE: None </p>
</td></tr>
<tr><td class="fieldname"><a id="aad3447b0c2c1b069ac9437816db513d8ac19143ec75880c93f0c2483599b28343"></a>TRANSFER_RESUME&#160;</td><td class="fielddoc"><p>Resume state. </p>
<p>This is a terminal state that indicates that the party bridged with the transferee is the final party to be bridged with that transferee. This state may come about due to a successful recall or due to a failed transfer.</p>
<p>Superstate: Transfer or Recall</p>
<p>Preconditions: In Transfer Superstate: 1) Transferer is in transferee bridge 2) Transferee is not on hold In Recall Superstate: 1) The recall target is in the transferee bridge 2) Transferee is not on hold</p>
<p>Transitions to TRANSFER_RESUME: TRANSFER_HESITANT: Transfer target hangs up, call to transfer target times out, or transferer presses DTMF abort sequence. TRANSFER_DOUBLECHECKING: Transfer target hangs up or transferer presses DTMF abort sequence. TRANSFER_BLOND_NONFINAL: Recall target answers TRANSFER_RECALLING: Recall target answers TRANSFER_RETRANSFER: Recall target answers</p>
<p>State operations: None</p>
<p>Transitions from TRANSFER_RESUME: None </p>
</td></tr>
<tr><td class="fieldname"><a id="aad3447b0c2c1b069ac9437816db513d8ac7c5f29c9c62b140951b3035b1783ca2"></a>TRANSFER_THREEWAY&#160;</td><td class="fielddoc"><p>Threeway state. </p>
<p>This state results when the transferer wishes to have all parties involved in a transfer to be in the same bridge together.</p>
<p>Superstate: Transfer</p>
<p>Preconditions: 1) Transfer target state is either RINGING or UP 2) Transferer is in either bridge 3) Transferee is not on hold</p>
<p>Transitions to TRANSFER_THREEWAY: 1) TRANSFER_CALLING_TARGET: Transferer presses DTMF threeway sequence. 2) TRANSFER_HESITANT: Transferer presses DTMF threeway sequence. 3) TRANSFER_CONSULTING: Transferer presses DTMF threeway sequence. 4) TRANSFER_DOUBLECHECKING: Transferer presses DTMF threeway sequence.</p>
<p>State operation: The transfer target bridge is merged into the transferee bridge.</p>
<p>Transitions from TRANSFER_THREEWAY: None. </p>
</td></tr>
<tr><td class="fieldname"><a id="aad3447b0c2c1b069ac9437816db513d8ad60a6371cbe63dbd06152746f6fcd320"></a>TRANSFER_CONSULTING&#160;</td><td class="fielddoc"><p>Consulting state. </p>
<p>This state describes the case where the transferer and transfer target are able to converse in the transfer target's bridge prior to completing the transfer.</p>
<p>Superstate: Transfer</p>
<p>Preconditions: 1) Transfer target is UP 2) Transferer is in target bridge 3) Transferee is on hold</p>
<p>Transitions to TRANSFER_CONSULTING: 1) TRANSFER_CALLING_TARGET: Transfer target answers. 2) TRANSFER_DOUBLECHECKING: Transferer presses DTMF swap sequence.</p>
<p>State operations: None.</p>
<p>Transitions from TRANSFER_CONSULTING: TRANSFER_COMPLETE: Transferer hangs up or transferer presses DTMF complete sequence. TRANSFER_REBRIDGE: Transfer target hangs up or transferer presses DTMF abort sequence. TRANSFER_THREEWAY: Transferer presses DTMF threeway sequence. TRANSFER_DOUBLECHECKING: Transferer presses DTMF swap sequence. </p>
</td></tr>
<tr><td class="fieldname"><a id="aad3447b0c2c1b069ac9437816db513d8a327912f4d0734a2ea7b440531f0c5693"></a>TRANSFER_DOUBLECHECKING&#160;</td><td class="fielddoc"><p>Double-checking state. </p>
<p>This state describes the case where the transferer and transferee are able to converse in the transferee's bridge prior to completing the transfer. The difference between this and TRANSFER_HESITANT is that the transfer target is UP in this case.</p>
<p>Superstate: Transfer</p>
<p>Preconditions: 1) Transfer target is UP and on hold 2) Transferer is in transferee bridge 3) Transferee is off hold</p>
<p>Transitions to TRANSFER_DOUBLECHECKING: 1) TRANSFER_HESITANT: Transfer target answers. 2) TRANSFER_CONSULTING: Transferer presses DTMF swap sequence.</p>
<p>State operations: None.</p>
<p>Transitions from TRANSFER_DOUBLECHECKING: 1) TRANSFER_FAIL: Transferee hangs up. 2) TRANSFER_COMPLETE: Transferer hangs up or presses DTMF complete sequence. 3) TRANSFER_RESUME: Transfer target hangs up or transferer presses DTMF abort sequence. 4) TRANSFER_THREEWAY: Transferer presses DTMF threeway sequence. 5) TRANSFER_CONSULTING: Transferer presses the DTMF swap sequence. </p>
</td></tr>
<tr><td class="fieldname"><a id="aad3447b0c2c1b069ac9437816db513d8a46301fa6c06741434f7f8bbd53a5ec26"></a>TRANSFER_COMPLETE&#160;</td><td class="fielddoc"><p>Complete state. </p>
<p>This is a terminal state where a transferer has successfully completed an attended transfer. This state's goal is to get the transfer target and transferee into the same bridge and the transferer off the call.</p>
<p>Superstate: Transfer</p>
<p>Preconditions: 1) Transfer target is UP and off hold. 2) Transferer is in either bridge. 3) Transferee is off hold.</p>
<p>Transitions to TRANSFER_COMPLETE: 1) TRANSFER_CONSULTING: transferer hangs up or presses the DTMF complete sequence. 2) TRANSFER_DOUBLECHECKING: transferer hangs up or presses the DTMF complete sequence.</p>
<p>State operation: The transfer target bridge is merged into the transferee bridge. The transferer channel is kicked out of the bridges as part of the merge.</p>
<p>State operations: 1) Merge the transfer target bridge into the transferee bridge, excluding the transferer channel from the merge. 2) Publish a stasis transfer message.</p>
<p>Exit operations: This is a terminal state, so there are no exit operations. </p>
</td></tr>
<tr><td class="fieldname"><a id="aad3447b0c2c1b069ac9437816db513d8ab73883ddf660b1efa01fb5aeeb6a002f"></a>TRANSFER_BLOND&#160;</td><td class="fielddoc"><p>Blond state. </p>
<p>This is a terminal state where a transferer has completed an attended transfer prior to the transfer target answering. This state is only entered if atxferdropcall is set to 'yes'. This is considered to be a successful attended transfer.</p>
<p>Superstate: Transfer</p>
<p>Preconditions: 1) Transfer target is RINGING. 2) Transferer is in either bridge. 3) Transferee is off hold.</p>
<p>Transitions to TRANSFER_BLOND: 1) TRANSFER_CALLING_TARGET: Transferer hangs up or presses the DTMF complete sequence. atxferdropcall is set to 'yes'. 2) TRANSFER_HESITANT: Transferer hangs up or presses the DTMF complete sequence. atxferdropcall is set to 'yes'.</p>
<p>State operations: The transfer target bridge is merged into the transferee bridge. The transferer channel is kicked out of the bridges as part of the merge. A stasis transfer publication is sent indicating a successful transfer.</p>
<p>Transitions from TRANSFER_BLOND: None </p>
</td></tr>
<tr><td class="fieldname"><a id="aad3447b0c2c1b069ac9437816db513d8afd695d9c2410d09ac50f1e002da07609"></a>TRANSFER_BLOND_NONFINAL&#160;</td><td class="fielddoc"><p>Blond non-final state. </p>
<p>This state is very similar to the TRANSFER_BLOND state, except that this state is entered when atxferdropcall is set to 'no'. This is the initial state of the Recall superstate, so state operations mainly involve moving to the Recall superstate. This means that the transfer target, that is currently ringing is now known as the recall target.</p>
<p>Superstate: Recall</p>
<p>Preconditions: 1) Recall target is RINGING. 2) Transferee is off hold.</p>
<p>Transitions to TRANSFER_BLOND_NONFINAL: 1) TRANSFER_CALLING_TARGET: Transferer hangs up or presses the DTMF complete sequence. atxferdropcall is set to 'no'. 2) TRANSFER_HESITANT: Transferer hangs up or presses the DTMF complete sequence. atxferdropcall is set to 'no'.</p>
<p>State operation: The superstate of the attended transfer is changed from Transfer to Recall. The transfer target bridge is merged into the transferee bridge. The transferer channel is kicked out of the bridges as part of the merge.</p>
<p>Transitions from TRANSFER_BLOND_NONFINAL: 1) TRANSFER_FAIL: Transferee hangs up 2) TRANSFER_RESUME: Recall target answers 3) TRANSFER_RECALLING: Recall target hangs up or time expires. </p>
</td></tr>
<tr><td class="fieldname"><a id="aad3447b0c2c1b069ac9437816db513d8afa5ecefd14d3ddf6fb4e8c9279747613"></a>TRANSFER_RECALLING&#160;</td><td class="fielddoc"><p>Recalling state. </p>
<p>This state is entered if the recall target from the TRANSFER_BLOND_NONFINAL or TRANSFER_RETRANSFER states hangs up or does not answer. The goal of this state is to call back the original transferer in an attempt to recover the original call.</p>
<p>Superstate: Recall</p>
<p>Preconditions: 1) Recall target is down. 2) Transferee is off hold.</p>
<p>Transitions to TRANSFER_RECALLING: 1) TRANSFER_BLOND_NONFINAL: Recall target hangs up or time expires. 2) TRANSFER_RETRANSFER: Recall target hangs up or time expires. atxferloopdelay is non-zero. 3) TRANSFER_WAIT_TO_RECALL: Time expires.</p>
<p>State operation: The original transferer becomes the recall target and is called using the Dialing API. Ringing is indicated to the transferee.</p>
<p>Transitions from TRANSFER_RECALLING: 1) TRANSFER_FAIL: a) Transferee hangs up. b) Recall target hangs up or time expires, and number of recall attempts exceeds atxfercallbackretries 2) TRANSFER_WAIT_TO_RETRANSFER: Recall target hangs up or time expires. atxferloopdelay is non-zero. 3) TRANSFER_RETRANSFER: Recall target hangs up or time expires. atxferloopdelay is zero. 4) TRANSFER_RESUME: Recall target answers. </p>
</td></tr>
<tr><td class="fieldname"><a id="aad3447b0c2c1b069ac9437816db513d8a079027cbe132434fd8fd0848bced7c81"></a>TRANSFER_WAIT_TO_RETRANSFER&#160;</td><td class="fielddoc"><p>Wait to Retransfer state. </p>
<p>This state is used simply to give a bit of breathing room between attempting to call back the original transferer and attempting to call back the original transfer target. The transferee hears music on hold during this state as an auditory clue that no one is currently being dialed.</p>
<p>Superstate: Recall</p>
<p>Preconditions: 1) Recall target is down. 2) Transferee is off hold.</p>
<p>Transitions to TRANSFER_WAIT_TO_RETRANSFER: 1) TRANSFER_RECALLING: Recall target hangs up or time expires. atxferloopdelay is non-zero.</p>
<p>State operation: The transferee is placed on hold.</p>
<p>Transitions from TRANSFER_WAIT_TO_RETRANSFER: 1) TRANSFER_FAIL: Transferee hangs up. 2) TRANSFER_RETRANSFER: Time expires. </p>
</td></tr>
<tr><td class="fieldname"><a id="aad3447b0c2c1b069ac9437816db513d8a61cf446eec4f2188e90d11eec6fd2396"></a>TRANSFER_RETRANSFER&#160;</td><td class="fielddoc"><p>Retransfer state. </p>
<p>This state is used in order to attempt to call back the original transfer target channel from the transfer. The transferee hears ringing during this state as an auditory cue that a party is being dialed.</p>
<p>Superstate: Recall</p>
<p>Preconditions: 1) Recall target is down. 2) Transferee is off hold.</p>
<p>Transitions to TRANSFER_RETRANSFER: 1) TRANSFER_RECALLING: Recall target hangs up or time expires. atxferloopdelay is zero. 2) TRANSFER_WAIT_TO_RETRANSFER: Time expires.</p>
<p>State operation: The original transfer target is requested and is set as the recall target. The recall target is called and placed into the transferee bridge.</p>
<p>Transitions from TRANSFER_RETRANSFER: 1) TRANSFER_FAIL: Transferee hangs up. 2) TRANSFER_WAIT_TO_RECALL: Recall target hangs up or time expires. atxferloopdelay is non-zero. 3) TRANSFER_RECALLING: Recall target hangs up or time expires. atxferloopdelay is zero. </p>
</td></tr>
<tr><td class="fieldname"><a id="aad3447b0c2c1b069ac9437816db513d8a88843d550323b8ce636afd7469f17552"></a>TRANSFER_WAIT_TO_RECALL&#160;</td><td class="fielddoc"><p>Wait to recall state. </p>
<p>This state is used simply to give a bit of breathing room between attempting to call back the original transfer target and attempting to call back the original transferer. The transferee hears music on hold during this state as an auditory clue that no one is currently being dialed.</p>
<p>Superstate: Recall</p>
<p>Preconditions: 1) Recall target is down. 2) Transferee is off hold.</p>
<p>Transitions to TRANSFER_WAIT_TO_RECALL: 1) TRANSFER_RETRANSFER: Recall target hangs up or time expires. atxferloopdelay is non-zero.</p>
<p>State operation: Transferee is placed on hold.</p>
<p>Transitions from TRANSFER_WAIT_TO_RECALL: 1) TRANSFER_FAIL: Transferee hangs up 2) TRANSFER_RECALLING: Time expires </p>
</td></tr>
<tr><td class="fieldname"><a id="aad3447b0c2c1b069ac9437816db513d8a8383b06b8e11a417dca5329407478ee8"></a>TRANSFER_FAIL&#160;</td><td class="fielddoc"><p>Fail state. </p>
<p>This state indicates that something occurred during the transfer that makes a graceful completion impossible. The most common stimulus for this state is when the transferee hangs up.</p>
<p>Superstate: Transfer and Recall</p>
<p>Preconditions: None</p>
<p>Transitions to TRANSFER_FAIL: 1) TRANSFER_CALLING_TARGET: Transferee hangs up. 2) TRANSFER_HESITANT: Transferee hangs up. 3) TRANSFER_DOUBLECHECKING: Transferee hangs up. 4) TRANSFER_BLOND_NONFINAL: Transferee hangs up. 5) TRANSFER_RECALLING: a) Transferee hangs up. b) Recall target hangs up or time expires, and number of recall attempts exceeds atxfercallbackretries. 6) TRANSFER_WAIT_TO_RETRANSFER: Transferee hangs up. 7) TRANSFER_RETRANSFER: Transferee hangs up. 8) TRANSFER_WAIT_TO_RECALL: Transferee hangs up.</p>
<p>State operation: A transfer stasis publication is made indicating a failed transfer. The transferee bridge is destroyed.</p>
<p>Transitions from TRANSFER_FAIL: None. </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00774">774</a> of file <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html">bridge_basic.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;                             {<span class="comment"></span></div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;<span class="comment">   /*!</span></div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;<span class="comment">    * \brief Calling Target state</span></div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;<span class="comment">    * This state describes the initial state of a transfer. The transferer</span></div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;<span class="comment">    * waits in the transfer target&#39;s bridge for the transfer target to answer.</span></div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;<span class="comment">    * Superstate: Transfer</span></div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;<span class="comment">    * Preconditions:</span></div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;<span class="comment">    * 1) Transfer target is RINGING</span></div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;<span class="comment">    * 2) Transferer is in transferee bridge</span></div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;<span class="comment">    * 3) Transferee is on hold</span></div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;<span class="comment">    * Transitions to TRANSFER_CALLING_TARGET:</span></div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;<span class="comment">    * 1) This is the initial state for an attended transfer.</span></div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;<span class="comment">    * 2) TRANSFER_HESITANT: Transferer presses DTMF swap sequence</span></div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;<span class="comment">    * State operation:</span></div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;<span class="comment">    * The transferer is moved from the transferee bridge into the transfer</span></div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;<span class="comment">    * target bridge.</span></div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;<span class="comment">    * Transitions from TRANSFER_CALLING_TARGET:</span></div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;<span class="comment">    * 1) TRANSFER_FAIL: Transferee hangs up.</span></div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;<span class="comment">    * 2) TRANSFER_BLOND: Transferer hangs up or presses DTMF swap sequence</span></div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;<span class="comment">    * and configured atxferdropcall setting is yes.</span></div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;<span class="comment">    * 3) TRANSFER_BLOND_NONFINAL: Transferer hangs up or presses DTMF swap</span></div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;<span class="comment">    * sequence and configured atxferdroppcall setting is no.</span></div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;<span class="comment">    * 4) TRANSFER_CONSULTING: Transfer target answers the call.</span></div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;<span class="comment">    * 5) TRANSFER_REBRIDGE: Transfer target hangs up, call to transfer target</span></div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;<span class="comment">    * times out, or transferer presses DTMF abort sequence.</span></div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;<span class="comment">    * 6) TRANSFER_THREEWAY: Transferer presses DTMF threeway sequence.</span></div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;<span class="comment">    * 7) TRANSFER_HESITANT: Transferer presses DTMF swap sequence.</span></div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;   <a class="code" href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8ac92c2c41291ec0a68db5394709cb08f5">TRANSFER_CALLING_TARGET</a>,<span class="comment"></span></div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;<span class="comment">   /*!</span></div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;<span class="comment">    * \brief Hesitant state</span></div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;<span class="comment">    * This state only arises if when waiting for the transfer target to</span></div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;<span class="comment">    * answer, the transferer presses the DTMF swap sequence. This will</span></div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;<span class="comment">    * cause the transferer to be rebridged with the transferee temporarily.</span></div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;<span class="comment">    * Superstate: Transfer</span></div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;<span class="comment">    * Preconditions:</span></div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;<span class="comment">    * 1) Transfer target is in ringing state</span></div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;<span class="comment">    * 2) Transferer is in transfer target bridge</span></div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;<span class="comment">    * 3) Transferee is on hold</span></div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;<span class="comment">    * Transitions to TRANSFER_HESITANT:</span></div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;<span class="comment">    * 1) TRANSFER_CALLING_TARGET: Transferer presses DTMF swap sequence.</span></div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;<span class="comment">    * State operation:</span></div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;<span class="comment">    * The transferer is moved from the transfer target bridge into the</span></div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;<span class="comment">    * transferee bridge, and the transferee is taken off hold.</span></div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;<span class="comment">    * Transitions from TRANSFER_HESITANT:</span></div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;<span class="comment">    * 1) TRANSFER_FAIL: Transferee hangs up</span></div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;<span class="comment">    * 2) TRANSFER_BLOND: Transferer hangs up or presses DTMF swap sequence</span></div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;<span class="comment">    * and configured atxferdropcall setting is yes.</span></div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;<span class="comment">    * 3) TRANSFER_BLOND_NONFINAL: Transferer hangs up or presses DTMF swap</span></div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;<span class="comment">    * sequence and configured atxferdroppcall setting is no.</span></div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;<span class="comment">    * 4) TRANSFER_DOUBLECHECKING: Transfer target answers the call</span></div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;<span class="comment">    * 5) TRANSFER_RESUME: Transfer target hangs up, call to transfer target</span></div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;<span class="comment">    * times out, or transferer presses DTMF abort sequence.</span></div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;<span class="comment">    * 6) TRANSFER_THREEWAY: Transferer presses DTMF threeway sequence.</span></div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;<span class="comment">    * 7) TRANSFER_CALLING_TARGET: Transferer presses DTMF swap sequence.</span></div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;   <a class="code" href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8a8f04ac5b1a23d29e4faa78f8283eaf0e">TRANSFER_HESITANT</a>,<span class="comment"></span></div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;<span class="comment">   /*!</span></div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;<span class="comment">    * \brief Rebridge state</span></div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;<span class="comment">    * This is a terminal state that indicates that the transferer needs</span></div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;<span class="comment">    * to move back to the transferee&#39;s bridge. This is a failed attended</span></div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;<span class="comment">    * transfer result.</span></div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;<span class="comment">    * Superstate: Transfer</span></div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;<span class="comment">    * Preconditions:</span></div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;<span class="comment">    * 1) Transferer is in transfer target bridge</span></div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;<span class="comment">    * 2) Transferee is on hold</span></div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;<span class="comment">    * Transitions to TRANSFER_REBRIDGE:</span></div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;<span class="comment">    * 1) TRANSFER_CALLING_TARGET: Transfer target hangs up, call to transfer target</span></div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;<span class="comment">    * times out, or transferer presses DTMF abort sequence.</span></div><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;<span class="comment">    * 2) TRANSFER_STATE_CONSULTING: Transfer target hangs up, or transferer presses</span></div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;<span class="comment">    * DTMF abort sequence.</span></div><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;<span class="comment">    * State operation:</span></div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;<span class="comment">    * The transferer channel is moved from the transfer target bridge to the</span></div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;<span class="comment">    * transferee bridge. The transferee is taken off hold. A stasis transfer</span></div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;<span class="comment">    * message is published indicating a failed attended transfer.</span></div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;<span class="comment">    * Transitions from TRANSFER_REBRIDGE:</span></div><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;<span class="comment">    * None</span></div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;   <a class="code" href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8a50814f10c33a876aa78ed3b96a2b1050">TRANSFER_REBRIDGE</a>,<span class="comment"></span></div><div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;<span class="comment">   /*!</span></div><div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;<span class="comment">    * \brief Resume state</span></div><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;<span class="comment">    * This is a terminal state that indicates that the party bridged with the</span></div><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;<span class="comment">    * transferee is the final party to be bridged with that transferee. This state</span></div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;<span class="comment">    * may come about due to a successful recall or due to a failed transfer.</span></div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;<span class="comment">    * Superstate: Transfer or Recall</span></div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;<span class="comment">    * Preconditions:</span></div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;<span class="comment">    * In Transfer Superstate:</span></div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;<span class="comment">    * 1) Transferer is in transferee bridge</span></div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;<span class="comment">    * 2) Transferee is not on hold</span></div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;<span class="comment">    * In Recall Superstate:</span></div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;<span class="comment">    * 1) The recall target is in the transferee bridge</span></div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;<span class="comment">    * 2) Transferee is not on hold</span></div><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;<span class="comment">    * Transitions to TRANSFER_RESUME:</span></div><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;<span class="comment">    * TRANSFER_HESITANT: Transfer target hangs up, call to transfer target times out,</span></div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;<span class="comment">    * or transferer presses DTMF abort sequence.</span></div><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;<span class="comment">    * TRANSFER_DOUBLECHECKING: Transfer target hangs up or transferer presses DTMF</span></div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;<span class="comment">    * abort sequence.</span></div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;<span class="comment">    * TRANSFER_BLOND_NONFINAL: Recall target answers</span></div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;<span class="comment">    * TRANSFER_RECALLING: Recall target answers</span></div><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;<span class="comment">    * TRANSFER_RETRANSFER: Recall target answers</span></div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;<span class="comment">    * State operations:</span></div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;<span class="comment">    * None</span></div><div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;<span class="comment">    * Transitions from TRANSFER_RESUME:</span></div><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;<span class="comment">    * None</span></div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;   <a class="code" href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8ac19143ec75880c93f0c2483599b28343">TRANSFER_RESUME</a>,<span class="comment"></span></div><div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;<span class="comment">   /*!</span></div><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;<span class="comment">    * \brief Threeway state</span></div><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;<span class="comment">    * This state results when the transferer wishes to have all parties involved</span></div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;<span class="comment">    * in a transfer to be in the same bridge together.</span></div><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;<span class="comment">    * Superstate: Transfer</span></div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;<span class="comment">    * Preconditions:</span></div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;<span class="comment">    * 1) Transfer target state is either RINGING or UP</span></div><div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;<span class="comment">    * 2) Transferer is in either bridge</span></div><div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;<span class="comment">    * 3) Transferee is not on hold</span></div><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;<span class="comment">    * Transitions to TRANSFER_THREEWAY:</span></div><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;<span class="comment">    * 1) TRANSFER_CALLING_TARGET: Transferer presses DTMF threeway sequence.</span></div><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;<span class="comment">    * 2) TRANSFER_HESITANT: Transferer presses DTMF threeway sequence.</span></div><div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;<span class="comment">    * 3) TRANSFER_CONSULTING: Transferer presses DTMF threeway sequence.</span></div><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;<span class="comment">    * 4) TRANSFER_DOUBLECHECKING: Transferer presses DTMF threeway sequence.</span></div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;<span class="comment">    * State operation:</span></div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;<span class="comment">    * The transfer target bridge is merged into the transferee bridge.</span></div><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;<span class="comment">    * Transitions from TRANSFER_THREEWAY:</span></div><div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;<span class="comment">    * None.</span></div><div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;   <a class="code" href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8ac7c5f29c9c62b140951b3035b1783ca2">TRANSFER_THREEWAY</a>,<span class="comment"></span></div><div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;<span class="comment">   /*!</span></div><div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;<span class="comment">    * \brief Consulting state</span></div><div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;<span class="comment">    * This state describes the case where the transferer and transfer target</span></div><div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;<span class="comment">    * are able to converse in the transfer target&#39;s bridge prior to completing</span></div><div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;<span class="comment">    * the transfer.</span></div><div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;<span class="comment">    * Superstate: Transfer</span></div><div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;<span class="comment">    * Preconditions:</span></div><div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;<span class="comment">    * 1) Transfer target is UP</span></div><div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;<span class="comment">    * 2) Transferer is in target bridge</span></div><div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;<span class="comment">    * 3) Transferee is on hold</span></div><div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;<span class="comment">    * Transitions to TRANSFER_CONSULTING:</span></div><div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;<span class="comment">    * 1) TRANSFER_CALLING_TARGET: Transfer target answers.</span></div><div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;<span class="comment">    * 2) TRANSFER_DOUBLECHECKING: Transferer presses DTMF swap sequence.</span></div><div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;<span class="comment">    * State operations:</span></div><div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;<span class="comment">    * None.</span></div><div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;<span class="comment">    * Transitions from TRANSFER_CONSULTING:</span></div><div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;<span class="comment">    * TRANSFER_COMPLETE: Transferer hangs up or transferer presses DTMF complete sequence.</span></div><div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;<span class="comment">    * TRANSFER_REBRIDGE: Transfer target hangs up or transferer presses DTMF abort sequence.</span></div><div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;<span class="comment">    * TRANSFER_THREEWAY: Transferer presses DTMF threeway sequence.</span></div><div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;<span class="comment">    * TRANSFER_DOUBLECHECKING: Transferer presses DTMF swap sequence.</span></div><div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;   <a class="code" href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8ad60a6371cbe63dbd06152746f6fcd320">TRANSFER_CONSULTING</a>,<span class="comment"></span></div><div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;<span class="comment">   /*!</span></div><div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;<span class="comment">    * \brief Double-checking state</span></div><div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;<span class="comment">    * This state describes the case where the transferer and transferee are</span></div><div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;<span class="comment">    * able to converse in the transferee&#39;s bridge prior to completing the transfer. The</span></div><div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;<span class="comment">    * difference between this and TRANSFER_HESITANT is that the transfer target is</span></div><div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;<span class="comment">    * UP in this case.</span></div><div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;<span class="comment">    * Superstate: Transfer</span></div><div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;<span class="comment">    * Preconditions:</span></div><div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;<span class="comment">    * 1) Transfer target is UP and on hold</span></div><div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;<span class="comment">    * 2) Transferer is in transferee bridge</span></div><div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;<span class="comment">    * 3) Transferee is off hold</span></div><div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;<span class="comment">    * Transitions to TRANSFER_DOUBLECHECKING:</span></div><div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;<span class="comment">    * 1) TRANSFER_HESITANT: Transfer target answers.</span></div><div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;<span class="comment">    * 2) TRANSFER_CONSULTING: Transferer presses DTMF swap sequence.</span></div><div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;<span class="comment">    * State operations:</span></div><div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;<span class="comment">    * None.</span></div><div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;<span class="comment">    * Transitions from TRANSFER_DOUBLECHECKING:</span></div><div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;<span class="comment">    * 1) TRANSFER_FAIL: Transferee hangs up.</span></div><div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;<span class="comment">    * 2) TRANSFER_COMPLETE: Transferer hangs up or presses DTMF complete sequence.</span></div><div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;<span class="comment">    * 3) TRANSFER_RESUME: Transfer target hangs up or transferer presses DTMF abort sequence.</span></div><div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;<span class="comment">    * 4) TRANSFER_THREEWAY: Transferer presses DTMF threeway sequence.</span></div><div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;<span class="comment">    * 5) TRANSFER_CONSULTING: Transferer presses the DTMF swap sequence.</span></div><div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;   <a class="code" href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8a327912f4d0734a2ea7b440531f0c5693">TRANSFER_DOUBLECHECKING</a>,<span class="comment"></span></div><div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;<span class="comment">   /*!</span></div><div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;<span class="comment">    * \brief Complete state</span></div><div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;<span class="comment">    * This is a terminal state where a transferer has successfully completed an attended</span></div><div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;<span class="comment">    * transfer. This state&#39;s goal is to get the transfer target and transferee into</span></div><div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;<span class="comment">    * the same bridge and the transferer off the call.</span></div><div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;<span class="comment">    * Superstate: Transfer</span></div><div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;<span class="comment">    * Preconditions:</span></div><div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;<span class="comment">    * 1) Transfer target is UP and off hold.</span></div><div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;<span class="comment">    * 2) Transferer is in either bridge.</span></div><div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;<span class="comment">    * 3) Transferee is off hold.</span></div><div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;<span class="comment">    * Transitions to TRANSFER_COMPLETE:</span></div><div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;<span class="comment">    * 1) TRANSFER_CONSULTING: transferer hangs up or presses the DTMF complete sequence.</span></div><div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;<span class="comment">    * 2) TRANSFER_DOUBLECHECKING: transferer hangs up or presses the DTMF complete sequence.</span></div><div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;<span class="comment">    * State operation:</span></div><div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;<span class="comment">    * The transfer target bridge is merged into the transferee bridge. The transferer</span></div><div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;<span class="comment">    * channel is kicked out of the bridges as part of the merge.</span></div><div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;<span class="comment">    * State operations:</span></div><div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;<span class="comment">    * 1) Merge the transfer target bridge into the transferee bridge,</span></div><div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;<span class="comment">    * excluding the transferer channel from the merge.</span></div><div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;<span class="comment">    * 2) Publish a stasis transfer message.</span></div><div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;<span class="comment">    * Exit operations:</span></div><div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;<span class="comment">    * This is a terminal state, so there are no exit operations.</span></div><div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;   <a class="code" href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8a46301fa6c06741434f7f8bbd53a5ec26">TRANSFER_COMPLETE</a>,<span class="comment"></span></div><div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;<span class="comment">   /*!</span></div><div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;<span class="comment">    * \brief Blond state</span></div><div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;<span class="comment">    * This is a terminal state where a transferer has completed an attended transfer prior</span></div><div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;<span class="comment">    * to the transfer target answering. This state is only entered if atxferdropcall</span></div><div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;<span class="comment">    * is set to &#39;yes&#39;. This is considered to be a successful attended transfer.</span></div><div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;<span class="comment">    * Superstate: Transfer</span></div><div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;<span class="comment">    * Preconditions:</span></div><div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;<span class="comment">    * 1) Transfer target is RINGING.</span></div><div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;<span class="comment">    * 2) Transferer is in either bridge.</span></div><div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;<span class="comment">    * 3) Transferee is off hold.</span></div><div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;<span class="comment">    * Transitions to TRANSFER_BLOND:</span></div><div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;<span class="comment">    * 1) TRANSFER_CALLING_TARGET: Transferer hangs up or presses the DTMF complete sequence.</span></div><div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;<span class="comment">    *    atxferdropcall is set to &#39;yes&#39;.</span></div><div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;<span class="comment">    * 2) TRANSFER_HESITANT: Transferer hangs up or presses the DTMF complete sequence.</span></div><div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;<span class="comment">    *    atxferdropcall is set to &#39;yes&#39;.</span></div><div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;<span class="comment">    * State operations:</span></div><div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;<span class="comment">    * The transfer target bridge is merged into the transferee bridge. The transferer</span></div><div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;<span class="comment">    * channel is kicked out of the bridges as part of the merge. A stasis transfer</span></div><div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;<span class="comment">    * publication is sent indicating a successful transfer.</span></div><div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;<span class="comment">    * Transitions from TRANSFER_BLOND:</span></div><div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;<span class="comment">    * None</span></div><div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;   <a class="code" href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8ab73883ddf660b1efa01fb5aeeb6a002f">TRANSFER_BLOND</a>,<span class="comment"></span></div><div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;<span class="comment">   /*!</span></div><div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;<span class="comment">    * \brief Blond non-final state</span></div><div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;<span class="comment">    * This state is very similar to the TRANSFER_BLOND state, except that</span></div><div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;<span class="comment">    * this state is entered when atxferdropcall is set to &#39;no&#39;. This is the</span></div><div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;<span class="comment">    * initial state of the Recall superstate, so state operations mainly involve</span></div><div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;<span class="comment">    * moving to the Recall superstate. This means that the transfer target, that</span></div><div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;<span class="comment">    * is currently ringing is now known as the recall target.</span></div><div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;<span class="comment">    * Superstate: Recall</span></div><div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;<span class="comment">    * Preconditions:</span></div><div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;<span class="comment">    * 1) Recall target is RINGING.</span></div><div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;<span class="comment">    * 2) Transferee is off hold.</span></div><div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;<span class="comment">    * Transitions to TRANSFER_BLOND_NONFINAL:</span></div><div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;<span class="comment">    * 1) TRANSFER_CALLING_TARGET: Transferer hangs up or presses the DTMF complete sequence.</span></div><div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;<span class="comment">    *    atxferdropcall is set to &#39;no&#39;.</span></div><div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;<span class="comment">    * 2) TRANSFER_HESITANT: Transferer hangs up or presses the DTMF complete sequence.</span></div><div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;<span class="comment">    *    atxferdropcall is set to &#39;no&#39;.</span></div><div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;<span class="comment">    * State operation:</span></div><div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;<span class="comment">    * The superstate of the attended transfer is changed from Transfer to Recall.</span></div><div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;<span class="comment">    * The transfer target bridge is merged into the transferee bridge. The transferer</span></div><div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;<span class="comment">    * channel is kicked out of the bridges as part of the merge.</span></div><div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;<span class="comment">    * Transitions from TRANSFER_BLOND_NONFINAL:</span></div><div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;<span class="comment">    * 1) TRANSFER_FAIL: Transferee hangs up</span></div><div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;<span class="comment">    * 2) TRANSFER_RESUME: Recall target answers</span></div><div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;<span class="comment">    * 3) TRANSFER_RECALLING: Recall target hangs up or time expires.</span></div><div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;   <a class="code" href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8afd695d9c2410d09ac50f1e002da07609">TRANSFER_BLOND_NONFINAL</a>,<span class="comment"></span></div><div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;<span class="comment">   /*!</span></div><div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;<span class="comment">    * \brief Recalling state</span></div><div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;<span class="comment">    * This state is entered if the recall target from the TRANSFER_BLOND_NONFINAL</span></div><div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;<span class="comment">    * or TRANSFER_RETRANSFER states hangs up or does not answer. The goal of this</span></div><div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;<span class="comment">    * state is to call back the original transferer in an attempt to recover the</span></div><div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;<span class="comment">    * original call.</span></div><div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;<span class="comment">    * Superstate: Recall</span></div><div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;<span class="comment">    * Preconditions:</span></div><div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;<span class="comment">    * 1) Recall target is down.</span></div><div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;<span class="comment">    * 2) Transferee is off hold.</span></div><div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;<span class="comment">    * Transitions to TRANSFER_RECALLING:</span></div><div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;<span class="comment">    * 1) TRANSFER_BLOND_NONFINAL: Recall target hangs up or time expires.</span></div><div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;<span class="comment">    * 2) TRANSFER_RETRANSFER: Recall target hangs up or time expires.</span></div><div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;<span class="comment">    *    atxferloopdelay is non-zero.</span></div><div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;<span class="comment">    * 3) TRANSFER_WAIT_TO_RECALL: Time expires.</span></div><div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;<span class="comment">    * State operation:</span></div><div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;<span class="comment">    * The original transferer becomes the recall target and is called using the Dialing API.</span></div><div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;<span class="comment">    * Ringing is indicated to the transferee.</span></div><div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;<span class="comment">    * Transitions from TRANSFER_RECALLING:</span></div><div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;<span class="comment">    * 1) TRANSFER_FAIL:</span></div><div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;<span class="comment">    *    a) Transferee hangs up.</span></div><div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;<span class="comment">    *    b) Recall target hangs up or time expires, and number of recall attempts exceeds atxfercallbackretries</span></div><div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;<span class="comment">    * 2) TRANSFER_WAIT_TO_RETRANSFER: Recall target hangs up or time expires.</span></div><div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;<span class="comment">    *    atxferloopdelay is non-zero.</span></div><div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;<span class="comment">    * 3) TRANSFER_RETRANSFER: Recall target hangs up or time expires.</span></div><div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;<span class="comment">    *    atxferloopdelay is zero.</span></div><div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;<span class="comment">    * 4) TRANSFER_RESUME: Recall target answers.</span></div><div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;   <a class="code" href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8afa5ecefd14d3ddf6fb4e8c9279747613">TRANSFER_RECALLING</a>,<span class="comment"></span></div><div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;<span class="comment">   /*!</span></div><div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;<span class="comment">    * \brief Wait to Retransfer state</span></div><div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;<span class="comment">    * This state is used simply to give a bit of breathing room between attempting</span></div><div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;<span class="comment">    * to call back the original transferer and attempting to call back the original</span></div><div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;<span class="comment">    * transfer target. The transferee hears music on hold during this state as an</span></div><div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;<span class="comment">    * auditory clue that no one is currently being dialed.</span></div><div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;<span class="comment">    * Superstate: Recall</span></div><div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;<span class="comment">    * Preconditions:</span></div><div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;<span class="comment">    * 1) Recall target is down.</span></div><div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;<span class="comment">    * 2) Transferee is off hold.</span></div><div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;<span class="comment">    * Transitions to TRANSFER_WAIT_TO_RETRANSFER:</span></div><div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;<span class="comment">    * 1) TRANSFER_RECALLING: Recall target hangs up or time expires.</span></div><div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;<span class="comment">    *    atxferloopdelay is non-zero.</span></div><div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;<span class="comment">    * State operation:</span></div><div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;<span class="comment">    * The transferee is placed on hold.</span></div><div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;<span class="comment">    * Transitions from TRANSFER_WAIT_TO_RETRANSFER:</span></div><div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;<span class="comment">    * 1) TRANSFER_FAIL: Transferee hangs up.</span></div><div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;<span class="comment">    * 2) TRANSFER_RETRANSFER: Time expires.</span></div><div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;   <a class="code" href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8a079027cbe132434fd8fd0848bced7c81">TRANSFER_WAIT_TO_RETRANSFER</a>,<span class="comment"></span></div><div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;<span class="comment">   /*!</span></div><div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;<span class="comment">    * \brief Retransfer state</span></div><div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;<span class="comment">    * This state is used in order to attempt to call back the original</span></div><div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;<span class="comment">    * transfer target channel from the transfer. The transferee hears</span></div><div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;<span class="comment">    * ringing during this state as an auditory cue that a party is being</span></div><div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;<span class="comment">    * dialed.</span></div><div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;<span class="comment">    * Superstate: Recall</span></div><div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;<span class="comment">    * Preconditions:</span></div><div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;<span class="comment">    * 1) Recall target is down.</span></div><div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;<span class="comment">    * 2) Transferee is off hold.</span></div><div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;<span class="comment">    * Transitions to TRANSFER_RETRANSFER:</span></div><div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;<span class="comment">    * 1) TRANSFER_RECALLING: Recall target hangs up or time expires.</span></div><div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;<span class="comment">    *    atxferloopdelay is zero.</span></div><div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;<span class="comment">    * 2) TRANSFER_WAIT_TO_RETRANSFER: Time expires.</span></div><div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;<span class="comment">    * State operation:</span></div><div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;<span class="comment">    * The original transfer target is requested and is set as the recall target.</span></div><div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;<span class="comment">    * The recall target is called and placed into the transferee bridge.</span></div><div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;<span class="comment">    * Transitions from TRANSFER_RETRANSFER:</span></div><div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;<span class="comment">    * 1) TRANSFER_FAIL: Transferee hangs up.</span></div><div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;<span class="comment">    * 2) TRANSFER_WAIT_TO_RECALL: Recall target hangs up or time expires.</span></div><div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;<span class="comment">    *    atxferloopdelay is non-zero.</span></div><div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;<span class="comment">    * 3) TRANSFER_RECALLING: Recall target hangs up or time expires.</span></div><div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;<span class="comment">    *    atxferloopdelay is zero.</span></div><div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;   <a class="code" href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8a61cf446eec4f2188e90d11eec6fd2396">TRANSFER_RETRANSFER</a>,<span class="comment"></span></div><div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;<span class="comment">   /*!</span></div><div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;<span class="comment">    * \brief Wait to recall state</span></div><div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;<span class="comment">    * This state is used simply to give a bit of breathing room between attempting</span></div><div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;<span class="comment">    * to call back the original transfer target and attempting to call back the</span></div><div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;<span class="comment">    * original transferer. The transferee hears music on hold during this state as an</span></div><div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;<span class="comment">    * auditory clue that no one is currently being dialed.</span></div><div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;<span class="comment">    * Superstate: Recall</span></div><div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;<span class="comment">    * Preconditions:</span></div><div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;<span class="comment">    * 1) Recall target is down.</span></div><div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;<span class="comment">    * 2) Transferee is off hold.</span></div><div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;<span class="comment">    * Transitions to TRANSFER_WAIT_TO_RECALL:</span></div><div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;<span class="comment">    * 1) TRANSFER_RETRANSFER: Recall target hangs up or time expires.</span></div><div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;<span class="comment">    *    atxferloopdelay is non-zero.</span></div><div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;<span class="comment">    * State operation:</span></div><div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;<span class="comment">    * Transferee is placed on hold.</span></div><div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;<span class="comment">    * Transitions from TRANSFER_WAIT_TO_RECALL:</span></div><div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;<span class="comment">    * 1) TRANSFER_FAIL: Transferee hangs up</span></div><div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;<span class="comment">    * 2) TRANSFER_RECALLING: Time expires</span></div><div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;   <a class="code" href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8a88843d550323b8ce636afd7469f17552">TRANSFER_WAIT_TO_RECALL</a>,<span class="comment"></span></div><div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;<span class="comment">   /*!</span></div><div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;<span class="comment">    * \brief Fail state</span></div><div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;<span class="comment">    * This state indicates that something occurred during the transfer that</span></div><div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;<span class="comment">    * makes a graceful completion impossible. The most common stimulus for this</span></div><div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;<span class="comment">    * state is when the transferee hangs up.</span></div><div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;<span class="comment">    * Superstate: Transfer and Recall</span></div><div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;<span class="comment">    * Preconditions:</span></div><div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;<span class="comment">    * None</span></div><div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;<span class="comment">    * Transitions to TRANSFER_FAIL:</span></div><div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;<span class="comment">    * 1) TRANSFER_CALLING_TARGET: Transferee hangs up.</span></div><div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;<span class="comment">    * 2) TRANSFER_HESITANT: Transferee hangs up.</span></div><div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;<span class="comment">    * 3) TRANSFER_DOUBLECHECKING: Transferee hangs up.</span></div><div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;<span class="comment">    * 4) TRANSFER_BLOND_NONFINAL: Transferee hangs up.</span></div><div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;<span class="comment">    * 5) TRANSFER_RECALLING:</span></div><div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;<span class="comment">    *    a) Transferee hangs up.</span></div><div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;<span class="comment">    *    b) Recall target hangs up or time expires, and number of</span></div><div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;<span class="comment">    *       recall attempts exceeds atxfercallbackretries.</span></div><div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;<span class="comment">    * 6) TRANSFER_WAIT_TO_RETRANSFER: Transferee hangs up.</span></div><div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;<span class="comment">    * 7) TRANSFER_RETRANSFER: Transferee hangs up.</span></div><div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;<span class="comment">    * 8) TRANSFER_WAIT_TO_RECALL: Transferee hangs up.</span></div><div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;<span class="comment">    * State operation:</span></div><div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;<span class="comment">    * A transfer stasis publication is made indicating a failed transfer.</span></div><div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;<span class="comment">    * The transferee bridge is destroyed.</span></div><div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;<span class="comment">    * Transitions from TRANSFER_FAIL:</span></div><div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;<span class="comment">    * None.</span></div><div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;   <a class="code" href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8a8383b06b8e11a417dca5329407478ee8">TRANSFER_FAIL</a>,</div><div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;};</div><div class="ttc" id="bridge__basic_8c_html_aad3447b0c2c1b069ac9437816db513d8a50814f10c33a876aa78ed3b96a2b1050"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8a50814f10c33a876aa78ed3b96a2b1050">TRANSFER_REBRIDGE</a></div><div class="ttdoc">Rebridge state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00870">bridge_basic.c:870</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_aad3447b0c2c1b069ac9437816db513d8ac19143ec75880c93f0c2483599b28343"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8ac19143ec75880c93f0c2483599b28343">TRANSFER_RESUME</a></div><div class="ttdoc">Resume state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00903">bridge_basic.c:903</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_aad3447b0c2c1b069ac9437816db513d8a46301fa6c06741434f7f8bbd53a5ec26"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8a46301fa6c06741434f7f8bbd53a5ec26">TRANSFER_COMPLETE</a></div><div class="ttdoc">Complete state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01018">bridge_basic.c:1018</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_aad3447b0c2c1b069ac9437816db513d8a079027cbe132434fd8fd0848bced7c81"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8a079027cbe132434fd8fd0848bced7c81">TRANSFER_WAIT_TO_RETRANSFER</a></div><div class="ttdoc">Wait to Retransfer state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01140">bridge_basic.c:1140</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_aad3447b0c2c1b069ac9437816db513d8a8383b06b8e11a417dca5329407478ee8"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8a8383b06b8e11a417dca5329407478ee8">TRANSFER_FAIL</a></div><div class="ttdoc">Fail state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01230">bridge_basic.c:1230</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_aad3447b0c2c1b069ac9437816db513d8ad60a6371cbe63dbd06152746f6fcd320"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8ad60a6371cbe63dbd06152746f6fcd320">TRANSFER_CONSULTING</a></div><div class="ttdoc">Consulting state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00957">bridge_basic.c:957</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_aad3447b0c2c1b069ac9437816db513d8a61cf446eec4f2188e90d11eec6fd2396"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8a61cf446eec4f2188e90d11eec6fd2396">TRANSFER_RETRANSFER</a></div><div class="ttdoc">Retransfer state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01171">bridge_basic.c:1171</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_aad3447b0c2c1b069ac9437816db513d8a327912f4d0734a2ea7b440531f0c5693"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8a327912f4d0734a2ea7b440531f0c5693">TRANSFER_DOUBLECHECKING</a></div><div class="ttdoc">Double-checking state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00987">bridge_basic.c:987</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_aad3447b0c2c1b069ac9437816db513d8ac92c2c41291ec0a68db5394709cb08f5"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8ac92c2c41291ec0a68db5394709cb08f5">TRANSFER_CALLING_TARGET</a></div><div class="ttdoc">Calling Target state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00808">bridge_basic.c:808</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_aad3447b0c2c1b069ac9437816db513d8a88843d550323b8ce636afd7469f17552"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8a88843d550323b8ce636afd7469f17552">TRANSFER_WAIT_TO_RECALL</a></div><div class="ttdoc">Wait to recall state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01197">bridge_basic.c:1197</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_aad3447b0c2c1b069ac9437816db513d8afd695d9c2410d09ac50f1e002da07609"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8afd695d9c2410d09ac50f1e002da07609">TRANSFER_BLOND_NONFINAL</a></div><div class="ttdoc">Blond non-final state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01079">bridge_basic.c:1079</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_aad3447b0c2c1b069ac9437816db513d8afa5ecefd14d3ddf6fb4e8c9279747613"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8afa5ecefd14d3ddf6fb4e8c9279747613">TRANSFER_RECALLING</a></div><div class="ttdoc">Recalling state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01114">bridge_basic.c:1114</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_aad3447b0c2c1b069ac9437816db513d8a8f04ac5b1a23d29e4faa78f8283eaf0e"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8a8f04ac5b1a23d29e4faa78f8283eaf0e">TRANSFER_HESITANT</a></div><div class="ttdoc">Hesitant state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00842">bridge_basic.c:842</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_aad3447b0c2c1b069ac9437816db513d8ab73883ddf660b1efa01fb5aeeb6a002f"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8ab73883ddf660b1efa01fb5aeeb6a002f">TRANSFER_BLOND</a></div><div class="ttdoc">Blond state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01047">bridge_basic.c:1047</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_aad3447b0c2c1b069ac9437816db513d8ac7c5f29c9c62b140951b3035b1783ca2"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8ac7c5f29c9c62b140951b3035b1783ca2">TRANSFER_THREEWAY</a></div><div class="ttdoc">Threeway state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00929">bridge_basic.c:929</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a5daf4668b3fba0aceee2e74622d74858"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5daf4668b3fba0aceee2e74622d74858">&#9670;&nbsp;</a></span>attended_transfer_state_flags</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../d7/d9b/bridge__basic_8c.html#a5daf4668b3fba0aceee2e74622d74858">attended_transfer_state_flags</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Flags that indicate properties of attended transfer states. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a5daf4668b3fba0aceee2e74622d74858a0d7b5731d9b9cd923680bb5562d0c019"></a>TRANSFER_STATE_FLAG_TIMER_RESET&#160;</td><td class="fielddoc"><p>This state requires that the timer be reset when entering the state </p>
</td></tr>
<tr><td class="fieldname"><a id="a5daf4668b3fba0aceee2e74622d74858ad501f6c4422c2b4da7986f4c07ed3e6b"></a>TRANSFER_STATE_FLAG_TIMER_LOOP_DELAY&#160;</td><td class="fielddoc"><p>This state's timer uses atxferloopdelay </p>
</td></tr>
<tr><td class="fieldname"><a id="a5daf4668b3fba0aceee2e74622d74858acd63dc0869afb651b40a65f5dc56c5e0"></a>TRANSFER_STATE_FLAG_ATXFER_NO_ANSWER&#160;</td><td class="fielddoc"><p>This state's timer uses atxfernoanswertimeout </p>
</td></tr>
<tr><td class="fieldname"><a id="a5daf4668b3fba0aceee2e74622d74858a621578eb561adbc4c3564e1b3fb27b24"></a>TRANSFER_STATE_FLAG_TIMED&#160;</td><td class="fielddoc"><p>This state has a time limit associated with it </p>
</td></tr>
<tr><td class="fieldname"><a id="a5daf4668b3fba0aceee2e74622d74858a9f933ee8ebf68a1262c85d6350830f87"></a>TRANSFER_STATE_FLAG_TERMINAL&#160;</td><td class="fielddoc"><p>This state does not transition to any other states </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01933">1933</a> of file <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html">bridge_basic.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;                                   {<span class="comment"></span></div><div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;<span class="comment">   /*! This state requires that the timer be reset when entering the state */</span></div><div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;   <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a5daf4668b3fba0aceee2e74622d74858a0d7b5731d9b9cd923680bb5562d0c019">TRANSFER_STATE_FLAG_TIMER_RESET</a> = (1 &lt;&lt; 0),<span class="comment"></span></div><div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;<span class="comment">   /*! This state&#39;s timer uses atxferloopdelay */</span></div><div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;   <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a5daf4668b3fba0aceee2e74622d74858ad501f6c4422c2b4da7986f4c07ed3e6b">TRANSFER_STATE_FLAG_TIMER_LOOP_DELAY</a> = (1 &lt;&lt; 1),<span class="comment"></span></div><div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;<span class="comment">   /*! This state&#39;s timer uses atxfernoanswertimeout */</span></div><div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;   <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a5daf4668b3fba0aceee2e74622d74858acd63dc0869afb651b40a65f5dc56c5e0">TRANSFER_STATE_FLAG_ATXFER_NO_ANSWER</a> = (1 &lt;&lt; 2),<span class="comment"></span></div><div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;<span class="comment">   /*! This state has a time limit associated with it */</span></div><div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160;   <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a5daf4668b3fba0aceee2e74622d74858a621578eb561adbc4c3564e1b3fb27b24">TRANSFER_STATE_FLAG_TIMED</a> = (<a class="code" href="../../d7/d9b/bridge__basic_8c.html#a5daf4668b3fba0aceee2e74622d74858a0d7b5731d9b9cd923680bb5562d0c019">TRANSFER_STATE_FLAG_TIMER_RESET</a> |</div><div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;         <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a5daf4668b3fba0aceee2e74622d74858ad501f6c4422c2b4da7986f4c07ed3e6b">TRANSFER_STATE_FLAG_TIMER_LOOP_DELAY</a> | <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a5daf4668b3fba0aceee2e74622d74858acd63dc0869afb651b40a65f5dc56c5e0">TRANSFER_STATE_FLAG_ATXFER_NO_ANSWER</a>),<span class="comment"></span></div><div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160;<span class="comment">   /*! This state does not transition to any other states */</span></div><div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;   <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a5daf4668b3fba0aceee2e74622d74858a9f933ee8ebf68a1262c85d6350830f87">TRANSFER_STATE_FLAG_TERMINAL</a> = (1 &lt;&lt; 3),</div><div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;};</div><div class="ttc" id="bridge__basic_8c_html_a5daf4668b3fba0aceee2e74622d74858a0d7b5731d9b9cd923680bb5562d0c019"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a5daf4668b3fba0aceee2e74622d74858a0d7b5731d9b9cd923680bb5562d0c019">TRANSFER_STATE_FLAG_TIMER_RESET</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01935">bridge_basic.c:1935</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a5daf4668b3fba0aceee2e74622d74858ad501f6c4422c2b4da7986f4c07ed3e6b"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a5daf4668b3fba0aceee2e74622d74858ad501f6c4422c2b4da7986f4c07ed3e6b">TRANSFER_STATE_FLAG_TIMER_LOOP_DELAY</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01937">bridge_basic.c:1937</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a5daf4668b3fba0aceee2e74622d74858a9f933ee8ebf68a1262c85d6350830f87"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a5daf4668b3fba0aceee2e74622d74858a9f933ee8ebf68a1262c85d6350830f87">TRANSFER_STATE_FLAG_TERMINAL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01944">bridge_basic.c:1944</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a5daf4668b3fba0aceee2e74622d74858acd63dc0869afb651b40a65f5dc56c5e0"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a5daf4668b3fba0aceee2e74622d74858acd63dc0869afb651b40a65f5dc56c5e0">TRANSFER_STATE_FLAG_ATXFER_NO_ANSWER</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01939">bridge_basic.c:1939</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a5daf4668b3fba0aceee2e74622d74858a621578eb561adbc4c3564e1b3fb27b24"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a5daf4668b3fba0aceee2e74622d74858a621578eb561adbc4c3564e1b3fb27b24">TRANSFER_STATE_FLAG_TIMED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01941">bridge_basic.c:1941</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a4d527c82e3033559518a3626b8b03290"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4d527c82e3033559518a3626b8b03290">&#9670;&nbsp;</a></span>attended_transfer_stimulus</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290">attended_transfer_stimulus</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stimuli that can cause transfer state changes. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a4d527c82e3033559518a3626b8b03290ae3857d51b5e8970ac1e3714bc1d46fe1"></a>STIMULUS_NONE&#160;</td><td class="fielddoc"><p>No stimulus. This literally can never happen. </p>
</td></tr>
<tr><td class="fieldname"><a id="a4d527c82e3033559518a3626b8b03290a5bea635a52d3e646fe86091457310934"></a>STIMULUS_TRANSFEREE_HANGUP&#160;</td><td class="fielddoc"><p>All of the transferee channels have been hung up. </p>
</td></tr>
<tr><td class="fieldname"><a id="a4d527c82e3033559518a3626b8b03290a800bb00b2e8ab7a8f11092b3bb2fba11"></a>STIMULUS_TRANSFERER_HANGUP&#160;</td><td class="fielddoc"><p>The transferer has hung up. </p>
</td></tr>
<tr><td class="fieldname"><a id="a4d527c82e3033559518a3626b8b03290a5b7c4fdcec2b5bea9e9be459dc924492"></a>STIMULUS_TRANSFER_TARGET_HANGUP&#160;</td><td class="fielddoc"><p>The transfer target channel has hung up. </p>
</td></tr>
<tr><td class="fieldname"><a id="a4d527c82e3033559518a3626b8b03290a7615240e3b359bd98d9949ff77e102c2"></a>STIMULUS_TRANSFER_TARGET_ANSWER&#160;</td><td class="fielddoc"><p>The transfer target channel has answered. </p>
</td></tr>
<tr><td class="fieldname"><a id="a4d527c82e3033559518a3626b8b03290a41d7bde458129adf0121c70ba361258a"></a>STIMULUS_RECALL_TARGET_HANGUP&#160;</td><td class="fielddoc"><p>The recall target channel has hung up. </p>
</td></tr>
<tr><td class="fieldname"><a id="a4d527c82e3033559518a3626b8b03290a49ac501f06885c9839a8833e0639d38f"></a>STIMULUS_RECALL_TARGET_ANSWER&#160;</td><td class="fielddoc"><p>The recall target channel has answered. </p>
</td></tr>
<tr><td class="fieldname"><a id="a4d527c82e3033559518a3626b8b03290ad811a249bfc0c9c585652f461b127180"></a>STIMULUS_TIMEOUT&#160;</td><td class="fielddoc"><p>The current state's timer has expired. </p>
</td></tr>
<tr><td class="fieldname"><a id="a4d527c82e3033559518a3626b8b03290a72d10e2721ad55addb0b84175f5280d0"></a>STIMULUS_DTMF_ATXFER_ABORT&#160;</td><td class="fielddoc"><p>The transferer pressed the abort DTMF sequence. </p>
</td></tr>
<tr><td class="fieldname"><a id="a4d527c82e3033559518a3626b8b03290a9b6689669975b3d4767ca6284d721775"></a>STIMULUS_DTMF_ATXFER_COMPLETE&#160;</td><td class="fielddoc"><p>The transferer pressed the complete DTMF sequence. </p>
</td></tr>
<tr><td class="fieldname"><a id="a4d527c82e3033559518a3626b8b03290a6f6c487fc2723093806c52b62c7ae80a"></a>STIMULUS_DTMF_ATXFER_THREEWAY&#160;</td><td class="fielddoc"><p>The transferer pressed the three-way DTMF sequence. </p>
</td></tr>
<tr><td class="fieldname"><a id="a4d527c82e3033559518a3626b8b03290ac4c70db40c8740dc43a331ab483f3c1c"></a>STIMULUS_DTMF_ATXFER_SWAP&#160;</td><td class="fielddoc"><p>The transferer pressed the swap DTMF sequence. </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01236">1236</a> of file <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html">bridge_basic.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;                                {<span class="comment"></span></div><div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;<span class="comment">   /*! No stimulus. This literally can never happen. */</span></div><div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;   <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290ae3857d51b5e8970ac1e3714bc1d46fe1">STIMULUS_NONE</a>,<span class="comment"></span></div><div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;<span class="comment">   /*! All of the transferee channels have been hung up. */</span></div><div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;   <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a5bea635a52d3e646fe86091457310934">STIMULUS_TRANSFEREE_HANGUP</a>,<span class="comment"></span></div><div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;<span class="comment">   /*! The transferer has hung up. */</span></div><div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;   <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a800bb00b2e8ab7a8f11092b3bb2fba11">STIMULUS_TRANSFERER_HANGUP</a>,<span class="comment"></span></div><div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;<span class="comment">   /*! The transfer target channel has hung up. */</span></div><div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;   <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a5b7c4fdcec2b5bea9e9be459dc924492">STIMULUS_TRANSFER_TARGET_HANGUP</a>,<span class="comment"></span></div><div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;<span class="comment">   /*! The transfer target channel has answered. */</span></div><div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;   <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a7615240e3b359bd98d9949ff77e102c2">STIMULUS_TRANSFER_TARGET_ANSWER</a>,<span class="comment"></span></div><div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;<span class="comment">   /*! The recall target channel has hung up. */</span></div><div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;   <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a41d7bde458129adf0121c70ba361258a">STIMULUS_RECALL_TARGET_HANGUP</a>,<span class="comment"></span></div><div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;<span class="comment">   /*! The recall target channel has answered. */</span></div><div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;   <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a49ac501f06885c9839a8833e0639d38f">STIMULUS_RECALL_TARGET_ANSWER</a>,<span class="comment"></span></div><div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;<span class="comment">   /*! The current state&#39;s timer has expired. */</span></div><div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;   <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290ad811a249bfc0c9c585652f461b127180">STIMULUS_TIMEOUT</a>,<span class="comment"></span></div><div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;<span class="comment">   /*! The transferer pressed the abort DTMF sequence. */</span></div><div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;   <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a72d10e2721ad55addb0b84175f5280d0">STIMULUS_DTMF_ATXFER_ABORT</a>,<span class="comment"></span></div><div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;<span class="comment">   /*! The transferer pressed the complete DTMF sequence. */</span></div><div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;   <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a9b6689669975b3d4767ca6284d721775">STIMULUS_DTMF_ATXFER_COMPLETE</a>,<span class="comment"></span></div><div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;<span class="comment">   /*! The transferer pressed the three-way DTMF sequence. */</span></div><div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;   <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a6f6c487fc2723093806c52b62c7ae80a">STIMULUS_DTMF_ATXFER_THREEWAY</a>,<span class="comment"></span></div><div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;<span class="comment">   /*! The transferer pressed the swap DTMF sequence. */</span></div><div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;   <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290ac4c70db40c8740dc43a331ab483f3c1c">STIMULUS_DTMF_ATXFER_SWAP</a>,</div><div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;};</div><div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290a49ac501f06885c9839a8833e0639d38f"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a49ac501f06885c9839a8833e0639d38f">STIMULUS_RECALL_TARGET_ANSWER</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01250">bridge_basic.c:1250</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290a41d7bde458129adf0121c70ba361258a"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a41d7bde458129adf0121c70ba361258a">STIMULUS_RECALL_TARGET_HANGUP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01248">bridge_basic.c:1248</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290a9b6689669975b3d4767ca6284d721775"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a9b6689669975b3d4767ca6284d721775">STIMULUS_DTMF_ATXFER_COMPLETE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01256">bridge_basic.c:1256</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290a5bea635a52d3e646fe86091457310934"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a5bea635a52d3e646fe86091457310934">STIMULUS_TRANSFEREE_HANGUP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01240">bridge_basic.c:1240</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290a800bb00b2e8ab7a8f11092b3bb2fba11"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a800bb00b2e8ab7a8f11092b3bb2fba11">STIMULUS_TRANSFERER_HANGUP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01242">bridge_basic.c:1242</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290a72d10e2721ad55addb0b84175f5280d0"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a72d10e2721ad55addb0b84175f5280d0">STIMULUS_DTMF_ATXFER_ABORT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01254">bridge_basic.c:1254</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290a5b7c4fdcec2b5bea9e9be459dc924492"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a5b7c4fdcec2b5bea9e9be459dc924492">STIMULUS_TRANSFER_TARGET_HANGUP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01244">bridge_basic.c:1244</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290ae3857d51b5e8970ac1e3714bc1d46fe1"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290ae3857d51b5e8970ac1e3714bc1d46fe1">STIMULUS_NONE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01238">bridge_basic.c:1238</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290a6f6c487fc2723093806c52b62c7ae80a"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a6f6c487fc2723093806c52b62c7ae80a">STIMULUS_DTMF_ATXFER_THREEWAY</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01258">bridge_basic.c:1258</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290ad811a249bfc0c9c585652f461b127180"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290ad811a249bfc0c9c585652f461b127180">STIMULUS_TIMEOUT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01252">bridge_basic.c:1252</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290a7615240e3b359bd98d9949ff77e102c2"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a7615240e3b359bd98d9949ff77e102c2">STIMULUS_TRANSFER_TARGET_ANSWER</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01246">bridge_basic.c:1246</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290ac4c70db40c8740dc43a331ab483f3c1c"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290ac4c70db40c8740dc43a331ab483f3c1c">STIMULUS_DTMF_ATXFER_SWAP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01260">bridge_basic.c:1260</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af112aa999551130fecf72643a55825f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af112aa999551130fecf72643a55825f1">&#9670;&nbsp;</a></span>attended_transfer_superstate</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../d7/d9b/bridge__basic_8c.html#af112aa999551130fecf72643a55825f1">attended_transfer_superstate</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Attended transfer superstates. </p>
<p>An attended transfer's progress is facilitated by a state machine. The individual states of the state machine fall into the realm of one of two superstates. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="af112aa999551130fecf72643a55825f1a2c2e0690e7bcd2336e63e8cbba077db5"></a>SUPERSTATE_TRANSFER&#160;</td><td class="fielddoc"><p>Transfer superstate. </p>
<p>The attended transfer state machine begins in this superstate. The goal of this state is for a transferer channel to facilitate a transfer from a transferee to a transfer target.</p>
<p>There are two bridges used in this superstate. The transferee bridge is the bridge that the transferer and transferee channels originally communicate in, and the target bridge is the bridge where the transfer target is being dialed.</p>
<p>The transferer channel is capable of moving between the bridges using the DTMF swap sequence. </p>
</td></tr>
<tr><td class="fieldname"><a id="af112aa999551130fecf72643a55825f1a467b5984311242980b0d7722887a6667"></a>SUPERSTATE_RECALL&#160;</td><td class="fielddoc"><p>Recall superstate. </p>
<p>The attended transfer state machine moves to this superstate if atxferdropcall is set to "no" and the transferer channel hangs up during a transfer. The goal in this superstate is to call back either the transfer target or transferer and rebridge with the transferee <a class="el" href="../../d4/d84/structchannel.html">channel(s)</a>.</p>
<p>In this superstate, there is only a single bridge used, the original transferee bridge. Rather than distinguishing between a transferer and transfer target, all outbound calls are toward a "recall_target" channel. </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00737">737</a> of file <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html">bridge_basic.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;                                  {<span class="comment"></span></div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;<span class="comment">   /*!</span></div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;<span class="comment">    * \brief Transfer superstate</span></div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;<span class="comment">    * The attended transfer state machine begins in this superstate. The</span></div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;<span class="comment">    * goal of this state is for a transferer channel to facilitate a</span></div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;<span class="comment">    * transfer from a transferee to a transfer target.</span></div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;<span class="comment">    * There are two bridges used in this superstate. The transferee bridge is</span></div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;<span class="comment">    * the bridge that the transferer and transferee channels originally</span></div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;<span class="comment">    * communicate in, and the target bridge is the bridge where the transfer</span></div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;<span class="comment">    * target is being dialed.</span></div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;<span class="comment">    * The transferer channel is capable of moving between the bridges using</span></div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;<span class="comment">    * the DTMF swap sequence.</span></div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;   <a class="code" href="../../d7/d9b/bridge__basic_8c.html#af112aa999551130fecf72643a55825f1a2c2e0690e7bcd2336e63e8cbba077db5">SUPERSTATE_TRANSFER</a>,<span class="comment"></span></div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;<span class="comment">   /*!</span></div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;<span class="comment">    * \brief Recall superstate</span></div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;<span class="comment">    * The attended transfer state machine moves to this superstate if</span></div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;<span class="comment">    * atxferdropcall is set to &quot;no&quot; and the transferer channel hangs up</span></div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;<span class="comment">    * during a transfer. The goal in this superstate is to call back either</span></div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;<span class="comment">    * the transfer target or transferer and rebridge with the transferee</span></div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;<span class="comment">    * channel(s).</span></div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;<span class="comment">    * In this superstate, there is only a single bridge used, the original</span></div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;<span class="comment">    * transferee bridge. Rather than distinguishing between a transferer</span></div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;<span class="comment">    * and transfer target, all outbound calls are toward a &quot;recall_target&quot;</span></div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;<span class="comment">    * channel.</span></div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;   <a class="code" href="../../d7/d9b/bridge__basic_8c.html#af112aa999551130fecf72643a55825f1a467b5984311242980b0d7722887a6667">SUPERSTATE_RECALL</a>,</div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;};</div><div class="ttc" id="bridge__basic_8c_html_af112aa999551130fecf72643a55825f1a467b5984311242980b0d7722887a6667"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#af112aa999551130fecf72643a55825f1a467b5984311242980b0d7722887a6667">SUPERSTATE_RECALL</a></div><div class="ttdoc">Recall superstate. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00768">bridge_basic.c:768</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_af112aa999551130fecf72643a55825f1a2c2e0690e7bcd2336e63e8cbba077db5"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#af112aa999551130fecf72643a55825f1a2c2e0690e7bcd2336e63e8cbba077db5">SUPERSTATE_TRANSFER</a></div><div class="ttdoc">Transfer superstate. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00753">bridge_basic.c:753</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a704d0cced1ceae046ad985c904dc4c6c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a704d0cced1ceae046ad985c904dc4c6c">&#9670;&nbsp;</a></span>bridge_basic_personality_type</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../d7/d9b/bridge__basic_8c.html#a704d0cced1ceae046ad985c904dc4c6c">bridge_basic_personality_type</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a704d0cced1ceae046ad985c904dc4c6ca843f6ac2918dbe2aeb6f7dd1155a90e2"></a>BRIDGE_BASIC_PERSONALITY_NORMAL&#160;</td><td class="fielddoc"><p>Index for "normal" basic bridge personality </p>
</td></tr>
<tr><td class="fieldname"><a id="a704d0cced1ceae046ad985c904dc4c6cac186ac818f5734c04a1f641b9a5670ce"></a>BRIDGE_BASIC_PERSONALITY_ATXFER&#160;</td><td class="fielddoc"><p>Index for attended transfer basic bridge personality </p>
</td></tr>
<tr><td class="fieldname"><a id="a704d0cced1ceae046ad985c904dc4c6cafeeedb5cc22a30a65c6899e04ec06d2d"></a>BRIDGE_BASIC_PERSONALITY_END&#160;</td><td class="fielddoc"><p>Indicates end of enum. Must always remain the last element </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00058">58</a> of file <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html">bridge_basic.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;                                   {<span class="comment"></span></div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="comment">   /*! Index for &quot;normal&quot; basic bridge personality */</span></div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;   <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a704d0cced1ceae046ad985c904dc4c6ca843f6ac2918dbe2aeb6f7dd1155a90e2">BRIDGE_BASIC_PERSONALITY_NORMAL</a>,<span class="comment"></span></div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="comment">   /*! Index for attended transfer basic bridge personality */</span></div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;   <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a704d0cced1ceae046ad985c904dc4c6cac186ac818f5734c04a1f641b9a5670ce">BRIDGE_BASIC_PERSONALITY_ATXFER</a>,<span class="comment"></span></div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="comment">   /*! Indicates end of enum. Must always remain the last element */</span></div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;   <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a704d0cced1ceae046ad985c904dc4c6cafeeedb5cc22a30a65c6899e04ec06d2d">BRIDGE_BASIC_PERSONALITY_END</a>,</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;};</div><div class="ttc" id="bridge__basic_8c_html_a704d0cced1ceae046ad985c904dc4c6cafeeedb5cc22a30a65c6899e04ec06d2d"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a704d0cced1ceae046ad985c904dc4c6cafeeedb5cc22a30a65c6899e04ec06d2d">BRIDGE_BASIC_PERSONALITY_END</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00064">bridge_basic.c:64</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a704d0cced1ceae046ad985c904dc4c6ca843f6ac2918dbe2aeb6f7dd1155a90e2"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a704d0cced1ceae046ad985c904dc4c6ca843f6ac2918dbe2aeb6f7dd1155a90e2">BRIDGE_BASIC_PERSONALITY_NORMAL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00060">bridge_basic.c:60</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a704d0cced1ceae046ad985c904dc4c6cac186ac818f5734c04a1f641b9a5670ce"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a704d0cced1ceae046ad985c904dc4c6cac186ac818f5734c04a1f641b9a5670ce">BRIDGE_BASIC_PERSONALITY_ATXFER</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00062">bridge_basic.c:62</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a5ffac345d4f2d6a42d0ffc875e0ddcf8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5ffac345d4f2d6a42d0ffc875e0ddcf8">&#9670;&nbsp;</a></span>add_normal_hooks()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int add_normal_hooks </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *&#160;</td>
          <td class="paramname"><em>bridge</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *&#160;</td>
          <td class="paramname"><em>bridge_channel</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00641">641</a> of file <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html">bridge_basic.c</a>.</p>

<p class="reference">References <a class="el" href="../../d0/d95/bridge_8c_source.html#l03328">ast_bridge_hangup_hook()</a>, <a class="el" href="../../dc/d7a/bridge__features_8h_source.html#l00183">AST_BRIDGE_HOOK_REMOVE_ON_PULL</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00290">basic_hangup_hook()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00631">bridge_basic_setup_features()</a>, <a class="el" href="../../de/d41/bridge__channel_8h_source.html#l00132">ast_bridge_channel::features</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00662">bridge_personality_normal_push()</a>, and <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l03563">on_personality_change_normal()</a>.</p>
<div class="fragment"><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;{</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dc/d7a/bridge__features_8h.html#a1b26efd7ce4e09afa9402dc0a30d5e4a">ast_bridge_hangup_hook</a>(bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a65633fdc6178dc8d9f754fda0166d16e">features</a>, <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a348708f1b551fd7b043579f0209b4f5f">basic_hangup_hook</a>,</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;         <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7a/bridge__features_8h.html#a41510c1f43cb3401f5c7c88d9c9a8d11a2b221cc62ec019751101af0d7a754cb5">AST_BRIDGE_HOOK_REMOVE_ON_PULL</a>)</div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;      || <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a83aea8772e20812021b87eb820da75e5">bridge_basic_setup_features</a>(bridge_channel);</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;}</div><div class="ttc" id="bridge__basic_8c_html_a348708f1b551fd7b043579f0209b4f5f"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a348708f1b551fd7b043579f0209b4f5f">basic_hangup_hook</a></div><div class="ttdeci">static int basic_hangup_hook(struct ast_bridge_channel *bridge_channel, void *hook_pvt)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00290">bridge_basic.c:290</a></div></div>
<div class="ttc" id="structast__bridge__channel_html_a65633fdc6178dc8d9f754fda0166d16e"><div class="ttname"><a href="../../d5/dca/structast__bridge__channel.html#a65633fdc6178dc8d9f754fda0166d16e">ast_bridge_channel::features</a></div><div class="ttdeci">struct ast_bridge_features * features</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00132">bridge_channel.h:132</a></div></div>
<div class="ttc" id="bridge__features_8h_html_a41510c1f43cb3401f5c7c88d9c9a8d11a2b221cc62ec019751101af0d7a754cb5"><div class="ttname"><a href="../../dc/d7a/bridge__features_8h.html#a41510c1f43cb3401f5c7c88d9c9a8d11a2b221cc62ec019751101af0d7a754cb5">AST_BRIDGE_HOOK_REMOVE_ON_PULL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00183">bridge_features.h:183</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="bridge__features_8h_html_a1b26efd7ce4e09afa9402dc0a30d5e4a"><div class="ttname"><a href="../../dc/d7a/bridge__features_8h.html#a1b26efd7ce4e09afa9402dc0a30d5e4a">ast_bridge_hangup_hook</a></div><div class="ttdeci">int ast_bridge_hangup_hook(struct ast_bridge_features *features, ast_bridge_hook_callback callback, void *hook_pvt, ast_bridge_hook_pvt_destructor destructor, enum ast_bridge_hook_remove_flags remove_flags)</div><div class="ttdoc">Attach a hangup hook to a bridge features structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l03328">bridge.c:3328</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a83aea8772e20812021b87eb820da75e5"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a83aea8772e20812021b87eb820da75e5">bridge_basic_setup_features</a></div><div class="ttdeci">static int bridge_basic_setup_features(struct ast_bridge_channel *bridge_channel)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00631">bridge_basic.c:631</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab8717a1dc6d72feda12b953ee8436f8b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab8717a1dc6d72feda12b953ee8436f8b">&#9670;&nbsp;</a></span>add_transferer_role()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int add_transferer_role </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d2/d6e/structast__bridge__features__attended__transfer.html">ast_bridge_features_attended_transfer</a> *&#160;</td>
          <td class="paramname"><em>attended_transfer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l03121">3121</a> of file <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html">bridge_basic.c</a>.</p>

<p class="reference">References <a class="el" href="../../dc/d7a/bridge__features_8h_source.html#l00301">ast_bridge_features_attended_transfer::abort</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../dd/d13/bridge__roles_8c_source.html#l00317">ast_channel_add_bridge_role()</a>, <a class="el" href="../../dd/d13/bridge__roles_8c_source.html#l00379">ast_channel_set_bridge_role_option()</a>, <a class="el" href="../../de/d71/features__config_8c_source.html#l01143">ast_get_chan_features_xfer_config()</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00300">ast_strdupa</a>, <a class="el" href="../../d4/d1e/bridge__basic_8h_source.html#l00036">AST_TRANSFERER_ROLE_NAME</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02741">atxfer_abort()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02755">atxfer_complete()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02783">atxfer_swap()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02769">atxfer_threeway()</a>, <a class="el" href="../../d0/daa/include_2asterisk_2features__config_8h_source.html#l00075">ast_features_xfer_config::atxferabort</a>, <a class="el" href="../../d0/daa/include_2asterisk_2features__config_8h_source.html#l00075">ast_features_xfer_config::atxfercomplete</a>, <a class="el" href="../../d0/daa/include_2asterisk_2features__config_8h_source.html#l00075">ast_features_xfer_config::atxferswap</a>, <a class="el" href="../../d0/daa/include_2asterisk_2features__config_8h_source.html#l00075">ast_features_xfer_config::atxferthreeway</a>, <a class="el" href="../../dc/d7a/bridge__features_8h_source.html#l00305">ast_bridge_features_attended_transfer::complete</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l01091">lock</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00079">S_OR</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00617">SCOPED_CHANNELLOCK</a>, <a class="el" href="../../dc/d7a/bridge__features_8h_source.html#l00307">ast_bridge_features_attended_transfer::swap</a>, and <a class="el" href="../../dc/d7a/bridge__features_8h_source.html#l00303">ast_bridge_features_attended_transfer::threeway</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l03295">feature_attended_transfer()</a>.</p>
<div class="fragment"><div class="line"><a name="l03122"></a><span class="lineno"> 3122</span>&#160;{</div><div class="line"><a name="l03123"></a><span class="lineno"> 3123</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d7/d9b/bridge__basic_8c.html#a29852304212ba3e0f81e86da89dc32ee">atxfer_abort</a>;</div><div class="line"><a name="l03124"></a><span class="lineno"> 3124</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d7/d9b/bridge__basic_8c.html#af85bc300c029f95cb2a1fc9157038a70">atxfer_threeway</a>;</div><div class="line"><a name="l03125"></a><span class="lineno"> 3125</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d7/d9b/bridge__basic_8c.html#a1df8ed0f1a107e2fc9e816c3bdce6c77">atxfer_complete</a>;</div><div class="line"><a name="l03126"></a><span class="lineno"> 3126</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d7/d9b/bridge__basic_8c.html#a35d4f19b94994f238ebd6a7183828c2e">atxfer_swap</a>;</div><div class="line"><a name="l03127"></a><span class="lineno"> 3127</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../df/db6/structast__features__xfer__config.html">ast_features_xfer_config</a> *xfer_cfg;</div><div class="line"><a name="l03128"></a><span class="lineno"> 3128</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#aa11d2e2d6aaa7048d48491842c1de738">SCOPED_CHANNELLOCK</a>(<a class="code" href="../../df/d44/app__meetme_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>, chan);</div><div class="line"><a name="l03129"></a><span class="lineno"> 3129</span>&#160;</div><div class="line"><a name="l03130"></a><span class="lineno"> 3130</span>&#160;   xfer_cfg = <a class="code" href="../../d0/daa/include_2asterisk_2features__config_8h.html#ab442de0580c9cee7ae5e10886e28ed8c">ast_get_chan_features_xfer_config</a>(chan);</div><div class="line"><a name="l03131"></a><span class="lineno"> 3131</span>&#160;   <span class="keywordflow">if</span> (!xfer_cfg) {</div><div class="line"><a name="l03132"></a><span class="lineno"> 3132</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l03133"></a><span class="lineno"> 3133</span>&#160;   }</div><div class="line"><a name="l03134"></a><span class="lineno"> 3134</span>&#160;   <span class="keywordflow">if</span> (attended_transfer) {</div><div class="line"><a name="l03135"></a><span class="lineno"> 3135</span>&#160;      atxfer_abort = <a class="code" href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a>(<a class="code" href="../../d6/d90/strings_8h.html#a2faaa16929951bfd2802b7829a100ba2">S_OR</a>(attended_transfer-&gt;<a class="code" href="../../d2/d6e/structast__bridge__features__attended__transfer.html#aaa9a1411a87e0f29f91b1bfcaae2f434">abort</a>, xfer_cfg-&gt;<a class="code" href="../../df/db6/structast__features__xfer__config.html#accc66e66bdb446fd63c4a72b33056ed6">atxferabort</a>));</div><div class="line"><a name="l03136"></a><span class="lineno"> 3136</span>&#160;      atxfer_threeway = <a class="code" href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a>(<a class="code" href="../../d6/d90/strings_8h.html#a2faaa16929951bfd2802b7829a100ba2">S_OR</a>(attended_transfer-&gt;<a class="code" href="../../d2/d6e/structast__bridge__features__attended__transfer.html#a3b0bf553e6d1b31d4debb49e5db8fa93">threeway</a>, xfer_cfg-&gt;<a class="code" href="../../df/db6/structast__features__xfer__config.html#a23cc60bf04f168d94850123d5cb64e4b">atxferthreeway</a>));</div><div class="line"><a name="l03137"></a><span class="lineno"> 3137</span>&#160;      atxfer_complete = <a class="code" href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a>(<a class="code" href="../../d6/d90/strings_8h.html#a2faaa16929951bfd2802b7829a100ba2">S_OR</a>(attended_transfer-&gt;<a class="code" href="../../d2/d6e/structast__bridge__features__attended__transfer.html#aa7e4f1544e3eef40dc8d8dc649aa723e">complete</a>, xfer_cfg-&gt;<a class="code" href="../../df/db6/structast__features__xfer__config.html#a75e30a88d638ffe170bf01614e296c18">atxfercomplete</a>));</div><div class="line"><a name="l03138"></a><span class="lineno"> 3138</span>&#160;      atxfer_swap = <a class="code" href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a>(<a class="code" href="../../d6/d90/strings_8h.html#a2faaa16929951bfd2802b7829a100ba2">S_OR</a>(attended_transfer-&gt;<a class="code" href="../../d2/d6e/structast__bridge__features__attended__transfer.html#a2828b64a91e9d550393b55c91bbbf878">swap</a>, xfer_cfg-&gt;<a class="code" href="../../df/db6/structast__features__xfer__config.html#ace34ac591fea56577043d83240388669">atxferswap</a>));</div><div class="line"><a name="l03139"></a><span class="lineno"> 3139</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l03140"></a><span class="lineno"> 3140</span>&#160;      atxfer_abort = <a class="code" href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a>(xfer_cfg-&gt;<a class="code" href="../../df/db6/structast__features__xfer__config.html#accc66e66bdb446fd63c4a72b33056ed6">atxferabort</a>);</div><div class="line"><a name="l03141"></a><span class="lineno"> 3141</span>&#160;      atxfer_threeway = <a class="code" href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a>(xfer_cfg-&gt;<a class="code" href="../../df/db6/structast__features__xfer__config.html#a23cc60bf04f168d94850123d5cb64e4b">atxferthreeway</a>);</div><div class="line"><a name="l03142"></a><span class="lineno"> 3142</span>&#160;      atxfer_complete = <a class="code" href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a>(xfer_cfg-&gt;<a class="code" href="../../df/db6/structast__features__xfer__config.html#a75e30a88d638ffe170bf01614e296c18">atxfercomplete</a>);</div><div class="line"><a name="l03143"></a><span class="lineno"> 3143</span>&#160;      atxfer_swap = <a class="code" href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a>(xfer_cfg-&gt;<a class="code" href="../../df/db6/structast__features__xfer__config.html#ace34ac591fea56577043d83240388669">atxferswap</a>);</div><div class="line"><a name="l03144"></a><span class="lineno"> 3144</span>&#160;   }</div><div class="line"><a name="l03145"></a><span class="lineno"> 3145</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(xfer_cfg, -1);</div><div class="line"><a name="l03146"></a><span class="lineno"> 3146</span>&#160;</div><div class="line"><a name="l03147"></a><span class="lineno"> 3147</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dd/dff/bridge__roles_8h.html#a8511ad15a10f0b6269094ad307ba17a2">ast_channel_add_bridge_role</a>(chan, <a class="code" href="../../d4/d1e/bridge__basic_8h.html#a0b6d741f492cd88fd405a10396c62ab6">AST_TRANSFERER_ROLE_NAME</a>) ||</div><div class="line"><a name="l03148"></a><span class="lineno"> 3148</span>&#160;      <a class="code" href="../../dd/dff/bridge__roles_8h.html#a3c1bc5238aea4e2d19c9894c1b68a457">ast_channel_set_bridge_role_option</a>(chan, <a class="code" href="../../d4/d1e/bridge__basic_8h.html#a0b6d741f492cd88fd405a10396c62ab6">AST_TRANSFERER_ROLE_NAME</a>, <span class="stringliteral">&quot;abort&quot;</span>, atxfer_abort) ||</div><div class="line"><a name="l03149"></a><span class="lineno"> 3149</span>&#160;      <a class="code" href="../../dd/dff/bridge__roles_8h.html#a3c1bc5238aea4e2d19c9894c1b68a457">ast_channel_set_bridge_role_option</a>(chan, <a class="code" href="../../d4/d1e/bridge__basic_8h.html#a0b6d741f492cd88fd405a10396c62ab6">AST_TRANSFERER_ROLE_NAME</a>, <span class="stringliteral">&quot;complete&quot;</span>, atxfer_complete) ||</div><div class="line"><a name="l03150"></a><span class="lineno"> 3150</span>&#160;      <a class="code" href="../../dd/dff/bridge__roles_8h.html#a3c1bc5238aea4e2d19c9894c1b68a457">ast_channel_set_bridge_role_option</a>(chan, <a class="code" href="../../d4/d1e/bridge__basic_8h.html#a0b6d741f492cd88fd405a10396c62ab6">AST_TRANSFERER_ROLE_NAME</a>, <span class="stringliteral">&quot;threeway&quot;</span>, atxfer_threeway) ||</div><div class="line"><a name="l03151"></a><span class="lineno"> 3151</span>&#160;      <a class="code" href="../../dd/dff/bridge__roles_8h.html#a3c1bc5238aea4e2d19c9894c1b68a457">ast_channel_set_bridge_role_option</a>(chan, <a class="code" href="../../d4/d1e/bridge__basic_8h.html#a0b6d741f492cd88fd405a10396c62ab6">AST_TRANSFERER_ROLE_NAME</a>, <span class="stringliteral">&quot;swap&quot;</span>, atxfer_swap);</div><div class="line"><a name="l03152"></a><span class="lineno"> 3152</span>&#160;}</div><div class="ttc" id="structast__features__xfer__config_html"><div class="ttname"><a href="../../df/db6/structast__features__xfer__config.html">ast_features_xfer_config</a></div><div class="ttdoc">Feature configuration relating to transfers. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/daa/include_2asterisk_2features__config_8h_source.html#l00057">include/asterisk/features_config.h:57</a></div></div>
<div class="ttc" id="structast__bridge__features__attended__transfer_html_aa7e4f1544e3eef40dc8d8dc649aa723e"><div class="ttname"><a href="../../d2/d6e/structast__bridge__features__attended__transfer.html#aa7e4f1544e3eef40dc8d8dc649aa723e">ast_bridge_features_attended_transfer::complete</a></div><div class="ttdeci">char complete[MAXIMUM_DTMF_FEATURE_STRING]</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00305">bridge_features.h:305</a></div></div>
<div class="ttc" id="structast__features__xfer__config_html_accc66e66bdb446fd63c4a72b33056ed6"><div class="ttname"><a href="../../df/db6/structast__features__xfer__config.html#accc66e66bdb446fd63c4a72b33056ed6">ast_features_xfer_config::atxferabort</a></div><div class="ttdeci">const ast_string_field atxferabort</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/daa/include_2asterisk_2features__config_8h_source.html#l00075">include/asterisk/features_config.h:75</a></div></div>
<div class="ttc" id="structast__features__xfer__config_html_a23cc60bf04f168d94850123d5cb64e4b"><div class="ttname"><a href="../../df/db6/structast__features__xfer__config.html#a23cc60bf04f168d94850123d5cb64e4b">ast_features_xfer_config::atxferthreeway</a></div><div class="ttdeci">const ast_string_field atxferthreeway</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/daa/include_2asterisk_2features__config_8h_source.html#l00075">include/asterisk/features_config.h:75</a></div></div>
<div class="ttc" id="structast__features__xfer__config_html_a75e30a88d638ffe170bf01614e296c18"><div class="ttname"><a href="../../df/db6/structast__features__xfer__config.html#a75e30a88d638ffe170bf01614e296c18">ast_features_xfer_config::atxfercomplete</a></div><div class="ttdeci">const ast_string_field atxfercomplete</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/daa/include_2asterisk_2features__config_8h_source.html#l00075">include/asterisk/features_config.h:75</a></div></div>
<div class="ttc" id="include_2asterisk_2features__config_8h_html_ab442de0580c9cee7ae5e10886e28ed8c"><div class="ttname"><a href="../../d0/daa/include_2asterisk_2features__config_8h.html#ab442de0580c9cee7ae5e10886e28ed8c">ast_get_chan_features_xfer_config</a></div><div class="ttdeci">struct ast_features_xfer_config * ast_get_chan_features_xfer_config(struct ast_channel *chan)</div><div class="ttdoc">Get the transfer configuration options for a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d71/features__config_8c_source.html#l01143">features_config.c:1143</a></div></div>
<div class="ttc" id="bridge__roles_8h_html_a8511ad15a10f0b6269094ad307ba17a2"><div class="ttname"><a href="../../dd/dff/bridge__roles_8h.html#a8511ad15a10f0b6269094ad307ba17a2">ast_channel_add_bridge_role</a></div><div class="ttdeci">int ast_channel_add_bridge_role(struct ast_channel *chan, const char *role_name)</div><div class="ttdoc">Adds a bridge role to a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d13/bridge__roles_8c_source.html#l00317">bridge_roles.c:317</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a1df8ed0f1a107e2fc9e816c3bdce6c77"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a1df8ed0f1a107e2fc9e816c3bdce6c77">atxfer_complete</a></div><div class="ttdeci">static int atxfer_complete(struct ast_bridge_channel *bridge_channel, void *hook_pvt)</div><div class="ttdoc">DTMF hook when transferer presses complete sequence. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l02755">bridge_basic.c:2755</a></div></div>
<div class="ttc" id="bridge__roles_8h_html_a3c1bc5238aea4e2d19c9894c1b68a457"><div class="ttname"><a href="../../dd/dff/bridge__roles_8h.html#a3c1bc5238aea4e2d19c9894c1b68a457">ast_channel_set_bridge_role_option</a></div><div class="ttdeci">int ast_channel_set_bridge_role_option(struct ast_channel *channel, const char *role_name, const char *option, const char *value)</div><div class="ttdoc">Set a role option on a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d13/bridge__roles_8c_source.html#l00379">bridge_roles.c:379</a></div></div>
<div class="ttc" id="lock_8h_html_aa11d2e2d6aaa7048d48491842c1de738"><div class="ttname"><a href="../../dd/d42/lock_8h.html#aa11d2e2d6aaa7048d48491842c1de738">SCOPED_CHANNELLOCK</a></div><div class="ttdeci">#define SCOPED_CHANNELLOCK(varname, chan)</div><div class="ttdoc">scoped lock specialization for channels. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00617">lock.h:617</a></div></div>
<div class="ttc" id="app__meetme_8c_html_adf04f66344e3fb0a6f6a69bf39d19902"><div class="ttname"><a href="../../df/d44/app__meetme_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a></div><div class="ttdeci">ast_mutex_t lock</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d44/app__meetme_8c_source.html#l01091">app_meetme.c:1091</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="astmm_8h_html_ab5f0750cc80ba337fdcbddea2d3a1ee6"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a></div><div class="ttdeci">#define ast_strdupa(s)</div><div class="ttdoc">duplicate a string in memory from the stack </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00300">astmm.h:300</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_af85bc300c029f95cb2a1fc9157038a70"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#af85bc300c029f95cb2a1fc9157038a70">atxfer_threeway</a></div><div class="ttdeci">static int atxfer_threeway(struct ast_bridge_channel *bridge_channel, void *hook_pvt)</div><div class="ttdoc">DTMF hook when transferer presses threeway sequence. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l02769">bridge_basic.c:2769</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a29852304212ba3e0f81e86da89dc32ee"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a29852304212ba3e0f81e86da89dc32ee">atxfer_abort</a></div><div class="ttdeci">static int atxfer_abort(struct ast_bridge_channel *bridge_channel, void *hook_pvt)</div><div class="ttdoc">DTMF hook when transferer presses abort sequence. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l02741">bridge_basic.c:2741</a></div></div>
<div class="ttc" id="bridge__basic_8h_html_a0b6d741f492cd88fd405a10396c62ab6"><div class="ttname"><a href="../../d4/d1e/bridge__basic_8h.html#a0b6d741f492cd88fd405a10396c62ab6">AST_TRANSFERER_ROLE_NAME</a></div><div class="ttdeci">#define AST_TRANSFERER_ROLE_NAME</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d1e/bridge__basic_8h_source.html#l00036">bridge_basic.h:36</a></div></div>
<div class="ttc" id="structast__features__xfer__config_html_ace34ac591fea56577043d83240388669"><div class="ttname"><a href="../../df/db6/structast__features__xfer__config.html#ace34ac591fea56577043d83240388669">ast_features_xfer_config::atxferswap</a></div><div class="ttdeci">const ast_string_field atxferswap</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/daa/include_2asterisk_2features__config_8h_source.html#l00075">include/asterisk/features_config.h:75</a></div></div>
<div class="ttc" id="structast__bridge__features__attended__transfer_html_a3b0bf553e6d1b31d4debb49e5db8fa93"><div class="ttname"><a href="../../d2/d6e/structast__bridge__features__attended__transfer.html#a3b0bf553e6d1b31d4debb49e5db8fa93">ast_bridge_features_attended_transfer::threeway</a></div><div class="ttdeci">char threeway[MAXIMUM_DTMF_FEATURE_STRING]</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00303">bridge_features.h:303</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a35d4f19b94994f238ebd6a7183828c2e"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a35d4f19b94994f238ebd6a7183828c2e">atxfer_swap</a></div><div class="ttdeci">static int atxfer_swap(struct ast_bridge_channel *bridge_channel, void *hook_pvt)</div><div class="ttdoc">DTMF hook when transferer presses swap sequence. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l02783">bridge_basic.c:2783</a></div></div>
<div class="ttc" id="strings_8h_html_a2faaa16929951bfd2802b7829a100ba2"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a2faaa16929951bfd2802b7829a100ba2">S_OR</a></div><div class="ttdeci">#define S_OR(a, b)</div><div class="ttdoc">returns the equivalent of logic or for strings: first one if not empty, otherwise second one...</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00079">strings.h:79</a></div></div>
<div class="ttc" id="structast__bridge__features__attended__transfer_html_aaa9a1411a87e0f29f91b1bfcaae2f434"><div class="ttname"><a href="../../d2/d6e/structast__bridge__features__attended__transfer.html#aaa9a1411a87e0f29f91b1bfcaae2f434">ast_bridge_features_attended_transfer::abort</a></div><div class="ttdeci">char abort[MAXIMUM_DTMF_FEATURE_STRING]</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00301">bridge_features.h:301</a></div></div>
<div class="ttc" id="structast__bridge__features__attended__transfer_html_a2828b64a91e9d550393b55c91bbbf878"><div class="ttname"><a href="../../d2/d6e/structast__bridge__features__attended__transfer.html#a2828b64a91e9d550393b55c91bbbf878">ast_bridge_features_attended_transfer::swap</a></div><div class="ttdeci">char swap[MAXIMUM_DTMF_FEATURE_STRING]</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00307">bridge_features.h:307</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a1410fb71fa67f9ee92f15b18439b7571"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1410fb71fa67f9ee92f15b18439b7571">&#9670;&nbsp;</a></span>ast_bridge_basic_new()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a>* ast_bridge_basic_new </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a new basic class bridge. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">a</td><td>pointer to a new bridge on success </td></tr>
    <tr><td class="paramname">NULL</td><td>on failure</td></tr>
  </table>
  </dd>
</dl>
<p>Example usage:</p>
<div class="fragment"><div class="line"><span class="keyword">struct </span><a class="code" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *bridge;</div><div class="line">bridge = <a class="code" href="../../d4/d1e/bridge__basic_8h.html#a1410fb71fa67f9ee92f15b18439b7571">ast_bridge_basic_new</a>();</div></div><!-- fragment --><p>This creates a basic two party bridge with any configured DTMF features enabled that will be destroyed once one of the channels hangs up. </p>

<p class="definition">Definition at line <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l03617">3617</a> of file <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html">bridge_basic.c</a>.</p>

<p class="reference">References <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l03526">ast_bridge_basic_v_table</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00092">AST_BRIDGE_CAPABILITY_1TO1MIX</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00094">AST_BRIDGE_CAPABILITY_MULTIMIX</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00090">AST_BRIDGE_CAPABILITY_NATIVE</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l00724">bridge_alloc()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l00760">bridge_base_init()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l03594">bridge_basic_personality_alloc()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l00709">bridge_register()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00051">NORMAL_FLAGS</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/d92/features_8c_source.html#l00757">action_bridge()</a>, <a class="el" href="../../de/d11/app__agent__pool_8c_source.html#l01889">agent_request_exec()</a>, <a class="el" href="../../d5/d92/features_8c_source.html#l00633">ast_bridge_call_with_flags()</a>, <a class="el" href="../../df/dae/test__bridging_8c_source.html#l00198">AST_TEST_DEFINE()</a>, <a class="el" href="../../d5/d92/features_8c_source.html#l01007">bridge_exec()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l03295">feature_attended_transfer()</a>, and <a class="el" href="../../da/ded/parking__applications_8c_source.html#l00603">parked_call_app_exec()</a>.</p>
<div class="fragment"><div class="line"><a name="l03618"></a><span class="lineno"> 3618</span>&#160;{</div><div class="line"><a name="l03619"></a><span class="lineno"> 3619</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *bridge;</div><div class="line"><a name="l03620"></a><span class="lineno"> 3620</span>&#160;</div><div class="line"><a name="l03621"></a><span class="lineno"> 3621</span>&#160;   bridge = <a class="code" href="../../d5/dde/bridge__internal_8h.html#adf0e64783980f762008ac238f2dbe715">bridge_alloc</a>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../d4/d84/structast__bridge.html">ast_bridge</a>), &amp;<a class="code" href="../../d7/d9b/bridge__basic_8c.html#a0cead317de0ed25caffc93f8b30d2860">ast_bridge_basic_v_table</a>);</div><div class="line"><a name="l03622"></a><span class="lineno"> 3622</span>&#160;   bridge = <a class="code" href="../../d5/dde/bridge__internal_8h.html#a38c501242153bbe13d0eda31220637b8">bridge_base_init</a>(bridge,</div><div class="line"><a name="l03623"></a><span class="lineno"> 3623</span>&#160;      <a class="code" href="../../d4/d56/bridge_8h.html#a815c9b3e933dfd4b8f523cf55caa5bbfaec2d0fff3f4f8df0d9ef6b4d9be78380">AST_BRIDGE_CAPABILITY_NATIVE</a> | <a class="code" href="../../d4/d56/bridge_8h.html#a815c9b3e933dfd4b8f523cf55caa5bbfaf483c951b835fcc35da807b6a4b12509">AST_BRIDGE_CAPABILITY_1TO1MIX</a></div><div class="line"><a name="l03624"></a><span class="lineno"> 3624</span>&#160;         | <a class="code" href="../../d4/d56/bridge_8h.html#a815c9b3e933dfd4b8f523cf55caa5bbfabd40da8a498f3027c44dfa2e92d5f4ac">AST_BRIDGE_CAPABILITY_MULTIMIX</a>, <a class="code" href="../../d7/d9b/bridge__basic_8c.html#affbfe95d6aa54eb6a5809641f8e62852">NORMAL_FLAGS</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l03625"></a><span class="lineno"> 3625</span>&#160;   bridge = <a class="code" href="../../d7/d9b/bridge__basic_8c.html#af4e7c9178ab49b996eec4303b41f9b44">bridge_basic_personality_alloc</a>(bridge);</div><div class="line"><a name="l03626"></a><span class="lineno"> 3626</span>&#160;   bridge = <a class="code" href="../../d5/dde/bridge__internal_8h.html#a8690315fd0d12e16671f9d22eacfa8f0">bridge_register</a>(bridge);</div><div class="line"><a name="l03627"></a><span class="lineno"> 3627</span>&#160;   <span class="keywordflow">return</span> bridge;</div><div class="line"><a name="l03628"></a><span class="lineno"> 3628</span>&#160;}</div><div class="ttc" id="bridge_8h_html_a815c9b3e933dfd4b8f523cf55caa5bbfaec2d0fff3f4f8df0d9ef6b4d9be78380"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a815c9b3e933dfd4b8f523cf55caa5bbfaec2d0fff3f4f8df0d9ef6b4d9be78380">AST_BRIDGE_CAPABILITY_NATIVE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00090">bridge.h:90</a></div></div>
<div class="ttc" id="bridge__internal_8h_html_a8690315fd0d12e16671f9d22eacfa8f0"><div class="ttname"><a href="../../d5/dde/bridge__internal_8h.html#a8690315fd0d12e16671f9d22eacfa8f0">bridge_register</a></div><div class="ttdeci">struct ast_bridge * bridge_register(struct ast_bridge *bridge)</div><div class="ttdoc">Register the new bridge with the system. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l00709">bridge.c:709</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="bridge_8h_html_a815c9b3e933dfd4b8f523cf55caa5bbfabd40da8a498f3027c44dfa2e92d5f4ac"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a815c9b3e933dfd4b8f523cf55caa5bbfabd40da8a498f3027c44dfa2e92d5f4ac">AST_BRIDGE_CAPABILITY_MULTIMIX</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00094">bridge.h:94</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_affbfe95d6aa54eb6a5809641f8e62852"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#affbfe95d6aa54eb6a5809641f8e62852">NORMAL_FLAGS</a></div><div class="ttdeci">#define NORMAL_FLAGS</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00051">bridge_basic.c:51</a></div></div>
<div class="ttc" id="bridge_8h_html_a815c9b3e933dfd4b8f523cf55caa5bbfaf483c951b835fcc35da807b6a4b12509"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a815c9b3e933dfd4b8f523cf55caa5bbfaf483c951b835fcc35da807b6a4b12509">AST_BRIDGE_CAPABILITY_1TO1MIX</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00092">bridge.h:92</a></div></div>
<div class="ttc" id="bridge__internal_8h_html_adf0e64783980f762008ac238f2dbe715"><div class="ttname"><a href="../../d5/dde/bridge__internal_8h.html#adf0e64783980f762008ac238f2dbe715">bridge_alloc</a></div><div class="ttdeci">struct ast_bridge * bridge_alloc(size_t size, const struct ast_bridge_methods *v_table)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l00724">bridge.c:724</a></div></div>
<div class="ttc" id="bridge__internal_8h_html_a38c501242153bbe13d0eda31220637b8"><div class="ttname"><a href="../../d5/dde/bridge__internal_8h.html#a38c501242153bbe13d0eda31220637b8">bridge_base_init</a></div><div class="ttdeci">struct ast_bridge * bridge_base_init(struct ast_bridge *self, uint32_t capabilities, unsigned int flags, const char *creator, const char *name, const char *id)</div><div class="ttdoc">Initialize the base class of the bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l00760">bridge.c:760</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_af4e7c9178ab49b996eec4303b41f9b44"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#af4e7c9178ab49b996eec4303b41f9b44">bridge_basic_personality_alloc</a></div><div class="ttdeci">static struct ast_bridge * bridge_basic_personality_alloc(struct ast_bridge *bridge)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l03594">bridge_basic.c:3594</a></div></div>
<div class="ttc" id="structast__bridge_html"><div class="ttname"><a href="../../d4/d84/structast__bridge.html">ast_bridge</a></div><div class="ttdoc">Structure that contains information about a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00357">bridge.h:357</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a0cead317de0ed25caffc93f8b30d2860"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a0cead317de0ed25caffc93f8b30d2860">ast_bridge_basic_v_table</a></div><div class="ttdeci">struct ast_bridge_methods ast_bridge_basic_v_table</div><div class="ttdoc">Bridge basic class virtual method table. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l03526">bridge_basic.c:3526</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3532f26d87ff1bdddd1b7d945b6c5802"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3532f26d87ff1bdddd1b7d945b6c5802">&#9670;&nbsp;</a></span>ast_bridge_basic_set_flags()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_bridge_basic_set_flags </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *&#160;</td>
          <td class="paramname"><em>bridge</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set feature flags on a basic bridge. </p>
<p>Using this function instead of setting flags directly will ensure that after operations such as an attended transfer, the bridge will maintain the flags that were set on it.</p>
<p>Flags to set on the bridge. These are added to the flags already set. </p>

<p class="definition">Definition at line <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l03630">3630</a> of file <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html">bridge_basic.c</a>.</p>

<p class="reference">References <a class="el" href="../../d4/d56/bridge_8h_source.html#l00480">ast_bridge_lock</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00493">ast_bridge_unlock</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00070">ast_set_flag</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00317">personality_details::bridge_flags</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00329">bridge_basic_personality::current</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00331">bridge_basic_personality::details</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00377">ast_bridge::feature_flags</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l01091">lock</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00361">ast_bridge::personality</a>, and <a class="el" href="../../dd/d42/lock_8h_source.html#l00581">SCOPED_LOCK</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/d92/features_8c_source.html#l00633">ast_bridge_call_with_flags()</a>.</p>
<div class="fragment"><div class="line"><a name="l03631"></a><span class="lineno"> 3631</span>&#160;{</div><div class="line"><a name="l03632"></a><span class="lineno"> 3632</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a8b9d9f2f2c41ecf3c70587c2510dddfc">SCOPED_LOCK</a>(<a class="code" href="../../df/d44/app__meetme_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>, bridge, <a class="code" href="../../d4/d56/bridge_8h.html#ab8ee807d2c3a21d19e16fedf35c90de8">ast_bridge_lock</a>, <a class="code" href="../../d4/d56/bridge_8h.html#a0fb66f4741ca8d106af1917a2f1aab6e">ast_bridge_unlock</a>);</div><div class="line"><a name="l03633"></a><span class="lineno"> 3633</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/d3b/structbridge__basic__personality.html">bridge_basic_personality</a> *personality = bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a92af4d6802e170d70b27035ee963ccb4">personality</a>;</div><div class="line"><a name="l03634"></a><span class="lineno"> 3634</span>&#160;</div><div class="line"><a name="l03635"></a><span class="lineno"> 3635</span>&#160;   personality-&gt;<a class="code" href="../../dc/d3b/structbridge__basic__personality.html#aa37b1b6dd2f0a609d3c93d21125ef9f7">details</a>[personality-&gt;<a class="code" href="../../dc/d3b/structbridge__basic__personality.html#a713a6e81262dbc01e30bfc2a49245fdb">current</a>].<a class="code" href="../../d6/da5/structpersonality__details.html#a6d3a1dc1ce563ff36fc9cde975150b15">bridge_flags</a> |= flags;</div><div class="line"><a name="l03636"></a><span class="lineno"> 3636</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#ab5033a1f3d781d45e7ccc27598114510">ast_set_flag</a>(&amp;bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#af15c2e8b6df8ce0bf570af18aa890deb">feature_flags</a>, flags);</div><div class="line"><a name="l03637"></a><span class="lineno"> 3637</span>&#160;}</div><div class="ttc" id="structast__bridge_html_af15c2e8b6df8ce0bf570af18aa890deb"><div class="ttname"><a href="../../d4/d84/structast__bridge.html#af15c2e8b6df8ce0bf570af18aa890deb">ast_bridge::feature_flags</a></div><div class="ttdeci">struct ast_flags feature_flags</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00377">bridge.h:377</a></div></div>
<div class="ttc" id="structpersonality__details_html_a6d3a1dc1ce563ff36fc9cde975150b15"><div class="ttname"><a href="../../d6/da5/structpersonality__details.html#a6d3a1dc1ce563ff36fc9cde975150b15">personality_details::bridge_flags</a></div><div class="ttdeci">unsigned int bridge_flags</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00317">bridge_basic.c:317</a></div></div>
<div class="ttc" id="utils_8h_html_ab5033a1f3d781d45e7ccc27598114510"><div class="ttname"><a href="../../d5/d60/utils_8h.html#ab5033a1f3d781d45e7ccc27598114510">ast_set_flag</a></div><div class="ttdeci">#define ast_set_flag(p, flag)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00070">utils.h:70</a></div></div>
<div class="ttc" id="structbridge__basic__personality_html_a713a6e81262dbc01e30bfc2a49245fdb"><div class="ttname"><a href="../../dc/d3b/structbridge__basic__personality.html#a713a6e81262dbc01e30bfc2a49245fdb">bridge_basic_personality::current</a></div><div class="ttdeci">enum bridge_basic_personality_type current</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00329">bridge_basic.c:329</a></div></div>
<div class="ttc" id="structast__bridge_html_a92af4d6802e170d70b27035ee963ccb4"><div class="ttname"><a href="../../d4/d84/structast__bridge.html#a92af4d6802e170d70b27035ee963ccb4">ast_bridge::personality</a></div><div class="ttdeci">void * personality</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00361">bridge.h:361</a></div></div>
<div class="ttc" id="app__meetme_8c_html_adf04f66344e3fb0a6f6a69bf39d19902"><div class="ttname"><a href="../../df/d44/app__meetme_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a></div><div class="ttdeci">ast_mutex_t lock</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d44/app__meetme_8c_source.html#l01091">app_meetme.c:1091</a></div></div>
<div class="ttc" id="lock_8h_html_a8b9d9f2f2c41ecf3c70587c2510dddfc"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a8b9d9f2f2c41ecf3c70587c2510dddfc">SCOPED_LOCK</a></div><div class="ttdeci">#define SCOPED_LOCK(varname, lock, lockfunc, unlockfunc)</div><div class="ttdoc">Scoped Locks. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00581">lock.h:581</a></div></div>
<div class="ttc" id="structbridge__basic__personality_html"><div class="ttname"><a href="../../dc/d3b/structbridge__basic__personality.html">bridge_basic_personality</a></div><div class="ttdoc">structure that organizes different personalities for basic bridges. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00327">bridge_basic.c:327</a></div></div>
<div class="ttc" id="bridge_8h_html_a0fb66f4741ca8d106af1917a2f1aab6e"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a0fb66f4741ca8d106af1917a2f1aab6e">ast_bridge_unlock</a></div><div class="ttdeci">#define ast_bridge_unlock(bridge)</div><div class="ttdoc">Unlock the bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00493">bridge.h:493</a></div></div>
<div class="ttc" id="bridge_8h_html_ab8ee807d2c3a21d19e16fedf35c90de8"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#ab8ee807d2c3a21d19e16fedf35c90de8">ast_bridge_lock</a></div><div class="ttdeci">#define ast_bridge_lock(bridge)</div><div class="ttdoc">Lock the bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00480">bridge.h:480</a></div></div>
<div class="ttc" id="structbridge__basic__personality_html_aa37b1b6dd2f0a609d3c93d21125ef9f7"><div class="ttname"><a href="../../dc/d3b/structbridge__basic__personality.html#aa37b1b6dd2f0a609d3c93d21125ef9f7">bridge_basic_personality::details</a></div><div class="ttdeci">struct personality_details details[BRIDGE_BASIC_PERSONALITY_END]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00331">bridge_basic.c:331</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="abbf75b17211128395690d45b99aad6f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abbf75b17211128395690d45b99aad6f4">&#9670;&nbsp;</a></span>ast_bridge_features_ds_append()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_bridge_features_ds_append </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../dc/dac/structast__flags.html">ast_flags</a> *&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Append basic bridge DTMF feature flags on the channel. </p>
<dl class="section since"><dt>Since</dt><dd>12.0.0</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chan</td><td>Channel to append DTMF features datastore. </td></tr>
    <tr><td class="paramname">flags</td><td>Builtin DTMF feature flags. (<a class="el" href="../../d0/d13/structast__bridge__config.html" title="bridge configuration ">ast_bridge_config</a> flags)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>The channel must be locked before calling this function. </dd>
<dd>
This function differs from ast_bridge_features_ds_set only in that it won't remove features already set on the channel.</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>on success. </td></tr>
    <tr><td class="paramname">-1</td><td>on error. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00263">263</a> of file <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html">bridge_basic.c</a>.</p>

<p class="reference">References <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00224">bridge_features_ds_set_full()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/d92/features_8c_source.html#l00536">pre_bridge_setup()</a>.</p>
<div class="fragment"><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;{</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#ad9bb0bf0db1fc99d0f4e835a88134aaf">bridge_features_ds_set_full</a>(chan, flags, 0);</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;}</div><div class="ttc" id="bridge__basic_8c_html_ad9bb0bf0db1fc99d0f4e835a88134aaf"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#ad9bb0bf0db1fc99d0f4e835a88134aaf">bridge_features_ds_set_full</a></div><div class="ttdeci">static int bridge_features_ds_set_full(struct ast_channel *chan, struct ast_flags *flags, int replace)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00224">bridge_basic.c:224</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a53690d96fd11f8e502cf5fdc74ee3315"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a53690d96fd11f8e502cf5fdc74ee3315">&#9670;&nbsp;</a></span>ast_bridge_features_ds_get()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../dc/dac/structast__flags.html">ast_flags</a>* ast_bridge_features_ds_get </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get DTMF feature flags from the channel. </p>
<dl class="section since"><dt>Since</dt><dd>12.0.0</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chan</td><td>Channel to get DTMF features datastore.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>The channel should be locked before calling this function. </dd>
<dd>
The channel must remain locked until the flags returned have been consumed.</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">flags</td><td>on success. </td></tr>
    <tr><td class="paramname">NULL</td><td>if the datastore does not exist. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00268">268</a> of file <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html">bridge_basic.c</a>.</p>

<p class="reference">References <a class="el" href="../../d4/d28/channel_8c_source.html#l02404">ast_channel_datastore_find()</a>, <a class="el" href="../../d9/db6/datastore_8h_source.html#l00070">ast_datastore::data</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00208">ast_bridge_features_ds_get_string()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01409">attended_transfer_properties_alloc()</a>, <a class="el" href="../../db/d81/parking__controller_8c_source.html#l00215">parked_call_retrieve_enable_features()</a>, and <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00400">setup_bridge_features_builtin()</a>.</p>
<div class="fragment"><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;{</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d5d/structast__datastore.html">ast_datastore</a> *datastore;</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;   datastore = <a class="code" href="../../d5/d7b/channel_8h.html#aad1e09cd7c79237d05cffb45d6cdfd7c">ast_channel_datastore_find</a>(chan, &amp;<a class="code" href="../../d7/d9b/bridge__basic_8c.html#a7c346e79c5a420fa078d3a43c498047d">dtmf_features_info</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;   <span class="keywordflow">if</span> (!datastore) {</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;   }</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;   <span class="keywordflow">return</span> datastore-&gt;<a class="code" href="../../d4/d5d/structast__datastore.html#a735984d41155bc1032e09bece8f8d66d">data</a>;</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;}</div><div class="ttc" id="bridge__basic_8c_html_a7c346e79c5a420fa078d3a43c498047d"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a7c346e79c5a420fa078d3a43c498047d">dtmf_features_info</a></div><div class="ttdeci">static const struct ast_datastore_info dtmf_features_info</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00082">bridge_basic.c:82</a></div></div>
<div class="ttc" id="structast__datastore_html"><div class="ttname"><a href="../../d4/d5d/structast__datastore.html">ast_datastore</a></div><div class="ttdoc">Structure for a data store object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00068">datastore.h:68</a></div></div>
<div class="ttc" id="channel_8h_html_aad1e09cd7c79237d05cffb45d6cdfd7c"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#aad1e09cd7c79237d05cffb45d6cdfd7c">ast_channel_datastore_find</a></div><div class="ttdeci">struct ast_datastore * ast_channel_datastore_find(struct ast_channel *chan, const struct ast_datastore_info *info, const char *uid)</div><div class="ttdoc">Find a datastore on a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l02404">channel.c:2404</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structast__datastore_html_a735984d41155bc1032e09bece8f8d66d"><div class="ttname"><a href="../../d4/d5d/structast__datastore.html#a735984d41155bc1032e09bece8f8d66d">ast_datastore::data</a></div><div class="ttdeci">void * data</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00070">datastore.h:70</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a0d744033e13c08dabc909e2aa76b8f00"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d744033e13c08dabc909e2aa76b8f00">&#9670;&nbsp;</a></span>ast_bridge_features_ds_get_string()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_bridge_features_ds_get_string </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>buf_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>writes a channel's DTMF features to a buffer string </p>
<dl class="section since"><dt>Since</dt><dd>12.0.0</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chan</td><td>channel whose feature flags should be checked </td></tr>
    <tr><td class="paramname">buffer</td><td>pointer string buffer where the output should be stored </td></tr>
    <tr><td class="paramname">buf_size</td><td>size of the provided buffer (ideally enough for all features, 6+)</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>on successful write </td></tr>
    <tr><td class="paramname">-1</td><td>on failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00208">208</a> of file <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html">bridge_basic.c</a>.</p>

<p class="reference">References <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00268">ast_bridge_features_ds_get()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02945">ast_channel_lock</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, and <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00133">dtmf_features_flags_to_string()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d3d/func__channel_8c_source.html#l00290">func_channel_read()</a>.</p>
<div class="fragment"><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;{</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/dac/structast__flags.html">ast_flags</a> *channel_flags;</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/dac/structast__flags.html">ast_flags</a> held_copy;</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(chan);</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;   <span class="keywordflow">if</span> (!(channel_flags = <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a53690d96fd11f8e502cf5fdc74ee3315">ast_bridge_features_ds_get</a>(chan))) {</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;   }</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;   held_copy = *channel_flags;</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a9f18179107893291d8c5dc3647b29e44">dtmf_features_flags_to_string</a>(&amp;held_copy, buffer, buf_size);</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;}</div><div class="ttc" id="channel_8h_html_a493bdebe876caafb8ee535853310364a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a></div><div class="ttdeci">#define ast_channel_lock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02945">channel.h:2945</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a9f18179107893291d8c5dc3647b29e44"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a9f18179107893291d8c5dc3647b29e44">dtmf_features_flags_to_string</a></div><div class="ttdeci">static int dtmf_features_flags_to_string(struct ast_flags *feature_flags, char *buffer, size_t buffer_size)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00133">bridge_basic.c:133</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a53690d96fd11f8e502cf5fdc74ee3315"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a53690d96fd11f8e502cf5fdc74ee3315">ast_bridge_features_ds_get</a></div><div class="ttdeci">struct ast_flags * ast_bridge_features_ds_get(struct ast_channel *chan)</div><div class="ttdoc">Get DTMF feature flags from the channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00268">bridge_basic.c:268</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="structast__flags_html"><div class="ttname"><a href="../../dc/dac/structast__flags.html">ast_flags</a></div><div class="ttdoc">Structure used to handle boolean flags. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00199">utils.h:199</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab20a6f49985f34f55c05e2125c9e9d6a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab20a6f49985f34f55c05e2125c9e9d6a">&#9670;&nbsp;</a></span>ast_bridge_features_ds_set()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_bridge_features_ds_set </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../dc/dac/structast__flags.html">ast_flags</a> *&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set basic bridge DTMF feature flags datastore on the channel. </p>
<dl class="section since"><dt>Since</dt><dd>12.0.0</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chan</td><td>Channel to set DTMF features datastore. </td></tr>
    <tr><td class="paramname">flags</td><td>Builtin DTMF feature flags. (<a class="el" href="../../d0/d13/structast__bridge__config.html" title="bridge configuration ">ast_bridge_config</a> flags)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>The channel must be locked before calling this function.</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>on success. </td></tr>
    <tr><td class="paramname">-1</td><td>on error. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00258">258</a> of file <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html">bridge_basic.c</a>.</p>

<p class="reference">References <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00224">bridge_features_ds_set_full()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00189">ast_bridge_features_ds_set_string()</a>, <a class="el" href="../../db/d81/parking__controller_8c_source.html#l00215">parked_call_retrieve_enable_features()</a>, and <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02517">recalling_exit()</a>.</p>
<div class="fragment"><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;{</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#ad9bb0bf0db1fc99d0f4e835a88134aaf">bridge_features_ds_set_full</a>(chan, flags, 1);</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;}</div><div class="ttc" id="bridge__basic_8c_html_ad9bb0bf0db1fc99d0f4e835a88134aaf"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#ad9bb0bf0db1fc99d0f4e835a88134aaf">bridge_features_ds_set_full</a></div><div class="ttdeci">static int bridge_features_ds_set_full(struct ast_channel *chan, struct ast_flags *flags, int replace)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00224">bridge_basic.c:224</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aaa080560f0e7820e1ace263e18ac7f9e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaa080560f0e7820e1ace263e18ac7f9e">&#9670;&nbsp;</a></span>ast_bridge_features_ds_set_string()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_bridge_features_ds_set_string </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>features</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the features a channel will use upon being bridged. </p>
<dl class="section since"><dt>Since</dt><dd>12.0.0</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chan</td><td>Which channel to set features for </td></tr>
    <tr><td class="paramname">features</td><td>Which feature codes to set for the channel</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>on success </td></tr>
    <tr><td class="paramname">-1</td><td>on failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00189">189</a> of file <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html">bridge_basic.c</a>.</p>

<p class="reference">References <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00258">ast_bridge_features_ds_set()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02945">ast_channel_lock</a>, <a class="el" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00162">build_dtmf_features()</a>, and <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d3d/func__channel_8c_source.html#l00470">func_channel_write_real()</a>.</p>
<div class="fragment"><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;{</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/dac/structast__flags.html">ast_flags</a> <a class="code" href="../../dc/dac/structast__flags.html#ac92588540e8c1d014a08cd8a45462b19">flags</a> = {0};</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d7/d9b/bridge__basic_8c.html#a52cc3b0c4e878ac05fd5fe7e79b14590">build_dtmf_features</a>(&amp;flags, features)) {</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;   }</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(chan);</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d7/d9b/bridge__basic_8c.html#ab20a6f49985f34f55c05e2125c9e9d6a">ast_bridge_features_ds_set</a>(chan, &amp;flags)) {</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Failed to apply features datastore for &#39;%s&#39; to channel &#39;%s&#39;\n&quot;</span>, features, <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan));</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;   }</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;}</div><div class="ttc" id="channel_8h_html_a493bdebe876caafb8ee535853310364a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a></div><div class="ttdeci">#define ast_channel_lock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02945">channel.h:2945</a></div></div>
<div class="ttc" id="structast__flags_html_ac92588540e8c1d014a08cd8a45462b19"><div class="ttname"><a href="../../dc/dac/structast__flags.html#ac92588540e8c1d014a08cd8a45462b19">ast_flags::flags</a></div><div class="ttdeci">unsigned int flags</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00200">utils.h:200</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a52cc3b0c4e878ac05fd5fe7e79b14590"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a52cc3b0c4e878ac05fd5fe7e79b14590">build_dtmf_features</a></div><div class="ttdeci">static int build_dtmf_features(struct ast_flags *flags, const char *features)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00162">bridge_basic.c:162</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_ab20a6f49985f34f55c05e2125c9e9d6a"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#ab20a6f49985f34f55c05e2125c9e9d6a">ast_bridge_features_ds_set</a></div><div class="ttdeci">int ast_bridge_features_ds_set(struct ast_channel *chan, struct ast_flags *flags)</div><div class="ttdoc">Set basic bridge DTMF feature flags datastore on the channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00258">bridge_basic.c:258</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="structast__flags_html"><div class="ttname"><a href="../../dc/dac/structast__flags.html">ast_flags</a></div><div class="ttdoc">Structure used to handle boolean flags. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00199">utils.h:199</a></div></div>
<div class="ttc" id="channel_8h_html_a7ca2fda13b129a55c251b56729de285b"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a></div><div class="ttdeci">const char * ast_channel_name(const struct ast_channel *chan)</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3f1a21eacbeaae5e19048c291956799b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f1a21eacbeaae5e19048c291956799b">&#9670;&nbsp;</a></span>ast_bridging_init_basic()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_bridging_init_basic </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initialize the basic bridge class for use by the system. </p>

<p class="definition">Definition at line <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l03639">3639</a> of file <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html">bridge_basic.c</a>.</p>

<p class="reference">References <a class="el" href="../../d0/d95/bridge_8c_source.html#l00949">ast_bridge_base_v_table</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l03526">ast_bridge_basic_v_table</a>, <a class="el" href="../../dc/d7a/bridge__features_8h_source.html#l00075">AST_BRIDGE_BUILTIN_ATTENDEDTRANSFER</a>, <a class="el" href="../../dc/d7a/bridge__features_8h_source.html#l00073">AST_BRIDGE_BUILTIN_BLINDTRANSFER</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l03123">ast_bridge_features_register()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00703">bridge_basic_destroy()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00688">bridge_basic_pull()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00671">bridge_basic_push()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02980">bridge_personality_atxfer_pull()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02855">bridge_personality_atxfer_push()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00662">bridge_personality_normal_push()</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00269">ast_bridge_methods::destroy</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l03295">feature_attended_transfer()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l03472">feature_blind_transfer()</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00267">ast_bridge_methods::name</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l03528">personality_atxfer_v_table</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l03527">personality_normal_v_table</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00275">ast_bridge_methods::pull</a>, and <a class="el" href="../../d4/d56/bridge_8h_source.html#l00273">ast_bridge_methods::push</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/d95/bridge_8c_source.html#l05605">ast_bridging_init()</a>.</p>
<div class="fragment"><div class="line"><a name="l03640"></a><span class="lineno"> 3640</span>&#160;{</div><div class="line"><a name="l03641"></a><span class="lineno"> 3641</span>&#160;   <span class="comment">/* Setup bridge basic subclass v_table. */</span></div><div class="line"><a name="l03642"></a><span class="lineno"> 3642</span>&#160;   <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a0cead317de0ed25caffc93f8b30d2860">ast_bridge_basic_v_table</a> = <a class="code" href="../../d4/d56/bridge_8h.html#a5a2fef16c6520d265d7f81002eb96ee7">ast_bridge_base_v_table</a>;</div><div class="line"><a name="l03643"></a><span class="lineno"> 3643</span>&#160;   <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a0cead317de0ed25caffc93f8b30d2860">ast_bridge_basic_v_table</a>.<a class="code" href="../../d2/dd3/structast__bridge__methods.html#a8f8f80d37794cde9472343e4487ba3eb">name</a> = <span class="stringliteral">&quot;basic&quot;</span>;</div><div class="line"><a name="l03644"></a><span class="lineno"> 3644</span>&#160;   <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a0cead317de0ed25caffc93f8b30d2860">ast_bridge_basic_v_table</a>.<a class="code" href="../../d2/dd3/structast__bridge__methods.html#a60b76bf280f288b3ef3f1facf873b104">push</a> = <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a588795877fd9266c5df1db184e69f211">bridge_basic_push</a>;</div><div class="line"><a name="l03645"></a><span class="lineno"> 3645</span>&#160;   <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a0cead317de0ed25caffc93f8b30d2860">ast_bridge_basic_v_table</a>.<a class="code" href="../../d2/dd3/structast__bridge__methods.html#adcfc7ef2b1ee5305158a584970ddea65">pull</a> = <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a2a066fa40b54bae641170fbbe724bfda">bridge_basic_pull</a>;</div><div class="line"><a name="l03646"></a><span class="lineno"> 3646</span>&#160;   <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a0cead317de0ed25caffc93f8b30d2860">ast_bridge_basic_v_table</a>.<a class="code" href="../../d2/dd3/structast__bridge__methods.html#abf4c4f9d73d43950e5e1882db332f00b">destroy</a> = <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a2f20e19823caef51c47b6683dad75416">bridge_basic_destroy</a>;</div><div class="line"><a name="l03647"></a><span class="lineno"> 3647</span>&#160;</div><div class="line"><a name="l03648"></a><span class="lineno"> 3648</span>&#160;   <span class="comment">/*</span></div><div class="line"><a name="l03649"></a><span class="lineno"> 3649</span>&#160;<span class="comment">    * Personality vtables don&#39;t have the same rules as</span></div><div class="line"><a name="l03650"></a><span class="lineno"> 3650</span>&#160;<span class="comment">    * normal bridge vtables.  These vtable functions are</span></div><div class="line"><a name="l03651"></a><span class="lineno"> 3651</span>&#160;<span class="comment">    * used as alterations to the ast_bridge_basic_v_table</span></div><div class="line"><a name="l03652"></a><span class="lineno"> 3652</span>&#160;<span class="comment">    * method functionality and are checked for NULL before</span></div><div class="line"><a name="l03653"></a><span class="lineno"> 3653</span>&#160;<span class="comment">    * calling.</span></div><div class="line"><a name="l03654"></a><span class="lineno"> 3654</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l03655"></a><span class="lineno"> 3655</span>&#160;   <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a3e91ff97b33d5886fdad081fdd8c5488">personality_normal_v_table</a>.<a class="code" href="../../d2/dd3/structast__bridge__methods.html#a8f8f80d37794cde9472343e4487ba3eb">name</a> = <span class="stringliteral">&quot;normal&quot;</span>;</div><div class="line"><a name="l03656"></a><span class="lineno"> 3656</span>&#160;   <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a3e91ff97b33d5886fdad081fdd8c5488">personality_normal_v_table</a>.<a class="code" href="../../d2/dd3/structast__bridge__methods.html#a60b76bf280f288b3ef3f1facf873b104">push</a> = <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a494827c3a17703f41c365f0dbdaf9603">bridge_personality_normal_push</a>;</div><div class="line"><a name="l03657"></a><span class="lineno"> 3657</span>&#160;</div><div class="line"><a name="l03658"></a><span class="lineno"> 3658</span>&#160;   <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a79d8a2fd1901dc403b769df45688ddf3">personality_atxfer_v_table</a>.<a class="code" href="../../d2/dd3/structast__bridge__methods.html#a8f8f80d37794cde9472343e4487ba3eb">name</a> = <span class="stringliteral">&quot;attended transfer&quot;</span>;</div><div class="line"><a name="l03659"></a><span class="lineno"> 3659</span>&#160;   <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a79d8a2fd1901dc403b769df45688ddf3">personality_atxfer_v_table</a>.<a class="code" href="../../d2/dd3/structast__bridge__methods.html#a60b76bf280f288b3ef3f1facf873b104">push</a> = <a class="code" href="../../d7/d9b/bridge__basic_8c.html#ae04d88d4d063680e09e21cc2384e9a4d">bridge_personality_atxfer_push</a>;</div><div class="line"><a name="l03660"></a><span class="lineno"> 3660</span>&#160;   <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a79d8a2fd1901dc403b769df45688ddf3">personality_atxfer_v_table</a>.<a class="code" href="../../d2/dd3/structast__bridge__methods.html#adcfc7ef2b1ee5305158a584970ddea65">pull</a> = <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a2d74b0aeb9476b4daf641e9ce5bf4622">bridge_personality_atxfer_pull</a>;</div><div class="line"><a name="l03661"></a><span class="lineno"> 3661</span>&#160;</div><div class="line"><a name="l03662"></a><span class="lineno"> 3662</span>&#160;   <a class="code" href="../../dc/d7a/bridge__features_8h.html#ae364d78e48f19a0d5ceedc6d18cda52d">ast_bridge_features_register</a>(<a class="code" href="../../dc/d7a/bridge__features_8h.html#a59c3a69424e1d3c627ece7aeb5f0bdb3a914956d3505768cc223eb23ce407c691">AST_BRIDGE_BUILTIN_ATTENDEDTRANSFER</a>, <a class="code" href="../../d7/d9b/bridge__basic_8c.html#afafcaa3269e433aa5826316f13071584">feature_attended_transfer</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l03663"></a><span class="lineno"> 3663</span>&#160;   <a class="code" href="../../dc/d7a/bridge__features_8h.html#ae364d78e48f19a0d5ceedc6d18cda52d">ast_bridge_features_register</a>(<a class="code" href="../../dc/d7a/bridge__features_8h.html#a59c3a69424e1d3c627ece7aeb5f0bdb3a1296b14dfc88f2a49818dfd08f2b80fb">AST_BRIDGE_BUILTIN_BLINDTRANSFER</a>, <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a256cdc56b47b88cc511b50243dc1f6ed">feature_blind_transfer</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l03664"></a><span class="lineno"> 3664</span>&#160;}</div><div class="ttc" id="bridge__basic_8c_html_a2f20e19823caef51c47b6683dad75416"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a2f20e19823caef51c47b6683dad75416">bridge_basic_destroy</a></div><div class="ttdeci">static void bridge_basic_destroy(struct ast_bridge *self)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00703">bridge_basic.c:703</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a3e91ff97b33d5886fdad081fdd8c5488"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a3e91ff97b33d5886fdad081fdd8c5488">personality_normal_v_table</a></div><div class="ttdeci">struct ast_bridge_methods personality_normal_v_table</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l03527">bridge_basic.c:3527</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a79d8a2fd1901dc403b769df45688ddf3"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a79d8a2fd1901dc403b769df45688ddf3">personality_atxfer_v_table</a></div><div class="ttdeci">struct ast_bridge_methods personality_atxfer_v_table</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l03528">bridge_basic.c:3528</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a588795877fd9266c5df1db184e69f211"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a588795877fd9266c5df1db184e69f211">bridge_basic_push</a></div><div class="ttdeci">static int bridge_basic_push(struct ast_bridge *self, struct ast_bridge_channel *bridge_channel, struct ast_bridge_channel *swap)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00671">bridge_basic.c:671</a></div></div>
<div class="ttc" id="structast__bridge__methods_html_a8f8f80d37794cde9472343e4487ba3eb"><div class="ttname"><a href="../../d2/dd3/structast__bridge__methods.html#a8f8f80d37794cde9472343e4487ba3eb">ast_bridge_methods::name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00267">bridge.h:267</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="bridge__features_8h_html_a59c3a69424e1d3c627ece7aeb5f0bdb3a1296b14dfc88f2a49818dfd08f2b80fb"><div class="ttname"><a href="../../dc/d7a/bridge__features_8h.html#a59c3a69424e1d3c627ece7aeb5f0bdb3a1296b14dfc88f2a49818dfd08f2b80fb">AST_BRIDGE_BUILTIN_BLINDTRANSFER</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00073">bridge_features.h:73</a></div></div>
<div class="ttc" id="bridge_8h_html_a5a2fef16c6520d265d7f81002eb96ee7"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a5a2fef16c6520d265d7f81002eb96ee7">ast_bridge_base_v_table</a></div><div class="ttdeci">struct ast_bridge_methods ast_bridge_base_v_table</div><div class="ttdoc">Bridge base class virtual method table. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l00949">bridge.c:949</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_ae04d88d4d063680e09e21cc2384e9a4d"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#ae04d88d4d063680e09e21cc2384e9a4d">bridge_personality_atxfer_push</a></div><div class="ttdeci">static int bridge_personality_atxfer_push(struct ast_bridge *self, struct ast_bridge_channel *bridge_channel, struct ast_bridge_channel *swap)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l02855">bridge_basic.c:2855</a></div></div>
<div class="ttc" id="bridge__features_8h_html_ae364d78e48f19a0d5ceedc6d18cda52d"><div class="ttname"><a href="../../dc/d7a/bridge__features_8h.html#ae364d78e48f19a0d5ceedc6d18cda52d">ast_bridge_features_register</a></div><div class="ttdeci">int ast_bridge_features_register(enum ast_bridge_builtin_feature feature, ast_bridge_hook_callback callback, const char *dtmf)</div><div class="ttdoc">Register a handler for a built in feature. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l03123">bridge.c:3123</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a0cead317de0ed25caffc93f8b30d2860"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a0cead317de0ed25caffc93f8b30d2860">ast_bridge_basic_v_table</a></div><div class="ttdeci">struct ast_bridge_methods ast_bridge_basic_v_table</div><div class="ttdoc">Bridge basic class virtual method table. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l03526">bridge_basic.c:3526</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a256cdc56b47b88cc511b50243dc1f6ed"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a256cdc56b47b88cc511b50243dc1f6ed">feature_blind_transfer</a></div><div class="ttdeci">static int feature_blind_transfer(struct ast_bridge_channel *bridge_channel, void *hook_pvt)</div><div class="ttdoc">Internal built in feature for blind transfers. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l03472">bridge_basic.c:3472</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a2a066fa40b54bae641170fbbe724bfda"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a2a066fa40b54bae641170fbbe724bfda">bridge_basic_pull</a></div><div class="ttdeci">static void bridge_basic_pull(struct ast_bridge *self, struct ast_bridge_channel *bridge_channel)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00688">bridge_basic.c:688</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a494827c3a17703f41c365f0dbdaf9603"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a494827c3a17703f41c365f0dbdaf9603">bridge_personality_normal_push</a></div><div class="ttdeci">static int bridge_personality_normal_push(struct ast_bridge *self, struct ast_bridge_channel *bridge_channel, struct ast_bridge_channel *swap)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00662">bridge_basic.c:662</a></div></div>
<div class="ttc" id="structast__bridge__methods_html_adcfc7ef2b1ee5305158a584970ddea65"><div class="ttname"><a href="../../d2/dd3/structast__bridge__methods.html#adcfc7ef2b1ee5305158a584970ddea65">ast_bridge_methods::pull</a></div><div class="ttdeci">ast_bridge_pull_channel_fn pull</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00275">bridge.h:275</a></div></div>
<div class="ttc" id="bridge__features_8h_html_a59c3a69424e1d3c627ece7aeb5f0bdb3a914956d3505768cc223eb23ce407c691"><div class="ttname"><a href="../../dc/d7a/bridge__features_8h.html#a59c3a69424e1d3c627ece7aeb5f0bdb3a914956d3505768cc223eb23ce407c691">AST_BRIDGE_BUILTIN_ATTENDEDTRANSFER</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00075">bridge_features.h:75</a></div></div>
<div class="ttc" id="structast__bridge__methods_html_abf4c4f9d73d43950e5e1882db332f00b"><div class="ttname"><a href="../../d2/dd3/structast__bridge__methods.html#abf4c4f9d73d43950e5e1882db332f00b">ast_bridge_methods::destroy</a></div><div class="ttdeci">ast_bridge_destructor_fn destroy</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00269">bridge.h:269</a></div></div>
<div class="ttc" id="structast__bridge__methods_html_a60b76bf280f288b3ef3f1facf873b104"><div class="ttname"><a href="../../d2/dd3/structast__bridge__methods.html#a60b76bf280f288b3ef3f1facf873b104">ast_bridge_methods::push</a></div><div class="ttdeci">ast_bridge_push_channel_fn push</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00273">bridge.h:273</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_afafcaa3269e433aa5826316f13071584"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#afafcaa3269e433aa5826316f13071584">feature_attended_transfer</a></div><div class="ttdeci">static int feature_attended_transfer(struct ast_bridge_channel *bridge_channel, void *hook_pvt)</div><div class="ttdoc">Internal built in feature for attended transfers. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l03295">bridge_basic.c:3295</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a2d74b0aeb9476b4daf641e9ce5bf4622"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a2d74b0aeb9476b4daf641e9ce5bf4622">bridge_personality_atxfer_pull</a></div><div class="ttdeci">static void bridge_personality_atxfer_pull(struct ast_bridge *self, struct ast_bridge_channel *bridge_channel)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l02980">bridge_basic.c:2980</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af634e5717dd1ebf26f9cad76c43a9a96"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af634e5717dd1ebf26f9cad76c43a9a96">&#9670;&nbsp;</a></span>attach_framehook()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int attach_framehook </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dd/d9e/structattended__transfer__properties.html">attended_transfer_properties</a> *&#160;</td>
          <td class="paramname"><em>props</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>channel</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l03098">3098</a> of file <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html">bridge_basic.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02945">ast_channel_lock</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../da/dac/framehook_8c_source.html#l00132">ast_framehook_attach()</a>, <a class="el" href="../../db/d3c/framehook_8h_source.html#l00227">AST_FRAMEHOOK_INTERFACE_VERSION</a>, <a class="el" href="../../db/d3c/framehook_8h_source.html#l00255">ast_framehook_interface::data</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01344">attended_transfer_properties::target_framehook_id</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02820">transfer_target_framehook_cb()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02844">transfer_target_framehook_consume()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02849">transfer_target_framehook_destroy_cb()</a>, and <a class="el" href="../../db/d3c/framehook_8h_source.html#l00231">ast_framehook_interface::version</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l03295">feature_attended_transfer()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02603">retransfer_enter()</a>, and <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02575">wait_to_retransfer_exit()</a>.</p>
<div class="fragment"><div class="line"><a name="l03099"></a><span class="lineno"> 3099</span>&#160;{</div><div class="line"><a name="l03100"></a><span class="lineno"> 3100</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d3/d7b/structast__framehook__interface.html">ast_framehook_interface</a> target_interface = {</div><div class="line"><a name="l03101"></a><span class="lineno"> 3101</span>&#160;      .<a class="code" href="../../d3/d7b/structast__framehook__interface.html#ab6d7b6f8c2ceaba7acda80aaf05f4899">version</a> = <a class="code" href="../../db/d3c/framehook_8h.html#ae3b6fa28df6c8608d05936efaf929f32">AST_FRAMEHOOK_INTERFACE_VERSION</a>,</div><div class="line"><a name="l03102"></a><span class="lineno"> 3102</span>&#160;      .event_cb = <a class="code" href="../../d7/d9b/bridge__basic_8c.html#adf2a3793c8e6538c0bba84e54273f392">transfer_target_framehook_cb</a>,</div><div class="line"><a name="l03103"></a><span class="lineno"> 3103</span>&#160;      .destroy_cb = <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a3b85c66f1941a9f1900ad6aaf174e2db">transfer_target_framehook_destroy_cb</a>,</div><div class="line"><a name="l03104"></a><span class="lineno"> 3104</span>&#160;      .consume_cb = <a class="code" href="../../d7/d9b/bridge__basic_8c.html#acf9db5defda27c0fb2b419779a434431">transfer_target_framehook_consume</a>,</div><div class="line"><a name="l03105"></a><span class="lineno"> 3105</span>&#160;      .disable_inheritance = 1,</div><div class="line"><a name="l03106"></a><span class="lineno"> 3106</span>&#160;   };</div><div class="line"><a name="l03107"></a><span class="lineno"> 3107</span>&#160;</div><div class="line"><a name="l03108"></a><span class="lineno"> 3108</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(props, +1);</div><div class="line"><a name="l03109"></a><span class="lineno"> 3109</span>&#160;   target_interface.<a class="code" href="../../d3/d7b/structast__framehook__interface.html#a735984d41155bc1032e09bece8f8d66d">data</a> = props;</div><div class="line"><a name="l03110"></a><span class="lineno"> 3110</span>&#160;</div><div class="line"><a name="l03111"></a><span class="lineno"> 3111</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(channel);</div><div class="line"><a name="l03112"></a><span class="lineno"> 3112</span>&#160;   props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a8c2b1a95ccb17e4aeb11ccd4327e1839">target_framehook_id</a> = <a class="code" href="../../db/d3c/framehook_8h.html#a3ca711dc98d26e881936c855f0ae3d77">ast_framehook_attach</a>(channel, &amp;target_interface);</div><div class="line"><a name="l03113"></a><span class="lineno"> 3113</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(channel);</div><div class="line"><a name="l03114"></a><span class="lineno"> 3114</span>&#160;   <span class="keywordflow">if</span> (props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a8c2b1a95ccb17e4aeb11ccd4327e1839">target_framehook_id</a> == -1) {</div><div class="line"><a name="l03115"></a><span class="lineno"> 3115</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(props, -1);</div><div class="line"><a name="l03116"></a><span class="lineno"> 3116</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l03117"></a><span class="lineno"> 3117</span>&#160;   }</div><div class="line"><a name="l03118"></a><span class="lineno"> 3118</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l03119"></a><span class="lineno"> 3119</span>&#160;}</div><div class="ttc" id="structast__framehook__interface_html_ab6d7b6f8c2ceaba7acda80aaf05f4899"><div class="ttname"><a href="../../d3/d7b/structast__framehook__interface.html#ab6d7b6f8c2ceaba7acda80aaf05f4899">ast_framehook_interface::version</a></div><div class="ttdeci">uint16_t version</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d3c/framehook_8h_source.html#l00231">framehook.h:231</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_acf9db5defda27c0fb2b419779a434431"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#acf9db5defda27c0fb2b419779a434431">transfer_target_framehook_consume</a></div><div class="ttdeci">static int transfer_target_framehook_consume(void *data, enum ast_frame_type type)</div><div class="ttdoc">Callback function which informs upstream if we are consuming a frame of a specific type...</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l02844">bridge_basic.c:2844</a></div></div>
<div class="ttc" id="structast__framehook__interface_html"><div class="ttname"><a href="../../d3/d7b/structast__framehook__interface.html">ast_framehook_interface</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/d3c/framehook_8h_source.html#l00229">framehook.h:229</a></div></div>
<div class="ttc" id="channel_8h_html_a493bdebe876caafb8ee535853310364a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a></div><div class="ttdeci">#define ast_channel_lock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02945">channel.h:2945</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a3b85c66f1941a9f1900ad6aaf174e2db"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a3b85c66f1941a9f1900ad6aaf174e2db">transfer_target_framehook_destroy_cb</a></div><div class="ttdeci">static void transfer_target_framehook_destroy_cb(void *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l02849">bridge_basic.c:2849</a></div></div>
<div class="ttc" id="framehook_8h_html_a3ca711dc98d26e881936c855f0ae3d77"><div class="ttname"><a href="../../db/d3c/framehook_8h.html#a3ca711dc98d26e881936c855f0ae3d77">ast_framehook_attach</a></div><div class="ttdeci">int ast_framehook_attach(struct ast_channel *chan, struct ast_framehook_interface *i)</div><div class="ttdoc">Attach an framehook onto a channel for frame interception. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/dac/framehook_8c_source.html#l00132">framehook.c:132</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="structast__framehook__interface_html_a735984d41155bc1032e09bece8f8d66d"><div class="ttname"><a href="../../d3/d7b/structast__framehook__interface.html#a735984d41155bc1032e09bece8f8d66d">ast_framehook_interface::data</a></div><div class="ttdeci">void * data</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d3c/framehook_8h_source.html#l00255">framehook.h:255</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_adf2a3793c8e6538c0bba84e54273f392"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#adf2a3793c8e6538c0bba84e54273f392">transfer_target_framehook_cb</a></div><div class="ttdeci">static struct ast_frame * transfer_target_framehook_cb(struct ast_channel *chan, struct ast_frame *frame, enum ast_framehook_event event, void *data)</div><div class="ttdoc">Frame hook for transfer target channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l02820">bridge_basic.c:2820</a></div></div>
<div class="ttc" id="framehook_8h_html_ae3b6fa28df6c8608d05936efaf929f32"><div class="ttname"><a href="../../db/d3c/framehook_8h.html#ae3b6fa28df6c8608d05936efaf929f32">AST_FRAMEHOOK_INTERFACE_VERSION</a></div><div class="ttdeci">#define AST_FRAMEHOOK_INTERFACE_VERSION</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d3c/framehook_8h_source.html#l00227">framehook.h:227</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="structattended__transfer__properties_html_a8c2b1a95ccb17e4aeb11ccd4327e1839"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html#a8c2b1a95ccb17e4aeb11ccd4327e1839">attended_transfer_properties::target_framehook_id</a></div><div class="ttdeci">int target_framehook_id</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01344">bridge_basic.c:1344</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aeb0e581583a26c610d967fa140aef634"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb0e581583a26c610d967fa140aef634">&#9670;&nbsp;</a></span>attended_transfer_monitor_thread()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void* attended_transfer_monitor_thread </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The main loop for the attended transfer monitor thread. </p>
<p>This loop runs continuously until the attended transfer reaches a terminal state. Stimuli for changes in the attended transfer state are handled in this thread so that all factors in an attended transfer can be handled in an orderly fashion.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>The attended transfer properties </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l03044">3044</a> of file <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html">bridge_basic.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d60/utils_8h_source.html#l00695">ast_assert</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l01984">ast_callid_threadassoc_add()</a>, <a class="el" href="../../d1/d22/logger_8c_source.html#l02003">ast_callid_threadassoc_remove()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00793">ast_channel_callid()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02945">ast_channel_lock</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01508">attended_transfer_properties_shutdown()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02002">attended_transfer_state_properties::enter</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02009">attended_transfer_state_properties::exit</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02012">attended_transfer_state_properties::flags</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01330">attended_transfer_properties::state</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02000">attended_transfer_state_properties::state_name</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01268">stimulus_strs</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01944">TRANSFER_STATE_FLAG_TERMINAL</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01315">attended_transfer_properties::transferer</a>, and <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02995">wait_for_stimulus()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l03295">feature_attended_transfer()</a>.</p>
<div class="fragment"><div class="line"><a name="l03045"></a><span class="lineno"> 3045</span>&#160;{</div><div class="line"><a name="l03046"></a><span class="lineno"> 3046</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/d9e/structattended__transfer__properties.html">attended_transfer_properties</a> *props = data;</div><div class="line"><a name="l03047"></a><span class="lineno"> 3047</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a6db44a7e26f0bc42801fc7225817c6a1">ast_callid</a> callid;</div><div class="line"><a name="l03048"></a><span class="lineno"> 3048</span>&#160;</div><div class="line"><a name="l03049"></a><span class="lineno"> 3049</span>&#160;   <span class="comment">/*</span></div><div class="line"><a name="l03050"></a><span class="lineno"> 3050</span>&#160;<span class="comment">    * Set thread callid to the transferer&#39;s callid because we</span></div><div class="line"><a name="l03051"></a><span class="lineno"> 3051</span>&#160;<span class="comment">    * are doing all this on that channel&#39;s behalf.</span></div><div class="line"><a name="l03052"></a><span class="lineno"> 3052</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l03053"></a><span class="lineno"> 3053</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a43cf79e5f3675b2cdf001bceacb02e72">transferer</a>);</div><div class="line"><a name="l03054"></a><span class="lineno"> 3054</span>&#160;   callid = <a class="code" href="../../d5/d7b/channel_8h.html#a6c2c406bdebd477029e61774cc300abd">ast_channel_callid</a>(props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a43cf79e5f3675b2cdf001bceacb02e72">transferer</a>);</div><div class="line"><a name="l03055"></a><span class="lineno"> 3055</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a43cf79e5f3675b2cdf001bceacb02e72">transferer</a>);</div><div class="line"><a name="l03056"></a><span class="lineno"> 3056</span>&#160;   <span class="keywordflow">if</span> (callid) {</div><div class="line"><a name="l03057"></a><span class="lineno"> 3057</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a6956becf4d7e3906c74b6e30b834ebd8">ast_callid_threadassoc_add</a>(callid);</div><div class="line"><a name="l03058"></a><span class="lineno"> 3058</span>&#160;   }</div><div class="line"><a name="l03059"></a><span class="lineno"> 3059</span>&#160;</div><div class="line"><a name="l03060"></a><span class="lineno"> 3060</span>&#160;   <span class="keywordflow">for</span> (;;) {</div><div class="line"><a name="l03061"></a><span class="lineno"> 3061</span>&#160;      <span class="keyword">enum</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290">attended_transfer_stimulus</a> stimulus;</div><div class="line"><a name="l03062"></a><span class="lineno"> 3062</span>&#160;</div><div class="line"><a name="l03063"></a><span class="lineno"> 3063</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;About to enter state %s for attended transfer %p\n&quot;</span>, <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a53b49a058262e14d4371a6c30024ea7c">state_properties</a>[props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a3442cf1d72950ce9d62ea7006f6ce78c">state</a>].<a class="code" href="../../da/dab/structattended__transfer__state__properties.html#ab00617be22fdc8c996d36e4082f2410a">state_name</a>, props);</div><div class="line"><a name="l03064"></a><span class="lineno"> 3064</span>&#160;</div><div class="line"><a name="l03065"></a><span class="lineno"> 3065</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d7/d9b/bridge__basic_8c.html#a53b49a058262e14d4371a6c30024ea7c">state_properties</a>[props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a3442cf1d72950ce9d62ea7006f6ce78c">state</a>].<a class="code" href="../../da/dab/structattended__transfer__state__properties.html#aeebd56dce38a1bb866db2b3dc9a72014">enter</a> &amp;&amp;</div><div class="line"><a name="l03066"></a><span class="lineno"> 3066</span>&#160;            <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a53b49a058262e14d4371a6c30024ea7c">state_properties</a>[props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a3442cf1d72950ce9d62ea7006f6ce78c">state</a>].<a class="code" href="../../da/dab/structattended__transfer__state__properties.html#aeebd56dce38a1bb866db2b3dc9a72014">enter</a>(props)) {</div><div class="line"><a name="l03067"></a><span class="lineno"> 3067</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;State %s enter function returned an error for attended transfer %p\n&quot;</span>,</div><div class="line"><a name="l03068"></a><span class="lineno"> 3068</span>&#160;               <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a53b49a058262e14d4371a6c30024ea7c">state_properties</a>[props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a3442cf1d72950ce9d62ea7006f6ce78c">state</a>].<a class="code" href="../../da/dab/structattended__transfer__state__properties.html#ab00617be22fdc8c996d36e4082f2410a">state_name</a>, props);</div><div class="line"><a name="l03069"></a><span class="lineno"> 3069</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l03070"></a><span class="lineno"> 3070</span>&#160;      }</div><div class="line"><a name="l03071"></a><span class="lineno"> 3071</span>&#160;</div><div class="line"><a name="l03072"></a><span class="lineno"> 3072</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d7/d9b/bridge__basic_8c.html#a53b49a058262e14d4371a6c30024ea7c">state_properties</a>[props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a3442cf1d72950ce9d62ea7006f6ce78c">state</a>].<a class="code" href="../../da/dab/structattended__transfer__state__properties.html#ae6b100fa03f6354f4e200dfe9f6fd376">flags</a> &amp; <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a5daf4668b3fba0aceee2e74622d74858a9f933ee8ebf68a1262c85d6350830f87">TRANSFER_STATE_FLAG_TERMINAL</a>) {</div><div class="line"><a name="l03073"></a><span class="lineno"> 3073</span>&#160;         <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;State %s is a terminal state. Ending attended transfer %p\n&quot;</span>,</div><div class="line"><a name="l03074"></a><span class="lineno"> 3074</span>&#160;               <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a53b49a058262e14d4371a6c30024ea7c">state_properties</a>[props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a3442cf1d72950ce9d62ea7006f6ce78c">state</a>].<a class="code" href="../../da/dab/structattended__transfer__state__properties.html#ab00617be22fdc8c996d36e4082f2410a">state_name</a>, props);</div><div class="line"><a name="l03075"></a><span class="lineno"> 3075</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l03076"></a><span class="lineno"> 3076</span>&#160;      }</div><div class="line"><a name="l03077"></a><span class="lineno"> 3077</span>&#160;</div><div class="line"><a name="l03078"></a><span class="lineno"> 3078</span>&#160;      stimulus = <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a7465bfa0b297a1274a20e0bc77ba83cd">wait_for_stimulus</a>(props);</div><div class="line"><a name="l03079"></a><span class="lineno"> 3079</span>&#160;</div><div class="line"><a name="l03080"></a><span class="lineno"> 3080</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;Received stimulus %s on attended transfer %p\n&quot;</span>, <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a6c44b02ff21d30611e99f11620684e42">stimulus_strs</a>[stimulus], props);</div><div class="line"><a name="l03081"></a><span class="lineno"> 3081</span>&#160;</div><div class="line"><a name="l03082"></a><span class="lineno"> 3082</span>&#160;      <a class="code" href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a>(<a class="code" href="../../d7/d9b/bridge__basic_8c.html#a53b49a058262e14d4371a6c30024ea7c">state_properties</a>[props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a3442cf1d72950ce9d62ea7006f6ce78c">state</a>].<a class="code" href="../../da/dab/structattended__transfer__state__properties.html#a259d86ce150ad0c9ef93e9b9d0283b40">exit</a> != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l03083"></a><span class="lineno"> 3083</span>&#160;</div><div class="line"><a name="l03084"></a><span class="lineno"> 3084</span>&#160;      props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a3442cf1d72950ce9d62ea7006f6ce78c">state</a> = <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a53b49a058262e14d4371a6c30024ea7c">state_properties</a>[props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a3442cf1d72950ce9d62ea7006f6ce78c">state</a>].<a class="code" href="../../da/dab/structattended__transfer__state__properties.html#a259d86ce150ad0c9ef93e9b9d0283b40">exit</a>(props, stimulus);</div><div class="line"><a name="l03085"></a><span class="lineno"> 3085</span>&#160;</div><div class="line"><a name="l03086"></a><span class="lineno"> 3086</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;Told to enter state %s exit on attended transfer %p\n&quot;</span>, <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a53b49a058262e14d4371a6c30024ea7c">state_properties</a>[props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a3442cf1d72950ce9d62ea7006f6ce78c">state</a>].<a class="code" href="../../da/dab/structattended__transfer__state__properties.html#ab00617be22fdc8c996d36e4082f2410a">state_name</a>, props);</div><div class="line"><a name="l03087"></a><span class="lineno"> 3087</span>&#160;   }</div><div class="line"><a name="l03088"></a><span class="lineno"> 3088</span>&#160;</div><div class="line"><a name="l03089"></a><span class="lineno"> 3089</span>&#160;   <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a0eb88142da03bf04ebf78147c617d2c6">attended_transfer_properties_shutdown</a>(props);</div><div class="line"><a name="l03090"></a><span class="lineno"> 3090</span>&#160;</div><div class="line"><a name="l03091"></a><span class="lineno"> 3091</span>&#160;   <span class="keywordflow">if</span> (callid) {</div><div class="line"><a name="l03092"></a><span class="lineno"> 3092</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a9e325f2d0c2872627a05feff17423f80">ast_callid_threadassoc_remove</a>();</div><div class="line"><a name="l03093"></a><span class="lineno"> 3093</span>&#160;   }</div><div class="line"><a name="l03094"></a><span class="lineno"> 3094</span>&#160;</div><div class="line"><a name="l03095"></a><span class="lineno"> 3095</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l03096"></a><span class="lineno"> 3096</span>&#160;}</div><div class="ttc" id="structattended__transfer__state__properties_html_a259d86ce150ad0c9ef93e9b9d0283b40"><div class="ttname"><a href="../../da/dab/structattended__transfer__state__properties.html#a259d86ce150ad0c9ef93e9b9d0283b40">attended_transfer_state_properties::exit</a></div><div class="ttdeci">enum attended_transfer_state(* exit)(struct attended_transfer_properties *props, enum attended_transfer_stimulus stimulus)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l02009">bridge_basic.c:2009</a></div></div>
<div class="ttc" id="channel_8h_html_a493bdebe876caafb8ee535853310364a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a></div><div class="ttdeci">#define ast_channel_lock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02945">channel.h:2945</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a0eb88142da03bf04ebf78147c617d2c6"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a0eb88142da03bf04ebf78147c617d2c6">attended_transfer_properties_shutdown</a></div><div class="ttdeci">static void attended_transfer_properties_shutdown(struct attended_transfer_properties *props)</div><div class="ttdoc">Initiate shutdown of attended transfer properties. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01508">bridge_basic.c:1508</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a53b49a058262e14d4371a6c30024ea7c"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a53b49a058262e14d4371a6c30024ea7c">state_properties</a></div><div class="ttdeci">static const struct attended_transfer_state_properties state_properties[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l02015">bridge_basic.c:2015</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a6c44b02ff21d30611e99f11620684e42"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a6c44b02ff21d30611e99f11620684e42">stimulus_strs</a></div><div class="ttdeci">const char * stimulus_strs[]</div><div class="ttdoc">String representations of the various stimuli. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01268">bridge_basic.c:1268</a></div></div>
<div class="ttc" id="logger_8h_html_a6db44a7e26f0bc42801fc7225817c6a1"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a6db44a7e26f0bc42801fc7225817c6a1">ast_callid</a></div><div class="ttdeci">unsigned int ast_callid</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00087">logger.h:87</a></div></div>
<div class="ttc" id="utils_8h_html_a24374da24af1931d8a7ccde5b352bb2c"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a></div><div class="ttdeci">#define ast_assert(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00695">utils.h:695</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="logger_8h_html_a9e325f2d0c2872627a05feff17423f80"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a9e325f2d0c2872627a05feff17423f80">ast_callid_threadassoc_remove</a></div><div class="ttdeci">int ast_callid_threadassoc_remove(void)</div><div class="ttdoc">Removes callid from thread storage of the calling thread. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l02003">logger.c:2003</a></div></div>
<div class="ttc" id="logger_8h_html_a6956becf4d7e3906c74b6e30b834ebd8"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a6956becf4d7e3906c74b6e30b834ebd8">ast_callid_threadassoc_add</a></div><div class="ttdeci">int ast_callid_threadassoc_add(ast_callid callid)</div><div class="ttdoc">Adds a known callid to thread storage of the calling thread. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l01984">logger.c:1984</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="structattended__transfer__properties_html_a3442cf1d72950ce9d62ea7006f6ce78c"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html#a3442cf1d72950ce9d62ea7006f6ce78c">attended_transfer_properties::state</a></div><div class="ttdeci">enum attended_transfer_state state</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01330">bridge_basic.c:1330</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="structattended__transfer__state__properties_html_aeebd56dce38a1bb866db2b3dc9a72014"><div class="ttname"><a href="../../da/dab/structattended__transfer__state__properties.html#aeebd56dce38a1bb866db2b3dc9a72014">attended_transfer_state_properties::enter</a></div><div class="ttdeci">int(* enter)(struct attended_transfer_properties *props)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l02002">bridge_basic.c:2002</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290">attended_transfer_stimulus</a></div><div class="ttdeci">attended_transfer_stimulus</div><div class="ttdoc">Stimuli that can cause transfer state changes. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01236">bridge_basic.c:1236</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a5daf4668b3fba0aceee2e74622d74858a9f933ee8ebf68a1262c85d6350830f87"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a5daf4668b3fba0aceee2e74622d74858a9f933ee8ebf68a1262c85d6350830f87">TRANSFER_STATE_FLAG_TERMINAL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01944">bridge_basic.c:1944</a></div></div>
<div class="ttc" id="structattended__transfer__state__properties_html_ae6b100fa03f6354f4e200dfe9f6fd376"><div class="ttname"><a href="../../da/dab/structattended__transfer__state__properties.html#ae6b100fa03f6354f4e200dfe9f6fd376">attended_transfer_state_properties::flags</a></div><div class="ttdeci">enum attended_transfer_state_flags flags</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l02012">bridge_basic.c:2012</a></div></div>
<div class="ttc" id="structattended__transfer__state__properties_html_ab00617be22fdc8c996d36e4082f2410a"><div class="ttname"><a href="../../da/dab/structattended__transfer__state__properties.html#ab00617be22fdc8c996d36e4082f2410a">attended_transfer_state_properties::state_name</a></div><div class="ttdeci">const char * state_name</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l02000">bridge_basic.c:2000</a></div></div>
<div class="ttc" id="structattended__transfer__properties_html_a43cf79e5f3675b2cdf001bceacb02e72"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html#a43cf79e5f3675b2cdf001bceacb02e72">attended_transfer_properties::transferer</a></div><div class="ttdeci">struct ast_channel * transferer</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01315">bridge_basic.c:1315</a></div></div>
<div class="ttc" id="channel_8h_html_a6c2c406bdebd477029e61774cc300abd"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a6c2c406bdebd477029e61774cc300abd">ast_channel_callid</a></div><div class="ttdeci">ast_callid ast_channel_callid(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00793">channel_internal_api.c:793</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a7465bfa0b297a1274a20e0bc77ba83cd"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a7465bfa0b297a1274a20e0bc77ba83cd">wait_for_stimulus</a></div><div class="ttdeci">static enum attended_transfer_stimulus wait_for_stimulus(struct attended_transfer_properties *props)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l02995">bridge_basic.c:2995</a></div></div>
<div class="ttc" id="structattended__transfer__properties_html"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html">attended_transfer_properties</a></div><div class="ttdoc">Collection of data related to an attended transfer attempt. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01291">bridge_basic.c:1291</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a5b28b44da7b62fb84c14f4b82d07e81b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b28b44da7b62fb84c14f4b82d07e81b">&#9670;&nbsp;</a></span>attended_transfer_properties_alloc()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="../../dd/d9e/structattended__transfer__properties.html">attended_transfer_properties</a>* attended_transfer_properties_alloc </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>transferer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>context</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Allocate and initialize attended transfer properties. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">transferer</td><td>The channel performing the attended transfer </td></tr>
    <tr><td class="paramname">context</td><td>Suggestion for what context the transfer target extension can be found in</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">NULL</td><td>Failure to allocate or initialize </td></tr>
    <tr><td class="paramname">non-NULL</td><td>Newly allocated properties </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01409">1409</a> of file <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html">bridge_basic.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00411">ao2_alloc</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00268">ast_bridge_features_ds_get()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00892">ast_channel_connected()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02945">ast_channel_lock</a>, <a class="el" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02970">ast_channel_ref</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00199">ast_cond_init</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../de/d71/features__config_8c_source.html#l01143">ast_get_chan_features_xfer_config()</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l02031">ast_party_connected_line_copy()</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00300">ast_strdupa</a>, <a class="el" href="../../d1/d0f/stringfields_8h_source.html#l00353">ast_string_field_init</a>, <a class="el" href="../../d1/d0f/stringfields_8h_source.html#l00514">ast_string_field_set</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01353">attended_transfer_properties_destructor()</a>, <a class="el" href="../../d0/daa/include_2asterisk_2features__config_8h_source.html#l00083">ast_features_xfer_config::atxfercallbackretries</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01336">attended_transfer_properties::atxfercallbackretries</a>, <a class="el" href="../../d0/daa/include_2asterisk_2features__config_8h_source.html#l00085">ast_features_xfer_config::atxferdropcall</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01334">attended_transfer_properties::atxferdropcall</a>, <a class="el" href="../../d0/daa/include_2asterisk_2features__config_8h_source.html#l00081">ast_features_xfer_config::atxferloopdelay</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01338">attended_transfer_properties::atxferloopdelay</a>, <a class="el" href="../../d0/daa/include_2asterisk_2features__config_8h_source.html#l00079">ast_features_xfer_config::atxfernoanswertimeout</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01340">attended_transfer_properties::atxfernoanswertimeout</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01305">attended_transfer_properties::cond</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01380">get_transfer_context()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01350">attended_transfer_properties::original_transferer_colp</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01344">attended_transfer_properties::target_framehook_id</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01315">attended_transfer_properties::transferer</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01348">attended_transfer_properties::transferer_features</a>, and <a class="el" href="../../d0/daa/include_2asterisk_2features__config_8h_source.html#l00075">ast_features_xfer_config::xfersound</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l03295">feature_attended_transfer()</a>.</p>
<div class="fragment"><div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;{</div><div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/d9e/structattended__transfer__properties.html">attended_transfer_properties</a> *props;</div><div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;   <span class="keywordtype">char</span> *tech;</div><div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;   <span class="keywordtype">char</span> *addr;</div><div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;   <span class="keywordtype">char</span> *serial;</div><div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../df/db6/structast__features__xfer__config.html">ast_features_xfer_config</a> *xfer_cfg;</div><div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/dac/structast__flags.html">ast_flags</a> *transferer_features;</div><div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;</div><div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;   props = <a class="code" href="../../d5/da5/astobj2_8h.html#ae0422b60d8e25b6962b2d61ae4ddf724">ao2_alloc</a>(<span class="keyword">sizeof</span>(*props), <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a2057f15744454f617ca10140783dcd5a">attended_transfer_properties_destructor</a>);</div><div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;   <span class="keywordflow">if</span> (!props) {</div><div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Unable to create props - channel %s, context %s\n&quot;</span>,</div><div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;         <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(transferer), <a class="code" href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a>);</div><div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;   }</div><div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;</div><div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a69e9591803d36f5683eb9b084442be9b">ast_cond_init</a>(&amp;props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a1c7181c39f99ee801943a0d0aa9872b9">cond</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;</div><div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d1/d0f/stringfields_8h.html#a871274fa4fd2687c7a44849a84df3665">ast_string_field_init</a>(props, 64)) {</div><div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Unable to initialize prop fields - channel %s, context %s\n&quot;</span>,</div><div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;         <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(transferer), <a class="code" href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a>);</div><div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(props, -1);</div><div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;   }</div><div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;</div><div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;   props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a8c2b1a95ccb17e4aeb11ccd4327e1839">target_framehook_id</a> = -1;</div><div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;   props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a43cf79e5f3675b2cdf001bceacb02e72">transferer</a> = <a class="code" href="../../d5/d7b/channel_8h.html#a6801c703e767d6f760c54c8b86a30024">ast_channel_ref</a>(transferer);</div><div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;</div><div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a43cf79e5f3675b2cdf001bceacb02e72">transferer</a>);</div><div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;   xfer_cfg = <a class="code" href="../../d0/daa/include_2asterisk_2features__config_8h.html#ab442de0580c9cee7ae5e10886e28ed8c">ast_get_chan_features_xfer_config</a>(props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a43cf79e5f3675b2cdf001bceacb02e72">transferer</a>);</div><div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;   <span class="keywordflow">if</span> (!xfer_cfg) {</div><div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Unable to get transfer configuration from channel %s\n&quot;</span>, <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a43cf79e5f3675b2cdf001bceacb02e72">transferer</a>));</div><div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a43cf79e5f3675b2cdf001bceacb02e72">transferer</a>);</div><div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(props, -1);</div><div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;   }</div><div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;   transferer_features = <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a53690d96fd11f8e502cf5fdc74ee3315">ast_bridge_features_ds_get</a>(props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a43cf79e5f3675b2cdf001bceacb02e72">transferer</a>);</div><div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;   <span class="keywordflow">if</span> (transferer_features) {</div><div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;      props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#ab79bd9389fc85935229a270dcb0d2f5a">transferer_features</a> = *transferer_features;</div><div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;   }</div><div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;   props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a9b7e688c5535aec691e3e5c7f855e636">atxferdropcall</a> = xfer_cfg-&gt;<a class="code" href="../../df/db6/structast__features__xfer__config.html#a3a4aff3656629deadbb2294abb1b2e50">atxferdropcall</a>;</div><div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;   props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a49075b9a7289632b9b37097a46f132e1">atxfercallbackretries</a> = xfer_cfg-&gt;<a class="code" href="../../df/db6/structast__features__xfer__config.html#a42aaa9bbb76f30a8d697eb7c79901045">atxfercallbackretries</a>;</div><div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;   props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a7322bc7373f8fafaa70eaf4ed6d84095">atxfernoanswertimeout</a> = xfer_cfg-&gt;<a class="code" href="../../df/db6/structast__features__xfer__config.html#ae6199e3f598610b0c22d19f14ade91ee">atxfernoanswertimeout</a>;</div><div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;   props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a4bc55c41a64defa80a9448de4def2f43">atxferloopdelay</a> = xfer_cfg-&gt;<a class="code" href="../../df/db6/structast__features__xfer__config.html#ae20cac4cd972474f3ce8efd3be64ca8d">atxferloopdelay</a>;</div><div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;   <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(props, <a class="code" href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a>, <a class="code" href="../../d7/d9b/bridge__basic_8c.html#af2255cf81c2ada271d9553d047d92520">get_transfer_context</a>(transferer, <a class="code" href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a>));</div><div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;   <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(props, xfersound, xfer_cfg-&gt;<a class="code" href="../../df/db6/structast__features__xfer__config.html#aa79f71a801e58cd6889780e185e9a5d3">xfersound</a>);</div><div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(xfer_cfg, -1);</div><div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;</div><div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;   <span class="comment">/*</span></div><div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;<span class="comment">    * Save the transferee&#39;s party information for any recall calls.</span></div><div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;<span class="comment">    * This is the only piece of information needed that gets overwritten</span></div><div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;<span class="comment">    * on the transferer channel by the inital call to the transfer target.</span></div><div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a5d3c15fe1dffda82e6dc03ca7b26526a">ast_party_connected_line_copy</a>(&amp;props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a59503bde2f9c839237f474a68878a01f">original_transferer_colp</a>,</div><div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#a10f23f1907b804485f62973f66cd9aef">ast_channel_connected</a>(props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a43cf79e5f3675b2cdf001bceacb02e72">transferer</a>));</div><div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;</div><div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;   tech = <a class="code" href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a43cf79e5f3675b2cdf001bceacb02e72">transferer</a>));</div><div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;   addr = strchr(tech, <span class="charliteral">&#39;/&#39;</span>);</div><div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;   <span class="keywordflow">if</span> (!addr) {</div><div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Transferer channel name does not follow typical channel naming format (tech/address)\n&quot;</span>);</div><div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a43cf79e5f3675b2cdf001bceacb02e72">transferer</a>);</div><div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(props, -1);</div><div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;   }</div><div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;   *addr++ = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;   serial = strrchr(addr, <span class="charliteral">&#39;-&#39;</span>);</div><div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;   <span class="keywordflow">if</span> (serial) {</div><div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;      *serial = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;   }</div><div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;   <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(props, transferer_type, tech);</div><div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;   <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(props, transferer_addr, addr);</div><div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;</div><div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a43cf79e5f3675b2cdf001bceacb02e72">transferer</a>);</div><div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;</div><div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;Allocated attended transfer properties %p for transfer from %s\n&quot;</span>,</div><div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;         props, <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a43cf79e5f3675b2cdf001bceacb02e72">transferer</a>));</div><div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;   <span class="keywordflow">return</span> props;</div><div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;}</div><div class="ttc" id="channel_8h_html_a493bdebe876caafb8ee535853310364a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a></div><div class="ttdeci">#define ast_channel_lock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02945">channel.h:2945</a></div></div>
<div class="ttc" id="structast__features__xfer__config_html"><div class="ttname"><a href="../../df/db6/structast__features__xfer__config.html">ast_features_xfer_config</a></div><div class="ttdoc">Feature configuration relating to transfers. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/daa/include_2asterisk_2features__config_8h_source.html#l00057">include/asterisk/features_config.h:57</a></div></div>
<div class="ttc" id="structattended__transfer__properties_html_a49075b9a7289632b9b37097a46f132e1"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html#a49075b9a7289632b9b37097a46f132e1">attended_transfer_properties::atxfercallbackretries</a></div><div class="ttdeci">int atxfercallbackretries</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01336">bridge_basic.c:1336</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a53690d96fd11f8e502cf5fdc74ee3315"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a53690d96fd11f8e502cf5fdc74ee3315">ast_bridge_features_ds_get</a></div><div class="ttdeci">struct ast_flags * ast_bridge_features_ds_get(struct ast_channel *chan)</div><div class="ttdoc">Get DTMF feature flags from the channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00268">bridge_basic.c:268</a></div></div>
<div class="ttc" id="structast__features__xfer__config_html_a3a4aff3656629deadbb2294abb1b2e50"><div class="ttname"><a href="../../df/db6/structast__features__xfer__config.html#a3a4aff3656629deadbb2294abb1b2e50">ast_features_xfer_config::atxferdropcall</a></div><div class="ttdeci">unsigned int atxferdropcall</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/daa/include_2asterisk_2features__config_8h_source.html#l00085">include/asterisk/features_config.h:85</a></div></div>
<div class="ttc" id="include_2asterisk_2features__config_8h_html_ab442de0580c9cee7ae5e10886e28ed8c"><div class="ttname"><a href="../../d0/daa/include_2asterisk_2features__config_8h.html#ab442de0580c9cee7ae5e10886e28ed8c">ast_get_chan_features_xfer_config</a></div><div class="ttdeci">struct ast_features_xfer_config * ast_get_chan_features_xfer_config(struct ast_channel *chan)</div><div class="ttdoc">Get the transfer configuration options for a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d71/features__config_8c_source.html#l01143">features_config.c:1143</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_af2255cf81c2ada271d9553d047d92520"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#af2255cf81c2ada271d9553d047d92520">get_transfer_context</a></div><div class="ttdeci">static const char * get_transfer_context(struct ast_channel *transferer, const char *context)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01380">bridge_basic.c:1380</a></div></div>
<div class="ttc" id="lock_8h_html_a69e9591803d36f5683eb9b084442be9b"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a69e9591803d36f5683eb9b084442be9b">ast_cond_init</a></div><div class="ttdeci">#define ast_cond_init(cond, attr)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00199">lock.h:199</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structattended__transfer__properties_html_a1c7181c39f99ee801943a0d0aa9872b9"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html#a1c7181c39f99ee801943a0d0aa9872b9">attended_transfer_properties::cond</a></div><div class="ttdeci">ast_cond_t cond</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01305">bridge_basic.c:1305</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="stringfields_8h_html_a871274fa4fd2687c7a44849a84df3665"><div class="ttname"><a href="../../d1/d0f/stringfields_8h.html#a871274fa4fd2687c7a44849a84df3665">ast_string_field_init</a></div><div class="ttdeci">#define ast_string_field_init(x, size)</div><div class="ttdoc">Initialize a field pool and fields. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d0f/stringfields_8h_source.html#l00353">stringfields.h:353</a></div></div>
<div class="ttc" id="channel_8h_html_a10f23f1907b804485f62973f66cd9aef"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a10f23f1907b804485f62973f66cd9aef">ast_channel_connected</a></div><div class="ttdeci">struct ast_party_connected_line * ast_channel_connected(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00892">channel_internal_api.c:892</a></div></div>
<div class="ttc" id="structast__features__xfer__config_html_ae20cac4cd972474f3ce8efd3be64ca8d"><div class="ttname"><a href="../../df/db6/structast__features__xfer__config.html#ae20cac4cd972474f3ce8efd3be64ca8d">ast_features_xfer_config::atxferloopdelay</a></div><div class="ttdeci">unsigned int atxferloopdelay</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/daa/include_2asterisk_2features__config_8h_source.html#l00081">include/asterisk/features_config.h:81</a></div></div>
<div class="ttc" id="structattended__transfer__properties_html_a4bc55c41a64defa80a9448de4def2f43"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html#a4bc55c41a64defa80a9448de4def2f43">attended_transfer_properties::atxferloopdelay</a></div><div class="ttdeci">int atxferloopdelay</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01338">bridge_basic.c:1338</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="astmm_8h_html_ab5f0750cc80ba337fdcbddea2d3a1ee6"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a></div><div class="ttdeci">#define ast_strdupa(s)</div><div class="ttdoc">duplicate a string in memory from the stack </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00300">astmm.h:300</a></div></div>
<div class="ttc" id="structattended__transfer__properties_html_ab79bd9389fc85935229a270dcb0d2f5a"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html#ab79bd9389fc85935229a270dcb0d2f5a">attended_transfer_properties::transferer_features</a></div><div class="ttdeci">struct ast_flags transferer_features</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01348">bridge_basic.c:1348</a></div></div>
<div class="ttc" id="structattended__transfer__properties_html_a9b7e688c5535aec691e3e5c7f855e636"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html#a9b7e688c5535aec691e3e5c7f855e636">attended_transfer_properties::atxferdropcall</a></div><div class="ttdeci">int atxferdropcall</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01334">bridge_basic.c:1334</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="structast__features__xfer__config_html_ae6199e3f598610b0c22d19f14ade91ee"><div class="ttname"><a href="../../df/db6/structast__features__xfer__config.html#ae6199e3f598610b0c22d19f14ade91ee">ast_features_xfer_config::atxfernoanswertimeout</a></div><div class="ttdeci">unsigned int atxfernoanswertimeout</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/daa/include_2asterisk_2features__config_8h_source.html#l00079">include/asterisk/features_config.h:79</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a2057f15744454f617ca10140783dcd5a"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a2057f15744454f617ca10140783dcd5a">attended_transfer_properties_destructor</a></div><div class="ttdeci">static void attended_transfer_properties_destructor(void *obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01353">bridge_basic.c:1353</a></div></div>
<div class="ttc" id="astobj2_8h_html_ae0422b60d8e25b6962b2d61ae4ddf724"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ae0422b60d8e25b6962b2d61ae4ddf724">ao2_alloc</a></div><div class="ttdeci">#define ao2_alloc(data_size, destructor_fn)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00411">astobj2.h:411</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="structattended__transfer__properties_html_a8c2b1a95ccb17e4aeb11ccd4327e1839"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html#a8c2b1a95ccb17e4aeb11ccd4327e1839">attended_transfer_properties::target_framehook_id</a></div><div class="ttdeci">int target_framehook_id</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01344">bridge_basic.c:1344</a></div></div>
<div class="ttc" id="structast__flags_html"><div class="ttname"><a href="../../dc/dac/structast__flags.html">ast_flags</a></div><div class="ttdoc">Structure used to handle boolean flags. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00199">utils.h:199</a></div></div>
<div class="ttc" id="structattended__transfer__properties_html_a59503bde2f9c839237f474a68878a01f"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html#a59503bde2f9c839237f474a68878a01f">attended_transfer_properties::original_transferer_colp</a></div><div class="ttdeci">struct ast_party_connected_line original_transferer_colp</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01350">bridge_basic.c:1350</a></div></div>
<div class="ttc" id="channel_8h_html_a5d3c15fe1dffda82e6dc03ca7b26526a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a5d3c15fe1dffda82e6dc03ca7b26526a">ast_party_connected_line_copy</a></div><div class="ttdeci">void ast_party_connected_line_copy(struct ast_party_connected_line *dest, const struct ast_party_connected_line *src)</div><div class="ttdoc">Copy the source connected line information to the destination connected line. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l02031">channel.c:2031</a></div></div>
<div class="ttc" id="channel_8h_html_a6801c703e767d6f760c54c8b86a30024"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a6801c703e767d6f760c54c8b86a30024">ast_channel_ref</a></div><div class="ttdeci">#define ast_channel_ref(c)</div><div class="ttdoc">Increase channel reference count. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02970">channel.h:2970</a></div></div>
<div class="ttc" id="channel_8h_html_a7ca2fda13b129a55c251b56729de285b"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a></div><div class="ttdeci">const char * ast_channel_name(const struct ast_channel *chan)</div></div>
<div class="ttc" id="structattended__transfer__properties_html_a7322bc7373f8fafaa70eaf4ed6d84095"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html#a7322bc7373f8fafaa70eaf4ed6d84095">attended_transfer_properties::atxfernoanswertimeout</a></div><div class="ttdeci">int atxfernoanswertimeout</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01340">bridge_basic.c:1340</a></div></div>
<div class="ttc" id="chan__alsa_8c_html_ac25ea00ee3f082df06e0cf468cbde240"><div class="ttname"><a href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a></div><div class="ttdeci">static char context[AST_MAX_CONTEXT]</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d45/chan__alsa_8c_source.html#l00116">chan_alsa.c:116</a></div></div>
<div class="ttc" id="structast__features__xfer__config_html_aa79f71a801e58cd6889780e185e9a5d3"><div class="ttname"><a href="../../df/db6/structast__features__xfer__config.html#aa79f71a801e58cd6889780e185e9a5d3">ast_features_xfer_config::xfersound</a></div><div class="ttdeci">const ast_string_field xfersound</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/daa/include_2asterisk_2features__config_8h_source.html#l00075">include/asterisk/features_config.h:75</a></div></div>
<div class="ttc" id="structattended__transfer__properties_html_a43cf79e5f3675b2cdf001bceacb02e72"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html#a43cf79e5f3675b2cdf001bceacb02e72">attended_transfer_properties::transferer</a></div><div class="ttdeci">struct ast_channel * transferer</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01315">bridge_basic.c:1315</a></div></div>
<div class="ttc" id="structast__features__xfer__config_html_a42aaa9bbb76f30a8d697eb7c79901045"><div class="ttname"><a href="../../df/db6/structast__features__xfer__config.html#a42aaa9bbb76f30a8d697eb7c79901045">ast_features_xfer_config::atxfercallbackretries</a></div><div class="ttdeci">unsigned int atxfercallbackretries</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/daa/include_2asterisk_2features__config_8h_source.html#l00083">include/asterisk/features_config.h:83</a></div></div>
<div class="ttc" id="stringfields_8h_html_a653461abd6e0d16e4e3326ab90e0501d"><div class="ttname"><a href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a></div><div class="ttdeci">#define ast_string_field_set(x, field, data)</div><div class="ttdoc">Set a field to a simple string value. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d0f/stringfields_8h_source.html#l00514">stringfields.h:514</a></div></div>
<div class="ttc" id="structattended__transfer__properties_html"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html">attended_transfer_properties</a></div><div class="ttdoc">Collection of data related to an attended transfer attempt. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01291">bridge_basic.c:1291</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2057f15744454f617ca10140783dcd5a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2057f15744454f617ca10140783dcd5a">&#9670;&nbsp;</a></span>attended_transfer_properties_destructor()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void attended_transfer_properties_destructor </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>obj</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01353">1353</a> of file <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html">bridge_basic.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02992">ast_channel_cleanup</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00200">ast_cond_destroy</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l02072">ast_party_connected_line_free()</a>, <a class="el" href="../../d1/d0f/stringfields_8h_source.html#l00368">ast_string_field_free_memory</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01305">attended_transfer_properties::cond</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01350">attended_transfer_properties::original_transferer_colp</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01325">attended_transfer_properties::recall_target</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01313">attended_transfer_properties::target_bridge</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01317">attended_transfer_properties::transfer_target</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01309">attended_transfer_properties::transferee_bridge</a>, and <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01315">attended_transfer_properties::transferer</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01409">attended_transfer_properties_alloc()</a>.</p>
<div class="fragment"><div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;{</div><div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/d9e/structattended__transfer__properties.html">attended_transfer_properties</a> *props = obj;</div><div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;</div><div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;Destroy attended transfer properties %p\n&quot;</span>, props);</div><div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;</div><div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>(props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#ab45c59137417246eaa392b3d8319fbc3">target_bridge</a>);</div><div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>(props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a7c148ea37d33eb1640a17177c700be43">transferee_bridge</a>);</div><div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;   <span class="comment">/* Use ast_channel_cleanup() instead of ast_channel_unref() for channels since they may be NULL */</span></div><div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#ae93ebb3372a2d9495ae3c5417dd95cd5">ast_channel_cleanup</a>(props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a43cf79e5f3675b2cdf001bceacb02e72">transferer</a>);</div><div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#ae93ebb3372a2d9495ae3c5417dd95cd5">ast_channel_cleanup</a>(props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#af359fe2738df581812a3c9f7d3e32f10">transfer_target</a>);</div><div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#ae93ebb3372a2d9495ae3c5417dd95cd5">ast_channel_cleanup</a>(props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a8cfa7137e480b71055eae11820fb3845">recall_target</a>);</div><div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a40fc421536e02d30fecaa51a255b4144">ast_party_connected_line_free</a>(&amp;props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a59503bde2f9c839237f474a68878a01f">original_transferer_colp</a>);</div><div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;   <a class="code" href="../../d1/d0f/stringfields_8h.html#abf60f862ae6a141d2f86a0f5e82792de">ast_string_field_free_memory</a>(props);</div><div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a1ea2f4040a736cddbecea48b30ffedfd">ast_cond_destroy</a>(&amp;props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a1c7181c39f99ee801943a0d0aa9872b9">cond</a>);</div><div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;}</div><div class="ttc" id="structattended__transfer__properties_html_a7c148ea37d33eb1640a17177c700be43"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html#a7c148ea37d33eb1640a17177c700be43">attended_transfer_properties::transferee_bridge</a></div><div class="ttdeci">struct ast_bridge * transferee_bridge</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01309">bridge_basic.c:1309</a></div></div>
<div class="ttc" id="channel_8h_html_a40fc421536e02d30fecaa51a255b4144"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a40fc421536e02d30fecaa51a255b4144">ast_party_connected_line_free</a></div><div class="ttdeci">void ast_party_connected_line_free(struct ast_party_connected_line *doomed)</div><div class="ttdoc">Destroy the connected line information contents. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l02072">channel.c:2072</a></div></div>
<div class="ttc" id="structattended__transfer__properties_html_af359fe2738df581812a3c9f7d3e32f10"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html#af359fe2738df581812a3c9f7d3e32f10">attended_transfer_properties::transfer_target</a></div><div class="ttdeci">struct ast_channel * transfer_target</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01317">bridge_basic.c:1317</a></div></div>
<div class="ttc" id="structattended__transfer__properties_html_a8cfa7137e480b71055eae11820fb3845"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html#a8cfa7137e480b71055eae11820fb3845">attended_transfer_properties::recall_target</a></div><div class="ttdeci">struct ast_channel * recall_target</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01325">bridge_basic.c:1325</a></div></div>
<div class="ttc" id="structattended__transfer__properties_html_a1c7181c39f99ee801943a0d0aa9872b9"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html#a1c7181c39f99ee801943a0d0aa9872b9">attended_transfer_properties::cond</a></div><div class="ttdeci">ast_cond_t cond</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01305">bridge_basic.c:1305</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="channel_8h_html_ae93ebb3372a2d9495ae3c5417dd95cd5"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#ae93ebb3372a2d9495ae3c5417dd95cd5">ast_channel_cleanup</a></div><div class="ttdeci">#define ast_channel_cleanup(c)</div><div class="ttdoc">Cleanup a channel reference. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02992">channel.h:2992</a></div></div>
<div class="ttc" id="structattended__transfer__properties_html_ab45c59137417246eaa392b3d8319fbc3"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html#ab45c59137417246eaa392b3d8319fbc3">attended_transfer_properties::target_bridge</a></div><div class="ttdeci">struct ast_bridge * target_bridge</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01313">bridge_basic.c:1313</a></div></div>
<div class="ttc" id="lock_8h_html_a1ea2f4040a736cddbecea48b30ffedfd"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a1ea2f4040a736cddbecea48b30ffedfd">ast_cond_destroy</a></div><div class="ttdeci">#define ast_cond_destroy(cond)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00200">lock.h:200</a></div></div>
<div class="ttc" id="structattended__transfer__properties_html_a59503bde2f9c839237f474a68878a01f"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html#a59503bde2f9c839237f474a68878a01f">attended_transfer_properties::original_transferer_colp</a></div><div class="ttdeci">struct ast_party_connected_line original_transferer_colp</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01350">bridge_basic.c:1350</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="structattended__transfer__properties_html_a43cf79e5f3675b2cdf001bceacb02e72"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html#a43cf79e5f3675b2cdf001bceacb02e72">attended_transfer_properties::transferer</a></div><div class="ttdeci">struct ast_channel * transferer</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01315">bridge_basic.c:1315</a></div></div>
<div class="ttc" id="stringfields_8h_html_abf60f862ae6a141d2f86a0f5e82792de"><div class="ttname"><a href="../../d1/d0f/stringfields_8h.html#abf60f862ae6a141d2f86a0f5e82792de">ast_string_field_free_memory</a></div><div class="ttdeci">#define ast_string_field_free_memory(x)</div><div class="ttdoc">free all memory - to be called before destroying the object </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d0f/stringfields_8h_source.html#l00368">stringfields.h:368</a></div></div>
<div class="ttc" id="structattended__transfer__properties_html"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html">attended_transfer_properties</a></div><div class="ttdoc">Collection of data related to an attended transfer attempt. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01291">bridge_basic.c:1291</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a0eb88142da03bf04ebf78147c617d2c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0eb88142da03bf04ebf78147c617d2c6">&#9670;&nbsp;</a></span>attended_transfer_properties_shutdown()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void attended_transfer_properties_shutdown </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dd/d9e/structattended__transfer__properties.html">attended_transfer_properties</a> *&#160;</td>
          <td class="paramname"><em>props</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initiate shutdown of attended transfer properties. </p>
<p>Calling this indicates that the attended transfer properties are no longer needed because the transfer operation has concluded. </p>

<p class="definition">Definition at line <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01508">1508</a> of file <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html">bridge_basic.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l00970">ast_bridge_destroy()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l03061">ast_bridge_merge_inhibit()</a>, <a class="el" href="../../dd/d13/bridge__roles_8c_source.html#l00336">ast_channel_remove_bridge_role()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../d4/d1e/bridge__basic_8h_source.html#l00036">AST_TRANSFERER_ROLE_NAME</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l03530">bridge_basic_change_personality()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00060">BRIDGE_BASIC_PERSONALITY_NORMAL</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01492">clear_stimulus_queue()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01313">attended_transfer_properties::target_bridge</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01309">attended_transfer_properties::transferee_bridge</a>, and <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01315">attended_transfer_properties::transferer</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l03044">attended_transfer_monitor_thread()</a>, and <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l03295">feature_attended_transfer()</a>.</p>
<div class="fragment"><div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;{</div><div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;Shutting down attended transfer %p\n&quot;</span>, props);</div><div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;</div><div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;   <span class="keywordflow">if</span> (props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a7c148ea37d33eb1640a17177c700be43">transferee_bridge</a>) {</div><div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;      <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a3467eb2c1bece0b38cd4e45ea024bc5d">bridge_basic_change_personality</a>(props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a7c148ea37d33eb1640a17177c700be43">transferee_bridge</a>,</div><div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;            <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a704d0cced1ceae046ad985c904dc4c6ca843f6ac2918dbe2aeb6f7dd1155a90e2">BRIDGE_BASIC_PERSONALITY_NORMAL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;      <a class="code" href="../../d4/d56/bridge_8h.html#a6bae9b013c815c40d0414080455e3592">ast_bridge_merge_inhibit</a>(props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a7c148ea37d33eb1640a17177c700be43">transferee_bridge</a>, -1);</div><div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;   }</div><div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;</div><div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;   <span class="keywordflow">if</span> (props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#ab45c59137417246eaa392b3d8319fbc3">target_bridge</a>) {</div><div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;      <a class="code" href="../../d4/d56/bridge_8h.html#a4adad484788bb018b8699eeed2ddfedd">ast_bridge_destroy</a>(props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#ab45c59137417246eaa392b3d8319fbc3">target_bridge</a>, 0);</div><div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;      props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#ab45c59137417246eaa392b3d8319fbc3">target_bridge</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;   }</div><div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;</div><div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;   <span class="keywordflow">if</span> (props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a43cf79e5f3675b2cdf001bceacb02e72">transferer</a>) {</div><div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;      <a class="code" href="../../dd/dff/bridge__roles_8h.html#a7dce43ab7e058fda7576097ab7068ae2">ast_channel_remove_bridge_role</a>(props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a43cf79e5f3675b2cdf001bceacb02e72">transferer</a>, <a class="code" href="../../d4/d1e/bridge__basic_8h.html#a0b6d741f492cd88fd405a10396c62ab6">AST_TRANSFERER_ROLE_NAME</a>);</div><div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;   }</div><div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;</div><div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;   <a class="code" href="../../d7/d9b/bridge__basic_8c.html#afe0121f7cc2091d454dd3f48a2af4588">clear_stimulus_queue</a>(props);</div><div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;</div><div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>(props);</div><div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;}</div><div class="ttc" id="bridge__basic_8c_html_afe0121f7cc2091d454dd3f48a2af4588"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#afe0121f7cc2091d454dd3f48a2af4588">clear_stimulus_queue</a></div><div class="ttdeci">static void clear_stimulus_queue(struct attended_transfer_properties *props)</div><div class="ttdoc">Free backlog of stimuli in the queue. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01492">bridge_basic.c:1492</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a3467eb2c1bece0b38cd4e45ea024bc5d"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a3467eb2c1bece0b38cd4e45ea024bc5d">bridge_basic_change_personality</a></div><div class="ttdeci">static void bridge_basic_change_personality(struct ast_bridge *bridge, enum bridge_basic_personality_type type, void *user_data)</div><div class="ttdoc">Change basic bridge personality. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l03530">bridge_basic.c:3530</a></div></div>
<div class="ttc" id="bridge__roles_8h_html_a7dce43ab7e058fda7576097ab7068ae2"><div class="ttname"><a href="../../dd/dff/bridge__roles_8h.html#a7dce43ab7e058fda7576097ab7068ae2">ast_channel_remove_bridge_role</a></div><div class="ttdeci">void ast_channel_remove_bridge_role(struct ast_channel *chan, const char *role_name)</div><div class="ttdoc">Removes a bridge role from a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d13/bridge__roles_8c_source.html#l00336">bridge_roles.c:336</a></div></div>
<div class="ttc" id="structattended__transfer__properties_html_a7c148ea37d33eb1640a17177c700be43"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html#a7c148ea37d33eb1640a17177c700be43">attended_transfer_properties::transferee_bridge</a></div><div class="ttdeci">struct ast_bridge * transferee_bridge</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01309">bridge_basic.c:1309</a></div></div>
<div class="ttc" id="bridge_8h_html_a4adad484788bb018b8699eeed2ddfedd"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a4adad484788bb018b8699eeed2ddfedd">ast_bridge_destroy</a></div><div class="ttdeci">int ast_bridge_destroy(struct ast_bridge *bridge, int cause)</div><div class="ttdoc">Destroy a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l00970">bridge.c:970</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="bridge_8h_html_a6bae9b013c815c40d0414080455e3592"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a6bae9b013c815c40d0414080455e3592">ast_bridge_merge_inhibit</a></div><div class="ttdeci">void ast_bridge_merge_inhibit(struct ast_bridge *bridge, int request)</div><div class="ttdoc">Adjust the bridge merge inhibit request count. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l03061">bridge.c:3061</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a704d0cced1ceae046ad985c904dc4c6ca843f6ac2918dbe2aeb6f7dd1155a90e2"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a704d0cced1ceae046ad985c904dc4c6ca843f6ac2918dbe2aeb6f7dd1155a90e2">BRIDGE_BASIC_PERSONALITY_NORMAL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00060">bridge_basic.c:60</a></div></div>
<div class="ttc" id="structattended__transfer__properties_html_ab45c59137417246eaa392b3d8319fbc3"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html#ab45c59137417246eaa392b3d8319fbc3">attended_transfer_properties::target_bridge</a></div><div class="ttdeci">struct ast_bridge * target_bridge</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01313">bridge_basic.c:1313</a></div></div>
<div class="ttc" id="bridge__basic_8h_html_a0b6d741f492cd88fd405a10396c62ab6"><div class="ttname"><a href="../../d4/d1e/bridge__basic_8h.html#a0b6d741f492cd88fd405a10396c62ab6">AST_TRANSFERER_ROLE_NAME</a></div><div class="ttdeci">#define AST_TRANSFERER_ROLE_NAME</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d1e/bridge__basic_8h_source.html#l00036">bridge_basic.h:36</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="structattended__transfer__properties_html_a43cf79e5f3675b2cdf001bceacb02e72"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html#a43cf79e5f3675b2cdf001bceacb02e72">attended_transfer_properties::transferer</a></div><div class="ttdeci">struct ast_channel * transferer</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01315">bridge_basic.c:1315</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a29852304212ba3e0f81e86da89dc32ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a29852304212ba3e0f81e86da89dc32ee">&#9670;&nbsp;</a></span>atxfer_abort()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int atxfer_abort </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *&#160;</td>
          <td class="paramname"><em>bridge_channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>hook_pvt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>DTMF hook when transferer presses abort sequence. </p>
<p>Sends a stimulus to the attended transfer monitor thread that the abort sequence has been pressed </p>

<p class="definition">Definition at line <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02741">2741</a> of file <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html">bridge_basic.c</a>.</p>

<p class="reference">References <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01532">stimulate_attended_transfer()</a>, and <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01254">STIMULUS_DTMF_ATXFER_ABORT</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l03121">add_transferer_role()</a>, and <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02855">bridge_personality_atxfer_push()</a>.</p>
<div class="fragment"><div class="line"><a name="l02742"></a><span class="lineno"> 2742</span>&#160;{</div><div class="line"><a name="l02743"></a><span class="lineno"> 2743</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/d9e/structattended__transfer__properties.html">attended_transfer_properties</a> *props = hook_pvt;</div><div class="line"><a name="l02744"></a><span class="lineno"> 2744</span>&#160;</div><div class="line"><a name="l02745"></a><span class="lineno"> 2745</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;Transferer on attended transfer %p pressed abort sequence\n&quot;</span>, props);</div><div class="line"><a name="l02746"></a><span class="lineno"> 2746</span>&#160;   <a class="code" href="../../d7/d9b/bridge__basic_8c.html#af815ae36fd4901cf53e2c583047d61c5">stimulate_attended_transfer</a>(props, <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a72d10e2721ad55addb0b84175f5280d0">STIMULUS_DTMF_ATXFER_ABORT</a>);</div><div class="line"><a name="l02747"></a><span class="lineno"> 2747</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02748"></a><span class="lineno"> 2748</span>&#160;}</div><div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290a72d10e2721ad55addb0b84175f5280d0"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a72d10e2721ad55addb0b84175f5280d0">STIMULUS_DTMF_ATXFER_ABORT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01254">bridge_basic.c:1254</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_af815ae36fd4901cf53e2c583047d61c5"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#af815ae36fd4901cf53e2c583047d61c5">stimulate_attended_transfer</a></div><div class="ttdeci">static void stimulate_attended_transfer(struct attended_transfer_properties *props, enum attended_transfer_stimulus stimulus)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01532">bridge_basic.c:1532</a></div></div>
<div class="ttc" id="structattended__transfer__properties_html"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html">attended_transfer_properties</a></div><div class="ttdoc">Collection of data related to an attended transfer attempt. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01291">bridge_basic.c:1291</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a1df8ed0f1a107e2fc9e816c3bdce6c77"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1df8ed0f1a107e2fc9e816c3bdce6c77">&#9670;&nbsp;</a></span>atxfer_complete()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int atxfer_complete </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *&#160;</td>
          <td class="paramname"><em>bridge_channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>hook_pvt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>DTMF hook when transferer presses complete sequence. </p>
<p>Sends a stimulus to the attended transfer monitor thread that the complete sequence has been pressed </p>

<p class="definition">Definition at line <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02755">2755</a> of file <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html">bridge_basic.c</a>.</p>

<p class="reference">References <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01532">stimulate_attended_transfer()</a>, and <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01256">STIMULUS_DTMF_ATXFER_COMPLETE</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l03121">add_transferer_role()</a>, and <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02855">bridge_personality_atxfer_push()</a>.</p>
<div class="fragment"><div class="line"><a name="l02756"></a><span class="lineno"> 2756</span>&#160;{</div><div class="line"><a name="l02757"></a><span class="lineno"> 2757</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/d9e/structattended__transfer__properties.html">attended_transfer_properties</a> *props = hook_pvt;</div><div class="line"><a name="l02758"></a><span class="lineno"> 2758</span>&#160;</div><div class="line"><a name="l02759"></a><span class="lineno"> 2759</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;Transferer on attended transfer %p pressed complete sequence\n&quot;</span>, props);</div><div class="line"><a name="l02760"></a><span class="lineno"> 2760</span>&#160;   <a class="code" href="../../d7/d9b/bridge__basic_8c.html#af815ae36fd4901cf53e2c583047d61c5">stimulate_attended_transfer</a>(props, <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a9b6689669975b3d4767ca6284d721775">STIMULUS_DTMF_ATXFER_COMPLETE</a>);</div><div class="line"><a name="l02761"></a><span class="lineno"> 2761</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02762"></a><span class="lineno"> 2762</span>&#160;}</div><div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290a9b6689669975b3d4767ca6284d721775"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a9b6689669975b3d4767ca6284d721775">STIMULUS_DTMF_ATXFER_COMPLETE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01256">bridge_basic.c:1256</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_af815ae36fd4901cf53e2c583047d61c5"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#af815ae36fd4901cf53e2c583047d61c5">stimulate_attended_transfer</a></div><div class="ttdeci">static void stimulate_attended_transfer(struct attended_transfer_properties *props, enum attended_transfer_stimulus stimulus)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01532">bridge_basic.c:1532</a></div></div>
<div class="ttc" id="structattended__transfer__properties_html"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html">attended_transfer_properties</a></div><div class="ttdoc">Collection of data related to an attended transfer attempt. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01291">bridge_basic.c:1291</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a35d4f19b94994f238ebd6a7183828c2e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a35d4f19b94994f238ebd6a7183828c2e">&#9670;&nbsp;</a></span>atxfer_swap()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int atxfer_swap </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *&#160;</td>
          <td class="paramname"><em>bridge_channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>hook_pvt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>DTMF hook when transferer presses swap sequence. </p>
<p>Sends a stimulus to the attended transfer monitor thread that the swap sequence has been pressed </p>

<p class="definition">Definition at line <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02783">2783</a> of file <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html">bridge_basic.c</a>.</p>

<p class="reference">References <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01532">stimulate_attended_transfer()</a>, and <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01260">STIMULUS_DTMF_ATXFER_SWAP</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l03121">add_transferer_role()</a>, and <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02855">bridge_personality_atxfer_push()</a>.</p>
<div class="fragment"><div class="line"><a name="l02784"></a><span class="lineno"> 2784</span>&#160;{</div><div class="line"><a name="l02785"></a><span class="lineno"> 2785</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/d9e/structattended__transfer__properties.html">attended_transfer_properties</a> *props = hook_pvt;</div><div class="line"><a name="l02786"></a><span class="lineno"> 2786</span>&#160;</div><div class="line"><a name="l02787"></a><span class="lineno"> 2787</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;Transferer on attended transfer %p pressed swap sequence\n&quot;</span>, props);</div><div class="line"><a name="l02788"></a><span class="lineno"> 2788</span>&#160;   <a class="code" href="../../d7/d9b/bridge__basic_8c.html#af815ae36fd4901cf53e2c583047d61c5">stimulate_attended_transfer</a>(props, <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290ac4c70db40c8740dc43a331ab483f3c1c">STIMULUS_DTMF_ATXFER_SWAP</a>);</div><div class="line"><a name="l02789"></a><span class="lineno"> 2789</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02790"></a><span class="lineno"> 2790</span>&#160;}</div><div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_af815ae36fd4901cf53e2c583047d61c5"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#af815ae36fd4901cf53e2c583047d61c5">stimulate_attended_transfer</a></div><div class="ttdeci">static void stimulate_attended_transfer(struct attended_transfer_properties *props, enum attended_transfer_stimulus stimulus)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01532">bridge_basic.c:1532</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290ac4c70db40c8740dc43a331ab483f3c1c"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290ac4c70db40c8740dc43a331ab483f3c1c">STIMULUS_DTMF_ATXFER_SWAP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01260">bridge_basic.c:1260</a></div></div>
<div class="ttc" id="structattended__transfer__properties_html"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html">attended_transfer_properties</a></div><div class="ttdoc">Collection of data related to an attended transfer attempt. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01291">bridge_basic.c:1291</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af85bc300c029f95cb2a1fc9157038a70"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af85bc300c029f95cb2a1fc9157038a70">&#9670;&nbsp;</a></span>atxfer_threeway()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int atxfer_threeway </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *&#160;</td>
          <td class="paramname"><em>bridge_channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>hook_pvt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>DTMF hook when transferer presses threeway sequence. </p>
<p>Sends a stimulus to the attended transfer monitor thread that the threeway sequence has been pressed </p>

<p class="definition">Definition at line <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02769">2769</a> of file <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html">bridge_basic.c</a>.</p>

<p class="reference">References <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01532">stimulate_attended_transfer()</a>, and <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01258">STIMULUS_DTMF_ATXFER_THREEWAY</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l03121">add_transferer_role()</a>, and <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02855">bridge_personality_atxfer_push()</a>.</p>
<div class="fragment"><div class="line"><a name="l02770"></a><span class="lineno"> 2770</span>&#160;{</div><div class="line"><a name="l02771"></a><span class="lineno"> 2771</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/d9e/structattended__transfer__properties.html">attended_transfer_properties</a> *props = hook_pvt;</div><div class="line"><a name="l02772"></a><span class="lineno"> 2772</span>&#160;</div><div class="line"><a name="l02773"></a><span class="lineno"> 2773</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;Transferer on attended transfer %p pressed threeway sequence\n&quot;</span>, props);</div><div class="line"><a name="l02774"></a><span class="lineno"> 2774</span>&#160;   <a class="code" href="../../d7/d9b/bridge__basic_8c.html#af815ae36fd4901cf53e2c583047d61c5">stimulate_attended_transfer</a>(props, <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a6f6c487fc2723093806c52b62c7ae80a">STIMULUS_DTMF_ATXFER_THREEWAY</a>);</div><div class="line"><a name="l02775"></a><span class="lineno"> 2775</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02776"></a><span class="lineno"> 2776</span>&#160;}</div><div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_af815ae36fd4901cf53e2c583047d61c5"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#af815ae36fd4901cf53e2c583047d61c5">stimulate_attended_transfer</a></div><div class="ttdeci">static void stimulate_attended_transfer(struct attended_transfer_properties *props, enum attended_transfer_stimulus stimulus)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01532">bridge_basic.c:1532</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290a6f6c487fc2723093806c52b62c7ae80a"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a6f6c487fc2723093806c52b62c7ae80a">STIMULUS_DTMF_ATXFER_THREEWAY</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01258">bridge_basic.c:1258</a></div></div>
<div class="ttc" id="structattended__transfer__properties_html"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html">attended_transfer_properties</a></div><div class="ttdoc">Collection of data related to an attended transfer attempt. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01291">bridge_basic.c:1291</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3856b7d73a2892eb8cf3d45cbd6121ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3856b7d73a2892eb8cf3d45cbd6121ba">&#9670;&nbsp;</a></span>atxfer_transferer_hangup()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int atxfer_transferer_hangup </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *&#160;</td>
          <td class="paramname"><em>bridge_channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>hook_pvt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Hangup hook for transferer channel. </p>
<p>Sends a stimulus to the attended transfer monitor thread that the transferer has hung up. </p>

<p class="definition">Definition at line <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02797">2797</a> of file <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html">bridge_basic.c</a>.</p>

<p class="reference">References <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01532">stimulate_attended_transfer()</a>, and <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01242">STIMULUS_TRANSFERER_HANGUP</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02855">bridge_personality_atxfer_push()</a>.</p>
<div class="fragment"><div class="line"><a name="l02798"></a><span class="lineno"> 2798</span>&#160;{</div><div class="line"><a name="l02799"></a><span class="lineno"> 2799</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/d9e/structattended__transfer__properties.html">attended_transfer_properties</a> *props = hook_pvt;</div><div class="line"><a name="l02800"></a><span class="lineno"> 2800</span>&#160;</div><div class="line"><a name="l02801"></a><span class="lineno"> 2801</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;Transferer on attended transfer %p hung up\n&quot;</span>, props);</div><div class="line"><a name="l02802"></a><span class="lineno"> 2802</span>&#160;   <a class="code" href="../../d7/d9b/bridge__basic_8c.html#af815ae36fd4901cf53e2c583047d61c5">stimulate_attended_transfer</a>(props, <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a800bb00b2e8ab7a8f11092b3bb2fba11">STIMULUS_TRANSFERER_HANGUP</a>);</div><div class="line"><a name="l02803"></a><span class="lineno"> 2803</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02804"></a><span class="lineno"> 2804</span>&#160;}</div><div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290a800bb00b2e8ab7a8f11092b3bb2fba11"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a800bb00b2e8ab7a8f11092b3bb2fba11">STIMULUS_TRANSFERER_HANGUP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01242">bridge_basic.c:1242</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_af815ae36fd4901cf53e2c583047d61c5"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#af815ae36fd4901cf53e2c583047d61c5">stimulate_attended_transfer</a></div><div class="ttdeci">static void stimulate_attended_transfer(struct attended_transfer_properties *props, enum attended_transfer_stimulus stimulus)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01532">bridge_basic.c:1532</a></div></div>
<div class="ttc" id="structattended__transfer__properties_html"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html">attended_transfer_properties</a></div><div class="ttdoc">Collection of data related to an attended transfer attempt. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01291">bridge_basic.c:1291</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a348708f1b551fd7b043579f0209b4f5f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a348708f1b551fd7b043579f0209b4f5f">&#9670;&nbsp;</a></span>basic_hangup_hook()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int basic_hangup_hook </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *&#160;</td>
          <td class="paramname"><em>bridge_channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>hook_pvt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00290">290</a> of file <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html">bridge_basic.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d32/bridge__channel_8c_source.html#l00314">ast_bridge_channel_leave_bridge()</a>, <a class="el" href="../../d3/d32/bridge__channel_8c_source.html#l00222">ast_bridge_channel_lock_bridge()</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00493">ast_bridge_unlock</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00490">AST_LIST_TRAVERSE</a>, <a class="el" href="../../de/d41/bridge__channel_8h_source.html#l00100">ast_bridge_channel::bridge</a>, <a class="el" href="../../de/d41/bridge__channel_8h_source.html#l00066">BRIDGE_CHANNEL_STATE_END_NO_DISSOLVE</a>, <a class="el" href="../../de/d41/bridge__channel_8h_source.html#l00062">BRIDGE_CHANNEL_STATE_WAIT</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00371">ast_bridge::channels</a>, and <a class="el" href="../../de/d41/bridge__channel_8h_source.html#l00089">ast_bridge_channel::state</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00641">add_normal_hooks()</a>.</p>
<div class="fragment"><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;{</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;   <span class="keywordtype">int</span> bridge_count = 0;</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *iter;</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;   <a class="code" href="../../de/d41/bridge__channel_8h.html#a7d01ff5caf025a97796d2dbb78f5f02c">ast_bridge_channel_lock_bridge</a>(bridge_channel);</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(&amp;bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a4fe7571e3c1759f3689d4453c132bdb7">bridge</a>-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a77542a877d8ed62331c5b3b6aa3e87a7">channels</a>, iter, <a class="code" href="../../d3/d96/structentry.html">entry</a>) {</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;      <span class="keywordflow">if</span> (iter != bridge_channel &amp;&amp; iter-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a871f4f1d537a1cd524ee8c28b623104f">state</a> == <a class="code" href="../../de/d41/bridge__channel_8h.html#ab44a00c2c23eaeec1d8b61eb254eecaaad84ac14921aab9ebb49fdf063ee22853">BRIDGE_CHANNEL_STATE_WAIT</a>) {</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;         ++bridge_count;</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;      }</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;   }</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;   <span class="keywordflow">if</span> (2 &lt;= bridge_count) {</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;      <span class="comment">/* Just allow this channel to leave the multi-party bridge. */</span></div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;      <a class="code" href="../../de/d41/bridge__channel_8h.html#ad58d921ec1c5a6f12be8f94327dd98c0">ast_bridge_channel_leave_bridge</a>(bridge_channel,</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;         <a class="code" href="../../de/d41/bridge__channel_8h.html#ab44a00c2c23eaeec1d8b61eb254eecaaa708398f920511beb8ea9df06bf16daac">BRIDGE_CHANNEL_STATE_END_NO_DISSOLVE</a>, 0);</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;   }</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#a0fb66f4741ca8d106af1917a2f1aab6e">ast_bridge_unlock</a>(bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a4fe7571e3c1759f3689d4453c132bdb7">bridge</a>);</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;}</div><div class="ttc" id="structast__bridge__channel_html_a871f4f1d537a1cd524ee8c28b623104f"><div class="ttname"><a href="../../d5/dca/structast__bridge__channel.html#a871f4f1d537a1cd524ee8c28b623104f">ast_bridge_channel::state</a></div><div class="ttdeci">enum bridge_channel_state state</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00089">bridge_channel.h:89</a></div></div>
<div class="ttc" id="bridge__channel_8h_html_ab44a00c2c23eaeec1d8b61eb254eecaaa708398f920511beb8ea9df06bf16daac"><div class="ttname"><a href="../../de/d41/bridge__channel_8h.html#ab44a00c2c23eaeec1d8b61eb254eecaaa708398f920511beb8ea9df06bf16daac">BRIDGE_CHANNEL_STATE_END_NO_DISSOLVE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00066">bridge_channel.h:66</a></div></div>
<div class="ttc" id="structast__bridge__channel_html_a4fe7571e3c1759f3689d4453c132bdb7"><div class="ttname"><a href="../../d5/dca/structast__bridge__channel.html#a4fe7571e3c1759f3689d4453c132bdb7">ast_bridge_channel::bridge</a></div><div class="ttdeci">struct ast_bridge * bridge</div><div class="ttdoc">Bridge this channel is participating in. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00100">bridge_channel.h:100</a></div></div>
<div class="ttc" id="bridge__channel_8h_html_ad58d921ec1c5a6f12be8f94327dd98c0"><div class="ttname"><a href="../../de/d41/bridge__channel_8h.html#ad58d921ec1c5a6f12be8f94327dd98c0">ast_bridge_channel_leave_bridge</a></div><div class="ttdeci">void ast_bridge_channel_leave_bridge(struct ast_bridge_channel *bridge_channel, enum bridge_channel_state new_state, int cause)</div><div class="ttdoc">Set bridge channel state to leave bridge (if not leaving already). </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d32/bridge__channel_8c_source.html#l00314">bridge_channel.c:314</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a3008b2f4f236b72d8bcfb80e346324ef"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a></div><div class="ttdeci">#define AST_LIST_TRAVERSE(head, var, field)</div><div class="ttdoc">Loops over (traverses) the entries in a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00490">linkedlists.h:490</a></div></div>
<div class="ttc" id="bridge_8h_html_a0fb66f4741ca8d106af1917a2f1aab6e"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a0fb66f4741ca8d106af1917a2f1aab6e">ast_bridge_unlock</a></div><div class="ttdeci">#define ast_bridge_unlock(bridge)</div><div class="ttdoc">Unlock the bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00493">bridge.h:493</a></div></div>
<div class="ttc" id="structast__bridge_html_a77542a877d8ed62331c5b3b6aa3e87a7"><div class="ttname"><a href="../../d4/d84/structast__bridge.html#a77542a877d8ed62331c5b3b6aa3e87a7">ast_bridge::channels</a></div><div class="ttdeci">struct ast_bridge_channels_list channels</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00371">bridge.h:371</a></div></div>
<div class="ttc" id="structast__bridge__channel_html"><div class="ttname"><a href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a></div><div class="ttdoc">Structure that contains information regarding a channel in a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00084">bridge_channel.h:84</a></div></div>
<div class="ttc" id="bridge__channel_8h_html_a7d01ff5caf025a97796d2dbb78f5f02c"><div class="ttname"><a href="../../de/d41/bridge__channel_8h.html#a7d01ff5caf025a97796d2dbb78f5f02c">ast_bridge_channel_lock_bridge</a></div><div class="ttdeci">void ast_bridge_channel_lock_bridge(struct ast_bridge_channel *bridge_channel)</div><div class="ttdoc">Lock the bridge associated with the bridge channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d32/bridge__channel_8c_source.html#l00222">bridge_channel.c:222</a></div></div>
<div class="ttc" id="structentry_html"><div class="ttname"><a href="../../d3/d96/structentry.html">entry</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d85/search_8h_source.html#l00040">search.h:40</a></div></div>
<div class="ttc" id="bridge__channel_8h_html_ab44a00c2c23eaeec1d8b61eb254eecaaad84ac14921aab9ebb49fdf063ee22853"><div class="ttname"><a href="../../de/d41/bridge__channel_8h.html#ab44a00c2c23eaeec1d8b61eb254eecaaad84ac14921aab9ebb49fdf063ee22853">BRIDGE_CHANNEL_STATE_WAIT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00062">bridge_channel.h:62</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a02008befa08470037e2fa09ef9aa900e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a02008befa08470037e2fa09ef9aa900e">&#9670;&nbsp;</a></span>blind_transfer_cb()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void blind_transfer_cb </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>new_channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../da/d84/structtransfer__channel__data.html">transfer_channel_data</a> *&#160;</td>
          <td class="paramname"><em>user_data_wrapper</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="../../d4/d56/bridge_8h.html#a865f7ef0f91885406ab746b23eb598cd">ast_transfer_type</a>&#160;</td>
          <td class="paramname"><em>transfer_type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l03461">3461</a> of file <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html">bridge_basic.c</a>.</p>

<p class="reference">References <a class="el" href="../../d4/d56/bridge_8h_source.html#l01130">AST_BRIDGE_TRANSFER_MULTI_PARTY</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l03244">copy_caller_data()</a>, and <a class="el" href="../../d4/d56/bridge_8h_source.html#l01137">transfer_channel_data::data</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l03472">feature_blind_transfer()</a>.</p>
<div class="fragment"><div class="line"><a name="l03463"></a><span class="lineno"> 3463</span>&#160;{</div><div class="line"><a name="l03464"></a><span class="lineno"> 3464</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *transferer_channel = user_data_wrapper-&gt;<a class="code" href="../../da/d84/structtransfer__channel__data.html#a735984d41155bc1032e09bece8f8d66d">data</a>;</div><div class="line"><a name="l03465"></a><span class="lineno"> 3465</span>&#160;</div><div class="line"><a name="l03466"></a><span class="lineno"> 3466</span>&#160;   <span class="keywordflow">if</span> (transfer_type == <a class="code" href="../../d4/d56/bridge_8h.html#a865f7ef0f91885406ab746b23eb598cdaa85cad6eafcb0edc223c975e0cf3b296">AST_BRIDGE_TRANSFER_MULTI_PARTY</a>) {</div><div class="line"><a name="l03467"></a><span class="lineno"> 3467</span>&#160;      <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a6ae683e5f1bc86ab4c40a3aac44f78f6">copy_caller_data</a>(new_channel, transferer_channel);</div><div class="line"><a name="l03468"></a><span class="lineno"> 3468</span>&#160;   }</div><div class="line"><a name="l03469"></a><span class="lineno"> 3469</span>&#160;}</div><div class="ttc" id="structtransfer__channel__data_html_a735984d41155bc1032e09bece8f8d66d"><div class="ttname"><a href="../../da/d84/structtransfer__channel__data.html#a735984d41155bc1032e09bece8f8d66d">transfer_channel_data::data</a></div><div class="ttdeci">void * data</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l01137">bridge.h:1137</a></div></div>
<div class="ttc" id="structast__channel_html"><div class="ttname"><a href="../../df/d3c/structast__channel.html">ast_channel</a></div><div class="ttdoc">Main Channel structure associated with a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00073">channel_internal_api.c:73</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a6ae683e5f1bc86ab4c40a3aac44f78f6"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a6ae683e5f1bc86ab4c40a3aac44f78f6">copy_caller_data</a></div><div class="ttdeci">static void copy_caller_data(struct ast_channel *dest, struct ast_channel *caller)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l03244">bridge_basic.c:3244</a></div></div>
<div class="ttc" id="bridge_8h_html_a865f7ef0f91885406ab746b23eb598cdaa85cad6eafcb0edc223c975e0cf3b296"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a865f7ef0f91885406ab746b23eb598cdaa85cad6eafcb0edc223c975e0cf3b296">AST_BRIDGE_TRANSFER_MULTI_PARTY</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l01130">bridge.h:1130</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa4779d77a56bd96318020129e9c1e7d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa4779d77a56bd96318020129e9c1e7d9">&#9670;&nbsp;</a></span>blond_enter()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int blond_enter </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dd/d9e/structattended__transfer__properties.html">attended_transfer_properties</a> *&#160;</td>
          <td class="paramname"><em>props</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02322">2322</a> of file <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html">bridge_basic.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d7b/channel_8h_source.html#l02992">ast_channel_cleanup</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01897">bridge_merge()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01618">get_transfer_parties()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01645">publish_transfer_success()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01814">ringing()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01313">attended_transfer_properties::target_bridge</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01317">attended_transfer_properties::transfer_target</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01309">attended_transfer_properties::transferee_bridge</a>, and <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01315">attended_transfer_properties::transferer</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02338">blond_nonfinal_enter()</a>.</p>
<div class="fragment"><div class="line"><a name="l02323"></a><span class="lineno"> 2323</span>&#160;{</div><div class="line"><a name="l02324"></a><span class="lineno"> 2324</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *transferee_channel;</div><div class="line"><a name="l02325"></a><span class="lineno"> 2325</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *target_channel;</div><div class="line"><a name="l02326"></a><span class="lineno"> 2326</span>&#160;</div><div class="line"><a name="l02327"></a><span class="lineno"> 2327</span>&#160;   <a class="code" href="../../d7/d9b/bridge__basic_8c.html#aeadd7c4bd948297093b832e8f9d0f48c">get_transfer_parties</a>(props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a43cf79e5f3675b2cdf001bceacb02e72">transferer</a>, props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a7c148ea37d33eb1640a17177c700be43">transferee_bridge</a>, props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#ab45c59137417246eaa392b3d8319fbc3">target_bridge</a>,</div><div class="line"><a name="l02328"></a><span class="lineno"> 2328</span>&#160;         &amp;transferee_channel, &amp;target_channel);</div><div class="line"><a name="l02329"></a><span class="lineno"> 2329</span>&#160;   <a class="code" href="../../d7/d9b/bridge__basic_8c.html#af86a26e82b3a594e937e8d4739822492">bridge_merge</a>(props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a7c148ea37d33eb1640a17177c700be43">transferee_bridge</a>, props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#ab45c59137417246eaa392b3d8319fbc3">target_bridge</a>, &amp;props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a43cf79e5f3675b2cdf001bceacb02e72">transferer</a>, 1);</div><div class="line"><a name="l02330"></a><span class="lineno"> 2330</span>&#160;   <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a6ab6e51f783d7cea98857990908996d3">ringing</a>(props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#af359fe2738df581812a3c9f7d3e32f10">transfer_target</a>);</div><div class="line"><a name="l02331"></a><span class="lineno"> 2331</span>&#160;   <a class="code" href="../../d7/d9b/bridge__basic_8c.html#af6fb45b453a78c3c58a3ff3a880339cb">publish_transfer_success</a>(props, transferee_channel, target_channel);</div><div class="line"><a name="l02332"></a><span class="lineno"> 2332</span>&#160;</div><div class="line"><a name="l02333"></a><span class="lineno"> 2333</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#ae93ebb3372a2d9495ae3c5417dd95cd5">ast_channel_cleanup</a>(transferee_channel);</div><div class="line"><a name="l02334"></a><span class="lineno"> 2334</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#ae93ebb3372a2d9495ae3c5417dd95cd5">ast_channel_cleanup</a>(target_channel);</div><div class="line"><a name="l02335"></a><span class="lineno"> 2335</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02336"></a><span class="lineno"> 2336</span>&#160;}</div><div class="ttc" id="structast__channel_html"><div class="ttname"><a href="../../df/d3c/structast__channel.html">ast_channel</a></div><div class="ttdoc">Main Channel structure associated with a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00073">channel_internal_api.c:73</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_af6fb45b453a78c3c58a3ff3a880339cb"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#af6fb45b453a78c3c58a3ff3a880339cb">publish_transfer_success</a></div><div class="ttdeci">static void publish_transfer_success(struct attended_transfer_properties *props, struct ast_channel *transferee_channel, struct ast_channel *target_channel)</div><div class="ttdoc">Send a stasis publication for a successful attended transfer. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01645">bridge_basic.c:1645</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_af86a26e82b3a594e937e8d4739822492"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#af86a26e82b3a594e937e8d4739822492">bridge_merge</a></div><div class="ttdeci">static void bridge_merge(struct ast_bridge *dest, struct ast_bridge *src, struct ast_channel **kick_channels, unsigned int num_channels)</div><div class="ttdoc">Wrapper for bridge_do_merge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01897">bridge_basic.c:1897</a></div></div>
<div class="ttc" id="structattended__transfer__properties_html_a7c148ea37d33eb1640a17177c700be43"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html#a7c148ea37d33eb1640a17177c700be43">attended_transfer_properties::transferee_bridge</a></div><div class="ttdeci">struct ast_bridge * transferee_bridge</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01309">bridge_basic.c:1309</a></div></div>
<div class="ttc" id="structattended__transfer__properties_html_af359fe2738df581812a3c9f7d3e32f10"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html#af359fe2738df581812a3c9f7d3e32f10">attended_transfer_properties::transfer_target</a></div><div class="ttdeci">struct ast_channel * transfer_target</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01317">bridge_basic.c:1317</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a6ab6e51f783d7cea98857990908996d3"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a6ab6e51f783d7cea98857990908996d3">ringing</a></div><div class="ttdeci">static void ringing(struct ast_channel *chan)</div><div class="ttdoc">Helper method to send a ringing indication to a channel in a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01814">bridge_basic.c:1814</a></div></div>
<div class="ttc" id="channel_8h_html_ae93ebb3372a2d9495ae3c5417dd95cd5"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#ae93ebb3372a2d9495ae3c5417dd95cd5">ast_channel_cleanup</a></div><div class="ttdeci">#define ast_channel_cleanup(c)</div><div class="ttdoc">Cleanup a channel reference. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02992">channel.h:2992</a></div></div>
<div class="ttc" id="structattended__transfer__properties_html_ab45c59137417246eaa392b3d8319fbc3"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html#ab45c59137417246eaa392b3d8319fbc3">attended_transfer_properties::target_bridge</a></div><div class="ttdeci">struct ast_bridge * target_bridge</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01313">bridge_basic.c:1313</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_aeadd7c4bd948297093b832e8f9d0f48c"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#aeadd7c4bd948297093b832e8f9d0f48c">get_transfer_parties</a></div><div class="ttdeci">static void get_transfer_parties(struct ast_channel *transferer, struct ast_bridge *transferee_bridge, struct ast_bridge *target_bridge, struct ast_channel **transferee, struct ast_channel **transfer_target)</div><div class="ttdoc">determine transferee and transfer target for an attended transfer </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01618">bridge_basic.c:1618</a></div></div>
<div class="ttc" id="structattended__transfer__properties_html_a43cf79e5f3675b2cdf001bceacb02e72"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html#a43cf79e5f3675b2cdf001bceacb02e72">attended_transfer_properties::transferer</a></div><div class="ttdeci">struct ast_channel * transferer</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01315">bridge_basic.c:1315</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="acdd40757ecd68a6a2fdd87701bf3df4c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acdd40757ecd68a6a2fdd87701bf3df4c">&#9670;&nbsp;</a></span>blond_nonfinal_enter()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int blond_nonfinal_enter </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dd/d9e/structattended__transfer__properties.html">attended_transfer_properties</a> *&#160;</td>
          <td class="paramname"><em>props</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02338">2338</a> of file <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html">bridge_basic.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d7b/channel_8h_source.html#l02970">ast_channel_ref</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02981">ast_channel_unref</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02322">blond_enter()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01325">attended_transfer_properties::recall_target</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01332">attended_transfer_properties::superstate</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00768">SUPERSTATE_RECALL</a>, and <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01317">attended_transfer_properties::transfer_target</a>.</p>
<div class="fragment"><div class="line"><a name="l02339"></a><span class="lineno"> 2339</span>&#160;{</div><div class="line"><a name="l02340"></a><span class="lineno"> 2340</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l02341"></a><span class="lineno"> 2341</span>&#160;   props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a3cc9de576dd4ea6fd88d41ef5db89a1d">superstate</a> = <a class="code" href="../../d7/d9b/bridge__basic_8c.html#af112aa999551130fecf72643a55825f1a467b5984311242980b0d7722887a6667">SUPERSTATE_RECALL</a>;</div><div class="line"><a name="l02342"></a><span class="lineno"> 2342</span>&#160;   <span class="comment">/* move the transfer target to the recall target along with its reference */</span></div><div class="line"><a name="l02343"></a><span class="lineno"> 2343</span>&#160;   props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a8cfa7137e480b71055eae11820fb3845">recall_target</a> = <a class="code" href="../../d5/d7b/channel_8h.html#a6801c703e767d6f760c54c8b86a30024">ast_channel_ref</a>(props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#af359fe2738df581812a3c9f7d3e32f10">transfer_target</a>);</div><div class="line"><a name="l02344"></a><span class="lineno"> 2344</span>&#160;   res = <a class="code" href="../../d7/d9b/bridge__basic_8c.html#aa4779d77a56bd96318020129e9c1e7d9">blond_enter</a>(props);</div><div class="line"><a name="l02345"></a><span class="lineno"> 2345</span>&#160;   props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#af359fe2738df581812a3c9f7d3e32f10">transfer_target</a> = <a class="code" href="../../d5/d7b/channel_8h.html#ab733a7825810b895a89b629e0ea89380">ast_channel_unref</a>(props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#af359fe2738df581812a3c9f7d3e32f10">transfer_target</a>);</div><div class="line"><a name="l02346"></a><span class="lineno"> 2346</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l02347"></a><span class="lineno"> 2347</span>&#160;}</div><div class="ttc" id="channel_8h_html_ab733a7825810b895a89b629e0ea89380"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#ab733a7825810b895a89b629e0ea89380">ast_channel_unref</a></div><div class="ttdeci">#define ast_channel_unref(c)</div><div class="ttdoc">Decrease channel reference count. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02981">channel.h:2981</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_aa4779d77a56bd96318020129e9c1e7d9"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#aa4779d77a56bd96318020129e9c1e7d9">blond_enter</a></div><div class="ttdeci">static int blond_enter(struct attended_transfer_properties *props)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l02322">bridge_basic.c:2322</a></div></div>
<div class="ttc" id="structattended__transfer__properties_html_af359fe2738df581812a3c9f7d3e32f10"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html#af359fe2738df581812a3c9f7d3e32f10">attended_transfer_properties::transfer_target</a></div><div class="ttdeci">struct ast_channel * transfer_target</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01317">bridge_basic.c:1317</a></div></div>
<div class="ttc" id="structattended__transfer__properties_html_a8cfa7137e480b71055eae11820fb3845"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html#a8cfa7137e480b71055eae11820fb3845">attended_transfer_properties::recall_target</a></div><div class="ttdeci">struct ast_channel * recall_target</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01325">bridge_basic.c:1325</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_af112aa999551130fecf72643a55825f1a467b5984311242980b0d7722887a6667"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#af112aa999551130fecf72643a55825f1a467b5984311242980b0d7722887a6667">SUPERSTATE_RECALL</a></div><div class="ttdoc">Recall superstate. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00768">bridge_basic.c:768</a></div></div>
<div class="ttc" id="channel_8h_html_a6801c703e767d6f760c54c8b86a30024"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a6801c703e767d6f760c54c8b86a30024">ast_channel_ref</a></div><div class="ttdeci">#define ast_channel_ref(c)</div><div class="ttdoc">Increase channel reference count. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02970">channel.h:2970</a></div></div>
<div class="ttc" id="structattended__transfer__properties_html_a3cc9de576dd4ea6fd88d41ef5db89a1d"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html#a3cc9de576dd4ea6fd88d41ef5db89a1d">attended_transfer_properties::superstate</a></div><div class="ttdeci">enum attended_transfer_superstate superstate</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01332">bridge_basic.c:1332</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a9ca89327afce8a429d65e36280bd8f2d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9ca89327afce8a429d65e36280bd8f2d">&#9670;&nbsp;</a></span>blond_nonfinal_exit()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static enum <a class="el" href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8">attended_transfer_state</a> blond_nonfinal_exit </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dd/d9e/structattended__transfer__properties.html">attended_transfer_properties</a> *&#160;</td>
          <td class="paramname"><em>props</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290">attended_transfer_stimulus</a>&#160;</td>
          <td class="paramname"><em>stimulus</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02349">2349</a> of file <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html">bridge_basic.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d7b/channel_8h_source.html#l02981">ast_channel_unref</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l02476">ast_softhangup()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l01149">AST_SOFTHANGUP_EXPLICIT</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01325">attended_transfer_properties::recall_target</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01550">remove_attended_transfer_stimulus()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01330">attended_transfer_properties::state</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02000">attended_transfer_state_properties::state_name</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01254">STIMULUS_DTMF_ATXFER_ABORT</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01256">STIMULUS_DTMF_ATXFER_COMPLETE</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01260">STIMULUS_DTMF_ATXFER_SWAP</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01258">STIMULUS_DTMF_ATXFER_THREEWAY</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01238">STIMULUS_NONE</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01250">STIMULUS_RECALL_TARGET_ANSWER</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01248">STIMULUS_RECALL_TARGET_HANGUP</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01268">stimulus_strs</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01252">STIMULUS_TIMEOUT</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01246">STIMULUS_TRANSFER_TARGET_ANSWER</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01244">STIMULUS_TRANSFER_TARGET_HANGUP</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01240">STIMULUS_TRANSFEREE_HANGUP</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01242">STIMULUS_TRANSFERER_HANGUP</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01230">TRANSFER_FAIL</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01114">TRANSFER_RECALLING</a>, and <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00903">TRANSFER_RESUME</a>.</p>
<div class="fragment"><div class="line"><a name="l02351"></a><span class="lineno"> 2351</span>&#160;{</div><div class="line"><a name="l02352"></a><span class="lineno"> 2352</span>&#160;   <span class="keywordflow">switch</span> (stimulus) {</div><div class="line"><a name="l02353"></a><span class="lineno"> 2353</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a5bea635a52d3e646fe86091457310934">STIMULUS_TRANSFEREE_HANGUP</a>:</div><div class="line"><a name="l02354"></a><span class="lineno"> 2354</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8a8383b06b8e11a417dca5329407478ee8">TRANSFER_FAIL</a>;</div><div class="line"><a name="l02355"></a><span class="lineno"> 2355</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a49ac501f06885c9839a8833e0639d38f">STIMULUS_RECALL_TARGET_ANSWER</a>:</div><div class="line"><a name="l02356"></a><span class="lineno"> 2356</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8ac19143ec75880c93f0c2483599b28343">TRANSFER_RESUME</a>;</div><div class="line"><a name="l02357"></a><span class="lineno"> 2357</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290ad811a249bfc0c9c585652f461b127180">STIMULUS_TIMEOUT</a>:</div><div class="line"><a name="l02358"></a><span class="lineno"> 2358</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#ac2d6607253f7e8b272d4e845474eaa9b">ast_softhangup</a>(props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a8cfa7137e480b71055eae11820fb3845">recall_target</a>, <a class="code" href="../../d5/d7b/channel_8h.html#a9e9505a91a84992d04ba4e85217fb4e4a2b3b711afc65059c4b51008c9fbc7aee">AST_SOFTHANGUP_EXPLICIT</a>);</div><div class="line"><a name="l02359"></a><span class="lineno"> 2359</span>&#160;      <span class="comment">/* It is possible before we hung them up that they queued up a recall target answer</span></div><div class="line"><a name="l02360"></a><span class="lineno"> 2360</span>&#160;<span class="comment">       * so we remove it if present as it should not exist.</span></div><div class="line"><a name="l02361"></a><span class="lineno"> 2361</span>&#160;<span class="comment">       */</span></div><div class="line"><a name="l02362"></a><span class="lineno"> 2362</span>&#160;      <a class="code" href="../../d7/d9b/bridge__basic_8c.html#abf0cc768006b32570ca2921f83e42410">remove_attended_transfer_stimulus</a>(props, <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a49ac501f06885c9839a8833e0639d38f">STIMULUS_RECALL_TARGET_ANSWER</a>);</div><div class="line"><a name="l02363"></a><span class="lineno"> 2363</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a41d7bde458129adf0121c70ba361258a">STIMULUS_RECALL_TARGET_HANGUP</a>:</div><div class="line"><a name="l02364"></a><span class="lineno"> 2364</span>&#160;      props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a8cfa7137e480b71055eae11820fb3845">recall_target</a> = <a class="code" href="../../d5/d7b/channel_8h.html#ab733a7825810b895a89b629e0ea89380">ast_channel_unref</a>(props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a8cfa7137e480b71055eae11820fb3845">recall_target</a>);</div><div class="line"><a name="l02365"></a><span class="lineno"> 2365</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8afa5ecefd14d3ddf6fb4e8c9279747613">TRANSFER_RECALLING</a>;</div><div class="line"><a name="l02366"></a><span class="lineno"> 2366</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290ae3857d51b5e8970ac1e3714bc1d46fe1">STIMULUS_NONE</a>:</div><div class="line"><a name="l02367"></a><span class="lineno"> 2367</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a72d10e2721ad55addb0b84175f5280d0">STIMULUS_DTMF_ATXFER_ABORT</a>:</div><div class="line"><a name="l02368"></a><span class="lineno"> 2368</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a9b6689669975b3d4767ca6284d721775">STIMULUS_DTMF_ATXFER_COMPLETE</a>:</div><div class="line"><a name="l02369"></a><span class="lineno"> 2369</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a6f6c487fc2723093806c52b62c7ae80a">STIMULUS_DTMF_ATXFER_THREEWAY</a>:</div><div class="line"><a name="l02370"></a><span class="lineno"> 2370</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290ac4c70db40c8740dc43a331ab483f3c1c">STIMULUS_DTMF_ATXFER_SWAP</a>:</div><div class="line"><a name="l02371"></a><span class="lineno"> 2371</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a800bb00b2e8ab7a8f11092b3bb2fba11">STIMULUS_TRANSFERER_HANGUP</a>:</div><div class="line"><a name="l02372"></a><span class="lineno"> 2372</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a5b7c4fdcec2b5bea9e9be459dc924492">STIMULUS_TRANSFER_TARGET_HANGUP</a>:</div><div class="line"><a name="l02373"></a><span class="lineno"> 2373</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a7615240e3b359bd98d9949ff77e102c2">STIMULUS_TRANSFER_TARGET_ANSWER</a>:</div><div class="line"><a name="l02374"></a><span class="lineno"> 2374</span>&#160;   <span class="keywordflow">default</span>:</div><div class="line"><a name="l02375"></a><span class="lineno"> 2375</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Unexpected stimulus &#39;%s&#39; received in attended transfer state &#39;%s&#39;\n&quot;</span>,</div><div class="line"><a name="l02376"></a><span class="lineno"> 2376</span>&#160;            <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a6c44b02ff21d30611e99f11620684e42">stimulus_strs</a>[stimulus], <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a53b49a058262e14d4371a6c30024ea7c">state_properties</a>[props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a3442cf1d72950ce9d62ea7006f6ce78c">state</a>].<a class="code" href="../../da/dab/structattended__transfer__state__properties.html#ab00617be22fdc8c996d36e4082f2410a">state_name</a>);</div><div class="line"><a name="l02377"></a><span class="lineno"> 2377</span>&#160;      <span class="keywordflow">return</span> props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a3442cf1d72950ce9d62ea7006f6ce78c">state</a>;</div><div class="line"><a name="l02378"></a><span class="lineno"> 2378</span>&#160;   }</div><div class="line"><a name="l02379"></a><span class="lineno"> 2379</span>&#160;}</div><div class="ttc" id="channel_8h_html_ab733a7825810b895a89b629e0ea89380"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#ab733a7825810b895a89b629e0ea89380">ast_channel_unref</a></div><div class="ttdeci">#define ast_channel_unref(c)</div><div class="ttdoc">Decrease channel reference count. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02981">channel.h:2981</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_aad3447b0c2c1b069ac9437816db513d8ac19143ec75880c93f0c2483599b28343"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8ac19143ec75880c93f0c2483599b28343">TRANSFER_RESUME</a></div><div class="ttdoc">Resume state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00903">bridge_basic.c:903</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a53b49a058262e14d4371a6c30024ea7c"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a53b49a058262e14d4371a6c30024ea7c">state_properties</a></div><div class="ttdeci">static const struct attended_transfer_state_properties state_properties[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l02015">bridge_basic.c:2015</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290a49ac501f06885c9839a8833e0639d38f"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a49ac501f06885c9839a8833e0639d38f">STIMULUS_RECALL_TARGET_ANSWER</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01250">bridge_basic.c:1250</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290a41d7bde458129adf0121c70ba361258a"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a41d7bde458129adf0121c70ba361258a">STIMULUS_RECALL_TARGET_HANGUP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01248">bridge_basic.c:1248</a></div></div>
<div class="ttc" id="channel_8h_html_a9e9505a91a84992d04ba4e85217fb4e4a2b3b711afc65059c4b51008c9fbc7aee"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a9e9505a91a84992d04ba4e85217fb4e4a2b3b711afc65059c4b51008c9fbc7aee">AST_SOFTHANGUP_EXPLICIT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01149">channel.h:1149</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_aad3447b0c2c1b069ac9437816db513d8a8383b06b8e11a417dca5329407478ee8"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8a8383b06b8e11a417dca5329407478ee8">TRANSFER_FAIL</a></div><div class="ttdoc">Fail state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01230">bridge_basic.c:1230</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290a9b6689669975b3d4767ca6284d721775"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a9b6689669975b3d4767ca6284d721775">STIMULUS_DTMF_ATXFER_COMPLETE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01256">bridge_basic.c:1256</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a6c44b02ff21d30611e99f11620684e42"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a6c44b02ff21d30611e99f11620684e42">stimulus_strs</a></div><div class="ttdeci">const char * stimulus_strs[]</div><div class="ttdoc">String representations of the various stimuli. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01268">bridge_basic.c:1268</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_abf0cc768006b32570ca2921f83e42410"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#abf0cc768006b32570ca2921f83e42410">remove_attended_transfer_stimulus</a></div><div class="ttdeci">static void remove_attended_transfer_stimulus(struct attended_transfer_properties *props, enum attended_transfer_stimulus stimulus)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01550">bridge_basic.c:1550</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290a5bea635a52d3e646fe86091457310934"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a5bea635a52d3e646fe86091457310934">STIMULUS_TRANSFEREE_HANGUP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01240">bridge_basic.c:1240</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290a800bb00b2e8ab7a8f11092b3bb2fba11"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a800bb00b2e8ab7a8f11092b3bb2fba11">STIMULUS_TRANSFERER_HANGUP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01242">bridge_basic.c:1242</a></div></div>
<div class="ttc" id="structattended__transfer__properties_html_a8cfa7137e480b71055eae11820fb3845"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html#a8cfa7137e480b71055eae11820fb3845">attended_transfer_properties::recall_target</a></div><div class="ttdeci">struct ast_channel * recall_target</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01325">bridge_basic.c:1325</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="structattended__transfer__properties_html_a3442cf1d72950ce9d62ea7006f6ce78c"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html#a3442cf1d72950ce9d62ea7006f6ce78c">attended_transfer_properties::state</a></div><div class="ttdeci">enum attended_transfer_state state</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01330">bridge_basic.c:1330</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290a72d10e2721ad55addb0b84175f5280d0"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a72d10e2721ad55addb0b84175f5280d0">STIMULUS_DTMF_ATXFER_ABORT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01254">bridge_basic.c:1254</a></div></div>
<div class="ttc" id="channel_8h_html_ac2d6607253f7e8b272d4e845474eaa9b"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#ac2d6607253f7e8b272d4e845474eaa9b">ast_softhangup</a></div><div class="ttdeci">int ast_softhangup(struct ast_channel *chan, int reason)</div><div class="ttdoc">Softly hangup up a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l02476">channel.c:2476</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290a5b7c4fdcec2b5bea9e9be459dc924492"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a5b7c4fdcec2b5bea9e9be459dc924492">STIMULUS_TRANSFER_TARGET_HANGUP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01244">bridge_basic.c:1244</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290ae3857d51b5e8970ac1e3714bc1d46fe1"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290ae3857d51b5e8970ac1e3714bc1d46fe1">STIMULUS_NONE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01238">bridge_basic.c:1238</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290a6f6c487fc2723093806c52b62c7ae80a"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a6f6c487fc2723093806c52b62c7ae80a">STIMULUS_DTMF_ATXFER_THREEWAY</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01258">bridge_basic.c:1258</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_aad3447b0c2c1b069ac9437816db513d8afa5ecefd14d3ddf6fb4e8c9279747613"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8afa5ecefd14d3ddf6fb4e8c9279747613">TRANSFER_RECALLING</a></div><div class="ttdoc">Recalling state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01114">bridge_basic.c:1114</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290ad811a249bfc0c9c585652f461b127180"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290ad811a249bfc0c9c585652f461b127180">STIMULUS_TIMEOUT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01252">bridge_basic.c:1252</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290a7615240e3b359bd98d9949ff77e102c2"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a7615240e3b359bd98d9949ff77e102c2">STIMULUS_TRANSFER_TARGET_ANSWER</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01246">bridge_basic.c:1246</a></div></div>
<div class="ttc" id="structattended__transfer__state__properties_html_ab00617be22fdc8c996d36e4082f2410a"><div class="ttname"><a href="../../da/dab/structattended__transfer__state__properties.html#ab00617be22fdc8c996d36e4082f2410a">attended_transfer_state_properties::state_name</a></div><div class="ttdeci">const char * state_name</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l02000">bridge_basic.c:2000</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290ac4c70db40c8740dc43a331ab483f3c1c"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290ac4c70db40c8740dc43a331ab483f3c1c">STIMULUS_DTMF_ATXFER_SWAP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01260">bridge_basic.c:1260</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3467eb2c1bece0b38cd4e45ea024bc5d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3467eb2c1bece0b38cd4e45ea024bc5d">&#9670;&nbsp;</a></span>bridge_basic_change_personality()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void bridge_basic_change_personality </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *&#160;</td>
          <td class="paramname"><em>bridge</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="../../d7/d9b/bridge__basic_8c.html#a704d0cced1ceae046ad985c904dc4c6c">bridge_basic_personality_type</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>user_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Change basic bridge personality. </p>
<p>Changing personalities allows for the bridge to remain in use but have properties such as its v_table and its flags change.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bridge</td><td>The bridge </td></tr>
    <tr><td class="paramname">type</td><td>The personality to change the bridge to  Private data to attach to the personality. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l03530">3530</a> of file <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html">bridge_basic.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00480">ast_bridge_lock</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00493">ast_bridge_unlock</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00077">ast_clear_flag</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00196">AST_FLAGS_ALL</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00070">ast_set_flag</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00317">personality_details::bridge_flags</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00329">bridge_basic_personality::current</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00331">bridge_basic_personality::details</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00377">ast_bridge::feature_flags</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l01091">lock</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00321">personality_details::on_personality_change</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00361">ast_bridge::personality</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00319">personality_details::pvt</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00720">remove_hooks_on_personality_change()</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00581">SCOPED_LOCK</a>, and <a class="el" href="../../d9/db6/datastore_8h_source.html#l00032">ast_datastore_info::type</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01508">attended_transfer_properties_shutdown()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02214">consulting_exit()</a>, and <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l03295">feature_attended_transfer()</a>.</p>
<div class="fragment"><div class="line"><a name="l03532"></a><span class="lineno"> 3532</span>&#160;{</div><div class="line"><a name="l03533"></a><span class="lineno"> 3533</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/d3b/structbridge__basic__personality.html">bridge_basic_personality</a> *personality = bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a92af4d6802e170d70b27035ee963ccb4">personality</a>;</div><div class="line"><a name="l03534"></a><span class="lineno"> 3534</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a8b9d9f2f2c41ecf3c70587c2510dddfc">SCOPED_LOCK</a>(<a class="code" href="../../df/d44/app__meetme_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>, bridge, <a class="code" href="../../d4/d56/bridge_8h.html#ab8ee807d2c3a21d19e16fedf35c90de8">ast_bridge_lock</a>, <a class="code" href="../../d4/d56/bridge_8h.html#a0fb66f4741ca8d106af1917a2f1aab6e">ast_bridge_unlock</a>);</div><div class="line"><a name="l03535"></a><span class="lineno"> 3535</span>&#160;</div><div class="line"><a name="l03536"></a><span class="lineno"> 3536</span>&#160;   <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a7f6041b31ddc067d44abf2a55453caae">remove_hooks_on_personality_change</a>(bridge);</div><div class="line"><a name="l03537"></a><span class="lineno"> 3537</span>&#160;</div><div class="line"><a name="l03538"></a><span class="lineno"> 3538</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>(personality-&gt;<a class="code" href="../../dc/d3b/structbridge__basic__personality.html#aa37b1b6dd2f0a609d3c93d21125ef9f7">details</a>[personality-&gt;<a class="code" href="../../dc/d3b/structbridge__basic__personality.html#a713a6e81262dbc01e30bfc2a49245fdb">current</a>].<a class="code" href="../../d6/da5/structpersonality__details.html#a77153a7ab7ba05031fbbb4e67aa9dcfc">pvt</a>);</div><div class="line"><a name="l03539"></a><span class="lineno"> 3539</span>&#160;   personality-&gt;<a class="code" href="../../dc/d3b/structbridge__basic__personality.html#aa37b1b6dd2f0a609d3c93d21125ef9f7">details</a>[personality-&gt;<a class="code" href="../../dc/d3b/structbridge__basic__personality.html#a713a6e81262dbc01e30bfc2a49245fdb">current</a>].<a class="code" href="../../d6/da5/structpersonality__details.html#a77153a7ab7ba05031fbbb4e67aa9dcfc">pvt</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l03540"></a><span class="lineno"> 3540</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a7b260320610a09017a9416398acd0a70">ast_clear_flag</a>(&amp;bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#af15c2e8b6df8ce0bf570af18aa890deb">feature_flags</a>, <a class="code" href="../../d5/d60/utils_8h.html#afb8683b4d96960d7a82a86a974a57599">AST_FLAGS_ALL</a>);</div><div class="line"><a name="l03541"></a><span class="lineno"> 3541</span>&#160;</div><div class="line"><a name="l03542"></a><span class="lineno"> 3542</span>&#160;   personality-&gt;<a class="code" href="../../dc/d3b/structbridge__basic__personality.html#a713a6e81262dbc01e30bfc2a49245fdb">current</a> = <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>;</div><div class="line"><a name="l03543"></a><span class="lineno"> 3543</span>&#160;   <span class="keywordflow">if</span> (user_data) {</div><div class="line"><a name="l03544"></a><span class="lineno"> 3544</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(user_data, +1);</div><div class="line"><a name="l03545"></a><span class="lineno"> 3545</span>&#160;   }</div><div class="line"><a name="l03546"></a><span class="lineno"> 3546</span>&#160;   personality-&gt;<a class="code" href="../../dc/d3b/structbridge__basic__personality.html#aa37b1b6dd2f0a609d3c93d21125ef9f7">details</a>[personality-&gt;<a class="code" href="../../dc/d3b/structbridge__basic__personality.html#a713a6e81262dbc01e30bfc2a49245fdb">current</a>].<a class="code" href="../../d6/da5/structpersonality__details.html#a77153a7ab7ba05031fbbb4e67aa9dcfc">pvt</a> = user_data;</div><div class="line"><a name="l03547"></a><span class="lineno"> 3547</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#ab5033a1f3d781d45e7ccc27598114510">ast_set_flag</a>(&amp;bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#af15c2e8b6df8ce0bf570af18aa890deb">feature_flags</a>, personality-&gt;<a class="code" href="../../dc/d3b/structbridge__basic__personality.html#aa37b1b6dd2f0a609d3c93d21125ef9f7">details</a>[personality-&gt;<a class="code" href="../../dc/d3b/structbridge__basic__personality.html#a713a6e81262dbc01e30bfc2a49245fdb">current</a>].<a class="code" href="../../d6/da5/structpersonality__details.html#a6d3a1dc1ce563ff36fc9cde975150b15">bridge_flags</a>);</div><div class="line"><a name="l03548"></a><span class="lineno"> 3548</span>&#160;   <span class="keywordflow">if</span> (personality-&gt;<a class="code" href="../../dc/d3b/structbridge__basic__personality.html#aa37b1b6dd2f0a609d3c93d21125ef9f7">details</a>[personality-&gt;<a class="code" href="../../dc/d3b/structbridge__basic__personality.html#a713a6e81262dbc01e30bfc2a49245fdb">current</a>].<a class="code" href="../../d6/da5/structpersonality__details.html#aee9ce121458bf5808a1f8ba853572010">on_personality_change</a>) {</div><div class="line"><a name="l03549"></a><span class="lineno"> 3549</span>&#160;      personality-&gt;<a class="code" href="../../dc/d3b/structbridge__basic__personality.html#aa37b1b6dd2f0a609d3c93d21125ef9f7">details</a>[personality-&gt;<a class="code" href="../../dc/d3b/structbridge__basic__personality.html#a713a6e81262dbc01e30bfc2a49245fdb">current</a>].<a class="code" href="../../d6/da5/structpersonality__details.html#aee9ce121458bf5808a1f8ba853572010">on_personality_change</a>(bridge);</div><div class="line"><a name="l03550"></a><span class="lineno"> 3550</span>&#160;   }</div><div class="line"><a name="l03551"></a><span class="lineno"> 3551</span>&#160;}</div><div class="ttc" id="chan__ooh323_8c_html_a4d63fdfe5451ec2248c16a2739190c56"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a></div><div class="ttdeci">static const char type[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00109">chan_ooh323.c:109</a></div></div>
<div class="ttc" id="structast__bridge_html_af15c2e8b6df8ce0bf570af18aa890deb"><div class="ttname"><a href="../../d4/d84/structast__bridge.html#af15c2e8b6df8ce0bf570af18aa890deb">ast_bridge::feature_flags</a></div><div class="ttdeci">struct ast_flags feature_flags</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00377">bridge.h:377</a></div></div>
<div class="ttc" id="structpersonality__details_html_a6d3a1dc1ce563ff36fc9cde975150b15"><div class="ttname"><a href="../../d6/da5/structpersonality__details.html#a6d3a1dc1ce563ff36fc9cde975150b15">personality_details::bridge_flags</a></div><div class="ttdeci">unsigned int bridge_flags</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00317">bridge_basic.c:317</a></div></div>
<div class="ttc" id="utils_8h_html_ab5033a1f3d781d45e7ccc27598114510"><div class="ttname"><a href="../../d5/d60/utils_8h.html#ab5033a1f3d781d45e7ccc27598114510">ast_set_flag</a></div><div class="ttdeci">#define ast_set_flag(p, flag)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00070">utils.h:70</a></div></div>
<div class="ttc" id="structpersonality__details_html_aee9ce121458bf5808a1f8ba853572010"><div class="ttname"><a href="../../d6/da5/structpersonality__details.html#aee9ce121458bf5808a1f8ba853572010">personality_details::on_personality_change</a></div><div class="ttdeci">void(* on_personality_change)(struct ast_bridge *bridge)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00321">bridge_basic.c:321</a></div></div>
<div class="ttc" id="structbridge__basic__personality_html_a713a6e81262dbc01e30bfc2a49245fdb"><div class="ttname"><a href="../../dc/d3b/structbridge__basic__personality.html#a713a6e81262dbc01e30bfc2a49245fdb">bridge_basic_personality::current</a></div><div class="ttdeci">enum bridge_basic_personality_type current</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00329">bridge_basic.c:329</a></div></div>
<div class="ttc" id="structast__bridge_html_a92af4d6802e170d70b27035ee963ccb4"><div class="ttname"><a href="../../d4/d84/structast__bridge.html#a92af4d6802e170d70b27035ee963ccb4">ast_bridge::personality</a></div><div class="ttdeci">void * personality</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00361">bridge.h:361</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="app__meetme_8c_html_adf04f66344e3fb0a6f6a69bf39d19902"><div class="ttname"><a href="../../df/d44/app__meetme_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a></div><div class="ttdeci">ast_mutex_t lock</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d44/app__meetme_8c_source.html#l01091">app_meetme.c:1091</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="lock_8h_html_a8b9d9f2f2c41ecf3c70587c2510dddfc"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a8b9d9f2f2c41ecf3c70587c2510dddfc">SCOPED_LOCK</a></div><div class="ttdeci">#define SCOPED_LOCK(varname, lock, lockfunc, unlockfunc)</div><div class="ttdoc">Scoped Locks. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00581">lock.h:581</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a7f6041b31ddc067d44abf2a55453caae"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a7f6041b31ddc067d44abf2a55453caae">remove_hooks_on_personality_change</a></div><div class="ttdeci">static void remove_hooks_on_personality_change(struct ast_bridge *bridge)</div><div class="ttdoc">Remove appropriate hooks when basic bridge personality changes. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00720">bridge_basic.c:720</a></div></div>
<div class="ttc" id="structbridge__basic__personality_html"><div class="ttname"><a href="../../dc/d3b/structbridge__basic__personality.html">bridge_basic_personality</a></div><div class="ttdoc">structure that organizes different personalities for basic bridges. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00327">bridge_basic.c:327</a></div></div>
<div class="ttc" id="structpersonality__details_html_a77153a7ab7ba05031fbbb4e67aa9dcfc"><div class="ttname"><a href="../../d6/da5/structpersonality__details.html#a77153a7ab7ba05031fbbb4e67aa9dcfc">personality_details::pvt</a></div><div class="ttdeci">void * pvt</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00319">bridge_basic.c:319</a></div></div>
<div class="ttc" id="bridge_8h_html_a0fb66f4741ca8d106af1917a2f1aab6e"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a0fb66f4741ca8d106af1917a2f1aab6e">ast_bridge_unlock</a></div><div class="ttdeci">#define ast_bridge_unlock(bridge)</div><div class="ttdoc">Unlock the bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00493">bridge.h:493</a></div></div>
<div class="ttc" id="utils_8h_html_afb8683b4d96960d7a82a86a974a57599"><div class="ttname"><a href="../../d5/d60/utils_8h.html#afb8683b4d96960d7a82a86a974a57599">AST_FLAGS_ALL</a></div><div class="ttdeci">#define AST_FLAGS_ALL</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00196">utils.h:196</a></div></div>
<div class="ttc" id="utils_8h_html_a7b260320610a09017a9416398acd0a70"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a7b260320610a09017a9416398acd0a70">ast_clear_flag</a></div><div class="ttdeci">#define ast_clear_flag(p, flag)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00077">utils.h:77</a></div></div>
<div class="ttc" id="bridge_8h_html_ab8ee807d2c3a21d19e16fedf35c90de8"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#ab8ee807d2c3a21d19e16fedf35c90de8">ast_bridge_lock</a></div><div class="ttdeci">#define ast_bridge_lock(bridge)</div><div class="ttdoc">Lock the bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00480">bridge.h:480</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="structbridge__basic__personality_html_aa37b1b6dd2f0a609d3c93d21125ef9f7"><div class="ttname"><a href="../../dc/d3b/structbridge__basic__personality.html#aa37b1b6dd2f0a609d3c93d21125ef9f7">bridge_basic_personality::details</a></div><div class="ttdeci">struct personality_details details[BRIDGE_BASIC_PERSONALITY_END]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00331">bridge_basic.c:331</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2f20e19823caef51c47b6683dad75416"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f20e19823caef51c47b6683dad75416">&#9670;&nbsp;</a></span>bridge_basic_destroy()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void bridge_basic_destroy </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00703">703</a> of file <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html">bridge_basic.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l00949">ast_bridge_base_v_table</a>, and <a class="el" href="../../d4/d56/bridge_8h_source.html#l00269">ast_bridge_methods::destroy</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l03639">ast_bridging_init_basic()</a>.</p>
<div class="fragment"><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;{</div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/d3b/structbridge__basic__personality.html">bridge_basic_personality</a> *personality = <span class="keyword">self</span>-&gt;personality;</div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>(personality);</div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;</div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#a5a2fef16c6520d265d7f81002eb96ee7">ast_bridge_base_v_table</a>.<a class="code" href="../../d2/dd3/structast__bridge__methods.html#abf4c4f9d73d43950e5e1882db332f00b">destroy</a>(<span class="keyword">self</span>);</div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;}</div><div class="ttc" id="bridge_8h_html_a5a2fef16c6520d265d7f81002eb96ee7"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a5a2fef16c6520d265d7f81002eb96ee7">ast_bridge_base_v_table</a></div><div class="ttdeci">struct ast_bridge_methods ast_bridge_base_v_table</div><div class="ttdoc">Bridge base class virtual method table. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l00949">bridge.c:949</a></div></div>
<div class="ttc" id="structbridge__basic__personality_html"><div class="ttname"><a href="../../dc/d3b/structbridge__basic__personality.html">bridge_basic_personality</a></div><div class="ttdoc">structure that organizes different personalities for basic bridges. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00327">bridge_basic.c:327</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="structast__bridge__methods_html_abf4c4f9d73d43950e5e1882db332f00b"><div class="ttname"><a href="../../d2/dd3/structast__bridge__methods.html#abf4c4f9d73d43950e5e1882db332f00b">ast_bridge_methods::destroy</a></div><div class="ttdeci">ast_bridge_destructor_fn destroy</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00269">bridge.h:269</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af4e7c9178ab49b996eec4303b41f9b44"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af4e7c9178ab49b996eec4303b41f9b44">&#9670;&nbsp;</a></span>bridge_basic_personality_alloc()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a>* bridge_basic_personality_alloc </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *&#160;</td>
          <td class="paramname"><em>bridge</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l03594">3594</a> of file <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html">bridge_basic.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00411">ao2_alloc</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00064">BRIDGE_BASIC_PERSONALITY_END</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00060">BRIDGE_BASIC_PERSONALITY_NORMAL</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00329">bridge_basic_personality::current</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00331">bridge_basic_personality::details</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l03575">init_details()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00361">ast_bridge::personality</a>, and <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l03553">personality_destructor()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l03617">ast_bridge_basic_new()</a>.</p>
<div class="fragment"><div class="line"><a name="l03595"></a><span class="lineno"> 3595</span>&#160;{</div><div class="line"><a name="l03596"></a><span class="lineno"> 3596</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/d3b/structbridge__basic__personality.html">bridge_basic_personality</a> *personality;</div><div class="line"><a name="l03597"></a><span class="lineno"> 3597</span>&#160;   <span class="keywordtype">int</span> i;</div><div class="line"><a name="l03598"></a><span class="lineno"> 3598</span>&#160;</div><div class="line"><a name="l03599"></a><span class="lineno"> 3599</span>&#160;   <span class="keywordflow">if</span> (!bridge) {</div><div class="line"><a name="l03600"></a><span class="lineno"> 3600</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l03601"></a><span class="lineno"> 3601</span>&#160;   }</div><div class="line"><a name="l03602"></a><span class="lineno"> 3602</span>&#160;</div><div class="line"><a name="l03603"></a><span class="lineno"> 3603</span>&#160;   personality = <a class="code" href="../../d5/da5/astobj2_8h.html#ae0422b60d8e25b6962b2d61ae4ddf724">ao2_alloc</a>(<span class="keyword">sizeof</span>(*personality), <a class="code" href="../../d7/d9b/bridge__basic_8c.html#af2c618b15398fd5682eff76cec7c3a8f">personality_destructor</a>);</div><div class="line"><a name="l03604"></a><span class="lineno"> 3604</span>&#160;   <span class="keywordflow">if</span> (!personality) {</div><div class="line"><a name="l03605"></a><span class="lineno"> 3605</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(bridge, -1);</div><div class="line"><a name="l03606"></a><span class="lineno"> 3606</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l03607"></a><span class="lineno"> 3607</span>&#160;   }</div><div class="line"><a name="l03608"></a><span class="lineno"> 3608</span>&#160;   <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a704d0cced1ceae046ad985c904dc4c6cafeeedb5cc22a30a65c6899e04ec06d2d">BRIDGE_BASIC_PERSONALITY_END</a>; ++i) {</div><div class="line"><a name="l03609"></a><span class="lineno"> 3609</span>&#160;      <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a7811b1e91421e6f1cf63c0d0e2f72373">init_details</a>(&amp;personality-&gt;<a class="code" href="../../dc/d3b/structbridge__basic__personality.html#aa37b1b6dd2f0a609d3c93d21125ef9f7">details</a>[i], i);</div><div class="line"><a name="l03610"></a><span class="lineno"> 3610</span>&#160;   }</div><div class="line"><a name="l03611"></a><span class="lineno"> 3611</span>&#160;   personality-&gt;<a class="code" href="../../dc/d3b/structbridge__basic__personality.html#a713a6e81262dbc01e30bfc2a49245fdb">current</a> = <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a704d0cced1ceae046ad985c904dc4c6ca843f6ac2918dbe2aeb6f7dd1155a90e2">BRIDGE_BASIC_PERSONALITY_NORMAL</a>;</div><div class="line"><a name="l03612"></a><span class="lineno"> 3612</span>&#160;   bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a92af4d6802e170d70b27035ee963ccb4">personality</a> = personality;</div><div class="line"><a name="l03613"></a><span class="lineno"> 3613</span>&#160;</div><div class="line"><a name="l03614"></a><span class="lineno"> 3614</span>&#160;   <span class="keywordflow">return</span> bridge;</div><div class="line"><a name="l03615"></a><span class="lineno"> 3615</span>&#160;}</div><div class="ttc" id="structbridge__basic__personality_html_a713a6e81262dbc01e30bfc2a49245fdb"><div class="ttname"><a href="../../dc/d3b/structbridge__basic__personality.html#a713a6e81262dbc01e30bfc2a49245fdb">bridge_basic_personality::current</a></div><div class="ttdeci">enum bridge_basic_personality_type current</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00329">bridge_basic.c:329</a></div></div>
<div class="ttc" id="structast__bridge_html_a92af4d6802e170d70b27035ee963ccb4"><div class="ttname"><a href="../../d4/d84/structast__bridge.html#a92af4d6802e170d70b27035ee963ccb4">ast_bridge::personality</a></div><div class="ttdeci">void * personality</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00361">bridge.h:361</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a7811b1e91421e6f1cf63c0d0e2f72373"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a7811b1e91421e6f1cf63c0d0e2f72373">init_details</a></div><div class="ttdeci">static void init_details(struct personality_details *details, enum bridge_basic_personality_type type)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l03575">bridge_basic.c:3575</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a704d0cced1ceae046ad985c904dc4c6cafeeedb5cc22a30a65c6899e04ec06d2d"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a704d0cced1ceae046ad985c904dc4c6cafeeedb5cc22a30a65c6899e04ec06d2d">BRIDGE_BASIC_PERSONALITY_END</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00064">bridge_basic.c:64</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a704d0cced1ceae046ad985c904dc4c6ca843f6ac2918dbe2aeb6f7dd1155a90e2"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a704d0cced1ceae046ad985c904dc4c6ca843f6ac2918dbe2aeb6f7dd1155a90e2">BRIDGE_BASIC_PERSONALITY_NORMAL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00060">bridge_basic.c:60</a></div></div>
<div class="ttc" id="astobj2_8h_html_ae0422b60d8e25b6962b2d61ae4ddf724"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ae0422b60d8e25b6962b2d61ae4ddf724">ao2_alloc</a></div><div class="ttdeci">#define ao2_alloc(data_size, destructor_fn)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00411">astobj2.h:411</a></div></div>
<div class="ttc" id="structbridge__basic__personality_html"><div class="ttname"><a href="../../dc/d3b/structbridge__basic__personality.html">bridge_basic_personality</a></div><div class="ttdoc">structure that organizes different personalities for basic bridges. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00327">bridge_basic.c:327</a></div></div>
<div class="ttc" id="structbridge__basic__personality_html_aa37b1b6dd2f0a609d3c93d21125ef9f7"><div class="ttname"><a href="../../dc/d3b/structbridge__basic__personality.html#aa37b1b6dd2f0a609d3c93d21125ef9f7">bridge_basic_personality::details</a></div><div class="ttdeci">struct personality_details details[BRIDGE_BASIC_PERSONALITY_END]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00331">bridge_basic.c:331</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_af2c618b15398fd5682eff76cec7c3a8f"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#af2c618b15398fd5682eff76cec7c3a8f">personality_destructor</a></div><div class="ttdeci">static void personality_destructor(void *obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l03553">bridge_basic.c:3553</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2a066fa40b54bae641170fbbe724bfda"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2a066fa40b54bae641170fbbe724bfda">&#9670;&nbsp;</a></span>bridge_basic_pull()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void bridge_basic_pull </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *&#160;</td>
          <td class="paramname"><em>bridge_channel</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00688">688</a> of file <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html">bridge_basic.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d60/utils_8h_source.html#l00695">ast_assert</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l00949">ast_bridge_base_v_table</a>, <a class="el" href="../../d3/d32/bridge__channel_8c_source.html#l00596">ast_bridge_channel_update_accountcodes()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00329">bridge_basic_personality::current</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00331">bridge_basic_personality::details</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00275">ast_bridge_methods::pull</a>, and <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00315">personality_details::v_table</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l03639">ast_bridging_init_basic()</a>.</p>
<div class="fragment"><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;{</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/d3b/structbridge__basic__personality.html">bridge_basic_personality</a> *personality = <span class="keyword">self</span>-&gt;personality;</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a>(personality != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;</div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;   <span class="keywordflow">if</span> (personality-&gt;<a class="code" href="../../dc/d3b/structbridge__basic__personality.html#aa37b1b6dd2f0a609d3c93d21125ef9f7">details</a>[personality-&gt;<a class="code" href="../../dc/d3b/structbridge__basic__personality.html#a713a6e81262dbc01e30bfc2a49245fdb">current</a>].<a class="code" href="../../d6/da5/structpersonality__details.html#a0a45a55c3f134fec0a8e4a13e72107f2">v_table</a>-&gt;<a class="code" href="../../d2/dd3/structast__bridge__methods.html#adcfc7ef2b1ee5305158a584970ddea65">pull</a>) {</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;      personality-&gt;<a class="code" href="../../dc/d3b/structbridge__basic__personality.html#aa37b1b6dd2f0a609d3c93d21125ef9f7">details</a>[personality-&gt;<a class="code" href="../../dc/d3b/structbridge__basic__personality.html#a713a6e81262dbc01e30bfc2a49245fdb">current</a>].<a class="code" href="../../d6/da5/structpersonality__details.html#a0a45a55c3f134fec0a8e4a13e72107f2">v_table</a>-&gt;<a class="code" href="../../d2/dd3/structast__bridge__methods.html#adcfc7ef2b1ee5305158a584970ddea65">pull</a>(<span class="keyword">self</span>, bridge_channel);</div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;   }</div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;   <a class="code" href="../../de/d41/bridge__channel_8h.html#a609d9cf54ffe625a1a13cbce1df9492e">ast_bridge_channel_update_accountcodes</a>(<a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, bridge_channel);</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;</div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#a5a2fef16c6520d265d7f81002eb96ee7">ast_bridge_base_v_table</a>.<a class="code" href="../../d2/dd3/structast__bridge__methods.html#adcfc7ef2b1ee5305158a584970ddea65">pull</a>(<span class="keyword">self</span>, bridge_channel);</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;}</div><div class="ttc" id="structbridge__basic__personality_html_a713a6e81262dbc01e30bfc2a49245fdb"><div class="ttname"><a href="../../dc/d3b/structbridge__basic__personality.html#a713a6e81262dbc01e30bfc2a49245fdb">bridge_basic_personality::current</a></div><div class="ttdeci">enum bridge_basic_personality_type current</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00329">bridge_basic.c:329</a></div></div>
<div class="ttc" id="utils_8h_html_a24374da24af1931d8a7ccde5b352bb2c"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a></div><div class="ttdeci">#define ast_assert(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00695">utils.h:695</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="bridge_8h_html_a5a2fef16c6520d265d7f81002eb96ee7"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a5a2fef16c6520d265d7f81002eb96ee7">ast_bridge_base_v_table</a></div><div class="ttdeci">struct ast_bridge_methods ast_bridge_base_v_table</div><div class="ttdoc">Bridge base class virtual method table. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l00949">bridge.c:949</a></div></div>
<div class="ttc" id="structbridge__basic__personality_html"><div class="ttname"><a href="../../dc/d3b/structbridge__basic__personality.html">bridge_basic_personality</a></div><div class="ttdoc">structure that organizes different personalities for basic bridges. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00327">bridge_basic.c:327</a></div></div>
<div class="ttc" id="structpersonality__details_html_a0a45a55c3f134fec0a8e4a13e72107f2"><div class="ttname"><a href="../../d6/da5/structpersonality__details.html#a0a45a55c3f134fec0a8e4a13e72107f2">personality_details::v_table</a></div><div class="ttdeci">struct ast_bridge_methods * v_table</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00315">bridge_basic.c:315</a></div></div>
<div class="ttc" id="bridge__channel_8h_html_a609d9cf54ffe625a1a13cbce1df9492e"><div class="ttname"><a href="../../de/d41/bridge__channel_8h.html#a609d9cf54ffe625a1a13cbce1df9492e">ast_bridge_channel_update_accountcodes</a></div><div class="ttdeci">void ast_bridge_channel_update_accountcodes(struct ast_bridge_channel *joining, struct ast_bridge_channel *leaving)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d32/bridge__channel_8c_source.html#l00596">bridge_channel.c:596</a></div></div>
<div class="ttc" id="structast__bridge__methods_html_adcfc7ef2b1ee5305158a584970ddea65"><div class="ttname"><a href="../../d2/dd3/structast__bridge__methods.html#adcfc7ef2b1ee5305158a584970ddea65">ast_bridge_methods::pull</a></div><div class="ttdeci">ast_bridge_pull_channel_fn pull</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00275">bridge.h:275</a></div></div>
<div class="ttc" id="structbridge__basic__personality_html_aa37b1b6dd2f0a609d3c93d21125ef9f7"><div class="ttname"><a href="../../dc/d3b/structbridge__basic__personality.html#aa37b1b6dd2f0a609d3c93d21125ef9f7">bridge_basic_personality::details</a></div><div class="ttdeci">struct personality_details details[BRIDGE_BASIC_PERSONALITY_END]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00331">bridge_basic.c:331</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a588795877fd9266c5df1db184e69f211"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a588795877fd9266c5df1db184e69f211">&#9670;&nbsp;</a></span>bridge_basic_push()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int bridge_basic_push </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *&#160;</td>
          <td class="paramname"><em>bridge_channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *&#160;</td>
          <td class="paramname"><em>swap</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00671">671</a> of file <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html">bridge_basic.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d60/utils_8h_source.html#l00695">ast_assert</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l00949">ast_bridge_base_v_table</a>, <a class="el" href="../../d3/d32/bridge__channel_8c_source.html#l00596">ast_bridge_channel_update_accountcodes()</a>, <a class="el" href="../../d3/d32/bridge__channel_8c_source.html#l00381">ast_bridge_channel_update_linkedids()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00329">bridge_basic_personality::current</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00331">bridge_basic_personality::details</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00273">ast_bridge_methods::push</a>, and <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00315">personality_details::v_table</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l03639">ast_bridging_init_basic()</a>.</p>
<div class="fragment"><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;{</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/d3b/structbridge__basic__personality.html">bridge_basic_personality</a> *personality = <span class="keyword">self</span>-&gt;personality;</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a>(personality != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;   <span class="keywordflow">if</span> (personality-&gt;<a class="code" href="../../dc/d3b/structbridge__basic__personality.html#aa37b1b6dd2f0a609d3c93d21125ef9f7">details</a>[personality-&gt;<a class="code" href="../../dc/d3b/structbridge__basic__personality.html#a713a6e81262dbc01e30bfc2a49245fdb">current</a>].<a class="code" href="../../d6/da5/structpersonality__details.html#a0a45a55c3f134fec0a8e4a13e72107f2">v_table</a>-&gt;<a class="code" href="../../d2/dd3/structast__bridge__methods.html#a60b76bf280f288b3ef3f1facf873b104">push</a></div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;      &amp;&amp; personality-&gt;<a class="code" href="../../dc/d3b/structbridge__basic__personality.html#aa37b1b6dd2f0a609d3c93d21125ef9f7">details</a>[personality-&gt;<a class="code" href="../../dc/d3b/structbridge__basic__personality.html#a713a6e81262dbc01e30bfc2a49245fdb">current</a>].<a class="code" href="../../d6/da5/structpersonality__details.html#a0a45a55c3f134fec0a8e4a13e72107f2">v_table</a>-&gt;<a class="code" href="../../d2/dd3/structast__bridge__methods.html#a60b76bf280f288b3ef3f1facf873b104">push</a>(<span class="keyword">self</span>, bridge_channel, swap)) {</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;   }</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;   <a class="code" href="../../de/d41/bridge__channel_8h.html#a27c80bee9eb9c5fa1a17c722115c5ac1">ast_bridge_channel_update_linkedids</a>(bridge_channel, swap);</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;   <a class="code" href="../../de/d41/bridge__channel_8h.html#a609d9cf54ffe625a1a13cbce1df9492e">ast_bridge_channel_update_accountcodes</a>(bridge_channel, swap);</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d4/d56/bridge_8h.html#a5a2fef16c6520d265d7f81002eb96ee7">ast_bridge_base_v_table</a>.<a class="code" href="../../d2/dd3/structast__bridge__methods.html#a60b76bf280f288b3ef3f1facf873b104">push</a>(<span class="keyword">self</span>, bridge_channel, swap);</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;}</div><div class="ttc" id="structbridge__basic__personality_html_a713a6e81262dbc01e30bfc2a49245fdb"><div class="ttname"><a href="../../dc/d3b/structbridge__basic__personality.html#a713a6e81262dbc01e30bfc2a49245fdb">bridge_basic_personality::current</a></div><div class="ttdeci">enum bridge_basic_personality_type current</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00329">bridge_basic.c:329</a></div></div>
<div class="ttc" id="utils_8h_html_a24374da24af1931d8a7ccde5b352bb2c"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a></div><div class="ttdeci">#define ast_assert(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00695">utils.h:695</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="bridge_8h_html_a5a2fef16c6520d265d7f81002eb96ee7"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a5a2fef16c6520d265d7f81002eb96ee7">ast_bridge_base_v_table</a></div><div class="ttdeci">struct ast_bridge_methods ast_bridge_base_v_table</div><div class="ttdoc">Bridge base class virtual method table. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l00949">bridge.c:949</a></div></div>
<div class="ttc" id="bridge__channel_8h_html_a27c80bee9eb9c5fa1a17c722115c5ac1"><div class="ttname"><a href="../../de/d41/bridge__channel_8h.html#a27c80bee9eb9c5fa1a17c722115c5ac1">ast_bridge_channel_update_linkedids</a></div><div class="ttdeci">void ast_bridge_channel_update_linkedids(struct ast_bridge_channel *bridge_channel, struct ast_bridge_channel *swap)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d32/bridge__channel_8c_source.html#l00381">bridge_channel.c:381</a></div></div>
<div class="ttc" id="structbridge__basic__personality_html"><div class="ttname"><a href="../../dc/d3b/structbridge__basic__personality.html">bridge_basic_personality</a></div><div class="ttdoc">structure that organizes different personalities for basic bridges. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00327">bridge_basic.c:327</a></div></div>
<div class="ttc" id="structpersonality__details_html_a0a45a55c3f134fec0a8e4a13e72107f2"><div class="ttname"><a href="../../d6/da5/structpersonality__details.html#a0a45a55c3f134fec0a8e4a13e72107f2">personality_details::v_table</a></div><div class="ttdeci">struct ast_bridge_methods * v_table</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00315">bridge_basic.c:315</a></div></div>
<div class="ttc" id="bridge__channel_8h_html_a609d9cf54ffe625a1a13cbce1df9492e"><div class="ttname"><a href="../../de/d41/bridge__channel_8h.html#a609d9cf54ffe625a1a13cbce1df9492e">ast_bridge_channel_update_accountcodes</a></div><div class="ttdeci">void ast_bridge_channel_update_accountcodes(struct ast_bridge_channel *joining, struct ast_bridge_channel *leaving)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d32/bridge__channel_8c_source.html#l00596">bridge_channel.c:596</a></div></div>
<div class="ttc" id="structast__bridge__methods_html_a60b76bf280f288b3ef3f1facf873b104"><div class="ttname"><a href="../../d2/dd3/structast__bridge__methods.html#a60b76bf280f288b3ef3f1facf873b104">ast_bridge_methods::push</a></div><div class="ttdeci">ast_bridge_push_channel_fn push</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00273">bridge.h:273</a></div></div>
<div class="ttc" id="structbridge__basic__personality_html_aa37b1b6dd2f0a609d3c93d21125ef9f7"><div class="ttname"><a href="../../dc/d3b/structbridge__basic__personality.html#aa37b1b6dd2f0a609d3c93d21125ef9f7">bridge_basic_personality::details</a></div><div class="ttdeci">struct personality_details details[BRIDGE_BASIC_PERSONALITY_END]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00331">bridge_basic.c:331</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a83aea8772e20812021b87eb820da75e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a83aea8772e20812021b87eb820da75e5">&#9670;&nbsp;</a></span>bridge_basic_setup_features()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int bridge_basic_setup_features </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *&#160;</td>
          <td class="paramname"><em>bridge_channel</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00631">631</a> of file <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html">bridge_basic.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/d41/bridge__channel_8h_source.html#l00091">ast_bridge_channel::chan</a>, <a class="el" href="../../de/d41/bridge__channel_8h_source.html#l00132">ast_bridge_channel::features</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00400">setup_bridge_features_builtin()</a>, and <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00605">setup_bridge_features_dynamic()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00641">add_normal_hooks()</a>.</p>
<div class="fragment"><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;{</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;   <span class="keywordtype">int</span> res = 0;</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;   res |= <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a58fb89cd178e0c10d787d24a37f24011">setup_bridge_features_builtin</a>(bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a65633fdc6178dc8d9f754fda0166d16e">features</a>, bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>);</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;   res |= <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a418fbef0204d8f6ad5dfa12e9e64852b">setup_bridge_features_dynamic</a>(bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a65633fdc6178dc8d9f754fda0166d16e">features</a>, bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>);</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;}</div><div class="ttc" id="structast__bridge__channel_html_a65633fdc6178dc8d9f754fda0166d16e"><div class="ttname"><a href="../../d5/dca/structast__bridge__channel.html#a65633fdc6178dc8d9f754fda0166d16e">ast_bridge_channel::features</a></div><div class="ttdeci">struct ast_bridge_features * features</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00132">bridge_channel.h:132</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a418fbef0204d8f6ad5dfa12e9e64852b"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a418fbef0204d8f6ad5dfa12e9e64852b">setup_bridge_features_dynamic</a></div><div class="ttdeci">static int setup_bridge_features_dynamic(struct ast_bridge_features *features, struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00605">bridge_basic.c:605</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a58fb89cd178e0c10d787d24a37f24011"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a58fb89cd178e0c10d787d24a37f24011">setup_bridge_features_builtin</a></div><div class="ttdeci">static int setup_bridge_features_builtin(struct ast_bridge_features *features, struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00400">bridge_basic.c:400</a></div></div>
<div class="ttc" id="structast__bridge__channel_html_a84d1435c5b8d387806714ea7079304b7"><div class="ttname"><a href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">ast_bridge_channel::chan</a></div><div class="ttdeci">struct ast_channel * chan</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00091">bridge_channel.h:91</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad9bb0bf0db1fc99d0f4e835a88134aaf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad9bb0bf0db1fc99d0f4e835a88134aaf">&#9670;&nbsp;</a></span>bridge_features_ds_set_full()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int bridge_features_ds_set_full </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../dc/dac/structast__flags.html">ast_flags</a> *&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>replace</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00224">224</a> of file <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html">bridge_basic.c</a>.</p>

<p class="reference">References <a class="el" href="../../d4/d28/channel_8c_source.html#l02390">ast_channel_datastore_add()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l02404">ast_channel_datastore_find()</a>, <a class="el" href="../../d9/db6/datastore_8h_source.html#l00089">ast_datastore_alloc</a>, <a class="el" href="../../d7/d7a/datastore_8c_source.html#l00068">ast_datastore_free()</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00193">ast_malloc</a>, <a class="el" href="../../d9/db6/datastore_8h_source.html#l00070">ast_datastore::data</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00200">ast_flags::flags</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00263">ast_bridge_features_ds_append()</a>, and <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00258">ast_bridge_features_ds_set()</a>.</p>
<div class="fragment"><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;{</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d5d/structast__datastore.html">ast_datastore</a> *datastore;</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/dac/structast__flags.html">ast_flags</a> *ds_flags;</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;   datastore = <a class="code" href="../../d5/d7b/channel_8h.html#aad1e09cd7c79237d05cffb45d6cdfd7c">ast_channel_datastore_find</a>(chan, &amp;<a class="code" href="../../d7/d9b/bridge__basic_8c.html#a7c346e79c5a420fa078d3a43c498047d">dtmf_features_info</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;   <span class="keywordflow">if</span> (datastore) {</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;      ds_flags = datastore-&gt;<a class="code" href="../../d4/d5d/structast__datastore.html#a735984d41155bc1032e09bece8f8d66d">data</a>;</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d9/d1e/func__strings_8c.html#a7f763283c27da5574f6f8d1b2a2b9288">replace</a>) {</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;         *ds_flags = *<a class="code" href="../../dc/dac/structast__flags.html#ac92588540e8c1d014a08cd8a45462b19">flags</a>;</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;         flags-&gt;<a class="code" href="../../dc/dac/structast__flags.html#ac92588540e8c1d014a08cd8a45462b19">flags</a> = flags-&gt;<a class="code" href="../../dc/dac/structast__flags.html#ac92588540e8c1d014a08cd8a45462b19">flags</a> | ds_flags-&gt;<a class="code" href="../../dc/dac/structast__flags.html#ac92588540e8c1d014a08cd8a45462b19">flags</a>;</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;         *ds_flags = *<a class="code" href="../../dc/dac/structast__flags.html#ac92588540e8c1d014a08cd8a45462b19">flags</a>;</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;      }</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;   }</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;   datastore = <a class="code" href="../../d9/db6/datastore_8h.html#a666afb07fd77d50782cc10f83e029159">ast_datastore_alloc</a>(&amp;<a class="code" href="../../d7/d9b/bridge__basic_8c.html#a7c346e79c5a420fa078d3a43c498047d">dtmf_features_info</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;   <span class="keywordflow">if</span> (!datastore) {</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;   }</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;   ds_flags = <a class="code" href="../../d8/d8a/astmm_8h.html#ae63d4f486bcf6eac7c1593f867717d91">ast_malloc</a>(<span class="keyword">sizeof</span>(*ds_flags));</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;   <span class="keywordflow">if</span> (!ds_flags) {</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;      <a class="code" href="../../d9/db6/datastore_8h.html#aee27286888b30c6448a9bce928040a14">ast_datastore_free</a>(datastore);</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;   }</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;   *ds_flags = *<a class="code" href="../../dc/dac/structast__flags.html#ac92588540e8c1d014a08cd8a45462b19">flags</a>;</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;   datastore-&gt;<a class="code" href="../../d4/d5d/structast__datastore.html#a735984d41155bc1032e09bece8f8d66d">data</a> = ds_flags;</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a1ed3e98d33d5587948a0e2ef67a81f52">ast_channel_datastore_add</a>(chan, datastore);</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;}</div><div class="ttc" id="bridge__basic_8c_html_a7c346e79c5a420fa078d3a43c498047d"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a7c346e79c5a420fa078d3a43c498047d">dtmf_features_info</a></div><div class="ttdeci">static const struct ast_datastore_info dtmf_features_info</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00082">bridge_basic.c:82</a></div></div>
<div class="ttc" id="structast__flags_html_ac92588540e8c1d014a08cd8a45462b19"><div class="ttname"><a href="../../dc/dac/structast__flags.html#ac92588540e8c1d014a08cd8a45462b19">ast_flags::flags</a></div><div class="ttdeci">unsigned int flags</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00200">utils.h:200</a></div></div>
<div class="ttc" id="structast__datastore_html"><div class="ttname"><a href="../../d4/d5d/structast__datastore.html">ast_datastore</a></div><div class="ttdoc">Structure for a data store object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00068">datastore.h:68</a></div></div>
<div class="ttc" id="channel_8h_html_aad1e09cd7c79237d05cffb45d6cdfd7c"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#aad1e09cd7c79237d05cffb45d6cdfd7c">ast_channel_datastore_find</a></div><div class="ttdeci">struct ast_datastore * ast_channel_datastore_find(struct ast_channel *chan, const struct ast_datastore_info *info, const char *uid)</div><div class="ttdoc">Find a datastore on a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l02404">channel.c:2404</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="datastore_8h_html_aee27286888b30c6448a9bce928040a14"><div class="ttname"><a href="../../d9/db6/datastore_8h.html#aee27286888b30c6448a9bce928040a14">ast_datastore_free</a></div><div class="ttdeci">int ast_datastore_free(struct ast_datastore *datastore)</div><div class="ttdoc">Free a data store object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d7a/datastore_8c_source.html#l00068">datastore.c:68</a></div></div>
<div class="ttc" id="astmm_8h_html_ae63d4f486bcf6eac7c1593f867717d91"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ae63d4f486bcf6eac7c1593f867717d91">ast_malloc</a></div><div class="ttdeci">#define ast_malloc(len)</div><div class="ttdoc">A wrapper for malloc() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00193">astmm.h:193</a></div></div>
<div class="ttc" id="structast__flags_html"><div class="ttname"><a href="../../dc/dac/structast__flags.html">ast_flags</a></div><div class="ttdoc">Structure used to handle boolean flags. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00199">utils.h:199</a></div></div>
<div class="ttc" id="func__strings_8c_html_a7f763283c27da5574f6f8d1b2a2b9288"><div class="ttname"><a href="../../d9/d1e/func__strings_8c.html#a7f763283c27da5574f6f8d1b2a2b9288">replace</a></div><div class="ttdeci">static int replace(struct ast_channel *chan, const char *cmd, char *data, struct ast_str **buf, ssize_t len)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d1e/func__strings_8c_source.html#l00790">func_strings.c:790</a></div></div>
<div class="ttc" id="structast__datastore_html_a735984d41155bc1032e09bece8f8d66d"><div class="ttname"><a href="../../d4/d5d/structast__datastore.html#a735984d41155bc1032e09bece8f8d66d">ast_datastore::data</a></div><div class="ttdeci">void * data</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00070">datastore.h:70</a></div></div>
<div class="ttc" id="datastore_8h_html_a666afb07fd77d50782cc10f83e029159"><div class="ttname"><a href="../../d9/db6/datastore_8h.html#a666afb07fd77d50782cc10f83e029159">ast_datastore_alloc</a></div><div class="ttdeci">#define ast_datastore_alloc(info, uid)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00089">datastore.h:89</a></div></div>
<div class="ttc" id="channel_8h_html_a1ed3e98d33d5587948a0e2ef67a81f52"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a1ed3e98d33d5587948a0e2ef67a81f52">ast_channel_datastore_add</a></div><div class="ttdeci">int ast_channel_datastore_add(struct ast_channel *chan, struct ast_datastore *datastore)</div><div class="ttdoc">Add a datastore to a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l02390">channel.c:2390</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a44d042922859dabab3d8b87333525240"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a44d042922859dabab3d8b87333525240">&#9670;&nbsp;</a></span>bridge_hold()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void bridge_hold </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *&#160;</td>
          <td class="paramname"><em>bridge</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Helper method to send a hold frame to all channels in a bridge. </p>

<p class="definition">Definition at line <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01844">1844</a> of file <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html">bridge_basic.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d32/bridge__channel_8c_source.html#l01122">ast_bridge_queue_everyone_else()</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00293">AST_CONTROL_HOLD</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00105">AST_FRAME_CONTROL</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00167">ast_frame::frametype</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02695">wait_to_recall_enter()</a>, and <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02569">wait_to_retransfer_enter()</a>.</p>
<div class="fragment"><div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;{</div><div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d99/structast__frame.html">ast_frame</a> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a865b164f5f26f2bace1df76cf9cdf82e">hold</a> = {</div><div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;      .frametype = <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#ae2e1a9c4e048da387b761f619312d6e0ae1dae388b0d70825876e137ae95bb0c1">AST_FRAME_CONTROL</a>,</div><div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;      .subclass.integer = <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390ab99a3d1c08c5ae8bca078c7cd1ec02f5">AST_CONTROL_HOLD</a>,</div><div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;   };</div><div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;</div><div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#aef93dd372b07227b9aa10c530d5039f8">ast_bridge_queue_everyone_else</a>(bridge, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, &amp;hold);</div><div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;}</div><div class="ttc" id="include_2asterisk_2frame_8h_html_aedda41918e992000fe921f8f7363b390ab99a3d1c08c5ae8bca078c7cd1ec02f5"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390ab99a3d1c08c5ae8bca078c7cd1ec02f5">AST_CONTROL_HOLD</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00293">include/asterisk/frame.h:293</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a865b164f5f26f2bace1df76cf9cdf82e"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a865b164f5f26f2bace1df76cf9cdf82e">hold</a></div><div class="ttdeci">static void hold(struct ast_channel *chan)</div><div class="ttdoc">Helper method to place a channel in a bridge on hold. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01772">bridge_basic.c:1772</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="bridge_8h_html_aef93dd372b07227b9aa10c530d5039f8"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#aef93dd372b07227b9aa10c530d5039f8">ast_bridge_queue_everyone_else</a></div><div class="ttdeci">int ast_bridge_queue_everyone_else(struct ast_bridge *bridge, struct ast_bridge_channel *bridge_channel, struct ast_frame *frame)</div><div class="ttdoc">Queue the given frame to everyone else. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d32/bridge__channel_8c_source.html#l01122">bridge_channel.c:1122</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_ae2e1a9c4e048da387b761f619312d6e0ae1dae388b0d70825876e137ae95bb0c1"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#ae2e1a9c4e048da387b761f619312d6e0ae1dae388b0d70825876e137ae95bb0c1">AST_FRAME_CONTROL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00105">include/asterisk/frame.h:105</a></div></div>
<div class="ttc" id="structast__frame_html"><div class="ttname"><a href="../../d0/d99/structast__frame.html">ast_frame</a></div><div class="ttdoc">Data structure associated with a single frame of data. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00165">include/asterisk/frame.h:165</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af86a26e82b3a594e937e8d4739822492"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af86a26e82b3a594e937e8d4739822492">&#9670;&nbsp;</a></span>bridge_merge()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void bridge_merge </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *&#160;</td>
          <td class="paramname"><em>dest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *&#160;</td>
          <td class="paramname"><em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> **&#160;</td>
          <td class="paramname"><em>kick_channels</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>num_channels</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Wrapper for <a class="el" href="../../d0/d95/bridge_8c.html#a33ad1b704c3dedf9fbf0bf8c2429561a">bridge_do_merge</a>. </p>

<p class="definition">Definition at line <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01897">1897</a> of file <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html">bridge_basic.c</a>.</p>

<p class="reference">References <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00290">ast_alloca</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00500">ast_bridge_lock_both</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00493">ast_bridge_unlock</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l02096">bridge_do_merge()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l01469">bridge_find_channel()</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02322">blond_enter()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02306">complete_enter()</a>, and <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02192">threeway_enter()</a>.</p>
<div class="fragment"><div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;{</div><div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> **kick_bridge_channels = num_channels ?</div><div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a249282ecc7ba5a1a49fa75e9a33d1717">ast_alloca</a>(num_channels * <span class="keyword">sizeof</span>(*kick_bridge_channels)) : <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;   <span class="keywordtype">int</span> i;</div><div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;   <span class="keywordtype">int</span> num_bridge_channels = 0;</div><div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;</div><div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#a04a2852f4166568323aa33cd3d0158c7">ast_bridge_lock_both</a>(dest, src);</div><div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;</div><div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;   <span class="keywordflow">for</span> (i = 0; i &lt; num_channels; ++i) {</div><div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;      <span class="keyword">struct </span><a class="code" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *kick_bridge_channel;</div><div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;</div><div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;      kick_bridge_channel = <a class="code" href="../../d5/dde/bridge__internal_8h.html#af611fd393ca26b5fd2a8071867470ffc">bridge_find_channel</a>(src, kick_channels[i]);</div><div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;      <span class="keywordflow">if</span> (!kick_bridge_channel) {</div><div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;         kick_bridge_channel = <a class="code" href="../../d5/dde/bridge__internal_8h.html#af611fd393ca26b5fd2a8071867470ffc">bridge_find_channel</a>(dest, kick_channels[i]);</div><div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;      }</div><div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;</div><div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;      <span class="comment">/* It&#39;s possible (and fine) for the bridge channel to be NULL at this point if the</span></div><div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;<span class="comment">       * channel has hung up already. If that happens, we can just remove it from the list</span></div><div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;<span class="comment">       * of bridge channels to kick from the bridge</span></div><div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;<span class="comment">       */</span></div><div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;      <span class="keywordflow">if</span> (!kick_bridge_channel) {</div><div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;         <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160;      }</div><div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;</div><div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;      kick_bridge_channels[num_bridge_channels++] = kick_bridge_channel;</div><div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;   }</div><div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;</div><div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;   <a class="code" href="../../d5/dde/bridge__internal_8h.html#a33ad1b704c3dedf9fbf0bf8c2429561a">bridge_do_merge</a>(dest, src, kick_bridge_channels, num_bridge_channels, 0);</div><div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#a0fb66f4741ca8d106af1917a2f1aab6e">ast_bridge_unlock</a>(dest);</div><div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#a0fb66f4741ca8d106af1917a2f1aab6e">ast_bridge_unlock</a>(src);</div><div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;}</div><div class="ttc" id="bridge_8h_html_a04a2852f4166568323aa33cd3d0158c7"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a04a2852f4166568323aa33cd3d0158c7">ast_bridge_lock_both</a></div><div class="ttdeci">#define ast_bridge_lock_both(bridge1, bridge2)</div><div class="ttdoc">Lock two bridges. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00500">bridge.h:500</a></div></div>
<div class="ttc" id="bridge__internal_8h_html_a33ad1b704c3dedf9fbf0bf8c2429561a"><div class="ttname"><a href="../../d5/dde/bridge__internal_8h.html#a33ad1b704c3dedf9fbf0bf8c2429561a">bridge_do_merge</a></div><div class="ttdeci">void bridge_do_merge(struct ast_bridge *dst_bridge, struct ast_bridge *src_bridge, struct ast_bridge_channel **kick_me, unsigned int num_kick, unsigned int optimized)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l02096">bridge.c:2096</a></div></div>
<div class="ttc" id="bridge__internal_8h_html_af611fd393ca26b5fd2a8071867470ffc"><div class="ttname"><a href="../../d5/dde/bridge__internal_8h.html#af611fd393ca26b5fd2a8071867470ffc">bridge_find_channel</a></div><div class="ttdeci">struct ast_bridge_channel * bridge_find_channel(struct ast_bridge *bridge, struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l01469">bridge.c:1469</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="astmm_8h_html_a249282ecc7ba5a1a49fa75e9a33d1717"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a249282ecc7ba5a1a49fa75e9a33d1717">ast_alloca</a></div><div class="ttdeci">#define ast_alloca(size)</div><div class="ttdoc">call __builtin_alloca to ensure we get gcc builtin semantics </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00290">astmm.h:290</a></div></div>
<div class="ttc" id="bridge_8h_html_a0fb66f4741ca8d106af1917a2f1aab6e"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a0fb66f4741ca8d106af1917a2f1aab6e">ast_bridge_unlock</a></div><div class="ttdeci">#define ast_bridge_unlock(bridge)</div><div class="ttdoc">Unlock the bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00493">bridge.h:493</a></div></div>
<div class="ttc" id="structast__bridge__channel_html"><div class="ttname"><a href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a></div><div class="ttdoc">Structure that contains information regarding a channel in a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00084">bridge_channel.h:84</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3fc1a10ab2ba929490e84c1960ada943"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3fc1a10ab2ba929490e84c1960ada943">&#9670;&nbsp;</a></span>bridge_move()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void bridge_move </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *&#160;</td>
          <td class="paramname"><em>dest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *&#160;</td>
          <td class="paramname"><em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>swap</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Wrapper for <a class="el" href="../../d0/d95/bridge_8c.html#ad663022ff4700bb2d53afeea24f402d4">bridge_do_move</a>. </p>

<p class="definition">Definition at line <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01870">1870</a> of file <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html">bridge_basic.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00718">ao2_lock</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00730">ao2_unlock</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00500">ast_bridge_lock_both</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00493">ast_bridge_unlock</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l10783">ast_channel_get_bridge_channel()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02945">ast_channel_lock</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l02362">bridge_do_move()</a>, and <a class="el" href="../../de/d41/bridge__channel_8h_source.html#l00093">ast_bridge_channel::swap</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02100">calling_target_enter()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02214">consulting_exit()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02269">double_checking_exit()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02140">hesitant_enter()</a>, and <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02180">rebridge_enter()</a>.</p>
<div class="fragment"><div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;{</div><div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *bridge_channel;</div><div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;</div><div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#a04a2852f4166568323aa33cd3d0158c7">ast_bridge_lock_both</a>(src, dest);</div><div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;</div><div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(channel);</div><div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;   bridge_channel = <a class="code" href="../../d5/d7b/channel_8h.html#a9b6409c38af733c46eead884d86dd284">ast_channel_get_bridge_channel</a>(channel);</div><div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(channel);</div><div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;</div><div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;   <span class="keywordflow">if</span> (bridge_channel) {</div><div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aa9fdb5d0a6157a56060d9f7279fe6c49">ao2_lock</a>(bridge_channel);</div><div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;      bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a3bf3c4e34892d0033814ab5fec0e006f">swap</a> = <a class="code" href="../../d5/dca/structast__bridge__channel.html#a3bf3c4e34892d0033814ab5fec0e006f">swap</a>;</div><div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a>(bridge_channel);</div><div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;</div><div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;      <a class="code" href="../../d5/dde/bridge__internal_8h.html#ad663022ff4700bb2d53afeea24f402d4">bridge_do_move</a>(dest, bridge_channel, 1, 0);</div><div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;   }</div><div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;</div><div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#a0fb66f4741ca8d106af1917a2f1aab6e">ast_bridge_unlock</a>(dest);</div><div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#a0fb66f4741ca8d106af1917a2f1aab6e">ast_bridge_unlock</a>(src);</div><div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;</div><div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>(bridge_channel);</div><div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;}</div><div class="ttc" id="channel_8h_html_a493bdebe876caafb8ee535853310364a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a></div><div class="ttdeci">#define ast_channel_lock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02945">channel.h:2945</a></div></div>
<div class="ttc" id="bridge_8h_html_a04a2852f4166568323aa33cd3d0158c7"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a04a2852f4166568323aa33cd3d0158c7">ast_bridge_lock_both</a></div><div class="ttdeci">#define ast_bridge_lock_both(bridge1, bridge2)</div><div class="ttdoc">Lock two bridges. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00500">bridge.h:500</a></div></div>
<div class="ttc" id="astobj2_8h_html_a9998bd156b936636a8780385e9a910b2"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a></div><div class="ttdeci">#define ao2_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00730">astobj2.h:730</a></div></div>
<div class="ttc" id="astobj2_8h_html_aa9fdb5d0a6157a56060d9f7279fe6c49"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aa9fdb5d0a6157a56060d9f7279fe6c49">ao2_lock</a></div><div class="ttdeci">#define ao2_lock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00718">astobj2.h:718</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="bridge_8h_html_a0fb66f4741ca8d106af1917a2f1aab6e"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a0fb66f4741ca8d106af1917a2f1aab6e">ast_bridge_unlock</a></div><div class="ttdeci">#define ast_bridge_unlock(bridge)</div><div class="ttdoc">Unlock the bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00493">bridge.h:493</a></div></div>
<div class="ttc" id="structast__bridge__channel_html_a3bf3c4e34892d0033814ab5fec0e006f"><div class="ttname"><a href="../../d5/dca/structast__bridge__channel.html#a3bf3c4e34892d0033814ab5fec0e006f">ast_bridge_channel::swap</a></div><div class="ttdeci">struct ast_channel * swap</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00093">bridge_channel.h:93</a></div></div>
<div class="ttc" id="channel_8h_html_a9b6409c38af733c46eead884d86dd284"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a9b6409c38af733c46eead884d86dd284">ast_channel_get_bridge_channel</a></div><div class="ttdeci">struct ast_bridge_channel * ast_channel_get_bridge_channel(struct ast_channel *chan)</div><div class="ttdoc">Get a reference to the channel&amp;#39;s bridge pointer. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l10783">channel.c:10783</a></div></div>
<div class="ttc" id="structast__bridge__channel_html"><div class="ttname"><a href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a></div><div class="ttdoc">Structure that contains information regarding a channel in a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00084">bridge_channel.h:84</a></div></div>
<div class="ttc" id="bridge__internal_8h_html_ad663022ff4700bb2d53afeea24f402d4"><div class="ttname"><a href="../../d5/dde/bridge__internal_8h.html#ad663022ff4700bb2d53afeea24f402d4">bridge_do_move</a></div><div class="ttdeci">int bridge_do_move(struct ast_bridge *dst_bridge, struct ast_bridge_channel *bridge_channel, int attempt_recovery, unsigned int optimized)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l02362">bridge.c:2362</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2d74b0aeb9476b4daf641e9ce5bf4622"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d74b0aeb9476b4daf641e9ce5bf4622">&#9670;&nbsp;</a></span>bridge_personality_atxfer_pull()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void bridge_personality_atxfer_pull </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *&#160;</td>
          <td class="paramname"><em>bridge_channel</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02980">2980</a> of file <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html">bridge_basic.c</a>.</p>

<p class="reference">References <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00329">bridge_basic_personality::current</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00331">bridge_basic_personality::details</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00319">personality_details::pvt</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02939">recall_pull()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01332">attended_transfer_properties::superstate</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00768">SUPERSTATE_RECALL</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00753">SUPERSTATE_TRANSFER</a>, and <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02901">transfer_pull()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l03639">ast_bridging_init_basic()</a>.</p>
<div class="fragment"><div class="line"><a name="l02981"></a><span class="lineno"> 2981</span>&#160;{</div><div class="line"><a name="l02982"></a><span class="lineno"> 2982</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/d3b/structbridge__basic__personality.html">bridge_basic_personality</a> *personality = <span class="keyword">self</span>-&gt;personality;</div><div class="line"><a name="l02983"></a><span class="lineno"> 2983</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/d9e/structattended__transfer__properties.html">attended_transfer_properties</a> *props = personality-&gt;<a class="code" href="../../dc/d3b/structbridge__basic__personality.html#aa37b1b6dd2f0a609d3c93d21125ef9f7">details</a>[personality-&gt;<a class="code" href="../../dc/d3b/structbridge__basic__personality.html#a713a6e81262dbc01e30bfc2a49245fdb">current</a>].<a class="code" href="../../d6/da5/structpersonality__details.html#a77153a7ab7ba05031fbbb4e67aa9dcfc">pvt</a>;</div><div class="line"><a name="l02984"></a><span class="lineno"> 2984</span>&#160;</div><div class="line"><a name="l02985"></a><span class="lineno"> 2985</span>&#160;   <span class="keywordflow">switch</span> (props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a3cc9de576dd4ea6fd88d41ef5db89a1d">superstate</a>) {</div><div class="line"><a name="l02986"></a><span class="lineno"> 2986</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#af112aa999551130fecf72643a55825f1a2c2e0690e7bcd2336e63e8cbba077db5">SUPERSTATE_TRANSFER</a>:</div><div class="line"><a name="l02987"></a><span class="lineno"> 2987</span>&#160;      <a class="code" href="../../d7/d9b/bridge__basic_8c.html#aff57702b35576ceb2437a234a2175b7b">transfer_pull</a>(<span class="keyword">self</span>, bridge_channel, props);</div><div class="line"><a name="l02988"></a><span class="lineno"> 2988</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l02989"></a><span class="lineno"> 2989</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#af112aa999551130fecf72643a55825f1a467b5984311242980b0d7722887a6667">SUPERSTATE_RECALL</a>:</div><div class="line"><a name="l02990"></a><span class="lineno"> 2990</span>&#160;      <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a690fb93599516427baea9884edea6bee">recall_pull</a>(<span class="keyword">self</span>, bridge_channel, props);</div><div class="line"><a name="l02991"></a><span class="lineno"> 2991</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l02992"></a><span class="lineno"> 2992</span>&#160;   }</div><div class="line"><a name="l02993"></a><span class="lineno"> 2993</span>&#160;}</div><div class="ttc" id="structbridge__basic__personality_html_a713a6e81262dbc01e30bfc2a49245fdb"><div class="ttname"><a href="../../dc/d3b/structbridge__basic__personality.html#a713a6e81262dbc01e30bfc2a49245fdb">bridge_basic_personality::current</a></div><div class="ttdeci">enum bridge_basic_personality_type current</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00329">bridge_basic.c:329</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_aff57702b35576ceb2437a234a2175b7b"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#aff57702b35576ceb2437a234a2175b7b">transfer_pull</a></div><div class="ttdeci">static void transfer_pull(struct ast_bridge *self, struct ast_bridge_channel *bridge_channel, struct attended_transfer_properties *props)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l02901">bridge_basic.c:2901</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_af112aa999551130fecf72643a55825f1a467b5984311242980b0d7722887a6667"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#af112aa999551130fecf72643a55825f1a467b5984311242980b0d7722887a6667">SUPERSTATE_RECALL</a></div><div class="ttdoc">Recall superstate. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00768">bridge_basic.c:768</a></div></div>
<div class="ttc" id="structbridge__basic__personality_html"><div class="ttname"><a href="../../dc/d3b/structbridge__basic__personality.html">bridge_basic_personality</a></div><div class="ttdoc">structure that organizes different personalities for basic bridges. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00327">bridge_basic.c:327</a></div></div>
<div class="ttc" id="structpersonality__details_html_a77153a7ab7ba05031fbbb4e67aa9dcfc"><div class="ttname"><a href="../../d6/da5/structpersonality__details.html#a77153a7ab7ba05031fbbb4e67aa9dcfc">personality_details::pvt</a></div><div class="ttdeci">void * pvt</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00319">bridge_basic.c:319</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_af112aa999551130fecf72643a55825f1a2c2e0690e7bcd2336e63e8cbba077db5"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#af112aa999551130fecf72643a55825f1a2c2e0690e7bcd2336e63e8cbba077db5">SUPERSTATE_TRANSFER</a></div><div class="ttdoc">Transfer superstate. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00753">bridge_basic.c:753</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a690fb93599516427baea9884edea6bee"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a690fb93599516427baea9884edea6bee">recall_pull</a></div><div class="ttdeci">static void recall_pull(struct ast_bridge *self, struct ast_bridge_channel *bridge_channel, struct attended_transfer_properties *props)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l02939">bridge_basic.c:2939</a></div></div>
<div class="ttc" id="structbridge__basic__personality_html_aa37b1b6dd2f0a609d3c93d21125ef9f7"><div class="ttname"><a href="../../dc/d3b/structbridge__basic__personality.html#aa37b1b6dd2f0a609d3c93d21125ef9f7">bridge_basic_personality::details</a></div><div class="ttdeci">struct personality_details details[BRIDGE_BASIC_PERSONALITY_END]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00331">bridge_basic.c:331</a></div></div>
<div class="ttc" id="structattended__transfer__properties_html_a3cc9de576dd4ea6fd88d41ef5db89a1d"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html#a3cc9de576dd4ea6fd88d41ef5db89a1d">attended_transfer_properties::superstate</a></div><div class="ttdeci">enum attended_transfer_superstate superstate</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01332">bridge_basic.c:1332</a></div></div>
<div class="ttc" id="structattended__transfer__properties_html"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html">attended_transfer_properties</a></div><div class="ttdoc">Collection of data related to an attended transfer attempt. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01291">bridge_basic.c:1291</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae04d88d4d063680e09e21cc2384e9a4d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae04d88d4d063680e09e21cc2384e9a4d">&#9670;&nbsp;</a></span>bridge_personality_atxfer_push()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int bridge_personality_atxfer_push </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *&#160;</td>
          <td class="paramname"><em>bridge_channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *&#160;</td>
          <td class="paramname"><em>swap</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02855">2855</a> of file <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html">bridge_basic.c</a>.</p>

<p class="reference">References <a class="el" href="../../d0/d95/bridge_8c_source.html#l03245">ast_bridge_dtmf_hook()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l03328">ast_bridge_hangup_hook()</a>, <a class="el" href="../../dc/d7a/bridge__features_8h_source.html#l00185">AST_BRIDGE_HOOK_REMOVE_ON_PERSONALITY_CHANGE</a>, <a class="el" href="../../dc/d7a/bridge__features_8h_source.html#l00183">AST_BRIDGE_HOOK_REMOVE_ON_PULL</a>, <a class="el" href="../../dd/d13/bridge__roles_8c_source.html#l00403">ast_channel_get_role_option()</a>, <a class="el" href="../../dd/d13/bridge__roles_8c_source.html#l00398">ast_channel_has_role()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../d4/d1e/bridge__basic_8h_source.html#l00036">AST_TRANSFERER_ROLE_NAME</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02741">atxfer_abort()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02755">atxfer_complete()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02783">atxfer_swap()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02769">atxfer_threeway()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02797">atxfer_transferer_hangup()</a>, <a class="el" href="../../de/d41/bridge__channel_8h_source.html#l00091">ast_bridge_channel::chan</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00329">bridge_basic_personality::current</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00331">bridge_basic_personality::details</a>, <a class="el" href="../../de/d41/bridge__channel_8h_source.html#l00132">ast_bridge_channel::features</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00319">personality_details::pvt</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l03639">ast_bridging_init_basic()</a>.</p>
<div class="fragment"><div class="line"><a name="l02856"></a><span class="lineno"> 2856</span>&#160;{</div><div class="line"><a name="l02857"></a><span class="lineno"> 2857</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *abort_dtmf;</div><div class="line"><a name="l02858"></a><span class="lineno"> 2858</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *complete_dtmf;</div><div class="line"><a name="l02859"></a><span class="lineno"> 2859</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *threeway_dtmf;</div><div class="line"><a name="l02860"></a><span class="lineno"> 2860</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *swap_dtmf;</div><div class="line"><a name="l02861"></a><span class="lineno"> 2861</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/d3b/structbridge__basic__personality.html">bridge_basic_personality</a> *personality = <span class="keyword">self</span>-&gt;personality;</div><div class="line"><a name="l02862"></a><span class="lineno"> 2862</span>&#160;</div><div class="line"><a name="l02863"></a><span class="lineno"> 2863</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../dd/dff/bridge__roles_8h.html#a6b856fa6db0d3de843aa5a1d89db1154">ast_channel_has_role</a>(bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>, <a class="code" href="../../d4/d1e/bridge__basic_8h.html#a0b6d741f492cd88fd405a10396c62ab6">AST_TRANSFERER_ROLE_NAME</a>)) {</div><div class="line"><a name="l02864"></a><span class="lineno"> 2864</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02865"></a><span class="lineno"> 2865</span>&#160;   }</div><div class="line"><a name="l02866"></a><span class="lineno"> 2866</span>&#160;</div><div class="line"><a name="l02867"></a><span class="lineno"> 2867</span>&#160;   abort_dtmf = <a class="code" href="../../dd/dff/bridge__roles_8h.html#a9c16dcfdabf78d468e98cfe919836bf3">ast_channel_get_role_option</a>(bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>, <a class="code" href="../../d4/d1e/bridge__basic_8h.html#a0b6d741f492cd88fd405a10396c62ab6">AST_TRANSFERER_ROLE_NAME</a>, <span class="stringliteral">&quot;abort&quot;</span>);</div><div class="line"><a name="l02868"></a><span class="lineno"> 2868</span>&#160;   complete_dtmf = <a class="code" href="../../dd/dff/bridge__roles_8h.html#a9c16dcfdabf78d468e98cfe919836bf3">ast_channel_get_role_option</a>(bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>, <a class="code" href="../../d4/d1e/bridge__basic_8h.html#a0b6d741f492cd88fd405a10396c62ab6">AST_TRANSFERER_ROLE_NAME</a>, <span class="stringliteral">&quot;complete&quot;</span>);</div><div class="line"><a name="l02869"></a><span class="lineno"> 2869</span>&#160;   threeway_dtmf = <a class="code" href="../../dd/dff/bridge__roles_8h.html#a9c16dcfdabf78d468e98cfe919836bf3">ast_channel_get_role_option</a>(bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>, <a class="code" href="../../d4/d1e/bridge__basic_8h.html#a0b6d741f492cd88fd405a10396c62ab6">AST_TRANSFERER_ROLE_NAME</a>, <span class="stringliteral">&quot;threeway&quot;</span>);</div><div class="line"><a name="l02870"></a><span class="lineno"> 2870</span>&#160;   swap_dtmf = <a class="code" href="../../dd/dff/bridge__roles_8h.html#a9c16dcfdabf78d468e98cfe919836bf3">ast_channel_get_role_option</a>(bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>, <a class="code" href="../../d4/d1e/bridge__basic_8h.html#a0b6d741f492cd88fd405a10396c62ab6">AST_TRANSFERER_ROLE_NAME</a>, <span class="stringliteral">&quot;swap&quot;</span>);</div><div class="line"><a name="l02871"></a><span class="lineno"> 2871</span>&#160;</div><div class="line"><a name="l02872"></a><span class="lineno"> 2872</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(abort_dtmf) &amp;&amp; <a class="code" href="../../dc/d7a/bridge__features_8h.html#a48ebc85ae4e4a203014711dc3a492ac5">ast_bridge_dtmf_hook</a>(bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a65633fdc6178dc8d9f754fda0166d16e">features</a>,</div><div class="line"><a name="l02873"></a><span class="lineno"> 2873</span>&#160;         abort_dtmf, <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a29852304212ba3e0f81e86da89dc32ee">atxfer_abort</a>, personality-&gt;<a class="code" href="../../dc/d3b/structbridge__basic__personality.html#aa37b1b6dd2f0a609d3c93d21125ef9f7">details</a>[personality-&gt;<a class="code" href="../../dc/d3b/structbridge__basic__personality.html#a713a6e81262dbc01e30bfc2a49245fdb">current</a>].<a class="code" href="../../d6/da5/structpersonality__details.html#a77153a7ab7ba05031fbbb4e67aa9dcfc">pvt</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div><div class="line"><a name="l02874"></a><span class="lineno"> 2874</span>&#160;         <a class="code" href="../../dc/d7a/bridge__features_8h.html#a41510c1f43cb3401f5c7c88d9c9a8d11ac153fba92bea66516462b2958d2fcdce">AST_BRIDGE_HOOK_REMOVE_ON_PERSONALITY_CHANGE</a> | <a class="code" href="../../dc/d7a/bridge__features_8h.html#a41510c1f43cb3401f5c7c88d9c9a8d11a2b221cc62ec019751101af0d7a754cb5">AST_BRIDGE_HOOK_REMOVE_ON_PULL</a>)) {</div><div class="line"><a name="l02875"></a><span class="lineno"> 2875</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l02876"></a><span class="lineno"> 2876</span>&#160;   }</div><div class="line"><a name="l02877"></a><span class="lineno"> 2877</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(complete_dtmf) &amp;&amp; <a class="code" href="../../dc/d7a/bridge__features_8h.html#a48ebc85ae4e4a203014711dc3a492ac5">ast_bridge_dtmf_hook</a>(bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a65633fdc6178dc8d9f754fda0166d16e">features</a>,</div><div class="line"><a name="l02878"></a><span class="lineno"> 2878</span>&#160;         complete_dtmf, <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a1df8ed0f1a107e2fc9e816c3bdce6c77">atxfer_complete</a>, personality-&gt;<a class="code" href="../../dc/d3b/structbridge__basic__personality.html#aa37b1b6dd2f0a609d3c93d21125ef9f7">details</a>[personality-&gt;<a class="code" href="../../dc/d3b/structbridge__basic__personality.html#a713a6e81262dbc01e30bfc2a49245fdb">current</a>].<a class="code" href="../../d6/da5/structpersonality__details.html#a77153a7ab7ba05031fbbb4e67aa9dcfc">pvt</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div><div class="line"><a name="l02879"></a><span class="lineno"> 2879</span>&#160;         <a class="code" href="../../dc/d7a/bridge__features_8h.html#a41510c1f43cb3401f5c7c88d9c9a8d11ac153fba92bea66516462b2958d2fcdce">AST_BRIDGE_HOOK_REMOVE_ON_PERSONALITY_CHANGE</a> | <a class="code" href="../../dc/d7a/bridge__features_8h.html#a41510c1f43cb3401f5c7c88d9c9a8d11a2b221cc62ec019751101af0d7a754cb5">AST_BRIDGE_HOOK_REMOVE_ON_PULL</a>)) {</div><div class="line"><a name="l02880"></a><span class="lineno"> 2880</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l02881"></a><span class="lineno"> 2881</span>&#160;   }</div><div class="line"><a name="l02882"></a><span class="lineno"> 2882</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(threeway_dtmf) &amp;&amp; <a class="code" href="../../dc/d7a/bridge__features_8h.html#a48ebc85ae4e4a203014711dc3a492ac5">ast_bridge_dtmf_hook</a>(bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a65633fdc6178dc8d9f754fda0166d16e">features</a>,</div><div class="line"><a name="l02883"></a><span class="lineno"> 2883</span>&#160;         threeway_dtmf, <a class="code" href="../../d7/d9b/bridge__basic_8c.html#af85bc300c029f95cb2a1fc9157038a70">atxfer_threeway</a>, personality-&gt;<a class="code" href="../../dc/d3b/structbridge__basic__personality.html#aa37b1b6dd2f0a609d3c93d21125ef9f7">details</a>[personality-&gt;<a class="code" href="../../dc/d3b/structbridge__basic__personality.html#a713a6e81262dbc01e30bfc2a49245fdb">current</a>].<a class="code" href="../../d6/da5/structpersonality__details.html#a77153a7ab7ba05031fbbb4e67aa9dcfc">pvt</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div><div class="line"><a name="l02884"></a><span class="lineno"> 2884</span>&#160;         <a class="code" href="../../dc/d7a/bridge__features_8h.html#a41510c1f43cb3401f5c7c88d9c9a8d11ac153fba92bea66516462b2958d2fcdce">AST_BRIDGE_HOOK_REMOVE_ON_PERSONALITY_CHANGE</a> | <a class="code" href="../../dc/d7a/bridge__features_8h.html#a41510c1f43cb3401f5c7c88d9c9a8d11a2b221cc62ec019751101af0d7a754cb5">AST_BRIDGE_HOOK_REMOVE_ON_PULL</a>)) {</div><div class="line"><a name="l02885"></a><span class="lineno"> 2885</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l02886"></a><span class="lineno"> 2886</span>&#160;   }</div><div class="line"><a name="l02887"></a><span class="lineno"> 2887</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(swap_dtmf) &amp;&amp; <a class="code" href="../../dc/d7a/bridge__features_8h.html#a48ebc85ae4e4a203014711dc3a492ac5">ast_bridge_dtmf_hook</a>(bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a65633fdc6178dc8d9f754fda0166d16e">features</a>,</div><div class="line"><a name="l02888"></a><span class="lineno"> 2888</span>&#160;         swap_dtmf, <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a35d4f19b94994f238ebd6a7183828c2e">atxfer_swap</a>, personality-&gt;<a class="code" href="../../dc/d3b/structbridge__basic__personality.html#aa37b1b6dd2f0a609d3c93d21125ef9f7">details</a>[personality-&gt;<a class="code" href="../../dc/d3b/structbridge__basic__personality.html#a713a6e81262dbc01e30bfc2a49245fdb">current</a>].<a class="code" href="../../d6/da5/structpersonality__details.html#a77153a7ab7ba05031fbbb4e67aa9dcfc">pvt</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div><div class="line"><a name="l02889"></a><span class="lineno"> 2889</span>&#160;         <a class="code" href="../../dc/d7a/bridge__features_8h.html#a41510c1f43cb3401f5c7c88d9c9a8d11ac153fba92bea66516462b2958d2fcdce">AST_BRIDGE_HOOK_REMOVE_ON_PERSONALITY_CHANGE</a> | <a class="code" href="../../dc/d7a/bridge__features_8h.html#a41510c1f43cb3401f5c7c88d9c9a8d11a2b221cc62ec019751101af0d7a754cb5">AST_BRIDGE_HOOK_REMOVE_ON_PULL</a>)) {</div><div class="line"><a name="l02890"></a><span class="lineno"> 2890</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l02891"></a><span class="lineno"> 2891</span>&#160;   }</div><div class="line"><a name="l02892"></a><span class="lineno"> 2892</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../dc/d7a/bridge__features_8h.html#a1b26efd7ce4e09afa9402dc0a30d5e4a">ast_bridge_hangup_hook</a>(bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a65633fdc6178dc8d9f754fda0166d16e">features</a>, <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a3856b7d73a2892eb8cf3d45cbd6121ba">atxfer_transferer_hangup</a>,</div><div class="line"><a name="l02893"></a><span class="lineno"> 2893</span>&#160;         personality-&gt;<a class="code" href="../../dc/d3b/structbridge__basic__personality.html#aa37b1b6dd2f0a609d3c93d21125ef9f7">details</a>[personality-&gt;<a class="code" href="../../dc/d3b/structbridge__basic__personality.html#a713a6e81262dbc01e30bfc2a49245fdb">current</a>].<a class="code" href="../../d6/da5/structpersonality__details.html#a77153a7ab7ba05031fbbb4e67aa9dcfc">pvt</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div><div class="line"><a name="l02894"></a><span class="lineno"> 2894</span>&#160;         <a class="code" href="../../dc/d7a/bridge__features_8h.html#a41510c1f43cb3401f5c7c88d9c9a8d11ac153fba92bea66516462b2958d2fcdce">AST_BRIDGE_HOOK_REMOVE_ON_PERSONALITY_CHANGE</a> | <a class="code" href="../../dc/d7a/bridge__features_8h.html#a41510c1f43cb3401f5c7c88d9c9a8d11a2b221cc62ec019751101af0d7a754cb5">AST_BRIDGE_HOOK_REMOVE_ON_PULL</a>)) {</div><div class="line"><a name="l02895"></a><span class="lineno"> 2895</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l02896"></a><span class="lineno"> 2896</span>&#160;   }</div><div class="line"><a name="l02897"></a><span class="lineno"> 2897</span>&#160;</div><div class="line"><a name="l02898"></a><span class="lineno"> 2898</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02899"></a><span class="lineno"> 2899</span>&#160;}</div><div class="ttc" id="structast__bridge__channel_html_a65633fdc6178dc8d9f754fda0166d16e"><div class="ttname"><a href="../../d5/dca/structast__bridge__channel.html#a65633fdc6178dc8d9f754fda0166d16e">ast_bridge_channel::features</a></div><div class="ttdeci">struct ast_bridge_features * features</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00132">bridge_channel.h:132</a></div></div>
<div class="ttc" id="bridge__features_8h_html_a41510c1f43cb3401f5c7c88d9c9a8d11a2b221cc62ec019751101af0d7a754cb5"><div class="ttname"><a href="../../dc/d7a/bridge__features_8h.html#a41510c1f43cb3401f5c7c88d9c9a8d11a2b221cc62ec019751101af0d7a754cb5">AST_BRIDGE_HOOK_REMOVE_ON_PULL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00183">bridge_features.h:183</a></div></div>
<div class="ttc" id="structbridge__basic__personality_html_a713a6e81262dbc01e30bfc2a49245fdb"><div class="ttname"><a href="../../dc/d3b/structbridge__basic__personality.html#a713a6e81262dbc01e30bfc2a49245fdb">bridge_basic_personality::current</a></div><div class="ttdeci">enum bridge_basic_personality_type current</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00329">bridge_basic.c:329</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a1df8ed0f1a107e2fc9e816c3bdce6c77"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a1df8ed0f1a107e2fc9e816c3bdce6c77">atxfer_complete</a></div><div class="ttdeci">static int atxfer_complete(struct ast_bridge_channel *bridge_channel, void *hook_pvt)</div><div class="ttdoc">DTMF hook when transferer presses complete sequence. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l02755">bridge_basic.c:2755</a></div></div>
<div class="ttc" id="bridge__features_8h_html_a41510c1f43cb3401f5c7c88d9c9a8d11ac153fba92bea66516462b2958d2fcdce"><div class="ttname"><a href="../../dc/d7a/bridge__features_8h.html#a41510c1f43cb3401f5c7c88d9c9a8d11ac153fba92bea66516462b2958d2fcdce">AST_BRIDGE_HOOK_REMOVE_ON_PERSONALITY_CHANGE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00185">bridge_features.h:185</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_af85bc300c029f95cb2a1fc9157038a70"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#af85bc300c029f95cb2a1fc9157038a70">atxfer_threeway</a></div><div class="ttdeci">static int atxfer_threeway(struct ast_bridge_channel *bridge_channel, void *hook_pvt)</div><div class="ttdoc">DTMF hook when transferer presses threeway sequence. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l02769">bridge_basic.c:2769</a></div></div>
<div class="ttc" id="bridge__roles_8h_html_a6b856fa6db0d3de843aa5a1d89db1154"><div class="ttname"><a href="../../dd/dff/bridge__roles_8h.html#a6b856fa6db0d3de843aa5a1d89db1154">ast_channel_has_role</a></div><div class="ttdeci">int ast_channel_has_role(struct ast_channel *channel, const char *role_name)</div><div class="ttdoc">Check if a role exists on a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d13/bridge__roles_8c_source.html#l00398">bridge_roles.c:398</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a29852304212ba3e0f81e86da89dc32ee"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a29852304212ba3e0f81e86da89dc32ee">atxfer_abort</a></div><div class="ttdeci">static int atxfer_abort(struct ast_bridge_channel *bridge_channel, void *hook_pvt)</div><div class="ttdoc">DTMF hook when transferer presses abort sequence. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l02741">bridge_basic.c:2741</a></div></div>
<div class="ttc" id="bridge__features_8h_html_a1b26efd7ce4e09afa9402dc0a30d5e4a"><div class="ttname"><a href="../../dc/d7a/bridge__features_8h.html#a1b26efd7ce4e09afa9402dc0a30d5e4a">ast_bridge_hangup_hook</a></div><div class="ttdeci">int ast_bridge_hangup_hook(struct ast_bridge_features *features, ast_bridge_hook_callback callback, void *hook_pvt, ast_bridge_hook_pvt_destructor destructor, enum ast_bridge_hook_remove_flags remove_flags)</div><div class="ttdoc">Attach a hangup hook to a bridge features structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l03328">bridge.c:3328</a></div></div>
<div class="ttc" id="bridge__basic_8h_html_a0b6d741f492cd88fd405a10396c62ab6"><div class="ttname"><a href="../../d4/d1e/bridge__basic_8h.html#a0b6d741f492cd88fd405a10396c62ab6">AST_TRANSFERER_ROLE_NAME</a></div><div class="ttdeci">#define AST_TRANSFERER_ROLE_NAME</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d1e/bridge__basic_8h_source.html#l00036">bridge_basic.h:36</a></div></div>
<div class="ttc" id="structbridge__basic__personality_html"><div class="ttname"><a href="../../dc/d3b/structbridge__basic__personality.html">bridge_basic_personality</a></div><div class="ttdoc">structure that organizes different personalities for basic bridges. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00327">bridge_basic.c:327</a></div></div>
<div class="ttc" id="structpersonality__details_html_a77153a7ab7ba05031fbbb4e67aa9dcfc"><div class="ttname"><a href="../../d6/da5/structpersonality__details.html#a77153a7ab7ba05031fbbb4e67aa9dcfc">personality_details::pvt</a></div><div class="ttdeci">void * pvt</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00319">bridge_basic.c:319</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a3856b7d73a2892eb8cf3d45cbd6121ba"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a3856b7d73a2892eb8cf3d45cbd6121ba">atxfer_transferer_hangup</a></div><div class="ttdeci">static int atxfer_transferer_hangup(struct ast_bridge_channel *bridge_channel, void *hook_pvt)</div><div class="ttdoc">Hangup hook for transferer channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l02797">bridge_basic.c:2797</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a35d4f19b94994f238ebd6a7183828c2e"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a35d4f19b94994f238ebd6a7183828c2e">atxfer_swap</a></div><div class="ttdeci">static int atxfer_swap(struct ast_bridge_channel *bridge_channel, void *hook_pvt)</div><div class="ttdoc">DTMF hook when transferer presses swap sequence. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l02783">bridge_basic.c:2783</a></div></div>
<div class="ttc" id="bridge__features_8h_html_a48ebc85ae4e4a203014711dc3a492ac5"><div class="ttname"><a href="../../dc/d7a/bridge__features_8h.html#a48ebc85ae4e4a203014711dc3a492ac5">ast_bridge_dtmf_hook</a></div><div class="ttdeci">int ast_bridge_dtmf_hook(struct ast_bridge_features *features, const char *dtmf, ast_bridge_hook_callback callback, void *hook_pvt, ast_bridge_hook_pvt_destructor destructor, enum ast_bridge_hook_remove_flags remove_flags)</div><div class="ttdoc">Attach a DTMF hook to a bridge features structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l03245">bridge.c:3245</a></div></div>
<div class="ttc" id="structast__bridge__channel_html_a84d1435c5b8d387806714ea7079304b7"><div class="ttname"><a href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">ast_bridge_channel::chan</a></div><div class="ttdeci">struct ast_channel * chan</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00091">bridge_channel.h:91</a></div></div>
<div class="ttc" id="bridge__roles_8h_html_a9c16dcfdabf78d468e98cfe919836bf3"><div class="ttname"><a href="../../dd/dff/bridge__roles_8h.html#a9c16dcfdabf78d468e98cfe919836bf3">ast_channel_get_role_option</a></div><div class="ttdeci">const char * ast_channel_get_role_option(struct ast_channel *channel, const char *role_name, const char *option)</div><div class="ttdoc">Retrieve the value of a requested role option from a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d13/bridge__roles_8c_source.html#l00403">bridge_roles.c:403</a></div></div>
<div class="ttc" id="structbridge__basic__personality_html_aa37b1b6dd2f0a609d3c93d21125ef9f7"><div class="ttname"><a href="../../dc/d3b/structbridge__basic__personality.html#aa37b1b6dd2f0a609d3c93d21125ef9f7">bridge_basic_personality::details</a></div><div class="ttdeci">struct personality_details details[BRIDGE_BASIC_PERSONALITY_END]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00331">bridge_basic.c:331</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a494827c3a17703f41c365f0dbdaf9603"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a494827c3a17703f41c365f0dbdaf9603">&#9670;&nbsp;</a></span>bridge_personality_normal_push()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int bridge_personality_normal_push </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *&#160;</td>
          <td class="paramname"><em>bridge_channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *&#160;</td>
          <td class="paramname"><em>swap</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00662">662</a> of file <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html">bridge_basic.c</a>.</p>

<p class="reference">References <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00641">add_normal_hooks()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l03639">ast_bridging_init_basic()</a>.</p>
<div class="fragment"><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;{</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d7/d9b/bridge__basic_8c.html#a5ffac345d4f2d6a42d0ffc875e0ddcf8">add_normal_hooks</a>(<span class="keyword">self</span>, bridge_channel)) {</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;   }</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;}</div><div class="ttc" id="bridge__basic_8c_html_a5ffac345d4f2d6a42d0ffc875e0ddcf8"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a5ffac345d4f2d6a42d0ffc875e0ddcf8">add_normal_hooks</a></div><div class="ttdeci">static int add_normal_hooks(struct ast_bridge *bridge, struct ast_bridge_channel *bridge_channel)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00641">bridge_basic.c:641</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3e9b377fb281c3b2234be1e0133d7dcf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e9b377fb281c3b2234be1e0133d7dcf">&#9670;&nbsp;</a></span>bridge_ringing()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void bridge_ringing </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *&#160;</td>
          <td class="paramname"><em>bridge</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Helper method to send a ringing indication to all channels in a bridge. </p>

<p class="definition">Definition at line <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01831">1831</a> of file <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html">bridge_basic.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d32/bridge__channel_8c_source.html#l01122">ast_bridge_queue_everyone_else()</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00280">AST_CONTROL_RINGING</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00105">AST_FRAME_CONTROL</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00167">ast_frame::frametype</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02455">recalling_enter()</a>.</p>
<div class="fragment"><div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;{</div><div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d99/structast__frame.html">ast_frame</a> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a6ab6e51f783d7cea98857990908996d3">ringing</a> = {</div><div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;      .frametype = <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#ae2e1a9c4e048da387b761f619312d6e0ae1dae388b0d70825876e137ae95bb0c1">AST_FRAME_CONTROL</a>,</div><div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;      .subclass.integer = <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390aa5814e690c23b590bcd4eb43535907a1">AST_CONTROL_RINGING</a>,</div><div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;   };</div><div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;</div><div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#aef93dd372b07227b9aa10c530d5039f8">ast_bridge_queue_everyone_else</a>(bridge, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, &amp;ringing);</div><div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;}</div><div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="bridge_8h_html_aef93dd372b07227b9aa10c530d5039f8"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#aef93dd372b07227b9aa10c530d5039f8">ast_bridge_queue_everyone_else</a></div><div class="ttdeci">int ast_bridge_queue_everyone_else(struct ast_bridge *bridge, struct ast_bridge_channel *bridge_channel, struct ast_frame *frame)</div><div class="ttdoc">Queue the given frame to everyone else. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d32/bridge__channel_8c_source.html#l01122">bridge_channel.c:1122</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a6ab6e51f783d7cea98857990908996d3"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a6ab6e51f783d7cea98857990908996d3">ringing</a></div><div class="ttdeci">static void ringing(struct ast_channel *chan)</div><div class="ttdoc">Helper method to send a ringing indication to a channel in a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01814">bridge_basic.c:1814</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_ae2e1a9c4e048da387b761f619312d6e0ae1dae388b0d70825876e137ae95bb0c1"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#ae2e1a9c4e048da387b761f619312d6e0ae1dae388b0d70825876e137ae95bb0c1">AST_FRAME_CONTROL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00105">include/asterisk/frame.h:105</a></div></div>
<div class="ttc" id="structast__frame_html"><div class="ttname"><a href="../../d0/d99/structast__frame.html">ast_frame</a></div><div class="ttdoc">Data structure associated with a single frame of data. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00165">include/asterisk/frame.h:165</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_aedda41918e992000fe921f8f7363b390aa5814e690c23b590bcd4eb43535907a1"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390aa5814e690c23b590bcd4eb43535907a1">AST_CONTROL_RINGING</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00280">include/asterisk/frame.h:280</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a7f816040356560389bfcdf5bdc218cb6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f816040356560389bfcdf5bdc218cb6">&#9670;&nbsp;</a></span>bridge_unhold()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void bridge_unhold </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *&#160;</td>
          <td class="paramname"><em>bridge</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Helper method to send an unhold frame to all channels in a bridge. </p>

<p class="definition">Definition at line <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01857">1857</a> of file <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html">bridge_basic.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d32/bridge__channel_8c_source.html#l01122">ast_bridge_queue_everyone_else()</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00294">AST_CONTROL_UNHOLD</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00105">AST_FRAME_CONTROL</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00167">ast_frame::frametype</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02106">calling_target_exit()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02214">consulting_exit()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02269">double_checking_exit()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02701">wait_to_recall_exit()</a>, and <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02575">wait_to_retransfer_exit()</a>.</p>
<div class="fragment"><div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;{</div><div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d99/structast__frame.html">ast_frame</a> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#ac08eea8a379a04d85eb9c21dc252e28d">unhold</a> = {</div><div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;      .frametype = <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#ae2e1a9c4e048da387b761f619312d6e0ae1dae388b0d70825876e137ae95bb0c1">AST_FRAME_CONTROL</a>,</div><div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;      .subclass.integer = <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390a3e7629b5f7e39f1cc8ad2e51e266f91e">AST_CONTROL_UNHOLD</a>,</div><div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;   };</div><div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;</div><div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#aef93dd372b07227b9aa10c530d5039f8">ast_bridge_queue_everyone_else</a>(bridge, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, &amp;unhold);</div><div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;}</div><div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="bridge_8h_html_aef93dd372b07227b9aa10c530d5039f8"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#aef93dd372b07227b9aa10c530d5039f8">ast_bridge_queue_everyone_else</a></div><div class="ttdeci">int ast_bridge_queue_everyone_else(struct ast_bridge *bridge, struct ast_bridge_channel *bridge_channel, struct ast_frame *frame)</div><div class="ttdoc">Queue the given frame to everyone else. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d32/bridge__channel_8c_source.html#l01122">bridge_channel.c:1122</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_ae2e1a9c4e048da387b761f619312d6e0ae1dae388b0d70825876e137ae95bb0c1"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#ae2e1a9c4e048da387b761f619312d6e0ae1dae388b0d70825876e137ae95bb0c1">AST_FRAME_CONTROL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00105">include/asterisk/frame.h:105</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_aedda41918e992000fe921f8f7363b390a3e7629b5f7e39f1cc8ad2e51e266f91e"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390a3e7629b5f7e39f1cc8ad2e51e266f91e">AST_CONTROL_UNHOLD</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00294">include/asterisk/frame.h:294</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_ac08eea8a379a04d85eb9c21dc252e28d"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#ac08eea8a379a04d85eb9c21dc252e28d">unhold</a></div><div class="ttdeci">static void unhold(struct ast_channel *chan)</div><div class="ttdoc">Helper method to take a channel in a bridge off hold. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01793">bridge_basic.c:1793</a></div></div>
<div class="ttc" id="structast__frame_html"><div class="ttname"><a href="../../d0/d99/structast__frame.html">ast_frame</a></div><div class="ttdoc">Data structure associated with a single frame of data. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00165">include/asterisk/frame.h:165</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a52cc3b0c4e878ac05fd5fe7e79b14590"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a52cc3b0c4e878ac05fd5fe7e79b14590">&#9670;&nbsp;</a></span>build_dtmf_features()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int build_dtmf_features </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dc/dac/structast__flags.html">ast_flags</a> *&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>features</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00162">162</a> of file <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html">bridge_basic.c</a>.</p>

<p class="reference">References <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, and <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00098">set_feature_flag_from_char()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00189">ast_bridge_features_ds_set_string()</a>.</p>
<div class="fragment"><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;{</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *feature;</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;   <span class="keywordtype">char</span> missing_features[strlen(features) + 1];</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;   <span class="keywordtype">size_t</span> number_of_missing_features = 0;</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;   <span class="keywordflow">for</span> (feature = features; *feature; feature++) {</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;      <span class="keywordflow">if</span> (!isupper(*feature)) {</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Features string &#39;%s&#39; rejected because it contains non-uppercase feature.\n&quot;</span>, features);</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;         <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;      }</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d7/d9b/bridge__basic_8c.html#a7f21538aeaf93f55a10efc6e70c78f4d">set_feature_flag_from_char</a>(flags, *feature)) {</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;         missing_features[number_of_missing_features++] = *feature;</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;      }</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;   }</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;   missing_features[number_of_missing_features] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;   <span class="keywordflow">if</span> (number_of_missing_features) {</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Features &#39;%s&#39; from features string &#39;%s&#39; can not be applied.\n&quot;</span>, missing_features, features);</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;   }</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;}</div><div class="ttc" id="bridge__basic_8c_html_a7f21538aeaf93f55a10efc6e70c78f4d"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a7f21538aeaf93f55a10efc6e70c78f4d">set_feature_flag_from_char</a></div><div class="ttdeci">static int set_feature_flag_from_char(struct ast_flags *feature_flags, char feature)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00098">bridge_basic.c:98</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a102203d65c65e7e429242d99e14eca7a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a102203d65c65e7e429242d99e14eca7a">&#9670;&nbsp;</a></span>builtin_feature_get_exten()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int builtin_feature_get_exten </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>feature_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00346">346</a> of file <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html">bridge_basic.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/d71/features__config_8c_source.html#l01233">ast_get_builtin_feature()</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l01091">lock</a>, and <a class="el" href="../../dd/d42/lock_8h_source.html#l00617">SCOPED_CHANNELLOCK</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00368">builtin_features_helper()</a>.</p>
<div class="fragment"><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;{</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#aa11d2e2d6aaa7048d48491842c1de738">SCOPED_CHANNELLOCK</a>(<a class="code" href="../../df/d44/app__meetme_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>, chan);</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d0/daa/include_2asterisk_2features__config_8h.html#a9671de8d09fae2ba3954919c2fdc3030">ast_get_builtin_feature</a>(chan, feature_name, <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, <a class="code" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>);</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;}</div><div class="ttc" id="eagi__proxy_8c_html_ac95651d79c608a3148973b5b1fc9e525"><div class="ttname"><a href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a></div><div class="ttdeci">char buf[BUFSIZE]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">eagi_proxy.c:66</a></div></div>
<div class="ttc" id="lock_8h_html_aa11d2e2d6aaa7048d48491842c1de738"><div class="ttname"><a href="../../dd/d42/lock_8h.html#aa11d2e2d6aaa7048d48491842c1de738">SCOPED_CHANNELLOCK</a></div><div class="ttdeci">#define SCOPED_CHANNELLOCK(varname, chan)</div><div class="ttdoc">scoped lock specialization for channels. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00617">lock.h:617</a></div></div>
<div class="ttc" id="app__meetme_8c_html_adf04f66344e3fb0a6f6a69bf39d19902"><div class="ttname"><a href="../../df/d44/app__meetme_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a></div><div class="ttdeci">ast_mutex_t lock</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d44/app__meetme_8c_source.html#l01091">app_meetme.c:1091</a></div></div>
<div class="ttc" id="func__strings_8c_html_af24e73aaf92f3000fda15d285e66df24"><div class="ttname"><a href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a></div><div class="ttdeci">static int len(struct ast_channel *chan, const char *cmd, char *data, char *buf, size_t buflen)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d1e/func__strings_8c_source.html#l01344">func_strings.c:1344</a></div></div>
<div class="ttc" id="include_2asterisk_2features__config_8h_html_a9671de8d09fae2ba3954919c2fdc3030"><div class="ttname"><a href="../../d0/daa/include_2asterisk_2features__config_8h.html#a9671de8d09fae2ba3954919c2fdc3030">ast_get_builtin_feature</a></div><div class="ttdeci">int ast_get_builtin_feature(struct ast_channel *chan, const char *feature, char *buf, size_t len)</div><div class="ttdoc">Get the DTMF code for a builtin feature. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d71/features__config_8c_source.html#l01233">features_config.c:1233</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac6a7043b07b08e3123752a750f3299d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac6a7043b07b08e3123752a750f3299d0">&#9670;&nbsp;</a></span>builtin_features_helper()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int builtin_features_helper </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../db/dba/structast__bridge__features.html">ast_bridge_features</a> *&#160;</td>
          <td class="paramname"><em>features</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../dc/dac/structast__flags.html">ast_flags</a> *&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>feature_flag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>feature_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="../../dc/d7a/bridge__features_8h.html#a59c3a69424e1d3c627ece7aeb5f0bdb3">ast_bridge_builtin_feature</a>&#160;</td>
          <td class="paramname"><em>feature_bridge</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00368">368</a> of file <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html">bridge_basic.c</a>.</p>

<p class="reference">References <a class="el" href="../../d0/d95/bridge_8c_source.html#l03428">ast_bridge_features_enable()</a>, <a class="el" href="../../dc/d7a/bridge__features_8h_source.html#l00185">AST_BRIDGE_HOOK_REMOVE_ON_PERSONALITY_CHANGE</a>, <a class="el" href="../../dc/d7a/bridge__features_8h_source.html#l00183">AST_BRIDGE_HOOK_REMOVE_ON_PULL</a>, <a class="el" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name()</a>, <a class="el" href="../../d0/daa/include_2asterisk_2features__config_8h_source.html#l00231">AST_FEATURE_MAX_LEN</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00063">ast_test_flag</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00346">builtin_feature_get_exten()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00400">setup_bridge_features_builtin()</a>.</p>
<div class="fragment"><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;{</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;   <span class="keywordtype">char</span> dtmf[<a class="code" href="../../d0/daa/include_2asterisk_2features__config_8h.html#a57cae4c5040ce0791d0b4798193fc47f">AST_FEATURE_MAX_LEN</a>];</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;   res = 0;</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a>(flags, feature_flag)</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;      &amp;&amp; !<a class="code" href="../../d7/d9b/bridge__basic_8c.html#a102203d65c65e7e429242d99e14eca7a">builtin_feature_get_exten</a>(chan, feature_name, dtmf, <span class="keyword">sizeof</span>(dtmf))</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;      &amp;&amp; !<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(dtmf)) {</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;      res = <a class="code" href="../../dc/d7a/bridge__features_8h.html#ad4452a1fe505c3785b5f72f61231ad38">ast_bridge_features_enable</a>(features, feature_bridge, dtmf, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;         <a class="code" href="../../dc/d7a/bridge__features_8h.html#a41510c1f43cb3401f5c7c88d9c9a8d11a2b221cc62ec019751101af0d7a754cb5">AST_BRIDGE_HOOK_REMOVE_ON_PULL</a> | <a class="code" href="../../dc/d7a/bridge__features_8h.html#a41510c1f43cb3401f5c7c88d9c9a8d11ac153fba92bea66516462b2958d2fcdce">AST_BRIDGE_HOOK_REMOVE_ON_PERSONALITY_CHANGE</a>);</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;      <span class="keywordflow">if</span> (res) {</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Channel %s: Requested DTMF feature %s not available.\n&quot;</span>,</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;            <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan), feature_name);</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;      }</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;   }</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;}</div><div class="ttc" id="utils_8h_html_a00d4c9254c9827d6fa44f17a326744a5"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a></div><div class="ttdeci">#define ast_test_flag(p, flag)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00063">utils.h:63</a></div></div>
<div class="ttc" id="bridge__features_8h_html_a41510c1f43cb3401f5c7c88d9c9a8d11a2b221cc62ec019751101af0d7a754cb5"><div class="ttname"><a href="../../dc/d7a/bridge__features_8h.html#a41510c1f43cb3401f5c7c88d9c9a8d11a2b221cc62ec019751101af0d7a754cb5">AST_BRIDGE_HOOK_REMOVE_ON_PULL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00183">bridge_features.h:183</a></div></div>
<div class="ttc" id="bridge__features_8h_html_ad4452a1fe505c3785b5f72f61231ad38"><div class="ttname"><a href="../../dc/d7a/bridge__features_8h.html#ad4452a1fe505c3785b5f72f61231ad38">ast_bridge_features_enable</a></div><div class="ttdeci">int ast_bridge_features_enable(struct ast_bridge_features *features, enum ast_bridge_builtin_feature feature, const char *dtmf, void *config, ast_bridge_hook_pvt_destructor destructor, enum ast_bridge_hook_remove_flags remove_flags)</div><div class="ttdoc">Enable a built in feature on a bridge features structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l03428">bridge.c:3428</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="bridge__features_8h_html_a41510c1f43cb3401f5c7c88d9c9a8d11ac153fba92bea66516462b2958d2fcdce"><div class="ttname"><a href="../../dc/d7a/bridge__features_8h.html#a41510c1f43cb3401f5c7c88d9c9a8d11ac153fba92bea66516462b2958d2fcdce">AST_BRIDGE_HOOK_REMOVE_ON_PERSONALITY_CHANGE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00185">bridge_features.h:185</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a102203d65c65e7e429242d99e14eca7a"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a102203d65c65e7e429242d99e14eca7a">builtin_feature_get_exten</a></div><div class="ttdeci">static int builtin_feature_get_exten(struct ast_channel *chan, const char *feature_name, char *buf, size_t len)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00346">bridge_basic.c:346</a></div></div>
<div class="ttc" id="channel_8h_html_a7ca2fda13b129a55c251b56729de285b"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a></div><div class="ttdeci">const char * ast_channel_name(const struct ast_channel *chan)</div></div>
<div class="ttc" id="include_2asterisk_2features__config_8h_html_a57cae4c5040ce0791d0b4798193fc47f"><div class="ttname"><a href="../../d0/daa/include_2asterisk_2features__config_8h.html#a57cae4c5040ce0791d0b4798193fc47f">AST_FEATURE_MAX_LEN</a></div><div class="ttdeci">#define AST_FEATURE_MAX_LEN</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/daa/include_2asterisk_2features__config_8h_source.html#l00231">include/asterisk/features_config.h:231</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a8c19537457936291c2ee733e62ae45cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8c19537457936291c2ee733e62ae45cf">&#9670;&nbsp;</a></span>calling_target_enter()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int calling_target_enter </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dd/d9e/structattended__transfer__properties.html">attended_transfer_properties</a> *&#160;</td>
          <td class="paramname"><em>props</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02100">2100</a> of file <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html">bridge_basic.c</a>.</p>

<p class="reference">References <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01870">bridge_move()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01313">attended_transfer_properties::target_bridge</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01309">attended_transfer_properties::transferee_bridge</a>, and <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01315">attended_transfer_properties::transferer</a>.</p>
<div class="fragment"><div class="line"><a name="l02101"></a><span class="lineno"> 2101</span>&#160;{</div><div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160;   <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a3fc1a10ab2ba929490e84c1960ada943">bridge_move</a>(props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#ab45c59137417246eaa392b3d8319fbc3">target_bridge</a>, props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a7c148ea37d33eb1640a17177c700be43">transferee_bridge</a>, props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a43cf79e5f3675b2cdf001bceacb02e72">transferer</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l02103"></a><span class="lineno"> 2103</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02104"></a><span class="lineno"> 2104</span>&#160;}</div><div class="ttc" id="structattended__transfer__properties_html_a7c148ea37d33eb1640a17177c700be43"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html#a7c148ea37d33eb1640a17177c700be43">attended_transfer_properties::transferee_bridge</a></div><div class="ttdeci">struct ast_bridge * transferee_bridge</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01309">bridge_basic.c:1309</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structattended__transfer__properties_html_ab45c59137417246eaa392b3d8319fbc3"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html#ab45c59137417246eaa392b3d8319fbc3">attended_transfer_properties::target_bridge</a></div><div class="ttdeci">struct ast_bridge * target_bridge</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01313">bridge_basic.c:1313</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a3fc1a10ab2ba929490e84c1960ada943"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a3fc1a10ab2ba929490e84c1960ada943">bridge_move</a></div><div class="ttdeci">static void bridge_move(struct ast_bridge *dest, struct ast_bridge *src, struct ast_channel *channel, struct ast_channel *swap)</div><div class="ttdoc">Wrapper for bridge_do_move. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01870">bridge_basic.c:1870</a></div></div>
<div class="ttc" id="structattended__transfer__properties_html_a43cf79e5f3675b2cdf001bceacb02e72"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html#a43cf79e5f3675b2cdf001bceacb02e72">attended_transfer_properties::transferer</a></div><div class="ttdeci">struct ast_channel * transferer</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01315">bridge_basic.c:1315</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="abd2b2483dadd97efbd80417c444024e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abd2b2483dadd97efbd80417c444024e0">&#9670;&nbsp;</a></span>calling_target_exit()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static enum <a class="el" href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8">attended_transfer_state</a> calling_target_exit </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dd/d9e/structattended__transfer__properties.html">attended_transfer_properties</a> *&#160;</td>
          <td class="paramname"><em>props</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290">attended_transfer_stimulus</a>&#160;</td>
          <td class="paramname"><em>stimulus</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02106">2106</a> of file <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html">bridge_basic.c</a>.</p>

<p class="reference">References <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01334">attended_transfer_properties::atxferdropcall</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01857">bridge_unhold()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01736">play_failsound()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01692">publish_transfer_fail()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01330">attended_transfer_properties::state</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02000">attended_transfer_state_properties::state_name</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01254">STIMULUS_DTMF_ATXFER_ABORT</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01256">STIMULUS_DTMF_ATXFER_COMPLETE</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01260">STIMULUS_DTMF_ATXFER_SWAP</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01258">STIMULUS_DTMF_ATXFER_THREEWAY</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01238">STIMULUS_NONE</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01250">STIMULUS_RECALL_TARGET_ANSWER</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01248">STIMULUS_RECALL_TARGET_HANGUP</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01268">stimulus_strs</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01252">STIMULUS_TIMEOUT</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01246">STIMULUS_TRANSFER_TARGET_ANSWER</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01244">STIMULUS_TRANSFER_TARGET_HANGUP</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01240">STIMULUS_TRANSFEREE_HANGUP</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01242">STIMULUS_TRANSFERER_HANGUP</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01047">TRANSFER_BLOND</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01079">TRANSFER_BLOND_NONFINAL</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00957">TRANSFER_CONSULTING</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01230">TRANSFER_FAIL</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00842">TRANSFER_HESITANT</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00870">TRANSFER_REBRIDGE</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00929">TRANSFER_THREEWAY</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01309">attended_transfer_properties::transferee_bridge</a>, and <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01315">attended_transfer_properties::transferer</a>.</p>
<div class="fragment"><div class="line"><a name="l02108"></a><span class="lineno"> 2108</span>&#160;{</div><div class="line"><a name="l02109"></a><span class="lineno"> 2109</span>&#160;   <span class="keywordflow">switch</span> (stimulus) {</div><div class="line"><a name="l02110"></a><span class="lineno"> 2110</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a5bea635a52d3e646fe86091457310934">STIMULUS_TRANSFEREE_HANGUP</a>:</div><div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160;      <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a397a54e2f92522a19b0cd7775739e210">play_failsound</a>(props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a43cf79e5f3675b2cdf001bceacb02e72">transferer</a>);</div><div class="line"><a name="l02112"></a><span class="lineno"> 2112</span>&#160;      <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a7f74bf7c99819ae48e4f588bc6e6bc15">publish_transfer_fail</a>(props);</div><div class="line"><a name="l02113"></a><span class="lineno"> 2113</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8a8383b06b8e11a417dca5329407478ee8">TRANSFER_FAIL</a>;</div><div class="line"><a name="l02114"></a><span class="lineno"> 2114</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a9b6689669975b3d4767ca6284d721775">STIMULUS_DTMF_ATXFER_COMPLETE</a>:</div><div class="line"><a name="l02115"></a><span class="lineno"> 2115</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a800bb00b2e8ab7a8f11092b3bb2fba11">STIMULUS_TRANSFERER_HANGUP</a>:</div><div class="line"><a name="l02116"></a><span class="lineno"> 2116</span>&#160;      <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a7f816040356560389bfcdf5bdc218cb6">bridge_unhold</a>(props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a7c148ea37d33eb1640a17177c700be43">transferee_bridge</a>);</div><div class="line"><a name="l02117"></a><span class="lineno"> 2117</span>&#160;      <span class="keywordflow">return</span> props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a9b7e688c5535aec691e3e5c7f855e636">atxferdropcall</a> ? <a class="code" href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8ab73883ddf660b1efa01fb5aeeb6a002f">TRANSFER_BLOND</a> : <a class="code" href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8afd695d9c2410d09ac50f1e002da07609">TRANSFER_BLOND_NONFINAL</a>;</div><div class="line"><a name="l02118"></a><span class="lineno"> 2118</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a7615240e3b359bd98d9949ff77e102c2">STIMULUS_TRANSFER_TARGET_ANSWER</a>:</div><div class="line"><a name="l02119"></a><span class="lineno"> 2119</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8ad60a6371cbe63dbd06152746f6fcd320">TRANSFER_CONSULTING</a>;</div><div class="line"><a name="l02120"></a><span class="lineno"> 2120</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a5b7c4fdcec2b5bea9e9be459dc924492">STIMULUS_TRANSFER_TARGET_HANGUP</a>:</div><div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290ad811a249bfc0c9c585652f461b127180">STIMULUS_TIMEOUT</a>:</div><div class="line"><a name="l02122"></a><span class="lineno"> 2122</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a72d10e2721ad55addb0b84175f5280d0">STIMULUS_DTMF_ATXFER_ABORT</a>:</div><div class="line"><a name="l02123"></a><span class="lineno"> 2123</span>&#160;      <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a397a54e2f92522a19b0cd7775739e210">play_failsound</a>(props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a43cf79e5f3675b2cdf001bceacb02e72">transferer</a>);</div><div class="line"><a name="l02124"></a><span class="lineno"> 2124</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8a50814f10c33a876aa78ed3b96a2b1050">TRANSFER_REBRIDGE</a>;</div><div class="line"><a name="l02125"></a><span class="lineno"> 2125</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a6f6c487fc2723093806c52b62c7ae80a">STIMULUS_DTMF_ATXFER_THREEWAY</a>:</div><div class="line"><a name="l02126"></a><span class="lineno"> 2126</span>&#160;      <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a7f816040356560389bfcdf5bdc218cb6">bridge_unhold</a>(props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a7c148ea37d33eb1640a17177c700be43">transferee_bridge</a>);</div><div class="line"><a name="l02127"></a><span class="lineno"> 2127</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8ac7c5f29c9c62b140951b3035b1783ca2">TRANSFER_THREEWAY</a>;</div><div class="line"><a name="l02128"></a><span class="lineno"> 2128</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290ac4c70db40c8740dc43a331ab483f3c1c">STIMULUS_DTMF_ATXFER_SWAP</a>:</div><div class="line"><a name="l02129"></a><span class="lineno"> 2129</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8a8f04ac5b1a23d29e4faa78f8283eaf0e">TRANSFER_HESITANT</a>;</div><div class="line"><a name="l02130"></a><span class="lineno"> 2130</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290ae3857d51b5e8970ac1e3714bc1d46fe1">STIMULUS_NONE</a>:</div><div class="line"><a name="l02131"></a><span class="lineno"> 2131</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a49ac501f06885c9839a8833e0639d38f">STIMULUS_RECALL_TARGET_ANSWER</a>:</div><div class="line"><a name="l02132"></a><span class="lineno"> 2132</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a41d7bde458129adf0121c70ba361258a">STIMULUS_RECALL_TARGET_HANGUP</a>:</div><div class="line"><a name="l02133"></a><span class="lineno"> 2133</span>&#160;   <span class="keywordflow">default</span>:</div><div class="line"><a name="l02134"></a><span class="lineno"> 2134</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Unexpected stimulus &#39;%s&#39; received in attended transfer state &#39;%s&#39;\n&quot;</span>,</div><div class="line"><a name="l02135"></a><span class="lineno"> 2135</span>&#160;            <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a6c44b02ff21d30611e99f11620684e42">stimulus_strs</a>[stimulus], <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a53b49a058262e14d4371a6c30024ea7c">state_properties</a>[props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a3442cf1d72950ce9d62ea7006f6ce78c">state</a>].<a class="code" href="../../da/dab/structattended__transfer__state__properties.html#ab00617be22fdc8c996d36e4082f2410a">state_name</a>);</div><div class="line"><a name="l02136"></a><span class="lineno"> 2136</span>&#160;      <span class="keywordflow">return</span> props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a3442cf1d72950ce9d62ea7006f6ce78c">state</a>;</div><div class="line"><a name="l02137"></a><span class="lineno"> 2137</span>&#160;   }</div><div class="line"><a name="l02138"></a><span class="lineno"> 2138</span>&#160;}</div><div class="ttc" id="bridge__basic_8c_html_a397a54e2f92522a19b0cd7775739e210"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a397a54e2f92522a19b0cd7775739e210">play_failsound</a></div><div class="ttdeci">static void play_failsound(struct ast_channel *chan)</div><div class="ttdoc">Helper method to play a fail sound on a channel in a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01736">bridge_basic.c:1736</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_aad3447b0c2c1b069ac9437816db513d8a50814f10c33a876aa78ed3b96a2b1050"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8a50814f10c33a876aa78ed3b96a2b1050">TRANSFER_REBRIDGE</a></div><div class="ttdoc">Rebridge state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00870">bridge_basic.c:870</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a53b49a058262e14d4371a6c30024ea7c"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a53b49a058262e14d4371a6c30024ea7c">state_properties</a></div><div class="ttdeci">static const struct attended_transfer_state_properties state_properties[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l02015">bridge_basic.c:2015</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290a49ac501f06885c9839a8833e0639d38f"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a49ac501f06885c9839a8833e0639d38f">STIMULUS_RECALL_TARGET_ANSWER</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01250">bridge_basic.c:1250</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="structattended__transfer__properties_html_a7c148ea37d33eb1640a17177c700be43"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html#a7c148ea37d33eb1640a17177c700be43">attended_transfer_properties::transferee_bridge</a></div><div class="ttdeci">struct ast_bridge * transferee_bridge</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01309">bridge_basic.c:1309</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290a41d7bde458129adf0121c70ba361258a"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a41d7bde458129adf0121c70ba361258a">STIMULUS_RECALL_TARGET_HANGUP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01248">bridge_basic.c:1248</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_aad3447b0c2c1b069ac9437816db513d8a8383b06b8e11a417dca5329407478ee8"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8a8383b06b8e11a417dca5329407478ee8">TRANSFER_FAIL</a></div><div class="ttdoc">Fail state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01230">bridge_basic.c:1230</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290a9b6689669975b3d4767ca6284d721775"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a9b6689669975b3d4767ca6284d721775">STIMULUS_DTMF_ATXFER_COMPLETE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01256">bridge_basic.c:1256</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a6c44b02ff21d30611e99f11620684e42"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a6c44b02ff21d30611e99f11620684e42">stimulus_strs</a></div><div class="ttdeci">const char * stimulus_strs[]</div><div class="ttdoc">String representations of the various stimuli. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01268">bridge_basic.c:1268</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_aad3447b0c2c1b069ac9437816db513d8ad60a6371cbe63dbd06152746f6fcd320"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8ad60a6371cbe63dbd06152746f6fcd320">TRANSFER_CONSULTING</a></div><div class="ttdoc">Consulting state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00957">bridge_basic.c:957</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290a5bea635a52d3e646fe86091457310934"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a5bea635a52d3e646fe86091457310934">STIMULUS_TRANSFEREE_HANGUP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01240">bridge_basic.c:1240</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290a800bb00b2e8ab7a8f11092b3bb2fba11"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a800bb00b2e8ab7a8f11092b3bb2fba11">STIMULUS_TRANSFERER_HANGUP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01242">bridge_basic.c:1242</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="structattended__transfer__properties_html_a3442cf1d72950ce9d62ea7006f6ce78c"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html#a3442cf1d72950ce9d62ea7006f6ce78c">attended_transfer_properties::state</a></div><div class="ttdeci">enum attended_transfer_state state</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01330">bridge_basic.c:1330</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290a72d10e2721ad55addb0b84175f5280d0"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a72d10e2721ad55addb0b84175f5280d0">STIMULUS_DTMF_ATXFER_ABORT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01254">bridge_basic.c:1254</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_aad3447b0c2c1b069ac9437816db513d8afd695d9c2410d09ac50f1e002da07609"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8afd695d9c2410d09ac50f1e002da07609">TRANSFER_BLOND_NONFINAL</a></div><div class="ttdoc">Blond non-final state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01079">bridge_basic.c:1079</a></div></div>
<div class="ttc" id="structattended__transfer__properties_html_a9b7e688c5535aec691e3e5c7f855e636"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html#a9b7e688c5535aec691e3e5c7f855e636">attended_transfer_properties::atxferdropcall</a></div><div class="ttdeci">int atxferdropcall</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01334">bridge_basic.c:1334</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290a5b7c4fdcec2b5bea9e9be459dc924492"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a5b7c4fdcec2b5bea9e9be459dc924492">STIMULUS_TRANSFER_TARGET_HANGUP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01244">bridge_basic.c:1244</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290ae3857d51b5e8970ac1e3714bc1d46fe1"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290ae3857d51b5e8970ac1e3714bc1d46fe1">STIMULUS_NONE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01238">bridge_basic.c:1238</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a7f74bf7c99819ae48e4f588bc6e6bc15"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a7f74bf7c99819ae48e4f588bc6e6bc15">publish_transfer_fail</a></div><div class="ttdeci">static void publish_transfer_fail(struct attended_transfer_properties *props)</div><div class="ttdoc">Send a stasis publication for a failed attended transfer. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01692">bridge_basic.c:1692</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290a6f6c487fc2723093806c52b62c7ae80a"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a6f6c487fc2723093806c52b62c7ae80a">STIMULUS_DTMF_ATXFER_THREEWAY</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01258">bridge_basic.c:1258</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_aad3447b0c2c1b069ac9437816db513d8a8f04ac5b1a23d29e4faa78f8283eaf0e"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8a8f04ac5b1a23d29e4faa78f8283eaf0e">TRANSFER_HESITANT</a></div><div class="ttdoc">Hesitant state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00842">bridge_basic.c:842</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_aad3447b0c2c1b069ac9437816db513d8ab73883ddf660b1efa01fb5aeeb6a002f"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8ab73883ddf660b1efa01fb5aeeb6a002f">TRANSFER_BLOND</a></div><div class="ttdoc">Blond state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01047">bridge_basic.c:1047</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290ad811a249bfc0c9c585652f461b127180"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290ad811a249bfc0c9c585652f461b127180">STIMULUS_TIMEOUT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01252">bridge_basic.c:1252</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290a7615240e3b359bd98d9949ff77e102c2"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a7615240e3b359bd98d9949ff77e102c2">STIMULUS_TRANSFER_TARGET_ANSWER</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01246">bridge_basic.c:1246</a></div></div>
<div class="ttc" id="structattended__transfer__state__properties_html_ab00617be22fdc8c996d36e4082f2410a"><div class="ttname"><a href="../../da/dab/structattended__transfer__state__properties.html#ab00617be22fdc8c996d36e4082f2410a">attended_transfer_state_properties::state_name</a></div><div class="ttdeci">const char * state_name</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l02000">bridge_basic.c:2000</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a7f816040356560389bfcdf5bdc218cb6"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a7f816040356560389bfcdf5bdc218cb6">bridge_unhold</a></div><div class="ttdeci">static void bridge_unhold(struct ast_bridge *bridge)</div><div class="ttdoc">Helper method to send an unhold frame to all channels in a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01857">bridge_basic.c:1857</a></div></div>
<div class="ttc" id="structattended__transfer__properties_html_a43cf79e5f3675b2cdf001bceacb02e72"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html#a43cf79e5f3675b2cdf001bceacb02e72">attended_transfer_properties::transferer</a></div><div class="ttdeci">struct ast_channel * transferer</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01315">bridge_basic.c:1315</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290ac4c70db40c8740dc43a331ab483f3c1c"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290ac4c70db40c8740dc43a331ab483f3c1c">STIMULUS_DTMF_ATXFER_SWAP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01260">bridge_basic.c:1260</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_aad3447b0c2c1b069ac9437816db513d8ac7c5f29c9c62b140951b3035b1783ca2"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8ac7c5f29c9c62b140951b3035b1783ca2">TRANSFER_THREEWAY</a></div><div class="ttdoc">Threeway state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00929">bridge_basic.c:929</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="afe0121f7cc2091d454dd3f48a2af4588"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe0121f7cc2091d454dd3f48a2af4588">&#9670;&nbsp;</a></span>clear_stimulus_queue()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void clear_stimulus_queue </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dd/d9e/structattended__transfer__properties.html">attended_transfer_properties</a> *&#160;</td>
          <td class="paramname"><em>props</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Free backlog of stimuli in the queue. </p>

<p class="definition">Definition at line <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01492">1492</a> of file <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html">bridge_basic.c</a>.</p>

<p class="reference">References <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00832">AST_LIST_REMOVE_HEAD</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l01091">lock</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01285">stimulus_list::next</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00602">SCOPED_AO2LOCK</a>, and <a class="el" href="../../dd/d9e/structattended__transfer__properties.html#aeebf9c950dc8f5b06d18da553326d0c9">attended_transfer_properties::stimulus_queue</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01508">attended_transfer_properties_shutdown()</a>.</p>
<div class="fragment"><div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;{</div><div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d7c/structstimulus__list.html">stimulus_list</a> *list;</div><div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a2cfb325ed371eb6e629446bac4676e9f">SCOPED_AO2LOCK</a>(<a class="code" href="../../df/d44/app__meetme_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>, props);</div><div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;</div><div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;   <span class="keywordflow">while</span> ((list = <a class="code" href="../../df/d90/linkedlists_8h.html#aadfe2a69fbba4f27c201266a2ca5f989">AST_LIST_REMOVE_HEAD</a>(&amp;props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#aeebf9c950dc8f5b06d18da553326d0c9">stimulus_queue</a>, <a class="code" href="../../d0/d7c/structstimulus__list.html#ae96e83508764c11bfe48a05e2e679af6">next</a>))) {</div><div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(list);</div><div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;   }</div><div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;}</div><div class="ttc" id="structattended__transfer__properties_html_aeebf9c950dc8f5b06d18da553326d0c9"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html#aeebf9c950dc8f5b06d18da553326d0c9">attended_transfer_properties::stimulus_queue</a></div><div class="ttdeci">struct attended_transfer_properties::@353 stimulus_queue</div></div>
<div class="ttc" id="structstimulus__list_html_ae96e83508764c11bfe48a05e2e679af6"><div class="ttname"><a href="../../d0/d7c/structstimulus__list.html#ae96e83508764c11bfe48a05e2e679af6">stimulus_list::next</a></div><div class="ttdeci">struct stimulus_list * next</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01285">bridge_basic.c:1285</a></div></div>
<div class="ttc" id="app__meetme_8c_html_adf04f66344e3fb0a6f6a69bf39d19902"><div class="ttname"><a href="../../df/d44/app__meetme_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a></div><div class="ttdeci">ast_mutex_t lock</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d44/app__meetme_8c_source.html#l01091">app_meetme.c:1091</a></div></div>
<div class="ttc" id="linkedlists_8h_html_aadfe2a69fbba4f27c201266a2ca5f989"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#aadfe2a69fbba4f27c201266a2ca5f989">AST_LIST_REMOVE_HEAD</a></div><div class="ttdeci">#define AST_LIST_REMOVE_HEAD(head, field)</div><div class="ttdoc">Removes and returns the head entry from a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00832">linkedlists.h:832</a></div></div>
<div class="ttc" id="lock_8h_html_a2cfb325ed371eb6e629446bac4676e9f"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a2cfb325ed371eb6e629446bac4676e9f">SCOPED_AO2LOCK</a></div><div class="ttdeci">#define SCOPED_AO2LOCK(varname, obj)</div><div class="ttdoc">scoped lock specialization for ao2 mutexes. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00602">lock.h:602</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="structstimulus__list_html"><div class="ttname"><a href="../../d0/d7c/structstimulus__list.html">stimulus_list</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01283">bridge_basic.c:1283</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad283c0c18011fa7f3d8d8a02f83a1183"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad283c0c18011fa7f3d8d8a02f83a1183">&#9670;&nbsp;</a></span>common_recall_channel_setup()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void common_recall_channel_setup </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>recall</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>transferer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02433">2433</a> of file <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html">bridge_basic.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00797">ast_channel_callid_set()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l02373">ast_channel_datastore_inherit()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l06866">ast_channel_inherit_variables()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l06526">ast_channel_req_accountcodes()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l01481">AST_CHANNEL_REQUESTOR_REPLACEMENT</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01038">ast_channel_stage_snapshot()</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01043">ast_channel_stage_snapshot_done()</a>, and <a class="el" href="../../d1/d22/logger_8c_source.html#l01962">ast_read_threadstorage_callid()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02455">recalling_enter()</a>, and <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02603">retransfer_enter()</a>.</p>
<div class="fragment"><div class="line"><a name="l02434"></a><span class="lineno"> 2434</span>&#160;{</div><div class="line"><a name="l02435"></a><span class="lineno"> 2435</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a6db44a7e26f0bc42801fc7225817c6a1">ast_callid</a> callid;</div><div class="line"><a name="l02436"></a><span class="lineno"> 2436</span>&#160;</div><div class="line"><a name="l02437"></a><span class="lineno"> 2437</span>&#160;   callid = <a class="code" href="../../d1/d8c/logger_8h.html#a5b3f39ea262ffa795ce4b597968ad00b">ast_read_threadstorage_callid</a>();</div><div class="line"><a name="l02438"></a><span class="lineno"> 2438</span>&#160;   <span class="keywordflow">if</span> (callid) {</div><div class="line"><a name="l02439"></a><span class="lineno"> 2439</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#ae3d06c28b4dc8cb2830aa16c8913e6d9">ast_channel_callid_set</a>(recall, callid);</div><div class="line"><a name="l02440"></a><span class="lineno"> 2440</span>&#160;   }</div><div class="line"><a name="l02441"></a><span class="lineno"> 2441</span>&#160;</div><div class="line"><a name="l02442"></a><span class="lineno"> 2442</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a892b6550a4f90b70ad92198c9d05cedc">ast_channel_inherit_variables</a>(transferer, recall);</div><div class="line"><a name="l02443"></a><span class="lineno"> 2443</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a6ce892974f59537bda03a71319b452e2">ast_channel_datastore_inherit</a>(transferer, recall);</div><div class="line"><a name="l02444"></a><span class="lineno"> 2444</span>&#160;</div><div class="line"><a name="l02445"></a><span class="lineno"> 2445</span>&#160;   <span class="comment">/*</span></div><div class="line"><a name="l02446"></a><span class="lineno"> 2446</span>&#160;<span class="comment">    * Stage a snapshot to ensure that a snapshot is always done</span></div><div class="line"><a name="l02447"></a><span class="lineno"> 2447</span>&#160;<span class="comment">    * on the recall channel so earler COLP and CLID setup will</span></div><div class="line"><a name="l02448"></a><span class="lineno"> 2448</span>&#160;<span class="comment">    * get published.</span></div><div class="line"><a name="l02449"></a><span class="lineno"> 2449</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l02450"></a><span class="lineno"> 2450</span>&#160;   <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#gaf195fcf1686408b5e52ad76996653cea">ast_channel_stage_snapshot</a>(recall);</div><div class="line"><a name="l02451"></a><span class="lineno"> 2451</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a6f3f42365ac84d888b55e35e1309f067">ast_channel_req_accountcodes</a>(recall, transferer, <a class="code" href="../../d5/d7b/channel_8h.html#a31a465197a7766c3d0bb9f65f0a4418fac3861dd1a26771778606b7aacdfb4048">AST_CHANNEL_REQUESTOR_REPLACEMENT</a>);</div><div class="line"><a name="l02452"></a><span class="lineno"> 2452</span>&#160;   <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#ga920b9d3e484257c7e593452a8e36d8d4">ast_channel_stage_snapshot_done</a>(recall);</div><div class="line"><a name="l02453"></a><span class="lineno"> 2453</span>&#160;}</div><div class="ttc" id="logger_8h_html_a6db44a7e26f0bc42801fc7225817c6a1"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a6db44a7e26f0bc42801fc7225817c6a1">ast_callid</a></div><div class="ttdeci">unsigned int ast_callid</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00087">logger.h:87</a></div></div>
<div class="ttc" id="logger_8h_html_a5b3f39ea262ffa795ce4b597968ad00b"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a5b3f39ea262ffa795ce4b597968ad00b">ast_read_threadstorage_callid</a></div><div class="ttdeci">ast_callid ast_read_threadstorage_callid(void)</div><div class="ttdoc">extracts the callerid from the thread </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/logger_8c_source.html#l01962">logger.c:1962</a></div></div>
<div class="ttc" id="channel_8h_html_a6ce892974f59537bda03a71319b452e2"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a6ce892974f59537bda03a71319b452e2">ast_channel_datastore_inherit</a></div><div class="ttdeci">int ast_channel_datastore_inherit(struct ast_channel *from, struct ast_channel *to)</div><div class="ttdoc">Inherit datastores from a parent to a child. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l02373">channel.c:2373</a></div></div>
<div class="ttc" id="group__StasisTopicsAndMessages_html_ga920b9d3e484257c7e593452a8e36d8d4"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#ga920b9d3e484257c7e593452a8e36d8d4">ast_channel_stage_snapshot_done</a></div><div class="ttdeci">void ast_channel_stage_snapshot_done(struct ast_channel *chan)</div><div class="ttdoc">Clear flag to indicate channel snapshot is being staged, and publish snapshot. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d2b/stasis__channels_8c_source.html#l01043">stasis_channels.c:1043</a></div></div>
<div class="ttc" id="channel_8h_html_a6f3f42365ac84d888b55e35e1309f067"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a6f3f42365ac84d888b55e35e1309f067">ast_channel_req_accountcodes</a></div><div class="ttdeci">void ast_channel_req_accountcodes(struct ast_channel *chan, const struct ast_channel *requestor, enum ast_channel_requestor_relationship relationship)</div><div class="ttdoc">Setup new channel accountcodes from the requestor channel after ast_request(). </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l06526">channel.c:6526</a></div></div>
<div class="ttc" id="group__StasisTopicsAndMessages_html_gaf195fcf1686408b5e52ad76996653cea"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#gaf195fcf1686408b5e52ad76996653cea">ast_channel_stage_snapshot</a></div><div class="ttdeci">void ast_channel_stage_snapshot(struct ast_channel *chan)</div><div class="ttdoc">Set flag to indicate channel snapshot is being staged. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d2b/stasis__channels_8c_source.html#l01038">stasis_channels.c:1038</a></div></div>
<div class="ttc" id="channel_8h_html_a892b6550a4f90b70ad92198c9d05cedc"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a892b6550a4f90b70ad92198c9d05cedc">ast_channel_inherit_variables</a></div><div class="ttdeci">void ast_channel_inherit_variables(const struct ast_channel *parent, struct ast_channel *child)</div><div class="ttdoc">Inherits channel variable from parent to child channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l06866">channel.c:6866</a></div></div>
<div class="ttc" id="channel_8h_html_ae3d06c28b4dc8cb2830aa16c8913e6d9"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#ae3d06c28b4dc8cb2830aa16c8913e6d9">ast_channel_callid_set</a></div><div class="ttdeci">void ast_channel_callid_set(struct ast_channel *chan, ast_callid value)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00797">channel_internal_api.c:797</a></div></div>
<div class="ttc" id="channel_8h_html_a31a465197a7766c3d0bb9f65f0a4418fac3861dd1a26771778606b7aacdfb4048"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a31a465197a7766c3d0bb9f65f0a4418fac3861dd1a26771778606b7aacdfb4048">AST_CHANNEL_REQUESTOR_REPLACEMENT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01481">channel.h:1481</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a98d35eb51a8c49d99c6412657a2c44d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a98d35eb51a8c49d99c6412657a2c44d6">&#9670;&nbsp;</a></span>complete_enter()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int complete_enter </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dd/d9e/structattended__transfer__properties.html">attended_transfer_properties</a> *&#160;</td>
          <td class="paramname"><em>props</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02306">2306</a> of file <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html">bridge_basic.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d7b/channel_8h_source.html#l02992">ast_channel_cleanup</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01897">bridge_merge()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01618">get_transfer_parties()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01717">play_sound()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01645">publish_transfer_success()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01313">attended_transfer_properties::target_bridge</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01317">attended_transfer_properties::transfer_target</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01309">attended_transfer_properties::transferee_bridge</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01315">attended_transfer_properties::transferer</a>, and <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01303">attended_transfer_properties::xfersound</a>.</p>
<div class="fragment"><div class="line"><a name="l02307"></a><span class="lineno"> 2307</span>&#160;{</div><div class="line"><a name="l02308"></a><span class="lineno"> 2308</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *transferee_channel;</div><div class="line"><a name="l02309"></a><span class="lineno"> 2309</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *target_channel;</div><div class="line"><a name="l02310"></a><span class="lineno"> 2310</span>&#160;</div><div class="line"><a name="l02311"></a><span class="lineno"> 2311</span>&#160;   <a class="code" href="../../d7/d9b/bridge__basic_8c.html#aeadd7c4bd948297093b832e8f9d0f48c">get_transfer_parties</a>(props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a43cf79e5f3675b2cdf001bceacb02e72">transferer</a>, props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a7c148ea37d33eb1640a17177c700be43">transferee_bridge</a>, props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#ab45c59137417246eaa392b3d8319fbc3">target_bridge</a>,</div><div class="line"><a name="l02312"></a><span class="lineno"> 2312</span>&#160;         &amp;transferee_channel, &amp;target_channel);</div><div class="line"><a name="l02313"></a><span class="lineno"> 2313</span>&#160;   <a class="code" href="../../d7/d9b/bridge__basic_8c.html#af86a26e82b3a594e937e8d4739822492">bridge_merge</a>(props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a7c148ea37d33eb1640a17177c700be43">transferee_bridge</a>, props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#ab45c59137417246eaa392b3d8319fbc3">target_bridge</a>, &amp;props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a43cf79e5f3675b2cdf001bceacb02e72">transferer</a>, 1);</div><div class="line"><a name="l02314"></a><span class="lineno"> 2314</span>&#160;   <a class="code" href="../../d7/d9b/bridge__basic_8c.html#ae8bd14a986527f92e849a79a8af550ed">play_sound</a>(props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#af359fe2738df581812a3c9f7d3e32f10">transfer_target</a>, props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#aa79f71a801e58cd6889780e185e9a5d3">xfersound</a>);</div><div class="line"><a name="l02315"></a><span class="lineno"> 2315</span>&#160;   <a class="code" href="../../d7/d9b/bridge__basic_8c.html#af6fb45b453a78c3c58a3ff3a880339cb">publish_transfer_success</a>(props, transferee_channel, target_channel);</div><div class="line"><a name="l02316"></a><span class="lineno"> 2316</span>&#160;</div><div class="line"><a name="l02317"></a><span class="lineno"> 2317</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#ae93ebb3372a2d9495ae3c5417dd95cd5">ast_channel_cleanup</a>(transferee_channel);</div><div class="line"><a name="l02318"></a><span class="lineno"> 2318</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#ae93ebb3372a2d9495ae3c5417dd95cd5">ast_channel_cleanup</a>(target_channel);</div><div class="line"><a name="l02319"></a><span class="lineno"> 2319</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02320"></a><span class="lineno"> 2320</span>&#160;}</div><div class="ttc" id="structast__channel_html"><div class="ttname"><a href="../../df/d3c/structast__channel.html">ast_channel</a></div><div class="ttdoc">Main Channel structure associated with a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00073">channel_internal_api.c:73</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_af6fb45b453a78c3c58a3ff3a880339cb"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#af6fb45b453a78c3c58a3ff3a880339cb">publish_transfer_success</a></div><div class="ttdeci">static void publish_transfer_success(struct attended_transfer_properties *props, struct ast_channel *transferee_channel, struct ast_channel *target_channel)</div><div class="ttdoc">Send a stasis publication for a successful attended transfer. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01645">bridge_basic.c:1645</a></div></div>
<div class="ttc" id="structattended__transfer__properties_html_aa79f71a801e58cd6889780e185e9a5d3"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html#aa79f71a801e58cd6889780e185e9a5d3">attended_transfer_properties::xfersound</a></div><div class="ttdeci">const ast_string_field xfersound</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01303">bridge_basic.c:1303</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_af86a26e82b3a594e937e8d4739822492"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#af86a26e82b3a594e937e8d4739822492">bridge_merge</a></div><div class="ttdeci">static void bridge_merge(struct ast_bridge *dest, struct ast_bridge *src, struct ast_channel **kick_channels, unsigned int num_channels)</div><div class="ttdoc">Wrapper for bridge_do_merge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01897">bridge_basic.c:1897</a></div></div>
<div class="ttc" id="structattended__transfer__properties_html_a7c148ea37d33eb1640a17177c700be43"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html#a7c148ea37d33eb1640a17177c700be43">attended_transfer_properties::transferee_bridge</a></div><div class="ttdeci">struct ast_bridge * transferee_bridge</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01309">bridge_basic.c:1309</a></div></div>
<div class="ttc" id="structattended__transfer__properties_html_af359fe2738df581812a3c9f7d3e32f10"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html#af359fe2738df581812a3c9f7d3e32f10">attended_transfer_properties::transfer_target</a></div><div class="ttdeci">struct ast_channel * transfer_target</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01317">bridge_basic.c:1317</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_ae8bd14a986527f92e849a79a8af550ed"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#ae8bd14a986527f92e849a79a8af550ed">play_sound</a></div><div class="ttdeci">static void play_sound(struct ast_channel *chan, const char *sound)</div><div class="ttdoc">Helper method to play a sound on a channel in a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01717">bridge_basic.c:1717</a></div></div>
<div class="ttc" id="channel_8h_html_ae93ebb3372a2d9495ae3c5417dd95cd5"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#ae93ebb3372a2d9495ae3c5417dd95cd5">ast_channel_cleanup</a></div><div class="ttdeci">#define ast_channel_cleanup(c)</div><div class="ttdoc">Cleanup a channel reference. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02992">channel.h:2992</a></div></div>
<div class="ttc" id="structattended__transfer__properties_html_ab45c59137417246eaa392b3d8319fbc3"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html#ab45c59137417246eaa392b3d8319fbc3">attended_transfer_properties::target_bridge</a></div><div class="ttdeci">struct ast_bridge * target_bridge</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01313">bridge_basic.c:1313</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_aeadd7c4bd948297093b832e8f9d0f48c"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#aeadd7c4bd948297093b832e8f9d0f48c">get_transfer_parties</a></div><div class="ttdeci">static void get_transfer_parties(struct ast_channel *transferer, struct ast_bridge *transferee_bridge, struct ast_bridge *target_bridge, struct ast_channel **transferee, struct ast_channel **transfer_target)</div><div class="ttdoc">determine transferee and transfer target for an attended transfer </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01618">bridge_basic.c:1618</a></div></div>
<div class="ttc" id="structattended__transfer__properties_html_a43cf79e5f3675b2cdf001bceacb02e72"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html#a43cf79e5f3675b2cdf001bceacb02e72">attended_transfer_properties::transferer</a></div><div class="ttdeci">struct ast_channel * transferer</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01315">bridge_basic.c:1315</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad0eb4ac26aba0d6ebd07a4bf0b0a6933"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad0eb4ac26aba0d6ebd07a4bf0b0a6933">&#9670;&nbsp;</a></span>consulting_enter()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int consulting_enter </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dd/d9e/structattended__transfer__properties.html">attended_transfer_properties</a> *&#160;</td>
          <td class="paramname"><em>props</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02209">2209</a> of file <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html">bridge_basic.c</a>.</p>
<div class="fragment"><div class="line"><a name="l02210"></a><span class="lineno"> 2210</span>&#160;{</div><div class="line"><a name="l02211"></a><span class="lineno"> 2211</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02212"></a><span class="lineno"> 2212</span>&#160;}</div></div><!-- fragment -->
</div>
</div>
<a id="ae24d0ee51b00ed173ecc77b981413ed3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae24d0ee51b00ed173ecc77b981413ed3">&#9670;&nbsp;</a></span>consulting_exit()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static enum <a class="el" href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8">attended_transfer_state</a> consulting_exit </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dd/d9e/structattended__transfer__properties.html">attended_transfer_properties</a> *&#160;</td>
          <td class="paramname"><em>props</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290">attended_transfer_stimulus</a>&#160;</td>
          <td class="paramname"><em>stimulus</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02214">2214</a> of file <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html">bridge_basic.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l03061">ast_bridge_merge_inhibit()</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l03530">bridge_basic_change_personality()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00060">BRIDGE_BASIC_PERSONALITY_NORMAL</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01870">bridge_move()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01857">bridge_unhold()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01772">hold()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01736">play_failsound()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01330">attended_transfer_properties::state</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02000">attended_transfer_state_properties::state_name</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01254">STIMULUS_DTMF_ATXFER_ABORT</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01256">STIMULUS_DTMF_ATXFER_COMPLETE</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01260">STIMULUS_DTMF_ATXFER_SWAP</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01258">STIMULUS_DTMF_ATXFER_THREEWAY</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01238">STIMULUS_NONE</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01250">STIMULUS_RECALL_TARGET_ANSWER</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01248">STIMULUS_RECALL_TARGET_HANGUP</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01268">stimulus_strs</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01252">STIMULUS_TIMEOUT</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01246">STIMULUS_TRANSFER_TARGET_ANSWER</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01244">STIMULUS_TRANSFER_TARGET_HANGUP</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01240">STIMULUS_TRANSFEREE_HANGUP</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01242">STIMULUS_TRANSFERER_HANGUP</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01313">attended_transfer_properties::target_bridge</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01018">TRANSFER_COMPLETE</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00987">TRANSFER_DOUBLECHECKING</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01230">TRANSFER_FAIL</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00870">TRANSFER_REBRIDGE</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00929">TRANSFER_THREEWAY</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01309">attended_transfer_properties::transferee_bridge</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01315">attended_transfer_properties::transferer</a>, and <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01793">unhold()</a>.</p>
<div class="fragment"><div class="line"><a name="l02216"></a><span class="lineno"> 2216</span>&#160;{</div><div class="line"><a name="l02217"></a><span class="lineno"> 2217</span>&#160;   <span class="keywordflow">switch</span> (stimulus) {</div><div class="line"><a name="l02218"></a><span class="lineno"> 2218</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a5bea635a52d3e646fe86091457310934">STIMULUS_TRANSFEREE_HANGUP</a>:</div><div class="line"><a name="l02219"></a><span class="lineno"> 2219</span>&#160;      <span class="comment">/* This is a one-of-a-kind event. The transferer and transfer target are talking in</span></div><div class="line"><a name="l02220"></a><span class="lineno"> 2220</span>&#160;<span class="comment">       * one bridge, and the transferee has hung up in a separate bridge. In this case, we</span></div><div class="line"><a name="l02221"></a><span class="lineno"> 2221</span>&#160;<span class="comment">       * will change the personality of the transfer target bridge back to normal, and play</span></div><div class="line"><a name="l02222"></a><span class="lineno"> 2222</span>&#160;<span class="comment">       * a sound to the transferer to indicate the transferee is gone.</span></div><div class="line"><a name="l02223"></a><span class="lineno"> 2223</span>&#160;<span class="comment">       */</span></div><div class="line"><a name="l02224"></a><span class="lineno"> 2224</span>&#160;      <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a3467eb2c1bece0b38cd4e45ea024bc5d">bridge_basic_change_personality</a>(props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#ab45c59137417246eaa392b3d8319fbc3">target_bridge</a>, <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a704d0cced1ceae046ad985c904dc4c6ca843f6ac2918dbe2aeb6f7dd1155a90e2">BRIDGE_BASIC_PERSONALITY_NORMAL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l02225"></a><span class="lineno"> 2225</span>&#160;      <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a397a54e2f92522a19b0cd7775739e210">play_failsound</a>(props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a43cf79e5f3675b2cdf001bceacb02e72">transferer</a>);</div><div class="line"><a name="l02226"></a><span class="lineno"> 2226</span>&#160;      <a class="code" href="../../d4/d56/bridge_8h.html#a6bae9b013c815c40d0414080455e3592">ast_bridge_merge_inhibit</a>(props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#ab45c59137417246eaa392b3d8319fbc3">target_bridge</a>, -1);</div><div class="line"><a name="l02227"></a><span class="lineno"> 2227</span>&#160;      <span class="comment">/* These next two lines are here to ensure that our reference to the target bridge</span></div><div class="line"><a name="l02228"></a><span class="lineno"> 2228</span>&#160;<span class="comment">       * is cleaned up properly and that the target bridge is not destroyed when the</span></div><div class="line"><a name="l02229"></a><span class="lineno"> 2229</span>&#160;<span class="comment">       * monitor thread exits</span></div><div class="line"><a name="l02230"></a><span class="lineno"> 2230</span>&#160;<span class="comment">       */</span></div><div class="line"><a name="l02231"></a><span class="lineno"> 2231</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#ab45c59137417246eaa392b3d8319fbc3">target_bridge</a>, -1);</div><div class="line"><a name="l02232"></a><span class="lineno"> 2232</span>&#160;      props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#ab45c59137417246eaa392b3d8319fbc3">target_bridge</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l02233"></a><span class="lineno"> 2233</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8a8383b06b8e11a417dca5329407478ee8">TRANSFER_FAIL</a>;</div><div class="line"><a name="l02234"></a><span class="lineno"> 2234</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a800bb00b2e8ab7a8f11092b3bb2fba11">STIMULUS_TRANSFERER_HANGUP</a>:</div><div class="line"><a name="l02235"></a><span class="lineno"> 2235</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a9b6689669975b3d4767ca6284d721775">STIMULUS_DTMF_ATXFER_COMPLETE</a>:</div><div class="line"><a name="l02236"></a><span class="lineno"> 2236</span>&#160;      <span class="comment">/* We know the transferer is in the target_bridge, so take the other bridge off hold */</span></div><div class="line"><a name="l02237"></a><span class="lineno"> 2237</span>&#160;      <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a7f816040356560389bfcdf5bdc218cb6">bridge_unhold</a>(props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a7c148ea37d33eb1640a17177c700be43">transferee_bridge</a>);</div><div class="line"><a name="l02238"></a><span class="lineno"> 2238</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8a46301fa6c06741434f7f8bbd53a5ec26">TRANSFER_COMPLETE</a>;</div><div class="line"><a name="l02239"></a><span class="lineno"> 2239</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a5b7c4fdcec2b5bea9e9be459dc924492">STIMULUS_TRANSFER_TARGET_HANGUP</a>:</div><div class="line"><a name="l02240"></a><span class="lineno"> 2240</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8a50814f10c33a876aa78ed3b96a2b1050">TRANSFER_REBRIDGE</a>;</div><div class="line"><a name="l02241"></a><span class="lineno"> 2241</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a72d10e2721ad55addb0b84175f5280d0">STIMULUS_DTMF_ATXFER_ABORT</a>:</div><div class="line"><a name="l02242"></a><span class="lineno"> 2242</span>&#160;      <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a397a54e2f92522a19b0cd7775739e210">play_failsound</a>(props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a43cf79e5f3675b2cdf001bceacb02e72">transferer</a>);</div><div class="line"><a name="l02243"></a><span class="lineno"> 2243</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8a50814f10c33a876aa78ed3b96a2b1050">TRANSFER_REBRIDGE</a>;</div><div class="line"><a name="l02244"></a><span class="lineno"> 2244</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a6f6c487fc2723093806c52b62c7ae80a">STIMULUS_DTMF_ATXFER_THREEWAY</a>:</div><div class="line"><a name="l02245"></a><span class="lineno"> 2245</span>&#160;      <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a7f816040356560389bfcdf5bdc218cb6">bridge_unhold</a>(props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a7c148ea37d33eb1640a17177c700be43">transferee_bridge</a>);</div><div class="line"><a name="l02246"></a><span class="lineno"> 2246</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8ac7c5f29c9c62b140951b3035b1783ca2">TRANSFER_THREEWAY</a>;</div><div class="line"><a name="l02247"></a><span class="lineno"> 2247</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290ac4c70db40c8740dc43a331ab483f3c1c">STIMULUS_DTMF_ATXFER_SWAP</a>:</div><div class="line"><a name="l02248"></a><span class="lineno"> 2248</span>&#160;      <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a865b164f5f26f2bace1df76cf9cdf82e">hold</a>(props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a43cf79e5f3675b2cdf001bceacb02e72">transferer</a>);</div><div class="line"><a name="l02249"></a><span class="lineno"> 2249</span>&#160;      <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a3fc1a10ab2ba929490e84c1960ada943">bridge_move</a>(props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a7c148ea37d33eb1640a17177c700be43">transferee_bridge</a>, props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#ab45c59137417246eaa392b3d8319fbc3">target_bridge</a>, props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a43cf79e5f3675b2cdf001bceacb02e72">transferer</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l02250"></a><span class="lineno"> 2250</span>&#160;      <a class="code" href="../../d7/d9b/bridge__basic_8c.html#ac08eea8a379a04d85eb9c21dc252e28d">unhold</a>(props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a43cf79e5f3675b2cdf001bceacb02e72">transferer</a>);</div><div class="line"><a name="l02251"></a><span class="lineno"> 2251</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8a327912f4d0734a2ea7b440531f0c5693">TRANSFER_DOUBLECHECKING</a>;</div><div class="line"><a name="l02252"></a><span class="lineno"> 2252</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290ae3857d51b5e8970ac1e3714bc1d46fe1">STIMULUS_NONE</a>:</div><div class="line"><a name="l02253"></a><span class="lineno"> 2253</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290ad811a249bfc0c9c585652f461b127180">STIMULUS_TIMEOUT</a>:</div><div class="line"><a name="l02254"></a><span class="lineno"> 2254</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a7615240e3b359bd98d9949ff77e102c2">STIMULUS_TRANSFER_TARGET_ANSWER</a>:</div><div class="line"><a name="l02255"></a><span class="lineno"> 2255</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a41d7bde458129adf0121c70ba361258a">STIMULUS_RECALL_TARGET_HANGUP</a>:</div><div class="line"><a name="l02256"></a><span class="lineno"> 2256</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a49ac501f06885c9839a8833e0639d38f">STIMULUS_RECALL_TARGET_ANSWER</a>:</div><div class="line"><a name="l02257"></a><span class="lineno"> 2257</span>&#160;   <span class="keywordflow">default</span>:</div><div class="line"><a name="l02258"></a><span class="lineno"> 2258</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Unexpected stimulus &#39;%s&#39; received in attended transfer state &#39;%s&#39;\n&quot;</span>,</div><div class="line"><a name="l02259"></a><span class="lineno"> 2259</span>&#160;            <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a6c44b02ff21d30611e99f11620684e42">stimulus_strs</a>[stimulus], <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a53b49a058262e14d4371a6c30024ea7c">state_properties</a>[props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a3442cf1d72950ce9d62ea7006f6ce78c">state</a>].<a class="code" href="../../da/dab/structattended__transfer__state__properties.html#ab00617be22fdc8c996d36e4082f2410a">state_name</a>);</div><div class="line"><a name="l02260"></a><span class="lineno"> 2260</span>&#160;      <span class="keywordflow">return</span> props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a3442cf1d72950ce9d62ea7006f6ce78c">state</a>;</div><div class="line"><a name="l02261"></a><span class="lineno"> 2261</span>&#160;   }</div><div class="line"><a name="l02262"></a><span class="lineno"> 2262</span>&#160;}</div><div class="ttc" id="bridge__basic_8c_html_a3467eb2c1bece0b38cd4e45ea024bc5d"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a3467eb2c1bece0b38cd4e45ea024bc5d">bridge_basic_change_personality</a></div><div class="ttdeci">static void bridge_basic_change_personality(struct ast_bridge *bridge, enum bridge_basic_personality_type type, void *user_data)</div><div class="ttdoc">Change basic bridge personality. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l03530">bridge_basic.c:3530</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a397a54e2f92522a19b0cd7775739e210"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a397a54e2f92522a19b0cd7775739e210">play_failsound</a></div><div class="ttdeci">static void play_failsound(struct ast_channel *chan)</div><div class="ttdoc">Helper method to play a fail sound on a channel in a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01736">bridge_basic.c:1736</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_aad3447b0c2c1b069ac9437816db513d8a50814f10c33a876aa78ed3b96a2b1050"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8a50814f10c33a876aa78ed3b96a2b1050">TRANSFER_REBRIDGE</a></div><div class="ttdoc">Rebridge state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00870">bridge_basic.c:870</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a53b49a058262e14d4371a6c30024ea7c"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a53b49a058262e14d4371a6c30024ea7c">state_properties</a></div><div class="ttdeci">static const struct attended_transfer_state_properties state_properties[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l02015">bridge_basic.c:2015</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a865b164f5f26f2bace1df76cf9cdf82e"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a865b164f5f26f2bace1df76cf9cdf82e">hold</a></div><div class="ttdeci">static void hold(struct ast_channel *chan)</div><div class="ttdoc">Helper method to place a channel in a bridge on hold. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01772">bridge_basic.c:1772</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_aad3447b0c2c1b069ac9437816db513d8a46301fa6c06741434f7f8bbd53a5ec26"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8a46301fa6c06741434f7f8bbd53a5ec26">TRANSFER_COMPLETE</a></div><div class="ttdoc">Complete state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01018">bridge_basic.c:1018</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290a49ac501f06885c9839a8833e0639d38f"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a49ac501f06885c9839a8833e0639d38f">STIMULUS_RECALL_TARGET_ANSWER</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01250">bridge_basic.c:1250</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="structattended__transfer__properties_html_a7c148ea37d33eb1640a17177c700be43"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html#a7c148ea37d33eb1640a17177c700be43">attended_transfer_properties::transferee_bridge</a></div><div class="ttdeci">struct ast_bridge * transferee_bridge</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01309">bridge_basic.c:1309</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290a41d7bde458129adf0121c70ba361258a"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a41d7bde458129adf0121c70ba361258a">STIMULUS_RECALL_TARGET_HANGUP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01248">bridge_basic.c:1248</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_aad3447b0c2c1b069ac9437816db513d8a8383b06b8e11a417dca5329407478ee8"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8a8383b06b8e11a417dca5329407478ee8">TRANSFER_FAIL</a></div><div class="ttdoc">Fail state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01230">bridge_basic.c:1230</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290a9b6689669975b3d4767ca6284d721775"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a9b6689669975b3d4767ca6284d721775">STIMULUS_DTMF_ATXFER_COMPLETE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01256">bridge_basic.c:1256</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a6c44b02ff21d30611e99f11620684e42"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a6c44b02ff21d30611e99f11620684e42">stimulus_strs</a></div><div class="ttdeci">const char * stimulus_strs[]</div><div class="ttdoc">String representations of the various stimuli. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01268">bridge_basic.c:1268</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290a5bea635a52d3e646fe86091457310934"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a5bea635a52d3e646fe86091457310934">STIMULUS_TRANSFEREE_HANGUP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01240">bridge_basic.c:1240</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290a800bb00b2e8ab7a8f11092b3bb2fba11"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a800bb00b2e8ab7a8f11092b3bb2fba11">STIMULUS_TRANSFERER_HANGUP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01242">bridge_basic.c:1242</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="structattended__transfer__properties_html_a3442cf1d72950ce9d62ea7006f6ce78c"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html#a3442cf1d72950ce9d62ea7006f6ce78c">attended_transfer_properties::state</a></div><div class="ttdeci">enum attended_transfer_state state</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01330">bridge_basic.c:1330</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290a72d10e2721ad55addb0b84175f5280d0"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a72d10e2721ad55addb0b84175f5280d0">STIMULUS_DTMF_ATXFER_ABORT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01254">bridge_basic.c:1254</a></div></div>
<div class="ttc" id="bridge_8h_html_a6bae9b013c815c40d0414080455e3592"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a6bae9b013c815c40d0414080455e3592">ast_bridge_merge_inhibit</a></div><div class="ttdeci">void ast_bridge_merge_inhibit(struct ast_bridge *bridge, int request)</div><div class="ttdoc">Adjust the bridge merge inhibit request count. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l03061">bridge.c:3061</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_aad3447b0c2c1b069ac9437816db513d8a327912f4d0734a2ea7b440531f0c5693"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8a327912f4d0734a2ea7b440531f0c5693">TRANSFER_DOUBLECHECKING</a></div><div class="ttdoc">Double-checking state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00987">bridge_basic.c:987</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290a5b7c4fdcec2b5bea9e9be459dc924492"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a5b7c4fdcec2b5bea9e9be459dc924492">STIMULUS_TRANSFER_TARGET_HANGUP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01244">bridge_basic.c:1244</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a704d0cced1ceae046ad985c904dc4c6ca843f6ac2918dbe2aeb6f7dd1155a90e2"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a704d0cced1ceae046ad985c904dc4c6ca843f6ac2918dbe2aeb6f7dd1155a90e2">BRIDGE_BASIC_PERSONALITY_NORMAL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00060">bridge_basic.c:60</a></div></div>
<div class="ttc" id="structattended__transfer__properties_html_ab45c59137417246eaa392b3d8319fbc3"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html#ab45c59137417246eaa392b3d8319fbc3">attended_transfer_properties::target_bridge</a></div><div class="ttdeci">struct ast_bridge * target_bridge</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01313">bridge_basic.c:1313</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290ae3857d51b5e8970ac1e3714bc1d46fe1"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290ae3857d51b5e8970ac1e3714bc1d46fe1">STIMULUS_NONE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01238">bridge_basic.c:1238</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290a6f6c487fc2723093806c52b62c7ae80a"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a6f6c487fc2723093806c52b62c7ae80a">STIMULUS_DTMF_ATXFER_THREEWAY</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01258">bridge_basic.c:1258</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290ad811a249bfc0c9c585652f461b127180"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290ad811a249bfc0c9c585652f461b127180">STIMULUS_TIMEOUT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01252">bridge_basic.c:1252</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_ac08eea8a379a04d85eb9c21dc252e28d"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#ac08eea8a379a04d85eb9c21dc252e28d">unhold</a></div><div class="ttdeci">static void unhold(struct ast_channel *chan)</div><div class="ttdoc">Helper method to take a channel in a bridge off hold. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01793">bridge_basic.c:1793</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a3fc1a10ab2ba929490e84c1960ada943"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a3fc1a10ab2ba929490e84c1960ada943">bridge_move</a></div><div class="ttdeci">static void bridge_move(struct ast_bridge *dest, struct ast_bridge *src, struct ast_channel *channel, struct ast_channel *swap)</div><div class="ttdoc">Wrapper for bridge_do_move. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01870">bridge_basic.c:1870</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290a7615240e3b359bd98d9949ff77e102c2"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a7615240e3b359bd98d9949ff77e102c2">STIMULUS_TRANSFER_TARGET_ANSWER</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01246">bridge_basic.c:1246</a></div></div>
<div class="ttc" id="structattended__transfer__state__properties_html_ab00617be22fdc8c996d36e4082f2410a"><div class="ttname"><a href="../../da/dab/structattended__transfer__state__properties.html#ab00617be22fdc8c996d36e4082f2410a">attended_transfer_state_properties::state_name</a></div><div class="ttdeci">const char * state_name</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l02000">bridge_basic.c:2000</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a7f816040356560389bfcdf5bdc218cb6"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a7f816040356560389bfcdf5bdc218cb6">bridge_unhold</a></div><div class="ttdeci">static void bridge_unhold(struct ast_bridge *bridge)</div><div class="ttdoc">Helper method to send an unhold frame to all channels in a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01857">bridge_basic.c:1857</a></div></div>
<div class="ttc" id="structattended__transfer__properties_html_a43cf79e5f3675b2cdf001bceacb02e72"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html#a43cf79e5f3675b2cdf001bceacb02e72">attended_transfer_properties::transferer</a></div><div class="ttdeci">struct ast_channel * transferer</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01315">bridge_basic.c:1315</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290ac4c70db40c8740dc43a331ab483f3c1c"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290ac4c70db40c8740dc43a331ab483f3c1c">STIMULUS_DTMF_ATXFER_SWAP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01260">bridge_basic.c:1260</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_aad3447b0c2c1b069ac9437816db513d8ac7c5f29c9c62b140951b3035b1783ca2"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8ac7c5f29c9c62b140951b3035b1783ca2">TRANSFER_THREEWAY</a></div><div class="ttdoc">Threeway state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00929">bridge_basic.c:929</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6ae683e5f1bc86ab4c40a3aac44f78f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6ae683e5f1bc86ab4c40a3aac44f78f6">&#9670;&nbsp;</a></span>copy_caller_data()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void copy_caller_data </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>dest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>caller</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l03244">3244</a> of file <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html">bridge_basic.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00888">ast_channel_caller()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00892">ast_channel_connected()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l02373">ast_channel_datastore_inherit()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l06866">ast_channel_inherit_variables()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02952">ast_channel_lock_both</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, and <a class="el" href="../../d4/d28/channel_8c_source.html#l08389">ast_connected_line_copy_from_caller()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l03461">blind_transfer_cb()</a>, and <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l03255">dial_transfer()</a>.</p>
<div class="fragment"><div class="line"><a name="l03245"></a><span class="lineno"> 3245</span>&#160;{</div><div class="line"><a name="l03246"></a><span class="lineno"> 3246</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a695e5b4fcf983db6451b583fbd647424">ast_channel_lock_both</a>(caller, dest);</div><div class="line"><a name="l03247"></a><span class="lineno"> 3247</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#accf4e9753bd5d7316f4988e74486552b">ast_connected_line_copy_from_caller</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a10f23f1907b804485f62973f66cd9aef">ast_channel_connected</a>(dest), <a class="code" href="../../d5/d7b/channel_8h.html#ac2dc872b606534943c98304aed841b34">ast_channel_caller</a>(caller));</div><div class="line"><a name="l03248"></a><span class="lineno"> 3248</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a892b6550a4f90b70ad92198c9d05cedc">ast_channel_inherit_variables</a>(caller, dest);</div><div class="line"><a name="l03249"></a><span class="lineno"> 3249</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a6ce892974f59537bda03a71319b452e2">ast_channel_datastore_inherit</a>(caller, dest);</div><div class="line"><a name="l03250"></a><span class="lineno"> 3250</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(dest);</div><div class="line"><a name="l03251"></a><span class="lineno"> 3251</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(caller);</div><div class="line"><a name="l03252"></a><span class="lineno"> 3252</span>&#160;}</div><div class="ttc" id="channel_8h_html_ac2dc872b606534943c98304aed841b34"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#ac2dc872b606534943c98304aed841b34">ast_channel_caller</a></div><div class="ttdeci">struct ast_party_caller * ast_channel_caller(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00888">channel_internal_api.c:888</a></div></div>
<div class="ttc" id="channel_8h_html_a6ce892974f59537bda03a71319b452e2"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a6ce892974f59537bda03a71319b452e2">ast_channel_datastore_inherit</a></div><div class="ttdeci">int ast_channel_datastore_inherit(struct ast_channel *from, struct ast_channel *to)</div><div class="ttdoc">Inherit datastores from a parent to a child. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l02373">channel.c:2373</a></div></div>
<div class="ttc" id="channel_8h_html_a10f23f1907b804485f62973f66cd9aef"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a10f23f1907b804485f62973f66cd9aef">ast_channel_connected</a></div><div class="ttdeci">struct ast_party_connected_line * ast_channel_connected(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00892">channel_internal_api.c:892</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="channel_8h_html_a892b6550a4f90b70ad92198c9d05cedc"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a892b6550a4f90b70ad92198c9d05cedc">ast_channel_inherit_variables</a></div><div class="ttdeci">void ast_channel_inherit_variables(const struct ast_channel *parent, struct ast_channel *child)</div><div class="ttdoc">Inherits channel variable from parent to child channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l06866">channel.c:6866</a></div></div>
<div class="ttc" id="channel_8h_html_a695e5b4fcf983db6451b583fbd647424"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a695e5b4fcf983db6451b583fbd647424">ast_channel_lock_both</a></div><div class="ttdeci">#define ast_channel_lock_both(chan1, chan2)</div><div class="ttdoc">Lock two channels. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02952">channel.h:2952</a></div></div>
<div class="ttc" id="channel_8h_html_accf4e9753bd5d7316f4988e74486552b"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#accf4e9753bd5d7316f4988e74486552b">ast_connected_line_copy_from_caller</a></div><div class="ttdeci">void ast_connected_line_copy_from_caller(struct ast_party_connected_line *dest, const struct ast_party_caller *src)</div><div class="ttdoc">Copy the caller information to the connected line information. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l08389">channel.c:8389</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a0857f2fc207f8fb169f32f6a269b1b29"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0857f2fc207f8fb169f32f6a269b1b29">&#9670;&nbsp;</a></span>dial_transfer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a>* dial_transfer </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>caller</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>destination</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Helper function that creates an outgoing channel and returns it immediately. </p>

<p class="definition">Definition at line <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l03255">3255</a> of file <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html">bridge_basic.c</a>.</p>

<p class="reference">References <a class="el" href="../../d0/d95/bridge_8c_source.html#l04404">ast_bridge_set_transfer_variables()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02952">ast_channel_lock_both</a>, <a class="el" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00637">ast_channel_nativeformats()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l06526">ast_channel_req_accountcodes()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l01479">AST_CHANNEL_REQUESTOR_BRIDGE_PEER</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l06444">ast_request()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l03244">copy_caller_data()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../d3/d8c/pbx__variables_8c_source.html#l01071">pbx_builtin_setvar_helper()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l03295">feature_attended_transfer()</a>.</p>
<div class="fragment"><div class="line"><a name="l03256"></a><span class="lineno"> 3256</span>&#160;{</div><div class="line"><a name="l03257"></a><span class="lineno"> 3257</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan;</div><div class="line"><a name="l03258"></a><span class="lineno"> 3258</span>&#160;   <span class="keywordtype">int</span> cause;</div><div class="line"><a name="l03259"></a><span class="lineno"> 3259</span>&#160;</div><div class="line"><a name="l03260"></a><span class="lineno"> 3260</span>&#160;   <span class="comment">/* Now we request a local channel to prepare to call the destination */</span></div><div class="line"><a name="l03261"></a><span class="lineno"> 3261</span>&#160;   chan = <a class="code" href="../../d5/d7b/channel_8h.html#a39fc055500e09810d0afd0bff87407c5">ast_request</a>(<span class="stringliteral">&quot;Local&quot;</span>, <a class="code" href="../../d5/d7b/channel_8h.html#a4a5bc2ea394aace55ea3809e53365ea9">ast_channel_nativeformats</a>(caller), <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, caller, destination,</div><div class="line"><a name="l03262"></a><span class="lineno"> 3262</span>&#160;      &amp;cause);</div><div class="line"><a name="l03263"></a><span class="lineno"> 3263</span>&#160;   <span class="keywordflow">if</span> (!chan) {</div><div class="line"><a name="l03264"></a><span class="lineno"> 3264</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l03265"></a><span class="lineno"> 3265</span>&#160;   }</div><div class="line"><a name="l03266"></a><span class="lineno"> 3266</span>&#160;</div><div class="line"><a name="l03267"></a><span class="lineno"> 3267</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a695e5b4fcf983db6451b583fbd647424">ast_channel_lock_both</a>(chan, caller);</div><div class="line"><a name="l03268"></a><span class="lineno"> 3268</span>&#160;</div><div class="line"><a name="l03269"></a><span class="lineno"> 3269</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a6f3f42365ac84d888b55e35e1309f067">ast_channel_req_accountcodes</a>(chan, caller, <a class="code" href="../../d5/d7b/channel_8h.html#a31a465197a7766c3d0bb9f65f0a4418fa0e613bbe5c524be8c225eff98782e3a8">AST_CHANNEL_REQUESTOR_BRIDGE_PEER</a>);</div><div class="line"><a name="l03270"></a><span class="lineno"> 3270</span>&#160;</div><div class="line"><a name="l03271"></a><span class="lineno"> 3271</span>&#160;   <span class="comment">/* Who is transferring the call. */</span></div><div class="line"><a name="l03272"></a><span class="lineno"> 3272</span>&#160;   <a class="code" href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a>(chan, <span class="stringliteral">&quot;TRANSFERERNAME&quot;</span>, <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(caller));</div><div class="line"><a name="l03273"></a><span class="lineno"> 3273</span>&#160;</div><div class="line"><a name="l03274"></a><span class="lineno"> 3274</span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#a8878fc7451a873f155aba20b0b31abbb">ast_bridge_set_transfer_variables</a>(chan, <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(caller), 1);</div><div class="line"><a name="l03275"></a><span class="lineno"> 3275</span>&#160;</div><div class="line"><a name="l03276"></a><span class="lineno"> 3276</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l03277"></a><span class="lineno"> 3277</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(caller);</div><div class="line"><a name="l03278"></a><span class="lineno"> 3278</span>&#160;</div><div class="line"><a name="l03279"></a><span class="lineno"> 3279</span>&#160;   <span class="comment">/* Before we actually dial out let&#39;s inherit appropriate information. */</span></div><div class="line"><a name="l03280"></a><span class="lineno"> 3280</span>&#160;   <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a6ae683e5f1bc86ab4c40a3aac44f78f6">copy_caller_data</a>(chan, caller);</div><div class="line"><a name="l03281"></a><span class="lineno"> 3281</span>&#160;</div><div class="line"><a name="l03282"></a><span class="lineno"> 3282</span>&#160;   <span class="keywordflow">return</span> chan;</div><div class="line"><a name="l03283"></a><span class="lineno"> 3283</span>&#160;}</div><div class="ttc" id="structast__channel_html"><div class="ttname"><a href="../../df/d3c/structast__channel.html">ast_channel</a></div><div class="ttdoc">Main Channel structure associated with a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00073">channel_internal_api.c:73</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="channel_8h_html_a31a465197a7766c3d0bb9f65f0a4418fa0e613bbe5c524be8c225eff98782e3a8"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a31a465197a7766c3d0bb9f65f0a4418fa0e613bbe5c524be8c225eff98782e3a8">AST_CHANNEL_REQUESTOR_BRIDGE_PEER</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01479">channel.h:1479</a></div></div>
<div class="ttc" id="channel_8h_html_a39fc055500e09810d0afd0bff87407c5"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a39fc055500e09810d0afd0bff87407c5">ast_request</a></div><div class="ttdeci">struct ast_channel * ast_request(const char *type, struct ast_format_cap *request_cap, const struct ast_assigned_ids *assignedids, const struct ast_channel *requestor, const char *addr, int *cause)</div><div class="ttdoc">Requests a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l06444">channel.c:6444</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a6ae683e5f1bc86ab4c40a3aac44f78f6"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a6ae683e5f1bc86ab4c40a3aac44f78f6">copy_caller_data</a></div><div class="ttdeci">static void copy_caller_data(struct ast_channel *dest, struct ast_channel *caller)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l03244">bridge_basic.c:3244</a></div></div>
<div class="ttc" id="channel_8h_html_a6f3f42365ac84d888b55e35e1309f067"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a6f3f42365ac84d888b55e35e1309f067">ast_channel_req_accountcodes</a></div><div class="ttdeci">void ast_channel_req_accountcodes(struct ast_channel *chan, const struct ast_channel *requestor, enum ast_channel_requestor_relationship relationship)</div><div class="ttdoc">Setup new channel accountcodes from the requestor channel after ast_request(). </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l06526">channel.c:6526</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="bridge_8h_html_a8878fc7451a873f155aba20b0b31abbb"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a8878fc7451a873f155aba20b0b31abbb">ast_bridge_set_transfer_variables</a></div><div class="ttdeci">void ast_bridge_set_transfer_variables(struct ast_channel *chan, const char *value, int is_attended)</div><div class="ttdoc">Set the relevant transfer variables for a single channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l04404">bridge.c:4404</a></div></div>
<div class="ttc" id="channel_8h_html_a4a5bc2ea394aace55ea3809e53365ea9"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a4a5bc2ea394aace55ea3809e53365ea9">ast_channel_nativeformats</a></div><div class="ttdeci">struct ast_format_cap * ast_channel_nativeformats(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00637">channel_internal_api.c:637</a></div></div>
<div class="ttc" id="pbx_8h_html_a6e5b90edb84d216267148dddcffe9b9a"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a></div><div class="ttdeci">int pbx_builtin_setvar_helper(struct ast_channel *chan, const char *name, const char *value)</div><div class="ttdoc">Add a variable to the channel variable stack, removing the most recently set value for the same name...</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d8c/pbx__variables_8c_source.html#l01071">pbx_variables.c:1071</a></div></div>
<div class="ttc" id="channel_8h_html_a695e5b4fcf983db6451b583fbd647424"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a695e5b4fcf983db6451b583fbd647424">ast_channel_lock_both</a></div><div class="ttdeci">#define ast_channel_lock_both(chan1, chan2)</div><div class="ttdoc">Lock two channels. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02952">channel.h:2952</a></div></div>
<div class="ttc" id="channel_8h_html_a7ca2fda13b129a55c251b56729de285b"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a></div><div class="ttdeci">const char * ast_channel_name(const struct ast_channel *chan)</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae9c7fd8624fa3a1b3a552d36fa1cae89"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae9c7fd8624fa3a1b3a552d36fa1cae89">&#9670;&nbsp;</a></span>double_checking_enter()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int double_checking_enter </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dd/d9e/structattended__transfer__properties.html">attended_transfer_properties</a> *&#160;</td>
          <td class="paramname"><em>props</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02264">2264</a> of file <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html">bridge_basic.c</a>.</p>
<div class="fragment"><div class="line"><a name="l02265"></a><span class="lineno"> 2265</span>&#160;{</div><div class="line"><a name="l02266"></a><span class="lineno"> 2266</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02267"></a><span class="lineno"> 2267</span>&#160;}</div></div><!-- fragment -->
</div>
</div>
<a id="a1d263d6110bb221713890c4fc3b55c22"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d263d6110bb221713890c4fc3b55c22">&#9670;&nbsp;</a></span>double_checking_exit()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static enum <a class="el" href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8">attended_transfer_state</a> double_checking_exit </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dd/d9e/structattended__transfer__properties.html">attended_transfer_properties</a> *&#160;</td>
          <td class="paramname"><em>props</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290">attended_transfer_stimulus</a>&#160;</td>
          <td class="paramname"><em>stimulus</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02269">2269</a> of file <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html">bridge_basic.c</a>.</p>

<p class="reference">References <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01870">bridge_move()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01857">bridge_unhold()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01772">hold()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01736">play_failsound()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01692">publish_transfer_fail()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01330">attended_transfer_properties::state</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02000">attended_transfer_state_properties::state_name</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01254">STIMULUS_DTMF_ATXFER_ABORT</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01256">STIMULUS_DTMF_ATXFER_COMPLETE</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01260">STIMULUS_DTMF_ATXFER_SWAP</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01258">STIMULUS_DTMF_ATXFER_THREEWAY</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01238">STIMULUS_NONE</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01250">STIMULUS_RECALL_TARGET_ANSWER</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01248">STIMULUS_RECALL_TARGET_HANGUP</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01268">stimulus_strs</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01252">STIMULUS_TIMEOUT</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01246">STIMULUS_TRANSFER_TARGET_ANSWER</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01244">STIMULUS_TRANSFER_TARGET_HANGUP</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01240">STIMULUS_TRANSFEREE_HANGUP</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01242">STIMULUS_TRANSFERER_HANGUP</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01313">attended_transfer_properties::target_bridge</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01018">TRANSFER_COMPLETE</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00957">TRANSFER_CONSULTING</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01230">TRANSFER_FAIL</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00903">TRANSFER_RESUME</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00929">TRANSFER_THREEWAY</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01309">attended_transfer_properties::transferee_bridge</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01315">attended_transfer_properties::transferer</a>, and <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01793">unhold()</a>.</p>
<div class="fragment"><div class="line"><a name="l02271"></a><span class="lineno"> 2271</span>&#160;{</div><div class="line"><a name="l02272"></a><span class="lineno"> 2272</span>&#160;   <span class="keywordflow">switch</span> (stimulus) {</div><div class="line"><a name="l02273"></a><span class="lineno"> 2273</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a5bea635a52d3e646fe86091457310934">STIMULUS_TRANSFEREE_HANGUP</a>:</div><div class="line"><a name="l02274"></a><span class="lineno"> 2274</span>&#160;      <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a397a54e2f92522a19b0cd7775739e210">play_failsound</a>(props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a43cf79e5f3675b2cdf001bceacb02e72">transferer</a>);</div><div class="line"><a name="l02275"></a><span class="lineno"> 2275</span>&#160;      <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a7f74bf7c99819ae48e4f588bc6e6bc15">publish_transfer_fail</a>(props);</div><div class="line"><a name="l02276"></a><span class="lineno"> 2276</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8a8383b06b8e11a417dca5329407478ee8">TRANSFER_FAIL</a>;</div><div class="line"><a name="l02277"></a><span class="lineno"> 2277</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a800bb00b2e8ab7a8f11092b3bb2fba11">STIMULUS_TRANSFERER_HANGUP</a>:</div><div class="line"><a name="l02278"></a><span class="lineno"> 2278</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a9b6689669975b3d4767ca6284d721775">STIMULUS_DTMF_ATXFER_COMPLETE</a>:</div><div class="line"><a name="l02279"></a><span class="lineno"> 2279</span>&#160;      <span class="comment">/* We know the transferer is in the transferee, so take the other bridge off hold */</span></div><div class="line"><a name="l02280"></a><span class="lineno"> 2280</span>&#160;      <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a7f816040356560389bfcdf5bdc218cb6">bridge_unhold</a>(props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#ab45c59137417246eaa392b3d8319fbc3">target_bridge</a>);</div><div class="line"><a name="l02281"></a><span class="lineno"> 2281</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8a46301fa6c06741434f7f8bbd53a5ec26">TRANSFER_COMPLETE</a>;</div><div class="line"><a name="l02282"></a><span class="lineno"> 2282</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a5b7c4fdcec2b5bea9e9be459dc924492">STIMULUS_TRANSFER_TARGET_HANGUP</a>:</div><div class="line"><a name="l02283"></a><span class="lineno"> 2283</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a72d10e2721ad55addb0b84175f5280d0">STIMULUS_DTMF_ATXFER_ABORT</a>:</div><div class="line"><a name="l02284"></a><span class="lineno"> 2284</span>&#160;      <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a397a54e2f92522a19b0cd7775739e210">play_failsound</a>(props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a43cf79e5f3675b2cdf001bceacb02e72">transferer</a>);</div><div class="line"><a name="l02285"></a><span class="lineno"> 2285</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8ac19143ec75880c93f0c2483599b28343">TRANSFER_RESUME</a>;</div><div class="line"><a name="l02286"></a><span class="lineno"> 2286</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a6f6c487fc2723093806c52b62c7ae80a">STIMULUS_DTMF_ATXFER_THREEWAY</a>:</div><div class="line"><a name="l02287"></a><span class="lineno"> 2287</span>&#160;      <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a7f816040356560389bfcdf5bdc218cb6">bridge_unhold</a>(props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#ab45c59137417246eaa392b3d8319fbc3">target_bridge</a>);</div><div class="line"><a name="l02288"></a><span class="lineno"> 2288</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8ac7c5f29c9c62b140951b3035b1783ca2">TRANSFER_THREEWAY</a>;</div><div class="line"><a name="l02289"></a><span class="lineno"> 2289</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290ac4c70db40c8740dc43a331ab483f3c1c">STIMULUS_DTMF_ATXFER_SWAP</a>:</div><div class="line"><a name="l02290"></a><span class="lineno"> 2290</span>&#160;      <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a865b164f5f26f2bace1df76cf9cdf82e">hold</a>(props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a43cf79e5f3675b2cdf001bceacb02e72">transferer</a>);</div><div class="line"><a name="l02291"></a><span class="lineno"> 2291</span>&#160;      <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a3fc1a10ab2ba929490e84c1960ada943">bridge_move</a>(props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#ab45c59137417246eaa392b3d8319fbc3">target_bridge</a>, props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a7c148ea37d33eb1640a17177c700be43">transferee_bridge</a>, props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a43cf79e5f3675b2cdf001bceacb02e72">transferer</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l02292"></a><span class="lineno"> 2292</span>&#160;      <a class="code" href="../../d7/d9b/bridge__basic_8c.html#ac08eea8a379a04d85eb9c21dc252e28d">unhold</a>(props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a43cf79e5f3675b2cdf001bceacb02e72">transferer</a>);</div><div class="line"><a name="l02293"></a><span class="lineno"> 2293</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8ad60a6371cbe63dbd06152746f6fcd320">TRANSFER_CONSULTING</a>;</div><div class="line"><a name="l02294"></a><span class="lineno"> 2294</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290ae3857d51b5e8970ac1e3714bc1d46fe1">STIMULUS_NONE</a>:</div><div class="line"><a name="l02295"></a><span class="lineno"> 2295</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290ad811a249bfc0c9c585652f461b127180">STIMULUS_TIMEOUT</a>:</div><div class="line"><a name="l02296"></a><span class="lineno"> 2296</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a7615240e3b359bd98d9949ff77e102c2">STIMULUS_TRANSFER_TARGET_ANSWER</a>:</div><div class="line"><a name="l02297"></a><span class="lineno"> 2297</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a41d7bde458129adf0121c70ba361258a">STIMULUS_RECALL_TARGET_HANGUP</a>:</div><div class="line"><a name="l02298"></a><span class="lineno"> 2298</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a49ac501f06885c9839a8833e0639d38f">STIMULUS_RECALL_TARGET_ANSWER</a>:</div><div class="line"><a name="l02299"></a><span class="lineno"> 2299</span>&#160;   <span class="keywordflow">default</span>:</div><div class="line"><a name="l02300"></a><span class="lineno"> 2300</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Unexpected stimulus &#39;%s&#39; received in attended transfer state &#39;%s&#39;\n&quot;</span>,</div><div class="line"><a name="l02301"></a><span class="lineno"> 2301</span>&#160;            <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a6c44b02ff21d30611e99f11620684e42">stimulus_strs</a>[stimulus], <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a53b49a058262e14d4371a6c30024ea7c">state_properties</a>[props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a3442cf1d72950ce9d62ea7006f6ce78c">state</a>].<a class="code" href="../../da/dab/structattended__transfer__state__properties.html#ab00617be22fdc8c996d36e4082f2410a">state_name</a>);</div><div class="line"><a name="l02302"></a><span class="lineno"> 2302</span>&#160;      <span class="keywordflow">return</span> props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a3442cf1d72950ce9d62ea7006f6ce78c">state</a>;</div><div class="line"><a name="l02303"></a><span class="lineno"> 2303</span>&#160;   }</div><div class="line"><a name="l02304"></a><span class="lineno"> 2304</span>&#160;}</div><div class="ttc" id="bridge__basic_8c_html_a397a54e2f92522a19b0cd7775739e210"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a397a54e2f92522a19b0cd7775739e210">play_failsound</a></div><div class="ttdeci">static void play_failsound(struct ast_channel *chan)</div><div class="ttdoc">Helper method to play a fail sound on a channel in a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01736">bridge_basic.c:1736</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_aad3447b0c2c1b069ac9437816db513d8ac19143ec75880c93f0c2483599b28343"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8ac19143ec75880c93f0c2483599b28343">TRANSFER_RESUME</a></div><div class="ttdoc">Resume state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00903">bridge_basic.c:903</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a53b49a058262e14d4371a6c30024ea7c"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a53b49a058262e14d4371a6c30024ea7c">state_properties</a></div><div class="ttdeci">static const struct attended_transfer_state_properties state_properties[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l02015">bridge_basic.c:2015</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a865b164f5f26f2bace1df76cf9cdf82e"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a865b164f5f26f2bace1df76cf9cdf82e">hold</a></div><div class="ttdeci">static void hold(struct ast_channel *chan)</div><div class="ttdoc">Helper method to place a channel in a bridge on hold. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01772">bridge_basic.c:1772</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_aad3447b0c2c1b069ac9437816db513d8a46301fa6c06741434f7f8bbd53a5ec26"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8a46301fa6c06741434f7f8bbd53a5ec26">TRANSFER_COMPLETE</a></div><div class="ttdoc">Complete state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01018">bridge_basic.c:1018</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290a49ac501f06885c9839a8833e0639d38f"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a49ac501f06885c9839a8833e0639d38f">STIMULUS_RECALL_TARGET_ANSWER</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01250">bridge_basic.c:1250</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="structattended__transfer__properties_html_a7c148ea37d33eb1640a17177c700be43"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html#a7c148ea37d33eb1640a17177c700be43">attended_transfer_properties::transferee_bridge</a></div><div class="ttdeci">struct ast_bridge * transferee_bridge</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01309">bridge_basic.c:1309</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290a41d7bde458129adf0121c70ba361258a"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a41d7bde458129adf0121c70ba361258a">STIMULUS_RECALL_TARGET_HANGUP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01248">bridge_basic.c:1248</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_aad3447b0c2c1b069ac9437816db513d8a8383b06b8e11a417dca5329407478ee8"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8a8383b06b8e11a417dca5329407478ee8">TRANSFER_FAIL</a></div><div class="ttdoc">Fail state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01230">bridge_basic.c:1230</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290a9b6689669975b3d4767ca6284d721775"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a9b6689669975b3d4767ca6284d721775">STIMULUS_DTMF_ATXFER_COMPLETE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01256">bridge_basic.c:1256</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a6c44b02ff21d30611e99f11620684e42"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a6c44b02ff21d30611e99f11620684e42">stimulus_strs</a></div><div class="ttdeci">const char * stimulus_strs[]</div><div class="ttdoc">String representations of the various stimuli. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01268">bridge_basic.c:1268</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_aad3447b0c2c1b069ac9437816db513d8ad60a6371cbe63dbd06152746f6fcd320"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8ad60a6371cbe63dbd06152746f6fcd320">TRANSFER_CONSULTING</a></div><div class="ttdoc">Consulting state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00957">bridge_basic.c:957</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290a5bea635a52d3e646fe86091457310934"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a5bea635a52d3e646fe86091457310934">STIMULUS_TRANSFEREE_HANGUP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01240">bridge_basic.c:1240</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290a800bb00b2e8ab7a8f11092b3bb2fba11"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a800bb00b2e8ab7a8f11092b3bb2fba11">STIMULUS_TRANSFERER_HANGUP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01242">bridge_basic.c:1242</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="structattended__transfer__properties_html_a3442cf1d72950ce9d62ea7006f6ce78c"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html#a3442cf1d72950ce9d62ea7006f6ce78c">attended_transfer_properties::state</a></div><div class="ttdeci">enum attended_transfer_state state</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01330">bridge_basic.c:1330</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290a72d10e2721ad55addb0b84175f5280d0"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a72d10e2721ad55addb0b84175f5280d0">STIMULUS_DTMF_ATXFER_ABORT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01254">bridge_basic.c:1254</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290a5b7c4fdcec2b5bea9e9be459dc924492"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a5b7c4fdcec2b5bea9e9be459dc924492">STIMULUS_TRANSFER_TARGET_HANGUP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01244">bridge_basic.c:1244</a></div></div>
<div class="ttc" id="structattended__transfer__properties_html_ab45c59137417246eaa392b3d8319fbc3"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html#ab45c59137417246eaa392b3d8319fbc3">attended_transfer_properties::target_bridge</a></div><div class="ttdeci">struct ast_bridge * target_bridge</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01313">bridge_basic.c:1313</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290ae3857d51b5e8970ac1e3714bc1d46fe1"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290ae3857d51b5e8970ac1e3714bc1d46fe1">STIMULUS_NONE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01238">bridge_basic.c:1238</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a7f74bf7c99819ae48e4f588bc6e6bc15"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a7f74bf7c99819ae48e4f588bc6e6bc15">publish_transfer_fail</a></div><div class="ttdeci">static void publish_transfer_fail(struct attended_transfer_properties *props)</div><div class="ttdoc">Send a stasis publication for a failed attended transfer. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01692">bridge_basic.c:1692</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290a6f6c487fc2723093806c52b62c7ae80a"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a6f6c487fc2723093806c52b62c7ae80a">STIMULUS_DTMF_ATXFER_THREEWAY</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01258">bridge_basic.c:1258</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290ad811a249bfc0c9c585652f461b127180"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290ad811a249bfc0c9c585652f461b127180">STIMULUS_TIMEOUT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01252">bridge_basic.c:1252</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_ac08eea8a379a04d85eb9c21dc252e28d"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#ac08eea8a379a04d85eb9c21dc252e28d">unhold</a></div><div class="ttdeci">static void unhold(struct ast_channel *chan)</div><div class="ttdoc">Helper method to take a channel in a bridge off hold. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01793">bridge_basic.c:1793</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a3fc1a10ab2ba929490e84c1960ada943"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a3fc1a10ab2ba929490e84c1960ada943">bridge_move</a></div><div class="ttdeci">static void bridge_move(struct ast_bridge *dest, struct ast_bridge *src, struct ast_channel *channel, struct ast_channel *swap)</div><div class="ttdoc">Wrapper for bridge_do_move. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01870">bridge_basic.c:1870</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290a7615240e3b359bd98d9949ff77e102c2"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a7615240e3b359bd98d9949ff77e102c2">STIMULUS_TRANSFER_TARGET_ANSWER</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01246">bridge_basic.c:1246</a></div></div>
<div class="ttc" id="structattended__transfer__state__properties_html_ab00617be22fdc8c996d36e4082f2410a"><div class="ttname"><a href="../../da/dab/structattended__transfer__state__properties.html#ab00617be22fdc8c996d36e4082f2410a">attended_transfer_state_properties::state_name</a></div><div class="ttdeci">const char * state_name</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l02000">bridge_basic.c:2000</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a7f816040356560389bfcdf5bdc218cb6"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a7f816040356560389bfcdf5bdc218cb6">bridge_unhold</a></div><div class="ttdeci">static void bridge_unhold(struct ast_bridge *bridge)</div><div class="ttdoc">Helper method to send an unhold frame to all channels in a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01857">bridge_basic.c:1857</a></div></div>
<div class="ttc" id="structattended__transfer__properties_html_a43cf79e5f3675b2cdf001bceacb02e72"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html#a43cf79e5f3675b2cdf001bceacb02e72">attended_transfer_properties::transferer</a></div><div class="ttdeci">struct ast_channel * transferer</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01315">bridge_basic.c:1315</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290ac4c70db40c8740dc43a331ab483f3c1c"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290ac4c70db40c8740dc43a331ab483f3c1c">STIMULUS_DTMF_ATXFER_SWAP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01260">bridge_basic.c:1260</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_aad3447b0c2c1b069ac9437816db513d8ac7c5f29c9c62b140951b3035b1783ca2"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8ac7c5f29c9c62b140951b3035b1783ca2">TRANSFER_THREEWAY</a></div><div class="ttdoc">Threeway state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00929">bridge_basic.c:929</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a9f18179107893291d8c5dc3647b29e44"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f18179107893291d8c5dc3647b29e44">&#9670;&nbsp;</a></span>dtmf_features_flags_to_string()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int dtmf_features_flags_to_string </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dc/dac/structast__flags.html">ast_flags</a> *&#160;</td>
          <td class="paramname"><em>feature_flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>buffer_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00133">133</a> of file <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html">bridge_basic.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/dfe/isdn__lib_8c_source.html#l00042">ARRAY_LEN</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l01070">AST_FEATURE_AUTOMIXMON</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l01068">AST_FEATURE_AUTOMON</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l01066">AST_FEATURE_DISCONNECT</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l01069">AST_FEATURE_PARKCALL</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l01065">AST_FEATURE_REDIRECT</a>, and <a class="el" href="../../d5/d60/utils_8h_source.html#l00063">ast_test_flag</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00208">ast_bridge_features_ds_get_string()</a>.</p>
<div class="fragment"><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;{</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;   <span class="keywordtype">size_t</span> buffer_expended = 0;</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> cur_feature;</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keyword">struct </span>{</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;      <span class="keywordtype">char</span> letter;</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;      <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../dc/dc2/f2c_8h.html#abf5d144da384425ae6cb542ce6eec8d3">flag</a>;</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;   } associations[] = {</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;      { <span class="charliteral">&#39;T&#39;</span>, <a class="code" href="../../d5/d7b/channel_8h.html#a25f1c885c7f5230ea4c9bc48dde88fe1a33e339fbf78c26377f6c7057dda06ccc">AST_FEATURE_REDIRECT</a> },</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;      { <span class="charliteral">&#39;K&#39;</span>, <a class="code" href="../../d5/d7b/channel_8h.html#a25f1c885c7f5230ea4c9bc48dde88fe1ace68898ce2f86298d8e39e0473a55e28">AST_FEATURE_PARKCALL</a> },</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;      { <span class="charliteral">&#39;H&#39;</span>, <a class="code" href="../../d5/d7b/channel_8h.html#a25f1c885c7f5230ea4c9bc48dde88fe1ae4ef6bff70f5837c4ccfcef8d789a9cc">AST_FEATURE_DISCONNECT</a> },</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;      { <span class="charliteral">&#39;W&#39;</span>, <a class="code" href="../../d5/d7b/channel_8h.html#a25f1c885c7f5230ea4c9bc48dde88fe1ae16218a9dfb2123d391f959e3d078362">AST_FEATURE_AUTOMON</a> },</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;      { <span class="charliteral">&#39;X&#39;</span>, <a class="code" href="../../d5/d7b/channel_8h.html#a25f1c885c7f5230ea4c9bc48dde88fe1a0a015b303a0970eda3ea8328714cbbae">AST_FEATURE_AUTOMIXMON</a> },</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;   };</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;   <span class="keywordflow">for</span> (cur_feature = 0; cur_feature &lt; <a class="code" href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a>(associations); cur_feature++) {</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a>(feature_flags, associations[cur_feature].<a class="code" href="../../dc/dc2/f2c_8h.html#abf5d144da384425ae6cb542ce6eec8d3">flag</a>)) {</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;         <span class="keywordflow">if</span> (buffer_expended == buffer_size - 1) {</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;            buffer[buffer_expended] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;            <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;         }</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;         buffer[buffer_expended++] = associations[cur_feature].letter;</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;      }</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;   }</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;   buffer[buffer_expended] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;}</div><div class="ttc" id="isdn__lib_8c_html_ab9129b977a587b50ea801daac75e178f"><div class="ttname"><a href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a></div><div class="ttdeci">#define ARRAY_LEN(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dfe/isdn__lib_8c_source.html#l00042">isdn_lib.c:42</a></div></div>
<div class="ttc" id="utils_8h_html_a00d4c9254c9827d6fa44f17a326744a5"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a></div><div class="ttdeci">#define ast_test_flag(p, flag)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00063">utils.h:63</a></div></div>
<div class="ttc" id="channel_8h_html_a25f1c885c7f5230ea4c9bc48dde88fe1ae4ef6bff70f5837c4ccfcef8d789a9cc"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a25f1c885c7f5230ea4c9bc48dde88fe1ae4ef6bff70f5837c4ccfcef8d789a9cc">AST_FEATURE_DISCONNECT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01066">channel.h:1066</a></div></div>
<div class="ttc" id="channel_8h_html_a25f1c885c7f5230ea4c9bc48dde88fe1ae16218a9dfb2123d391f959e3d078362"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a25f1c885c7f5230ea4c9bc48dde88fe1ae16218a9dfb2123d391f959e3d078362">AST_FEATURE_AUTOMON</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01068">channel.h:1068</a></div></div>
<div class="ttc" id="channel_8h_html_a25f1c885c7f5230ea4c9bc48dde88fe1a33e339fbf78c26377f6c7057dda06ccc"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a25f1c885c7f5230ea4c9bc48dde88fe1a33e339fbf78c26377f6c7057dda06ccc">AST_FEATURE_REDIRECT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01065">channel.h:1065</a></div></div>
<div class="ttc" id="channel_8h_html_a25f1c885c7f5230ea4c9bc48dde88fe1a0a015b303a0970eda3ea8328714cbbae"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a25f1c885c7f5230ea4c9bc48dde88fe1a0a015b303a0970eda3ea8328714cbbae">AST_FEATURE_AUTOMIXMON</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01070">channel.h:1070</a></div></div>
<div class="ttc" id="f2c_8h_html_abf5d144da384425ae6cb542ce6eec8d3"><div class="ttname"><a href="../../dc/dc2/f2c_8h.html#abf5d144da384425ae6cb542ce6eec8d3">flag</a></div><div class="ttdeci">long int flag</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dc2/f2c_8h_source.html#l00083">f2c.h:83</a></div></div>
<div class="ttc" id="channel_8h_html_a25f1c885c7f5230ea4c9bc48dde88fe1ace68898ce2f86298d8e39e0473a55e28"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a25f1c885c7f5230ea4c9bc48dde88fe1ace68898ce2f86298d8e39e0473a55e28">AST_FEATURE_PARKCALL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01069">channel.h:1069</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af6258fe3537ca7a00532e1f790f3330b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af6258fe3537ca7a00532e1f790f3330b">&#9670;&nbsp;</a></span>dynamic_dtmf_hook_add()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int dynamic_dtmf_hook_add </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../db/dba/structast__bridge__features.html">ast_bridge_features</a> *&#160;</td>
          <td class="paramname"><em>features</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>dtmf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>feature_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>app_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>app_args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>moh_class</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00544">544</a> of file <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html">bridge_basic.c</a>.</p>

<p class="reference">References <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00460">dynamic_dtmf_hook_data::app_args_offset</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00462">dynamic_dtmf_hook_data::app_name</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l03245">ast_bridge_dtmf_hook()</a>, <a class="el" href="../../dc/d7a/bridge__features_8h_source.html#l00185">AST_BRIDGE_HOOK_REMOVE_ON_PERSONALITY_CHANGE</a>, <a class="el" href="../../dc/d7a/bridge__features_8h_source.html#l00183">AST_BRIDGE_HOOK_REMOVE_ON_PULL</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../d9/db0/astmm_8c_source.html#l01771">ast_free_ptr()</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00193">ast_malloc</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00476">dynamic_dtmf_hook_trip()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00456">dynamic_dtmf_hook_data::feature_offset</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00454">dynamic_dtmf_hook_data::flags</a>, and <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00458">dynamic_dtmf_hook_data::moh_offset</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00581">setup_dynamic_feature()</a>.</p>
<div class="fragment"><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;{</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../db/d13/structdynamic__dtmf__hook__data.html">dynamic_dtmf_hook_data</a> *hook_data;</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;   <span class="keywordtype">size_t</span> len_name = strlen(<a class="code" href="../../dd/d16/pbx__app_8c.html#a6d3c140ecf1f736c6750d5a17e5bf958">app_name</a>) + 1;</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;   <span class="keywordtype">size_t</span> len_args = <a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(app_args) ? 0 : strlen(app_args) + 1;</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;   <span class="keywordtype">size_t</span> len_moh = <a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(moh_class) ? 0 : strlen(moh_class) + 1;</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;   <span class="keywordtype">size_t</span> len_feature = strlen(feature_name) + 1;</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;   <span class="keywordtype">size_t</span> len_data = <span class="keyword">sizeof</span>(*hook_data) + len_name + len_args + len_moh + len_feature;</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;   <span class="comment">/* Fill in application run hook data. */</span></div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;   hook_data = <a class="code" href="../../d8/d8a/astmm_8h.html#ae63d4f486bcf6eac7c1593f867717d91">ast_malloc</a>(len_data);</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;   <span class="keywordflow">if</span> (!hook_data) {</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;   }</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;   hook_data-&gt;<a class="code" href="../../db/d13/structdynamic__dtmf__hook__data.html#ac92588540e8c1d014a08cd8a45462b19">flags</a> = <a class="code" href="../../db/d13/structdynamic__dtmf__hook__data.html#ac92588540e8c1d014a08cd8a45462b19">flags</a>;</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;   hook_data-&gt;<a class="code" href="../../db/d13/structdynamic__dtmf__hook__data.html#aaf2e732519876c8e04123d2f323ac9bd">app_args_offset</a> = len_args ? len_name : 0;</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;   hook_data-&gt;<a class="code" href="../../db/d13/structdynamic__dtmf__hook__data.html#a9f4835eab8f88d55b1b001792136937c">moh_offset</a> = len_moh ? len_name + len_args : 0;</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;   hook_data-&gt;<a class="code" href="../../db/d13/structdynamic__dtmf__hook__data.html#a9e39206df1c618246c1441bff4d24f7c">feature_offset</a> = len_name + len_args + len_moh;</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;   strcpy(hook_data-&gt;<a class="code" href="../../db/d13/structdynamic__dtmf__hook__data.html#ad979c2b27e68fccd6f5920a16213e8b2">app_name</a>, <a class="code" href="../../dd/d16/pbx__app_8c.html#a6d3c140ecf1f736c6750d5a17e5bf958">app_name</a>);<span class="comment">/* Safe */</span></div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;   <span class="keywordflow">if</span> (len_args) {</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;      strcpy(&amp;hook_data-&gt;<a class="code" href="../../db/d13/structdynamic__dtmf__hook__data.html#ad979c2b27e68fccd6f5920a16213e8b2">app_name</a>[hook_data-&gt;<a class="code" href="../../db/d13/structdynamic__dtmf__hook__data.html#aaf2e732519876c8e04123d2f323ac9bd">app_args_offset</a>], app_args);<span class="comment">/* Safe */</span></div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;   }</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;   <span class="keywordflow">if</span> (len_moh) {</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;      strcpy(&amp;hook_data-&gt;<a class="code" href="../../db/d13/structdynamic__dtmf__hook__data.html#ad979c2b27e68fccd6f5920a16213e8b2">app_name</a>[hook_data-&gt;<a class="code" href="../../db/d13/structdynamic__dtmf__hook__data.html#a9f4835eab8f88d55b1b001792136937c">moh_offset</a>], moh_class);<span class="comment">/* Safe */</span></div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;   }</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;   strcpy(&amp;hook_data-&gt;<a class="code" href="../../db/d13/structdynamic__dtmf__hook__data.html#ad979c2b27e68fccd6f5920a16213e8b2">app_name</a>[hook_data-&gt;<a class="code" href="../../db/d13/structdynamic__dtmf__hook__data.html#a9e39206df1c618246c1441bff4d24f7c">feature_offset</a>], feature_name);<span class="comment">/* Safe */</span></div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;   res = <a class="code" href="../../dc/d7a/bridge__features_8h.html#a48ebc85ae4e4a203014711dc3a492ac5">ast_bridge_dtmf_hook</a>(features, dtmf, <a class="code" href="../../d7/d9b/bridge__basic_8c.html#ae750ee515d3690abdd1462fca0b52a9e">dynamic_dtmf_hook_trip</a>, hook_data,</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#ad42ab843b767e8b57162c10a158b75c3">ast_free_ptr</a>,</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;      <a class="code" href="../../dc/d7a/bridge__features_8h.html#a41510c1f43cb3401f5c7c88d9c9a8d11a2b221cc62ec019751101af0d7a754cb5">AST_BRIDGE_HOOK_REMOVE_ON_PULL</a> | <a class="code" href="../../dc/d7a/bridge__features_8h.html#a41510c1f43cb3401f5c7c88d9c9a8d11ac153fba92bea66516462b2958d2fcdce">AST_BRIDGE_HOOK_REMOVE_ON_PERSONALITY_CHANGE</a>);</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;   <span class="keywordflow">if</span> (res) {</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(hook_data);</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;   }</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;}</div><div class="ttc" id="structdynamic__dtmf__hook__data_html_a9f4835eab8f88d55b1b001792136937c"><div class="ttname"><a href="../../db/d13/structdynamic__dtmf__hook__data.html#a9f4835eab8f88d55b1b001792136937c">dynamic_dtmf_hook_data::moh_offset</a></div><div class="ttdeci">int moh_offset</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00458">bridge_basic.c:458</a></div></div>
<div class="ttc" id="bridge__features_8h_html_a41510c1f43cb3401f5c7c88d9c9a8d11a2b221cc62ec019751101af0d7a754cb5"><div class="ttname"><a href="../../dc/d7a/bridge__features_8h.html#a41510c1f43cb3401f5c7c88d9c9a8d11a2b221cc62ec019751101af0d7a754cb5">AST_BRIDGE_HOOK_REMOVE_ON_PULL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00183">bridge_features.h:183</a></div></div>
<div class="ttc" id="structdynamic__dtmf__hook__data_html_a9e39206df1c618246c1441bff4d24f7c"><div class="ttname"><a href="../../db/d13/structdynamic__dtmf__hook__data.html#a9e39206df1c618246c1441bff4d24f7c">dynamic_dtmf_hook_data::feature_offset</a></div><div class="ttdeci">int feature_offset</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00456">bridge_basic.c:456</a></div></div>
<div class="ttc" id="bridge__features_8h_html_a41510c1f43cb3401f5c7c88d9c9a8d11ac153fba92bea66516462b2958d2fcdce"><div class="ttname"><a href="../../dc/d7a/bridge__features_8h.html#a41510c1f43cb3401f5c7c88d9c9a8d11ac153fba92bea66516462b2958d2fcdce">AST_BRIDGE_HOOK_REMOVE_ON_PERSONALITY_CHANGE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00185">bridge_features.h:185</a></div></div>
<div class="ttc" id="astmm_8h_html_ad42ab843b767e8b57162c10a158b75c3"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ad42ab843b767e8b57162c10a158b75c3">ast_free_ptr</a></div><div class="ttdeci">void ast_free_ptr(void *ptr)</div><div class="ttdoc">free() wrapper </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db0/astmm_8c_source.html#l01771">astmm.c:1771</a></div></div>
<div class="ttc" id="structdynamic__dtmf__hook__data_html_ac92588540e8c1d014a08cd8a45462b19"><div class="ttname"><a href="../../db/d13/structdynamic__dtmf__hook__data.html#ac92588540e8c1d014a08cd8a45462b19">dynamic_dtmf_hook_data::flags</a></div><div class="ttdeci">unsigned int flags</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00454">bridge_basic.c:454</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_ae750ee515d3690abdd1462fca0b52a9e"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#ae750ee515d3690abdd1462fca0b52a9e">dynamic_dtmf_hook_trip</a></div><div class="ttdeci">static int dynamic_dtmf_hook_trip(struct ast_bridge_channel *bridge_channel, void *hook_pvt)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00476">bridge_basic.c:476</a></div></div>
<div class="ttc" id="structdynamic__dtmf__hook__data_html_aaf2e732519876c8e04123d2f323ac9bd"><div class="ttname"><a href="../../db/d13/structdynamic__dtmf__hook__data.html#aaf2e732519876c8e04123d2f323ac9bd">dynamic_dtmf_hook_data::app_args_offset</a></div><div class="ttdeci">int app_args_offset</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00460">bridge_basic.c:460</a></div></div>
<div class="ttc" id="astmm_8h_html_ae63d4f486bcf6eac7c1593f867717d91"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ae63d4f486bcf6eac7c1593f867717d91">ast_malloc</a></div><div class="ttdeci">#define ast_malloc(len)</div><div class="ttdoc">A wrapper for malloc() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00193">astmm.h:193</a></div></div>
<div class="ttc" id="structdynamic__dtmf__hook__data_html_ad979c2b27e68fccd6f5920a16213e8b2"><div class="ttname"><a href="../../db/d13/structdynamic__dtmf__hook__data.html#ad979c2b27e68fccd6f5920a16213e8b2">dynamic_dtmf_hook_data::app_name</a></div><div class="ttdeci">char app_name[0]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00462">bridge_basic.c:462</a></div></div>
<div class="ttc" id="structdynamic__dtmf__hook__data_html"><div class="ttname"><a href="../../db/d13/structdynamic__dtmf__hook__data.html">dynamic_dtmf_hook_data</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00452">bridge_basic.c:452</a></div></div>
<div class="ttc" id="pbx__app_8c_html_a6d3c140ecf1f736c6750d5a17e5bf958"><div class="ttname"><a href="../../dd/d16/pbx__app_8c.html#a6d3c140ecf1f736c6750d5a17e5bf958">app_name</a></div><div class="ttdeci">const char * app_name(struct ast_app *app)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d16/pbx__app_8c_source.html#l00463">pbx_app.c:463</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="bridge__features_8h_html_a48ebc85ae4e4a203014711dc3a492ac5"><div class="ttname"><a href="../../dc/d7a/bridge__features_8h.html#a48ebc85ae4e4a203014711dc3a492ac5">ast_bridge_dtmf_hook</a></div><div class="ttdeci">int ast_bridge_dtmf_hook(struct ast_bridge_features *features, const char *dtmf, ast_bridge_hook_callback callback, void *hook_pvt, ast_bridge_hook_pvt_destructor destructor, enum ast_bridge_hook_remove_flags remove_flags)</div><div class="ttdoc">Attach a DTMF hook to a bridge features structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l03245">bridge.c:3245</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a00958961f573644845f275eff5ad12bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a00958961f573644845f275eff5ad12bf">&#9670;&nbsp;</a></span>dynamic_dtmf_hook_callback()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void dynamic_dtmf_hook_callback </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *&#160;</td>
          <td class="paramname"><em>bridge_channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>payload</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>payload_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00436">436</a> of file <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html">bridge_basic.c</a>.</p>

<p class="reference">References <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00425">dynamic_dtmf_hook_run::activated_offset</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00431">dynamic_dtmf_hook_run::app_args_offset</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00433">dynamic_dtmf_hook_run::app_name</a>, <a class="el" href="../../d3/d32/bridge__channel_8c_source.html#l01241">ast_bridge_channel_run_app()</a>, <a class="el" href="../../de/d41/bridge__channel_8h_source.html#l00091">ast_bridge_channel::chan</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00427">dynamic_dtmf_hook_run::feature_offset</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00429">dynamic_dtmf_hook_run::moh_offset</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../d3/d8c/pbx__variables_8c_source.html#l01071">pbx_builtin_setvar_helper()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00476">dynamic_dtmf_hook_trip()</a>.</p>
<div class="fragment"><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;{</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan = bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>;</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;   <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="../../d9/d66/structdynamic__dtmf__hook__run.html">dynamic_dtmf_hook_run</a> *run_data = payload;</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;   <a class="code" href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a>(chan, <span class="stringliteral">&quot;DYNAMIC_FEATURENAME&quot;</span>,</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;      &amp;run_data-&gt;<a class="code" href="../../d9/d66/structdynamic__dtmf__hook__run.html#ad979c2b27e68fccd6f5920a16213e8b2">app_name</a>[run_data-&gt;<a class="code" href="../../d9/d66/structdynamic__dtmf__hook__run.html#a9e39206df1c618246c1441bff4d24f7c">feature_offset</a>]);</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;   <a class="code" href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a>(chan, <span class="stringliteral">&quot;DYNAMIC_WHO_ACTIVATED&quot;</span>,</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;      &amp;run_data-&gt;<a class="code" href="../../d9/d66/structdynamic__dtmf__hook__run.html#ad979c2b27e68fccd6f5920a16213e8b2">app_name</a>[run_data-&gt;<a class="code" href="../../d9/d66/structdynamic__dtmf__hook__run.html#a3f8878358f21184603ed13774271180f">activated_offset</a>]);</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;   <a class="code" href="../../de/d41/bridge__channel_8h.html#a18a051cde2dd2ad809524473ef4ae5ef">ast_bridge_channel_run_app</a>(bridge_channel, run_data-&gt;<a class="code" href="../../d9/d66/structdynamic__dtmf__hook__run.html#ad979c2b27e68fccd6f5920a16213e8b2">app_name</a>,</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;      run_data-&gt;<a class="code" href="../../d9/d66/structdynamic__dtmf__hook__run.html#aaf2e732519876c8e04123d2f323ac9bd">app_args_offset</a> ? &amp;run_data-&gt;<a class="code" href="../../d9/d66/structdynamic__dtmf__hook__run.html#ad979c2b27e68fccd6f5920a16213e8b2">app_name</a>[run_data-&gt;<a class="code" href="../../d9/d66/structdynamic__dtmf__hook__run.html#aaf2e732519876c8e04123d2f323ac9bd">app_args_offset</a>] : <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;      run_data-&gt;<a class="code" href="../../d9/d66/structdynamic__dtmf__hook__run.html#a9f4835eab8f88d55b1b001792136937c">moh_offset</a> ? &amp;run_data-&gt;<a class="code" href="../../d9/d66/structdynamic__dtmf__hook__run.html#ad979c2b27e68fccd6f5920a16213e8b2">app_name</a>[run_data-&gt;<a class="code" href="../../d9/d66/structdynamic__dtmf__hook__run.html#a9f4835eab8f88d55b1b001792136937c">moh_offset</a>] : <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;}</div><div class="ttc" id="structast__channel_html"><div class="ttname"><a href="../../df/d3c/structast__channel.html">ast_channel</a></div><div class="ttdoc">Main Channel structure associated with a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00073">channel_internal_api.c:73</a></div></div>
<div class="ttc" id="bridge__channel_8h_html_a18a051cde2dd2ad809524473ef4ae5ef"><div class="ttname"><a href="../../de/d41/bridge__channel_8h.html#a18a051cde2dd2ad809524473ef4ae5ef">ast_bridge_channel_run_app</a></div><div class="ttdeci">void ast_bridge_channel_run_app(struct ast_bridge_channel *bridge_channel, const char *app_name, const char *app_args, const char *moh_class)</div><div class="ttdoc">Run an application on the bridge channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d32/bridge__channel_8c_source.html#l01241">bridge_channel.c:1241</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structdynamic__dtmf__hook__run_html_aaf2e732519876c8e04123d2f323ac9bd"><div class="ttname"><a href="../../d9/d66/structdynamic__dtmf__hook__run.html#aaf2e732519876c8e04123d2f323ac9bd">dynamic_dtmf_hook_run::app_args_offset</a></div><div class="ttdeci">int app_args_offset</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00431">bridge_basic.c:431</a></div></div>
<div class="ttc" id="structdynamic__dtmf__hook__run_html_a9f4835eab8f88d55b1b001792136937c"><div class="ttname"><a href="../../d9/d66/structdynamic__dtmf__hook__run.html#a9f4835eab8f88d55b1b001792136937c">dynamic_dtmf_hook_run::moh_offset</a></div><div class="ttdeci">int moh_offset</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00429">bridge_basic.c:429</a></div></div>
<div class="ttc" id="structdynamic__dtmf__hook__run_html_a3f8878358f21184603ed13774271180f"><div class="ttname"><a href="../../d9/d66/structdynamic__dtmf__hook__run.html#a3f8878358f21184603ed13774271180f">dynamic_dtmf_hook_run::activated_offset</a></div><div class="ttdeci">int activated_offset</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00425">bridge_basic.c:425</a></div></div>
<div class="ttc" id="structdynamic__dtmf__hook__run_html_ad979c2b27e68fccd6f5920a16213e8b2"><div class="ttname"><a href="../../d9/d66/structdynamic__dtmf__hook__run.html#ad979c2b27e68fccd6f5920a16213e8b2">dynamic_dtmf_hook_run::app_name</a></div><div class="ttdeci">char app_name[0]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00433">bridge_basic.c:433</a></div></div>
<div class="ttc" id="pbx_8h_html_a6e5b90edb84d216267148dddcffe9b9a"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a></div><div class="ttdeci">int pbx_builtin_setvar_helper(struct ast_channel *chan, const char *name, const char *value)</div><div class="ttdoc">Add a variable to the channel variable stack, removing the most recently set value for the same name...</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d8c/pbx__variables_8c_source.html#l01071">pbx_variables.c:1071</a></div></div>
<div class="ttc" id="structast__bridge__channel_html_a84d1435c5b8d387806714ea7079304b7"><div class="ttname"><a href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">ast_bridge_channel::chan</a></div><div class="ttdeci">struct ast_channel * chan</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00091">bridge_channel.h:91</a></div></div>
<div class="ttc" id="structdynamic__dtmf__hook__run_html_a9e39206df1c618246c1441bff4d24f7c"><div class="ttname"><a href="../../d9/d66/structdynamic__dtmf__hook__run.html#a9e39206df1c618246c1441bff4d24f7c">dynamic_dtmf_hook_run::feature_offset</a></div><div class="ttdeci">int feature_offset</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00427">bridge_basic.c:427</a></div></div>
<div class="ttc" id="structdynamic__dtmf__hook__run_html"><div class="ttname"><a href="../../d9/d66/structdynamic__dtmf__hook__run.html">dynamic_dtmf_hook_run</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00423">bridge_basic.c:423</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae750ee515d3690abdd1462fca0b52a9e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae750ee515d3690abdd1462fca0b52a9e">&#9670;&nbsp;</a></span>dynamic_dtmf_hook_trip()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int dynamic_dtmf_hook_trip </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *&#160;</td>
          <td class="paramname"><em>bridge_channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>hook_pvt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00476">476</a> of file <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html">bridge_basic.c</a>.</p>

<p class="reference">References <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00425">dynamic_dtmf_hook_run::activated_offset</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00431">dynamic_dtmf_hook_run::app_args_offset</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00460">dynamic_dtmf_hook_data::app_args_offset</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00433">dynamic_dtmf_hook_run::app_name</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00462">dynamic_dtmf_hook_data::app_name</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00290">ast_alloca</a>, <a class="el" href="../../de/d41/bridge__channel_8h_source.html#l00616">AST_BRIDGE_CHANNEL_CB_OPTION_MEDIA</a>, <a class="el" href="../../d3/d32/bridge__channel_8c_source.html#l01484">ast_bridge_channel_write_callback()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02945">ast_channel_lock</a>, <a class="el" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../de/d47/features_8h_source.html#l00035">AST_FEATURE_FLAG_ONPEER</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00300">ast_strdupa</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00063">ast_test_flag</a>, <a class="el" href="../../de/d41/bridge__channel_8h_source.html#l00091">ast_bridge_channel::chan</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00436">dynamic_dtmf_hook_callback()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00427">dynamic_dtmf_hook_run::feature_offset</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00456">dynamic_dtmf_hook_data::feature_offset</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00429">dynamic_dtmf_hook_run::moh_offset</a>, and <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00458">dynamic_dtmf_hook_data::moh_offset</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00544">dynamic_dtmf_hook_add()</a>.</p>
<div class="fragment"><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;{</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../db/d13/structdynamic__dtmf__hook__data.html">dynamic_dtmf_hook_data</a> *pvt = hook_pvt;</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/d66/structdynamic__dtmf__hook__run.html">dynamic_dtmf_hook_run</a> *run_data;</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *activated_name;</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;   <span class="keywordtype">size_t</span> len_name;</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;   <span class="keywordtype">size_t</span> len_args;</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;   <span class="keywordtype">size_t</span> len_moh;</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;   <span class="keywordtype">size_t</span> len_feature;</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;   <span class="keywordtype">size_t</span> len_activated;</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;   <span class="keywordtype">size_t</span> len_data;</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;   <span class="comment">/* Determine lengths of things. */</span></div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;   len_name = strlen(pvt-&gt;<a class="code" href="../../db/d13/structdynamic__dtmf__hook__data.html#ad979c2b27e68fccd6f5920a16213e8b2">app_name</a>) + 1;</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;   len_args = pvt-&gt;<a class="code" href="../../db/d13/structdynamic__dtmf__hook__data.html#aaf2e732519876c8e04123d2f323ac9bd">app_args_offset</a> ? strlen(&amp;pvt-&gt;<a class="code" href="../../db/d13/structdynamic__dtmf__hook__data.html#ad979c2b27e68fccd6f5920a16213e8b2">app_name</a>[pvt-&gt;<a class="code" href="../../db/d13/structdynamic__dtmf__hook__data.html#aaf2e732519876c8e04123d2f323ac9bd">app_args_offset</a>]) + 1 : 0;</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;   len_moh = pvt-&gt;<a class="code" href="../../db/d13/structdynamic__dtmf__hook__data.html#a9f4835eab8f88d55b1b001792136937c">moh_offset</a> ? strlen(&amp;pvt-&gt;<a class="code" href="../../db/d13/structdynamic__dtmf__hook__data.html#ad979c2b27e68fccd6f5920a16213e8b2">app_name</a>[pvt-&gt;<a class="code" href="../../db/d13/structdynamic__dtmf__hook__data.html#a9f4835eab8f88d55b1b001792136937c">moh_offset</a>]) + 1 : 0;</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;   len_feature = strlen(&amp;pvt-&gt;<a class="code" href="../../db/d13/structdynamic__dtmf__hook__data.html#ad979c2b27e68fccd6f5920a16213e8b2">app_name</a>[pvt-&gt;<a class="code" href="../../db/d13/structdynamic__dtmf__hook__data.html#a9e39206df1c618246c1441bff4d24f7c">feature_offset</a>]) + 1;</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>);</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;   activated_name = <a class="code" href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>));</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>);</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;   len_activated = strlen(activated_name) + 1;</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;   len_data = <span class="keyword">sizeof</span>(*run_data) + len_name + len_args + len_moh + len_feature + len_activated;</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;   <span class="comment">/* Fill in dynamic feature run hook data. */</span></div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;   run_data = <a class="code" href="../../d8/d8a/astmm_8h.html#a249282ecc7ba5a1a49fa75e9a33d1717">ast_alloca</a>(len_data);</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;   run_data-&gt;<a class="code" href="../../d9/d66/structdynamic__dtmf__hook__run.html#aaf2e732519876c8e04123d2f323ac9bd">app_args_offset</a> = len_args ? len_name : 0;</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;   run_data-&gt;<a class="code" href="../../d9/d66/structdynamic__dtmf__hook__run.html#a9f4835eab8f88d55b1b001792136937c">moh_offset</a> = len_moh ? len_name + len_args : 0;</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;   run_data-&gt;<a class="code" href="../../d9/d66/structdynamic__dtmf__hook__run.html#a9e39206df1c618246c1441bff4d24f7c">feature_offset</a> = len_name + len_args + len_moh;</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;   run_data-&gt;<a class="code" href="../../d9/d66/structdynamic__dtmf__hook__run.html#a3f8878358f21184603ed13774271180f">activated_offset</a> = len_name + len_args + len_moh + len_feature;</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;   strcpy(run_data-&gt;<a class="code" href="../../d9/d66/structdynamic__dtmf__hook__run.html#ad979c2b27e68fccd6f5920a16213e8b2">app_name</a>, pvt-&gt;<a class="code" href="../../db/d13/structdynamic__dtmf__hook__data.html#ad979c2b27e68fccd6f5920a16213e8b2">app_name</a>);<span class="comment">/* Safe */</span></div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;   <span class="keywordflow">if</span> (len_args) {</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;      strcpy(&amp;run_data-&gt;<a class="code" href="../../d9/d66/structdynamic__dtmf__hook__run.html#ad979c2b27e68fccd6f5920a16213e8b2">app_name</a>[run_data-&gt;<a class="code" href="../../d9/d66/structdynamic__dtmf__hook__run.html#aaf2e732519876c8e04123d2f323ac9bd">app_args_offset</a>],</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;         &amp;pvt-&gt;<a class="code" href="../../db/d13/structdynamic__dtmf__hook__data.html#ad979c2b27e68fccd6f5920a16213e8b2">app_name</a>[pvt-&gt;<a class="code" href="../../db/d13/structdynamic__dtmf__hook__data.html#aaf2e732519876c8e04123d2f323ac9bd">app_args_offset</a>]);<span class="comment">/* Safe */</span></div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;   }</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;   <span class="keywordflow">if</span> (len_moh) {</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;      strcpy(&amp;run_data-&gt;<a class="code" href="../../d9/d66/structdynamic__dtmf__hook__run.html#ad979c2b27e68fccd6f5920a16213e8b2">app_name</a>[run_data-&gt;<a class="code" href="../../d9/d66/structdynamic__dtmf__hook__run.html#a9f4835eab8f88d55b1b001792136937c">moh_offset</a>],</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;         &amp;pvt-&gt;<a class="code" href="../../db/d13/structdynamic__dtmf__hook__data.html#ad979c2b27e68fccd6f5920a16213e8b2">app_name</a>[pvt-&gt;<a class="code" href="../../db/d13/structdynamic__dtmf__hook__data.html#a9f4835eab8f88d55b1b001792136937c">moh_offset</a>]);<span class="comment">/* Safe */</span></div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;   }</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;   strcpy(&amp;run_data-&gt;<a class="code" href="../../d9/d66/structdynamic__dtmf__hook__run.html#ad979c2b27e68fccd6f5920a16213e8b2">app_name</a>[run_data-&gt;<a class="code" href="../../d9/d66/structdynamic__dtmf__hook__run.html#a9e39206df1c618246c1441bff4d24f7c">feature_offset</a>],</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;      &amp;pvt-&gt;<a class="code" href="../../db/d13/structdynamic__dtmf__hook__data.html#ad979c2b27e68fccd6f5920a16213e8b2">app_name</a>[pvt-&gt;<a class="code" href="../../db/d13/structdynamic__dtmf__hook__data.html#a9e39206df1c618246c1441bff4d24f7c">feature_offset</a>]);<span class="comment">/* Safe */</span></div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;   strcpy(&amp;run_data-&gt;<a class="code" href="../../d9/d66/structdynamic__dtmf__hook__run.html#ad979c2b27e68fccd6f5920a16213e8b2">app_name</a>[run_data-&gt;<a class="code" href="../../d9/d66/structdynamic__dtmf__hook__run.html#a3f8878358f21184603ed13774271180f">activated_offset</a>], activated_name);<span class="comment">/* Safe */</span></div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a>(pvt, <a class="code" href="../../de/d47/features_8h.html#a3f4a95405348aa63ef907e692901011fa1d106267aa4d386c2354dc57b8ec6a40">AST_FEATURE_FLAG_ONPEER</a>)) {</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;      <a class="code" href="../../de/d41/bridge__channel_8h.html#ae014c66309327185b609d7e3ccf21af5">ast_bridge_channel_write_callback</a>(bridge_channel,</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;         <a class="code" href="../../de/d41/bridge__channel_8h.html#a411218cf4d743baa73c2def8f024cb23a7d9b9e7c20920a163afd3009c21a0e77">AST_BRIDGE_CHANNEL_CB_OPTION_MEDIA</a>,</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;         <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a00958961f573644845f275eff5ad12bf">dynamic_dtmf_hook_callback</a>, run_data, len_data);</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;      <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a00958961f573644845f275eff5ad12bf">dynamic_dtmf_hook_callback</a>(bridge_channel, run_data, len_data);</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;   }</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;}</div><div class="ttc" id="channel_8h_html_a493bdebe876caafb8ee535853310364a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a></div><div class="ttdeci">#define ast_channel_lock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02945">channel.h:2945</a></div></div>
<div class="ttc" id="structdynamic__dtmf__hook__data_html_a9f4835eab8f88d55b1b001792136937c"><div class="ttname"><a href="../../db/d13/structdynamic__dtmf__hook__data.html#a9f4835eab8f88d55b1b001792136937c">dynamic_dtmf_hook_data::moh_offset</a></div><div class="ttdeci">int moh_offset</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00458">bridge_basic.c:458</a></div></div>
<div class="ttc" id="utils_8h_html_a00d4c9254c9827d6fa44f17a326744a5"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a></div><div class="ttdeci">#define ast_test_flag(p, flag)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00063">utils.h:63</a></div></div>
<div class="ttc" id="features_8h_html_a3f4a95405348aa63ef907e692901011fa1d106267aa4d386c2354dc57b8ec6a40"><div class="ttname"><a href="../../de/d47/features_8h.html#a3f4a95405348aa63ef907e692901011fa1d106267aa4d386c2354dc57b8ec6a40">AST_FEATURE_FLAG_ONPEER</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d47/features_8h_source.html#l00035">features.h:35</a></div></div>
<div class="ttc" id="structdynamic__dtmf__hook__data_html_a9e39206df1c618246c1441bff4d24f7c"><div class="ttname"><a href="../../db/d13/structdynamic__dtmf__hook__data.html#a9e39206df1c618246c1441bff4d24f7c">dynamic_dtmf_hook_data::feature_offset</a></div><div class="ttdeci">int feature_offset</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00456">bridge_basic.c:456</a></div></div>
<div class="ttc" id="bridge__channel_8h_html_ae014c66309327185b609d7e3ccf21af5"><div class="ttname"><a href="../../de/d41/bridge__channel_8h.html#ae014c66309327185b609d7e3ccf21af5">ast_bridge_channel_write_callback</a></div><div class="ttdeci">int ast_bridge_channel_write_callback(struct ast_bridge_channel *bridge_channel, enum ast_bridge_channel_custom_callback_option flags, ast_bridge_custom_callback_fn callback, const void *payload, size_t payload_size)</div><div class="ttdoc">Write a bridge action custom callback frame into the bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d32/bridge__channel_8c_source.html#l01484">bridge_channel.c:1484</a></div></div>
<div class="ttc" id="bridge__channel_8h_html_a411218cf4d743baa73c2def8f024cb23a7d9b9e7c20920a163afd3009c21a0e77"><div class="ttname"><a href="../../de/d41/bridge__channel_8h.html#a411218cf4d743baa73c2def8f024cb23a7d9b9e7c20920a163afd3009c21a0e77">AST_BRIDGE_CHANNEL_CB_OPTION_MEDIA</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00616">bridge_channel.h:616</a></div></div>
<div class="ttc" id="structdynamic__dtmf__hook__data_html_aaf2e732519876c8e04123d2f323ac9bd"><div class="ttname"><a href="../../db/d13/structdynamic__dtmf__hook__data.html#aaf2e732519876c8e04123d2f323ac9bd">dynamic_dtmf_hook_data::app_args_offset</a></div><div class="ttdeci">int app_args_offset</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00460">bridge_basic.c:460</a></div></div>
<div class="ttc" id="astmm_8h_html_ab5f0750cc80ba337fdcbddea2d3a1ee6"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a></div><div class="ttdeci">#define ast_strdupa(s)</div><div class="ttdoc">duplicate a string in memory from the stack </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00300">astmm.h:300</a></div></div>
<div class="ttc" id="structdynamic__dtmf__hook__run_html_aaf2e732519876c8e04123d2f323ac9bd"><div class="ttname"><a href="../../d9/d66/structdynamic__dtmf__hook__run.html#aaf2e732519876c8e04123d2f323ac9bd">dynamic_dtmf_hook_run::app_args_offset</a></div><div class="ttdeci">int app_args_offset</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00431">bridge_basic.c:431</a></div></div>
<div class="ttc" id="astmm_8h_html_a249282ecc7ba5a1a49fa75e9a33d1717"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a249282ecc7ba5a1a49fa75e9a33d1717">ast_alloca</a></div><div class="ttdeci">#define ast_alloca(size)</div><div class="ttdoc">call __builtin_alloca to ensure we get gcc builtin semantics </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00290">astmm.h:290</a></div></div>
<div class="ttc" id="structdynamic__dtmf__hook__run_html_a9f4835eab8f88d55b1b001792136937c"><div class="ttname"><a href="../../d9/d66/structdynamic__dtmf__hook__run.html#a9f4835eab8f88d55b1b001792136937c">dynamic_dtmf_hook_run::moh_offset</a></div><div class="ttdeci">int moh_offset</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00429">bridge_basic.c:429</a></div></div>
<div class="ttc" id="structdynamic__dtmf__hook__data_html_ad979c2b27e68fccd6f5920a16213e8b2"><div class="ttname"><a href="../../db/d13/structdynamic__dtmf__hook__data.html#ad979c2b27e68fccd6f5920a16213e8b2">dynamic_dtmf_hook_data::app_name</a></div><div class="ttdeci">char app_name[0]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00462">bridge_basic.c:462</a></div></div>
<div class="ttc" id="structdynamic__dtmf__hook__data_html"><div class="ttname"><a href="../../db/d13/structdynamic__dtmf__hook__data.html">dynamic_dtmf_hook_data</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00452">bridge_basic.c:452</a></div></div>
<div class="ttc" id="structdynamic__dtmf__hook__run_html_a3f8878358f21184603ed13774271180f"><div class="ttname"><a href="../../d9/d66/structdynamic__dtmf__hook__run.html#a3f8878358f21184603ed13774271180f">dynamic_dtmf_hook_run::activated_offset</a></div><div class="ttdeci">int activated_offset</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00425">bridge_basic.c:425</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="structdynamic__dtmf__hook__run_html_ad979c2b27e68fccd6f5920a16213e8b2"><div class="ttname"><a href="../../d9/d66/structdynamic__dtmf__hook__run.html#ad979c2b27e68fccd6f5920a16213e8b2">dynamic_dtmf_hook_run::app_name</a></div><div class="ttdeci">char app_name[0]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00433">bridge_basic.c:433</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a00958961f573644845f275eff5ad12bf"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a00958961f573644845f275eff5ad12bf">dynamic_dtmf_hook_callback</a></div><div class="ttdeci">static void dynamic_dtmf_hook_callback(struct ast_bridge_channel *bridge_channel, const void *payload, size_t payload_size)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00436">bridge_basic.c:436</a></div></div>
<div class="ttc" id="structast__bridge__channel_html_a84d1435c5b8d387806714ea7079304b7"><div class="ttname"><a href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">ast_bridge_channel::chan</a></div><div class="ttdeci">struct ast_channel * chan</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00091">bridge_channel.h:91</a></div></div>
<div class="ttc" id="structdynamic__dtmf__hook__run_html_a9e39206df1c618246c1441bff4d24f7c"><div class="ttname"><a href="../../d9/d66/structdynamic__dtmf__hook__run.html#a9e39206df1c618246c1441bff4d24f7c">dynamic_dtmf_hook_run::feature_offset</a></div><div class="ttdeci">int feature_offset</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00427">bridge_basic.c:427</a></div></div>
<div class="ttc" id="channel_8h_html_a7ca2fda13b129a55c251b56729de285b"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a></div><div class="ttdeci">const char * ast_channel_name(const struct ast_channel *chan)</div></div>
<div class="ttc" id="structdynamic__dtmf__hook__run_html"><div class="ttname"><a href="../../d9/d66/structdynamic__dtmf__hook__run.html">dynamic_dtmf_hook_run</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00423">bridge_basic.c:423</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a512d0133f9317052f9fd33d58225002e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a512d0133f9317052f9fd33d58225002e">&#9670;&nbsp;</a></span>fail_enter()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int fail_enter </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dd/d9e/structattended__transfer__properties.html">attended_transfer_properties</a> *&#160;</td>
          <td class="paramname"><em>props</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02727">2727</a> of file <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html">bridge_basic.c</a>.</p>

<p class="reference">References <a class="el" href="../../d0/d95/bridge_8c_source.html#l00970">ast_bridge_destroy()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01309">attended_transfer_properties::transferee_bridge</a>.</p>
<div class="fragment"><div class="line"><a name="l02728"></a><span class="lineno"> 2728</span>&#160;{</div><div class="line"><a name="l02729"></a><span class="lineno"> 2729</span>&#160;   <span class="keywordflow">if</span> (props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a7c148ea37d33eb1640a17177c700be43">transferee_bridge</a>) {</div><div class="line"><a name="l02730"></a><span class="lineno"> 2730</span>&#160;      <a class="code" href="../../d4/d56/bridge_8h.html#a4adad484788bb018b8699eeed2ddfedd">ast_bridge_destroy</a>(props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a7c148ea37d33eb1640a17177c700be43">transferee_bridge</a>, 0);</div><div class="line"><a name="l02731"></a><span class="lineno"> 2731</span>&#160;      props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a7c148ea37d33eb1640a17177c700be43">transferee_bridge</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l02732"></a><span class="lineno"> 2732</span>&#160;   }</div><div class="line"><a name="l02733"></a><span class="lineno"> 2733</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02734"></a><span class="lineno"> 2734</span>&#160;}</div><div class="ttc" id="structattended__transfer__properties_html_a7c148ea37d33eb1640a17177c700be43"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html#a7c148ea37d33eb1640a17177c700be43">attended_transfer_properties::transferee_bridge</a></div><div class="ttdeci">struct ast_bridge * transferee_bridge</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01309">bridge_basic.c:1309</a></div></div>
<div class="ttc" id="bridge_8h_html_a4adad484788bb018b8699eeed2ddfedd"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a4adad484788bb018b8699eeed2ddfedd">ast_bridge_destroy</a></div><div class="ttdeci">int ast_bridge_destroy(struct ast_bridge *bridge, int cause)</div><div class="ttdoc">Destroy a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l00970">bridge.c:970</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="afafcaa3269e433aa5826316f13071584"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afafcaa3269e433aa5826316f13071584">&#9670;&nbsp;</a></span>feature_attended_transfer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int feature_attended_transfer </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *&#160;</td>
          <td class="paramname"><em>bridge_channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>hook_pvt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Internal built in feature for attended transfers. </p>
<p>This hook will set up a thread for monitoring the progress of an attended transfer. For more information about attended transfer progress, see documentation on the transfer state machine.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bridge_channel</td><td>The channel that pressed the attended transfer DTMF sequence </td></tr>
    <tr><td class="paramname">hook_pvt</td><td>Structure with further information about the attended transfer </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l03295">3295</a> of file <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html">bridge_basic.c</a>.</p>

<p class="reference">References <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l03121">add_transferer_role()</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l03617">ast_bridge_basic_new()</a>, <a class="el" href="../../d3/d32/bridge__channel_8c_source.html#l00369">ast_bridge_channel_merge_inhibit()</a>, <a class="el" href="../../d3/d32/bridge__channel_8c_source.html#l01167">ast_bridge_channel_write_hold()</a>, <a class="el" href="../../d3/d32/bridge__channel_8c_source.html#l01193">ast_bridge_channel_write_unhold()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l01924">ast_bridge_impart()</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00604">AST_BRIDGE_IMPART_CHAN_INDEPENDENT</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l03061">ast_bridge_merge_inhibit()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l06553">ast_call()</a>, <a class="el" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02970">ast_channel_ref</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l02548">ast_hangup()</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l00136">AST_MAX_CONTEXT</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l00135">AST_MAX_EXTENSION</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00563">ast_pthread_create_detached</a>, <a class="el" href="../../d1/d0f/stringfields_8h_source.html#l00514">ast_string_field_set</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00463">ast_verb</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l03098">attach_framehook()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l03044">attended_transfer_monitor_thread()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01409">attended_transfer_properties_alloc()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01508">attended_transfer_properties_shutdown()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l03530">bridge_basic_change_personality()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00062">BRIDGE_BASIC_PERSONALITY_ATXFER</a>, <a class="el" href="../../de/d41/bridge__channel_8h_source.html#l00091">ast_bridge_channel::chan</a>, <a class="el" href="../../dc/d7a/bridge__features_8h_source.html#l00299">ast_bridge_features_attended_transfer::context</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01303">attended_transfer_properties::context</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l03255">dial_transfer()</a>, <a class="el" href="../../da/d45/chan__alsa_8c_source.html#l00118">exten</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01303">attended_transfer_properties::exten</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l03160">grab_transfer()</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00392">ast_bridge::inhibit_merge</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00267">ast_bridge_methods::name</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01755">stream_failsound()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01313">attended_transfer_properties::target_bridge</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l01089">thread</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01317">attended_transfer_properties::transfer_target</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01309">attended_transfer_properties::transferee_bridge</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01315">attended_transfer_properties::transferer</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00409">ast_bridge::uniqueid</a>, and <a class="el" href="../../d4/d56/bridge_8h_source.html#l00359">ast_bridge::v_table</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l03639">ast_bridging_init_basic()</a>.</p>
<div class="fragment"><div class="line"><a name="l03296"></a><span class="lineno"> 3296</span>&#160;{</div><div class="line"><a name="l03297"></a><span class="lineno"> 3297</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/d6e/structast__bridge__features__attended__transfer.html">ast_bridge_features_attended_transfer</a> *attended_transfer = hook_pvt;</div><div class="line"><a name="l03298"></a><span class="lineno"> 3298</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/d9e/structattended__transfer__properties.html">attended_transfer_properties</a> *props;</div><div class="line"><a name="l03299"></a><span class="lineno"> 3299</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *bridge;</div><div class="line"><a name="l03300"></a><span class="lineno"> 3300</span>&#160;   <span class="keywordtype">char</span> destination[<a class="code" href="../../d5/d7b/channel_8h.html#af4e59494f74ad9e0c50170d9e276ad31">AST_MAX_EXTENSION</a> + <a class="code" href="../../d5/d7b/channel_8h.html#abcf1aea85b924e9cd605040b86241e2a">AST_MAX_CONTEXT</a> + 1];</div><div class="line"><a name="l03301"></a><span class="lineno"> 3301</span>&#160;   <span class="keywordtype">char</span> <a class="code" href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>[<a class="code" href="../../d5/d7b/channel_8h.html#af4e59494f74ad9e0c50170d9e276ad31">AST_MAX_EXTENSION</a>] = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l03302"></a><span class="lineno"> 3302</span>&#160;   pthread_t <a class="code" href="../../df/d44/app__meetme_8c.html#a01f75a9ad916f63a94e06a27635ba278">thread</a>;</div><div class="line"><a name="l03303"></a><span class="lineno"> 3303</span>&#160;</div><div class="line"><a name="l03304"></a><span class="lineno"> 3304</span>&#160;   <span class="comment">/* Inhibit the bridge before we do anything else. */</span></div><div class="line"><a name="l03305"></a><span class="lineno"> 3305</span>&#160;   bridge = <a class="code" href="../../de/d41/bridge__channel_8h.html#aada1c86f1020a0d546b371a8ff602cee">ast_bridge_channel_merge_inhibit</a>(bridge_channel, +1);</div><div class="line"><a name="l03306"></a><span class="lineno"> 3306</span>&#160;</div><div class="line"><a name="l03307"></a><span class="lineno"> 3307</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(3, <span class="stringliteral">&quot;Channel %s: Started DTMF attended transfer.\n&quot;</span>,</div><div class="line"><a name="l03308"></a><span class="lineno"> 3308</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>));</div><div class="line"><a name="l03309"></a><span class="lineno"> 3309</span>&#160;</div><div class="line"><a name="l03310"></a><span class="lineno"> 3310</span>&#160;   <span class="keywordflow">if</span> (strcmp(bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a2f11ecc852af02fffecf1411013f0873">v_table</a>-&gt;<a class="code" href="../../d2/dd3/structast__bridge__methods.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;basic&quot;</span>)) {</div><div class="line"><a name="l03311"></a><span class="lineno"> 3311</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Channel %s: Attended transfer attempted on unsupported bridge type &#39;%s&#39;.\n&quot;</span>,</div><div class="line"><a name="l03312"></a><span class="lineno"> 3312</span>&#160;         <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>), bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a2f11ecc852af02fffecf1411013f0873">v_table</a>-&gt;<a class="code" href="../../d2/dd3/structast__bridge__methods.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>);</div><div class="line"><a name="l03313"></a><span class="lineno"> 3313</span>&#160;      <a class="code" href="../../d4/d56/bridge_8h.html#a6bae9b013c815c40d0414080455e3592">ast_bridge_merge_inhibit</a>(bridge, -1);</div><div class="line"><a name="l03314"></a><span class="lineno"> 3314</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(bridge, -1);</div><div class="line"><a name="l03315"></a><span class="lineno"> 3315</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l03316"></a><span class="lineno"> 3316</span>&#160;   }</div><div class="line"><a name="l03317"></a><span class="lineno"> 3317</span>&#160;</div><div class="line"><a name="l03318"></a><span class="lineno"> 3318</span>&#160;   <span class="comment">/* Was the bridge inhibited before we inhibited it? */</span></div><div class="line"><a name="l03319"></a><span class="lineno"> 3319</span>&#160;   <span class="keywordflow">if</span> (1 &lt; bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#af005cc77b3514fdc7fb7aba4ba370f50">inhibit_merge</a>) {</div><div class="line"><a name="l03320"></a><span class="lineno"> 3320</span>&#160;      <span class="comment">/*</span></div><div class="line"><a name="l03321"></a><span class="lineno"> 3321</span>&#160;<span class="comment">       * The peer likely initiated attended transfer at the same time</span></div><div class="line"><a name="l03322"></a><span class="lineno"> 3322</span>&#160;<span class="comment">       * and we lost the race.</span></div><div class="line"><a name="l03323"></a><span class="lineno"> 3323</span>&#160;<span class="comment">       */</span></div><div class="line"><a name="l03324"></a><span class="lineno"> 3324</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(3, <span class="stringliteral">&quot;Channel %s: Bridge &#39;%s&#39; does not permit merging at this time.\n&quot;</span>,</div><div class="line"><a name="l03325"></a><span class="lineno"> 3325</span>&#160;         <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>), bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a753c7b39e3284d771f13f513b003d033">uniqueid</a>);</div><div class="line"><a name="l03326"></a><span class="lineno"> 3326</span>&#160;      <a class="code" href="../../d4/d56/bridge_8h.html#a6bae9b013c815c40d0414080455e3592">ast_bridge_merge_inhibit</a>(bridge, -1);</div><div class="line"><a name="l03327"></a><span class="lineno"> 3327</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(bridge, -1);</div><div class="line"><a name="l03328"></a><span class="lineno"> 3328</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l03329"></a><span class="lineno"> 3329</span>&#160;   }</div><div class="line"><a name="l03330"></a><span class="lineno"> 3330</span>&#160;</div><div class="line"><a name="l03331"></a><span class="lineno"> 3331</span>&#160;   props = <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a5b28b44da7b62fb84c14f4b82d07e81b">attended_transfer_properties_alloc</a>(bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>,</div><div class="line"><a name="l03332"></a><span class="lineno"> 3332</span>&#160;      attended_transfer ? attended_transfer-&gt;<a class="code" href="../../d2/d6e/structast__bridge__features__attended__transfer.html#ac25ea00ee3f082df06e0cf468cbde240">context</a> : <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l03333"></a><span class="lineno"> 3333</span>&#160;   <span class="keywordflow">if</span> (!props) {</div><div class="line"><a name="l03334"></a><span class="lineno"> 3334</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Channel %s: Unable to allocate control structure for performing attended transfer.\n&quot;</span>,</div><div class="line"><a name="l03335"></a><span class="lineno"> 3335</span>&#160;         <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>));</div><div class="line"><a name="l03336"></a><span class="lineno"> 3336</span>&#160;      <a class="code" href="../../d4/d56/bridge_8h.html#a6bae9b013c815c40d0414080455e3592">ast_bridge_merge_inhibit</a>(bridge, -1);</div><div class="line"><a name="l03337"></a><span class="lineno"> 3337</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(bridge, -1);</div><div class="line"><a name="l03338"></a><span class="lineno"> 3338</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l03339"></a><span class="lineno"> 3339</span>&#160;   }</div><div class="line"><a name="l03340"></a><span class="lineno"> 3340</span>&#160;</div><div class="line"><a name="l03341"></a><span class="lineno"> 3341</span>&#160;   props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a7c148ea37d33eb1640a17177c700be43">transferee_bridge</a> = bridge;</div><div class="line"><a name="l03342"></a><span class="lineno"> 3342</span>&#160;</div><div class="line"><a name="l03343"></a><span class="lineno"> 3343</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d7/d9b/bridge__basic_8c.html#ab8717a1dc6d72feda12b953ee8436f8b">add_transferer_role</a>(props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a43cf79e5f3675b2cdf001bceacb02e72">transferer</a>, attended_transfer)) {</div><div class="line"><a name="l03344"></a><span class="lineno"> 3344</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Channel %s: Unable to set transferrer bridge role.\n&quot;</span>,</div><div class="line"><a name="l03345"></a><span class="lineno"> 3345</span>&#160;         <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>));</div><div class="line"><a name="l03346"></a><span class="lineno"> 3346</span>&#160;      <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a0eb88142da03bf04ebf78147c617d2c6">attended_transfer_properties_shutdown</a>(props);</div><div class="line"><a name="l03347"></a><span class="lineno"> 3347</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l03348"></a><span class="lineno"> 3348</span>&#160;   }</div><div class="line"><a name="l03349"></a><span class="lineno"> 3349</span>&#160;</div><div class="line"><a name="l03350"></a><span class="lineno"> 3350</span>&#160;   <a class="code" href="../../de/d41/bridge__channel_8h.html#ad70b0a7df24a2aa9e284d8c785dcbd45">ast_bridge_channel_write_hold</a>(bridge_channel, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l03351"></a><span class="lineno"> 3351</span>&#160;</div><div class="line"><a name="l03352"></a><span class="lineno"> 3352</span>&#160;   <span class="comment">/* Grab the extension to transfer to */</span></div><div class="line"><a name="l03353"></a><span class="lineno"> 3353</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d7/d9b/bridge__basic_8c.html#aebcf07ece2b35dc2aa2097cb3ac6cc3e">grab_transfer</a>(bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>, exten, <span class="keyword">sizeof</span>(exten), props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a7faec841658b88ad0cfbc684853acad3">context</a>)) {</div><div class="line"><a name="l03354"></a><span class="lineno"> 3354</span>&#160;      <span class="comment">/*</span></div><div class="line"><a name="l03355"></a><span class="lineno"> 3355</span>&#160;<span class="comment">       * XXX The warning here really should be removed.  While the</span></div><div class="line"><a name="l03356"></a><span class="lineno"> 3356</span>&#160;<span class="comment">       * message is accurate, this is a normal exit for when the user</span></div><div class="line"><a name="l03357"></a><span class="lineno"> 3357</span>&#160;<span class="comment">       * fails to specify a valid transfer target.  e.g., The user</span></div><div class="line"><a name="l03358"></a><span class="lineno"> 3358</span>&#160;<span class="comment">       * hungup, didn&#39;t dial any digits, or dialed an invalid</span></div><div class="line"><a name="l03359"></a><span class="lineno"> 3359</span>&#160;<span class="comment">       * extension.</span></div><div class="line"><a name="l03360"></a><span class="lineno"> 3360</span>&#160;<span class="comment">       */</span></div><div class="line"><a name="l03361"></a><span class="lineno"> 3361</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Channel %s: Unable to acquire target extension for attended transfer.\n&quot;</span>,</div><div class="line"><a name="l03362"></a><span class="lineno"> 3362</span>&#160;         <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>));</div><div class="line"><a name="l03363"></a><span class="lineno"> 3363</span>&#160;      <a class="code" href="../../de/d41/bridge__channel_8h.html#a4be080559ea3fc87e50aa29a95af74f0">ast_bridge_channel_write_unhold</a>(bridge_channel);</div><div class="line"><a name="l03364"></a><span class="lineno"> 3364</span>&#160;      <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a0eb88142da03bf04ebf78147c617d2c6">attended_transfer_properties_shutdown</a>(props);</div><div class="line"><a name="l03365"></a><span class="lineno"> 3365</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l03366"></a><span class="lineno"> 3366</span>&#160;   }</div><div class="line"><a name="l03367"></a><span class="lineno"> 3367</span>&#160;</div><div class="line"><a name="l03368"></a><span class="lineno"> 3368</span>&#160;   <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(props, exten, exten);</div><div class="line"><a name="l03369"></a><span class="lineno"> 3369</span>&#160;</div><div class="line"><a name="l03370"></a><span class="lineno"> 3370</span>&#160;   <span class="comment">/* Fill the variable with the extension and context we want to call */</span></div><div class="line"><a name="l03371"></a><span class="lineno"> 3371</span>&#160;   snprintf(destination, <span class="keyword">sizeof</span>(destination), <span class="stringliteral">&quot;%s@%s&quot;</span>, props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#aaee31f4cc48985167efcd38ab252dac8">exten</a>, props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a7faec841658b88ad0cfbc684853acad3">context</a>);</div><div class="line"><a name="l03372"></a><span class="lineno"> 3372</span>&#160;</div><div class="line"><a name="l03373"></a><span class="lineno"> 3373</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;Channel %s: Attended transfer target &#39;%s&#39;\n&quot;</span>,</div><div class="line"><a name="l03374"></a><span class="lineno"> 3374</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>), destination);</div><div class="line"><a name="l03375"></a><span class="lineno"> 3375</span>&#160;</div><div class="line"><a name="l03376"></a><span class="lineno"> 3376</span>&#160;   <span class="comment">/* Get a channel that is the destination we wish to call */</span></div><div class="line"><a name="l03377"></a><span class="lineno"> 3377</span>&#160;   props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#af359fe2738df581812a3c9f7d3e32f10">transfer_target</a> = <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a0857f2fc207f8fb169f32f6a269b1b29">dial_transfer</a>(bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>, destination);</div><div class="line"><a name="l03378"></a><span class="lineno"> 3378</span>&#160;   <span class="keywordflow">if</span> (!props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#af359fe2738df581812a3c9f7d3e32f10">transfer_target</a>) {</div><div class="line"><a name="l03379"></a><span class="lineno"> 3379</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Channel %s: Unable to request outbound channel for attended transfer target.\n&quot;</span>,</div><div class="line"><a name="l03380"></a><span class="lineno"> 3380</span>&#160;         <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>));</div><div class="line"><a name="l03381"></a><span class="lineno"> 3381</span>&#160;      <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a2f8705385084d443451ef49e7f40d4f2">stream_failsound</a>(props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a43cf79e5f3675b2cdf001bceacb02e72">transferer</a>);</div><div class="line"><a name="l03382"></a><span class="lineno"> 3382</span>&#160;      <a class="code" href="../../de/d41/bridge__channel_8h.html#a4be080559ea3fc87e50aa29a95af74f0">ast_bridge_channel_write_unhold</a>(bridge_channel);</div><div class="line"><a name="l03383"></a><span class="lineno"> 3383</span>&#160;      <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a0eb88142da03bf04ebf78147c617d2c6">attended_transfer_properties_shutdown</a>(props);</div><div class="line"><a name="l03384"></a><span class="lineno"> 3384</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l03385"></a><span class="lineno"> 3385</span>&#160;   }</div><div class="line"><a name="l03386"></a><span class="lineno"> 3386</span>&#160;</div><div class="line"><a name="l03387"></a><span class="lineno"> 3387</span>&#160;</div><div class="line"><a name="l03388"></a><span class="lineno"> 3388</span>&#160;   <span class="comment">/* Create a bridge to use to talk to the person we are calling */</span></div><div class="line"><a name="l03389"></a><span class="lineno"> 3389</span>&#160;   props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#ab45c59137417246eaa392b3d8319fbc3">target_bridge</a> = <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a1410fb71fa67f9ee92f15b18439b7571">ast_bridge_basic_new</a>();</div><div class="line"><a name="l03390"></a><span class="lineno"> 3390</span>&#160;   <span class="keywordflow">if</span> (!props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#ab45c59137417246eaa392b3d8319fbc3">target_bridge</a>) {</div><div class="line"><a name="l03391"></a><span class="lineno"> 3391</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Channel %s: Unable to create bridge for attended transfer target.\n&quot;</span>,</div><div class="line"><a name="l03392"></a><span class="lineno"> 3392</span>&#160;         <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>));</div><div class="line"><a name="l03393"></a><span class="lineno"> 3393</span>&#160;      <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a2f8705385084d443451ef49e7f40d4f2">stream_failsound</a>(props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a43cf79e5f3675b2cdf001bceacb02e72">transferer</a>);</div><div class="line"><a name="l03394"></a><span class="lineno"> 3394</span>&#160;      <a class="code" href="../../de/d41/bridge__channel_8h.html#a4be080559ea3fc87e50aa29a95af74f0">ast_bridge_channel_write_unhold</a>(bridge_channel);</div><div class="line"><a name="l03395"></a><span class="lineno"> 3395</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#a29557c4823f5e9c02519a01daf6a289c">ast_hangup</a>(props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#af359fe2738df581812a3c9f7d3e32f10">transfer_target</a>);</div><div class="line"><a name="l03396"></a><span class="lineno"> 3396</span>&#160;      props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#af359fe2738df581812a3c9f7d3e32f10">transfer_target</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l03397"></a><span class="lineno"> 3397</span>&#160;      <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a0eb88142da03bf04ebf78147c617d2c6">attended_transfer_properties_shutdown</a>(props);</div><div class="line"><a name="l03398"></a><span class="lineno"> 3398</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l03399"></a><span class="lineno"> 3399</span>&#160;   }</div><div class="line"><a name="l03400"></a><span class="lineno"> 3400</span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#a6bae9b013c815c40d0414080455e3592">ast_bridge_merge_inhibit</a>(props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#ab45c59137417246eaa392b3d8319fbc3">target_bridge</a>, +1);</div><div class="line"><a name="l03401"></a><span class="lineno"> 3401</span>&#160;</div><div class="line"><a name="l03402"></a><span class="lineno"> 3402</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d7/d9b/bridge__basic_8c.html#af634e5717dd1ebf26f9cad76c43a9a96">attach_framehook</a>(props, props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#af359fe2738df581812a3c9f7d3e32f10">transfer_target</a>)) {</div><div class="line"><a name="l03403"></a><span class="lineno"> 3403</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Channel %s: Unable to attach framehook to transfer target.\n&quot;</span>,</div><div class="line"><a name="l03404"></a><span class="lineno"> 3404</span>&#160;         <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>));</div><div class="line"><a name="l03405"></a><span class="lineno"> 3405</span>&#160;      <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a2f8705385084d443451ef49e7f40d4f2">stream_failsound</a>(props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a43cf79e5f3675b2cdf001bceacb02e72">transferer</a>);</div><div class="line"><a name="l03406"></a><span class="lineno"> 3406</span>&#160;      <a class="code" href="../../de/d41/bridge__channel_8h.html#a4be080559ea3fc87e50aa29a95af74f0">ast_bridge_channel_write_unhold</a>(bridge_channel);</div><div class="line"><a name="l03407"></a><span class="lineno"> 3407</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#a29557c4823f5e9c02519a01daf6a289c">ast_hangup</a>(props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#af359fe2738df581812a3c9f7d3e32f10">transfer_target</a>);</div><div class="line"><a name="l03408"></a><span class="lineno"> 3408</span>&#160;      props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#af359fe2738df581812a3c9f7d3e32f10">transfer_target</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l03409"></a><span class="lineno"> 3409</span>&#160;      <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a0eb88142da03bf04ebf78147c617d2c6">attended_transfer_properties_shutdown</a>(props);</div><div class="line"><a name="l03410"></a><span class="lineno"> 3410</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l03411"></a><span class="lineno"> 3411</span>&#160;   }</div><div class="line"><a name="l03412"></a><span class="lineno"> 3412</span>&#160;</div><div class="line"><a name="l03413"></a><span class="lineno"> 3413</span>&#160;   <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a3467eb2c1bece0b38cd4e45ea024bc5d">bridge_basic_change_personality</a>(props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#ab45c59137417246eaa392b3d8319fbc3">target_bridge</a>,</div><div class="line"><a name="l03414"></a><span class="lineno"> 3414</span>&#160;         <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a704d0cced1ceae046ad985c904dc4c6cac186ac818f5734c04a1f641b9a5670ce">BRIDGE_BASIC_PERSONALITY_ATXFER</a>, props);</div><div class="line"><a name="l03415"></a><span class="lineno"> 3415</span>&#160;   <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a3467eb2c1bece0b38cd4e45ea024bc5d">bridge_basic_change_personality</a>(bridge,</div><div class="line"><a name="l03416"></a><span class="lineno"> 3416</span>&#160;         <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a704d0cced1ceae046ad985c904dc4c6cac186ac818f5734c04a1f641b9a5670ce">BRIDGE_BASIC_PERSONALITY_ATXFER</a>, props);</div><div class="line"><a name="l03417"></a><span class="lineno"> 3417</span>&#160;</div><div class="line"><a name="l03418"></a><span class="lineno"> 3418</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d5/d7b/channel_8h.html#a1b732eb4ed203140b1a3aae9e7dec2c1">ast_call</a>(props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#af359fe2738df581812a3c9f7d3e32f10">transfer_target</a>, destination, 0)) {</div><div class="line"><a name="l03419"></a><span class="lineno"> 3419</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Channel %s: Unable to place outbound call to transfer target.\n&quot;</span>,</div><div class="line"><a name="l03420"></a><span class="lineno"> 3420</span>&#160;         <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>));</div><div class="line"><a name="l03421"></a><span class="lineno"> 3421</span>&#160;      <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a2f8705385084d443451ef49e7f40d4f2">stream_failsound</a>(props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a43cf79e5f3675b2cdf001bceacb02e72">transferer</a>);</div><div class="line"><a name="l03422"></a><span class="lineno"> 3422</span>&#160;      <a class="code" href="../../de/d41/bridge__channel_8h.html#a4be080559ea3fc87e50aa29a95af74f0">ast_bridge_channel_write_unhold</a>(bridge_channel);</div><div class="line"><a name="l03423"></a><span class="lineno"> 3423</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#a29557c4823f5e9c02519a01daf6a289c">ast_hangup</a>(props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#af359fe2738df581812a3c9f7d3e32f10">transfer_target</a>);</div><div class="line"><a name="l03424"></a><span class="lineno"> 3424</span>&#160;      props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#af359fe2738df581812a3c9f7d3e32f10">transfer_target</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l03425"></a><span class="lineno"> 3425</span>&#160;      <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a0eb88142da03bf04ebf78147c617d2c6">attended_transfer_properties_shutdown</a>(props);</div><div class="line"><a name="l03426"></a><span class="lineno"> 3426</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l03427"></a><span class="lineno"> 3427</span>&#160;   }</div><div class="line"><a name="l03428"></a><span class="lineno"> 3428</span>&#160;</div><div class="line"><a name="l03429"></a><span class="lineno"> 3429</span>&#160;   <span class="comment">/* We increase the refcount of the transfer target because ast_bridge_impart() will</span></div><div class="line"><a name="l03430"></a><span class="lineno"> 3430</span>&#160;<span class="comment">    * steal the reference we already have. We need to keep a reference, so the only</span></div><div class="line"><a name="l03431"></a><span class="lineno"> 3431</span>&#160;<span class="comment">    * choice is to give it a bump</span></div><div class="line"><a name="l03432"></a><span class="lineno"> 3432</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l03433"></a><span class="lineno"> 3433</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a6801c703e767d6f760c54c8b86a30024">ast_channel_ref</a>(props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#af359fe2738df581812a3c9f7d3e32f10">transfer_target</a>);</div><div class="line"><a name="l03434"></a><span class="lineno"> 3434</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d4/d56/bridge_8h.html#a582e1dd73a483ac881cff01fa07f39ae">ast_bridge_impart</a>(props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#ab45c59137417246eaa392b3d8319fbc3">target_bridge</a>, props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#af359fe2738df581812a3c9f7d3e32f10">transfer_target</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div><div class="line"><a name="l03435"></a><span class="lineno"> 3435</span>&#160;      <a class="code" href="../../d4/d56/bridge_8h.html#ac086b7d74fb40c2ede8514274585b101aecfd8e6279a21b20ee4db0ab69c847e8">AST_BRIDGE_IMPART_CHAN_INDEPENDENT</a>)) {</div><div class="line"><a name="l03436"></a><span class="lineno"> 3436</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Channel %s: Unable to place transfer target into bridge.\n&quot;</span>,</div><div class="line"><a name="l03437"></a><span class="lineno"> 3437</span>&#160;         <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>));</div><div class="line"><a name="l03438"></a><span class="lineno"> 3438</span>&#160;      <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a2f8705385084d443451ef49e7f40d4f2">stream_failsound</a>(props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a43cf79e5f3675b2cdf001bceacb02e72">transferer</a>);</div><div class="line"><a name="l03439"></a><span class="lineno"> 3439</span>&#160;      <a class="code" href="../../de/d41/bridge__channel_8h.html#a4be080559ea3fc87e50aa29a95af74f0">ast_bridge_channel_write_unhold</a>(bridge_channel);</div><div class="line"><a name="l03440"></a><span class="lineno"> 3440</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#a29557c4823f5e9c02519a01daf6a289c">ast_hangup</a>(props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#af359fe2738df581812a3c9f7d3e32f10">transfer_target</a>);</div><div class="line"><a name="l03441"></a><span class="lineno"> 3441</span>&#160;      props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#af359fe2738df581812a3c9f7d3e32f10">transfer_target</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l03442"></a><span class="lineno"> 3442</span>&#160;      <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a0eb88142da03bf04ebf78147c617d2c6">attended_transfer_properties_shutdown</a>(props);</div><div class="line"><a name="l03443"></a><span class="lineno"> 3443</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l03444"></a><span class="lineno"> 3444</span>&#160;   }</div><div class="line"><a name="l03445"></a><span class="lineno"> 3445</span>&#160;</div><div class="line"><a name="l03446"></a><span class="lineno"> 3446</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d5/d60/utils_8h.html#a832647380b1f97e7ac1b4492f8816d46">ast_pthread_create_detached</a>(&amp;thread, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d7/d9b/bridge__basic_8c.html#aeb0e581583a26c610d967fa140aef634">attended_transfer_monitor_thread</a>, props)) {</div><div class="line"><a name="l03447"></a><span class="lineno"> 3447</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Channel %s: Unable to create monitoring thread for attended transfer.\n&quot;</span>,</div><div class="line"><a name="l03448"></a><span class="lineno"> 3448</span>&#160;         <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>));</div><div class="line"><a name="l03449"></a><span class="lineno"> 3449</span>&#160;      <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a2f8705385084d443451ef49e7f40d4f2">stream_failsound</a>(props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a43cf79e5f3675b2cdf001bceacb02e72">transferer</a>);</div><div class="line"><a name="l03450"></a><span class="lineno"> 3450</span>&#160;      <a class="code" href="../../de/d41/bridge__channel_8h.html#a4be080559ea3fc87e50aa29a95af74f0">ast_bridge_channel_write_unhold</a>(bridge_channel);</div><div class="line"><a name="l03451"></a><span class="lineno"> 3451</span>&#160;      <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a0eb88142da03bf04ebf78147c617d2c6">attended_transfer_properties_shutdown</a>(props);</div><div class="line"><a name="l03452"></a><span class="lineno"> 3452</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l03453"></a><span class="lineno"> 3453</span>&#160;   }</div><div class="line"><a name="l03454"></a><span class="lineno"> 3454</span>&#160;</div><div class="line"><a name="l03455"></a><span class="lineno"> 3455</span>&#160;   <span class="comment">/* Once the monitoring thread has been created, it is responsible for destroying all</span></div><div class="line"><a name="l03456"></a><span class="lineno"> 3456</span>&#160;<span class="comment">    * of the necessary components.</span></div><div class="line"><a name="l03457"></a><span class="lineno"> 3457</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l03458"></a><span class="lineno"> 3458</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l03459"></a><span class="lineno"> 3459</span>&#160;}</div><div class="ttc" id="app__meetme_8c_html_a01f75a9ad916f63a94e06a27635ba278"><div class="ttname"><a href="../../df/d44/app__meetme_8c.html#a01f75a9ad916f63a94e06a27635ba278">thread</a></div><div class="ttdeci">pthread_t thread</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d44/app__meetme_8c_source.html#l01089">app_meetme.c:1089</a></div></div>
<div class="ttc" id="chan__alsa_8c_html_a78d4847658b695383d849efd12399b38"><div class="ttname"><a href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a></div><div class="ttdeci">static char exten[AST_MAX_EXTENSION]</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d45/chan__alsa_8c_source.html#l00118">chan_alsa.c:118</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a0eb88142da03bf04ebf78147c617d2c6"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a0eb88142da03bf04ebf78147c617d2c6">attended_transfer_properties_shutdown</a></div><div class="ttdeci">static void attended_transfer_properties_shutdown(struct attended_transfer_properties *props)</div><div class="ttdoc">Initiate shutdown of attended transfer properties. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01508">bridge_basic.c:1508</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a3467eb2c1bece0b38cd4e45ea024bc5d"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a3467eb2c1bece0b38cd4e45ea024bc5d">bridge_basic_change_personality</a></div><div class="ttdeci">static void bridge_basic_change_personality(struct ast_bridge *bridge, enum bridge_basic_personality_type type, void *user_data)</div><div class="ttdoc">Change basic bridge personality. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l03530">bridge_basic.c:3530</a></div></div>
<div class="ttc" id="bridge__channel_8h_html_aada1c86f1020a0d546b371a8ff602cee"><div class="ttname"><a href="../../de/d41/bridge__channel_8h.html#aada1c86f1020a0d546b371a8ff602cee">ast_bridge_channel_merge_inhibit</a></div><div class="ttdeci">struct ast_bridge * ast_bridge_channel_merge_inhibit(struct ast_bridge_channel *bridge_channel, int request)</div><div class="ttdoc">Adjust the bridge_channel&amp;#39;s bridge merge inhibit request count. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d32/bridge__channel_8c_source.html#l00369">bridge_channel.c:369</a></div></div>
<div class="ttc" id="structast__bridge_html_a753c7b39e3284d771f13f513b003d033"><div class="ttname"><a href="../../d4/d84/structast__bridge.html#a753c7b39e3284d771f13f513b003d033">ast_bridge::uniqueid</a></div><div class="ttdeci">const ast_string_field uniqueid</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00409">bridge.h:409</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_ab8717a1dc6d72feda12b953ee8436f8b"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#ab8717a1dc6d72feda12b953ee8436f8b">add_transferer_role</a></div><div class="ttdeci">static int add_transferer_role(struct ast_channel *chan, struct ast_bridge_features_attended_transfer *attended_transfer)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l03121">bridge_basic.c:3121</a></div></div>
<div class="ttc" id="utils_8h_html_a832647380b1f97e7ac1b4492f8816d46"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a832647380b1f97e7ac1b4492f8816d46">ast_pthread_create_detached</a></div><div class="ttdeci">#define ast_pthread_create_detached(a, b, c, d)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00563">utils.h:563</a></div></div>
<div class="ttc" id="structast__bridge__methods_html_a8f8f80d37794cde9472343e4487ba3eb"><div class="ttname"><a href="../../d2/dd3/structast__bridge__methods.html#a8f8f80d37794cde9472343e4487ba3eb">ast_bridge_methods::name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00267">bridge.h:267</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="structattended__transfer__properties_html_a7c148ea37d33eb1640a17177c700be43"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html#a7c148ea37d33eb1640a17177c700be43">attended_transfer_properties::transferee_bridge</a></div><div class="ttdeci">struct ast_bridge * transferee_bridge</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01309">bridge_basic.c:1309</a></div></div>
<div class="ttc" id="channel_8h_html_a1b732eb4ed203140b1a3aae9e7dec2c1"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a1b732eb4ed203140b1a3aae9e7dec2c1">ast_call</a></div><div class="ttdeci">int ast_call(struct ast_channel *chan, const char *addr, int timeout)</div><div class="ttdoc">Make a call. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l06553">channel.c:6553</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_af634e5717dd1ebf26f9cad76c43a9a96"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#af634e5717dd1ebf26f9cad76c43a9a96">attach_framehook</a></div><div class="ttdeci">static int attach_framehook(struct attended_transfer_properties *props, struct ast_channel *channel)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l03098">bridge_basic.c:3098</a></div></div>
<div class="ttc" id="structast__bridge_html_af005cc77b3514fdc7fb7aba4ba370f50"><div class="ttname"><a href="../../d4/d84/structast__bridge.html#af005cc77b3514fdc7fb7aba4ba370f50">ast_bridge::inhibit_merge</a></div><div class="ttdeci">unsigned int inhibit_merge</div><div class="ttdoc">Count of the active temporary requests to inhibit bridge merges. Zero if merges are allowed...</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00392">bridge.h:392</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a2f8705385084d443451ef49e7f40d4f2"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a2f8705385084d443451ef49e7f40d4f2">stream_failsound</a></div><div class="ttdeci">static void stream_failsound(struct ast_channel *chan)</div><div class="ttdoc">Helper method to stream a fail sound on a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01755">bridge_basic.c:1755</a></div></div>
<div class="ttc" id="structattended__transfer__properties_html_aaee31f4cc48985167efcd38ab252dac8"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html#aaee31f4cc48985167efcd38ab252dac8">attended_transfer_properties::exten</a></div><div class="ttdeci">const ast_string_field exten</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01303">bridge_basic.c:1303</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structattended__transfer__properties_html_af359fe2738df581812a3c9f7d3e32f10"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html#af359fe2738df581812a3c9f7d3e32f10">attended_transfer_properties::transfer_target</a></div><div class="ttdeci">struct ast_channel * transfer_target</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01317">bridge_basic.c:1317</a></div></div>
<div class="ttc" id="logger_8h_html_ad770f83c71e237e1f64163358ce4e13d"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a></div><div class="ttdeci">#define ast_verb(level,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00463">logger.h:463</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a0857f2fc207f8fb169f32f6a269b1b29"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a0857f2fc207f8fb169f32f6a269b1b29">dial_transfer</a></div><div class="ttdeci">static struct ast_channel * dial_transfer(struct ast_channel *caller, const char *destination)</div><div class="ttdoc">Helper function that creates an outgoing channel and returns it immediately. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l03255">bridge_basic.c:3255</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="bridge_8h_html_a582e1dd73a483ac881cff01fa07f39ae"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a582e1dd73a483ac881cff01fa07f39ae">ast_bridge_impart</a></div><div class="ttdeci">int ast_bridge_impart(struct ast_bridge *bridge, struct ast_channel *chan, struct ast_channel *swap, struct ast_bridge_features *features, enum ast_bridge_impart_flags flags) attribute_warn_unused_result</div><div class="ttdoc">Impart a channel to a bridge (non-blocking) </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l01924">bridge.c:1924</a></div></div>
<div class="ttc" id="bridge_8h_html_a6bae9b013c815c40d0414080455e3592"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a6bae9b013c815c40d0414080455e3592">ast_bridge_merge_inhibit</a></div><div class="ttdeci">void ast_bridge_merge_inhibit(struct ast_bridge *bridge, int request)</div><div class="ttdoc">Adjust the bridge merge inhibit request count. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l03061">bridge.c:3061</a></div></div>
<div class="ttc" id="channel_8h_html_af4e59494f74ad9e0c50170d9e276ad31"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af4e59494f74ad9e0c50170d9e276ad31">AST_MAX_EXTENSION</a></div><div class="ttdeci">#define AST_MAX_EXTENSION</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l00135">channel.h:135</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_aebcf07ece2b35dc2aa2097cb3ac6cc3e"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#aebcf07ece2b35dc2aa2097cb3ac6cc3e">grab_transfer</a></div><div class="ttdeci">static int grab_transfer(struct ast_channel *chan, char *exten, size_t exten_len, const char *context)</div><div class="ttdoc">Helper function that presents dialtone and grabs extension. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l03160">bridge_basic.c:3160</a></div></div>
<div class="ttc" id="structast__bridge_html_a2f11ecc852af02fffecf1411013f0873"><div class="ttname"><a href="../../d4/d84/structast__bridge.html#a2f11ecc852af02fffecf1411013f0873">ast_bridge::v_table</a></div><div class="ttdeci">const struct ast_bridge_methods * v_table</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00359">bridge.h:359</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a704d0cced1ceae046ad985c904dc4c6cac186ac818f5734c04a1f641b9a5670ce"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a704d0cced1ceae046ad985c904dc4c6cac186ac818f5734c04a1f641b9a5670ce">BRIDGE_BASIC_PERSONALITY_ATXFER</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00062">bridge_basic.c:62</a></div></div>
<div class="ttc" id="structattended__transfer__properties_html_ab45c59137417246eaa392b3d8319fbc3"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html#ab45c59137417246eaa392b3d8319fbc3">attended_transfer_properties::target_bridge</a></div><div class="ttdeci">struct ast_bridge * target_bridge</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01313">bridge_basic.c:1313</a></div></div>
<div class="ttc" id="structast__bridge__features__attended__transfer_html_ac25ea00ee3f082df06e0cf468cbde240"><div class="ttname"><a href="../../d2/d6e/structast__bridge__features__attended__transfer.html#ac25ea00ee3f082df06e0cf468cbde240">ast_bridge_features_attended_transfer::context</a></div><div class="ttdeci">char context[AST_MAX_CONTEXT]</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00299">bridge_features.h:299</a></div></div>
<div class="ttc" id="structast__bridge_html"><div class="ttname"><a href="../../d4/d84/structast__bridge.html">ast_bridge</a></div><div class="ttdoc">Structure that contains information about a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00357">bridge.h:357</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_aeb0e581583a26c610d967fa140aef634"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#aeb0e581583a26c610d967fa140aef634">attended_transfer_monitor_thread</a></div><div class="ttdeci">static void * attended_transfer_monitor_thread(void *data)</div><div class="ttdoc">The main loop for the attended transfer monitor thread. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l03044">bridge_basic.c:3044</a></div></div>
<div class="ttc" id="bridge_8h_html_ac086b7d74fb40c2ede8514274585b101aecfd8e6279a21b20ee4db0ab69c847e8"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#ac086b7d74fb40c2ede8514274585b101aecfd8e6279a21b20ee4db0ab69c847e8">AST_BRIDGE_IMPART_CHAN_INDEPENDENT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00604">bridge.h:604</a></div></div>
<div class="ttc" id="channel_8h_html_abcf1aea85b924e9cd605040b86241e2a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#abcf1aea85b924e9cd605040b86241e2a">AST_MAX_CONTEXT</a></div><div class="ttdeci">#define AST_MAX_CONTEXT</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l00136">channel.h:136</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a5b28b44da7b62fb84c14f4b82d07e81b"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a5b28b44da7b62fb84c14f4b82d07e81b">attended_transfer_properties_alloc</a></div><div class="ttdeci">static struct attended_transfer_properties * attended_transfer_properties_alloc(struct ast_channel *transferer, const char *context)</div><div class="ttdoc">Allocate and initialize attended transfer properties. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01409">bridge_basic.c:1409</a></div></div>
<div class="ttc" id="channel_8h_html_a29557c4823f5e9c02519a01daf6a289c"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a29557c4823f5e9c02519a01daf6a289c">ast_hangup</a></div><div class="ttdeci">void ast_hangup(struct ast_channel *chan)</div><div class="ttdoc">Hang up a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l02548">channel.c:2548</a></div></div>
<div class="ttc" id="structast__bridge__features__attended__transfer_html"><div class="ttname"><a href="../../d2/d6e/structast__bridge__features__attended__transfer.html">ast_bridge_features_attended_transfer</a></div><div class="ttdoc">Structure that contains configuration information for the attended transfer built in feature...</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00297">bridge_features.h:297</a></div></div>
<div class="ttc" id="bridge__channel_8h_html_ad70b0a7df24a2aa9e284d8c785dcbd45"><div class="ttname"><a href="../../de/d41/bridge__channel_8h.html#ad70b0a7df24a2aa9e284d8c785dcbd45">ast_bridge_channel_write_hold</a></div><div class="ttdeci">int ast_bridge_channel_write_hold(struct ast_bridge_channel *bridge_channel, const char *moh_class)</div><div class="ttdoc">Write a hold frame into the bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d32/bridge__channel_8c_source.html#l01167">bridge_channel.c:1167</a></div></div>
<div class="ttc" id="structast__bridge__channel_html_a84d1435c5b8d387806714ea7079304b7"><div class="ttname"><a href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">ast_bridge_channel::chan</a></div><div class="ttdeci">struct ast_channel * chan</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00091">bridge_channel.h:91</a></div></div>
<div class="ttc" id="channel_8h_html_a6801c703e767d6f760c54c8b86a30024"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a6801c703e767d6f760c54c8b86a30024">ast_channel_ref</a></div><div class="ttdeci">#define ast_channel_ref(c)</div><div class="ttdoc">Increase channel reference count. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02970">channel.h:2970</a></div></div>
<div class="ttc" id="channel_8h_html_a7ca2fda13b129a55c251b56729de285b"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a></div><div class="ttdeci">const char * ast_channel_name(const struct ast_channel *chan)</div></div>
<div class="ttc" id="structattended__transfer__properties_html_a7faec841658b88ad0cfbc684853acad3"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html#a7faec841658b88ad0cfbc684853acad3">attended_transfer_properties::context</a></div><div class="ttdeci">const ast_string_field context</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01303">bridge_basic.c:1303</a></div></div>
<div class="ttc" id="bridge__channel_8h_html_a4be080559ea3fc87e50aa29a95af74f0"><div class="ttname"><a href="../../de/d41/bridge__channel_8h.html#a4be080559ea3fc87e50aa29a95af74f0">ast_bridge_channel_write_unhold</a></div><div class="ttdeci">int ast_bridge_channel_write_unhold(struct ast_bridge_channel *bridge_channel)</div><div class="ttdoc">Write an unhold frame into the bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d32/bridge__channel_8c_source.html#l01193">bridge_channel.c:1193</a></div></div>
<div class="ttc" id="structattended__transfer__properties_html_a43cf79e5f3675b2cdf001bceacb02e72"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html#a43cf79e5f3675b2cdf001bceacb02e72">attended_transfer_properties::transferer</a></div><div class="ttdeci">struct ast_channel * transferer</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01315">bridge_basic.c:1315</a></div></div>
<div class="ttc" id="stringfields_8h_html_a653461abd6e0d16e4e3326ab90e0501d"><div class="ttname"><a href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a></div><div class="ttdeci">#define ast_string_field_set(x, field, data)</div><div class="ttdoc">Set a field to a simple string value. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d0f/stringfields_8h_source.html#l00514">stringfields.h:514</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a1410fb71fa67f9ee92f15b18439b7571"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a1410fb71fa67f9ee92f15b18439b7571">ast_bridge_basic_new</a></div><div class="ttdeci">struct ast_bridge * ast_bridge_basic_new(void)</div><div class="ttdoc">Create a new basic class bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l03617">bridge_basic.c:3617</a></div></div>
<div class="ttc" id="structattended__transfer__properties_html"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html">attended_transfer_properties</a></div><div class="ttdoc">Collection of data related to an attended transfer attempt. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01291">bridge_basic.c:1291</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a256cdc56b47b88cc511b50243dc1f6ed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a256cdc56b47b88cc511b50243dc1f6ed">&#9670;&nbsp;</a></span>feature_blind_transfer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int feature_blind_transfer </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *&#160;</td>
          <td class="paramname"><em>bridge_channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>hook_pvt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Internal built in feature for blind transfers. </p>

<p class="definition">Definition at line <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l03472">3472</a> of file <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html">bridge_basic.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d32/bridge__channel_8c_source.html#l01167">ast_bridge_channel_write_hold()</a>, <a class="el" href="../../d3/d32/bridge__channel_8c_source.html#l01193">ast_bridge_channel_write_unhold()</a>, <a class="el" href="../../df/db6/bridge__after_8c_source.html#l00396">ast_bridge_discard_after_goto()</a>, <a class="el" href="../../df/db6/bridge__after_8c_source.html#l00636">ast_bridge_set_after_go_on()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l04477">ast_bridge_transfer_blind()</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l01117">AST_BRIDGE_TRANSFER_SUCCESS</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00344">ast_channel_context()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00353">ast_channel_exten()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02945">ast_channel_lock</a>, <a class="el" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00444">ast_channel_priority()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l00135">AST_MAX_EXTENSION</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00300">ast_strdupa</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00463">ast_verb</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l03461">blind_transfer_cb()</a>, <a class="el" href="../../de/d41/bridge__channel_8h_source.html#l00091">ast_bridge_channel::chan</a>, <a class="el" href="../../dc/d7a/bridge__features_8h_source.html#l00291">ast_bridge_features_blind_transfer::context</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01380">get_transfer_context()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l03160">grab_transfer()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d3/d8c/pbx__variables_8c_source.html#l01000">pbx_builtin_getvar_helper()</a>, and <a class="el" href="../../d6/d90/strings_8h_source.html#l00079">S_OR</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l03639">ast_bridging_init_basic()</a>.</p>
<div class="fragment"><div class="line"><a name="l03473"></a><span class="lineno"> 3473</span>&#160;{</div><div class="line"><a name="l03474"></a><span class="lineno"> 3474</span>&#160;   <span class="keywordtype">char</span> xfer_exten[<a class="code" href="../../d5/d7b/channel_8h.html#af4e59494f74ad9e0c50170d9e276ad31">AST_MAX_EXTENSION</a>] = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l03475"></a><span class="lineno"> 3475</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../da/dd9/structast__bridge__features__blind__transfer.html">ast_bridge_features_blind_transfer</a> *blind_transfer = hook_pvt;</div><div class="line"><a name="l03476"></a><span class="lineno"> 3476</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *xfer_context;</div><div class="line"><a name="l03477"></a><span class="lineno"> 3477</span>&#160;   <span class="keywordtype">char</span> *goto_on_blindxfr;</div><div class="line"><a name="l03478"></a><span class="lineno"> 3478</span>&#160;</div><div class="line"><a name="l03479"></a><span class="lineno"> 3479</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(3, <span class="stringliteral">&quot;Channel %s: Started DTMF blind transfer.\n&quot;</span>,</div><div class="line"><a name="l03480"></a><span class="lineno"> 3480</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>));</div><div class="line"><a name="l03481"></a><span class="lineno"> 3481</span>&#160;</div><div class="line"><a name="l03482"></a><span class="lineno"> 3482</span>&#160;   <a class="code" href="../../de/d41/bridge__channel_8h.html#ad70b0a7df24a2aa9e284d8c785dcbd45">ast_bridge_channel_write_hold</a>(bridge_channel, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l03483"></a><span class="lineno"> 3483</span>&#160;</div><div class="line"><a name="l03484"></a><span class="lineno"> 3484</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>);</div><div class="line"><a name="l03485"></a><span class="lineno"> 3485</span>&#160;   xfer_context = <a class="code" href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a>(<a class="code" href="../../d7/d9b/bridge__basic_8c.html#af2255cf81c2ada271d9553d047d92520">get_transfer_context</a>(bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>,</div><div class="line"><a name="l03486"></a><span class="lineno"> 3486</span>&#160;      blind_transfer ? blind_transfer-&gt;<a class="code" href="../../da/dd9/structast__bridge__features__blind__transfer.html#ac25ea00ee3f082df06e0cf468cbde240">context</a> : <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>));</div><div class="line"><a name="l03487"></a><span class="lineno"> 3487</span>&#160;   goto_on_blindxfr = <a class="code" href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a>(<a class="code" href="../../d6/d90/strings_8h.html#a2faaa16929951bfd2802b7829a100ba2">S_OR</a>(<a class="code" href="../../db/de0/pbx_8h.html#a98c5425b90ec7c5e136a40f529170b1b">pbx_builtin_getvar_helper</a>(bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>,</div><div class="line"><a name="l03488"></a><span class="lineno"> 3488</span>&#160;      <span class="stringliteral">&quot;GOTO_ON_BLINDXFR&quot;</span>), <span class="stringliteral">&quot;&quot;</span>));</div><div class="line"><a name="l03489"></a><span class="lineno"> 3489</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>);</div><div class="line"><a name="l03490"></a><span class="lineno"> 3490</span>&#160;</div><div class="line"><a name="l03491"></a><span class="lineno"> 3491</span>&#160;   <span class="comment">/* Grab the extension to transfer to */</span></div><div class="line"><a name="l03492"></a><span class="lineno"> 3492</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d7/d9b/bridge__basic_8c.html#aebcf07ece2b35dc2aa2097cb3ac6cc3e">grab_transfer</a>(bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>, xfer_exten, <span class="keyword">sizeof</span>(xfer_exten), xfer_context)) {</div><div class="line"><a name="l03493"></a><span class="lineno"> 3493</span>&#160;      <a class="code" href="../../de/d41/bridge__channel_8h.html#a4be080559ea3fc87e50aa29a95af74f0">ast_bridge_channel_write_unhold</a>(bridge_channel);</div><div class="line"><a name="l03494"></a><span class="lineno"> 3494</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l03495"></a><span class="lineno"> 3495</span>&#160;   }</div><div class="line"><a name="l03496"></a><span class="lineno"> 3496</span>&#160;</div><div class="line"><a name="l03497"></a><span class="lineno"> 3497</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;Channel %s: Blind transfer target &#39;%s@%s&#39;\n&quot;</span>,</div><div class="line"><a name="l03498"></a><span class="lineno"> 3498</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>), xfer_exten, xfer_context);</div><div class="line"><a name="l03499"></a><span class="lineno"> 3499</span>&#160;</div><div class="line"><a name="l03500"></a><span class="lineno"> 3500</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(goto_on_blindxfr)) {</div><div class="line"><a name="l03501"></a><span class="lineno"> 3501</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">char</span> *chan_context;</div><div class="line"><a name="l03502"></a><span class="lineno"> 3502</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">char</span> *chan_exten;</div><div class="line"><a name="l03503"></a><span class="lineno"> 3503</span>&#160;      <span class="keywordtype">int</span> chan_priority;</div><div class="line"><a name="l03504"></a><span class="lineno"> 3504</span>&#160;</div><div class="line"><a name="l03505"></a><span class="lineno"> 3505</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;Channel %s: After transfer, transferrer goes to %s\n&quot;</span>,</div><div class="line"><a name="l03506"></a><span class="lineno"> 3506</span>&#160;         <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>), goto_on_blindxfr);</div><div class="line"><a name="l03507"></a><span class="lineno"> 3507</span>&#160;</div><div class="line"><a name="l03508"></a><span class="lineno"> 3508</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>);</div><div class="line"><a name="l03509"></a><span class="lineno"> 3509</span>&#160;      chan_context = <a class="code" href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a582dee4d5ea9b2ff6f309f0c5239f6bd">ast_channel_context</a>(bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>));</div><div class="line"><a name="l03510"></a><span class="lineno"> 3510</span>&#160;      chan_exten = <a class="code" href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a>(<a class="code" href="../../d5/d7b/channel_8h.html#aa8b52fbc8168e939bc5553502367d46a">ast_channel_exten</a>(bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>));</div><div class="line"><a name="l03511"></a><span class="lineno"> 3511</span>&#160;      chan_priority = <a class="code" href="../../d5/d7b/channel_8h.html#a6610c8171ced0a69738622c11736ff5e">ast_channel_priority</a>(bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>);</div><div class="line"><a name="l03512"></a><span class="lineno"> 3512</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>);</div><div class="line"><a name="l03513"></a><span class="lineno"> 3513</span>&#160;      <a class="code" href="../../d8/d85/bridge__after_8h.html#abffcfc07534d569ab73f8fdb19a94677">ast_bridge_set_after_go_on</a>(bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>,</div><div class="line"><a name="l03514"></a><span class="lineno"> 3514</span>&#160;         chan_context, chan_exten, chan_priority, goto_on_blindxfr);</div><div class="line"><a name="l03515"></a><span class="lineno"> 3515</span>&#160;   }</div><div class="line"><a name="l03516"></a><span class="lineno"> 3516</span>&#160;</div><div class="line"><a name="l03517"></a><span class="lineno"> 3517</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d4/d56/bridge_8h.html#a982e0e652b9f03abf1ec584c137791a3">ast_bridge_transfer_blind</a>(0, bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>, xfer_exten, xfer_context,</div><div class="line"><a name="l03518"></a><span class="lineno"> 3518</span>&#160;      <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a02008befa08470037e2fa09ef9aa900e">blind_transfer_cb</a>, bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>) != <a class="code" href="../../d4/d56/bridge_8h.html#aadbf879fadde4b1bb7832b1390cc8c17a6b0053a1a47d100ef5f155f068c08934">AST_BRIDGE_TRANSFER_SUCCESS</a></div><div class="line"><a name="l03519"></a><span class="lineno"> 3519</span>&#160;      &amp;&amp; !<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(goto_on_blindxfr)) {</div><div class="line"><a name="l03520"></a><span class="lineno"> 3520</span>&#160;      <a class="code" href="../../d8/d85/bridge__after_8h.html#a7e45f2d09f551ef40a26ae0d8c3f410f">ast_bridge_discard_after_goto</a>(bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>);</div><div class="line"><a name="l03521"></a><span class="lineno"> 3521</span>&#160;   }</div><div class="line"><a name="l03522"></a><span class="lineno"> 3522</span>&#160;</div><div class="line"><a name="l03523"></a><span class="lineno"> 3523</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l03524"></a><span class="lineno"> 3524</span>&#160;}</div><div class="ttc" id="channel_8h_html_a493bdebe876caafb8ee535853310364a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a></div><div class="ttdeci">#define ast_channel_lock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02945">channel.h:2945</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_af2255cf81c2ada271d9553d047d92520"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#af2255cf81c2ada271d9553d047d92520">get_transfer_context</a></div><div class="ttdeci">static const char * get_transfer_context(struct ast_channel *transferer, const char *context)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01380">bridge_basic.c:1380</a></div></div>
<div class="ttc" id="bridge_8h_html_aadbf879fadde4b1bb7832b1390cc8c17a6b0053a1a47d100ef5f155f068c08934"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#aadbf879fadde4b1bb7832b1390cc8c17a6b0053a1a47d100ef5f155f068c08934">AST_BRIDGE_TRANSFER_SUCCESS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l01117">bridge.h:1117</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="channel_8h_html_a6610c8171ced0a69738622c11736ff5e"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a6610c8171ced0a69738622c11736ff5e">ast_channel_priority</a></div><div class="ttdeci">int ast_channel_priority(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00444">channel_internal_api.c:444</a></div></div>
<div class="ttc" id="logger_8h_html_ad770f83c71e237e1f64163358ce4e13d"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a></div><div class="ttdeci">#define ast_verb(level,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00463">logger.h:463</a></div></div>
<div class="ttc" id="pbx_8h_html_a98c5425b90ec7c5e136a40f529170b1b"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a98c5425b90ec7c5e136a40f529170b1b">pbx_builtin_getvar_helper</a></div><div class="ttdeci">const char * pbx_builtin_getvar_helper(struct ast_channel *chan, const char *name)</div><div class="ttdoc">Return a pointer to the value of the corresponding channel variable. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d8c/pbx__variables_8c_source.html#l01000">pbx_variables.c:1000</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a02008befa08470037e2fa09ef9aa900e"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a02008befa08470037e2fa09ef9aa900e">blind_transfer_cb</a></div><div class="ttdeci">static void blind_transfer_cb(struct ast_channel *new_channel, struct transfer_channel_data *user_data_wrapper, enum ast_transfer_type transfer_type)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l03461">bridge_basic.c:3461</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="bridge_8h_html_a982e0e652b9f03abf1ec584c137791a3"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a982e0e652b9f03abf1ec584c137791a3">ast_bridge_transfer_blind</a></div><div class="ttdeci">enum ast_transfer_result ast_bridge_transfer_blind(int is_external, struct ast_channel *transferer, const char *exten, const char *context, transfer_channel_cb new_channel_cb, void *user_data)</div><div class="ttdoc">Blind transfer target to the extension and context provided. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l04477">bridge.c:4477</a></div></div>
<div class="ttc" id="channel_8h_html_af4e59494f74ad9e0c50170d9e276ad31"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af4e59494f74ad9e0c50170d9e276ad31">AST_MAX_EXTENSION</a></div><div class="ttdeci">#define AST_MAX_EXTENSION</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l00135">channel.h:135</a></div></div>
<div class="ttc" id="astmm_8h_html_ab5f0750cc80ba337fdcbddea2d3a1ee6"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a></div><div class="ttdeci">#define ast_strdupa(s)</div><div class="ttdoc">duplicate a string in memory from the stack </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00300">astmm.h:300</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_aebcf07ece2b35dc2aa2097cb3ac6cc3e"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#aebcf07ece2b35dc2aa2097cb3ac6cc3e">grab_transfer</a></div><div class="ttdeci">static int grab_transfer(struct ast_channel *chan, char *exten, size_t exten_len, const char *context)</div><div class="ttdoc">Helper function that presents dialtone and grabs extension. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l03160">bridge_basic.c:3160</a></div></div>
<div class="ttc" id="bridge__after_8h_html_a7e45f2d09f551ef40a26ae0d8c3f410f"><div class="ttname"><a href="../../d8/d85/bridge__after_8h.html#a7e45f2d09f551ef40a26ae0d8c3f410f">ast_bridge_discard_after_goto</a></div><div class="ttdeci">void ast_bridge_discard_after_goto(struct ast_channel *chan)</div><div class="ttdoc">Discard channel after bridge goto location. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/db6/bridge__after_8c_source.html#l00396">bridge_after.c:396</a></div></div>
<div class="ttc" id="channel_8h_html_aa8b52fbc8168e939bc5553502367d46a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#aa8b52fbc8168e939bc5553502367d46a">ast_channel_exten</a></div><div class="ttdeci">const char * ast_channel_exten(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00353">channel_internal_api.c:353</a></div></div>
<div class="ttc" id="structast__bridge__features__blind__transfer_html_ac25ea00ee3f082df06e0cf468cbde240"><div class="ttname"><a href="../../da/dd9/structast__bridge__features__blind__transfer.html#ac25ea00ee3f082df06e0cf468cbde240">ast_bridge_features_blind_transfer::context</a></div><div class="ttdeci">char context[AST_MAX_CONTEXT]</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00291">bridge_features.h:291</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="bridge__channel_8h_html_ad70b0a7df24a2aa9e284d8c785dcbd45"><div class="ttname"><a href="../../de/d41/bridge__channel_8h.html#ad70b0a7df24a2aa9e284d8c785dcbd45">ast_bridge_channel_write_hold</a></div><div class="ttdeci">int ast_bridge_channel_write_hold(struct ast_bridge_channel *bridge_channel, const char *moh_class)</div><div class="ttdoc">Write a hold frame into the bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d32/bridge__channel_8c_source.html#l01167">bridge_channel.c:1167</a></div></div>
<div class="ttc" id="structast__bridge__channel_html_a84d1435c5b8d387806714ea7079304b7"><div class="ttname"><a href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">ast_bridge_channel::chan</a></div><div class="ttdeci">struct ast_channel * chan</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00091">bridge_channel.h:91</a></div></div>
<div class="ttc" id="strings_8h_html_a2faaa16929951bfd2802b7829a100ba2"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a2faaa16929951bfd2802b7829a100ba2">S_OR</a></div><div class="ttdeci">#define S_OR(a, b)</div><div class="ttdoc">returns the equivalent of logic or for strings: first one if not empty, otherwise second one...</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00079">strings.h:79</a></div></div>
<div class="ttc" id="channel_8h_html_a7ca2fda13b129a55c251b56729de285b"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a></div><div class="ttdeci">const char * ast_channel_name(const struct ast_channel *chan)</div></div>
<div class="ttc" id="channel_8h_html_a582dee4d5ea9b2ff6f309f0c5239f6bd"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a582dee4d5ea9b2ff6f309f0c5239f6bd">ast_channel_context</a></div><div class="ttdeci">const char * ast_channel_context(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00344">channel_internal_api.c:344</a></div></div>
<div class="ttc" id="bridge__after_8h_html_abffcfc07534d569ab73f8fdb19a94677"><div class="ttname"><a href="../../d8/d85/bridge__after_8h.html#abffcfc07534d569ab73f8fdb19a94677">ast_bridge_set_after_go_on</a></div><div class="ttdeci">void ast_bridge_set_after_go_on(struct ast_channel *chan, const char *context, const char *exten, int priority, const char *parseable_goto)</div><div class="ttdoc">Set channel to go on in the dialplan after the bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/db6/bridge__after_8c_source.html#l00636">bridge_after.c:636</a></div></div>
<div class="ttc" id="structast__bridge__features__blind__transfer_html"><div class="ttname"><a href="../../da/dd9/structast__bridge__features__blind__transfer.html">ast_bridge_features_blind_transfer</a></div><div class="ttdoc">Structure that contains configuration information for the blind transfer built in feature...</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00289">bridge_features.h:289</a></div></div>
<div class="ttc" id="bridge__channel_8h_html_a4be080559ea3fc87e50aa29a95af74f0"><div class="ttname"><a href="../../de/d41/bridge__channel_8h.html#a4be080559ea3fc87e50aa29a95af74f0">ast_bridge_channel_write_unhold</a></div><div class="ttdeci">int ast_bridge_channel_write_unhold(struct ast_bridge_channel *bridge_channel)</div><div class="ttdoc">Write an unhold frame into the bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d32/bridge__channel_8c_source.html#l01193">bridge_channel.c:1193</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af2255cf81c2ada271d9553d047d92520"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af2255cf81c2ada271d9553d047d92520">&#9670;&nbsp;</a></span>get_transfer_context()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static const char* get_transfer_context </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>transferer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>context</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01380">1380</a> of file <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html">bridge_basic.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00344">ast_channel_context()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00362">ast_channel_macrocontext()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../da/d45/chan__alsa_8c_source.html#l00116">context</a>, and <a class="el" href="../../d3/d8c/pbx__variables_8c_source.html#l01000">pbx_builtin_getvar_helper()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01409">attended_transfer_properties_alloc()</a>, and <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l03472">feature_blind_transfer()</a>.</p>
<div class="fragment"><div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;{</div><div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(<a class="code" href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a>)) {</div><div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a>;</div><div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;   }</div><div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;   <a class="code" href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a> = <a class="code" href="../../db/de0/pbx_8h.html#a98c5425b90ec7c5e136a40f529170b1b">pbx_builtin_getvar_helper</a>(transferer, <span class="stringliteral">&quot;TRANSFER_CONTEXT&quot;</span>);</div><div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(<a class="code" href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a>)) {</div><div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a>;</div><div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;   }</div><div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;   <a class="code" href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a> = <a class="code" href="../../d5/d7b/channel_8h.html#adf593d68a333075c1fcae8a73b68c069">ast_channel_macrocontext</a>(transferer);</div><div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(<a class="code" href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a>)) {</div><div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a>;</div><div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;   }</div><div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;   <a class="code" href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a> = <a class="code" href="../../d5/d7b/channel_8h.html#a582dee4d5ea9b2ff6f309f0c5239f6bd">ast_channel_context</a>(transferer);</div><div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(<a class="code" href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a>)) {</div><div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a>;</div><div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;   }</div><div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;   <span class="keywordflow">return</span> <span class="stringliteral">&quot;default&quot;</span>;</div><div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;}</div><div class="ttc" id="pbx_8h_html_a98c5425b90ec7c5e136a40f529170b1b"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a98c5425b90ec7c5e136a40f529170b1b">pbx_builtin_getvar_helper</a></div><div class="ttdeci">const char * pbx_builtin_getvar_helper(struct ast_channel *chan, const char *name)</div><div class="ttdoc">Return a pointer to the value of the corresponding channel variable. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d8c/pbx__variables_8c_source.html#l01000">pbx_variables.c:1000</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="channel_8h_html_a582dee4d5ea9b2ff6f309f0c5239f6bd"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a582dee4d5ea9b2ff6f309f0c5239f6bd">ast_channel_context</a></div><div class="ttdeci">const char * ast_channel_context(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00344">channel_internal_api.c:344</a></div></div>
<div class="ttc" id="chan__alsa_8c_html_ac25ea00ee3f082df06e0cf468cbde240"><div class="ttname"><a href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a></div><div class="ttdeci">static char context[AST_MAX_CONTEXT]</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d45/chan__alsa_8c_source.html#l00116">chan_alsa.c:116</a></div></div>
<div class="ttc" id="channel_8h_html_adf593d68a333075c1fcae8a73b68c069"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#adf593d68a333075c1fcae8a73b68c069">ast_channel_macrocontext</a></div><div class="ttdeci">const char * ast_channel_macrocontext(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00362">channel_internal_api.c:362</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aeadd7c4bd948297093b832e8f9d0f48c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeadd7c4bd948297093b832e8f9d0f48c">&#9670;&nbsp;</a></span>get_transfer_parties()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void get_transfer_parties </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>transferer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *&#160;</td>
          <td class="paramname"><em>transferee_bridge</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *&#160;</td>
          <td class="paramname"><em>target_bridge</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> **&#160;</td>
          <td class="paramname"><em>transferee</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> **&#160;</td>
          <td class="paramname"><em>transfer_target</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>determine transferee and transfer target for an attended transfer </p>
<p>In builtin attended transfers, there is a single transferer channel that jumps between the two bridges involved. At the time the attended transfer occurs, the transferer could be in either bridge, so determining the parties is a bit more complex than normal.</p>
<p>The method used here is to determine which of the two bridges the transferer is in, and grabbing the peer from that bridge. The other bridge, if it only has a single channel in it, has the other desired channel.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">transferer</td><td>The channel performing the transfer </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">transferee_bridge</td><td>The bridge that the transferee is in </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">target_bridge</td><td>The bridge that the transfer target is in </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">transferee</td><td>The transferee channel </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">transfer_target</td><td>The transfer target channel </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01618">1618</a> of file <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html">bridge_basic.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l10735">ast_channel_get_bridge()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02945">ast_channel_lock</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01593">get_transfer_parties_transferer_bridge()</a>, and <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01573">get_transfer_party_non_transferer_bridge()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02322">blond_enter()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02306">complete_enter()</a>, and <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02192">threeway_enter()</a>.</p>
<div class="fragment"><div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;{</div><div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *transferer_bridge;</div><div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;</div><div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(transferer);</div><div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;   transferer_bridge = <a class="code" href="../../d5/d7b/channel_8h.html#a557663006d52a9cdc11f42602bf48326">ast_channel_get_bridge</a>(transferer);</div><div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(transferer);</div><div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;</div><div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;   <span class="keywordflow">if</span> (transferer_bridge == transferee_bridge) {</div><div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;      <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a2c4d593d369cedfbbeb0ee073adf6bf8">get_transfer_parties_transferer_bridge</a>(transferee_bridge, target_bridge,</div><div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;            transferer, transferee, transfer_target);</div><div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (transferer_bridge == target_bridge) {</div><div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;      <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a2c4d593d369cedfbbeb0ee073adf6bf8">get_transfer_parties_transferer_bridge</a>(target_bridge, transferee_bridge,</div><div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;            transferer, transfer_target, transferee);</div><div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;      <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a75f2a7a0f4ac4a74c624de034fe7cb75">get_transfer_party_non_transferer_bridge</a>(transferee_bridge, transferee);</div><div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;      <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a75f2a7a0f4ac4a74c624de034fe7cb75">get_transfer_party_non_transferer_bridge</a>(target_bridge, transfer_target);</div><div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;   }</div><div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;</div><div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>(transferer_bridge);</div><div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;}</div><div class="ttc" id="channel_8h_html_a493bdebe876caafb8ee535853310364a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a></div><div class="ttdeci">#define ast_channel_lock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02945">channel.h:2945</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a75f2a7a0f4ac4a74c624de034fe7cb75"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a75f2a7a0f4ac4a74c624de034fe7cb75">get_transfer_party_non_transferer_bridge</a></div><div class="ttdeci">static void get_transfer_party_non_transferer_bridge(struct ast_bridge *bridge, struct ast_channel **party)</div><div class="ttdoc">Get a desired transfer party for a bridge the transferer is not in. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01573">bridge_basic.c:1573</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a2c4d593d369cedfbbeb0ee073adf6bf8"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a2c4d593d369cedfbbeb0ee073adf6bf8">get_transfer_parties_transferer_bridge</a></div><div class="ttdeci">static void get_transfer_parties_transferer_bridge(struct ast_bridge *transferer_bridge, struct ast_bridge *other_bridge, struct ast_channel *transferer, struct ast_channel **transferer_peer, struct ast_channel **other_party)</div><div class="ttdoc">Get the transferee and transfer target when the transferer is in a bridge with one of the desired par...</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01593">bridge_basic.c:1593</a></div></div>
<div class="ttc" id="channel_8h_html_a557663006d52a9cdc11f42602bf48326"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a557663006d52a9cdc11f42602bf48326">ast_channel_get_bridge</a></div><div class="ttdeci">struct ast_bridge * ast_channel_get_bridge(const struct ast_channel *chan)</div><div class="ttdoc">Get the bridge associated with a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l10735">channel.c:10735</a></div></div>
<div class="ttc" id="structast__bridge_html"><div class="ttname"><a href="../../d4/d84/structast__bridge.html">ast_bridge</a></div><div class="ttdoc">Structure that contains information about a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00357">bridge.h:357</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2c4d593d369cedfbbeb0ee073adf6bf8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c4d593d369cedfbbeb0ee073adf6bf8">&#9670;&nbsp;</a></span>get_transfer_parties_transferer_bridge()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void get_transfer_parties_transferer_bridge </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *&#160;</td>
          <td class="paramname"><em>transferer_bridge</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *&#160;</td>
          <td class="paramname"><em>other_bridge</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>transferer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> **&#160;</td>
          <td class="paramname"><em>transferer_peer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> **&#160;</td>
          <td class="paramname"><em>other_party</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the transferee and transfer target when the transferer is in a bridge with one of the desired parties. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">transferer_bridge</td><td>The bridge the transferer is in </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">other_bridge</td><td>The bridge the transferer is not in. May be NULL. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">transferer</td><td>The transferer party </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">transferer_peer</td><td>The party that is in the bridge with the transferer </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">other_party</td><td>The party that is in the other_bridge </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01593">1593</a> of file <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html">bridge_basic.c</a>.</p>

<p class="reference">References <a class="el" href="../../d0/d95/bridge_8c_source.html#l04142">ast_bridge_peer()</a>, and <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01573">get_transfer_party_non_transferer_bridge()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01618">get_transfer_parties()</a>.</p>
<div class="fragment"><div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;{</div><div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;   *transferer_peer = <a class="code" href="../../d4/d56/bridge_8h.html#a08a41371fb4f020d645a0e6f50434005">ast_bridge_peer</a>(transferer_bridge, transferer);</div><div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;   <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a75f2a7a0f4ac4a74c624de034fe7cb75">get_transfer_party_non_transferer_bridge</a>(other_bridge, other_party);</div><div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;}</div><div class="ttc" id="bridge__basic_8c_html_a75f2a7a0f4ac4a74c624de034fe7cb75"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a75f2a7a0f4ac4a74c624de034fe7cb75">get_transfer_party_non_transferer_bridge</a></div><div class="ttdeci">static void get_transfer_party_non_transferer_bridge(struct ast_bridge *bridge, struct ast_channel **party)</div><div class="ttdoc">Get a desired transfer party for a bridge the transferer is not in. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01573">bridge_basic.c:1573</a></div></div>
<div class="ttc" id="bridge_8h_html_a08a41371fb4f020d645a0e6f50434005"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a08a41371fb4f020d645a0e6f50434005">ast_bridge_peer</a></div><div class="ttdeci">struct ast_channel * ast_bridge_peer(struct ast_bridge *bridge, struct ast_channel *chan)</div><div class="ttdoc">Get the channel&amp;#39;s bridge peer only if the bridge is two-party. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l04142">bridge.c:4142</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a75f2a7a0f4ac4a74c624de034fe7cb75"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a75f2a7a0f4ac4a74c624de034fe7cb75">&#9670;&nbsp;</a></span>get_transfer_party_non_transferer_bridge()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void get_transfer_party_non_transferer_bridge </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *&#160;</td>
          <td class="paramname"><em>bridge</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> **&#160;</td>
          <td class="paramname"><em>party</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get a desired transfer party for a bridge the transferer is not in. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">bridge</td><td>The bridge to get the party from. May be NULL. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">party</td><td>The lone channel in the bridge. Will be set NULL if bridge is NULL or multiple parties are present. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01573">1573</a> of file <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html">bridge_basic.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d7b/channel_8h_source.html#l02970">ast_channel_ref</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00420">AST_LIST_FIRST</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00371">ast_bridge::channels</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../d4/d56/bridge_8h_source.html#l00381">ast_bridge::num_channels</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01618">get_transfer_parties()</a>, and <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01593">get_transfer_parties_transferer_bridge()</a>.</p>
<div class="fragment"><div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;{</div><div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;   <span class="keywordflow">if</span> (bridge &amp;&amp; bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a97e3bedeadf444995deb6fab68f57e21">num_channels</a> == 1) {</div><div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;      *party = <a class="code" href="../../d5/d7b/channel_8h.html#a6801c703e767d6f760c54c8b86a30024">ast_channel_ref</a>(<a class="code" href="../../df/d90/linkedlists_8h.html#adf1959c5c03a3a706da97ad2f49617e5">AST_LIST_FIRST</a>(&amp;bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a77542a877d8ed62331c5b3b6aa3e87a7">channels</a>)-&gt;chan);</div><div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;      *party = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;   }</div><div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;}</div><div class="ttc" id="linkedlists_8h_html_adf1959c5c03a3a706da97ad2f49617e5"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#adf1959c5c03a3a706da97ad2f49617e5">AST_LIST_FIRST</a></div><div class="ttdeci">#define AST_LIST_FIRST(head)</div><div class="ttdoc">Returns the first entry contained in a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00420">linkedlists.h:420</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structast__bridge_html_a77542a877d8ed62331c5b3b6aa3e87a7"><div class="ttname"><a href="../../d4/d84/structast__bridge.html#a77542a877d8ed62331c5b3b6aa3e87a7">ast_bridge::channels</a></div><div class="ttdeci">struct ast_bridge_channels_list channels</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00371">bridge.h:371</a></div></div>
<div class="ttc" id="channel_8h_html_a6801c703e767d6f760c54c8b86a30024"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a6801c703e767d6f760c54c8b86a30024">ast_channel_ref</a></div><div class="ttdeci">#define ast_channel_ref(c)</div><div class="ttdoc">Increase channel reference count. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02970">channel.h:2970</a></div></div>
<div class="ttc" id="structast__bridge_html_a97e3bedeadf444995deb6fab68f57e21"><div class="ttname"><a href="../../d4/d84/structast__bridge.html#a97e3bedeadf444995deb6fab68f57e21">ast_bridge::num_channels</a></div><div class="ttdeci">unsigned int num_channels</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00381">bridge.h:381</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aebcf07ece2b35dc2aa2097cb3ac6cc3e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aebcf07ece2b35dc2aa2097cb3ac6cc3e">&#9670;&nbsp;</a></span>grab_transfer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int grab_transfer </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>exten</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>exten_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>context</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Helper function that presents dialtone and grabs extension. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>on success </td></tr>
    <tr><td class="paramname">-1</td><td>on failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l03160">3160</a> of file <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html">bridge_basic.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d3/d83/main_2app_8c_source.html#l00139">ast_app_dtget()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02945">ast_channel_lock</a>, <a class="el" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../d2/d4d/file_8h_source.html#l00048">AST_DIGIT_ANY</a>, <a class="el" href="../../d2/d4d/file_8h_source.html#l00047">AST_DIGIT_NONE</a>, <a class="el" href="../../de/d71/features__config_8c_source.html#l01143">ast_get_chan_features_xfer_config()</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l00187">ast_stopstream()</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00300">ast_strdupa</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l01814">ast_stream_and_wait()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00196">ast_test_suite_event_notify</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00463">ast_verb</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../d0/daa/include_2asterisk_2features__config_8h_source.html#l00087">ast_features_xfer_config::transferdialattempts</a>, <a class="el" href="../../d0/daa/include_2asterisk_2features__config_8h_source.html#l00075">ast_features_xfer_config::transferdigittimeout</a>, <a class="el" href="../../d0/daa/include_2asterisk_2features__config_8h_source.html#l00075">ast_features_xfer_config::transferinvalidsound</a>, and <a class="el" href="../../d0/daa/include_2asterisk_2features__config_8h_source.html#l00075">ast_features_xfer_config::transferretrysound</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l03295">feature_attended_transfer()</a>, and <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l03472">feature_blind_transfer()</a>.</p>
<div class="fragment"><div class="line"><a name="l03161"></a><span class="lineno"> 3161</span>&#160;{</div><div class="line"><a name="l03162"></a><span class="lineno"> 3162</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l03163"></a><span class="lineno"> 3163</span>&#160;   <span class="keywordtype">int</span> digit_timeout;</div><div class="line"><a name="l03164"></a><span class="lineno"> 3164</span>&#160;   <span class="keywordtype">int</span> attempts = 0;</div><div class="line"><a name="l03165"></a><span class="lineno"> 3165</span>&#160;   <span class="keywordtype">int</span> max_attempts;</div><div class="line"><a name="l03166"></a><span class="lineno"> 3166</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../df/db6/structast__features__xfer__config.html">ast_features_xfer_config</a> *xfer_cfg;</div><div class="line"><a name="l03167"></a><span class="lineno"> 3167</span>&#160;   <span class="keywordtype">char</span> *retry_sound;</div><div class="line"><a name="l03168"></a><span class="lineno"> 3168</span>&#160;   <span class="keywordtype">char</span> *invalid_sound;</div><div class="line"><a name="l03169"></a><span class="lineno"> 3169</span>&#160;</div><div class="line"><a name="l03170"></a><span class="lineno"> 3170</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(chan);</div><div class="line"><a name="l03171"></a><span class="lineno"> 3171</span>&#160;   xfer_cfg = <a class="code" href="../../d0/daa/include_2asterisk_2features__config_8h.html#ab442de0580c9cee7ae5e10886e28ed8c">ast_get_chan_features_xfer_config</a>(chan);</div><div class="line"><a name="l03172"></a><span class="lineno"> 3172</span>&#160;   <span class="keywordflow">if</span> (!xfer_cfg) {</div><div class="line"><a name="l03173"></a><span class="lineno"> 3173</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Channel %s: Unable to get transfer configuration\n&quot;</span>,</div><div class="line"><a name="l03174"></a><span class="lineno"> 3174</span>&#160;         <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan));</div><div class="line"><a name="l03175"></a><span class="lineno"> 3175</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l03176"></a><span class="lineno"> 3176</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l03177"></a><span class="lineno"> 3177</span>&#160;   }</div><div class="line"><a name="l03178"></a><span class="lineno"> 3178</span>&#160;   digit_timeout = xfer_cfg-&gt;<a class="code" href="../../df/db6/structast__features__xfer__config.html#a4cb5c42b5829e782bdbd54e9bd276e75">transferdigittimeout</a> * 1000;</div><div class="line"><a name="l03179"></a><span class="lineno"> 3179</span>&#160;   max_attempts = xfer_cfg-&gt;<a class="code" href="../../df/db6/structast__features__xfer__config.html#a40ffe7b39c5df706b99b884c74a0e03f">transferdialattempts</a>;</div><div class="line"><a name="l03180"></a><span class="lineno"> 3180</span>&#160;   retry_sound = <a class="code" href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a>(xfer_cfg-&gt;<a class="code" href="../../df/db6/structast__features__xfer__config.html#a865d7b42cb09e250bf9527f276eff8ee">transferretrysound</a>);</div><div class="line"><a name="l03181"></a><span class="lineno"> 3181</span>&#160;   invalid_sound = <a class="code" href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a>(xfer_cfg-&gt;<a class="code" href="../../df/db6/structast__features__xfer__config.html#ab999234c3717e8eccd509a145e9151e2">transferinvalidsound</a>);</div><div class="line"><a name="l03182"></a><span class="lineno"> 3182</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(xfer_cfg, -1);</div><div class="line"><a name="l03183"></a><span class="lineno"> 3183</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l03184"></a><span class="lineno"> 3184</span>&#160;</div><div class="line"><a name="l03185"></a><span class="lineno"> 3185</span>&#160;   <span class="comment">/* Play the simple &quot;transfer&quot; prompt out and wait */</span></div><div class="line"><a name="l03186"></a><span class="lineno"> 3186</span>&#160;   res = <a class="code" href="../../d2/d4d/file_8h.html#a95b94a020720147325a486e210b36775">ast_stream_and_wait</a>(chan, <span class="stringliteral">&quot;pbx-transfer&quot;</span>, <a class="code" href="../../d2/d4d/file_8h.html#afa92b0106fb7a918ea994c2867ac0a04">AST_DIGIT_ANY</a>);</div><div class="line"><a name="l03187"></a><span class="lineno"> 3187</span>&#160;   <a class="code" href="../../d2/d4d/file_8h.html#a3092bf11d4bba66f646562759608b1bc">ast_stopstream</a>(chan);</div><div class="line"><a name="l03188"></a><span class="lineno"> 3188</span>&#160;   <span class="keywordflow">if</span> (res &lt; 0) {</div><div class="line"><a name="l03189"></a><span class="lineno"> 3189</span>&#160;      <span class="comment">/* Hangup or error */</span></div><div class="line"><a name="l03190"></a><span class="lineno"> 3190</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l03191"></a><span class="lineno"> 3191</span>&#160;   }</div><div class="line"><a name="l03192"></a><span class="lineno"> 3192</span>&#160;   <span class="keywordflow">if</span> (res) {</div><div class="line"><a name="l03193"></a><span class="lineno"> 3193</span>&#160;      <span class="comment">/* Store the DTMF digit that interrupted playback of the file. */</span></div><div class="line"><a name="l03194"></a><span class="lineno"> 3194</span>&#160;      <a class="code" href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>[0] = res;</div><div class="line"><a name="l03195"></a><span class="lineno"> 3195</span>&#160;   }</div><div class="line"><a name="l03196"></a><span class="lineno"> 3196</span>&#160;</div><div class="line"><a name="l03197"></a><span class="lineno"> 3197</span>&#160;   <span class="comment">/* Drop to dialtone so they can enter the extension they want to transfer to */</span></div><div class="line"><a name="l03198"></a><span class="lineno"> 3198</span>&#160;   <span class="keywordflow">do</span> {</div><div class="line"><a name="l03199"></a><span class="lineno"> 3199</span>&#160;      ++attempts;</div><div class="line"><a name="l03200"></a><span class="lineno"> 3200</span>&#160;</div><div class="line"><a name="l03201"></a><span class="lineno"> 3201</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a9482d93ea3931853331bdbc745ce7cb4">ast_test_suite_event_notify</a>(<span class="stringliteral">&quot;TRANSFER_BEGIN_DIAL&quot;</span>,</div><div class="line"><a name="l03202"></a><span class="lineno"> 3202</span>&#160;            <span class="stringliteral">&quot;Channel: %s\r\n&quot;</span></div><div class="line"><a name="l03203"></a><span class="lineno"> 3203</span>&#160;            <span class="stringliteral">&quot;Attempt: %d&quot;</span>,</div><div class="line"><a name="l03204"></a><span class="lineno"> 3204</span>&#160;            <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan), attempts);</div><div class="line"><a name="l03205"></a><span class="lineno"> 3205</span>&#160;      res = <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#af4825b337b9cd145a059852ce85ec6cd">ast_app_dtget</a>(chan, <a class="code" href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a>, <a class="code" href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>, exten_len, exten_len - 1, digit_timeout);</div><div class="line"><a name="l03206"></a><span class="lineno"> 3206</span>&#160;      <a class="code" href="../../d2/ddc/test_8h.html#a9482d93ea3931853331bdbc745ce7cb4">ast_test_suite_event_notify</a>(<span class="stringliteral">&quot;TRANSFER_DIALLED&quot;</span>,</div><div class="line"><a name="l03207"></a><span class="lineno"> 3207</span>&#160;            <span class="stringliteral">&quot;Channel: %s\r\n&quot;</span></div><div class="line"><a name="l03208"></a><span class="lineno"> 3208</span>&#160;            <span class="stringliteral">&quot;Attempt: %d\r\n&quot;</span></div><div class="line"><a name="l03209"></a><span class="lineno"> 3209</span>&#160;            <span class="stringliteral">&quot;Dialled: %s\r\n&quot;</span></div><div class="line"><a name="l03210"></a><span class="lineno"> 3210</span>&#160;            <span class="stringliteral">&quot;Result: %s&quot;</span>,</div><div class="line"><a name="l03211"></a><span class="lineno"> 3211</span>&#160;            <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan), attempts, <a class="code" href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>, res &gt; 0 ? <span class="stringliteral">&quot;Success&quot;</span> : <span class="stringliteral">&quot;Failure&quot;</span>);</div><div class="line"><a name="l03212"></a><span class="lineno"> 3212</span>&#160;      <span class="keywordflow">if</span> (res &lt; 0) {</div><div class="line"><a name="l03213"></a><span class="lineno"> 3213</span>&#160;         <span class="comment">/* Hangup or error */</span></div><div class="line"><a name="l03214"></a><span class="lineno"> 3214</span>&#160;         res = -1;</div><div class="line"><a name="l03215"></a><span class="lineno"> 3215</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!res) {</div><div class="line"><a name="l03216"></a><span class="lineno"> 3216</span>&#160;         <span class="comment">/* 0 for invalid extension dialed. */</span></div><div class="line"><a name="l03217"></a><span class="lineno"> 3217</span>&#160;         <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(<a class="code" href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>)) {</div><div class="line"><a name="l03218"></a><span class="lineno"> 3218</span>&#160;            <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(3, <span class="stringliteral">&quot;Channel %s: Dialed no digits.\n&quot;</span>, <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan));</div><div class="line"><a name="l03219"></a><span class="lineno"> 3219</span>&#160;         } <span class="keywordflow">else</span> {</div><div class="line"><a name="l03220"></a><span class="lineno"> 3220</span>&#160;            <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(3, <span class="stringliteral">&quot;Channel %s: Dialed &#39;%s@%s&#39; does not exist.\n&quot;</span>,</div><div class="line"><a name="l03221"></a><span class="lineno"> 3221</span>&#160;               <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan), <a class="code" href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>, <a class="code" href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a>);</div><div class="line"><a name="l03222"></a><span class="lineno"> 3222</span>&#160;         }</div><div class="line"><a name="l03223"></a><span class="lineno"> 3223</span>&#160;         <span class="keywordflow">if</span> (attempts &lt; max_attempts) {</div><div class="line"><a name="l03224"></a><span class="lineno"> 3224</span>&#160;            <a class="code" href="../../d2/d4d/file_8h.html#a95b94a020720147325a486e210b36775">ast_stream_and_wait</a>(chan, retry_sound, <a class="code" href="../../d2/d4d/file_8h.html#abb7bdff3c549191072878402b0a0ca9c">AST_DIGIT_NONE</a>);</div><div class="line"><a name="l03225"></a><span class="lineno"> 3225</span>&#160;         } <span class="keywordflow">else</span> {</div><div class="line"><a name="l03226"></a><span class="lineno"> 3226</span>&#160;            <a class="code" href="../../d2/d4d/file_8h.html#a95b94a020720147325a486e210b36775">ast_stream_and_wait</a>(chan, invalid_sound, <a class="code" href="../../d2/d4d/file_8h.html#abb7bdff3c549191072878402b0a0ca9c">AST_DIGIT_NONE</a>);</div><div class="line"><a name="l03227"></a><span class="lineno"> 3227</span>&#160;         }</div><div class="line"><a name="l03228"></a><span class="lineno"> 3228</span>&#160;         memset(<a class="code" href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>, 0, exten_len);</div><div class="line"><a name="l03229"></a><span class="lineno"> 3229</span>&#160;         res = 1;</div><div class="line"><a name="l03230"></a><span class="lineno"> 3230</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l03231"></a><span class="lineno"> 3231</span>&#160;         <span class="comment">/* Dialed extension is valid. */</span></div><div class="line"><a name="l03232"></a><span class="lineno"> 3232</span>&#160;         res = 0;</div><div class="line"><a name="l03233"></a><span class="lineno"> 3233</span>&#160;      }</div><div class="line"><a name="l03234"></a><span class="lineno"> 3234</span>&#160;   } <span class="keywordflow">while</span> (res &gt; 0 &amp;&amp; attempts &lt; max_attempts);</div><div class="line"><a name="l03235"></a><span class="lineno"> 3235</span>&#160;</div><div class="line"><a name="l03236"></a><span class="lineno"> 3236</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a9482d93ea3931853331bdbc745ce7cb4">ast_test_suite_event_notify</a>(<span class="stringliteral">&quot;TRANSFER_DIAL_FINAL&quot;</span>,</div><div class="line"><a name="l03237"></a><span class="lineno"> 3237</span>&#160;         <span class="stringliteral">&quot;Channel: %s\r\n&quot;</span></div><div class="line"><a name="l03238"></a><span class="lineno"> 3238</span>&#160;         <span class="stringliteral">&quot;Result: %s&quot;</span>,</div><div class="line"><a name="l03239"></a><span class="lineno"> 3239</span>&#160;         <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan), res == 0 ? <span class="stringliteral">&quot;Success&quot;</span> : <span class="stringliteral">&quot;Failure&quot;</span>);</div><div class="line"><a name="l03240"></a><span class="lineno"> 3240</span>&#160;</div><div class="line"><a name="l03241"></a><span class="lineno"> 3241</span>&#160;   <span class="keywordflow">return</span> res ? -1 : 0;</div><div class="line"><a name="l03242"></a><span class="lineno"> 3242</span>&#160;}</div><div class="ttc" id="channel_8h_html_a493bdebe876caafb8ee535853310364a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a></div><div class="ttdeci">#define ast_channel_lock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02945">channel.h:2945</a></div></div>
<div class="ttc" id="chan__alsa_8c_html_a78d4847658b695383d849efd12399b38"><div class="ttname"><a href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a></div><div class="ttdeci">static char exten[AST_MAX_EXTENSION]</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d45/chan__alsa_8c_source.html#l00118">chan_alsa.c:118</a></div></div>
<div class="ttc" id="structast__features__xfer__config_html"><div class="ttname"><a href="../../df/db6/structast__features__xfer__config.html">ast_features_xfer_config</a></div><div class="ttdoc">Feature configuration relating to transfers. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/daa/include_2asterisk_2features__config_8h_source.html#l00057">include/asterisk/features_config.h:57</a></div></div>
<div class="ttc" id="file_8h_html_afa92b0106fb7a918ea994c2867ac0a04"><div class="ttname"><a href="../../d2/d4d/file_8h.html#afa92b0106fb7a918ea994c2867ac0a04">AST_DIGIT_ANY</a></div><div class="ttdeci">#define AST_DIGIT_ANY</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d4d/file_8h_source.html#l00048">file.h:48</a></div></div>
<div class="ttc" id="include_2asterisk_2features__config_8h_html_ab442de0580c9cee7ae5e10886e28ed8c"><div class="ttname"><a href="../../d0/daa/include_2asterisk_2features__config_8h.html#ab442de0580c9cee7ae5e10886e28ed8c">ast_get_chan_features_xfer_config</a></div><div class="ttdeci">struct ast_features_xfer_config * ast_get_chan_features_xfer_config(struct ast_channel *chan)</div><div class="ttdoc">Get the transfer configuration options for a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d71/features__config_8c_source.html#l01143">features_config.c:1143</a></div></div>
<div class="ttc" id="structast__features__xfer__config_html_a4cb5c42b5829e782bdbd54e9bd276e75"><div class="ttname"><a href="../../df/db6/structast__features__xfer__config.html#a4cb5c42b5829e782bdbd54e9bd276e75">ast_features_xfer_config::transferdigittimeout</a></div><div class="ttdeci">unsigned int transferdigittimeout</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/daa/include_2asterisk_2features__config_8h_source.html#l00075">include/asterisk/features_config.h:75</a></div></div>
<div class="ttc" id="logger_8h_html_ad770f83c71e237e1f64163358ce4e13d"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a></div><div class="ttdeci">#define ast_verb(level,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00463">logger.h:463</a></div></div>
<div class="ttc" id="structast__features__xfer__config_html_a40ffe7b39c5df706b99b884c74a0e03f"><div class="ttname"><a href="../../df/db6/structast__features__xfer__config.html#a40ffe7b39c5df706b99b884c74a0e03f">ast_features_xfer_config::transferdialattempts</a></div><div class="ttdeci">unsigned int transferdialattempts</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/daa/include_2asterisk_2features__config_8h_source.html#l00087">include/asterisk/features_config.h:87</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="structast__features__xfer__config_html_a865d7b42cb09e250bf9527f276eff8ee"><div class="ttname"><a href="../../df/db6/structast__features__xfer__config.html#a865d7b42cb09e250bf9527f276eff8ee">ast_features_xfer_config::transferretrysound</a></div><div class="ttdeci">const ast_string_field transferretrysound</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/daa/include_2asterisk_2features__config_8h_source.html#l00075">include/asterisk/features_config.h:75</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="astmm_8h_html_ab5f0750cc80ba337fdcbddea2d3a1ee6"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a></div><div class="ttdeci">#define ast_strdupa(s)</div><div class="ttdoc">duplicate a string in memory from the stack </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00300">astmm.h:300</a></div></div>
<div class="ttc" id="test_8h_html_a9482d93ea3931853331bdbc745ce7cb4"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a9482d93ea3931853331bdbc745ce7cb4">ast_test_suite_event_notify</a></div><div class="ttdeci">#define ast_test_suite_event_notify(s, f,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00196">test.h:196</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="file_8h_html_abb7bdff3c549191072878402b0a0ca9c"><div class="ttname"><a href="../../d2/d4d/file_8h.html#abb7bdff3c549191072878402b0a0ca9c">AST_DIGIT_NONE</a></div><div class="ttdeci">#define AST_DIGIT_NONE</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d4d/file_8h_source.html#l00047">file.h:47</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="file_8h_html_a95b94a020720147325a486e210b36775"><div class="ttname"><a href="../../d2/d4d/file_8h.html#a95b94a020720147325a486e210b36775">ast_stream_and_wait</a></div><div class="ttdeci">int ast_stream_and_wait(struct ast_channel *chan, const char *file, const char *digits)</div><div class="ttdoc">stream file until digit If the file name is non-empty, try to play it. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d13/file_8c_source.html#l01814">file.c:1814</a></div></div>
<div class="ttc" id="channel_8h_html_a7ca2fda13b129a55c251b56729de285b"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a></div><div class="ttdeci">const char * ast_channel_name(const struct ast_channel *chan)</div></div>
<div class="ttc" id="include_2asterisk_2app_8h_html_af4825b337b9cd145a059852ce85ec6cd"><div class="ttname"><a href="../../d3/d93/include_2asterisk_2app_8h.html#af4825b337b9cd145a059852ce85ec6cd">ast_app_dtget</a></div><div class="ttdeci">int ast_app_dtget(struct ast_channel *chan, const char *context, char *collect, size_t size, int maxlen, int timeout)</div><div class="ttdoc">Present a dialtone and collect a certain length extension. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d83/main_2app_8c_source.html#l00139">main/app.c:139</a></div></div>
<div class="ttc" id="chan__alsa_8c_html_ac25ea00ee3f082df06e0cf468cbde240"><div class="ttname"><a href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a></div><div class="ttdeci">static char context[AST_MAX_CONTEXT]</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d45/chan__alsa_8c_source.html#l00116">chan_alsa.c:116</a></div></div>
<div class="ttc" id="file_8h_html_a3092bf11d4bba66f646562759608b1bc"><div class="ttname"><a href="../../d2/d4d/file_8h.html#a3092bf11d4bba66f646562759608b1bc">ast_stopstream</a></div><div class="ttdeci">int ast_stopstream(struct ast_channel *c)</div><div class="ttdoc">Stops a stream. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d13/file_8c_source.html#l00187">file.c:187</a></div></div>
<div class="ttc" id="structast__features__xfer__config_html_ab999234c3717e8eccd509a145e9151e2"><div class="ttname"><a href="../../df/db6/structast__features__xfer__config.html#ab999234c3717e8eccd509a145e9151e2">ast_features_xfer_config::transferinvalidsound</a></div><div class="ttdeci">const ast_string_field transferinvalidsound</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/daa/include_2asterisk_2features__config_8h_source.html#l00075">include/asterisk/features_config.h:75</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a67bb49ac09a9704bc93110868ba61d33"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a67bb49ac09a9704bc93110868ba61d33">&#9670;&nbsp;</a></span>hesitant_enter()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int hesitant_enter </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dd/d9e/structattended__transfer__properties.html">attended_transfer_properties</a> *&#160;</td>
          <td class="paramname"><em>props</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02140">2140</a> of file <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html">bridge_basic.c</a>.</p>

<p class="reference">References <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01870">bridge_move()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01313">attended_transfer_properties::target_bridge</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01309">attended_transfer_properties::transferee_bridge</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01315">attended_transfer_properties::transferer</a>, and <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01793">unhold()</a>.</p>
<div class="fragment"><div class="line"><a name="l02141"></a><span class="lineno"> 2141</span>&#160;{</div><div class="line"><a name="l02142"></a><span class="lineno"> 2142</span>&#160;   <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a3fc1a10ab2ba929490e84c1960ada943">bridge_move</a>(props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a7c148ea37d33eb1640a17177c700be43">transferee_bridge</a>, props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#ab45c59137417246eaa392b3d8319fbc3">target_bridge</a>, props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a43cf79e5f3675b2cdf001bceacb02e72">transferer</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l02143"></a><span class="lineno"> 2143</span>&#160;   <a class="code" href="../../d7/d9b/bridge__basic_8c.html#ac08eea8a379a04d85eb9c21dc252e28d">unhold</a>(props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a43cf79e5f3675b2cdf001bceacb02e72">transferer</a>);</div><div class="line"><a name="l02144"></a><span class="lineno"> 2144</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02145"></a><span class="lineno"> 2145</span>&#160;}</div><div class="ttc" id="structattended__transfer__properties_html_a7c148ea37d33eb1640a17177c700be43"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html#a7c148ea37d33eb1640a17177c700be43">attended_transfer_properties::transferee_bridge</a></div><div class="ttdeci">struct ast_bridge * transferee_bridge</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01309">bridge_basic.c:1309</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structattended__transfer__properties_html_ab45c59137417246eaa392b3d8319fbc3"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html#ab45c59137417246eaa392b3d8319fbc3">attended_transfer_properties::target_bridge</a></div><div class="ttdeci">struct ast_bridge * target_bridge</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01313">bridge_basic.c:1313</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_ac08eea8a379a04d85eb9c21dc252e28d"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#ac08eea8a379a04d85eb9c21dc252e28d">unhold</a></div><div class="ttdeci">static void unhold(struct ast_channel *chan)</div><div class="ttdoc">Helper method to take a channel in a bridge off hold. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01793">bridge_basic.c:1793</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a3fc1a10ab2ba929490e84c1960ada943"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a3fc1a10ab2ba929490e84c1960ada943">bridge_move</a></div><div class="ttdeci">static void bridge_move(struct ast_bridge *dest, struct ast_bridge *src, struct ast_channel *channel, struct ast_channel *swap)</div><div class="ttdoc">Wrapper for bridge_do_move. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01870">bridge_basic.c:1870</a></div></div>
<div class="ttc" id="structattended__transfer__properties_html_a43cf79e5f3675b2cdf001bceacb02e72"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html#a43cf79e5f3675b2cdf001bceacb02e72">attended_transfer_properties::transferer</a></div><div class="ttdeci">struct ast_channel * transferer</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01315">bridge_basic.c:1315</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a8791262b974c24f12152b4552d2a9509"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8791262b974c24f12152b4552d2a9509">&#9670;&nbsp;</a></span>hesitant_exit()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static enum <a class="el" href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8">attended_transfer_state</a> hesitant_exit </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dd/d9e/structattended__transfer__properties.html">attended_transfer_properties</a> *&#160;</td>
          <td class="paramname"><em>props</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290">attended_transfer_stimulus</a>&#160;</td>
          <td class="paramname"><em>stimulus</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02147">2147</a> of file <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html">bridge_basic.c</a>.</p>

<p class="reference">References <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01334">attended_transfer_properties::atxferdropcall</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01772">hold()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01736">play_failsound()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01692">publish_transfer_fail()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01330">attended_transfer_properties::state</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02000">attended_transfer_state_properties::state_name</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01254">STIMULUS_DTMF_ATXFER_ABORT</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01256">STIMULUS_DTMF_ATXFER_COMPLETE</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01260">STIMULUS_DTMF_ATXFER_SWAP</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01258">STIMULUS_DTMF_ATXFER_THREEWAY</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01238">STIMULUS_NONE</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01250">STIMULUS_RECALL_TARGET_ANSWER</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01248">STIMULUS_RECALL_TARGET_HANGUP</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01268">stimulus_strs</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01252">STIMULUS_TIMEOUT</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01246">STIMULUS_TRANSFER_TARGET_ANSWER</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01244">STIMULUS_TRANSFER_TARGET_HANGUP</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01240">STIMULUS_TRANSFEREE_HANGUP</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01242">STIMULUS_TRANSFERER_HANGUP</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01047">TRANSFER_BLOND</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01079">TRANSFER_BLOND_NONFINAL</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00808">TRANSFER_CALLING_TARGET</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00987">TRANSFER_DOUBLECHECKING</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01230">TRANSFER_FAIL</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00903">TRANSFER_RESUME</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00929">TRANSFER_THREEWAY</a>, and <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01315">attended_transfer_properties::transferer</a>.</p>
<div class="fragment"><div class="line"><a name="l02149"></a><span class="lineno"> 2149</span>&#160;{</div><div class="line"><a name="l02150"></a><span class="lineno"> 2150</span>&#160;   <span class="keywordflow">switch</span> (stimulus) {</div><div class="line"><a name="l02151"></a><span class="lineno"> 2151</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a5bea635a52d3e646fe86091457310934">STIMULUS_TRANSFEREE_HANGUP</a>:</div><div class="line"><a name="l02152"></a><span class="lineno"> 2152</span>&#160;      <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a397a54e2f92522a19b0cd7775739e210">play_failsound</a>(props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a43cf79e5f3675b2cdf001bceacb02e72">transferer</a>);</div><div class="line"><a name="l02153"></a><span class="lineno"> 2153</span>&#160;      <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a7f74bf7c99819ae48e4f588bc6e6bc15">publish_transfer_fail</a>(props);</div><div class="line"><a name="l02154"></a><span class="lineno"> 2154</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8a8383b06b8e11a417dca5329407478ee8">TRANSFER_FAIL</a>;</div><div class="line"><a name="l02155"></a><span class="lineno"> 2155</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a9b6689669975b3d4767ca6284d721775">STIMULUS_DTMF_ATXFER_COMPLETE</a>:</div><div class="line"><a name="l02156"></a><span class="lineno"> 2156</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a800bb00b2e8ab7a8f11092b3bb2fba11">STIMULUS_TRANSFERER_HANGUP</a>:</div><div class="line"><a name="l02157"></a><span class="lineno"> 2157</span>&#160;      <span class="keywordflow">return</span> props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a9b7e688c5535aec691e3e5c7f855e636">atxferdropcall</a> ? <a class="code" href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8ab73883ddf660b1efa01fb5aeeb6a002f">TRANSFER_BLOND</a> : <a class="code" href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8afd695d9c2410d09ac50f1e002da07609">TRANSFER_BLOND_NONFINAL</a>;</div><div class="line"><a name="l02158"></a><span class="lineno"> 2158</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a7615240e3b359bd98d9949ff77e102c2">STIMULUS_TRANSFER_TARGET_ANSWER</a>:</div><div class="line"><a name="l02159"></a><span class="lineno"> 2159</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8a327912f4d0734a2ea7b440531f0c5693">TRANSFER_DOUBLECHECKING</a>;</div><div class="line"><a name="l02160"></a><span class="lineno"> 2160</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a5b7c4fdcec2b5bea9e9be459dc924492">STIMULUS_TRANSFER_TARGET_HANGUP</a>:</div><div class="line"><a name="l02161"></a><span class="lineno"> 2161</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290ad811a249bfc0c9c585652f461b127180">STIMULUS_TIMEOUT</a>:</div><div class="line"><a name="l02162"></a><span class="lineno"> 2162</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a72d10e2721ad55addb0b84175f5280d0">STIMULUS_DTMF_ATXFER_ABORT</a>:</div><div class="line"><a name="l02163"></a><span class="lineno"> 2163</span>&#160;      <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a397a54e2f92522a19b0cd7775739e210">play_failsound</a>(props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a43cf79e5f3675b2cdf001bceacb02e72">transferer</a>);</div><div class="line"><a name="l02164"></a><span class="lineno"> 2164</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8ac19143ec75880c93f0c2483599b28343">TRANSFER_RESUME</a>;</div><div class="line"><a name="l02165"></a><span class="lineno"> 2165</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a6f6c487fc2723093806c52b62c7ae80a">STIMULUS_DTMF_ATXFER_THREEWAY</a>:</div><div class="line"><a name="l02166"></a><span class="lineno"> 2166</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8ac7c5f29c9c62b140951b3035b1783ca2">TRANSFER_THREEWAY</a>;</div><div class="line"><a name="l02167"></a><span class="lineno"> 2167</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290ac4c70db40c8740dc43a331ab483f3c1c">STIMULUS_DTMF_ATXFER_SWAP</a>:</div><div class="line"><a name="l02168"></a><span class="lineno"> 2168</span>&#160;      <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a865b164f5f26f2bace1df76cf9cdf82e">hold</a>(props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a43cf79e5f3675b2cdf001bceacb02e72">transferer</a>);</div><div class="line"><a name="l02169"></a><span class="lineno"> 2169</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8ac92c2c41291ec0a68db5394709cb08f5">TRANSFER_CALLING_TARGET</a>;</div><div class="line"><a name="l02170"></a><span class="lineno"> 2170</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290ae3857d51b5e8970ac1e3714bc1d46fe1">STIMULUS_NONE</a>:</div><div class="line"><a name="l02171"></a><span class="lineno"> 2171</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a41d7bde458129adf0121c70ba361258a">STIMULUS_RECALL_TARGET_HANGUP</a>:</div><div class="line"><a name="l02172"></a><span class="lineno"> 2172</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a49ac501f06885c9839a8833e0639d38f">STIMULUS_RECALL_TARGET_ANSWER</a>:</div><div class="line"><a name="l02173"></a><span class="lineno"> 2173</span>&#160;   <span class="keywordflow">default</span>:</div><div class="line"><a name="l02174"></a><span class="lineno"> 2174</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Unexpected stimulus &#39;%s&#39; received in attended transfer state &#39;%s&#39;\n&quot;</span>,</div><div class="line"><a name="l02175"></a><span class="lineno"> 2175</span>&#160;            <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a6c44b02ff21d30611e99f11620684e42">stimulus_strs</a>[stimulus], <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a53b49a058262e14d4371a6c30024ea7c">state_properties</a>[props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a3442cf1d72950ce9d62ea7006f6ce78c">state</a>].<a class="code" href="../../da/dab/structattended__transfer__state__properties.html#ab00617be22fdc8c996d36e4082f2410a">state_name</a>);</div><div class="line"><a name="l02176"></a><span class="lineno"> 2176</span>&#160;      <span class="keywordflow">return</span> props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a3442cf1d72950ce9d62ea7006f6ce78c">state</a>;</div><div class="line"><a name="l02177"></a><span class="lineno"> 2177</span>&#160;   }</div><div class="line"><a name="l02178"></a><span class="lineno"> 2178</span>&#160;}</div><div class="ttc" id="bridge__basic_8c_html_a397a54e2f92522a19b0cd7775739e210"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a397a54e2f92522a19b0cd7775739e210">play_failsound</a></div><div class="ttdeci">static void play_failsound(struct ast_channel *chan)</div><div class="ttdoc">Helper method to play a fail sound on a channel in a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01736">bridge_basic.c:1736</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_aad3447b0c2c1b069ac9437816db513d8ac19143ec75880c93f0c2483599b28343"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8ac19143ec75880c93f0c2483599b28343">TRANSFER_RESUME</a></div><div class="ttdoc">Resume state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00903">bridge_basic.c:903</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a53b49a058262e14d4371a6c30024ea7c"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a53b49a058262e14d4371a6c30024ea7c">state_properties</a></div><div class="ttdeci">static const struct attended_transfer_state_properties state_properties[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l02015">bridge_basic.c:2015</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a865b164f5f26f2bace1df76cf9cdf82e"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a865b164f5f26f2bace1df76cf9cdf82e">hold</a></div><div class="ttdeci">static void hold(struct ast_channel *chan)</div><div class="ttdoc">Helper method to place a channel in a bridge on hold. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01772">bridge_basic.c:1772</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290a49ac501f06885c9839a8833e0639d38f"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a49ac501f06885c9839a8833e0639d38f">STIMULUS_RECALL_TARGET_ANSWER</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01250">bridge_basic.c:1250</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290a41d7bde458129adf0121c70ba361258a"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a41d7bde458129adf0121c70ba361258a">STIMULUS_RECALL_TARGET_HANGUP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01248">bridge_basic.c:1248</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_aad3447b0c2c1b069ac9437816db513d8a8383b06b8e11a417dca5329407478ee8"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8a8383b06b8e11a417dca5329407478ee8">TRANSFER_FAIL</a></div><div class="ttdoc">Fail state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01230">bridge_basic.c:1230</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290a9b6689669975b3d4767ca6284d721775"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a9b6689669975b3d4767ca6284d721775">STIMULUS_DTMF_ATXFER_COMPLETE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01256">bridge_basic.c:1256</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a6c44b02ff21d30611e99f11620684e42"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a6c44b02ff21d30611e99f11620684e42">stimulus_strs</a></div><div class="ttdeci">const char * stimulus_strs[]</div><div class="ttdoc">String representations of the various stimuli. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01268">bridge_basic.c:1268</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290a5bea635a52d3e646fe86091457310934"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a5bea635a52d3e646fe86091457310934">STIMULUS_TRANSFEREE_HANGUP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01240">bridge_basic.c:1240</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290a800bb00b2e8ab7a8f11092b3bb2fba11"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a800bb00b2e8ab7a8f11092b3bb2fba11">STIMULUS_TRANSFERER_HANGUP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01242">bridge_basic.c:1242</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="structattended__transfer__properties_html_a3442cf1d72950ce9d62ea7006f6ce78c"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html#a3442cf1d72950ce9d62ea7006f6ce78c">attended_transfer_properties::state</a></div><div class="ttdeci">enum attended_transfer_state state</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01330">bridge_basic.c:1330</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290a72d10e2721ad55addb0b84175f5280d0"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a72d10e2721ad55addb0b84175f5280d0">STIMULUS_DTMF_ATXFER_ABORT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01254">bridge_basic.c:1254</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_aad3447b0c2c1b069ac9437816db513d8a327912f4d0734a2ea7b440531f0c5693"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8a327912f4d0734a2ea7b440531f0c5693">TRANSFER_DOUBLECHECKING</a></div><div class="ttdoc">Double-checking state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00987">bridge_basic.c:987</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_aad3447b0c2c1b069ac9437816db513d8ac92c2c41291ec0a68db5394709cb08f5"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8ac92c2c41291ec0a68db5394709cb08f5">TRANSFER_CALLING_TARGET</a></div><div class="ttdoc">Calling Target state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00808">bridge_basic.c:808</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_aad3447b0c2c1b069ac9437816db513d8afd695d9c2410d09ac50f1e002da07609"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8afd695d9c2410d09ac50f1e002da07609">TRANSFER_BLOND_NONFINAL</a></div><div class="ttdoc">Blond non-final state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01079">bridge_basic.c:1079</a></div></div>
<div class="ttc" id="structattended__transfer__properties_html_a9b7e688c5535aec691e3e5c7f855e636"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html#a9b7e688c5535aec691e3e5c7f855e636">attended_transfer_properties::atxferdropcall</a></div><div class="ttdeci">int atxferdropcall</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01334">bridge_basic.c:1334</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290a5b7c4fdcec2b5bea9e9be459dc924492"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a5b7c4fdcec2b5bea9e9be459dc924492">STIMULUS_TRANSFER_TARGET_HANGUP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01244">bridge_basic.c:1244</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290ae3857d51b5e8970ac1e3714bc1d46fe1"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290ae3857d51b5e8970ac1e3714bc1d46fe1">STIMULUS_NONE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01238">bridge_basic.c:1238</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a7f74bf7c99819ae48e4f588bc6e6bc15"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a7f74bf7c99819ae48e4f588bc6e6bc15">publish_transfer_fail</a></div><div class="ttdeci">static void publish_transfer_fail(struct attended_transfer_properties *props)</div><div class="ttdoc">Send a stasis publication for a failed attended transfer. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01692">bridge_basic.c:1692</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290a6f6c487fc2723093806c52b62c7ae80a"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a6f6c487fc2723093806c52b62c7ae80a">STIMULUS_DTMF_ATXFER_THREEWAY</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01258">bridge_basic.c:1258</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_aad3447b0c2c1b069ac9437816db513d8ab73883ddf660b1efa01fb5aeeb6a002f"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8ab73883ddf660b1efa01fb5aeeb6a002f">TRANSFER_BLOND</a></div><div class="ttdoc">Blond state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01047">bridge_basic.c:1047</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290ad811a249bfc0c9c585652f461b127180"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290ad811a249bfc0c9c585652f461b127180">STIMULUS_TIMEOUT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01252">bridge_basic.c:1252</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290a7615240e3b359bd98d9949ff77e102c2"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a7615240e3b359bd98d9949ff77e102c2">STIMULUS_TRANSFER_TARGET_ANSWER</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01246">bridge_basic.c:1246</a></div></div>
<div class="ttc" id="structattended__transfer__state__properties_html_ab00617be22fdc8c996d36e4082f2410a"><div class="ttname"><a href="../../da/dab/structattended__transfer__state__properties.html#ab00617be22fdc8c996d36e4082f2410a">attended_transfer_state_properties::state_name</a></div><div class="ttdeci">const char * state_name</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l02000">bridge_basic.c:2000</a></div></div>
<div class="ttc" id="structattended__transfer__properties_html_a43cf79e5f3675b2cdf001bceacb02e72"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html#a43cf79e5f3675b2cdf001bceacb02e72">attended_transfer_properties::transferer</a></div><div class="ttdeci">struct ast_channel * transferer</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01315">bridge_basic.c:1315</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290ac4c70db40c8740dc43a331ab483f3c1c"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290ac4c70db40c8740dc43a331ab483f3c1c">STIMULUS_DTMF_ATXFER_SWAP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01260">bridge_basic.c:1260</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_aad3447b0c2c1b069ac9437816db513d8ac7c5f29c9c62b140951b3035b1783ca2"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8ac7c5f29c9c62b140951b3035b1783ca2">TRANSFER_THREEWAY</a></div><div class="ttdoc">Threeway state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00929">bridge_basic.c:929</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a865b164f5f26f2bace1df76cf9cdf82e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a865b164f5f26f2bace1df76cf9cdf82e">&#9670;&nbsp;</a></span>hold()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void hold </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Helper method to place a channel in a bridge on hold. </p>

<p class="definition">Definition at line <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01772">1772</a> of file <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html">bridge_basic.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d3/d32/bridge__channel_8c_source.html#l01167">ast_bridge_channel_write_hold()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l10783">ast_channel_get_bridge_channel()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02945">ast_channel_lock</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l13542">add_sdp()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02214">consulting_exit()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02269">double_checking_exit()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02147">hesitant_exit()</a>, and <a class="el" href="../../df/d44/app__meetme_8c_source.html#l02116">sla_hold_str()</a>.</p>
<div class="fragment"><div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;{</div><div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *bridge_channel;</div><div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;</div><div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;   <span class="keywordflow">if</span> (!chan) {</div><div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;   }</div><div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;</div><div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(chan);</div><div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;   bridge_channel = <a class="code" href="../../d5/d7b/channel_8h.html#a9b6409c38af733c46eead884d86dd284">ast_channel_get_bridge_channel</a>(chan);</div><div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;</div><div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;   <span class="keywordflow">if</span> (bridge_channel) {</div><div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;      <a class="code" href="../../de/d41/bridge__channel_8h.html#ad70b0a7df24a2aa9e284d8c785dcbd45">ast_bridge_channel_write_hold</a>(bridge_channel, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(bridge_channel, -1);</div><div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;   }</div><div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;}</div><div class="ttc" id="channel_8h_html_a493bdebe876caafb8ee535853310364a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a></div><div class="ttdeci">#define ast_channel_lock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02945">channel.h:2945</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="channel_8h_html_a9b6409c38af733c46eead884d86dd284"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a9b6409c38af733c46eead884d86dd284">ast_channel_get_bridge_channel</a></div><div class="ttdeci">struct ast_bridge_channel * ast_channel_get_bridge_channel(struct ast_channel *chan)</div><div class="ttdoc">Get a reference to the channel&amp;#39;s bridge pointer. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l10783">channel.c:10783</a></div></div>
<div class="ttc" id="bridge__channel_8h_html_ad70b0a7df24a2aa9e284d8c785dcbd45"><div class="ttname"><a href="../../de/d41/bridge__channel_8h.html#ad70b0a7df24a2aa9e284d8c785dcbd45">ast_bridge_channel_write_hold</a></div><div class="ttdeci">int ast_bridge_channel_write_hold(struct ast_bridge_channel *bridge_channel, const char *moh_class)</div><div class="ttdoc">Write a hold frame into the bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d32/bridge__channel_8c_source.html#l01167">bridge_channel.c:1167</a></div></div>
<div class="ttc" id="structast__bridge__channel_html"><div class="ttname"><a href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a></div><div class="ttdoc">Structure that contains information regarding a channel in a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00084">bridge_channel.h:84</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a7811b1e91421e6f1cf63c0d0e2f72373"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7811b1e91421e6f1cf63c0d0e2f72373">&#9670;&nbsp;</a></span>init_details()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void init_details </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d6/da5/structpersonality__details.html">personality_details</a> *&#160;</td>
          <td class="paramname"><em>details</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="../../d7/d9b/bridge__basic_8c.html#a704d0cced1ceae046ad985c904dc4c6c">bridge_basic_personality_type</a>&#160;</td>
          <td class="paramname"><em>type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l03575">3575</a> of file <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html">bridge_basic.c</a>.</p>

<p class="reference">References <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00062">BRIDGE_BASIC_PERSONALITY_ATXFER</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00060">BRIDGE_BASIC_PERSONALITY_NORMAL</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00317">personality_details::bridge_flags</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00051">NORMAL_FLAGS</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00321">personality_details::on_personality_change</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l03563">on_personality_change_normal()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l03528">personality_atxfer_v_table</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l03527">personality_normal_v_table</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00054">TRANSFER_FLAGS</a>, and <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00315">personality_details::v_table</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l03594">bridge_basic_personality_alloc()</a>.</p>
<div class="fragment"><div class="line"><a name="l03577"></a><span class="lineno"> 3577</span>&#160;{</div><div class="line"><a name="l03578"></a><span class="lineno"> 3578</span>&#160;   <span class="keywordflow">switch</span> (<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>) {</div><div class="line"><a name="l03579"></a><span class="lineno"> 3579</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a704d0cced1ceae046ad985c904dc4c6ca843f6ac2918dbe2aeb6f7dd1155a90e2">BRIDGE_BASIC_PERSONALITY_NORMAL</a>:</div><div class="line"><a name="l03580"></a><span class="lineno"> 3580</span>&#160;      details-&gt;<a class="code" href="../../d6/da5/structpersonality__details.html#a0a45a55c3f134fec0a8e4a13e72107f2">v_table</a> = &amp;<a class="code" href="../../d7/d9b/bridge__basic_8c.html#a3e91ff97b33d5886fdad081fdd8c5488">personality_normal_v_table</a>;</div><div class="line"><a name="l03581"></a><span class="lineno"> 3581</span>&#160;      details-&gt;<a class="code" href="../../d6/da5/structpersonality__details.html#a6d3a1dc1ce563ff36fc9cde975150b15">bridge_flags</a> = <a class="code" href="../../d7/d9b/bridge__basic_8c.html#affbfe95d6aa54eb6a5809641f8e62852">NORMAL_FLAGS</a>;</div><div class="line"><a name="l03582"></a><span class="lineno"> 3582</span>&#160;      details-&gt;<a class="code" href="../../d6/da5/structpersonality__details.html#aee9ce121458bf5808a1f8ba853572010">on_personality_change</a> = <a class="code" href="../../d7/d9b/bridge__basic_8c.html#ac2ebcdbbd6be125431d4bf0da5bf1c8a">on_personality_change_normal</a>;</div><div class="line"><a name="l03583"></a><span class="lineno"> 3583</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l03584"></a><span class="lineno"> 3584</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a704d0cced1ceae046ad985c904dc4c6cac186ac818f5734c04a1f641b9a5670ce">BRIDGE_BASIC_PERSONALITY_ATXFER</a>:</div><div class="line"><a name="l03585"></a><span class="lineno"> 3585</span>&#160;      details-&gt;<a class="code" href="../../d6/da5/structpersonality__details.html#a0a45a55c3f134fec0a8e4a13e72107f2">v_table</a> = &amp;<a class="code" href="../../d7/d9b/bridge__basic_8c.html#a79d8a2fd1901dc403b769df45688ddf3">personality_atxfer_v_table</a>;</div><div class="line"><a name="l03586"></a><span class="lineno"> 3586</span>&#160;      details-&gt;<a class="code" href="../../d6/da5/structpersonality__details.html#a6d3a1dc1ce563ff36fc9cde975150b15">bridge_flags</a> = <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a82729fc63a7402ecb5575db21c593c62">TRANSFER_FLAGS</a>;</div><div class="line"><a name="l03587"></a><span class="lineno"> 3587</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l03588"></a><span class="lineno"> 3588</span>&#160;   <span class="keywordflow">default</span>:</div><div class="line"><a name="l03589"></a><span class="lineno"> 3589</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Asked to initialize unexpected basic bridge personality type.\n&quot;</span>);</div><div class="line"><a name="l03590"></a><span class="lineno"> 3590</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l03591"></a><span class="lineno"> 3591</span>&#160;   }</div><div class="line"><a name="l03592"></a><span class="lineno"> 3592</span>&#160;}</div><div class="ttc" id="chan__ooh323_8c_html_a4d63fdfe5451ec2248c16a2739190c56"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a></div><div class="ttdeci">static const char type[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00109">chan_ooh323.c:109</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a3e91ff97b33d5886fdad081fdd8c5488"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a3e91ff97b33d5886fdad081fdd8c5488">personality_normal_v_table</a></div><div class="ttdeci">struct ast_bridge_methods personality_normal_v_table</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l03527">bridge_basic.c:3527</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a79d8a2fd1901dc403b769df45688ddf3"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a79d8a2fd1901dc403b769df45688ddf3">personality_atxfer_v_table</a></div><div class="ttdeci">struct ast_bridge_methods personality_atxfer_v_table</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l03528">bridge_basic.c:3528</a></div></div>
<div class="ttc" id="structpersonality__details_html_a6d3a1dc1ce563ff36fc9cde975150b15"><div class="ttname"><a href="../../d6/da5/structpersonality__details.html#a6d3a1dc1ce563ff36fc9cde975150b15">personality_details::bridge_flags</a></div><div class="ttdeci">unsigned int bridge_flags</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00317">bridge_basic.c:317</a></div></div>
<div class="ttc" id="structpersonality__details_html_aee9ce121458bf5808a1f8ba853572010"><div class="ttname"><a href="../../d6/da5/structpersonality__details.html#aee9ce121458bf5808a1f8ba853572010">personality_details::on_personality_change</a></div><div class="ttdeci">void(* on_personality_change)(struct ast_bridge *bridge)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00321">bridge_basic.c:321</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_affbfe95d6aa54eb6a5809641f8e62852"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#affbfe95d6aa54eb6a5809641f8e62852">NORMAL_FLAGS</a></div><div class="ttdeci">#define NORMAL_FLAGS</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00051">bridge_basic.c:51</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a704d0cced1ceae046ad985c904dc4c6ca843f6ac2918dbe2aeb6f7dd1155a90e2"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a704d0cced1ceae046ad985c904dc4c6ca843f6ac2918dbe2aeb6f7dd1155a90e2">BRIDGE_BASIC_PERSONALITY_NORMAL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00060">bridge_basic.c:60</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a704d0cced1ceae046ad985c904dc4c6cac186ac818f5734c04a1f641b9a5670ce"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a704d0cced1ceae046ad985c904dc4c6cac186ac818f5734c04a1f641b9a5670ce">BRIDGE_BASIC_PERSONALITY_ATXFER</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00062">bridge_basic.c:62</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_ac2ebcdbbd6be125431d4bf0da5bf1c8a"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#ac2ebcdbbd6be125431d4bf0da5bf1c8a">on_personality_change_normal</a></div><div class="ttdeci">static void on_personality_change_normal(struct ast_bridge *bridge)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l03563">bridge_basic.c:3563</a></div></div>
<div class="ttc" id="structpersonality__details_html_a0a45a55c3f134fec0a8e4a13e72107f2"><div class="ttname"><a href="../../d6/da5/structpersonality__details.html#a0a45a55c3f134fec0a8e4a13e72107f2">personality_details::v_table</a></div><div class="ttdeci">struct ast_bridge_methods * v_table</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00315">bridge_basic.c:315</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a82729fc63a7402ecb5575db21c593c62"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a82729fc63a7402ecb5575db21c593c62">TRANSFER_FLAGS</a></div><div class="ttdeci">#define TRANSFER_FLAGS</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00054">bridge_basic.c:54</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac2ebcdbbd6be125431d4bf0da5bf1c8a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac2ebcdbbd6be125431d4bf0da5bf1c8a">&#9670;&nbsp;</a></span>on_personality_change_normal()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void on_personality_change_normal </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *&#160;</td>
          <td class="paramname"><em>bridge</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l03563">3563</a> of file <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html">bridge_basic.c</a>.</p>

<p class="reference">References <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00641">add_normal_hooks()</a>, <a class="el" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name()</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00490">AST_LIST_TRAVERSE</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../de/d41/bridge__channel_8h_source.html#l00091">ast_bridge_channel::chan</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00371">ast_bridge::channels</a>, and <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l03575">init_details()</a>.</p>
<div class="fragment"><div class="line"><a name="l03564"></a><span class="lineno"> 3564</span>&#160;{</div><div class="line"><a name="l03565"></a><span class="lineno"> 3565</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *iter;</div><div class="line"><a name="l03566"></a><span class="lineno"> 3566</span>&#160;</div><div class="line"><a name="l03567"></a><span class="lineno"> 3567</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(&amp;bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a77542a877d8ed62331c5b3b6aa3e87a7">channels</a>, iter, <a class="code" href="../../d3/d96/structentry.html">entry</a>) {</div><div class="line"><a name="l03568"></a><span class="lineno"> 3568</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d7/d9b/bridge__basic_8c.html#a5ffac345d4f2d6a42d0ffc875e0ddcf8">add_normal_hooks</a>(bridge, iter)) {</div><div class="line"><a name="l03569"></a><span class="lineno"> 3569</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Unable to set up bridge hooks for channel %s. Features may not work properly\n&quot;</span>,</div><div class="line"><a name="l03570"></a><span class="lineno"> 3570</span>&#160;               <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(iter-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>));</div><div class="line"><a name="l03571"></a><span class="lineno"> 3571</span>&#160;      }</div><div class="line"><a name="l03572"></a><span class="lineno"> 3572</span>&#160;   }</div><div class="line"><a name="l03573"></a><span class="lineno"> 3573</span>&#160;}</div><div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a3008b2f4f236b72d8bcfb80e346324ef"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a></div><div class="ttdeci">#define AST_LIST_TRAVERSE(head, var, field)</div><div class="ttdoc">Loops over (traverses) the entries in a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00490">linkedlists.h:490</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a5ffac345d4f2d6a42d0ffc875e0ddcf8"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a5ffac345d4f2d6a42d0ffc875e0ddcf8">add_normal_hooks</a></div><div class="ttdeci">static int add_normal_hooks(struct ast_bridge *bridge, struct ast_bridge_channel *bridge_channel)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00641">bridge_basic.c:641</a></div></div>
<div class="ttc" id="structast__bridge_html_a77542a877d8ed62331c5b3b6aa3e87a7"><div class="ttname"><a href="../../d4/d84/structast__bridge.html#a77542a877d8ed62331c5b3b6aa3e87a7">ast_bridge::channels</a></div><div class="ttdeci">struct ast_bridge_channels_list channels</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00371">bridge.h:371</a></div></div>
<div class="ttc" id="structast__bridge__channel_html_a84d1435c5b8d387806714ea7079304b7"><div class="ttname"><a href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">ast_bridge_channel::chan</a></div><div class="ttdeci">struct ast_channel * chan</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00091">bridge_channel.h:91</a></div></div>
<div class="ttc" id="structast__bridge__channel_html"><div class="ttname"><a href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a></div><div class="ttdoc">Structure that contains information regarding a channel in a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00084">bridge_channel.h:84</a></div></div>
<div class="ttc" id="channel_8h_html_a7ca2fda13b129a55c251b56729de285b"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a></div><div class="ttdeci">const char * ast_channel_name(const struct ast_channel *chan)</div></div>
<div class="ttc" id="structentry_html"><div class="ttname"><a href="../../d3/d96/structentry.html">entry</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d85/search_8h_source.html#l00040">search.h:40</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af2c618b15398fd5682eff76cec7c3a8f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af2c618b15398fd5682eff76cec7c3a8f">&#9670;&nbsp;</a></span>personality_destructor()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void personality_destructor </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>obj</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l03553">3553</a> of file <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html">bridge_basic.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00064">BRIDGE_BASIC_PERSONALITY_END</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00331">bridge_basic_personality::details</a>, and <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00319">personality_details::pvt</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l03594">bridge_basic_personality_alloc()</a>.</p>
<div class="fragment"><div class="line"><a name="l03554"></a><span class="lineno"> 3554</span>&#160;{</div><div class="line"><a name="l03555"></a><span class="lineno"> 3555</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/d3b/structbridge__basic__personality.html">bridge_basic_personality</a> *personality = obj;</div><div class="line"><a name="l03556"></a><span class="lineno"> 3556</span>&#160;   <span class="keywordtype">int</span> i;</div><div class="line"><a name="l03557"></a><span class="lineno"> 3557</span>&#160;</div><div class="line"><a name="l03558"></a><span class="lineno"> 3558</span>&#160;   <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a704d0cced1ceae046ad985c904dc4c6cafeeedb5cc22a30a65c6899e04ec06d2d">BRIDGE_BASIC_PERSONALITY_END</a>; ++i) {</div><div class="line"><a name="l03559"></a><span class="lineno"> 3559</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>(personality-&gt;<a class="code" href="../../dc/d3b/structbridge__basic__personality.html#aa37b1b6dd2f0a609d3c93d21125ef9f7">details</a>[i].<a class="code" href="../../d6/da5/structpersonality__details.html#a77153a7ab7ba05031fbbb4e67aa9dcfc">pvt</a>);</div><div class="line"><a name="l03560"></a><span class="lineno"> 3560</span>&#160;   }</div><div class="line"><a name="l03561"></a><span class="lineno"> 3561</span>&#160;}</div><div class="ttc" id="bridge__basic_8c_html_a704d0cced1ceae046ad985c904dc4c6cafeeedb5cc22a30a65c6899e04ec06d2d"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a704d0cced1ceae046ad985c904dc4c6cafeeedb5cc22a30a65c6899e04ec06d2d">BRIDGE_BASIC_PERSONALITY_END</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00064">bridge_basic.c:64</a></div></div>
<div class="ttc" id="structbridge__basic__personality_html"><div class="ttname"><a href="../../dc/d3b/structbridge__basic__personality.html">bridge_basic_personality</a></div><div class="ttdoc">structure that organizes different personalities for basic bridges. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00327">bridge_basic.c:327</a></div></div>
<div class="ttc" id="structpersonality__details_html_a77153a7ab7ba05031fbbb4e67aa9dcfc"><div class="ttname"><a href="../../d6/da5/structpersonality__details.html#a77153a7ab7ba05031fbbb4e67aa9dcfc">personality_details::pvt</a></div><div class="ttdeci">void * pvt</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00319">bridge_basic.c:319</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="structbridge__basic__personality_html_aa37b1b6dd2f0a609d3c93d21125ef9f7"><div class="ttname"><a href="../../dc/d3b/structbridge__basic__personality.html#aa37b1b6dd2f0a609d3c93d21125ef9f7">bridge_basic_personality::details</a></div><div class="ttdeci">struct personality_details details[BRIDGE_BASIC_PERSONALITY_END]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00331">bridge_basic.c:331</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a397a54e2f92522a19b0cd7775739e210"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a397a54e2f92522a19b0cd7775739e210">&#9670;&nbsp;</a></span>play_failsound()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void play_failsound </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Helper method to play a fail sound on a channel in a bridge. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chan</td><td>The channel to play the fail sound to </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01736">1736</a> of file <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html">bridge_basic.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d7b/channel_8h_source.html#l02945">ast_channel_lock</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../de/d71/features__config_8c_source.html#l01163">ast_get_chan_features_xferfailsound()</a>, and <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01717">play_sound()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02106">calling_target_exit()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02214">consulting_exit()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02269">double_checking_exit()</a>, and <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02147">hesitant_exit()</a>.</p>
<div class="fragment"><div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;{</div><div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;   <span class="keywordtype">char</span> *sound;</div><div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;</div><div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(chan);</div><div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;   sound = <a class="code" href="../../d0/daa/include_2asterisk_2features__config_8h.html#a9f156dfb17ad35f64cf800987ee55f49">ast_get_chan_features_xferfailsound</a>(chan);</div><div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;</div><div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;   <span class="keywordflow">if</span> (sound) {</div><div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;      <a class="code" href="../../d7/d9b/bridge__basic_8c.html#ae8bd14a986527f92e849a79a8af550ed">play_sound</a>(chan, sound);</div><div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(sound);</div><div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;   }</div><div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;}</div><div class="ttc" id="channel_8h_html_a493bdebe876caafb8ee535853310364a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a></div><div class="ttdeci">#define ast_channel_lock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02945">channel.h:2945</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_ae8bd14a986527f92e849a79a8af550ed"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#ae8bd14a986527f92e849a79a8af550ed">play_sound</a></div><div class="ttdeci">static void play_sound(struct ast_channel *chan, const char *sound)</div><div class="ttdoc">Helper method to play a sound on a channel in a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01717">bridge_basic.c:1717</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="include_2asterisk_2features__config_8h_html_a9f156dfb17ad35f64cf800987ee55f49"><div class="ttname"><a href="../../d0/daa/include_2asterisk_2features__config_8h.html#a9f156dfb17ad35f64cf800987ee55f49">ast_get_chan_features_xferfailsound</a></div><div class="ttdeci">char * ast_get_chan_features_xferfailsound(struct ast_channel *chan)</div><div class="ttdoc">Get the transfer configuration option xferfailsound. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d71/features__config_8c_source.html#l01163">features_config.c:1163</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae8bd14a986527f92e849a79a8af550ed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae8bd14a986527f92e849a79a8af550ed">&#9670;&nbsp;</a></span>play_sound()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void play_sound </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>sound</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Helper method to play a sound on a channel in a bridge. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chan</td><td>The channel to play the sound to </td></tr>
    <tr><td class="paramname">sound</td><td>The sound to play </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01717">1717</a> of file <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html">bridge_basic.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d3/d32/bridge__channel_8c_source.html#l01404">ast_bridge_channel_queue_playfile()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l10783">ast_channel_get_bridge_channel()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02945">ast_channel_lock</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02306">complete_enter()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01736">play_failsound()</a>, and <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02192">threeway_enter()</a>.</p>
<div class="fragment"><div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;{</div><div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *bridge_channel;</div><div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;</div><div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(chan);</div><div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;   bridge_channel = <a class="code" href="../../d5/d7b/channel_8h.html#a9b6409c38af733c46eead884d86dd284">ast_channel_get_bridge_channel</a>(chan);</div><div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;</div><div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;   <span class="keywordflow">if</span> (bridge_channel) {</div><div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;      <a class="code" href="../../de/d41/bridge__channel_8h.html#ac352fd6d6188d7431155f34ae2a38799">ast_bridge_channel_queue_playfile</a>(bridge_channel, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, sound, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(bridge_channel, -1);</div><div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;   }</div><div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;}</div><div class="ttc" id="channel_8h_html_a493bdebe876caafb8ee535853310364a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a></div><div class="ttdeci">#define ast_channel_lock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02945">channel.h:2945</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="channel_8h_html_a9b6409c38af733c46eead884d86dd284"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a9b6409c38af733c46eead884d86dd284">ast_channel_get_bridge_channel</a></div><div class="ttdeci">struct ast_bridge_channel * ast_channel_get_bridge_channel(struct ast_channel *chan)</div><div class="ttdoc">Get a reference to the channel&amp;#39;s bridge pointer. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l10783">channel.c:10783</a></div></div>
<div class="ttc" id="structast__bridge__channel_html"><div class="ttname"><a href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a></div><div class="ttdoc">Structure that contains information regarding a channel in a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00084">bridge_channel.h:84</a></div></div>
<div class="ttc" id="bridge__channel_8h_html_ac352fd6d6188d7431155f34ae2a38799"><div class="ttname"><a href="../../de/d41/bridge__channel_8h.html#ac352fd6d6188d7431155f34ae2a38799">ast_bridge_channel_queue_playfile</a></div><div class="ttdeci">int ast_bridge_channel_queue_playfile(struct ast_bridge_channel *bridge_channel, ast_bridge_custom_play_fn custom_play, const char *playfile, const char *moh_class)</div><div class="ttdoc">Queue a bridge action play file frame onto the bridge channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d32/bridge__channel_8c_source.html#l01404">bridge_channel.c:1404</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a7f74bf7c99819ae48e4f588bc6e6bc15"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f74bf7c99819ae48e4f588bc6e6bc15">&#9670;&nbsp;</a></span>publish_transfer_fail()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void publish_transfer_fail </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dd/d9e/structattended__transfer__properties.html">attended_transfer_properties</a> *&#160;</td>
          <td class="paramname"><em>props</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Send a stasis publication for a failed attended transfer. </p>

<p class="definition">Definition at line <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01692">1692</a> of file <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html">bridge_basic.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../da/d0f/stasis__bridges_8c_source.html#l01226">ast_attended_transfer_message_create()</a>, <a class="el" href="../../da/d0f/stasis__bridges_8c_source.html#l01346">ast_bridge_publish_attended_transfer()</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l01123">AST_BRIDGE_TRANSFER_FAIL</a>, <a class="el" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name()</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../dc/d4e/stasis__bridges_8h_source.html#l00321">ast_attended_transfer_message::result</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01313">attended_transfer_properties::target_bridge</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01309">attended_transfer_properties::transferee_bridge</a>, and <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01315">attended_transfer_properties::transferer</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02106">calling_target_exit()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02269">double_checking_exit()</a>, and <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02147">hesitant_exit()</a>.</p>
<div class="fragment"><div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;{</div><div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../df/d6d/structast__attended__transfer__message.html">ast_attended_transfer_message</a> *transfer_msg;</div><div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;</div><div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;   transfer_msg = <a class="code" href="../../dc/d4e/stasis__bridges_8h.html#a5d80b41bade979c37596d850cfcf3e64">ast_attended_transfer_message_create</a>(0, props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a43cf79e5f3675b2cdf001bceacb02e72">transferer</a>,</div><div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;         props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a7c148ea37d33eb1640a17177c700be43">transferee_bridge</a>, props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a43cf79e5f3675b2cdf001bceacb02e72">transferer</a>, props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#ab45c59137417246eaa392b3d8319fbc3">target_bridge</a>,</div><div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;         <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;</div><div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;   <span class="keywordflow">if</span> (!transfer_msg) {</div><div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Unable to publish failed transfer from %s\n&quot;</span>,</div><div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;            <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a43cf79e5f3675b2cdf001bceacb02e72">transferer</a>));</div><div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;   }</div><div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;</div><div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;   transfer_msg-&gt;<a class="code" href="../../df/d6d/structast__attended__transfer__message.html#abd45d96954fe74af9e011742ce09882d">result</a> = <a class="code" href="../../d4/d56/bridge_8h.html#aadbf879fadde4b1bb7832b1390cc8c17aeebe667b42c8e7993a9f5f4c45e6da25">AST_BRIDGE_TRANSFER_FAIL</a>;</div><div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;   <a class="code" href="../../dc/d4e/stasis__bridges_8h.html#a1949ac2d3f4b2113242d981cc315b451">ast_bridge_publish_attended_transfer</a>(transfer_msg);</div><div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>(transfer_msg);</div><div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;}</div><div class="ttc" id="structast__attended__transfer__message_html"><div class="ttname"><a href="../../df/d6d/structast__attended__transfer__message.html">ast_attended_transfer_message</a></div><div class="ttdoc">Message representing attended transfer. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d4e/stasis__bridges_8h_source.html#l00319">stasis_bridges.h:319</a></div></div>
<div class="ttc" id="stasis__bridges_8h_html_a1949ac2d3f4b2113242d981cc315b451"><div class="ttname"><a href="../../dc/d4e/stasis__bridges_8h.html#a1949ac2d3f4b2113242d981cc315b451">ast_bridge_publish_attended_transfer</a></div><div class="ttdeci">void ast_bridge_publish_attended_transfer(struct ast_attended_transfer_message *transfer_msg)</div><div class="ttdoc">Publish an attended transfer. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d0f/stasis__bridges_8c_source.html#l01346">stasis_bridges.c:1346</a></div></div>
<div class="ttc" id="structattended__transfer__properties_html_a7c148ea37d33eb1640a17177c700be43"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html#a7c148ea37d33eb1640a17177c700be43">attended_transfer_properties::transferee_bridge</a></div><div class="ttdeci">struct ast_bridge * transferee_bridge</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01309">bridge_basic.c:1309</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="bridge_8h_html_aadbf879fadde4b1bb7832b1390cc8c17aeebe667b42c8e7993a9f5f4c45e6da25"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#aadbf879fadde4b1bb7832b1390cc8c17aeebe667b42c8e7993a9f5f4c45e6da25">AST_BRIDGE_TRANSFER_FAIL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l01123">bridge.h:1123</a></div></div>
<div class="ttc" id="structast__attended__transfer__message_html_abd45d96954fe74af9e011742ce09882d"><div class="ttname"><a href="../../df/d6d/structast__attended__transfer__message.html#abd45d96954fe74af9e011742ce09882d">ast_attended_transfer_message::result</a></div><div class="ttdeci">enum ast_transfer_result result</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d4e/stasis__bridges_8h_source.html#l00321">stasis_bridges.h:321</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="structattended__transfer__properties_html_ab45c59137417246eaa392b3d8319fbc3"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html#ab45c59137417246eaa392b3d8319fbc3">attended_transfer_properties::target_bridge</a></div><div class="ttdeci">struct ast_bridge * target_bridge</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01313">bridge_basic.c:1313</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="channel_8h_html_a7ca2fda13b129a55c251b56729de285b"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a></div><div class="ttdeci">const char * ast_channel_name(const struct ast_channel *chan)</div></div>
<div class="ttc" id="stasis__bridges_8h_html_a5d80b41bade979c37596d850cfcf3e64"><div class="ttname"><a href="../../dc/d4e/stasis__bridges_8h.html#a5d80b41bade979c37596d850cfcf3e64">ast_attended_transfer_message_create</a></div><div class="ttdeci">struct ast_attended_transfer_message * ast_attended_transfer_message_create(int is_external, struct ast_channel *to_transferee, struct ast_bridge *transferee_bridge, struct ast_channel *to_transfer_target, struct ast_bridge *target_bridge, struct ast_channel *transferee, struct ast_channel *transfer_target)</div><div class="ttdoc">Create an Attended transfer message to be published. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d0f/stasis__bridges_8c_source.html#l01226">stasis_bridges.c:1226</a></div></div>
<div class="ttc" id="structattended__transfer__properties_html_a43cf79e5f3675b2cdf001bceacb02e72"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html#a43cf79e5f3675b2cdf001bceacb02e72">attended_transfer_properties::transferer</a></div><div class="ttdeci">struct ast_channel * transferer</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01315">bridge_basic.c:1315</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af6fb45b453a78c3c58a3ff3a880339cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af6fb45b453a78c3c58a3ff3a880339cb">&#9670;&nbsp;</a></span>publish_transfer_success()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void publish_transfer_success </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dd/d9e/structattended__transfer__properties.html">attended_transfer_properties</a> *&#160;</td>
          <td class="paramname"><em>props</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>transferee_channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>target_channel</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Send a stasis publication for a successful attended transfer. </p>

<p class="definition">Definition at line <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01645">1645</a> of file <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html">bridge_basic.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../da/d0f/stasis__bridges_8c_source.html#l01283">ast_attended_transfer_message_add_merge()</a>, <a class="el" href="../../da/d0f/stasis__bridges_8c_source.html#l01226">ast_attended_transfer_message_create()</a>, <a class="el" href="../../da/d0f/stasis__bridges_8c_source.html#l01346">ast_bridge_publish_attended_transfer()</a>, <a class="el" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name()</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01313">attended_transfer_properties::target_bridge</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01309">attended_transfer_properties::transferee_bridge</a>, and <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01315">attended_transfer_properties::transferer</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02322">blond_enter()</a>, and <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02306">complete_enter()</a>.</p>
<div class="fragment"><div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;{</div><div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../df/d6d/structast__attended__transfer__message.html">ast_attended_transfer_message</a> *transfer_msg;</div><div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;</div><div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;   transfer_msg = <a class="code" href="../../dc/d4e/stasis__bridges_8h.html#a5d80b41bade979c37596d850cfcf3e64">ast_attended_transfer_message_create</a>(0, props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a43cf79e5f3675b2cdf001bceacb02e72">transferer</a>,</div><div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;         props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a7c148ea37d33eb1640a17177c700be43">transferee_bridge</a>, props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a43cf79e5f3675b2cdf001bceacb02e72">transferer</a>, props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#ab45c59137417246eaa392b3d8319fbc3">target_bridge</a>,</div><div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;         transferee_channel, target_channel);</div><div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;</div><div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;   <span class="keywordflow">if</span> (!transfer_msg) {</div><div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Unable to publish successful attended transfer from %s\n&quot;</span>,</div><div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;            <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a43cf79e5f3675b2cdf001bceacb02e72">transferer</a>));</div><div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;   }</div><div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;</div><div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;   <a class="code" href="../../dc/d4e/stasis__bridges_8h.html#aae3000e9dc05d9b3023f5a571ffb14d7">ast_attended_transfer_message_add_merge</a>(transfer_msg, props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a7c148ea37d33eb1640a17177c700be43">transferee_bridge</a>);</div><div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;   <a class="code" href="../../dc/d4e/stasis__bridges_8h.html#a1949ac2d3f4b2113242d981cc315b451">ast_bridge_publish_attended_transfer</a>(transfer_msg);</div><div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>(transfer_msg);</div><div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;}</div><div class="ttc" id="structast__attended__transfer__message_html"><div class="ttname"><a href="../../df/d6d/structast__attended__transfer__message.html">ast_attended_transfer_message</a></div><div class="ttdoc">Message representing attended transfer. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d4e/stasis__bridges_8h_source.html#l00319">stasis_bridges.h:319</a></div></div>
<div class="ttc" id="stasis__bridges_8h_html_a1949ac2d3f4b2113242d981cc315b451"><div class="ttname"><a href="../../dc/d4e/stasis__bridges_8h.html#a1949ac2d3f4b2113242d981cc315b451">ast_bridge_publish_attended_transfer</a></div><div class="ttdeci">void ast_bridge_publish_attended_transfer(struct ast_attended_transfer_message *transfer_msg)</div><div class="ttdoc">Publish an attended transfer. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d0f/stasis__bridges_8c_source.html#l01346">stasis_bridges.c:1346</a></div></div>
<div class="ttc" id="structattended__transfer__properties_html_a7c148ea37d33eb1640a17177c700be43"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html#a7c148ea37d33eb1640a17177c700be43">attended_transfer_properties::transferee_bridge</a></div><div class="ttdeci">struct ast_bridge * transferee_bridge</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01309">bridge_basic.c:1309</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="stasis__bridges_8h_html_aae3000e9dc05d9b3023f5a571ffb14d7"><div class="ttname"><a href="../../dc/d4e/stasis__bridges_8h.html#aae3000e9dc05d9b3023f5a571ffb14d7">ast_attended_transfer_message_add_merge</a></div><div class="ttdeci">int ast_attended_transfer_message_add_merge(struct ast_attended_transfer_message *transfer_msg, struct ast_bridge *final_bridge)</div><div class="ttdoc">Add details for a bridge merge to an attended transfer message. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d0f/stasis__bridges_8c_source.html#l01283">stasis_bridges.c:1283</a></div></div>
<div class="ttc" id="structattended__transfer__properties_html_ab45c59137417246eaa392b3d8319fbc3"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html#ab45c59137417246eaa392b3d8319fbc3">attended_transfer_properties::target_bridge</a></div><div class="ttdeci">struct ast_bridge * target_bridge</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01313">bridge_basic.c:1313</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="channel_8h_html_a7ca2fda13b129a55c251b56729de285b"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a></div><div class="ttdeci">const char * ast_channel_name(const struct ast_channel *chan)</div></div>
<div class="ttc" id="stasis__bridges_8h_html_a5d80b41bade979c37596d850cfcf3e64"><div class="ttname"><a href="../../dc/d4e/stasis__bridges_8h.html#a5d80b41bade979c37596d850cfcf3e64">ast_attended_transfer_message_create</a></div><div class="ttdeci">struct ast_attended_transfer_message * ast_attended_transfer_message_create(int is_external, struct ast_channel *to_transferee, struct ast_bridge *transferee_bridge, struct ast_channel *to_transfer_target, struct ast_bridge *target_bridge, struct ast_channel *transferee, struct ast_channel *transfer_target)</div><div class="ttdoc">Create an Attended transfer message to be published. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d0f/stasis__bridges_8c_source.html#l01226">stasis_bridges.c:1226</a></div></div>
<div class="ttc" id="structattended__transfer__properties_html_a43cf79e5f3675b2cdf001bceacb02e72"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html#a43cf79e5f3675b2cdf001bceacb02e72">attended_transfer_properties::transferer</a></div><div class="ttdeci">struct ast_channel * transferer</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01315">bridge_basic.c:1315</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a8cc33fcb814da6a0dd05f9821f784b53"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8cc33fcb814da6a0dd05f9821f784b53">&#9670;&nbsp;</a></span>publish_transfer_threeway()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void publish_transfer_threeway </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dd/d9e/structattended__transfer__properties.html">attended_transfer_properties</a> *&#160;</td>
          <td class="paramname"><em>props</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>transferee_channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>target_channel</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Send a stasis publication for an attended transfer that ends in a threeway call. </p>

<p class="definition">Definition at line <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01668">1668</a> of file <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html">bridge_basic.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../da/d0f/stasis__bridges_8c_source.html#l01293">ast_attended_transfer_message_add_threeway()</a>, <a class="el" href="../../da/d0f/stasis__bridges_8c_source.html#l01226">ast_attended_transfer_message_create()</a>, <a class="el" href="../../da/d0f/stasis__bridges_8c_source.html#l01346">ast_bridge_publish_attended_transfer()</a>, <a class="el" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name()</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01313">attended_transfer_properties::target_bridge</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01309">attended_transfer_properties::transferee_bridge</a>, and <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01315">attended_transfer_properties::transferer</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02192">threeway_enter()</a>.</p>
<div class="fragment"><div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;{</div><div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../df/d6d/structast__attended__transfer__message.html">ast_attended_transfer_message</a> *transfer_msg;</div><div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;</div><div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;   transfer_msg = <a class="code" href="../../dc/d4e/stasis__bridges_8h.html#a5d80b41bade979c37596d850cfcf3e64">ast_attended_transfer_message_create</a>(0, props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a43cf79e5f3675b2cdf001bceacb02e72">transferer</a>,</div><div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;         props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a7c148ea37d33eb1640a17177c700be43">transferee_bridge</a>, props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a43cf79e5f3675b2cdf001bceacb02e72">transferer</a>, props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#ab45c59137417246eaa392b3d8319fbc3">target_bridge</a>,</div><div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;         transferee_channel, target_channel);</div><div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;</div><div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;   <span class="keywordflow">if</span> (!transfer_msg) {</div><div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Unable to publish successful three-way transfer from %s\n&quot;</span>,</div><div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;            <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a43cf79e5f3675b2cdf001bceacb02e72">transferer</a>));</div><div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;   }</div><div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;</div><div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;   <a class="code" href="../../dc/d4e/stasis__bridges_8h.html#a402aa031878d54df98c95146d51fad50">ast_attended_transfer_message_add_threeway</a>(transfer_msg, props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a43cf79e5f3675b2cdf001bceacb02e72">transferer</a>,</div><div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;         props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a7c148ea37d33eb1640a17177c700be43">transferee_bridge</a>);</div><div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;   <a class="code" href="../../dc/d4e/stasis__bridges_8h.html#a1949ac2d3f4b2113242d981cc315b451">ast_bridge_publish_attended_transfer</a>(transfer_msg);</div><div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>(transfer_msg);</div><div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;}</div><div class="ttc" id="structast__attended__transfer__message_html"><div class="ttname"><a href="../../df/d6d/structast__attended__transfer__message.html">ast_attended_transfer_message</a></div><div class="ttdoc">Message representing attended transfer. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d4e/stasis__bridges_8h_source.html#l00319">stasis_bridges.h:319</a></div></div>
<div class="ttc" id="stasis__bridges_8h_html_a1949ac2d3f4b2113242d981cc315b451"><div class="ttname"><a href="../../dc/d4e/stasis__bridges_8h.html#a1949ac2d3f4b2113242d981cc315b451">ast_bridge_publish_attended_transfer</a></div><div class="ttdeci">void ast_bridge_publish_attended_transfer(struct ast_attended_transfer_message *transfer_msg)</div><div class="ttdoc">Publish an attended transfer. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d0f/stasis__bridges_8c_source.html#l01346">stasis_bridges.c:1346</a></div></div>
<div class="ttc" id="structattended__transfer__properties_html_a7c148ea37d33eb1640a17177c700be43"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html#a7c148ea37d33eb1640a17177c700be43">attended_transfer_properties::transferee_bridge</a></div><div class="ttdeci">struct ast_bridge * transferee_bridge</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01309">bridge_basic.c:1309</a></div></div>
<div class="ttc" id="stasis__bridges_8h_html_a402aa031878d54df98c95146d51fad50"><div class="ttname"><a href="../../dc/d4e/stasis__bridges_8h.html#a402aa031878d54df98c95146d51fad50">ast_attended_transfer_message_add_threeway</a></div><div class="ttdeci">int ast_attended_transfer_message_add_threeway(struct ast_attended_transfer_message *transfer_msg, struct ast_channel *survivor_channel, struct ast_bridge *survivor_bridge)</div><div class="ttdoc">Add details for an attended transfer that was resolved as a three-way call. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d0f/stasis__bridges_8c_source.html#l01293">stasis_bridges.c:1293</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="structattended__transfer__properties_html_ab45c59137417246eaa392b3d8319fbc3"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html#ab45c59137417246eaa392b3d8319fbc3">attended_transfer_properties::target_bridge</a></div><div class="ttdeci">struct ast_bridge * target_bridge</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01313">bridge_basic.c:1313</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="channel_8h_html_a7ca2fda13b129a55c251b56729de285b"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a></div><div class="ttdeci">const char * ast_channel_name(const struct ast_channel *chan)</div></div>
<div class="ttc" id="stasis__bridges_8h_html_a5d80b41bade979c37596d850cfcf3e64"><div class="ttname"><a href="../../dc/d4e/stasis__bridges_8h.html#a5d80b41bade979c37596d850cfcf3e64">ast_attended_transfer_message_create</a></div><div class="ttdeci">struct ast_attended_transfer_message * ast_attended_transfer_message_create(int is_external, struct ast_channel *to_transferee, struct ast_bridge *transferee_bridge, struct ast_channel *to_transfer_target, struct ast_bridge *target_bridge, struct ast_channel *transferee, struct ast_channel *transfer_target)</div><div class="ttdoc">Create an Attended transfer message to be published. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d0f/stasis__bridges_8c_source.html#l01226">stasis_bridges.c:1226</a></div></div>
<div class="ttc" id="structattended__transfer__properties_html_a43cf79e5f3675b2cdf001bceacb02e72"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html#a43cf79e5f3675b2cdf001bceacb02e72">attended_transfer_properties::transferer</a></div><div class="ttdeci">struct ast_channel * transferer</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01315">bridge_basic.c:1315</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3f625f7d10d839e4b781b516c43bd158"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f625f7d10d839e4b781b516c43bd158">&#9670;&nbsp;</a></span>rebridge_enter()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int rebridge_enter </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dd/d9e/structattended__transfer__properties.html">attended_transfer_properties</a> *&#160;</td>
          <td class="paramname"><em>props</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02180">2180</a> of file <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html">bridge_basic.c</a>.</p>

<p class="reference">References <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01870">bridge_move()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01313">attended_transfer_properties::target_bridge</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01309">attended_transfer_properties::transferee_bridge</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01315">attended_transfer_properties::transferer</a>, and <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01793">unhold()</a>.</p>
<div class="fragment"><div class="line"><a name="l02181"></a><span class="lineno"> 2181</span>&#160;{</div><div class="line"><a name="l02182"></a><span class="lineno"> 2182</span>&#160;   <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a3fc1a10ab2ba929490e84c1960ada943">bridge_move</a>(props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a7c148ea37d33eb1640a17177c700be43">transferee_bridge</a>, props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#ab45c59137417246eaa392b3d8319fbc3">target_bridge</a>, props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a43cf79e5f3675b2cdf001bceacb02e72">transferer</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l02183"></a><span class="lineno"> 2183</span>&#160;   <a class="code" href="../../d7/d9b/bridge__basic_8c.html#ac08eea8a379a04d85eb9c21dc252e28d">unhold</a>(props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a43cf79e5f3675b2cdf001bceacb02e72">transferer</a>);</div><div class="line"><a name="l02184"></a><span class="lineno"> 2184</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02185"></a><span class="lineno"> 2185</span>&#160;}</div><div class="ttc" id="structattended__transfer__properties_html_a7c148ea37d33eb1640a17177c700be43"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html#a7c148ea37d33eb1640a17177c700be43">attended_transfer_properties::transferee_bridge</a></div><div class="ttdeci">struct ast_bridge * transferee_bridge</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01309">bridge_basic.c:1309</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structattended__transfer__properties_html_ab45c59137417246eaa392b3d8319fbc3"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html#ab45c59137417246eaa392b3d8319fbc3">attended_transfer_properties::target_bridge</a></div><div class="ttdeci">struct ast_bridge * target_bridge</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01313">bridge_basic.c:1313</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_ac08eea8a379a04d85eb9c21dc252e28d"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#ac08eea8a379a04d85eb9c21dc252e28d">unhold</a></div><div class="ttdeci">static void unhold(struct ast_channel *chan)</div><div class="ttdoc">Helper method to take a channel in a bridge off hold. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01793">bridge_basic.c:1793</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a3fc1a10ab2ba929490e84c1960ada943"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a3fc1a10ab2ba929490e84c1960ada943">bridge_move</a></div><div class="ttdeci">static void bridge_move(struct ast_bridge *dest, struct ast_bridge *src, struct ast_channel *channel, struct ast_channel *swap)</div><div class="ttdoc">Wrapper for bridge_do_move. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01870">bridge_basic.c:1870</a></div></div>
<div class="ttc" id="structattended__transfer__properties_html_a43cf79e5f3675b2cdf001bceacb02e72"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html#a43cf79e5f3675b2cdf001bceacb02e72">attended_transfer_properties::transferer</a></div><div class="ttdeci">struct ast_channel * transferer</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01315">bridge_basic.c:1315</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6d5df3b1c3b311f221d8686ff531a438"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d5df3b1c3b311f221d8686ff531a438">&#9670;&nbsp;</a></span>recall_callback()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void recall_callback </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../db/db7/structast__dial.html">ast_dial</a> *&#160;</td>
          <td class="paramname"><em>dial</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Dial callback when attempting to recall the original transferer channel. </p>
<p>This is how we can monitor if the recall target has answered or has hung up. If one of the two is detected, then an appropriate stimulus is sent to the attended transfer monitor thread. </p>

<p class="definition">Definition at line <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02388">2388</a> of file <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html">bridge_basic.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/d43/dial_8c_source.html#l00993">ast_dial_answered_steal()</a>, <a class="el" href="../../de/d43/dial_8c_source.html#l01303">ast_dial_get_user_data()</a>, <a class="el" href="../../df/dcf/dial_8h_source.html#l00061">AST_DIAL_RESULT_ANSWERED</a>, <a class="el" href="../../df/dcf/dial_8h_source.html#l00056">AST_DIAL_RESULT_FAILED</a>, <a class="el" href="../../df/dcf/dial_8h_source.html#l00063">AST_DIAL_RESULT_HANGUP</a>, <a class="el" href="../../df/dcf/dial_8h_source.html#l00055">AST_DIAL_RESULT_INVALID</a>, <a class="el" href="../../df/dcf/dial_8h_source.html#l00060">AST_DIAL_RESULT_PROCEEDING</a>, <a class="el" href="../../df/dcf/dial_8h_source.html#l00059">AST_DIAL_RESULT_PROGRESS</a>, <a class="el" href="../../df/dcf/dial_8h_source.html#l00058">AST_DIAL_RESULT_RINGING</a>, <a class="el" href="../../df/dcf/dial_8h_source.html#l00062">AST_DIAL_RESULT_TIMEOUT</a>, <a class="el" href="../../df/dcf/dial_8h_source.html#l00057">AST_DIAL_RESULT_TRYING</a>, <a class="el" href="../../df/dcf/dial_8h_source.html#l00064">AST_DIAL_RESULT_UNANSWERED</a>, <a class="el" href="../../de/d43/dial_8c_source.html#l01012">ast_dial_state()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01325">attended_transfer_properties::recall_target</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01532">stimulate_attended_transfer()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01250">STIMULUS_RECALL_TARGET_ANSWER</a>, and <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01248">STIMULUS_RECALL_TARGET_HANGUP</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02455">recalling_enter()</a>.</p>
<div class="fragment"><div class="line"><a name="l02389"></a><span class="lineno"> 2389</span>&#160;{</div><div class="line"><a name="l02390"></a><span class="lineno"> 2390</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/d9e/structattended__transfer__properties.html">attended_transfer_properties</a> *props = <a class="code" href="../../df/dcf/dial_8h.html#a2d195b4acdddf74f46bdc30c691cf3d3">ast_dial_get_user_data</a>(dial);</div><div class="line"><a name="l02391"></a><span class="lineno"> 2391</span>&#160;</div><div class="line"><a name="l02392"></a><span class="lineno"> 2392</span>&#160;   <span class="keywordflow">switch</span> (<a class="code" href="../../df/dcf/dial_8h.html#a051c20e595f3e3c2be10c84b4247dd37">ast_dial_state</a>(dial)) {</div><div class="line"><a name="l02393"></a><span class="lineno"> 2393</span>&#160;   <span class="keywordflow">default</span>:</div><div class="line"><a name="l02394"></a><span class="lineno"> 2394</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../df/dcf/dial_8h.html#a2054b1ddc7845e78286254b366a37847a33b279a6d9fd2024de7a1f3ccadda2ce">AST_DIAL_RESULT_INVALID</a>:</div><div class="line"><a name="l02395"></a><span class="lineno"> 2395</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../df/dcf/dial_8h.html#a2054b1ddc7845e78286254b366a37847a077aa090d089e32265755c7ec0f1dac2">AST_DIAL_RESULT_FAILED</a>:</div><div class="line"><a name="l02396"></a><span class="lineno"> 2396</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../df/dcf/dial_8h.html#a2054b1ddc7845e78286254b366a37847a4bd947d4e1f84bf01d336e228fb431e1">AST_DIAL_RESULT_TIMEOUT</a>:</div><div class="line"><a name="l02397"></a><span class="lineno"> 2397</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../df/dcf/dial_8h.html#a2054b1ddc7845e78286254b366a37847a23fe48f529c8d06fa7dffc976a871a16">AST_DIAL_RESULT_HANGUP</a>:</div><div class="line"><a name="l02398"></a><span class="lineno"> 2398</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../df/dcf/dial_8h.html#a2054b1ddc7845e78286254b366a37847ae9986b09a1806d312dd5e508aee3b9ed">AST_DIAL_RESULT_UNANSWERED</a>:</div><div class="line"><a name="l02399"></a><span class="lineno"> 2399</span>&#160;      <span class="comment">/* Failure cases */</span></div><div class="line"><a name="l02400"></a><span class="lineno"> 2400</span>&#160;      <a class="code" href="../../d7/d9b/bridge__basic_8c.html#af815ae36fd4901cf53e2c583047d61c5">stimulate_attended_transfer</a>(props, <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a41d7bde458129adf0121c70ba361258a">STIMULUS_RECALL_TARGET_HANGUP</a>);</div><div class="line"><a name="l02401"></a><span class="lineno"> 2401</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l02402"></a><span class="lineno"> 2402</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../df/dcf/dial_8h.html#a2054b1ddc7845e78286254b366a37847aba600b021de0e20a6e8a6c484f27a9e4">AST_DIAL_RESULT_RINGING</a>:</div><div class="line"><a name="l02403"></a><span class="lineno"> 2403</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../df/dcf/dial_8h.html#a2054b1ddc7845e78286254b366a37847a5cc795503d8ce3f6df21f18e7d30e24e">AST_DIAL_RESULT_PROGRESS</a>:</div><div class="line"><a name="l02404"></a><span class="lineno"> 2404</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../df/dcf/dial_8h.html#a2054b1ddc7845e78286254b366a37847ae16711939ebe81a08ebcbd8d7d0aab3d">AST_DIAL_RESULT_PROCEEDING</a>:</div><div class="line"><a name="l02405"></a><span class="lineno"> 2405</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../df/dcf/dial_8h.html#a2054b1ddc7845e78286254b366a37847a5838a3c4774e4d0e9a7d9d3724850ae6">AST_DIAL_RESULT_TRYING</a>:</div><div class="line"><a name="l02406"></a><span class="lineno"> 2406</span>&#160;      <span class="comment">/* Don&#39;t care about these cases */</span></div><div class="line"><a name="l02407"></a><span class="lineno"> 2407</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l02408"></a><span class="lineno"> 2408</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../df/dcf/dial_8h.html#a2054b1ddc7845e78286254b366a37847a4a8c0d54e6071d1e9a36adae685406d3">AST_DIAL_RESULT_ANSWERED</a>:</div><div class="line"><a name="l02409"></a><span class="lineno"> 2409</span>&#160;      <span class="comment">/* We struck gold! */</span></div><div class="line"><a name="l02410"></a><span class="lineno"> 2410</span>&#160;      props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a8cfa7137e480b71055eae11820fb3845">recall_target</a> = <a class="code" href="../../df/dcf/dial_8h.html#a390484ae7a65d0297177fc8223e6b083">ast_dial_answered_steal</a>(dial);</div><div class="line"><a name="l02411"></a><span class="lineno"> 2411</span>&#160;      <a class="code" href="../../d7/d9b/bridge__basic_8c.html#af815ae36fd4901cf53e2c583047d61c5">stimulate_attended_transfer</a>(props, <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a49ac501f06885c9839a8833e0639d38f">STIMULUS_RECALL_TARGET_ANSWER</a>);</div><div class="line"><a name="l02412"></a><span class="lineno"> 2412</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l02413"></a><span class="lineno"> 2413</span>&#160;   }</div><div class="line"><a name="l02414"></a><span class="lineno"> 2414</span>&#160;}</div><div class="ttc" id="dial_8h_html_a2d195b4acdddf74f46bdc30c691cf3d3"><div class="ttname"><a href="../../df/dcf/dial_8h.html#a2d195b4acdddf74f46bdc30c691cf3d3">ast_dial_get_user_data</a></div><div class="ttdeci">void * ast_dial_get_user_data(struct ast_dial *dial)</div><div class="ttdoc">Return the user data on a dial structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d43/dial_8c_source.html#l01303">dial.c:1303</a></div></div>
<div class="ttc" id="dial_8h_html_a2054b1ddc7845e78286254b366a37847a4a8c0d54e6071d1e9a36adae685406d3"><div class="ttname"><a href="../../df/dcf/dial_8h.html#a2054b1ddc7845e78286254b366a37847a4a8c0d54e6071d1e9a36adae685406d3">AST_DIAL_RESULT_ANSWERED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/dcf/dial_8h_source.html#l00061">dial.h:61</a></div></div>
<div class="ttc" id="dial_8h_html_a2054b1ddc7845e78286254b366a37847a5838a3c4774e4d0e9a7d9d3724850ae6"><div class="ttname"><a href="../../df/dcf/dial_8h.html#a2054b1ddc7845e78286254b366a37847a5838a3c4774e4d0e9a7d9d3724850ae6">AST_DIAL_RESULT_TRYING</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/dcf/dial_8h_source.html#l00057">dial.h:57</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290a49ac501f06885c9839a8833e0639d38f"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a49ac501f06885c9839a8833e0639d38f">STIMULUS_RECALL_TARGET_ANSWER</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01250">bridge_basic.c:1250</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290a41d7bde458129adf0121c70ba361258a"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a41d7bde458129adf0121c70ba361258a">STIMULUS_RECALL_TARGET_HANGUP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01248">bridge_basic.c:1248</a></div></div>
<div class="ttc" id="dial_8h_html_a2054b1ddc7845e78286254b366a37847a5cc795503d8ce3f6df21f18e7d30e24e"><div class="ttname"><a href="../../df/dcf/dial_8h.html#a2054b1ddc7845e78286254b366a37847a5cc795503d8ce3f6df21f18e7d30e24e">AST_DIAL_RESULT_PROGRESS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/dcf/dial_8h_source.html#l00059">dial.h:59</a></div></div>
<div class="ttc" id="dial_8h_html_a2054b1ddc7845e78286254b366a37847a23fe48f529c8d06fa7dffc976a871a16"><div class="ttname"><a href="../../df/dcf/dial_8h.html#a2054b1ddc7845e78286254b366a37847a23fe48f529c8d06fa7dffc976a871a16">AST_DIAL_RESULT_HANGUP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/dcf/dial_8h_source.html#l00063">dial.h:63</a></div></div>
<div class="ttc" id="structattended__transfer__properties_html_a8cfa7137e480b71055eae11820fb3845"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html#a8cfa7137e480b71055eae11820fb3845">attended_transfer_properties::recall_target</a></div><div class="ttdeci">struct ast_channel * recall_target</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01325">bridge_basic.c:1325</a></div></div>
<div class="ttc" id="dial_8h_html_a2054b1ddc7845e78286254b366a37847aba600b021de0e20a6e8a6c484f27a9e4"><div class="ttname"><a href="../../df/dcf/dial_8h.html#a2054b1ddc7845e78286254b366a37847aba600b021de0e20a6e8a6c484f27a9e4">AST_DIAL_RESULT_RINGING</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/dcf/dial_8h_source.html#l00058">dial.h:58</a></div></div>
<div class="ttc" id="dial_8h_html_a051c20e595f3e3c2be10c84b4247dd37"><div class="ttname"><a href="../../df/dcf/dial_8h.html#a051c20e595f3e3c2be10c84b4247dd37">ast_dial_state</a></div><div class="ttdeci">enum ast_dial_result ast_dial_state(struct ast_dial *dial)</div><div class="ttdoc">Return state of dial. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d43/dial_8c_source.html#l01012">dial.c:1012</a></div></div>
<div class="ttc" id="dial_8h_html_a2054b1ddc7845e78286254b366a37847ae9986b09a1806d312dd5e508aee3b9ed"><div class="ttname"><a href="../../df/dcf/dial_8h.html#a2054b1ddc7845e78286254b366a37847ae9986b09a1806d312dd5e508aee3b9ed">AST_DIAL_RESULT_UNANSWERED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/dcf/dial_8h_source.html#l00064">dial.h:64</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_af815ae36fd4901cf53e2c583047d61c5"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#af815ae36fd4901cf53e2c583047d61c5">stimulate_attended_transfer</a></div><div class="ttdeci">static void stimulate_attended_transfer(struct attended_transfer_properties *props, enum attended_transfer_stimulus stimulus)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01532">bridge_basic.c:1532</a></div></div>
<div class="ttc" id="dial_8h_html_a2054b1ddc7845e78286254b366a37847ae16711939ebe81a08ebcbd8d7d0aab3d"><div class="ttname"><a href="../../df/dcf/dial_8h.html#a2054b1ddc7845e78286254b366a37847ae16711939ebe81a08ebcbd8d7d0aab3d">AST_DIAL_RESULT_PROCEEDING</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/dcf/dial_8h_source.html#l00060">dial.h:60</a></div></div>
<div class="ttc" id="dial_8h_html_a2054b1ddc7845e78286254b366a37847a33b279a6d9fd2024de7a1f3ccadda2ce"><div class="ttname"><a href="../../df/dcf/dial_8h.html#a2054b1ddc7845e78286254b366a37847a33b279a6d9fd2024de7a1f3ccadda2ce">AST_DIAL_RESULT_INVALID</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/dcf/dial_8h_source.html#l00055">dial.h:55</a></div></div>
<div class="ttc" id="dial_8h_html_a2054b1ddc7845e78286254b366a37847a077aa090d089e32265755c7ec0f1dac2"><div class="ttname"><a href="../../df/dcf/dial_8h.html#a2054b1ddc7845e78286254b366a37847a077aa090d089e32265755c7ec0f1dac2">AST_DIAL_RESULT_FAILED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/dcf/dial_8h_source.html#l00056">dial.h:56</a></div></div>
<div class="ttc" id="dial_8h_html_a390484ae7a65d0297177fc8223e6b083"><div class="ttname"><a href="../../df/dcf/dial_8h.html#a390484ae7a65d0297177fc8223e6b083">ast_dial_answered_steal</a></div><div class="ttdeci">struct ast_channel * ast_dial_answered_steal(struct ast_dial *dial)</div><div class="ttdoc">Steal the channel that answered. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d43/dial_8c_source.html#l00993">dial.c:993</a></div></div>
<div class="ttc" id="dial_8h_html_a2054b1ddc7845e78286254b366a37847a4bd947d4e1f84bf01d336e228fb431e1"><div class="ttname"><a href="../../df/dcf/dial_8h.html#a2054b1ddc7845e78286254b366a37847a4bd947d4e1f84bf01d336e228fb431e1">AST_DIAL_RESULT_TIMEOUT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/dcf/dial_8h_source.html#l00062">dial.h:62</a></div></div>
<div class="ttc" id="structattended__transfer__properties_html"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html">attended_transfer_properties</a></div><div class="ttdoc">Collection of data related to an attended transfer attempt. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01291">bridge_basic.c:1291</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a690fb93599516427baea9884edea6bee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a690fb93599516427baea9884edea6bee">&#9670;&nbsp;</a></span>recall_pull()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void recall_pull </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *&#160;</td>
          <td class="paramname"><em>bridge_channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../dd/d9e/structattended__transfer__properties.html">attended_transfer_properties</a> *&#160;</td>
          <td class="paramname"><em>props</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02939">2939</a> of file <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html">bridge_basic.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l10783">ast_channel_get_bridge_channel()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02945">ast_channel_lock</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00420">AST_LIST_FIRST</a>, <a class="el" href="../../de/d41/bridge__channel_8h_source.html#l00091">ast_bridge_channel::chan</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01325">attended_transfer_properties::recall_target</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01532">stimulate_attended_transfer()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01248">STIMULUS_RECALL_TARGET_HANGUP</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01240">STIMULUS_TRANSFEREE_HANGUP</a>, and <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01313">attended_transfer_properties::target_bridge</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02980">bridge_personality_atxfer_pull()</a>.</p>
<div class="fragment"><div class="line"><a name="l02940"></a><span class="lineno"> 2940</span>&#160;{</div><div class="line"><a name="l02941"></a><span class="lineno"> 2941</span>&#160;   <span class="keywordflow">if</span> (<span class="keyword">self</span> == props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#ab45c59137417246eaa392b3d8319fbc3">target_bridge</a>) {</div><div class="line"><a name="l02942"></a><span class="lineno"> 2942</span>&#160;      <span class="comment">/* Once we&#39;re in the recall superstate, we no longer care about this bridge */</span></div><div class="line"><a name="l02943"></a><span class="lineno"> 2943</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l02944"></a><span class="lineno"> 2944</span>&#160;   }</div><div class="line"><a name="l02945"></a><span class="lineno"> 2945</span>&#160;</div><div class="line"><a name="l02946"></a><span class="lineno"> 2946</span>&#160;   <span class="keywordflow">if</span> (bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a> == props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a8cfa7137e480b71055eae11820fb3845">recall_target</a>) {</div><div class="line"><a name="l02947"></a><span class="lineno"> 2947</span>&#160;      <a class="code" href="../../d7/d9b/bridge__basic_8c.html#af815ae36fd4901cf53e2c583047d61c5">stimulate_attended_transfer</a>(props, <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a41d7bde458129adf0121c70ba361258a">STIMULUS_RECALL_TARGET_HANGUP</a>);</div><div class="line"><a name="l02948"></a><span class="lineno"> 2948</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l02949"></a><span class="lineno"> 2949</span>&#160;   }</div><div class="line"><a name="l02950"></a><span class="lineno"> 2950</span>&#160;</div><div class="line"><a name="l02951"></a><span class="lineno"> 2951</span>&#160;   <span class="keywordflow">if</span> (self-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a97e3bedeadf444995deb6fab68f57e21">num_channels</a> == 0) {</div><div class="line"><a name="l02952"></a><span class="lineno"> 2952</span>&#160;      <span class="comment">/* Empty bridge means all transferees are gone for sure */</span></div><div class="line"><a name="l02953"></a><span class="lineno"> 2953</span>&#160;      <a class="code" href="../../d7/d9b/bridge__basic_8c.html#af815ae36fd4901cf53e2c583047d61c5">stimulate_attended_transfer</a>(props, <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a5bea635a52d3e646fe86091457310934">STIMULUS_TRANSFEREE_HANGUP</a>);</div><div class="line"><a name="l02954"></a><span class="lineno"> 2954</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l02955"></a><span class="lineno"> 2955</span>&#160;   }</div><div class="line"><a name="l02956"></a><span class="lineno"> 2956</span>&#160;</div><div class="line"><a name="l02957"></a><span class="lineno"> 2957</span>&#160;   <span class="keywordflow">if</span> (self-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a97e3bedeadf444995deb6fab68f57e21">num_channels</a> == 1) {</div><div class="line"><a name="l02958"></a><span class="lineno"> 2958</span>&#160;      <span class="keyword">struct </span><a class="code" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *target_bridge_channel;</div><div class="line"><a name="l02959"></a><span class="lineno"> 2959</span>&#160;</div><div class="line"><a name="l02960"></a><span class="lineno"> 2960</span>&#160;      <span class="keywordflow">if</span> (!props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a8cfa7137e480b71055eae11820fb3845">recall_target</a>) {</div><div class="line"><a name="l02961"></a><span class="lineno"> 2961</span>&#160;         <span class="comment">/* No recall target means that the pull happened on a transferee. If there&#39;s still</span></div><div class="line"><a name="l02962"></a><span class="lineno"> 2962</span>&#160;<span class="comment">          * a channel left in the bridge, we don&#39;t need to send a stimulus</span></div><div class="line"><a name="l02963"></a><span class="lineno"> 2963</span>&#160;<span class="comment">          */</span></div><div class="line"><a name="l02964"></a><span class="lineno"> 2964</span>&#160;         <span class="keywordflow">return</span>;</div><div class="line"><a name="l02965"></a><span class="lineno"> 2965</span>&#160;      }</div><div class="line"><a name="l02966"></a><span class="lineno"> 2966</span>&#160;</div><div class="line"><a name="l02967"></a><span class="lineno"> 2967</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a8cfa7137e480b71055eae11820fb3845">recall_target</a>);</div><div class="line"><a name="l02968"></a><span class="lineno"> 2968</span>&#160;      target_bridge_channel = <a class="code" href="../../d5/d7b/channel_8h.html#a9b6409c38af733c46eead884d86dd284">ast_channel_get_bridge_channel</a>(props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a8cfa7137e480b71055eae11820fb3845">recall_target</a>);</div><div class="line"><a name="l02969"></a><span class="lineno"> 2969</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a8cfa7137e480b71055eae11820fb3845">recall_target</a>);</div><div class="line"><a name="l02970"></a><span class="lineno"> 2970</span>&#160;</div><div class="line"><a name="l02971"></a><span class="lineno"> 2971</span>&#160;      <span class="keywordflow">if</span> (target_bridge_channel) {</div><div class="line"><a name="l02972"></a><span class="lineno"> 2972</span>&#160;         <span class="keywordflow">if</span> (<a class="code" href="../../df/d90/linkedlists_8h.html#adf1959c5c03a3a706da97ad2f49617e5">AST_LIST_FIRST</a>(&amp;self-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a77542a877d8ed62331c5b3b6aa3e87a7">channels</a>) == target_bridge_channel) {</div><div class="line"><a name="l02973"></a><span class="lineno"> 2973</span>&#160;            <a class="code" href="../../d7/d9b/bridge__basic_8c.html#af815ae36fd4901cf53e2c583047d61c5">stimulate_attended_transfer</a>(props, <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a5bea635a52d3e646fe86091457310934">STIMULUS_TRANSFEREE_HANGUP</a>);</div><div class="line"><a name="l02974"></a><span class="lineno"> 2974</span>&#160;         }</div><div class="line"><a name="l02975"></a><span class="lineno"> 2975</span>&#160;         <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(target_bridge_channel, -1);</div><div class="line"><a name="l02976"></a><span class="lineno"> 2976</span>&#160;      }</div><div class="line"><a name="l02977"></a><span class="lineno"> 2977</span>&#160;   }</div><div class="line"><a name="l02978"></a><span class="lineno"> 2978</span>&#160;}</div><div class="ttc" id="channel_8h_html_a493bdebe876caafb8ee535853310364a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a></div><div class="ttdeci">#define ast_channel_lock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02945">channel.h:2945</a></div></div>
<div class="ttc" id="linkedlists_8h_html_adf1959c5c03a3a706da97ad2f49617e5"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#adf1959c5c03a3a706da97ad2f49617e5">AST_LIST_FIRST</a></div><div class="ttdeci">#define AST_LIST_FIRST(head)</div><div class="ttdoc">Returns the first entry contained in a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00420">linkedlists.h:420</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290a41d7bde458129adf0121c70ba361258a"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a41d7bde458129adf0121c70ba361258a">STIMULUS_RECALL_TARGET_HANGUP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01248">bridge_basic.c:1248</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290a5bea635a52d3e646fe86091457310934"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a5bea635a52d3e646fe86091457310934">STIMULUS_TRANSFEREE_HANGUP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01240">bridge_basic.c:1240</a></div></div>
<div class="ttc" id="structattended__transfer__properties_html_a8cfa7137e480b71055eae11820fb3845"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html#a8cfa7137e480b71055eae11820fb3845">attended_transfer_properties::recall_target</a></div><div class="ttdeci">struct ast_channel * recall_target</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01325">bridge_basic.c:1325</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="structattended__transfer__properties_html_ab45c59137417246eaa392b3d8319fbc3"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html#ab45c59137417246eaa392b3d8319fbc3">attended_transfer_properties::target_bridge</a></div><div class="ttdeci">struct ast_bridge * target_bridge</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01313">bridge_basic.c:1313</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_af815ae36fd4901cf53e2c583047d61c5"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#af815ae36fd4901cf53e2c583047d61c5">stimulate_attended_transfer</a></div><div class="ttdeci">static void stimulate_attended_transfer(struct attended_transfer_properties *props, enum attended_transfer_stimulus stimulus)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01532">bridge_basic.c:1532</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="channel_8h_html_a9b6409c38af733c46eead884d86dd284"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a9b6409c38af733c46eead884d86dd284">ast_channel_get_bridge_channel</a></div><div class="ttdeci">struct ast_bridge_channel * ast_channel_get_bridge_channel(struct ast_channel *chan)</div><div class="ttdoc">Get a reference to the channel&amp;#39;s bridge pointer. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l10783">channel.c:10783</a></div></div>
<div class="ttc" id="structast__bridge_html_a77542a877d8ed62331c5b3b6aa3e87a7"><div class="ttname"><a href="../../d4/d84/structast__bridge.html#a77542a877d8ed62331c5b3b6aa3e87a7">ast_bridge::channels</a></div><div class="ttdeci">struct ast_bridge_channels_list channels</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00371">bridge.h:371</a></div></div>
<div class="ttc" id="structast__bridge__channel_html_a84d1435c5b8d387806714ea7079304b7"><div class="ttname"><a href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">ast_bridge_channel::chan</a></div><div class="ttdeci">struct ast_channel * chan</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00091">bridge_channel.h:91</a></div></div>
<div class="ttc" id="structast__bridge__channel_html"><div class="ttname"><a href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a></div><div class="ttdoc">Structure that contains information regarding a channel in a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00084">bridge_channel.h:84</a></div></div>
<div class="ttc" id="structast__bridge_html_a97e3bedeadf444995deb6fab68f57e21"><div class="ttname"><a href="../../d4/d84/structast__bridge.html#a97e3bedeadf444995deb6fab68f57e21">ast_bridge::num_channels</a></div><div class="ttdeci">unsigned int num_channels</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00381">bridge.h:381</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3163731b906217b91fd99c881848f8d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3163731b906217b91fd99c881848f8d5">&#9670;&nbsp;</a></span>recalling_enter()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int recalling_enter </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dd/d9e/structattended__transfer__properties.html">attended_transfer_properties</a> *&#160;</td>
          <td class="paramname"><em>props</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02455">2455</a> of file <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html">bridge_basic.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00888">ast_channel_caller()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00892">ast_channel_connected()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02952">ast_channel_lock_both</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../de/d43/dial_8c_source.html#l00282">ast_dial_append()</a>, <a class="el" href="../../de/d43/dial_8c_source.html#l00225">ast_dial_create()</a>, <a class="el" href="../../de/d43/dial_8c_source.html#l01282">ast_dial_get_channel()</a>, <a class="el" href="../../de/d43/dial_8c_source.html#l00433">ast_dial_prerun()</a>, <a class="el" href="../../df/dcf/dial_8h_source.html#l00056">AST_DIAL_RESULT_FAILED</a>, <a class="el" href="../../de/d43/dial_8c_source.html#l00939">ast_dial_run()</a>, <a class="el" href="../../de/d43/dial_8c_source.html#l01293">ast_dial_set_state_callback()</a>, <a class="el" href="../../de/d43/dial_8c_source.html#l01298">ast_dial_set_user_data()</a>, <a class="el" href="../../d0/d3c/format__cap_8h_source.html#l00052">ast_format_cap_alloc</a>, <a class="el" href="../../d0/d3c/format__cap_8h_source.html#l00103">ast_format_cap_append</a>, <a class="el" href="../../d0/d3c/format__cap_8h_source.html#l00038">AST_FORMAT_CAP_FLAG_DEFAULT</a>, <a class="el" href="../../d9/d29/format__cache_8c_source.html#l00041">ast_format_slin</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l01986">ast_party_caller_copy()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l02031">ast_party_connected_line_copy()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01831">bridge_ringing()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02433">common_recall_channel_setup()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01346">attended_transfer_properties::dial</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01350">attended_transfer_properties::original_transferer_colp</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00911">RAII_VAR</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02388">recall_callback()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01309">attended_transfer_properties::transferee_bridge</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01315">attended_transfer_properties::transferer</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01303">attended_transfer_properties::transferer_addr</a>, and <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01303">attended_transfer_properties::transferer_type</a>.</p>
<div class="fragment"><div class="line"><a name="l02456"></a><span class="lineno"> 2456</span>&#160;{</div><div class="line"><a name="l02457"></a><span class="lineno"> 2457</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d8/d69/structast__format__cap.html">ast_format_cap</a> *, cap, <a class="code" href="../../d0/d3c/format__cap_8h.html#aeb38ee3bdc8594745a707c0927146fdb">ast_format_cap_alloc</a>(<a class="code" href="../../d0/d3c/format__cap_8h.html#a51f3293ae7b01a8353bf4aa1204abba5ad111d20686641a6f0fc5efd33c82e97a">AST_FORMAT_CAP_FLAG_DEFAULT</a>), <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l02458"></a><span class="lineno"> 2458</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *recall;</div><div class="line"><a name="l02459"></a><span class="lineno"> 2459</span>&#160;</div><div class="line"><a name="l02460"></a><span class="lineno"> 2460</span>&#160;   <span class="keywordflow">if</span> (!cap) {</div><div class="line"><a name="l02461"></a><span class="lineno"> 2461</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l02462"></a><span class="lineno"> 2462</span>&#160;   }</div><div class="line"><a name="l02463"></a><span class="lineno"> 2463</span>&#160;</div><div class="line"><a name="l02464"></a><span class="lineno"> 2464</span>&#160;   <a class="code" href="../../d0/d3c/format__cap_8h.html#ab4d69f2179ed5ca138c9b3d85334217f">ast_format_cap_append</a>(cap, <a class="code" href="../../db/d1c/format__cache_8h.html#a771d7c34570e8e492c25a0c2eb41889d">ast_format_slin</a>, 0);</div><div class="line"><a name="l02465"></a><span class="lineno"> 2465</span>&#160;</div><div class="line"><a name="l02466"></a><span class="lineno"> 2466</span>&#160;   <span class="comment">/* When we dial the transfer target, since we are communicating</span></div><div class="line"><a name="l02467"></a><span class="lineno"> 2467</span>&#160;<span class="comment">    * with a local channel, we can place the local channel in a bridge</span></div><div class="line"><a name="l02468"></a><span class="lineno"> 2468</span>&#160;<span class="comment">    * and then call out to it. When recalling the transferer, though, we</span></div><div class="line"><a name="l02469"></a><span class="lineno"> 2469</span>&#160;<span class="comment">    * have to use the dialing API because the channel is not local.</span></div><div class="line"><a name="l02470"></a><span class="lineno"> 2470</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l02471"></a><span class="lineno"> 2471</span>&#160;   props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a56990e06ce7fc176509a38f9d1258476">dial</a> = <a class="code" href="../../df/dcf/dial_8h.html#aff55dbc56bc54126828f78a47d1f2282">ast_dial_create</a>();</div><div class="line"><a name="l02472"></a><span class="lineno"> 2472</span>&#160;   <span class="keywordflow">if</span> (!props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a56990e06ce7fc176509a38f9d1258476">dial</a>) {</div><div class="line"><a name="l02473"></a><span class="lineno"> 2473</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l02474"></a><span class="lineno"> 2474</span>&#160;   }</div><div class="line"><a name="l02475"></a><span class="lineno"> 2475</span>&#160;</div><div class="line"><a name="l02476"></a><span class="lineno"> 2476</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../df/dcf/dial_8h.html#a2bd4d9ffd57e401b004cc131bd2ad497">ast_dial_append</a>(props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a56990e06ce7fc176509a38f9d1258476">dial</a>, props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a4a20183842d9abd90c37fd8ec34cdcd4">transferer_type</a>, props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a61ef47fff1acec9c78e9c2fa6b8a22dd">transferer_addr</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)) {</div><div class="line"><a name="l02477"></a><span class="lineno"> 2477</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l02478"></a><span class="lineno"> 2478</span>&#160;   }</div><div class="line"><a name="l02479"></a><span class="lineno"> 2479</span>&#160;</div><div class="line"><a name="l02480"></a><span class="lineno"> 2480</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../df/dcf/dial_8h.html#a3cd0ba996525c0c0b9c88c743fe6c34d">ast_dial_prerun</a>(props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a56990e06ce7fc176509a38f9d1258476">dial</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, cap)) {</div><div class="line"><a name="l02481"></a><span class="lineno"> 2481</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l02482"></a><span class="lineno"> 2482</span>&#160;   }</div><div class="line"><a name="l02483"></a><span class="lineno"> 2483</span>&#160;</div><div class="line"><a name="l02484"></a><span class="lineno"> 2484</span>&#160;   <span class="comment">/*</span></div><div class="line"><a name="l02485"></a><span class="lineno"> 2485</span>&#160;<span class="comment">    * Setup callid, variables, datastores, accountcode, peeraccount,</span></div><div class="line"><a name="l02486"></a><span class="lineno"> 2486</span>&#160;<span class="comment">    * COLP, and CLID on the recalled transferrer.</span></div><div class="line"><a name="l02487"></a><span class="lineno"> 2487</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l02488"></a><span class="lineno"> 2488</span>&#160;   recall = <a class="code" href="../../df/dcf/dial_8h.html#a45841b9bf18bd62ea3a58f5ecf8b5d4f">ast_dial_get_channel</a>(props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a56990e06ce7fc176509a38f9d1258476">dial</a>, 0);</div><div class="line"><a name="l02489"></a><span class="lineno"> 2489</span>&#160;   <span class="keywordflow">if</span> (!recall) {</div><div class="line"><a name="l02490"></a><span class="lineno"> 2490</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l02491"></a><span class="lineno"> 2491</span>&#160;   }</div><div class="line"><a name="l02492"></a><span class="lineno"> 2492</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a695e5b4fcf983db6451b583fbd647424">ast_channel_lock_both</a>(recall, props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a43cf79e5f3675b2cdf001bceacb02e72">transferer</a>);</div><div class="line"><a name="l02493"></a><span class="lineno"> 2493</span>&#160;</div><div class="line"><a name="l02494"></a><span class="lineno"> 2494</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a6a3c72ab1f5f7853b391f2c53fa292bd">ast_party_caller_copy</a>(<a class="code" href="../../d5/d7b/channel_8h.html#ac2dc872b606534943c98304aed841b34">ast_channel_caller</a>(recall),</div><div class="line"><a name="l02495"></a><span class="lineno"> 2495</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#ac2dc872b606534943c98304aed841b34">ast_channel_caller</a>(props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a43cf79e5f3675b2cdf001bceacb02e72">transferer</a>));</div><div class="line"><a name="l02496"></a><span class="lineno"> 2496</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a5d3c15fe1dffda82e6dc03ca7b26526a">ast_party_connected_line_copy</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a10f23f1907b804485f62973f66cd9aef">ast_channel_connected</a>(recall),</div><div class="line"><a name="l02497"></a><span class="lineno"> 2497</span>&#160;      &amp;props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a59503bde2f9c839237f474a68878a01f">original_transferer_colp</a>);</div><div class="line"><a name="l02498"></a><span class="lineno"> 2498</span>&#160;</div><div class="line"><a name="l02499"></a><span class="lineno"> 2499</span>&#160;   <a class="code" href="../../d7/d9b/bridge__basic_8c.html#ad283c0c18011fa7f3d8d8a02f83a1183">common_recall_channel_setup</a>(recall, props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a43cf79e5f3675b2cdf001bceacb02e72">transferer</a>);</div><div class="line"><a name="l02500"></a><span class="lineno"> 2500</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(recall);</div><div class="line"><a name="l02501"></a><span class="lineno"> 2501</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a43cf79e5f3675b2cdf001bceacb02e72">transferer</a>);</div><div class="line"><a name="l02502"></a><span class="lineno"> 2502</span>&#160;</div><div class="line"><a name="l02503"></a><span class="lineno"> 2503</span>&#160;   <a class="code" href="../../df/dcf/dial_8h.html#a2674932599e61fe027364a09f6d68c4e">ast_dial_set_state_callback</a>(props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a56990e06ce7fc176509a38f9d1258476">dial</a>, <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a6d5df3b1c3b311f221d8686ff531a438">recall_callback</a>);</div><div class="line"><a name="l02504"></a><span class="lineno"> 2504</span>&#160;</div><div class="line"><a name="l02505"></a><span class="lineno"> 2505</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(props, +1);</div><div class="line"><a name="l02506"></a><span class="lineno"> 2506</span>&#160;   <a class="code" href="../../df/dcf/dial_8h.html#a39c6af74141cd4fca2ebc1ef37d4a16b">ast_dial_set_user_data</a>(props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a56990e06ce7fc176509a38f9d1258476">dial</a>, props);</div><div class="line"><a name="l02507"></a><span class="lineno"> 2507</span>&#160;</div><div class="line"><a name="l02508"></a><span class="lineno"> 2508</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../df/dcf/dial_8h.html#a65e30d29847af5495afe1baed823957e">ast_dial_run</a>(props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a56990e06ce7fc176509a38f9d1258476">dial</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 1) == <a class="code" href="../../df/dcf/dial_8h.html#a2054b1ddc7845e78286254b366a37847a077aa090d089e32265755c7ec0f1dac2">AST_DIAL_RESULT_FAILED</a>) {</div><div class="line"><a name="l02509"></a><span class="lineno"> 2509</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(props, -1);</div><div class="line"><a name="l02510"></a><span class="lineno"> 2510</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l02511"></a><span class="lineno"> 2511</span>&#160;   }</div><div class="line"><a name="l02512"></a><span class="lineno"> 2512</span>&#160;</div><div class="line"><a name="l02513"></a><span class="lineno"> 2513</span>&#160;   <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a3e9b377fb281c3b2234be1e0133d7dcf">bridge_ringing</a>(props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a7c148ea37d33eb1640a17177c700be43">transferee_bridge</a>);</div><div class="line"><a name="l02514"></a><span class="lineno"> 2514</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02515"></a><span class="lineno"> 2515</span>&#160;}</div><div class="ttc" id="channel_8h_html_ac2dc872b606534943c98304aed841b34"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#ac2dc872b606534943c98304aed841b34">ast_channel_caller</a></div><div class="ttdeci">struct ast_party_caller * ast_channel_caller(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00888">channel_internal_api.c:888</a></div></div>
<div class="ttc" id="structast__channel_html"><div class="ttname"><a href="../../df/d3c/structast__channel.html">ast_channel</a></div><div class="ttdoc">Main Channel structure associated with a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00073">channel_internal_api.c:73</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a6d5df3b1c3b311f221d8686ff531a438"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a6d5df3b1c3b311f221d8686ff531a438">recall_callback</a></div><div class="ttdeci">static void recall_callback(struct ast_dial *dial)</div><div class="ttdoc">Dial callback when attempting to recall the original transferer channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l02388">bridge_basic.c:2388</a></div></div>
<div class="ttc" id="structattended__transfer__properties_html_a7c148ea37d33eb1640a17177c700be43"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html#a7c148ea37d33eb1640a17177c700be43">attended_transfer_properties::transferee_bridge</a></div><div class="ttdeci">struct ast_bridge * transferee_bridge</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01309">bridge_basic.c:1309</a></div></div>
<div class="ttc" id="structattended__transfer__properties_html_a61ef47fff1acec9c78e9c2fa6b8a22dd"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html#a61ef47fff1acec9c78e9c2fa6b8a22dd">attended_transfer_properties::transferer_addr</a></div><div class="ttdeci">const ast_string_field transferer_addr</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01303">bridge_basic.c:1303</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structattended__transfer__properties_html_a4a20183842d9abd90c37fd8ec34cdcd4"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html#a4a20183842d9abd90c37fd8ec34cdcd4">attended_transfer_properties::transferer_type</a></div><div class="ttdeci">const ast_string_field transferer_type</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01303">bridge_basic.c:1303</a></div></div>
<div class="ttc" id="channel_8h_html_a6a3c72ab1f5f7853b391f2c53fa292bd"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a6a3c72ab1f5f7853b391f2c53fa292bd">ast_party_caller_copy</a></div><div class="ttdeci">void ast_party_caller_copy(struct ast_party_caller *dest, const struct ast_party_caller *src)</div><div class="ttdoc">Copy the source caller information to the destination caller. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l01986">channel.c:1986</a></div></div>
<div class="ttc" id="dial_8h_html_a39c6af74141cd4fca2ebc1ef37d4a16b"><div class="ttname"><a href="../../df/dcf/dial_8h.html#a39c6af74141cd4fca2ebc1ef37d4a16b">ast_dial_set_user_data</a></div><div class="ttdeci">void ast_dial_set_user_data(struct ast_dial *dial, void *user_data)</div><div class="ttdoc">Set user data on a dial structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d43/dial_8c_source.html#l01298">dial.c:1298</a></div></div>
<div class="ttc" id="dial_8h_html_a2674932599e61fe027364a09f6d68c4e"><div class="ttname"><a href="../../df/dcf/dial_8h.html#a2674932599e61fe027364a09f6d68c4e">ast_dial_set_state_callback</a></div><div class="ttdeci">void ast_dial_set_state_callback(struct ast_dial *dial, ast_dial_state_callback callback)</div><div class="ttdoc">Set a callback for state changes. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d43/dial_8c_source.html#l01293">dial.c:1293</a></div></div>
<div class="ttc" id="utils_8h_html_a1604b4d72144dd3d9f7da668e90337e9"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a></div><div class="ttdeci">#define RAII_VAR(vartype, varname, initval, dtor)</div><div class="ttdoc">Declare a variable that will call a destructor function when it goes out of scope. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00911">utils.h:911</a></div></div>
<div class="ttc" id="channel_8h_html_a10f23f1907b804485f62973f66cd9aef"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a10f23f1907b804485f62973f66cd9aef">ast_channel_connected</a></div><div class="ttdeci">struct ast_party_connected_line * ast_channel_connected(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00892">channel_internal_api.c:892</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a3e9b377fb281c3b2234be1e0133d7dcf"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a3e9b377fb281c3b2234be1e0133d7dcf">bridge_ringing</a></div><div class="ttdeci">static void bridge_ringing(struct ast_bridge *bridge)</div><div class="ttdoc">Helper method to send a ringing indication to all channels in a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01831">bridge_basic.c:1831</a></div></div>
<div class="ttc" id="format__cap_8h_html_ab4d69f2179ed5ca138c9b3d85334217f"><div class="ttname"><a href="../../d0/d3c/format__cap_8h.html#ab4d69f2179ed5ca138c9b3d85334217f">ast_format_cap_append</a></div><div class="ttdeci">#define ast_format_cap_append(cap, format, framing)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d3c/format__cap_8h_source.html#l00103">format_cap.h:103</a></div></div>
<div class="ttc" id="format__cap_8h_html_aeb38ee3bdc8594745a707c0927146fdb"><div class="ttname"><a href="../../d0/d3c/format__cap_8h.html#aeb38ee3bdc8594745a707c0927146fdb">ast_format_cap_alloc</a></div><div class="ttdeci">#define ast_format_cap_alloc(flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d3c/format__cap_8h_source.html#l00052">format_cap.h:52</a></div></div>
<div class="ttc" id="dial_8h_html_a65e30d29847af5495afe1baed823957e"><div class="ttname"><a href="../../df/dcf/dial_8h.html#a65e30d29847af5495afe1baed823957e">ast_dial_run</a></div><div class="ttdeci">enum ast_dial_result ast_dial_run(struct ast_dial *dial, struct ast_channel *chan, int async)</div><div class="ttdoc">Execute dialing synchronously or asynchronously. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d43/dial_8c_source.html#l00939">dial.c:939</a></div></div>
<div class="ttc" id="format__cap_8h_html_a51f3293ae7b01a8353bf4aa1204abba5ad111d20686641a6f0fc5efd33c82e97a"><div class="ttname"><a href="../../d0/d3c/format__cap_8h.html#a51f3293ae7b01a8353bf4aa1204abba5ad111d20686641a6f0fc5efd33c82e97a">AST_FORMAT_CAP_FLAG_DEFAULT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d3c/format__cap_8h_source.html#l00038">format_cap.h:38</a></div></div>
<div class="ttc" id="structast__format__cap_html"><div class="ttname"><a href="../../d8/d69/structast__format__cap.html">ast_format_cap</a></div><div class="ttdoc">Format capabilities structure, holds formats + preference order + etc. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dc9/format__cap_8c_source.html#l00054">format_cap.c:54</a></div></div>
<div class="ttc" id="dial_8h_html_a2bd4d9ffd57e401b004cc131bd2ad497"><div class="ttname"><a href="../../df/dcf/dial_8h.html#a2bd4d9ffd57e401b004cc131bd2ad497">ast_dial_append</a></div><div class="ttdeci">int ast_dial_append(struct ast_dial *dial, const char *tech, const char *device, const struct ast_assigned_ids *assignedids)</div><div class="ttdoc">Append a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d43/dial_8c_source.html#l00282">dial.c:282</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="dial_8h_html_aff55dbc56bc54126828f78a47d1f2282"><div class="ttname"><a href="../../df/dcf/dial_8h.html#aff55dbc56bc54126828f78a47d1f2282">ast_dial_create</a></div><div class="ttdeci">struct ast_dial * ast_dial_create(void)</div><div class="ttdoc">New dialing structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d43/dial_8c_source.html#l00225">dial.c:225</a></div></div>
<div class="ttc" id="dial_8h_html_a45841b9bf18bd62ea3a58f5ecf8b5d4f"><div class="ttname"><a href="../../df/dcf/dial_8h.html#a45841b9bf18bd62ea3a58f5ecf8b5d4f">ast_dial_get_channel</a></div><div class="ttdeci">struct ast_channel * ast_dial_get_channel(struct ast_dial *dial, int num)</div><div class="ttdoc">Get the dialing channel, if prerun has been executed. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d43/dial_8c_source.html#l01282">dial.c:1282</a></div></div>
<div class="ttc" id="dial_8h_html_a2054b1ddc7845e78286254b366a37847a077aa090d089e32265755c7ec0f1dac2"><div class="ttname"><a href="../../df/dcf/dial_8h.html#a2054b1ddc7845e78286254b366a37847a077aa090d089e32265755c7ec0f1dac2">AST_DIAL_RESULT_FAILED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/dcf/dial_8h_source.html#l00056">dial.h:56</a></div></div>
<div class="ttc" id="channel_8h_html_a695e5b4fcf983db6451b583fbd647424"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a695e5b4fcf983db6451b583fbd647424">ast_channel_lock_both</a></div><div class="ttdeci">#define ast_channel_lock_both(chan1, chan2)</div><div class="ttdoc">Lock two channels. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02952">channel.h:2952</a></div></div>
<div class="ttc" id="structattended__transfer__properties_html_a59503bde2f9c839237f474a68878a01f"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html#a59503bde2f9c839237f474a68878a01f">attended_transfer_properties::original_transferer_colp</a></div><div class="ttdeci">struct ast_party_connected_line original_transferer_colp</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01350">bridge_basic.c:1350</a></div></div>
<div class="ttc" id="channel_8h_html_a5d3c15fe1dffda82e6dc03ca7b26526a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a5d3c15fe1dffda82e6dc03ca7b26526a">ast_party_connected_line_copy</a></div><div class="ttdeci">void ast_party_connected_line_copy(struct ast_party_connected_line *dest, const struct ast_party_connected_line *src)</div><div class="ttdoc">Copy the source connected line information to the destination connected line. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l02031">channel.c:2031</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="structattended__transfer__properties_html_a56990e06ce7fc176509a38f9d1258476"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html#a56990e06ce7fc176509a38f9d1258476">attended_transfer_properties::dial</a></div><div class="ttdeci">struct ast_dial * dial</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01346">bridge_basic.c:1346</a></div></div>
<div class="ttc" id="format__cache_8h_html_a771d7c34570e8e492c25a0c2eb41889d"><div class="ttname"><a href="../../db/d1c/format__cache_8h.html#a771d7c34570e8e492c25a0c2eb41889d">ast_format_slin</a></div><div class="ttdeci">struct ast_format * ast_format_slin</div><div class="ttdoc">Built-in cached signed linear 8kHz format. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d29/format__cache_8c_source.html#l00041">format_cache.c:41</a></div></div>
<div class="ttc" id="structattended__transfer__properties_html_a43cf79e5f3675b2cdf001bceacb02e72"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html#a43cf79e5f3675b2cdf001bceacb02e72">attended_transfer_properties::transferer</a></div><div class="ttdeci">struct ast_channel * transferer</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01315">bridge_basic.c:1315</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_ad283c0c18011fa7f3d8d8a02f83a1183"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#ad283c0c18011fa7f3d8d8a02f83a1183">common_recall_channel_setup</a></div><div class="ttdeci">static void common_recall_channel_setup(struct ast_channel *recall, struct ast_channel *transferer)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l02433">bridge_basic.c:2433</a></div></div>
<div class="ttc" id="dial_8h_html_a3cd0ba996525c0c0b9c88c743fe6c34d"><div class="ttname"><a href="../../df/dcf/dial_8h.html#a3cd0ba996525c0c0b9c88c743fe6c34d">ast_dial_prerun</a></div><div class="ttdeci">int ast_dial_prerun(struct ast_dial *dial, struct ast_channel *chan, struct ast_format_cap *cap)</div><div class="ttdoc">Request all appended channels, but do not dial. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d43/dial_8c_source.html#l00433">dial.c:433</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a38552c0e5b4c8df18af79046422be6d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a38552c0e5b4c8df18af79046422be6d7">&#9670;&nbsp;</a></span>recalling_exit()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static enum <a class="el" href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8">attended_transfer_state</a> recalling_exit </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dd/d9e/structattended__transfer__properties.html">attended_transfer_properties</a> *&#160;</td>
          <td class="paramname"><em>props</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290">attended_transfer_stimulus</a>&#160;</td>
          <td class="paramname"><em>stimulus</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02517">2517</a> of file <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html">bridge_basic.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00258">ast_bridge_features_ds_set()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l01924">ast_bridge_impart()</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00604">AST_BRIDGE_IMPART_CHAN_INDEPENDENT</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02970">ast_channel_ref</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02981">ast_channel_unref</a>, <a class="el" href="../../de/d43/dial_8c_source.html#l01091">ast_dial_destroy()</a>, <a class="el" href="../../de/d43/dial_8c_source.html#l01021">ast_dial_join()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l02548">ast_hangup()</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01336">attended_transfer_properties::atxfercallbackretries</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01338">attended_transfer_properties::atxferloopdelay</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01346">attended_transfer_properties::dial</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01325">attended_transfer_properties::recall_target</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01342">attended_transfer_properties::retry_attempts</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01330">attended_transfer_properties::state</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02000">attended_transfer_state_properties::state_name</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01254">STIMULUS_DTMF_ATXFER_ABORT</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01256">STIMULUS_DTMF_ATXFER_COMPLETE</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01260">STIMULUS_DTMF_ATXFER_SWAP</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01258">STIMULUS_DTMF_ATXFER_THREEWAY</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01238">STIMULUS_NONE</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01250">STIMULUS_RECALL_TARGET_ANSWER</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01248">STIMULUS_RECALL_TARGET_HANGUP</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01268">stimulus_strs</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01252">STIMULUS_TIMEOUT</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01246">STIMULUS_TRANSFER_TARGET_ANSWER</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01244">STIMULUS_TRANSFER_TARGET_HANGUP</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01240">STIMULUS_TRANSFEREE_HANGUP</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01242">STIMULUS_TRANSFERER_HANGUP</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01230">TRANSFER_FAIL</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00903">TRANSFER_RESUME</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01171">TRANSFER_RETRANSFER</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01140">TRANSFER_WAIT_TO_RETRANSFER</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01309">attended_transfer_properties::transferee_bridge</a>, and <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01348">attended_transfer_properties::transferer_features</a>.</p>
<div class="fragment"><div class="line"><a name="l02519"></a><span class="lineno"> 2519</span>&#160;{</div><div class="line"><a name="l02520"></a><span class="lineno"> 2520</span>&#160;   <span class="comment">/* No matter what the outcome was, we need to kill off the dial */</span></div><div class="line"><a name="l02521"></a><span class="lineno"> 2521</span>&#160;   <a class="code" href="../../df/dcf/dial_8h.html#a726346c9cfd11a81839e0eb580b66059">ast_dial_join</a>(props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a56990e06ce7fc176509a38f9d1258476">dial</a>);</div><div class="line"><a name="l02522"></a><span class="lineno"> 2522</span>&#160;   <a class="code" href="../../df/dcf/dial_8h.html#ab75c6f2fe91945cf61e7e91939618db2">ast_dial_destroy</a>(props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a56990e06ce7fc176509a38f9d1258476">dial</a>);</div><div class="line"><a name="l02523"></a><span class="lineno"> 2523</span>&#160;   props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a56990e06ce7fc176509a38f9d1258476">dial</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l02524"></a><span class="lineno"> 2524</span>&#160;   <span class="comment">/* This reference is the one we incremented for the dial state callback (recall_callback) to use */</span></div><div class="line"><a name="l02525"></a><span class="lineno"> 2525</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(props, -1);</div><div class="line"><a name="l02526"></a><span class="lineno"> 2526</span>&#160;</div><div class="line"><a name="l02527"></a><span class="lineno"> 2527</span>&#160;   <span class="keywordflow">switch</span> (stimulus) {</div><div class="line"><a name="l02528"></a><span class="lineno"> 2528</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a5bea635a52d3e646fe86091457310934">STIMULUS_TRANSFEREE_HANGUP</a>:</div><div class="line"><a name="l02529"></a><span class="lineno"> 2529</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8a8383b06b8e11a417dca5329407478ee8">TRANSFER_FAIL</a>;</div><div class="line"><a name="l02530"></a><span class="lineno"> 2530</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290ad811a249bfc0c9c585652f461b127180">STIMULUS_TIMEOUT</a>:</div><div class="line"><a name="l02531"></a><span class="lineno"> 2531</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a41d7bde458129adf0121c70ba361258a">STIMULUS_RECALL_TARGET_HANGUP</a>:</div><div class="line"><a name="l02532"></a><span class="lineno"> 2532</span>&#160;      ++props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#aed87c64ff9f68f2e56584990739cce0c">retry_attempts</a>;</div><div class="line"><a name="l02533"></a><span class="lineno"> 2533</span>&#160;      <span class="keywordflow">if</span> (props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#aed87c64ff9f68f2e56584990739cce0c">retry_attempts</a> &gt;= props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a49075b9a7289632b9b37097a46f132e1">atxfercallbackretries</a>) {</div><div class="line"><a name="l02534"></a><span class="lineno"> 2534</span>&#160;         <span class="keywordflow">return</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8a8383b06b8e11a417dca5329407478ee8">TRANSFER_FAIL</a>;</div><div class="line"><a name="l02535"></a><span class="lineno"> 2535</span>&#160;      }</div><div class="line"><a name="l02536"></a><span class="lineno"> 2536</span>&#160;      <span class="keywordflow">if</span> (props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a4bc55c41a64defa80a9448de4def2f43">atxferloopdelay</a>) {</div><div class="line"><a name="l02537"></a><span class="lineno"> 2537</span>&#160;         <span class="keywordflow">return</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8a079027cbe132434fd8fd0848bced7c81">TRANSFER_WAIT_TO_RETRANSFER</a>;</div><div class="line"><a name="l02538"></a><span class="lineno"> 2538</span>&#160;      }</div><div class="line"><a name="l02539"></a><span class="lineno"> 2539</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8a61cf446eec4f2188e90d11eec6fd2396">TRANSFER_RETRANSFER</a>;</div><div class="line"><a name="l02540"></a><span class="lineno"> 2540</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a49ac501f06885c9839a8833e0639d38f">STIMULUS_RECALL_TARGET_ANSWER</a>:</div><div class="line"><a name="l02541"></a><span class="lineno"> 2541</span>&#160;      <span class="comment">/* Setting this datastore up will allow the transferer to have all of his</span></div><div class="line"><a name="l02542"></a><span class="lineno"> 2542</span>&#160;<span class="comment">       * call features set up automatically when the bridge changes back to a</span></div><div class="line"><a name="l02543"></a><span class="lineno"> 2543</span>&#160;<span class="comment">       * normal personality</span></div><div class="line"><a name="l02544"></a><span class="lineno"> 2544</span>&#160;<span class="comment">       */</span></div><div class="line"><a name="l02545"></a><span class="lineno"> 2545</span>&#160;      <a class="code" href="../../d7/d9b/bridge__basic_8c.html#ab20a6f49985f34f55c05e2125c9e9d6a">ast_bridge_features_ds_set</a>(props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a8cfa7137e480b71055eae11820fb3845">recall_target</a>, &amp;props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#ab79bd9389fc85935229a270dcb0d2f5a">transferer_features</a>);</div><div class="line"><a name="l02546"></a><span class="lineno"> 2546</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#a6801c703e767d6f760c54c8b86a30024">ast_channel_ref</a>(props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a8cfa7137e480b71055eae11820fb3845">recall_target</a>);</div><div class="line"><a name="l02547"></a><span class="lineno"> 2547</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d4/d56/bridge_8h.html#a582e1dd73a483ac881cff01fa07f39ae">ast_bridge_impart</a>(props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a7c148ea37d33eb1640a17177c700be43">transferee_bridge</a>, props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a8cfa7137e480b71055eae11820fb3845">recall_target</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div><div class="line"><a name="l02548"></a><span class="lineno"> 2548</span>&#160;         <a class="code" href="../../d4/d56/bridge_8h.html#ac086b7d74fb40c2ede8514274585b101aecfd8e6279a21b20ee4db0ab69c847e8">AST_BRIDGE_IMPART_CHAN_INDEPENDENT</a>)) {</div><div class="line"><a name="l02549"></a><span class="lineno"> 2549</span>&#160;         <a class="code" href="../../d5/d7b/channel_8h.html#a29557c4823f5e9c02519a01daf6a289c">ast_hangup</a>(props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a8cfa7137e480b71055eae11820fb3845">recall_target</a>);</div><div class="line"><a name="l02550"></a><span class="lineno"> 2550</span>&#160;         <a class="code" href="../../d5/d7b/channel_8h.html#ab733a7825810b895a89b629e0ea89380">ast_channel_unref</a>(props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a8cfa7137e480b71055eae11820fb3845">recall_target</a>);</div><div class="line"><a name="l02551"></a><span class="lineno"> 2551</span>&#160;         <span class="keywordflow">return</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8a8383b06b8e11a417dca5329407478ee8">TRANSFER_FAIL</a>;</div><div class="line"><a name="l02552"></a><span class="lineno"> 2552</span>&#160;      }</div><div class="line"><a name="l02553"></a><span class="lineno"> 2553</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8ac19143ec75880c93f0c2483599b28343">TRANSFER_RESUME</a>;</div><div class="line"><a name="l02554"></a><span class="lineno"> 2554</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290ae3857d51b5e8970ac1e3714bc1d46fe1">STIMULUS_NONE</a>:</div><div class="line"><a name="l02555"></a><span class="lineno"> 2555</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a72d10e2721ad55addb0b84175f5280d0">STIMULUS_DTMF_ATXFER_ABORT</a>:</div><div class="line"><a name="l02556"></a><span class="lineno"> 2556</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a9b6689669975b3d4767ca6284d721775">STIMULUS_DTMF_ATXFER_COMPLETE</a>:</div><div class="line"><a name="l02557"></a><span class="lineno"> 2557</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a6f6c487fc2723093806c52b62c7ae80a">STIMULUS_DTMF_ATXFER_THREEWAY</a>:</div><div class="line"><a name="l02558"></a><span class="lineno"> 2558</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290ac4c70db40c8740dc43a331ab483f3c1c">STIMULUS_DTMF_ATXFER_SWAP</a>:</div><div class="line"><a name="l02559"></a><span class="lineno"> 2559</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a5b7c4fdcec2b5bea9e9be459dc924492">STIMULUS_TRANSFER_TARGET_HANGUP</a>:</div><div class="line"><a name="l02560"></a><span class="lineno"> 2560</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a7615240e3b359bd98d9949ff77e102c2">STIMULUS_TRANSFER_TARGET_ANSWER</a>:</div><div class="line"><a name="l02561"></a><span class="lineno"> 2561</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a800bb00b2e8ab7a8f11092b3bb2fba11">STIMULUS_TRANSFERER_HANGUP</a>:</div><div class="line"><a name="l02562"></a><span class="lineno"> 2562</span>&#160;   <span class="keywordflow">default</span>:</div><div class="line"><a name="l02563"></a><span class="lineno"> 2563</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Unexpected stimulus &#39;%s&#39; received in attended transfer state &#39;%s&#39;\n&quot;</span>,</div><div class="line"><a name="l02564"></a><span class="lineno"> 2564</span>&#160;            <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a6c44b02ff21d30611e99f11620684e42">stimulus_strs</a>[stimulus], <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a53b49a058262e14d4371a6c30024ea7c">state_properties</a>[props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a3442cf1d72950ce9d62ea7006f6ce78c">state</a>].<a class="code" href="../../da/dab/structattended__transfer__state__properties.html#ab00617be22fdc8c996d36e4082f2410a">state_name</a>);</div><div class="line"><a name="l02565"></a><span class="lineno"> 2565</span>&#160;      <span class="keywordflow">return</span> props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a3442cf1d72950ce9d62ea7006f6ce78c">state</a>;</div><div class="line"><a name="l02566"></a><span class="lineno"> 2566</span>&#160;   }</div><div class="line"><a name="l02567"></a><span class="lineno"> 2567</span>&#160;}</div><div class="ttc" id="dial_8h_html_ab75c6f2fe91945cf61e7e91939618db2"><div class="ttname"><a href="../../df/dcf/dial_8h.html#ab75c6f2fe91945cf61e7e91939618db2">ast_dial_destroy</a></div><div class="ttdeci">int ast_dial_destroy(struct ast_dial *dial)</div><div class="ttdoc">Destroys a dialing structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d43/dial_8c_source.html#l01091">dial.c:1091</a></div></div>
<div class="ttc" id="structattended__transfer__properties_html_a49075b9a7289632b9b37097a46f132e1"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html#a49075b9a7289632b9b37097a46f132e1">attended_transfer_properties::atxfercallbackretries</a></div><div class="ttdeci">int atxfercallbackretries</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01336">bridge_basic.c:1336</a></div></div>
<div class="ttc" id="channel_8h_html_ab733a7825810b895a89b629e0ea89380"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#ab733a7825810b895a89b629e0ea89380">ast_channel_unref</a></div><div class="ttdeci">#define ast_channel_unref(c)</div><div class="ttdoc">Decrease channel reference count. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02981">channel.h:2981</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_aad3447b0c2c1b069ac9437816db513d8ac19143ec75880c93f0c2483599b28343"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8ac19143ec75880c93f0c2483599b28343">TRANSFER_RESUME</a></div><div class="ttdoc">Resume state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00903">bridge_basic.c:903</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a53b49a058262e14d4371a6c30024ea7c"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a53b49a058262e14d4371a6c30024ea7c">state_properties</a></div><div class="ttdeci">static const struct attended_transfer_state_properties state_properties[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l02015">bridge_basic.c:2015</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_aad3447b0c2c1b069ac9437816db513d8a079027cbe132434fd8fd0848bced7c81"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8a079027cbe132434fd8fd0848bced7c81">TRANSFER_WAIT_TO_RETRANSFER</a></div><div class="ttdoc">Wait to Retransfer state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01140">bridge_basic.c:1140</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290a49ac501f06885c9839a8833e0639d38f"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a49ac501f06885c9839a8833e0639d38f">STIMULUS_RECALL_TARGET_ANSWER</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01250">bridge_basic.c:1250</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="structattended__transfer__properties_html_a7c148ea37d33eb1640a17177c700be43"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html#a7c148ea37d33eb1640a17177c700be43">attended_transfer_properties::transferee_bridge</a></div><div class="ttdeci">struct ast_bridge * transferee_bridge</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01309">bridge_basic.c:1309</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290a41d7bde458129adf0121c70ba361258a"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a41d7bde458129adf0121c70ba361258a">STIMULUS_RECALL_TARGET_HANGUP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01248">bridge_basic.c:1248</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_aad3447b0c2c1b069ac9437816db513d8a8383b06b8e11a417dca5329407478ee8"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8a8383b06b8e11a417dca5329407478ee8">TRANSFER_FAIL</a></div><div class="ttdoc">Fail state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01230">bridge_basic.c:1230</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290a9b6689669975b3d4767ca6284d721775"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a9b6689669975b3d4767ca6284d721775">STIMULUS_DTMF_ATXFER_COMPLETE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01256">bridge_basic.c:1256</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a6c44b02ff21d30611e99f11620684e42"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a6c44b02ff21d30611e99f11620684e42">stimulus_strs</a></div><div class="ttdeci">const char * stimulus_strs[]</div><div class="ttdoc">String representations of the various stimuli. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01268">bridge_basic.c:1268</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290a5bea635a52d3e646fe86091457310934"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a5bea635a52d3e646fe86091457310934">STIMULUS_TRANSFEREE_HANGUP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01240">bridge_basic.c:1240</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290a800bb00b2e8ab7a8f11092b3bb2fba11"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a800bb00b2e8ab7a8f11092b3bb2fba11">STIMULUS_TRANSFERER_HANGUP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01242">bridge_basic.c:1242</a></div></div>
<div class="ttc" id="structattended__transfer__properties_html_a8cfa7137e480b71055eae11820fb3845"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html#a8cfa7137e480b71055eae11820fb3845">attended_transfer_properties::recall_target</a></div><div class="ttdeci">struct ast_channel * recall_target</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01325">bridge_basic.c:1325</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="bridge_8h_html_a582e1dd73a483ac881cff01fa07f39ae"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a582e1dd73a483ac881cff01fa07f39ae">ast_bridge_impart</a></div><div class="ttdeci">int ast_bridge_impart(struct ast_bridge *bridge, struct ast_channel *chan, struct ast_channel *swap, struct ast_bridge_features *features, enum ast_bridge_impart_flags flags) attribute_warn_unused_result</div><div class="ttdoc">Impart a channel to a bridge (non-blocking) </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l01924">bridge.c:1924</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_aad3447b0c2c1b069ac9437816db513d8a61cf446eec4f2188e90d11eec6fd2396"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8a61cf446eec4f2188e90d11eec6fd2396">TRANSFER_RETRANSFER</a></div><div class="ttdoc">Retransfer state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01171">bridge_basic.c:1171</a></div></div>
<div class="ttc" id="dial_8h_html_a726346c9cfd11a81839e0eb580b66059"><div class="ttname"><a href="../../df/dcf/dial_8h.html#a726346c9cfd11a81839e0eb580b66059">ast_dial_join</a></div><div class="ttdeci">enum ast_dial_result ast_dial_join(struct ast_dial *dial)</div><div class="ttdoc">Cancel async thread. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d43/dial_8c_source.html#l01021">dial.c:1021</a></div></div>
<div class="ttc" id="structattended__transfer__properties_html_a3442cf1d72950ce9d62ea7006f6ce78c"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html#a3442cf1d72950ce9d62ea7006f6ce78c">attended_transfer_properties::state</a></div><div class="ttdeci">enum attended_transfer_state state</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01330">bridge_basic.c:1330</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290a72d10e2721ad55addb0b84175f5280d0"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a72d10e2721ad55addb0b84175f5280d0">STIMULUS_DTMF_ATXFER_ABORT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01254">bridge_basic.c:1254</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_ab20a6f49985f34f55c05e2125c9e9d6a"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#ab20a6f49985f34f55c05e2125c9e9d6a">ast_bridge_features_ds_set</a></div><div class="ttdeci">int ast_bridge_features_ds_set(struct ast_channel *chan, struct ast_flags *flags)</div><div class="ttdoc">Set basic bridge DTMF feature flags datastore on the channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00258">bridge_basic.c:258</a></div></div>
<div class="ttc" id="structattended__transfer__properties_html_a4bc55c41a64defa80a9448de4def2f43"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html#a4bc55c41a64defa80a9448de4def2f43">attended_transfer_properties::atxferloopdelay</a></div><div class="ttdeci">int atxferloopdelay</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01338">bridge_basic.c:1338</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="structattended__transfer__properties_html_ab79bd9389fc85935229a270dcb0d2f5a"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html#ab79bd9389fc85935229a270dcb0d2f5a">attended_transfer_properties::transferer_features</a></div><div class="ttdeci">struct ast_flags transferer_features</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01348">bridge_basic.c:1348</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290a5b7c4fdcec2b5bea9e9be459dc924492"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a5b7c4fdcec2b5bea9e9be459dc924492">STIMULUS_TRANSFER_TARGET_HANGUP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01244">bridge_basic.c:1244</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290ae3857d51b5e8970ac1e3714bc1d46fe1"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290ae3857d51b5e8970ac1e3714bc1d46fe1">STIMULUS_NONE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01238">bridge_basic.c:1238</a></div></div>
<div class="ttc" id="bridge_8h_html_ac086b7d74fb40c2ede8514274585b101aecfd8e6279a21b20ee4db0ab69c847e8"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#ac086b7d74fb40c2ede8514274585b101aecfd8e6279a21b20ee4db0ab69c847e8">AST_BRIDGE_IMPART_CHAN_INDEPENDENT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00604">bridge.h:604</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290a6f6c487fc2723093806c52b62c7ae80a"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a6f6c487fc2723093806c52b62c7ae80a">STIMULUS_DTMF_ATXFER_THREEWAY</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01258">bridge_basic.c:1258</a></div></div>
<div class="ttc" id="channel_8h_html_a29557c4823f5e9c02519a01daf6a289c"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a29557c4823f5e9c02519a01daf6a289c">ast_hangup</a></div><div class="ttdeci">void ast_hangup(struct ast_channel *chan)</div><div class="ttdoc">Hang up a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l02548">channel.c:2548</a></div></div>
<div class="ttc" id="structattended__transfer__properties_html_aed87c64ff9f68f2e56584990739cce0c"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html#aed87c64ff9f68f2e56584990739cce0c">attended_transfer_properties::retry_attempts</a></div><div class="ttdeci">int retry_attempts</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01342">bridge_basic.c:1342</a></div></div>
<div class="ttc" id="channel_8h_html_a6801c703e767d6f760c54c8b86a30024"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a6801c703e767d6f760c54c8b86a30024">ast_channel_ref</a></div><div class="ttdeci">#define ast_channel_ref(c)</div><div class="ttdoc">Increase channel reference count. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02970">channel.h:2970</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290ad811a249bfc0c9c585652f461b127180"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290ad811a249bfc0c9c585652f461b127180">STIMULUS_TIMEOUT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01252">bridge_basic.c:1252</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290a7615240e3b359bd98d9949ff77e102c2"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a7615240e3b359bd98d9949ff77e102c2">STIMULUS_TRANSFER_TARGET_ANSWER</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01246">bridge_basic.c:1246</a></div></div>
<div class="ttc" id="structattended__transfer__properties_html_a56990e06ce7fc176509a38f9d1258476"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html#a56990e06ce7fc176509a38f9d1258476">attended_transfer_properties::dial</a></div><div class="ttdeci">struct ast_dial * dial</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01346">bridge_basic.c:1346</a></div></div>
<div class="ttc" id="structattended__transfer__state__properties_html_ab00617be22fdc8c996d36e4082f2410a"><div class="ttname"><a href="../../da/dab/structattended__transfer__state__properties.html#ab00617be22fdc8c996d36e4082f2410a">attended_transfer_state_properties::state_name</a></div><div class="ttdeci">const char * state_name</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l02000">bridge_basic.c:2000</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290ac4c70db40c8740dc43a331ab483f3c1c"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290ac4c70db40c8740dc43a331ab483f3c1c">STIMULUS_DTMF_ATXFER_SWAP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01260">bridge_basic.c:1260</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="abf0cc768006b32570ca2921f83e42410"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf0cc768006b32570ca2921f83e42410">&#9670;&nbsp;</a></span>remove_attended_transfer_stimulus()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void remove_attended_transfer_stimulus </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dd/d9e/structattended__transfer__properties.html">attended_transfer_properties</a> *&#160;</td>
          <td class="paramname"><em>props</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290">attended_transfer_stimulus</a>&#160;</td>
          <td class="paramname"><em>stimulus</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01550">1550</a> of file <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html">bridge_basic.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00718">ao2_lock</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00730">ao2_unlock</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00556">AST_LIST_REMOVE_CURRENT</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00528">AST_LIST_TRAVERSE_SAFE_BEGIN</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00614">AST_LIST_TRAVERSE_SAFE_END</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01285">stimulus_list::next</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01284">stimulus_list::stimulus</a>, and <a class="el" href="../../dd/d9e/structattended__transfer__properties.html#aeebf9c950dc8f5b06d18da553326d0c9">attended_transfer_properties::stimulus_queue</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02349">blond_nonfinal_exit()</a>.</p>
<div class="fragment"><div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;{</div><div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d7c/structstimulus__list.html">stimulus_list</a> *list;</div><div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;</div><div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aa9fdb5d0a6157a56060d9f7279fe6c49">ao2_lock</a>(props);</div><div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#aa5be52067bf16bdc7e56ca19b5ba858d">AST_LIST_TRAVERSE_SAFE_BEGIN</a>(&amp;props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#aeebf9c950dc8f5b06d18da553326d0c9">stimulus_queue</a>, list, <a class="code" href="../../d0/d7c/structstimulus__list.html#ae96e83508764c11bfe48a05e2e679af6">next</a>) {</div><div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;      <span class="keywordflow">if</span> (list-&gt;<a class="code" href="../../d0/d7c/structstimulus__list.html#a2a66314a9b56796b01e9c1fa8db21b8a">stimulus</a> == <a class="code" href="../../d0/d7c/structstimulus__list.html#a2a66314a9b56796b01e9c1fa8db21b8a">stimulus</a>) {</div><div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;         <a class="code" href="../../df/d90/linkedlists_8h.html#aa8ac496fa9c717d5afb99a02e1e2760c">AST_LIST_REMOVE_CURRENT</a>(<a class="code" href="../../d0/d7c/structstimulus__list.html#ae96e83508764c11bfe48a05e2e679af6">next</a>);</div><div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;         <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(list);</div><div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;      }</div><div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;   }</div><div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a712c04b4493919a7052399cd30ee8fb9">AST_LIST_TRAVERSE_SAFE_END</a>;</div><div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a>(props);</div><div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;}</div><div class="ttc" id="structattended__transfer__properties_html_aeebf9c950dc8f5b06d18da553326d0c9"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html#aeebf9c950dc8f5b06d18da553326d0c9">attended_transfer_properties::stimulus_queue</a></div><div class="ttdeci">struct attended_transfer_properties::@353 stimulus_queue</div></div>
<div class="ttc" id="astobj2_8h_html_a9998bd156b936636a8780385e9a910b2"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a></div><div class="ttdeci">#define ao2_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00730">astobj2.h:730</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a712c04b4493919a7052399cd30ee8fb9"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a712c04b4493919a7052399cd30ee8fb9">AST_LIST_TRAVERSE_SAFE_END</a></div><div class="ttdeci">#define AST_LIST_TRAVERSE_SAFE_END</div><div class="ttdoc">Closes a safe loop traversal block. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00614">linkedlists.h:614</a></div></div>
<div class="ttc" id="structstimulus__list_html_ae96e83508764c11bfe48a05e2e679af6"><div class="ttname"><a href="../../d0/d7c/structstimulus__list.html#ae96e83508764c11bfe48a05e2e679af6">stimulus_list::next</a></div><div class="ttdeci">struct stimulus_list * next</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01285">bridge_basic.c:1285</a></div></div>
<div class="ttc" id="linkedlists_8h_html_aa8ac496fa9c717d5afb99a02e1e2760c"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#aa8ac496fa9c717d5afb99a02e1e2760c">AST_LIST_REMOVE_CURRENT</a></div><div class="ttdeci">#define AST_LIST_REMOVE_CURRENT(field)</div><div class="ttdoc">Removes the current entry from a list during a traversal. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00556">linkedlists.h:556</a></div></div>
<div class="ttc" id="astobj2_8h_html_aa9fdb5d0a6157a56060d9f7279fe6c49"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aa9fdb5d0a6157a56060d9f7279fe6c49">ao2_lock</a></div><div class="ttdeci">#define ao2_lock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00718">astobj2.h:718</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="structstimulus__list_html_a2a66314a9b56796b01e9c1fa8db21b8a"><div class="ttname"><a href="../../d0/d7c/structstimulus__list.html#a2a66314a9b56796b01e9c1fa8db21b8a">stimulus_list::stimulus</a></div><div class="ttdeci">enum attended_transfer_stimulus stimulus</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01284">bridge_basic.c:1284</a></div></div>
<div class="ttc" id="linkedlists_8h_html_aa5be52067bf16bdc7e56ca19b5ba858d"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#aa5be52067bf16bdc7e56ca19b5ba858d">AST_LIST_TRAVERSE_SAFE_BEGIN</a></div><div class="ttdeci">#define AST_LIST_TRAVERSE_SAFE_BEGIN(head, var, field)</div><div class="ttdoc">Loops safely over (traverses) the entries in a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00528">linkedlists.h:528</a></div></div>
<div class="ttc" id="structstimulus__list_html"><div class="ttname"><a href="../../d0/d7c/structstimulus__list.html">stimulus_list</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01283">bridge_basic.c:1283</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a7f6041b31ddc067d44abf2a55453caae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f6041b31ddc067d44abf2a55453caae">&#9670;&nbsp;</a></span>remove_hooks_on_personality_change()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void remove_hooks_on_personality_change </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *&#160;</td>
          <td class="paramname"><em>bridge</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Remove appropriate hooks when basic bridge personality changes. </p>
<p>Hooks that have the AST_BRIDGE_HOOK_REMOVE_ON_PERSONALITY_CHANGE flag set will be removed from all bridge channels in the bridge.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bridge</td><td>Basic bridge undergoing personality change </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00720">720</a> of file <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html">bridge_basic.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/d41/bridge__channel_8h_source.html#l00231">ast_bridge_channel_lock</a>, <a class="el" href="../../de/d41/bridge__channel_8h_source.html#l00244">ast_bridge_channel_unlock</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l03568">ast_bridge_features_remove()</a>, <a class="el" href="../../dc/d7a/bridge__features_8h_source.html#l00185">AST_BRIDGE_HOOK_REMOVE_ON_PERSONALITY_CHANGE</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00490">AST_LIST_TRAVERSE</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00371">ast_bridge::channels</a>, <a class="el" href="../../de/d41/bridge__channel_8h_source.html#l00132">ast_bridge_channel::features</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l01091">lock</a>, and <a class="el" href="../../dd/d42/lock_8h_source.html#l00581">SCOPED_LOCK</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l03530">bridge_basic_change_personality()</a>.</p>
<div class="fragment"><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;{</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *iter;</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(&amp;bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a77542a877d8ed62331c5b3b6aa3e87a7">channels</a>, iter, <a class="code" href="../../d3/d96/structentry.html">entry</a>) {</div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a8b9d9f2f2c41ecf3c70587c2510dddfc">SCOPED_LOCK</a>(<a class="code" href="../../df/d44/app__meetme_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>, iter, <a class="code" href="../../de/d41/bridge__channel_8h.html#aa467e25606c2a21df25c61f139007782">ast_bridge_channel_lock</a>, <a class="code" href="../../de/d41/bridge__channel_8h.html#a483cd10a0ddcca5814298bdb4f153878">ast_bridge_channel_unlock</a>);</div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;      <a class="code" href="../../d4/d56/bridge_8h.html#a0a9bbd9a809f8f52c2945df40ac89abb">ast_bridge_features_remove</a>(iter-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a65633fdc6178dc8d9f754fda0166d16e">features</a>, <a class="code" href="../../dc/d7a/bridge__features_8h.html#a41510c1f43cb3401f5c7c88d9c9a8d11ac153fba92bea66516462b2958d2fcdce">AST_BRIDGE_HOOK_REMOVE_ON_PERSONALITY_CHANGE</a>);</div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;   }</div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;}</div><div class="ttc" id="structast__bridge__channel_html_a65633fdc6178dc8d9f754fda0166d16e"><div class="ttname"><a href="../../d5/dca/structast__bridge__channel.html#a65633fdc6178dc8d9f754fda0166d16e">ast_bridge_channel::features</a></div><div class="ttdeci">struct ast_bridge_features * features</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00132">bridge_channel.h:132</a></div></div>
<div class="ttc" id="bridge__features_8h_html_a41510c1f43cb3401f5c7c88d9c9a8d11ac153fba92bea66516462b2958d2fcdce"><div class="ttname"><a href="../../dc/d7a/bridge__features_8h.html#a41510c1f43cb3401f5c7c88d9c9a8d11ac153fba92bea66516462b2958d2fcdce">AST_BRIDGE_HOOK_REMOVE_ON_PERSONALITY_CHANGE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00185">bridge_features.h:185</a></div></div>
<div class="ttc" id="bridge__channel_8h_html_aa467e25606c2a21df25c61f139007782"><div class="ttname"><a href="../../de/d41/bridge__channel_8h.html#aa467e25606c2a21df25c61f139007782">ast_bridge_channel_lock</a></div><div class="ttdeci">#define ast_bridge_channel_lock(bridge_channel)</div><div class="ttdoc">Lock the bridge_channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00231">bridge_channel.h:231</a></div></div>
<div class="ttc" id="app__meetme_8c_html_adf04f66344e3fb0a6f6a69bf39d19902"><div class="ttname"><a href="../../df/d44/app__meetme_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a></div><div class="ttdeci">ast_mutex_t lock</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d44/app__meetme_8c_source.html#l01091">app_meetme.c:1091</a></div></div>
<div class="ttc" id="lock_8h_html_a8b9d9f2f2c41ecf3c70587c2510dddfc"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a8b9d9f2f2c41ecf3c70587c2510dddfc">SCOPED_LOCK</a></div><div class="ttdeci">#define SCOPED_LOCK(varname, lock, lockfunc, unlockfunc)</div><div class="ttdoc">Scoped Locks. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00581">lock.h:581</a></div></div>
<div class="ttc" id="bridge__channel_8h_html_a483cd10a0ddcca5814298bdb4f153878"><div class="ttname"><a href="../../de/d41/bridge__channel_8h.html#a483cd10a0ddcca5814298bdb4f153878">ast_bridge_channel_unlock</a></div><div class="ttdeci">#define ast_bridge_channel_unlock(bridge_channel)</div><div class="ttdoc">Unlock the bridge_channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00244">bridge_channel.h:244</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a3008b2f4f236b72d8bcfb80e346324ef"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a></div><div class="ttdeci">#define AST_LIST_TRAVERSE(head, var, field)</div><div class="ttdoc">Loops over (traverses) the entries in a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00490">linkedlists.h:490</a></div></div>
<div class="ttc" id="bridge_8h_html_a0a9bbd9a809f8f52c2945df40ac89abb"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a0a9bbd9a809f8f52c2945df40ac89abb">ast_bridge_features_remove</a></div><div class="ttdeci">void ast_bridge_features_remove(struct ast_bridge_features *features, enum ast_bridge_hook_remove_flags flags)</div><div class="ttdoc">Remove marked bridge channel feature hooks. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l03568">bridge.c:3568</a></div></div>
<div class="ttc" id="structast__bridge_html_a77542a877d8ed62331c5b3b6aa3e87a7"><div class="ttname"><a href="../../d4/d84/structast__bridge.html#a77542a877d8ed62331c5b3b6aa3e87a7">ast_bridge::channels</a></div><div class="ttdeci">struct ast_bridge_channels_list channels</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00371">bridge.h:371</a></div></div>
<div class="ttc" id="structast__bridge__channel_html"><div class="ttname"><a href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a></div><div class="ttdoc">Structure that contains information regarding a channel in a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00084">bridge_channel.h:84</a></div></div>
<div class="ttc" id="structentry_html"><div class="ttname"><a href="../../d3/d96/structentry.html">entry</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d85/search_8h_source.html#l00040">search.h:40</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2df154be351240ee8f3f57224082f84e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2df154be351240ee8f3f57224082f84e">&#9670;&nbsp;</a></span>resume_enter()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int resume_enter </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dd/d9e/structattended__transfer__properties.html">attended_transfer_properties</a> *&#160;</td>
          <td class="paramname"><em>props</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02187">2187</a> of file <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html">bridge_basic.c</a>.</p>
<div class="fragment"><div class="line"><a name="l02188"></a><span class="lineno"> 2188</span>&#160;{</div><div class="line"><a name="l02189"></a><span class="lineno"> 2189</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02190"></a><span class="lineno"> 2190</span>&#160;}</div></div><!-- fragment -->
</div>
</div>
<a id="a10e0973c2dd5c46d84e22cf506e79dc1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a10e0973c2dd5c46d84e22cf506e79dc1">&#9670;&nbsp;</a></span>retransfer_enter()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int retransfer_enter </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dd/d9e/structattended__transfer__properties.html">attended_transfer_properties</a> *&#160;</td>
          <td class="paramname"><em>props</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02603">2603</a> of file <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html">bridge_basic.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l01924">ast_bridge_impart()</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00604">AST_BRIDGE_IMPART_CHAN_INDEPENDENT</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l06553">ast_call()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00892">ast_channel_connected()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02952">ast_channel_lock_both</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02970">ast_channel_ref</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02981">ast_channel_unref</a>, <a class="el" href="../../d0/d3c/format__cap_8h_source.html#l00052">ast_format_cap_alloc</a>, <a class="el" href="../../d0/d3c/format__cap_8h_source.html#l00103">ast_format_cap_append</a>, <a class="el" href="../../d0/d3c/format__cap_8h_source.html#l00038">AST_FORMAT_CAP_FLAG_DEFAULT</a>, <a class="el" href="../../d9/d29/format__cache_8c_source.html#l00041">ast_format_slin</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l02548">ast_hangup()</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l00136">AST_MAX_CONTEXT</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l00135">AST_MAX_EXTENSION</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l02031">ast_party_connected_line_copy()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l01896">ast_party_id_reset()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l06444">ast_request()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l03098">attach_framehook()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02433">common_recall_channel_setup()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01303">attended_transfer_properties::context</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01303">attended_transfer_properties::exten</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01350">attended_transfer_properties::original_transferer_colp</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l00469">ast_party_connected_line::priv</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00911">RAII_VAR</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01325">attended_transfer_properties::recall_target</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01309">attended_transfer_properties::transferee_bridge</a>, and <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01315">attended_transfer_properties::transferer</a>.</p>
<div class="fragment"><div class="line"><a name="l02604"></a><span class="lineno"> 2604</span>&#160;{</div><div class="line"><a name="l02605"></a><span class="lineno"> 2605</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d8/d69/structast__format__cap.html">ast_format_cap</a> *, cap, <a class="code" href="../../d0/d3c/format__cap_8h.html#aeb38ee3bdc8594745a707c0927146fdb">ast_format_cap_alloc</a>(<a class="code" href="../../d0/d3c/format__cap_8h.html#a51f3293ae7b01a8353bf4aa1204abba5ad111d20686641a6f0fc5efd33c82e97a">AST_FORMAT_CAP_FLAG_DEFAULT</a>), <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l02606"></a><span class="lineno"> 2606</span>&#160;   <span class="keywordtype">char</span> destination[<a class="code" href="../../d5/d7b/channel_8h.html#af4e59494f74ad9e0c50170d9e276ad31">AST_MAX_EXTENSION</a> + <a class="code" href="../../d5/d7b/channel_8h.html#abcf1aea85b924e9cd605040b86241e2a">AST_MAX_CONTEXT</a> + 2];</div><div class="line"><a name="l02607"></a><span class="lineno"> 2607</span>&#160;   <span class="keywordtype">int</span> cause;</div><div class="line"><a name="l02608"></a><span class="lineno"> 2608</span>&#160;</div><div class="line"><a name="l02609"></a><span class="lineno"> 2609</span>&#160;   <span class="keywordflow">if</span> (!cap) {</div><div class="line"><a name="l02610"></a><span class="lineno"> 2610</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l02611"></a><span class="lineno"> 2611</span>&#160;   }</div><div class="line"><a name="l02612"></a><span class="lineno"> 2612</span>&#160;</div><div class="line"><a name="l02613"></a><span class="lineno"> 2613</span>&#160;   snprintf(destination, <span class="keyword">sizeof</span>(destination), <span class="stringliteral">&quot;%s@%s&quot;</span>, props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#aaee31f4cc48985167efcd38ab252dac8">exten</a>, props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a7faec841658b88ad0cfbc684853acad3">context</a>);</div><div class="line"><a name="l02614"></a><span class="lineno"> 2614</span>&#160;</div><div class="line"><a name="l02615"></a><span class="lineno"> 2615</span>&#160;   <a class="code" href="../../d0/d3c/format__cap_8h.html#ab4d69f2179ed5ca138c9b3d85334217f">ast_format_cap_append</a>(cap, <a class="code" href="../../db/d1c/format__cache_8h.html#a771d7c34570e8e492c25a0c2eb41889d">ast_format_slin</a>, 0);</div><div class="line"><a name="l02616"></a><span class="lineno"> 2616</span>&#160;</div><div class="line"><a name="l02617"></a><span class="lineno"> 2617</span>&#160;   <span class="comment">/* Get a channel that is the destination we wish to call */</span></div><div class="line"><a name="l02618"></a><span class="lineno"> 2618</span>&#160;   props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a8cfa7137e480b71055eae11820fb3845">recall_target</a> = <a class="code" href="../../d5/d7b/channel_8h.html#a39fc055500e09810d0afd0bff87407c5">ast_request</a>(<span class="stringliteral">&quot;Local&quot;</span>, cap, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, destination, &amp;cause);</div><div class="line"><a name="l02619"></a><span class="lineno"> 2619</span>&#160;   <span class="keywordflow">if</span> (!props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a8cfa7137e480b71055eae11820fb3845">recall_target</a>) {</div><div class="line"><a name="l02620"></a><span class="lineno"> 2620</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Unable to request outbound channel for recall target\n&quot;</span>);</div><div class="line"><a name="l02621"></a><span class="lineno"> 2621</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l02622"></a><span class="lineno"> 2622</span>&#160;   }</div><div class="line"><a name="l02623"></a><span class="lineno"> 2623</span>&#160;</div><div class="line"><a name="l02624"></a><span class="lineno"> 2624</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d7/d9b/bridge__basic_8c.html#af634e5717dd1ebf26f9cad76c43a9a96">attach_framehook</a>(props, props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a8cfa7137e480b71055eae11820fb3845">recall_target</a>)) {</div><div class="line"><a name="l02625"></a><span class="lineno"> 2625</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Unable to attach framehook to recall target\n&quot;</span>);</div><div class="line"><a name="l02626"></a><span class="lineno"> 2626</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#a29557c4823f5e9c02519a01daf6a289c">ast_hangup</a>(props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a8cfa7137e480b71055eae11820fb3845">recall_target</a>);</div><div class="line"><a name="l02627"></a><span class="lineno"> 2627</span>&#160;      props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a8cfa7137e480b71055eae11820fb3845">recall_target</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l02628"></a><span class="lineno"> 2628</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l02629"></a><span class="lineno"> 2629</span>&#160;   }</div><div class="line"><a name="l02630"></a><span class="lineno"> 2630</span>&#160;</div><div class="line"><a name="l02631"></a><span class="lineno"> 2631</span>&#160;   <span class="comment">/*</span></div><div class="line"><a name="l02632"></a><span class="lineno"> 2632</span>&#160;<span class="comment">    * Setup callid, variables, datastores, accountcode, peeraccount,</span></div><div class="line"><a name="l02633"></a><span class="lineno"> 2633</span>&#160;<span class="comment">    * and COLP on the recalled transfer target.</span></div><div class="line"><a name="l02634"></a><span class="lineno"> 2634</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l02635"></a><span class="lineno"> 2635</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a695e5b4fcf983db6451b583fbd647424">ast_channel_lock_both</a>(props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a8cfa7137e480b71055eae11820fb3845">recall_target</a>, props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a43cf79e5f3675b2cdf001bceacb02e72">transferer</a>);</div><div class="line"><a name="l02636"></a><span class="lineno"> 2636</span>&#160;</div><div class="line"><a name="l02637"></a><span class="lineno"> 2637</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a5d3c15fe1dffda82e6dc03ca7b26526a">ast_party_connected_line_copy</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a10f23f1907b804485f62973f66cd9aef">ast_channel_connected</a>(props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a8cfa7137e480b71055eae11820fb3845">recall_target</a>),</div><div class="line"><a name="l02638"></a><span class="lineno"> 2638</span>&#160;      &amp;props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a59503bde2f9c839237f474a68878a01f">original_transferer_colp</a>);</div><div class="line"><a name="l02639"></a><span class="lineno"> 2639</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#ab1c04d237cea67fefadaacc3f79497fa">ast_party_id_reset</a>(&amp;<a class="code" href="../../d5/d7b/channel_8h.html#a10f23f1907b804485f62973f66cd9aef">ast_channel_connected</a>(props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a8cfa7137e480b71055eae11820fb3845">recall_target</a>)-&gt;<a class="code" href="../../dc/d9e/structast__party__connected__line.html#a7f68ab7a4fa155c8db1cda1565864c58">priv</a>);</div><div class="line"><a name="l02640"></a><span class="lineno"> 2640</span>&#160;</div><div class="line"><a name="l02641"></a><span class="lineno"> 2641</span>&#160;   <a class="code" href="../../d7/d9b/bridge__basic_8c.html#ad283c0c18011fa7f3d8d8a02f83a1183">common_recall_channel_setup</a>(props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a8cfa7137e480b71055eae11820fb3845">recall_target</a>, props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a43cf79e5f3675b2cdf001bceacb02e72">transferer</a>);</div><div class="line"><a name="l02642"></a><span class="lineno"> 2642</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a8cfa7137e480b71055eae11820fb3845">recall_target</a>);</div><div class="line"><a name="l02643"></a><span class="lineno"> 2643</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a43cf79e5f3675b2cdf001bceacb02e72">transferer</a>);</div><div class="line"><a name="l02644"></a><span class="lineno"> 2644</span>&#160;</div><div class="line"><a name="l02645"></a><span class="lineno"> 2645</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d5/d7b/channel_8h.html#a1b732eb4ed203140b1a3aae9e7dec2c1">ast_call</a>(props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a8cfa7137e480b71055eae11820fb3845">recall_target</a>, destination, 0)) {</div><div class="line"><a name="l02646"></a><span class="lineno"> 2646</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Unable to place outbound call to recall target\n&quot;</span>);</div><div class="line"><a name="l02647"></a><span class="lineno"> 2647</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#a29557c4823f5e9c02519a01daf6a289c">ast_hangup</a>(props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a8cfa7137e480b71055eae11820fb3845">recall_target</a>);</div><div class="line"><a name="l02648"></a><span class="lineno"> 2648</span>&#160;      props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a8cfa7137e480b71055eae11820fb3845">recall_target</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l02649"></a><span class="lineno"> 2649</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l02650"></a><span class="lineno"> 2650</span>&#160;   }</div><div class="line"><a name="l02651"></a><span class="lineno"> 2651</span>&#160;</div><div class="line"><a name="l02652"></a><span class="lineno"> 2652</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a6801c703e767d6f760c54c8b86a30024">ast_channel_ref</a>(props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a8cfa7137e480b71055eae11820fb3845">recall_target</a>);</div><div class="line"><a name="l02653"></a><span class="lineno"> 2653</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d4/d56/bridge_8h.html#a582e1dd73a483ac881cff01fa07f39ae">ast_bridge_impart</a>(props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a7c148ea37d33eb1640a17177c700be43">transferee_bridge</a>, props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a8cfa7137e480b71055eae11820fb3845">recall_target</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div><div class="line"><a name="l02654"></a><span class="lineno"> 2654</span>&#160;      <a class="code" href="../../d4/d56/bridge_8h.html#ac086b7d74fb40c2ede8514274585b101aecfd8e6279a21b20ee4db0ab69c847e8">AST_BRIDGE_IMPART_CHAN_INDEPENDENT</a>)) {</div><div class="line"><a name="l02655"></a><span class="lineno"> 2655</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Unable to place recall target into bridge\n&quot;</span>);</div><div class="line"><a name="l02656"></a><span class="lineno"> 2656</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#a29557c4823f5e9c02519a01daf6a289c">ast_hangup</a>(props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a8cfa7137e480b71055eae11820fb3845">recall_target</a>);</div><div class="line"><a name="l02657"></a><span class="lineno"> 2657</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#ab733a7825810b895a89b629e0ea89380">ast_channel_unref</a>(props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a8cfa7137e480b71055eae11820fb3845">recall_target</a>);</div><div class="line"><a name="l02658"></a><span class="lineno"> 2658</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l02659"></a><span class="lineno"> 2659</span>&#160;   }</div><div class="line"><a name="l02660"></a><span class="lineno"> 2660</span>&#160;</div><div class="line"><a name="l02661"></a><span class="lineno"> 2661</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02662"></a><span class="lineno"> 2662</span>&#160;}</div><div class="ttc" id="channel_8h_html_ab1c04d237cea67fefadaacc3f79497fa"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#ab1c04d237cea67fefadaacc3f79497fa">ast_party_id_reset</a></div><div class="ttdeci">void ast_party_id_reset(struct ast_party_id *id)</div><div class="ttdoc">Destroy and initialize the given party id structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l01896">channel.c:1896</a></div></div>
<div class="ttc" id="channel_8h_html_ab733a7825810b895a89b629e0ea89380"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#ab733a7825810b895a89b629e0ea89380">ast_channel_unref</a></div><div class="ttdeci">#define ast_channel_unref(c)</div><div class="ttdoc">Decrease channel reference count. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02981">channel.h:2981</a></div></div>
<div class="ttc" id="structattended__transfer__properties_html_a7c148ea37d33eb1640a17177c700be43"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html#a7c148ea37d33eb1640a17177c700be43">attended_transfer_properties::transferee_bridge</a></div><div class="ttdeci">struct ast_bridge * transferee_bridge</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01309">bridge_basic.c:1309</a></div></div>
<div class="ttc" id="channel_8h_html_a1b732eb4ed203140b1a3aae9e7dec2c1"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a1b732eb4ed203140b1a3aae9e7dec2c1">ast_call</a></div><div class="ttdeci">int ast_call(struct ast_channel *chan, const char *addr, int timeout)</div><div class="ttdoc">Make a call. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l06553">channel.c:6553</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_af634e5717dd1ebf26f9cad76c43a9a96"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#af634e5717dd1ebf26f9cad76c43a9a96">attach_framehook</a></div><div class="ttdeci">static int attach_framehook(struct attended_transfer_properties *props, struct ast_channel *channel)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l03098">bridge_basic.c:3098</a></div></div>
<div class="ttc" id="structattended__transfer__properties_html_aaee31f4cc48985167efcd38ab252dac8"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html#aaee31f4cc48985167efcd38ab252dac8">attended_transfer_properties::exten</a></div><div class="ttdeci">const ast_string_field exten</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01303">bridge_basic.c:1303</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structattended__transfer__properties_html_a8cfa7137e480b71055eae11820fb3845"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html#a8cfa7137e480b71055eae11820fb3845">attended_transfer_properties::recall_target</a></div><div class="ttdeci">struct ast_channel * recall_target</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01325">bridge_basic.c:1325</a></div></div>
<div class="ttc" id="channel_8h_html_a39fc055500e09810d0afd0bff87407c5"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a39fc055500e09810d0afd0bff87407c5">ast_request</a></div><div class="ttdeci">struct ast_channel * ast_request(const char *type, struct ast_format_cap *request_cap, const struct ast_assigned_ids *assignedids, const struct ast_channel *requestor, const char *addr, int *cause)</div><div class="ttdoc">Requests a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l06444">channel.c:6444</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="bridge_8h_html_a582e1dd73a483ac881cff01fa07f39ae"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a582e1dd73a483ac881cff01fa07f39ae">ast_bridge_impart</a></div><div class="ttdeci">int ast_bridge_impart(struct ast_bridge *bridge, struct ast_channel *chan, struct ast_channel *swap, struct ast_bridge_features *features, enum ast_bridge_impart_flags flags) attribute_warn_unused_result</div><div class="ttdoc">Impart a channel to a bridge (non-blocking) </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l01924">bridge.c:1924</a></div></div>
<div class="ttc" id="utils_8h_html_a1604b4d72144dd3d9f7da668e90337e9"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a></div><div class="ttdeci">#define RAII_VAR(vartype, varname, initval, dtor)</div><div class="ttdoc">Declare a variable that will call a destructor function when it goes out of scope. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00911">utils.h:911</a></div></div>
<div class="ttc" id="channel_8h_html_a10f23f1907b804485f62973f66cd9aef"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a10f23f1907b804485f62973f66cd9aef">ast_channel_connected</a></div><div class="ttdeci">struct ast_party_connected_line * ast_channel_connected(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00892">channel_internal_api.c:892</a></div></div>
<div class="ttc" id="channel_8h_html_af4e59494f74ad9e0c50170d9e276ad31"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af4e59494f74ad9e0c50170d9e276ad31">AST_MAX_EXTENSION</a></div><div class="ttdeci">#define AST_MAX_EXTENSION</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l00135">channel.h:135</a></div></div>
<div class="ttc" id="format__cap_8h_html_ab4d69f2179ed5ca138c9b3d85334217f"><div class="ttname"><a href="../../d0/d3c/format__cap_8h.html#ab4d69f2179ed5ca138c9b3d85334217f">ast_format_cap_append</a></div><div class="ttdeci">#define ast_format_cap_append(cap, format, framing)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d3c/format__cap_8h_source.html#l00103">format_cap.h:103</a></div></div>
<div class="ttc" id="format__cap_8h_html_aeb38ee3bdc8594745a707c0927146fdb"><div class="ttname"><a href="../../d0/d3c/format__cap_8h.html#aeb38ee3bdc8594745a707c0927146fdb">ast_format_cap_alloc</a></div><div class="ttdeci">#define ast_format_cap_alloc(flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d3c/format__cap_8h_source.html#l00052">format_cap.h:52</a></div></div>
<div class="ttc" id="format__cap_8h_html_a51f3293ae7b01a8353bf4aa1204abba5ad111d20686641a6f0fc5efd33c82e97a"><div class="ttname"><a href="../../d0/d3c/format__cap_8h.html#a51f3293ae7b01a8353bf4aa1204abba5ad111d20686641a6f0fc5efd33c82e97a">AST_FORMAT_CAP_FLAG_DEFAULT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d3c/format__cap_8h_source.html#l00038">format_cap.h:38</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="structast__format__cap_html"><div class="ttname"><a href="../../d8/d69/structast__format__cap.html">ast_format_cap</a></div><div class="ttdoc">Format capabilities structure, holds formats + preference order + etc. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dc9/format__cap_8c_source.html#l00054">format_cap.c:54</a></div></div>
<div class="ttc" id="bridge_8h_html_ac086b7d74fb40c2ede8514274585b101aecfd8e6279a21b20ee4db0ab69c847e8"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#ac086b7d74fb40c2ede8514274585b101aecfd8e6279a21b20ee4db0ab69c847e8">AST_BRIDGE_IMPART_CHAN_INDEPENDENT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00604">bridge.h:604</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="channel_8h_html_abcf1aea85b924e9cd605040b86241e2a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#abcf1aea85b924e9cd605040b86241e2a">AST_MAX_CONTEXT</a></div><div class="ttdeci">#define AST_MAX_CONTEXT</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l00136">channel.h:136</a></div></div>
<div class="ttc" id="channel_8h_html_a29557c4823f5e9c02519a01daf6a289c"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a29557c4823f5e9c02519a01daf6a289c">ast_hangup</a></div><div class="ttdeci">void ast_hangup(struct ast_channel *chan)</div><div class="ttdoc">Hang up a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l02548">channel.c:2548</a></div></div>
<div class="ttc" id="channel_8h_html_a695e5b4fcf983db6451b583fbd647424"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a695e5b4fcf983db6451b583fbd647424">ast_channel_lock_both</a></div><div class="ttdeci">#define ast_channel_lock_both(chan1, chan2)</div><div class="ttdoc">Lock two channels. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02952">channel.h:2952</a></div></div>
<div class="ttc" id="structattended__transfer__properties_html_a59503bde2f9c839237f474a68878a01f"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html#a59503bde2f9c839237f474a68878a01f">attended_transfer_properties::original_transferer_colp</a></div><div class="ttdeci">struct ast_party_connected_line original_transferer_colp</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01350">bridge_basic.c:1350</a></div></div>
<div class="ttc" id="channel_8h_html_a5d3c15fe1dffda82e6dc03ca7b26526a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a5d3c15fe1dffda82e6dc03ca7b26526a">ast_party_connected_line_copy</a></div><div class="ttdeci">void ast_party_connected_line_copy(struct ast_party_connected_line *dest, const struct ast_party_connected_line *src)</div><div class="ttdoc">Copy the source connected line information to the destination connected line. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l02031">channel.c:2031</a></div></div>
<div class="ttc" id="channel_8h_html_a6801c703e767d6f760c54c8b86a30024"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a6801c703e767d6f760c54c8b86a30024">ast_channel_ref</a></div><div class="ttdeci">#define ast_channel_ref(c)</div><div class="ttdoc">Increase channel reference count. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02970">channel.h:2970</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="structattended__transfer__properties_html_a7faec841658b88ad0cfbc684853acad3"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html#a7faec841658b88ad0cfbc684853acad3">attended_transfer_properties::context</a></div><div class="ttdeci">const ast_string_field context</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01303">bridge_basic.c:1303</a></div></div>
<div class="ttc" id="format__cache_8h_html_a771d7c34570e8e492c25a0c2eb41889d"><div class="ttname"><a href="../../db/d1c/format__cache_8h.html#a771d7c34570e8e492c25a0c2eb41889d">ast_format_slin</a></div><div class="ttdeci">struct ast_format * ast_format_slin</div><div class="ttdoc">Built-in cached signed linear 8kHz format. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d29/format__cache_8c_source.html#l00041">format_cache.c:41</a></div></div>
<div class="ttc" id="structattended__transfer__properties_html_a43cf79e5f3675b2cdf001bceacb02e72"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html#a43cf79e5f3675b2cdf001bceacb02e72">attended_transfer_properties::transferer</a></div><div class="ttdeci">struct ast_channel * transferer</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01315">bridge_basic.c:1315</a></div></div>
<div class="ttc" id="structast__party__connected__line_html_a7f68ab7a4fa155c8db1cda1565864c58"><div class="ttname"><a href="../../dc/d9e/structast__party__connected__line.html#a7f68ab7a4fa155c8db1cda1565864c58">ast_party_connected_line::priv</a></div><div class="ttdeci">struct ast_party_id priv</div><div class="ttdoc">Private connected party ID. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l00469">channel.h:469</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_ad283c0c18011fa7f3d8d8a02f83a1183"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#ad283c0c18011fa7f3d8d8a02f83a1183">common_recall_channel_setup</a></div><div class="ttdeci">static void common_recall_channel_setup(struct ast_channel *recall, struct ast_channel *transferer)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l02433">bridge_basic.c:2433</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="abe28f4e52aafde58df894b512c84528e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abe28f4e52aafde58df894b512c84528e">&#9670;&nbsp;</a></span>retransfer_exit()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static enum <a class="el" href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8">attended_transfer_state</a> retransfer_exit </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dd/d9e/structattended__transfer__properties.html">attended_transfer_properties</a> *&#160;</td>
          <td class="paramname"><em>props</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290">attended_transfer_stimulus</a>&#160;</td>
          <td class="paramname"><em>stimulus</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02664">2664</a> of file <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html">bridge_basic.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d7b/channel_8h_source.html#l02981">ast_channel_unref</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l02476">ast_softhangup()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l01149">AST_SOFTHANGUP_EXPLICIT</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01338">attended_transfer_properties::atxferloopdelay</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01325">attended_transfer_properties::recall_target</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01330">attended_transfer_properties::state</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02000">attended_transfer_state_properties::state_name</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01254">STIMULUS_DTMF_ATXFER_ABORT</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01256">STIMULUS_DTMF_ATXFER_COMPLETE</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01260">STIMULUS_DTMF_ATXFER_SWAP</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01258">STIMULUS_DTMF_ATXFER_THREEWAY</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01238">STIMULUS_NONE</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01250">STIMULUS_RECALL_TARGET_ANSWER</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01248">STIMULUS_RECALL_TARGET_HANGUP</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01268">stimulus_strs</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01252">STIMULUS_TIMEOUT</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01246">STIMULUS_TRANSFER_TARGET_ANSWER</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01244">STIMULUS_TRANSFER_TARGET_HANGUP</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01240">STIMULUS_TRANSFEREE_HANGUP</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01242">STIMULUS_TRANSFERER_HANGUP</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01230">TRANSFER_FAIL</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01114">TRANSFER_RECALLING</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00903">TRANSFER_RESUME</a>, and <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01197">TRANSFER_WAIT_TO_RECALL</a>.</p>
<div class="fragment"><div class="line"><a name="l02666"></a><span class="lineno"> 2666</span>&#160;{</div><div class="line"><a name="l02667"></a><span class="lineno"> 2667</span>&#160;   <span class="keywordflow">switch</span> (stimulus) {</div><div class="line"><a name="l02668"></a><span class="lineno"> 2668</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a5bea635a52d3e646fe86091457310934">STIMULUS_TRANSFEREE_HANGUP</a>:</div><div class="line"><a name="l02669"></a><span class="lineno"> 2669</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8a8383b06b8e11a417dca5329407478ee8">TRANSFER_FAIL</a>;</div><div class="line"><a name="l02670"></a><span class="lineno"> 2670</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290ad811a249bfc0c9c585652f461b127180">STIMULUS_TIMEOUT</a>:</div><div class="line"><a name="l02671"></a><span class="lineno"> 2671</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#ac2d6607253f7e8b272d4e845474eaa9b">ast_softhangup</a>(props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a8cfa7137e480b71055eae11820fb3845">recall_target</a>, <a class="code" href="../../d5/d7b/channel_8h.html#a9e9505a91a84992d04ba4e85217fb4e4a2b3b711afc65059c4b51008c9fbc7aee">AST_SOFTHANGUP_EXPLICIT</a>);</div><div class="line"><a name="l02672"></a><span class="lineno"> 2672</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a41d7bde458129adf0121c70ba361258a">STIMULUS_RECALL_TARGET_HANGUP</a>:</div><div class="line"><a name="l02673"></a><span class="lineno"> 2673</span>&#160;      props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a8cfa7137e480b71055eae11820fb3845">recall_target</a> = <a class="code" href="../../d5/d7b/channel_8h.html#ab733a7825810b895a89b629e0ea89380">ast_channel_unref</a>(props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a8cfa7137e480b71055eae11820fb3845">recall_target</a>);</div><div class="line"><a name="l02674"></a><span class="lineno"> 2674</span>&#160;      <span class="keywordflow">if</span> (props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a4bc55c41a64defa80a9448de4def2f43">atxferloopdelay</a>) {</div><div class="line"><a name="l02675"></a><span class="lineno"> 2675</span>&#160;         <span class="keywordflow">return</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8a88843d550323b8ce636afd7469f17552">TRANSFER_WAIT_TO_RECALL</a>;</div><div class="line"><a name="l02676"></a><span class="lineno"> 2676</span>&#160;      }</div><div class="line"><a name="l02677"></a><span class="lineno"> 2677</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8afa5ecefd14d3ddf6fb4e8c9279747613">TRANSFER_RECALLING</a>;</div><div class="line"><a name="l02678"></a><span class="lineno"> 2678</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a49ac501f06885c9839a8833e0639d38f">STIMULUS_RECALL_TARGET_ANSWER</a>:</div><div class="line"><a name="l02679"></a><span class="lineno"> 2679</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8ac19143ec75880c93f0c2483599b28343">TRANSFER_RESUME</a>;</div><div class="line"><a name="l02680"></a><span class="lineno"> 2680</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290ae3857d51b5e8970ac1e3714bc1d46fe1">STIMULUS_NONE</a>:</div><div class="line"><a name="l02681"></a><span class="lineno"> 2681</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a72d10e2721ad55addb0b84175f5280d0">STIMULUS_DTMF_ATXFER_ABORT</a>:</div><div class="line"><a name="l02682"></a><span class="lineno"> 2682</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a9b6689669975b3d4767ca6284d721775">STIMULUS_DTMF_ATXFER_COMPLETE</a>:</div><div class="line"><a name="l02683"></a><span class="lineno"> 2683</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a6f6c487fc2723093806c52b62c7ae80a">STIMULUS_DTMF_ATXFER_THREEWAY</a>:</div><div class="line"><a name="l02684"></a><span class="lineno"> 2684</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290ac4c70db40c8740dc43a331ab483f3c1c">STIMULUS_DTMF_ATXFER_SWAP</a>:</div><div class="line"><a name="l02685"></a><span class="lineno"> 2685</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a5b7c4fdcec2b5bea9e9be459dc924492">STIMULUS_TRANSFER_TARGET_HANGUP</a>:</div><div class="line"><a name="l02686"></a><span class="lineno"> 2686</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a7615240e3b359bd98d9949ff77e102c2">STIMULUS_TRANSFER_TARGET_ANSWER</a>:</div><div class="line"><a name="l02687"></a><span class="lineno"> 2687</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a800bb00b2e8ab7a8f11092b3bb2fba11">STIMULUS_TRANSFERER_HANGUP</a>:</div><div class="line"><a name="l02688"></a><span class="lineno"> 2688</span>&#160;   <span class="keywordflow">default</span>:</div><div class="line"><a name="l02689"></a><span class="lineno"> 2689</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Unexpected stimulus &#39;%s&#39; received in attended transfer state &#39;%s&#39;\n&quot;</span>,</div><div class="line"><a name="l02690"></a><span class="lineno"> 2690</span>&#160;            <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a6c44b02ff21d30611e99f11620684e42">stimulus_strs</a>[stimulus], <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a53b49a058262e14d4371a6c30024ea7c">state_properties</a>[props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a3442cf1d72950ce9d62ea7006f6ce78c">state</a>].<a class="code" href="../../da/dab/structattended__transfer__state__properties.html#ab00617be22fdc8c996d36e4082f2410a">state_name</a>);</div><div class="line"><a name="l02691"></a><span class="lineno"> 2691</span>&#160;      <span class="keywordflow">return</span> props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a3442cf1d72950ce9d62ea7006f6ce78c">state</a>;</div><div class="line"><a name="l02692"></a><span class="lineno"> 2692</span>&#160;   }</div><div class="line"><a name="l02693"></a><span class="lineno"> 2693</span>&#160;}</div><div class="ttc" id="channel_8h_html_ab733a7825810b895a89b629e0ea89380"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#ab733a7825810b895a89b629e0ea89380">ast_channel_unref</a></div><div class="ttdeci">#define ast_channel_unref(c)</div><div class="ttdoc">Decrease channel reference count. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02981">channel.h:2981</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_aad3447b0c2c1b069ac9437816db513d8ac19143ec75880c93f0c2483599b28343"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8ac19143ec75880c93f0c2483599b28343">TRANSFER_RESUME</a></div><div class="ttdoc">Resume state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00903">bridge_basic.c:903</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a53b49a058262e14d4371a6c30024ea7c"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a53b49a058262e14d4371a6c30024ea7c">state_properties</a></div><div class="ttdeci">static const struct attended_transfer_state_properties state_properties[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l02015">bridge_basic.c:2015</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290a49ac501f06885c9839a8833e0639d38f"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a49ac501f06885c9839a8833e0639d38f">STIMULUS_RECALL_TARGET_ANSWER</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01250">bridge_basic.c:1250</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290a41d7bde458129adf0121c70ba361258a"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a41d7bde458129adf0121c70ba361258a">STIMULUS_RECALL_TARGET_HANGUP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01248">bridge_basic.c:1248</a></div></div>
<div class="ttc" id="channel_8h_html_a9e9505a91a84992d04ba4e85217fb4e4a2b3b711afc65059c4b51008c9fbc7aee"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a9e9505a91a84992d04ba4e85217fb4e4a2b3b711afc65059c4b51008c9fbc7aee">AST_SOFTHANGUP_EXPLICIT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01149">channel.h:1149</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_aad3447b0c2c1b069ac9437816db513d8a8383b06b8e11a417dca5329407478ee8"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8a8383b06b8e11a417dca5329407478ee8">TRANSFER_FAIL</a></div><div class="ttdoc">Fail state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01230">bridge_basic.c:1230</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290a9b6689669975b3d4767ca6284d721775"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a9b6689669975b3d4767ca6284d721775">STIMULUS_DTMF_ATXFER_COMPLETE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01256">bridge_basic.c:1256</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a6c44b02ff21d30611e99f11620684e42"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a6c44b02ff21d30611e99f11620684e42">stimulus_strs</a></div><div class="ttdeci">const char * stimulus_strs[]</div><div class="ttdoc">String representations of the various stimuli. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01268">bridge_basic.c:1268</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290a5bea635a52d3e646fe86091457310934"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a5bea635a52d3e646fe86091457310934">STIMULUS_TRANSFEREE_HANGUP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01240">bridge_basic.c:1240</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290a800bb00b2e8ab7a8f11092b3bb2fba11"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a800bb00b2e8ab7a8f11092b3bb2fba11">STIMULUS_TRANSFERER_HANGUP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01242">bridge_basic.c:1242</a></div></div>
<div class="ttc" id="structattended__transfer__properties_html_a8cfa7137e480b71055eae11820fb3845"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html#a8cfa7137e480b71055eae11820fb3845">attended_transfer_properties::recall_target</a></div><div class="ttdeci">struct ast_channel * recall_target</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01325">bridge_basic.c:1325</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="structattended__transfer__properties_html_a3442cf1d72950ce9d62ea7006f6ce78c"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html#a3442cf1d72950ce9d62ea7006f6ce78c">attended_transfer_properties::state</a></div><div class="ttdeci">enum attended_transfer_state state</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01330">bridge_basic.c:1330</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290a72d10e2721ad55addb0b84175f5280d0"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a72d10e2721ad55addb0b84175f5280d0">STIMULUS_DTMF_ATXFER_ABORT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01254">bridge_basic.c:1254</a></div></div>
<div class="ttc" id="structattended__transfer__properties_html_a4bc55c41a64defa80a9448de4def2f43"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html#a4bc55c41a64defa80a9448de4def2f43">attended_transfer_properties::atxferloopdelay</a></div><div class="ttdeci">int atxferloopdelay</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01338">bridge_basic.c:1338</a></div></div>
<div class="ttc" id="channel_8h_html_ac2d6607253f7e8b272d4e845474eaa9b"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#ac2d6607253f7e8b272d4e845474eaa9b">ast_softhangup</a></div><div class="ttdeci">int ast_softhangup(struct ast_channel *chan, int reason)</div><div class="ttdoc">Softly hangup up a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l02476">channel.c:2476</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_aad3447b0c2c1b069ac9437816db513d8a88843d550323b8ce636afd7469f17552"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8a88843d550323b8ce636afd7469f17552">TRANSFER_WAIT_TO_RECALL</a></div><div class="ttdoc">Wait to recall state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01197">bridge_basic.c:1197</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290a5b7c4fdcec2b5bea9e9be459dc924492"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a5b7c4fdcec2b5bea9e9be459dc924492">STIMULUS_TRANSFER_TARGET_HANGUP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01244">bridge_basic.c:1244</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290ae3857d51b5e8970ac1e3714bc1d46fe1"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290ae3857d51b5e8970ac1e3714bc1d46fe1">STIMULUS_NONE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01238">bridge_basic.c:1238</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290a6f6c487fc2723093806c52b62c7ae80a"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a6f6c487fc2723093806c52b62c7ae80a">STIMULUS_DTMF_ATXFER_THREEWAY</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01258">bridge_basic.c:1258</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_aad3447b0c2c1b069ac9437816db513d8afa5ecefd14d3ddf6fb4e8c9279747613"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8afa5ecefd14d3ddf6fb4e8c9279747613">TRANSFER_RECALLING</a></div><div class="ttdoc">Recalling state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01114">bridge_basic.c:1114</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290ad811a249bfc0c9c585652f461b127180"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290ad811a249bfc0c9c585652f461b127180">STIMULUS_TIMEOUT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01252">bridge_basic.c:1252</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290a7615240e3b359bd98d9949ff77e102c2"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a7615240e3b359bd98d9949ff77e102c2">STIMULUS_TRANSFER_TARGET_ANSWER</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01246">bridge_basic.c:1246</a></div></div>
<div class="ttc" id="structattended__transfer__state__properties_html_ab00617be22fdc8c996d36e4082f2410a"><div class="ttname"><a href="../../da/dab/structattended__transfer__state__properties.html#ab00617be22fdc8c996d36e4082f2410a">attended_transfer_state_properties::state_name</a></div><div class="ttdeci">const char * state_name</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l02000">bridge_basic.c:2000</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290ac4c70db40c8740dc43a331ab483f3c1c"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290ac4c70db40c8740dc43a331ab483f3c1c">STIMULUS_DTMF_ATXFER_SWAP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01260">bridge_basic.c:1260</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6ab6e51f783d7cea98857990908996d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6ab6e51f783d7cea98857990908996d3">&#9670;&nbsp;</a></span>ringing()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void ringing </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Helper method to send a ringing indication to a channel in a bridge. </p>

<p class="definition">Definition at line <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01814">1814</a> of file <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html">bridge_basic.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d3/d32/bridge__channel_8c_source.html#l01155">ast_bridge_channel_write_control_data()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l10783">ast_channel_get_bridge_channel()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02945">ast_channel_lock</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00280">AST_CONTROL_RINGING</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02322">blond_enter()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l17610">extensionstate_update()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l28575">handle_request_subscribe()</a>, <a class="el" href="../../da/dfb/app__queue_8c_source.html#l08183">queue_exec()</a>, and <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l06844">update_call_counter()</a>.</p>
<div class="fragment"><div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;{</div><div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *bridge_channel;</div><div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;</div><div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(chan);</div><div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;   bridge_channel = <a class="code" href="../../d5/d7b/channel_8h.html#a9b6409c38af733c46eead884d86dd284">ast_channel_get_bridge_channel</a>(chan);</div><div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;</div><div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;   <span class="keywordflow">if</span> (bridge_channel) {</div><div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;      <a class="code" href="../../de/d41/bridge__channel_8h.html#a9d7ca6b64c5bd875d4f16e8aef443497">ast_bridge_channel_write_control_data</a>(bridge_channel, <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390aa5814e690c23b590bcd4eb43535907a1">AST_CONTROL_RINGING</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0);</div><div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(bridge_channel, -1);</div><div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;   }</div><div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;}</div><div class="ttc" id="channel_8h_html_a493bdebe876caafb8ee535853310364a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a></div><div class="ttdeci">#define ast_channel_lock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02945">channel.h:2945</a></div></div>
<div class="ttc" id="bridge__channel_8h_html_a9d7ca6b64c5bd875d4f16e8aef443497"><div class="ttname"><a href="../../de/d41/bridge__channel_8h.html#a9d7ca6b64c5bd875d4f16e8aef443497">ast_bridge_channel_write_control_data</a></div><div class="ttdeci">int ast_bridge_channel_write_control_data(struct ast_bridge_channel *bridge_channel, enum ast_control_frame_type control, const void *data, size_t datalen)</div><div class="ttdoc">Write a control frame into the bridge with data. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d32/bridge__channel_8c_source.html#l01155">bridge_channel.c:1155</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="channel_8h_html_a9b6409c38af733c46eead884d86dd284"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a9b6409c38af733c46eead884d86dd284">ast_channel_get_bridge_channel</a></div><div class="ttdeci">struct ast_bridge_channel * ast_channel_get_bridge_channel(struct ast_channel *chan)</div><div class="ttdoc">Get a reference to the channel&amp;#39;s bridge pointer. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l10783">channel.c:10783</a></div></div>
<div class="ttc" id="structast__bridge__channel_html"><div class="ttname"><a href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a></div><div class="ttdoc">Structure that contains information regarding a channel in a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00084">bridge_channel.h:84</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_aedda41918e992000fe921f8f7363b390aa5814e690c23b590bcd4eb43535907a1"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390aa5814e690c23b590bcd4eb43535907a1">AST_CONTROL_RINGING</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00280">include/asterisk/frame.h:280</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a7f21538aeaf93f55a10efc6e70c78f4d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f21538aeaf93f55a10efc6e70c78f4d">&#9670;&nbsp;</a></span>set_feature_flag_from_char()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int set_feature_flag_from_char </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dc/dac/structast__flags.html">ast_flags</a> *&#160;</td>
          <td class="paramname"><em>feature_flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>feature</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00098">98</a> of file <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html">bridge_basic.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d7b/channel_8h_source.html#l01070">AST_FEATURE_AUTOMIXMON</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l01068">AST_FEATURE_AUTOMON</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l01066">AST_FEATURE_DISCONNECT</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l01069">AST_FEATURE_PARKCALL</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l01065">AST_FEATURE_REDIRECT</a>, and <a class="el" href="../../d5/d60/utils_8h_source.html#l00070">ast_set_flag</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00162">build_dtmf_features()</a>.</p>
<div class="fragment"><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;{</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;   <span class="keywordflow">switch</span> (feature) {</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;   <span class="keywordflow">case</span> <span class="charliteral">&#39;T&#39;</span>:</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;      <a class="code" href="../../d5/d60/utils_8h.html#ab5033a1f3d781d45e7ccc27598114510">ast_set_flag</a>(feature_flags, <a class="code" href="../../d5/d7b/channel_8h.html#a25f1c885c7f5230ea4c9bc48dde88fe1a33e339fbf78c26377f6c7057dda06ccc">AST_FEATURE_REDIRECT</a>);</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;   <span class="keywordflow">case</span> <span class="charliteral">&#39;K&#39;</span>:</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;      <a class="code" href="../../d5/d60/utils_8h.html#ab5033a1f3d781d45e7ccc27598114510">ast_set_flag</a>(feature_flags, <a class="code" href="../../d5/d7b/channel_8h.html#a25f1c885c7f5230ea4c9bc48dde88fe1ace68898ce2f86298d8e39e0473a55e28">AST_FEATURE_PARKCALL</a>);</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;   <span class="keywordflow">case</span> <span class="charliteral">&#39;H&#39;</span>:</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;      <a class="code" href="../../d5/d60/utils_8h.html#ab5033a1f3d781d45e7ccc27598114510">ast_set_flag</a>(feature_flags, <a class="code" href="../../d5/d7b/channel_8h.html#a25f1c885c7f5230ea4c9bc48dde88fe1ae4ef6bff70f5837c4ccfcef8d789a9cc">AST_FEATURE_DISCONNECT</a>);</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;   <span class="keywordflow">case</span> <span class="charliteral">&#39;W&#39;</span>:</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;      <a class="code" href="../../d5/d60/utils_8h.html#ab5033a1f3d781d45e7ccc27598114510">ast_set_flag</a>(feature_flags, <a class="code" href="../../d5/d7b/channel_8h.html#a25f1c885c7f5230ea4c9bc48dde88fe1ae16218a9dfb2123d391f959e3d078362">AST_FEATURE_AUTOMON</a>);</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;   <span class="keywordflow">case</span> <span class="charliteral">&#39;X&#39;</span>:</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;      <a class="code" href="../../d5/d60/utils_8h.html#ab5033a1f3d781d45e7ccc27598114510">ast_set_flag</a>(feature_flags, <a class="code" href="../../d5/d7b/channel_8h.html#a25f1c885c7f5230ea4c9bc48dde88fe1a0a015b303a0970eda3ea8328714cbbae">AST_FEATURE_AUTOMIXMON</a>);</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;   <span class="keywordflow">default</span>:</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;   }</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;}</div><div class="ttc" id="utils_8h_html_ab5033a1f3d781d45e7ccc27598114510"><div class="ttname"><a href="../../d5/d60/utils_8h.html#ab5033a1f3d781d45e7ccc27598114510">ast_set_flag</a></div><div class="ttdeci">#define ast_set_flag(p, flag)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00070">utils.h:70</a></div></div>
<div class="ttc" id="channel_8h_html_a25f1c885c7f5230ea4c9bc48dde88fe1ae4ef6bff70f5837c4ccfcef8d789a9cc"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a25f1c885c7f5230ea4c9bc48dde88fe1ae4ef6bff70f5837c4ccfcef8d789a9cc">AST_FEATURE_DISCONNECT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01066">channel.h:1066</a></div></div>
<div class="ttc" id="channel_8h_html_a25f1c885c7f5230ea4c9bc48dde88fe1ae16218a9dfb2123d391f959e3d078362"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a25f1c885c7f5230ea4c9bc48dde88fe1ae16218a9dfb2123d391f959e3d078362">AST_FEATURE_AUTOMON</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01068">channel.h:1068</a></div></div>
<div class="ttc" id="channel_8h_html_a25f1c885c7f5230ea4c9bc48dde88fe1a33e339fbf78c26377f6c7057dda06ccc"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a25f1c885c7f5230ea4c9bc48dde88fe1a33e339fbf78c26377f6c7057dda06ccc">AST_FEATURE_REDIRECT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01065">channel.h:1065</a></div></div>
<div class="ttc" id="channel_8h_html_a25f1c885c7f5230ea4c9bc48dde88fe1a0a015b303a0970eda3ea8328714cbbae"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a25f1c885c7f5230ea4c9bc48dde88fe1a0a015b303a0970eda3ea8328714cbbae">AST_FEATURE_AUTOMIXMON</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01070">channel.h:1070</a></div></div>
<div class="ttc" id="channel_8h_html_a25f1c885c7f5230ea4c9bc48dde88fe1ace68898ce2f86298d8e39e0473a55e28"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a25f1c885c7f5230ea4c9bc48dde88fe1ace68898ce2f86298d8e39e0473a55e28">AST_FEATURE_PARKCALL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01069">channel.h:1069</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a58fb89cd178e0c10d787d24a37f24011"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a58fb89cd178e0c10d787d24a37f24011">&#9670;&nbsp;</a></span>setup_bridge_features_builtin()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int setup_bridge_features_builtin </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../db/dba/structast__bridge__features.html">ast_bridge_features</a> *&#160;</td>
          <td class="paramname"><em>features</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00400">400</a> of file <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html">bridge_basic.c</a>.</p>

<p class="reference">References <a class="el" href="../../dc/d7a/bridge__features_8h_source.html#l00075">AST_BRIDGE_BUILTIN_ATTENDEDTRANSFER</a>, <a class="el" href="../../dc/d7a/bridge__features_8h_source.html#l00104">AST_BRIDGE_BUILTIN_AUTOMIXMON</a>, <a class="el" href="../../dc/d7a/bridge__features_8h_source.html#l00098">AST_BRIDGE_BUILTIN_AUTOMON</a>, <a class="el" href="../../dc/d7a/bridge__features_8h_source.html#l00073">AST_BRIDGE_BUILTIN_BLINDTRANSFER</a>, <a class="el" href="../../dc/d7a/bridge__features_8h_source.html#l00085">AST_BRIDGE_BUILTIN_HANGUP</a>, <a class="el" href="../../dc/d7a/bridge__features_8h_source.html#l00092">AST_BRIDGE_BUILTIN_PARKCALL</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00268">ast_bridge_features_ds_get()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02945">ast_channel_lock</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l01070">AST_FEATURE_AUTOMIXMON</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l01068">AST_FEATURE_AUTOMON</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l01066">AST_FEATURE_DISCONNECT</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l01069">AST_FEATURE_PARKCALL</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l01065">AST_FEATURE_REDIRECT</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00368">builtin_features_helper()</a>, and <a class="el" href="../../d5/d60/utils_8h_source.html#l00200">ast_flags::flags</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00631">bridge_basic_setup_features()</a>.</p>
<div class="fragment"><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;{</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/dac/structast__flags.html">ast_flags</a> *<a class="code" href="../../dc/dac/structast__flags.html#ac92588540e8c1d014a08cd8a45462b19">flags</a>;</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(chan);</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;   flags = <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a53690d96fd11f8e502cf5fdc74ee3315">ast_bridge_features_ds_get</a>(chan);</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;   <span class="keywordflow">if</span> (!flags) {</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;   }</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;   res = 0;</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;   res |= <a class="code" href="../../d7/d9b/bridge__basic_8c.html#ac6a7043b07b08e3123752a750f3299d0">builtin_features_helper</a>(features, chan, flags, <a class="code" href="../../d5/d7b/channel_8h.html#a25f1c885c7f5230ea4c9bc48dde88fe1a33e339fbf78c26377f6c7057dda06ccc">AST_FEATURE_REDIRECT</a>, <span class="stringliteral">&quot;blindxfer&quot;</span>, <a class="code" href="../../dc/d7a/bridge__features_8h.html#a59c3a69424e1d3c627ece7aeb5f0bdb3a1296b14dfc88f2a49818dfd08f2b80fb">AST_BRIDGE_BUILTIN_BLINDTRANSFER</a>);</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;   res |= <a class="code" href="../../d7/d9b/bridge__basic_8c.html#ac6a7043b07b08e3123752a750f3299d0">builtin_features_helper</a>(features, chan, flags, <a class="code" href="../../d5/d7b/channel_8h.html#a25f1c885c7f5230ea4c9bc48dde88fe1a33e339fbf78c26377f6c7057dda06ccc">AST_FEATURE_REDIRECT</a>, <span class="stringliteral">&quot;atxfer&quot;</span>, <a class="code" href="../../dc/d7a/bridge__features_8h.html#a59c3a69424e1d3c627ece7aeb5f0bdb3a914956d3505768cc223eb23ce407c691">AST_BRIDGE_BUILTIN_ATTENDEDTRANSFER</a>);</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;   res |= <a class="code" href="../../d7/d9b/bridge__basic_8c.html#ac6a7043b07b08e3123752a750f3299d0">builtin_features_helper</a>(features, chan, flags, <a class="code" href="../../d5/d7b/channel_8h.html#a25f1c885c7f5230ea4c9bc48dde88fe1ae4ef6bff70f5837c4ccfcef8d789a9cc">AST_FEATURE_DISCONNECT</a>, <span class="stringliteral">&quot;disconnect&quot;</span>, <a class="code" href="../../dc/d7a/bridge__features_8h.html#a59c3a69424e1d3c627ece7aeb5f0bdb3a96d5e1a5c56634eb48dd78965e5e2ba4">AST_BRIDGE_BUILTIN_HANGUP</a>);</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;   res |= <a class="code" href="../../d7/d9b/bridge__basic_8c.html#ac6a7043b07b08e3123752a750f3299d0">builtin_features_helper</a>(features, chan, flags, <a class="code" href="../../d5/d7b/channel_8h.html#a25f1c885c7f5230ea4c9bc48dde88fe1ace68898ce2f86298d8e39e0473a55e28">AST_FEATURE_PARKCALL</a>, <span class="stringliteral">&quot;parkcall&quot;</span>, <a class="code" href="../../dc/d7a/bridge__features_8h.html#a59c3a69424e1d3c627ece7aeb5f0bdb3a9e4b5eec63c6787eab2a435f95eeb66f">AST_BRIDGE_BUILTIN_PARKCALL</a>);</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;   res |= <a class="code" href="../../d7/d9b/bridge__basic_8c.html#ac6a7043b07b08e3123752a750f3299d0">builtin_features_helper</a>(features, chan, flags, <a class="code" href="../../d5/d7b/channel_8h.html#a25f1c885c7f5230ea4c9bc48dde88fe1ae16218a9dfb2123d391f959e3d078362">AST_FEATURE_AUTOMON</a>, <span class="stringliteral">&quot;automon&quot;</span>, <a class="code" href="../../dc/d7a/bridge__features_8h.html#a59c3a69424e1d3c627ece7aeb5f0bdb3ac032caab7558973327322c284b748bf0">AST_BRIDGE_BUILTIN_AUTOMON</a>);</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;   res |= <a class="code" href="../../d7/d9b/bridge__basic_8c.html#ac6a7043b07b08e3123752a750f3299d0">builtin_features_helper</a>(features, chan, flags, <a class="code" href="../../d5/d7b/channel_8h.html#a25f1c885c7f5230ea4c9bc48dde88fe1a0a015b303a0970eda3ea8328714cbbae">AST_FEATURE_AUTOMIXMON</a>, <span class="stringliteral">&quot;automixmon&quot;</span>, <a class="code" href="../../dc/d7a/bridge__features_8h.html#a59c3a69424e1d3c627ece7aeb5f0bdb3a9075785271a9e2a18bb65c99a6bd7744">AST_BRIDGE_BUILTIN_AUTOMIXMON</a>);</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;   <span class="keywordflow">return</span> res ? -1 : 0;</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;}</div><div class="ttc" id="channel_8h_html_a493bdebe876caafb8ee535853310364a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a></div><div class="ttdeci">#define ast_channel_lock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02945">channel.h:2945</a></div></div>
<div class="ttc" id="bridge__features_8h_html_a59c3a69424e1d3c627ece7aeb5f0bdb3ac032caab7558973327322c284b748bf0"><div class="ttname"><a href="../../dc/d7a/bridge__features_8h.html#a59c3a69424e1d3c627ece7aeb5f0bdb3ac032caab7558973327322c284b748bf0">AST_BRIDGE_BUILTIN_AUTOMON</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00098">bridge_features.h:98</a></div></div>
<div class="ttc" id="channel_8h_html_a25f1c885c7f5230ea4c9bc48dde88fe1ae4ef6bff70f5837c4ccfcef8d789a9cc"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a25f1c885c7f5230ea4c9bc48dde88fe1ae4ef6bff70f5837c4ccfcef8d789a9cc">AST_FEATURE_DISCONNECT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01066">channel.h:1066</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a53690d96fd11f8e502cf5fdc74ee3315"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a53690d96fd11f8e502cf5fdc74ee3315">ast_bridge_features_ds_get</a></div><div class="ttdeci">struct ast_flags * ast_bridge_features_ds_get(struct ast_channel *chan)</div><div class="ttdoc">Get DTMF feature flags from the channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00268">bridge_basic.c:268</a></div></div>
<div class="ttc" id="structast__flags_html_ac92588540e8c1d014a08cd8a45462b19"><div class="ttname"><a href="../../dc/dac/structast__flags.html#ac92588540e8c1d014a08cd8a45462b19">ast_flags::flags</a></div><div class="ttdeci">unsigned int flags</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00200">utils.h:200</a></div></div>
<div class="ttc" id="bridge__features_8h_html_a59c3a69424e1d3c627ece7aeb5f0bdb3a1296b14dfc88f2a49818dfd08f2b80fb"><div class="ttname"><a href="../../dc/d7a/bridge__features_8h.html#a59c3a69424e1d3c627ece7aeb5f0bdb3a1296b14dfc88f2a49818dfd08f2b80fb">AST_BRIDGE_BUILTIN_BLINDTRANSFER</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00073">bridge_features.h:73</a></div></div>
<div class="ttc" id="bridge__features_8h_html_a59c3a69424e1d3c627ece7aeb5f0bdb3a9e4b5eec63c6787eab2a435f95eeb66f"><div class="ttname"><a href="../../dc/d7a/bridge__features_8h.html#a59c3a69424e1d3c627ece7aeb5f0bdb3a9e4b5eec63c6787eab2a435f95eeb66f">AST_BRIDGE_BUILTIN_PARKCALL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00092">bridge_features.h:92</a></div></div>
<div class="ttc" id="channel_8h_html_a25f1c885c7f5230ea4c9bc48dde88fe1ae16218a9dfb2123d391f959e3d078362"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a25f1c885c7f5230ea4c9bc48dde88fe1ae16218a9dfb2123d391f959e3d078362">AST_FEATURE_AUTOMON</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01068">channel.h:1068</a></div></div>
<div class="ttc" id="channel_8h_html_a25f1c885c7f5230ea4c9bc48dde88fe1a33e339fbf78c26377f6c7057dda06ccc"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a25f1c885c7f5230ea4c9bc48dde88fe1a33e339fbf78c26377f6c7057dda06ccc">AST_FEATURE_REDIRECT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01065">channel.h:1065</a></div></div>
<div class="ttc" id="channel_8h_html_a25f1c885c7f5230ea4c9bc48dde88fe1a0a015b303a0970eda3ea8328714cbbae"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a25f1c885c7f5230ea4c9bc48dde88fe1a0a015b303a0970eda3ea8328714cbbae">AST_FEATURE_AUTOMIXMON</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01070">channel.h:1070</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="bridge__features_8h_html_a59c3a69424e1d3c627ece7aeb5f0bdb3a96d5e1a5c56634eb48dd78965e5e2ba4"><div class="ttname"><a href="../../dc/d7a/bridge__features_8h.html#a59c3a69424e1d3c627ece7aeb5f0bdb3a96d5e1a5c56634eb48dd78965e5e2ba4">AST_BRIDGE_BUILTIN_HANGUP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00085">bridge_features.h:85</a></div></div>
<div class="ttc" id="structast__flags_html"><div class="ttname"><a href="../../dc/dac/structast__flags.html">ast_flags</a></div><div class="ttdoc">Structure used to handle boolean flags. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00199">utils.h:199</a></div></div>
<div class="ttc" id="channel_8h_html_a25f1c885c7f5230ea4c9bc48dde88fe1ace68898ce2f86298d8e39e0473a55e28"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a25f1c885c7f5230ea4c9bc48dde88fe1ace68898ce2f86298d8e39e0473a55e28">AST_FEATURE_PARKCALL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01069">channel.h:1069</a></div></div>
<div class="ttc" id="bridge__features_8h_html_a59c3a69424e1d3c627ece7aeb5f0bdb3a914956d3505768cc223eb23ce407c691"><div class="ttname"><a href="../../dc/d7a/bridge__features_8h.html#a59c3a69424e1d3c627ece7aeb5f0bdb3a914956d3505768cc223eb23ce407c691">AST_BRIDGE_BUILTIN_ATTENDEDTRANSFER</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00075">bridge_features.h:75</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_ac6a7043b07b08e3123752a750f3299d0"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#ac6a7043b07b08e3123752a750f3299d0">builtin_features_helper</a></div><div class="ttdeci">static int builtin_features_helper(struct ast_bridge_features *features, struct ast_channel *chan, struct ast_flags *flags, unsigned int feature_flag, const char *feature_name, enum ast_bridge_builtin_feature feature_bridge)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00368">bridge_basic.c:368</a></div></div>
<div class="ttc" id="bridge__features_8h_html_a59c3a69424e1d3c627ece7aeb5f0bdb3a9075785271a9e2a18bb65c99a6bd7744"><div class="ttname"><a href="../../dc/d7a/bridge__features_8h.html#a59c3a69424e1d3c627ece7aeb5f0bdb3a9075785271a9e2a18bb65c99a6bd7744">AST_BRIDGE_BUILTIN_AUTOMIXMON</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00104">bridge_features.h:104</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a418fbef0204d8f6ad5dfa12e9e64852b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a418fbef0204d8f6ad5dfa12e9e64852b">&#9670;&nbsp;</a></span>setup_bridge_features_dynamic()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int setup_bridge_features_dynamic </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../db/dba/structast__bridge__features.html">ast_bridge_features</a> *&#160;</td>
          <td class="paramname"><em>features</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00605">605</a> of file <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html">bridge_basic.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01743">ao2_callback_data</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02945">ast_channel_lock</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../de/d71/features__config_8c_source.html#l01325">ast_get_chan_applicationmap()</a>, and <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00581">setup_dynamic_feature()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00631">bridge_basic_setup_features()</a>.</p>
<div class="fragment"><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;{</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/da9/structao2__container.html">ao2_container</a> *applicationmap;</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;   <span class="keywordtype">int</span> res = 0;</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(chan);</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;   applicationmap = <a class="code" href="../../d0/daa/include_2asterisk_2features__config_8h.html#a67cc1c1d8375847bc9140906c297cf58">ast_get_chan_applicationmap</a>(chan);</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;   <span class="keywordflow">if</span> (applicationmap) {</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#a63fd831fe48aed32d3ef992ad8e45293">ao2_callback_data</a>(applicationmap, 0, <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a3a26a1b78ad7ecd918f20211eb833eff">setup_dynamic_feature</a>, features, &amp;res);</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(applicationmap, -1);</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;   }</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;}</div><div class="ttc" id="channel_8h_html_a493bdebe876caafb8ee535853310364a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a></div><div class="ttdeci">#define ast_channel_lock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02945">channel.h:2945</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a3a26a1b78ad7ecd918f20211eb833eff"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a3a26a1b78ad7ecd918f20211eb833eff">setup_dynamic_feature</a></div><div class="ttdeci">static int setup_dynamic_feature(void *obj, void *arg, void *data, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00581">bridge_basic.c:581</a></div></div>
<div class="ttc" id="include_2asterisk_2features__config_8h_html_a67cc1c1d8375847bc9140906c297cf58"><div class="ttname"><a href="../../d0/daa/include_2asterisk_2features__config_8h.html#a67cc1c1d8375847bc9140906c297cf58">ast_get_chan_applicationmap</a></div><div class="ttdeci">struct ao2_container * ast_get_chan_applicationmap(struct ast_channel *chan)</div><div class="ttdoc">Get the applicationmap for a given channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d71/features__config_8c_source.html#l01325">features_config.c:1325</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="astobj2_8h_html_a63fd831fe48aed32d3ef992ad8e45293"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a63fd831fe48aed32d3ef992ad8e45293">ao2_callback_data</a></div><div class="ttdeci">#define ao2_callback_data(container, flags, cb_fn, arg, data)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01743">astobj2.h:1743</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="structao2__container_html"><div class="ttname"><a href="../../d2/da9/structao2__container.html">ao2_container</a></div><div class="ttdoc">Generic container type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d20/astobj2__container__private_8h_source.html#l00282">astobj2_container_private.h:282</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3a26a1b78ad7ecd918f20211eb833eff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3a26a1b78ad7ecd918f20211eb833eff">&#9670;&nbsp;</a></span>setup_dynamic_feature()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int setup_dynamic_feature </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00581">581</a> of file <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html">bridge_basic.c</a>.</p>

<p class="reference">References <a class="el" href="../../d0/daa/include_2asterisk_2features__config_8h_source.html#l00250">ast_applicationmap_item::activate_on_self</a>, <a class="el" href="../../d0/daa/include_2asterisk_2features__config_8h_source.html#l00246">ast_applicationmap_item::app</a>, <a class="el" href="../../d0/daa/include_2asterisk_2features__config_8h_source.html#l00246">ast_applicationmap_item::app_data</a>, <a class="el" href="../../de/d47/features_8h_source.html#l00035">AST_FEATURE_FLAG_ONPEER</a>, <a class="el" href="../../de/d47/features_8h_source.html#l00036">AST_FEATURE_FLAG_ONSELF</a>, <a class="el" href="../../d0/daa/include_2asterisk_2features__config_8h_source.html#l00248">ast_applicationmap_item::dtmf</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00544">dynamic_dtmf_hook_add()</a>, <a class="el" href="../../d8/d4f/test__config_8c_source.html#l01463">item</a>, <a class="el" href="../../d0/daa/include_2asterisk_2features__config_8h_source.html#l00246">ast_applicationmap_item::moh_class</a>, and <a class="el" href="../../d0/daa/include_2asterisk_2features__config_8h_source.html#l00246">ast_applicationmap_item::name</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00605">setup_bridge_features_dynamic()</a>.</p>
<div class="fragment"><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;{</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/d94/structast__applicationmap__item.html">ast_applicationmap_item</a> *<a class="code" href="../../d8/d4f/test__config_8c.html#aecdc7cbd5dfa76493c0212caa55d706c">item</a> = obj;</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../db/dba/structast__bridge__features.html">ast_bridge_features</a> *features = arg;</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;   <span class="keywordtype">int</span> *res = data;</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;   *res |= <a class="code" href="../../d7/d9b/bridge__basic_8c.html#af6258fe3537ca7a00532e1f790f3330b">dynamic_dtmf_hook_add</a>(features,</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;      item-&gt;<a class="code" href="../../d1/d94/structast__applicationmap__item.html#a29743e921dc8da3504ed538bbbd7993a">activate_on_self</a> ? <a class="code" href="../../de/d47/features_8h.html#a3f4a95405348aa63ef907e692901011fa2400fd06fffa892d753ab1957f653d41">AST_FEATURE_FLAG_ONSELF</a> : <a class="code" href="../../de/d47/features_8h.html#a3f4a95405348aa63ef907e692901011fa1d106267aa4d386c2354dc57b8ec6a40">AST_FEATURE_FLAG_ONPEER</a>,</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;      item-&gt;<a class="code" href="../../d1/d94/structast__applicationmap__item.html#a88b653351dac1ea48a768287c004b791">dtmf</a>, item-&gt;<a class="code" href="../../d1/d94/structast__applicationmap__item.html#ace9168767fc3707cf5f0a7d049682ba3">name</a>, item-&gt;<a class="code" href="../../d1/d94/structast__applicationmap__item.html#a66066052ae6571f5495a4e7f8df6c0bb">app</a>, item-&gt;<a class="code" href="../../d1/d94/structast__applicationmap__item.html#a60ca104d6eca08634abb81a2cf8f1ed0">app_data</a>, item-&gt;<a class="code" href="../../d1/d94/structast__applicationmap__item.html#a4d7e45c30745640b0b0f9bf8809248cb">moh_class</a>);</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;}</div><div class="ttc" id="structast__applicationmap__item_html_a66066052ae6571f5495a4e7f8df6c0bb"><div class="ttname"><a href="../../d1/d94/structast__applicationmap__item.html#a66066052ae6571f5495a4e7f8df6c0bb">ast_applicationmap_item::app</a></div><div class="ttdeci">const ast_string_field app</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/daa/include_2asterisk_2features__config_8h_source.html#l00246">include/asterisk/features_config.h:246</a></div></div>
<div class="ttc" id="structast__bridge__features_html"><div class="ttname"><a href="../../db/dba/structast__bridge__features.html">ast_bridge_features</a></div><div class="ttdoc">Structure that contains features information. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00263">bridge_features.h:263</a></div></div>
<div class="ttc" id="structast__applicationmap__item_html"><div class="ttname"><a href="../../d1/d94/structast__applicationmap__item.html">ast_applicationmap_item</a></div><div class="ttdoc">An applicationmap configuration item. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/daa/include_2asterisk_2features__config_8h_source.html#l00236">include/asterisk/features_config.h:236</a></div></div>
<div class="ttc" id="features_8h_html_a3f4a95405348aa63ef907e692901011fa1d106267aa4d386c2354dc57b8ec6a40"><div class="ttname"><a href="../../de/d47/features_8h.html#a3f4a95405348aa63ef907e692901011fa1d106267aa4d386c2354dc57b8ec6a40">AST_FEATURE_FLAG_ONPEER</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d47/features_8h_source.html#l00035">features.h:35</a></div></div>
<div class="ttc" id="features_8h_html_a3f4a95405348aa63ef907e692901011fa2400fd06fffa892d753ab1957f653d41"><div class="ttname"><a href="../../de/d47/features_8h.html#a3f4a95405348aa63ef907e692901011fa2400fd06fffa892d753ab1957f653d41">AST_FEATURE_FLAG_ONSELF</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d47/features_8h_source.html#l00036">features.h:36</a></div></div>
<div class="ttc" id="test__config_8c_html_aecdc7cbd5dfa76493c0212caa55d706c"><div class="ttname"><a href="../../d8/d4f/test__config_8c.html#aecdc7cbd5dfa76493c0212caa55d706c">item</a></div><div class="ttdeci">static struct aco_type item</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d4f/test__config_8c_source.html#l01463">test_config.c:1463</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_af6258fe3537ca7a00532e1f790f3330b"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#af6258fe3537ca7a00532e1f790f3330b">dynamic_dtmf_hook_add</a></div><div class="ttdeci">static int dynamic_dtmf_hook_add(struct ast_bridge_features *features, unsigned int flags, const char *dtmf, const char *feature_name, const char *app_name, const char *app_args, const char *moh_class)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00544">bridge_basic.c:544</a></div></div>
<div class="ttc" id="structast__applicationmap__item_html_ace9168767fc3707cf5f0a7d049682ba3"><div class="ttname"><a href="../../d1/d94/structast__applicationmap__item.html#ace9168767fc3707cf5f0a7d049682ba3">ast_applicationmap_item::name</a></div><div class="ttdeci">const ast_string_field name</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/daa/include_2asterisk_2features__config_8h_source.html#l00246">include/asterisk/features_config.h:246</a></div></div>
<div class="ttc" id="structast__applicationmap__item_html_a29743e921dc8da3504ed538bbbd7993a"><div class="ttname"><a href="../../d1/d94/structast__applicationmap__item.html#a29743e921dc8da3504ed538bbbd7993a">ast_applicationmap_item::activate_on_self</a></div><div class="ttdeci">unsigned int activate_on_self</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/daa/include_2asterisk_2features__config_8h_source.html#l00250">include/asterisk/features_config.h:250</a></div></div>
<div class="ttc" id="structast__applicationmap__item_html_a4d7e45c30745640b0b0f9bf8809248cb"><div class="ttname"><a href="../../d1/d94/structast__applicationmap__item.html#a4d7e45c30745640b0b0f9bf8809248cb">ast_applicationmap_item::moh_class</a></div><div class="ttdeci">const ast_string_field moh_class</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/daa/include_2asterisk_2features__config_8h_source.html#l00246">include/asterisk/features_config.h:246</a></div></div>
<div class="ttc" id="structast__applicationmap__item_html_a88b653351dac1ea48a768287c004b791"><div class="ttname"><a href="../../d1/d94/structast__applicationmap__item.html#a88b653351dac1ea48a768287c004b791">ast_applicationmap_item::dtmf</a></div><div class="ttdeci">char dtmf[AST_FEATURE_MAX_LEN]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/daa/include_2asterisk_2features__config_8h_source.html#l00248">include/asterisk/features_config.h:248</a></div></div>
<div class="ttc" id="structast__applicationmap__item_html_a60ca104d6eca08634abb81a2cf8f1ed0"><div class="ttname"><a href="../../d1/d94/structast__applicationmap__item.html#a60ca104d6eca08634abb81a2cf8f1ed0">ast_applicationmap_item::app_data</a></div><div class="ttdeci">const ast_string_field app_data</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/daa/include_2asterisk_2features__config_8h_source.html#l00246">include/asterisk/features_config.h:246</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af815ae36fd4901cf53e2c583047d61c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af815ae36fd4901cf53e2c583047d61c5">&#9670;&nbsp;</a></span>stimulate_attended_transfer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void stimulate_attended_transfer </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dd/d9e/structattended__transfer__properties.html">attended_transfer_properties</a> *&#160;</td>
          <td class="paramname"><em>props</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290">attended_transfer_stimulus</a>&#160;</td>
          <td class="paramname"><em>stimulus</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01532">1532</a> of file <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html">bridge_basic.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00718">ao2_lock</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00730">ao2_unlock</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00204">ast_calloc</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00201">ast_cond_signal</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00730">AST_LIST_INSERT_TAIL</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01305">attended_transfer_properties::cond</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01285">stimulus_list::next</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01284">stimulus_list::stimulus</a>, and <a class="el" href="../../dd/d9e/structattended__transfer__properties.html#aeebf9c950dc8f5b06d18da553326d0c9">attended_transfer_properties::stimulus_queue</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02741">atxfer_abort()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02755">atxfer_complete()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02783">atxfer_swap()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02769">atxfer_threeway()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02797">atxfer_transferer_hangup()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02388">recall_callback()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02939">recall_pull()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02901">transfer_pull()</a>, and <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02820">transfer_target_framehook_cb()</a>.</p>
<div class="fragment"><div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;{</div><div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d7c/structstimulus__list.html">stimulus_list</a> *list;</div><div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;</div><div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;   list = <a class="code" href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a>(1, <span class="keyword">sizeof</span>(*list));</div><div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;   <span class="keywordflow">if</span> (!list) {</div><div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Unable to push event to attended transfer queue. Expect transfer to fail\n&quot;</span>);</div><div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;   }</div><div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;</div><div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;   list-&gt;<a class="code" href="../../d0/d7c/structstimulus__list.html#a2a66314a9b56796b01e9c1fa8db21b8a">stimulus</a> = <a class="code" href="../../d0/d7c/structstimulus__list.html#a2a66314a9b56796b01e9c1fa8db21b8a">stimulus</a>;</div><div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aa9fdb5d0a6157a56060d9f7279fe6c49">ao2_lock</a>(props);</div><div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a4d258b4525e63c435d7de579d3f46960">AST_LIST_INSERT_TAIL</a>(&amp;props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#aeebf9c950dc8f5b06d18da553326d0c9">stimulus_queue</a>, list, <a class="code" href="../../d0/d7c/structstimulus__list.html#ae96e83508764c11bfe48a05e2e679af6">next</a>);</div><div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#ae2cdf274a5da241c3ad7324d82bf6af0">ast_cond_signal</a>(&amp;props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a1c7181c39f99ee801943a0d0aa9872b9">cond</a>);</div><div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a>(props);</div><div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;}</div><div class="ttc" id="structattended__transfer__properties_html_aeebf9c950dc8f5b06d18da553326d0c9"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html#aeebf9c950dc8f5b06d18da553326d0c9">attended_transfer_properties::stimulus_queue</a></div><div class="ttdeci">struct attended_transfer_properties::@353 stimulus_queue</div></div>
<div class="ttc" id="astobj2_8h_html_a9998bd156b936636a8780385e9a910b2"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a></div><div class="ttdeci">#define ao2_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00730">astobj2.h:730</a></div></div>
<div class="ttc" id="lock_8h_html_ae2cdf274a5da241c3ad7324d82bf6af0"><div class="ttname"><a href="../../dd/d42/lock_8h.html#ae2cdf274a5da241c3ad7324d82bf6af0">ast_cond_signal</a></div><div class="ttdeci">#define ast_cond_signal(cond)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00201">lock.h:201</a></div></div>
<div class="ttc" id="structattended__transfer__properties_html_a1c7181c39f99ee801943a0d0aa9872b9"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html#a1c7181c39f99ee801943a0d0aa9872b9">attended_transfer_properties::cond</a></div><div class="ttdeci">ast_cond_t cond</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01305">bridge_basic.c:1305</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="structstimulus__list_html_ae96e83508764c11bfe48a05e2e679af6"><div class="ttname"><a href="../../d0/d7c/structstimulus__list.html#ae96e83508764c11bfe48a05e2e679af6">stimulus_list::next</a></div><div class="ttdeci">struct stimulus_list * next</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01285">bridge_basic.c:1285</a></div></div>
<div class="ttc" id="astobj2_8h_html_aa9fdb5d0a6157a56060d9f7279fe6c49"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aa9fdb5d0a6157a56060d9f7279fe6c49">ao2_lock</a></div><div class="ttdeci">#define ao2_lock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00718">astobj2.h:718</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a4d258b4525e63c435d7de579d3f46960"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a4d258b4525e63c435d7de579d3f46960">AST_LIST_INSERT_TAIL</a></div><div class="ttdeci">#define AST_LIST_INSERT_TAIL(head, elm, field)</div><div class="ttdoc">Appends a list entry to the tail of a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00730">linkedlists.h:730</a></div></div>
<div class="ttc" id="astmm_8h_html_ae0cd4c5524b01287ab19cbe233d9cebb"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a></div><div class="ttdeci">#define ast_calloc(num, len)</div><div class="ttdoc">A wrapper for calloc() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00204">astmm.h:204</a></div></div>
<div class="ttc" id="structstimulus__list_html_a2a66314a9b56796b01e9c1fa8db21b8a"><div class="ttname"><a href="../../d0/d7c/structstimulus__list.html#a2a66314a9b56796b01e9c1fa8db21b8a">stimulus_list::stimulus</a></div><div class="ttdeci">enum attended_transfer_stimulus stimulus</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01284">bridge_basic.c:1284</a></div></div>
<div class="ttc" id="structstimulus__list_html"><div class="ttname"><a href="../../d0/d7c/structstimulus__list.html">stimulus_list</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01283">bridge_basic.c:1283</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2f8705385084d443451ef49e7f40d4f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f8705385084d443451ef49e7f40d4f2">&#9670;&nbsp;</a></span>stream_failsound()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void stream_failsound </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Helper method to stream a fail sound on a channel. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chan</td><td>The channel to stream the fail sound to </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01755">1755</a> of file <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html">bridge_basic.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d7b/channel_8h_source.html#l02945">ast_channel_lock</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../d2/d4d/file_8h_source.html#l00047">AST_DIGIT_NONE</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../de/d71/features__config_8c_source.html#l01163">ast_get_chan_features_xferfailsound()</a>, and <a class="el" href="../../d6/d13/file_8c_source.html#l01814">ast_stream_and_wait()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l03295">feature_attended_transfer()</a>.</p>
<div class="fragment"><div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;{</div><div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;   <span class="keywordtype">char</span> *sound;</div><div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;</div><div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(chan);</div><div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;   sound = <a class="code" href="../../d0/daa/include_2asterisk_2features__config_8h.html#a9f156dfb17ad35f64cf800987ee55f49">ast_get_chan_features_xferfailsound</a>(chan);</div><div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;</div><div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;   <span class="keywordflow">if</span> (sound) {</div><div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;      <a class="code" href="../../d2/d4d/file_8h.html#a95b94a020720147325a486e210b36775">ast_stream_and_wait</a>(chan, sound, <a class="code" href="../../d2/d4d/file_8h.html#abb7bdff3c549191072878402b0a0ca9c">AST_DIGIT_NONE</a>);</div><div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(sound);</div><div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;   }</div><div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;}</div><div class="ttc" id="channel_8h_html_a493bdebe876caafb8ee535853310364a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a></div><div class="ttdeci">#define ast_channel_lock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02945">channel.h:2945</a></div></div>
<div class="ttc" id="file_8h_html_abb7bdff3c549191072878402b0a0ca9c"><div class="ttname"><a href="../../d2/d4d/file_8h.html#abb7bdff3c549191072878402b0a0ca9c">AST_DIGIT_NONE</a></div><div class="ttdeci">#define AST_DIGIT_NONE</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d4d/file_8h_source.html#l00047">file.h:47</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="file_8h_html_a95b94a020720147325a486e210b36775"><div class="ttname"><a href="../../d2/d4d/file_8h.html#a95b94a020720147325a486e210b36775">ast_stream_and_wait</a></div><div class="ttdeci">int ast_stream_and_wait(struct ast_channel *chan, const char *file, const char *digits)</div><div class="ttdoc">stream file until digit If the file name is non-empty, try to play it. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d13/file_8c_source.html#l01814">file.c:1814</a></div></div>
<div class="ttc" id="include_2asterisk_2features__config_8h_html_a9f156dfb17ad35f64cf800987ee55f49"><div class="ttname"><a href="../../d0/daa/include_2asterisk_2features__config_8h.html#a9f156dfb17ad35f64cf800987ee55f49">ast_get_chan_features_xferfailsound</a></div><div class="ttdeci">char * ast_get_chan_features_xferfailsound(struct ast_channel *chan)</div><div class="ttdoc">Get the transfer configuration option xferfailsound. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d71/features__config_8c_source.html#l01163">features_config.c:1163</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a847063c820a5222d329e04057abe2ad8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a847063c820a5222d329e04057abe2ad8">&#9670;&nbsp;</a></span>threeway_enter()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int threeway_enter </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dd/d9e/structattended__transfer__properties.html">attended_transfer_properties</a> *&#160;</td>
          <td class="paramname"><em>props</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02192">2192</a> of file <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html">bridge_basic.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d7b/channel_8h_source.html#l02992">ast_channel_cleanup</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01897">bridge_merge()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01618">get_transfer_parties()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01717">play_sound()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01668">publish_transfer_threeway()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01313">attended_transfer_properties::target_bridge</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01317">attended_transfer_properties::transfer_target</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01309">attended_transfer_properties::transferee_bridge</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01315">attended_transfer_properties::transferer</a>, and <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01303">attended_transfer_properties::xfersound</a>.</p>
<div class="fragment"><div class="line"><a name="l02193"></a><span class="lineno"> 2193</span>&#160;{</div><div class="line"><a name="l02194"></a><span class="lineno"> 2194</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *transferee_channel;</div><div class="line"><a name="l02195"></a><span class="lineno"> 2195</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *target_channel;</div><div class="line"><a name="l02196"></a><span class="lineno"> 2196</span>&#160;</div><div class="line"><a name="l02197"></a><span class="lineno"> 2197</span>&#160;   <a class="code" href="../../d7/d9b/bridge__basic_8c.html#aeadd7c4bd948297093b832e8f9d0f48c">get_transfer_parties</a>(props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a43cf79e5f3675b2cdf001bceacb02e72">transferer</a>, props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a7c148ea37d33eb1640a17177c700be43">transferee_bridge</a>, props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#ab45c59137417246eaa392b3d8319fbc3">target_bridge</a>,</div><div class="line"><a name="l02198"></a><span class="lineno"> 2198</span>&#160;         &amp;transferee_channel, &amp;target_channel);</div><div class="line"><a name="l02199"></a><span class="lineno"> 2199</span>&#160;   <a class="code" href="../../d7/d9b/bridge__basic_8c.html#af86a26e82b3a594e937e8d4739822492">bridge_merge</a>(props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a7c148ea37d33eb1640a17177c700be43">transferee_bridge</a>, props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#ab45c59137417246eaa392b3d8319fbc3">target_bridge</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0);</div><div class="line"><a name="l02200"></a><span class="lineno"> 2200</span>&#160;   <a class="code" href="../../d7/d9b/bridge__basic_8c.html#ae8bd14a986527f92e849a79a8af550ed">play_sound</a>(props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#af359fe2738df581812a3c9f7d3e32f10">transfer_target</a>, props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#aa79f71a801e58cd6889780e185e9a5d3">xfersound</a>);</div><div class="line"><a name="l02201"></a><span class="lineno"> 2201</span>&#160;   <a class="code" href="../../d7/d9b/bridge__basic_8c.html#ae8bd14a986527f92e849a79a8af550ed">play_sound</a>(props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a43cf79e5f3675b2cdf001bceacb02e72">transferer</a>, props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#aa79f71a801e58cd6889780e185e9a5d3">xfersound</a>);</div><div class="line"><a name="l02202"></a><span class="lineno"> 2202</span>&#160;   <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a8cc33fcb814da6a0dd05f9821f784b53">publish_transfer_threeway</a>(props, transferee_channel, target_channel);</div><div class="line"><a name="l02203"></a><span class="lineno"> 2203</span>&#160;</div><div class="line"><a name="l02204"></a><span class="lineno"> 2204</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#ae93ebb3372a2d9495ae3c5417dd95cd5">ast_channel_cleanup</a>(transferee_channel);</div><div class="line"><a name="l02205"></a><span class="lineno"> 2205</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#ae93ebb3372a2d9495ae3c5417dd95cd5">ast_channel_cleanup</a>(target_channel);</div><div class="line"><a name="l02206"></a><span class="lineno"> 2206</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02207"></a><span class="lineno"> 2207</span>&#160;}</div><div class="ttc" id="structast__channel_html"><div class="ttname"><a href="../../df/d3c/structast__channel.html">ast_channel</a></div><div class="ttdoc">Main Channel structure associated with a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00073">channel_internal_api.c:73</a></div></div>
<div class="ttc" id="structattended__transfer__properties_html_aa79f71a801e58cd6889780e185e9a5d3"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html#aa79f71a801e58cd6889780e185e9a5d3">attended_transfer_properties::xfersound</a></div><div class="ttdeci">const ast_string_field xfersound</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01303">bridge_basic.c:1303</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a8cc33fcb814da6a0dd05f9821f784b53"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a8cc33fcb814da6a0dd05f9821f784b53">publish_transfer_threeway</a></div><div class="ttdeci">static void publish_transfer_threeway(struct attended_transfer_properties *props, struct ast_channel *transferee_channel, struct ast_channel *target_channel)</div><div class="ttdoc">Send a stasis publication for an attended transfer that ends in a threeway call. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01668">bridge_basic.c:1668</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_af86a26e82b3a594e937e8d4739822492"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#af86a26e82b3a594e937e8d4739822492">bridge_merge</a></div><div class="ttdeci">static void bridge_merge(struct ast_bridge *dest, struct ast_bridge *src, struct ast_channel **kick_channels, unsigned int num_channels)</div><div class="ttdoc">Wrapper for bridge_do_merge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01897">bridge_basic.c:1897</a></div></div>
<div class="ttc" id="structattended__transfer__properties_html_a7c148ea37d33eb1640a17177c700be43"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html#a7c148ea37d33eb1640a17177c700be43">attended_transfer_properties::transferee_bridge</a></div><div class="ttdeci">struct ast_bridge * transferee_bridge</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01309">bridge_basic.c:1309</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structattended__transfer__properties_html_af359fe2738df581812a3c9f7d3e32f10"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html#af359fe2738df581812a3c9f7d3e32f10">attended_transfer_properties::transfer_target</a></div><div class="ttdeci">struct ast_channel * transfer_target</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01317">bridge_basic.c:1317</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_ae8bd14a986527f92e849a79a8af550ed"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#ae8bd14a986527f92e849a79a8af550ed">play_sound</a></div><div class="ttdeci">static void play_sound(struct ast_channel *chan, const char *sound)</div><div class="ttdoc">Helper method to play a sound on a channel in a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01717">bridge_basic.c:1717</a></div></div>
<div class="ttc" id="channel_8h_html_ae93ebb3372a2d9495ae3c5417dd95cd5"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#ae93ebb3372a2d9495ae3c5417dd95cd5">ast_channel_cleanup</a></div><div class="ttdeci">#define ast_channel_cleanup(c)</div><div class="ttdoc">Cleanup a channel reference. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02992">channel.h:2992</a></div></div>
<div class="ttc" id="structattended__transfer__properties_html_ab45c59137417246eaa392b3d8319fbc3"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html#ab45c59137417246eaa392b3d8319fbc3">attended_transfer_properties::target_bridge</a></div><div class="ttdeci">struct ast_bridge * target_bridge</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01313">bridge_basic.c:1313</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_aeadd7c4bd948297093b832e8f9d0f48c"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#aeadd7c4bd948297093b832e8f9d0f48c">get_transfer_parties</a></div><div class="ttdeci">static void get_transfer_parties(struct ast_channel *transferer, struct ast_bridge *transferee_bridge, struct ast_bridge *target_bridge, struct ast_channel **transferee, struct ast_channel **transfer_target)</div><div class="ttdoc">determine transferee and transfer target for an attended transfer </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01618">bridge_basic.c:1618</a></div></div>
<div class="ttc" id="structattended__transfer__properties_html_a43cf79e5f3675b2cdf001bceacb02e72"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html#a43cf79e5f3675b2cdf001bceacb02e72">attended_transfer_properties::transferer</a></div><div class="ttdeci">struct ast_channel * transferer</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01315">bridge_basic.c:1315</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aff57702b35576ceb2437a234a2175b7b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff57702b35576ceb2437a234a2175b7b">&#9670;&nbsp;</a></span>transfer_pull()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void transfer_pull </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *&#160;</td>
          <td class="paramname"><em>bridge_channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../dd/d9e/structattended__transfer__properties.html">attended_transfer_properties</a> *&#160;</td>
          <td class="paramname"><em>props</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02901">2901</a> of file <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html">bridge_basic.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l10783">ast_channel_get_bridge_channel()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02945">ast_channel_lock</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00420">AST_LIST_FIRST</a>, <a class="el" href="../../de/d41/bridge__channel_8h_source.html#l00062">BRIDGE_CHANNEL_STATE_WAIT</a>, <a class="el" href="../../de/d41/bridge__channel_8h_source.html#l00089">ast_bridge_channel::state</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01532">stimulate_attended_transfer()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01244">STIMULUS_TRANSFER_TARGET_HANGUP</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01240">STIMULUS_TRANSFEREE_HANGUP</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01309">attended_transfer_properties::transferee_bridge</a>, and <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01315">attended_transfer_properties::transferer</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02980">bridge_personality_atxfer_pull()</a>.</p>
<div class="fragment"><div class="line"><a name="l02902"></a><span class="lineno"> 2902</span>&#160;{</div><div class="line"><a name="l02903"></a><span class="lineno"> 2903</span>&#160;   <span class="keywordflow">if</span> (self-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a97e3bedeadf444995deb6fab68f57e21">num_channels</a> &gt; 1 || bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a871f4f1d537a1cd524ee8c28b623104f">state</a> == <a class="code" href="../../de/d41/bridge__channel_8h.html#ab44a00c2c23eaeec1d8b61eb254eecaaad84ac14921aab9ebb49fdf063ee22853">BRIDGE_CHANNEL_STATE_WAIT</a>) {</div><div class="line"><a name="l02904"></a><span class="lineno"> 2904</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l02905"></a><span class="lineno"> 2905</span>&#160;   }</div><div class="line"><a name="l02906"></a><span class="lineno"> 2906</span>&#160;</div><div class="line"><a name="l02907"></a><span class="lineno"> 2907</span>&#160;   <span class="keywordflow">if</span> (self-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a97e3bedeadf444995deb6fab68f57e21">num_channels</a> == 1) {</div><div class="line"><a name="l02908"></a><span class="lineno"> 2908</span>&#160;      <span class="keyword">struct </span><a class="code" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *transferer_bridge_channel;</div><div class="line"><a name="l02909"></a><span class="lineno"> 2909</span>&#160;      <span class="keywordtype">int</span> not_transferer;</div><div class="line"><a name="l02910"></a><span class="lineno"> 2910</span>&#160;</div><div class="line"><a name="l02911"></a><span class="lineno"> 2911</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a43cf79e5f3675b2cdf001bceacb02e72">transferer</a>);</div><div class="line"><a name="l02912"></a><span class="lineno"> 2912</span>&#160;      transferer_bridge_channel = <a class="code" href="../../d5/d7b/channel_8h.html#a9b6409c38af733c46eead884d86dd284">ast_channel_get_bridge_channel</a>(props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a43cf79e5f3675b2cdf001bceacb02e72">transferer</a>);</div><div class="line"><a name="l02913"></a><span class="lineno"> 2913</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a43cf79e5f3675b2cdf001bceacb02e72">transferer</a>);</div><div class="line"><a name="l02914"></a><span class="lineno"> 2914</span>&#160;</div><div class="line"><a name="l02915"></a><span class="lineno"> 2915</span>&#160;      <span class="keywordflow">if</span> (!transferer_bridge_channel) {</div><div class="line"><a name="l02916"></a><span class="lineno"> 2916</span>&#160;         <span class="keywordflow">return</span>;</div><div class="line"><a name="l02917"></a><span class="lineno"> 2917</span>&#160;      }</div><div class="line"><a name="l02918"></a><span class="lineno"> 2918</span>&#160;</div><div class="line"><a name="l02919"></a><span class="lineno"> 2919</span>&#160;      not_transferer = <a class="code" href="../../df/d90/linkedlists_8h.html#adf1959c5c03a3a706da97ad2f49617e5">AST_LIST_FIRST</a>(&amp;self-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a77542a877d8ed62331c5b3b6aa3e87a7">channels</a>) != transferer_bridge_channel;</div><div class="line"><a name="l02920"></a><span class="lineno"> 2920</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(transferer_bridge_channel, -1);</div><div class="line"><a name="l02921"></a><span class="lineno"> 2921</span>&#160;      <span class="keywordflow">if</span> (not_transferer) {</div><div class="line"><a name="l02922"></a><span class="lineno"> 2922</span>&#160;         <span class="keywordflow">return</span>;</div><div class="line"><a name="l02923"></a><span class="lineno"> 2923</span>&#160;      }</div><div class="line"><a name="l02924"></a><span class="lineno"> 2924</span>&#160;   }</div><div class="line"><a name="l02925"></a><span class="lineno"> 2925</span>&#160;</div><div class="line"><a name="l02926"></a><span class="lineno"> 2926</span>&#160;   <span class="comment">/* Reaching this point means that either</span></div><div class="line"><a name="l02927"></a><span class="lineno"> 2927</span>&#160;<span class="comment">    * 1) The bridge has no channels in it</span></div><div class="line"><a name="l02928"></a><span class="lineno"> 2928</span>&#160;<span class="comment">    * 2) The bridge has one channel, and it&#39;s the transferer</span></div><div class="line"><a name="l02929"></a><span class="lineno"> 2929</span>&#160;<span class="comment">    * In either case, it indicates that the non-transferer parties</span></div><div class="line"><a name="l02930"></a><span class="lineno"> 2930</span>&#160;<span class="comment">    * are no longer in the bridge.</span></div><div class="line"><a name="l02931"></a><span class="lineno"> 2931</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l02932"></a><span class="lineno"> 2932</span>&#160;   <span class="keywordflow">if</span> (<span class="keyword">self</span> == props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a7c148ea37d33eb1640a17177c700be43">transferee_bridge</a>) {</div><div class="line"><a name="l02933"></a><span class="lineno"> 2933</span>&#160;      <a class="code" href="../../d7/d9b/bridge__basic_8c.html#af815ae36fd4901cf53e2c583047d61c5">stimulate_attended_transfer</a>(props, <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a5bea635a52d3e646fe86091457310934">STIMULUS_TRANSFEREE_HANGUP</a>);</div><div class="line"><a name="l02934"></a><span class="lineno"> 2934</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02935"></a><span class="lineno"> 2935</span>&#160;      <a class="code" href="../../d7/d9b/bridge__basic_8c.html#af815ae36fd4901cf53e2c583047d61c5">stimulate_attended_transfer</a>(props, <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a5b7c4fdcec2b5bea9e9be459dc924492">STIMULUS_TRANSFER_TARGET_HANGUP</a>);</div><div class="line"><a name="l02936"></a><span class="lineno"> 2936</span>&#160;   }</div><div class="line"><a name="l02937"></a><span class="lineno"> 2937</span>&#160;}</div><div class="ttc" id="channel_8h_html_a493bdebe876caafb8ee535853310364a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a></div><div class="ttdeci">#define ast_channel_lock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02945">channel.h:2945</a></div></div>
<div class="ttc" id="linkedlists_8h_html_adf1959c5c03a3a706da97ad2f49617e5"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#adf1959c5c03a3a706da97ad2f49617e5">AST_LIST_FIRST</a></div><div class="ttdeci">#define AST_LIST_FIRST(head)</div><div class="ttdoc">Returns the first entry contained in a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00420">linkedlists.h:420</a></div></div>
<div class="ttc" id="structattended__transfer__properties_html_a7c148ea37d33eb1640a17177c700be43"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html#a7c148ea37d33eb1640a17177c700be43">attended_transfer_properties::transferee_bridge</a></div><div class="ttdeci">struct ast_bridge * transferee_bridge</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01309">bridge_basic.c:1309</a></div></div>
<div class="ttc" id="structast__bridge__channel_html_a871f4f1d537a1cd524ee8c28b623104f"><div class="ttname"><a href="../../d5/dca/structast__bridge__channel.html#a871f4f1d537a1cd524ee8c28b623104f">ast_bridge_channel::state</a></div><div class="ttdeci">enum bridge_channel_state state</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00089">bridge_channel.h:89</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290a5bea635a52d3e646fe86091457310934"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a5bea635a52d3e646fe86091457310934">STIMULUS_TRANSFEREE_HANGUP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01240">bridge_basic.c:1240</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290a5b7c4fdcec2b5bea9e9be459dc924492"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a5b7c4fdcec2b5bea9e9be459dc924492">STIMULUS_TRANSFER_TARGET_HANGUP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01244">bridge_basic.c:1244</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_af815ae36fd4901cf53e2c583047d61c5"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#af815ae36fd4901cf53e2c583047d61c5">stimulate_attended_transfer</a></div><div class="ttdeci">static void stimulate_attended_transfer(struct attended_transfer_properties *props, enum attended_transfer_stimulus stimulus)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01532">bridge_basic.c:1532</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="channel_8h_html_a9b6409c38af733c46eead884d86dd284"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a9b6409c38af733c46eead884d86dd284">ast_channel_get_bridge_channel</a></div><div class="ttdeci">struct ast_bridge_channel * ast_channel_get_bridge_channel(struct ast_channel *chan)</div><div class="ttdoc">Get a reference to the channel&amp;#39;s bridge pointer. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l10783">channel.c:10783</a></div></div>
<div class="ttc" id="structast__bridge_html_a77542a877d8ed62331c5b3b6aa3e87a7"><div class="ttname"><a href="../../d4/d84/structast__bridge.html#a77542a877d8ed62331c5b3b6aa3e87a7">ast_bridge::channels</a></div><div class="ttdeci">struct ast_bridge_channels_list channels</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00371">bridge.h:371</a></div></div>
<div class="ttc" id="structast__bridge__channel_html"><div class="ttname"><a href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a></div><div class="ttdoc">Structure that contains information regarding a channel in a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00084">bridge_channel.h:84</a></div></div>
<div class="ttc" id="bridge__channel_8h_html_ab44a00c2c23eaeec1d8b61eb254eecaaad84ac14921aab9ebb49fdf063ee22853"><div class="ttname"><a href="../../de/d41/bridge__channel_8h.html#ab44a00c2c23eaeec1d8b61eb254eecaaad84ac14921aab9ebb49fdf063ee22853">BRIDGE_CHANNEL_STATE_WAIT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00062">bridge_channel.h:62</a></div></div>
<div class="ttc" id="structattended__transfer__properties_html_a43cf79e5f3675b2cdf001bceacb02e72"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html#a43cf79e5f3675b2cdf001bceacb02e72">attended_transfer_properties::transferer</a></div><div class="ttdeci">struct ast_channel * transferer</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01315">bridge_basic.c:1315</a></div></div>
<div class="ttc" id="structast__bridge_html_a97e3bedeadf444995deb6fab68f57e21"><div class="ttname"><a href="../../d4/d84/structast__bridge.html#a97e3bedeadf444995deb6fab68f57e21">ast_bridge::num_channels</a></div><div class="ttdeci">unsigned int num_channels</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00381">bridge.h:381</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="adf2a3793c8e6538c0bba84e54273f392"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf2a3793c8e6538c0bba84e54273f392">&#9670;&nbsp;</a></span>transfer_target_framehook_cb()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="../../d0/d99/structast__frame.html">ast_frame</a>* transfer_target_framehook_cb </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d0/d99/structast__frame.html">ast_frame</a> *&#160;</td>
          <td class="paramname"><em>frame</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="../../db/d3c/framehook_8h.html#a54250544f50efde9156d2341e8da0614">ast_framehook_event</a>&#160;</td>
          <td class="paramname"><em>event</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Frame hook for transfer target channel. </p>
<p>This is used to determine if the transfer target or recall target has answered the outgoing call.</p>
<p>When an answer is detected, a stimulus is sent to the attended transfer monitor thread to indicate that the transfer target or recall target has answered.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chan</td><td>The channel the framehook is attached to. </td></tr>
    <tr><td class="paramname">frame</td><td>The frame being read or written. </td></tr>
    <tr><td class="paramname">event</td><td>What is being done with the frame. </td></tr>
    <tr><td class="paramname">data</td><td>The attended transfer properties. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02820">2820</a> of file <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html">bridge_basic.c</a>.</p>

<p class="reference">References <a class="el" href="../../d4/d28/channel_8c_source.html#l00445">ast_check_hangup()</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00281">AST_CONTROL_ANSWER</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00105">AST_FRAME_CONTROL</a>, <a class="el" href="../../da/dac/framehook_8c_source.html#l00177">ast_framehook_detach()</a>, <a class="el" href="../../db/d3c/framehook_8h_source.html#l00152">AST_FRAMEHOOK_EVENT_READ</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00167">ast_frame::frametype</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00152">ast_frame_subclass::integer</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01532">stimulate_attended_transfer()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01250">STIMULUS_RECALL_TARGET_ANSWER</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01246">STIMULUS_TRANSFER_TARGET_ANSWER</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00169">ast_frame::subclass</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01332">attended_transfer_properties::superstate</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00753">SUPERSTATE_TRANSFER</a>, and <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01344">attended_transfer_properties::target_framehook_id</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l03098">attach_framehook()</a>.</p>
<div class="fragment"><div class="line"><a name="l02822"></a><span class="lineno"> 2822</span>&#160;{</div><div class="line"><a name="l02823"></a><span class="lineno"> 2823</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/d9e/structattended__transfer__properties.html">attended_transfer_properties</a> *props = data;</div><div class="line"><a name="l02824"></a><span class="lineno"> 2824</span>&#160;</div><div class="line"><a name="l02825"></a><span class="lineno"> 2825</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../df/d7d/structevent.html">event</a> == <a class="code" href="../../db/d3c/framehook_8h.html#a54250544f50efde9156d2341e8da0614ab652eafa2595533d8c065a6ac426aa8a">AST_FRAMEHOOK_EVENT_READ</a> &amp;&amp;</div><div class="line"><a name="l02826"></a><span class="lineno"> 2826</span>&#160;         frame &amp;&amp; frame-&gt;<a class="code" href="../../d0/d99/structast__frame.html#a6937b93c56cb473b547eda454dca7b4c">frametype</a> == <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#ae2e1a9c4e048da387b761f619312d6e0ae1dae388b0d70825876e137ae95bb0c1">AST_FRAME_CONTROL</a> &amp;&amp;</div><div class="line"><a name="l02827"></a><span class="lineno"> 2827</span>&#160;         frame-&gt;<a class="code" href="../../d0/d99/structast__frame.html#a27237c48fdcd22556401f20c693811db">subclass</a>.<a class="code" href="../../d1/d9f/structast__frame__subclass.html#adece183191b0e700e039e59101e06105">integer</a> == <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390a9e3135920bd5bdbfd8c57fdaaa6b1dbe">AST_CONTROL_ANSWER</a> &amp;&amp;</div><div class="line"><a name="l02828"></a><span class="lineno"> 2828</span>&#160;         !<a class="code" href="../../d5/d7b/channel_8h.html#a9c63fff1d736568d1ee332dd7ea502bd">ast_check_hangup</a>(chan)) {</div><div class="line"><a name="l02829"></a><span class="lineno"> 2829</span>&#160;</div><div class="line"><a name="l02830"></a><span class="lineno"> 2830</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;Detected an answer for recall attempt on attended transfer %p\n&quot;</span>, props);</div><div class="line"><a name="l02831"></a><span class="lineno"> 2831</span>&#160;      <span class="keywordflow">if</span> (props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a3cc9de576dd4ea6fd88d41ef5db89a1d">superstate</a> == <a class="code" href="../../d7/d9b/bridge__basic_8c.html#af112aa999551130fecf72643a55825f1a2c2e0690e7bcd2336e63e8cbba077db5">SUPERSTATE_TRANSFER</a>) {</div><div class="line"><a name="l02832"></a><span class="lineno"> 2832</span>&#160;         <a class="code" href="../../d7/d9b/bridge__basic_8c.html#af815ae36fd4901cf53e2c583047d61c5">stimulate_attended_transfer</a>(props, <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a7615240e3b359bd98d9949ff77e102c2">STIMULUS_TRANSFER_TARGET_ANSWER</a>);</div><div class="line"><a name="l02833"></a><span class="lineno"> 2833</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02834"></a><span class="lineno"> 2834</span>&#160;         <a class="code" href="../../d7/d9b/bridge__basic_8c.html#af815ae36fd4901cf53e2c583047d61c5">stimulate_attended_transfer</a>(props, <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a49ac501f06885c9839a8833e0639d38f">STIMULUS_RECALL_TARGET_ANSWER</a>);</div><div class="line"><a name="l02835"></a><span class="lineno"> 2835</span>&#160;      }</div><div class="line"><a name="l02836"></a><span class="lineno"> 2836</span>&#160;      <a class="code" href="../../db/d3c/framehook_8h.html#a6e116259cae8c1e5cca074d05f0a3475">ast_framehook_detach</a>(chan, props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a8c2b1a95ccb17e4aeb11ccd4327e1839">target_framehook_id</a>);</div><div class="line"><a name="l02837"></a><span class="lineno"> 2837</span>&#160;      props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a8c2b1a95ccb17e4aeb11ccd4327e1839">target_framehook_id</a> = -1;</div><div class="line"><a name="l02838"></a><span class="lineno"> 2838</span>&#160;   }</div><div class="line"><a name="l02839"></a><span class="lineno"> 2839</span>&#160;</div><div class="line"><a name="l02840"></a><span class="lineno"> 2840</span>&#160;   <span class="keywordflow">return</span> frame;</div><div class="line"><a name="l02841"></a><span class="lineno"> 2841</span>&#160;}</div><div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290a49ac501f06885c9839a8833e0639d38f"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a49ac501f06885c9839a8833e0639d38f">STIMULUS_RECALL_TARGET_ANSWER</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01250">bridge_basic.c:1250</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_aedda41918e992000fe921f8f7363b390a9e3135920bd5bdbfd8c57fdaaa6b1dbe"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390a9e3135920bd5bdbfd8c57fdaaa6b1dbe">AST_CONTROL_ANSWER</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00281">include/asterisk/frame.h:281</a></div></div>
<div class="ttc" id="framehook_8h_html_a6e116259cae8c1e5cca074d05f0a3475"><div class="ttname"><a href="../../db/d3c/framehook_8h.html#a6e116259cae8c1e5cca074d05f0a3475">ast_framehook_detach</a></div><div class="ttdeci">int ast_framehook_detach(struct ast_channel *chan, int framehook_id)</div><div class="ttdoc">Detach an framehook from a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/dac/framehook_8c_source.html#l00177">framehook.c:177</a></div></div>
<div class="ttc" id="structevent_html"><div class="ttname"><a href="../../df/d7d/structevent.html">event</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d4d/astman_8c_source.html#l00222">astman.c:222</a></div></div>
<div class="ttc" id="structast__frame_html_a27237c48fdcd22556401f20c693811db"><div class="ttname"><a href="../../d0/d99/structast__frame.html#a27237c48fdcd22556401f20c693811db">ast_frame::subclass</a></div><div class="ttdeci">struct ast_frame_subclass subclass</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00169">include/asterisk/frame.h:169</a></div></div>
<div class="ttc" id="structast__frame__subclass_html_adece183191b0e700e039e59101e06105"><div class="ttname"><a href="../../d1/d9f/structast__frame__subclass.html#adece183191b0e700e039e59101e06105">ast_frame_subclass::integer</a></div><div class="ttdeci">int integer</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00152">include/asterisk/frame.h:152</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="channel_8h_html_a9c63fff1d736568d1ee332dd7ea502bd"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a9c63fff1d736568d1ee332dd7ea502bd">ast_check_hangup</a></div><div class="ttdeci">int ast_check_hangup(struct ast_channel *chan)</div><div class="ttdoc">Check to see if a channel is needing hang up. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l00445">channel.c:445</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_ae2e1a9c4e048da387b761f619312d6e0ae1dae388b0d70825876e137ae95bb0c1"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#ae2e1a9c4e048da387b761f619312d6e0ae1dae388b0d70825876e137ae95bb0c1">AST_FRAME_CONTROL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00105">include/asterisk/frame.h:105</a></div></div>
<div class="ttc" id="framehook_8h_html_a54250544f50efde9156d2341e8da0614ab652eafa2595533d8c065a6ac426aa8a"><div class="ttname"><a href="../../db/d3c/framehook_8h.html#a54250544f50efde9156d2341e8da0614ab652eafa2595533d8c065a6ac426aa8a">AST_FRAMEHOOK_EVENT_READ</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/d3c/framehook_8h_source.html#l00152">framehook.h:152</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_af815ae36fd4901cf53e2c583047d61c5"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#af815ae36fd4901cf53e2c583047d61c5">stimulate_attended_transfer</a></div><div class="ttdeci">static void stimulate_attended_transfer(struct attended_transfer_properties *props, enum attended_transfer_stimulus stimulus)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01532">bridge_basic.c:1532</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_af112aa999551130fecf72643a55825f1a2c2e0690e7bcd2336e63e8cbba077db5"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#af112aa999551130fecf72643a55825f1a2c2e0690e7bcd2336e63e8cbba077db5">SUPERSTATE_TRANSFER</a></div><div class="ttdoc">Transfer superstate. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l00753">bridge_basic.c:753</a></div></div>
<div class="ttc" id="structattended__transfer__properties_html_a8c2b1a95ccb17e4aeb11ccd4327e1839"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html#a8c2b1a95ccb17e4aeb11ccd4327e1839">attended_transfer_properties::target_framehook_id</a></div><div class="ttdeci">int target_framehook_id</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01344">bridge_basic.c:1344</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290a7615240e3b359bd98d9949ff77e102c2"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a7615240e3b359bd98d9949ff77e102c2">STIMULUS_TRANSFER_TARGET_ANSWER</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01246">bridge_basic.c:1246</a></div></div>
<div class="ttc" id="structast__frame_html_a6937b93c56cb473b547eda454dca7b4c"><div class="ttname"><a href="../../d0/d99/structast__frame.html#a6937b93c56cb473b547eda454dca7b4c">ast_frame::frametype</a></div><div class="ttdeci">enum ast_frame_type frametype</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00167">include/asterisk/frame.h:167</a></div></div>
<div class="ttc" id="structattended__transfer__properties_html_a3cc9de576dd4ea6fd88d41ef5db89a1d"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html#a3cc9de576dd4ea6fd88d41ef5db89a1d">attended_transfer_properties::superstate</a></div><div class="ttdeci">enum attended_transfer_superstate superstate</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01332">bridge_basic.c:1332</a></div></div>
<div class="ttc" id="structattended__transfer__properties_html"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html">attended_transfer_properties</a></div><div class="ttdoc">Collection of data related to an attended transfer attempt. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01291">bridge_basic.c:1291</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="acf9db5defda27c0fb2b419779a434431"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acf9db5defda27c0fb2b419779a434431">&#9670;&nbsp;</a></span>transfer_target_framehook_consume()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int transfer_target_framehook_consume </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h.html#ae2e1a9c4e048da387b761f619312d6e0">ast_frame_type</a>&#160;</td>
          <td class="paramname"><em>type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Callback function which informs upstream if we are consuming a frame of a specific type. </p>

<p class="definition">Definition at line <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02844">2844</a> of file <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html">bridge_basic.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00105">AST_FRAME_CONTROL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l03098">attach_framehook()</a>.</p>
<div class="fragment"><div class="line"><a name="l02845"></a><span class="lineno"> 2845</span>&#160;{</div><div class="line"><a name="l02846"></a><span class="lineno"> 2846</span>&#160;   <span class="keywordflow">return</span> (<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a> == <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#ae2e1a9c4e048da387b761f619312d6e0ae1dae388b0d70825876e137ae95bb0c1">AST_FRAME_CONTROL</a> ? 1 : 0);</div><div class="line"><a name="l02847"></a><span class="lineno"> 2847</span>&#160;}</div><div class="ttc" id="chan__ooh323_8c_html_a4d63fdfe5451ec2248c16a2739190c56"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a></div><div class="ttdeci">static const char type[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00109">chan_ooh323.c:109</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_ae2e1a9c4e048da387b761f619312d6e0ae1dae388b0d70825876e137ae95bb0c1"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#ae2e1a9c4e048da387b761f619312d6e0ae1dae388b0d70825876e137ae95bb0c1">AST_FRAME_CONTROL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00105">include/asterisk/frame.h:105</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3b85c66f1941a9f1900ad6aaf174e2db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b85c66f1941a9f1900ad6aaf174e2db">&#9670;&nbsp;</a></span>transfer_target_framehook_destroy_cb()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void transfer_target_framehook_destroy_cb </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02849">2849</a> of file <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html">bridge_basic.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l03098">attach_framehook()</a>.</p>
<div class="fragment"><div class="line"><a name="l02850"></a><span class="lineno"> 2850</span>&#160;{</div><div class="line"><a name="l02851"></a><span class="lineno"> 2851</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/d9e/structattended__transfer__properties.html">attended_transfer_properties</a> *props = data;</div><div class="line"><a name="l02852"></a><span class="lineno"> 2852</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>(props);</div><div class="line"><a name="l02853"></a><span class="lineno"> 2853</span>&#160;}</div><div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="structattended__transfer__properties_html"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html">attended_transfer_properties</a></div><div class="ttdoc">Collection of data related to an attended transfer attempt. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01291">bridge_basic.c:1291</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac08eea8a379a04d85eb9c21dc252e28d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac08eea8a379a04d85eb9c21dc252e28d">&#9670;&nbsp;</a></span>unhold()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void unhold </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Helper method to take a channel in a bridge off hold. </p>

<p class="definition">Definition at line <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01793">1793</a> of file <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html">bridge_basic.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d3/d32/bridge__channel_8c_source.html#l01193">ast_bridge_channel_write_unhold()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l10783">ast_channel_get_bridge_channel()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02945">ast_channel_lock</a>, and <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02214">consulting_exit()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02269">double_checking_exit()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02140">hesitant_enter()</a>, and <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02180">rebridge_enter()</a>.</p>
<div class="fragment"><div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;{</div><div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *bridge_channel;</div><div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;</div><div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;   <span class="keywordflow">if</span> (!chan) {</div><div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;   }</div><div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;</div><div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(chan);</div><div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;   bridge_channel = <a class="code" href="../../d5/d7b/channel_8h.html#a9b6409c38af733c46eead884d86dd284">ast_channel_get_bridge_channel</a>(chan);</div><div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;</div><div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;   <span class="keywordflow">if</span> (bridge_channel) {</div><div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;      <a class="code" href="../../de/d41/bridge__channel_8h.html#a4be080559ea3fc87e50aa29a95af74f0">ast_bridge_channel_write_unhold</a>(bridge_channel);</div><div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(bridge_channel, -1);</div><div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;   }</div><div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;}</div><div class="ttc" id="channel_8h_html_a493bdebe876caafb8ee535853310364a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a></div><div class="ttdeci">#define ast_channel_lock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02945">channel.h:2945</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="channel_8h_html_a9b6409c38af733c46eead884d86dd284"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a9b6409c38af733c46eead884d86dd284">ast_channel_get_bridge_channel</a></div><div class="ttdeci">struct ast_bridge_channel * ast_channel_get_bridge_channel(struct ast_channel *chan)</div><div class="ttdoc">Get a reference to the channel&amp;#39;s bridge pointer. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l10783">channel.c:10783</a></div></div>
<div class="ttc" id="structast__bridge__channel_html"><div class="ttname"><a href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a></div><div class="ttdoc">Structure that contains information regarding a channel in a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00084">bridge_channel.h:84</a></div></div>
<div class="ttc" id="bridge__channel_8h_html_a4be080559ea3fc87e50aa29a95af74f0"><div class="ttname"><a href="../../de/d41/bridge__channel_8h.html#a4be080559ea3fc87e50aa29a95af74f0">ast_bridge_channel_write_unhold</a></div><div class="ttdeci">int ast_bridge_channel_write_unhold(struct ast_bridge_channel *bridge_channel)</div><div class="ttdoc">Write an unhold frame into the bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d32/bridge__channel_8c_source.html#l01193">bridge_channel.c:1193</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a7465bfa0b297a1274a20e0bc77ba83cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7465bfa0b297a1274a20e0bc77ba83cd">&#9670;&nbsp;</a></span>wait_for_stimulus()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static enum <a class="el" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290">attended_transfer_stimulus</a> wait_for_stimulus </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dd/d9e/structattended__transfer__properties.html">attended_transfer_properties</a> *&#160;</td>
          <td class="paramname"><em>props</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02995">2995</a> of file <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html">bridge_basic.c</a>.</p>

<p class="reference">References <a class="el" href="../../da/df7/astobj2_8c_source.html#l00476">ao2_object_get_lockaddr()</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00204">ast_cond_timedwait</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00203">ast_cond_wait</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00832">AST_LIST_REMOVE_HEAD</a>, <a class="el" href="../../d4/dc5/extconf_8c_source.html#l02283">ast_tvadd()</a>, <a class="el" href="../../de/df7/time_8h_source.html#l00150">ast_tvnow()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01338">attended_transfer_properties::atxferloopdelay</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01340">attended_transfer_properties::atxfernoanswertimeout</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01305">attended_transfer_properties::cond</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02012">attended_transfer_state_properties::flags</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l01091">lock</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01285">stimulus_list::next</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00587">SCOPED_MUTEX</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01327">attended_transfer_properties::start</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01330">attended_transfer_properties::state</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01284">stimulus_list::stimulus</a>, <a class="el" href="../../dd/d9e/structattended__transfer__properties.html#aeebf9c950dc8f5b06d18da553326d0c9">attended_transfer_properties::stimulus_queue</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01252">STIMULUS_TIMEOUT</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01941">TRANSFER_STATE_FLAG_TIMED</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01937">TRANSFER_STATE_FLAG_TIMER_LOOP_DELAY</a>, and <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01935">TRANSFER_STATE_FLAG_TIMER_RESET</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l03044">attended_transfer_monitor_thread()</a>.</p>
<div class="fragment"><div class="line"><a name="l02996"></a><span class="lineno"> 2996</span>&#160;{</div><div class="line"><a name="l02997"></a><span class="lineno"> 2997</span>&#160;   <span class="keyword">enum</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290">attended_transfer_stimulus</a> stimulus;</div><div class="line"><a name="l02998"></a><span class="lineno"> 2998</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d7c/structstimulus__list.html">stimulus_list</a> *list;</div><div class="line"><a name="l02999"></a><span class="lineno"> 2999</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#ab13590ad27fac3b9c7c7b792c603c9b3">SCOPED_MUTEX</a>(<a class="code" href="../../df/d44/app__meetme_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#a503b6c7ced96f9b56ec59c115cbeb29a">ao2_object_get_lockaddr</a>(props));</div><div class="line"><a name="l03000"></a><span class="lineno"> 3000</span>&#160;</div><div class="line"><a name="l03001"></a><span class="lineno"> 3001</span>&#160;   <span class="keywordflow">while</span> (!(list = <a class="code" href="../../df/d90/linkedlists_8h.html#aadfe2a69fbba4f27c201266a2ca5f989">AST_LIST_REMOVE_HEAD</a>(&amp;props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#aeebf9c950dc8f5b06d18da553326d0c9">stimulus_queue</a>, <a class="code" href="../../d0/d7c/structstimulus__list.html#ae96e83508764c11bfe48a05e2e679af6">next</a>))) {</div><div class="line"><a name="l03002"></a><span class="lineno"> 3002</span>&#160;      <span class="keywordflow">if</span> (!(<a class="code" href="../../d7/d9b/bridge__basic_8c.html#a53b49a058262e14d4371a6c30024ea7c">state_properties</a>[props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a3442cf1d72950ce9d62ea7006f6ce78c">state</a>].<a class="code" href="../../da/dab/structattended__transfer__state__properties.html#ae6b100fa03f6354f4e200dfe9f6fd376">flags</a> &amp; <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a5daf4668b3fba0aceee2e74622d74858a621578eb561adbc4c3564e1b3fb27b24">TRANSFER_STATE_FLAG_TIMED</a>)) {</div><div class="line"><a name="l03003"></a><span class="lineno"> 3003</span>&#160;         <a class="code" href="../../dd/d42/lock_8h.html#a36233c5520173c095bf732a788356aee">ast_cond_wait</a>(&amp;props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a1c7181c39f99ee801943a0d0aa9872b9">cond</a>, <a class="code" href="../../df/d44/app__meetme_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>);</div><div class="line"><a name="l03004"></a><span class="lineno"> 3004</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l03005"></a><span class="lineno"> 3005</span>&#160;         <span class="keyword">struct </span>timeval relative_timeout = { 0, };</div><div class="line"><a name="l03006"></a><span class="lineno"> 3006</span>&#160;         <span class="keyword">struct </span>timeval absolute_timeout;</div><div class="line"><a name="l03007"></a><span class="lineno"> 3007</span>&#160;         <span class="keyword">struct </span>timespec timeout_arg;</div><div class="line"><a name="l03008"></a><span class="lineno"> 3008</span>&#160;</div><div class="line"><a name="l03009"></a><span class="lineno"> 3009</span>&#160;         <span class="keywordflow">if</span> (<a class="code" href="../../d7/d9b/bridge__basic_8c.html#a53b49a058262e14d4371a6c30024ea7c">state_properties</a>[props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a3442cf1d72950ce9d62ea7006f6ce78c">state</a>].<a class="code" href="../../da/dab/structattended__transfer__state__properties.html#ae6b100fa03f6354f4e200dfe9f6fd376">flags</a> &amp; <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a5daf4668b3fba0aceee2e74622d74858a0d7b5731d9b9cd923680bb5562d0c019">TRANSFER_STATE_FLAG_TIMER_RESET</a>) {</div><div class="line"><a name="l03010"></a><span class="lineno"> 3010</span>&#160;            props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#ad80305b5e16da9c2675d5f057bd69386">start</a> = <a class="code" href="../../de/df7/time_8h.html#ad3899efb6f0e348556ef69f5b16aa7f7">ast_tvnow</a>();</div><div class="line"><a name="l03011"></a><span class="lineno"> 3011</span>&#160;         }</div><div class="line"><a name="l03012"></a><span class="lineno"> 3012</span>&#160;</div><div class="line"><a name="l03013"></a><span class="lineno"> 3013</span>&#160;         <span class="keywordflow">if</span> (<a class="code" href="../../d7/d9b/bridge__basic_8c.html#a53b49a058262e14d4371a6c30024ea7c">state_properties</a>[props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a3442cf1d72950ce9d62ea7006f6ce78c">state</a>].<a class="code" href="../../da/dab/structattended__transfer__state__properties.html#ae6b100fa03f6354f4e200dfe9f6fd376">flags</a> &amp; <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a5daf4668b3fba0aceee2e74622d74858ad501f6c4422c2b4da7986f4c07ed3e6b">TRANSFER_STATE_FLAG_TIMER_LOOP_DELAY</a>) {</div><div class="line"><a name="l03014"></a><span class="lineno"> 3014</span>&#160;            relative_timeout.tv_sec = props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a4bc55c41a64defa80a9448de4def2f43">atxferloopdelay</a>;</div><div class="line"><a name="l03015"></a><span class="lineno"> 3015</span>&#160;         } <span class="keywordflow">else</span> {</div><div class="line"><a name="l03016"></a><span class="lineno"> 3016</span>&#160;            <span class="comment">/* Implied TRANSFER_STATE_FLAG_TIMER_ATXFER_NO_ANSWER */</span></div><div class="line"><a name="l03017"></a><span class="lineno"> 3017</span>&#160;            relative_timeout.tv_sec = props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a7322bc7373f8fafaa70eaf4ed6d84095">atxfernoanswertimeout</a>;</div><div class="line"><a name="l03018"></a><span class="lineno"> 3018</span>&#160;         }</div><div class="line"><a name="l03019"></a><span class="lineno"> 3019</span>&#160;</div><div class="line"><a name="l03020"></a><span class="lineno"> 3020</span>&#160;         absolute_timeout = <a class="code" href="../../de/df7/time_8h.html#a97e1bb8fbd7a103212789e87e7ed6073">ast_tvadd</a>(props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#ad80305b5e16da9c2675d5f057bd69386">start</a>, relative_timeout);</div><div class="line"><a name="l03021"></a><span class="lineno"> 3021</span>&#160;         timeout_arg.tv_sec = absolute_timeout.tv_sec;</div><div class="line"><a name="l03022"></a><span class="lineno"> 3022</span>&#160;         timeout_arg.tv_nsec = absolute_timeout.tv_usec * 1000;</div><div class="line"><a name="l03023"></a><span class="lineno"> 3023</span>&#160;</div><div class="line"><a name="l03024"></a><span class="lineno"> 3024</span>&#160;         <span class="keywordflow">if</span> (<a class="code" href="../../dd/d42/lock_8h.html#a6add1f30b2d53ca9384b15529a6f126e">ast_cond_timedwait</a>(&amp;props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a1c7181c39f99ee801943a0d0aa9872b9">cond</a>, <a class="code" href="../../df/d44/app__meetme_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>, &amp;timeout_arg) == ETIMEDOUT) {</div><div class="line"><a name="l03025"></a><span class="lineno"> 3025</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290ad811a249bfc0c9c585652f461b127180">STIMULUS_TIMEOUT</a>;</div><div class="line"><a name="l03026"></a><span class="lineno"> 3026</span>&#160;         }</div><div class="line"><a name="l03027"></a><span class="lineno"> 3027</span>&#160;      }</div><div class="line"><a name="l03028"></a><span class="lineno"> 3028</span>&#160;   }</div><div class="line"><a name="l03029"></a><span class="lineno"> 3029</span>&#160;   stimulus = list-&gt;<a class="code" href="../../d0/d7c/structstimulus__list.html#a2a66314a9b56796b01e9c1fa8db21b8a">stimulus</a>;</div><div class="line"><a name="l03030"></a><span class="lineno"> 3030</span>&#160;   <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(list);</div><div class="line"><a name="l03031"></a><span class="lineno"> 3031</span>&#160;   <span class="keywordflow">return</span> stimulus;</div><div class="line"><a name="l03032"></a><span class="lineno"> 3032</span>&#160;}</div><div class="ttc" id="structattended__transfer__properties_html_aeebf9c950dc8f5b06d18da553326d0c9"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html#aeebf9c950dc8f5b06d18da553326d0c9">attended_transfer_properties::stimulus_queue</a></div><div class="ttdeci">struct attended_transfer_properties::@353 stimulus_queue</div></div>
<div class="ttc" id="bridge__basic_8c_html_a5daf4668b3fba0aceee2e74622d74858a0d7b5731d9b9cd923680bb5562d0c019"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a5daf4668b3fba0aceee2e74622d74858a0d7b5731d9b9cd923680bb5562d0c019">TRANSFER_STATE_FLAG_TIMER_RESET</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01935">bridge_basic.c:1935</a></div></div>
<div class="ttc" id="structattended__transfer__properties_html_ad80305b5e16da9c2675d5f057bd69386"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html#ad80305b5e16da9c2675d5f057bd69386">attended_transfer_properties::start</a></div><div class="ttdeci">struct timeval start</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01327">bridge_basic.c:1327</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a53b49a058262e14d4371a6c30024ea7c"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a53b49a058262e14d4371a6c30024ea7c">state_properties</a></div><div class="ttdeci">static const struct attended_transfer_state_properties state_properties[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l02015">bridge_basic.c:2015</a></div></div>
<div class="ttc" id="lock_8h_html_a36233c5520173c095bf732a788356aee"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a36233c5520173c095bf732a788356aee">ast_cond_wait</a></div><div class="ttdeci">#define ast_cond_wait(cond, mutex)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00203">lock.h:203</a></div></div>
<div class="ttc" id="time_8h_html_ad3899efb6f0e348556ef69f5b16aa7f7"><div class="ttname"><a href="../../de/df7/time_8h.html#ad3899efb6f0e348556ef69f5b16aa7f7">ast_tvnow</a></div><div class="ttdeci">struct timeval ast_tvnow(void)</div><div class="ttdoc">Returns current timeval. Meant to replace calls to gettimeofday(). </div><div class="ttdef"><b>Definition:</b> <a href="../../de/df7/time_8h_source.html#l00150">time.h:150</a></div></div>
<div class="ttc" id="structattended__transfer__properties_html_a1c7181c39f99ee801943a0d0aa9872b9"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html#a1c7181c39f99ee801943a0d0aa9872b9">attended_transfer_properties::cond</a></div><div class="ttdeci">ast_cond_t cond</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01305">bridge_basic.c:1305</a></div></div>
<div class="ttc" id="astobj2_8h_html_a503b6c7ced96f9b56ec59c115cbeb29a"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a503b6c7ced96f9b56ec59c115cbeb29a">ao2_object_get_lockaddr</a></div><div class="ttdeci">void * ao2_object_get_lockaddr(void *obj)</div><div class="ttdoc">Return the mutex lock address of an object. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00476">astobj2.c:476</a></div></div>
<div class="ttc" id="structstimulus__list_html_ae96e83508764c11bfe48a05e2e679af6"><div class="ttname"><a href="../../d0/d7c/structstimulus__list.html#ae96e83508764c11bfe48a05e2e679af6">stimulus_list::next</a></div><div class="ttdeci">struct stimulus_list * next</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01285">bridge_basic.c:1285</a></div></div>
<div class="ttc" id="lock_8h_html_ab13590ad27fac3b9c7c7b792c603c9b3"><div class="ttname"><a href="../../dd/d42/lock_8h.html#ab13590ad27fac3b9c7c7b792c603c9b3">SCOPED_MUTEX</a></div><div class="ttdeci">#define SCOPED_MUTEX(varname, lock)</div><div class="ttdoc">scoped lock specialization for mutexes </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00587">lock.h:587</a></div></div>
<div class="ttc" id="structattended__transfer__properties_html_a3442cf1d72950ce9d62ea7006f6ce78c"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html#a3442cf1d72950ce9d62ea7006f6ce78c">attended_transfer_properties::state</a></div><div class="ttdeci">enum attended_transfer_state state</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01330">bridge_basic.c:1330</a></div></div>
<div class="ttc" id="structattended__transfer__properties_html_a4bc55c41a64defa80a9448de4def2f43"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html#a4bc55c41a64defa80a9448de4def2f43">attended_transfer_properties::atxferloopdelay</a></div><div class="ttdeci">int atxferloopdelay</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01338">bridge_basic.c:1338</a></div></div>
<div class="ttc" id="app__meetme_8c_html_adf04f66344e3fb0a6f6a69bf39d19902"><div class="ttname"><a href="../../df/d44/app__meetme_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a></div><div class="ttdeci">ast_mutex_t lock</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d44/app__meetme_8c_source.html#l01091">app_meetme.c:1091</a></div></div>
<div class="ttc" id="linkedlists_8h_html_aadfe2a69fbba4f27c201266a2ca5f989"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#aadfe2a69fbba4f27c201266a2ca5f989">AST_LIST_REMOVE_HEAD</a></div><div class="ttdeci">#define AST_LIST_REMOVE_HEAD(head, field)</div><div class="ttdoc">Removes and returns the head entry from a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00832">linkedlists.h:832</a></div></div>
<div class="ttc" id="time_8h_html_a97e1bb8fbd7a103212789e87e7ed6073"><div class="ttname"><a href="../../de/df7/time_8h.html#a97e1bb8fbd7a103212789e87e7ed6073">ast_tvadd</a></div><div class="ttdeci">struct timeval ast_tvadd(struct timeval a, struct timeval b)</div><div class="ttdoc">Returns the sum of two timevals a + b. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc5/extconf_8c_source.html#l02283">extconf.c:2283</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a5daf4668b3fba0aceee2e74622d74858ad501f6c4422c2b4da7986f4c07ed3e6b"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a5daf4668b3fba0aceee2e74622d74858ad501f6c4422c2b4da7986f4c07ed3e6b">TRANSFER_STATE_FLAG_TIMER_LOOP_DELAY</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01937">bridge_basic.c:1937</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290">attended_transfer_stimulus</a></div><div class="ttdeci">attended_transfer_stimulus</div><div class="ttdoc">Stimuli that can cause transfer state changes. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01236">bridge_basic.c:1236</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="structstimulus__list_html_a2a66314a9b56796b01e9c1fa8db21b8a"><div class="ttname"><a href="../../d0/d7c/structstimulus__list.html#a2a66314a9b56796b01e9c1fa8db21b8a">stimulus_list::stimulus</a></div><div class="ttdeci">enum attended_transfer_stimulus stimulus</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01284">bridge_basic.c:1284</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290ad811a249bfc0c9c585652f461b127180"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290ad811a249bfc0c9c585652f461b127180">STIMULUS_TIMEOUT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01252">bridge_basic.c:1252</a></div></div>
<div class="ttc" id="structattended__transfer__state__properties_html_ae6b100fa03f6354f4e200dfe9f6fd376"><div class="ttname"><a href="../../da/dab/structattended__transfer__state__properties.html#ae6b100fa03f6354f4e200dfe9f6fd376">attended_transfer_state_properties::flags</a></div><div class="ttdeci">enum attended_transfer_state_flags flags</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l02012">bridge_basic.c:2012</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a5daf4668b3fba0aceee2e74622d74858a621578eb561adbc4c3564e1b3fb27b24"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a5daf4668b3fba0aceee2e74622d74858a621578eb561adbc4c3564e1b3fb27b24">TRANSFER_STATE_FLAG_TIMED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01941">bridge_basic.c:1941</a></div></div>
<div class="ttc" id="structattended__transfer__properties_html_a7322bc7373f8fafaa70eaf4ed6d84095"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html#a7322bc7373f8fafaa70eaf4ed6d84095">attended_transfer_properties::atxfernoanswertimeout</a></div><div class="ttdeci">int atxfernoanswertimeout</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01340">bridge_basic.c:1340</a></div></div>
<div class="ttc" id="structstimulus__list_html"><div class="ttname"><a href="../../d0/d7c/structstimulus__list.html">stimulus_list</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01283">bridge_basic.c:1283</a></div></div>
<div class="ttc" id="lock_8h_html_a6add1f30b2d53ca9384b15529a6f126e"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a6add1f30b2d53ca9384b15529a6f126e">ast_cond_timedwait</a></div><div class="ttdeci">#define ast_cond_timedwait(cond, mutex, time)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00204">lock.h:204</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6830515039ff20487de0c1bd0beb4d3f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6830515039ff20487de0c1bd0beb4d3f">&#9670;&nbsp;</a></span>wait_to_recall_enter()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int wait_to_recall_enter </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dd/d9e/structattended__transfer__properties.html">attended_transfer_properties</a> *&#160;</td>
          <td class="paramname"><em>props</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02695">2695</a> of file <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html">bridge_basic.c</a>.</p>

<p class="reference">References <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01844">bridge_hold()</a>, and <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01309">attended_transfer_properties::transferee_bridge</a>.</p>
<div class="fragment"><div class="line"><a name="l02696"></a><span class="lineno"> 2696</span>&#160;{</div><div class="line"><a name="l02697"></a><span class="lineno"> 2697</span>&#160;   <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a44d042922859dabab3d8b87333525240">bridge_hold</a>(props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a7c148ea37d33eb1640a17177c700be43">transferee_bridge</a>);</div><div class="line"><a name="l02698"></a><span class="lineno"> 2698</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02699"></a><span class="lineno"> 2699</span>&#160;}</div><div class="ttc" id="structattended__transfer__properties_html_a7c148ea37d33eb1640a17177c700be43"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html#a7c148ea37d33eb1640a17177c700be43">attended_transfer_properties::transferee_bridge</a></div><div class="ttdeci">struct ast_bridge * transferee_bridge</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01309">bridge_basic.c:1309</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a44d042922859dabab3d8b87333525240"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a44d042922859dabab3d8b87333525240">bridge_hold</a></div><div class="ttdeci">static void bridge_hold(struct ast_bridge *bridge)</div><div class="ttdoc">Helper method to send a hold frame to all channels in a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01844">bridge_basic.c:1844</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a5dea091014d721db5e7537f68779a155"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5dea091014d721db5e7537f68779a155">&#9670;&nbsp;</a></span>wait_to_recall_exit()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static enum <a class="el" href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8">attended_transfer_state</a> wait_to_recall_exit </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dd/d9e/structattended__transfer__properties.html">attended_transfer_properties</a> *&#160;</td>
          <td class="paramname"><em>props</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290">attended_transfer_stimulus</a>&#160;</td>
          <td class="paramname"><em>stimulus</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02701">2701</a> of file <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html">bridge_basic.c</a>.</p>

<p class="reference">References <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01857">bridge_unhold()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01330">attended_transfer_properties::state</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02000">attended_transfer_state_properties::state_name</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01254">STIMULUS_DTMF_ATXFER_ABORT</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01256">STIMULUS_DTMF_ATXFER_COMPLETE</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01260">STIMULUS_DTMF_ATXFER_SWAP</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01258">STIMULUS_DTMF_ATXFER_THREEWAY</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01238">STIMULUS_NONE</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01250">STIMULUS_RECALL_TARGET_ANSWER</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01248">STIMULUS_RECALL_TARGET_HANGUP</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01268">stimulus_strs</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01252">STIMULUS_TIMEOUT</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01246">STIMULUS_TRANSFER_TARGET_ANSWER</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01244">STIMULUS_TRANSFER_TARGET_HANGUP</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01240">STIMULUS_TRANSFEREE_HANGUP</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01242">STIMULUS_TRANSFERER_HANGUP</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01230">TRANSFER_FAIL</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01114">TRANSFER_RECALLING</a>, and <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01309">attended_transfer_properties::transferee_bridge</a>.</p>
<div class="fragment"><div class="line"><a name="l02703"></a><span class="lineno"> 2703</span>&#160;{</div><div class="line"><a name="l02704"></a><span class="lineno"> 2704</span>&#160;   <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a7f816040356560389bfcdf5bdc218cb6">bridge_unhold</a>(props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a7c148ea37d33eb1640a17177c700be43">transferee_bridge</a>);</div><div class="line"><a name="l02705"></a><span class="lineno"> 2705</span>&#160;   <span class="keywordflow">switch</span> (stimulus) {</div><div class="line"><a name="l02706"></a><span class="lineno"> 2706</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a5bea635a52d3e646fe86091457310934">STIMULUS_TRANSFEREE_HANGUP</a>:</div><div class="line"><a name="l02707"></a><span class="lineno"> 2707</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8a8383b06b8e11a417dca5329407478ee8">TRANSFER_FAIL</a>;</div><div class="line"><a name="l02708"></a><span class="lineno"> 2708</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290ad811a249bfc0c9c585652f461b127180">STIMULUS_TIMEOUT</a>:</div><div class="line"><a name="l02709"></a><span class="lineno"> 2709</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8afa5ecefd14d3ddf6fb4e8c9279747613">TRANSFER_RECALLING</a>;</div><div class="line"><a name="l02710"></a><span class="lineno"> 2710</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290ae3857d51b5e8970ac1e3714bc1d46fe1">STIMULUS_NONE</a>:</div><div class="line"><a name="l02711"></a><span class="lineno"> 2711</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a72d10e2721ad55addb0b84175f5280d0">STIMULUS_DTMF_ATXFER_ABORT</a>:</div><div class="line"><a name="l02712"></a><span class="lineno"> 2712</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a9b6689669975b3d4767ca6284d721775">STIMULUS_DTMF_ATXFER_COMPLETE</a>:</div><div class="line"><a name="l02713"></a><span class="lineno"> 2713</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a6f6c487fc2723093806c52b62c7ae80a">STIMULUS_DTMF_ATXFER_THREEWAY</a>:</div><div class="line"><a name="l02714"></a><span class="lineno"> 2714</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290ac4c70db40c8740dc43a331ab483f3c1c">STIMULUS_DTMF_ATXFER_SWAP</a>:</div><div class="line"><a name="l02715"></a><span class="lineno"> 2715</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a5b7c4fdcec2b5bea9e9be459dc924492">STIMULUS_TRANSFER_TARGET_HANGUP</a>:</div><div class="line"><a name="l02716"></a><span class="lineno"> 2716</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a7615240e3b359bd98d9949ff77e102c2">STIMULUS_TRANSFER_TARGET_ANSWER</a>:</div><div class="line"><a name="l02717"></a><span class="lineno"> 2717</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a800bb00b2e8ab7a8f11092b3bb2fba11">STIMULUS_TRANSFERER_HANGUP</a>:</div><div class="line"><a name="l02718"></a><span class="lineno"> 2718</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a41d7bde458129adf0121c70ba361258a">STIMULUS_RECALL_TARGET_HANGUP</a>:</div><div class="line"><a name="l02719"></a><span class="lineno"> 2719</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a49ac501f06885c9839a8833e0639d38f">STIMULUS_RECALL_TARGET_ANSWER</a>:</div><div class="line"><a name="l02720"></a><span class="lineno"> 2720</span>&#160;   <span class="keywordflow">default</span>:</div><div class="line"><a name="l02721"></a><span class="lineno"> 2721</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Unexpected stimulus &#39;%s&#39; received in attended transfer state &#39;%s&#39;\n&quot;</span>,</div><div class="line"><a name="l02722"></a><span class="lineno"> 2722</span>&#160;            <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a6c44b02ff21d30611e99f11620684e42">stimulus_strs</a>[stimulus], <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a53b49a058262e14d4371a6c30024ea7c">state_properties</a>[props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a3442cf1d72950ce9d62ea7006f6ce78c">state</a>].<a class="code" href="../../da/dab/structattended__transfer__state__properties.html#ab00617be22fdc8c996d36e4082f2410a">state_name</a>);</div><div class="line"><a name="l02723"></a><span class="lineno"> 2723</span>&#160;      <span class="keywordflow">return</span> props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a3442cf1d72950ce9d62ea7006f6ce78c">state</a>;</div><div class="line"><a name="l02724"></a><span class="lineno"> 2724</span>&#160;   }</div><div class="line"><a name="l02725"></a><span class="lineno"> 2725</span>&#160;}</div><div class="ttc" id="bridge__basic_8c_html_a53b49a058262e14d4371a6c30024ea7c"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a53b49a058262e14d4371a6c30024ea7c">state_properties</a></div><div class="ttdeci">static const struct attended_transfer_state_properties state_properties[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l02015">bridge_basic.c:2015</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290a49ac501f06885c9839a8833e0639d38f"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a49ac501f06885c9839a8833e0639d38f">STIMULUS_RECALL_TARGET_ANSWER</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01250">bridge_basic.c:1250</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="structattended__transfer__properties_html_a7c148ea37d33eb1640a17177c700be43"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html#a7c148ea37d33eb1640a17177c700be43">attended_transfer_properties::transferee_bridge</a></div><div class="ttdeci">struct ast_bridge * transferee_bridge</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01309">bridge_basic.c:1309</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290a41d7bde458129adf0121c70ba361258a"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a41d7bde458129adf0121c70ba361258a">STIMULUS_RECALL_TARGET_HANGUP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01248">bridge_basic.c:1248</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_aad3447b0c2c1b069ac9437816db513d8a8383b06b8e11a417dca5329407478ee8"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8a8383b06b8e11a417dca5329407478ee8">TRANSFER_FAIL</a></div><div class="ttdoc">Fail state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01230">bridge_basic.c:1230</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290a9b6689669975b3d4767ca6284d721775"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a9b6689669975b3d4767ca6284d721775">STIMULUS_DTMF_ATXFER_COMPLETE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01256">bridge_basic.c:1256</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a6c44b02ff21d30611e99f11620684e42"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a6c44b02ff21d30611e99f11620684e42">stimulus_strs</a></div><div class="ttdeci">const char * stimulus_strs[]</div><div class="ttdoc">String representations of the various stimuli. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01268">bridge_basic.c:1268</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290a5bea635a52d3e646fe86091457310934"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a5bea635a52d3e646fe86091457310934">STIMULUS_TRANSFEREE_HANGUP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01240">bridge_basic.c:1240</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290a800bb00b2e8ab7a8f11092b3bb2fba11"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a800bb00b2e8ab7a8f11092b3bb2fba11">STIMULUS_TRANSFERER_HANGUP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01242">bridge_basic.c:1242</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="structattended__transfer__properties_html_a3442cf1d72950ce9d62ea7006f6ce78c"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html#a3442cf1d72950ce9d62ea7006f6ce78c">attended_transfer_properties::state</a></div><div class="ttdeci">enum attended_transfer_state state</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01330">bridge_basic.c:1330</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290a72d10e2721ad55addb0b84175f5280d0"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a72d10e2721ad55addb0b84175f5280d0">STIMULUS_DTMF_ATXFER_ABORT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01254">bridge_basic.c:1254</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290a5b7c4fdcec2b5bea9e9be459dc924492"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a5b7c4fdcec2b5bea9e9be459dc924492">STIMULUS_TRANSFER_TARGET_HANGUP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01244">bridge_basic.c:1244</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290ae3857d51b5e8970ac1e3714bc1d46fe1"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290ae3857d51b5e8970ac1e3714bc1d46fe1">STIMULUS_NONE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01238">bridge_basic.c:1238</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290a6f6c487fc2723093806c52b62c7ae80a"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a6f6c487fc2723093806c52b62c7ae80a">STIMULUS_DTMF_ATXFER_THREEWAY</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01258">bridge_basic.c:1258</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_aad3447b0c2c1b069ac9437816db513d8afa5ecefd14d3ddf6fb4e8c9279747613"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8afa5ecefd14d3ddf6fb4e8c9279747613">TRANSFER_RECALLING</a></div><div class="ttdoc">Recalling state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01114">bridge_basic.c:1114</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290ad811a249bfc0c9c585652f461b127180"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290ad811a249bfc0c9c585652f461b127180">STIMULUS_TIMEOUT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01252">bridge_basic.c:1252</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290a7615240e3b359bd98d9949ff77e102c2"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a7615240e3b359bd98d9949ff77e102c2">STIMULUS_TRANSFER_TARGET_ANSWER</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01246">bridge_basic.c:1246</a></div></div>
<div class="ttc" id="structattended__transfer__state__properties_html_ab00617be22fdc8c996d36e4082f2410a"><div class="ttname"><a href="../../da/dab/structattended__transfer__state__properties.html#ab00617be22fdc8c996d36e4082f2410a">attended_transfer_state_properties::state_name</a></div><div class="ttdeci">const char * state_name</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l02000">bridge_basic.c:2000</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a7f816040356560389bfcdf5bdc218cb6"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a7f816040356560389bfcdf5bdc218cb6">bridge_unhold</a></div><div class="ttdeci">static void bridge_unhold(struct ast_bridge *bridge)</div><div class="ttdoc">Helper method to send an unhold frame to all channels in a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01857">bridge_basic.c:1857</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290ac4c70db40c8740dc43a331ab483f3c1c"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290ac4c70db40c8740dc43a331ab483f3c1c">STIMULUS_DTMF_ATXFER_SWAP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01260">bridge_basic.c:1260</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a9d2f2f7958b8320cdceebc5078bbbf20"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d2f2f7958b8320cdceebc5078bbbf20">&#9670;&nbsp;</a></span>wait_to_retransfer_enter()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int wait_to_retransfer_enter </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dd/d9e/structattended__transfer__properties.html">attended_transfer_properties</a> *&#160;</td>
          <td class="paramname"><em>props</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02569">2569</a> of file <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html">bridge_basic.c</a>.</p>

<p class="reference">References <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01844">bridge_hold()</a>, and <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01309">attended_transfer_properties::transferee_bridge</a>.</p>
<div class="fragment"><div class="line"><a name="l02570"></a><span class="lineno"> 2570</span>&#160;{</div><div class="line"><a name="l02571"></a><span class="lineno"> 2571</span>&#160;   <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a44d042922859dabab3d8b87333525240">bridge_hold</a>(props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a7c148ea37d33eb1640a17177c700be43">transferee_bridge</a>);</div><div class="line"><a name="l02572"></a><span class="lineno"> 2572</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02573"></a><span class="lineno"> 2573</span>&#160;}</div><div class="ttc" id="structattended__transfer__properties_html_a7c148ea37d33eb1640a17177c700be43"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html#a7c148ea37d33eb1640a17177c700be43">attended_transfer_properties::transferee_bridge</a></div><div class="ttdeci">struct ast_bridge * transferee_bridge</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01309">bridge_basic.c:1309</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a44d042922859dabab3d8b87333525240"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a44d042922859dabab3d8b87333525240">bridge_hold</a></div><div class="ttdeci">static void bridge_hold(struct ast_bridge *bridge)</div><div class="ttdoc">Helper method to send a hold frame to all channels in a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01844">bridge_basic.c:1844</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab757d2057d2d08db7dcb09851df295f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab757d2057d2d08db7dcb09851df295f0">&#9670;&nbsp;</a></span>wait_to_retransfer_exit()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static enum <a class="el" href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8">attended_transfer_state</a> wait_to_retransfer_exit </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dd/d9e/structattended__transfer__properties.html">attended_transfer_properties</a> *&#160;</td>
          <td class="paramname"><em>props</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290">attended_transfer_stimulus</a>&#160;</td>
          <td class="paramname"><em>stimulus</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02575">2575</a> of file <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html">bridge_basic.c</a>.</p>

<p class="reference">References <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l03098">attach_framehook()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01857">bridge_unhold()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01330">attended_transfer_properties::state</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02000">attended_transfer_state_properties::state_name</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01254">STIMULUS_DTMF_ATXFER_ABORT</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01256">STIMULUS_DTMF_ATXFER_COMPLETE</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01260">STIMULUS_DTMF_ATXFER_SWAP</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01258">STIMULUS_DTMF_ATXFER_THREEWAY</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01238">STIMULUS_NONE</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01250">STIMULUS_RECALL_TARGET_ANSWER</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01248">STIMULUS_RECALL_TARGET_HANGUP</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01268">stimulus_strs</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01252">STIMULUS_TIMEOUT</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01246">STIMULUS_TRANSFER_TARGET_ANSWER</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01244">STIMULUS_TRANSFER_TARGET_HANGUP</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01240">STIMULUS_TRANSFEREE_HANGUP</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01242">STIMULUS_TRANSFERER_HANGUP</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01230">TRANSFER_FAIL</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01171">TRANSFER_RETRANSFER</a>, and <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01309">attended_transfer_properties::transferee_bridge</a>.</p>
<div class="fragment"><div class="line"><a name="l02577"></a><span class="lineno"> 2577</span>&#160;{</div><div class="line"><a name="l02578"></a><span class="lineno"> 2578</span>&#160;   <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a7f816040356560389bfcdf5bdc218cb6">bridge_unhold</a>(props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a7c148ea37d33eb1640a17177c700be43">transferee_bridge</a>);</div><div class="line"><a name="l02579"></a><span class="lineno"> 2579</span>&#160;   <span class="keywordflow">switch</span> (stimulus) {</div><div class="line"><a name="l02580"></a><span class="lineno"> 2580</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a5bea635a52d3e646fe86091457310934">STIMULUS_TRANSFEREE_HANGUP</a>:</div><div class="line"><a name="l02581"></a><span class="lineno"> 2581</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8a8383b06b8e11a417dca5329407478ee8">TRANSFER_FAIL</a>;</div><div class="line"><a name="l02582"></a><span class="lineno"> 2582</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290ad811a249bfc0c9c585652f461b127180">STIMULUS_TIMEOUT</a>:</div><div class="line"><a name="l02583"></a><span class="lineno"> 2583</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8a61cf446eec4f2188e90d11eec6fd2396">TRANSFER_RETRANSFER</a>;</div><div class="line"><a name="l02584"></a><span class="lineno"> 2584</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290ae3857d51b5e8970ac1e3714bc1d46fe1">STIMULUS_NONE</a>:</div><div class="line"><a name="l02585"></a><span class="lineno"> 2585</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a72d10e2721ad55addb0b84175f5280d0">STIMULUS_DTMF_ATXFER_ABORT</a>:</div><div class="line"><a name="l02586"></a><span class="lineno"> 2586</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a9b6689669975b3d4767ca6284d721775">STIMULUS_DTMF_ATXFER_COMPLETE</a>:</div><div class="line"><a name="l02587"></a><span class="lineno"> 2587</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a6f6c487fc2723093806c52b62c7ae80a">STIMULUS_DTMF_ATXFER_THREEWAY</a>:</div><div class="line"><a name="l02588"></a><span class="lineno"> 2588</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290ac4c70db40c8740dc43a331ab483f3c1c">STIMULUS_DTMF_ATXFER_SWAP</a>:</div><div class="line"><a name="l02589"></a><span class="lineno"> 2589</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a5b7c4fdcec2b5bea9e9be459dc924492">STIMULUS_TRANSFER_TARGET_HANGUP</a>:</div><div class="line"><a name="l02590"></a><span class="lineno"> 2590</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a7615240e3b359bd98d9949ff77e102c2">STIMULUS_TRANSFER_TARGET_ANSWER</a>:</div><div class="line"><a name="l02591"></a><span class="lineno"> 2591</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a800bb00b2e8ab7a8f11092b3bb2fba11">STIMULUS_TRANSFERER_HANGUP</a>:</div><div class="line"><a name="l02592"></a><span class="lineno"> 2592</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a41d7bde458129adf0121c70ba361258a">STIMULUS_RECALL_TARGET_HANGUP</a>:</div><div class="line"><a name="l02593"></a><span class="lineno"> 2593</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a49ac501f06885c9839a8833e0639d38f">STIMULUS_RECALL_TARGET_ANSWER</a>:</div><div class="line"><a name="l02594"></a><span class="lineno"> 2594</span>&#160;   <span class="keywordflow">default</span>:</div><div class="line"><a name="l02595"></a><span class="lineno"> 2595</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Unexpected stimulus &#39;%s&#39; received in attended transfer state &#39;%s&#39;\n&quot;</span>,</div><div class="line"><a name="l02596"></a><span class="lineno"> 2596</span>&#160;            <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a6c44b02ff21d30611e99f11620684e42">stimulus_strs</a>[stimulus], <a class="code" href="../../d7/d9b/bridge__basic_8c.html#a53b49a058262e14d4371a6c30024ea7c">state_properties</a>[props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a3442cf1d72950ce9d62ea7006f6ce78c">state</a>].<a class="code" href="../../da/dab/structattended__transfer__state__properties.html#ab00617be22fdc8c996d36e4082f2410a">state_name</a>);</div><div class="line"><a name="l02597"></a><span class="lineno"> 2597</span>&#160;      <span class="keywordflow">return</span> props-&gt;<a class="code" href="../../dd/d9e/structattended__transfer__properties.html#a3442cf1d72950ce9d62ea7006f6ce78c">state</a>;</div><div class="line"><a name="l02598"></a><span class="lineno"> 2598</span>&#160;   }</div><div class="line"><a name="l02599"></a><span class="lineno"> 2599</span>&#160;}</div><div class="ttc" id="bridge__basic_8c_html_a53b49a058262e14d4371a6c30024ea7c"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a53b49a058262e14d4371a6c30024ea7c">state_properties</a></div><div class="ttdeci">static const struct attended_transfer_state_properties state_properties[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l02015">bridge_basic.c:2015</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290a49ac501f06885c9839a8833e0639d38f"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a49ac501f06885c9839a8833e0639d38f">STIMULUS_RECALL_TARGET_ANSWER</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01250">bridge_basic.c:1250</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="structattended__transfer__properties_html_a7c148ea37d33eb1640a17177c700be43"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html#a7c148ea37d33eb1640a17177c700be43">attended_transfer_properties::transferee_bridge</a></div><div class="ttdeci">struct ast_bridge * transferee_bridge</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01309">bridge_basic.c:1309</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290a41d7bde458129adf0121c70ba361258a"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a41d7bde458129adf0121c70ba361258a">STIMULUS_RECALL_TARGET_HANGUP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01248">bridge_basic.c:1248</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_aad3447b0c2c1b069ac9437816db513d8a8383b06b8e11a417dca5329407478ee8"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8a8383b06b8e11a417dca5329407478ee8">TRANSFER_FAIL</a></div><div class="ttdoc">Fail state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01230">bridge_basic.c:1230</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290a9b6689669975b3d4767ca6284d721775"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a9b6689669975b3d4767ca6284d721775">STIMULUS_DTMF_ATXFER_COMPLETE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01256">bridge_basic.c:1256</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a6c44b02ff21d30611e99f11620684e42"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a6c44b02ff21d30611e99f11620684e42">stimulus_strs</a></div><div class="ttdeci">const char * stimulus_strs[]</div><div class="ttdoc">String representations of the various stimuli. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01268">bridge_basic.c:1268</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290a5bea635a52d3e646fe86091457310934"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a5bea635a52d3e646fe86091457310934">STIMULUS_TRANSFEREE_HANGUP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01240">bridge_basic.c:1240</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290a800bb00b2e8ab7a8f11092b3bb2fba11"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a800bb00b2e8ab7a8f11092b3bb2fba11">STIMULUS_TRANSFERER_HANGUP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01242">bridge_basic.c:1242</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_aad3447b0c2c1b069ac9437816db513d8a61cf446eec4f2188e90d11eec6fd2396"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#aad3447b0c2c1b069ac9437816db513d8a61cf446eec4f2188e90d11eec6fd2396">TRANSFER_RETRANSFER</a></div><div class="ttdoc">Retransfer state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01171">bridge_basic.c:1171</a></div></div>
<div class="ttc" id="structattended__transfer__properties_html_a3442cf1d72950ce9d62ea7006f6ce78c"><div class="ttname"><a href="../../dd/d9e/structattended__transfer__properties.html#a3442cf1d72950ce9d62ea7006f6ce78c">attended_transfer_properties::state</a></div><div class="ttdeci">enum attended_transfer_state state</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01330">bridge_basic.c:1330</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290a72d10e2721ad55addb0b84175f5280d0"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a72d10e2721ad55addb0b84175f5280d0">STIMULUS_DTMF_ATXFER_ABORT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01254">bridge_basic.c:1254</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290a5b7c4fdcec2b5bea9e9be459dc924492"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a5b7c4fdcec2b5bea9e9be459dc924492">STIMULUS_TRANSFER_TARGET_HANGUP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01244">bridge_basic.c:1244</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290ae3857d51b5e8970ac1e3714bc1d46fe1"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290ae3857d51b5e8970ac1e3714bc1d46fe1">STIMULUS_NONE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01238">bridge_basic.c:1238</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290a6f6c487fc2723093806c52b62c7ae80a"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a6f6c487fc2723093806c52b62c7ae80a">STIMULUS_DTMF_ATXFER_THREEWAY</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01258">bridge_basic.c:1258</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290ad811a249bfc0c9c585652f461b127180"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290ad811a249bfc0c9c585652f461b127180">STIMULUS_TIMEOUT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01252">bridge_basic.c:1252</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290a7615240e3b359bd98d9949ff77e102c2"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290a7615240e3b359bd98d9949ff77e102c2">STIMULUS_TRANSFER_TARGET_ANSWER</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01246">bridge_basic.c:1246</a></div></div>
<div class="ttc" id="structattended__transfer__state__properties_html_ab00617be22fdc8c996d36e4082f2410a"><div class="ttname"><a href="../../da/dab/structattended__transfer__state__properties.html#ab00617be22fdc8c996d36e4082f2410a">attended_transfer_state_properties::state_name</a></div><div class="ttdeci">const char * state_name</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l02000">bridge_basic.c:2000</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a7f816040356560389bfcdf5bdc218cb6"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a7f816040356560389bfcdf5bdc218cb6">bridge_unhold</a></div><div class="ttdeci">static void bridge_unhold(struct ast_bridge *bridge)</div><div class="ttdoc">Helper method to send an unhold frame to all channels in a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01857">bridge_basic.c:1857</a></div></div>
<div class="ttc" id="bridge__basic_8c_html_a4d527c82e3033559518a3626b8b03290ac4c70db40c8740dc43a331ab483f3c1c"><div class="ttname"><a href="../../d7/d9b/bridge__basic_8c.html#a4d527c82e3033559518a3626b8b03290ac4c70db40c8740dc43a331ab483f3c1c">STIMULUS_DTMF_ATXFER_SWAP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l01260">bridge_basic.c:1260</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a0cead317de0ed25caffc93f8b30d2860"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0cead317de0ed25caffc93f8b30d2860">&#9670;&nbsp;</a></span>ast_bridge_basic_v_table</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d2/dd3/structast__bridge__methods.html">ast_bridge_methods</a> ast_bridge_basic_v_table</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Bridge basic class virtual method table. </p>

<p class="definition">Definition at line <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l03526">3526</a> of file <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html">bridge_basic.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l03617">ast_bridge_basic_new()</a>, and <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l03639">ast_bridging_init_basic()</a>.</p>

</div>
</div>
<a id="a7c346e79c5a420fa078d3a43c498047d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7c346e79c5a420fa078d3a43c498047d">&#9670;&nbsp;</a></span>dtmf_features_info</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const struct <a class="el" href="../../d9/dfb/structast__datastore__info.html">ast_datastore_info</a> dtmf_features_info</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div><div class="line">   .type = <span class="stringliteral">&quot;bridge-dtmf-features&quot;</span>,</div><div class="line">   .destroy = <a class="code" href="../../d8/d8a/astmm_8h.html#ad42ab843b767e8b57162c10a158b75c3">ast_free_ptr</a>,</div><div class="line">}</div><div class="ttc" id="astmm_8h_html_ad42ab843b767e8b57162c10a158b75c3"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ad42ab843b767e8b57162c10a158b75c3">ast_free_ptr</a></div><div class="ttdeci">void ast_free_ptr(void *ptr)</div><div class="ttdoc">free() wrapper </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db0/astmm_8c_source.html#l01771">astmm.c:1771</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00082">82</a> of file <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html">bridge_basic.c</a>.</p>

</div>
</div>
<a id="a79d8a2fd1901dc403b769df45688ddf3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a79d8a2fd1901dc403b769df45688ddf3">&#9670;&nbsp;</a></span>personality_atxfer_v_table</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d2/dd3/structast__bridge__methods.html">ast_bridge_methods</a> personality_atxfer_v_table</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l03528">3528</a> of file <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html">bridge_basic.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l03639">ast_bridging_init_basic()</a>, and <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l03575">init_details()</a>.</p>

</div>
</div>
<a id="a3e91ff97b33d5886fdad081fdd8c5488"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e91ff97b33d5886fdad081fdd8c5488">&#9670;&nbsp;</a></span>personality_normal_v_table</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d2/dd3/structast__bridge__methods.html">ast_bridge_methods</a> personality_normal_v_table</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l03527">3527</a> of file <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html">bridge_basic.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l03639">ast_bridging_init_basic()</a>, and <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l03575">init_details()</a>.</p>

</div>
</div>
<a id="a53b49a058262e14d4371a6c30024ea7c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a53b49a058262e14d4371a6c30024ea7c">&#9670;&nbsp;</a></span>state_properties</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const struct <a class="el" href="../../da/dab/structattended__transfer__state__properties.html">attended_transfer_state_properties</a> state_properties[]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02015">2015</a> of file <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html">bridge_basic.c</a>.</p>

</div>
</div>
<a id="a6c44b02ff21d30611e99f11620684e42"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c44b02ff21d30611e99f11620684e42">&#9670;&nbsp;</a></span>stimulus_strs</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* stimulus_strs[]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>String representations of the various stimuli. </p>
<p>Used for debugging purposes </p>

<p class="definition">Definition at line <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01268">1268</a> of file <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html">bridge_basic.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l03044">attended_transfer_monitor_thread()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02349">blond_nonfinal_exit()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02106">calling_target_exit()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02214">consulting_exit()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02269">double_checking_exit()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02147">hesitant_exit()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02517">recalling_exit()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02664">retransfer_exit()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02701">wait_to_recall_exit()</a>, and <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02575">wait_to_retransfer_exit()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Aug 8 2021 19:44:53 for Asterisk - The Open Source Telephony Project by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
