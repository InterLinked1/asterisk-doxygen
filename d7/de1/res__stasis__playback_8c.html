<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Asterisk - The Open Source Telephony Project: res_stasis_playback.c File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Asterisk - The Open Source Telephony Project
   &#160;<span id="projectnumber">18.5.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_7b47cca4d318623bb4270ab1fb592ef5.html">res</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">res_stasis_playback.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>res_stasis playback support.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="../../db/db2/asterisk_8h_source.html">asterisk.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d3/d93/include_2asterisk_2app_8h_source.html">asterisk/app.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d5/da5/astobj2_8h_source.html">asterisk/astobj2.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d4/d56/bridge_8h_source.html">asterisk/bridge.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d5/dde/bridge__internal_8h_source.html">asterisk/bridge_internal.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d2/d4d/file_8h_source.html">asterisk/file.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d1/d8c/logger_8h_source.html">asterisk/logger.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d5/d16/module_8h_source.html">asterisk/module.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../dd/df2/paths_8h_source.html">asterisk/paths.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../de/d0b/stasis__app__impl_8h_source.html">asterisk/stasis_app_impl.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d3/d1e/stasis__app__playback_8h_source.html">asterisk/stasis_app_playback.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d2/dda/stasis__app__recording_8h_source.html">asterisk/stasis_app_recording.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d9/d4a/stasis__channels_8h_source.html">asterisk/stasis_channels.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d1/d0f/stringfields_8h_source.html">asterisk/stringfields.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../dd/d1d/uuid_8h_source.html">asterisk/uuid.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../db/dce/say_8h_source.html">asterisk/say.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d2/d0f/indications_8h_source.html">asterisk/indications.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for res_stasis_playback.c:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/d53/res__stasis__playback_8c__incl.png" border="0" usemap="#res__stasis__playback_8c" alt=""/></div>
<map name="res__stasis__playback_8c" id="res__stasis__playback_8c">
<area shape="rect" id="node2" href="../../db/db2/asterisk_8h.html" title="Asterisk main include file. File version handling, generic pbx functions. " alt="" coords="531,393,615,420"/>
<area shape="rect" id="node19" href="../../d3/d93/include_2asterisk_2app_8h.html" title="Application convenience functions, designed to give consistent look and feel to Asterisk apps..." alt="" coords="1350,244,1462,271"/>
<area shape="rect" id="node20" href="../../d1/d0f/stringfields_8h.html" title="asterisk/stringfields.h" alt="" coords="1641,543,1798,569"/>
<area shape="rect" id="node26" href="../../d1/d8c/logger_8h.html" title="Support for logging to various files, console and syslog Configuration in file logger.conf. " alt="" coords="1228,543,1355,569"/>
<area shape="rect" id="node28" href="../../d5/da5/astobj2_8h.html" title="asterisk/astobj2.h" alt="" coords="1539,393,1673,420"/>
<area shape="rect" id="node30" href="../../d2/d4d/file_8h.html" title="Generic File Format Support. Should be included by clients of the file handling routines. File service providers should instead include mod_format.h. " alt="" coords="877,319,983,345"/>
<area shape="rect" id="node34" href="../../d4/d56/bridge_8h.html" title="Bridging API. " alt="" coords="2331,87,2459,114"/>
<area shape="rect" id="node40" href="../../dd/d1d/uuid_8h.html" title="Universally unique identifier support. " alt="" coords="2082,169,2197,196"/>
<area shape="rect" id="node41" href="../../d5/dde/bridge__internal_8h.html" title="Private Bridging API. " alt="" coords="1433,87,1616,114"/>
<area shape="rect" id="node42" href="../../d5/d16/module_8h.html" title="Asterisk module definitions. " alt="" coords="1003,169,1139,196"/>
<area shape="rect" id="node43" href="../../dd/df2/paths_8h.html" title="Asterisk file paths, configured in asterisk.conf. " alt="" coords="1692,87,1816,114"/>
<area shape="rect" id="node44" href="../../de/d0b/stasis__app__impl_8h.html" title="Backend API for implementing components of res_stasis. " alt="" coords="2009,80,2153,121"/>
<area shape="rect" id="node46" href="../../d3/d1e/stasis__app__playback_8h.html" title="Stasis Application Playback API. See StasisApplication API&quot; for detailed documentation. " alt="" coords="1841,80,1985,121"/>
<area shape="rect" id="node47" href="../../d2/dda/stasis__app__recording_8h.html" title="Stasis Application Recording API. See StasisApplication API&quot; for detailed documentation. " alt="" coords="1265,80,1409,121"/>
<area shape="rect" id="node48" href="../../d9/d4a/stasis__channels_8h.html" title="asterisk/stasis_channels.h" alt="" coords="1950,244,2139,271"/>
<area shape="rect" id="node49" href="../../db/dce/say_8h.html" title="Say numbers and dates (maybe words one day too) " alt="" coords="925,244,1033,271"/>
<area shape="rect" id="node50" href="../../d2/d0f/indications_8h.html" title="Tone Indication Support. " alt="" coords="1109,319,1265,345"/>
<area shape="rect" id="node3" href="../../d8/d20/autoconfig_8h.html" title="asterisk/autoconfig.h" alt="" coords="553,617,707,644"/>
<area shape="rect" id="node5" href="../../de/da3/include_2asterisk_2compat_8h.html" title="General Definitions for Asterisk top level program Included by asterisk.h to handle platform&#45;specific..." alt="" coords="584,468,721,495"/>
<area shape="rect" id="node18" href="../../d8/d8a/astmm_8h.html" title="Asterisk memory management routines. " alt="" coords="425,468,560,495"/>
<area shape="rect" id="node4" href="../../dc/dba/buildopts_8h.html" title="asterisk/buildopts.h" alt="" coords="557,692,703,719"/>
<area shape="rect" id="node6" href="../../d4/dd1/compiler_8h.html" title="Compiler&#45;specific macros and other items. " alt="" coords="116,543,259,569"/>
<area shape="rect" id="node23" href="../../d6/d90/strings_8h.html" title="String manipulation functions. " alt="" coords="1341,319,1471,345"/>
<area shape="rect" id="node24" href="../../d5/d60/utils_8h.html" title="Utility functions. " alt="" coords="1234,468,1349,495"/>
<area shape="rect" id="node27" href="../../dc/d7d/threadstorage_8h.html" title="Definitions to aid in the use of thread local storage. " alt="" coords="1335,393,1514,420"/>
<area shape="rect" id="node29" href="../../df/d90/linkedlists_8h.html" title="A set of macros to manage forward&#45;linked lists. " alt="" coords="1855,468,2005,495"/>
<area shape="rect" id="node33" href="../../dd/d79/stasis_8h.html" title="Stasis Message Bus API. See Stasis Message Bus API for detailed documentation. " alt="" coords="1749,393,1874,420"/>
<area shape="rect" id="node21" href="../../d5/d9d/inline__api_8h.html" title="Inlinable API function macro. " alt="" coords="1481,617,1627,644"/>
<area shape="rect" id="node22" href="../../d6/d68/vector_8h.html" title="Vector container support. " alt="" coords="1656,617,1783,644"/>
<area shape="rect" id="node25" href="../../de/df7/time_8h.html" title="Time&#45;related functions and macros. " alt="" coords="1379,543,1441,569"/>
<area shape="rect" id="node35" href="../../dc/d7a/bridge__features_8h.html" title="Channel Bridging API. " alt="" coords="2264,244,2452,271"/>
<area shape="rect" id="node37" href="../../de/d41/bridge__channel_8h.html" title="asterisk/bridge_channel.h" alt="" coords="2356,169,2541,196"/>
<area shape="rect" id="node38" href="../../dd/dff/bridge__roles_8h.html" title="Channel Bridging Roles API. " alt="" coords="2476,244,2643,271"/>
<area shape="rect" id="node39" href="../../d3/d08/dsp_8h.html" title="Convenient Signal Processing routines. " alt="" coords="2221,169,2332,196"/>
<area shape="rect" id="node36" href="../../d5/d7b/channel_8h.html" title="General Asterisk PBX channel definitions. " alt="" coords="1963,319,2102,345"/>
<area shape="rect" id="node45" href="../../d8/d9c/stasis__app_8h.html" title="Stasis Application API. See Stasis Application API for detailed documentation. " alt="" coords="1835,169,1991,196"/>
</map>
</div>
</div>
<p><a href="../../d7/de1/res__stasis__playback_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dab/structstasis__app__playback.html">stasis_app_playback</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a9a4adc6e1517cac9e720191e97d73a04"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/de1/res__stasis__playback_8c.html#a9a4adc6e1517cac9e720191e97d73a04">CHARACTERS_URI_SCHEME</a>&#160;&#160;&#160;&quot;characters:&quot;</td></tr>
<tr class="separator:a9a4adc6e1517cac9e720191e97d73a04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7c6753955efcaefa52b40944f51d3ae"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/de1/res__stasis__playback_8c.html#aa7c6753955efcaefa52b40944f51d3ae">DIGITS_URI_SCHEME</a>&#160;&#160;&#160;&quot;digits:&quot;</td></tr>
<tr class="separator:aa7c6753955efcaefa52b40944f51d3ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a9553d5e0e2d49e7c333cb3a5e571b8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/de1/res__stasis__playback_8c.html#a1a9553d5e0e2d49e7c333cb3a5e571b8">NUMBER_URI_SCHEME</a>&#160;&#160;&#160;&quot;number:&quot;</td></tr>
<tr class="separator:a1a9553d5e0e2d49e7c333cb3a5e571b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adba9f841abc15b853f3ef01201388038"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/de1/res__stasis__playback_8c.html#adba9f841abc15b853f3ef01201388038">PLAYBACK_BUCKETS</a>&#160;&#160;&#160;127</td></tr>
<tr class="separator:adba9f841abc15b853f3ef01201388038"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53155f3533dc2e6db5deb9099dcbdbb3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/de1/res__stasis__playback_8c.html#a53155f3533dc2e6db5deb9099dcbdbb3">PLAYBACK_DEFAULT_SKIPMS</a>&#160;&#160;&#160;3000</td></tr>
<tr class="separator:a53155f3533dc2e6db5deb9099dcbdbb3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56696f0638c8ffea4f4ee4944688b4a3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/de1/res__stasis__playback_8c.html#a56696f0638c8ffea4f4ee4944688b4a3">RECORDING_URI_SCHEME</a>&#160;&#160;&#160;&quot;recording:&quot;</td></tr>
<tr class="separator:a56696f0638c8ffea4f4ee4944688b4a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad3f87a6e2d39758a11fc561241ec92c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/de1/res__stasis__playback_8c.html#aad3f87a6e2d39758a11fc561241ec92c">SOUND_URI_SCHEME</a>&#160;&#160;&#160;&quot;sound:&quot;</td></tr>
<tr class="separator:aad3f87a6e2d39758a11fc561241ec92c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b7e2366a902d0504285d3205ea7de7e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/de1/res__stasis__playback_8c.html#a9b7e2366a902d0504285d3205ea7de7e">TONE_URI_SCHEME</a>&#160;&#160;&#160;&quot;tone:&quot;</td></tr>
<tr class="separator:a9b7e2366a902d0504285d3205ea7de7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a3ab38b4fc5f6db89e0132a40262b2126"><td class="memItemLeft" align="right" valign="top">typedef int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/de1/res__stasis__playback_8c.html#a3ab38b4fc5f6db89e0132a40262b2126">playback_opreation_cb</a>) (struct <a class="el" href="../../de/dab/structstasis__app__playback.html">stasis_app_playback</a> *playback)</td></tr>
<tr class="separator:a3ab38b4fc5f6db89e0132a40262b2126"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a88b7c88fed6b80fd18f34f97757dfc04"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/de1/res__stasis__playback_8c.html#a88b7c88fed6b80fd18f34f97757dfc04">__reg_module</a> (void)</td></tr>
<tr class="separator:a88b7c88fed6b80fd18f34f97757dfc04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afeab1257bd17282b95875499393a147a"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/de1/res__stasis__playback_8c.html#afeab1257bd17282b95875499393a147a">__unreg_module</a> (void)</td></tr>
<tr class="separator:afeab1257bd17282b95875499393a147a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fb0aca9bbcdb9709fa52a70aded6cae"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/de1/res__stasis__playback_8c.html#a4fb0aca9bbcdb9709fa52a70aded6cae">AST_MODULE_SELF_SYM</a> (void)</td></tr>
<tr class="separator:a4fb0aca9bbcdb9709fa52a70aded6cae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3382bf6da54c56b37069bd76bbdf4f9"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/de1/res__stasis__playback_8c.html#ac3382bf6da54c56b37069bd76bbdf4f9">load_module</a> (void)</td></tr>
<tr class="separator:ac3382bf6da54c56b37069bd76bbdf4f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ffa862cd89280a5492ae819e198d932"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/de1/res__stasis__playback_8c.html#a4ffa862cd89280a5492ae819e198d932">play_on_channel</a> (struct <a class="el" href="../../de/dab/structstasis__app__playback.html">stasis_app_playback</a> *playback, struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan)</td></tr>
<tr class="separator:a4ffa862cd89280a5492ae819e198d932"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af837944125fc4e772fafedd5f51d21a1"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/de1/res__stasis__playback_8c.html#af837944125fc4e772fafedd5f51d21a1">play_on_channel_in_bridge</a> (struct <a class="el" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *bridge_channel, const char *playback_id)</td></tr>
<tr class="memdesc:af837944125fc4e772fafedd5f51d21a1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Special case code to play while a channel is in a bridge.  <a href="#af837944125fc4e772fafedd5f51d21a1">More...</a><br /></td></tr>
<tr class="separator:af837944125fc4e772fafedd5f51d21a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6000e77d69754d53927789f721c1fdd4"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/de1/res__stasis__playback_8c.html#a6000e77d69754d53927789f721c1fdd4">play_uri</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control, struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, void *data)</td></tr>
<tr class="separator:a6000e77d69754d53927789f721c1fdd4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b37d9c7bc444ea7ee2284198cafdd74"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/de1/res__stasis__playback_8c.html#a5b37d9c7bc444ea7ee2284198cafdd74">playback_cancel</a> (struct <a class="el" href="../../de/dab/structstasis__app__playback.html">stasis_app_playback</a> *playback)</td></tr>
<tr class="separator:a5b37d9c7bc444ea7ee2284198cafdd74"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4373c5123af906f93262fe5a8c4c145c"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/de1/res__stasis__playback_8c.html#a4373c5123af906f93262fe5a8c4c145c">playback_cmp</a> (void *obj, void *arg, int flags)</td></tr>
<tr class="separator:a4373c5123af906f93262fe5a8c4c145c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa50aae44ebc0f605b704b898012587a0"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../de/dab/structstasis__app__playback.html">stasis_app_playback</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/de1/res__stasis__playback_8c.html#aa50aae44ebc0f605b704b898012587a0">playback_create</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control, const char *<a class="el" href="../../d1/da4/res__corosync_8c.html#a2465fd4497a7402ad72da7d6e03f9934">id</a>)</td></tr>
<tr class="separator:aa50aae44ebc0f605b704b898012587a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac928b505d00fbdcd2daf13f8da7af943"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/de1/res__stasis__playback_8c.html#ac928b505d00fbdcd2daf13f8da7af943">playback_dtor</a> (void *obj)</td></tr>
<tr class="separator:ac928b505d00fbdcd2daf13f8da7af943"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99f4f35e5db874cb48921f5cdb3b8868"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/de1/res__stasis__playback_8c.html#a99f4f35e5db874cb48921f5cdb3b8868">playback_final_update</a> (struct <a class="el" href="../../de/dab/structstasis__app__playback.html">stasis_app_playback</a> *playback, long playedms, int res, const char *uniqueid)</td></tr>
<tr class="separator:a99f4f35e5db874cb48921f5cdb3b8868"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a201bbc6257febedb9bc581c43271f608"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/de1/res__stasis__playback_8c.html#a201bbc6257febedb9bc581c43271f608">playback_first_update</a> (struct <a class="el" href="../../de/dab/structstasis__app__playback.html">stasis_app_playback</a> *playback, const char *uniqueid)</td></tr>
<tr class="separator:a201bbc6257febedb9bc581c43271f608"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ec1bbc35333b02743d1be3796ecc1c7"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/de1/res__stasis__playback_8c.html#a1ec1bbc35333b02743d1be3796ecc1c7">playback_forward</a> (struct <a class="el" href="../../de/dab/structstasis__app__playback.html">stasis_app_playback</a> *playback)</td></tr>
<tr class="separator:a1ec1bbc35333b02743d1be3796ecc1c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a494490c8177a90c07c6db941cfa7bf65"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/de1/res__stasis__playback_8c.html#a494490c8177a90c07c6db941cfa7bf65">playback_hash</a> (const void *obj, int flags)</td></tr>
<tr class="separator:a494490c8177a90c07c6db941cfa7bf65"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e52cd97745a96f1d5224ae179e6e123"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/de1/res__stasis__playback_8c.html#a7e52cd97745a96f1d5224ae179e6e123">playback_noop</a> (struct <a class="el" href="../../de/dab/structstasis__app__playback.html">stasis_app_playback</a> *playback)</td></tr>
<tr class="separator:a7e52cd97745a96f1d5224ae179e6e123"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b7105224b309eaa7723d7ab6ce64eb8"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/de1/res__stasis__playback_8c.html#a6b7105224b309eaa7723d7ab6ce64eb8">playback_pause</a> (struct <a class="el" href="../../de/dab/structstasis__app__playback.html">stasis_app_playback</a> *playback)</td></tr>
<tr class="separator:a6b7105224b309eaa7723d7ab6ce64eb8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeefc2da5ccb7ca0de95a963356376649"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/de1/res__stasis__playback_8c.html#aeefc2da5ccb7ca0de95a963356376649">playback_publish</a> (struct <a class="el" href="../../de/dab/structstasis__app__playback.html">stasis_app_playback</a> *playback)</td></tr>
<tr class="separator:aeefc2da5ccb7ca0de95a963356376649"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2fd2485978e8032c9df7529683875ee2"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/de1/res__stasis__playback_8c.html#a2fd2485978e8032c9df7529683875ee2">playback_restart</a> (struct <a class="el" href="../../de/dab/structstasis__app__playback.html">stasis_app_playback</a> *playback)</td></tr>
<tr class="separator:a2fd2485978e8032c9df7529683875ee2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aecde3617343ec833e302441a76b4387d"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/de1/res__stasis__playback_8c.html#aecde3617343ec833e302441a76b4387d">playback_reverse</a> (struct <a class="el" href="../../de/dab/structstasis__app__playback.html">stasis_app_playback</a> *playback)</td></tr>
<tr class="separator:aecde3617343ec833e302441a76b4387d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0a956e38c21765ab78609f6a253e416"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/de1/res__stasis__playback_8c.html#af0a956e38c21765ab78609f6a253e416">playback_stop</a> (struct <a class="el" href="../../de/dab/structstasis__app__playback.html">stasis_app_playback</a> *playback)</td></tr>
<tr class="separator:af0a956e38c21765ab78609f6a253e416"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a477d2d7995734f138161f8f8e5dbd0"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../d1/da1/structast__json.html">ast_json</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/de1/res__stasis__playback_8c.html#a9a477d2d7995734f138161f8f8e5dbd0">playback_to_json</a> (struct <a class="el" href="../../d7/d55/structstasis__message.html">stasis_message</a> *<a class="el" href="../../d8/d9e/structmessage.html">message</a>, const struct <a class="el" href="../../d4/d45/structstasis__message__sanitizer.html">stasis_message_sanitizer</a> *sanitize)</td></tr>
<tr class="separator:a9a477d2d7995734f138161f8f8e5dbd0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3344dc2e386f7fb3894aa597c628579a"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/de1/res__stasis__playback_8c.html#a3344dc2e386f7fb3894aa597c628579a">playback_unpause</a> (struct <a class="el" href="../../de/dab/structstasis__app__playback.html">stasis_app_playback</a> *playback)</td></tr>
<tr class="separator:a3344dc2e386f7fb3894aa597c628579a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a165cdd6f4f585bf22c6c49b4dcbd00"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/de1/res__stasis__playback_8c.html#a6a165cdd6f4f585bf22c6c49b4dcbd00">remove_from_playbacks</a> (void *data)</td></tr>
<tr class="memdesc:a6a165cdd6f4f585bf22c6c49b4dcbd00"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a> function to remove a playback from the global list when leaving scope.  <a href="#a6a165cdd6f4f585bf22c6c49b4dcbd00">More...</a><br /></td></tr>
<tr class="separator:a6a165cdd6f4f585bf22c6c49b4dcbd00"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60acbef5bc56a25c441629fd880aa676"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/de1/res__stasis__playback_8c.html#a60acbef5bc56a25c441629fd880aa676">set_target_uri</a> (struct <a class="el" href="../../de/dab/structstasis__app__playback.html">stasis_app_playback</a> *playback, enum <a class="el" href="../../d3/d1e/stasis__app__playback_8h.html#a042f8aec8be0761c5ebc29940de91570">stasis_app_playback_target_type</a> target_type, const char *target_id)</td></tr>
<tr class="separator:a60acbef5bc56a25c441629fd880aa676"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad893b5975e16139b7c99527f78f24584"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../de/dab/structstasis__app__playback.html">stasis_app_playback</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/de1/res__stasis__playback_8c.html#ad893b5975e16139b7c99527f78f24584">stasis_app_control_play_uri</a> (struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *control, const char **media, size_t media_count, const char *<a class="el" href="../../da/dde/chan__phone_8c.html#adf416dc058363e2fd5750c77e2d78bee">language</a>, const char *target_id, enum <a class="el" href="../../d3/d1e/stasis__app__playback_8h.html#a042f8aec8be0761c5ebc29940de91570">stasis_app_playback_target_type</a> target_type, int <a class="el" href="../../dc/df4/app__voicemail_8c.html#a1df943a05a384a407a19cf8831b2d237">skipms</a>, long offsetms, const char *<a class="el" href="../../d1/da4/res__corosync_8c.html#a2465fd4497a7402ad72da7d6e03f9934">id</a>)</td></tr>
<tr class="memdesc:ad893b5975e16139b7c99527f78f24584"><td class="mdescLeft">&#160;</td><td class="mdescRight">Play a file to the control's channel.  <a href="#ad893b5975e16139b7c99527f78f24584">More...</a><br /></td></tr>
<tr class="separator:ad893b5975e16139b7c99527f78f24584"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb15e4edf53e5881c45ba8ca09c8f0a9"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../de/dab/structstasis__app__playback.html">stasis_app_playback</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/de1/res__stasis__playback_8c.html#abb15e4edf53e5881c45ba8ca09c8f0a9">stasis_app_playback_find_by_id</a> (const char *<a class="el" href="../../d1/da4/res__corosync_8c.html#a2465fd4497a7402ad72da7d6e03f9934">id</a>)</td></tr>
<tr class="memdesc:abb15e4edf53e5881c45ba8ca09c8f0a9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Finds the playback object with the given id.  <a href="#abb15e4edf53e5881c45ba8ca09c8f0a9">More...</a><br /></td></tr>
<tr class="separator:abb15e4edf53e5881c45ba8ca09c8f0a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace7d70be0b46ce70bd14148233917c17"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/de1/res__stasis__playback_8c.html#ace7d70be0b46ce70bd14148233917c17">stasis_app_playback_get_id</a> (struct <a class="el" href="../../de/dab/structstasis__app__playback.html">stasis_app_playback</a> *control)</td></tr>
<tr class="memdesc:ace7d70be0b46ce70bd14148233917c17"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the unique id of a playback object.  <a href="#ace7d70be0b46ce70bd14148233917c17">More...</a><br /></td></tr>
<tr class="separator:ace7d70be0b46ce70bd14148233917c17"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc243853687a248948daccf30276606d"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="../../d3/d1e/stasis__app__playback_8h.html#ad9564a0965bd8a8620b26bb8ead93c02">stasis_app_playback_state</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/de1/res__stasis__playback_8c.html#adc243853687a248948daccf30276606d">stasis_app_playback_get_state</a> (struct <a class="el" href="../../de/dab/structstasis__app__playback.html">stasis_app_playback</a> *control)</td></tr>
<tr class="memdesc:adc243853687a248948daccf30276606d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the current state of a playback operation.  <a href="#adc243853687a248948daccf30276606d">More...</a><br /></td></tr>
<tr class="separator:adc243853687a248948daccf30276606d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acaceae7dbf66828c947bc3b9fc34484d"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="../../d3/d1e/stasis__app__playback_8h.html#a5f9bc97373efd5d41054596765612c6f">stasis_playback_oper_results</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/de1/res__stasis__playback_8c.html#acaceae7dbf66828c947bc3b9fc34484d">stasis_app_playback_operation</a> (struct <a class="el" href="../../de/dab/structstasis__app__playback.html">stasis_app_playback</a> *playback, enum <a class="el" href="../../d3/d1e/stasis__app__playback_8h.html#affaa2be493bb0c1e04d6ab2aff80e20a">stasis_app_playback_media_operation</a> operation)</td></tr>
<tr class="memdesc:acaceae7dbf66828c947bc3b9fc34484d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Controls the media for a given playback operation.  <a href="#acaceae7dbf66828c947bc3b9fc34484d">More...</a><br /></td></tr>
<tr class="separator:acaceae7dbf66828c947bc3b9fc34484d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7e06669e968c82d09a697689ba92062"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d1/da1/structast__json.html">ast_json</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/de1/res__stasis__playback_8c.html#af7e06669e968c82d09a697689ba92062">stasis_app_playback_to_json</a> (const struct <a class="el" href="../../de/dab/structstasis__app__playback.html">stasis_app_playback</a> *playback)</td></tr>
<tr class="memdesc:af7e06669e968c82d09a697689ba92062"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert a playback to its JSON representation.  <a href="#af7e06669e968c82d09a697689ba92062">More...</a><br /></td></tr>
<tr class="separator:af7e06669e968c82d09a697689ba92062"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1634f0744bdcfbd4ed6e2516de95763d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/de1/res__stasis__playback_8c.html#a1634f0744bdcfbd4ed6e2516de95763d">STASIS_MESSAGE_TYPE_DEFN</a> (<a class="el" href="../../d3/d1e/stasis__app__playback_8h.html#ab24cc5a6142382338031057f374c88d2">stasis_app_playback_snapshot_type</a>,.to_json=<a class="el" href="../../d7/de1/res__stasis__playback_8c.html#a9a477d2d7995734f138161f8f8e5dbd0">playback_to_json</a>,)</td></tr>
<tr class="separator:a1634f0744bdcfbd4ed6e2516de95763d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aefa6329591a2771fd1b7aa9914e65da4"><td class="memItemLeft" align="right" valign="top">static const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/de1/res__stasis__playback_8c.html#aefa6329591a2771fd1b7aa9914e65da4">state_to_string</a> (enum <a class="el" href="../../d3/d1e/stasis__app__playback_8h.html#ad9564a0965bd8a8620b26bb8ead93c02">stasis_app_playback_state</a> <a class="el" href="../../d4/d88/structstate.html">state</a>)</td></tr>
<tr class="separator:aefa6329591a2771fd1b7aa9914e65da4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad09fa931f468002152a3cc2d5ce25eae"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/de1/res__stasis__playback_8c.html#ad09fa931f468002152a3cc2d5ce25eae">unload_module</a> (void)</td></tr>
<tr class="separator:ad09fa931f468002152a3cc2d5ce25eae"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ab22f32016155f7f403e7178767163d7d"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/de1/res__stasis__playback_8c.html#ab22f32016155f7f403e7178767163d7d">__mod_info</a> = { .<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a> = <a class="el" href="../../da/ddd/named__acl_8c.html#aec23fc5034c3bb08140fc021f4955877">AST_MODULE</a>, .flags = <a class="el" href="../../d5/d16/module_8h.html#a155a0df9c59e04e305d4a2fa3e35f843a835b27a90d895a488e4e14cc3d2dee8c">AST_MODFLAG_GLOBAL_SYMBOLS</a> , .description = &quot;Stasis application playback support&quot; , .key = &quot;This paragraph is copyright (<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>) 2006 by Digium, Inc. \In <a class="el" href="../../d5/d14/voicin_8c.html#aed7ca058008dc3e5ee131e575abed285">order</a> for your module to load, it must return this \key via <a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a> function called \&quot;key\&quot;. Any code which \includes this paragraph must <a class="el" href="../../dd/d7c/eagi__proxy_8c.html#a39730e90126aad69cfc9ca4d6fcdb3a6">be</a> licensed under the GNU \General Public License <a class="el" href="../../da/d7c/utils_2frame_8h.html#a56abfaab87c46691c1ef3ad0df23e864">version</a> 2 or later (at your \option). In addition to Digium's general reservations \of rights, Digium expressly reserves the right to \allow other parties to license this paragraph under \different terms. Any use of Digium, Inc. trademarks or \logos (including \&quot;Asterisk\&quot; or \&quot;Digium\&quot;) without \express written <a class="el" href="../../d4/d4c/structpermission.html">permission</a> of Digium, Inc. is prohibited.\n&quot; , .buildopt_sum = <a class="el" href="../../da/d84/res__pjsip__stir__shaken_8c.html#a6e79b87e069c15a5fb21826e5eed0971">AST_BUILDOPT_SUM</a>, .support_level = <a class="el" href="../../d5/d16/module_8h.html#ab35bc4efd9f79706300965c9d36a0ce5a634484c0074e7b6b630756fab09e2c15">AST_MODULE_SUPPORT_CORE</a>, .load = <a class="el" href="../../d6/d7a/test__xml__escape_8c.html#ac3382bf6da54c56b37069bd76bbdf4f9">load_module</a>, .unload = <a class="el" href="../../d6/d7a/test__xml__escape_8c.html#ad09fa931f468002152a3cc2d5ce25eae">unload_module</a>, .requires = &quot;res_stasis,res_stasis_recording&quot; }</td></tr>
<tr class="separator:ab22f32016155f7f403e7178767163d7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad60e83b9aa660040fed4d5377966cc21"><td class="memItemLeft" align="right" valign="top">static const struct <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/de1/res__stasis__playback_8c.html#ad60e83b9aa660040fed4d5377966cc21">ast_module_info</a> = &amp;<a class="el" href="../../d6/d7a/test__xml__escape_8c.html#ab22f32016155f7f403e7178767163d7d">__mod_info</a></td></tr>
<tr class="separator:ad60e83b9aa660040fed4d5377966cc21"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a886b5514079c40395945913f29173bd5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d7/de1/res__stasis__playback_8c.html#a3ab38b4fc5f6db89e0132a40262b2126">playback_opreation_cb</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/de1/res__stasis__playback_8c.html#a886b5514079c40395945913f29173bd5">operations</a> [<a class="el" href="../../d3/d1e/stasis__app__playback_8h.html#ad9564a0965bd8a8620b26bb8ead93c02a18756b2b5630f5a0712efaea787f670b">STASIS_PLAYBACK_STATE_MAX</a>][<a class="el" href="../../d3/d1e/stasis__app__playback_8h.html#affaa2be493bb0c1e04d6ab2aff80e20aa90957005423a456b768c66e1a7caea93">STASIS_PLAYBACK_MEDIA_OP_MAX</a>]</td></tr>
<tr class="memdesc:a886b5514079c40395945913f29173bd5"><td class="mdescLeft">&#160;</td><td class="mdescRight">A sparse array detailing how commands should be handled in the various playback states. Unset entries imply invalid operations.  <a href="#a886b5514079c40395945913f29173bd5">More...</a><br /></td></tr>
<tr class="separator:a886b5514079c40395945913f29173bd5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1728b67706415daf8d1e33af228813f3"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../d2/da9/structao2__container.html">ao2_container</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/de1/res__stasis__playback_8c.html#a1728b67706415daf8d1e33af228813f3">playbacks</a></td></tr>
<tr class="separator:a1728b67706415daf8d1e33af228813f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>res_stasis playback support. </p>
<dl class="section author"><dt>Author</dt><dd>David M. Lee, II <a href="#" onclick="location.href='mai'+'lto:'+'dle'+'e@'+'dig'+'iu'+'m.c'+'om'; return false;">dlee@<span style="display: none;">.nosp@m.</span>digi<span style="display: none;">.nosp@m.</span>um.co<span style="display: none;">.nosp@m.</span>m</a> </dd></dl>

<p class="definition">Definition in file <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html">res_stasis_playback.c</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a9a4adc6e1517cac9e720191e97d73a04"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a4adc6e1517cac9e720191e97d73a04">&#9670;&nbsp;</a></span>CHARACTERS_URI_SCHEME</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CHARACTERS_URI_SCHEME&#160;&#160;&#160;&quot;characters:&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00061">61</a> of file <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html">res_stasis_playback.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00285">play_on_channel()</a>.</p>

</div>
</div>
<a id="aa7c6753955efcaefa52b40944f51d3ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa7c6753955efcaefa52b40944f51d3ae">&#9670;&nbsp;</a></span>DIGITS_URI_SCHEME</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DIGITS_URI_SCHEME&#160;&#160;&#160;&quot;digits:&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00060">60</a> of file <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html">res_stasis_playback.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00285">play_on_channel()</a>.</p>

</div>
</div>
<a id="a1a9553d5e0e2d49e7c333cb3a5e571b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a9553d5e0e2d49e7c333cb3a5e571b8">&#9670;&nbsp;</a></span>NUMBER_URI_SCHEME</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NUMBER_URI_SCHEME&#160;&#160;&#160;&quot;number:&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00059">59</a> of file <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html">res_stasis_playback.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00285">play_on_channel()</a>.</p>

</div>
</div>
<a id="adba9f841abc15b853f3ef01201388038"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adba9f841abc15b853f3ef01201388038">&#9670;&nbsp;</a></span>PLAYBACK_BUCKETS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PLAYBACK_BUCKETS&#160;&#160;&#160;127</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Number of hash buckets for playback container. Keep it prime! </p>

<p class="definition">Definition at line <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00052">52</a> of file <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html">res_stasis_playback.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00742">load_module()</a>.</p>

</div>
</div>
<a id="a53155f3533dc2e6db5deb9099dcbdbb3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a53155f3533dc2e6db5deb9099dcbdbb3">&#9670;&nbsp;</a></span>PLAYBACK_DEFAULT_SKIPMS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PLAYBACK_DEFAULT_SKIPMS&#160;&#160;&#160;3000</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Default number of milliseconds of media to skip </p>

<p class="definition">Definition at line <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00055">55</a> of file <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html">res_stasis_playback.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00471">stasis_app_control_play_uri()</a>.</p>

</div>
</div>
<a id="a56696f0638c8ffea4f4ee4944688b4a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a56696f0638c8ffea4f4ee4944688b4a3">&#9670;&nbsp;</a></span>RECORDING_URI_SCHEME</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RECORDING_URI_SCHEME&#160;&#160;&#160;&quot;recording:&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00058">58</a> of file <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html">res_stasis_playback.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00285">play_on_channel()</a>.</p>

</div>
</div>
<a id="aad3f87a6e2d39758a11fc561241ec92c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad3f87a6e2d39758a11fc561241ec92c">&#9670;&nbsp;</a></span>SOUND_URI_SCHEME</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SOUND_URI_SCHEME&#160;&#160;&#160;&quot;sound:&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00057">57</a> of file <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html">res_stasis_playback.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00285">play_on_channel()</a>.</p>

</div>
</div>
<a id="a9b7e2366a902d0504285d3205ea7de7e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b7e2366a902d0504285d3205ea7de7e">&#9670;&nbsp;</a></span>TONE_URI_SCHEME</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TONE_URI_SCHEME&#160;&#160;&#160;&quot;tone:&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00062">62</a> of file <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html">res_stasis_playback.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00285">play_on_channel()</a>.</p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="a3ab38b4fc5f6db89e0132a40262b2126"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3ab38b4fc5f6db89e0132a40262b2126">&#9670;&nbsp;</a></span>playback_opreation_cb</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int(* playback_opreation_cb) (struct <a class="el" href="../../de/dab/structstasis__app__playback.html">stasis_app_playback</a> *playback)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00584">584</a> of file <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html">res_stasis_playback.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a88b7c88fed6b80fd18f34f97757dfc04"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a88b7c88fed6b80fd18f34f97757dfc04">&#9670;&nbsp;</a></span>__reg_module()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void __reg_module </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00773">773</a> of file <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html">res_stasis_playback.c</a>.</p>

</div>
</div>
<a id="afeab1257bd17282b95875499393a147a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afeab1257bd17282b95875499393a147a">&#9670;&nbsp;</a></span>__unreg_module()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void __unreg_module </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00773">773</a> of file <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html">res_stasis_playback.c</a>.</p>

</div>
</div>
<a id="a4fb0aca9bbcdb9709fa52a70aded6cae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4fb0aca9bbcdb9709fa52a70aded6cae">&#9670;&nbsp;</a></span>AST_MODULE_SELF_SYM()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a>* AST_MODULE_SELF_SYM </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00773">773</a> of file <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html">res_stasis_playback.c</a>.</p>

</div>
</div>
<a id="ac3382bf6da54c56b37069bd76bbdf4f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac3382bf6da54c56b37069bd76bbdf4f9">&#9670;&nbsp;</a></span>load_module()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int load_module </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00742">742</a> of file <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html">res_stasis_playback.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00365">AO2_ALLOC_OPT_LOCK_MUTEX</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01310">ao2_container_alloc_hash</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00078">AST_MODULE_LOAD_DECLINE</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00070">AST_MODULE_LOAD_SUCCESS</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00052">PLAYBACK_BUCKETS</a>, <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00181">playback_cmp()</a>, <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00174">playback_hash()</a>, <a class="el" href="../../d3/d1e/stasis__app__playback_8h.html#ab24cc5a6142382338031057f374c88d2">stasis_app_playback_snapshot_type()</a>, <a class="el" href="../../dd/d79/stasis_8h_source.html#l01523">STASIS_MESSAGE_TYPE_CLEANUP</a>, and <a class="el" href="../../dd/d79/stasis_8h_source.html#l01501">STASIS_MESSAGE_TYPE_INIT</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00760">unload_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;{</div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;   <span class="keywordtype">int</span> r;</div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;</div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;   r = <a class="code" href="../../dd/d79/stasis_8h.html#a70cd046d8e3fd50de5c51aecb2830d2a">STASIS_MESSAGE_TYPE_INIT</a>(<a class="code" href="../../d3/d1e/stasis__app__playback_8h.html#ab24cc5a6142382338031057f374c88d2">stasis_app_playback_snapshot_type</a>);</div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;   <span class="keywordflow">if</span> (r != 0) {</div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfac742921e9f9512d28f62c74ea2affe57">AST_MODULE_LOAD_DECLINE</a>;</div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;   }</div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;</div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;   <a class="code" href="../../d7/de1/res__stasis__playback_8c.html#a1728b67706415daf8d1e33af228813f3">playbacks</a> = <a class="code" href="../../d5/da5/astobj2_8h.html#aefc16f8aa9087cbc5c55c70cf1dd41b2">ao2_container_alloc_hash</a>(<a class="code" href="../../d5/da5/astobj2_8h.html#a2cf7e3433f08351aafe3b0cd31edf7f8a8ccf751bd6749d062999469f0694e7ad">AO2_ALLOC_OPT_LOCK_MUTEX</a>, 0, <a class="code" href="../../d7/de1/res__stasis__playback_8c.html#adba9f841abc15b853f3ef01201388038">PLAYBACK_BUCKETS</a>,</div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;      <a class="code" href="../../d7/de1/res__stasis__playback_8c.html#a494490c8177a90c07c6db941cfa7bf65">playback_hash</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d7/de1/res__stasis__playback_8c.html#a4373c5123af906f93262fe5a8c4c145c">playback_cmp</a>);</div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d7/de1/res__stasis__playback_8c.html#a1728b67706415daf8d1e33af228813f3">playbacks</a>) {</div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;      <a class="code" href="../../dd/d79/stasis_8h.html#a31197e193b1dfd6c122ff6d7c7f6b3fa">STASIS_MESSAGE_TYPE_CLEANUP</a>(<a class="code" href="../../d3/d1e/stasis__app__playback_8h.html#ab24cc5a6142382338031057f374c88d2">stasis_app_playback_snapshot_type</a>);</div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfac742921e9f9512d28f62c74ea2affe57">AST_MODULE_LOAD_DECLINE</a>;</div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;   }</div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfa89bb877ade9ce418ad6663f3d936f314">AST_MODULE_LOAD_SUCCESS</a>;</div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;}</div><div class="ttc" id="module_8h_html_adc09474f0ff557e9925b722ee5b952dfa89bb877ade9ce418ad6663f3d936f314"><div class="ttname"><a href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfa89bb877ade9ce418ad6663f3d936f314">AST_MODULE_LOAD_SUCCESS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00070">module.h:70</a></div></div>
<div class="ttc" id="res__stasis__playback_8c_html_a4373c5123af906f93262fe5a8c4c145c"><div class="ttname"><a href="../../d7/de1/res__stasis__playback_8c.html#a4373c5123af906f93262fe5a8c4c145c">playback_cmp</a></div><div class="ttdeci">static int playback_cmp(void *obj, void *arg, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/de1/res__stasis__playback_8c_source.html#l00181">res_stasis_playback.c:181</a></div></div>
<div class="ttc" id="stasis_8h_html_a70cd046d8e3fd50de5c51aecb2830d2a"><div class="ttname"><a href="../../dd/d79/stasis_8h.html#a70cd046d8e3fd50de5c51aecb2830d2a">STASIS_MESSAGE_TYPE_INIT</a></div><div class="ttdeci">#define STASIS_MESSAGE_TYPE_INIT(name)</div><div class="ttdoc">Boiler-plate messaging macro for initializing message types. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d79/stasis_8h_source.html#l01501">stasis.h:1501</a></div></div>
<div class="ttc" id="res__stasis__playback_8c_html_a1728b67706415daf8d1e33af228813f3"><div class="ttname"><a href="../../d7/de1/res__stasis__playback_8c.html#a1728b67706415daf8d1e33af228813f3">playbacks</a></div><div class="ttdeci">static struct ao2_container * playbacks</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/de1/res__stasis__playback_8c_source.html#l00065">res_stasis_playback.c:65</a></div></div>
<div class="ttc" id="stasis_8h_html_a31197e193b1dfd6c122ff6d7c7f6b3fa"><div class="ttname"><a href="../../dd/d79/stasis_8h.html#a31197e193b1dfd6c122ff6d7c7f6b3fa">STASIS_MESSAGE_TYPE_CLEANUP</a></div><div class="ttdeci">#define STASIS_MESSAGE_TYPE_CLEANUP(name)</div><div class="ttdoc">Boiler-plate messaging macro for cleaning up message types. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d79/stasis_8h_source.html#l01523">stasis.h:1523</a></div></div>
<div class="ttc" id="res__stasis__playback_8c_html_adba9f841abc15b853f3ef01201388038"><div class="ttname"><a href="../../d7/de1/res__stasis__playback_8c.html#adba9f841abc15b853f3ef01201388038">PLAYBACK_BUCKETS</a></div><div class="ttdeci">#define PLAYBACK_BUCKETS</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/de1/res__stasis__playback_8c_source.html#l00052">res_stasis_playback.c:52</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="stasis__app__playback_8h_html_ab24cc5a6142382338031057f374c88d2"><div class="ttname"><a href="../../d3/d1e/stasis__app__playback_8h.html#ab24cc5a6142382338031057f374c88d2">stasis_app_playback_snapshot_type</a></div><div class="ttdeci">struct stasis_message_type * stasis_app_playback_snapshot_type(void)</div><div class="ttdoc">Message type for playback updates. The data is an ast_channel_blob. </div></div>
<div class="ttc" id="astobj2_8h_html_a2cf7e3433f08351aafe3b0cd31edf7f8a8ccf751bd6749d062999469f0694e7ad"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a2cf7e3433f08351aafe3b0cd31edf7f8a8ccf751bd6749d062999469f0694e7ad">AO2_ALLOC_OPT_LOCK_MUTEX</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00365">astobj2.h:365</a></div></div>
<div class="ttc" id="astobj2_8h_html_aefc16f8aa9087cbc5c55c70cf1dd41b2"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aefc16f8aa9087cbc5c55c70cf1dd41b2">ao2_container_alloc_hash</a></div><div class="ttdeci">#define ao2_container_alloc_hash(ao2_options, container_options, n_buckets, hash_fn, sort_fn, cmp_fn)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01310">astobj2.h:1310</a></div></div>
<div class="ttc" id="module_8h_html_adc09474f0ff557e9925b722ee5b952dfac742921e9f9512d28f62c74ea2affe57"><div class="ttname"><a href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfac742921e9f9512d28f62c74ea2affe57">AST_MODULE_LOAD_DECLINE</a></div><div class="ttdoc">Module has failed to load, may be in an inconsistent state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00078">module.h:78</a></div></div>
<div class="ttc" id="res__stasis__playback_8c_html_a494490c8177a90c07c6db941cfa7bf65"><div class="ttname"><a href="../../d7/de1/res__stasis__playback_8c.html#a494490c8177a90c07c6db941cfa7bf65">playback_hash</a></div><div class="ttdeci">static int playback_hash(const void *obj, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/de1/res__stasis__playback_8c_source.html#l00174">res_stasis_playback.c:174</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a4ffa862cd89280a5492ae819e198d932"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4ffa862cd89280a5492ae819e198d932">&#9670;&nbsp;</a></span>play_on_channel()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void play_on_channel </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../de/dab/structstasis__app__playback.html">stasis_app_playback</a> *&#160;</td>
          <td class="paramname"><em>playback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00285">285</a> of file <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html">res_stasis_playback.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00695">ast_assert</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00094">ast_begins_with()</a>, <a class="el" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00305">ast_channel_uniqueid()</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00291">AST_CONTROL_PROGRESS</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00333">AST_CONTROL_STREAM_STOP</a>, <a class="el" href="../../d3/d83/main_2app_8c_source.html#l01327">ast_control_streamfile_lang()</a>, <a class="el" href="../../d3/d83/main_2app_8c_source.html#l01399">ast_control_tone()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l04322">ast_indicate()</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../db/dce/say_8h_source.html#l00163">AST_SAY_CASE_NONE</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l08367">ast_say_character_str()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l08355">ast_say_digit_str()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l08337">ast_say_number()</a>, <a class="el" href="../../d9/d95/channelstate_8h_source.html#l00042">AST_STATE_UP</a>, <a class="el" href="../../d1/d0f/stringfields_8h_source.html#l00514">ast_string_field_set</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00682">AST_VECTOR_GET</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00611">AST_VECTOR_SIZE</a>, <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00061">CHARACTERS_URI_SCHEME</a>, <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00060">DIGITS_URI_SCHEME</a>, <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00074">stasis_app_playback::language</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00074">stasis_app_playback::media</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00059">NUMBER_URI_SCHEME</a>, <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00259">playback_final_update()</a>, <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00240">playback_first_update()</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00911">RAII_VAR</a>, <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00058">RECORDING_URI_SCHEME</a>, <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00057">SOUND_URI_SCHEME</a>, <a class="el" href="../../d3/d74/stored_8c_source.html#l00310">stasis_app_stored_recording_find_by_name()</a>, <a class="el" href="../../d3/d74/stored_8c_source.html#l00053">stasis_app_stored_recording_get_file()</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l01096">stop</a>, and <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00062">TONE_URI_SCHEME</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00390">play_on_channel_in_bridge()</a>, and <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00418">play_uri()</a>.</p>
<div class="fragment"><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;{</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;   <span class="keywordtype">long</span> offsetms;</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;   <span class="keywordtype">size_t</span> index;</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;   <span class="comment">/* Even though these local variables look fairly pointless, they avoid</span></div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;<span class="comment">    * having a bunch of NULL&#39;s passed directly into</span></div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;<span class="comment">    * ast_control_streamfile() */</span></div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *fwd = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *rev = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../df/d44/app__meetme_8c.html#a111277a0849f92b793ed6aa1efe54462">stop</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *pause = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *restart = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a>(playback != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660">ast_channel_state</a>(chan) != <a class="code" href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660aa8ab4bcda7378ccc17c39dfd880cba3d">AST_STATE_UP</a>) {</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#aef2af15a597c948e97628da6c5c84f28">ast_indicate</a>(chan, <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390a1a461c5e737ed6ed7c8cb0f78557a6fd">AST_CONTROL_PROGRESS</a>);</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;   }</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;   offsetms = playback-&gt;offsetms;</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;   <span class="keywordflow">for</span> (index = 0; index &lt; <a class="code" href="../../d6/d68/vector_8h.html#a20b08af81cc9452fb721c9a698f81bdf">AST_VECTOR_SIZE</a>(&amp;playback-&gt;medias); index++) {</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;      playback-&gt;media_index = index;</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;      <span class="comment">/* Set the current media to play */</span></div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;      <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(playback, media, <a class="code" href="../../d6/d68/vector_8h.html#aef32ac52c3e8a530d16eb92cde22cacd">AST_VECTOR_GET</a>(&amp;playback-&gt;medias, playback-&gt;media_index));</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;      res = <a class="code" href="../../d7/de1/res__stasis__playback_8c.html#a201bbc6257febedb9bc581c43271f608">playback_first_update</a>(playback, <a class="code" href="../../d5/d7b/channel_8h.html#a3b6254f6d3832ef928f0a727113b1c63">ast_channel_uniqueid</a>(chan));</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;      <span class="keywordflow">if</span> (res != 0) {</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;         <span class="keywordflow">return</span>;</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;      }</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#ac51fa66c90ce950b248c9ff3e8c4e453">ast_begins_with</a>(playback-&gt;<a class="code" href="../../de/dab/structstasis__app__playback.html#a262e3649395d8dbb676efac68d15a414">media</a>, <a class="code" href="../../d7/de1/res__stasis__playback_8c.html#aad3f87a6e2d39758a11fc561241ec92c">SOUND_URI_SCHEME</a>)) {</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;         playback-&gt;controllable = 1;</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;         <span class="comment">/* Play sound */</span></div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;         res = <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#abef8d08064d7b1ea69da238a4d9fff9c">ast_control_streamfile_lang</a>(chan, playback-&gt;<a class="code" href="../../de/dab/structstasis__app__playback.html#a262e3649395d8dbb676efac68d15a414">media</a> + strlen(<a class="code" href="../../d7/de1/res__stasis__playback_8c.html#aad3f87a6e2d39758a11fc561241ec92c">SOUND_URI_SCHEME</a>),</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;               fwd, rev, stop, pause, restart, playback-&gt;skipms, playback-&gt;<a class="code" href="../../de/dab/structstasis__app__playback.html#a1a1355c36205d33d69c9acd0f4c9606c">language</a>,</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;               &amp;offsetms);</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#ac51fa66c90ce950b248c9ff3e8c4e453">ast_begins_with</a>(playback-&gt;<a class="code" href="../../de/dab/structstasis__app__playback.html#a262e3649395d8dbb676efac68d15a414">media</a>, <a class="code" href="../../d7/de1/res__stasis__playback_8c.html#a56696f0638c8ffea4f4ee4944688b4a3">RECORDING_URI_SCHEME</a>)) {</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;         <span class="comment">/* Play recording */</span></div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;         <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d3/d43/structstasis__app__stored__recording.html">stasis_app_stored_recording</a> *, recording, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;            <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;         <span class="keyword">const</span> <span class="keywordtype">char</span> *relname =</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;            playback-&gt;<a class="code" href="../../de/dab/structstasis__app__playback.html#a262e3649395d8dbb676efac68d15a414">media</a> + strlen(<a class="code" href="../../d7/de1/res__stasis__playback_8c.html#a56696f0638c8ffea4f4ee4944688b4a3">RECORDING_URI_SCHEME</a>);</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;         recording = <a class="code" href="../../d2/dda/stasis__app__recording_8h.html#a6f379067be5a32e18f1a593250898243">stasis_app_stored_recording_find_by_name</a>(relname);</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;         <span class="keywordflow">if</span> (!recording) {</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;            <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Attempted to play recording &#39;%s&#39; on channel &#39;%s&#39; but recording does not exist&quot;</span>,</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;               relname, <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan));</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;         }</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;         playback-&gt;controllable = 1;</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;         res = <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#abef8d08064d7b1ea69da238a4d9fff9c">ast_control_streamfile_lang</a>(chan,</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;            <a class="code" href="../../d2/dda/stasis__app__recording_8h.html#aaf714292cceeae32ead80f345a0ad5ec">stasis_app_stored_recording_get_file</a>(recording), fwd, rev, stop, pause,</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;            restart, playback-&gt;skipms, playback-&gt;<a class="code" href="../../de/dab/structstasis__app__playback.html#a1a1355c36205d33d69c9acd0f4c9606c">language</a>, &amp;offsetms);</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#ac51fa66c90ce950b248c9ff3e8c4e453">ast_begins_with</a>(playback-&gt;<a class="code" href="../../de/dab/structstasis__app__playback.html#a262e3649395d8dbb676efac68d15a414">media</a>, <a class="code" href="../../d7/de1/res__stasis__playback_8c.html#a1a9553d5e0e2d49e7c333cb3a5e571b8">NUMBER_URI_SCHEME</a>)) {</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;         <span class="keywordtype">int</span> <a class="code" href="../../d6/d49/structnumber.html">number</a>;</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;         <span class="keywordflow">if</span> (sscanf(playback-&gt;<a class="code" href="../../de/dab/structstasis__app__playback.html#a262e3649395d8dbb676efac68d15a414">media</a> + strlen(<a class="code" href="../../d7/de1/res__stasis__playback_8c.html#a1a9553d5e0e2d49e7c333cb3a5e571b8">NUMBER_URI_SCHEME</a>), <span class="stringliteral">&quot;%30d&quot;</span>, &amp;number) != 1) {</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;            <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Attempted to play number &#39;%s&#39; on channel &#39;%s&#39; but number is invalid&quot;</span>,</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;               playback-&gt;<a class="code" href="../../de/dab/structstasis__app__playback.html#a262e3649395d8dbb676efac68d15a414">media</a> + strlen(<a class="code" href="../../d7/de1/res__stasis__playback_8c.html#a1a9553d5e0e2d49e7c333cb3a5e571b8">NUMBER_URI_SCHEME</a>), <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan));</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;         }</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;         res = <a class="code" href="../../db/dce/say_8h.html#a899e1f86b2d65a32eeb6e17aabfa1f12">ast_say_number</a>(chan, number, stop, playback-&gt;<a class="code" href="../../de/dab/structstasis__app__playback.html#a1a1355c36205d33d69c9acd0f4c9606c">language</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#ac51fa66c90ce950b248c9ff3e8c4e453">ast_begins_with</a>(playback-&gt;<a class="code" href="../../de/dab/structstasis__app__playback.html#a262e3649395d8dbb676efac68d15a414">media</a>, <a class="code" href="../../d7/de1/res__stasis__playback_8c.html#aa7c6753955efcaefa52b40944f51d3ae">DIGITS_URI_SCHEME</a>)) {</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;         res = <a class="code" href="../../db/dce/say_8h.html#ac8bd6c34b6aa664adb9ebfab68a500ce">ast_say_digit_str</a>(chan, playback-&gt;<a class="code" href="../../de/dab/structstasis__app__playback.html#a262e3649395d8dbb676efac68d15a414">media</a> + strlen(<a class="code" href="../../d7/de1/res__stasis__playback_8c.html#aa7c6753955efcaefa52b40944f51d3ae">DIGITS_URI_SCHEME</a>),</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;            stop, playback-&gt;<a class="code" href="../../de/dab/structstasis__app__playback.html#a1a1355c36205d33d69c9acd0f4c9606c">language</a>);</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#ac51fa66c90ce950b248c9ff3e8c4e453">ast_begins_with</a>(playback-&gt;<a class="code" href="../../de/dab/structstasis__app__playback.html#a262e3649395d8dbb676efac68d15a414">media</a>, <a class="code" href="../../d7/de1/res__stasis__playback_8c.html#a9a4adc6e1517cac9e720191e97d73a04">CHARACTERS_URI_SCHEME</a>)) {</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;         res = <a class="code" href="../../db/dce/say_8h.html#a65e01efc9619fe3156d3f04068f99612">ast_say_character_str</a>(chan, playback-&gt;<a class="code" href="../../de/dab/structstasis__app__playback.html#a262e3649395d8dbb676efac68d15a414">media</a> + strlen(<a class="code" href="../../d7/de1/res__stasis__playback_8c.html#a9a4adc6e1517cac9e720191e97d73a04">CHARACTERS_URI_SCHEME</a>),</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;            stop, playback-&gt;<a class="code" href="../../de/dab/structstasis__app__playback.html#a1a1355c36205d33d69c9acd0f4c9606c">language</a>, <a class="code" href="../../db/dce/say_8h.html#ab73ba7bbfc3824448a2cd4f0c6d050c6ade020c4d50637c2dd5eeb9dc7905a04f">AST_SAY_CASE_NONE</a>);</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#ac51fa66c90ce950b248c9ff3e8c4e453">ast_begins_with</a>(playback-&gt;<a class="code" href="../../de/dab/structstasis__app__playback.html#a262e3649395d8dbb676efac68d15a414">media</a>, <a class="code" href="../../d7/de1/res__stasis__playback_8c.html#a9b7e2366a902d0504285d3205ea7de7e">TONE_URI_SCHEME</a>)) {</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;         playback-&gt;controllable = 1;</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;         res = <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a52431d7ad64408a4a7abbaad3f34acea">ast_control_tone</a>(chan, playback-&gt;<a class="code" href="../../de/dab/structstasis__app__playback.html#a262e3649395d8dbb676efac68d15a414">media</a> + strlen(<a class="code" href="../../d7/de1/res__stasis__playback_8c.html#a9b7e2366a902d0504285d3205ea7de7e">TONE_URI_SCHEME</a>));</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;         <span class="comment">/* Play URL */</span></div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Attempted to play URI &#39;%s&#39; on channel &#39;%s&#39; but scheme is unsupported\n&quot;</span>,</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;            playback-&gt;<a class="code" href="../../de/dab/structstasis__app__playback.html#a262e3649395d8dbb676efac68d15a414">media</a>, <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan));</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;         <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;      }</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;      <a class="code" href="../../d7/de1/res__stasis__playback_8c.html#a99f4f35e5db874cb48921f5cdb3b8868">playback_final_update</a>(playback, offsetms, res,</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;         <a class="code" href="../../d5/d7b/channel_8h.html#a3b6254f6d3832ef928f0a727113b1c63">ast_channel_uniqueid</a>(chan));</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;      <span class="keywordflow">if</span> (res == <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390aa95eb913e6cbbac8a34e69905245fdf4">AST_CONTROL_STREAM_STOP</a>) {</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;      }</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;      <span class="comment">/* Reset offset for any subsequent media */</span></div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;      offsetms = 0;</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;   }</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;   <span class="keywordflow">return</span>;</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;}</div><div class="ttc" id="include_2asterisk_2app_8h_html_abef8d08064d7b1ea69da238a4d9fff9c"><div class="ttname"><a href="../../d3/d93/include_2asterisk_2app_8h.html#abef8d08064d7b1ea69da238a4d9fff9c">ast_control_streamfile_lang</a></div><div class="ttdeci">int ast_control_streamfile_lang(struct ast_channel *chan, const char *file, const char *fwd, const char *rev, const char *stop, const char *suspend, const char *restart, int skipms, const char *lang, long *offsetms)</div><div class="ttdoc">Version of ast_control_streamfile() which allows the language of the media file to be specified...</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d83/main_2app_8c_source.html#l01327">main/app.c:1327</a></div></div>
<div class="ttc" id="channel_8h_html_aef2af15a597c948e97628da6c5c84f28"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#aef2af15a597c948e97628da6c5c84f28">ast_indicate</a></div><div class="ttdeci">int ast_indicate(struct ast_channel *chan, int condition)</div><div class="ttdoc">Indicates condition of channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l04322">channel.c:4322</a></div></div>
<div class="ttc" id="structstasis__app__stored__recording_html"><div class="ttname"><a href="../../d3/d43/structstasis__app__stored__recording.html">stasis_app_stored_recording</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d74/stored_8c_source.html#l00036">stored.c:36</a></div></div>
<div class="ttc" id="stasis__app__recording_8h_html_aaf714292cceeae32ead80f345a0ad5ec"><div class="ttname"><a href="../../d2/dda/stasis__app__recording_8h.html#aaf714292cceeae32ead80f345a0ad5ec">stasis_app_stored_recording_get_file</a></div><div class="ttdeci">const char * stasis_app_stored_recording_get_file(struct stasis_app_stored_recording *recording)</div><div class="ttdoc">Returns the filename for this recording, for use with streamfile. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d74/stored_8c_source.html#l00053">stored.c:53</a></div></div>
<div class="ttc" id="say_8h_html_ac8bd6c34b6aa664adb9ebfab68a500ce"><div class="ttname"><a href="../../db/dce/say_8h.html#ac8bd6c34b6aa664adb9ebfab68a500ce">ast_say_digit_str</a></div><div class="ttdeci">int ast_say_digit_str(struct ast_channel *chan, const char *num, const char *ints, const char *lang)</div><div class="ttdoc">says digits of a string </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l08355">channel.c:8355</a></div></div>
<div class="ttc" id="include_2asterisk_2app_8h_html_a52431d7ad64408a4a7abbaad3f34acea"><div class="ttname"><a href="../../d3/d93/include_2asterisk_2app_8h.html#a52431d7ad64408a4a7abbaad3f34acea">ast_control_tone</a></div><div class="ttdeci">int ast_control_tone(struct ast_channel *chan, const char *tone)</div><div class="ttdoc">Controls playback of a tone. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d83/main_2app_8c_source.html#l01399">main/app.c:1399</a></div></div>
<div class="ttc" id="channelstate_8h_html_a03585bc87e5bbd0f4d11bc789734c660"><div class="ttname"><a href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660">ast_channel_state</a></div><div class="ttdeci">ast_channel_state</div><div class="ttdoc">ast_channel states </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d95/channelstate_8h_source.html#l00035">channelstate.h:35</a></div></div>
<div class="ttc" id="app__meetme_8c_html_a111277a0849f92b793ed6aa1efe54462"><div class="ttname"><a href="../../df/d44/app__meetme_8c.html#a111277a0849f92b793ed6aa1efe54462">stop</a></div><div class="ttdeci">unsigned int stop</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d44/app__meetme_8c_source.html#l01096">app_meetme.c:1096</a></div></div>
<div class="ttc" id="utils_8h_html_a24374da24af1931d8a7ccde5b352bb2c"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a></div><div class="ttdeci">#define ast_assert(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00695">utils.h:695</a></div></div>
<div class="ttc" id="channelstate_8h_html_a03585bc87e5bbd0f4d11bc789734c660aa8ab4bcda7378ccc17c39dfd880cba3d"><div class="ttname"><a href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660aa8ab4bcda7378ccc17c39dfd880cba3d">AST_STATE_UP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d95/channelstate_8h_source.html#l00042">channelstate.h:42</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structnumber_html"><div class="ttname"><a href="../../d6/d49/structnumber.html">number</a></div><div class="ttdoc">Number structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d55/app__followme_8c_source.html#l00154">app_followme.c:154</a></div></div>
<div class="ttc" id="res__stasis__playback_8c_html_a201bbc6257febedb9bc581c43271f608"><div class="ttname"><a href="../../d7/de1/res__stasis__playback_8c.html#a201bbc6257febedb9bc581c43271f608">playback_first_update</a></div><div class="ttdeci">static int playback_first_update(struct stasis_app_playback *playback, const char *uniqueid)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/de1/res__stasis__playback_8c_source.html#l00240">res_stasis_playback.c:240</a></div></div>
<div class="ttc" id="structstasis__app__playback_html_a262e3649395d8dbb676efac68d15a414"><div class="ttname"><a href="../../de/dab/structstasis__app__playback.html#a262e3649395d8dbb676efac68d15a414">stasis_app_playback::media</a></div><div class="ttdeci">const ast_string_field media</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/de1/res__stasis__playback_8c_source.html#l00074">res_stasis_playback.c:74</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="utils_8h_html_a1604b4d72144dd3d9f7da668e90337e9"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a></div><div class="ttdeci">#define RAII_VAR(vartype, varname, initval, dtor)</div><div class="ttdoc">Declare a variable that will call a destructor function when it goes out of scope. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00911">utils.h:911</a></div></div>
<div class="ttc" id="res__stasis__playback_8c_html_aa7c6753955efcaefa52b40944f51d3ae"><div class="ttname"><a href="../../d7/de1/res__stasis__playback_8c.html#aa7c6753955efcaefa52b40944f51d3ae">DIGITS_URI_SCHEME</a></div><div class="ttdeci">#define DIGITS_URI_SCHEME</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/de1/res__stasis__playback_8c_source.html#l00060">res_stasis_playback.c:60</a></div></div>
<div class="ttc" id="say_8h_html_a65e01efc9619fe3156d3f04068f99612"><div class="ttname"><a href="../../db/dce/say_8h.html#a65e01efc9619fe3156d3f04068f99612">ast_say_character_str</a></div><div class="ttdeci">int ast_say_character_str(struct ast_channel *chan, const char *num, const char *ints, const char *lang, enum ast_say_case_sensitivity sensitivity)</div><div class="ttdoc">function to pronounce character and phonetic strings </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l08367">channel.c:8367</a></div></div>
<div class="ttc" id="res__stasis__playback_8c_html_a9a4adc6e1517cac9e720191e97d73a04"><div class="ttname"><a href="../../d7/de1/res__stasis__playback_8c.html#a9a4adc6e1517cac9e720191e97d73a04">CHARACTERS_URI_SCHEME</a></div><div class="ttdeci">#define CHARACTERS_URI_SCHEME</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/de1/res__stasis__playback_8c_source.html#l00061">res_stasis_playback.c:61</a></div></div>
<div class="ttc" id="channel_8h_html_a3b6254f6d3832ef928f0a727113b1c63"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a3b6254f6d3832ef928f0a727113b1c63">ast_channel_uniqueid</a></div><div class="ttdeci">const char * ast_channel_uniqueid(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00305">channel_internal_api.c:305</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="res__stasis__playback_8c_html_a1a9553d5e0e2d49e7c333cb3a5e571b8"><div class="ttname"><a href="../../d7/de1/res__stasis__playback_8c.html#a1a9553d5e0e2d49e7c333cb3a5e571b8">NUMBER_URI_SCHEME</a></div><div class="ttdeci">#define NUMBER_URI_SCHEME</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/de1/res__stasis__playback_8c_source.html#l00059">res_stasis_playback.c:59</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_aedda41918e992000fe921f8f7363b390a1a461c5e737ed6ed7c8cb0f78557a6fd"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390a1a461c5e737ed6ed7c8cb0f78557a6fd">AST_CONTROL_PROGRESS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00291">include/asterisk/frame.h:291</a></div></div>
<div class="ttc" id="res__stasis__playback_8c_html_a56696f0638c8ffea4f4ee4944688b4a3"><div class="ttname"><a href="../../d7/de1/res__stasis__playback_8c.html#a56696f0638c8ffea4f4ee4944688b4a3">RECORDING_URI_SCHEME</a></div><div class="ttdeci">#define RECORDING_URI_SCHEME</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/de1/res__stasis__playback_8c_source.html#l00058">res_stasis_playback.c:58</a></div></div>
<div class="ttc" id="vector_8h_html_aef32ac52c3e8a530d16eb92cde22cacd"><div class="ttname"><a href="../../d6/d68/vector_8h.html#aef32ac52c3e8a530d16eb92cde22cacd">AST_VECTOR_GET</a></div><div class="ttdeci">#define AST_VECTOR_GET(vec, idx)</div><div class="ttdoc">Get an element from a vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00682">vector.h:682</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="say_8h_html_a899e1f86b2d65a32eeb6e17aabfa1f12"><div class="ttname"><a href="../../db/dce/say_8h.html#a899e1f86b2d65a32eeb6e17aabfa1f12">ast_say_number</a></div><div class="ttdeci">int ast_say_number(struct ast_channel *chan, int num, const char *ints, const char *lang, const char *options)</div><div class="ttdoc">says a number </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l08337">channel.c:8337</a></div></div>
<div class="ttc" id="res__stasis__playback_8c_html_a9b7e2366a902d0504285d3205ea7de7e"><div class="ttname"><a href="../../d7/de1/res__stasis__playback_8c.html#a9b7e2366a902d0504285d3205ea7de7e">TONE_URI_SCHEME</a></div><div class="ttdeci">#define TONE_URI_SCHEME</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/de1/res__stasis__playback_8c_source.html#l00062">res_stasis_playback.c:62</a></div></div>
<div class="ttc" id="channel_8h_html_a7ca2fda13b129a55c251b56729de285b"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a></div><div class="ttdeci">const char * ast_channel_name(const struct ast_channel *chan)</div></div>
<div class="ttc" id="stasis__app__recording_8h_html_a6f379067be5a32e18f1a593250898243"><div class="ttname"><a href="../../d2/dda/stasis__app__recording_8h.html#a6f379067be5a32e18f1a593250898243">stasis_app_stored_recording_find_by_name</a></div><div class="ttdeci">struct stasis_app_stored_recording * stasis_app_stored_recording_find_by_name(const char *name)</div><div class="ttdoc">Creates a stored recording object, with the given name. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d74/stored_8c_source.html#l00310">stored.c:310</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_aedda41918e992000fe921f8f7363b390aa95eb913e6cbbac8a34e69905245fdf4"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390aa95eb913e6cbbac8a34e69905245fdf4">AST_CONTROL_STREAM_STOP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00333">include/asterisk/frame.h:333</a></div></div>
<div class="ttc" id="strings_8h_html_ac51fa66c90ce950b248c9ff3e8c4e453"><div class="ttname"><a href="../../d6/d90/strings_8h.html#ac51fa66c90ce950b248c9ff3e8c4e453">ast_begins_with</a></div><div class="ttdeci">static int force_inline attribute_pure ast_begins_with(const char *str, const char *prefix)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00094">strings.h:94</a></div></div>
<div class="ttc" id="res__stasis__playback_8c_html_aad3f87a6e2d39758a11fc561241ec92c"><div class="ttname"><a href="../../d7/de1/res__stasis__playback_8c.html#aad3f87a6e2d39758a11fc561241ec92c">SOUND_URI_SCHEME</a></div><div class="ttdeci">#define SOUND_URI_SCHEME</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/de1/res__stasis__playback_8c_source.html#l00057">res_stasis_playback.c:57</a></div></div>
<div class="ttc" id="res__stasis__playback_8c_html_a99f4f35e5db874cb48921f5cdb3b8868"><div class="ttname"><a href="../../d7/de1/res__stasis__playback_8c.html#a99f4f35e5db874cb48921f5cdb3b8868">playback_final_update</a></div><div class="ttdeci">static void playback_final_update(struct stasis_app_playback *playback, long playedms, int res, const char *uniqueid)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/de1/res__stasis__playback_8c_source.html#l00259">res_stasis_playback.c:259</a></div></div>
<div class="ttc" id="structstasis__app__playback_html_a1a1355c36205d33d69c9acd0f4c9606c"><div class="ttname"><a href="../../de/dab/structstasis__app__playback.html#a1a1355c36205d33d69c9acd0f4c9606c">stasis_app_playback::language</a></div><div class="ttdeci">const ast_string_field language</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/de1/res__stasis__playback_8c_source.html#l00074">res_stasis_playback.c:74</a></div></div>
<div class="ttc" id="say_8h_html_ab73ba7bbfc3824448a2cd4f0c6d050c6ade020c4d50637c2dd5eeb9dc7905a04f"><div class="ttname"><a href="../../db/dce/say_8h.html#ab73ba7bbfc3824448a2cd4f0c6d050c6ade020c4d50637c2dd5eeb9dc7905a04f">AST_SAY_CASE_NONE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/dce/say_8h_source.html#l00163">say.h:163</a></div></div>
<div class="ttc" id="vector_8h_html_a20b08af81cc9452fb721c9a698f81bdf"><div class="ttname"><a href="../../d6/d68/vector_8h.html#a20b08af81cc9452fb721c9a698f81bdf">AST_VECTOR_SIZE</a></div><div class="ttdeci">#define AST_VECTOR_SIZE(vec)</div><div class="ttdoc">Get the number of elements in a vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00611">vector.h:611</a></div></div>
<div class="ttc" id="stringfields_8h_html_a653461abd6e0d16e4e3326ab90e0501d"><div class="ttname"><a href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a></div><div class="ttdeci">#define ast_string_field_set(x, field, data)</div><div class="ttdoc">Set a field to a simple string value. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d0f/stringfields_8h_source.html#l00514">stringfields.h:514</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af837944125fc4e772fafedd5f51d21a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af837944125fc4e772fafedd5f51d21a1">&#9670;&nbsp;</a></span>play_on_channel_in_bridge()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void play_on_channel_in_bridge </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *&#160;</td>
          <td class="paramname"><em>bridge_channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>playback_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Special case code to play while a channel is in a bridge. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bridge_channel</td><td>The channel's bridge_channel. </td></tr>
    <tr><td class="paramname">playback_id</td><td>Id of the playback to start. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00390">390</a> of file <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html">res_stasis_playback.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../de/d41/bridge__channel_8h_source.html#l00091">ast_bridge_channel::chan</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00285">play_on_channel()</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00911">RAII_VAR</a>, and <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00550">stasis_app_playback_find_by_id()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00418">play_uri()</a>.</p>
<div class="fragment"><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;{</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../de/dab/structstasis__app__playback.html">stasis_app_playback</a> *, playback, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;   playback = <a class="code" href="../../d7/de1/res__stasis__playback_8c.html#abb15e4edf53e5881c45ba8ca09c8f0a9">stasis_app_playback_find_by_id</a>(playback_id);</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;   <span class="keywordflow">if</span> (!playback) {</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Couldn&#39;t find playback %s\n&quot;</span>,</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;         playback_id);</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;   }</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;   <a class="code" href="../../d7/de1/res__stasis__playback_8c.html#a4ffa862cd89280a5492ae819e198d932">play_on_channel</a>(playback, bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>);</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;}</div><div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="utils_8h_html_a1604b4d72144dd3d9f7da668e90337e9"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a></div><div class="ttdeci">#define RAII_VAR(vartype, varname, initval, dtor)</div><div class="ttdoc">Declare a variable that will call a destructor function when it goes out of scope. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00911">utils.h:911</a></div></div>
<div class="ttc" id="res__stasis__playback_8c_html_abb15e4edf53e5881c45ba8ca09c8f0a9"><div class="ttname"><a href="../../d7/de1/res__stasis__playback_8c.html#abb15e4edf53e5881c45ba8ca09c8f0a9">stasis_app_playback_find_by_id</a></div><div class="ttdeci">struct stasis_app_playback * stasis_app_playback_find_by_id(const char *id)</div><div class="ttdoc">Finds the playback object with the given id. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/de1/res__stasis__playback_8c_source.html#l00550">res_stasis_playback.c:550</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="res__stasis__playback_8c_html_a4ffa862cd89280a5492ae819e198d932"><div class="ttname"><a href="../../d7/de1/res__stasis__playback_8c.html#a4ffa862cd89280a5492ae819e198d932">play_on_channel</a></div><div class="ttdeci">static void play_on_channel(struct stasis_app_playback *playback, struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/de1/res__stasis__playback_8c_source.html#l00285">res_stasis_playback.c:285</a></div></div>
<div class="ttc" id="structast__bridge__channel_html_a84d1435c5b8d387806714ea7079304b7"><div class="ttname"><a href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">ast_bridge_channel::chan</a></div><div class="ttdeci">struct ast_channel * chan</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00091">bridge_channel.h:91</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="structstasis__app__playback_html"><div class="ttname"><a href="../../de/dab/structstasis__app__playback.html">stasis_app_playback</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/de1/res__stasis__playback_8c_source.html#l00068">res_stasis_playback.c:68</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6000e77d69754d53927789f721c1fdd4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6000e77d69754d53927789f721c1fdd4">&#9670;&nbsp;</a></span>play_uri()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int play_uri </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00418">418</a> of file <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html">res_stasis_playback.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00491">ao2_bump</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d3/d32/bridge__channel_8c_source.html#l01410">ast_bridge_channel_queue_playfile_sync()</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00480">ast_bridge_lock</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00493">ast_bridge_unlock</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l01469">bridge_find_channel()</a>, <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00074">stasis_app_playback::id</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00285">play_on_channel()</a>, <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00390">play_on_channel_in_bridge()</a>, and <a class="el" href="../../de/de3/control_8c_source.html#l00931">stasis_app_get_bridge()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00471">stasis_app_control_play_uri()</a>.</p>
<div class="fragment"><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;{</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../de/dab/structstasis__app__playback.html">stasis_app_playback</a> *playback = data;</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *bridge;</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;   <span class="keywordflow">if</span> (!control) {</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;   }</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;   bridge = <a class="code" href="../../d8/d9c/stasis__app_8h.html#a00eec5811d50eb68749bf440708e156b">stasis_app_get_bridge</a>(control);</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;   <span class="keywordflow">if</span> (bridge) {</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;      <span class="keyword">struct </span><a class="code" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *bridge_chan;</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;      <span class="comment">/* Queue up playback on the bridge */</span></div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;      <a class="code" href="../../d4/d56/bridge_8h.html#ab8ee807d2c3a21d19e16fedf35c90de8">ast_bridge_lock</a>(bridge);</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;      bridge_chan = <a class="code" href="../../d5/da5/astobj2_8h.html#ac438c3fcd3150481fad38689fd813a15">ao2_bump</a>(<a class="code" href="../../d5/dde/bridge__internal_8h.html#af611fd393ca26b5fd2a8071867470ffc">bridge_find_channel</a>(bridge, chan));</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;      <a class="code" href="../../d4/d56/bridge_8h.html#a0fb66f4741ca8d106af1917a2f1aab6e">ast_bridge_unlock</a>(bridge);</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;      <span class="keywordflow">if</span> (bridge_chan) {</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;         <a class="code" href="../../de/d41/bridge__channel_8h.html#ac7787cec5827585d82ad62292744aeaf">ast_bridge_channel_queue_playfile_sync</a>(</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;            bridge_chan,</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;            <a class="code" href="../../d7/de1/res__stasis__playback_8c.html#af837944125fc4e772fafedd5f51d21a1">play_on_channel_in_bridge</a>,</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;            playback-&gt;<a class="code" href="../../de/dab/structstasis__app__playback.html#a7f573636659429c505b8fa845bbb2dc8">id</a>,</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;            <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>); <span class="comment">/* moh_class */</span></div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;      }</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>(bridge_chan);</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;      <a class="code" href="../../d7/de1/res__stasis__playback_8c.html#a4ffa862cd89280a5492ae819e198d932">play_on_channel</a>(playback, chan);</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;   }</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;}</div><div class="ttc" id="stasis__app_8h_html_a00eec5811d50eb68749bf440708e156b"><div class="ttname"><a href="../../d8/d9c/stasis__app_8h.html#a00eec5811d50eb68749bf440708e156b">stasis_app_get_bridge</a></div><div class="ttdeci">struct ast_bridge * stasis_app_get_bridge(struct stasis_app_control *control)</div><div class="ttdoc">Gets the bridge currently associated with a control object. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00931">control.c:931</a></div></div>
<div class="ttc" id="res__stasis__playback_8c_html_af837944125fc4e772fafedd5f51d21a1"><div class="ttname"><a href="../../d7/de1/res__stasis__playback_8c.html#af837944125fc4e772fafedd5f51d21a1">play_on_channel_in_bridge</a></div><div class="ttdeci">static void play_on_channel_in_bridge(struct ast_bridge_channel *bridge_channel, const char *playback_id)</div><div class="ttdoc">Special case code to play while a channel is in a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/de1/res__stasis__playback_8c_source.html#l00390">res_stasis_playback.c:390</a></div></div>
<div class="ttc" id="bridge__internal_8h_html_af611fd393ca26b5fd2a8071867470ffc"><div class="ttname"><a href="../../d5/dde/bridge__internal_8h.html#af611fd393ca26b5fd2a8071867470ffc">bridge_find_channel</a></div><div class="ttdeci">struct ast_bridge_channel * bridge_find_channel(struct ast_bridge *bridge, struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l01469">bridge.c:1469</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structstasis__app__playback_html_a7f573636659429c505b8fa845bbb2dc8"><div class="ttname"><a href="../../de/dab/structstasis__app__playback.html#a7f573636659429c505b8fa845bbb2dc8">stasis_app_playback::id</a></div><div class="ttdeci">const ast_string_field id</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/de1/res__stasis__playback_8c_source.html#l00074">res_stasis_playback.c:74</a></div></div>
<div class="ttc" id="astobj2_8h_html_ac438c3fcd3150481fad38689fd813a15"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ac438c3fcd3150481fad38689fd813a15">ao2_bump</a></div><div class="ttdeci">#define ao2_bump(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00491">astobj2.h:491</a></div></div>
<div class="ttc" id="structast__bridge_html"><div class="ttname"><a href="../../d4/d84/structast__bridge.html">ast_bridge</a></div><div class="ttdoc">Structure that contains information about a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00357">bridge.h:357</a></div></div>
<div class="ttc" id="res__stasis__playback_8c_html_a4ffa862cd89280a5492ae819e198d932"><div class="ttname"><a href="../../d7/de1/res__stasis__playback_8c.html#a4ffa862cd89280a5492ae819e198d932">play_on_channel</a></div><div class="ttdeci">static void play_on_channel(struct stasis_app_playback *playback, struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/de1/res__stasis__playback_8c_source.html#l00285">res_stasis_playback.c:285</a></div></div>
<div class="ttc" id="bridge_8h_html_a0fb66f4741ca8d106af1917a2f1aab6e"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a0fb66f4741ca8d106af1917a2f1aab6e">ast_bridge_unlock</a></div><div class="ttdeci">#define ast_bridge_unlock(bridge)</div><div class="ttdoc">Unlock the bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00493">bridge.h:493</a></div></div>
<div class="ttc" id="bridge_8h_html_ab8ee807d2c3a21d19e16fedf35c90de8"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#ab8ee807d2c3a21d19e16fedf35c90de8">ast_bridge_lock</a></div><div class="ttdeci">#define ast_bridge_lock(bridge)</div><div class="ttdoc">Lock the bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00480">bridge.h:480</a></div></div>
<div class="ttc" id="structast__bridge__channel_html"><div class="ttname"><a href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a></div><div class="ttdoc">Structure that contains information regarding a channel in a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00084">bridge_channel.h:84</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="structstasis__app__playback_html"><div class="ttname"><a href="../../de/dab/structstasis__app__playback.html">stasis_app_playback</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/de1/res__stasis__playback_8c_source.html#l00068">res_stasis_playback.c:68</a></div></div>
<div class="ttc" id="bridge__channel_8h_html_ac7787cec5827585d82ad62292744aeaf"><div class="ttname"><a href="../../de/d41/bridge__channel_8h.html#ac7787cec5827585d82ad62292744aeaf">ast_bridge_channel_queue_playfile_sync</a></div><div class="ttdeci">int ast_bridge_channel_queue_playfile_sync(struct ast_bridge_channel *bridge_channel, ast_bridge_custom_play_fn custom_play, const char *playfile, const char *moh_class)</div><div class="ttdoc">Synchronously queue a bridge action play file frame onto the bridge channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d32/bridge__channel_8c_source.html#l01410">bridge_channel.c:1410</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a5b37d9c7bc444ea7ee2284198cafdd74"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b37d9c7bc444ea7ee2284198cafdd74">&#9670;&nbsp;</a></span>playback_cancel()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int playback_cancel </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../de/dab/structstasis__app__playback.html">stasis_app_playback</a> *&#160;</td>
          <td class="paramname"><em>playback</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00591">591</a> of file <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html">res_stasis_playback.c</a>.</p>

<p class="reference">References <a class="el" href="../../df/d44/app__meetme_8c_source.html#l01091">lock</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00602">SCOPED_AO2LOCK</a>, and <a class="el" href="../../d3/d1e/stasis__app__playback_8h_source.html#l00049">STASIS_PLAYBACK_STATE_CANCELED</a>.</p>
<div class="fragment"><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;{</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a2cfb325ed371eb6e629446bac4676e9f">SCOPED_AO2LOCK</a>(<a class="code" href="../../df/d44/app__meetme_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>, playback);</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;   playback-&gt;state = <a class="code" href="../../d3/d1e/stasis__app__playback_8h.html#ad9564a0965bd8a8620b26bb8ead93c02ab49bd289accd22b4a5c9633d9eff5946">STASIS_PLAYBACK_STATE_CANCELED</a>;</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;}</div><div class="ttc" id="stasis__app__playback_8h_html_ad9564a0965bd8a8620b26bb8ead93c02ab49bd289accd22b4a5c9633d9eff5946"><div class="ttname"><a href="../../d3/d1e/stasis__app__playback_8h.html#ad9564a0965bd8a8620b26bb8ead93c02ab49bd289accd22b4a5c9633d9eff5946">STASIS_PLAYBACK_STATE_CANCELED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d1e/stasis__app__playback_8h_source.html#l00049">stasis_app_playback.h:49</a></div></div>
<div class="ttc" id="app__meetme_8c_html_adf04f66344e3fb0a6f6a69bf39d19902"><div class="ttname"><a href="../../df/d44/app__meetme_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a></div><div class="ttdeci">ast_mutex_t lock</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d44/app__meetme_8c_source.html#l01091">app_meetme.c:1091</a></div></div>
<div class="ttc" id="lock_8h_html_a2cfb325ed371eb6e629446bac4676e9f"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a2cfb325ed371eb6e629446bac4676e9f">SCOPED_AO2LOCK</a></div><div class="ttdeci">#define SCOPED_AO2LOCK(varname, obj)</div><div class="ttdoc">scoped lock specialization for ao2 mutexes. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00602">lock.h:602</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a4373c5123af906f93262fe5a8c4c145c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4373c5123af906f93262fe5a8c4c145c">&#9670;&nbsp;</a></span>playback_cmp()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int playback_cmp </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00181">181</a> of file <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html">res_stasis_playback.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01031">CMP_MATCH</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01032">CMP_STOP</a>, <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00074">stasis_app_playback::id</a>, and <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01155">OBJ_KEY</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00742">load_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;{</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../de/dab/structstasis__app__playback.html">stasis_app_playback</a> *lhs = obj;</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../de/dab/structstasis__app__playback.html">stasis_app_playback</a> *rhs = arg;</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *rhs_id = flags &amp; <a class="code" href="../../d5/da5/astobj2_8h.html#a22f40c733a085f259af94e864ebaa09a">OBJ_KEY</a> ? arg : rhs-&gt;<a class="code" href="../../de/dab/structstasis__app__playback.html#a7f573636659429c505b8fa845bbb2dc8">id</a>;</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;   <span class="keywordflow">if</span> (strcmp(lhs-&gt;<a class="code" href="../../de/dab/structstasis__app__playback.html#a7f573636659429c505b8fa845bbb2dc8">id</a>, rhs_id) == 0) {</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d5/da5/astobj2_8h.html#a1f8b41308be4c47de8ff89a3b9c7e7d1a1959468a3c5d6aecd2fa1272d8e30fbf">CMP_MATCH</a> | <a class="code" href="../../d5/da5/astobj2_8h.html#a1f8b41308be4c47de8ff89a3b9c7e7d1a75382dc9117cc118719edf6c3d2b71df">CMP_STOP</a>;</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;   }</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;}</div><div class="ttc" id="astobj2_8h_html_a22f40c733a085f259af94e864ebaa09a"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a22f40c733a085f259af94e864ebaa09a">OBJ_KEY</a></div><div class="ttdeci">#define OBJ_KEY</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01155">astobj2.h:1155</a></div></div>
<div class="ttc" id="astobj2_8h_html_a1f8b41308be4c47de8ff89a3b9c7e7d1a75382dc9117cc118719edf6c3d2b71df"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a1f8b41308be4c47de8ff89a3b9c7e7d1a75382dc9117cc118719edf6c3d2b71df">CMP_STOP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01032">astobj2.h:1032</a></div></div>
<div class="ttc" id="structstasis__app__playback_html_a7f573636659429c505b8fa845bbb2dc8"><div class="ttname"><a href="../../de/dab/structstasis__app__playback.html#a7f573636659429c505b8fa845bbb2dc8">stasis_app_playback::id</a></div><div class="ttdeci">const ast_string_field id</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/de1/res__stasis__playback_8c_source.html#l00074">res_stasis_playback.c:74</a></div></div>
<div class="ttc" id="astobj2_8h_html_a1f8b41308be4c47de8ff89a3b9c7e7d1a1959468a3c5d6aecd2fa1272d8e30fbf"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a1f8b41308be4c47de8ff89a3b9c7e7d1a1959468a3c5d6aecd2fa1272d8e30fbf">CMP_MATCH</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01031">astobj2.h:1031</a></div></div>
<div class="ttc" id="structstasis__app__playback_html"><div class="ttname"><a href="../../de/dab/structstasis__app__playback.html">stasis_app_playback</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/de1/res__stasis__playback_8c_source.html#l00068">res_stasis_playback.c:68</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa50aae44ebc0f605b704b898012587a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa50aae44ebc0f605b704b898012587a0">&#9670;&nbsp;</a></span>playback_create()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="../../de/dab/structstasis__app__playback.html">stasis_app_playback</a>* playback_create </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00140">140</a> of file <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html">res_stasis_playback.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00411">ao2_alloc</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d1/d0f/stringfields_8h_source.html#l00353">ast_string_field_init</a>, <a class="el" href="../../d1/d0f/stringfields_8h_source.html#l00514">ast_string_field_set</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../df/da9/uuid_8c_source.html#l00143">ast_uuid_generate_str()</a>, <a class="el" href="../../dd/d1d/uuid_8h_source.html#l00027">AST_UUID_STR_LEN</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00113">AST_VECTOR_INIT</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00124">playback_dtor()</a>, and <a class="el" href="../../d5/d60/utils_8h_source.html#l00911">RAII_VAR</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00471">stasis_app_control_play_uri()</a>.</p>
<div class="fragment"><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;{</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../de/dab/structstasis__app__playback.html">stasis_app_playback</a> *, playback, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;   <span class="keywordtype">char</span> uuid[<a class="code" href="../../dd/d1d/uuid_8h.html#a127408e53d34dca0c589a099fabf1e13">AST_UUID_STR_LEN</a>];</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;   <span class="keywordflow">if</span> (!control) {</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;   }</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;   playback = <a class="code" href="../../d5/da5/astobj2_8h.html#ae0422b60d8e25b6962b2d61ae4ddf724">ao2_alloc</a>(<span class="keyword">sizeof</span>(*playback), <a class="code" href="../../d7/de1/res__stasis__playback_8c.html#ac928b505d00fbdcd2daf13f8da7af943">playback_dtor</a>);</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;   <span class="keywordflow">if</span> (!playback || <a class="code" href="../../d1/d0f/stringfields_8h.html#a871274fa4fd2687c7a44849a84df3665">ast_string_field_init</a>(playback, 128)) {</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;   }</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d68/vector_8h.html#ad9d555fa89da1bfc691181993499f785">AST_VECTOR_INIT</a>(&amp;playback-&gt;medias, 8)) {</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(playback, -1);</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;   }</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(<span class="keywordtype">id</span>)) {</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;      <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(playback, <span class="keywordtype">id</span>, <span class="keywordtype">id</span>);</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;      <a class="code" href="../../dd/d1d/uuid_8h.html#abe6d0b550cd9a54964e7891960d1e5bc">ast_uuid_generate_str</a>(uuid, <span class="keyword">sizeof</span>(uuid));</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;      <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(playback, <span class="keywordtype">id</span>, uuid);</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;   }</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(control, +1);</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;   playback-&gt;control = control;</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(playback, +1);</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;   <span class="keywordflow">return</span> playback;</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;}</div><div class="ttc" id="uuid_8h_html_a127408e53d34dca0c589a099fabf1e13"><div class="ttname"><a href="../../dd/d1d/uuid_8h.html#a127408e53d34dca0c589a099fabf1e13">AST_UUID_STR_LEN</a></div><div class="ttdeci">#define AST_UUID_STR_LEN</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d1d/uuid_8h_source.html#l00027">uuid.h:27</a></div></div>
<div class="ttc" id="res__stasis__playback_8c_html_ac928b505d00fbdcd2daf13f8da7af943"><div class="ttname"><a href="../../d7/de1/res__stasis__playback_8c.html#ac928b505d00fbdcd2daf13f8da7af943">playback_dtor</a></div><div class="ttdeci">static void playback_dtor(void *obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/de1/res__stasis__playback_8c_source.html#l00124">res_stasis_playback.c:124</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="vector_8h_html_ad9d555fa89da1bfc691181993499f785"><div class="ttname"><a href="../../d6/d68/vector_8h.html#ad9d555fa89da1bfc691181993499f785">AST_VECTOR_INIT</a></div><div class="ttdeci">#define AST_VECTOR_INIT(vec, size)</div><div class="ttdoc">Initialize a vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00113">vector.h:113</a></div></div>
<div class="ttc" id="utils_8h_html_a1604b4d72144dd3d9f7da668e90337e9"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a></div><div class="ttdeci">#define RAII_VAR(vartype, varname, initval, dtor)</div><div class="ttdoc">Declare a variable that will call a destructor function when it goes out of scope. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00911">utils.h:911</a></div></div>
<div class="ttc" id="stringfields_8h_html_a871274fa4fd2687c7a44849a84df3665"><div class="ttname"><a href="../../d1/d0f/stringfields_8h.html#a871274fa4fd2687c7a44849a84df3665">ast_string_field_init</a></div><div class="ttdeci">#define ast_string_field_init(x, size)</div><div class="ttdoc">Initialize a field pool and fields. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d0f/stringfields_8h_source.html#l00353">stringfields.h:353</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="astobj2_8h_html_ae0422b60d8e25b6962b2d61ae4ddf724"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ae0422b60d8e25b6962b2d61ae4ddf724">ao2_alloc</a></div><div class="ttdeci">#define ao2_alloc(data_size, destructor_fn)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00411">astobj2.h:411</a></div></div>
<div class="ttc" id="uuid_8h_html_abe6d0b550cd9a54964e7891960d1e5bc"><div class="ttname"><a href="../../dd/d1d/uuid_8h.html#abe6d0b550cd9a54964e7891960d1e5bc">ast_uuid_generate_str</a></div><div class="ttdeci">char * ast_uuid_generate_str(char *buf, size_t size)</div><div class="ttdoc">Generate a UUID string. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/da9/uuid_8c_source.html#l00143">uuid.c:143</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="structstasis__app__playback_html"><div class="ttname"><a href="../../de/dab/structstasis__app__playback.html">stasis_app_playback</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/de1/res__stasis__playback_8c_source.html#l00068">res_stasis_playback.c:68</a></div></div>
<div class="ttc" id="stringfields_8h_html_a653461abd6e0d16e4e3326ab90e0501d"><div class="ttname"><a href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a></div><div class="ttdeci">#define ast_string_field_set(x, field, data)</div><div class="ttdoc">Set a field to a simple string value. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d0f/stringfields_8h_source.html#l00514">stringfields.h:514</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac928b505d00fbdcd2daf13f8da7af943"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac928b505d00fbdcd2daf13f8da7af943">&#9670;&nbsp;</a></span>playback_dtor()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void playback_dtor </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>obj</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00124">124</a> of file <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html">res_stasis_playback.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../d1/d0f/stringfields_8h_source.html#l00368">ast_string_field_free_memory</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00174">AST_VECTOR_FREE</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00682">AST_VECTOR_GET</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00611">AST_VECTOR_SIZE</a>, and <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00074">stasis_app_playback::media</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00140">playback_create()</a>.</p>
<div class="fragment"><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;{</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../de/dab/structstasis__app__playback.html">stasis_app_playback</a> *playback = obj;</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;   <span class="keywordtype">int</span> i;</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;   <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="../../d6/d68/vector_8h.html#a20b08af81cc9452fb721c9a698f81bdf">AST_VECTOR_SIZE</a>(&amp;playback-&gt;medias); i++) {</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;      <span class="keywordtype">char</span> *<a class="code" href="../../de/dab/structstasis__app__playback.html#a262e3649395d8dbb676efac68d15a414">media</a> = <a class="code" href="../../d6/d68/vector_8h.html#aef32ac52c3e8a530d16eb92cde22cacd">AST_VECTOR_GET</a>(&amp;playback-&gt;medias, i);</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(media);</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;   }</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;   <a class="code" href="../../d6/d68/vector_8h.html#a66aaa4efda59c52384b03c38e781124d">AST_VECTOR_FREE</a>(&amp;playback-&gt;medias);</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>(playback-&gt;control);</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;   <a class="code" href="../../d1/d0f/stringfields_8h.html#abf60f862ae6a141d2f86a0f5e82792de">ast_string_field_free_memory</a>(playback);</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;}</div><div class="ttc" id="vector_8h_html_a66aaa4efda59c52384b03c38e781124d"><div class="ttname"><a href="../../d6/d68/vector_8h.html#a66aaa4efda59c52384b03c38e781124d">AST_VECTOR_FREE</a></div><div class="ttdeci">#define AST_VECTOR_FREE(vec)</div><div class="ttdoc">Deallocates this vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00174">vector.h:174</a></div></div>
<div class="ttc" id="structstasis__app__playback_html_a262e3649395d8dbb676efac68d15a414"><div class="ttname"><a href="../../de/dab/structstasis__app__playback.html#a262e3649395d8dbb676efac68d15a414">stasis_app_playback::media</a></div><div class="ttdeci">const ast_string_field media</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/de1/res__stasis__playback_8c_source.html#l00074">res_stasis_playback.c:74</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="vector_8h_html_aef32ac52c3e8a530d16eb92cde22cacd"><div class="ttname"><a href="../../d6/d68/vector_8h.html#aef32ac52c3e8a530d16eb92cde22cacd">AST_VECTOR_GET</a></div><div class="ttdeci">#define AST_VECTOR_GET(vec, idx)</div><div class="ttdoc">Get an element from a vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00682">vector.h:682</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="structstasis__app__playback_html"><div class="ttname"><a href="../../de/dab/structstasis__app__playback.html">stasis_app_playback</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/de1/res__stasis__playback_8c_source.html#l00068">res_stasis_playback.c:68</a></div></div>
<div class="ttc" id="stringfields_8h_html_abf60f862ae6a141d2f86a0f5e82792de"><div class="ttname"><a href="../../d1/d0f/stringfields_8h.html#abf60f862ae6a141d2f86a0f5e82792de">ast_string_field_free_memory</a></div><div class="ttdeci">#define ast_string_field_free_memory(x)</div><div class="ttdoc">free all memory - to be called before destroying the object </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d0f/stringfields_8h_source.html#l00368">stringfields.h:368</a></div></div>
<div class="ttc" id="vector_8h_html_a20b08af81cc9452fb721c9a698f81bdf"><div class="ttname"><a href="../../d6/d68/vector_8h.html#a20b08af81cc9452fb721c9a698f81bdf">AST_VECTOR_SIZE</a></div><div class="ttdeci">#define AST_VECTOR_SIZE(vec)</div><div class="ttdoc">Get the number of elements in a vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00611">vector.h:611</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a99f4f35e5db874cb48921f5cdb3b8868"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a99f4f35e5db874cb48921f5cdb3b8868">&#9670;&nbsp;</a></span>playback_final_update()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void playback_final_update </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../de/dab/structstasis__app__playback.html">stasis_app_playback</a> *&#160;</td>
          <td class="paramname"><em>playback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>playedms</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>res</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>uniqueid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00259">259</a> of file <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html">res_stasis_playback.c</a>.</p>

<p class="reference">References <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00611">AST_VECTOR_SIZE</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l01091">lock</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00263">LOG_NOTICE</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00074">stasis_app_playback::media</a>, <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00218">playback_publish()</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00602">SCOPED_AO2LOCK</a>, <a class="el" href="../../d3/d1e/stasis__app__playback_8h_source.html#l00047">STASIS_PLAYBACK_STATE_COMPLETE</a>, <a class="el" href="../../d3/d1e/stasis__app__playback_8h_source.html#l00045">STASIS_PLAYBACK_STATE_CONTINUING</a>, and <a class="el" href="../../d3/d1e/stasis__app__playback_8h_source.html#l00051">STASIS_PLAYBACK_STATE_STOPPED</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00285">play_on_channel()</a>.</p>
<div class="fragment"><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;{</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a2cfb325ed371eb6e629446bac4676e9f">SCOPED_AO2LOCK</a>(<a class="code" href="../../df/d44/app__meetme_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>, playback);</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;   playback-&gt;playedms = playedms;</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;   <span class="keywordflow">if</span> (res == 0) {</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;      <span class="keywordflow">if</span> (playback-&gt;media_index == <a class="code" href="../../d6/d68/vector_8h.html#a20b08af81cc9452fb721c9a698f81bdf">AST_VECTOR_SIZE</a>(&amp;playback-&gt;medias) - 1) {</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;         playback-&gt;state = <a class="code" href="../../d3/d1e/stasis__app__playback_8h.html#ad9564a0965bd8a8620b26bb8ead93c02a564c1fe380c86f2c14154aad8bf7433c">STASIS_PLAYBACK_STATE_COMPLETE</a>;</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;         playback-&gt;state = <a class="code" href="../../d3/d1e/stasis__app__playback_8h.html#ad9564a0965bd8a8620b26bb8ead93c02a5e2bc1dfe2816a509082d3e311dea756">STASIS_PLAYBACK_STATE_CONTINUING</a>;</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;      }</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;      <span class="keywordflow">if</span> (playback-&gt;state == <a class="code" href="../../d3/d1e/stasis__app__playback_8h.html#ad9564a0965bd8a8620b26bb8ead93c02a0c3673147161e30d00fc61c0f808e823">STASIS_PLAYBACK_STATE_STOPPED</a>) {</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#ad89ee324d180cdcd7defcc709ff9ca42">LOG_NOTICE</a>, <span class="stringliteral">&quot;%s: Playback stopped for %s\n&quot;</span>,</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;            uniqueid, playback-&gt;<a class="code" href="../../de/dab/structstasis__app__playback.html#a262e3649395d8dbb676efac68d15a414">media</a>);</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;%s: Playback failed for %s\n&quot;</span>,</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;            uniqueid, playback-&gt;<a class="code" href="../../de/dab/structstasis__app__playback.html#a262e3649395d8dbb676efac68d15a414">media</a>);</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;         playback-&gt;state = <a class="code" href="../../d3/d1e/stasis__app__playback_8h.html#ad9564a0965bd8a8620b26bb8ead93c02a0c3673147161e30d00fc61c0f808e823">STASIS_PLAYBACK_STATE_STOPPED</a>;</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;      }</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;   }</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;   <a class="code" href="../../d7/de1/res__stasis__playback_8c.html#aeefc2da5ccb7ca0de95a963356376649">playback_publish</a>(playback);</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;}</div><div class="ttc" id="stasis__app__playback_8h_html_ad9564a0965bd8a8620b26bb8ead93c02a0c3673147161e30d00fc61c0f808e823"><div class="ttname"><a href="../../d3/d1e/stasis__app__playback_8h.html#ad9564a0965bd8a8620b26bb8ead93c02a0c3673147161e30d00fc61c0f808e823">STASIS_PLAYBACK_STATE_STOPPED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d1e/stasis__app__playback_8h_source.html#l00051">stasis_app_playback.h:51</a></div></div>
<div class="ttc" id="stasis__app__playback_8h_html_ad9564a0965bd8a8620b26bb8ead93c02a5e2bc1dfe2816a509082d3e311dea756"><div class="ttname"><a href="../../d3/d1e/stasis__app__playback_8h.html#ad9564a0965bd8a8620b26bb8ead93c02a5e2bc1dfe2816a509082d3e311dea756">STASIS_PLAYBACK_STATE_CONTINUING</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d1e/stasis__app__playback_8h_source.html#l00045">stasis_app_playback.h:45</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="structstasis__app__playback_html_a262e3649395d8dbb676efac68d15a414"><div class="ttname"><a href="../../de/dab/structstasis__app__playback.html#a262e3649395d8dbb676efac68d15a414">stasis_app_playback::media</a></div><div class="ttdeci">const ast_string_field media</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/de1/res__stasis__playback_8c_source.html#l00074">res_stasis_playback.c:74</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="app__meetme_8c_html_adf04f66344e3fb0a6f6a69bf39d19902"><div class="ttname"><a href="../../df/d44/app__meetme_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a></div><div class="ttdeci">ast_mutex_t lock</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d44/app__meetme_8c_source.html#l01091">app_meetme.c:1091</a></div></div>
<div class="ttc" id="logger_8h_html_ad89ee324d180cdcd7defcc709ff9ca42"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#ad89ee324d180cdcd7defcc709ff9ca42">LOG_NOTICE</a></div><div class="ttdeci">#define LOG_NOTICE</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00263">logger.h:263</a></div></div>
<div class="ttc" id="lock_8h_html_a2cfb325ed371eb6e629446bac4676e9f"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a2cfb325ed371eb6e629446bac4676e9f">SCOPED_AO2LOCK</a></div><div class="ttdeci">#define SCOPED_AO2LOCK(varname, obj)</div><div class="ttdoc">scoped lock specialization for ao2 mutexes. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00602">lock.h:602</a></div></div>
<div class="ttc" id="stasis__app__playback_8h_html_ad9564a0965bd8a8620b26bb8ead93c02a564c1fe380c86f2c14154aad8bf7433c"><div class="ttname"><a href="../../d3/d1e/stasis__app__playback_8h.html#ad9564a0965bd8a8620b26bb8ead93c02a564c1fe380c86f2c14154aad8bf7433c">STASIS_PLAYBACK_STATE_COMPLETE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d1e/stasis__app__playback_8h_source.html#l00047">stasis_app_playback.h:47</a></div></div>
<div class="ttc" id="res__stasis__playback_8c_html_aeefc2da5ccb7ca0de95a963356376649"><div class="ttname"><a href="../../d7/de1/res__stasis__playback_8c.html#aeefc2da5ccb7ca0de95a963356376649">playback_publish</a></div><div class="ttdeci">static void playback_publish(struct stasis_app_playback *playback)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/de1/res__stasis__playback_8c_source.html#l00218">res_stasis_playback.c:218</a></div></div>
<div class="ttc" id="vector_8h_html_a20b08af81cc9452fb721c9a698f81bdf"><div class="ttname"><a href="../../d6/d68/vector_8h.html#a20b08af81cc9452fb721c9a698f81bdf">AST_VECTOR_SIZE</a></div><div class="ttdeci">#define AST_VECTOR_SIZE(vec)</div><div class="ttdoc">Get the number of elements in a vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00611">vector.h:611</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a201bbc6257febedb9bc581c43271f608"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a201bbc6257febedb9bc581c43271f608">&#9670;&nbsp;</a></span>playback_first_update()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int playback_first_update </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../de/dab/structstasis__app__playback.html">stasis_app_playback</a> *&#160;</td>
          <td class="paramname"><em>playback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>uniqueid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00240">240</a> of file <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html">res_stasis_playback.c</a>.</p>

<p class="reference">References <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l01091">lock</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00263">LOG_NOTICE</a>, <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00074">stasis_app_playback::media</a>, <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00218">playback_publish()</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00602">SCOPED_AO2LOCK</a>, <a class="el" href="../../d3/d1e/stasis__app__playback_8h_source.html#l00049">STASIS_PLAYBACK_STATE_CANCELED</a>, and <a class="el" href="../../d3/d1e/stasis__app__playback_8h_source.html#l00041">STASIS_PLAYBACK_STATE_PLAYING</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00285">play_on_channel()</a>.</p>
<div class="fragment"><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;{</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a2cfb325ed371eb6e629446bac4676e9f">SCOPED_AO2LOCK</a>(<a class="code" href="../../df/d44/app__meetme_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>, playback);</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;   <span class="keywordflow">if</span> (playback-&gt;state == <a class="code" href="../../d3/d1e/stasis__app__playback_8h.html#ad9564a0965bd8a8620b26bb8ead93c02ab49bd289accd22b4a5c9633d9eff5946">STASIS_PLAYBACK_STATE_CANCELED</a>) {</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#ad89ee324d180cdcd7defcc709ff9ca42">LOG_NOTICE</a>, <span class="stringliteral">&quot;%s: Playback canceled for %s\n&quot;</span>,</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;         uniqueid, playback-&gt;<a class="code" href="../../de/dab/structstasis__app__playback.html#a262e3649395d8dbb676efac68d15a414">media</a>);</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;      res = -1;</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;      res = 0;</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;      playback-&gt;state = <a class="code" href="../../d3/d1e/stasis__app__playback_8h.html#ad9564a0965bd8a8620b26bb8ead93c02ab320c0f6c2a8799782f51924e6c93dd4">STASIS_PLAYBACK_STATE_PLAYING</a>;</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;   }</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;   <a class="code" href="../../d7/de1/res__stasis__playback_8c.html#aeefc2da5ccb7ca0de95a963356376649">playback_publish</a>(playback);</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;}</div><div class="ttc" id="stasis__app__playback_8h_html_ad9564a0965bd8a8620b26bb8ead93c02ab49bd289accd22b4a5c9633d9eff5946"><div class="ttname"><a href="../../d3/d1e/stasis__app__playback_8h.html#ad9564a0965bd8a8620b26bb8ead93c02ab49bd289accd22b4a5c9633d9eff5946">STASIS_PLAYBACK_STATE_CANCELED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d1e/stasis__app__playback_8h_source.html#l00049">stasis_app_playback.h:49</a></div></div>
<div class="ttc" id="structstasis__app__playback_html_a262e3649395d8dbb676efac68d15a414"><div class="ttname"><a href="../../de/dab/structstasis__app__playback.html#a262e3649395d8dbb676efac68d15a414">stasis_app_playback::media</a></div><div class="ttdeci">const ast_string_field media</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/de1/res__stasis__playback_8c_source.html#l00074">res_stasis_playback.c:74</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="app__meetme_8c_html_adf04f66344e3fb0a6f6a69bf39d19902"><div class="ttname"><a href="../../df/d44/app__meetme_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a></div><div class="ttdeci">ast_mutex_t lock</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d44/app__meetme_8c_source.html#l01091">app_meetme.c:1091</a></div></div>
<div class="ttc" id="stasis__app__playback_8h_html_ad9564a0965bd8a8620b26bb8ead93c02ab320c0f6c2a8799782f51924e6c93dd4"><div class="ttname"><a href="../../d3/d1e/stasis__app__playback_8h.html#ad9564a0965bd8a8620b26bb8ead93c02ab320c0f6c2a8799782f51924e6c93dd4">STASIS_PLAYBACK_STATE_PLAYING</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d1e/stasis__app__playback_8h_source.html#l00041">stasis_app_playback.h:41</a></div></div>
<div class="ttc" id="logger_8h_html_ad89ee324d180cdcd7defcc709ff9ca42"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#ad89ee324d180cdcd7defcc709ff9ca42">LOG_NOTICE</a></div><div class="ttdeci">#define LOG_NOTICE</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00263">logger.h:263</a></div></div>
<div class="ttc" id="lock_8h_html_a2cfb325ed371eb6e629446bac4676e9f"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a2cfb325ed371eb6e629446bac4676e9f">SCOPED_AO2LOCK</a></div><div class="ttdeci">#define SCOPED_AO2LOCK(varname, obj)</div><div class="ttdoc">scoped lock specialization for ao2 mutexes. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00602">lock.h:602</a></div></div>
<div class="ttc" id="res__stasis__playback_8c_html_aeefc2da5ccb7ca0de95a963356376649"><div class="ttname"><a href="../../d7/de1/res__stasis__playback_8c.html#aeefc2da5ccb7ca0de95a963356376649">playback_publish</a></div><div class="ttdeci">static void playback_publish(struct stasis_app_playback *playback)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/de1/res__stasis__playback_8c_source.html#l00218">res_stasis_playback.c:218</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a1ec1bbc35333b02743d1be3796ecc1c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ec1bbc35333b02743d1be3796ecc1c7">&#9670;&nbsp;</a></span>playback_forward()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int playback_forward </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../de/dab/structstasis__app__playback.html">stasis_app_playback</a> *&#160;</td>
          <td class="paramname"><em>playback</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00665">665</a> of file <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html">res_stasis_playback.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00337">AST_CONTROL_STREAM_FORWARD</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l01091">lock</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00602">SCOPED_AO2LOCK</a>, and <a class="el" href="../../de/de3/control_8c_source.html#l01445">stasis_app_control_queue_control()</a>.</p>
<div class="fragment"><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;{</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a2cfb325ed371eb6e629446bac4676e9f">SCOPED_AO2LOCK</a>(<a class="code" href="../../df/d44/app__meetme_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>, playback);</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;   <span class="keywordflow">if</span> (!playback-&gt;controllable) {</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;   }</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d8/d9c/stasis__app_8h.html#a1925743427fa1e058f5059e3b2de4d28">stasis_app_control_queue_control</a>(playback-&gt;control,</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;      <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390ae8e6b1d91a861c33a3de923b24f54dec">AST_CONTROL_STREAM_FORWARD</a>);</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;}</div><div class="ttc" id="include_2asterisk_2frame_8h_html_aedda41918e992000fe921f8f7363b390ae8e6b1d91a861c33a3de923b24f54dec"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390ae8e6b1d91a861c33a3de923b24f54dec">AST_CONTROL_STREAM_FORWARD</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00337">include/asterisk/frame.h:337</a></div></div>
<div class="ttc" id="app__meetme_8c_html_adf04f66344e3fb0a6f6a69bf39d19902"><div class="ttname"><a href="../../df/d44/app__meetme_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a></div><div class="ttdeci">ast_mutex_t lock</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d44/app__meetme_8c_source.html#l01091">app_meetme.c:1091</a></div></div>
<div class="ttc" id="lock_8h_html_a2cfb325ed371eb6e629446bac4676e9f"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a2cfb325ed371eb6e629446bac4676e9f">SCOPED_AO2LOCK</a></div><div class="ttdeci">#define SCOPED_AO2LOCK(varname, obj)</div><div class="ttdoc">scoped lock specialization for ao2 mutexes. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00602">lock.h:602</a></div></div>
<div class="ttc" id="stasis__app_8h_html_a1925743427fa1e058f5059e3b2de4d28"><div class="ttname"><a href="../../d8/d9c/stasis__app_8h.html#a1925743427fa1e058f5059e3b2de4d28">stasis_app_control_queue_control</a></div><div class="ttdeci">int stasis_app_control_queue_control(struct stasis_app_control *control, enum ast_control_frame_type frame_type)</div><div class="ttdoc">Queue a control frame without payload. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l01445">control.c:1445</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a494490c8177a90c07c6db941cfa7bf65"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a494490c8177a90c07c6db941cfa7bf65">&#9670;&nbsp;</a></span>playback_hash()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int playback_hash </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00174">174</a> of file <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html">res_stasis_playback.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/d90/strings_8h_source.html#l01206">ast_str_hash()</a>, <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00074">stasis_app_playback::id</a>, and <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01155">OBJ_KEY</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00742">load_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;{</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;   <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="../../de/dab/structstasis__app__playback.html">stasis_app_playback</a> *playback = obj;</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keywordtype">id</span> = flags &amp; <a class="code" href="../../d5/da5/astobj2_8h.html#a22f40c733a085f259af94e864ebaa09a">OBJ_KEY</a> ? obj : playback-&gt;<a class="code" href="../../de/dab/structstasis__app__playback.html#a7f573636659429c505b8fa845bbb2dc8">id</a>;</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d6/d90/strings_8h.html#a33ab7fa091d5513d8507d3bd33ef5b55">ast_str_hash</a>(<span class="keywordtype">id</span>);</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;}</div><div class="ttc" id="astobj2_8h_html_a22f40c733a085f259af94e864ebaa09a"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a22f40c733a085f259af94e864ebaa09a">OBJ_KEY</a></div><div class="ttdeci">#define OBJ_KEY</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01155">astobj2.h:1155</a></div></div>
<div class="ttc" id="structstasis__app__playback_html_a7f573636659429c505b8fa845bbb2dc8"><div class="ttname"><a href="../../de/dab/structstasis__app__playback.html#a7f573636659429c505b8fa845bbb2dc8">stasis_app_playback::id</a></div><div class="ttdeci">const ast_string_field id</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/de1/res__stasis__playback_8c_source.html#l00074">res_stasis_playback.c:74</a></div></div>
<div class="ttc" id="structstasis__app__playback_html"><div class="ttname"><a href="../../de/dab/structstasis__app__playback.html">stasis_app_playback</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/de1/res__stasis__playback_8c_source.html#l00068">res_stasis_playback.c:68</a></div></div>
<div class="ttc" id="strings_8h_html_a33ab7fa091d5513d8507d3bd33ef5b55"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a33ab7fa091d5513d8507d3bd33ef5b55">ast_str_hash</a></div><div class="ttdeci">static force_inline int attribute_pure ast_str_hash(const char *str)</div><div class="ttdoc">Compute a hash value on a string. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l01206">strings.h:1206</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a7e52cd97745a96f1d5224ae179e6e123"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7e52cd97745a96f1d5224ae179e6e123">&#9670;&nbsp;</a></span>playback_noop()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int playback_noop </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../de/dab/structstasis__app__playback.html">stasis_app_playback</a> *&#160;</td>
          <td class="paramname"><em>playback</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00586">586</a> of file <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html">res_stasis_playback.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;{</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;}</div></div><!-- fragment -->
</div>
</div>
<a id="a6b7105224b309eaa7723d7ab6ce64eb8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6b7105224b309eaa7723d7ab6ce64eb8">&#9670;&nbsp;</a></span>playback_pause()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int playback_pause </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../de/dab/structstasis__app__playback.html">stasis_app_playback</a> *&#160;</td>
          <td class="paramname"><em>playback</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00623">623</a> of file <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html">res_stasis_playback.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00334">AST_CONTROL_STREAM_SUSPEND</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l01091">lock</a>, <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00218">playback_publish()</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00602">SCOPED_AO2LOCK</a>, <a class="el" href="../../de/de3/control_8c_source.html#l01445">stasis_app_control_queue_control()</a>, and <a class="el" href="../../d3/d1e/stasis__app__playback_8h_source.html#l00043">STASIS_PLAYBACK_STATE_PAUSED</a>.</p>
<div class="fragment"><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;{</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a2cfb325ed371eb6e629446bac4676e9f">SCOPED_AO2LOCK</a>(<a class="code" href="../../df/d44/app__meetme_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>, playback);</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;   <span class="keywordflow">if</span> (!playback-&gt;controllable) {</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;   }</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;   playback-&gt;state = <a class="code" href="../../d3/d1e/stasis__app__playback_8h.html#ad9564a0965bd8a8620b26bb8ead93c02aa7833eff37ceddabfde36fb1d79bb4a8">STASIS_PLAYBACK_STATE_PAUSED</a>;</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;   <a class="code" href="../../d7/de1/res__stasis__playback_8c.html#aeefc2da5ccb7ca0de95a963356376649">playback_publish</a>(playback);</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d8/d9c/stasis__app_8h.html#a1925743427fa1e058f5059e3b2de4d28">stasis_app_control_queue_control</a>(playback-&gt;control,</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;      <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390a32e9dbe9416e847668084be16d4698c9">AST_CONTROL_STREAM_SUSPEND</a>);</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;}</div><div class="ttc" id="stasis__app__playback_8h_html_ad9564a0965bd8a8620b26bb8ead93c02aa7833eff37ceddabfde36fb1d79bb4a8"><div class="ttname"><a href="../../d3/d1e/stasis__app__playback_8h.html#ad9564a0965bd8a8620b26bb8ead93c02aa7833eff37ceddabfde36fb1d79bb4a8">STASIS_PLAYBACK_STATE_PAUSED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d1e/stasis__app__playback_8h_source.html#l00043">stasis_app_playback.h:43</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_aedda41918e992000fe921f8f7363b390a32e9dbe9416e847668084be16d4698c9"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390a32e9dbe9416e847668084be16d4698c9">AST_CONTROL_STREAM_SUSPEND</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00334">include/asterisk/frame.h:334</a></div></div>
<div class="ttc" id="app__meetme_8c_html_adf04f66344e3fb0a6f6a69bf39d19902"><div class="ttname"><a href="../../df/d44/app__meetme_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a></div><div class="ttdeci">ast_mutex_t lock</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d44/app__meetme_8c_source.html#l01091">app_meetme.c:1091</a></div></div>
<div class="ttc" id="lock_8h_html_a2cfb325ed371eb6e629446bac4676e9f"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a2cfb325ed371eb6e629446bac4676e9f">SCOPED_AO2LOCK</a></div><div class="ttdeci">#define SCOPED_AO2LOCK(varname, obj)</div><div class="ttdoc">scoped lock specialization for ao2 mutexes. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00602">lock.h:602</a></div></div>
<div class="ttc" id="stasis__app_8h_html_a1925743427fa1e058f5059e3b2de4d28"><div class="ttname"><a href="../../d8/d9c/stasis__app_8h.html#a1925743427fa1e058f5059e3b2de4d28">stasis_app_control_queue_control</a></div><div class="ttdeci">int stasis_app_control_queue_control(struct stasis_app_control *control, enum ast_control_frame_type frame_type)</div><div class="ttdoc">Queue a control frame without payload. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l01445">control.c:1445</a></div></div>
<div class="ttc" id="res__stasis__playback_8c_html_aeefc2da5ccb7ca0de95a963356376649"><div class="ttname"><a href="../../d7/de1/res__stasis__playback_8c.html#aeefc2da5ccb7ca0de95a963356376649">playback_publish</a></div><div class="ttdeci">static void playback_publish(struct stasis_app_playback *playback)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/de1/res__stasis__playback_8c_source.html#l00218">res_stasis_playback.c:218</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aeefc2da5ccb7ca0de95a963356376649"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeefc2da5ccb7ca0de95a963356376649">&#9670;&nbsp;</a></span>playback_publish()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void playback_publish </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../de/dab/structstasis__app__playback.html">stasis_app_playback</a> *&#160;</td>
          <td class="paramname"><em>playback</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00218">218</a> of file <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html">res_stasis_playback.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00695">ast_assert</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l00771">ast_channel_blob_create_from_cache()</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00073">ast_json_unref()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00911">RAII_VAR</a>, <a class="el" href="../../de/de3/control_8c_source.html#l01430">stasis_app_control_get_channel_id()</a>, <a class="el" href="../../de/de3/control_8c_source.html#l01436">stasis_app_control_publish()</a>, <a class="el" href="../../d3/d1e/stasis__app__playback_8h.html#ab24cc5a6142382338031057f374c88d2">stasis_app_playback_snapshot_type()</a>, and <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00555">stasis_app_playback_to_json()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00259">playback_final_update()</a>, <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00240">playback_first_update()</a>, <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00623">playback_pause()</a>, <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00638">playback_unpause()</a>, and <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00471">stasis_app_control_play_uri()</a>.</p>
<div class="fragment"><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;{</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d1/da1/structast__json.html">ast_json</a> *, json, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d4/d05/json_8h.html#a33bcd9181e613a659eefe411ec42c87c">ast_json_unref</a>);</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d7/d55/structstasis__message.html">stasis_message</a> *, <a class="code" href="../../d8/d9e/structmessage.html">message</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a>(playback != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;   json = <a class="code" href="../../d7/de1/res__stasis__playback_8c.html#af7e06669e968c82d09a697689ba92062">stasis_app_playback_to_json</a>(playback);</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;   <span class="keywordflow">if</span> (json == <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;   }</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;   <a class="code" href="../../d8/d9e/structmessage.html">message</a> = <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#gafe8b123e0c124e44c3bff016591d3f9c">ast_channel_blob_create_from_cache</a>(</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;      <a class="code" href="../../d8/d9c/stasis__app_8h.html#a765833b409f1e57016e7fff07d9e0a01">stasis_app_control_get_channel_id</a>(playback-&gt;control),</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;      <a class="code" href="../../d3/d1e/stasis__app__playback_8h.html#ab24cc5a6142382338031057f374c88d2">stasis_app_playback_snapshot_type</a>(), json);</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d8/d9e/structmessage.html">message</a> == <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;   }</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;   <a class="code" href="../../d8/d9c/stasis__app_8h.html#a59eacac6d5939ac31361047ec04b34a3">stasis_app_control_publish</a>(playback-&gt;control, <a class="code" href="../../d8/d9e/structmessage.html">message</a>);</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;}</div><div class="ttc" id="stasis__app_8h_html_a59eacac6d5939ac31361047ec04b34a3"><div class="ttname"><a href="../../d8/d9c/stasis__app_8h.html#a59eacac6d5939ac31361047ec04b34a3">stasis_app_control_publish</a></div><div class="ttdeci">void stasis_app_control_publish(struct stasis_app_control *control, struct stasis_message *message)</div><div class="ttdoc">Publish a message to the control&amp;#39;s channel&amp;#39;s topic. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l01436">control.c:1436</a></div></div>
<div class="ttc" id="structmessage_html"><div class="ttname"><a href="../../d8/d9e/structmessage.html">message</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/d45/manager_8h_source.html#l00144">manager.h:144</a></div></div>
<div class="ttc" id="json_8h_html_a33bcd9181e613a659eefe411ec42c87c"><div class="ttname"><a href="../../d4/d05/json_8h.html#a33bcd9181e613a659eefe411ec42c87c">ast_json_unref</a></div><div class="ttdeci">void ast_json_unref(struct ast_json *value)</div><div class="ttdoc">Decrease refcount on value. If refcount reaches zero, value is freed. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00073">json.c:73</a></div></div>
<div class="ttc" id="structstasis__message_html"><div class="ttname"><a href="../../d7/d55/structstasis__message.html">stasis_message</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db9/stasis__message_8c_source.html#l00121">stasis_message.c:121</a></div></div>
<div class="ttc" id="utils_8h_html_a24374da24af1931d8a7ccde5b352bb2c"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a></div><div class="ttdeci">#define ast_assert(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00695">utils.h:695</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="utils_8h_html_a1604b4d72144dd3d9f7da668e90337e9"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a></div><div class="ttdeci">#define RAII_VAR(vartype, varname, initval, dtor)</div><div class="ttdoc">Declare a variable that will call a destructor function when it goes out of scope. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00911">utils.h:911</a></div></div>
<div class="ttc" id="stasis__app__playback_8h_html_ab24cc5a6142382338031057f374c88d2"><div class="ttname"><a href="../../d3/d1e/stasis__app__playback_8h.html#ab24cc5a6142382338031057f374c88d2">stasis_app_playback_snapshot_type</a></div><div class="ttdeci">struct stasis_message_type * stasis_app_playback_snapshot_type(void)</div><div class="ttdoc">Message type for playback updates. The data is an ast_channel_blob. </div></div>
<div class="ttc" id="stasis__app_8h_html_a765833b409f1e57016e7fff07d9e0a01"><div class="ttname"><a href="../../d8/d9c/stasis__app_8h.html#a765833b409f1e57016e7fff07d9e0a01">stasis_app_control_get_channel_id</a></div><div class="ttdeci">const char * stasis_app_control_get_channel_id(const struct stasis_app_control *control)</div><div class="ttdoc">Returns the uniqueid of the channel associated with this control. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l01430">control.c:1430</a></div></div>
<div class="ttc" id="group__StasisTopicsAndMessages_html_gafe8b123e0c124e44c3bff016591d3f9c"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#gafe8b123e0c124e44c3bff016591d3f9c">ast_channel_blob_create_from_cache</a></div><div class="ttdeci">struct stasis_message * ast_channel_blob_create_from_cache(const char *uniqueid, struct stasis_message_type *type, struct ast_json *blob)</div><div class="ttdoc">Create a ast_channel_blob message, pulling channel state from the cache. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d2b/stasis__channels_8c_source.html#l00771">stasis_channels.c:771</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="structast__json_html"><div class="ttname"><a href="../../d1/da1/structast__json.html">ast_json</a></div><div class="ttdoc">Abstract JSON element (object, array, string, int, ...). </div></div>
<div class="ttc" id="res__stasis__playback_8c_html_af7e06669e968c82d09a697689ba92062"><div class="ttname"><a href="../../d7/de1/res__stasis__playback_8c.html#af7e06669e968c82d09a697689ba92062">stasis_app_playback_to_json</a></div><div class="ttdeci">struct ast_json * stasis_app_playback_to_json(const struct stasis_app_playback *playback)</div><div class="ttdoc">Convert a playback to its JSON representation. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/de1/res__stasis__playback_8c_source.html#l00555">res_stasis_playback.c:555</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2fd2485978e8032c9df7529683875ee2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2fd2485978e8032c9df7529683875ee2">&#9670;&nbsp;</a></span>playback_restart()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int playback_restart </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../de/dab/structstasis__app__playback.html">stasis_app_playback</a> *&#160;</td>
          <td class="paramname"><em>playback</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00611">611</a> of file <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html">res_stasis_playback.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00335">AST_CONTROL_STREAM_RESTART</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l01091">lock</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00602">SCOPED_AO2LOCK</a>, and <a class="el" href="../../de/de3/control_8c_source.html#l01445">stasis_app_control_queue_control()</a>.</p>
<div class="fragment"><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;{</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a2cfb325ed371eb6e629446bac4676e9f">SCOPED_AO2LOCK</a>(<a class="code" href="../../df/d44/app__meetme_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>, playback);</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;   <span class="keywordflow">if</span> (!playback-&gt;controllable) {</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;   }</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d8/d9c/stasis__app_8h.html#a1925743427fa1e058f5059e3b2de4d28">stasis_app_control_queue_control</a>(playback-&gt;control,</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;      <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390a32b72bba20e26bcd2d5a299c5d939bce">AST_CONTROL_STREAM_RESTART</a>);</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;}</div><div class="ttc" id="include_2asterisk_2frame_8h_html_aedda41918e992000fe921f8f7363b390a32b72bba20e26bcd2d5a299c5d939bce"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390a32b72bba20e26bcd2d5a299c5d939bce">AST_CONTROL_STREAM_RESTART</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00335">include/asterisk/frame.h:335</a></div></div>
<div class="ttc" id="app__meetme_8c_html_adf04f66344e3fb0a6f6a69bf39d19902"><div class="ttname"><a href="../../df/d44/app__meetme_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a></div><div class="ttdeci">ast_mutex_t lock</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d44/app__meetme_8c_source.html#l01091">app_meetme.c:1091</a></div></div>
<div class="ttc" id="lock_8h_html_a2cfb325ed371eb6e629446bac4676e9f"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a2cfb325ed371eb6e629446bac4676e9f">SCOPED_AO2LOCK</a></div><div class="ttdeci">#define SCOPED_AO2LOCK(varname, obj)</div><div class="ttdoc">scoped lock specialization for ao2 mutexes. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00602">lock.h:602</a></div></div>
<div class="ttc" id="stasis__app_8h_html_a1925743427fa1e058f5059e3b2de4d28"><div class="ttname"><a href="../../d8/d9c/stasis__app_8h.html#a1925743427fa1e058f5059e3b2de4d28">stasis_app_control_queue_control</a></div><div class="ttdeci">int stasis_app_control_queue_control(struct stasis_app_control *control, enum ast_control_frame_type frame_type)</div><div class="ttdoc">Queue a control frame without payload. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l01445">control.c:1445</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aecde3617343ec833e302441a76b4387d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aecde3617343ec833e302441a76b4387d">&#9670;&nbsp;</a></span>playback_reverse()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int playback_reverse </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../de/dab/structstasis__app__playback.html">stasis_app_playback</a> *&#160;</td>
          <td class="paramname"><em>playback</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00653">653</a> of file <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html">res_stasis_playback.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00336">AST_CONTROL_STREAM_REVERSE</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l01091">lock</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00602">SCOPED_AO2LOCK</a>, and <a class="el" href="../../de/de3/control_8c_source.html#l01445">stasis_app_control_queue_control()</a>.</p>
<div class="fragment"><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;{</div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a2cfb325ed371eb6e629446bac4676e9f">SCOPED_AO2LOCK</a>(<a class="code" href="../../df/d44/app__meetme_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>, playback);</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;</div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;   <span class="keywordflow">if</span> (!playback-&gt;controllable) {</div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;   }</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;</div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d8/d9c/stasis__app_8h.html#a1925743427fa1e058f5059e3b2de4d28">stasis_app_control_queue_control</a>(playback-&gt;control,</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;      <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390a4e1f998aacd5c878a02040883b846bd7">AST_CONTROL_STREAM_REVERSE</a>);</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;}</div><div class="ttc" id="app__meetme_8c_html_adf04f66344e3fb0a6f6a69bf39d19902"><div class="ttname"><a href="../../df/d44/app__meetme_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a></div><div class="ttdeci">ast_mutex_t lock</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d44/app__meetme_8c_source.html#l01091">app_meetme.c:1091</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_aedda41918e992000fe921f8f7363b390a4e1f998aacd5c878a02040883b846bd7"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390a4e1f998aacd5c878a02040883b846bd7">AST_CONTROL_STREAM_REVERSE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00336">include/asterisk/frame.h:336</a></div></div>
<div class="ttc" id="lock_8h_html_a2cfb325ed371eb6e629446bac4676e9f"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a2cfb325ed371eb6e629446bac4676e9f">SCOPED_AO2LOCK</a></div><div class="ttdeci">#define SCOPED_AO2LOCK(varname, obj)</div><div class="ttdoc">scoped lock specialization for ao2 mutexes. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00602">lock.h:602</a></div></div>
<div class="ttc" id="stasis__app_8h_html_a1925743427fa1e058f5059e3b2de4d28"><div class="ttname"><a href="../../d8/d9c/stasis__app_8h.html#a1925743427fa1e058f5059e3b2de4d28">stasis_app_control_queue_control</a></div><div class="ttdeci">int stasis_app_control_queue_control(struct stasis_app_control *control, enum ast_control_frame_type frame_type)</div><div class="ttdoc">Queue a control frame without payload. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l01445">control.c:1445</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af0a956e38c21765ab78609f6a253e416"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af0a956e38c21765ab78609f6a253e416">&#9670;&nbsp;</a></span>playback_stop()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int playback_stop </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../de/dab/structstasis__app__playback.html">stasis_app_playback</a> *&#160;</td>
          <td class="paramname"><em>playback</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00598">598</a> of file <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html">res_stasis_playback.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00333">AST_CONTROL_STREAM_STOP</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l01091">lock</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00602">SCOPED_AO2LOCK</a>, <a class="el" href="../../de/de3/control_8c_source.html#l01445">stasis_app_control_queue_control()</a>, and <a class="el" href="../../d3/d1e/stasis__app__playback_8h_source.html#l00051">STASIS_PLAYBACK_STATE_STOPPED</a>.</p>
<div class="fragment"><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;{</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a2cfb325ed371eb6e629446bac4676e9f">SCOPED_AO2LOCK</a>(<a class="code" href="../../df/d44/app__meetme_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>, playback);</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;   <span class="keywordflow">if</span> (!playback-&gt;controllable) {</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;   }</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;   playback-&gt;state = <a class="code" href="../../d3/d1e/stasis__app__playback_8h.html#ad9564a0965bd8a8620b26bb8ead93c02a0c3673147161e30d00fc61c0f808e823">STASIS_PLAYBACK_STATE_STOPPED</a>;</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d8/d9c/stasis__app_8h.html#a1925743427fa1e058f5059e3b2de4d28">stasis_app_control_queue_control</a>(playback-&gt;control,</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;      <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390aa95eb913e6cbbac8a34e69905245fdf4">AST_CONTROL_STREAM_STOP</a>);</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;}</div><div class="ttc" id="stasis__app__playback_8h_html_ad9564a0965bd8a8620b26bb8ead93c02a0c3673147161e30d00fc61c0f808e823"><div class="ttname"><a href="../../d3/d1e/stasis__app__playback_8h.html#ad9564a0965bd8a8620b26bb8ead93c02a0c3673147161e30d00fc61c0f808e823">STASIS_PLAYBACK_STATE_STOPPED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d1e/stasis__app__playback_8h_source.html#l00051">stasis_app_playback.h:51</a></div></div>
<div class="ttc" id="app__meetme_8c_html_adf04f66344e3fb0a6f6a69bf39d19902"><div class="ttname"><a href="../../df/d44/app__meetme_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a></div><div class="ttdeci">ast_mutex_t lock</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d44/app__meetme_8c_source.html#l01091">app_meetme.c:1091</a></div></div>
<div class="ttc" id="lock_8h_html_a2cfb325ed371eb6e629446bac4676e9f"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a2cfb325ed371eb6e629446bac4676e9f">SCOPED_AO2LOCK</a></div><div class="ttdeci">#define SCOPED_AO2LOCK(varname, obj)</div><div class="ttdoc">scoped lock specialization for ao2 mutexes. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00602">lock.h:602</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_aedda41918e992000fe921f8f7363b390aa95eb913e6cbbac8a34e69905245fdf4"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390aa95eb913e6cbbac8a34e69905245fdf4">AST_CONTROL_STREAM_STOP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00333">include/asterisk/frame.h:333</a></div></div>
<div class="ttc" id="stasis__app_8h_html_a1925743427fa1e058f5059e3b2de4d28"><div class="ttname"><a href="../../d8/d9c/stasis__app_8h.html#a1925743427fa1e058f5059e3b2de4d28">stasis_app_control_queue_control</a></div><div class="ttdeci">int stasis_app_control_queue_control(struct stasis_app_control *control, enum ast_control_frame_type frame_type)</div><div class="ttdoc">Queue a control frame without payload. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l01445">control.c:1445</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a9a477d2d7995734f138161f8f8e5dbd0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a477d2d7995734f138161f8f8e5dbd0">&#9670;&nbsp;</a></span>playback_to_json()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="../../d1/da1/structast__json.html">ast_json</a>* playback_to_json </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d7/d55/structstasis__message.html">stasis_message</a> *&#160;</td>
          <td class="paramname"><em>message</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="../../d4/d45/structstasis__message__sanitizer.html">stasis_message_sanitizer</a> *&#160;</td>
          <td class="paramname"><em>sanitize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00095">95</a> of file <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html">res_stasis_playback.c</a>.</p>

<p class="reference">References <a class="el" href="../../df/d98/json_8c_source.html#l00397">ast_json_object_get()</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00591">ast_json_pack()</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00273">ast_json_string_get()</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00649">ast_json_timeval()</a>, <a class="el" href="../../d9/d4a/stasis__channels_8h_source.html#l00188">ast_channel_blob::blob</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d3/d1e/stasis__app__playback_8h.html#ab24cc5a6142382338031057f374c88d2">stasis_app_playback_snapshot_type()</a>, <a class="el" href="../../d2/db9/stasis__message_8c_source.html#l00195">stasis_message_data()</a>, <a class="el" href="../../d2/db9/stasis__message_8c_source.html#l00203">stasis_message_timestamp()</a>, <a class="el" href="../../d7/de1/res__stasis__playback_8c.html#a1634f0744bdcfbd4ed6e2516de95763d">STASIS_MESSAGE_TYPE_DEFN()</a>, and <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00109">type</a>.</p>
<div class="fragment"><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;{</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../db/df0/structast__channel__blob.html">ast_channel_blob</a> *channel_blob = <a class="code" href="../../dd/d79/stasis_8h.html#af6081f17431b81bc1a010b680517491d">stasis_message_data</a>(message);</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/da1/structast__json.html">ast_json</a> *blob = channel_blob-&gt;<a class="code" href="../../db/df0/structast__channel__blob.html#ad2b8e22df32b99651f727cd9a8dcb9f3">blob</a>;</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d4/d88/structstate.html">state</a> =</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;      <a class="code" href="../../d4/d05/json_8h.html#a6772fcee88746a9d4f6ec6f240b76dd0">ast_json_string_get</a>(<a class="code" href="../../d4/d05/json_8h.html#a53707225c3bf831e263245c6e3800676">ast_json_object_get</a>(blob, <span class="stringliteral">&quot;state&quot;</span>));</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>;</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;   <span class="keywordflow">if</span> (!strcmp(state, <span class="stringliteral">&quot;playing&quot;</span>)) {</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;      type = <span class="stringliteral">&quot;PlaybackStarted&quot;</span>;</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(state, <span class="stringliteral">&quot;continuing&quot;</span>)) {</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;      type = <span class="stringliteral">&quot;PlaybackContinuing&quot;</span>;</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(state, <span class="stringliteral">&quot;done&quot;</span>)) {</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;      type = <span class="stringliteral">&quot;PlaybackFinished&quot;</span>;</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;   }</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d4/d05/json_8h.html#a99715667e822b2ad409b34ca041e535d">ast_json_pack</a>(<span class="stringliteral">&quot;{s: s, s: o?, s: O}&quot;</span>,</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;      <span class="stringliteral">&quot;type&quot;</span>, type,</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;      <span class="stringliteral">&quot;timestamp&quot;</span>, <a class="code" href="../../d4/d05/json_8h.html#a2b7c72e2e3ab2634d8a4f8b708440d95">ast_json_timeval</a>(*<a class="code" href="../../dd/d79/stasis_8h.html#a0a9c10eadd9db34f8c0b19619752ea93">stasis_message_timestamp</a>(message), <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>),</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;      <span class="stringliteral">&quot;playback&quot;</span>, blob);</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;}</div><div class="ttc" id="chan__ooh323_8c_html_a4d63fdfe5451ec2248c16a2739190c56"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a></div><div class="ttdeci">static const char type[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00109">chan_ooh323.c:109</a></div></div>
<div class="ttc" id="json_8h_html_a99715667e822b2ad409b34ca041e535d"><div class="ttname"><a href="../../d4/d05/json_8h.html#a99715667e822b2ad409b34ca041e535d">ast_json_pack</a></div><div class="ttdeci">struct ast_json * ast_json_pack(char const *format,...)</div><div class="ttdoc">Helper for creating complex JSON values. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00591">json.c:591</a></div></div>
<div class="ttc" id="structast__channel__blob_html_ad2b8e22df32b99651f727cd9a8dcb9f3"><div class="ttname"><a href="../../db/df0/structast__channel__blob.html#ad2b8e22df32b99651f727cd9a8dcb9f3">ast_channel_blob::blob</a></div><div class="ttdeci">struct ast_json * blob</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d4a/stasis__channels_8h_source.html#l00188">stasis_channels.h:188</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structast__channel__blob_html"><div class="ttname"><a href="../../db/df0/structast__channel__blob.html">ast_channel_blob</a></div><div class="ttdoc">Blob of data associated with a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d4a/stasis__channels_8h_source.html#l00184">stasis_channels.h:184</a></div></div>
<div class="ttc" id="stasis_8h_html_a0a9c10eadd9db34f8c0b19619752ea93"><div class="ttname"><a href="../../dd/d79/stasis_8h.html#a0a9c10eadd9db34f8c0b19619752ea93">stasis_message_timestamp</a></div><div class="ttdeci">const struct timeval * stasis_message_timestamp(const struct stasis_message *msg)</div><div class="ttdoc">Get the time when a message was created. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db9/stasis__message_8c_source.html#l00203">stasis_message.c:203</a></div></div>
<div class="ttc" id="json_8h_html_a6772fcee88746a9d4f6ec6f240b76dd0"><div class="ttname"><a href="../../d4/d05/json_8h.html#a6772fcee88746a9d4f6ec6f240b76dd0">ast_json_string_get</a></div><div class="ttdeci">const char * ast_json_string_get(const struct ast_json *string)</div><div class="ttdoc">Get the value of a JSON string. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00273">json.c:273</a></div></div>
<div class="ttc" id="json_8h_html_a2b7c72e2e3ab2634d8a4f8b708440d95"><div class="ttname"><a href="../../d4/d05/json_8h.html#a2b7c72e2e3ab2634d8a4f8b708440d95">ast_json_timeval</a></div><div class="ttdeci">struct ast_json * ast_json_timeval(const struct timeval tv, const char *zone)</div><div class="ttdoc">Construct a timeval as JSON. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00649">json.c:649</a></div></div>
<div class="ttc" id="stasis_8h_html_af6081f17431b81bc1a010b680517491d"><div class="ttname"><a href="../../dd/d79/stasis_8h.html#af6081f17431b81bc1a010b680517491d">stasis_message_data</a></div><div class="ttdeci">void * stasis_message_data(const struct stasis_message *msg)</div><div class="ttdoc">Get the data contained in a message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db9/stasis__message_8c_source.html#l00195">stasis_message.c:195</a></div></div>
<div class="ttc" id="structstate_html"><div class="ttname"><a href="../../d4/d88/structstate.html">state</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/df8/localtime_8c_source.html#l00158">localtime.c:158</a></div></div>
<div class="ttc" id="json_8h_html_a53707225c3bf831e263245c6e3800676"><div class="ttname"><a href="../../d4/d05/json_8h.html#a53707225c3bf831e263245c6e3800676">ast_json_object_get</a></div><div class="ttdeci">struct ast_json * ast_json_object_get(struct ast_json *object, const char *key)</div><div class="ttdoc">Get a field from a JSON object. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00397">json.c:397</a></div></div>
<div class="ttc" id="structast__json_html"><div class="ttname"><a href="../../d1/da1/structast__json.html">ast_json</a></div><div class="ttdoc">Abstract JSON element (object, array, string, int, ...). </div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3344dc2e386f7fb3894aa597c628579a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3344dc2e386f7fb3894aa597c628579a">&#9670;&nbsp;</a></span>playback_unpause()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int playback_unpause </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../de/dab/structstasis__app__playback.html">stasis_app_playback</a> *&#160;</td>
          <td class="paramname"><em>playback</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00638">638</a> of file <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html">res_stasis_playback.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00334">AST_CONTROL_STREAM_SUSPEND</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l01091">lock</a>, <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00218">playback_publish()</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00602">SCOPED_AO2LOCK</a>, <a class="el" href="../../de/de3/control_8c_source.html#l01445">stasis_app_control_queue_control()</a>, and <a class="el" href="../../d3/d1e/stasis__app__playback_8h_source.html#l00041">STASIS_PLAYBACK_STATE_PLAYING</a>.</p>
<div class="fragment"><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;{</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a2cfb325ed371eb6e629446bac4676e9f">SCOPED_AO2LOCK</a>(<a class="code" href="../../df/d44/app__meetme_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>, playback);</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;   <span class="keywordflow">if</span> (!playback-&gt;controllable) {</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;   }</div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;   playback-&gt;state = <a class="code" href="../../d3/d1e/stasis__app__playback_8h.html#ad9564a0965bd8a8620b26bb8ead93c02ab320c0f6c2a8799782f51924e6c93dd4">STASIS_PLAYBACK_STATE_PLAYING</a>;</div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;   <a class="code" href="../../d7/de1/res__stasis__playback_8c.html#aeefc2da5ccb7ca0de95a963356376649">playback_publish</a>(playback);</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d8/d9c/stasis__app_8h.html#a1925743427fa1e058f5059e3b2de4d28">stasis_app_control_queue_control</a>(playback-&gt;control,</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;      <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390a32e9dbe9416e847668084be16d4698c9">AST_CONTROL_STREAM_SUSPEND</a>);</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;}</div><div class="ttc" id="include_2asterisk_2frame_8h_html_aedda41918e992000fe921f8f7363b390a32e9dbe9416e847668084be16d4698c9"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390a32e9dbe9416e847668084be16d4698c9">AST_CONTROL_STREAM_SUSPEND</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00334">include/asterisk/frame.h:334</a></div></div>
<div class="ttc" id="app__meetme_8c_html_adf04f66344e3fb0a6f6a69bf39d19902"><div class="ttname"><a href="../../df/d44/app__meetme_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a></div><div class="ttdeci">ast_mutex_t lock</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d44/app__meetme_8c_source.html#l01091">app_meetme.c:1091</a></div></div>
<div class="ttc" id="stasis__app__playback_8h_html_ad9564a0965bd8a8620b26bb8ead93c02ab320c0f6c2a8799782f51924e6c93dd4"><div class="ttname"><a href="../../d3/d1e/stasis__app__playback_8h.html#ad9564a0965bd8a8620b26bb8ead93c02ab320c0f6c2a8799782f51924e6c93dd4">STASIS_PLAYBACK_STATE_PLAYING</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d1e/stasis__app__playback_8h_source.html#l00041">stasis_app_playback.h:41</a></div></div>
<div class="ttc" id="lock_8h_html_a2cfb325ed371eb6e629446bac4676e9f"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a2cfb325ed371eb6e629446bac4676e9f">SCOPED_AO2LOCK</a></div><div class="ttdeci">#define SCOPED_AO2LOCK(varname, obj)</div><div class="ttdoc">scoped lock specialization for ao2 mutexes. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00602">lock.h:602</a></div></div>
<div class="ttc" id="stasis__app_8h_html_a1925743427fa1e058f5059e3b2de4d28"><div class="ttname"><a href="../../d8/d9c/stasis__app_8h.html#a1925743427fa1e058f5059e3b2de4d28">stasis_app_control_queue_control</a></div><div class="ttdeci">int stasis_app_control_queue_control(struct stasis_app_control *control, enum ast_control_frame_type frame_type)</div><div class="ttdoc">Queue a control frame without payload. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l01445">control.c:1445</a></div></div>
<div class="ttc" id="res__stasis__playback_8c_html_aeefc2da5ccb7ca0de95a963356376649"><div class="ttname"><a href="../../d7/de1/res__stasis__playback_8c.html#aeefc2da5ccb7ca0de95a963356376649">playback_publish</a></div><div class="ttdeci">static void playback_publish(struct stasis_app_playback *playback)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/de1/res__stasis__playback_8c_source.html#l00218">res_stasis_playback.c:218</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6a165cdd6f4f585bf22c6c49b4dcbd00"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a165cdd6f4f585bf22c6c49b4dcbd00">&#9670;&nbsp;</a></span>remove_from_playbacks()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void remove_from_playbacks </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><a class="el" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a> function to remove a playback from the global list when leaving scope. </p>

<p class="definition">Definition at line <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00409">409</a> of file <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html">res_stasis_playback.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01622">ao2_unlink_flags</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01048">OBJ_NODATA</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01154">OBJ_POINTER</a>, and <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01043">OBJ_UNLINK</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00471">stasis_app_control_play_uri()</a>.</p>
<div class="fragment"><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;{</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../de/dab/structstasis__app__playback.html">stasis_app_playback</a> *playback = data;</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a77df7775a2a8b6cbef307e211dbf045c">ao2_unlink_flags</a>(<a class="code" href="../../d7/de1/res__stasis__playback_8c.html#a1728b67706415daf8d1e33af228813f3">playbacks</a>, playback,</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#a2448088751e4d494d1981c7f4b84e8d0">OBJ_POINTER</a> | <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca71f42ec6460e60eb6e10956c53329e45">OBJ_UNLINK</a> | <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca5fc59b193d86a0a8ddfe866304be829d">OBJ_NODATA</a>);</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(playback, -1);</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;}</div><div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35ca5fc59b193d86a0a8ddfe866304be829d"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca5fc59b193d86a0a8ddfe866304be829d">OBJ_NODATA</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01048">astobj2.h:1048</a></div></div>
<div class="ttc" id="astobj2_8h_html_a2448088751e4d494d1981c7f4b84e8d0"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a2448088751e4d494d1981c7f4b84e8d0">OBJ_POINTER</a></div><div class="ttdeci">#define OBJ_POINTER</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01154">astobj2.h:1154</a></div></div>
<div class="ttc" id="res__stasis__playback_8c_html_a1728b67706415daf8d1e33af228813f3"><div class="ttname"><a href="../../d7/de1/res__stasis__playback_8c.html#a1728b67706415daf8d1e33af228813f3">playbacks</a></div><div class="ttdeci">static struct ao2_container * playbacks</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/de1/res__stasis__playback_8c_source.html#l00065">res_stasis_playback.c:65</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35ca71f42ec6460e60eb6e10956c53329e45"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca71f42ec6460e60eb6e10956c53329e45">OBJ_UNLINK</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01043">astobj2.h:1043</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="astobj2_8h_html_a77df7775a2a8b6cbef307e211dbf045c"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a77df7775a2a8b6cbef307e211dbf045c">ao2_unlink_flags</a></div><div class="ttdeci">#define ao2_unlink_flags(container, obj, flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01622">astobj2.h:1622</a></div></div>
<div class="ttc" id="structstasis__app__playback_html"><div class="ttname"><a href="../../de/dab/structstasis__app__playback.html">stasis_app_playback</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/de1/res__stasis__playback_8c_source.html#l00068">res_stasis_playback.c:68</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a60acbef5bc56a25c441629fd880aa676"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a60acbef5bc56a25c441629fd880aa676">&#9670;&nbsp;</a></span>set_target_uri()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void set_target_uri </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../de/dab/structstasis__app__playback.html">stasis_app_playback</a> *&#160;</td>
          <td class="paramname"><em>playback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="../../d3/d1e/stasis__app__playback_8h.html#a042f8aec8be0761c5ebc29940de91570">stasis_app_playback_target_type</a>&#160;</td>
          <td class="paramname"><em>target_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>target_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00451">451</a> of file <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html">res_stasis_playback.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d60/utils_8h_source.html#l00695">ast_assert</a>, <a class="el" href="../../d1/d0f/stringfields_8h_source.html#l00550">ast_string_field_build</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d3/d1e/stasis__app__playback_8h_source.html#l00078">STASIS_PLAYBACK_TARGET_BRIDGE</a>, <a class="el" href="../../d3/d1e/stasis__app__playback_8h_source.html#l00076">STASIS_PLAYBACK_TARGET_CHANNEL</a>, <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00074">stasis_app_playback::target</a>, and <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00109">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00471">stasis_app_control_play_uri()</a>.</p>
<div class="fragment"><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;{</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;   <span class="keywordflow">switch</span> (target_type) {</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d3/d1e/stasis__app__playback_8h.html#a042f8aec8be0761c5ebc29940de91570adeed3829c6f1ae9605add987c662685c">STASIS_PLAYBACK_TARGET_CHANNEL</a>:</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;      type = <span class="stringliteral">&quot;channel&quot;</span>;</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d3/d1e/stasis__app__playback_8h.html#a042f8aec8be0761c5ebc29940de91570aaf2529e6b2299487d39104fe749d5f45">STASIS_PLAYBACK_TARGET_BRIDGE</a>:</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;      type = <span class="stringliteral">&quot;bridge&quot;</span>;</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;   }</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a>(type != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;   <a class="code" href="../../d1/d0f/stringfields_8h.html#a8b9f4347fc72720cc5cead952b54abe9">ast_string_field_build</a>(playback, <a class="code" href="../../de/dab/structstasis__app__playback.html#a93a94186c0e3acad20bfc8bb134f5b6c">target</a>, <span class="stringliteral">&quot;%s:%s&quot;</span>, type, target_id);</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;}</div><div class="ttc" id="chan__ooh323_8c_html_a4d63fdfe5451ec2248c16a2739190c56"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a></div><div class="ttdeci">static const char type[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00109">chan_ooh323.c:109</a></div></div>
<div class="ttc" id="utils_8h_html_a24374da24af1931d8a7ccde5b352bb2c"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a></div><div class="ttdeci">#define ast_assert(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00695">utils.h:695</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structstasis__app__playback_html_a93a94186c0e3acad20bfc8bb134f5b6c"><div class="ttname"><a href="../../de/dab/structstasis__app__playback.html#a93a94186c0e3acad20bfc8bb134f5b6c">stasis_app_playback::target</a></div><div class="ttdeci">const ast_string_field target</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/de1/res__stasis__playback_8c_source.html#l00074">res_stasis_playback.c:74</a></div></div>
<div class="ttc" id="stringfields_8h_html_a8b9f4347fc72720cc5cead952b54abe9"><div class="ttname"><a href="../../d1/d0f/stringfields_8h.html#a8b9f4347fc72720cc5cead952b54abe9">ast_string_field_build</a></div><div class="ttdeci">#define ast_string_field_build(x, field, fmt, args...)</div><div class="ttdoc">Set a field to a complex (built) value. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d0f/stringfields_8h_source.html#l00550">stringfields.h:550</a></div></div>
<div class="ttc" id="stasis__app__playback_8h_html_a042f8aec8be0761c5ebc29940de91570aaf2529e6b2299487d39104fe749d5f45"><div class="ttname"><a href="../../d3/d1e/stasis__app__playback_8h.html#a042f8aec8be0761c5ebc29940de91570aaf2529e6b2299487d39104fe749d5f45">STASIS_PLAYBACK_TARGET_BRIDGE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d1e/stasis__app__playback_8h_source.html#l00078">stasis_app_playback.h:78</a></div></div>
<div class="ttc" id="stasis__app__playback_8h_html_a042f8aec8be0761c5ebc29940de91570adeed3829c6f1ae9605add987c662685c"><div class="ttname"><a href="../../d3/d1e/stasis__app__playback_8h.html#a042f8aec8be0761c5ebc29940de91570adeed3829c6f1ae9605add987c662685c">STASIS_PLAYBACK_TARGET_CHANNEL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d1e/stasis__app__playback_8h_source.html#l00076">stasis_app_playback.h:76</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad893b5975e16139b7c99527f78f24584"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad893b5975e16139b7c99527f78f24584">&#9670;&nbsp;</a></span>stasis_app_control_play_uri()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../de/dab/structstasis__app__playback.html">stasis_app_playback</a>* stasis_app_control_play_uri </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../da/da4/structstasis__app__control.html">stasis_app_control</a> *&#160;</td>
          <td class="paramname"><em>control</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char **&#160;</td>
          <td class="paramname"><em>media</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>media_count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>language</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>target_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="../../d3/d1e/stasis__app__playback_8h.html#a042f8aec8be0761c5ebc29940de91570">stasis_app_playback_target_type</a>&#160;</td>
          <td class="paramname"><em>target_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>skipms</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>offsetms</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Play a file to the control's channel. </p>
<p>Note that the file isn't the full path to the file. Asterisk's internal playback mechanism will automagically select the best format based on the available codecs for the channel.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">control</td><td>Control for <code>res_stasis</code>. </td></tr>
    <tr><td class="paramname">media</td><td>Array of const char * media files to play. </td></tr>
    <tr><td class="paramname">media_count</td><td>The number of media files in <code>media</code>. </td></tr>
    <tr><td class="paramname">language</td><td>Selects the file based on language. </td></tr>
    <tr><td class="paramname">target_id</td><td>ID of the target bridge or channel. </td></tr>
    <tr><td class="paramname">target_type</td><td>What the target type is </td></tr>
    <tr><td class="paramname">skipms</td><td>Number of milliseconds to skip for forward/reverse operations. </td></tr>
    <tr><td class="paramname">offsetms</td><td>Number of milliseconds to skip before playing. </td></tr>
    <tr><td class="paramname">id</td><td>ID to assign the new playback or NULL for default. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Playback control object. </dd>
<dd>
<code>NULL</code> on error. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00471">471</a> of file <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html">res_stasis_playback.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00491">ao2_bump</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01549">ao2_link</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00193">ast_malloc</a>, <a class="el" href="../../d1/d0f/stringfields_8h_source.html#l00514">ast_string_field_set</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00256">AST_VECTOR_APPEND</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00682">AST_VECTOR_GET</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00418">play_uri()</a>, <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00140">playback_create()</a>, <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00055">PLAYBACK_DEFAULT_SKIPMS</a>, <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00218">playback_publish()</a>, <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00409">remove_from_playbacks()</a>, <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00451">set_target_uri()</a>, <a class="el" href="../../dc/df4/app__voicemail_8c_source.html#l00932">skipms</a>, <a class="el" href="../../de/de3/control_8c_source.html#l01430">stasis_app_control_get_channel_id()</a>, <a class="el" href="../../de/de3/control_8c_source.html#l00904">stasis_app_send_command_async()</a>, and <a class="el" href="../../d3/d1e/stasis__app__playback_8h_source.html#l00039">STASIS_PLAYBACK_STATE_QUEUED</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d0b/resource__bridges_8c_source.html#l00357">ari_bridges_play_helper()</a>, and <a class="el" href="../../da/d49/resource__channels_8c_source.html#l00636">ari_channels_handle_play()</a>.</p>
<div class="fragment"><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;{</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../de/dab/structstasis__app__playback.html">stasis_app_playback</a> *playback;</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;   <span class="keywordtype">size_t</span> i;</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../dc/df4/app__voicemail_8c.html#a1df943a05a384a407a19cf8831b2d237">skipms</a> &lt; 0 || offsetms &lt; 0 || media_count == 0) {</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;   }</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;   playback = <a class="code" href="../../d7/de1/res__stasis__playback_8c.html#aa50aae44ebc0f605b704b898012587a0">playback_create</a>(control, <span class="keywordtype">id</span>);</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;   <span class="keywordflow">if</span> (!playback) {</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;   }</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;   <span class="keywordflow">for</span> (i = 0; i &lt; media_count; i++) {</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;      <span class="keywordtype">char</span> *media_uri;</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(<a class="code" href="../../de/dab/structstasis__app__playback.html#a262e3649395d8dbb676efac68d15a414">media</a>[i])) {</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Attempted to play media on channel &#39;%s&#39; but no media URI was provided.\n&quot;</span>,</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;            <a class="code" href="../../d8/d9c/stasis__app_8h.html#a765833b409f1e57016e7fff07d9e0a01">stasis_app_control_get_channel_id</a>(control));</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;         <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(playback, -1);</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;         <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;      }</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;      media_uri = <a class="code" href="../../d8/d8a/astmm_8h.html#ae63d4f486bcf6eac7c1593f867717d91">ast_malloc</a>(strlen(<a class="code" href="../../de/dab/structstasis__app__playback.html#a262e3649395d8dbb676efac68d15a414">media</a>[i]) + 1);</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;      <span class="keywordflow">if</span> (!media_uri) {</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;         <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(playback, -1);</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;         <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;      }</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(3, <span class="stringliteral">&quot;%s: Sending play(%s) command\n&quot;</span>,</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;         <a class="code" href="../../d8/d9c/stasis__app_8h.html#a765833b409f1e57016e7fff07d9e0a01">stasis_app_control_get_channel_id</a>(control), <a class="code" href="../../de/dab/structstasis__app__playback.html#a262e3649395d8dbb676efac68d15a414">media</a>[i]);</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;       <span class="comment">/* safe */</span></div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;      strcpy(media_uri, <a class="code" href="../../de/dab/structstasis__app__playback.html#a262e3649395d8dbb676efac68d15a414">media</a>[i]);</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d6/d68/vector_8h.html#ae9d6199727f88a8c2407cb0e004e634a">AST_VECTOR_APPEND</a>(&amp;playback-&gt;medias, media_uri)) {</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;         <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(playback, -1);</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;         <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(media_uri);</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;         <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;      }</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;   }</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../dc/df4/app__voicemail_8c.html#a1df943a05a384a407a19cf8831b2d237">skipms</a> == 0) {</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;      <a class="code" href="../../dc/df4/app__voicemail_8c.html#a1df943a05a384a407a19cf8831b2d237">skipms</a> = <a class="code" href="../../d7/de1/res__stasis__playback_8c.html#a53155f3533dc2e6db5deb9099dcbdbb3">PLAYBACK_DEFAULT_SKIPMS</a>;</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;   }</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;   <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(playback, <a class="code" href="../../de/dab/structstasis__app__playback.html#a262e3649395d8dbb676efac68d15a414">media</a>, <a class="code" href="../../d6/d68/vector_8h.html#aef32ac52c3e8a530d16eb92cde22cacd">AST_VECTOR_GET</a>(&amp;playback-&gt;medias, 0));</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;   <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(playback, <a class="code" href="../../da/d45/chan__alsa_8c.html#adf416dc058363e2fd5750c77e2d78bee">language</a>, <a class="code" href="../../da/d45/chan__alsa_8c.html#adf416dc058363e2fd5750c77e2d78bee">language</a>);</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;   <a class="code" href="../../d7/de1/res__stasis__playback_8c.html#a60acbef5bc56a25c441629fd880aa676">set_target_uri</a>(playback, target_type, target_id);</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;   playback-&gt;skipms = <a class="code" href="../../dc/df4/app__voicemail_8c.html#a1df943a05a384a407a19cf8831b2d237">skipms</a>;</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;   playback-&gt;offsetms = offsetms;</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a1ad9f122bcae95a470639402faa3d2ee">ao2_link</a>(<a class="code" href="../../d7/de1/res__stasis__playback_8c.html#a1728b67706415daf8d1e33af228813f3">playbacks</a>, playback);</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;   playback-&gt;state = <a class="code" href="../../d3/d1e/stasis__app__playback_8h.html#ad9564a0965bd8a8620b26bb8ead93c02ac7a921b132496d00dee759fc714b7d13">STASIS_PLAYBACK_STATE_QUEUED</a>;</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;   <a class="code" href="../../d7/de1/res__stasis__playback_8c.html#aeefc2da5ccb7ca0de95a963356376649">playback_publish</a>(playback);</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;   <a class="code" href="../../de/d0b/stasis__app__impl_8h.html#a838fef3012703b621ce65fb0e55b4af5">stasis_app_send_command_async</a>(control, <a class="code" href="../../d7/de1/res__stasis__playback_8c.html#a6000e77d69754d53927789f721c1fdd4">play_uri</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#ac438c3fcd3150481fad38689fd813a15">ao2_bump</a>(playback), <a class="code" href="../../d7/de1/res__stasis__playback_8c.html#a6a165cdd6f4f585bf22c6c49b4dcbd00">remove_from_playbacks</a>);</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;   <span class="keywordflow">return</span> playback;</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;}</div><div class="ttc" id="res__stasis__playback_8c_html_a60acbef5bc56a25c441629fd880aa676"><div class="ttname"><a href="../../d7/de1/res__stasis__playback_8c.html#a60acbef5bc56a25c441629fd880aa676">set_target_uri</a></div><div class="ttdeci">static void set_target_uri(struct stasis_app_playback *playback, enum stasis_app_playback_target_type target_type, const char *target_id)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/de1/res__stasis__playback_8c_source.html#l00451">res_stasis_playback.c:451</a></div></div>
<div class="ttc" id="stasis__app__playback_8h_html_ad9564a0965bd8a8620b26bb8ead93c02ac7a921b132496d00dee759fc714b7d13"><div class="ttname"><a href="../../d3/d1e/stasis__app__playback_8h.html#ad9564a0965bd8a8620b26bb8ead93c02ac7a921b132496d00dee759fc714b7d13">STASIS_PLAYBACK_STATE_QUEUED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d1e/stasis__app__playback_8h_source.html#l00039">stasis_app_playback.h:39</a></div></div>
<div class="ttc" id="res__stasis__playback_8c_html_a1728b67706415daf8d1e33af228813f3"><div class="ttname"><a href="../../d7/de1/res__stasis__playback_8c.html#a1728b67706415daf8d1e33af228813f3">playbacks</a></div><div class="ttdeci">static struct ao2_container * playbacks</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/de1/res__stasis__playback_8c_source.html#l00065">res_stasis_playback.c:65</a></div></div>
<div class="ttc" id="vector_8h_html_ae9d6199727f88a8c2407cb0e004e634a"><div class="ttname"><a href="../../d6/d68/vector_8h.html#ae9d6199727f88a8c2407cb0e004e634a">AST_VECTOR_APPEND</a></div><div class="ttdeci">#define AST_VECTOR_APPEND(vec, elem)</div><div class="ttdoc">Append an element to a vector, growing the vector if needed. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00256">vector.h:256</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="res__stasis__playback_8c_html_a53155f3533dc2e6db5deb9099dcbdbb3"><div class="ttname"><a href="../../d7/de1/res__stasis__playback_8c.html#a53155f3533dc2e6db5deb9099dcbdbb3">PLAYBACK_DEFAULT_SKIPMS</a></div><div class="ttdeci">#define PLAYBACK_DEFAULT_SKIPMS</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/de1/res__stasis__playback_8c_source.html#l00055">res_stasis_playback.c:55</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="astobj2_8h_html_ac438c3fcd3150481fad38689fd813a15"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ac438c3fcd3150481fad38689fd813a15">ao2_bump</a></div><div class="ttdeci">#define ao2_bump(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00491">astobj2.h:491</a></div></div>
<div class="ttc" id="structstasis__app__playback_html_a262e3649395d8dbb676efac68d15a414"><div class="ttname"><a href="../../de/dab/structstasis__app__playback.html#a262e3649395d8dbb676efac68d15a414">stasis_app_playback::media</a></div><div class="ttdeci">const ast_string_field media</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/de1/res__stasis__playback_8c_source.html#l00074">res_stasis_playback.c:74</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="chan__alsa_8c_html_adf416dc058363e2fd5750c77e2d78bee"><div class="ttname"><a href="../../da/d45/chan__alsa_8c.html#adf416dc058363e2fd5750c77e2d78bee">language</a></div><div class="ttdeci">static char language[MAX_LANGUAGE]</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d45/chan__alsa_8c_source.html#l00117">chan_alsa.c:117</a></div></div>
<div class="ttc" id="astmm_8h_html_ae63d4f486bcf6eac7c1593f867717d91"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ae63d4f486bcf6eac7c1593f867717d91">ast_malloc</a></div><div class="ttdeci">#define ast_malloc(len)</div><div class="ttdoc">A wrapper for malloc() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00193">astmm.h:193</a></div></div>
<div class="ttc" id="stasis__app__impl_8h_html_a838fef3012703b621ce65fb0e55b4af5"><div class="ttname"><a href="../../de/d0b/stasis__app__impl_8h.html#a838fef3012703b621ce65fb0e55b4af5">stasis_app_send_command_async</a></div><div class="ttdeci">int stasis_app_send_command_async(struct stasis_app_control *control, stasis_app_command_cb command, void *data, command_data_destructor_fn data_destructor)</div><div class="ttdoc">Asynchronous version of stasis_app_send_command(). </div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l00904">control.c:904</a></div></div>
<div class="ttc" id="app__voicemail_8c_html_a1df943a05a384a407a19cf8831b2d237"><div class="ttname"><a href="../../dc/df4/app__voicemail_8c.html#a1df943a05a384a407a19cf8831b2d237">skipms</a></div><div class="ttdeci">static int skipms</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df4/app__voicemail_8c_source.html#l00932">app_voicemail.c:932</a></div></div>
<div class="ttc" id="res__stasis__playback_8c_html_a6a165cdd6f4f585bf22c6c49b4dcbd00"><div class="ttname"><a href="../../d7/de1/res__stasis__playback_8c.html#a6a165cdd6f4f585bf22c6c49b4dcbd00">remove_from_playbacks</a></div><div class="ttdeci">static void remove_from_playbacks(void *data)</div><div class="ttdoc">RAII_VAR function to remove a playback from the global list when leaving scope. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/de1/res__stasis__playback_8c_source.html#l00409">res_stasis_playback.c:409</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="stasis__app_8h_html_a765833b409f1e57016e7fff07d9e0a01"><div class="ttname"><a href="../../d8/d9c/stasis__app_8h.html#a765833b409f1e57016e7fff07d9e0a01">stasis_app_control_get_channel_id</a></div><div class="ttdeci">const char * stasis_app_control_get_channel_id(const struct stasis_app_control *control)</div><div class="ttdoc">Returns the uniqueid of the channel associated with this control. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/de3/control_8c_source.html#l01430">control.c:1430</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="res__stasis__playback_8c_html_a6000e77d69754d53927789f721c1fdd4"><div class="ttname"><a href="../../d7/de1/res__stasis__playback_8c.html#a6000e77d69754d53927789f721c1fdd4">play_uri</a></div><div class="ttdeci">static int play_uri(struct stasis_app_control *control, struct ast_channel *chan, void *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/de1/res__stasis__playback_8c_source.html#l00418">res_stasis_playback.c:418</a></div></div>
<div class="ttc" id="res__stasis__playback_8c_html_aa50aae44ebc0f605b704b898012587a0"><div class="ttname"><a href="../../d7/de1/res__stasis__playback_8c.html#aa50aae44ebc0f605b704b898012587a0">playback_create</a></div><div class="ttdeci">static struct stasis_app_playback * playback_create(struct stasis_app_control *control, const char *id)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/de1/res__stasis__playback_8c_source.html#l00140">res_stasis_playback.c:140</a></div></div>
<div class="ttc" id="vector_8h_html_aef32ac52c3e8a530d16eb92cde22cacd"><div class="ttname"><a href="../../d6/d68/vector_8h.html#aef32ac52c3e8a530d16eb92cde22cacd">AST_VECTOR_GET</a></div><div class="ttdeci">#define AST_VECTOR_GET(vec, idx)</div><div class="ttdoc">Get an element from a vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00682">vector.h:682</a></div></div>
<div class="ttc" id="res__stasis__playback_8c_html_aeefc2da5ccb7ca0de95a963356376649"><div class="ttname"><a href="../../d7/de1/res__stasis__playback_8c.html#aeefc2da5ccb7ca0de95a963356376649">playback_publish</a></div><div class="ttdeci">static void playback_publish(struct stasis_app_playback *playback)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/de1/res__stasis__playback_8c_source.html#l00218">res_stasis_playback.c:218</a></div></div>
<div class="ttc" id="structstasis__app__playback_html"><div class="ttname"><a href="../../de/dab/structstasis__app__playback.html">stasis_app_playback</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/de1/res__stasis__playback_8c_source.html#l00068">res_stasis_playback.c:68</a></div></div>
<div class="ttc" id="stringfields_8h_html_a653461abd6e0d16e4e3326ab90e0501d"><div class="ttname"><a href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a></div><div class="ttdeci">#define ast_string_field_set(x, field, data)</div><div class="ttdoc">Set a field to a simple string value. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d0f/stringfields_8h_source.html#l00514">stringfields.h:514</a></div></div>
<div class="ttc" id="astobj2_8h_html_a1ad9f122bcae95a470639402faa3d2ee"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a1ad9f122bcae95a470639402faa3d2ee">ao2_link</a></div><div class="ttdeci">#define ao2_link(container, obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01549">astobj2.h:1549</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="abb15e4edf53e5881c45ba8ca09c8f0a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abb15e4edf53e5881c45ba8ca09c8f0a9">&#9670;&nbsp;</a></span>stasis_app_playback_find_by_id()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../de/dab/structstasis__app__playback.html">stasis_app_playback</a>* stasis_app_playback_find_by_id </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Finds the playback object with the given id. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>Id of the playback object to find. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Associated <a class="el" href="../../de/dab/structstasis__app__playback.html">stasis_app_playback</a> object. </dd>
<dd>
<code>NULL</code> if <em>id</em> not found. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00550">550</a> of file <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html">res_stasis_playback.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01756">ao2_find</a>, and <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01155">OBJ_KEY</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/db1/resource__playbacks_8c_source.html#l00089">ast_ari_playbacks_control()</a>, <a class="el" href="../../d1/db1/resource__playbacks_8c_source.html#l00035">ast_ari_playbacks_get()</a>, <a class="el" href="../../d1/db1/resource__playbacks_8c_source.html#l00058">ast_ari_playbacks_stop()</a>, and <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00390">play_on_channel_in_bridge()</a>.</p>
<div class="fragment"><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;{</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a>(<a class="code" href="../../d7/de1/res__stasis__playback_8c.html#a1728b67706415daf8d1e33af228813f3">playbacks</a>, <span class="keywordtype">id</span>, <a class="code" href="../../d5/da5/astobj2_8h.html#a22f40c733a085f259af94e864ebaa09a">OBJ_KEY</a>);</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;}</div><div class="ttc" id="astobj2_8h_html_a22f40c733a085f259af94e864ebaa09a"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a22f40c733a085f259af94e864ebaa09a">OBJ_KEY</a></div><div class="ttdeci">#define OBJ_KEY</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01155">astobj2.h:1155</a></div></div>
<div class="ttc" id="res__stasis__playback_8c_html_a1728b67706415daf8d1e33af228813f3"><div class="ttname"><a href="../../d7/de1/res__stasis__playback_8c.html#a1728b67706415daf8d1e33af228813f3">playbacks</a></div><div class="ttdeci">static struct ao2_container * playbacks</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/de1/res__stasis__playback_8c_source.html#l00065">res_stasis_playback.c:65</a></div></div>
<div class="ttc" id="astobj2_8h_html_a911e0703891a9a7aaf73978152092586"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a></div><div class="ttdeci">#define ao2_find(container, arg, flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01756">astobj2.h:1756</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ace7d70be0b46ce70bd14148233917c17"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace7d70be0b46ce70bd14148233917c17">&#9670;&nbsp;</a></span>stasis_app_playback_get_id()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* stasis_app_playback_get_id </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../de/dab/structstasis__app__playback.html">stasis_app_playback</a> *&#160;</td>
          <td class="paramname"><em>playback</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the unique id of a playback object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">playback</td><td>Playback control object. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><em>playback's</em> id. </dd>
<dd>
<code>NULL</code> if <em>playback</em> ic <code>NULL</code> </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00543">543</a> of file <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html">res_stasis_playback.c</a>.</p>

<p class="reference">References <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00074">stasis_app_playback::id</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d0b/resource__bridges_8c_source.html#l00357">ari_bridges_play_helper()</a>, and <a class="el" href="../../da/d49/resource__channels_8c_source.html#l00636">ari_channels_handle_play()</a>.</p>
<div class="fragment"><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;{</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;   <span class="comment">/* id is immutable; no lock needed */</span></div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;   <span class="keywordflow">return</span> control-&gt;<a class="code" href="../../de/dab/structstasis__app__playback.html#a7f573636659429c505b8fa845bbb2dc8">id</a>;</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;}</div><div class="ttc" id="structstasis__app__playback_html_a7f573636659429c505b8fa845bbb2dc8"><div class="ttname"><a href="../../de/dab/structstasis__app__playback.html#a7f573636659429c505b8fa845bbb2dc8">stasis_app_playback::id</a></div><div class="ttdeci">const ast_string_field id</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/de1/res__stasis__playback_8c_source.html#l00074">res_stasis_playback.c:74</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="adc243853687a248948daccf30276606d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc243853687a248948daccf30276606d">&#9670;&nbsp;</a></span>stasis_app_playback_get_state()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../d3/d1e/stasis__app__playback_8h.html#ad9564a0965bd8a8620b26bb8ead93c02">stasis_app_playback_state</a> stasis_app_playback_get_state </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../de/dab/structstasis__app__playback.html">stasis_app_playback</a> *&#160;</td>
          <td class="paramname"><em>playback</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the current state of a playback operation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">playback</td><td>Playback control object. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The state of the <em>playback</em> object. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00536">536</a> of file <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html">res_stasis_playback.c</a>.</p>

<p class="reference">References <a class="el" href="../../df/d44/app__meetme_8c_source.html#l01091">lock</a>, and <a class="el" href="../../dd/d42/lock_8h_source.html#l00602">SCOPED_AO2LOCK</a>.</p>
<div class="fragment"><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;{</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a2cfb325ed371eb6e629446bac4676e9f">SCOPED_AO2LOCK</a>(<a class="code" href="../../df/d44/app__meetme_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>, control);</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;   <span class="keywordflow">return</span> control-&gt;state;</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;}</div><div class="ttc" id="app__meetme_8c_html_adf04f66344e3fb0a6f6a69bf39d19902"><div class="ttname"><a href="../../df/d44/app__meetme_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a></div><div class="ttdeci">ast_mutex_t lock</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d44/app__meetme_8c_source.html#l01091">app_meetme.c:1091</a></div></div>
<div class="ttc" id="lock_8h_html_a2cfb325ed371eb6e629446bac4676e9f"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a2cfb325ed371eb6e629446bac4676e9f">SCOPED_AO2LOCK</a></div><div class="ttdeci">#define SCOPED_AO2LOCK(varname, obj)</div><div class="ttdoc">scoped lock specialization for ao2 mutexes. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00602">lock.h:602</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="acaceae7dbf66828c947bc3b9fc34484d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acaceae7dbf66828c947bc3b9fc34484d">&#9670;&nbsp;</a></span>stasis_app_playback_operation()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../d3/d1e/stasis__app__playback_8h.html#a5f9bc97373efd5d41054596765612c6f">stasis_playback_oper_results</a> stasis_app_playback_operation </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../de/dab/structstasis__app__playback.html">stasis_app_playback</a> *&#160;</td>
          <td class="paramname"><em>playback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="../../d3/d1e/stasis__app__playback_8h.html#affaa2be493bb0c1e04d6ab2aff80e20a">stasis_app_playback_media_operation</a>&#160;</td>
          <td class="paramname"><em>operation</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Controls the media for a given playback operation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">playback</td><td>Playback control object. </td></tr>
    <tr><td class="paramname">control</td><td>Media control operation. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>STASIS_PLAYBACK_OPER_OK</code> on success. </dd>
<dd>
<a class="el" href="../../d3/d1e/stasis__app__playback_8h.html#a5f9bc97373efd5d41054596765612c6f">stasis_playback_oper_results</a> indicating failure. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00708">708</a> of file <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html">res_stasis_playback.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d60/utils_8h_source.html#l00695">ast_assert</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l01091">lock</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00681">operations</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00602">SCOPED_AO2LOCK</a>, <a class="el" href="../../d3/d1e/stasis__app__playback_8h_source.html#l00071">STASIS_PLAYBACK_MEDIA_OP_MAX</a>, <a class="el" href="../../d3/d1e/stasis__app__playback_8h_source.html#l00147">STASIS_PLAYBACK_OPER_FAILED</a>, <a class="el" href="../../d3/d1e/stasis__app__playback_8h_source.html#l00148">STASIS_PLAYBACK_OPER_NOT_PLAYING</a>, <a class="el" href="../../d3/d1e/stasis__app__playback_8h_source.html#l00146">STASIS_PLAYBACK_OPER_OK</a>, <a class="el" href="../../d3/d1e/stasis__app__playback_8h_source.html#l00053">STASIS_PLAYBACK_STATE_MAX</a>, and <a class="el" href="../../d3/d1e/stasis__app__playback_8h_source.html#l00041">STASIS_PLAYBACK_STATE_PLAYING</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/db1/resource__playbacks_8c_source.html#l00089">ast_ari_playbacks_control()</a>, and <a class="el" href="../../d1/db1/resource__playbacks_8c_source.html#l00058">ast_ari_playbacks_stop()</a>.</p>
<div class="fragment"><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;{</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;   <a class="code" href="../../d7/de1/res__stasis__playback_8c.html#a3ab38b4fc5f6db89e0132a40262b2126">playback_opreation_cb</a> cb;</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a2cfb325ed371eb6e629446bac4676e9f">SCOPED_AO2LOCK</a>(<a class="code" href="../../df/d44/app__meetme_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>, playback);</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;</div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a>((<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)playback-&gt;state &lt; <a class="code" href="../../d3/d1e/stasis__app__playback_8h.html#ad9564a0965bd8a8620b26bb8ead93c02a18756b2b5630f5a0712efaea787f670b">STASIS_PLAYBACK_STATE_MAX</a>);</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;   <span class="keywordflow">if</span> (operation &gt;= <a class="code" href="../../d3/d1e/stasis__app__playback_8h.html#affaa2be493bb0c1e04d6ab2aff80e20aa90957005423a456b768c66e1a7caea93">STASIS_PLAYBACK_MEDIA_OP_MAX</a>) {</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Invalid playback operation %u\n&quot;</span>, operation);</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;   }</div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;   cb = <a class="code" href="../../d7/de1/res__stasis__playback_8c.html#a886b5514079c40395945913f29173bd5">operations</a>[playback-&gt;state][operation];</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;   <span class="keywordflow">if</span> (!cb) {</div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;      <span class="keywordflow">if</span> (playback-&gt;state != <a class="code" href="../../d3/d1e/stasis__app__playback_8h.html#ad9564a0965bd8a8620b26bb8ead93c02ab320c0f6c2a8799782f51924e6c93dd4">STASIS_PLAYBACK_STATE_PLAYING</a>) {</div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;         <span class="comment">/* So we can be specific in our error message. */</span></div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;         <span class="keywordflow">return</span> <a class="code" href="../../d3/d1e/stasis__app__playback_8h.html#a5f9bc97373efd5d41054596765612c6fa02ac512ce72e129e6719076bb00e37d5">STASIS_PLAYBACK_OPER_NOT_PLAYING</a>;</div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;         <span class="comment">/* And, really, all operations should be valid during</span></div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;<span class="comment">          * playback */</span></div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>,</div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;            <span class="stringliteral">&quot;Unhandled operation during playback: %u\n&quot;</span>,</div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;            operation);</div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;         <span class="keywordflow">return</span> <a class="code" href="../../d3/d1e/stasis__app__playback_8h.html#a5f9bc97373efd5d41054596765612c6fa6d5d39ff1d539a510152ba045176e26c">STASIS_PLAYBACK_OPER_FAILED</a>;</div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;      }</div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;   }</div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;</div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;   <span class="keywordflow">return</span> cb(playback) ?</div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;      <a class="code" href="../../d3/d1e/stasis__app__playback_8h.html#a5f9bc97373efd5d41054596765612c6fa6d5d39ff1d539a510152ba045176e26c">STASIS_PLAYBACK_OPER_FAILED</a> : <a class="code" href="../../d3/d1e/stasis__app__playback_8h.html#a5f9bc97373efd5d41054596765612c6fae22c68394d3e313b37749560d7a389a2">STASIS_PLAYBACK_OPER_OK</a>;</div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;}</div><div class="ttc" id="utils_8h_html_a24374da24af1931d8a7ccde5b352bb2c"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a></div><div class="ttdeci">#define ast_assert(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00695">utils.h:695</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="app__meetme_8c_html_adf04f66344e3fb0a6f6a69bf39d19902"><div class="ttname"><a href="../../df/d44/app__meetme_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a></div><div class="ttdeci">ast_mutex_t lock</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d44/app__meetme_8c_source.html#l01091">app_meetme.c:1091</a></div></div>
<div class="ttc" id="stasis__app__playback_8h_html_ad9564a0965bd8a8620b26bb8ead93c02ab320c0f6c2a8799782f51924e6c93dd4"><div class="ttname"><a href="../../d3/d1e/stasis__app__playback_8h.html#ad9564a0965bd8a8620b26bb8ead93c02ab320c0f6c2a8799782f51924e6c93dd4">STASIS_PLAYBACK_STATE_PLAYING</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d1e/stasis__app__playback_8h_source.html#l00041">stasis_app_playback.h:41</a></div></div>
<div class="ttc" id="stasis__app__playback_8h_html_affaa2be493bb0c1e04d6ab2aff80e20aa90957005423a456b768c66e1a7caea93"><div class="ttname"><a href="../../d3/d1e/stasis__app__playback_8h.html#affaa2be493bb0c1e04d6ab2aff80e20aa90957005423a456b768c66e1a7caea93">STASIS_PLAYBACK_MEDIA_OP_MAX</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d1e/stasis__app__playback_8h_source.html#l00071">stasis_app_playback.h:71</a></div></div>
<div class="ttc" id="res__stasis__playback_8c_html_a886b5514079c40395945913f29173bd5"><div class="ttname"><a href="../../d7/de1/res__stasis__playback_8c.html#a886b5514079c40395945913f29173bd5">operations</a></div><div class="ttdeci">playback_opreation_cb operations[STASIS_PLAYBACK_STATE_MAX][STASIS_PLAYBACK_MEDIA_OP_MAX]</div><div class="ttdoc">A sparse array detailing how commands should be handled in the various playback states. Unset entries imply invalid operations. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/de1/res__stasis__playback_8c_source.html#l00681">res_stasis_playback.c:681</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="stasis__app__playback_8h_html_a5f9bc97373efd5d41054596765612c6fae22c68394d3e313b37749560d7a389a2"><div class="ttname"><a href="../../d3/d1e/stasis__app__playback_8h.html#a5f9bc97373efd5d41054596765612c6fae22c68394d3e313b37749560d7a389a2">STASIS_PLAYBACK_OPER_OK</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d1e/stasis__app__playback_8h_source.html#l00146">stasis_app_playback.h:146</a></div></div>
<div class="ttc" id="stasis__app__playback_8h_html_a5f9bc97373efd5d41054596765612c6fa6d5d39ff1d539a510152ba045176e26c"><div class="ttname"><a href="../../d3/d1e/stasis__app__playback_8h.html#a5f9bc97373efd5d41054596765612c6fa6d5d39ff1d539a510152ba045176e26c">STASIS_PLAYBACK_OPER_FAILED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d1e/stasis__app__playback_8h_source.html#l00147">stasis_app_playback.h:147</a></div></div>
<div class="ttc" id="res__stasis__playback_8c_html_a3ab38b4fc5f6db89e0132a40262b2126"><div class="ttname"><a href="../../d7/de1/res__stasis__playback_8c.html#a3ab38b4fc5f6db89e0132a40262b2126">playback_opreation_cb</a></div><div class="ttdeci">int(* playback_opreation_cb)(struct stasis_app_playback *playback)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/de1/res__stasis__playback_8c_source.html#l00584">res_stasis_playback.c:584</a></div></div>
<div class="ttc" id="lock_8h_html_a2cfb325ed371eb6e629446bac4676e9f"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a2cfb325ed371eb6e629446bac4676e9f">SCOPED_AO2LOCK</a></div><div class="ttdeci">#define SCOPED_AO2LOCK(varname, obj)</div><div class="ttdoc">scoped lock specialization for ao2 mutexes. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00602">lock.h:602</a></div></div>
<div class="ttc" id="stasis__app__playback_8h_html_a5f9bc97373efd5d41054596765612c6fa02ac512ce72e129e6719076bb00e37d5"><div class="ttname"><a href="../../d3/d1e/stasis__app__playback_8h.html#a5f9bc97373efd5d41054596765612c6fa02ac512ce72e129e6719076bb00e37d5">STASIS_PLAYBACK_OPER_NOT_PLAYING</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d1e/stasis__app__playback_8h_source.html#l00148">stasis_app_playback.h:148</a></div></div>
<div class="ttc" id="stasis__app__playback_8h_html_ad9564a0965bd8a8620b26bb8ead93c02a18756b2b5630f5a0712efaea787f670b"><div class="ttname"><a href="../../d3/d1e/stasis__app__playback_8h.html#ad9564a0965bd8a8620b26bb8ead93c02a18756b2b5630f5a0712efaea787f670b">STASIS_PLAYBACK_STATE_MAX</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d1e/stasis__app__playback_8h_source.html#l00053">stasis_app_playback.h:53</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af7e06669e968c82d09a697689ba92062"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af7e06669e968c82d09a697689ba92062">&#9670;&nbsp;</a></span>stasis_app_playback_to_json()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d1/da1/structast__json.html">ast_json</a>* stasis_app_playback_to_json </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../de/dab/structstasis__app__playback.html">stasis_app_playback</a> *&#160;</td>
          <td class="paramname"><em>playback</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convert a playback to its JSON representation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">playback</td><td>The playback object to convert to JSON</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"></td><td></td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00555">555</a> of file <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html">res_stasis_playback.c</a>.</p>

<p class="reference">References <a class="el" href="../../df/d98/json_8c_source.html#l00591">ast_json_pack()</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00067">ast_json_ref()</a>, <a class="el" href="../../df/d98/json_8c_source.html#l00073">ast_json_unref()</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00682">AST_VECTOR_GET</a>, <a class="el" href="../../d6/d68/vector_8h_source.html#l00611">AST_VECTOR_SIZE</a>, <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00074">stasis_app_playback::id</a>, <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00074">stasis_app_playback::language</a>, <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00074">stasis_app_playback::media</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00911">RAII_VAR</a>, <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00194">state_to_string()</a>, and <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00074">stasis_app_playback::target</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d0b/resource__bridges_8c_source.html#l00357">ari_bridges_play_helper()</a>, <a class="el" href="../../da/d49/resource__channels_8c_source.html#l00636">ari_channels_handle_play()</a>, <a class="el" href="../../d1/db1/resource__playbacks_8c_source.html#l00035">ast_ari_playbacks_get()</a>, and <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00218">playback_publish()</a>.</p>
<div class="fragment"><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;{</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d1/da1/structast__json.html">ast_json</a> *, json, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d4/d05/json_8h.html#a33bcd9181e613a659eefe411ec42c87c">ast_json_unref</a>);</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;   <span class="keywordflow">if</span> (playback == <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;   }</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;   <span class="keywordflow">if</span> (playback-&gt;media_index == <a class="code" href="../../d6/d68/vector_8h.html#a20b08af81cc9452fb721c9a698f81bdf">AST_VECTOR_SIZE</a>(&amp;playback-&gt;medias) - 1) {</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;      json = <a class="code" href="../../d4/d05/json_8h.html#a99715667e822b2ad409b34ca041e535d">ast_json_pack</a>(<span class="stringliteral">&quot;{s: s, s: s, s: s, s: s, s: s}&quot;</span>,</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;         <span class="stringliteral">&quot;id&quot;</span>, playback-&gt;<a class="code" href="../../de/dab/structstasis__app__playback.html#a7f573636659429c505b8fa845bbb2dc8">id</a>,</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;         <span class="stringliteral">&quot;media_uri&quot;</span>, playback-&gt;<a class="code" href="../../de/dab/structstasis__app__playback.html#a262e3649395d8dbb676efac68d15a414">media</a>,</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;         <span class="stringliteral">&quot;target_uri&quot;</span>, playback-&gt;<a class="code" href="../../de/dab/structstasis__app__playback.html#a93a94186c0e3acad20bfc8bb134f5b6c">target</a>,</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;         <span class="stringliteral">&quot;language&quot;</span>, playback-&gt;<a class="code" href="../../de/dab/structstasis__app__playback.html#a1a1355c36205d33d69c9acd0f4c9606c">language</a>,</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;         <span class="stringliteral">&quot;state&quot;</span>, <a class="code" href="../../d7/de1/res__stasis__playback_8c.html#aefa6329591a2771fd1b7aa9914e65da4">state_to_string</a>(playback-&gt;state));</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;      json = <a class="code" href="../../d4/d05/json_8h.html#a99715667e822b2ad409b34ca041e535d">ast_json_pack</a>(<span class="stringliteral">&quot;{s: s, s: s, s: s, s: s, s: s, s: s}&quot;</span>,</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;         <span class="stringliteral">&quot;id&quot;</span>, playback-&gt;<a class="code" href="../../de/dab/structstasis__app__playback.html#a7f573636659429c505b8fa845bbb2dc8">id</a>,</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;         <span class="stringliteral">&quot;media_uri&quot;</span>, playback-&gt;<a class="code" href="../../de/dab/structstasis__app__playback.html#a262e3649395d8dbb676efac68d15a414">media</a>,</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;         <span class="stringliteral">&quot;next_media_uri&quot;</span>, <a class="code" href="../../d6/d68/vector_8h.html#aef32ac52c3e8a530d16eb92cde22cacd">AST_VECTOR_GET</a>(&amp;playback-&gt;medias, playback-&gt;media_index + 1),</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;         <span class="stringliteral">&quot;target_uri&quot;</span>, playback-&gt;<a class="code" href="../../de/dab/structstasis__app__playback.html#a93a94186c0e3acad20bfc8bb134f5b6c">target</a>,</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;         <span class="stringliteral">&quot;language&quot;</span>, playback-&gt;<a class="code" href="../../de/dab/structstasis__app__playback.html#a1a1355c36205d33d69c9acd0f4c9606c">language</a>,</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;         <span class="stringliteral">&quot;state&quot;</span>, <a class="code" href="../../d7/de1/res__stasis__playback_8c.html#aefa6329591a2771fd1b7aa9914e65da4">state_to_string</a>(playback-&gt;state));</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;   }</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d4/d05/json_8h.html#a0ca956b7df20127f7e38993c3c06cb2c">ast_json_ref</a>(json);</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;}</div><div class="ttc" id="json_8h_html_a0ca956b7df20127f7e38993c3c06cb2c"><div class="ttname"><a href="../../d4/d05/json_8h.html#a0ca956b7df20127f7e38993c3c06cb2c">ast_json_ref</a></div><div class="ttdeci">struct ast_json * ast_json_ref(struct ast_json *value)</div><div class="ttdoc">Increase refcount on value. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00067">json.c:67</a></div></div>
<div class="ttc" id="json_8h_html_a99715667e822b2ad409b34ca041e535d"><div class="ttname"><a href="../../d4/d05/json_8h.html#a99715667e822b2ad409b34ca041e535d">ast_json_pack</a></div><div class="ttdeci">struct ast_json * ast_json_pack(char const *format,...)</div><div class="ttdoc">Helper for creating complex JSON values. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00591">json.c:591</a></div></div>
<div class="ttc" id="json_8h_html_a33bcd9181e613a659eefe411ec42c87c"><div class="ttname"><a href="../../d4/d05/json_8h.html#a33bcd9181e613a659eefe411ec42c87c">ast_json_unref</a></div><div class="ttdeci">void ast_json_unref(struct ast_json *value)</div><div class="ttdoc">Decrease refcount on value. If refcount reaches zero, value is freed. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d98/json_8c_source.html#l00073">json.c:73</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structstasis__app__playback_html_a93a94186c0e3acad20bfc8bb134f5b6c"><div class="ttname"><a href="../../de/dab/structstasis__app__playback.html#a93a94186c0e3acad20bfc8bb134f5b6c">stasis_app_playback::target</a></div><div class="ttdeci">const ast_string_field target</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/de1/res__stasis__playback_8c_source.html#l00074">res_stasis_playback.c:74</a></div></div>
<div class="ttc" id="structstasis__app__playback_html_a7f573636659429c505b8fa845bbb2dc8"><div class="ttname"><a href="../../de/dab/structstasis__app__playback.html#a7f573636659429c505b8fa845bbb2dc8">stasis_app_playback::id</a></div><div class="ttdeci">const ast_string_field id</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/de1/res__stasis__playback_8c_source.html#l00074">res_stasis_playback.c:74</a></div></div>
<div class="ttc" id="structstasis__app__playback_html_a262e3649395d8dbb676efac68d15a414"><div class="ttname"><a href="../../de/dab/structstasis__app__playback.html#a262e3649395d8dbb676efac68d15a414">stasis_app_playback::media</a></div><div class="ttdeci">const ast_string_field media</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/de1/res__stasis__playback_8c_source.html#l00074">res_stasis_playback.c:74</a></div></div>
<div class="ttc" id="res__stasis__playback_8c_html_aefa6329591a2771fd1b7aa9914e65da4"><div class="ttname"><a href="../../d7/de1/res__stasis__playback_8c.html#aefa6329591a2771fd1b7aa9914e65da4">state_to_string</a></div><div class="ttdeci">static const char * state_to_string(enum stasis_app_playback_state state)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/de1/res__stasis__playback_8c_source.html#l00194">res_stasis_playback.c:194</a></div></div>
<div class="ttc" id="utils_8h_html_a1604b4d72144dd3d9f7da668e90337e9"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a></div><div class="ttdeci">#define RAII_VAR(vartype, varname, initval, dtor)</div><div class="ttdoc">Declare a variable that will call a destructor function when it goes out of scope. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00911">utils.h:911</a></div></div>
<div class="ttc" id="vector_8h_html_aef32ac52c3e8a530d16eb92cde22cacd"><div class="ttname"><a href="../../d6/d68/vector_8h.html#aef32ac52c3e8a530d16eb92cde22cacd">AST_VECTOR_GET</a></div><div class="ttdeci">#define AST_VECTOR_GET(vec, idx)</div><div class="ttdoc">Get an element from a vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00682">vector.h:682</a></div></div>
<div class="ttc" id="structast__json_html"><div class="ttname"><a href="../../d1/da1/structast__json.html">ast_json</a></div><div class="ttdoc">Abstract JSON element (object, array, string, int, ...). </div></div>
<div class="ttc" id="structstasis__app__playback_html_a1a1355c36205d33d69c9acd0f4c9606c"><div class="ttname"><a href="../../de/dab/structstasis__app__playback.html#a1a1355c36205d33d69c9acd0f4c9606c">stasis_app_playback::language</a></div><div class="ttdeci">const ast_string_field language</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/de1/res__stasis__playback_8c_source.html#l00074">res_stasis_playback.c:74</a></div></div>
<div class="ttc" id="vector_8h_html_a20b08af81cc9452fb721c9a698f81bdf"><div class="ttname"><a href="../../d6/d68/vector_8h.html#a20b08af81cc9452fb721c9a698f81bdf">AST_VECTOR_SIZE</a></div><div class="ttdeci">#define AST_VECTOR_SIZE(vec)</div><div class="ttdoc">Get the number of elements in a vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d68/vector_8h_source.html#l00611">vector.h:611</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a1634f0744bdcfbd4ed6e2516de95763d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1634f0744bdcfbd4ed6e2516de95763d">&#9670;&nbsp;</a></span>STASIS_MESSAGE_TYPE_DEFN()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">STASIS_MESSAGE_TYPE_DEFN </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d3/d1e/stasis__app__playback_8h.html#ab24cc5a6142382338031057f374c88d2">stasis_app_playback_snapshot_type</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">.&#160;</td>
          <td class="paramname"><em>to_json</em> = <code><a class="el" href="../../d7/de1/res__stasis__playback_8c.html#a9a477d2d7995734f138161f8f8e5dbd0">playback_to_json</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00095">playback_to_json()</a>.</p>

</div>
</div>
<a id="aefa6329591a2771fd1b7aa9914e65da4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aefa6329591a2771fd1b7aa9914e65da4">&#9670;&nbsp;</a></span>state_to_string()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static const char* state_to_string </td>
          <td>(</td>
          <td class="paramtype">enum <a class="el" href="../../d3/d1e/stasis__app__playback_8h.html#ad9564a0965bd8a8620b26bb8ead93c02">stasis_app_playback_state</a>&#160;</td>
          <td class="paramname"><em>state</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00194">194</a> of file <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html">res_stasis_playback.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d1e/stasis__app__playback_8h_source.html#l00049">STASIS_PLAYBACK_STATE_CANCELED</a>, <a class="el" href="../../d3/d1e/stasis__app__playback_8h_source.html#l00047">STASIS_PLAYBACK_STATE_COMPLETE</a>, <a class="el" href="../../d3/d1e/stasis__app__playback_8h_source.html#l00045">STASIS_PLAYBACK_STATE_CONTINUING</a>, <a class="el" href="../../d3/d1e/stasis__app__playback_8h_source.html#l00053">STASIS_PLAYBACK_STATE_MAX</a>, <a class="el" href="../../d3/d1e/stasis__app__playback_8h_source.html#l00043">STASIS_PLAYBACK_STATE_PAUSED</a>, <a class="el" href="../../d3/d1e/stasis__app__playback_8h_source.html#l00041">STASIS_PLAYBACK_STATE_PLAYING</a>, <a class="el" href="../../d3/d1e/stasis__app__playback_8h_source.html#l00039">STASIS_PLAYBACK_STATE_QUEUED</a>, and <a class="el" href="../../d3/d1e/stasis__app__playback_8h_source.html#l00051">STASIS_PLAYBACK_STATE_STOPPED</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00555">stasis_app_playback_to_json()</a>.</p>
<div class="fragment"><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;{</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;   <span class="keywordflow">switch</span> (<a class="code" href="../../d4/d88/structstate.html">state</a>) {</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d3/d1e/stasis__app__playback_8h.html#ad9564a0965bd8a8620b26bb8ead93c02ac7a921b132496d00dee759fc714b7d13">STASIS_PLAYBACK_STATE_QUEUED</a>:</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;queued&quot;</span>;</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d3/d1e/stasis__app__playback_8h.html#ad9564a0965bd8a8620b26bb8ead93c02ab320c0f6c2a8799782f51924e6c93dd4">STASIS_PLAYBACK_STATE_PLAYING</a>:</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;playing&quot;</span>;</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d3/d1e/stasis__app__playback_8h.html#ad9564a0965bd8a8620b26bb8ead93c02aa7833eff37ceddabfde36fb1d79bb4a8">STASIS_PLAYBACK_STATE_PAUSED</a>:</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;paused&quot;</span>;</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d3/d1e/stasis__app__playback_8h.html#ad9564a0965bd8a8620b26bb8ead93c02a5e2bc1dfe2816a509082d3e311dea756">STASIS_PLAYBACK_STATE_CONTINUING</a>:</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;continuing&quot;</span>;</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d3/d1e/stasis__app__playback_8h.html#ad9564a0965bd8a8620b26bb8ead93c02a0c3673147161e30d00fc61c0f808e823">STASIS_PLAYBACK_STATE_STOPPED</a>:</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d3/d1e/stasis__app__playback_8h.html#ad9564a0965bd8a8620b26bb8ead93c02a564c1fe380c86f2c14154aad8bf7433c">STASIS_PLAYBACK_STATE_COMPLETE</a>:</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d3/d1e/stasis__app__playback_8h.html#ad9564a0965bd8a8620b26bb8ead93c02ab49bd289accd22b4a5c9633d9eff5946">STASIS_PLAYBACK_STATE_CANCELED</a>:</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;      <span class="comment">/* It doesn&#39;t really matter how we got here, but all of these</span></div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;<span class="comment">       * states really just mean &#39;done&#39; */</span></div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;done&quot;</span>;</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d3/d1e/stasis__app__playback_8h.html#ad9564a0965bd8a8620b26bb8ead93c02a18756b2b5630f5a0712efaea787f670b">STASIS_PLAYBACK_STATE_MAX</a>:</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;   }</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;   <span class="keywordflow">return</span> <span class="stringliteral">&quot;?&quot;</span>;</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;}</div><div class="ttc" id="stasis__app__playback_8h_html_ad9564a0965bd8a8620b26bb8ead93c02ab49bd289accd22b4a5c9633d9eff5946"><div class="ttname"><a href="../../d3/d1e/stasis__app__playback_8h.html#ad9564a0965bd8a8620b26bb8ead93c02ab49bd289accd22b4a5c9633d9eff5946">STASIS_PLAYBACK_STATE_CANCELED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d1e/stasis__app__playback_8h_source.html#l00049">stasis_app_playback.h:49</a></div></div>
<div class="ttc" id="stasis__app__playback_8h_html_ad9564a0965bd8a8620b26bb8ead93c02ac7a921b132496d00dee759fc714b7d13"><div class="ttname"><a href="../../d3/d1e/stasis__app__playback_8h.html#ad9564a0965bd8a8620b26bb8ead93c02ac7a921b132496d00dee759fc714b7d13">STASIS_PLAYBACK_STATE_QUEUED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d1e/stasis__app__playback_8h_source.html#l00039">stasis_app_playback.h:39</a></div></div>
<div class="ttc" id="stasis__app__playback_8h_html_ad9564a0965bd8a8620b26bb8ead93c02a0c3673147161e30d00fc61c0f808e823"><div class="ttname"><a href="../../d3/d1e/stasis__app__playback_8h.html#ad9564a0965bd8a8620b26bb8ead93c02a0c3673147161e30d00fc61c0f808e823">STASIS_PLAYBACK_STATE_STOPPED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d1e/stasis__app__playback_8h_source.html#l00051">stasis_app_playback.h:51</a></div></div>
<div class="ttc" id="stasis__app__playback_8h_html_ad9564a0965bd8a8620b26bb8ead93c02a5e2bc1dfe2816a509082d3e311dea756"><div class="ttname"><a href="../../d3/d1e/stasis__app__playback_8h.html#ad9564a0965bd8a8620b26bb8ead93c02a5e2bc1dfe2816a509082d3e311dea756">STASIS_PLAYBACK_STATE_CONTINUING</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d1e/stasis__app__playback_8h_source.html#l00045">stasis_app_playback.h:45</a></div></div>
<div class="ttc" id="stasis__app__playback_8h_html_ad9564a0965bd8a8620b26bb8ead93c02aa7833eff37ceddabfde36fb1d79bb4a8"><div class="ttname"><a href="../../d3/d1e/stasis__app__playback_8h.html#ad9564a0965bd8a8620b26bb8ead93c02aa7833eff37ceddabfde36fb1d79bb4a8">STASIS_PLAYBACK_STATE_PAUSED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d1e/stasis__app__playback_8h_source.html#l00043">stasis_app_playback.h:43</a></div></div>
<div class="ttc" id="stasis__app__playback_8h_html_ad9564a0965bd8a8620b26bb8ead93c02ab320c0f6c2a8799782f51924e6c93dd4"><div class="ttname"><a href="../../d3/d1e/stasis__app__playback_8h.html#ad9564a0965bd8a8620b26bb8ead93c02ab320c0f6c2a8799782f51924e6c93dd4">STASIS_PLAYBACK_STATE_PLAYING</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d1e/stasis__app__playback_8h_source.html#l00041">stasis_app_playback.h:41</a></div></div>
<div class="ttc" id="structstate_html"><div class="ttname"><a href="../../d4/d88/structstate.html">state</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/df8/localtime_8c_source.html#l00158">localtime.c:158</a></div></div>
<div class="ttc" id="stasis__app__playback_8h_html_ad9564a0965bd8a8620b26bb8ead93c02a564c1fe380c86f2c14154aad8bf7433c"><div class="ttname"><a href="../../d3/d1e/stasis__app__playback_8h.html#ad9564a0965bd8a8620b26bb8ead93c02a564c1fe380c86f2c14154aad8bf7433c">STASIS_PLAYBACK_STATE_COMPLETE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d1e/stasis__app__playback_8h_source.html#l00047">stasis_app_playback.h:47</a></div></div>
<div class="ttc" id="stasis__app__playback_8h_html_ad9564a0965bd8a8620b26bb8ead93c02a18756b2b5630f5a0712efaea787f670b"><div class="ttname"><a href="../../d3/d1e/stasis__app__playback_8h.html#ad9564a0965bd8a8620b26bb8ead93c02a18756b2b5630f5a0712efaea787f670b">STASIS_PLAYBACK_STATE_MAX</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d1e/stasis__app__playback_8h_source.html#l00053">stasis_app_playback.h:53</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad09fa931f468002152a3cc2d5ce25eae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad09fa931f468002152a3cc2d5ce25eae">&#9670;&nbsp;</a></span>unload_module()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int unload_module </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00760">760</a> of file <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html">res_stasis_playback.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00316">AST_MODFLAG_GLOBAL_SYMBOLS</a>, <a class="el" href="../../d9/de9/res__phoneprov_8c.html#addaa208b0ed785225e24490fb9f28a80">AST_MODULE_INFO()</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00121">AST_MODULE_SUPPORT_CORE</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00046">ASTERISK_GPL_KEY</a>, <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00742">load_module()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d3/d1e/stasis__app__playback_8h.html#ab24cc5a6142382338031057f374c88d2">stasis_app_playback_snapshot_type()</a>, and <a class="el" href="../../dd/d79/stasis_8h_source.html#l01523">STASIS_MESSAGE_TYPE_CLEANUP</a>.</p>
<div class="fragment"><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;{</div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>(<a class="code" href="../../d7/de1/res__stasis__playback_8c.html#a1728b67706415daf8d1e33af228813f3">playbacks</a>);</div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;   <a class="code" href="../../d7/de1/res__stasis__playback_8c.html#a1728b67706415daf8d1e33af228813f3">playbacks</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;   <a class="code" href="../../dd/d79/stasis_8h.html#a31197e193b1dfd6c122ff6d7c7f6b3fa">STASIS_MESSAGE_TYPE_CLEANUP</a>(<a class="code" href="../../d3/d1e/stasis__app__playback_8h.html#ab24cc5a6142382338031057f374c88d2">stasis_app_playback_snapshot_type</a>);</div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;}</div><div class="ttc" id="res__stasis__playback_8c_html_a1728b67706415daf8d1e33af228813f3"><div class="ttname"><a href="../../d7/de1/res__stasis__playback_8c.html#a1728b67706415daf8d1e33af228813f3">playbacks</a></div><div class="ttdeci">static struct ao2_container * playbacks</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/de1/res__stasis__playback_8c_source.html#l00065">res_stasis_playback.c:65</a></div></div>
<div class="ttc" id="stasis_8h_html_a31197e193b1dfd6c122ff6d7c7f6b3fa"><div class="ttname"><a href="../../dd/d79/stasis_8h.html#a31197e193b1dfd6c122ff6d7c7f6b3fa">STASIS_MESSAGE_TYPE_CLEANUP</a></div><div class="ttdeci">#define STASIS_MESSAGE_TYPE_CLEANUP(name)</div><div class="ttdoc">Boiler-plate messaging macro for cleaning up message types. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d79/stasis_8h_source.html#l01523">stasis.h:1523</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="stasis__app__playback_8h_html_ab24cc5a6142382338031057f374c88d2"><div class="ttname"><a href="../../d3/d1e/stasis__app__playback_8h.html#ab24cc5a6142382338031057f374c88d2">stasis_app_playback_snapshot_type</a></div><div class="ttdeci">struct stasis_message_type * stasis_app_playback_snapshot_type(void)</div><div class="ttdoc">Message type for playback updates. The data is an ast_channel_blob. </div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ab22f32016155f7f403e7178767163d7d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab22f32016155f7f403e7178767163d7d">&#9670;&nbsp;</a></span>__mod_info</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a> __mod_info = { .<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a> = <a class="el" href="../../da/ddd/named__acl_8c.html#aec23fc5034c3bb08140fc021f4955877">AST_MODULE</a>, .flags = <a class="el" href="../../d5/d16/module_8h.html#a155a0df9c59e04e305d4a2fa3e35f843a835b27a90d895a488e4e14cc3d2dee8c">AST_MODFLAG_GLOBAL_SYMBOLS</a> , .description = &quot;Stasis application playback support&quot; , .key = &quot;This paragraph is copyright (<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>) 2006 by Digium, Inc. \In <a class="el" href="../../d5/d14/voicin_8c.html#aed7ca058008dc3e5ee131e575abed285">order</a> for your module to load, it must return this \key via <a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a> function called \&quot;key\&quot;. Any code which \includes this paragraph must <a class="el" href="../../dd/d7c/eagi__proxy_8c.html#a39730e90126aad69cfc9ca4d6fcdb3a6">be</a> licensed under the GNU \General Public License <a class="el" href="../../da/d7c/utils_2frame_8h.html#a56abfaab87c46691c1ef3ad0df23e864">version</a> 2 or later (at your \option). In addition to Digium's general reservations \of rights, Digium expressly reserves the right to \allow other parties to license this paragraph under \different terms. Any use of Digium, Inc. trademarks or \logos (including \&quot;Asterisk\&quot; or \&quot;Digium\&quot;) without \express written <a class="el" href="../../d4/d4c/structpermission.html">permission</a> of Digium, Inc. is prohibited.\n&quot; , .buildopt_sum = <a class="el" href="../../da/d84/res__pjsip__stir__shaken_8c.html#a6e79b87e069c15a5fb21826e5eed0971">AST_BUILDOPT_SUM</a>, .support_level = <a class="el" href="../../d5/d16/module_8h.html#ab35bc4efd9f79706300965c9d36a0ce5a634484c0074e7b6b630756fab09e2c15">AST_MODULE_SUPPORT_CORE</a>, .load = <a class="el" href="../../d6/d7a/test__xml__escape_8c.html#ac3382bf6da54c56b37069bd76bbdf4f9">load_module</a>, .unload = <a class="el" href="../../d6/d7a/test__xml__escape_8c.html#ad09fa931f468002152a3cc2d5ce25eae">unload_module</a>, .requires = &quot;res_stasis,res_stasis_recording&quot; }</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00773">773</a> of file <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html">res_stasis_playback.c</a>.</p>

</div>
</div>
<a id="ad60e83b9aa660040fed4d5377966cc21"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad60e83b9aa660040fed4d5377966cc21">&#9670;&nbsp;</a></span>ast_module_info</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const struct <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a>* <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a> = &amp;<a class="el" href="../../d6/d7a/test__xml__escape_8c.html#ab22f32016155f7f403e7178767163d7d">__mod_info</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00773">773</a> of file <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html">res_stasis_playback.c</a>.</p>

</div>
</div>
<a id="a886b5514079c40395945913f29173bd5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a886b5514079c40395945913f29173bd5">&#9670;&nbsp;</a></span>operations</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d7/de1/res__stasis__playback_8c.html#a3ab38b4fc5f6db89e0132a40262b2126">playback_opreation_cb</a> operations[<a class="el" href="../../d3/d1e/stasis__app__playback_8h.html#ad9564a0965bd8a8620b26bb8ead93c02a18756b2b5630f5a0712efaea787f670b">STASIS_PLAYBACK_STATE_MAX</a>][<a class="el" href="../../d3/d1e/stasis__app__playback_8h.html#affaa2be493bb0c1e04d6ab2aff80e20aa90957005423a456b768c66e1a7caea93">STASIS_PLAYBACK_MEDIA_OP_MAX</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A sparse array detailing how commands should be handled in the various playback states. Unset entries imply invalid operations. </p>

<p class="definition">Definition at line <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00681">681</a> of file <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html">res_stasis_playback.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00708">stasis_app_playback_operation()</a>.</p>

</div>
</div>
<a id="a1728b67706415daf8d1e33af228813f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1728b67706415daf8d1e33af228813f3">&#9670;&nbsp;</a></span>playbacks</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d2/da9/structao2__container.html">ao2_container</a>* playbacks</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Container of all current playbacks </p>

<p class="definition">Definition at line <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00065">65</a> of file <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html">res_stasis_playback.c</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Aug 8 2021 19:46:39 for Asterisk - The Open Source Telephony Project by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
