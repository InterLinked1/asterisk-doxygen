<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Asterisk - The Open Source Telephony Project: test_cdr.c File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Asterisk - The Open Source Telephony Project
   &#160;<span id="projectnumber">18.5.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_59425e443f801f1f2fd8bbe4959a3ccf.html">tests</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">test_cdr.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>CDR unit tests.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="../../db/db2/asterisk_8h_source.html">asterisk.h</a>&quot;</code><br />
<code>#include &lt;math.h&gt;</code><br />
<code>#include &quot;<a class="el" href="../../d5/d16/module_8h_source.html">asterisk/module.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d2/ddc/test_8h_source.html">asterisk/test.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../dc/d07/cdr_8h_source.html">asterisk/cdr.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../df/d90/linkedlists_8h_source.html">asterisk/linkedlists.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d9/de7/chanvars_8h_source.html">asterisk/chanvars.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d5/d60/utils_8h_source.html">asterisk/utils.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d4/da3/causes_8h_source.html">asterisk/causes.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../de/df7/time_8h_source.html">asterisk/time.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d4/d56/bridge_8h_source.html">asterisk/bridge.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d4/d1e/bridge__basic_8h_source.html">asterisk/bridge_basic.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d9/d4a/stasis__channels_8h_source.html">asterisk/stasis_channels.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../dc/d4e/stasis__bridges_8h_source.html">asterisk/stasis_bridges.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../db/d1c/format__cache_8h_source.html">asterisk/format_cache.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for test_cdr.c:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d1a/test__cdr_8c__incl.png" border="0" usemap="#test__cdr_8c" alt=""/></div>
<map name="test__cdr_8c" id="test__cdr_8c">
<area shape="rect" id="node2" href="../../db/db2/asterisk_8h.html" title="Asterisk main include file. File version handling, generic pbx functions. " alt="" coords="276,528,360,555"/>
<area shape="rect" id="node23" href="../../d5/d16/module_8h.html" title="Asterisk module definitions. " alt="" coords="2146,155,2282,181"/>
<area shape="rect" id="node24" href="../../d5/d60/utils_8h.html" title="Utility functions. " alt="" coords="1825,528,1939,555"/>
<area shape="rect" id="node26" href="../../de/df7/time_8h.html" title="Time&#45;related functions and macros. " alt="" coords="1581,677,1644,704"/>
<area shape="rect" id="node32" href="../../d2/ddc/test_8h.html" title="Test Framework API. " alt="" coords="956,379,1069,405"/>
<area shape="rect" id="node34" href="../../df/d90/linkedlists_8h.html" title="A set of macros to manage forward&#45;linked lists. " alt="" coords="1399,528,1549,555"/>
<area shape="rect" id="node35" href="../../dc/d07/cdr_8h.html" title="Call Detail Record API. " alt="" coords="1817,304,1923,331"/>
<area shape="rect" id="node37" href="../../d9/de7/chanvars_8h.html" title="Channel Variables. " alt="" coords="1401,453,1547,480"/>
<area shape="rect" id="node39" href="../../d4/da3/causes_8h.html" title="Internal Asterisk hangup causes. " alt="" coords="1855,80,1989,107"/>
<area shape="rect" id="node40" href="../../d4/d56/bridge_8h.html" title="Bridging API. " alt="" coords="1603,155,1731,181"/>
<area shape="rect" id="node46" href="../../d4/d1e/bridge__basic_8h.html" title="Basic bridge subclass API. " alt="" coords="2063,80,2231,107"/>
<area shape="rect" id="node47" href="../../d9/d4a/stasis__channels_8h.html" title="asterisk/stasis_channels.h" alt="" coords="1947,304,2137,331"/>
<area shape="rect" id="node48" href="../../dc/d4e/stasis__bridges_8h.html" title="asterisk/stasis_bridges.h" alt="" coords="1214,80,1393,107"/>
<area shape="rect" id="node50" href="../../db/d1c/format__cache_8h.html" title="Media Format Cache API. " alt="" coords="2357,80,2533,107"/>
<area shape="rect" id="node3" href="../../d8/d20/autoconfig_8h.html" title="asterisk/autoconfig.h" alt="" coords="749,752,903,779"/>
<area shape="rect" id="node5" href="../../de/da3/include_2asterisk_2compat_8h.html" title="General Definitions for Asterisk top level program Included by asterisk.h to handle platform&#45;specific..." alt="" coords="708,603,845,629"/>
<area shape="rect" id="node21" href="../../d8/d8a/astmm_8h.html" title="Asterisk memory management routines. " alt="" coords="5,603,140,629"/>
<area shape="rect" id="node4" href="../../dc/dba/buildopts_8h.html" title="asterisk/buildopts.h" alt="" coords="753,827,899,853"/>
<area shape="rect" id="node6" href="../../d4/dd1/compiler_8h.html" title="Compiler&#45;specific macros and other items. " alt="" coords="1323,677,1465,704"/>
<area shape="rect" id="node25" href="../../d9/d94/network_8h.html" title="Wrapper for network related headers, masking differences between various operating systems..." alt="" coords="1655,603,1794,629"/>
<area shape="rect" id="node27" href="../../dd/d42/lock_8h.html" title="Asterisk locking&#45;related definitions: " alt="" coords="1467,603,1580,629"/>
<area shape="rect" id="node28" href="../../d1/d8c/logger_8h.html" title="Support for logging to various files, console and syslog Configuration in file logger.conf. " alt="" coords="1980,677,2107,704"/>
<area shape="rect" id="node29" href="../../d5/deb/localtime_8h.html" title="Custom localtime functions for multiple timezones. " alt="" coords="1919,603,2066,629"/>
<area shape="rect" id="node30" href="../../d1/d0f/stringfields_8h.html" title="asterisk/stringfields.h" alt="" coords="1285,603,1442,629"/>
<area shape="rect" id="node31" href="../../d6/d90/strings_8h.html" title="String manipulation functions. " alt="" coords="1130,603,1261,629"/>
<area shape="rect" id="node33" href="../../dc/db0/cli_8h.html" title="Standard Command Line Interface. " alt="" coords="971,453,1073,480"/>
<area shape="rect" id="node36" href="../../d5/d7b/channel_8h.html" title="General Asterisk PBX channel definitions. " alt="" coords="1694,379,1833,405"/>
<area shape="rect" id="node38" href="../../dd/d79/stasis_8h.html" title="Stasis Message Bus API. See Stasis Message Bus API for detailed documentation. " alt="" coords="1875,453,2001,480"/>
<area shape="rect" id="node41" href="../../dc/d7a/bridge__features_8h.html" title="Channel Bridging API. " alt="" coords="1604,304,1792,331"/>
<area shape="rect" id="node42" href="../../de/d41/bridge__channel_8h.html" title="asterisk/bridge_channel.h" alt="" coords="1564,229,1749,256"/>
<area shape="rect" id="node43" href="../../dd/dff/bridge__roles_8h.html" title="Channel Bridging Roles API. " alt="" coords="1503,379,1669,405"/>
<area shape="rect" id="node44" href="../../d3/d08/dsp_8h.html" title="Convenient Signal Processing routines. " alt="" coords="1825,229,1936,256"/>
<area shape="rect" id="node45" href="../../dd/d1d/uuid_8h.html" title="Universally unique identifier support. " alt="" coords="1961,229,2075,256"/>
<area shape="rect" id="node49" href="../../db/de0/pbx_8h.html" title="Core PBX routines and definitions. " alt="" coords="1316,304,1427,331"/>
</map>
</div>
</div>
<p><a href="../../d7/d8e/test__cdr_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d85/structtest__cdr__entry.html">test_cdr_entry</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a8739ae4d4e4305695b4deaebc79986f1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d8e/test__cdr_8c.html#a8739ae4d4e4305695b4deaebc79986f1">ALICE_CALLERID</a>&#160;&#160;&#160;{ .<a class="el" href="../../d8/d30/main_2security__events_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">id.name.str</a> = &quot;Alice&quot;, .id.name.valid = 1, .<a class="el" href="../../d8/d30/main_2security__events_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">id.number.str</a> = &quot;100&quot;, .id.number.valid = 1, }</td></tr>
<tr class="memdesc:a8739ae4d4e4305695b4deaebc79986f1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Alice's Caller ID.  <a href="#a8739ae4d4e4305695b4deaebc79986f1">More...</a><br /></td></tr>
<tr class="separator:a8739ae4d4e4305695b4deaebc79986f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c90b196c5211bf396b375a92349ef2c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d8e/test__cdr_8c.html#a5c90b196c5211bf396b375a92349ef2c">BOB_CALLERID</a>&#160;&#160;&#160;{ .<a class="el" href="../../d8/d30/main_2security__events_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">id.name.str</a> = &quot;Bob&quot;, .id.name.valid = 1, .<a class="el" href="../../d8/d30/main_2security__events_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">id.number.str</a> = &quot;200&quot;, .id.number.valid = 1, }</td></tr>
<tr class="memdesc:a5c90b196c5211bf396b375a92349ef2c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Bob's Caller ID.  <a href="#a5c90b196c5211bf396b375a92349ef2c">More...</a><br /></td></tr>
<tr class="separator:a5c90b196c5211bf396b375a92349ef2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86d2cbfb5a0c115147944a541cc355e0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a>&#160;&#160;&#160;&quot;CDRTestChannel&quot;</td></tr>
<tr class="separator:a86d2cbfb5a0c115147944a541cc355e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc59c481b016881543bd3d3e66863116"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d8e/test__cdr_8c.html#afc59c481b016881543bd3d3e66863116">CHARLIE_CALLERID</a>&#160;&#160;&#160;{ .<a class="el" href="../../d8/d30/main_2security__events_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">id.name.str</a> = &quot;Charlie&quot;, .id.name.valid = 1, .<a class="el" href="../../d8/d30/main_2security__events_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">id.number.str</a> = &quot;300&quot;, .id.number.valid = 1, }</td></tr>
<tr class="memdesc:afc59c481b016881543bd3d3e66863116"><td class="mdescLeft">&#160;</td><td class="mdescRight">Charlie's Caller ID.  <a href="#afc59c481b016881543bd3d3e66863116">More...</a><br /></td></tr>
<tr class="separator:afc59c481b016881543bd3d3e66863116"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0710872fe26e286bc89c24db3288f74f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d8e/test__cdr_8c.html#a0710872fe26e286bc89c24db3288f74f">COPY_IDS</a>(channel_var,  expected_record)</td></tr>
<tr class="memdesc:a0710872fe26e286bc89c24db3288f74f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy the linkedid and uniqueid from a channel to an expected CDR.  <a href="#a0710872fe26e286bc89c24db3288f74f">More...</a><br /></td></tr>
<tr class="separator:a0710872fe26e286bc89c24db3288f74f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ed3332fe918eafa4f3f79c131525249"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d8e/test__cdr_8c.html#a1ed3332fe918eafa4f3f79c131525249">CREATE_ALICE_CHANNEL</a>(channel_var,  caller_id,  expected_record)</td></tr>
<tr class="memdesc:a1ed3332fe918eafa4f3f79c131525249"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a <a class="el" href="../../d7/d8e/test__cdr_8c.html#ab321062127839f3f04e03e96ceda145b">test_cdr_chan_tech</a> for Alice, and set the expected CDR records' linkedid and uniqueid.  <a href="#a1ed3332fe918eafa4f3f79c131525249">More...</a><br /></td></tr>
<tr class="separator:a1ed3332fe918eafa4f3f79c131525249"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a415f8d0ccfd971c1eb213398ee53cf2c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d8e/test__cdr_8c.html#a415f8d0ccfd971c1eb213398ee53cf2c">CREATE_BOB_CHANNEL</a>(channel_var,  caller_id,  expected_record)</td></tr>
<tr class="memdesc:a415f8d0ccfd971c1eb213398ee53cf2c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a <a class="el" href="../../d7/d8e/test__cdr_8c.html#ab321062127839f3f04e03e96ceda145b">test_cdr_chan_tech</a> for Bob, and set the expected CDR records' linkedid and uniqueid.  <a href="#a415f8d0ccfd971c1eb213398ee53cf2c">More...</a><br /></td></tr>
<tr class="separator:a415f8d0ccfd971c1eb213398ee53cf2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a845d7068c209f64f63c1c10989b56f18"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d8e/test__cdr_8c.html#a845d7068c209f64f63c1c10989b56f18">CREATE_CHARLIE_CHANNEL</a>(channel_var,  caller_id,  expected_record)</td></tr>
<tr class="memdesc:a845d7068c209f64f63c1c10989b56f18"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a <a class="el" href="../../d7/d8e/test__cdr_8c.html#ab321062127839f3f04e03e96ceda145b">test_cdr_chan_tech</a> for Charlie, and set the expected CDR records' linkedid and uniqueid.  <a href="#a845d7068c209f64f63c1c10989b56f18">More...</a><br /></td></tr>
<tr class="separator:a845d7068c209f64f63c1c10989b56f18"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac85413c2eaad734d154382bdc9f0c7f1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d8e/test__cdr_8c.html#ac85413c2eaad734d154382bdc9f0c7f1">CREATE_DAVID_CHANNEL</a>(channel_var,  caller_id,  expected_record)</td></tr>
<tr class="memdesc:ac85413c2eaad734d154382bdc9f0c7f1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a <a class="el" href="../../d7/d8e/test__cdr_8c.html#ab321062127839f3f04e03e96ceda145b">test_cdr_chan_tech</a> for Charlie, and set the expected CDR records' linkedid and uniqueid.  <a href="#ac85413c2eaad734d154382bdc9f0c7f1">More...</a><br /></td></tr>
<tr class="separator:ac85413c2eaad734d154382bdc9f0c7f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af292b9a001f834aecea16467868d1b26"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d8e/test__cdr_8c.html#af292b9a001f834aecea16467868d1b26">DAVID_CALLERID</a>&#160;&#160;&#160;{ .<a class="el" href="../../d8/d30/main_2security__events_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">id.name.str</a> = &quot;David&quot;, .id.name.valid = 1, .<a class="el" href="../../d8/d30/main_2security__events_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">id.number.str</a> = &quot;400&quot;, .id.number.valid = 1, }</td></tr>
<tr class="memdesc:af292b9a001f834aecea16467868d1b26"><td class="mdescLeft">&#160;</td><td class="mdescRight">David's Caller ID.  <a href="#af292b9a001f834aecea16467868d1b26">More...</a><br /></td></tr>
<tr class="separator:af292b9a001f834aecea16467868d1b26"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab91bafbff6fa458554e8745276c0b4d3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d8e/test__cdr_8c.html#ab91bafbff6fa458554e8745276c0b4d3">EMULATE_APP_DATA</a>(<a class="el" href="../../d4/d84/structchannel.html">channel</a>,  <a class="el" href="../../d1/d0c/cel__beanstalkd_8c.html#acec9ce2df15222151ad66fcb1d74eb9f">priority</a>,  application,  data)</td></tr>
<tr class="memdesc:ab91bafbff6fa458554e8745276c0b4d3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Emulate a channel entering into an application.  <a href="#ab91bafbff6fa458554e8745276c0b4d3">More...</a><br /></td></tr>
<tr class="separator:ab91bafbff6fa458554e8745276c0b4d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a002b2f4894492820fe708b1b7e7c5e70"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d8e/test__cdr_8c.html#a002b2f4894492820fe708b1b7e7c5e70">EPSILON</a>&#160;&#160;&#160;0.001</td></tr>
<tr class="separator:a002b2f4894492820fe708b1b7e7c5e70"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2b699afc1547e0d4f71ece789ee21e1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d8e/test__cdr_8c.html#ac2b699afc1547e0d4f71ece789ee21e1">HANGUP_CHANNEL</a>(<a class="el" href="../../d4/d84/structchannel.html">channel</a>,  cause)</td></tr>
<tr class="memdesc:ac2b699afc1547e0d4f71ece789ee21e1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Hang up a test channel safely.  <a href="#ac2b699afc1547e0d4f71ece789ee21e1">More...</a><br /></td></tr>
<tr class="separator:ac2b699afc1547e0d4f71ece789ee21e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad8acbad0b68bdfe22b4e9989f40659a5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d8e/test__cdr_8c.html#ad8acbad0b68bdfe22b4e9989f40659a5">MOCK_CDR_BACKEND</a>&#160;&#160;&#160;&quot;mock_cdr_backend&quot;</td></tr>
<tr class="separator:ad8acbad0b68bdfe22b4e9989f40659a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a53a18000fdffa1da8f2842a6513c87"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d8e/test__cdr_8c.html#a7a53a18000fdffa1da8f2842a6513c87">SET_FORMATS</a>(chan)</td></tr>
<tr class="memdesc:a7a53a18000fdffa1da8f2842a6513c87"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set ulaw format on channel.  <a href="#a7a53a18000fdffa1da8f2842a6513c87">More...</a><br /></td></tr>
<tr class="separator:a7a53a18000fdffa1da8f2842a6513c87"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ccf26b207f6e00ee0ece3e227de42a1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d8e/test__cdr_8c.html#a1ccf26b207f6e00ee0ece3e227de42a1">SWAP_CONFIG</a>(ao2_config,  template)</td></tr>
<tr class="memdesc:a1ccf26b207f6e00ee0ece3e227de42a1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Macro to swap a configuration out from the CDR engine. This should be used at the beginning of each test to set the needed configuration for that test.  <a href="#a1ccf26b207f6e00ee0ece3e227de42a1">More...</a><br /></td></tr>
<tr class="separator:a1ccf26b207f6e00ee0ece3e227de42a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add35ea2349b86888eef95d404e6faebf"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d8e/test__cdr_8c.html#add35ea2349b86888eef95d404e6faebf">TEST_CATEGORY</a>&#160;&#160;&#160;&quot;/main/cdr/&quot;</td></tr>
<tr class="separator:add35ea2349b86888eef95d404e6faebf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b6bed5ab2a77ed58c1b1b294cec0a1c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d8e/test__cdr_8c.html#a4b6bed5ab2a77ed58c1b1b294cec0a1c">VERIFY_NUMERIC_FIELD</a>(field,  actual,  expected)</td></tr>
<tr class="memdesc:a4b6bed5ab2a77ed58c1b1b294cec0a1c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Verify a numeric field. This will set the test status result to fail; as such, it assumes that (a) test is the test object variable, and (b) that a return variable res exists.  <a href="#a4b6bed5ab2a77ed58c1b1b294cec0a1c">More...</a><br /></td></tr>
<tr class="separator:a4b6bed5ab2a77ed58c1b1b294cec0a1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0da641fc964b275df00d36a24b8d5e2c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d8e/test__cdr_8c.html#a0da641fc964b275df00d36a24b8d5e2c">VERIFY_STRING_FIELD</a>(field,  actual,  expected)</td></tr>
<tr class="memdesc:a0da641fc964b275df00d36a24b8d5e2c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Verify a string field. This will set the test status result to fail; as such, it assumes that (a) test is the test object variable, and (b) that a return variable res exists.  <a href="#a0da641fc964b275df00d36a24b8d5e2c">More...</a><br /></td></tr>
<tr class="separator:a0da641fc964b275df00d36a24b8d5e2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af48eafc1dddd3886edbb6065f838c0f1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d8e/test__cdr_8c.html#af48eafc1dddd3886edbb6065f838c0f1">VERIFY_TIME_VALUE</a>(field,  actual)</td></tr>
<tr class="memdesc:af48eafc1dddd3886edbb6065f838c0f1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Verify a time field. This will set the test status result to fail; as such, it assumes that (a) test is the test object variable, and (b) that a return variable res exists.  <a href="#af48eafc1dddd3886edbb6065f838c0f1">More...</a><br /></td></tr>
<tr class="separator:af48eafc1dddd3886edbb6065f838c0f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a88b7c88fed6b80fd18f34f97757dfc04"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d8e/test__cdr_8c.html#a88b7c88fed6b80fd18f34f97757dfc04">__reg_module</a> (void)</td></tr>
<tr class="separator:a88b7c88fed6b80fd18f34f97757dfc04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afeab1257bd17282b95875499393a147a"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d8e/test__cdr_8c.html#afeab1257bd17282b95875499393a147a">__unreg_module</a> (void)</td></tr>
<tr class="separator:afeab1257bd17282b95875499393a147a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fb0aca9bbcdb9709fa52a70aded6cae"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d8e/test__cdr_8c.html#a4fb0aca9bbcdb9709fa52a70aded6cae">AST_MODULE_SELF_SYM</a> (void)</td></tr>
<tr class="separator:a4fb0aca9bbcdb9709fa52a70aded6cae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b6febd580c76faa6006ba23c1cc7e77"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d8e/test__cdr_8c.html#a7b6febd580c76faa6006ba23c1cc7e77">AST_TEST_DEFINE</a> (test_cdr_channel_creation)</td></tr>
<tr class="separator:a7b6febd580c76faa6006ba23c1cc7e77"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a822ef21f508697f646880f6ffb7c545b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d8e/test__cdr_8c.html#a822ef21f508697f646880f6ffb7c545b">AST_TEST_DEFINE</a> (test_cdr_unanswered_inbound_call)</td></tr>
<tr class="separator:a822ef21f508697f646880f6ffb7c545b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f0a63d3413a8b74782dc623e203d0e2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d8e/test__cdr_8c.html#a7f0a63d3413a8b74782dc623e203d0e2">AST_TEST_DEFINE</a> (test_cdr_unanswered_outbound_call)</td></tr>
<tr class="separator:a7f0a63d3413a8b74782dc623e203d0e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d2d435455f9c6db812fc7ff36e681c5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d8e/test__cdr_8c.html#a0d2d435455f9c6db812fc7ff36e681c5">AST_TEST_DEFINE</a> (test_cdr_outbound_bridged_call)</td></tr>
<tr class="separator:a0d2d435455f9c6db812fc7ff36e681c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a395c4ed2b5fe4828e50c1643aa3f1b04"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d8e/test__cdr_8c.html#a395c4ed2b5fe4828e50c1643aa3f1b04">AST_TEST_DEFINE</a> (test_cdr_single_party)</td></tr>
<tr class="separator:a395c4ed2b5fe4828e50c1643aa3f1b04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16faa33d9854dfaba2fa4040f6475ea1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d8e/test__cdr_8c.html#a16faa33d9854dfaba2fa4040f6475ea1">AST_TEST_DEFINE</a> (test_cdr_single_bridge)</td></tr>
<tr class="separator:a16faa33d9854dfaba2fa4040f6475ea1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c81d693c0b13b38af15783738bbd12c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d8e/test__cdr_8c.html#a9c81d693c0b13b38af15783738bbd12c">AST_TEST_DEFINE</a> (test_cdr_single_bridge_continue)</td></tr>
<tr class="separator:a9c81d693c0b13b38af15783738bbd12c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0688bf419204a171e4f6c6c1e212049e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d8e/test__cdr_8c.html#a0688bf419204a171e4f6c6c1e212049e">AST_TEST_DEFINE</a> (test_cdr_single_twoparty_bridge_a)</td></tr>
<tr class="separator:a0688bf419204a171e4f6c6c1e212049e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb246216ebe182f49198cd8af9dd7d1e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d8e/test__cdr_8c.html#afb246216ebe182f49198cd8af9dd7d1e">AST_TEST_DEFINE</a> (test_cdr_single_twoparty_bridge_b)</td></tr>
<tr class="separator:afb246216ebe182f49198cd8af9dd7d1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62e5becae8d1b1c9c8cf0694d9112def"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d8e/test__cdr_8c.html#a62e5becae8d1b1c9c8cf0694d9112def">AST_TEST_DEFINE</a> (test_cdr_single_multiparty_bridge)</td></tr>
<tr class="separator:a62e5becae8d1b1c9c8cf0694d9112def"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e2f1ad2cd8efe8cb3302a23aa056fc8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d8e/test__cdr_8c.html#a3e2f1ad2cd8efe8cb3302a23aa056fc8">AST_TEST_DEFINE</a> (test_cdr_dial_unanswered)</td></tr>
<tr class="separator:a3e2f1ad2cd8efe8cb3302a23aa056fc8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba05cd6cd2761be4f52401f9ff40bbb0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d8e/test__cdr_8c.html#aba05cd6cd2761be4f52401f9ff40bbb0">AST_TEST_DEFINE</a> (test_cdr_dial_busy)</td></tr>
<tr class="separator:aba05cd6cd2761be4f52401f9ff40bbb0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25485f8979f9cfa39126e2f672c061a7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d8e/test__cdr_8c.html#a25485f8979f9cfa39126e2f672c061a7">AST_TEST_DEFINE</a> (test_cdr_dial_congestion)</td></tr>
<tr class="separator:a25485f8979f9cfa39126e2f672c061a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08ad895ae55a03596d754977dfcb407a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d8e/test__cdr_8c.html#a08ad895ae55a03596d754977dfcb407a">AST_TEST_DEFINE</a> (test_cdr_dial_unavailable)</td></tr>
<tr class="separator:a08ad895ae55a03596d754977dfcb407a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0834456e917c1acdbe2e3fc8e6230eca"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d8e/test__cdr_8c.html#a0834456e917c1acdbe2e3fc8e6230eca">AST_TEST_DEFINE</a> (test_cdr_dial_caller_cancel)</td></tr>
<tr class="separator:a0834456e917c1acdbe2e3fc8e6230eca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1aea155c72149d09b281230f6a4e56ba"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d8e/test__cdr_8c.html#a1aea155c72149d09b281230f6a4e56ba">AST_TEST_DEFINE</a> (test_cdr_dial_parallel_failed)</td></tr>
<tr class="separator:a1aea155c72149d09b281230f6a4e56ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c7d40d50d83de5c776bf292e31f4b80"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d8e/test__cdr_8c.html#a5c7d40d50d83de5c776bf292e31f4b80">AST_TEST_DEFINE</a> (test_cdr_dial_answer_no_bridge)</td></tr>
<tr class="separator:a5c7d40d50d83de5c776bf292e31f4b80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38293987a23189a6acad006d15916e8d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d8e/test__cdr_8c.html#a38293987a23189a6acad006d15916e8d">AST_TEST_DEFINE</a> (test_cdr_dial_answer_twoparty_bridge_a)</td></tr>
<tr class="separator:a38293987a23189a6acad006d15916e8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8db988b0dcd6c870153cc85b7ffbf784"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d8e/test__cdr_8c.html#a8db988b0dcd6c870153cc85b7ffbf784">AST_TEST_DEFINE</a> (test_cdr_dial_answer_twoparty_bridge_b)</td></tr>
<tr class="separator:a8db988b0dcd6c870153cc85b7ffbf784"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4af5a1e1305a59ce43a6874f3763c6df"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d8e/test__cdr_8c.html#a4af5a1e1305a59ce43a6874f3763c6df">AST_TEST_DEFINE</a> (test_cdr_dial_answer_multiparty)</td></tr>
<tr class="separator:a4af5a1e1305a59ce43a6874f3763c6df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8aeb5e7793bab924676aabc3935f5a71"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d8e/test__cdr_8c.html#a8aeb5e7793bab924676aabc3935f5a71">AST_TEST_DEFINE</a> (test_cdr_park)</td></tr>
<tr class="separator:a8aeb5e7793bab924676aabc3935f5a71"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08ac2302d56aeec4317a7efe50379af3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d8e/test__cdr_8c.html#a08ac2302d56aeec4317a7efe50379af3">AST_TEST_DEFINE</a> (test_cdr_fields)</td></tr>
<tr class="separator:a08ac2302d56aeec4317a7efe50379af3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8607b923e9604219e85da71876406722"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d8e/test__cdr_8c.html#a8607b923e9604219e85da71876406722">AST_TEST_DEFINE</a> (test_cdr_no_reset_cdr)</td></tr>
<tr class="separator:a8607b923e9604219e85da71876406722"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a756d859b42e5bceefcb2303968f1e9bb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d8e/test__cdr_8c.html#a756d859b42e5bceefcb2303968f1e9bb">AST_TEST_DEFINE</a> (test_cdr_fork_cdr)</td></tr>
<tr class="separator:a756d859b42e5bceefcb2303968f1e9bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5321bf60fac6a4c3b4b3cb0806b80634"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d8e/test__cdr_8c.html#a5321bf60fac6a4c3b4b3cb0806b80634">clear_mock_cdr_backend</a> (void)</td></tr>
<tr class="separator:a5321bf60fac6a4c3b4b3cb0806b80634"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a638dca57ef13cc34a8d584246f5add00"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d8e/test__cdr_8c.html#a638dca57ef13cc34a8d584246f5add00">do_sleep</a> (struct timespec *<a class="el" href="../../db/dc4/test__cel_8c.html#af600138406d2c64d06bf7dedf447cfc9">to_sleep</a>)</td></tr>
<tr class="separator:a638dca57ef13cc34a8d584246f5add00"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3382bf6da54c56b37069bd76bbdf4f9"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d8e/test__cdr_8c.html#ac3382bf6da54c56b37069bd76bbdf4f9">load_module</a> (void)</td></tr>
<tr class="separator:ac3382bf6da54c56b37069bd76bbdf4f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83d16cad42917d3e165117a00b988183"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d8e/test__cdr_8c.html#a83d16cad42917d3e165117a00b988183">mock_cdr_backend_cb</a> (struct <a class="el" href="../../d4/d5d/structast__cdr.html">ast_cdr</a> *cdr)</td></tr>
<tr class="separator:a83d16cad42917d3e165117a00b988183"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4aab087f903dfe2609a124a828903cb5"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d8e/test__cdr_8c.html#a4aab087f903dfe2609a124a828903cb5">safe_bridge_destroy</a> (struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *bridge)</td></tr>
<tr class="separator:a4aab087f903dfe2609a124a828903cb5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a987d4f1e5d92597fac228fa99bcb56be"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d8e/test__cdr_8c.html#a987d4f1e5d92597fac228fa99bcb56be">safe_channel_release</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan)</td></tr>
<tr class="separator:a987d4f1e5d92597fac228fa99bcb56be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7cb72352efd593d942fb46181cf14a68"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d8e/test__cdr_8c.html#a7cb72352efd593d942fb46181cf14a68">test_cdr_cleanup_cb</a> (struct <a class="el" href="../../dc/d62/structast__test__info.html">ast_test_info</a> *info, struct <a class="el" href="../../d9/d79/structast__test.html">ast_test</a> *<a class="el" href="../../d8/d89/structtest.html">test</a>)</td></tr>
<tr class="separator:a7cb72352efd593d942fb46181cf14a68"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac6df54a16aa9f8f60d4c1056ae15643"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d8e/test__cdr_8c.html#aac6df54a16aa9f8f60d4c1056ae15643">test_cdr_init_cb</a> (struct <a class="el" href="../../dc/d62/structast__test__info.html">ast_test_info</a> *info, struct <a class="el" href="../../d9/d79/structast__test.html">ast_test</a> *<a class="el" href="../../d8/d89/structtest.html">test</a>)</td></tr>
<tr class="separator:aac6df54a16aa9f8f60d4c1056ae15643"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad09fa931f468002152a3cc2d5ce25eae"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d8e/test__cdr_8c.html#ad09fa931f468002152a3cc2d5ce25eae">unload_module</a> (void)</td></tr>
<tr class="separator:ad09fa931f468002152a3cc2d5ce25eae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aabfd96ef82edc19b680e65889e005c93"><td class="memItemLeft" align="right" valign="top">static enum <a class="el" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044">ast_test_result_state</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d8e/test__cdr_8c.html#aabfd96ef82edc19b680e65889e005c93">verify_mock_cdr_record</a> (struct <a class="el" href="../../d9/d79/structast__test.html">ast_test</a> *<a class="el" href="../../d8/d89/structtest.html">test</a>, struct <a class="el" href="../../d4/d5d/structast__cdr.html">ast_cdr</a> *expected, int record)</td></tr>
<tr class="separator:aabfd96ef82edc19b680e65889e005c93"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ab22f32016155f7f403e7178767163d7d"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d8e/test__cdr_8c.html#ab22f32016155f7f403e7178767163d7d">__mod_info</a> = { .<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a> = <a class="el" href="../../da/ddd/named__acl_8c.html#aec23fc5034c3bb08140fc021f4955877">AST_MODULE</a>, .flags = <a class="el" href="../../d5/d16/module_8h.html#a155a0df9c59e04e305d4a2fa3e35f843a12c3f60dd7655dfa8d4430cbf04b1223">AST_MODFLAG_LOAD_ORDER</a> , .description = &quot;CDR unit <a class="el" href="../../de/da6/structtests.html">tests</a>&quot; , .key = &quot;This paragraph is copyright (<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>) 2006 by Digium, Inc. \In <a class="el" href="../../d5/d14/voicin_8c.html#aed7ca058008dc3e5ee131e575abed285">order</a> for your module to load, it must return this \key via <a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a> function called \&quot;key\&quot;. Any code which \includes this paragraph must <a class="el" href="../../dd/d7c/eagi__proxy_8c.html#a39730e90126aad69cfc9ca4d6fcdb3a6">be</a> licensed under the GNU \General Public License <a class="el" href="../../da/d7c/utils_2frame_8h.html#a56abfaab87c46691c1ef3ad0df23e864">version</a> 2 or later (at your \option). In addition to Digium's general reservations \of rights, Digium expressly reserves the right to \allow other parties to license this paragraph under \different terms. Any use of Digium, Inc. trademarks or \logos (including \&quot;Asterisk\&quot; or \&quot;Digium\&quot;) without \express written <a class="el" href="../../d4/d4c/structpermission.html">permission</a> of Digium, Inc. is prohibited.\n&quot; , .buildopt_sum = <a class="el" href="../../da/d84/res__pjsip__stir__shaken_8c.html#a6e79b87e069c15a5fb21826e5eed0971">AST_BUILDOPT_SUM</a>, .load = <a class="el" href="../../d6/d7a/test__xml__escape_8c.html#ac3382bf6da54c56b37069bd76bbdf4f9">load_module</a>, .unload = <a class="el" href="../../d6/d7a/test__xml__escape_8c.html#ad09fa931f468002152a3cc2d5ce25eae">unload_module</a>, .load_pri = <a class="el" href="../../d5/d16/module_8h.html#aa4f734041ffd9d75b07cefb0291e1e58a1d1eb207e01a2d3bf6aa6ba271c27dee">AST_MODPRI_DEFAULT</a>, .support_level = <a class="el" href="../../d5/d16/module_8h.html#ab35bc4efd9f79706300965c9d36a0ce5a634484c0074e7b6b630756fab09e2c15">AST_MODULE_SUPPORT_CORE</a>, }</td></tr>
<tr class="separator:ab22f32016155f7f403e7178767163d7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8fac6bd803a38e2c62d39ea5aa18ba05"><td class="memItemLeft" >struct {</td></tr>
<tr class="memitem:ad010071647150404acc6651544245543"><td class="memItemLeft" >&#160;&#160;&#160;struct <a class="el" href="../../d4/d85/structtest__cdr__entry.html">test_cdr_entry</a> *&#160;&#160;&#160;<a class="el" href="../../d7/d8e/test__cdr_8c.html#ad010071647150404acc6651544245543">first</a></td></tr>
<tr class="separator:ad010071647150404acc6651544245543"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abaf7793fbb72797de5118c5f1f7b21ae"><td class="memItemLeft" >&#160;&#160;&#160;struct <a class="el" href="../../d4/d85/structtest__cdr__entry.html">test_cdr_entry</a> *&#160;&#160;&#160;<a class="el" href="../../d7/d8e/test__cdr_8c.html#abaf7793fbb72797de5118c5f1f7b21ae">last</a></td></tr>
<tr class="separator:abaf7793fbb72797de5118c5f1f7b21ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf04f66344e3fb0a6f6a69bf39d19902"><td class="memItemLeft" >&#160;&#160;&#160;<a class="el" href="../../dd/d42/lock_8h.html#a44a55ccb432d858a224b401116277e93">ast_mutex_t</a>&#160;&#160;&#160;<a class="el" href="../../d7/d8e/test__cdr_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a></td></tr>
<tr class="separator:adf04f66344e3fb0a6f6a69bf39d19902"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8fac6bd803a38e2c62d39ea5aa18ba05"><td class="memItemLeft" valign="top">}&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d8e/test__cdr_8c.html#a8fac6bd803a38e2c62d39ea5aa18ba05">actual_cdr_entries</a> = <a class="el" href="../../d4/dc5/extconf_8c.html#a312e85d30d91d1db3ad0573c37c3f0cf">AST_LIST_HEAD_INIT_VALUE</a></td></tr>
<tr class="memdesc:a8fac6bd803a38e2c62d39ea5aa18ba05"><td class="mdescLeft">&#160;</td><td class="mdescRight">A linked list of received CDR entries from the engine.  <a href="#a8fac6bd803a38e2c62d39ea5aa18ba05">More...</a><br /></td></tr>
<tr class="separator:a8fac6bd803a38e2c62d39ea5aa18ba05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad60e83b9aa660040fed4d5377966cc21"><td class="memItemLeft" align="right" valign="top">static const struct <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d8e/test__cdr_8c.html#ad60e83b9aa660040fed4d5377966cc21">ast_module_info</a> = &amp;<a class="el" href="../../d6/d7a/test__xml__escape_8c.html#ab22f32016155f7f403e7178767163d7d">__mod_info</a></td></tr>
<tr class="separator:ad60e83b9aa660040fed4d5377966cc21"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afdb35db7a196aaf05ae2d378f90354c6"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../d4/d69/structast__cdr__config.html">ast_cdr_config</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d8e/test__cdr_8c.html#afdb35db7a196aaf05ae2d378f90354c6">congestion_cdr_config</a></td></tr>
<tr class="memdesc:afdb35db7a196aaf05ae2d378f90354c6"><td class="mdescLeft">&#160;</td><td class="mdescRight">A configuration suitable for CDRs with congestion enabled.  <a href="#afdb35db7a196aaf05ae2d378f90354c6">More...</a><br /></td></tr>
<tr class="separator:afdb35db7a196aaf05ae2d378f90354c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac905defa905925ff383b4bc9d2f89e35"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../d4/d69/structast__cdr__config.html">ast_cdr_config</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d8e/test__cdr_8c.html#ac905defa905925ff383b4bc9d2f89e35">debug_cdr_config</a></td></tr>
<tr class="memdesc:ac905defa905925ff383b4bc9d2f89e35"><td class="mdescLeft">&#160;</td><td class="mdescRight">A configuration suitable for 'normal' CDRs.  <a href="#ac905defa905925ff383b4bc9d2f89e35">More...</a><br /></td></tr>
<tr class="separator:ac905defa905925ff383b4bc9d2f89e35"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d4176f1388999cc160edf8418a888e4"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d8e/test__cdr_8c.html#a2d4176f1388999cc160edf8418a888e4">global_mock_cdr_count</a></td></tr>
<tr class="memdesc:a2d4176f1388999cc160edf8418a888e4"><td class="mdescLeft">&#160;</td><td class="mdescRight">The number of CDRs the mock backend has received.  <a href="#a2d4176f1388999cc160edf8418a888e4">More...</a><br /></td></tr>
<tr class="separator:a2d4176f1388999cc160edf8418a888e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f8e76f98e5c15a968ab52a6690824b0"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../dd/d42/lock_8h.html#ab134d98cdfe7de0f7a72b377c0765dc7">ast_cond_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d8e/test__cdr_8c.html#a7f8e76f98e5c15a968ab52a6690824b0">mock_cdr_cond</a></td></tr>
<tr class="memdesc:a7f8e76f98e5c15a968ab52a6690824b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">The Mock CDR backend condition wait.  <a href="#a7f8e76f98e5c15a968ab52a6690824b0">More...</a><br /></td></tr>
<tr class="separator:a7f8e76f98e5c15a968ab52a6690824b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aace14d0f9cfef0d3623a293ea35d7e4b"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../d4/d69/structast__cdr__config.html">ast_cdr_config</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d8e/test__cdr_8c.html#aace14d0f9cfef0d3623a293ea35d7e4b">saved_config</a></td></tr>
<tr class="memdesc:aace14d0f9cfef0d3623a293ea35d7e4b"><td class="mdescLeft">&#160;</td><td class="mdescRight">A placeholder for Asterisk's 'real' CDR configuration.  <a href="#aace14d0f9cfef0d3623a293ea35d7e4b">More...</a><br /></td></tr>
<tr class="separator:aace14d0f9cfef0d3623a293ea35d7e4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab321062127839f3f04e03e96ceda145b"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../d4/d85/structast__channel__tech.html">ast_channel_tech</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d8e/test__cdr_8c.html#ab321062127839f3f04e03e96ceda145b">test_cdr_chan_tech</a></td></tr>
<tr class="memdesc:ab321062127839f3f04e03e96ceda145b"><td class="mdescLeft">&#160;</td><td class="mdescRight">A channel technology used for the unit tests.  <a href="#ab321062127839f3f04e03e96ceda145b">More...</a><br /></td></tr>
<tr class="separator:ab321062127839f3f04e03e96ceda145b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5722136884f356e886185ddd4f58e97a"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../d4/d69/structast__cdr__config.html">ast_cdr_config</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d8e/test__cdr_8c.html#a5722136884f356e886185ddd4f58e97a">unanswered_cdr_config</a></td></tr>
<tr class="memdesc:a5722136884f356e886185ddd4f58e97a"><td class="mdescLeft">&#160;</td><td class="mdescRight">A configuration suitable for CDRs with unanswered records.  <a href="#a5722136884f356e886185ddd4f58e97a">More...</a><br /></td></tr>
<tr class="separator:a5722136884f356e886185ddd4f58e97a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>CDR unit tests. </p>
<dl class="section author"><dt>Author</dt><dd>Matt Jordan <a href="#" onclick="location.href='mai'+'lto:'+'mjo'+'rd'+'an@'+'di'+'giu'+'m.'+'com'; return false;">mjord<span style="display: none;">.nosp@m.</span>an@d<span style="display: none;">.nosp@m.</span>igium<span style="display: none;">.nosp@m.</span>.com</a> </dd></dl>

<p class="definition">Definition in file <a class="el" href="../../d7/d8e/test__cdr_8c_source.html">test_cdr.c</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a8739ae4d4e4305695b4deaebc79986f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8739ae4d4e4305695b4deaebc79986f1">&#9670;&nbsp;</a></span>ALICE_CALLERID</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ALICE_CALLERID&#160;&#160;&#160;{ .<a class="el" href="../../d8/d30/main_2security__events_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">id.name.str</a> = &quot;Alice&quot;, .id.name.valid = 1, .<a class="el" href="../../d8/d30/main_2security__events_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">id.number.str</a> = &quot;100&quot;, .id.number.valid = 1, }</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Alice's Caller ID. </p>

<p class="definition">Definition at line <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00216">216</a> of file <a class="el" href="../../d7/d8e/test__cdr_8c_source.html">test_cdr.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00393">AST_TEST_DEFINE()</a>.</p>

</div>
</div>
<a id="a5c90b196c5211bf396b375a92349ef2c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c90b196c5211bf396b375a92349ef2c">&#9670;&nbsp;</a></span>BOB_CALLERID</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BOB_CALLERID&#160;&#160;&#160;{ .<a class="el" href="../../d8/d30/main_2security__events_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">id.name.str</a> = &quot;Bob&quot;, .id.name.valid = 1, .<a class="el" href="../../d8/d30/main_2security__events_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">id.number.str</a> = &quot;200&quot;, .id.number.valid = 1, }</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Bob's Caller ID. </p>

<p class="definition">Definition at line <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00219">219</a> of file <a class="el" href="../../d7/d8e/test__cdr_8c_source.html">test_cdr.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00824">AST_TEST_DEFINE()</a>.</p>

</div>
</div>
<a id="a86d2cbfb5a0c115147944a541cc355e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a86d2cbfb5a0c115147944a541cc355e0">&#9670;&nbsp;</a></span>CHANNEL_TECH_NAME</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CHANNEL_TECH_NAME&#160;&#160;&#160;&quot;CDRTestChannel&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00055">55</a> of file <a class="el" href="../../d7/d8e/test__cdr_8c_source.html">test_cdr.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00393">AST_TEST_DEFINE()</a>.</p>

</div>
</div>
<a id="afc59c481b016881543bd3d3e66863116"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc59c481b016881543bd3d3e66863116">&#9670;&nbsp;</a></span>CHARLIE_CALLERID</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CHARLIE_CALLERID&#160;&#160;&#160;{ .<a class="el" href="../../d8/d30/main_2security__events_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">id.name.str</a> = &quot;Charlie&quot;, .id.name.valid = 1, .<a class="el" href="../../d8/d30/main_2security__events_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">id.number.str</a> = &quot;300&quot;, .id.number.valid = 1, }</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Charlie's Caller ID. </p>

<p class="definition">Definition at line <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00222">222</a> of file <a class="el" href="../../d7/d8e/test__cdr_8c_source.html">test_cdr.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l01009">AST_TEST_DEFINE()</a>.</p>

</div>
</div>
<a id="a0710872fe26e286bc89c24db3288f74f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0710872fe26e286bc89c24db3288f74f">&#9670;&nbsp;</a></span>COPY_IDS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define COPY_IDS</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">channel_var, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">expected_record&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">do</span> { \</div><div class="line">   ast_copy_string((expected_record)-&gt;uniqueid, <a class="code" href="../../d5/d7b/channel_8h.html#a3b6254f6d3832ef928f0a727113b1c63">ast_channel_uniqueid</a>((channel_var)), <span class="keyword">sizeof</span>((expected_record)-&gt;uniqueid)); \</div><div class="line">   ast_copy_string((expected_record)-&gt;linkedid, <a class="code" href="../../d5/d7b/channel_8h.html#aa776071546e0bb0eb8cfc4c3a3159dfc">ast_channel_linkedid</a>((channel_var)), <span class="keyword">sizeof</span>((expected_record)-&gt;linkedid)); \</div><div class="line">   } <span class="keywordflow">while</span> (0)</div><div class="ttc" id="channel_8h_html_aa776071546e0bb0eb8cfc4c3a3159dfc"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#aa776071546e0bb0eb8cfc4c3a3159dfc">ast_channel_linkedid</a></div><div class="ttdeci">const char * ast_channel_linkedid(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00311">channel_internal_api.c:311</a></div></div>
<div class="ttc" id="channel_8h_html_a3b6254f6d3832ef928f0a727113b1c63"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a3b6254f6d3832ef928f0a727113b1c63">ast_channel_uniqueid</a></div><div class="ttdeci">const char * ast_channel_uniqueid(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00305">channel_internal_api.c:305</a></div></div>
</div><!-- fragment -->
<p>Copy the linkedid and uniqueid from a channel to an expected CDR. </p>

<p class="definition">Definition at line <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00228">228</a> of file <a class="el" href="../../d7/d8e/test__cdr_8c_source.html">test_cdr.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00745">AST_TEST_DEFINE()</a>.</p>

</div>
</div>
<a id="a1ed3332fe918eafa4f3f79c131525249"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ed3332fe918eafa4f3f79c131525249">&#9670;&nbsp;</a></span>CREATE_ALICE_CHANNEL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CREATE_ALICE_CHANNEL</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">channel_var, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">caller_id, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">expected_record&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a <a class="el" href="../../d7/d8e/test__cdr_8c.html#ab321062127839f3f04e03e96ceda145b">test_cdr_chan_tech</a> for Alice, and set the expected CDR records' linkedid and uniqueid. </p>

<p class="definition">Definition at line <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00248">248</a> of file <a class="el" href="../../d7/d8e/test__cdr_8c_source.html">test_cdr.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00393">AST_TEST_DEFINE()</a>.</p>

</div>
</div>
<a id="a415f8d0ccfd971c1eb213398ee53cf2c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a415f8d0ccfd971c1eb213398ee53cf2c">&#9670;&nbsp;</a></span>CREATE_BOB_CHANNEL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CREATE_BOB_CHANNEL</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">channel_var, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">caller_id, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">expected_record&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a <a class="el" href="../../d7/d8e/test__cdr_8c.html#ab321062127839f3f04e03e96ceda145b">test_cdr_chan_tech</a> for Bob, and set the expected CDR records' linkedid and uniqueid. </p>

<p class="definition">Definition at line <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00259">259</a> of file <a class="el" href="../../d7/d8e/test__cdr_8c_source.html">test_cdr.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00824">AST_TEST_DEFINE()</a>.</p>

</div>
</div>
<a id="a845d7068c209f64f63c1c10989b56f18"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a845d7068c209f64f63c1c10989b56f18">&#9670;&nbsp;</a></span>CREATE_CHARLIE_CHANNEL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CREATE_CHARLIE_CHANNEL</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">channel_var, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">caller_id, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">expected_record&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a <a class="el" href="../../d7/d8e/test__cdr_8c.html#ab321062127839f3f04e03e96ceda145b">test_cdr_chan_tech</a> for Charlie, and set the expected CDR records' linkedid and uniqueid. </p>

<p class="definition">Definition at line <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00270">270</a> of file <a class="el" href="../../d7/d8e/test__cdr_8c_source.html">test_cdr.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l01009">AST_TEST_DEFINE()</a>.</p>

</div>
</div>
<a id="ac85413c2eaad734d154382bdc9f0c7f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac85413c2eaad734d154382bdc9f0c7f1">&#9670;&nbsp;</a></span>CREATE_DAVID_CHANNEL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CREATE_DAVID_CHANNEL</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">channel_var, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">caller_id, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">expected_record&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a <a class="el" href="../../d7/d8e/test__cdr_8c.html#ab321062127839f3f04e03e96ceda145b">test_cdr_chan_tech</a> for Charlie, and set the expected CDR records' linkedid and uniqueid. </p>

<p class="definition">Definition at line <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00281">281</a> of file <a class="el" href="../../d7/d8e/test__cdr_8c_source.html">test_cdr.c</a>.</p>

</div>
</div>
<a id="af292b9a001f834aecea16467868d1b26"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af292b9a001f834aecea16467868d1b26">&#9670;&nbsp;</a></span>DAVID_CALLERID</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DAVID_CALLERID&#160;&#160;&#160;{ .<a class="el" href="../../d8/d30/main_2security__events_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">id.name.str</a> = &quot;David&quot;, .id.name.valid = 1, .<a class="el" href="../../d8/d30/main_2security__events_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">id.number.str</a> = &quot;400&quot;, .id.number.valid = 1, }</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>David's Caller ID. </p>

<p class="definition">Definition at line <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00225">225</a> of file <a class="el" href="../../d7/d8e/test__cdr_8c_source.html">test_cdr.c</a>.</p>

</div>
</div>
<a id="ab91bafbff6fa458554e8745276c0b4d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab91bafbff6fa458554e8745276c0b4d3">&#9670;&nbsp;</a></span>EMULATE_APP_DATA</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EMULATE_APP_DATA</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d4/d84/structchannel.html">channel</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d1/d0c/cel__beanstalkd_8c.html#acec9ce2df15222151ad66fcb1d74eb9f">priority</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">application, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">data&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Emulate a channel entering into an application. </p>

<p class="definition">Definition at line <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00291">291</a> of file <a class="el" href="../../d7/d8e/test__cdr_8c_source.html">test_cdr.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00435">AST_TEST_DEFINE()</a>.</p>

</div>
</div>
<a id="a002b2f4894492820fe708b1b7e7c5e70"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a002b2f4894492820fe708b1b7e7c5e70">&#9670;&nbsp;</a></span>EPSILON</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EPSILON&#160;&#160;&#160;0.001</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00049">49</a> of file <a class="el" href="../../d7/d8e/test__cdr_8c_source.html">test_cdr.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l02120">AST_TEST_DEFINE()</a>.</p>

</div>
</div>
<a id="ac2b699afc1547e0d4f71ece789ee21e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac2b699afc1547e0d4f71ece789ee21e1">&#9670;&nbsp;</a></span>HANGUP_CHANNEL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define HANGUP_CHANNEL</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../d4/d84/structchannel.html">channel</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">cause&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">do</span> { \</div><div class="line">      ast_channel_hangupcause_set((<a class="code" href="../../d4/d84/structchannel.html">channel</a>), (cause)); \</div><div class="line">      ast_hangup(<a class="code" href="../../d4/d84/structchannel.html">channel</a>); \</div><div class="line">      channel = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>; \</div><div class="line">   } <span class="keywordflow">while</span> (0)</div><div class="ttc" id="structchannel_html"><div class="ttname"><a href="../../d4/d84/structchannel.html">channel</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d8a/muted_8c_source.html#l00095">muted.c:95</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
</div><!-- fragment -->
<p>Hang up a test channel safely. </p>

<p class="definition">Definition at line <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00303">303</a> of file <a class="el" href="../../d7/d8e/test__cdr_8c_source.html">test_cdr.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00393">AST_TEST_DEFINE()</a>.</p>

</div>
</div>
<a id="ad8acbad0b68bdfe22b4e9989f40659a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad8acbad0b68bdfe22b4e9989f40659a5">&#9670;&nbsp;</a></span>MOCK_CDR_BACKEND</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MOCK_CDR_BACKEND&#160;&#160;&#160;&quot;mock_cdr_backend&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00053">53</a> of file <a class="el" href="../../d7/d8e/test__cdr_8c_source.html">test_cdr.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l02585">load_module()</a>, and <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l02546">unload_module()</a>.</p>

</div>
</div>
<a id="a7a53a18000fdffa1da8f2842a6513c87"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7a53a18000fdffa1da8f2842a6513c87">&#9670;&nbsp;</a></span>SET_FORMATS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SET_FORMATS</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">chan</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set ulaw format on channel. </p>

<p class="definition">Definition at line <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00234">234</a> of file <a class="el" href="../../d7/d8e/test__cdr_8c_source.html">test_cdr.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00535">AST_TEST_DEFINE()</a>.</p>

</div>
</div>
<a id="a1ccf26b207f6e00ee0ece3e227de42a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ccf26b207f6e00ee0ece3e227de42a1">&#9670;&nbsp;</a></span>SWAP_CONFIG</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SWAP_CONFIG</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ao2_config, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">template&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">do</span> { \</div><div class="line">   *(ao2_config) = (<span class="keyword">template</span>); \</div><div class="line">   ast_cdr_set_config((ao2_config)); \</div><div class="line">   } <span class="keywordflow">while</span> (0)</div></div><!-- fragment -->
<p>Macro to swap a configuration out from the CDR engine. This should be used at the beginning of each test to set the needed configuration for that test. </p>

<p class="definition">Definition at line <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00079">79</a> of file <a class="el" href="../../d7/d8e/test__cdr_8c_source.html">test_cdr.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00393">AST_TEST_DEFINE()</a>.</p>

</div>
</div>
<a id="add35ea2349b86888eef95d404e6faebf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#add35ea2349b86888eef95d404e6faebf">&#9670;&nbsp;</a></span>TEST_CATEGORY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TEST_CATEGORY&#160;&#160;&#160;&quot;/main/cdr/&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00051">51</a> of file <a class="el" href="../../d7/d8e/test__cdr_8c_source.html">test_cdr.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00393">AST_TEST_DEFINE()</a>, and <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l02585">load_module()</a>.</p>

</div>
</div>
<a id="a4b6bed5ab2a77ed58c1b1b294cec0a1c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4b6bed5ab2a77ed58c1b1b294cec0a1c">&#9670;&nbsp;</a></span>VERIFY_NUMERIC_FIELD</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VERIFY_NUMERIC_FIELD</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">field, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">actual, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">expected&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Verify a numeric field. This will set the test status result to fail; as such, it assumes that (a) test is the test object variable, and (b) that a return variable res exists. </p>

<p class="definition">Definition at line <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00197">197</a> of file <a class="el" href="../../d7/d8e/test__cdr_8c_source.html">test_cdr.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00310">verify_mock_cdr_record()</a>.</p>

</div>
</div>
<a id="a0da641fc964b275df00d36a24b8d5e2c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0da641fc964b275df00d36a24b8d5e2c">&#9670;&nbsp;</a></span>VERIFY_STRING_FIELD</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VERIFY_STRING_FIELD</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">field, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">actual, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">expected&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Verify a string field. This will set the test status result to fail; as such, it assumes that (a) test is the test object variable, and (b) that a return variable res exists. </p>

<p class="definition">Definition at line <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00186">186</a> of file <a class="el" href="../../d7/d8e/test__cdr_8c_source.html">test_cdr.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00310">verify_mock_cdr_record()</a>.</p>

</div>
</div>
<a id="af48eafc1dddd3886edbb6065f838c0f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af48eafc1dddd3886edbb6065f838c0f1">&#9670;&nbsp;</a></span>VERIFY_TIME_VALUE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VERIFY_TIME_VALUE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">field, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">actual&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Verify a time field. This will set the test status result to fail; as such, it assumes that (a) test is the test object variable, and (b) that a return variable res exists. </p>

<p class="definition">Definition at line <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00208">208</a> of file <a class="el" href="../../d7/d8e/test__cdr_8c_source.html">test_cdr.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00310">verify_mock_cdr_record()</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a88b7c88fed6b80fd18f34f97757dfc04"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a88b7c88fed6b80fd18f34f97757dfc04">&#9670;&nbsp;</a></span>__reg_module()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void __reg_module </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l02628">2628</a> of file <a class="el" href="../../d7/d8e/test__cdr_8c_source.html">test_cdr.c</a>.</p>

</div>
</div>
<a id="afeab1257bd17282b95875499393a147a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afeab1257bd17282b95875499393a147a">&#9670;&nbsp;</a></span>__unreg_module()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void __unreg_module </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l02628">2628</a> of file <a class="el" href="../../d7/d8e/test__cdr_8c_source.html">test_cdr.c</a>.</p>

</div>
</div>
<a id="a4fb0aca9bbcdb9709fa52a70aded6cae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4fb0aca9bbcdb9709fa52a70aded6cae">&#9670;&nbsp;</a></span>AST_MODULE_SELF_SYM()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a>* AST_MODULE_SELF_SYM </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l02628">2628</a> of file <a class="el" href="../../d7/d8e/test__cdr_8c_source.html">test_cdr.c</a>.</p>

</div>
</div>
<a id="a7b6febd580c76faa6006ba23c1cc7e77"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b6febd580c76faa6006ba23c1cc7e77">&#9670;&nbsp;</a></span>AST_TEST_DEFINE() <span class="overload">[1/24]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AST_TEST_DEFINE </td>
          <td>(</td>
          <td class="paramtype">test_cdr_channel_creation&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00393">393</a> of file <a class="el" href="../../d7/d8e/test__cdr_8c_source.html">test_cdr.c</a>.</p>

<p class="reference">References <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00216">ALICE_CALLERID</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00411">ao2_alloc</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l01182">AST_AMA_DOCUMENTATION</a>, <a class="el" href="../../d4/da3/causes_8h_source.html#l00150">AST_CAUSE_NORMAL</a>, <a class="el" href="../../dc/d07/cdr_8h_source.html#l00254">AST_CDR_NOANSWER</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00201">AST_TEST_NOT_RUN</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00055">CHANNEL_TECH_NAME</a>, <a class="el" href="../../dc/d07/cdr_8h_source.html#l00278">ast_cdr::clid</a>, <a class="el" href="../../de/dcc/conf2ael_8c_source.html#l00066">config</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00248">CREATE_ALICE_CHANNEL</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00303">HANGUP_CHANNEL</a>, <a class="el" href="../../d9/d6f/sip__to__pjsip_8py_source.html#l01313">sip_to_pjsip::info()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00911">RAII_VAR</a>, <a class="el" href="../../de/d1b/cel__pgsql_8c_source.html#l00088">result</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00371">safe_channel_release()</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00079">SWAP_CONFIG</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00051">TEST_CATEGORY</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00208">TEST_EXECUTE</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00207">TEST_INIT</a>, and <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00310">verify_mock_cdr_record()</a>.</p>
<div class="fragment"><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;{</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *, chan, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d7/d8e/test__cdr_8c.html#a987d4f1e5d92597fac228fa99bcb56be">safe_channel_release</a>);</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d4/d69/structast__cdr__config.html">ast_cdr_config</a> *, <a class="code" href="../../de/dcc/conf2ael_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#ae0422b60d8e25b6962b2d61ae4ddf724">ao2_alloc</a>(<span class="keyword">sizeof</span>(*<a class="code" href="../../de/dcc/conf2ael_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a>), <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>),</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;         <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d77/structast__party__caller.html">ast_party_caller</a> caller = <a class="code" href="../../d7/d8e/test__cdr_8c.html#a8739ae4d4e4305695b4deaebc79986f1">ALICE_CALLERID</a>;</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d5d/structast__cdr.html">ast_cdr</a> expected = {</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;      .<a class="code" href="../../d4/d5d/structast__cdr.html#ab7fd8bddf0ce6987ae5e58fb64cfc9e2">clid</a> = <span class="stringliteral">&quot;\&quot;Alice\&quot; &lt;100&gt;&quot;</span>,</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;      .src = <span class="stringliteral">&quot;100&quot;</span>,</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;      .dst = <span class="stringliteral">&quot;100&quot;</span>,</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;      .dcontext = <span class="stringliteral">&quot;default&quot;</span>,</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;      .channel = <a class="code" href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a> <span class="stringliteral">&quot;/Alice&quot;</span>,</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;      .amaflags = <a class="code" href="../../d5/d7b/channel_8h.html#a784b9642d6e2862b04b7f970b337549fa57aa76a632aa16d12a92e43b81c32a68">AST_AMA_DOCUMENTATION</a>,</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;      .disposition = <a class="code" href="../../dc/d07/cdr_8h.html#a53e2666db1174cc83384daf9049023c0a2ae5ddf52a9d2a20fc4af7b9e5dde283">AST_CDR_NOANSWER</a>,</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;      .accountcode = <span class="stringliteral">&quot;100&quot;</span>,</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;   };</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;   <span class="keyword">enum</span> <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044">ast_test_result_state</a> <a class="code" href="../../de/d1b/cel__pgsql_8c.html#ad6c487210772a9b4b0ca04b04b847d4c">result</a> = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c">AST_TEST_NOT_RUN</a>;</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;   <span class="keywordflow">switch</span> (cmd) {</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b">TEST_INIT</a>:</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;name = __func__;</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;category = <a class="code" href="../../d7/d8e/test__cdr_8c.html#add35ea2349b86888eef95d404e6faebf">TEST_CATEGORY</a>;</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;summary = <span class="stringliteral">&quot;Test that a CDR is created when a channel is created&quot;</span>;</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;description =</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;         <span class="stringliteral">&quot;Test that a CDR is created when a channel is created&quot;</span>;</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c">AST_TEST_NOT_RUN</a>;</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e">TEST_EXECUTE</a>:</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;   }</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#a1ccf26b207f6e00ee0ece3e227de42a1">SWAP_CONFIG</a>(<a class="code" href="../../de/dcc/conf2ael_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a>, <a class="code" href="../../d7/d8e/test__cdr_8c.html#a5722136884f356e886185ddd4f58e97a">unanswered_cdr_config</a>);</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#a1ed3332fe918eafa4f3f79c131525249">CREATE_ALICE_CHANNEL</a>(chan, (&amp;caller), &amp;expected);</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#ac2b699afc1547e0d4f71ece789ee21e1">HANGUP_CHANNEL</a>(chan, <a class="code" href="../../d4/da3/causes_8h.html#a7858ab2ba4858d98e29f0ea54980313c">AST_CAUSE_NORMAL</a>);</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;   result = <a class="code" href="../../d7/d8e/test__cdr_8c.html#aabfd96ef82edc19b680e65889e005c93">verify_mock_cdr_record</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, &amp;expected, 1);</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../de/d1b/cel__pgsql_8c.html#ad6c487210772a9b4b0ca04b04b847d4c">result</a>;</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;}</div><div class="ttc" id="structast__channel_html"><div class="ttname"><a href="../../df/d3c/structast__channel.html">ast_channel</a></div><div class="ttdoc">Main Channel structure associated with a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00073">channel_internal_api.c:73</a></div></div>
<div class="ttc" id="channel_8h_html_a784b9642d6e2862b04b7f970b337549fa57aa76a632aa16d12a92e43b81c32a68"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a784b9642d6e2862b04b7f970b337549fa57aa76a632aa16d12a92e43b81c32a68">AST_AMA_DOCUMENTATION</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01182">channel.h:1182</a></div></div>
<div class="ttc" id="conf2ael_8c_html_a74bb62276efdf39dd94048e007fca05b"><div class="ttname"><a href="../../de/dcc/conf2ael_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a></div><div class="ttdeci">char * config</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcc/conf2ael_8c_source.html#l00066">conf2ael.c:66</a></div></div>
<div class="ttc" id="test__cdr_8c_html_add35ea2349b86888eef95d404e6faebf"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#add35ea2349b86888eef95d404e6faebf">TEST_CATEGORY</a></div><div class="ttdeci">#define TEST_CATEGORY</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00051">test_cdr.c:51</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a1ed3332fe918eafa4f3f79c131525249"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a1ed3332fe918eafa4f3f79c131525249">CREATE_ALICE_CHANNEL</a></div><div class="ttdeci">#define CREATE_ALICE_CHANNEL(channel_var, caller_id, expected_record)</div><div class="ttdoc">Create a test_cdr_chan_tech for Alice, and set the expected CDR records&amp;#39; linkedid and uniqueid...</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00248">test_cdr.c:248</a></div></div>
<div class="ttc" id="test_8h_html_a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e">TEST_EXECUTE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00208">test.h:208</a></div></div>
<div class="ttc" id="cdr_8h_html_a53e2666db1174cc83384daf9049023c0a2ae5ddf52a9d2a20fc4af7b9e5dde283"><div class="ttname"><a href="../../dc/d07/cdr_8h.html#a53e2666db1174cc83384daf9049023c0a2ae5ddf52a9d2a20fc4af7b9e5dde283">AST_CDR_NOANSWER</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00254">cdr.h:254</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a1ccf26b207f6e00ee0ece3e227de42a1"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a1ccf26b207f6e00ee0ece3e227de42a1">SWAP_CONFIG</a></div><div class="ttdeci">#define SWAP_CONFIG(ao2_config, template)</div><div class="ttdoc">Macro to swap a configuration out from the CDR engine. This should be used at the beginning of each t...</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00079">test_cdr.c:79</a></div></div>
<div class="ttc" id="test__cdr_8c_html_ac2b699afc1547e0d4f71ece789ee21e1"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#ac2b699afc1547e0d4f71ece789ee21e1">HANGUP_CHANNEL</a></div><div class="ttdeci">#define HANGUP_CHANNEL(channel, cause)</div><div class="ttdoc">Hang up a test channel safely. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00303">test_cdr.c:303</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="test_8h_html_a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b">TEST_INIT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00207">test.h:207</a></div></div>
<div class="ttc" id="test_8h_html_aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c"><div class="ttname"><a href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c">AST_TEST_NOT_RUN</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00201">test.h:201</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a8739ae4d4e4305695b4deaebc79986f1"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a8739ae4d4e4305695b4deaebc79986f1">ALICE_CALLERID</a></div><div class="ttdeci">#define ALICE_CALLERID</div><div class="ttdoc">Alice&amp;#39;s Caller ID. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00216">test_cdr.c:216</a></div></div>
<div class="ttc" id="utils_8h_html_a1604b4d72144dd3d9f7da668e90337e9"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a></div><div class="ttdeci">#define RAII_VAR(vartype, varname, initval, dtor)</div><div class="ttdoc">Declare a variable that will call a destructor function when it goes out of scope. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00911">utils.h:911</a></div></div>
<div class="ttc" id="structast__party__caller_html"><div class="ttname"><a href="../../d4/d77/structast__party__caller.html">ast_party_caller</a></div><div class="ttdoc">Caller Party information. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l00419">channel.h:419</a></div></div>
<div class="ttc" id="test__cdr_8c_html_aabfd96ef82edc19b680e65889e005c93"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#aabfd96ef82edc19b680e65889e005c93">verify_mock_cdr_record</a></div><div class="ttdeci">static enum ast_test_result_state verify_mock_cdr_record(struct ast_test *test, struct ast_cdr *expected, int record)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00310">test_cdr.c:310</a></div></div>
<div class="ttc" id="causes_8h_html_a7858ab2ba4858d98e29f0ea54980313c"><div class="ttname"><a href="../../d4/da3/causes_8h.html#a7858ab2ba4858d98e29f0ea54980313c">AST_CAUSE_NORMAL</a></div><div class="ttdeci">#define AST_CAUSE_NORMAL</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/da3/causes_8h_source.html#l00150">causes.h:150</a></div></div>
<div class="ttc" id="structast__cdr_html"><div class="ttname"><a href="../../d4/d5d/structast__cdr.html">ast_cdr</a></div><div class="ttdoc">Responsible for call detail data. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00276">cdr.h:276</a></div></div>
<div class="ttc" id="namespacesip__to__pjsip_html_ab82f408a83ecba10ea39afd8abfd371e"><div class="ttname"><a href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">sip_to_pjsip.info</a></div><div class="ttdeci">def info(msg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d6f/sip__to__pjsip_8py_source.html#l01313">sip_to_pjsip.py:1313</a></div></div>
<div class="ttc" id="astobj2_8h_html_ae0422b60d8e25b6962b2d61ae4ddf724"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ae0422b60d8e25b6962b2d61ae4ddf724">ao2_alloc</a></div><div class="ttdeci">#define ao2_alloc(data_size, destructor_fn)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00411">astobj2.h:411</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a5722136884f356e886185ddd4f58e97a"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a5722136884f356e886185ddd4f58e97a">unanswered_cdr_config</a></div><div class="ttdeci">static struct ast_cdr_config unanswered_cdr_config</div><div class="ttdoc">A configuration suitable for CDRs with unanswered records. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00066">test_cdr.c:66</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a86d2cbfb5a0c115147944a541cc355e0"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a></div><div class="ttdeci">#define CHANNEL_TECH_NAME</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00055">test_cdr.c:55</a></div></div>
<div class="ttc" id="structtest_html"><div class="ttname"><a href="../../d8/d89/structtest.html">test</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d7d/test__logger_8c_source.html#l00043">test_logger.c:43</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="cel__pgsql_8c_html_ad6c487210772a9b4b0ca04b04b847d4c"><div class="ttname"><a href="../../de/d1b/cel__pgsql_8c.html#ad6c487210772a9b4b0ca04b04b847d4c">result</a></div><div class="ttdeci">static PGresult * result</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1b/cel__pgsql_8c_source.html#l00088">cel_pgsql.c:88</a></div></div>
<div class="ttc" id="structast__cdr__config_html"><div class="ttname"><a href="../../d4/d69/structast__cdr__config.html">ast_cdr_config</a></div><div class="ttdoc">The global options available for CDRs. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00264">cdr.h:264</a></div></div>
<div class="ttc" id="structast__cdr_html_ab7fd8bddf0ce6987ae5e58fb64cfc9e2"><div class="ttname"><a href="../../d4/d5d/structast__cdr.html#ab7fd8bddf0ce6987ae5e58fb64cfc9e2">ast_cdr::clid</a></div><div class="ttdeci">char clid[AST_MAX_EXTENSION]</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00278">cdr.h:278</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a987d4f1e5d92597fac228fa99bcb56be"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a987d4f1e5d92597fac228fa99bcb56be">safe_channel_release</a></div><div class="ttdeci">static void safe_channel_release(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00371">test_cdr.c:371</a></div></div>
<div class="ttc" id="test_8h_html_aad2aec78205d328d23894a6598cc4044"><div class="ttname"><a href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044">ast_test_result_state</a></div><div class="ttdeci">ast_test_result_state</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00200">test.h:200</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a822ef21f508697f646880f6ffb7c545b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a822ef21f508697f646880f6ffb7c545b">&#9670;&nbsp;</a></span>AST_TEST_DEFINE() <span class="overload">[2/24]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AST_TEST_DEFINE </td>
          <td>(</td>
          <td class="paramtype">test_cdr_unanswered_inbound_call&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00435">435</a> of file <a class="el" href="../../d7/d8e/test__cdr_8c_source.html">test_cdr.c</a>.</p>

<p class="reference">References <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00216">ALICE_CALLERID</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00411">ao2_alloc</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l01182">AST_AMA_DOCUMENTATION</a>, <a class="el" href="../../d4/da3/causes_8h_source.html#l00150">AST_CAUSE_NORMAL</a>, <a class="el" href="../../dc/d07/cdr_8h_source.html#l00254">AST_CDR_NOANSWER</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00201">AST_TEST_NOT_RUN</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00055">CHANNEL_TECH_NAME</a>, <a class="el" href="../../dc/d07/cdr_8h_source.html#l00278">ast_cdr::clid</a>, <a class="el" href="../../de/dcc/conf2ael_8c_source.html#l00066">config</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00248">CREATE_ALICE_CHANNEL</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00291">EMULATE_APP_DATA</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00303">HANGUP_CHANNEL</a>, <a class="el" href="../../d9/d6f/sip__to__pjsip_8py_source.html#l01313">sip_to_pjsip::info()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00911">RAII_VAR</a>, <a class="el" href="../../de/d1b/cel__pgsql_8c_source.html#l00088">result</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00371">safe_channel_release()</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00079">SWAP_CONFIG</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00051">TEST_CATEGORY</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00208">TEST_EXECUTE</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00207">TEST_INIT</a>, and <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00310">verify_mock_cdr_record()</a>.</p>
<div class="fragment"><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;{</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *, chan, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d7/d8e/test__cdr_8c.html#a987d4f1e5d92597fac228fa99bcb56be">safe_channel_release</a>);</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d4/d69/structast__cdr__config.html">ast_cdr_config</a> *, <a class="code" href="../../de/dcc/conf2ael_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#ae0422b60d8e25b6962b2d61ae4ddf724">ao2_alloc</a>(<span class="keyword">sizeof</span>(*<a class="code" href="../../de/dcc/conf2ael_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a>), <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>),</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;         <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d77/structast__party__caller.html">ast_party_caller</a> caller = <a class="code" href="../../d7/d8e/test__cdr_8c.html#a8739ae4d4e4305695b4deaebc79986f1">ALICE_CALLERID</a>;</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d5d/structast__cdr.html">ast_cdr</a> expected = {</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;      .<a class="code" href="../../d4/d5d/structast__cdr.html#ab7fd8bddf0ce6987ae5e58fb64cfc9e2">clid</a> = <span class="stringliteral">&quot;\&quot;Alice\&quot; &lt;100&gt;&quot;</span>,</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;      .src = <span class="stringliteral">&quot;100&quot;</span>,</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;      .dst = <span class="stringliteral">&quot;100&quot;</span>,</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;      .dcontext = <span class="stringliteral">&quot;default&quot;</span>,</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;      .channel = <a class="code" href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a> <span class="stringliteral">&quot;/Alice&quot;</span>,</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;      .lastapp = <span class="stringliteral">&quot;Wait&quot;</span>,</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;      .lastdata = <span class="stringliteral">&quot;1&quot;</span>,</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;      .amaflags = <a class="code" href="../../d5/d7b/channel_8h.html#a784b9642d6e2862b04b7f970b337549fa57aa76a632aa16d12a92e43b81c32a68">AST_AMA_DOCUMENTATION</a>,</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;      .disposition = <a class="code" href="../../dc/d07/cdr_8h.html#a53e2666db1174cc83384daf9049023c0a2ae5ddf52a9d2a20fc4af7b9e5dde283">AST_CDR_NOANSWER</a>,</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;      .accountcode = <span class="stringliteral">&quot;100&quot;</span>,</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;   };</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;   <span class="keyword">enum</span> <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044">ast_test_result_state</a> <a class="code" href="../../de/d1b/cel__pgsql_8c.html#ad6c487210772a9b4b0ca04b04b847d4c">result</a> = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c">AST_TEST_NOT_RUN</a>;</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;   <span class="keywordflow">switch</span> (cmd) {</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b">TEST_INIT</a>:</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;name = __func__;</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;category = <a class="code" href="../../d7/d8e/test__cdr_8c.html#add35ea2349b86888eef95d404e6faebf">TEST_CATEGORY</a>;</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;summary = <span class="stringliteral">&quot;Test inbound unanswered calls&quot;</span>;</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;description =</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;         <span class="stringliteral">&quot;Test the properties of a CDR for a call that is\n&quot;</span></div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;         <span class="stringliteral">&quot;inbound to Asterisk, executes some dialplan, but\n&quot;</span></div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;         <span class="stringliteral">&quot;is never answered.&quot;</span>;</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c">AST_TEST_NOT_RUN</a>;</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e">TEST_EXECUTE</a>:</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;   }</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#a1ccf26b207f6e00ee0ece3e227de42a1">SWAP_CONFIG</a>(<a class="code" href="../../de/dcc/conf2ael_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a>, <a class="code" href="../../d7/d8e/test__cdr_8c.html#a5722136884f356e886185ddd4f58e97a">unanswered_cdr_config</a>);</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#a1ed3332fe918eafa4f3f79c131525249">CREATE_ALICE_CHANNEL</a>(chan, &amp;caller, &amp;expected);</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#ab91bafbff6fa458554e8745276c0b4d3">EMULATE_APP_DATA</a>(chan, 1, <span class="stringliteral">&quot;Wait&quot;</span>, <span class="stringliteral">&quot;1&quot;</span>);</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#ac2b699afc1547e0d4f71ece789ee21e1">HANGUP_CHANNEL</a>(chan, <a class="code" href="../../d4/da3/causes_8h.html#a7858ab2ba4858d98e29f0ea54980313c">AST_CAUSE_NORMAL</a>);</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;   result = <a class="code" href="../../d7/d8e/test__cdr_8c.html#aabfd96ef82edc19b680e65889e005c93">verify_mock_cdr_record</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, &amp;expected, 1);</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../de/d1b/cel__pgsql_8c.html#ad6c487210772a9b4b0ca04b04b847d4c">result</a>;</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;}</div><div class="ttc" id="test__cdr_8c_html_ab91bafbff6fa458554e8745276c0b4d3"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#ab91bafbff6fa458554e8745276c0b4d3">EMULATE_APP_DATA</a></div><div class="ttdeci">#define EMULATE_APP_DATA(channel, priority, application, data)</div><div class="ttdoc">Emulate a channel entering into an application. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00291">test_cdr.c:291</a></div></div>
<div class="ttc" id="structast__channel_html"><div class="ttname"><a href="../../df/d3c/structast__channel.html">ast_channel</a></div><div class="ttdoc">Main Channel structure associated with a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00073">channel_internal_api.c:73</a></div></div>
<div class="ttc" id="channel_8h_html_a784b9642d6e2862b04b7f970b337549fa57aa76a632aa16d12a92e43b81c32a68"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a784b9642d6e2862b04b7f970b337549fa57aa76a632aa16d12a92e43b81c32a68">AST_AMA_DOCUMENTATION</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01182">channel.h:1182</a></div></div>
<div class="ttc" id="conf2ael_8c_html_a74bb62276efdf39dd94048e007fca05b"><div class="ttname"><a href="../../de/dcc/conf2ael_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a></div><div class="ttdeci">char * config</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcc/conf2ael_8c_source.html#l00066">conf2ael.c:66</a></div></div>
<div class="ttc" id="test__cdr_8c_html_add35ea2349b86888eef95d404e6faebf"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#add35ea2349b86888eef95d404e6faebf">TEST_CATEGORY</a></div><div class="ttdeci">#define TEST_CATEGORY</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00051">test_cdr.c:51</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a1ed3332fe918eafa4f3f79c131525249"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a1ed3332fe918eafa4f3f79c131525249">CREATE_ALICE_CHANNEL</a></div><div class="ttdeci">#define CREATE_ALICE_CHANNEL(channel_var, caller_id, expected_record)</div><div class="ttdoc">Create a test_cdr_chan_tech for Alice, and set the expected CDR records&amp;#39; linkedid and uniqueid...</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00248">test_cdr.c:248</a></div></div>
<div class="ttc" id="test_8h_html_a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e">TEST_EXECUTE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00208">test.h:208</a></div></div>
<div class="ttc" id="cdr_8h_html_a53e2666db1174cc83384daf9049023c0a2ae5ddf52a9d2a20fc4af7b9e5dde283"><div class="ttname"><a href="../../dc/d07/cdr_8h.html#a53e2666db1174cc83384daf9049023c0a2ae5ddf52a9d2a20fc4af7b9e5dde283">AST_CDR_NOANSWER</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00254">cdr.h:254</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a1ccf26b207f6e00ee0ece3e227de42a1"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a1ccf26b207f6e00ee0ece3e227de42a1">SWAP_CONFIG</a></div><div class="ttdeci">#define SWAP_CONFIG(ao2_config, template)</div><div class="ttdoc">Macro to swap a configuration out from the CDR engine. This should be used at the beginning of each t...</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00079">test_cdr.c:79</a></div></div>
<div class="ttc" id="test__cdr_8c_html_ac2b699afc1547e0d4f71ece789ee21e1"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#ac2b699afc1547e0d4f71ece789ee21e1">HANGUP_CHANNEL</a></div><div class="ttdeci">#define HANGUP_CHANNEL(channel, cause)</div><div class="ttdoc">Hang up a test channel safely. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00303">test_cdr.c:303</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="test_8h_html_a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b">TEST_INIT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00207">test.h:207</a></div></div>
<div class="ttc" id="test_8h_html_aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c"><div class="ttname"><a href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c">AST_TEST_NOT_RUN</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00201">test.h:201</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a8739ae4d4e4305695b4deaebc79986f1"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a8739ae4d4e4305695b4deaebc79986f1">ALICE_CALLERID</a></div><div class="ttdeci">#define ALICE_CALLERID</div><div class="ttdoc">Alice&amp;#39;s Caller ID. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00216">test_cdr.c:216</a></div></div>
<div class="ttc" id="utils_8h_html_a1604b4d72144dd3d9f7da668e90337e9"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a></div><div class="ttdeci">#define RAII_VAR(vartype, varname, initval, dtor)</div><div class="ttdoc">Declare a variable that will call a destructor function when it goes out of scope. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00911">utils.h:911</a></div></div>
<div class="ttc" id="structast__party__caller_html"><div class="ttname"><a href="../../d4/d77/structast__party__caller.html">ast_party_caller</a></div><div class="ttdoc">Caller Party information. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l00419">channel.h:419</a></div></div>
<div class="ttc" id="test__cdr_8c_html_aabfd96ef82edc19b680e65889e005c93"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#aabfd96ef82edc19b680e65889e005c93">verify_mock_cdr_record</a></div><div class="ttdeci">static enum ast_test_result_state verify_mock_cdr_record(struct ast_test *test, struct ast_cdr *expected, int record)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00310">test_cdr.c:310</a></div></div>
<div class="ttc" id="causes_8h_html_a7858ab2ba4858d98e29f0ea54980313c"><div class="ttname"><a href="../../d4/da3/causes_8h.html#a7858ab2ba4858d98e29f0ea54980313c">AST_CAUSE_NORMAL</a></div><div class="ttdeci">#define AST_CAUSE_NORMAL</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/da3/causes_8h_source.html#l00150">causes.h:150</a></div></div>
<div class="ttc" id="structast__cdr_html"><div class="ttname"><a href="../../d4/d5d/structast__cdr.html">ast_cdr</a></div><div class="ttdoc">Responsible for call detail data. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00276">cdr.h:276</a></div></div>
<div class="ttc" id="namespacesip__to__pjsip_html_ab82f408a83ecba10ea39afd8abfd371e"><div class="ttname"><a href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">sip_to_pjsip.info</a></div><div class="ttdeci">def info(msg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d6f/sip__to__pjsip_8py_source.html#l01313">sip_to_pjsip.py:1313</a></div></div>
<div class="ttc" id="astobj2_8h_html_ae0422b60d8e25b6962b2d61ae4ddf724"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ae0422b60d8e25b6962b2d61ae4ddf724">ao2_alloc</a></div><div class="ttdeci">#define ao2_alloc(data_size, destructor_fn)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00411">astobj2.h:411</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a5722136884f356e886185ddd4f58e97a"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a5722136884f356e886185ddd4f58e97a">unanswered_cdr_config</a></div><div class="ttdeci">static struct ast_cdr_config unanswered_cdr_config</div><div class="ttdoc">A configuration suitable for CDRs with unanswered records. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00066">test_cdr.c:66</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a86d2cbfb5a0c115147944a541cc355e0"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a></div><div class="ttdeci">#define CHANNEL_TECH_NAME</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00055">test_cdr.c:55</a></div></div>
<div class="ttc" id="structtest_html"><div class="ttname"><a href="../../d8/d89/structtest.html">test</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d7d/test__logger_8c_source.html#l00043">test_logger.c:43</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="cel__pgsql_8c_html_ad6c487210772a9b4b0ca04b04b847d4c"><div class="ttname"><a href="../../de/d1b/cel__pgsql_8c.html#ad6c487210772a9b4b0ca04b04b847d4c">result</a></div><div class="ttdeci">static PGresult * result</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1b/cel__pgsql_8c_source.html#l00088">cel_pgsql.c:88</a></div></div>
<div class="ttc" id="structast__cdr__config_html"><div class="ttname"><a href="../../d4/d69/structast__cdr__config.html">ast_cdr_config</a></div><div class="ttdoc">The global options available for CDRs. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00264">cdr.h:264</a></div></div>
<div class="ttc" id="structast__cdr_html_ab7fd8bddf0ce6987ae5e58fb64cfc9e2"><div class="ttname"><a href="../../d4/d5d/structast__cdr.html#ab7fd8bddf0ce6987ae5e58fb64cfc9e2">ast_cdr::clid</a></div><div class="ttdeci">char clid[AST_MAX_EXTENSION]</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00278">cdr.h:278</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a987d4f1e5d92597fac228fa99bcb56be"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a987d4f1e5d92597fac228fa99bcb56be">safe_channel_release</a></div><div class="ttdeci">static void safe_channel_release(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00371">test_cdr.c:371</a></div></div>
<div class="ttc" id="test_8h_html_aad2aec78205d328d23894a6598cc4044"><div class="ttname"><a href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044">ast_test_result_state</a></div><div class="ttdeci">ast_test_result_state</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00200">test.h:200</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a7f0a63d3413a8b74782dc623e203d0e2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f0a63d3413a8b74782dc623e203d0e2">&#9670;&nbsp;</a></span>AST_TEST_DEFINE() <span class="overload">[3/24]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AST_TEST_DEFINE </td>
          <td>(</td>
          <td class="paramtype">test_cdr_unanswered_outbound_call&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00483">483</a> of file <a class="el" href="../../d7/d8e/test__cdr_8c_source.html">test_cdr.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00411">ao2_alloc</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l01182">AST_AMA_DOCUMENTATION</a>, <a class="el" href="../../d4/da3/causes_8h_source.html#l00150">AST_CAUSE_NORMAL</a>, <a class="el" href="../../dc/d07/cdr_8h_source.html#l00254">AST_CDR_NOANSWER</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00348">ast_channel_context_set()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00357">ast_channel_exten_set()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l01260">ast_channel_flags()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l01040">AST_FLAG_ORIGINATED</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00070">ast_set_flag</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00201">AST_TEST_NOT_RUN</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00055">CHANNEL_TECH_NAME</a>, <a class="el" href="../../dc/d07/cdr_8h_source.html#l00278">ast_cdr::clid</a>, <a class="el" href="../../de/dcc/conf2ael_8c_source.html#l00066">config</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00248">CREATE_ALICE_CHANNEL</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00291">EMULATE_APP_DATA</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00303">HANGUP_CHANNEL</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l00421">ast_party_caller::id</a>, <a class="el" href="../../d9/d6f/sip__to__pjsip_8py_source.html#l01313">sip_to_pjsip::info()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l00341">ast_party_id::name</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00911">RAII_VAR</a>, <a class="el" href="../../de/d1b/cel__pgsql_8c_source.html#l00088">result</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00371">safe_channel_release()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l00265">ast_party_name::str</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00079">SWAP_CONFIG</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00051">TEST_CATEGORY</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00208">TEST_EXECUTE</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00207">TEST_INIT</a>, and <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00310">verify_mock_cdr_record()</a>.</p>
<div class="fragment"><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;{</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *, chan, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d7/d8e/test__cdr_8c.html#a987d4f1e5d92597fac228fa99bcb56be">safe_channel_release</a>);</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d4/d69/structast__cdr__config.html">ast_cdr_config</a> *, <a class="code" href="../../de/dcc/conf2ael_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#ae0422b60d8e25b6962b2d61ae4ddf724">ao2_alloc</a>(<span class="keyword">sizeof</span>(*<a class="code" href="../../de/dcc/conf2ael_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a>), <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>),</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;         <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d77/structast__party__caller.html">ast_party_caller</a> caller = {</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;         .<a class="code" href="../../d4/d77/structast__party__caller.html#a8791d240f8a9c2dc271a1c8542cfe8cc">id</a>.<a class="code" href="../../d1/dcb/structast__party__id.html#aab4036618469f3fa9ab26a22726ba2db">name</a>.<a class="code" href="../../d8/d6f/structast__party__name.html#ab50d783982593ef993ea0b68f7ad8b80">str</a> = <span class="stringliteral">&quot;&quot;</span>,</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;         .id.name.valid = 1,</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;         .id.number.str = <span class="stringliteral">&quot;&quot;</span>,</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;         .id.number.valid = 1, };</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d5d/structast__cdr.html">ast_cdr</a> expected = {</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;      .<a class="code" href="../../d4/d5d/structast__cdr.html#ab7fd8bddf0ce6987ae5e58fb64cfc9e2">clid</a> = <span class="stringliteral">&quot;\&quot;\&quot; &lt;&gt;&quot;</span>,</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;      .dst = <span class="stringliteral">&quot;s&quot;</span>,</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;      .dcontext = <span class="stringliteral">&quot;default&quot;</span>,</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;      .channel = <a class="code" href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a> <span class="stringliteral">&quot;/Alice&quot;</span>,</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;      .lastapp = <span class="stringliteral">&quot;AppDial&quot;</span>,</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;      .lastdata = <span class="stringliteral">&quot;(Outgoing Line)&quot;</span>,</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;      .amaflags = <a class="code" href="../../d5/d7b/channel_8h.html#a784b9642d6e2862b04b7f970b337549fa57aa76a632aa16d12a92e43b81c32a68">AST_AMA_DOCUMENTATION</a>,</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;      .disposition = <a class="code" href="../../dc/d07/cdr_8h.html#a53e2666db1174cc83384daf9049023c0a2ae5ddf52a9d2a20fc4af7b9e5dde283">AST_CDR_NOANSWER</a>,</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;      .accountcode = <span class="stringliteral">&quot;100&quot;</span>,</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;   };</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;   <span class="keyword">enum</span> <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044">ast_test_result_state</a> <a class="code" href="../../de/d1b/cel__pgsql_8c.html#ad6c487210772a9b4b0ca04b04b847d4c">result</a> = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c">AST_TEST_NOT_RUN</a>;</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;   <span class="keywordflow">switch</span> (cmd) {</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b">TEST_INIT</a>:</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;name = __func__;</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;category = <a class="code" href="../../d7/d8e/test__cdr_8c.html#add35ea2349b86888eef95d404e6faebf">TEST_CATEGORY</a>;</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;summary = <span class="stringliteral">&quot;Test outbound unanswered calls&quot;</span>;</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;description =</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;         <span class="stringliteral">&quot;Test the properties of a CDR for a call that is\n&quot;</span></div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;         <span class="stringliteral">&quot;outbound to Asterisk but is never answered.&quot;</span>;</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c">AST_TEST_NOT_RUN</a>;</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e">TEST_EXECUTE</a>:</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;   }</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#a1ccf26b207f6e00ee0ece3e227de42a1">SWAP_CONFIG</a>(<a class="code" href="../../de/dcc/conf2ael_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a>, <a class="code" href="../../d7/d8e/test__cdr_8c.html#a5722136884f356e886185ddd4f58e97a">unanswered_cdr_config</a>);</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#a1ed3332fe918eafa4f3f79c131525249">CREATE_ALICE_CHANNEL</a>(chan, &amp;caller, &amp;expected);</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a018b7a29cef2d62074dc46e9aaad0d1a">ast_channel_exten_set</a>(chan, <span class="stringliteral">&quot;s&quot;</span>);</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#aca211972dac7b8f3f08a283bfe0aa8bf">ast_channel_context_set</a>(chan, <span class="stringliteral">&quot;default&quot;</span>);</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#ab5033a1f3d781d45e7ccc27598114510">ast_set_flag</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a91de92158876186d28ba1773877f2732">ast_channel_flags</a>(chan), <a class="code" href="../../d5/d7b/channel_8h.html#a82f2c6e4d47f62f6b65c5887eb096fd5ae9c1c04502304018b62d1e5383ccacb3">AST_FLAG_ORIGINATED</a>);</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#ab91bafbff6fa458554e8745276c0b4d3">EMULATE_APP_DATA</a>(chan, 0, <span class="stringliteral">&quot;AppDial&quot;</span>, <span class="stringliteral">&quot;(Outgoing Line)&quot;</span>);</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#ac2b699afc1547e0d4f71ece789ee21e1">HANGUP_CHANNEL</a>(chan, <a class="code" href="../../d4/da3/causes_8h.html#a7858ab2ba4858d98e29f0ea54980313c">AST_CAUSE_NORMAL</a>);</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;   result = <a class="code" href="../../d7/d8e/test__cdr_8c.html#aabfd96ef82edc19b680e65889e005c93">verify_mock_cdr_record</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, &amp;expected, 1);</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../de/d1b/cel__pgsql_8c.html#ad6c487210772a9b4b0ca04b04b847d4c">result</a>;</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;}</div><div class="ttc" id="test__cdr_8c_html_ab91bafbff6fa458554e8745276c0b4d3"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#ab91bafbff6fa458554e8745276c0b4d3">EMULATE_APP_DATA</a></div><div class="ttdeci">#define EMULATE_APP_DATA(channel, priority, application, data)</div><div class="ttdoc">Emulate a channel entering into an application. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00291">test_cdr.c:291</a></div></div>
<div class="ttc" id="structast__channel_html"><div class="ttname"><a href="../../df/d3c/structast__channel.html">ast_channel</a></div><div class="ttdoc">Main Channel structure associated with a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00073">channel_internal_api.c:73</a></div></div>
<div class="ttc" id="channel_8h_html_a784b9642d6e2862b04b7f970b337549fa57aa76a632aa16d12a92e43b81c32a68"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a784b9642d6e2862b04b7f970b337549fa57aa76a632aa16d12a92e43b81c32a68">AST_AMA_DOCUMENTATION</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01182">channel.h:1182</a></div></div>
<div class="ttc" id="conf2ael_8c_html_a74bb62276efdf39dd94048e007fca05b"><div class="ttname"><a href="../../de/dcc/conf2ael_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a></div><div class="ttdeci">char * config</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcc/conf2ael_8c_source.html#l00066">conf2ael.c:66</a></div></div>
<div class="ttc" id="structast__party__id_html_aab4036618469f3fa9ab26a22726ba2db"><div class="ttname"><a href="../../d1/dcb/structast__party__id.html#aab4036618469f3fa9ab26a22726ba2db">ast_party_id::name</a></div><div class="ttdeci">struct ast_party_name name</div><div class="ttdoc">Subscriber name. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l00341">channel.h:341</a></div></div>
<div class="ttc" id="test__cdr_8c_html_add35ea2349b86888eef95d404e6faebf"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#add35ea2349b86888eef95d404e6faebf">TEST_CATEGORY</a></div><div class="ttdeci">#define TEST_CATEGORY</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00051">test_cdr.c:51</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a1ed3332fe918eafa4f3f79c131525249"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a1ed3332fe918eafa4f3f79c131525249">CREATE_ALICE_CHANNEL</a></div><div class="ttdeci">#define CREATE_ALICE_CHANNEL(channel_var, caller_id, expected_record)</div><div class="ttdoc">Create a test_cdr_chan_tech for Alice, and set the expected CDR records&amp;#39; linkedid and uniqueid...</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00248">test_cdr.c:248</a></div></div>
<div class="ttc" id="test_8h_html_a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e">TEST_EXECUTE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00208">test.h:208</a></div></div>
<div class="ttc" id="utils_8h_html_ab5033a1f3d781d45e7ccc27598114510"><div class="ttname"><a href="../../d5/d60/utils_8h.html#ab5033a1f3d781d45e7ccc27598114510">ast_set_flag</a></div><div class="ttdeci">#define ast_set_flag(p, flag)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00070">utils.h:70</a></div></div>
<div class="ttc" id="cdr_8h_html_a53e2666db1174cc83384daf9049023c0a2ae5ddf52a9d2a20fc4af7b9e5dde283"><div class="ttname"><a href="../../dc/d07/cdr_8h.html#a53e2666db1174cc83384daf9049023c0a2ae5ddf52a9d2a20fc4af7b9e5dde283">AST_CDR_NOANSWER</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00254">cdr.h:254</a></div></div>
<div class="ttc" id="structast__party__name_html_ab50d783982593ef993ea0b68f7ad8b80"><div class="ttname"><a href="../../d8/d6f/structast__party__name.html#ab50d783982593ef993ea0b68f7ad8b80">ast_party_name::str</a></div><div class="ttdeci">char * str</div><div class="ttdoc">Subscriber name (Malloced) </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l00265">channel.h:265</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a1ccf26b207f6e00ee0ece3e227de42a1"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a1ccf26b207f6e00ee0ece3e227de42a1">SWAP_CONFIG</a></div><div class="ttdeci">#define SWAP_CONFIG(ao2_config, template)</div><div class="ttdoc">Macro to swap a configuration out from the CDR engine. This should be used at the beginning of each t...</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00079">test_cdr.c:79</a></div></div>
<div class="ttc" id="test__cdr_8c_html_ac2b699afc1547e0d4f71ece789ee21e1"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#ac2b699afc1547e0d4f71ece789ee21e1">HANGUP_CHANNEL</a></div><div class="ttdeci">#define HANGUP_CHANNEL(channel, cause)</div><div class="ttdoc">Hang up a test channel safely. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00303">test_cdr.c:303</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="test_8h_html_a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b">TEST_INIT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00207">test.h:207</a></div></div>
<div class="ttc" id="test_8h_html_aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c"><div class="ttname"><a href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c">AST_TEST_NOT_RUN</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00201">test.h:201</a></div></div>
<div class="ttc" id="structast__party__caller_html_a8791d240f8a9c2dc271a1c8542cfe8cc"><div class="ttname"><a href="../../d4/d77/structast__party__caller.html#a8791d240f8a9c2dc271a1c8542cfe8cc">ast_party_caller::id</a></div><div class="ttdeci">struct ast_party_id id</div><div class="ttdoc">Caller party ID. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l00421">channel.h:421</a></div></div>
<div class="ttc" id="utils_8h_html_a1604b4d72144dd3d9f7da668e90337e9"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a></div><div class="ttdeci">#define RAII_VAR(vartype, varname, initval, dtor)</div><div class="ttdoc">Declare a variable that will call a destructor function when it goes out of scope. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00911">utils.h:911</a></div></div>
<div class="ttc" id="structast__party__caller_html"><div class="ttname"><a href="../../d4/d77/structast__party__caller.html">ast_party_caller</a></div><div class="ttdoc">Caller Party information. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l00419">channel.h:419</a></div></div>
<div class="ttc" id="test__cdr_8c_html_aabfd96ef82edc19b680e65889e005c93"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#aabfd96ef82edc19b680e65889e005c93">verify_mock_cdr_record</a></div><div class="ttdeci">static enum ast_test_result_state verify_mock_cdr_record(struct ast_test *test, struct ast_cdr *expected, int record)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00310">test_cdr.c:310</a></div></div>
<div class="ttc" id="causes_8h_html_a7858ab2ba4858d98e29f0ea54980313c"><div class="ttname"><a href="../../d4/da3/causes_8h.html#a7858ab2ba4858d98e29f0ea54980313c">AST_CAUSE_NORMAL</a></div><div class="ttdeci">#define AST_CAUSE_NORMAL</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/da3/causes_8h_source.html#l00150">causes.h:150</a></div></div>
<div class="ttc" id="structast__cdr_html"><div class="ttname"><a href="../../d4/d5d/structast__cdr.html">ast_cdr</a></div><div class="ttdoc">Responsible for call detail data. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00276">cdr.h:276</a></div></div>
<div class="ttc" id="namespacesip__to__pjsip_html_ab82f408a83ecba10ea39afd8abfd371e"><div class="ttname"><a href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">sip_to_pjsip.info</a></div><div class="ttdeci">def info(msg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d6f/sip__to__pjsip_8py_source.html#l01313">sip_to_pjsip.py:1313</a></div></div>
<div class="ttc" id="astobj2_8h_html_ae0422b60d8e25b6962b2d61ae4ddf724"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ae0422b60d8e25b6962b2d61ae4ddf724">ao2_alloc</a></div><div class="ttdeci">#define ao2_alloc(data_size, destructor_fn)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00411">astobj2.h:411</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a5722136884f356e886185ddd4f58e97a"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a5722136884f356e886185ddd4f58e97a">unanswered_cdr_config</a></div><div class="ttdeci">static struct ast_cdr_config unanswered_cdr_config</div><div class="ttdoc">A configuration suitable for CDRs with unanswered records. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00066">test_cdr.c:66</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a86d2cbfb5a0c115147944a541cc355e0"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a></div><div class="ttdeci">#define CHANNEL_TECH_NAME</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00055">test_cdr.c:55</a></div></div>
<div class="ttc" id="structtest_html"><div class="ttname"><a href="../../d8/d89/structtest.html">test</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d7d/test__logger_8c_source.html#l00043">test_logger.c:43</a></div></div>
<div class="ttc" id="channel_8h_html_a018b7a29cef2d62074dc46e9aaad0d1a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a018b7a29cef2d62074dc46e9aaad0d1a">ast_channel_exten_set</a></div><div class="ttdeci">void ast_channel_exten_set(struct ast_channel *chan, const char *value)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00357">channel_internal_api.c:357</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="channel_8h_html_aca211972dac7b8f3f08a283bfe0aa8bf"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#aca211972dac7b8f3f08a283bfe0aa8bf">ast_channel_context_set</a></div><div class="ttdeci">void ast_channel_context_set(struct ast_channel *chan, const char *value)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00348">channel_internal_api.c:348</a></div></div>
<div class="ttc" id="cel__pgsql_8c_html_ad6c487210772a9b4b0ca04b04b847d4c"><div class="ttname"><a href="../../de/d1b/cel__pgsql_8c.html#ad6c487210772a9b4b0ca04b04b847d4c">result</a></div><div class="ttdeci">static PGresult * result</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1b/cel__pgsql_8c_source.html#l00088">cel_pgsql.c:88</a></div></div>
<div class="ttc" id="structast__cdr__config_html"><div class="ttname"><a href="../../d4/d69/structast__cdr__config.html">ast_cdr_config</a></div><div class="ttdoc">The global options available for CDRs. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00264">cdr.h:264</a></div></div>
<div class="ttc" id="structast__cdr_html_ab7fd8bddf0ce6987ae5e58fb64cfc9e2"><div class="ttname"><a href="../../d4/d5d/structast__cdr.html#ab7fd8bddf0ce6987ae5e58fb64cfc9e2">ast_cdr::clid</a></div><div class="ttdeci">char clid[AST_MAX_EXTENSION]</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00278">cdr.h:278</a></div></div>
<div class="ttc" id="channel_8h_html_a91de92158876186d28ba1773877f2732"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a91de92158876186d28ba1773877f2732">ast_channel_flags</a></div><div class="ttdeci">struct ast_flags * ast_channel_flags(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l01260">channel_internal_api.c:1260</a></div></div>
<div class="ttc" id="channel_8h_html_a82f2c6e4d47f62f6b65c5887eb096fd5ae9c1c04502304018b62d1e5383ccacb3"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a82f2c6e4d47f62f6b65c5887eb096fd5ae9c1c04502304018b62d1e5383ccacb3">AST_FLAG_ORIGINATED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01040">channel.h:1040</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a987d4f1e5d92597fac228fa99bcb56be"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a987d4f1e5d92597fac228fa99bcb56be">safe_channel_release</a></div><div class="ttdeci">static void safe_channel_release(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00371">test_cdr.c:371</a></div></div>
<div class="ttc" id="test_8h_html_aad2aec78205d328d23894a6598cc4044"><div class="ttname"><a href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044">ast_test_result_state</a></div><div class="ttdeci">ast_test_result_state</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00200">test.h:200</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a0d2d435455f9c6db812fc7ff36e681c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d2d435455f9c6db812fc7ff36e681c5">&#9670;&nbsp;</a></span>AST_TEST_DEFINE() <span class="overload">[4/24]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AST_TEST_DEFINE </td>
          <td>(</td>
          <td class="paramtype">test_cdr_outbound_bridged_call&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00535">535</a> of file <a class="el" href="../../d7/d8e/test__cdr_8c_source.html">test_cdr.c</a>.</p>

<p class="reference">References <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00216">ALICE_CALLERID</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00411">ao2_alloc</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l01182">AST_AMA_DOCUMENTATION</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l03617">ast_bridge_basic_new()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l01952">ast_bridge_depart()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l01924">ast_bridge_impart()</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00602">AST_BRIDGE_IMPART_CHAN_DEPARTABLE</a>, <a class="el" href="../../d4/da3/causes_8h_source.html#l00150">AST_CAUSE_NORMAL</a>, <a class="el" href="../../dc/d07/cdr_8h_source.html#l00258">AST_CDR_ANSWERED</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l01259">ast_channel_alloc</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l01260">ast_channel_flags()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00311">ast_channel_linkedid()</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l00739">ast_channel_publish_dial()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00820">ast_channel_state_set()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00305">ast_channel_uniqueid()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00401">ast_copy_string()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l01040">AST_FLAG_ORIGINATED</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l01000">AST_FLAG_OUTGOING</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00070">ast_set_flag</a>, <a class="el" href="../../d9/d95/channelstate_8h_source.html#l00036">AST_STATE_DOWN</a>, <a class="el" href="../../d9/d95/channelstate_8h_source.html#l00041">AST_STATE_RINGING</a>, <a class="el" href="../../d9/d95/channelstate_8h_source.html#l00042">AST_STATE_UP</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00201">AST_TEST_NOT_RUN</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00055">CHANNEL_TECH_NAME</a>, <a class="el" href="../../dc/d07/cdr_8h_source.html#l00278">ast_cdr::clid</a>, <a class="el" href="../../de/dcc/conf2ael_8c_source.html#l00066">config</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00248">CREATE_ALICE_CHANNEL</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00387">do_sleep()</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00291">EMULATE_APP_DATA</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00303">HANGUP_CHANNEL</a>, <a class="el" href="../../d9/d6f/sip__to__pjsip_8py_source.html#l01313">sip_to_pjsip::info()</a>, <a class="el" href="../../dc/d07/cdr_8h_source.html#l00316">ast_cdr::linkedid</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00911">RAII_VAR</a>, <a class="el" href="../../de/d1b/cel__pgsql_8c_source.html#l00088">result</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00379">safe_bridge_destroy()</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00371">safe_channel_release()</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00234">SET_FORMATS</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00079">SWAP_CONFIG</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00051">TEST_CATEGORY</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00208">TEST_EXECUTE</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00207">TEST_INIT</a>, <a class="el" href="../../dc/d07/cdr_8h_source.html#l00314">ast_cdr::uniqueid</a>, and <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00310">verify_mock_cdr_record()</a>.</p>
<div class="fragment"><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;{</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *, chan_alice, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d7/d8e/test__cdr_8c.html#a987d4f1e5d92597fac228fa99bcb56be">safe_channel_release</a>);</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *, chan_bob, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d7/d8e/test__cdr_8c.html#a987d4f1e5d92597fac228fa99bcb56be">safe_channel_release</a>);</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *, bridge, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d7/d8e/test__cdr_8c.html#a4aab087f903dfe2609a124a828903cb5">safe_bridge_destroy</a>);</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d4/d69/structast__cdr__config.html">ast_cdr_config</a> *, <a class="code" href="../../de/dcc/conf2ael_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#ae0422b60d8e25b6962b2d61ae4ddf724">ao2_alloc</a>(<span class="keyword">sizeof</span>(*<a class="code" href="../../de/dcc/conf2ael_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a>), <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>),</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;         <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;   <span class="keyword">struct </span>timespec <a class="code" href="../../db/dc4/test__cel_8c.html#af600138406d2c64d06bf7dedf447cfc9">to_sleep</a> = {1, 0};</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;   <span class="keyword">enum</span> <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044">ast_test_result_state</a> <a class="code" href="../../de/d1b/cel__pgsql_8c.html#ad6c487210772a9b4b0ca04b04b847d4c">result</a> = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c">AST_TEST_NOT_RUN</a>;</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d77/structast__party__caller.html">ast_party_caller</a> caller = <a class="code" href="../../d7/d8e/test__cdr_8c.html#a8739ae4d4e4305695b4deaebc79986f1">ALICE_CALLERID</a>;</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d5d/structast__cdr.html">ast_cdr</a> alice_expected = {</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;      .<a class="code" href="../../d4/d5d/structast__cdr.html#ab7fd8bddf0ce6987ae5e58fb64cfc9e2">clid</a> = <span class="stringliteral">&quot;\&quot;Alice\&quot; &lt;100&gt;&quot;</span>,</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;      .src = <span class="stringliteral">&quot;100&quot;</span>,</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;      .dst = <span class="stringliteral">&quot;100&quot;</span>,</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;      .dcontext = <span class="stringliteral">&quot;default&quot;</span>,</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;      .channel = <a class="code" href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a> <span class="stringliteral">&quot;/Alice&quot;</span>,</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;      .dstchannel = <a class="code" href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a> <span class="stringliteral">&quot;/Bob&quot;</span>,</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;      .lastapp = <span class="stringliteral">&quot;&quot;</span>,</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;      .lastdata = <span class="stringliteral">&quot;&quot;</span>,</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;      .amaflags = <a class="code" href="../../d5/d7b/channel_8h.html#a784b9642d6e2862b04b7f970b337549fa57aa76a632aa16d12a92e43b81c32a68">AST_AMA_DOCUMENTATION</a>,</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;      .billsec = 1,</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;      .disposition = <a class="code" href="../../dc/d07/cdr_8h.html#a53e2666db1174cc83384daf9049023c0ac3e47d059a0e67a03f822f10bb7ec5b1">AST_CDR_ANSWERED</a>,</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;      .accountcode = <span class="stringliteral">&quot;100&quot;</span>,</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;      .peeraccount = <span class="stringliteral">&quot;200&quot;</span>,</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;   };</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d5d/structast__cdr.html">ast_cdr</a> bob_expected = {</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;      .<a class="code" href="../../d4/d5d/structast__cdr.html#ab7fd8bddf0ce6987ae5e58fb64cfc9e2">clid</a> = <span class="stringliteral">&quot;\&quot;\&quot; &lt;&gt;&quot;</span>,</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;      .src = <span class="stringliteral">&quot;&quot;</span>,</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;      .dst = <span class="stringliteral">&quot;s&quot;</span>,</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;      .dcontext = <span class="stringliteral">&quot;default&quot;</span>,</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;      .channel = <a class="code" href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a> <span class="stringliteral">&quot;/Bob&quot;</span>,</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;      .dstchannel = <span class="stringliteral">&quot;&quot;</span>,</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;      .lastapp = <span class="stringliteral">&quot;AppDial&quot;</span>,</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;      .lastdata = <span class="stringliteral">&quot;(Outgoing Line)&quot;</span>,</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;      .amaflags = <a class="code" href="../../d5/d7b/channel_8h.html#a784b9642d6e2862b04b7f970b337549fa57aa76a632aa16d12a92e43b81c32a68">AST_AMA_DOCUMENTATION</a>,</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;      .billsec = 1,</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;      .disposition = <a class="code" href="../../dc/d07/cdr_8h.html#a53e2666db1174cc83384daf9049023c0ac3e47d059a0e67a03f822f10bb7ec5b1">AST_CDR_ANSWERED</a>,</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;      .accountcode = <span class="stringliteral">&quot;200&quot;</span>,</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;      .peeraccount = <span class="stringliteral">&quot;&quot;</span>,</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;      .next = &amp;alice_expected,</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;   };</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;   <span class="keywordflow">switch</span> (cmd) {</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b">TEST_INIT</a>:</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;name = __func__;</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;category = <a class="code" href="../../d7/d8e/test__cdr_8c.html#add35ea2349b86888eef95d404e6faebf">TEST_CATEGORY</a>;</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;summary = <span class="stringliteral">&quot;Test dialing, answering, and going into a 2-party bridge&quot;</span>;</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;description =</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;         <span class="stringliteral">&quot;The most &#39;basic&#39; of scenarios&quot;</span>;</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c">AST_TEST_NOT_RUN</a>;</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e">TEST_EXECUTE</a>:</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;   }</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#a1ccf26b207f6e00ee0ece3e227de42a1">SWAP_CONFIG</a>(<a class="code" href="../../de/dcc/conf2ael_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a>, <a class="code" href="../../d7/d8e/test__cdr_8c.html#ac905defa905925ff383b4bc9d2f89e35">debug_cdr_config</a>);</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#a1ed3332fe918eafa4f3f79c131525249">CREATE_ALICE_CHANNEL</a>(chan_alice, &amp;caller, &amp;alice_expected);</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#acc7e03f08c0df9fe5f5ff801db51224d">ast_channel_state_set</a>(chan_alice, <a class="code" href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660aa8ab4bcda7378ccc17c39dfd880cba3d">AST_STATE_UP</a>);</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;   bridge = <a class="code" href="../../d4/d1e/bridge__basic_8h.html#a1410fb71fa67f9ee92f15b18439b7571">ast_bridge_basic_new</a>();</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;   ast_test_validate(<a class="code" href="../../d8/d89/structtest.html">test</a>, bridge != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#a638dca57ef13cc34a8d584246f5add00">do_sleep</a>(&amp;to_sleep);</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;   ast_test_validate(<a class="code" href="../../d8/d89/structtest.html">test</a>, !<a class="code" href="../../d4/d56/bridge_8h.html#a582e1dd73a483ac881cff01fa07f39ae">ast_bridge_impart</a>(bridge, chan_alice, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d4/d56/bridge_8h.html#ac086b7d74fb40c2ede8514274585b101a01be425a6fb9fefd36905b542e903087">AST_BRIDGE_IMPART_CHAN_DEPARTABLE</a>));</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;   chan_bob = <a class="code" href="../../d5/d7b/channel_8h.html#a2f18aafad0442206e71033ac6676dbb5">ast_channel_alloc</a>(0, <a class="code" href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660a81348336816e0a2f6f3a76da487a46dc">AST_STATE_DOWN</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="stringliteral">&quot;200&quot;</span>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, chan_alice, 0, <a class="code" href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a> <span class="stringliteral">&quot;/Bob&quot;</span>);</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#a7a53a18000fdffa1da8f2842a6513c87">SET_FORMATS</a>(chan_bob);</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan_bob);</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;   <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(bob_expected.<a class="code" href="../../d4/d5d/structast__cdr.html#a2979e8d95424c018bf2c830b28a199d0">linkedid</a>, <a class="code" href="../../d5/d7b/channel_8h.html#aa776071546e0bb0eb8cfc4c3a3159dfc">ast_channel_linkedid</a>(chan_bob), <span class="keyword">sizeof</span>(bob_expected.<a class="code" href="../../d4/d5d/structast__cdr.html#a2979e8d95424c018bf2c830b28a199d0">linkedid</a>));</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;   <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(bob_expected.<a class="code" href="../../d4/d5d/structast__cdr.html#ac733390e45613f1287d0b1b95e8d18ea">uniqueid</a>, <a class="code" href="../../d5/d7b/channel_8h.html#a3b6254f6d3832ef928f0a727113b1c63">ast_channel_uniqueid</a>(chan_bob), <span class="keyword">sizeof</span>(bob_expected.<a class="code" href="../../d4/d5d/structast__cdr.html#ac733390e45613f1287d0b1b95e8d18ea">uniqueid</a>));</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#ab5033a1f3d781d45e7ccc27598114510">ast_set_flag</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a91de92158876186d28ba1773877f2732">ast_channel_flags</a>(chan_bob), <a class="code" href="../../d5/d7b/channel_8h.html#a82f2c6e4d47f62f6b65c5887eb096fd5a36fa77a64746637c77c6b18a7999d0a2">AST_FLAG_OUTGOING</a>);</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#ab5033a1f3d781d45e7ccc27598114510">ast_set_flag</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a91de92158876186d28ba1773877f2732">ast_channel_flags</a>(chan_bob), <a class="code" href="../../d5/d7b/channel_8h.html#a82f2c6e4d47f62f6b65c5887eb096fd5ae9c1c04502304018b62d1e5383ccacb3">AST_FLAG_ORIGINATED</a>);</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#ab91bafbff6fa458554e8745276c0b4d3">EMULATE_APP_DATA</a>(chan_bob, 0, <span class="stringliteral">&quot;AppDial&quot;</span>, <span class="stringliteral">&quot;(Outgoing Line)&quot;</span>);</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;   <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#ga7d446221f9a272b003c4ad660a7e14dc">ast_channel_publish_dial</a>(<a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, chan_bob, <span class="stringliteral">&quot;Bob&quot;</span>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#acc7e03f08c0df9fe5f5ff801db51224d">ast_channel_state_set</a>(chan_bob, <a class="code" href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660a5bf03bd84f434acaeefdacb0096e1baa">AST_STATE_RINGING</a>);</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;   <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#ga7d446221f9a272b003c4ad660a7e14dc">ast_channel_publish_dial</a>(<a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, chan_bob, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="stringliteral">&quot;ANSWER&quot;</span>);</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#acc7e03f08c0df9fe5f5ff801db51224d">ast_channel_state_set</a>(chan_bob, <a class="code" href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660aa8ab4bcda7378ccc17c39dfd880cba3d">AST_STATE_UP</a>);</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#a638dca57ef13cc34a8d584246f5add00">do_sleep</a>(&amp;to_sleep);</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;   ast_test_validate(<a class="code" href="../../d8/d89/structtest.html">test</a>, !<a class="code" href="../../d4/d56/bridge_8h.html#a582e1dd73a483ac881cff01fa07f39ae">ast_bridge_impart</a>(bridge, chan_bob, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d4/d56/bridge_8h.html#ac086b7d74fb40c2ede8514274585b101a01be425a6fb9fefd36905b542e903087">AST_BRIDGE_IMPART_CHAN_DEPARTABLE</a>));</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#a638dca57ef13cc34a8d584246f5add00">do_sleep</a>(&amp;to_sleep);</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#a0075715d330c8492e03c6d3ca3f48e13">ast_bridge_depart</a>(chan_bob);</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#a0075715d330c8492e03c6d3ca3f48e13">ast_bridge_depart</a>(chan_alice);</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#ac2b699afc1547e0d4f71ece789ee21e1">HANGUP_CHANNEL</a>(chan_bob, <a class="code" href="../../d4/da3/causes_8h.html#a7858ab2ba4858d98e29f0ea54980313c">AST_CAUSE_NORMAL</a>);</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#ac2b699afc1547e0d4f71ece789ee21e1">HANGUP_CHANNEL</a>(chan_alice, <a class="code" href="../../d4/da3/causes_8h.html#a7858ab2ba4858d98e29f0ea54980313c">AST_CAUSE_NORMAL</a>);</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;   result = <a class="code" href="../../d7/d8e/test__cdr_8c.html#aabfd96ef82edc19b680e65889e005c93">verify_mock_cdr_record</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, &amp;bob_expected, 2);</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../de/d1b/cel__pgsql_8c.html#ad6c487210772a9b4b0ca04b04b847d4c">result</a>;</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;}</div><div class="ttc" id="test__cdr_8c_html_ab91bafbff6fa458554e8745276c0b4d3"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#ab91bafbff6fa458554e8745276c0b4d3">EMULATE_APP_DATA</a></div><div class="ttdeci">#define EMULATE_APP_DATA(channel, priority, application, data)</div><div class="ttdoc">Emulate a channel entering into an application. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00291">test_cdr.c:291</a></div></div>
<div class="ttc" id="structast__channel_html"><div class="ttname"><a href="../../df/d3c/structast__channel.html">ast_channel</a></div><div class="ttdoc">Main Channel structure associated with a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00073">channel_internal_api.c:73</a></div></div>
<div class="ttc" id="channel_8h_html_a784b9642d6e2862b04b7f970b337549fa57aa76a632aa16d12a92e43b81c32a68"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a784b9642d6e2862b04b7f970b337549fa57aa76a632aa16d12a92e43b81c32a68">AST_AMA_DOCUMENTATION</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01182">channel.h:1182</a></div></div>
<div class="ttc" id="channelstate_8h_html_a03585bc87e5bbd0f4d11bc789734c660a81348336816e0a2f6f3a76da487a46dc"><div class="ttname"><a href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660a81348336816e0a2f6f3a76da487a46dc">AST_STATE_DOWN</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d95/channelstate_8h_source.html#l00036">channelstate.h:36</a></div></div>
<div class="ttc" id="conf2ael_8c_html_a74bb62276efdf39dd94048e007fca05b"><div class="ttname"><a href="../../de/dcc/conf2ael_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a></div><div class="ttdeci">char * config</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcc/conf2ael_8c_source.html#l00066">conf2ael.c:66</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a638dca57ef13cc34a8d584246f5add00"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a638dca57ef13cc34a8d584246f5add00">do_sleep</a></div><div class="ttdeci">static void do_sleep(struct timespec *to_sleep)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00387">test_cdr.c:387</a></div></div>
<div class="ttc" id="group__StasisTopicsAndMessages_html_ga7d446221f9a272b003c4ad660a7e14dc"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#ga7d446221f9a272b003c4ad660a7e14dc">ast_channel_publish_dial</a></div><div class="ttdeci">void ast_channel_publish_dial(struct ast_channel *caller, struct ast_channel *peer, const char *dialstring, const char *dialstatus)</div><div class="ttdoc">Publish in the ast_channel_topic or ast_channel_topic_all topics a stasis message for the channels in...</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d2b/stasis__channels_8c_source.html#l00739">stasis_channels.c:739</a></div></div>
<div class="ttc" id="test__cdr_8c_html_add35ea2349b86888eef95d404e6faebf"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#add35ea2349b86888eef95d404e6faebf">TEST_CATEGORY</a></div><div class="ttdeci">#define TEST_CATEGORY</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00051">test_cdr.c:51</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a1ed3332fe918eafa4f3f79c131525249"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a1ed3332fe918eafa4f3f79c131525249">CREATE_ALICE_CHANNEL</a></div><div class="ttdeci">#define CREATE_ALICE_CHANNEL(channel_var, caller_id, expected_record)</div><div class="ttdoc">Create a test_cdr_chan_tech for Alice, and set the expected CDR records&amp;#39; linkedid and uniqueid...</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00248">test_cdr.c:248</a></div></div>
<div class="ttc" id="test_8h_html_a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e">TEST_EXECUTE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00208">test.h:208</a></div></div>
<div class="ttc" id="utils_8h_html_ab5033a1f3d781d45e7ccc27598114510"><div class="ttname"><a href="../../d5/d60/utils_8h.html#ab5033a1f3d781d45e7ccc27598114510">ast_set_flag</a></div><div class="ttdeci">#define ast_set_flag(p, flag)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00070">utils.h:70</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a7a53a18000fdffa1da8f2842a6513c87"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a7a53a18000fdffa1da8f2842a6513c87">SET_FORMATS</a></div><div class="ttdeci">#define SET_FORMATS(chan)</div><div class="ttdoc">Set ulaw format on channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00234">test_cdr.c:234</a></div></div>
<div class="ttc" id="cdr_8h_html_a53e2666db1174cc83384daf9049023c0ac3e47d059a0e67a03f822f10bb7ec5b1"><div class="ttname"><a href="../../dc/d07/cdr_8h.html#a53e2666db1174cc83384daf9049023c0ac3e47d059a0e67a03f822f10bb7ec5b1">AST_CDR_ANSWERED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00258">cdr.h:258</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a1ccf26b207f6e00ee0ece3e227de42a1"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a1ccf26b207f6e00ee0ece3e227de42a1">SWAP_CONFIG</a></div><div class="ttdeci">#define SWAP_CONFIG(ao2_config, template)</div><div class="ttdoc">Macro to swap a configuration out from the CDR engine. This should be used at the beginning of each t...</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00079">test_cdr.c:79</a></div></div>
<div class="ttc" id="channelstate_8h_html_a03585bc87e5bbd0f4d11bc789734c660aa8ab4bcda7378ccc17c39dfd880cba3d"><div class="ttname"><a href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660aa8ab4bcda7378ccc17c39dfd880cba3d">AST_STATE_UP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d95/channelstate_8h_source.html#l00042">channelstate.h:42</a></div></div>
<div class="ttc" id="test__cdr_8c_html_ac2b699afc1547e0d4f71ece789ee21e1"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#ac2b699afc1547e0d4f71ece789ee21e1">HANGUP_CHANNEL</a></div><div class="ttdeci">#define HANGUP_CHANNEL(channel, cause)</div><div class="ttdoc">Hang up a test channel safely. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00303">test_cdr.c:303</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="test_8h_html_a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b">TEST_INIT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00207">test.h:207</a></div></div>
<div class="ttc" id="test__cel_8c_html_af600138406d2c64d06bf7dedf447cfc9"><div class="ttname"><a href="../../db/dc4/test__cel_8c.html#af600138406d2c64d06bf7dedf447cfc9">to_sleep</a></div><div class="ttdeci">static struct timespec to_sleep</div><div class="ttdoc">A 1 second sleep. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/dc4/test__cel_8c_source.html#l00085">test_cel.c:85</a></div></div>
<div class="ttc" id="channel_8h_html_aa776071546e0bb0eb8cfc4c3a3159dfc"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#aa776071546e0bb0eb8cfc4c3a3159dfc">ast_channel_linkedid</a></div><div class="ttdeci">const char * ast_channel_linkedid(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00311">channel_internal_api.c:311</a></div></div>
<div class="ttc" id="test_8h_html_aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c"><div class="ttname"><a href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c">AST_TEST_NOT_RUN</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00201">test.h:201</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a8739ae4d4e4305695b4deaebc79986f1"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a8739ae4d4e4305695b4deaebc79986f1">ALICE_CALLERID</a></div><div class="ttdeci">#define ALICE_CALLERID</div><div class="ttdoc">Alice&amp;#39;s Caller ID. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00216">test_cdr.c:216</a></div></div>
<div class="ttc" id="bridge_8h_html_a582e1dd73a483ac881cff01fa07f39ae"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a582e1dd73a483ac881cff01fa07f39ae">ast_bridge_impart</a></div><div class="ttdeci">int ast_bridge_impart(struct ast_bridge *bridge, struct ast_channel *chan, struct ast_channel *swap, struct ast_bridge_features *features, enum ast_bridge_impart_flags flags) attribute_warn_unused_result</div><div class="ttdoc">Impart a channel to a bridge (non-blocking) </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l01924">bridge.c:1924</a></div></div>
<div class="ttc" id="utils_8h_html_a1604b4d72144dd3d9f7da668e90337e9"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a></div><div class="ttdeci">#define RAII_VAR(vartype, varname, initval, dtor)</div><div class="ttdoc">Declare a variable that will call a destructor function when it goes out of scope. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00911">utils.h:911</a></div></div>
<div class="ttc" id="structast__cdr_html_a2979e8d95424c018bf2c830b28a199d0"><div class="ttname"><a href="../../d4/d5d/structast__cdr.html#a2979e8d95424c018bf2c830b28a199d0">ast_cdr::linkedid</a></div><div class="ttdeci">char linkedid[AST_MAX_UNIQUEID]</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00316">cdr.h:316</a></div></div>
<div class="ttc" id="structast__party__caller_html"><div class="ttname"><a href="../../d4/d77/structast__party__caller.html">ast_party_caller</a></div><div class="ttdoc">Caller Party information. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l00419">channel.h:419</a></div></div>
<div class="ttc" id="bridge_8h_html_ac086b7d74fb40c2ede8514274585b101a01be425a6fb9fefd36905b542e903087"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#ac086b7d74fb40c2ede8514274585b101a01be425a6fb9fefd36905b542e903087">AST_BRIDGE_IMPART_CHAN_DEPARTABLE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00602">bridge.h:602</a></div></div>
<div class="ttc" id="structast__cdr_html_ac733390e45613f1287d0b1b95e8d18ea"><div class="ttname"><a href="../../d4/d5d/structast__cdr.html#ac733390e45613f1287d0b1b95e8d18ea">ast_cdr::uniqueid</a></div><div class="ttdeci">char uniqueid[AST_MAX_UNIQUEID]</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00314">cdr.h:314</a></div></div>
<div class="ttc" id="test__cdr_8c_html_aabfd96ef82edc19b680e65889e005c93"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#aabfd96ef82edc19b680e65889e005c93">verify_mock_cdr_record</a></div><div class="ttdeci">static enum ast_test_result_state verify_mock_cdr_record(struct ast_test *test, struct ast_cdr *expected, int record)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00310">test_cdr.c:310</a></div></div>
<div class="ttc" id="channel_8h_html_a3b6254f6d3832ef928f0a727113b1c63"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a3b6254f6d3832ef928f0a727113b1c63">ast_channel_uniqueid</a></div><div class="ttdeci">const char * ast_channel_uniqueid(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00305">channel_internal_api.c:305</a></div></div>
<div class="ttc" id="causes_8h_html_a7858ab2ba4858d98e29f0ea54980313c"><div class="ttname"><a href="../../d4/da3/causes_8h.html#a7858ab2ba4858d98e29f0ea54980313c">AST_CAUSE_NORMAL</a></div><div class="ttdeci">#define AST_CAUSE_NORMAL</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/da3/causes_8h_source.html#l00150">causes.h:150</a></div></div>
<div class="ttc" id="structast__cdr_html"><div class="ttname"><a href="../../d4/d5d/structast__cdr.html">ast_cdr</a></div><div class="ttdoc">Responsible for call detail data. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00276">cdr.h:276</a></div></div>
<div class="ttc" id="structast__bridge_html"><div class="ttname"><a href="../../d4/d84/structast__bridge.html">ast_bridge</a></div><div class="ttdoc">Structure that contains information about a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00357">bridge.h:357</a></div></div>
<div class="ttc" id="namespacesip__to__pjsip_html_ab82f408a83ecba10ea39afd8abfd371e"><div class="ttname"><a href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">sip_to_pjsip.info</a></div><div class="ttdeci">def info(msg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d6f/sip__to__pjsip_8py_source.html#l01313">sip_to_pjsip.py:1313</a></div></div>
<div class="ttc" id="bridge_8h_html_a0075715d330c8492e03c6d3ca3f48e13"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a0075715d330c8492e03c6d3ca3f48e13">ast_bridge_depart</a></div><div class="ttdeci">int ast_bridge_depart(struct ast_channel *chan)</div><div class="ttdoc">Depart a channel from a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l01952">bridge.c:1952</a></div></div>
<div class="ttc" id="astobj2_8h_html_ae0422b60d8e25b6962b2d61ae4ddf724"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ae0422b60d8e25b6962b2d61ae4ddf724">ao2_alloc</a></div><div class="ttdeci">#define ao2_alloc(data_size, destructor_fn)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00411">astobj2.h:411</a></div></div>
<div class="ttc" id="channelstate_8h_html_a03585bc87e5bbd0f4d11bc789734c660a5bf03bd84f434acaeefdacb0096e1baa"><div class="ttname"><a href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660a5bf03bd84f434acaeefdacb0096e1baa">AST_STATE_RINGING</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d95/channelstate_8h_source.html#l00041">channelstate.h:41</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a86d2cbfb5a0c115147944a541cc355e0"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a></div><div class="ttdeci">#define CHANNEL_TECH_NAME</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00055">test_cdr.c:55</a></div></div>
<div class="ttc" id="structtest_html"><div class="ttname"><a href="../../d8/d89/structtest.html">test</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d7d/test__logger_8c_source.html#l00043">test_logger.c:43</a></div></div>
<div class="ttc" id="bridge__basic_8h_html_a1410fb71fa67f9ee92f15b18439b7571"><div class="ttname"><a href="../../d4/d1e/bridge__basic_8h.html#a1410fb71fa67f9ee92f15b18439b7571">ast_bridge_basic_new</a></div><div class="ttdeci">struct ast_bridge * ast_bridge_basic_new(void)</div><div class="ttdoc">Create a new basic class bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l03617">bridge_basic.c:3617</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="channel_8h_html_a82f2c6e4d47f62f6b65c5887eb096fd5a36fa77a64746637c77c6b18a7999d0a2"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a82f2c6e4d47f62f6b65c5887eb096fd5a36fa77a64746637c77c6b18a7999d0a2">AST_FLAG_OUTGOING</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01000">channel.h:1000</a></div></div>
<div class="ttc" id="strings_8h_html_ac4040268f7b6ed77dfc49c7767626369"><div class="ttname"><a href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a></div><div class="ttdeci">void ast_copy_string(char *dst, const char *src, size_t size)</div><div class="ttdoc">Size-limited null-terminating string copy. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00401">strings.h:401</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a4aab087f903dfe2609a124a828903cb5"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a4aab087f903dfe2609a124a828903cb5">safe_bridge_destroy</a></div><div class="ttdeci">static void safe_bridge_destroy(struct ast_bridge *bridge)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00379">test_cdr.c:379</a></div></div>
<div class="ttc" id="channel_8h_html_acc7e03f08c0df9fe5f5ff801db51224d"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#acc7e03f08c0df9fe5f5ff801db51224d">ast_channel_state_set</a></div><div class="ttdeci">void ast_channel_state_set(struct ast_channel *chan, enum ast_channel_state)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00820">channel_internal_api.c:820</a></div></div>
<div class="ttc" id="cel__pgsql_8c_html_ad6c487210772a9b4b0ca04b04b847d4c"><div class="ttname"><a href="../../de/d1b/cel__pgsql_8c.html#ad6c487210772a9b4b0ca04b04b847d4c">result</a></div><div class="ttdeci">static PGresult * result</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1b/cel__pgsql_8c_source.html#l00088">cel_pgsql.c:88</a></div></div>
<div class="ttc" id="structast__cdr__config_html"><div class="ttname"><a href="../../d4/d69/structast__cdr__config.html">ast_cdr_config</a></div><div class="ttdoc">The global options available for CDRs. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00264">cdr.h:264</a></div></div>
<div class="ttc" id="structast__cdr_html_ab7fd8bddf0ce6987ae5e58fb64cfc9e2"><div class="ttname"><a href="../../d4/d5d/structast__cdr.html#ab7fd8bddf0ce6987ae5e58fb64cfc9e2">ast_cdr::clid</a></div><div class="ttdeci">char clid[AST_MAX_EXTENSION]</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00278">cdr.h:278</a></div></div>
<div class="ttc" id="channel_8h_html_a91de92158876186d28ba1773877f2732"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a91de92158876186d28ba1773877f2732">ast_channel_flags</a></div><div class="ttdeci">struct ast_flags * ast_channel_flags(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l01260">channel_internal_api.c:1260</a></div></div>
<div class="ttc" id="test__cdr_8c_html_ac905defa905925ff383b4bc9d2f89e35"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#ac905defa905925ff383b4bc9d2f89e35">debug_cdr_config</a></div><div class="ttdeci">static struct ast_cdr_config debug_cdr_config</div><div class="ttdoc">A configuration suitable for &amp;#39;normal&amp;#39; CDRs. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00061">test_cdr.c:61</a></div></div>
<div class="ttc" id="channel_8h_html_a2f18aafad0442206e71033ac6676dbb5"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a2f18aafad0442206e71033ac6676dbb5">ast_channel_alloc</a></div><div class="ttdeci">#define ast_channel_alloc(needqueue, state, cid_num, cid_name, acctcode, exten, context, assignedids, requestor, amaflag,...)</div><div class="ttdoc">Create a channel structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01259">channel.h:1259</a></div></div>
<div class="ttc" id="channel_8h_html_a82f2c6e4d47f62f6b65c5887eb096fd5ae9c1c04502304018b62d1e5383ccacb3"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a82f2c6e4d47f62f6b65c5887eb096fd5ae9c1c04502304018b62d1e5383ccacb3">AST_FLAG_ORIGINATED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01040">channel.h:1040</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a987d4f1e5d92597fac228fa99bcb56be"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a987d4f1e5d92597fac228fa99bcb56be">safe_channel_release</a></div><div class="ttdeci">static void safe_channel_release(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00371">test_cdr.c:371</a></div></div>
<div class="ttc" id="test_8h_html_aad2aec78205d328d23894a6598cc4044"><div class="ttname"><a href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044">ast_test_result_state</a></div><div class="ttdeci">ast_test_result_state</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00200">test.h:200</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a395c4ed2b5fe4828e50c1643aa3f1b04"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a395c4ed2b5fe4828e50c1643aa3f1b04">&#9670;&nbsp;</a></span>AST_TEST_DEFINE() <span class="overload">[5/24]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AST_TEST_DEFINE </td>
          <td>(</td>
          <td class="paramtype">test_cdr_single_party&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00633">633</a> of file <a class="el" href="../../d7/d8e/test__cdr_8c_source.html">test_cdr.c</a>.</p>

<p class="reference">References <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00216">ALICE_CALLERID</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00411">ao2_alloc</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l01182">AST_AMA_DOCUMENTATION</a>, <a class="el" href="../../d4/da3/causes_8h_source.html#l00150">AST_CAUSE_NORMAL</a>, <a class="el" href="../../dc/d07/cdr_8h_source.html#l00258">AST_CDR_ANSWERED</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02945">ast_channel_lock</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l07486">ast_setstate()</a>, <a class="el" href="../../d9/d95/channelstate_8h_source.html#l00042">AST_STATE_UP</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00201">AST_TEST_NOT_RUN</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00055">CHANNEL_TECH_NAME</a>, <a class="el" href="../../dc/d07/cdr_8h_source.html#l00278">ast_cdr::clid</a>, <a class="el" href="../../de/dcc/conf2ael_8c_source.html#l00066">config</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00248">CREATE_ALICE_CHANNEL</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00291">EMULATE_APP_DATA</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00303">HANGUP_CHANNEL</a>, <a class="el" href="../../d9/d6f/sip__to__pjsip_8py_source.html#l01313">sip_to_pjsip::info()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00911">RAII_VAR</a>, <a class="el" href="../../de/d1b/cel__pgsql_8c_source.html#l00088">result</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00371">safe_channel_release()</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00079">SWAP_CONFIG</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00051">TEST_CATEGORY</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00208">TEST_EXECUTE</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00207">TEST_INIT</a>, and <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00310">verify_mock_cdr_record()</a>.</p>
<div class="fragment"><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;{</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *, chan, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d7/d8e/test__cdr_8c.html#a987d4f1e5d92597fac228fa99bcb56be">safe_channel_release</a>);</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d4/d69/structast__cdr__config.html">ast_cdr_config</a> *, <a class="code" href="../../de/dcc/conf2ael_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#ae0422b60d8e25b6962b2d61ae4ddf724">ao2_alloc</a>(<span class="keyword">sizeof</span>(*<a class="code" href="../../de/dcc/conf2ael_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a>), <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>),</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;         <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d77/structast__party__caller.html">ast_party_caller</a> caller = <a class="code" href="../../d7/d8e/test__cdr_8c.html#a8739ae4d4e4305695b4deaebc79986f1">ALICE_CALLERID</a>;</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d5d/structast__cdr.html">ast_cdr</a> expected = {</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;      .<a class="code" href="../../d4/d5d/structast__cdr.html#ab7fd8bddf0ce6987ae5e58fb64cfc9e2">clid</a> = <span class="stringliteral">&quot;\&quot;Alice\&quot; &lt;100&gt;&quot;</span>,</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;      .src = <span class="stringliteral">&quot;100&quot;</span>,</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;      .dst = <span class="stringliteral">&quot;100&quot;</span>,</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;      .dcontext = <span class="stringliteral">&quot;default&quot;</span>,</div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;      .channel = <a class="code" href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a> <span class="stringliteral">&quot;/Alice&quot;</span>,</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;      .dstchannel = <span class="stringliteral">&quot;&quot;</span>,</div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;      .lastapp = <span class="stringliteral">&quot;VoiceMailMain&quot;</span>,</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;      .lastdata = <span class="stringliteral">&quot;1&quot;</span>,</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;      .billsec = 1,</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;   .amaflags = <a class="code" href="../../d5/d7b/channel_8h.html#a784b9642d6e2862b04b7f970b337549fa57aa76a632aa16d12a92e43b81c32a68">AST_AMA_DOCUMENTATION</a>,</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;      .disposition = <a class="code" href="../../dc/d07/cdr_8h.html#a53e2666db1174cc83384daf9049023c0ac3e47d059a0e67a03f822f10bb7ec5b1">AST_CDR_ANSWERED</a>,</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;      .accountcode = <span class="stringliteral">&quot;100&quot;</span>,</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;   };</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;   <span class="keyword">enum</span> <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044">ast_test_result_state</a> <a class="code" href="../../de/d1b/cel__pgsql_8c.html#ad6c487210772a9b4b0ca04b04b847d4c">result</a> = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c">AST_TEST_NOT_RUN</a>;</div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;   <span class="keywordflow">switch</span> (cmd) {</div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b">TEST_INIT</a>:</div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;name = __func__;</div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;category = <a class="code" href="../../d7/d8e/test__cdr_8c.html#add35ea2349b86888eef95d404e6faebf">TEST_CATEGORY</a>;</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;summary = <span class="stringliteral">&quot;Test cdrs for a single party&quot;</span>;</div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;description =</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;         <span class="stringliteral">&quot;Test the properties of a CDR for a call that is\n&quot;</span></div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;         <span class="stringliteral">&quot;answered, but only involves a single channel&quot;</span>;</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c">AST_TEST_NOT_RUN</a>;</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e">TEST_EXECUTE</a>:</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;   }</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#a1ccf26b207f6e00ee0ece3e227de42a1">SWAP_CONFIG</a>(<a class="code" href="../../de/dcc/conf2ael_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a>, <a class="code" href="../../d7/d8e/test__cdr_8c.html#ac905defa905925ff383b4bc9d2f89e35">debug_cdr_config</a>);</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#a1ed3332fe918eafa4f3f79c131525249">CREATE_ALICE_CHANNEL</a>(chan, &amp;caller, &amp;expected);</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(chan);</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#ab91bafbff6fa458554e8745276c0b4d3">EMULATE_APP_DATA</a>(chan, 1, <span class="stringliteral">&quot;Answer&quot;</span>, <span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;   <a class="code" href="../../d9/d95/channelstate_8h.html#ad9d8f7d9e228b5af98a7b40db9f06448">ast_setstate</a>(chan, <a class="code" href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660aa8ab4bcda7378ccc17c39dfd880cba3d">AST_STATE_UP</a>);</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#ab91bafbff6fa458554e8745276c0b4d3">EMULATE_APP_DATA</a>(chan, 2, <span class="stringliteral">&quot;VoiceMailMain&quot;</span>, <span class="stringliteral">&quot;1&quot;</span>);</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#ac2b699afc1547e0d4f71ece789ee21e1">HANGUP_CHANNEL</a>(chan, <a class="code" href="../../d4/da3/causes_8h.html#a7858ab2ba4858d98e29f0ea54980313c">AST_CAUSE_NORMAL</a>);</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;   result = <a class="code" href="../../d7/d8e/test__cdr_8c.html#aabfd96ef82edc19b680e65889e005c93">verify_mock_cdr_record</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, &amp;expected, 1);</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../de/d1b/cel__pgsql_8c.html#ad6c487210772a9b4b0ca04b04b847d4c">result</a>;</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;}</div><div class="ttc" id="test__cdr_8c_html_ab91bafbff6fa458554e8745276c0b4d3"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#ab91bafbff6fa458554e8745276c0b4d3">EMULATE_APP_DATA</a></div><div class="ttdeci">#define EMULATE_APP_DATA(channel, priority, application, data)</div><div class="ttdoc">Emulate a channel entering into an application. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00291">test_cdr.c:291</a></div></div>
<div class="ttc" id="channel_8h_html_a493bdebe876caafb8ee535853310364a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a></div><div class="ttdeci">#define ast_channel_lock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02945">channel.h:2945</a></div></div>
<div class="ttc" id="structast__channel_html"><div class="ttname"><a href="../../df/d3c/structast__channel.html">ast_channel</a></div><div class="ttdoc">Main Channel structure associated with a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00073">channel_internal_api.c:73</a></div></div>
<div class="ttc" id="channel_8h_html_a784b9642d6e2862b04b7f970b337549fa57aa76a632aa16d12a92e43b81c32a68"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a784b9642d6e2862b04b7f970b337549fa57aa76a632aa16d12a92e43b81c32a68">AST_AMA_DOCUMENTATION</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01182">channel.h:1182</a></div></div>
<div class="ttc" id="conf2ael_8c_html_a74bb62276efdf39dd94048e007fca05b"><div class="ttname"><a href="../../de/dcc/conf2ael_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a></div><div class="ttdeci">char * config</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcc/conf2ael_8c_source.html#l00066">conf2ael.c:66</a></div></div>
<div class="ttc" id="test__cdr_8c_html_add35ea2349b86888eef95d404e6faebf"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#add35ea2349b86888eef95d404e6faebf">TEST_CATEGORY</a></div><div class="ttdeci">#define TEST_CATEGORY</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00051">test_cdr.c:51</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a1ed3332fe918eafa4f3f79c131525249"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a1ed3332fe918eafa4f3f79c131525249">CREATE_ALICE_CHANNEL</a></div><div class="ttdeci">#define CREATE_ALICE_CHANNEL(channel_var, caller_id, expected_record)</div><div class="ttdoc">Create a test_cdr_chan_tech for Alice, and set the expected CDR records&amp;#39; linkedid and uniqueid...</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00248">test_cdr.c:248</a></div></div>
<div class="ttc" id="test_8h_html_a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e">TEST_EXECUTE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00208">test.h:208</a></div></div>
<div class="ttc" id="cdr_8h_html_a53e2666db1174cc83384daf9049023c0ac3e47d059a0e67a03f822f10bb7ec5b1"><div class="ttname"><a href="../../dc/d07/cdr_8h.html#a53e2666db1174cc83384daf9049023c0ac3e47d059a0e67a03f822f10bb7ec5b1">AST_CDR_ANSWERED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00258">cdr.h:258</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a1ccf26b207f6e00ee0ece3e227de42a1"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a1ccf26b207f6e00ee0ece3e227de42a1">SWAP_CONFIG</a></div><div class="ttdeci">#define SWAP_CONFIG(ao2_config, template)</div><div class="ttdoc">Macro to swap a configuration out from the CDR engine. This should be used at the beginning of each t...</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00079">test_cdr.c:79</a></div></div>
<div class="ttc" id="channelstate_8h_html_a03585bc87e5bbd0f4d11bc789734c660aa8ab4bcda7378ccc17c39dfd880cba3d"><div class="ttname"><a href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660aa8ab4bcda7378ccc17c39dfd880cba3d">AST_STATE_UP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d95/channelstate_8h_source.html#l00042">channelstate.h:42</a></div></div>
<div class="ttc" id="test__cdr_8c_html_ac2b699afc1547e0d4f71ece789ee21e1"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#ac2b699afc1547e0d4f71ece789ee21e1">HANGUP_CHANNEL</a></div><div class="ttdeci">#define HANGUP_CHANNEL(channel, cause)</div><div class="ttdoc">Hang up a test channel safely. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00303">test_cdr.c:303</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="test_8h_html_a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b">TEST_INIT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00207">test.h:207</a></div></div>
<div class="ttc" id="test_8h_html_aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c"><div class="ttname"><a href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c">AST_TEST_NOT_RUN</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00201">test.h:201</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a8739ae4d4e4305695b4deaebc79986f1"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a8739ae4d4e4305695b4deaebc79986f1">ALICE_CALLERID</a></div><div class="ttdeci">#define ALICE_CALLERID</div><div class="ttdoc">Alice&amp;#39;s Caller ID. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00216">test_cdr.c:216</a></div></div>
<div class="ttc" id="utils_8h_html_a1604b4d72144dd3d9f7da668e90337e9"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a></div><div class="ttdeci">#define RAII_VAR(vartype, varname, initval, dtor)</div><div class="ttdoc">Declare a variable that will call a destructor function when it goes out of scope. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00911">utils.h:911</a></div></div>
<div class="ttc" id="structast__party__caller_html"><div class="ttname"><a href="../../d4/d77/structast__party__caller.html">ast_party_caller</a></div><div class="ttdoc">Caller Party information. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l00419">channel.h:419</a></div></div>
<div class="ttc" id="test__cdr_8c_html_aabfd96ef82edc19b680e65889e005c93"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#aabfd96ef82edc19b680e65889e005c93">verify_mock_cdr_record</a></div><div class="ttdeci">static enum ast_test_result_state verify_mock_cdr_record(struct ast_test *test, struct ast_cdr *expected, int record)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00310">test_cdr.c:310</a></div></div>
<div class="ttc" id="causes_8h_html_a7858ab2ba4858d98e29f0ea54980313c"><div class="ttname"><a href="../../d4/da3/causes_8h.html#a7858ab2ba4858d98e29f0ea54980313c">AST_CAUSE_NORMAL</a></div><div class="ttdeci">#define AST_CAUSE_NORMAL</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/da3/causes_8h_source.html#l00150">causes.h:150</a></div></div>
<div class="ttc" id="structast__cdr_html"><div class="ttname"><a href="../../d4/d5d/structast__cdr.html">ast_cdr</a></div><div class="ttdoc">Responsible for call detail data. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00276">cdr.h:276</a></div></div>
<div class="ttc" id="namespacesip__to__pjsip_html_ab82f408a83ecba10ea39afd8abfd371e"><div class="ttname"><a href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">sip_to_pjsip.info</a></div><div class="ttdeci">def info(msg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d6f/sip__to__pjsip_8py_source.html#l01313">sip_to_pjsip.py:1313</a></div></div>
<div class="ttc" id="astobj2_8h_html_ae0422b60d8e25b6962b2d61ae4ddf724"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ae0422b60d8e25b6962b2d61ae4ddf724">ao2_alloc</a></div><div class="ttdeci">#define ao2_alloc(data_size, destructor_fn)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00411">astobj2.h:411</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a86d2cbfb5a0c115147944a541cc355e0"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a></div><div class="ttdeci">#define CHANNEL_TECH_NAME</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00055">test_cdr.c:55</a></div></div>
<div class="ttc" id="structtest_html"><div class="ttname"><a href="../../d8/d89/structtest.html">test</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d7d/test__logger_8c_source.html#l00043">test_logger.c:43</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="channelstate_8h_html_ad9d8f7d9e228b5af98a7b40db9f06448"><div class="ttname"><a href="../../d9/d95/channelstate_8h.html#ad9d8f7d9e228b5af98a7b40db9f06448">ast_setstate</a></div><div class="ttdeci">int ast_setstate(struct ast_channel *chan, enum ast_channel_state)</div><div class="ttdoc">Change the state of a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l07486">channel.c:7486</a></div></div>
<div class="ttc" id="cel__pgsql_8c_html_ad6c487210772a9b4b0ca04b04b847d4c"><div class="ttname"><a href="../../de/d1b/cel__pgsql_8c.html#ad6c487210772a9b4b0ca04b04b847d4c">result</a></div><div class="ttdeci">static PGresult * result</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1b/cel__pgsql_8c_source.html#l00088">cel_pgsql.c:88</a></div></div>
<div class="ttc" id="structast__cdr__config_html"><div class="ttname"><a href="../../d4/d69/structast__cdr__config.html">ast_cdr_config</a></div><div class="ttdoc">The global options available for CDRs. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00264">cdr.h:264</a></div></div>
<div class="ttc" id="structast__cdr_html_ab7fd8bddf0ce6987ae5e58fb64cfc9e2"><div class="ttname"><a href="../../d4/d5d/structast__cdr.html#ab7fd8bddf0ce6987ae5e58fb64cfc9e2">ast_cdr::clid</a></div><div class="ttdeci">char clid[AST_MAX_EXTENSION]</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00278">cdr.h:278</a></div></div>
<div class="ttc" id="test__cdr_8c_html_ac905defa905925ff383b4bc9d2f89e35"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#ac905defa905925ff383b4bc9d2f89e35">debug_cdr_config</a></div><div class="ttdeci">static struct ast_cdr_config debug_cdr_config</div><div class="ttdoc">A configuration suitable for &amp;#39;normal&amp;#39; CDRs. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00061">test_cdr.c:61</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a987d4f1e5d92597fac228fa99bcb56be"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a987d4f1e5d92597fac228fa99bcb56be">safe_channel_release</a></div><div class="ttdeci">static void safe_channel_release(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00371">test_cdr.c:371</a></div></div>
<div class="ttc" id="test_8h_html_aad2aec78205d328d23894a6598cc4044"><div class="ttname"><a href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044">ast_test_result_state</a></div><div class="ttdeci">ast_test_result_state</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00200">test.h:200</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a16faa33d9854dfaba2fa4040f6475ea1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a16faa33d9854dfaba2fa4040f6475ea1">&#9670;&nbsp;</a></span>AST_TEST_DEFINE() <span class="overload">[6/24]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AST_TEST_DEFINE </td>
          <td>(</td>
          <td class="paramtype">test_cdr_single_bridge&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00684">684</a> of file <a class="el" href="../../d7/d8e/test__cdr_8c_source.html">test_cdr.c</a>.</p>

<p class="reference">References <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00216">ALICE_CALLERID</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00411">ao2_alloc</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l01182">AST_AMA_DOCUMENTATION</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l03617">ast_bridge_basic_new()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l01952">ast_bridge_depart()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l01924">ast_bridge_impart()</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00602">AST_BRIDGE_IMPART_CHAN_DEPARTABLE</a>, <a class="el" href="../../d4/da3/causes_8h_source.html#l00150">AST_CAUSE_NORMAL</a>, <a class="el" href="../../dc/d07/cdr_8h_source.html#l00258">AST_CDR_ANSWERED</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02945">ast_channel_lock</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l07486">ast_setstate()</a>, <a class="el" href="../../d9/d95/channelstate_8h_source.html#l00042">AST_STATE_UP</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00201">AST_TEST_NOT_RUN</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00055">CHANNEL_TECH_NAME</a>, <a class="el" href="../../dc/d07/cdr_8h_source.html#l00278">ast_cdr::clid</a>, <a class="el" href="../../de/dcc/conf2ael_8c_source.html#l00066">config</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00248">CREATE_ALICE_CHANNEL</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00387">do_sleep()</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00291">EMULATE_APP_DATA</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00303">HANGUP_CHANNEL</a>, <a class="el" href="../../d9/d6f/sip__to__pjsip_8py_source.html#l01313">sip_to_pjsip::info()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00911">RAII_VAR</a>, <a class="el" href="../../de/d1b/cel__pgsql_8c_source.html#l00088">result</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00379">safe_bridge_destroy()</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00371">safe_channel_release()</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00079">SWAP_CONFIG</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00051">TEST_CATEGORY</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00208">TEST_EXECUTE</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00207">TEST_INIT</a>, and <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00310">verify_mock_cdr_record()</a>.</p>
<div class="fragment"><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;{</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *, chan, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d7/d8e/test__cdr_8c.html#a987d4f1e5d92597fac228fa99bcb56be">safe_channel_release</a>);</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *, bridge, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d7/d8e/test__cdr_8c.html#a4aab087f903dfe2609a124a828903cb5">safe_bridge_destroy</a>);</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d4/d69/structast__cdr__config.html">ast_cdr_config</a> *, <a class="code" href="../../de/dcc/conf2ael_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#ae0422b60d8e25b6962b2d61ae4ddf724">ao2_alloc</a>(<span class="keyword">sizeof</span>(*<a class="code" href="../../de/dcc/conf2ael_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a>), <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>),</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;         <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;   <span class="keyword">struct </span>timespec <a class="code" href="../../db/dc4/test__cel_8c.html#af600138406d2c64d06bf7dedf447cfc9">to_sleep</a> = {1, 0};</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d77/structast__party__caller.html">ast_party_caller</a> caller = <a class="code" href="../../d7/d8e/test__cdr_8c.html#a8739ae4d4e4305695b4deaebc79986f1">ALICE_CALLERID</a>;</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d5d/structast__cdr.html">ast_cdr</a> expected = {</div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;      .<a class="code" href="../../d4/d5d/structast__cdr.html#ab7fd8bddf0ce6987ae5e58fb64cfc9e2">clid</a> = <span class="stringliteral">&quot;\&quot;Alice\&quot; &lt;100&gt;&quot;</span>,</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;      .src = <span class="stringliteral">&quot;100&quot;</span>,</div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;      .dst = <span class="stringliteral">&quot;100&quot;</span>,</div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;      .dcontext = <span class="stringliteral">&quot;default&quot;</span>,</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;      .channel = <a class="code" href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a> <span class="stringliteral">&quot;/Alice&quot;</span>,</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;      .lastapp = <span class="stringliteral">&quot;Bridge&quot;</span>,</div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;      .billsec = 1,</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;      .amaflags = <a class="code" href="../../d5/d7b/channel_8h.html#a784b9642d6e2862b04b7f970b337549fa57aa76a632aa16d12a92e43b81c32a68">AST_AMA_DOCUMENTATION</a>,</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;      .disposition = <a class="code" href="../../dc/d07/cdr_8h.html#a53e2666db1174cc83384daf9049023c0ac3e47d059a0e67a03f822f10bb7ec5b1">AST_CDR_ANSWERED</a>,</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;      .accountcode = <span class="stringliteral">&quot;100&quot;</span>,</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;   };</div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;   <span class="keyword">enum</span> <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044">ast_test_result_state</a> <a class="code" href="../../de/d1b/cel__pgsql_8c.html#ad6c487210772a9b4b0ca04b04b847d4c">result</a> = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c">AST_TEST_NOT_RUN</a>;</div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;   <span class="keywordflow">switch</span> (cmd) {</div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b">TEST_INIT</a>:</div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;name = __func__;</div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;category = <a class="code" href="../../d7/d8e/test__cdr_8c.html#add35ea2349b86888eef95d404e6faebf">TEST_CATEGORY</a>;</div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;summary = <span class="stringliteral">&quot;Test cdrs for a single party entering/leaving a bridge&quot;</span>;</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;description =</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;         <span class="stringliteral">&quot;Test the properties of a CDR for a call that is\n&quot;</span></div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;         <span class="stringliteral">&quot;answered, enters a bridge, and leaves it.&quot;</span>;</div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c">AST_TEST_NOT_RUN</a>;</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e">TEST_EXECUTE</a>:</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;   }</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#a1ccf26b207f6e00ee0ece3e227de42a1">SWAP_CONFIG</a>(<a class="code" href="../../de/dcc/conf2ael_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a>, <a class="code" href="../../d7/d8e/test__cdr_8c.html#ac905defa905925ff383b4bc9d2f89e35">debug_cdr_config</a>);</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#a1ed3332fe918eafa4f3f79c131525249">CREATE_ALICE_CHANNEL</a>(chan, &amp;caller, &amp;expected);</div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(chan);</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#ab91bafbff6fa458554e8745276c0b4d3">EMULATE_APP_DATA</a>(chan, 1, <span class="stringliteral">&quot;Answer&quot;</span>, <span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;   <a class="code" href="../../d9/d95/channelstate_8h.html#ad9d8f7d9e228b5af98a7b40db9f06448">ast_setstate</a>(chan, <a class="code" href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660aa8ab4bcda7378ccc17c39dfd880cba3d">AST_STATE_UP</a>);</div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#ab91bafbff6fa458554e8745276c0b4d3">EMULATE_APP_DATA</a>(chan, 2, <span class="stringliteral">&quot;Bridge&quot;</span>, <span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;</div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;   bridge = <a class="code" href="../../d4/d1e/bridge__basic_8h.html#a1410fb71fa67f9ee92f15b18439b7571">ast_bridge_basic_new</a>();</div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;   ast_test_validate(<a class="code" href="../../d8/d89/structtest.html">test</a>, bridge != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;</div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#a638dca57ef13cc34a8d584246f5add00">do_sleep</a>(&amp;to_sleep);</div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;   ast_test_validate(<a class="code" href="../../d8/d89/structtest.html">test</a>, !<a class="code" href="../../d4/d56/bridge_8h.html#a582e1dd73a483ac881cff01fa07f39ae">ast_bridge_impart</a>(bridge, chan, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d4/d56/bridge_8h.html#ac086b7d74fb40c2ede8514274585b101a01be425a6fb9fefd36905b542e903087">AST_BRIDGE_IMPART_CHAN_DEPARTABLE</a>));</div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;</div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#a638dca57ef13cc34a8d584246f5add00">do_sleep</a>(&amp;to_sleep);</div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;</div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#a0075715d330c8492e03c6d3ca3f48e13">ast_bridge_depart</a>(chan);</div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;</div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#ac2b699afc1547e0d4f71ece789ee21e1">HANGUP_CHANNEL</a>(chan, <a class="code" href="../../d4/da3/causes_8h.html#a7858ab2ba4858d98e29f0ea54980313c">AST_CAUSE_NORMAL</a>);</div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;</div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;   result = <a class="code" href="../../d7/d8e/test__cdr_8c.html#aabfd96ef82edc19b680e65889e005c93">verify_mock_cdr_record</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, &amp;expected, 1);</div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;</div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../de/d1b/cel__pgsql_8c.html#ad6c487210772a9b4b0ca04b04b847d4c">result</a>;</div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;}</div><div class="ttc" id="test__cdr_8c_html_ab91bafbff6fa458554e8745276c0b4d3"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#ab91bafbff6fa458554e8745276c0b4d3">EMULATE_APP_DATA</a></div><div class="ttdeci">#define EMULATE_APP_DATA(channel, priority, application, data)</div><div class="ttdoc">Emulate a channel entering into an application. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00291">test_cdr.c:291</a></div></div>
<div class="ttc" id="channel_8h_html_a493bdebe876caafb8ee535853310364a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a></div><div class="ttdeci">#define ast_channel_lock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02945">channel.h:2945</a></div></div>
<div class="ttc" id="structast__channel_html"><div class="ttname"><a href="../../df/d3c/structast__channel.html">ast_channel</a></div><div class="ttdoc">Main Channel structure associated with a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00073">channel_internal_api.c:73</a></div></div>
<div class="ttc" id="channel_8h_html_a784b9642d6e2862b04b7f970b337549fa57aa76a632aa16d12a92e43b81c32a68"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a784b9642d6e2862b04b7f970b337549fa57aa76a632aa16d12a92e43b81c32a68">AST_AMA_DOCUMENTATION</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01182">channel.h:1182</a></div></div>
<div class="ttc" id="conf2ael_8c_html_a74bb62276efdf39dd94048e007fca05b"><div class="ttname"><a href="../../de/dcc/conf2ael_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a></div><div class="ttdeci">char * config</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcc/conf2ael_8c_source.html#l00066">conf2ael.c:66</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a638dca57ef13cc34a8d584246f5add00"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a638dca57ef13cc34a8d584246f5add00">do_sleep</a></div><div class="ttdeci">static void do_sleep(struct timespec *to_sleep)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00387">test_cdr.c:387</a></div></div>
<div class="ttc" id="test__cdr_8c_html_add35ea2349b86888eef95d404e6faebf"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#add35ea2349b86888eef95d404e6faebf">TEST_CATEGORY</a></div><div class="ttdeci">#define TEST_CATEGORY</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00051">test_cdr.c:51</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a1ed3332fe918eafa4f3f79c131525249"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a1ed3332fe918eafa4f3f79c131525249">CREATE_ALICE_CHANNEL</a></div><div class="ttdeci">#define CREATE_ALICE_CHANNEL(channel_var, caller_id, expected_record)</div><div class="ttdoc">Create a test_cdr_chan_tech for Alice, and set the expected CDR records&amp;#39; linkedid and uniqueid...</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00248">test_cdr.c:248</a></div></div>
<div class="ttc" id="test_8h_html_a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e">TEST_EXECUTE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00208">test.h:208</a></div></div>
<div class="ttc" id="cdr_8h_html_a53e2666db1174cc83384daf9049023c0ac3e47d059a0e67a03f822f10bb7ec5b1"><div class="ttname"><a href="../../dc/d07/cdr_8h.html#a53e2666db1174cc83384daf9049023c0ac3e47d059a0e67a03f822f10bb7ec5b1">AST_CDR_ANSWERED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00258">cdr.h:258</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a1ccf26b207f6e00ee0ece3e227de42a1"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a1ccf26b207f6e00ee0ece3e227de42a1">SWAP_CONFIG</a></div><div class="ttdeci">#define SWAP_CONFIG(ao2_config, template)</div><div class="ttdoc">Macro to swap a configuration out from the CDR engine. This should be used at the beginning of each t...</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00079">test_cdr.c:79</a></div></div>
<div class="ttc" id="channelstate_8h_html_a03585bc87e5bbd0f4d11bc789734c660aa8ab4bcda7378ccc17c39dfd880cba3d"><div class="ttname"><a href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660aa8ab4bcda7378ccc17c39dfd880cba3d">AST_STATE_UP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d95/channelstate_8h_source.html#l00042">channelstate.h:42</a></div></div>
<div class="ttc" id="test__cdr_8c_html_ac2b699afc1547e0d4f71ece789ee21e1"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#ac2b699afc1547e0d4f71ece789ee21e1">HANGUP_CHANNEL</a></div><div class="ttdeci">#define HANGUP_CHANNEL(channel, cause)</div><div class="ttdoc">Hang up a test channel safely. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00303">test_cdr.c:303</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="test_8h_html_a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b">TEST_INIT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00207">test.h:207</a></div></div>
<div class="ttc" id="test__cel_8c_html_af600138406d2c64d06bf7dedf447cfc9"><div class="ttname"><a href="../../db/dc4/test__cel_8c.html#af600138406d2c64d06bf7dedf447cfc9">to_sleep</a></div><div class="ttdeci">static struct timespec to_sleep</div><div class="ttdoc">A 1 second sleep. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/dc4/test__cel_8c_source.html#l00085">test_cel.c:85</a></div></div>
<div class="ttc" id="test_8h_html_aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c"><div class="ttname"><a href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c">AST_TEST_NOT_RUN</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00201">test.h:201</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a8739ae4d4e4305695b4deaebc79986f1"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a8739ae4d4e4305695b4deaebc79986f1">ALICE_CALLERID</a></div><div class="ttdeci">#define ALICE_CALLERID</div><div class="ttdoc">Alice&amp;#39;s Caller ID. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00216">test_cdr.c:216</a></div></div>
<div class="ttc" id="bridge_8h_html_a582e1dd73a483ac881cff01fa07f39ae"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a582e1dd73a483ac881cff01fa07f39ae">ast_bridge_impart</a></div><div class="ttdeci">int ast_bridge_impart(struct ast_bridge *bridge, struct ast_channel *chan, struct ast_channel *swap, struct ast_bridge_features *features, enum ast_bridge_impart_flags flags) attribute_warn_unused_result</div><div class="ttdoc">Impart a channel to a bridge (non-blocking) </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l01924">bridge.c:1924</a></div></div>
<div class="ttc" id="utils_8h_html_a1604b4d72144dd3d9f7da668e90337e9"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a></div><div class="ttdeci">#define RAII_VAR(vartype, varname, initval, dtor)</div><div class="ttdoc">Declare a variable that will call a destructor function when it goes out of scope. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00911">utils.h:911</a></div></div>
<div class="ttc" id="structast__party__caller_html"><div class="ttname"><a href="../../d4/d77/structast__party__caller.html">ast_party_caller</a></div><div class="ttdoc">Caller Party information. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l00419">channel.h:419</a></div></div>
<div class="ttc" id="bridge_8h_html_ac086b7d74fb40c2ede8514274585b101a01be425a6fb9fefd36905b542e903087"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#ac086b7d74fb40c2ede8514274585b101a01be425a6fb9fefd36905b542e903087">AST_BRIDGE_IMPART_CHAN_DEPARTABLE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00602">bridge.h:602</a></div></div>
<div class="ttc" id="test__cdr_8c_html_aabfd96ef82edc19b680e65889e005c93"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#aabfd96ef82edc19b680e65889e005c93">verify_mock_cdr_record</a></div><div class="ttdeci">static enum ast_test_result_state verify_mock_cdr_record(struct ast_test *test, struct ast_cdr *expected, int record)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00310">test_cdr.c:310</a></div></div>
<div class="ttc" id="causes_8h_html_a7858ab2ba4858d98e29f0ea54980313c"><div class="ttname"><a href="../../d4/da3/causes_8h.html#a7858ab2ba4858d98e29f0ea54980313c">AST_CAUSE_NORMAL</a></div><div class="ttdeci">#define AST_CAUSE_NORMAL</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/da3/causes_8h_source.html#l00150">causes.h:150</a></div></div>
<div class="ttc" id="structast__cdr_html"><div class="ttname"><a href="../../d4/d5d/structast__cdr.html">ast_cdr</a></div><div class="ttdoc">Responsible for call detail data. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00276">cdr.h:276</a></div></div>
<div class="ttc" id="structast__bridge_html"><div class="ttname"><a href="../../d4/d84/structast__bridge.html">ast_bridge</a></div><div class="ttdoc">Structure that contains information about a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00357">bridge.h:357</a></div></div>
<div class="ttc" id="namespacesip__to__pjsip_html_ab82f408a83ecba10ea39afd8abfd371e"><div class="ttname"><a href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">sip_to_pjsip.info</a></div><div class="ttdeci">def info(msg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d6f/sip__to__pjsip_8py_source.html#l01313">sip_to_pjsip.py:1313</a></div></div>
<div class="ttc" id="bridge_8h_html_a0075715d330c8492e03c6d3ca3f48e13"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a0075715d330c8492e03c6d3ca3f48e13">ast_bridge_depart</a></div><div class="ttdeci">int ast_bridge_depart(struct ast_channel *chan)</div><div class="ttdoc">Depart a channel from a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l01952">bridge.c:1952</a></div></div>
<div class="ttc" id="astobj2_8h_html_ae0422b60d8e25b6962b2d61ae4ddf724"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ae0422b60d8e25b6962b2d61ae4ddf724">ao2_alloc</a></div><div class="ttdeci">#define ao2_alloc(data_size, destructor_fn)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00411">astobj2.h:411</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a86d2cbfb5a0c115147944a541cc355e0"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a></div><div class="ttdeci">#define CHANNEL_TECH_NAME</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00055">test_cdr.c:55</a></div></div>
<div class="ttc" id="structtest_html"><div class="ttname"><a href="../../d8/d89/structtest.html">test</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d7d/test__logger_8c_source.html#l00043">test_logger.c:43</a></div></div>
<div class="ttc" id="bridge__basic_8h_html_a1410fb71fa67f9ee92f15b18439b7571"><div class="ttname"><a href="../../d4/d1e/bridge__basic_8h.html#a1410fb71fa67f9ee92f15b18439b7571">ast_bridge_basic_new</a></div><div class="ttdeci">struct ast_bridge * ast_bridge_basic_new(void)</div><div class="ttdoc">Create a new basic class bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l03617">bridge_basic.c:3617</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a4aab087f903dfe2609a124a828903cb5"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a4aab087f903dfe2609a124a828903cb5">safe_bridge_destroy</a></div><div class="ttdeci">static void safe_bridge_destroy(struct ast_bridge *bridge)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00379">test_cdr.c:379</a></div></div>
<div class="ttc" id="channelstate_8h_html_ad9d8f7d9e228b5af98a7b40db9f06448"><div class="ttname"><a href="../../d9/d95/channelstate_8h.html#ad9d8f7d9e228b5af98a7b40db9f06448">ast_setstate</a></div><div class="ttdeci">int ast_setstate(struct ast_channel *chan, enum ast_channel_state)</div><div class="ttdoc">Change the state of a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l07486">channel.c:7486</a></div></div>
<div class="ttc" id="cel__pgsql_8c_html_ad6c487210772a9b4b0ca04b04b847d4c"><div class="ttname"><a href="../../de/d1b/cel__pgsql_8c.html#ad6c487210772a9b4b0ca04b04b847d4c">result</a></div><div class="ttdeci">static PGresult * result</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1b/cel__pgsql_8c_source.html#l00088">cel_pgsql.c:88</a></div></div>
<div class="ttc" id="structast__cdr__config_html"><div class="ttname"><a href="../../d4/d69/structast__cdr__config.html">ast_cdr_config</a></div><div class="ttdoc">The global options available for CDRs. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00264">cdr.h:264</a></div></div>
<div class="ttc" id="structast__cdr_html_ab7fd8bddf0ce6987ae5e58fb64cfc9e2"><div class="ttname"><a href="../../d4/d5d/structast__cdr.html#ab7fd8bddf0ce6987ae5e58fb64cfc9e2">ast_cdr::clid</a></div><div class="ttdeci">char clid[AST_MAX_EXTENSION]</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00278">cdr.h:278</a></div></div>
<div class="ttc" id="test__cdr_8c_html_ac905defa905925ff383b4bc9d2f89e35"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#ac905defa905925ff383b4bc9d2f89e35">debug_cdr_config</a></div><div class="ttdeci">static struct ast_cdr_config debug_cdr_config</div><div class="ttdoc">A configuration suitable for &amp;#39;normal&amp;#39; CDRs. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00061">test_cdr.c:61</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a987d4f1e5d92597fac228fa99bcb56be"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a987d4f1e5d92597fac228fa99bcb56be">safe_channel_release</a></div><div class="ttdeci">static void safe_channel_release(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00371">test_cdr.c:371</a></div></div>
<div class="ttc" id="test_8h_html_aad2aec78205d328d23894a6598cc4044"><div class="ttname"><a href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044">ast_test_result_state</a></div><div class="ttdeci">ast_test_result_state</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00200">test.h:200</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a9c81d693c0b13b38af15783738bbd12c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c81d693c0b13b38af15783738bbd12c">&#9670;&nbsp;</a></span>AST_TEST_DEFINE() <span class="overload">[7/24]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AST_TEST_DEFINE </td>
          <td>(</td>
          <td class="paramtype">test_cdr_single_bridge_continue&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00745">745</a> of file <a class="el" href="../../d7/d8e/test__cdr_8c_source.html">test_cdr.c</a>.</p>

<p class="reference">References <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00216">ALICE_CALLERID</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00411">ao2_alloc</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l01182">AST_AMA_DOCUMENTATION</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l03617">ast_bridge_basic_new()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l01952">ast_bridge_depart()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l01924">ast_bridge_impart()</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00602">AST_BRIDGE_IMPART_CHAN_DEPARTABLE</a>, <a class="el" href="../../d4/da3/causes_8h_source.html#l00150">AST_CAUSE_NORMAL</a>, <a class="el" href="../../dc/d07/cdr_8h_source.html#l00258">AST_CDR_ANSWERED</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02945">ast_channel_lock</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l07486">ast_setstate()</a>, <a class="el" href="../../d9/d95/channelstate_8h_source.html#l00042">AST_STATE_UP</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00201">AST_TEST_NOT_RUN</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00055">CHANNEL_TECH_NAME</a>, <a class="el" href="../../dc/d07/cdr_8h_source.html#l00278">ast_cdr::clid</a>, <a class="el" href="../../de/dcc/conf2ael_8c_source.html#l00066">config</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00228">COPY_IDS</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00248">CREATE_ALICE_CHANNEL</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00387">do_sleep()</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00291">EMULATE_APP_DATA</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00303">HANGUP_CHANNEL</a>, <a class="el" href="../../d9/d6f/sip__to__pjsip_8py_source.html#l01313">sip_to_pjsip::info()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00911">RAII_VAR</a>, <a class="el" href="../../de/d1b/cel__pgsql_8c_source.html#l00088">result</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00379">safe_bridge_destroy()</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00371">safe_channel_release()</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00079">SWAP_CONFIG</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00051">TEST_CATEGORY</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00208">TEST_EXECUTE</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00207">TEST_INIT</a>, and <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00310">verify_mock_cdr_record()</a>.</p>
<div class="fragment"><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;{</div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *, chan, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d7/d8e/test__cdr_8c.html#a987d4f1e5d92597fac228fa99bcb56be">safe_channel_release</a>);</div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *, bridge, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d7/d8e/test__cdr_8c.html#a4aab087f903dfe2609a124a828903cb5">safe_bridge_destroy</a>);</div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d4/d69/structast__cdr__config.html">ast_cdr_config</a> *, <a class="code" href="../../de/dcc/conf2ael_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#ae0422b60d8e25b6962b2d61ae4ddf724">ao2_alloc</a>(<span class="keyword">sizeof</span>(*<a class="code" href="../../de/dcc/conf2ael_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a>), <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>),</div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;         <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;   <span class="keyword">struct </span>timespec <a class="code" href="../../db/dc4/test__cel_8c.html#af600138406d2c64d06bf7dedf447cfc9">to_sleep</a> = {1, 0};</div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;</div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d77/structast__party__caller.html">ast_party_caller</a> caller = <a class="code" href="../../d7/d8e/test__cdr_8c.html#a8739ae4d4e4305695b4deaebc79986f1">ALICE_CALLERID</a>;</div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d5d/structast__cdr.html">ast_cdr</a> expected_two = {</div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;      .<a class="code" href="../../d4/d5d/structast__cdr.html#ab7fd8bddf0ce6987ae5e58fb64cfc9e2">clid</a> = <span class="stringliteral">&quot;\&quot;Alice\&quot; &lt;100&gt;&quot;</span>,</div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;      .src = <span class="stringliteral">&quot;100&quot;</span>,</div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;      .dst = <span class="stringliteral">&quot;100&quot;</span>,</div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;      .dcontext = <span class="stringliteral">&quot;default&quot;</span>,</div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;      .channel = <a class="code" href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a> <span class="stringliteral">&quot;/Alice&quot;</span>,</div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;      .lastapp = <span class="stringliteral">&quot;Wait&quot;</span>,</div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;      .billsec = 1,</div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;      .amaflags = <a class="code" href="../../d5/d7b/channel_8h.html#a784b9642d6e2862b04b7f970b337549fa57aa76a632aa16d12a92e43b81c32a68">AST_AMA_DOCUMENTATION</a>,</div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;      .disposition = <a class="code" href="../../dc/d07/cdr_8h.html#a53e2666db1174cc83384daf9049023c0ac3e47d059a0e67a03f822f10bb7ec5b1">AST_CDR_ANSWERED</a>,</div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;      .accountcode = <span class="stringliteral">&quot;100&quot;</span>,</div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;   };</div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d5d/structast__cdr.html">ast_cdr</a> expected_one = {</div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;      .<a class="code" href="../../d4/d5d/structast__cdr.html#ab7fd8bddf0ce6987ae5e58fb64cfc9e2">clid</a> = <span class="stringliteral">&quot;\&quot;Alice\&quot; &lt;100&gt;&quot;</span>,</div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;      .src = <span class="stringliteral">&quot;100&quot;</span>,</div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;      .dst = <span class="stringliteral">&quot;100&quot;</span>,</div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;      .dcontext = <span class="stringliteral">&quot;default&quot;</span>,</div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;      .channel = <a class="code" href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a> <span class="stringliteral">&quot;/Alice&quot;</span>,</div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;      .lastapp = <span class="stringliteral">&quot;Bridge&quot;</span>,</div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;      .billsec = 1,</div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;      .amaflags = <a class="code" href="../../d5/d7b/channel_8h.html#a784b9642d6e2862b04b7f970b337549fa57aa76a632aa16d12a92e43b81c32a68">AST_AMA_DOCUMENTATION</a>,</div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;      .disposition = <a class="code" href="../../dc/d07/cdr_8h.html#a53e2666db1174cc83384daf9049023c0ac3e47d059a0e67a03f822f10bb7ec5b1">AST_CDR_ANSWERED</a>,</div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;      .accountcode = <span class="stringliteral">&quot;100&quot;</span>,</div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;      .next = &amp;expected_two,</div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;   };</div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;</div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;   <span class="keyword">enum</span> <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044">ast_test_result_state</a> <a class="code" href="../../de/d1b/cel__pgsql_8c.html#ad6c487210772a9b4b0ca04b04b847d4c">result</a> = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c">AST_TEST_NOT_RUN</a>;</div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;</div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;   <span class="keywordflow">switch</span> (cmd) {</div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b">TEST_INIT</a>:</div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;name = __func__;</div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;category = <a class="code" href="../../d7/d8e/test__cdr_8c.html#add35ea2349b86888eef95d404e6faebf">TEST_CATEGORY</a>;</div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;summary = <span class="stringliteral">&quot;Test cdrs for a single party entering/leaving a bridge&quot;</span>;</div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;description =</div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;         <span class="stringliteral">&quot;Test the properties of a CDR for a call that is\n&quot;</span></div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;         <span class="stringliteral">&quot;answered, enters a bridge, and leaves it.&quot;</span>;</div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c">AST_TEST_NOT_RUN</a>;</div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e">TEST_EXECUTE</a>:</div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;   }</div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#a1ccf26b207f6e00ee0ece3e227de42a1">SWAP_CONFIG</a>(<a class="code" href="../../de/dcc/conf2ael_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a>, <a class="code" href="../../d7/d8e/test__cdr_8c.html#ac905defa905925ff383b4bc9d2f89e35">debug_cdr_config</a>);</div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#a1ed3332fe918eafa4f3f79c131525249">CREATE_ALICE_CHANNEL</a>(chan, &amp;caller, &amp;expected_one);</div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#a0710872fe26e286bc89c24db3288f74f">COPY_IDS</a>(chan, &amp;expected_two);</div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;</div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(chan);</div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#ab91bafbff6fa458554e8745276c0b4d3">EMULATE_APP_DATA</a>(chan, 1, <span class="stringliteral">&quot;Answer&quot;</span>, <span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;   <a class="code" href="../../d9/d95/channelstate_8h.html#ad9d8f7d9e228b5af98a7b40db9f06448">ast_setstate</a>(chan, <a class="code" href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660aa8ab4bcda7378ccc17c39dfd880cba3d">AST_STATE_UP</a>);</div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#ab91bafbff6fa458554e8745276c0b4d3">EMULATE_APP_DATA</a>(chan, 2, <span class="stringliteral">&quot;Bridge&quot;</span>, <span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;</div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;   bridge = <a class="code" href="../../d4/d1e/bridge__basic_8h.html#a1410fb71fa67f9ee92f15b18439b7571">ast_bridge_basic_new</a>();</div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;   ast_test_validate(<a class="code" href="../../d8/d89/structtest.html">test</a>, bridge != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#a638dca57ef13cc34a8d584246f5add00">do_sleep</a>(&amp;to_sleep);</div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;</div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;   ast_test_validate(<a class="code" href="../../d8/d89/structtest.html">test</a>, !<a class="code" href="../../d4/d56/bridge_8h.html#a582e1dd73a483ac881cff01fa07f39ae">ast_bridge_impart</a>(bridge, chan, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d4/d56/bridge_8h.html#ac086b7d74fb40c2ede8514274585b101a01be425a6fb9fefd36905b542e903087">AST_BRIDGE_IMPART_CHAN_DEPARTABLE</a>));</div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;</div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#a638dca57ef13cc34a8d584246f5add00">do_sleep</a>(&amp;to_sleep);</div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;</div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#a0075715d330c8492e03c6d3ca3f48e13">ast_bridge_depart</a>(chan);</div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;</div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#ab91bafbff6fa458554e8745276c0b4d3">EMULATE_APP_DATA</a>(chan, 3, <span class="stringliteral">&quot;Wait&quot;</span>, <span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;</div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;   <span class="comment">/* And then it hangs up */</span></div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#ac2b699afc1547e0d4f71ece789ee21e1">HANGUP_CHANNEL</a>(chan, <a class="code" href="../../d4/da3/causes_8h.html#a7858ab2ba4858d98e29f0ea54980313c">AST_CAUSE_NORMAL</a>);</div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;</div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;   result = <a class="code" href="../../d7/d8e/test__cdr_8c.html#aabfd96ef82edc19b680e65889e005c93">verify_mock_cdr_record</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, &amp;expected_one, 2);</div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;</div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../de/d1b/cel__pgsql_8c.html#ad6c487210772a9b4b0ca04b04b847d4c">result</a>;</div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;}</div><div class="ttc" id="test__cdr_8c_html_ab91bafbff6fa458554e8745276c0b4d3"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#ab91bafbff6fa458554e8745276c0b4d3">EMULATE_APP_DATA</a></div><div class="ttdeci">#define EMULATE_APP_DATA(channel, priority, application, data)</div><div class="ttdoc">Emulate a channel entering into an application. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00291">test_cdr.c:291</a></div></div>
<div class="ttc" id="channel_8h_html_a493bdebe876caafb8ee535853310364a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a></div><div class="ttdeci">#define ast_channel_lock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02945">channel.h:2945</a></div></div>
<div class="ttc" id="structast__channel_html"><div class="ttname"><a href="../../df/d3c/structast__channel.html">ast_channel</a></div><div class="ttdoc">Main Channel structure associated with a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00073">channel_internal_api.c:73</a></div></div>
<div class="ttc" id="channel_8h_html_a784b9642d6e2862b04b7f970b337549fa57aa76a632aa16d12a92e43b81c32a68"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a784b9642d6e2862b04b7f970b337549fa57aa76a632aa16d12a92e43b81c32a68">AST_AMA_DOCUMENTATION</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01182">channel.h:1182</a></div></div>
<div class="ttc" id="conf2ael_8c_html_a74bb62276efdf39dd94048e007fca05b"><div class="ttname"><a href="../../de/dcc/conf2ael_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a></div><div class="ttdeci">char * config</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcc/conf2ael_8c_source.html#l00066">conf2ael.c:66</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a638dca57ef13cc34a8d584246f5add00"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a638dca57ef13cc34a8d584246f5add00">do_sleep</a></div><div class="ttdeci">static void do_sleep(struct timespec *to_sleep)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00387">test_cdr.c:387</a></div></div>
<div class="ttc" id="test__cdr_8c_html_add35ea2349b86888eef95d404e6faebf"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#add35ea2349b86888eef95d404e6faebf">TEST_CATEGORY</a></div><div class="ttdeci">#define TEST_CATEGORY</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00051">test_cdr.c:51</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a1ed3332fe918eafa4f3f79c131525249"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a1ed3332fe918eafa4f3f79c131525249">CREATE_ALICE_CHANNEL</a></div><div class="ttdeci">#define CREATE_ALICE_CHANNEL(channel_var, caller_id, expected_record)</div><div class="ttdoc">Create a test_cdr_chan_tech for Alice, and set the expected CDR records&amp;#39; linkedid and uniqueid...</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00248">test_cdr.c:248</a></div></div>
<div class="ttc" id="test_8h_html_a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e">TEST_EXECUTE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00208">test.h:208</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a0710872fe26e286bc89c24db3288f74f"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a0710872fe26e286bc89c24db3288f74f">COPY_IDS</a></div><div class="ttdeci">#define COPY_IDS(channel_var, expected_record)</div><div class="ttdoc">Copy the linkedid and uniqueid from a channel to an expected CDR. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00228">test_cdr.c:228</a></div></div>
<div class="ttc" id="cdr_8h_html_a53e2666db1174cc83384daf9049023c0ac3e47d059a0e67a03f822f10bb7ec5b1"><div class="ttname"><a href="../../dc/d07/cdr_8h.html#a53e2666db1174cc83384daf9049023c0ac3e47d059a0e67a03f822f10bb7ec5b1">AST_CDR_ANSWERED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00258">cdr.h:258</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a1ccf26b207f6e00ee0ece3e227de42a1"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a1ccf26b207f6e00ee0ece3e227de42a1">SWAP_CONFIG</a></div><div class="ttdeci">#define SWAP_CONFIG(ao2_config, template)</div><div class="ttdoc">Macro to swap a configuration out from the CDR engine. This should be used at the beginning of each t...</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00079">test_cdr.c:79</a></div></div>
<div class="ttc" id="channelstate_8h_html_a03585bc87e5bbd0f4d11bc789734c660aa8ab4bcda7378ccc17c39dfd880cba3d"><div class="ttname"><a href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660aa8ab4bcda7378ccc17c39dfd880cba3d">AST_STATE_UP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d95/channelstate_8h_source.html#l00042">channelstate.h:42</a></div></div>
<div class="ttc" id="test__cdr_8c_html_ac2b699afc1547e0d4f71ece789ee21e1"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#ac2b699afc1547e0d4f71ece789ee21e1">HANGUP_CHANNEL</a></div><div class="ttdeci">#define HANGUP_CHANNEL(channel, cause)</div><div class="ttdoc">Hang up a test channel safely. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00303">test_cdr.c:303</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="test_8h_html_a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b">TEST_INIT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00207">test.h:207</a></div></div>
<div class="ttc" id="test__cel_8c_html_af600138406d2c64d06bf7dedf447cfc9"><div class="ttname"><a href="../../db/dc4/test__cel_8c.html#af600138406d2c64d06bf7dedf447cfc9">to_sleep</a></div><div class="ttdeci">static struct timespec to_sleep</div><div class="ttdoc">A 1 second sleep. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/dc4/test__cel_8c_source.html#l00085">test_cel.c:85</a></div></div>
<div class="ttc" id="test_8h_html_aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c"><div class="ttname"><a href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c">AST_TEST_NOT_RUN</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00201">test.h:201</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a8739ae4d4e4305695b4deaebc79986f1"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a8739ae4d4e4305695b4deaebc79986f1">ALICE_CALLERID</a></div><div class="ttdeci">#define ALICE_CALLERID</div><div class="ttdoc">Alice&amp;#39;s Caller ID. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00216">test_cdr.c:216</a></div></div>
<div class="ttc" id="bridge_8h_html_a582e1dd73a483ac881cff01fa07f39ae"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a582e1dd73a483ac881cff01fa07f39ae">ast_bridge_impart</a></div><div class="ttdeci">int ast_bridge_impart(struct ast_bridge *bridge, struct ast_channel *chan, struct ast_channel *swap, struct ast_bridge_features *features, enum ast_bridge_impart_flags flags) attribute_warn_unused_result</div><div class="ttdoc">Impart a channel to a bridge (non-blocking) </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l01924">bridge.c:1924</a></div></div>
<div class="ttc" id="utils_8h_html_a1604b4d72144dd3d9f7da668e90337e9"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a></div><div class="ttdeci">#define RAII_VAR(vartype, varname, initval, dtor)</div><div class="ttdoc">Declare a variable that will call a destructor function when it goes out of scope. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00911">utils.h:911</a></div></div>
<div class="ttc" id="structast__party__caller_html"><div class="ttname"><a href="../../d4/d77/structast__party__caller.html">ast_party_caller</a></div><div class="ttdoc">Caller Party information. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l00419">channel.h:419</a></div></div>
<div class="ttc" id="bridge_8h_html_ac086b7d74fb40c2ede8514274585b101a01be425a6fb9fefd36905b542e903087"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#ac086b7d74fb40c2ede8514274585b101a01be425a6fb9fefd36905b542e903087">AST_BRIDGE_IMPART_CHAN_DEPARTABLE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00602">bridge.h:602</a></div></div>
<div class="ttc" id="test__cdr_8c_html_aabfd96ef82edc19b680e65889e005c93"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#aabfd96ef82edc19b680e65889e005c93">verify_mock_cdr_record</a></div><div class="ttdeci">static enum ast_test_result_state verify_mock_cdr_record(struct ast_test *test, struct ast_cdr *expected, int record)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00310">test_cdr.c:310</a></div></div>
<div class="ttc" id="causes_8h_html_a7858ab2ba4858d98e29f0ea54980313c"><div class="ttname"><a href="../../d4/da3/causes_8h.html#a7858ab2ba4858d98e29f0ea54980313c">AST_CAUSE_NORMAL</a></div><div class="ttdeci">#define AST_CAUSE_NORMAL</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/da3/causes_8h_source.html#l00150">causes.h:150</a></div></div>
<div class="ttc" id="structast__cdr_html"><div class="ttname"><a href="../../d4/d5d/structast__cdr.html">ast_cdr</a></div><div class="ttdoc">Responsible for call detail data. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00276">cdr.h:276</a></div></div>
<div class="ttc" id="structast__bridge_html"><div class="ttname"><a href="../../d4/d84/structast__bridge.html">ast_bridge</a></div><div class="ttdoc">Structure that contains information about a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00357">bridge.h:357</a></div></div>
<div class="ttc" id="namespacesip__to__pjsip_html_ab82f408a83ecba10ea39afd8abfd371e"><div class="ttname"><a href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">sip_to_pjsip.info</a></div><div class="ttdeci">def info(msg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d6f/sip__to__pjsip_8py_source.html#l01313">sip_to_pjsip.py:1313</a></div></div>
<div class="ttc" id="bridge_8h_html_a0075715d330c8492e03c6d3ca3f48e13"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a0075715d330c8492e03c6d3ca3f48e13">ast_bridge_depart</a></div><div class="ttdeci">int ast_bridge_depart(struct ast_channel *chan)</div><div class="ttdoc">Depart a channel from a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l01952">bridge.c:1952</a></div></div>
<div class="ttc" id="astobj2_8h_html_ae0422b60d8e25b6962b2d61ae4ddf724"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ae0422b60d8e25b6962b2d61ae4ddf724">ao2_alloc</a></div><div class="ttdeci">#define ao2_alloc(data_size, destructor_fn)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00411">astobj2.h:411</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a86d2cbfb5a0c115147944a541cc355e0"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a></div><div class="ttdeci">#define CHANNEL_TECH_NAME</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00055">test_cdr.c:55</a></div></div>
<div class="ttc" id="structtest_html"><div class="ttname"><a href="../../d8/d89/structtest.html">test</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d7d/test__logger_8c_source.html#l00043">test_logger.c:43</a></div></div>
<div class="ttc" id="bridge__basic_8h_html_a1410fb71fa67f9ee92f15b18439b7571"><div class="ttname"><a href="../../d4/d1e/bridge__basic_8h.html#a1410fb71fa67f9ee92f15b18439b7571">ast_bridge_basic_new</a></div><div class="ttdeci">struct ast_bridge * ast_bridge_basic_new(void)</div><div class="ttdoc">Create a new basic class bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l03617">bridge_basic.c:3617</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a4aab087f903dfe2609a124a828903cb5"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a4aab087f903dfe2609a124a828903cb5">safe_bridge_destroy</a></div><div class="ttdeci">static void safe_bridge_destroy(struct ast_bridge *bridge)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00379">test_cdr.c:379</a></div></div>
<div class="ttc" id="channelstate_8h_html_ad9d8f7d9e228b5af98a7b40db9f06448"><div class="ttname"><a href="../../d9/d95/channelstate_8h.html#ad9d8f7d9e228b5af98a7b40db9f06448">ast_setstate</a></div><div class="ttdeci">int ast_setstate(struct ast_channel *chan, enum ast_channel_state)</div><div class="ttdoc">Change the state of a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l07486">channel.c:7486</a></div></div>
<div class="ttc" id="cel__pgsql_8c_html_ad6c487210772a9b4b0ca04b04b847d4c"><div class="ttname"><a href="../../de/d1b/cel__pgsql_8c.html#ad6c487210772a9b4b0ca04b04b847d4c">result</a></div><div class="ttdeci">static PGresult * result</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1b/cel__pgsql_8c_source.html#l00088">cel_pgsql.c:88</a></div></div>
<div class="ttc" id="structast__cdr__config_html"><div class="ttname"><a href="../../d4/d69/structast__cdr__config.html">ast_cdr_config</a></div><div class="ttdoc">The global options available for CDRs. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00264">cdr.h:264</a></div></div>
<div class="ttc" id="structast__cdr_html_ab7fd8bddf0ce6987ae5e58fb64cfc9e2"><div class="ttname"><a href="../../d4/d5d/structast__cdr.html#ab7fd8bddf0ce6987ae5e58fb64cfc9e2">ast_cdr::clid</a></div><div class="ttdeci">char clid[AST_MAX_EXTENSION]</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00278">cdr.h:278</a></div></div>
<div class="ttc" id="test__cdr_8c_html_ac905defa905925ff383b4bc9d2f89e35"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#ac905defa905925ff383b4bc9d2f89e35">debug_cdr_config</a></div><div class="ttdeci">static struct ast_cdr_config debug_cdr_config</div><div class="ttdoc">A configuration suitable for &amp;#39;normal&amp;#39; CDRs. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00061">test_cdr.c:61</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a987d4f1e5d92597fac228fa99bcb56be"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a987d4f1e5d92597fac228fa99bcb56be">safe_channel_release</a></div><div class="ttdeci">static void safe_channel_release(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00371">test_cdr.c:371</a></div></div>
<div class="ttc" id="test_8h_html_aad2aec78205d328d23894a6598cc4044"><div class="ttname"><a href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044">ast_test_result_state</a></div><div class="ttdeci">ast_test_result_state</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00200">test.h:200</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a0688bf419204a171e4f6c6c1e212049e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0688bf419204a171e4f6c6c1e212049e">&#9670;&nbsp;</a></span>AST_TEST_DEFINE() <span class="overload">[8/24]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AST_TEST_DEFINE </td>
          <td>(</td>
          <td class="paramtype">test_cdr_single_twoparty_bridge_a&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00824">824</a> of file <a class="el" href="../../d7/d8e/test__cdr_8c_source.html">test_cdr.c</a>.</p>

<p class="reference">References <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00216">ALICE_CALLERID</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00411">ao2_alloc</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l01182">AST_AMA_DOCUMENTATION</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l03617">ast_bridge_basic_new()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l01952">ast_bridge_depart()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l01924">ast_bridge_impart()</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00602">AST_BRIDGE_IMPART_CHAN_DEPARTABLE</a>, <a class="el" href="../../d4/da3/causes_8h_source.html#l00150">AST_CAUSE_NORMAL</a>, <a class="el" href="../../dc/d07/cdr_8h_source.html#l00258">AST_CDR_ANSWERED</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00311">ast_channel_linkedid()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02945">ast_channel_lock</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00401">ast_copy_string()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l07486">ast_setstate()</a>, <a class="el" href="../../d9/d95/channelstate_8h_source.html#l00042">AST_STATE_UP</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00201">AST_TEST_NOT_RUN</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00219">BOB_CALLERID</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00055">CHANNEL_TECH_NAME</a>, <a class="el" href="../../dc/d07/cdr_8h_source.html#l00278">ast_cdr::clid</a>, <a class="el" href="../../de/dcc/conf2ael_8c_source.html#l00066">config</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00248">CREATE_ALICE_CHANNEL</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00259">CREATE_BOB_CHANNEL</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00387">do_sleep()</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00291">EMULATE_APP_DATA</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00303">HANGUP_CHANNEL</a>, <a class="el" href="../../d9/d6f/sip__to__pjsip_8py_source.html#l01313">sip_to_pjsip::info()</a>, <a class="el" href="../../dc/d07/cdr_8h_source.html#l00316">ast_cdr::linkedid</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00911">RAII_VAR</a>, <a class="el" href="../../de/d1b/cel__pgsql_8c_source.html#l00088">result</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00379">safe_bridge_destroy()</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00371">safe_channel_release()</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00079">SWAP_CONFIG</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00051">TEST_CATEGORY</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00208">TEST_EXECUTE</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00207">TEST_INIT</a>, and <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00310">verify_mock_cdr_record()</a>.</p>
<div class="fragment"><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;{</div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *, chan_alice, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d7/d8e/test__cdr_8c.html#a987d4f1e5d92597fac228fa99bcb56be">safe_channel_release</a>);</div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *, chan_bob, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d7/d8e/test__cdr_8c.html#a987d4f1e5d92597fac228fa99bcb56be">safe_channel_release</a>);</div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *, bridge, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d7/d8e/test__cdr_8c.html#a4aab087f903dfe2609a124a828903cb5">safe_bridge_destroy</a>);</div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d4/d69/structast__cdr__config.html">ast_cdr_config</a> *, <a class="code" href="../../de/dcc/conf2ael_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#ae0422b60d8e25b6962b2d61ae4ddf724">ao2_alloc</a>(<span class="keyword">sizeof</span>(*<a class="code" href="../../de/dcc/conf2ael_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a>), <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>),</div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;         <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;   <span class="keyword">struct </span>timespec <a class="code" href="../../db/dc4/test__cel_8c.html#af600138406d2c64d06bf7dedf447cfc9">to_sleep</a> = {1, 0};</div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;</div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d77/structast__party__caller.html">ast_party_caller</a> caller_alice = <a class="code" href="../../d7/d8e/test__cdr_8c.html#a8739ae4d4e4305695b4deaebc79986f1">ALICE_CALLERID</a>;</div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d77/structast__party__caller.html">ast_party_caller</a> caller_bob = <a class="code" href="../../d7/d8e/test__cdr_8c.html#a5c90b196c5211bf396b375a92349ef2c">BOB_CALLERID</a>;</div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d5d/structast__cdr.html">ast_cdr</a> bob_expected = {</div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;      .<a class="code" href="../../d4/d5d/structast__cdr.html#ab7fd8bddf0ce6987ae5e58fb64cfc9e2">clid</a> = <span class="stringliteral">&quot;\&quot;Bob\&quot; &lt;200&gt;&quot;</span>,</div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;      .src = <span class="stringliteral">&quot;200&quot;</span>,</div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;      .dst = <span class="stringliteral">&quot;200&quot;</span>,</div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;      .dcontext = <span class="stringliteral">&quot;default&quot;</span>,</div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;      .channel = <a class="code" href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a> <span class="stringliteral">&quot;/Bob&quot;</span>,</div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;      .lastapp = <span class="stringliteral">&quot;Bridge&quot;</span>,</div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;      .billsec = 1,</div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;      .amaflags = <a class="code" href="../../d5/d7b/channel_8h.html#a784b9642d6e2862b04b7f970b337549fa57aa76a632aa16d12a92e43b81c32a68">AST_AMA_DOCUMENTATION</a>,</div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;      .disposition = <a class="code" href="../../dc/d07/cdr_8h.html#a53e2666db1174cc83384daf9049023c0ac3e47d059a0e67a03f822f10bb7ec5b1">AST_CDR_ANSWERED</a>,</div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;      .accountcode = <span class="stringliteral">&quot;200&quot;</span>,</div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;   };</div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d5d/structast__cdr.html">ast_cdr</a> alice_expected = {</div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;      .<a class="code" href="../../d4/d5d/structast__cdr.html#ab7fd8bddf0ce6987ae5e58fb64cfc9e2">clid</a> = <span class="stringliteral">&quot;\&quot;Alice\&quot; &lt;100&gt;&quot;</span>,</div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;      .src = <span class="stringliteral">&quot;100&quot;</span>,</div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;      .dst = <span class="stringliteral">&quot;100&quot;</span>,</div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;      .dcontext = <span class="stringliteral">&quot;default&quot;</span>,</div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;      .channel = <a class="code" href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a> <span class="stringliteral">&quot;/Alice&quot;</span>,</div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;      .dstchannel = <a class="code" href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a> <span class="stringliteral">&quot;/Bob&quot;</span>,</div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;      .lastapp = <span class="stringliteral">&quot;Bridge&quot;</span>,</div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;      .billsec = 1,</div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;      .amaflags = <a class="code" href="../../d5/d7b/channel_8h.html#a784b9642d6e2862b04b7f970b337549fa57aa76a632aa16d12a92e43b81c32a68">AST_AMA_DOCUMENTATION</a>,</div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;      .disposition = <a class="code" href="../../dc/d07/cdr_8h.html#a53e2666db1174cc83384daf9049023c0ac3e47d059a0e67a03f822f10bb7ec5b1">AST_CDR_ANSWERED</a>,</div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;      .accountcode = <span class="stringliteral">&quot;100&quot;</span>,</div><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;      .peeraccount = <span class="stringliteral">&quot;200&quot;</span>,</div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;      .next = &amp;bob_expected,</div><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;   };</div><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;</div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;   <span class="keyword">enum</span> <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044">ast_test_result_state</a> <a class="code" href="../../de/d1b/cel__pgsql_8c.html#ad6c487210772a9b4b0ca04b04b847d4c">result</a> = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c">AST_TEST_NOT_RUN</a>;</div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;</div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;   <span class="keywordflow">switch</span> (cmd) {</div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b">TEST_INIT</a>:</div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;name = __func__;</div><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;category = <a class="code" href="../../d7/d8e/test__cdr_8c.html#add35ea2349b86888eef95d404e6faebf">TEST_CATEGORY</a>;</div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;summary = <span class="stringliteral">&quot;Test cdrs for a single party entering/leaving a bridge&quot;</span>;</div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;description =</div><div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;         <span class="stringliteral">&quot;Test the properties of a CDR for a call that is\n&quot;</span></div><div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;         <span class="stringliteral">&quot;answered, enters a bridge, and leaves it. In this scenario, the\n&quot;</span></div><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;         <span class="stringliteral">&quot;Party A should answer the bridge first.&quot;</span>;</div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c">AST_TEST_NOT_RUN</a>;</div><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e">TEST_EXECUTE</a>:</div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;   }</div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#a1ccf26b207f6e00ee0ece3e227de42a1">SWAP_CONFIG</a>(<a class="code" href="../../de/dcc/conf2ael_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a>, <a class="code" href="../../d7/d8e/test__cdr_8c.html#ac905defa905925ff383b4bc9d2f89e35">debug_cdr_config</a>);</div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#a1ed3332fe918eafa4f3f79c131525249">CREATE_ALICE_CHANNEL</a>(chan_alice, &amp;caller_alice, &amp;alice_expected);</div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;</div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#a415f8d0ccfd971c1eb213398ee53cf2c">CREATE_BOB_CHANNEL</a>(chan_bob, &amp;caller_bob, &amp;bob_expected);</div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;   <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(bob_expected.<a class="code" href="../../d4/d5d/structast__cdr.html#a2979e8d95424c018bf2c830b28a199d0">linkedid</a>, <a class="code" href="../../d5/d7b/channel_8h.html#aa776071546e0bb0eb8cfc4c3a3159dfc">ast_channel_linkedid</a>(chan_alice), <span class="keyword">sizeof</span>(bob_expected.<a class="code" href="../../d4/d5d/structast__cdr.html#a2979e8d95424c018bf2c830b28a199d0">linkedid</a>));</div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;</div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(chan_alice);</div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#ab91bafbff6fa458554e8745276c0b4d3">EMULATE_APP_DATA</a>(chan_alice, 1, <span class="stringliteral">&quot;Answer&quot;</span>, <span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;   <a class="code" href="../../d9/d95/channelstate_8h.html#ad9d8f7d9e228b5af98a7b40db9f06448">ast_setstate</a>(chan_alice, <a class="code" href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660aa8ab4bcda7378ccc17c39dfd880cba3d">AST_STATE_UP</a>);</div><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#ab91bafbff6fa458554e8745276c0b4d3">EMULATE_APP_DATA</a>(chan_alice, 2, <span class="stringliteral">&quot;Bridge&quot;</span>, <span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan_alice);</div><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;</div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;   bridge = <a class="code" href="../../d4/d1e/bridge__basic_8h.html#a1410fb71fa67f9ee92f15b18439b7571">ast_bridge_basic_new</a>();</div><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;   ast_test_validate(<a class="code" href="../../d8/d89/structtest.html">test</a>, bridge != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;</div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;   ast_test_validate(<a class="code" href="../../d8/d89/structtest.html">test</a>, !<a class="code" href="../../d4/d56/bridge_8h.html#a582e1dd73a483ac881cff01fa07f39ae">ast_bridge_impart</a>(bridge, chan_alice, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d4/d56/bridge_8h.html#ac086b7d74fb40c2ede8514274585b101a01be425a6fb9fefd36905b542e903087">AST_BRIDGE_IMPART_CHAN_DEPARTABLE</a>));</div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#a638dca57ef13cc34a8d584246f5add00">do_sleep</a>(&amp;to_sleep);</div><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;</div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(chan_bob);</div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#ab91bafbff6fa458554e8745276c0b4d3">EMULATE_APP_DATA</a>(chan_bob, 1, <span class="stringliteral">&quot;Answer&quot;</span>, <span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;   <a class="code" href="../../d9/d95/channelstate_8h.html#ad9d8f7d9e228b5af98a7b40db9f06448">ast_setstate</a>(chan_bob, <a class="code" href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660aa8ab4bcda7378ccc17c39dfd880cba3d">AST_STATE_UP</a>);</div><div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#ab91bafbff6fa458554e8745276c0b4d3">EMULATE_APP_DATA</a>(chan_bob, 2, <span class="stringliteral">&quot;Bridge&quot;</span>, <span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan_bob);</div><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;</div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;   ast_test_validate(<a class="code" href="../../d8/d89/structtest.html">test</a>, !<a class="code" href="../../d4/d56/bridge_8h.html#a582e1dd73a483ac881cff01fa07f39ae">ast_bridge_impart</a>(bridge, chan_bob, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d4/d56/bridge_8h.html#ac086b7d74fb40c2ede8514274585b101a01be425a6fb9fefd36905b542e903087">AST_BRIDGE_IMPART_CHAN_DEPARTABLE</a>));</div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#a638dca57ef13cc34a8d584246f5add00">do_sleep</a>(&amp;to_sleep);</div><div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;</div><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#a0075715d330c8492e03c6d3ca3f48e13">ast_bridge_depart</a>(chan_alice);</div><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#a0075715d330c8492e03c6d3ca3f48e13">ast_bridge_depart</a>(chan_bob);</div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;</div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#ac2b699afc1547e0d4f71ece789ee21e1">HANGUP_CHANNEL</a>(chan_alice, <a class="code" href="../../d4/da3/causes_8h.html#a7858ab2ba4858d98e29f0ea54980313c">AST_CAUSE_NORMAL</a>);</div><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#ac2b699afc1547e0d4f71ece789ee21e1">HANGUP_CHANNEL</a>(chan_bob, <a class="code" href="../../d4/da3/causes_8h.html#a7858ab2ba4858d98e29f0ea54980313c">AST_CAUSE_NORMAL</a>);</div><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;</div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;   result = <a class="code" href="../../d7/d8e/test__cdr_8c.html#aabfd96ef82edc19b680e65889e005c93">verify_mock_cdr_record</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, &amp;alice_expected, 2);</div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;</div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../de/d1b/cel__pgsql_8c.html#ad6c487210772a9b4b0ca04b04b847d4c">result</a>;</div><div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;}</div><div class="ttc" id="test__cdr_8c_html_ab91bafbff6fa458554e8745276c0b4d3"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#ab91bafbff6fa458554e8745276c0b4d3">EMULATE_APP_DATA</a></div><div class="ttdeci">#define EMULATE_APP_DATA(channel, priority, application, data)</div><div class="ttdoc">Emulate a channel entering into an application. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00291">test_cdr.c:291</a></div></div>
<div class="ttc" id="channel_8h_html_a493bdebe876caafb8ee535853310364a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a></div><div class="ttdeci">#define ast_channel_lock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02945">channel.h:2945</a></div></div>
<div class="ttc" id="structast__channel_html"><div class="ttname"><a href="../../df/d3c/structast__channel.html">ast_channel</a></div><div class="ttdoc">Main Channel structure associated with a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00073">channel_internal_api.c:73</a></div></div>
<div class="ttc" id="channel_8h_html_a784b9642d6e2862b04b7f970b337549fa57aa76a632aa16d12a92e43b81c32a68"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a784b9642d6e2862b04b7f970b337549fa57aa76a632aa16d12a92e43b81c32a68">AST_AMA_DOCUMENTATION</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01182">channel.h:1182</a></div></div>
<div class="ttc" id="conf2ael_8c_html_a74bb62276efdf39dd94048e007fca05b"><div class="ttname"><a href="../../de/dcc/conf2ael_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a></div><div class="ttdeci">char * config</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcc/conf2ael_8c_source.html#l00066">conf2ael.c:66</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a638dca57ef13cc34a8d584246f5add00"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a638dca57ef13cc34a8d584246f5add00">do_sleep</a></div><div class="ttdeci">static void do_sleep(struct timespec *to_sleep)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00387">test_cdr.c:387</a></div></div>
<div class="ttc" id="test__cdr_8c_html_add35ea2349b86888eef95d404e6faebf"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#add35ea2349b86888eef95d404e6faebf">TEST_CATEGORY</a></div><div class="ttdeci">#define TEST_CATEGORY</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00051">test_cdr.c:51</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a1ed3332fe918eafa4f3f79c131525249"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a1ed3332fe918eafa4f3f79c131525249">CREATE_ALICE_CHANNEL</a></div><div class="ttdeci">#define CREATE_ALICE_CHANNEL(channel_var, caller_id, expected_record)</div><div class="ttdoc">Create a test_cdr_chan_tech for Alice, and set the expected CDR records&amp;#39; linkedid and uniqueid...</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00248">test_cdr.c:248</a></div></div>
<div class="ttc" id="test_8h_html_a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e">TEST_EXECUTE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00208">test.h:208</a></div></div>
<div class="ttc" id="cdr_8h_html_a53e2666db1174cc83384daf9049023c0ac3e47d059a0e67a03f822f10bb7ec5b1"><div class="ttname"><a href="../../dc/d07/cdr_8h.html#a53e2666db1174cc83384daf9049023c0ac3e47d059a0e67a03f822f10bb7ec5b1">AST_CDR_ANSWERED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00258">cdr.h:258</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a1ccf26b207f6e00ee0ece3e227de42a1"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a1ccf26b207f6e00ee0ece3e227de42a1">SWAP_CONFIG</a></div><div class="ttdeci">#define SWAP_CONFIG(ao2_config, template)</div><div class="ttdoc">Macro to swap a configuration out from the CDR engine. This should be used at the beginning of each t...</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00079">test_cdr.c:79</a></div></div>
<div class="ttc" id="channelstate_8h_html_a03585bc87e5bbd0f4d11bc789734c660aa8ab4bcda7378ccc17c39dfd880cba3d"><div class="ttname"><a href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660aa8ab4bcda7378ccc17c39dfd880cba3d">AST_STATE_UP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d95/channelstate_8h_source.html#l00042">channelstate.h:42</a></div></div>
<div class="ttc" id="test__cdr_8c_html_ac2b699afc1547e0d4f71ece789ee21e1"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#ac2b699afc1547e0d4f71ece789ee21e1">HANGUP_CHANNEL</a></div><div class="ttdeci">#define HANGUP_CHANNEL(channel, cause)</div><div class="ttdoc">Hang up a test channel safely. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00303">test_cdr.c:303</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="test_8h_html_a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b">TEST_INIT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00207">test.h:207</a></div></div>
<div class="ttc" id="test__cel_8c_html_af600138406d2c64d06bf7dedf447cfc9"><div class="ttname"><a href="../../db/dc4/test__cel_8c.html#af600138406d2c64d06bf7dedf447cfc9">to_sleep</a></div><div class="ttdeci">static struct timespec to_sleep</div><div class="ttdoc">A 1 second sleep. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/dc4/test__cel_8c_source.html#l00085">test_cel.c:85</a></div></div>
<div class="ttc" id="channel_8h_html_aa776071546e0bb0eb8cfc4c3a3159dfc"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#aa776071546e0bb0eb8cfc4c3a3159dfc">ast_channel_linkedid</a></div><div class="ttdeci">const char * ast_channel_linkedid(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00311">channel_internal_api.c:311</a></div></div>
<div class="ttc" id="test_8h_html_aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c"><div class="ttname"><a href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c">AST_TEST_NOT_RUN</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00201">test.h:201</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a8739ae4d4e4305695b4deaebc79986f1"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a8739ae4d4e4305695b4deaebc79986f1">ALICE_CALLERID</a></div><div class="ttdeci">#define ALICE_CALLERID</div><div class="ttdoc">Alice&amp;#39;s Caller ID. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00216">test_cdr.c:216</a></div></div>
<div class="ttc" id="bridge_8h_html_a582e1dd73a483ac881cff01fa07f39ae"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a582e1dd73a483ac881cff01fa07f39ae">ast_bridge_impart</a></div><div class="ttdeci">int ast_bridge_impart(struct ast_bridge *bridge, struct ast_channel *chan, struct ast_channel *swap, struct ast_bridge_features *features, enum ast_bridge_impart_flags flags) attribute_warn_unused_result</div><div class="ttdoc">Impart a channel to a bridge (non-blocking) </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l01924">bridge.c:1924</a></div></div>
<div class="ttc" id="utils_8h_html_a1604b4d72144dd3d9f7da668e90337e9"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a></div><div class="ttdeci">#define RAII_VAR(vartype, varname, initval, dtor)</div><div class="ttdoc">Declare a variable that will call a destructor function when it goes out of scope. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00911">utils.h:911</a></div></div>
<div class="ttc" id="structast__cdr_html_a2979e8d95424c018bf2c830b28a199d0"><div class="ttname"><a href="../../d4/d5d/structast__cdr.html#a2979e8d95424c018bf2c830b28a199d0">ast_cdr::linkedid</a></div><div class="ttdeci">char linkedid[AST_MAX_UNIQUEID]</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00316">cdr.h:316</a></div></div>
<div class="ttc" id="structast__party__caller_html"><div class="ttname"><a href="../../d4/d77/structast__party__caller.html">ast_party_caller</a></div><div class="ttdoc">Caller Party information. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l00419">channel.h:419</a></div></div>
<div class="ttc" id="bridge_8h_html_ac086b7d74fb40c2ede8514274585b101a01be425a6fb9fefd36905b542e903087"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#ac086b7d74fb40c2ede8514274585b101a01be425a6fb9fefd36905b542e903087">AST_BRIDGE_IMPART_CHAN_DEPARTABLE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00602">bridge.h:602</a></div></div>
<div class="ttc" id="test__cdr_8c_html_aabfd96ef82edc19b680e65889e005c93"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#aabfd96ef82edc19b680e65889e005c93">verify_mock_cdr_record</a></div><div class="ttdeci">static enum ast_test_result_state verify_mock_cdr_record(struct ast_test *test, struct ast_cdr *expected, int record)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00310">test_cdr.c:310</a></div></div>
<div class="ttc" id="causes_8h_html_a7858ab2ba4858d98e29f0ea54980313c"><div class="ttname"><a href="../../d4/da3/causes_8h.html#a7858ab2ba4858d98e29f0ea54980313c">AST_CAUSE_NORMAL</a></div><div class="ttdeci">#define AST_CAUSE_NORMAL</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/da3/causes_8h_source.html#l00150">causes.h:150</a></div></div>
<div class="ttc" id="structast__cdr_html"><div class="ttname"><a href="../../d4/d5d/structast__cdr.html">ast_cdr</a></div><div class="ttdoc">Responsible for call detail data. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00276">cdr.h:276</a></div></div>
<div class="ttc" id="structast__bridge_html"><div class="ttname"><a href="../../d4/d84/structast__bridge.html">ast_bridge</a></div><div class="ttdoc">Structure that contains information about a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00357">bridge.h:357</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a415f8d0ccfd971c1eb213398ee53cf2c"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a415f8d0ccfd971c1eb213398ee53cf2c">CREATE_BOB_CHANNEL</a></div><div class="ttdeci">#define CREATE_BOB_CHANNEL(channel_var, caller_id, expected_record)</div><div class="ttdoc">Create a test_cdr_chan_tech for Bob, and set the expected CDR records&amp;#39; linkedid and uniqueid...</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00259">test_cdr.c:259</a></div></div>
<div class="ttc" id="namespacesip__to__pjsip_html_ab82f408a83ecba10ea39afd8abfd371e"><div class="ttname"><a href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">sip_to_pjsip.info</a></div><div class="ttdeci">def info(msg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d6f/sip__to__pjsip_8py_source.html#l01313">sip_to_pjsip.py:1313</a></div></div>
<div class="ttc" id="bridge_8h_html_a0075715d330c8492e03c6d3ca3f48e13"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a0075715d330c8492e03c6d3ca3f48e13">ast_bridge_depart</a></div><div class="ttdeci">int ast_bridge_depart(struct ast_channel *chan)</div><div class="ttdoc">Depart a channel from a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l01952">bridge.c:1952</a></div></div>
<div class="ttc" id="astobj2_8h_html_ae0422b60d8e25b6962b2d61ae4ddf724"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ae0422b60d8e25b6962b2d61ae4ddf724">ao2_alloc</a></div><div class="ttdeci">#define ao2_alloc(data_size, destructor_fn)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00411">astobj2.h:411</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a86d2cbfb5a0c115147944a541cc355e0"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a></div><div class="ttdeci">#define CHANNEL_TECH_NAME</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00055">test_cdr.c:55</a></div></div>
<div class="ttc" id="structtest_html"><div class="ttname"><a href="../../d8/d89/structtest.html">test</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d7d/test__logger_8c_source.html#l00043">test_logger.c:43</a></div></div>
<div class="ttc" id="bridge__basic_8h_html_a1410fb71fa67f9ee92f15b18439b7571"><div class="ttname"><a href="../../d4/d1e/bridge__basic_8h.html#a1410fb71fa67f9ee92f15b18439b7571">ast_bridge_basic_new</a></div><div class="ttdeci">struct ast_bridge * ast_bridge_basic_new(void)</div><div class="ttdoc">Create a new basic class bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l03617">bridge_basic.c:3617</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="strings_8h_html_ac4040268f7b6ed77dfc49c7767626369"><div class="ttname"><a href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a></div><div class="ttdeci">void ast_copy_string(char *dst, const char *src, size_t size)</div><div class="ttdoc">Size-limited null-terminating string copy. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00401">strings.h:401</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a4aab087f903dfe2609a124a828903cb5"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a4aab087f903dfe2609a124a828903cb5">safe_bridge_destroy</a></div><div class="ttdeci">static void safe_bridge_destroy(struct ast_bridge *bridge)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00379">test_cdr.c:379</a></div></div>
<div class="ttc" id="channelstate_8h_html_ad9d8f7d9e228b5af98a7b40db9f06448"><div class="ttname"><a href="../../d9/d95/channelstate_8h.html#ad9d8f7d9e228b5af98a7b40db9f06448">ast_setstate</a></div><div class="ttdeci">int ast_setstate(struct ast_channel *chan, enum ast_channel_state)</div><div class="ttdoc">Change the state of a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l07486">channel.c:7486</a></div></div>
<div class="ttc" id="cel__pgsql_8c_html_ad6c487210772a9b4b0ca04b04b847d4c"><div class="ttname"><a href="../../de/d1b/cel__pgsql_8c.html#ad6c487210772a9b4b0ca04b04b847d4c">result</a></div><div class="ttdeci">static PGresult * result</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1b/cel__pgsql_8c_source.html#l00088">cel_pgsql.c:88</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a5c90b196c5211bf396b375a92349ef2c"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a5c90b196c5211bf396b375a92349ef2c">BOB_CALLERID</a></div><div class="ttdeci">#define BOB_CALLERID</div><div class="ttdoc">Bob&amp;#39;s Caller ID. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00219">test_cdr.c:219</a></div></div>
<div class="ttc" id="structast__cdr__config_html"><div class="ttname"><a href="../../d4/d69/structast__cdr__config.html">ast_cdr_config</a></div><div class="ttdoc">The global options available for CDRs. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00264">cdr.h:264</a></div></div>
<div class="ttc" id="structast__cdr_html_ab7fd8bddf0ce6987ae5e58fb64cfc9e2"><div class="ttname"><a href="../../d4/d5d/structast__cdr.html#ab7fd8bddf0ce6987ae5e58fb64cfc9e2">ast_cdr::clid</a></div><div class="ttdeci">char clid[AST_MAX_EXTENSION]</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00278">cdr.h:278</a></div></div>
<div class="ttc" id="test__cdr_8c_html_ac905defa905925ff383b4bc9d2f89e35"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#ac905defa905925ff383b4bc9d2f89e35">debug_cdr_config</a></div><div class="ttdeci">static struct ast_cdr_config debug_cdr_config</div><div class="ttdoc">A configuration suitable for &amp;#39;normal&amp;#39; CDRs. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00061">test_cdr.c:61</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a987d4f1e5d92597fac228fa99bcb56be"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a987d4f1e5d92597fac228fa99bcb56be">safe_channel_release</a></div><div class="ttdeci">static void safe_channel_release(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00371">test_cdr.c:371</a></div></div>
<div class="ttc" id="test_8h_html_aad2aec78205d328d23894a6598cc4044"><div class="ttname"><a href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044">ast_test_result_state</a></div><div class="ttdeci">ast_test_result_state</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00200">test.h:200</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="afb246216ebe182f49198cd8af9dd7d1e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb246216ebe182f49198cd8af9dd7d1e">&#9670;&nbsp;</a></span>AST_TEST_DEFINE() <span class="overload">[9/24]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AST_TEST_DEFINE </td>
          <td>(</td>
          <td class="paramtype">test_cdr_single_twoparty_bridge_b&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00916">916</a> of file <a class="el" href="../../d7/d8e/test__cdr_8c_source.html">test_cdr.c</a>.</p>

<p class="reference">References <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00216">ALICE_CALLERID</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00411">ao2_alloc</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l01182">AST_AMA_DOCUMENTATION</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l03617">ast_bridge_basic_new()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l01952">ast_bridge_depart()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l01924">ast_bridge_impart()</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00602">AST_BRIDGE_IMPART_CHAN_DEPARTABLE</a>, <a class="el" href="../../d4/da3/causes_8h_source.html#l00150">AST_CAUSE_NORMAL</a>, <a class="el" href="../../dc/d07/cdr_8h_source.html#l00258">AST_CDR_ANSWERED</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00311">ast_channel_linkedid()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02945">ast_channel_lock</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00401">ast_copy_string()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l07486">ast_setstate()</a>, <a class="el" href="../../d9/d95/channelstate_8h_source.html#l00042">AST_STATE_UP</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00201">AST_TEST_NOT_RUN</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00219">BOB_CALLERID</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00055">CHANNEL_TECH_NAME</a>, <a class="el" href="../../dc/d07/cdr_8h_source.html#l00278">ast_cdr::clid</a>, <a class="el" href="../../de/dcc/conf2ael_8c_source.html#l00066">config</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00248">CREATE_ALICE_CHANNEL</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00259">CREATE_BOB_CHANNEL</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00387">do_sleep()</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00291">EMULATE_APP_DATA</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00303">HANGUP_CHANNEL</a>, <a class="el" href="../../d9/d6f/sip__to__pjsip_8py_source.html#l01313">sip_to_pjsip::info()</a>, <a class="el" href="../../dc/d07/cdr_8h_source.html#l00316">ast_cdr::linkedid</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00911">RAII_VAR</a>, <a class="el" href="../../de/d1b/cel__pgsql_8c_source.html#l00088">result</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00379">safe_bridge_destroy()</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00371">safe_channel_release()</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00079">SWAP_CONFIG</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00051">TEST_CATEGORY</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00208">TEST_EXECUTE</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00207">TEST_INIT</a>, and <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00310">verify_mock_cdr_record()</a>.</p>
<div class="fragment"><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;{</div><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *, chan_alice, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d7/d8e/test__cdr_8c.html#a987d4f1e5d92597fac228fa99bcb56be">safe_channel_release</a>);</div><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *, chan_bob, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d7/d8e/test__cdr_8c.html#a987d4f1e5d92597fac228fa99bcb56be">safe_channel_release</a>);</div><div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *, bridge, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d7/d8e/test__cdr_8c.html#a4aab087f903dfe2609a124a828903cb5">safe_bridge_destroy</a>);</div><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d4/d69/structast__cdr__config.html">ast_cdr_config</a> *, <a class="code" href="../../de/dcc/conf2ael_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#ae0422b60d8e25b6962b2d61ae4ddf724">ao2_alloc</a>(<span class="keyword">sizeof</span>(*<a class="code" href="../../de/dcc/conf2ael_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a>), <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>),</div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;         <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;   <span class="keyword">struct </span>timespec <a class="code" href="../../db/dc4/test__cel_8c.html#af600138406d2c64d06bf7dedf447cfc9">to_sleep</a> = {1, 0};</div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;</div><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d77/structast__party__caller.html">ast_party_caller</a> caller_alice = <a class="code" href="../../d7/d8e/test__cdr_8c.html#a8739ae4d4e4305695b4deaebc79986f1">ALICE_CALLERID</a>;</div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d77/structast__party__caller.html">ast_party_caller</a> caller_bob = <a class="code" href="../../d7/d8e/test__cdr_8c.html#a5c90b196c5211bf396b375a92349ef2c">BOB_CALLERID</a>;</div><div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d5d/structast__cdr.html">ast_cdr</a> bob_expected = {</div><div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;      .<a class="code" href="../../d4/d5d/structast__cdr.html#ab7fd8bddf0ce6987ae5e58fb64cfc9e2">clid</a> = <span class="stringliteral">&quot;\&quot;Bob\&quot; &lt;200&gt;&quot;</span>,</div><div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;      .src = <span class="stringliteral">&quot;200&quot;</span>,</div><div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;      .dst = <span class="stringliteral">&quot;200&quot;</span>,</div><div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;      .dcontext = <span class="stringliteral">&quot;default&quot;</span>,</div><div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;      .channel = <a class="code" href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a> <span class="stringliteral">&quot;/Bob&quot;</span>,</div><div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;      .lastapp = <span class="stringliteral">&quot;Bridge&quot;</span>,</div><div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;      .billsec = 1,</div><div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;      .amaflags = <a class="code" href="../../d5/d7b/channel_8h.html#a784b9642d6e2862b04b7f970b337549fa57aa76a632aa16d12a92e43b81c32a68">AST_AMA_DOCUMENTATION</a>,</div><div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;      .disposition = <a class="code" href="../../dc/d07/cdr_8h.html#a53e2666db1174cc83384daf9049023c0ac3e47d059a0e67a03f822f10bb7ec5b1">AST_CDR_ANSWERED</a>,</div><div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;      .accountcode = <span class="stringliteral">&quot;200&quot;</span>,</div><div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;   };</div><div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d5d/structast__cdr.html">ast_cdr</a> alice_expected = {</div><div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;      .<a class="code" href="../../d4/d5d/structast__cdr.html#ab7fd8bddf0ce6987ae5e58fb64cfc9e2">clid</a> = <span class="stringliteral">&quot;\&quot;Alice\&quot; &lt;100&gt;&quot;</span>,</div><div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;      .src = <span class="stringliteral">&quot;100&quot;</span>,</div><div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;      .dst = <span class="stringliteral">&quot;100&quot;</span>,</div><div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;      .dcontext = <span class="stringliteral">&quot;default&quot;</span>,</div><div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;      .channel = <a class="code" href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a> <span class="stringliteral">&quot;/Alice&quot;</span>,</div><div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;      .dstchannel = <a class="code" href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a> <span class="stringliteral">&quot;/Bob&quot;</span>,</div><div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;      .lastapp = <span class="stringliteral">&quot;Bridge&quot;</span>,</div><div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;      .billsec = 1,</div><div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;      .amaflags = <a class="code" href="../../d5/d7b/channel_8h.html#a784b9642d6e2862b04b7f970b337549fa57aa76a632aa16d12a92e43b81c32a68">AST_AMA_DOCUMENTATION</a>,</div><div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;      .disposition = <a class="code" href="../../dc/d07/cdr_8h.html#a53e2666db1174cc83384daf9049023c0ac3e47d059a0e67a03f822f10bb7ec5b1">AST_CDR_ANSWERED</a>,</div><div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;      .accountcode = <span class="stringliteral">&quot;100&quot;</span>,</div><div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;      .peeraccount = <span class="stringliteral">&quot;200&quot;</span>,</div><div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;      .next = &amp;bob_expected,</div><div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;   };</div><div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;</div><div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;   <span class="keyword">enum</span> <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044">ast_test_result_state</a> <a class="code" href="../../de/d1b/cel__pgsql_8c.html#ad6c487210772a9b4b0ca04b04b847d4c">result</a> = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c">AST_TEST_NOT_RUN</a>;</div><div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;</div><div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;   <span class="keywordflow">switch</span> (cmd) {</div><div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b">TEST_INIT</a>:</div><div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;name = __func__;</div><div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;category = <a class="code" href="../../d7/d8e/test__cdr_8c.html#add35ea2349b86888eef95d404e6faebf">TEST_CATEGORY</a>;</div><div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;summary = <span class="stringliteral">&quot;Test cdrs for a single party entering/leaving a bridge&quot;</span>;</div><div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;description =</div><div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;         <span class="stringliteral">&quot;Test the properties of a CDR for a call that is\n&quot;</span></div><div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;         <span class="stringliteral">&quot;answered, enters a bridge, and leaves it. In this scenario, the\n&quot;</span></div><div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;         <span class="stringliteral">&quot;Party B should answer the bridge first.&quot;</span>;</div><div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c">AST_TEST_NOT_RUN</a>;</div><div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e">TEST_EXECUTE</a>:</div><div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;   }</div><div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#a1ccf26b207f6e00ee0ece3e227de42a1">SWAP_CONFIG</a>(<a class="code" href="../../de/dcc/conf2ael_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a>, <a class="code" href="../../d7/d8e/test__cdr_8c.html#ac905defa905925ff383b4bc9d2f89e35">debug_cdr_config</a>);</div><div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#a1ed3332fe918eafa4f3f79c131525249">CREATE_ALICE_CHANNEL</a>(chan_alice, &amp;caller_alice, &amp;alice_expected);</div><div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;</div><div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#a415f8d0ccfd971c1eb213398ee53cf2c">CREATE_BOB_CHANNEL</a>(chan_bob, &amp;caller_bob, &amp;bob_expected);</div><div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;   <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(bob_expected.<a class="code" href="../../d4/d5d/structast__cdr.html#a2979e8d95424c018bf2c830b28a199d0">linkedid</a>, <a class="code" href="../../d5/d7b/channel_8h.html#aa776071546e0bb0eb8cfc4c3a3159dfc">ast_channel_linkedid</a>(chan_alice), <span class="keyword">sizeof</span>(bob_expected.<a class="code" href="../../d4/d5d/structast__cdr.html#a2979e8d95424c018bf2c830b28a199d0">linkedid</a>));</div><div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;</div><div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan_alice);</div><div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#ab91bafbff6fa458554e8745276c0b4d3">EMULATE_APP_DATA</a>(chan_alice, 1, <span class="stringliteral">&quot;Answer&quot;</span>, <span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;   <a class="code" href="../../d9/d95/channelstate_8h.html#ad9d8f7d9e228b5af98a7b40db9f06448">ast_setstate</a>(chan_alice, <a class="code" href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660aa8ab4bcda7378ccc17c39dfd880cba3d">AST_STATE_UP</a>);</div><div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#ab91bafbff6fa458554e8745276c0b4d3">EMULATE_APP_DATA</a>(chan_alice, 2, <span class="stringliteral">&quot;Bridge&quot;</span>, <span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan_alice);</div><div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;</div><div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;   bridge = <a class="code" href="../../d4/d1e/bridge__basic_8h.html#a1410fb71fa67f9ee92f15b18439b7571">ast_bridge_basic_new</a>();</div><div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;   ast_test_validate(<a class="code" href="../../d8/d89/structtest.html">test</a>, bridge != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;</div><div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(chan_bob);</div><div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#ab91bafbff6fa458554e8745276c0b4d3">EMULATE_APP_DATA</a>(chan_bob, 1, <span class="stringliteral">&quot;Answer&quot;</span>, <span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;   <a class="code" href="../../d9/d95/channelstate_8h.html#ad9d8f7d9e228b5af98a7b40db9f06448">ast_setstate</a>(chan_bob, <a class="code" href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660aa8ab4bcda7378ccc17c39dfd880cba3d">AST_STATE_UP</a>);</div><div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#ab91bafbff6fa458554e8745276c0b4d3">EMULATE_APP_DATA</a>(chan_bob, 2, <span class="stringliteral">&quot;Bridge&quot;</span>, <span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan_bob);</div><div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#a638dca57ef13cc34a8d584246f5add00">do_sleep</a>(&amp;to_sleep);</div><div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;</div><div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;   ast_test_validate(<a class="code" href="../../d8/d89/structtest.html">test</a>, !<a class="code" href="../../d4/d56/bridge_8h.html#a582e1dd73a483ac881cff01fa07f39ae">ast_bridge_impart</a>(bridge, chan_bob, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d4/d56/bridge_8h.html#ac086b7d74fb40c2ede8514274585b101a01be425a6fb9fefd36905b542e903087">AST_BRIDGE_IMPART_CHAN_DEPARTABLE</a>));</div><div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#a638dca57ef13cc34a8d584246f5add00">do_sleep</a>(&amp;to_sleep);</div><div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;</div><div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;   ast_test_validate(<a class="code" href="../../d8/d89/structtest.html">test</a>, !<a class="code" href="../../d4/d56/bridge_8h.html#a582e1dd73a483ac881cff01fa07f39ae">ast_bridge_impart</a>(bridge, chan_alice, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d4/d56/bridge_8h.html#ac086b7d74fb40c2ede8514274585b101a01be425a6fb9fefd36905b542e903087">AST_BRIDGE_IMPART_CHAN_DEPARTABLE</a>));</div><div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#a638dca57ef13cc34a8d584246f5add00">do_sleep</a>(&amp;to_sleep);</div><div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;</div><div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#a0075715d330c8492e03c6d3ca3f48e13">ast_bridge_depart</a>(chan_alice);</div><div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#a0075715d330c8492e03c6d3ca3f48e13">ast_bridge_depart</a>(chan_bob);</div><div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;</div><div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#ac2b699afc1547e0d4f71ece789ee21e1">HANGUP_CHANNEL</a>(chan_alice, <a class="code" href="../../d4/da3/causes_8h.html#a7858ab2ba4858d98e29f0ea54980313c">AST_CAUSE_NORMAL</a>);</div><div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#ac2b699afc1547e0d4f71ece789ee21e1">HANGUP_CHANNEL</a>(chan_bob, <a class="code" href="../../d4/da3/causes_8h.html#a7858ab2ba4858d98e29f0ea54980313c">AST_CAUSE_NORMAL</a>);</div><div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;</div><div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;   result = <a class="code" href="../../d7/d8e/test__cdr_8c.html#aabfd96ef82edc19b680e65889e005c93">verify_mock_cdr_record</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, &amp;alice_expected, 2);</div><div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;</div><div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../de/d1b/cel__pgsql_8c.html#ad6c487210772a9b4b0ca04b04b847d4c">result</a>;</div><div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;}</div><div class="ttc" id="test__cdr_8c_html_ab91bafbff6fa458554e8745276c0b4d3"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#ab91bafbff6fa458554e8745276c0b4d3">EMULATE_APP_DATA</a></div><div class="ttdeci">#define EMULATE_APP_DATA(channel, priority, application, data)</div><div class="ttdoc">Emulate a channel entering into an application. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00291">test_cdr.c:291</a></div></div>
<div class="ttc" id="channel_8h_html_a493bdebe876caafb8ee535853310364a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a></div><div class="ttdeci">#define ast_channel_lock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02945">channel.h:2945</a></div></div>
<div class="ttc" id="structast__channel_html"><div class="ttname"><a href="../../df/d3c/structast__channel.html">ast_channel</a></div><div class="ttdoc">Main Channel structure associated with a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00073">channel_internal_api.c:73</a></div></div>
<div class="ttc" id="channel_8h_html_a784b9642d6e2862b04b7f970b337549fa57aa76a632aa16d12a92e43b81c32a68"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a784b9642d6e2862b04b7f970b337549fa57aa76a632aa16d12a92e43b81c32a68">AST_AMA_DOCUMENTATION</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01182">channel.h:1182</a></div></div>
<div class="ttc" id="conf2ael_8c_html_a74bb62276efdf39dd94048e007fca05b"><div class="ttname"><a href="../../de/dcc/conf2ael_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a></div><div class="ttdeci">char * config</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcc/conf2ael_8c_source.html#l00066">conf2ael.c:66</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a638dca57ef13cc34a8d584246f5add00"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a638dca57ef13cc34a8d584246f5add00">do_sleep</a></div><div class="ttdeci">static void do_sleep(struct timespec *to_sleep)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00387">test_cdr.c:387</a></div></div>
<div class="ttc" id="test__cdr_8c_html_add35ea2349b86888eef95d404e6faebf"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#add35ea2349b86888eef95d404e6faebf">TEST_CATEGORY</a></div><div class="ttdeci">#define TEST_CATEGORY</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00051">test_cdr.c:51</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a1ed3332fe918eafa4f3f79c131525249"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a1ed3332fe918eafa4f3f79c131525249">CREATE_ALICE_CHANNEL</a></div><div class="ttdeci">#define CREATE_ALICE_CHANNEL(channel_var, caller_id, expected_record)</div><div class="ttdoc">Create a test_cdr_chan_tech for Alice, and set the expected CDR records&amp;#39; linkedid and uniqueid...</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00248">test_cdr.c:248</a></div></div>
<div class="ttc" id="test_8h_html_a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e">TEST_EXECUTE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00208">test.h:208</a></div></div>
<div class="ttc" id="cdr_8h_html_a53e2666db1174cc83384daf9049023c0ac3e47d059a0e67a03f822f10bb7ec5b1"><div class="ttname"><a href="../../dc/d07/cdr_8h.html#a53e2666db1174cc83384daf9049023c0ac3e47d059a0e67a03f822f10bb7ec5b1">AST_CDR_ANSWERED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00258">cdr.h:258</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a1ccf26b207f6e00ee0ece3e227de42a1"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a1ccf26b207f6e00ee0ece3e227de42a1">SWAP_CONFIG</a></div><div class="ttdeci">#define SWAP_CONFIG(ao2_config, template)</div><div class="ttdoc">Macro to swap a configuration out from the CDR engine. This should be used at the beginning of each t...</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00079">test_cdr.c:79</a></div></div>
<div class="ttc" id="channelstate_8h_html_a03585bc87e5bbd0f4d11bc789734c660aa8ab4bcda7378ccc17c39dfd880cba3d"><div class="ttname"><a href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660aa8ab4bcda7378ccc17c39dfd880cba3d">AST_STATE_UP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d95/channelstate_8h_source.html#l00042">channelstate.h:42</a></div></div>
<div class="ttc" id="test__cdr_8c_html_ac2b699afc1547e0d4f71ece789ee21e1"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#ac2b699afc1547e0d4f71ece789ee21e1">HANGUP_CHANNEL</a></div><div class="ttdeci">#define HANGUP_CHANNEL(channel, cause)</div><div class="ttdoc">Hang up a test channel safely. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00303">test_cdr.c:303</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="test_8h_html_a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b">TEST_INIT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00207">test.h:207</a></div></div>
<div class="ttc" id="test__cel_8c_html_af600138406d2c64d06bf7dedf447cfc9"><div class="ttname"><a href="../../db/dc4/test__cel_8c.html#af600138406d2c64d06bf7dedf447cfc9">to_sleep</a></div><div class="ttdeci">static struct timespec to_sleep</div><div class="ttdoc">A 1 second sleep. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/dc4/test__cel_8c_source.html#l00085">test_cel.c:85</a></div></div>
<div class="ttc" id="channel_8h_html_aa776071546e0bb0eb8cfc4c3a3159dfc"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#aa776071546e0bb0eb8cfc4c3a3159dfc">ast_channel_linkedid</a></div><div class="ttdeci">const char * ast_channel_linkedid(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00311">channel_internal_api.c:311</a></div></div>
<div class="ttc" id="test_8h_html_aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c"><div class="ttname"><a href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c">AST_TEST_NOT_RUN</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00201">test.h:201</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a8739ae4d4e4305695b4deaebc79986f1"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a8739ae4d4e4305695b4deaebc79986f1">ALICE_CALLERID</a></div><div class="ttdeci">#define ALICE_CALLERID</div><div class="ttdoc">Alice&amp;#39;s Caller ID. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00216">test_cdr.c:216</a></div></div>
<div class="ttc" id="bridge_8h_html_a582e1dd73a483ac881cff01fa07f39ae"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a582e1dd73a483ac881cff01fa07f39ae">ast_bridge_impart</a></div><div class="ttdeci">int ast_bridge_impart(struct ast_bridge *bridge, struct ast_channel *chan, struct ast_channel *swap, struct ast_bridge_features *features, enum ast_bridge_impart_flags flags) attribute_warn_unused_result</div><div class="ttdoc">Impart a channel to a bridge (non-blocking) </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l01924">bridge.c:1924</a></div></div>
<div class="ttc" id="utils_8h_html_a1604b4d72144dd3d9f7da668e90337e9"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a></div><div class="ttdeci">#define RAII_VAR(vartype, varname, initval, dtor)</div><div class="ttdoc">Declare a variable that will call a destructor function when it goes out of scope. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00911">utils.h:911</a></div></div>
<div class="ttc" id="structast__cdr_html_a2979e8d95424c018bf2c830b28a199d0"><div class="ttname"><a href="../../d4/d5d/structast__cdr.html#a2979e8d95424c018bf2c830b28a199d0">ast_cdr::linkedid</a></div><div class="ttdeci">char linkedid[AST_MAX_UNIQUEID]</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00316">cdr.h:316</a></div></div>
<div class="ttc" id="structast__party__caller_html"><div class="ttname"><a href="../../d4/d77/structast__party__caller.html">ast_party_caller</a></div><div class="ttdoc">Caller Party information. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l00419">channel.h:419</a></div></div>
<div class="ttc" id="bridge_8h_html_ac086b7d74fb40c2ede8514274585b101a01be425a6fb9fefd36905b542e903087"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#ac086b7d74fb40c2ede8514274585b101a01be425a6fb9fefd36905b542e903087">AST_BRIDGE_IMPART_CHAN_DEPARTABLE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00602">bridge.h:602</a></div></div>
<div class="ttc" id="test__cdr_8c_html_aabfd96ef82edc19b680e65889e005c93"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#aabfd96ef82edc19b680e65889e005c93">verify_mock_cdr_record</a></div><div class="ttdeci">static enum ast_test_result_state verify_mock_cdr_record(struct ast_test *test, struct ast_cdr *expected, int record)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00310">test_cdr.c:310</a></div></div>
<div class="ttc" id="causes_8h_html_a7858ab2ba4858d98e29f0ea54980313c"><div class="ttname"><a href="../../d4/da3/causes_8h.html#a7858ab2ba4858d98e29f0ea54980313c">AST_CAUSE_NORMAL</a></div><div class="ttdeci">#define AST_CAUSE_NORMAL</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/da3/causes_8h_source.html#l00150">causes.h:150</a></div></div>
<div class="ttc" id="structast__cdr_html"><div class="ttname"><a href="../../d4/d5d/structast__cdr.html">ast_cdr</a></div><div class="ttdoc">Responsible for call detail data. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00276">cdr.h:276</a></div></div>
<div class="ttc" id="structast__bridge_html"><div class="ttname"><a href="../../d4/d84/structast__bridge.html">ast_bridge</a></div><div class="ttdoc">Structure that contains information about a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00357">bridge.h:357</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a415f8d0ccfd971c1eb213398ee53cf2c"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a415f8d0ccfd971c1eb213398ee53cf2c">CREATE_BOB_CHANNEL</a></div><div class="ttdeci">#define CREATE_BOB_CHANNEL(channel_var, caller_id, expected_record)</div><div class="ttdoc">Create a test_cdr_chan_tech for Bob, and set the expected CDR records&amp;#39; linkedid and uniqueid...</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00259">test_cdr.c:259</a></div></div>
<div class="ttc" id="namespacesip__to__pjsip_html_ab82f408a83ecba10ea39afd8abfd371e"><div class="ttname"><a href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">sip_to_pjsip.info</a></div><div class="ttdeci">def info(msg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d6f/sip__to__pjsip_8py_source.html#l01313">sip_to_pjsip.py:1313</a></div></div>
<div class="ttc" id="bridge_8h_html_a0075715d330c8492e03c6d3ca3f48e13"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a0075715d330c8492e03c6d3ca3f48e13">ast_bridge_depart</a></div><div class="ttdeci">int ast_bridge_depart(struct ast_channel *chan)</div><div class="ttdoc">Depart a channel from a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l01952">bridge.c:1952</a></div></div>
<div class="ttc" id="astobj2_8h_html_ae0422b60d8e25b6962b2d61ae4ddf724"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ae0422b60d8e25b6962b2d61ae4ddf724">ao2_alloc</a></div><div class="ttdeci">#define ao2_alloc(data_size, destructor_fn)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00411">astobj2.h:411</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a86d2cbfb5a0c115147944a541cc355e0"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a></div><div class="ttdeci">#define CHANNEL_TECH_NAME</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00055">test_cdr.c:55</a></div></div>
<div class="ttc" id="structtest_html"><div class="ttname"><a href="../../d8/d89/structtest.html">test</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d7d/test__logger_8c_source.html#l00043">test_logger.c:43</a></div></div>
<div class="ttc" id="bridge__basic_8h_html_a1410fb71fa67f9ee92f15b18439b7571"><div class="ttname"><a href="../../d4/d1e/bridge__basic_8h.html#a1410fb71fa67f9ee92f15b18439b7571">ast_bridge_basic_new</a></div><div class="ttdeci">struct ast_bridge * ast_bridge_basic_new(void)</div><div class="ttdoc">Create a new basic class bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l03617">bridge_basic.c:3617</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="strings_8h_html_ac4040268f7b6ed77dfc49c7767626369"><div class="ttname"><a href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a></div><div class="ttdeci">void ast_copy_string(char *dst, const char *src, size_t size)</div><div class="ttdoc">Size-limited null-terminating string copy. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00401">strings.h:401</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a4aab087f903dfe2609a124a828903cb5"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a4aab087f903dfe2609a124a828903cb5">safe_bridge_destroy</a></div><div class="ttdeci">static void safe_bridge_destroy(struct ast_bridge *bridge)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00379">test_cdr.c:379</a></div></div>
<div class="ttc" id="channelstate_8h_html_ad9d8f7d9e228b5af98a7b40db9f06448"><div class="ttname"><a href="../../d9/d95/channelstate_8h.html#ad9d8f7d9e228b5af98a7b40db9f06448">ast_setstate</a></div><div class="ttdeci">int ast_setstate(struct ast_channel *chan, enum ast_channel_state)</div><div class="ttdoc">Change the state of a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l07486">channel.c:7486</a></div></div>
<div class="ttc" id="cel__pgsql_8c_html_ad6c487210772a9b4b0ca04b04b847d4c"><div class="ttname"><a href="../../de/d1b/cel__pgsql_8c.html#ad6c487210772a9b4b0ca04b04b847d4c">result</a></div><div class="ttdeci">static PGresult * result</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1b/cel__pgsql_8c_source.html#l00088">cel_pgsql.c:88</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a5c90b196c5211bf396b375a92349ef2c"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a5c90b196c5211bf396b375a92349ef2c">BOB_CALLERID</a></div><div class="ttdeci">#define BOB_CALLERID</div><div class="ttdoc">Bob&amp;#39;s Caller ID. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00219">test_cdr.c:219</a></div></div>
<div class="ttc" id="structast__cdr__config_html"><div class="ttname"><a href="../../d4/d69/structast__cdr__config.html">ast_cdr_config</a></div><div class="ttdoc">The global options available for CDRs. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00264">cdr.h:264</a></div></div>
<div class="ttc" id="structast__cdr_html_ab7fd8bddf0ce6987ae5e58fb64cfc9e2"><div class="ttname"><a href="../../d4/d5d/structast__cdr.html#ab7fd8bddf0ce6987ae5e58fb64cfc9e2">ast_cdr::clid</a></div><div class="ttdeci">char clid[AST_MAX_EXTENSION]</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00278">cdr.h:278</a></div></div>
<div class="ttc" id="test__cdr_8c_html_ac905defa905925ff383b4bc9d2f89e35"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#ac905defa905925ff383b4bc9d2f89e35">debug_cdr_config</a></div><div class="ttdeci">static struct ast_cdr_config debug_cdr_config</div><div class="ttdoc">A configuration suitable for &amp;#39;normal&amp;#39; CDRs. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00061">test_cdr.c:61</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a987d4f1e5d92597fac228fa99bcb56be"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a987d4f1e5d92597fac228fa99bcb56be">safe_channel_release</a></div><div class="ttdeci">static void safe_channel_release(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00371">test_cdr.c:371</a></div></div>
<div class="ttc" id="test_8h_html_aad2aec78205d328d23894a6598cc4044"><div class="ttname"><a href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044">ast_test_result_state</a></div><div class="ttdeci">ast_test_result_state</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00200">test.h:200</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a62e5becae8d1b1c9c8cf0694d9112def"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a62e5becae8d1b1c9c8cf0694d9112def">&#9670;&nbsp;</a></span>AST_TEST_DEFINE() <span class="overload">[10/24]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AST_TEST_DEFINE </td>
          <td>(</td>
          <td class="paramtype">test_cdr_single_multiparty_bridge&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l01009">1009</a> of file <a class="el" href="../../d7/d8e/test__cdr_8c_source.html">test_cdr.c</a>.</p>

<p class="reference">References <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00216">ALICE_CALLERID</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00411">ao2_alloc</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l01182">AST_AMA_DOCUMENTATION</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l03617">ast_bridge_basic_new()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l01952">ast_bridge_depart()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l01924">ast_bridge_impart()</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00602">AST_BRIDGE_IMPART_CHAN_DEPARTABLE</a>, <a class="el" href="../../d4/da3/causes_8h_source.html#l00150">AST_CAUSE_NORMAL</a>, <a class="el" href="../../dc/d07/cdr_8h_source.html#l00258">AST_CDR_ANSWERED</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00311">ast_channel_linkedid()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02945">ast_channel_lock</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00401">ast_copy_string()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l07486">ast_setstate()</a>, <a class="el" href="../../d9/d95/channelstate_8h_source.html#l00042">AST_STATE_UP</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00201">AST_TEST_NOT_RUN</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00219">BOB_CALLERID</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00055">CHANNEL_TECH_NAME</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00222">CHARLIE_CALLERID</a>, <a class="el" href="../../dc/d07/cdr_8h_source.html#l00278">ast_cdr::clid</a>, <a class="el" href="../../de/dcc/conf2ael_8c_source.html#l00066">config</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00228">COPY_IDS</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00248">CREATE_ALICE_CHANNEL</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00259">CREATE_BOB_CHANNEL</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00270">CREATE_CHARLIE_CHANNEL</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00387">do_sleep()</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00291">EMULATE_APP_DATA</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00303">HANGUP_CHANNEL</a>, <a class="el" href="../../d9/d6f/sip__to__pjsip_8py_source.html#l01313">sip_to_pjsip::info()</a>, <a class="el" href="../../dc/d07/cdr_8h_source.html#l00316">ast_cdr::linkedid</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00911">RAII_VAR</a>, <a class="el" href="../../de/d1b/cel__pgsql_8c_source.html#l00088">result</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00379">safe_bridge_destroy()</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00371">safe_channel_release()</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00079">SWAP_CONFIG</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00051">TEST_CATEGORY</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00208">TEST_EXECUTE</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00207">TEST_INIT</a>, and <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00310">verify_mock_cdr_record()</a>.</p>
<div class="fragment"><div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;{</div><div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *, chan_alice, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d7/d8e/test__cdr_8c.html#a987d4f1e5d92597fac228fa99bcb56be">safe_channel_release</a>);</div><div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *, chan_bob, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d7/d8e/test__cdr_8c.html#a987d4f1e5d92597fac228fa99bcb56be">safe_channel_release</a>);</div><div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *, chan_charlie, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d7/d8e/test__cdr_8c.html#a987d4f1e5d92597fac228fa99bcb56be">safe_channel_release</a>);</div><div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *, bridge, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d7/d8e/test__cdr_8c.html#a4aab087f903dfe2609a124a828903cb5">safe_bridge_destroy</a>);</div><div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d4/d69/structast__cdr__config.html">ast_cdr_config</a> *, <a class="code" href="../../de/dcc/conf2ael_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#ae0422b60d8e25b6962b2d61ae4ddf724">ao2_alloc</a>(<span class="keyword">sizeof</span>(*<a class="code" href="../../de/dcc/conf2ael_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a>), <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>),</div><div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;         <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;   <span class="keyword">struct </span>timespec <a class="code" href="../../db/dc4/test__cel_8c.html#af600138406d2c64d06bf7dedf447cfc9">to_sleep</a> = {1, 0};</div><div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;</div><div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d77/structast__party__caller.html">ast_party_caller</a> caller_alice = <a class="code" href="../../d7/d8e/test__cdr_8c.html#a8739ae4d4e4305695b4deaebc79986f1">ALICE_CALLERID</a>;</div><div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d77/structast__party__caller.html">ast_party_caller</a> caller_bob = <a class="code" href="../../d7/d8e/test__cdr_8c.html#a5c90b196c5211bf396b375a92349ef2c">BOB_CALLERID</a>;</div><div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d77/structast__party__caller.html">ast_party_caller</a> caller_charlie = <a class="code" href="../../d7/d8e/test__cdr_8c.html#afc59c481b016881543bd3d3e66863116">CHARLIE_CALLERID</a>;</div><div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d5d/structast__cdr.html">ast_cdr</a> charlie_expected = {</div><div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;      .<a class="code" href="../../d4/d5d/structast__cdr.html#ab7fd8bddf0ce6987ae5e58fb64cfc9e2">clid</a> = <span class="stringliteral">&quot;\&quot;Charlie\&quot; &lt;300&gt;&quot;</span>,</div><div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;      .src = <span class="stringliteral">&quot;300&quot;</span>,</div><div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;      .dst = <span class="stringliteral">&quot;300&quot;</span>,</div><div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;      .dcontext = <span class="stringliteral">&quot;default&quot;</span>,</div><div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;      .channel = <a class="code" href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a> <span class="stringliteral">&quot;/Charlie&quot;</span>,</div><div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;      .lastapp = <span class="stringliteral">&quot;Bridge&quot;</span>,</div><div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;      .billsec = 1,</div><div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;      .amaflags = <a class="code" href="../../d5/d7b/channel_8h.html#a784b9642d6e2862b04b7f970b337549fa57aa76a632aa16d12a92e43b81c32a68">AST_AMA_DOCUMENTATION</a>,</div><div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;      .disposition = <a class="code" href="../../dc/d07/cdr_8h.html#a53e2666db1174cc83384daf9049023c0ac3e47d059a0e67a03f822f10bb7ec5b1">AST_CDR_ANSWERED</a>,</div><div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;      .accountcode = <span class="stringliteral">&quot;300&quot;</span>,</div><div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;   };</div><div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d5d/structast__cdr.html">ast_cdr</a> bob_expected = {</div><div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;      .<a class="code" href="../../d4/d5d/structast__cdr.html#ab7fd8bddf0ce6987ae5e58fb64cfc9e2">clid</a> = <span class="stringliteral">&quot;\&quot;Bob\&quot; &lt;200&gt;&quot;</span>,</div><div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;      .src = <span class="stringliteral">&quot;200&quot;</span>,</div><div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;      .dst = <span class="stringliteral">&quot;200&quot;</span>,</div><div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;      .dcontext = <span class="stringliteral">&quot;default&quot;</span>,</div><div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;      .channel = <a class="code" href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a> <span class="stringliteral">&quot;/Bob&quot;</span>,</div><div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;      .dstchannel = <a class="code" href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a> <span class="stringliteral">&quot;/Charlie&quot;</span>,</div><div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;      .lastapp = <span class="stringliteral">&quot;Bridge&quot;</span>,</div><div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;      .billsec = 1,</div><div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;      .amaflags = <a class="code" href="../../d5/d7b/channel_8h.html#a784b9642d6e2862b04b7f970b337549fa57aa76a632aa16d12a92e43b81c32a68">AST_AMA_DOCUMENTATION</a>,</div><div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;      .disposition = <a class="code" href="../../dc/d07/cdr_8h.html#a53e2666db1174cc83384daf9049023c0ac3e47d059a0e67a03f822f10bb7ec5b1">AST_CDR_ANSWERED</a>,</div><div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;      .accountcode = <span class="stringliteral">&quot;200&quot;</span>,</div><div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;      .peeraccount = <span class="stringliteral">&quot;300&quot;</span>,</div><div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;      .next = &amp;charlie_expected,</div><div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;   };</div><div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d5d/structast__cdr.html">ast_cdr</a> alice_expected_two = {</div><div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;      .<a class="code" href="../../d4/d5d/structast__cdr.html#ab7fd8bddf0ce6987ae5e58fb64cfc9e2">clid</a> = <span class="stringliteral">&quot;\&quot;Alice\&quot; &lt;100&gt;&quot;</span>,</div><div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;      .src = <span class="stringliteral">&quot;100&quot;</span>,</div><div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;      .dst = <span class="stringliteral">&quot;100&quot;</span>,</div><div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;      .dcontext = <span class="stringliteral">&quot;default&quot;</span>,</div><div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;      .channel = <a class="code" href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a> <span class="stringliteral">&quot;/Alice&quot;</span>,</div><div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;      .dstchannel = <a class="code" href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a> <span class="stringliteral">&quot;/Charlie&quot;</span>,</div><div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;      .lastapp = <span class="stringliteral">&quot;Bridge&quot;</span>,</div><div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;      .billsec = 1,</div><div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;      .amaflags = <a class="code" href="../../d5/d7b/channel_8h.html#a784b9642d6e2862b04b7f970b337549fa57aa76a632aa16d12a92e43b81c32a68">AST_AMA_DOCUMENTATION</a>,</div><div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;      .disposition = <a class="code" href="../../dc/d07/cdr_8h.html#a53e2666db1174cc83384daf9049023c0ac3e47d059a0e67a03f822f10bb7ec5b1">AST_CDR_ANSWERED</a>,</div><div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;      .accountcode = <span class="stringliteral">&quot;100&quot;</span>,</div><div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;      .peeraccount = <span class="stringliteral">&quot;300&quot;</span>,</div><div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;      .next = &amp;bob_expected,</div><div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;   };</div><div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d5d/structast__cdr.html">ast_cdr</a> alice_expected_one = {</div><div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;      .<a class="code" href="../../d4/d5d/structast__cdr.html#ab7fd8bddf0ce6987ae5e58fb64cfc9e2">clid</a> = <span class="stringliteral">&quot;\&quot;Alice\&quot; &lt;100&gt;&quot;</span>,</div><div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;      .src = <span class="stringliteral">&quot;100&quot;</span>,</div><div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;      .dst = <span class="stringliteral">&quot;100&quot;</span>,</div><div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;      .dcontext = <span class="stringliteral">&quot;default&quot;</span>,</div><div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;      .channel = <a class="code" href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a> <span class="stringliteral">&quot;/Alice&quot;</span>,</div><div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;      .dstchannel = <a class="code" href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a> <span class="stringliteral">&quot;/Bob&quot;</span>,</div><div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;      .lastapp = <span class="stringliteral">&quot;Bridge&quot;</span>,</div><div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;      .billsec = 1,</div><div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;      .amaflags = <a class="code" href="../../d5/d7b/channel_8h.html#a784b9642d6e2862b04b7f970b337549fa57aa76a632aa16d12a92e43b81c32a68">AST_AMA_DOCUMENTATION</a>,</div><div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;      .disposition = <a class="code" href="../../dc/d07/cdr_8h.html#a53e2666db1174cc83384daf9049023c0ac3e47d059a0e67a03f822f10bb7ec5b1">AST_CDR_ANSWERED</a>,</div><div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;      .accountcode = <span class="stringliteral">&quot;100&quot;</span>,</div><div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;      .peeraccount = <span class="stringliteral">&quot;200&quot;</span>,</div><div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;      .next = &amp;alice_expected_two,</div><div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;   };</div><div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;</div><div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;   <span class="keyword">enum</span> <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044">ast_test_result_state</a> <a class="code" href="../../de/d1b/cel__pgsql_8c.html#ad6c487210772a9b4b0ca04b04b847d4c">result</a> = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c">AST_TEST_NOT_RUN</a>;</div><div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;</div><div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;   <span class="keywordflow">switch</span> (cmd) {</div><div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b">TEST_INIT</a>:</div><div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;name = __func__;</div><div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;category = <a class="code" href="../../d7/d8e/test__cdr_8c.html#add35ea2349b86888eef95d404e6faebf">TEST_CATEGORY</a>;</div><div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;summary = <span class="stringliteral">&quot;Test cdrs for a single party entering/leaving a multi-party bridge&quot;</span>;</div><div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;description =</div><div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;         <span class="stringliteral">&quot;Test the properties of a CDR for a call that is\n&quot;</span></div><div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;         <span class="stringliteral">&quot;answered, enters a bridge, and leaves it. A total of three\n&quot;</span></div><div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;         <span class="stringliteral">&quot;parties perform this action.&quot;</span>;</div><div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c">AST_TEST_NOT_RUN</a>;</div><div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e">TEST_EXECUTE</a>:</div><div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;   }</div><div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#a1ccf26b207f6e00ee0ece3e227de42a1">SWAP_CONFIG</a>(<a class="code" href="../../de/dcc/conf2ael_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a>, <a class="code" href="../../d7/d8e/test__cdr_8c.html#ac905defa905925ff383b4bc9d2f89e35">debug_cdr_config</a>);</div><div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#a1ed3332fe918eafa4f3f79c131525249">CREATE_ALICE_CHANNEL</a>(chan_alice, &amp;caller_alice, &amp;alice_expected_one);</div><div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#a0710872fe26e286bc89c24db3288f74f">COPY_IDS</a>(chan_alice, &amp;alice_expected_two);</div><div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#a415f8d0ccfd971c1eb213398ee53cf2c">CREATE_BOB_CHANNEL</a>(chan_bob, &amp;caller_bob, &amp;bob_expected);</div><div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;   <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(bob_expected.<a class="code" href="../../d4/d5d/structast__cdr.html#a2979e8d95424c018bf2c830b28a199d0">linkedid</a>, <a class="code" href="../../d5/d7b/channel_8h.html#aa776071546e0bb0eb8cfc4c3a3159dfc">ast_channel_linkedid</a>(chan_alice), <span class="keyword">sizeof</span>(bob_expected.<a class="code" href="../../d4/d5d/structast__cdr.html#a2979e8d95424c018bf2c830b28a199d0">linkedid</a>));</div><div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#a845d7068c209f64f63c1c10989b56f18">CREATE_CHARLIE_CHANNEL</a>(chan_charlie, &amp;caller_charlie, &amp;charlie_expected);</div><div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;   <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(charlie_expected.<a class="code" href="../../d4/d5d/structast__cdr.html#a2979e8d95424c018bf2c830b28a199d0">linkedid</a>, <a class="code" href="../../d5/d7b/channel_8h.html#aa776071546e0bb0eb8cfc4c3a3159dfc">ast_channel_linkedid</a>(chan_alice), <span class="keyword">sizeof</span>(charlie_expected.<a class="code" href="../../d4/d5d/structast__cdr.html#a2979e8d95424c018bf2c830b28a199d0">linkedid</a>));</div><div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;</div><div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(chan_alice);</div><div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#ab91bafbff6fa458554e8745276c0b4d3">EMULATE_APP_DATA</a>(chan_alice, 1, <span class="stringliteral">&quot;Answer&quot;</span>, <span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;   <a class="code" href="../../d9/d95/channelstate_8h.html#ad9d8f7d9e228b5af98a7b40db9f06448">ast_setstate</a>(chan_alice, <a class="code" href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660aa8ab4bcda7378ccc17c39dfd880cba3d">AST_STATE_UP</a>);</div><div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#ab91bafbff6fa458554e8745276c0b4d3">EMULATE_APP_DATA</a>(chan_alice, 2, <span class="stringliteral">&quot;Bridge&quot;</span>, <span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan_alice);</div><div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;</div><div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;   bridge = <a class="code" href="../../d4/d1e/bridge__basic_8h.html#a1410fb71fa67f9ee92f15b18439b7571">ast_bridge_basic_new</a>();</div><div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;   ast_test_validate(<a class="code" href="../../d8/d89/structtest.html">test</a>, bridge != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#a638dca57ef13cc34a8d584246f5add00">do_sleep</a>(&amp;to_sleep);</div><div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;</div><div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;   ast_test_validate(<a class="code" href="../../d8/d89/structtest.html">test</a>, !<a class="code" href="../../d4/d56/bridge_8h.html#a582e1dd73a483ac881cff01fa07f39ae">ast_bridge_impart</a>(bridge, chan_alice, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d4/d56/bridge_8h.html#ac086b7d74fb40c2ede8514274585b101a01be425a6fb9fefd36905b542e903087">AST_BRIDGE_IMPART_CHAN_DEPARTABLE</a>));</div><div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;</div><div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(chan_bob);</div><div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#ab91bafbff6fa458554e8745276c0b4d3">EMULATE_APP_DATA</a>(chan_bob, 1, <span class="stringliteral">&quot;Answer&quot;</span>, <span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;   <a class="code" href="../../d9/d95/channelstate_8h.html#ad9d8f7d9e228b5af98a7b40db9f06448">ast_setstate</a>(chan_bob, <a class="code" href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660aa8ab4bcda7378ccc17c39dfd880cba3d">AST_STATE_UP</a>);</div><div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#ab91bafbff6fa458554e8745276c0b4d3">EMULATE_APP_DATA</a>(chan_bob, 2, <span class="stringliteral">&quot;Bridge&quot;</span>, <span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan_bob);</div><div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#a638dca57ef13cc34a8d584246f5add00">do_sleep</a>(&amp;to_sleep);</div><div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;</div><div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;   ast_test_validate(<a class="code" href="../../d8/d89/structtest.html">test</a>, !<a class="code" href="../../d4/d56/bridge_8h.html#a582e1dd73a483ac881cff01fa07f39ae">ast_bridge_impart</a>(bridge, chan_bob, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d4/d56/bridge_8h.html#ac086b7d74fb40c2ede8514274585b101a01be425a6fb9fefd36905b542e903087">AST_BRIDGE_IMPART_CHAN_DEPARTABLE</a>));</div><div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;</div><div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#a638dca57ef13cc34a8d584246f5add00">do_sleep</a>(&amp;to_sleep);</div><div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;</div><div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(chan_charlie);</div><div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#ab91bafbff6fa458554e8745276c0b4d3">EMULATE_APP_DATA</a>(chan_charlie, 1, <span class="stringliteral">&quot;Answer&quot;</span>, <span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;   <a class="code" href="../../d9/d95/channelstate_8h.html#ad9d8f7d9e228b5af98a7b40db9f06448">ast_setstate</a>(chan_charlie, <a class="code" href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660aa8ab4bcda7378ccc17c39dfd880cba3d">AST_STATE_UP</a>);</div><div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#ab91bafbff6fa458554e8745276c0b4d3">EMULATE_APP_DATA</a>(chan_charlie, 2, <span class="stringliteral">&quot;Bridge&quot;</span>, <span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan_charlie);</div><div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;   ast_test_validate(<a class="code" href="../../d8/d89/structtest.html">test</a>, !<a class="code" href="../../d4/d56/bridge_8h.html#a582e1dd73a483ac881cff01fa07f39ae">ast_bridge_impart</a>(bridge, chan_charlie, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d4/d56/bridge_8h.html#ac086b7d74fb40c2ede8514274585b101a01be425a6fb9fefd36905b542e903087">AST_BRIDGE_IMPART_CHAN_DEPARTABLE</a>));</div><div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;</div><div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#a638dca57ef13cc34a8d584246f5add00">do_sleep</a>(&amp;to_sleep);</div><div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;</div><div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#a0075715d330c8492e03c6d3ca3f48e13">ast_bridge_depart</a>(chan_alice);</div><div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#a0075715d330c8492e03c6d3ca3f48e13">ast_bridge_depart</a>(chan_bob);</div><div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#a0075715d330c8492e03c6d3ca3f48e13">ast_bridge_depart</a>(chan_charlie);</div><div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;</div><div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#ac2b699afc1547e0d4f71ece789ee21e1">HANGUP_CHANNEL</a>(chan_alice, <a class="code" href="../../d4/da3/causes_8h.html#a7858ab2ba4858d98e29f0ea54980313c">AST_CAUSE_NORMAL</a>);</div><div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#ac2b699afc1547e0d4f71ece789ee21e1">HANGUP_CHANNEL</a>(chan_bob, <a class="code" href="../../d4/da3/causes_8h.html#a7858ab2ba4858d98e29f0ea54980313c">AST_CAUSE_NORMAL</a>);</div><div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#ac2b699afc1547e0d4f71ece789ee21e1">HANGUP_CHANNEL</a>(chan_charlie, <a class="code" href="../../d4/da3/causes_8h.html#a7858ab2ba4858d98e29f0ea54980313c">AST_CAUSE_NORMAL</a>);</div><div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;</div><div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;   result = <a class="code" href="../../d7/d8e/test__cdr_8c.html#aabfd96ef82edc19b680e65889e005c93">verify_mock_cdr_record</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, &amp;alice_expected_one, 4);</div><div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;</div><div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../de/d1b/cel__pgsql_8c.html#ad6c487210772a9b4b0ca04b04b847d4c">result</a>;</div><div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;}</div><div class="ttc" id="test__cdr_8c_html_ab91bafbff6fa458554e8745276c0b4d3"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#ab91bafbff6fa458554e8745276c0b4d3">EMULATE_APP_DATA</a></div><div class="ttdeci">#define EMULATE_APP_DATA(channel, priority, application, data)</div><div class="ttdoc">Emulate a channel entering into an application. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00291">test_cdr.c:291</a></div></div>
<div class="ttc" id="channel_8h_html_a493bdebe876caafb8ee535853310364a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a></div><div class="ttdeci">#define ast_channel_lock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02945">channel.h:2945</a></div></div>
<div class="ttc" id="structast__channel_html"><div class="ttname"><a href="../../df/d3c/structast__channel.html">ast_channel</a></div><div class="ttdoc">Main Channel structure associated with a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00073">channel_internal_api.c:73</a></div></div>
<div class="ttc" id="channel_8h_html_a784b9642d6e2862b04b7f970b337549fa57aa76a632aa16d12a92e43b81c32a68"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a784b9642d6e2862b04b7f970b337549fa57aa76a632aa16d12a92e43b81c32a68">AST_AMA_DOCUMENTATION</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01182">channel.h:1182</a></div></div>
<div class="ttc" id="conf2ael_8c_html_a74bb62276efdf39dd94048e007fca05b"><div class="ttname"><a href="../../de/dcc/conf2ael_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a></div><div class="ttdeci">char * config</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcc/conf2ael_8c_source.html#l00066">conf2ael.c:66</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a638dca57ef13cc34a8d584246f5add00"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a638dca57ef13cc34a8d584246f5add00">do_sleep</a></div><div class="ttdeci">static void do_sleep(struct timespec *to_sleep)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00387">test_cdr.c:387</a></div></div>
<div class="ttc" id="test__cdr_8c_html_add35ea2349b86888eef95d404e6faebf"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#add35ea2349b86888eef95d404e6faebf">TEST_CATEGORY</a></div><div class="ttdeci">#define TEST_CATEGORY</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00051">test_cdr.c:51</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a1ed3332fe918eafa4f3f79c131525249"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a1ed3332fe918eafa4f3f79c131525249">CREATE_ALICE_CHANNEL</a></div><div class="ttdeci">#define CREATE_ALICE_CHANNEL(channel_var, caller_id, expected_record)</div><div class="ttdoc">Create a test_cdr_chan_tech for Alice, and set the expected CDR records&amp;#39; linkedid and uniqueid...</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00248">test_cdr.c:248</a></div></div>
<div class="ttc" id="test_8h_html_a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e">TEST_EXECUTE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00208">test.h:208</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a0710872fe26e286bc89c24db3288f74f"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a0710872fe26e286bc89c24db3288f74f">COPY_IDS</a></div><div class="ttdeci">#define COPY_IDS(channel_var, expected_record)</div><div class="ttdoc">Copy the linkedid and uniqueid from a channel to an expected CDR. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00228">test_cdr.c:228</a></div></div>
<div class="ttc" id="cdr_8h_html_a53e2666db1174cc83384daf9049023c0ac3e47d059a0e67a03f822f10bb7ec5b1"><div class="ttname"><a href="../../dc/d07/cdr_8h.html#a53e2666db1174cc83384daf9049023c0ac3e47d059a0e67a03f822f10bb7ec5b1">AST_CDR_ANSWERED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00258">cdr.h:258</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a1ccf26b207f6e00ee0ece3e227de42a1"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a1ccf26b207f6e00ee0ece3e227de42a1">SWAP_CONFIG</a></div><div class="ttdeci">#define SWAP_CONFIG(ao2_config, template)</div><div class="ttdoc">Macro to swap a configuration out from the CDR engine. This should be used at the beginning of each t...</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00079">test_cdr.c:79</a></div></div>
<div class="ttc" id="channelstate_8h_html_a03585bc87e5bbd0f4d11bc789734c660aa8ab4bcda7378ccc17c39dfd880cba3d"><div class="ttname"><a href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660aa8ab4bcda7378ccc17c39dfd880cba3d">AST_STATE_UP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d95/channelstate_8h_source.html#l00042">channelstate.h:42</a></div></div>
<div class="ttc" id="test__cdr_8c_html_ac2b699afc1547e0d4f71ece789ee21e1"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#ac2b699afc1547e0d4f71ece789ee21e1">HANGUP_CHANNEL</a></div><div class="ttdeci">#define HANGUP_CHANNEL(channel, cause)</div><div class="ttdoc">Hang up a test channel safely. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00303">test_cdr.c:303</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="test_8h_html_a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b">TEST_INIT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00207">test.h:207</a></div></div>
<div class="ttc" id="test__cel_8c_html_af600138406d2c64d06bf7dedf447cfc9"><div class="ttname"><a href="../../db/dc4/test__cel_8c.html#af600138406d2c64d06bf7dedf447cfc9">to_sleep</a></div><div class="ttdeci">static struct timespec to_sleep</div><div class="ttdoc">A 1 second sleep. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/dc4/test__cel_8c_source.html#l00085">test_cel.c:85</a></div></div>
<div class="ttc" id="channel_8h_html_aa776071546e0bb0eb8cfc4c3a3159dfc"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#aa776071546e0bb0eb8cfc4c3a3159dfc">ast_channel_linkedid</a></div><div class="ttdeci">const char * ast_channel_linkedid(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00311">channel_internal_api.c:311</a></div></div>
<div class="ttc" id="test_8h_html_aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c"><div class="ttname"><a href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c">AST_TEST_NOT_RUN</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00201">test.h:201</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a8739ae4d4e4305695b4deaebc79986f1"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a8739ae4d4e4305695b4deaebc79986f1">ALICE_CALLERID</a></div><div class="ttdeci">#define ALICE_CALLERID</div><div class="ttdoc">Alice&amp;#39;s Caller ID. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00216">test_cdr.c:216</a></div></div>
<div class="ttc" id="bridge_8h_html_a582e1dd73a483ac881cff01fa07f39ae"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a582e1dd73a483ac881cff01fa07f39ae">ast_bridge_impart</a></div><div class="ttdeci">int ast_bridge_impart(struct ast_bridge *bridge, struct ast_channel *chan, struct ast_channel *swap, struct ast_bridge_features *features, enum ast_bridge_impart_flags flags) attribute_warn_unused_result</div><div class="ttdoc">Impart a channel to a bridge (non-blocking) </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l01924">bridge.c:1924</a></div></div>
<div class="ttc" id="utils_8h_html_a1604b4d72144dd3d9f7da668e90337e9"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a></div><div class="ttdeci">#define RAII_VAR(vartype, varname, initval, dtor)</div><div class="ttdoc">Declare a variable that will call a destructor function when it goes out of scope. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00911">utils.h:911</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a845d7068c209f64f63c1c10989b56f18"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a845d7068c209f64f63c1c10989b56f18">CREATE_CHARLIE_CHANNEL</a></div><div class="ttdeci">#define CREATE_CHARLIE_CHANNEL(channel_var, caller_id, expected_record)</div><div class="ttdoc">Create a test_cdr_chan_tech for Charlie, and set the expected CDR records&amp;#39; linkedid and uniqueid...</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00270">test_cdr.c:270</a></div></div>
<div class="ttc" id="structast__cdr_html_a2979e8d95424c018bf2c830b28a199d0"><div class="ttname"><a href="../../d4/d5d/structast__cdr.html#a2979e8d95424c018bf2c830b28a199d0">ast_cdr::linkedid</a></div><div class="ttdeci">char linkedid[AST_MAX_UNIQUEID]</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00316">cdr.h:316</a></div></div>
<div class="ttc" id="structast__party__caller_html"><div class="ttname"><a href="../../d4/d77/structast__party__caller.html">ast_party_caller</a></div><div class="ttdoc">Caller Party information. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l00419">channel.h:419</a></div></div>
<div class="ttc" id="test__cdr_8c_html_afc59c481b016881543bd3d3e66863116"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#afc59c481b016881543bd3d3e66863116">CHARLIE_CALLERID</a></div><div class="ttdeci">#define CHARLIE_CALLERID</div><div class="ttdoc">Charlie&amp;#39;s Caller ID. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00222">test_cdr.c:222</a></div></div>
<div class="ttc" id="bridge_8h_html_ac086b7d74fb40c2ede8514274585b101a01be425a6fb9fefd36905b542e903087"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#ac086b7d74fb40c2ede8514274585b101a01be425a6fb9fefd36905b542e903087">AST_BRIDGE_IMPART_CHAN_DEPARTABLE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00602">bridge.h:602</a></div></div>
<div class="ttc" id="test__cdr_8c_html_aabfd96ef82edc19b680e65889e005c93"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#aabfd96ef82edc19b680e65889e005c93">verify_mock_cdr_record</a></div><div class="ttdeci">static enum ast_test_result_state verify_mock_cdr_record(struct ast_test *test, struct ast_cdr *expected, int record)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00310">test_cdr.c:310</a></div></div>
<div class="ttc" id="causes_8h_html_a7858ab2ba4858d98e29f0ea54980313c"><div class="ttname"><a href="../../d4/da3/causes_8h.html#a7858ab2ba4858d98e29f0ea54980313c">AST_CAUSE_NORMAL</a></div><div class="ttdeci">#define AST_CAUSE_NORMAL</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/da3/causes_8h_source.html#l00150">causes.h:150</a></div></div>
<div class="ttc" id="structast__cdr_html"><div class="ttname"><a href="../../d4/d5d/structast__cdr.html">ast_cdr</a></div><div class="ttdoc">Responsible for call detail data. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00276">cdr.h:276</a></div></div>
<div class="ttc" id="structast__bridge_html"><div class="ttname"><a href="../../d4/d84/structast__bridge.html">ast_bridge</a></div><div class="ttdoc">Structure that contains information about a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00357">bridge.h:357</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a415f8d0ccfd971c1eb213398ee53cf2c"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a415f8d0ccfd971c1eb213398ee53cf2c">CREATE_BOB_CHANNEL</a></div><div class="ttdeci">#define CREATE_BOB_CHANNEL(channel_var, caller_id, expected_record)</div><div class="ttdoc">Create a test_cdr_chan_tech for Bob, and set the expected CDR records&amp;#39; linkedid and uniqueid...</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00259">test_cdr.c:259</a></div></div>
<div class="ttc" id="namespacesip__to__pjsip_html_ab82f408a83ecba10ea39afd8abfd371e"><div class="ttname"><a href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">sip_to_pjsip.info</a></div><div class="ttdeci">def info(msg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d6f/sip__to__pjsip_8py_source.html#l01313">sip_to_pjsip.py:1313</a></div></div>
<div class="ttc" id="bridge_8h_html_a0075715d330c8492e03c6d3ca3f48e13"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a0075715d330c8492e03c6d3ca3f48e13">ast_bridge_depart</a></div><div class="ttdeci">int ast_bridge_depart(struct ast_channel *chan)</div><div class="ttdoc">Depart a channel from a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l01952">bridge.c:1952</a></div></div>
<div class="ttc" id="astobj2_8h_html_ae0422b60d8e25b6962b2d61ae4ddf724"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ae0422b60d8e25b6962b2d61ae4ddf724">ao2_alloc</a></div><div class="ttdeci">#define ao2_alloc(data_size, destructor_fn)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00411">astobj2.h:411</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a86d2cbfb5a0c115147944a541cc355e0"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a></div><div class="ttdeci">#define CHANNEL_TECH_NAME</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00055">test_cdr.c:55</a></div></div>
<div class="ttc" id="structtest_html"><div class="ttname"><a href="../../d8/d89/structtest.html">test</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d7d/test__logger_8c_source.html#l00043">test_logger.c:43</a></div></div>
<div class="ttc" id="bridge__basic_8h_html_a1410fb71fa67f9ee92f15b18439b7571"><div class="ttname"><a href="../../d4/d1e/bridge__basic_8h.html#a1410fb71fa67f9ee92f15b18439b7571">ast_bridge_basic_new</a></div><div class="ttdeci">struct ast_bridge * ast_bridge_basic_new(void)</div><div class="ttdoc">Create a new basic class bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l03617">bridge_basic.c:3617</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="strings_8h_html_ac4040268f7b6ed77dfc49c7767626369"><div class="ttname"><a href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a></div><div class="ttdeci">void ast_copy_string(char *dst, const char *src, size_t size)</div><div class="ttdoc">Size-limited null-terminating string copy. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00401">strings.h:401</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a4aab087f903dfe2609a124a828903cb5"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a4aab087f903dfe2609a124a828903cb5">safe_bridge_destroy</a></div><div class="ttdeci">static void safe_bridge_destroy(struct ast_bridge *bridge)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00379">test_cdr.c:379</a></div></div>
<div class="ttc" id="channelstate_8h_html_ad9d8f7d9e228b5af98a7b40db9f06448"><div class="ttname"><a href="../../d9/d95/channelstate_8h.html#ad9d8f7d9e228b5af98a7b40db9f06448">ast_setstate</a></div><div class="ttdeci">int ast_setstate(struct ast_channel *chan, enum ast_channel_state)</div><div class="ttdoc">Change the state of a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l07486">channel.c:7486</a></div></div>
<div class="ttc" id="cel__pgsql_8c_html_ad6c487210772a9b4b0ca04b04b847d4c"><div class="ttname"><a href="../../de/d1b/cel__pgsql_8c.html#ad6c487210772a9b4b0ca04b04b847d4c">result</a></div><div class="ttdeci">static PGresult * result</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1b/cel__pgsql_8c_source.html#l00088">cel_pgsql.c:88</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a5c90b196c5211bf396b375a92349ef2c"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a5c90b196c5211bf396b375a92349ef2c">BOB_CALLERID</a></div><div class="ttdeci">#define BOB_CALLERID</div><div class="ttdoc">Bob&amp;#39;s Caller ID. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00219">test_cdr.c:219</a></div></div>
<div class="ttc" id="structast__cdr__config_html"><div class="ttname"><a href="../../d4/d69/structast__cdr__config.html">ast_cdr_config</a></div><div class="ttdoc">The global options available for CDRs. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00264">cdr.h:264</a></div></div>
<div class="ttc" id="structast__cdr_html_ab7fd8bddf0ce6987ae5e58fb64cfc9e2"><div class="ttname"><a href="../../d4/d5d/structast__cdr.html#ab7fd8bddf0ce6987ae5e58fb64cfc9e2">ast_cdr::clid</a></div><div class="ttdeci">char clid[AST_MAX_EXTENSION]</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00278">cdr.h:278</a></div></div>
<div class="ttc" id="test__cdr_8c_html_ac905defa905925ff383b4bc9d2f89e35"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#ac905defa905925ff383b4bc9d2f89e35">debug_cdr_config</a></div><div class="ttdeci">static struct ast_cdr_config debug_cdr_config</div><div class="ttdoc">A configuration suitable for &amp;#39;normal&amp;#39; CDRs. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00061">test_cdr.c:61</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a987d4f1e5d92597fac228fa99bcb56be"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a987d4f1e5d92597fac228fa99bcb56be">safe_channel_release</a></div><div class="ttdeci">static void safe_channel_release(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00371">test_cdr.c:371</a></div></div>
<div class="ttc" id="test_8h_html_aad2aec78205d328d23894a6598cc4044"><div class="ttname"><a href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044">ast_test_result_state</a></div><div class="ttdeci">ast_test_result_state</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00200">test.h:200</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3e2f1ad2cd8efe8cb3302a23aa056fc8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e2f1ad2cd8efe8cb3302a23aa056fc8">&#9670;&nbsp;</a></span>AST_TEST_DEFINE() <span class="overload">[11/24]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AST_TEST_DEFINE </td>
          <td>(</td>
          <td class="paramtype">test_cdr_dial_unanswered&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l01148">1148</a> of file <a class="el" href="../../d7/d8e/test__cdr_8c_source.html">test_cdr.c</a>.</p>

<p class="reference">References <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00216">ALICE_CALLERID</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00411">ao2_alloc</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l01182">AST_AMA_DOCUMENTATION</a>, <a class="el" href="../../d4/da3/causes_8h_source.html#l00108">AST_CAUSE_NO_ANSWER</a>, <a class="el" href="../../dc/d07/cdr_8h_source.html#l00254">AST_CDR_NOANSWER</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l01259">ast_channel_alloc</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l01260">ast_channel_flags()</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l00739">ast_channel_publish_dial()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00820">ast_channel_state_set()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l01000">AST_FLAG_OUTGOING</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00070">ast_set_flag</a>, <a class="el" href="../../d9/d95/channelstate_8h_source.html#l00036">AST_STATE_DOWN</a>, <a class="el" href="../../d9/d95/channelstate_8h_source.html#l00041">AST_STATE_RINGING</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00201">AST_TEST_NOT_RUN</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00055">CHANNEL_TECH_NAME</a>, <a class="el" href="../../dc/d07/cdr_8h_source.html#l00278">ast_cdr::clid</a>, <a class="el" href="../../de/dcc/conf2ael_8c_source.html#l00066">config</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00248">CREATE_ALICE_CHANNEL</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00291">EMULATE_APP_DATA</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00303">HANGUP_CHANNEL</a>, <a class="el" href="../../d9/d6f/sip__to__pjsip_8py_source.html#l01313">sip_to_pjsip::info()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00911">RAII_VAR</a>, <a class="el" href="../../de/d1b/cel__pgsql_8c_source.html#l00088">result</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00371">safe_channel_release()</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00234">SET_FORMATS</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00079">SWAP_CONFIG</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00051">TEST_CATEGORY</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00208">TEST_EXECUTE</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00207">TEST_INIT</a>, and <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00310">verify_mock_cdr_record()</a>.</p>
<div class="fragment"><div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;{</div><div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *, chan_caller, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d7/d8e/test__cdr_8c.html#a987d4f1e5d92597fac228fa99bcb56be">safe_channel_release</a>);</div><div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *, chan_callee, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d7/d8e/test__cdr_8c.html#a987d4f1e5d92597fac228fa99bcb56be">safe_channel_release</a>);</div><div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d4/d69/structast__cdr__config.html">ast_cdr_config</a> *, <a class="code" href="../../de/dcc/conf2ael_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#ae0422b60d8e25b6962b2d61ae4ddf724">ao2_alloc</a>(<span class="keyword">sizeof</span>(*<a class="code" href="../../de/dcc/conf2ael_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a>), <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>),</div><div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;         <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;</div><div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d77/structast__party__caller.html">ast_party_caller</a> caller = <a class="code" href="../../d7/d8e/test__cdr_8c.html#a8739ae4d4e4305695b4deaebc79986f1">ALICE_CALLERID</a>;</div><div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d5d/structast__cdr.html">ast_cdr</a> expected = {</div><div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;      .<a class="code" href="../../d4/d5d/structast__cdr.html#ab7fd8bddf0ce6987ae5e58fb64cfc9e2">clid</a> = <span class="stringliteral">&quot;\&quot;Alice\&quot; &lt;100&gt;&quot;</span>,</div><div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;      .src = <span class="stringliteral">&quot;100&quot;</span>,</div><div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;      .dst = <span class="stringliteral">&quot;100&quot;</span>,</div><div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;      .dcontext = <span class="stringliteral">&quot;default&quot;</span>,</div><div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;      .channel = <a class="code" href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a> <span class="stringliteral">&quot;/Alice&quot;</span>,</div><div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;      .dstchannel = <a class="code" href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a> <span class="stringliteral">&quot;/Bob&quot;</span>,</div><div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;      .lastapp = <span class="stringliteral">&quot;Dial&quot;</span>,</div><div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;      .lastdata = <a class="code" href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a> <span class="stringliteral">&quot;/Bob&quot;</span>,</div><div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;      .billsec = 0,</div><div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;      .amaflags = <a class="code" href="../../d5/d7b/channel_8h.html#a784b9642d6e2862b04b7f970b337549fa57aa76a632aa16d12a92e43b81c32a68">AST_AMA_DOCUMENTATION</a>,</div><div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;      .disposition = <a class="code" href="../../dc/d07/cdr_8h.html#a53e2666db1174cc83384daf9049023c0a2ae5ddf52a9d2a20fc4af7b9e5dde283">AST_CDR_NOANSWER</a>,</div><div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;      .accountcode = <span class="stringliteral">&quot;100&quot;</span>,</div><div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;      .peeraccount = <span class="stringliteral">&quot;200&quot;</span>,</div><div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;   };</div><div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;   <span class="keyword">enum</span> <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044">ast_test_result_state</a> <a class="code" href="../../de/d1b/cel__pgsql_8c.html#ad6c487210772a9b4b0ca04b04b847d4c">result</a> = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c">AST_TEST_NOT_RUN</a>;</div><div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;</div><div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;   <span class="keywordflow">switch</span> (cmd) {</div><div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b">TEST_INIT</a>:</div><div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;name = __func__;</div><div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;category = <a class="code" href="../../d7/d8e/test__cdr_8c.html#add35ea2349b86888eef95d404e6faebf">TEST_CATEGORY</a>;</div><div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;summary = <span class="stringliteral">&quot;Test CDRs for a dial that isn&#39;t answered&quot;</span>;</div><div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;description =</div><div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;         <span class="stringliteral">&quot;Test the properties of a CDR for a channel that\n&quot;</span></div><div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;         <span class="stringliteral">&quot;performs a dial operation that isn&#39;t answered&quot;</span>;</div><div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c">AST_TEST_NOT_RUN</a>;</div><div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e">TEST_EXECUTE</a>:</div><div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;   }</div><div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;</div><div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#a1ccf26b207f6e00ee0ece3e227de42a1">SWAP_CONFIG</a>(<a class="code" href="../../de/dcc/conf2ael_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a>, <a class="code" href="../../d7/d8e/test__cdr_8c.html#a5722136884f356e886185ddd4f58e97a">unanswered_cdr_config</a>);</div><div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;</div><div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#a1ed3332fe918eafa4f3f79c131525249">CREATE_ALICE_CHANNEL</a>(chan_caller, &amp;caller, &amp;expected);</div><div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;</div><div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#ab91bafbff6fa458554e8745276c0b4d3">EMULATE_APP_DATA</a>(chan_caller, 1, <span class="stringliteral">&quot;Dial&quot;</span>, <span class="stringliteral">&quot;CDRTestChannel/Bob&quot;</span>);</div><div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;</div><div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;   chan_callee = <a class="code" href="../../d5/d7b/channel_8h.html#a2f18aafad0442206e71033ac6676dbb5">ast_channel_alloc</a>(0, <a class="code" href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660a81348336816e0a2f6f3a76da487a46dc">AST_STATE_DOWN</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="stringliteral">&quot;200&quot;</span>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, chan_caller, 0, <a class="code" href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a> <span class="stringliteral">&quot;/Bob&quot;</span>);</div><div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#a7a53a18000fdffa1da8f2842a6513c87">SET_FORMATS</a>(chan_callee);</div><div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan_callee);</div><div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#ab5033a1f3d781d45e7ccc27598114510">ast_set_flag</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a91de92158876186d28ba1773877f2732">ast_channel_flags</a>(chan_callee), <a class="code" href="../../d5/d7b/channel_8h.html#a82f2c6e4d47f62f6b65c5887eb096fd5a36fa77a64746637c77c6b18a7999d0a2">AST_FLAG_OUTGOING</a>);</div><div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#ab91bafbff6fa458554e8745276c0b4d3">EMULATE_APP_DATA</a>(chan_callee, 0, <span class="stringliteral">&quot;AppDial&quot;</span>, <span class="stringliteral">&quot;(Outgoing Line)&quot;</span>);</div><div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;</div><div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;   <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#ga7d446221f9a272b003c4ad660a7e14dc">ast_channel_publish_dial</a>(chan_caller, chan_callee, <span class="stringliteral">&quot;Bob&quot;</span>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#acc7e03f08c0df9fe5f5ff801db51224d">ast_channel_state_set</a>(chan_caller, <a class="code" href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660a5bf03bd84f434acaeefdacb0096e1baa">AST_STATE_RINGING</a>);</div><div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;   <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#ga7d446221f9a272b003c4ad660a7e14dc">ast_channel_publish_dial</a>(chan_caller, chan_callee, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="stringliteral">&quot;NOANSWER&quot;</span>);</div><div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;</div><div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#ac2b699afc1547e0d4f71ece789ee21e1">HANGUP_CHANNEL</a>(chan_caller, <a class="code" href="../../d4/da3/causes_8h.html#af03fc9fe2f0ecc69330e014aff8d0f73">AST_CAUSE_NO_ANSWER</a>);</div><div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#ac2b699afc1547e0d4f71ece789ee21e1">HANGUP_CHANNEL</a>(chan_callee, <a class="code" href="../../d4/da3/causes_8h.html#af03fc9fe2f0ecc69330e014aff8d0f73">AST_CAUSE_NO_ANSWER</a>);</div><div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;</div><div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;   result = <a class="code" href="../../d7/d8e/test__cdr_8c.html#aabfd96ef82edc19b680e65889e005c93">verify_mock_cdr_record</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, &amp;expected, 1);</div><div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;</div><div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../de/d1b/cel__pgsql_8c.html#ad6c487210772a9b4b0ca04b04b847d4c">result</a>;</div><div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;}</div><div class="ttc" id="test__cdr_8c_html_ab91bafbff6fa458554e8745276c0b4d3"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#ab91bafbff6fa458554e8745276c0b4d3">EMULATE_APP_DATA</a></div><div class="ttdeci">#define EMULATE_APP_DATA(channel, priority, application, data)</div><div class="ttdoc">Emulate a channel entering into an application. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00291">test_cdr.c:291</a></div></div>
<div class="ttc" id="structast__channel_html"><div class="ttname"><a href="../../df/d3c/structast__channel.html">ast_channel</a></div><div class="ttdoc">Main Channel structure associated with a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00073">channel_internal_api.c:73</a></div></div>
<div class="ttc" id="channel_8h_html_a784b9642d6e2862b04b7f970b337549fa57aa76a632aa16d12a92e43b81c32a68"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a784b9642d6e2862b04b7f970b337549fa57aa76a632aa16d12a92e43b81c32a68">AST_AMA_DOCUMENTATION</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01182">channel.h:1182</a></div></div>
<div class="ttc" id="channelstate_8h_html_a03585bc87e5bbd0f4d11bc789734c660a81348336816e0a2f6f3a76da487a46dc"><div class="ttname"><a href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660a81348336816e0a2f6f3a76da487a46dc">AST_STATE_DOWN</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d95/channelstate_8h_source.html#l00036">channelstate.h:36</a></div></div>
<div class="ttc" id="conf2ael_8c_html_a74bb62276efdf39dd94048e007fca05b"><div class="ttname"><a href="../../de/dcc/conf2ael_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a></div><div class="ttdeci">char * config</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcc/conf2ael_8c_source.html#l00066">conf2ael.c:66</a></div></div>
<div class="ttc" id="group__StasisTopicsAndMessages_html_ga7d446221f9a272b003c4ad660a7e14dc"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#ga7d446221f9a272b003c4ad660a7e14dc">ast_channel_publish_dial</a></div><div class="ttdeci">void ast_channel_publish_dial(struct ast_channel *caller, struct ast_channel *peer, const char *dialstring, const char *dialstatus)</div><div class="ttdoc">Publish in the ast_channel_topic or ast_channel_topic_all topics a stasis message for the channels in...</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d2b/stasis__channels_8c_source.html#l00739">stasis_channels.c:739</a></div></div>
<div class="ttc" id="test__cdr_8c_html_add35ea2349b86888eef95d404e6faebf"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#add35ea2349b86888eef95d404e6faebf">TEST_CATEGORY</a></div><div class="ttdeci">#define TEST_CATEGORY</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00051">test_cdr.c:51</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a1ed3332fe918eafa4f3f79c131525249"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a1ed3332fe918eafa4f3f79c131525249">CREATE_ALICE_CHANNEL</a></div><div class="ttdeci">#define CREATE_ALICE_CHANNEL(channel_var, caller_id, expected_record)</div><div class="ttdoc">Create a test_cdr_chan_tech for Alice, and set the expected CDR records&amp;#39; linkedid and uniqueid...</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00248">test_cdr.c:248</a></div></div>
<div class="ttc" id="test_8h_html_a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e">TEST_EXECUTE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00208">test.h:208</a></div></div>
<div class="ttc" id="utils_8h_html_ab5033a1f3d781d45e7ccc27598114510"><div class="ttname"><a href="../../d5/d60/utils_8h.html#ab5033a1f3d781d45e7ccc27598114510">ast_set_flag</a></div><div class="ttdeci">#define ast_set_flag(p, flag)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00070">utils.h:70</a></div></div>
<div class="ttc" id="cdr_8h_html_a53e2666db1174cc83384daf9049023c0a2ae5ddf52a9d2a20fc4af7b9e5dde283"><div class="ttname"><a href="../../dc/d07/cdr_8h.html#a53e2666db1174cc83384daf9049023c0a2ae5ddf52a9d2a20fc4af7b9e5dde283">AST_CDR_NOANSWER</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00254">cdr.h:254</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a7a53a18000fdffa1da8f2842a6513c87"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a7a53a18000fdffa1da8f2842a6513c87">SET_FORMATS</a></div><div class="ttdeci">#define SET_FORMATS(chan)</div><div class="ttdoc">Set ulaw format on channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00234">test_cdr.c:234</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a1ccf26b207f6e00ee0ece3e227de42a1"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a1ccf26b207f6e00ee0ece3e227de42a1">SWAP_CONFIG</a></div><div class="ttdeci">#define SWAP_CONFIG(ao2_config, template)</div><div class="ttdoc">Macro to swap a configuration out from the CDR engine. This should be used at the beginning of each t...</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00079">test_cdr.c:79</a></div></div>
<div class="ttc" id="test__cdr_8c_html_ac2b699afc1547e0d4f71ece789ee21e1"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#ac2b699afc1547e0d4f71ece789ee21e1">HANGUP_CHANNEL</a></div><div class="ttdeci">#define HANGUP_CHANNEL(channel, cause)</div><div class="ttdoc">Hang up a test channel safely. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00303">test_cdr.c:303</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="test_8h_html_a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b">TEST_INIT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00207">test.h:207</a></div></div>
<div class="ttc" id="test_8h_html_aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c"><div class="ttname"><a href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c">AST_TEST_NOT_RUN</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00201">test.h:201</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a8739ae4d4e4305695b4deaebc79986f1"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a8739ae4d4e4305695b4deaebc79986f1">ALICE_CALLERID</a></div><div class="ttdeci">#define ALICE_CALLERID</div><div class="ttdoc">Alice&amp;#39;s Caller ID. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00216">test_cdr.c:216</a></div></div>
<div class="ttc" id="utils_8h_html_a1604b4d72144dd3d9f7da668e90337e9"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a></div><div class="ttdeci">#define RAII_VAR(vartype, varname, initval, dtor)</div><div class="ttdoc">Declare a variable that will call a destructor function when it goes out of scope. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00911">utils.h:911</a></div></div>
<div class="ttc" id="structast__party__caller_html"><div class="ttname"><a href="../../d4/d77/structast__party__caller.html">ast_party_caller</a></div><div class="ttdoc">Caller Party information. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l00419">channel.h:419</a></div></div>
<div class="ttc" id="test__cdr_8c_html_aabfd96ef82edc19b680e65889e005c93"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#aabfd96ef82edc19b680e65889e005c93">verify_mock_cdr_record</a></div><div class="ttdeci">static enum ast_test_result_state verify_mock_cdr_record(struct ast_test *test, struct ast_cdr *expected, int record)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00310">test_cdr.c:310</a></div></div>
<div class="ttc" id="causes_8h_html_af03fc9fe2f0ecc69330e014aff8d0f73"><div class="ttname"><a href="../../d4/da3/causes_8h.html#af03fc9fe2f0ecc69330e014aff8d0f73">AST_CAUSE_NO_ANSWER</a></div><div class="ttdeci">#define AST_CAUSE_NO_ANSWER</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/da3/causes_8h_source.html#l00108">causes.h:108</a></div></div>
<div class="ttc" id="structast__cdr_html"><div class="ttname"><a href="../../d4/d5d/structast__cdr.html">ast_cdr</a></div><div class="ttdoc">Responsible for call detail data. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00276">cdr.h:276</a></div></div>
<div class="ttc" id="namespacesip__to__pjsip_html_ab82f408a83ecba10ea39afd8abfd371e"><div class="ttname"><a href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">sip_to_pjsip.info</a></div><div class="ttdeci">def info(msg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d6f/sip__to__pjsip_8py_source.html#l01313">sip_to_pjsip.py:1313</a></div></div>
<div class="ttc" id="astobj2_8h_html_ae0422b60d8e25b6962b2d61ae4ddf724"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ae0422b60d8e25b6962b2d61ae4ddf724">ao2_alloc</a></div><div class="ttdeci">#define ao2_alloc(data_size, destructor_fn)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00411">astobj2.h:411</a></div></div>
<div class="ttc" id="channelstate_8h_html_a03585bc87e5bbd0f4d11bc789734c660a5bf03bd84f434acaeefdacb0096e1baa"><div class="ttname"><a href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660a5bf03bd84f434acaeefdacb0096e1baa">AST_STATE_RINGING</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d95/channelstate_8h_source.html#l00041">channelstate.h:41</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a5722136884f356e886185ddd4f58e97a"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a5722136884f356e886185ddd4f58e97a">unanswered_cdr_config</a></div><div class="ttdeci">static struct ast_cdr_config unanswered_cdr_config</div><div class="ttdoc">A configuration suitable for CDRs with unanswered records. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00066">test_cdr.c:66</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a86d2cbfb5a0c115147944a541cc355e0"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a></div><div class="ttdeci">#define CHANNEL_TECH_NAME</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00055">test_cdr.c:55</a></div></div>
<div class="ttc" id="structtest_html"><div class="ttname"><a href="../../d8/d89/structtest.html">test</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d7d/test__logger_8c_source.html#l00043">test_logger.c:43</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="channel_8h_html_a82f2c6e4d47f62f6b65c5887eb096fd5a36fa77a64746637c77c6b18a7999d0a2"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a82f2c6e4d47f62f6b65c5887eb096fd5a36fa77a64746637c77c6b18a7999d0a2">AST_FLAG_OUTGOING</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01000">channel.h:1000</a></div></div>
<div class="ttc" id="channel_8h_html_acc7e03f08c0df9fe5f5ff801db51224d"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#acc7e03f08c0df9fe5f5ff801db51224d">ast_channel_state_set</a></div><div class="ttdeci">void ast_channel_state_set(struct ast_channel *chan, enum ast_channel_state)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00820">channel_internal_api.c:820</a></div></div>
<div class="ttc" id="cel__pgsql_8c_html_ad6c487210772a9b4b0ca04b04b847d4c"><div class="ttname"><a href="../../de/d1b/cel__pgsql_8c.html#ad6c487210772a9b4b0ca04b04b847d4c">result</a></div><div class="ttdeci">static PGresult * result</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1b/cel__pgsql_8c_source.html#l00088">cel_pgsql.c:88</a></div></div>
<div class="ttc" id="structast__cdr__config_html"><div class="ttname"><a href="../../d4/d69/structast__cdr__config.html">ast_cdr_config</a></div><div class="ttdoc">The global options available for CDRs. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00264">cdr.h:264</a></div></div>
<div class="ttc" id="structast__cdr_html_ab7fd8bddf0ce6987ae5e58fb64cfc9e2"><div class="ttname"><a href="../../d4/d5d/structast__cdr.html#ab7fd8bddf0ce6987ae5e58fb64cfc9e2">ast_cdr::clid</a></div><div class="ttdeci">char clid[AST_MAX_EXTENSION]</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00278">cdr.h:278</a></div></div>
<div class="ttc" id="channel_8h_html_a91de92158876186d28ba1773877f2732"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a91de92158876186d28ba1773877f2732">ast_channel_flags</a></div><div class="ttdeci">struct ast_flags * ast_channel_flags(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l01260">channel_internal_api.c:1260</a></div></div>
<div class="ttc" id="channel_8h_html_a2f18aafad0442206e71033ac6676dbb5"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a2f18aafad0442206e71033ac6676dbb5">ast_channel_alloc</a></div><div class="ttdeci">#define ast_channel_alloc(needqueue, state, cid_num, cid_name, acctcode, exten, context, assignedids, requestor, amaflag,...)</div><div class="ttdoc">Create a channel structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01259">channel.h:1259</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a987d4f1e5d92597fac228fa99bcb56be"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a987d4f1e5d92597fac228fa99bcb56be">safe_channel_release</a></div><div class="ttdeci">static void safe_channel_release(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00371">test_cdr.c:371</a></div></div>
<div class="ttc" id="test_8h_html_aad2aec78205d328d23894a6598cc4044"><div class="ttname"><a href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044">ast_test_result_state</a></div><div class="ttdeci">ast_test_result_state</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00200">test.h:200</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aba05cd6cd2761be4f52401f9ff40bbb0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba05cd6cd2761be4f52401f9ff40bbb0">&#9670;&nbsp;</a></span>AST_TEST_DEFINE() <span class="overload">[12/24]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AST_TEST_DEFINE </td>
          <td>(</td>
          <td class="paramtype">test_cdr_dial_busy&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l01211">1211</a> of file <a class="el" href="../../d7/d8e/test__cdr_8c_source.html">test_cdr.c</a>.</p>

<p class="reference">References <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00216">ALICE_CALLERID</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00411">ao2_alloc</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l01182">AST_AMA_DOCUMENTATION</a>, <a class="el" href="../../d4/da3/causes_8h_source.html#l00148">AST_CAUSE_BUSY</a>, <a class="el" href="../../dc/d07/cdr_8h_source.html#l00257">AST_CDR_BUSY</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l01259">ast_channel_alloc</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l01260">ast_channel_flags()</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l00739">ast_channel_publish_dial()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00820">ast_channel_state_set()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l01000">AST_FLAG_OUTGOING</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00070">ast_set_flag</a>, <a class="el" href="../../d9/d95/channelstate_8h_source.html#l00036">AST_STATE_DOWN</a>, <a class="el" href="../../d9/d95/channelstate_8h_source.html#l00041">AST_STATE_RINGING</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00201">AST_TEST_NOT_RUN</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00055">CHANNEL_TECH_NAME</a>, <a class="el" href="../../dc/d07/cdr_8h_source.html#l00278">ast_cdr::clid</a>, <a class="el" href="../../de/dcc/conf2ael_8c_source.html#l00066">config</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00248">CREATE_ALICE_CHANNEL</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00291">EMULATE_APP_DATA</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00303">HANGUP_CHANNEL</a>, <a class="el" href="../../d9/d6f/sip__to__pjsip_8py_source.html#l01313">sip_to_pjsip::info()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00911">RAII_VAR</a>, <a class="el" href="../../de/d1b/cel__pgsql_8c_source.html#l00088">result</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00371">safe_channel_release()</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00234">SET_FORMATS</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00079">SWAP_CONFIG</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00051">TEST_CATEGORY</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00208">TEST_EXECUTE</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00207">TEST_INIT</a>, and <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00310">verify_mock_cdr_record()</a>.</p>
<div class="fragment"><div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;{</div><div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *, chan_caller, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d7/d8e/test__cdr_8c.html#a987d4f1e5d92597fac228fa99bcb56be">safe_channel_release</a>);</div><div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *, chan_callee, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d7/d8e/test__cdr_8c.html#a987d4f1e5d92597fac228fa99bcb56be">safe_channel_release</a>);</div><div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d4/d69/structast__cdr__config.html">ast_cdr_config</a> *, <a class="code" href="../../de/dcc/conf2ael_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#ae0422b60d8e25b6962b2d61ae4ddf724">ao2_alloc</a>(<span class="keyword">sizeof</span>(*<a class="code" href="../../de/dcc/conf2ael_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a>), <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>),</div><div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;         <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;</div><div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d77/structast__party__caller.html">ast_party_caller</a> caller = <a class="code" href="../../d7/d8e/test__cdr_8c.html#a8739ae4d4e4305695b4deaebc79986f1">ALICE_CALLERID</a>;</div><div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d5d/structast__cdr.html">ast_cdr</a> expected = {</div><div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;      .<a class="code" href="../../d4/d5d/structast__cdr.html#ab7fd8bddf0ce6987ae5e58fb64cfc9e2">clid</a> = <span class="stringliteral">&quot;\&quot;Alice\&quot; &lt;100&gt;&quot;</span>,</div><div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;      .src = <span class="stringliteral">&quot;100&quot;</span>,</div><div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;      .dst = <span class="stringliteral">&quot;100&quot;</span>,</div><div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;      .dcontext = <span class="stringliteral">&quot;default&quot;</span>,</div><div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;      .channel = <a class="code" href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a> <span class="stringliteral">&quot;/Alice&quot;</span>,</div><div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;      .dstchannel = <a class="code" href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a> <span class="stringliteral">&quot;/Bob&quot;</span>,</div><div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;      .lastapp = <span class="stringliteral">&quot;Dial&quot;</span>,</div><div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;      .lastdata = <a class="code" href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a> <span class="stringliteral">&quot;/Bob&quot;</span>,</div><div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;      .billsec = 0,</div><div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;      .amaflags = <a class="code" href="../../d5/d7b/channel_8h.html#a784b9642d6e2862b04b7f970b337549fa57aa76a632aa16d12a92e43b81c32a68">AST_AMA_DOCUMENTATION</a>,</div><div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;      .disposition = <a class="code" href="../../dc/d07/cdr_8h.html#a53e2666db1174cc83384daf9049023c0ad5945e6977fe7c1d64bacadaad7aa9ea">AST_CDR_BUSY</a>,</div><div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;      .accountcode = <span class="stringliteral">&quot;100&quot;</span>,</div><div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;      .peeraccount = <span class="stringliteral">&quot;200&quot;</span>,</div><div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;   };</div><div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;   <span class="keyword">enum</span> <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044">ast_test_result_state</a> <a class="code" href="../../de/d1b/cel__pgsql_8c.html#ad6c487210772a9b4b0ca04b04b847d4c">result</a> = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c">AST_TEST_NOT_RUN</a>;</div><div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;</div><div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;   <span class="keywordflow">switch</span> (cmd) {</div><div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b">TEST_INIT</a>:</div><div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;name = __func__;</div><div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;category = <a class="code" href="../../d7/d8e/test__cdr_8c.html#add35ea2349b86888eef95d404e6faebf">TEST_CATEGORY</a>;</div><div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;summary = <span class="stringliteral">&quot;Test CDRs for a dial that results in a busy&quot;</span>;</div><div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;description =</div><div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;         <span class="stringliteral">&quot;Test the properties of a CDR for a channel that\n&quot;</span></div><div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;         <span class="stringliteral">&quot;performs a dial operation to an endpoint that&#39;s busy&quot;</span>;</div><div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c">AST_TEST_NOT_RUN</a>;</div><div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e">TEST_EXECUTE</a>:</div><div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;   }</div><div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;</div><div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#a1ccf26b207f6e00ee0ece3e227de42a1">SWAP_CONFIG</a>(<a class="code" href="../../de/dcc/conf2ael_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a>, <a class="code" href="../../d7/d8e/test__cdr_8c.html#a5722136884f356e886185ddd4f58e97a">unanswered_cdr_config</a>);</div><div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;</div><div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#a1ed3332fe918eafa4f3f79c131525249">CREATE_ALICE_CHANNEL</a>(chan_caller, &amp;caller, &amp;expected);</div><div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;</div><div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#ab91bafbff6fa458554e8745276c0b4d3">EMULATE_APP_DATA</a>(chan_caller, 1, <span class="stringliteral">&quot;Dial&quot;</span>, <a class="code" href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a> <span class="stringliteral">&quot;/Bob&quot;</span>);</div><div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;</div><div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;   chan_callee = <a class="code" href="../../d5/d7b/channel_8h.html#a2f18aafad0442206e71033ac6676dbb5">ast_channel_alloc</a>(0, <a class="code" href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660a81348336816e0a2f6f3a76da487a46dc">AST_STATE_DOWN</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="stringliteral">&quot;200&quot;</span>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, chan_caller, 0, <a class="code" href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a> <span class="stringliteral">&quot;/Bob&quot;</span>);</div><div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#a7a53a18000fdffa1da8f2842a6513c87">SET_FORMATS</a>(chan_callee);</div><div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan_callee);</div><div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#ab5033a1f3d781d45e7ccc27598114510">ast_set_flag</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a91de92158876186d28ba1773877f2732">ast_channel_flags</a>(chan_callee), <a class="code" href="../../d5/d7b/channel_8h.html#a82f2c6e4d47f62f6b65c5887eb096fd5a36fa77a64746637c77c6b18a7999d0a2">AST_FLAG_OUTGOING</a>);</div><div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#ab91bafbff6fa458554e8745276c0b4d3">EMULATE_APP_DATA</a>(chan_callee, 0, <span class="stringliteral">&quot;AppDial&quot;</span>, <span class="stringliteral">&quot;(Outgoing Line)&quot;</span>);</div><div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;</div><div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;   <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#ga7d446221f9a272b003c4ad660a7e14dc">ast_channel_publish_dial</a>(chan_caller, chan_callee, <span class="stringliteral">&quot;Bob&quot;</span>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#acc7e03f08c0df9fe5f5ff801db51224d">ast_channel_state_set</a>(chan_caller, <a class="code" href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660a5bf03bd84f434acaeefdacb0096e1baa">AST_STATE_RINGING</a>);</div><div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;   <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#ga7d446221f9a272b003c4ad660a7e14dc">ast_channel_publish_dial</a>(chan_caller, chan_callee, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="stringliteral">&quot;BUSY&quot;</span>);</div><div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;</div><div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#ac2b699afc1547e0d4f71ece789ee21e1">HANGUP_CHANNEL</a>(chan_caller, <a class="code" href="../../d4/da3/causes_8h.html#ae009c193522491f7de7ea28b23f20868">AST_CAUSE_BUSY</a>);</div><div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#ac2b699afc1547e0d4f71ece789ee21e1">HANGUP_CHANNEL</a>(chan_callee, <a class="code" href="../../d4/da3/causes_8h.html#ae009c193522491f7de7ea28b23f20868">AST_CAUSE_BUSY</a>);</div><div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;</div><div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;   result = <a class="code" href="../../d7/d8e/test__cdr_8c.html#aabfd96ef82edc19b680e65889e005c93">verify_mock_cdr_record</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, &amp;expected, 1);</div><div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;</div><div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../de/d1b/cel__pgsql_8c.html#ad6c487210772a9b4b0ca04b04b847d4c">result</a>;</div><div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;}</div><div class="ttc" id="test__cdr_8c_html_ab91bafbff6fa458554e8745276c0b4d3"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#ab91bafbff6fa458554e8745276c0b4d3">EMULATE_APP_DATA</a></div><div class="ttdeci">#define EMULATE_APP_DATA(channel, priority, application, data)</div><div class="ttdoc">Emulate a channel entering into an application. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00291">test_cdr.c:291</a></div></div>
<div class="ttc" id="structast__channel_html"><div class="ttname"><a href="../../df/d3c/structast__channel.html">ast_channel</a></div><div class="ttdoc">Main Channel structure associated with a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00073">channel_internal_api.c:73</a></div></div>
<div class="ttc" id="channel_8h_html_a784b9642d6e2862b04b7f970b337549fa57aa76a632aa16d12a92e43b81c32a68"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a784b9642d6e2862b04b7f970b337549fa57aa76a632aa16d12a92e43b81c32a68">AST_AMA_DOCUMENTATION</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01182">channel.h:1182</a></div></div>
<div class="ttc" id="channelstate_8h_html_a03585bc87e5bbd0f4d11bc789734c660a81348336816e0a2f6f3a76da487a46dc"><div class="ttname"><a href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660a81348336816e0a2f6f3a76da487a46dc">AST_STATE_DOWN</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d95/channelstate_8h_source.html#l00036">channelstate.h:36</a></div></div>
<div class="ttc" id="conf2ael_8c_html_a74bb62276efdf39dd94048e007fca05b"><div class="ttname"><a href="../../de/dcc/conf2ael_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a></div><div class="ttdeci">char * config</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcc/conf2ael_8c_source.html#l00066">conf2ael.c:66</a></div></div>
<div class="ttc" id="group__StasisTopicsAndMessages_html_ga7d446221f9a272b003c4ad660a7e14dc"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#ga7d446221f9a272b003c4ad660a7e14dc">ast_channel_publish_dial</a></div><div class="ttdeci">void ast_channel_publish_dial(struct ast_channel *caller, struct ast_channel *peer, const char *dialstring, const char *dialstatus)</div><div class="ttdoc">Publish in the ast_channel_topic or ast_channel_topic_all topics a stasis message for the channels in...</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d2b/stasis__channels_8c_source.html#l00739">stasis_channels.c:739</a></div></div>
<div class="ttc" id="test__cdr_8c_html_add35ea2349b86888eef95d404e6faebf"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#add35ea2349b86888eef95d404e6faebf">TEST_CATEGORY</a></div><div class="ttdeci">#define TEST_CATEGORY</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00051">test_cdr.c:51</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a1ed3332fe918eafa4f3f79c131525249"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a1ed3332fe918eafa4f3f79c131525249">CREATE_ALICE_CHANNEL</a></div><div class="ttdeci">#define CREATE_ALICE_CHANNEL(channel_var, caller_id, expected_record)</div><div class="ttdoc">Create a test_cdr_chan_tech for Alice, and set the expected CDR records&amp;#39; linkedid and uniqueid...</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00248">test_cdr.c:248</a></div></div>
<div class="ttc" id="test_8h_html_a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e">TEST_EXECUTE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00208">test.h:208</a></div></div>
<div class="ttc" id="utils_8h_html_ab5033a1f3d781d45e7ccc27598114510"><div class="ttname"><a href="../../d5/d60/utils_8h.html#ab5033a1f3d781d45e7ccc27598114510">ast_set_flag</a></div><div class="ttdeci">#define ast_set_flag(p, flag)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00070">utils.h:70</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a7a53a18000fdffa1da8f2842a6513c87"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a7a53a18000fdffa1da8f2842a6513c87">SET_FORMATS</a></div><div class="ttdeci">#define SET_FORMATS(chan)</div><div class="ttdoc">Set ulaw format on channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00234">test_cdr.c:234</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a1ccf26b207f6e00ee0ece3e227de42a1"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a1ccf26b207f6e00ee0ece3e227de42a1">SWAP_CONFIG</a></div><div class="ttdeci">#define SWAP_CONFIG(ao2_config, template)</div><div class="ttdoc">Macro to swap a configuration out from the CDR engine. This should be used at the beginning of each t...</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00079">test_cdr.c:79</a></div></div>
<div class="ttc" id="test__cdr_8c_html_ac2b699afc1547e0d4f71ece789ee21e1"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#ac2b699afc1547e0d4f71ece789ee21e1">HANGUP_CHANNEL</a></div><div class="ttdeci">#define HANGUP_CHANNEL(channel, cause)</div><div class="ttdoc">Hang up a test channel safely. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00303">test_cdr.c:303</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="test_8h_html_a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b">TEST_INIT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00207">test.h:207</a></div></div>
<div class="ttc" id="test_8h_html_aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c"><div class="ttname"><a href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c">AST_TEST_NOT_RUN</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00201">test.h:201</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a8739ae4d4e4305695b4deaebc79986f1"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a8739ae4d4e4305695b4deaebc79986f1">ALICE_CALLERID</a></div><div class="ttdeci">#define ALICE_CALLERID</div><div class="ttdoc">Alice&amp;#39;s Caller ID. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00216">test_cdr.c:216</a></div></div>
<div class="ttc" id="utils_8h_html_a1604b4d72144dd3d9f7da668e90337e9"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a></div><div class="ttdeci">#define RAII_VAR(vartype, varname, initval, dtor)</div><div class="ttdoc">Declare a variable that will call a destructor function when it goes out of scope. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00911">utils.h:911</a></div></div>
<div class="ttc" id="structast__party__caller_html"><div class="ttname"><a href="../../d4/d77/structast__party__caller.html">ast_party_caller</a></div><div class="ttdoc">Caller Party information. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l00419">channel.h:419</a></div></div>
<div class="ttc" id="test__cdr_8c_html_aabfd96ef82edc19b680e65889e005c93"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#aabfd96ef82edc19b680e65889e005c93">verify_mock_cdr_record</a></div><div class="ttdeci">static enum ast_test_result_state verify_mock_cdr_record(struct ast_test *test, struct ast_cdr *expected, int record)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00310">test_cdr.c:310</a></div></div>
<div class="ttc" id="structast__cdr_html"><div class="ttname"><a href="../../d4/d5d/structast__cdr.html">ast_cdr</a></div><div class="ttdoc">Responsible for call detail data. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00276">cdr.h:276</a></div></div>
<div class="ttc" id="namespacesip__to__pjsip_html_ab82f408a83ecba10ea39afd8abfd371e"><div class="ttname"><a href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">sip_to_pjsip.info</a></div><div class="ttdeci">def info(msg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d6f/sip__to__pjsip_8py_source.html#l01313">sip_to_pjsip.py:1313</a></div></div>
<div class="ttc" id="astobj2_8h_html_ae0422b60d8e25b6962b2d61ae4ddf724"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ae0422b60d8e25b6962b2d61ae4ddf724">ao2_alloc</a></div><div class="ttdeci">#define ao2_alloc(data_size, destructor_fn)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00411">astobj2.h:411</a></div></div>
<div class="ttc" id="channelstate_8h_html_a03585bc87e5bbd0f4d11bc789734c660a5bf03bd84f434acaeefdacb0096e1baa"><div class="ttname"><a href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660a5bf03bd84f434acaeefdacb0096e1baa">AST_STATE_RINGING</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d95/channelstate_8h_source.html#l00041">channelstate.h:41</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a5722136884f356e886185ddd4f58e97a"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a5722136884f356e886185ddd4f58e97a">unanswered_cdr_config</a></div><div class="ttdeci">static struct ast_cdr_config unanswered_cdr_config</div><div class="ttdoc">A configuration suitable for CDRs with unanswered records. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00066">test_cdr.c:66</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a86d2cbfb5a0c115147944a541cc355e0"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a></div><div class="ttdeci">#define CHANNEL_TECH_NAME</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00055">test_cdr.c:55</a></div></div>
<div class="ttc" id="structtest_html"><div class="ttname"><a href="../../d8/d89/structtest.html">test</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d7d/test__logger_8c_source.html#l00043">test_logger.c:43</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="channel_8h_html_a82f2c6e4d47f62f6b65c5887eb096fd5a36fa77a64746637c77c6b18a7999d0a2"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a82f2c6e4d47f62f6b65c5887eb096fd5a36fa77a64746637c77c6b18a7999d0a2">AST_FLAG_OUTGOING</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01000">channel.h:1000</a></div></div>
<div class="ttc" id="channel_8h_html_acc7e03f08c0df9fe5f5ff801db51224d"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#acc7e03f08c0df9fe5f5ff801db51224d">ast_channel_state_set</a></div><div class="ttdeci">void ast_channel_state_set(struct ast_channel *chan, enum ast_channel_state)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00820">channel_internal_api.c:820</a></div></div>
<div class="ttc" id="cdr_8h_html_a53e2666db1174cc83384daf9049023c0ad5945e6977fe7c1d64bacadaad7aa9ea"><div class="ttname"><a href="../../dc/d07/cdr_8h.html#a53e2666db1174cc83384daf9049023c0ad5945e6977fe7c1d64bacadaad7aa9ea">AST_CDR_BUSY</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00257">cdr.h:257</a></div></div>
<div class="ttc" id="cel__pgsql_8c_html_ad6c487210772a9b4b0ca04b04b847d4c"><div class="ttname"><a href="../../de/d1b/cel__pgsql_8c.html#ad6c487210772a9b4b0ca04b04b847d4c">result</a></div><div class="ttdeci">static PGresult * result</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1b/cel__pgsql_8c_source.html#l00088">cel_pgsql.c:88</a></div></div>
<div class="ttc" id="causes_8h_html_ae009c193522491f7de7ea28b23f20868"><div class="ttname"><a href="../../d4/da3/causes_8h.html#ae009c193522491f7de7ea28b23f20868">AST_CAUSE_BUSY</a></div><div class="ttdeci">#define AST_CAUSE_BUSY</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/da3/causes_8h_source.html#l00148">causes.h:148</a></div></div>
<div class="ttc" id="structast__cdr__config_html"><div class="ttname"><a href="../../d4/d69/structast__cdr__config.html">ast_cdr_config</a></div><div class="ttdoc">The global options available for CDRs. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00264">cdr.h:264</a></div></div>
<div class="ttc" id="structast__cdr_html_ab7fd8bddf0ce6987ae5e58fb64cfc9e2"><div class="ttname"><a href="../../d4/d5d/structast__cdr.html#ab7fd8bddf0ce6987ae5e58fb64cfc9e2">ast_cdr::clid</a></div><div class="ttdeci">char clid[AST_MAX_EXTENSION]</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00278">cdr.h:278</a></div></div>
<div class="ttc" id="channel_8h_html_a91de92158876186d28ba1773877f2732"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a91de92158876186d28ba1773877f2732">ast_channel_flags</a></div><div class="ttdeci">struct ast_flags * ast_channel_flags(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l01260">channel_internal_api.c:1260</a></div></div>
<div class="ttc" id="channel_8h_html_a2f18aafad0442206e71033ac6676dbb5"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a2f18aafad0442206e71033ac6676dbb5">ast_channel_alloc</a></div><div class="ttdeci">#define ast_channel_alloc(needqueue, state, cid_num, cid_name, acctcode, exten, context, assignedids, requestor, amaflag,...)</div><div class="ttdoc">Create a channel structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01259">channel.h:1259</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a987d4f1e5d92597fac228fa99bcb56be"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a987d4f1e5d92597fac228fa99bcb56be">safe_channel_release</a></div><div class="ttdeci">static void safe_channel_release(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00371">test_cdr.c:371</a></div></div>
<div class="ttc" id="test_8h_html_aad2aec78205d328d23894a6598cc4044"><div class="ttname"><a href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044">ast_test_result_state</a></div><div class="ttdeci">ast_test_result_state</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00200">test.h:200</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a25485f8979f9cfa39126e2f672c061a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a25485f8979f9cfa39126e2f672c061a7">&#9670;&nbsp;</a></span>AST_TEST_DEFINE() <span class="overload">[13/24]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AST_TEST_DEFINE </td>
          <td>(</td>
          <td class="paramtype">test_cdr_dial_congestion&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l01273">1273</a> of file <a class="el" href="../../d7/d8e/test__cdr_8c_source.html">test_cdr.c</a>.</p>

<p class="reference">References <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00216">ALICE_CALLERID</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00411">ao2_alloc</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l01182">AST_AMA_DOCUMENTATION</a>, <a class="el" href="../../d4/da3/causes_8h_source.html#l00152">AST_CAUSE_CONGESTION</a>, <a class="el" href="../../dc/d07/cdr_8h_source.html#l00259">AST_CDR_CONGESTION</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l01259">ast_channel_alloc</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l01260">ast_channel_flags()</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l00739">ast_channel_publish_dial()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00820">ast_channel_state_set()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l01000">AST_FLAG_OUTGOING</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00070">ast_set_flag</a>, <a class="el" href="../../d9/d95/channelstate_8h_source.html#l00036">AST_STATE_DOWN</a>, <a class="el" href="../../d9/d95/channelstate_8h_source.html#l00041">AST_STATE_RINGING</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00201">AST_TEST_NOT_RUN</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00055">CHANNEL_TECH_NAME</a>, <a class="el" href="../../dc/d07/cdr_8h_source.html#l00278">ast_cdr::clid</a>, <a class="el" href="../../de/dcc/conf2ael_8c_source.html#l00066">config</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00248">CREATE_ALICE_CHANNEL</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00291">EMULATE_APP_DATA</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00303">HANGUP_CHANNEL</a>, <a class="el" href="../../d9/d6f/sip__to__pjsip_8py_source.html#l01313">sip_to_pjsip::info()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00911">RAII_VAR</a>, <a class="el" href="../../de/d1b/cel__pgsql_8c_source.html#l00088">result</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00371">safe_channel_release()</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00234">SET_FORMATS</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00079">SWAP_CONFIG</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00051">TEST_CATEGORY</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00208">TEST_EXECUTE</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00207">TEST_INIT</a>, and <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00310">verify_mock_cdr_record()</a>.</p>
<div class="fragment"><div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;{</div><div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *, chan_caller, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d7/d8e/test__cdr_8c.html#a987d4f1e5d92597fac228fa99bcb56be">safe_channel_release</a>);</div><div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *, chan_callee, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d7/d8e/test__cdr_8c.html#a987d4f1e5d92597fac228fa99bcb56be">safe_channel_release</a>);</div><div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d4/d69/structast__cdr__config.html">ast_cdr_config</a> *, <a class="code" href="../../de/dcc/conf2ael_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#ae0422b60d8e25b6962b2d61ae4ddf724">ao2_alloc</a>(<span class="keyword">sizeof</span>(*<a class="code" href="../../de/dcc/conf2ael_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a>), <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>),</div><div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;         <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;</div><div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d77/structast__party__caller.html">ast_party_caller</a> caller = <a class="code" href="../../d7/d8e/test__cdr_8c.html#a8739ae4d4e4305695b4deaebc79986f1">ALICE_CALLERID</a>;</div><div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d5d/structast__cdr.html">ast_cdr</a> expected = {</div><div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;      .<a class="code" href="../../d4/d5d/structast__cdr.html#ab7fd8bddf0ce6987ae5e58fb64cfc9e2">clid</a> = <span class="stringliteral">&quot;\&quot;Alice\&quot; &lt;100&gt;&quot;</span>,</div><div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;      .src = <span class="stringliteral">&quot;100&quot;</span>,</div><div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;      .dst = <span class="stringliteral">&quot;100&quot;</span>,</div><div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;      .dcontext = <span class="stringliteral">&quot;default&quot;</span>,</div><div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;      .channel = <a class="code" href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a> <span class="stringliteral">&quot;/Alice&quot;</span>,</div><div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;      .dstchannel = <a class="code" href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a> <span class="stringliteral">&quot;/Bob&quot;</span>,</div><div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;      .lastapp = <span class="stringliteral">&quot;Dial&quot;</span>,</div><div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;      .lastdata = <a class="code" href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a> <span class="stringliteral">&quot;/Bob&quot;</span>,</div><div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;      .billsec = 0,</div><div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;      .amaflags = <a class="code" href="../../d5/d7b/channel_8h.html#a784b9642d6e2862b04b7f970b337549fa57aa76a632aa16d12a92e43b81c32a68">AST_AMA_DOCUMENTATION</a>,</div><div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;      .disposition = <a class="code" href="../../dc/d07/cdr_8h.html#a53e2666db1174cc83384daf9049023c0a115c062baa559bcadd55720d6e2383bd">AST_CDR_CONGESTION</a>,</div><div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;      .accountcode = <span class="stringliteral">&quot;100&quot;</span>,</div><div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;      .peeraccount = <span class="stringliteral">&quot;200&quot;</span>,</div><div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;   };</div><div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;   <span class="keyword">enum</span> <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044">ast_test_result_state</a> <a class="code" href="../../de/d1b/cel__pgsql_8c.html#ad6c487210772a9b4b0ca04b04b847d4c">result</a> = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c">AST_TEST_NOT_RUN</a>;</div><div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;</div><div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;   <span class="keywordflow">switch</span> (cmd) {</div><div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b">TEST_INIT</a>:</div><div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;name = __func__;</div><div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;category = <a class="code" href="../../d7/d8e/test__cdr_8c.html#add35ea2349b86888eef95d404e6faebf">TEST_CATEGORY</a>;</div><div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;summary = <span class="stringliteral">&quot;Test CDRs for a dial that results in congestion&quot;</span>;</div><div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;description =</div><div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;         <span class="stringliteral">&quot;Test the properties of a CDR for a channel that\n&quot;</span></div><div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;         <span class="stringliteral">&quot;performs a dial operation to an endpoint that&#39;s congested&quot;</span>;</div><div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c">AST_TEST_NOT_RUN</a>;</div><div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e">TEST_EXECUTE</a>:</div><div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;   }</div><div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;</div><div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#a1ccf26b207f6e00ee0ece3e227de42a1">SWAP_CONFIG</a>(<a class="code" href="../../de/dcc/conf2ael_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a>, <a class="code" href="../../d7/d8e/test__cdr_8c.html#afdb35db7a196aaf05ae2d378f90354c6">congestion_cdr_config</a>);</div><div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;</div><div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#a1ed3332fe918eafa4f3f79c131525249">CREATE_ALICE_CHANNEL</a>(chan_caller, &amp;caller, &amp;expected);</div><div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;</div><div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#ab91bafbff6fa458554e8745276c0b4d3">EMULATE_APP_DATA</a>(chan_caller, 1, <span class="stringliteral">&quot;Dial&quot;</span>, <a class="code" href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a> <span class="stringliteral">&quot;/Bob&quot;</span>);</div><div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;</div><div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;   chan_callee = <a class="code" href="../../d5/d7b/channel_8h.html#a2f18aafad0442206e71033ac6676dbb5">ast_channel_alloc</a>(0, <a class="code" href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660a81348336816e0a2f6f3a76da487a46dc">AST_STATE_DOWN</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="stringliteral">&quot;200&quot;</span>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, chan_caller, 0, <a class="code" href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a> <span class="stringliteral">&quot;/Bob&quot;</span>);</div><div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#a7a53a18000fdffa1da8f2842a6513c87">SET_FORMATS</a>(chan_callee);</div><div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan_callee);</div><div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#ab5033a1f3d781d45e7ccc27598114510">ast_set_flag</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a91de92158876186d28ba1773877f2732">ast_channel_flags</a>(chan_callee), <a class="code" href="../../d5/d7b/channel_8h.html#a82f2c6e4d47f62f6b65c5887eb096fd5a36fa77a64746637c77c6b18a7999d0a2">AST_FLAG_OUTGOING</a>);</div><div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#ab91bafbff6fa458554e8745276c0b4d3">EMULATE_APP_DATA</a>(chan_callee, 0, <span class="stringliteral">&quot;AppDial&quot;</span>, <span class="stringliteral">&quot;(Outgoing Line)&quot;</span>);</div><div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;</div><div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;   <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#ga7d446221f9a272b003c4ad660a7e14dc">ast_channel_publish_dial</a>(chan_caller, chan_callee, <span class="stringliteral">&quot;Bob&quot;</span>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#acc7e03f08c0df9fe5f5ff801db51224d">ast_channel_state_set</a>(chan_caller, <a class="code" href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660a5bf03bd84f434acaeefdacb0096e1baa">AST_STATE_RINGING</a>);</div><div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;   <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#ga7d446221f9a272b003c4ad660a7e14dc">ast_channel_publish_dial</a>(chan_caller, chan_callee, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="stringliteral">&quot;CONGESTION&quot;</span>);</div><div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;</div><div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#ac2b699afc1547e0d4f71ece789ee21e1">HANGUP_CHANNEL</a>(chan_caller, <a class="code" href="../../d4/da3/causes_8h.html#a0a35518d7b448a53da368cf57f354fba">AST_CAUSE_CONGESTION</a>);</div><div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#ac2b699afc1547e0d4f71ece789ee21e1">HANGUP_CHANNEL</a>(chan_callee, <a class="code" href="../../d4/da3/causes_8h.html#a0a35518d7b448a53da368cf57f354fba">AST_CAUSE_CONGESTION</a>);</div><div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;</div><div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;   result = <a class="code" href="../../d7/d8e/test__cdr_8c.html#aabfd96ef82edc19b680e65889e005c93">verify_mock_cdr_record</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, &amp;expected, 1);</div><div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;</div><div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../de/d1b/cel__pgsql_8c.html#ad6c487210772a9b4b0ca04b04b847d4c">result</a>;</div><div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;}</div><div class="ttc" id="test__cdr_8c_html_ab91bafbff6fa458554e8745276c0b4d3"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#ab91bafbff6fa458554e8745276c0b4d3">EMULATE_APP_DATA</a></div><div class="ttdeci">#define EMULATE_APP_DATA(channel, priority, application, data)</div><div class="ttdoc">Emulate a channel entering into an application. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00291">test_cdr.c:291</a></div></div>
<div class="ttc" id="structast__channel_html"><div class="ttname"><a href="../../df/d3c/structast__channel.html">ast_channel</a></div><div class="ttdoc">Main Channel structure associated with a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00073">channel_internal_api.c:73</a></div></div>
<div class="ttc" id="channel_8h_html_a784b9642d6e2862b04b7f970b337549fa57aa76a632aa16d12a92e43b81c32a68"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a784b9642d6e2862b04b7f970b337549fa57aa76a632aa16d12a92e43b81c32a68">AST_AMA_DOCUMENTATION</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01182">channel.h:1182</a></div></div>
<div class="ttc" id="channelstate_8h_html_a03585bc87e5bbd0f4d11bc789734c660a81348336816e0a2f6f3a76da487a46dc"><div class="ttname"><a href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660a81348336816e0a2f6f3a76da487a46dc">AST_STATE_DOWN</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d95/channelstate_8h_source.html#l00036">channelstate.h:36</a></div></div>
<div class="ttc" id="conf2ael_8c_html_a74bb62276efdf39dd94048e007fca05b"><div class="ttname"><a href="../../de/dcc/conf2ael_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a></div><div class="ttdeci">char * config</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcc/conf2ael_8c_source.html#l00066">conf2ael.c:66</a></div></div>
<div class="ttc" id="group__StasisTopicsAndMessages_html_ga7d446221f9a272b003c4ad660a7e14dc"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#ga7d446221f9a272b003c4ad660a7e14dc">ast_channel_publish_dial</a></div><div class="ttdeci">void ast_channel_publish_dial(struct ast_channel *caller, struct ast_channel *peer, const char *dialstring, const char *dialstatus)</div><div class="ttdoc">Publish in the ast_channel_topic or ast_channel_topic_all topics a stasis message for the channels in...</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d2b/stasis__channels_8c_source.html#l00739">stasis_channels.c:739</a></div></div>
<div class="ttc" id="test__cdr_8c_html_afdb35db7a196aaf05ae2d378f90354c6"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#afdb35db7a196aaf05ae2d378f90354c6">congestion_cdr_config</a></div><div class="ttdeci">static struct ast_cdr_config congestion_cdr_config</div><div class="ttdoc">A configuration suitable for CDRs with congestion enabled. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00071">test_cdr.c:71</a></div></div>
<div class="ttc" id="test__cdr_8c_html_add35ea2349b86888eef95d404e6faebf"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#add35ea2349b86888eef95d404e6faebf">TEST_CATEGORY</a></div><div class="ttdeci">#define TEST_CATEGORY</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00051">test_cdr.c:51</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a1ed3332fe918eafa4f3f79c131525249"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a1ed3332fe918eafa4f3f79c131525249">CREATE_ALICE_CHANNEL</a></div><div class="ttdeci">#define CREATE_ALICE_CHANNEL(channel_var, caller_id, expected_record)</div><div class="ttdoc">Create a test_cdr_chan_tech for Alice, and set the expected CDR records&amp;#39; linkedid and uniqueid...</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00248">test_cdr.c:248</a></div></div>
<div class="ttc" id="test_8h_html_a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e">TEST_EXECUTE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00208">test.h:208</a></div></div>
<div class="ttc" id="utils_8h_html_ab5033a1f3d781d45e7ccc27598114510"><div class="ttname"><a href="../../d5/d60/utils_8h.html#ab5033a1f3d781d45e7ccc27598114510">ast_set_flag</a></div><div class="ttdeci">#define ast_set_flag(p, flag)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00070">utils.h:70</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a7a53a18000fdffa1da8f2842a6513c87"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a7a53a18000fdffa1da8f2842a6513c87">SET_FORMATS</a></div><div class="ttdeci">#define SET_FORMATS(chan)</div><div class="ttdoc">Set ulaw format on channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00234">test_cdr.c:234</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a1ccf26b207f6e00ee0ece3e227de42a1"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a1ccf26b207f6e00ee0ece3e227de42a1">SWAP_CONFIG</a></div><div class="ttdeci">#define SWAP_CONFIG(ao2_config, template)</div><div class="ttdoc">Macro to swap a configuration out from the CDR engine. This should be used at the beginning of each t...</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00079">test_cdr.c:79</a></div></div>
<div class="ttc" id="test__cdr_8c_html_ac2b699afc1547e0d4f71ece789ee21e1"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#ac2b699afc1547e0d4f71ece789ee21e1">HANGUP_CHANNEL</a></div><div class="ttdeci">#define HANGUP_CHANNEL(channel, cause)</div><div class="ttdoc">Hang up a test channel safely. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00303">test_cdr.c:303</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="test_8h_html_a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b">TEST_INIT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00207">test.h:207</a></div></div>
<div class="ttc" id="test_8h_html_aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c"><div class="ttname"><a href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c">AST_TEST_NOT_RUN</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00201">test.h:201</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a8739ae4d4e4305695b4deaebc79986f1"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a8739ae4d4e4305695b4deaebc79986f1">ALICE_CALLERID</a></div><div class="ttdeci">#define ALICE_CALLERID</div><div class="ttdoc">Alice&amp;#39;s Caller ID. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00216">test_cdr.c:216</a></div></div>
<div class="ttc" id="utils_8h_html_a1604b4d72144dd3d9f7da668e90337e9"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a></div><div class="ttdeci">#define RAII_VAR(vartype, varname, initval, dtor)</div><div class="ttdoc">Declare a variable that will call a destructor function when it goes out of scope. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00911">utils.h:911</a></div></div>
<div class="ttc" id="structast__party__caller_html"><div class="ttname"><a href="../../d4/d77/structast__party__caller.html">ast_party_caller</a></div><div class="ttdoc">Caller Party information. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l00419">channel.h:419</a></div></div>
<div class="ttc" id="test__cdr_8c_html_aabfd96ef82edc19b680e65889e005c93"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#aabfd96ef82edc19b680e65889e005c93">verify_mock_cdr_record</a></div><div class="ttdeci">static enum ast_test_result_state verify_mock_cdr_record(struct ast_test *test, struct ast_cdr *expected, int record)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00310">test_cdr.c:310</a></div></div>
<div class="ttc" id="structast__cdr_html"><div class="ttname"><a href="../../d4/d5d/structast__cdr.html">ast_cdr</a></div><div class="ttdoc">Responsible for call detail data. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00276">cdr.h:276</a></div></div>
<div class="ttc" id="namespacesip__to__pjsip_html_ab82f408a83ecba10ea39afd8abfd371e"><div class="ttname"><a href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">sip_to_pjsip.info</a></div><div class="ttdeci">def info(msg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d6f/sip__to__pjsip_8py_source.html#l01313">sip_to_pjsip.py:1313</a></div></div>
<div class="ttc" id="astobj2_8h_html_ae0422b60d8e25b6962b2d61ae4ddf724"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ae0422b60d8e25b6962b2d61ae4ddf724">ao2_alloc</a></div><div class="ttdeci">#define ao2_alloc(data_size, destructor_fn)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00411">astobj2.h:411</a></div></div>
<div class="ttc" id="channelstate_8h_html_a03585bc87e5bbd0f4d11bc789734c660a5bf03bd84f434acaeefdacb0096e1baa"><div class="ttname"><a href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660a5bf03bd84f434acaeefdacb0096e1baa">AST_STATE_RINGING</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d95/channelstate_8h_source.html#l00041">channelstate.h:41</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a86d2cbfb5a0c115147944a541cc355e0"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a></div><div class="ttdeci">#define CHANNEL_TECH_NAME</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00055">test_cdr.c:55</a></div></div>
<div class="ttc" id="structtest_html"><div class="ttname"><a href="../../d8/d89/structtest.html">test</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d7d/test__logger_8c_source.html#l00043">test_logger.c:43</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="channel_8h_html_a82f2c6e4d47f62f6b65c5887eb096fd5a36fa77a64746637c77c6b18a7999d0a2"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a82f2c6e4d47f62f6b65c5887eb096fd5a36fa77a64746637c77c6b18a7999d0a2">AST_FLAG_OUTGOING</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01000">channel.h:1000</a></div></div>
<div class="ttc" id="channel_8h_html_acc7e03f08c0df9fe5f5ff801db51224d"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#acc7e03f08c0df9fe5f5ff801db51224d">ast_channel_state_set</a></div><div class="ttdeci">void ast_channel_state_set(struct ast_channel *chan, enum ast_channel_state)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00820">channel_internal_api.c:820</a></div></div>
<div class="ttc" id="cel__pgsql_8c_html_ad6c487210772a9b4b0ca04b04b847d4c"><div class="ttname"><a href="../../de/d1b/cel__pgsql_8c.html#ad6c487210772a9b4b0ca04b04b847d4c">result</a></div><div class="ttdeci">static PGresult * result</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1b/cel__pgsql_8c_source.html#l00088">cel_pgsql.c:88</a></div></div>
<div class="ttc" id="structast__cdr__config_html"><div class="ttname"><a href="../../d4/d69/structast__cdr__config.html">ast_cdr_config</a></div><div class="ttdoc">The global options available for CDRs. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00264">cdr.h:264</a></div></div>
<div class="ttc" id="structast__cdr_html_ab7fd8bddf0ce6987ae5e58fb64cfc9e2"><div class="ttname"><a href="../../d4/d5d/structast__cdr.html#ab7fd8bddf0ce6987ae5e58fb64cfc9e2">ast_cdr::clid</a></div><div class="ttdeci">char clid[AST_MAX_EXTENSION]</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00278">cdr.h:278</a></div></div>
<div class="ttc" id="channel_8h_html_a91de92158876186d28ba1773877f2732"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a91de92158876186d28ba1773877f2732">ast_channel_flags</a></div><div class="ttdeci">struct ast_flags * ast_channel_flags(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l01260">channel_internal_api.c:1260</a></div></div>
<div class="ttc" id="channel_8h_html_a2f18aafad0442206e71033ac6676dbb5"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a2f18aafad0442206e71033ac6676dbb5">ast_channel_alloc</a></div><div class="ttdeci">#define ast_channel_alloc(needqueue, state, cid_num, cid_name, acctcode, exten, context, assignedids, requestor, amaflag,...)</div><div class="ttdoc">Create a channel structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01259">channel.h:1259</a></div></div>
<div class="ttc" id="cdr_8h_html_a53e2666db1174cc83384daf9049023c0a115c062baa559bcadd55720d6e2383bd"><div class="ttname"><a href="../../dc/d07/cdr_8h.html#a53e2666db1174cc83384daf9049023c0a115c062baa559bcadd55720d6e2383bd">AST_CDR_CONGESTION</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00259">cdr.h:259</a></div></div>
<div class="ttc" id="causes_8h_html_a0a35518d7b448a53da368cf57f354fba"><div class="ttname"><a href="../../d4/da3/causes_8h.html#a0a35518d7b448a53da368cf57f354fba">AST_CAUSE_CONGESTION</a></div><div class="ttdeci">#define AST_CAUSE_CONGESTION</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/da3/causes_8h_source.html#l00152">causes.h:152</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a987d4f1e5d92597fac228fa99bcb56be"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a987d4f1e5d92597fac228fa99bcb56be">safe_channel_release</a></div><div class="ttdeci">static void safe_channel_release(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00371">test_cdr.c:371</a></div></div>
<div class="ttc" id="test_8h_html_aad2aec78205d328d23894a6598cc4044"><div class="ttname"><a href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044">ast_test_result_state</a></div><div class="ttdeci">ast_test_result_state</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00200">test.h:200</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a08ad895ae55a03596d754977dfcb407a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a08ad895ae55a03596d754977dfcb407a">&#9670;&nbsp;</a></span>AST_TEST_DEFINE() <span class="overload">[14/24]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AST_TEST_DEFINE </td>
          <td>(</td>
          <td class="paramtype">test_cdr_dial_unavailable&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l01335">1335</a> of file <a class="el" href="../../d7/d8e/test__cdr_8c_source.html">test_cdr.c</a>.</p>

<p class="reference">References <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00216">ALICE_CALLERID</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00411">ao2_alloc</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l01182">AST_AMA_DOCUMENTATION</a>, <a class="el" href="../../d4/da3/causes_8h_source.html#l00099">AST_CAUSE_NO_ROUTE_DESTINATION</a>, <a class="el" href="../../dc/d07/cdr_8h_source.html#l00256">AST_CDR_FAILED</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l01259">ast_channel_alloc</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l01260">ast_channel_flags()</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l00739">ast_channel_publish_dial()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00820">ast_channel_state_set()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l01000">AST_FLAG_OUTGOING</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00070">ast_set_flag</a>, <a class="el" href="../../d9/d95/channelstate_8h_source.html#l00036">AST_STATE_DOWN</a>, <a class="el" href="../../d9/d95/channelstate_8h_source.html#l00041">AST_STATE_RINGING</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00201">AST_TEST_NOT_RUN</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00055">CHANNEL_TECH_NAME</a>, <a class="el" href="../../dc/d07/cdr_8h_source.html#l00278">ast_cdr::clid</a>, <a class="el" href="../../de/dcc/conf2ael_8c_source.html#l00066">config</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00248">CREATE_ALICE_CHANNEL</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00291">EMULATE_APP_DATA</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00303">HANGUP_CHANNEL</a>, <a class="el" href="../../d9/d6f/sip__to__pjsip_8py_source.html#l01313">sip_to_pjsip::info()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00911">RAII_VAR</a>, <a class="el" href="../../de/d1b/cel__pgsql_8c_source.html#l00088">result</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00371">safe_channel_release()</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00234">SET_FORMATS</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00079">SWAP_CONFIG</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00051">TEST_CATEGORY</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00208">TEST_EXECUTE</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00207">TEST_INIT</a>, and <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00310">verify_mock_cdr_record()</a>.</p>
<div class="fragment"><div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;{</div><div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *, chan_caller, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d7/d8e/test__cdr_8c.html#a987d4f1e5d92597fac228fa99bcb56be">safe_channel_release</a>);</div><div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *, chan_callee, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d7/d8e/test__cdr_8c.html#a987d4f1e5d92597fac228fa99bcb56be">safe_channel_release</a>);</div><div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d4/d69/structast__cdr__config.html">ast_cdr_config</a> *, <a class="code" href="../../de/dcc/conf2ael_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#ae0422b60d8e25b6962b2d61ae4ddf724">ao2_alloc</a>(<span class="keyword">sizeof</span>(*<a class="code" href="../../de/dcc/conf2ael_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a>), <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>),</div><div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;         <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;</div><div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d77/structast__party__caller.html">ast_party_caller</a> caller = <a class="code" href="../../d7/d8e/test__cdr_8c.html#a8739ae4d4e4305695b4deaebc79986f1">ALICE_CALLERID</a>;</div><div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d5d/structast__cdr.html">ast_cdr</a> expected = {</div><div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;      .<a class="code" href="../../d4/d5d/structast__cdr.html#ab7fd8bddf0ce6987ae5e58fb64cfc9e2">clid</a> = <span class="stringliteral">&quot;\&quot;Alice\&quot; &lt;100&gt;&quot;</span>,</div><div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;      .src = <span class="stringliteral">&quot;100&quot;</span>,</div><div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;      .dst = <span class="stringliteral">&quot;100&quot;</span>,</div><div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;      .dcontext = <span class="stringliteral">&quot;default&quot;</span>,</div><div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;      .channel = <a class="code" href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a> <span class="stringliteral">&quot;/Alice&quot;</span>,</div><div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;      .dstchannel = <a class="code" href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a> <span class="stringliteral">&quot;/Bob&quot;</span>,</div><div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;      .lastapp = <span class="stringliteral">&quot;Dial&quot;</span>,</div><div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;      .lastdata = <a class="code" href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a> <span class="stringliteral">&quot;/Bob&quot;</span>,</div><div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;      .billsec = 0,</div><div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;      .amaflags = <a class="code" href="../../d5/d7b/channel_8h.html#a784b9642d6e2862b04b7f970b337549fa57aa76a632aa16d12a92e43b81c32a68">AST_AMA_DOCUMENTATION</a>,</div><div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;      .disposition = <a class="code" href="../../dc/d07/cdr_8h.html#a53e2666db1174cc83384daf9049023c0af31f029a69fc67c7fca424569f708143">AST_CDR_FAILED</a>,</div><div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;      .accountcode = <span class="stringliteral">&quot;100&quot;</span>,</div><div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;      .peeraccount = <span class="stringliteral">&quot;200&quot;</span>,</div><div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;   };</div><div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;   <span class="keyword">enum</span> <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044">ast_test_result_state</a> <a class="code" href="../../de/d1b/cel__pgsql_8c.html#ad6c487210772a9b4b0ca04b04b847d4c">result</a> = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c">AST_TEST_NOT_RUN</a>;</div><div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;</div><div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;   <span class="keywordflow">switch</span> (cmd) {</div><div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b">TEST_INIT</a>:</div><div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;name = __func__;</div><div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;category = <a class="code" href="../../d7/d8e/test__cdr_8c.html#add35ea2349b86888eef95d404e6faebf">TEST_CATEGORY</a>;</div><div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;summary = <span class="stringliteral">&quot;Test CDRs for a dial that results in unavailable&quot;</span>;</div><div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;description =</div><div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;         <span class="stringliteral">&quot;Test the properties of a CDR for a channel that\n&quot;</span></div><div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;         <span class="stringliteral">&quot;performs a dial operation to an endpoint that&#39;s unavailable&quot;</span>;</div><div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c">AST_TEST_NOT_RUN</a>;</div><div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e">TEST_EXECUTE</a>:</div><div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;   }</div><div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;</div><div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#a1ccf26b207f6e00ee0ece3e227de42a1">SWAP_CONFIG</a>(<a class="code" href="../../de/dcc/conf2ael_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a>, <a class="code" href="../../d7/d8e/test__cdr_8c.html#a5722136884f356e886185ddd4f58e97a">unanswered_cdr_config</a>);</div><div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;</div><div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#a1ed3332fe918eafa4f3f79c131525249">CREATE_ALICE_CHANNEL</a>(chan_caller, &amp;caller, &amp;expected);</div><div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;</div><div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#ab91bafbff6fa458554e8745276c0b4d3">EMULATE_APP_DATA</a>(chan_caller, 1, <span class="stringliteral">&quot;Dial&quot;</span>, <a class="code" href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a> <span class="stringliteral">&quot;/Bob&quot;</span>);</div><div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;</div><div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;   chan_callee = <a class="code" href="../../d5/d7b/channel_8h.html#a2f18aafad0442206e71033ac6676dbb5">ast_channel_alloc</a>(0, <a class="code" href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660a81348336816e0a2f6f3a76da487a46dc">AST_STATE_DOWN</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="stringliteral">&quot;200&quot;</span>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, chan_caller, 0, <a class="code" href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a> <span class="stringliteral">&quot;/Bob&quot;</span>);</div><div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#a7a53a18000fdffa1da8f2842a6513c87">SET_FORMATS</a>(chan_callee);</div><div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan_callee);</div><div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#ab5033a1f3d781d45e7ccc27598114510">ast_set_flag</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a91de92158876186d28ba1773877f2732">ast_channel_flags</a>(chan_callee), <a class="code" href="../../d5/d7b/channel_8h.html#a82f2c6e4d47f62f6b65c5887eb096fd5a36fa77a64746637c77c6b18a7999d0a2">AST_FLAG_OUTGOING</a>);</div><div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#ab91bafbff6fa458554e8745276c0b4d3">EMULATE_APP_DATA</a>(chan_callee, 0, <span class="stringliteral">&quot;AppDial&quot;</span>, <span class="stringliteral">&quot;(Outgoing Line)&quot;</span>);</div><div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;</div><div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;   <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#ga7d446221f9a272b003c4ad660a7e14dc">ast_channel_publish_dial</a>(chan_caller, chan_callee, <span class="stringliteral">&quot;Bob&quot;</span>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#acc7e03f08c0df9fe5f5ff801db51224d">ast_channel_state_set</a>(chan_caller, <a class="code" href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660a5bf03bd84f434acaeefdacb0096e1baa">AST_STATE_RINGING</a>);</div><div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;   <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#ga7d446221f9a272b003c4ad660a7e14dc">ast_channel_publish_dial</a>(chan_caller, chan_callee, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="stringliteral">&quot;CHANUNAVAIL&quot;</span>);</div><div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;</div><div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#ac2b699afc1547e0d4f71ece789ee21e1">HANGUP_CHANNEL</a>(chan_caller, <a class="code" href="../../d4/da3/causes_8h.html#ace4ceec464072bb9e269b6a52e7a6631">AST_CAUSE_NO_ROUTE_DESTINATION</a>);</div><div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#ac2b699afc1547e0d4f71ece789ee21e1">HANGUP_CHANNEL</a>(chan_callee, <a class="code" href="../../d4/da3/causes_8h.html#ace4ceec464072bb9e269b6a52e7a6631">AST_CAUSE_NO_ROUTE_DESTINATION</a>);</div><div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;</div><div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;   result = <a class="code" href="../../d7/d8e/test__cdr_8c.html#aabfd96ef82edc19b680e65889e005c93">verify_mock_cdr_record</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, &amp;expected, 1);</div><div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;</div><div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../de/d1b/cel__pgsql_8c.html#ad6c487210772a9b4b0ca04b04b847d4c">result</a>;</div><div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;}</div><div class="ttc" id="test__cdr_8c_html_ab91bafbff6fa458554e8745276c0b4d3"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#ab91bafbff6fa458554e8745276c0b4d3">EMULATE_APP_DATA</a></div><div class="ttdeci">#define EMULATE_APP_DATA(channel, priority, application, data)</div><div class="ttdoc">Emulate a channel entering into an application. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00291">test_cdr.c:291</a></div></div>
<div class="ttc" id="structast__channel_html"><div class="ttname"><a href="../../df/d3c/structast__channel.html">ast_channel</a></div><div class="ttdoc">Main Channel structure associated with a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00073">channel_internal_api.c:73</a></div></div>
<div class="ttc" id="channel_8h_html_a784b9642d6e2862b04b7f970b337549fa57aa76a632aa16d12a92e43b81c32a68"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a784b9642d6e2862b04b7f970b337549fa57aa76a632aa16d12a92e43b81c32a68">AST_AMA_DOCUMENTATION</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01182">channel.h:1182</a></div></div>
<div class="ttc" id="channelstate_8h_html_a03585bc87e5bbd0f4d11bc789734c660a81348336816e0a2f6f3a76da487a46dc"><div class="ttname"><a href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660a81348336816e0a2f6f3a76da487a46dc">AST_STATE_DOWN</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d95/channelstate_8h_source.html#l00036">channelstate.h:36</a></div></div>
<div class="ttc" id="conf2ael_8c_html_a74bb62276efdf39dd94048e007fca05b"><div class="ttname"><a href="../../de/dcc/conf2ael_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a></div><div class="ttdeci">char * config</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcc/conf2ael_8c_source.html#l00066">conf2ael.c:66</a></div></div>
<div class="ttc" id="group__StasisTopicsAndMessages_html_ga7d446221f9a272b003c4ad660a7e14dc"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#ga7d446221f9a272b003c4ad660a7e14dc">ast_channel_publish_dial</a></div><div class="ttdeci">void ast_channel_publish_dial(struct ast_channel *caller, struct ast_channel *peer, const char *dialstring, const char *dialstatus)</div><div class="ttdoc">Publish in the ast_channel_topic or ast_channel_topic_all topics a stasis message for the channels in...</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d2b/stasis__channels_8c_source.html#l00739">stasis_channels.c:739</a></div></div>
<div class="ttc" id="test__cdr_8c_html_add35ea2349b86888eef95d404e6faebf"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#add35ea2349b86888eef95d404e6faebf">TEST_CATEGORY</a></div><div class="ttdeci">#define TEST_CATEGORY</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00051">test_cdr.c:51</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a1ed3332fe918eafa4f3f79c131525249"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a1ed3332fe918eafa4f3f79c131525249">CREATE_ALICE_CHANNEL</a></div><div class="ttdeci">#define CREATE_ALICE_CHANNEL(channel_var, caller_id, expected_record)</div><div class="ttdoc">Create a test_cdr_chan_tech for Alice, and set the expected CDR records&amp;#39; linkedid and uniqueid...</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00248">test_cdr.c:248</a></div></div>
<div class="ttc" id="test_8h_html_a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e">TEST_EXECUTE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00208">test.h:208</a></div></div>
<div class="ttc" id="utils_8h_html_ab5033a1f3d781d45e7ccc27598114510"><div class="ttname"><a href="../../d5/d60/utils_8h.html#ab5033a1f3d781d45e7ccc27598114510">ast_set_flag</a></div><div class="ttdeci">#define ast_set_flag(p, flag)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00070">utils.h:70</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a7a53a18000fdffa1da8f2842a6513c87"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a7a53a18000fdffa1da8f2842a6513c87">SET_FORMATS</a></div><div class="ttdeci">#define SET_FORMATS(chan)</div><div class="ttdoc">Set ulaw format on channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00234">test_cdr.c:234</a></div></div>
<div class="ttc" id="cdr_8h_html_a53e2666db1174cc83384daf9049023c0af31f029a69fc67c7fca424569f708143"><div class="ttname"><a href="../../dc/d07/cdr_8h.html#a53e2666db1174cc83384daf9049023c0af31f029a69fc67c7fca424569f708143">AST_CDR_FAILED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00256">cdr.h:256</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a1ccf26b207f6e00ee0ece3e227de42a1"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a1ccf26b207f6e00ee0ece3e227de42a1">SWAP_CONFIG</a></div><div class="ttdeci">#define SWAP_CONFIG(ao2_config, template)</div><div class="ttdoc">Macro to swap a configuration out from the CDR engine. This should be used at the beginning of each t...</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00079">test_cdr.c:79</a></div></div>
<div class="ttc" id="test__cdr_8c_html_ac2b699afc1547e0d4f71ece789ee21e1"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#ac2b699afc1547e0d4f71ece789ee21e1">HANGUP_CHANNEL</a></div><div class="ttdeci">#define HANGUP_CHANNEL(channel, cause)</div><div class="ttdoc">Hang up a test channel safely. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00303">test_cdr.c:303</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="test_8h_html_a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b">TEST_INIT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00207">test.h:207</a></div></div>
<div class="ttc" id="test_8h_html_aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c"><div class="ttname"><a href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c">AST_TEST_NOT_RUN</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00201">test.h:201</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a8739ae4d4e4305695b4deaebc79986f1"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a8739ae4d4e4305695b4deaebc79986f1">ALICE_CALLERID</a></div><div class="ttdeci">#define ALICE_CALLERID</div><div class="ttdoc">Alice&amp;#39;s Caller ID. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00216">test_cdr.c:216</a></div></div>
<div class="ttc" id="utils_8h_html_a1604b4d72144dd3d9f7da668e90337e9"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a></div><div class="ttdeci">#define RAII_VAR(vartype, varname, initval, dtor)</div><div class="ttdoc">Declare a variable that will call a destructor function when it goes out of scope. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00911">utils.h:911</a></div></div>
<div class="ttc" id="structast__party__caller_html"><div class="ttname"><a href="../../d4/d77/structast__party__caller.html">ast_party_caller</a></div><div class="ttdoc">Caller Party information. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l00419">channel.h:419</a></div></div>
<div class="ttc" id="test__cdr_8c_html_aabfd96ef82edc19b680e65889e005c93"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#aabfd96ef82edc19b680e65889e005c93">verify_mock_cdr_record</a></div><div class="ttdeci">static enum ast_test_result_state verify_mock_cdr_record(struct ast_test *test, struct ast_cdr *expected, int record)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00310">test_cdr.c:310</a></div></div>
<div class="ttc" id="structast__cdr_html"><div class="ttname"><a href="../../d4/d5d/structast__cdr.html">ast_cdr</a></div><div class="ttdoc">Responsible for call detail data. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00276">cdr.h:276</a></div></div>
<div class="ttc" id="namespacesip__to__pjsip_html_ab82f408a83ecba10ea39afd8abfd371e"><div class="ttname"><a href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">sip_to_pjsip.info</a></div><div class="ttdeci">def info(msg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d6f/sip__to__pjsip_8py_source.html#l01313">sip_to_pjsip.py:1313</a></div></div>
<div class="ttc" id="astobj2_8h_html_ae0422b60d8e25b6962b2d61ae4ddf724"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ae0422b60d8e25b6962b2d61ae4ddf724">ao2_alloc</a></div><div class="ttdeci">#define ao2_alloc(data_size, destructor_fn)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00411">astobj2.h:411</a></div></div>
<div class="ttc" id="channelstate_8h_html_a03585bc87e5bbd0f4d11bc789734c660a5bf03bd84f434acaeefdacb0096e1baa"><div class="ttname"><a href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660a5bf03bd84f434acaeefdacb0096e1baa">AST_STATE_RINGING</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d95/channelstate_8h_source.html#l00041">channelstate.h:41</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a5722136884f356e886185ddd4f58e97a"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a5722136884f356e886185ddd4f58e97a">unanswered_cdr_config</a></div><div class="ttdeci">static struct ast_cdr_config unanswered_cdr_config</div><div class="ttdoc">A configuration suitable for CDRs with unanswered records. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00066">test_cdr.c:66</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a86d2cbfb5a0c115147944a541cc355e0"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a></div><div class="ttdeci">#define CHANNEL_TECH_NAME</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00055">test_cdr.c:55</a></div></div>
<div class="ttc" id="structtest_html"><div class="ttname"><a href="../../d8/d89/structtest.html">test</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d7d/test__logger_8c_source.html#l00043">test_logger.c:43</a></div></div>
<div class="ttc" id="causes_8h_html_ace4ceec464072bb9e269b6a52e7a6631"><div class="ttname"><a href="../../d4/da3/causes_8h.html#ace4ceec464072bb9e269b6a52e7a6631">AST_CAUSE_NO_ROUTE_DESTINATION</a></div><div class="ttdeci">#define AST_CAUSE_NO_ROUTE_DESTINATION</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/da3/causes_8h_source.html#l00099">causes.h:99</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="channel_8h_html_a82f2c6e4d47f62f6b65c5887eb096fd5a36fa77a64746637c77c6b18a7999d0a2"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a82f2c6e4d47f62f6b65c5887eb096fd5a36fa77a64746637c77c6b18a7999d0a2">AST_FLAG_OUTGOING</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01000">channel.h:1000</a></div></div>
<div class="ttc" id="channel_8h_html_acc7e03f08c0df9fe5f5ff801db51224d"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#acc7e03f08c0df9fe5f5ff801db51224d">ast_channel_state_set</a></div><div class="ttdeci">void ast_channel_state_set(struct ast_channel *chan, enum ast_channel_state)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00820">channel_internal_api.c:820</a></div></div>
<div class="ttc" id="cel__pgsql_8c_html_ad6c487210772a9b4b0ca04b04b847d4c"><div class="ttname"><a href="../../de/d1b/cel__pgsql_8c.html#ad6c487210772a9b4b0ca04b04b847d4c">result</a></div><div class="ttdeci">static PGresult * result</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1b/cel__pgsql_8c_source.html#l00088">cel_pgsql.c:88</a></div></div>
<div class="ttc" id="structast__cdr__config_html"><div class="ttname"><a href="../../d4/d69/structast__cdr__config.html">ast_cdr_config</a></div><div class="ttdoc">The global options available for CDRs. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00264">cdr.h:264</a></div></div>
<div class="ttc" id="structast__cdr_html_ab7fd8bddf0ce6987ae5e58fb64cfc9e2"><div class="ttname"><a href="../../d4/d5d/structast__cdr.html#ab7fd8bddf0ce6987ae5e58fb64cfc9e2">ast_cdr::clid</a></div><div class="ttdeci">char clid[AST_MAX_EXTENSION]</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00278">cdr.h:278</a></div></div>
<div class="ttc" id="channel_8h_html_a91de92158876186d28ba1773877f2732"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a91de92158876186d28ba1773877f2732">ast_channel_flags</a></div><div class="ttdeci">struct ast_flags * ast_channel_flags(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l01260">channel_internal_api.c:1260</a></div></div>
<div class="ttc" id="channel_8h_html_a2f18aafad0442206e71033ac6676dbb5"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a2f18aafad0442206e71033ac6676dbb5">ast_channel_alloc</a></div><div class="ttdeci">#define ast_channel_alloc(needqueue, state, cid_num, cid_name, acctcode, exten, context, assignedids, requestor, amaflag,...)</div><div class="ttdoc">Create a channel structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01259">channel.h:1259</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a987d4f1e5d92597fac228fa99bcb56be"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a987d4f1e5d92597fac228fa99bcb56be">safe_channel_release</a></div><div class="ttdeci">static void safe_channel_release(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00371">test_cdr.c:371</a></div></div>
<div class="ttc" id="test_8h_html_aad2aec78205d328d23894a6598cc4044"><div class="ttname"><a href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044">ast_test_result_state</a></div><div class="ttdeci">ast_test_result_state</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00200">test.h:200</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a0834456e917c1acdbe2e3fc8e6230eca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0834456e917c1acdbe2e3fc8e6230eca">&#9670;&nbsp;</a></span>AST_TEST_DEFINE() <span class="overload">[15/24]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AST_TEST_DEFINE </td>
          <td>(</td>
          <td class="paramtype">test_cdr_dial_caller_cancel&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l01397">1397</a> of file <a class="el" href="../../d7/d8e/test__cdr_8c_source.html">test_cdr.c</a>.</p>

<p class="reference">References <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00216">ALICE_CALLERID</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00411">ao2_alloc</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l01182">AST_AMA_DOCUMENTATION</a>, <a class="el" href="../../d4/da3/causes_8h_source.html#l00150">AST_CAUSE_NORMAL</a>, <a class="el" href="../../dc/d07/cdr_8h_source.html#l00254">AST_CDR_NOANSWER</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l01259">ast_channel_alloc</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l01260">ast_channel_flags()</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l00739">ast_channel_publish_dial()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00820">ast_channel_state_set()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l01000">AST_FLAG_OUTGOING</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00070">ast_set_flag</a>, <a class="el" href="../../d9/d95/channelstate_8h_source.html#l00036">AST_STATE_DOWN</a>, <a class="el" href="../../d9/d95/channelstate_8h_source.html#l00041">AST_STATE_RINGING</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00201">AST_TEST_NOT_RUN</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00055">CHANNEL_TECH_NAME</a>, <a class="el" href="../../dc/d07/cdr_8h_source.html#l00278">ast_cdr::clid</a>, <a class="el" href="../../de/dcc/conf2ael_8c_source.html#l00066">config</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00248">CREATE_ALICE_CHANNEL</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00291">EMULATE_APP_DATA</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00303">HANGUP_CHANNEL</a>, <a class="el" href="../../d9/d6f/sip__to__pjsip_8py_source.html#l01313">sip_to_pjsip::info()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00911">RAII_VAR</a>, <a class="el" href="../../de/d1b/cel__pgsql_8c_source.html#l00088">result</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00371">safe_channel_release()</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00234">SET_FORMATS</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00079">SWAP_CONFIG</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00051">TEST_CATEGORY</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00208">TEST_EXECUTE</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00207">TEST_INIT</a>, and <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00310">verify_mock_cdr_record()</a>.</p>
<div class="fragment"><div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;{</div><div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *, chan_caller, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d7/d8e/test__cdr_8c.html#a987d4f1e5d92597fac228fa99bcb56be">safe_channel_release</a>);</div><div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *, chan_callee, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d7/d8e/test__cdr_8c.html#a987d4f1e5d92597fac228fa99bcb56be">safe_channel_release</a>);</div><div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d4/d69/structast__cdr__config.html">ast_cdr_config</a> *, <a class="code" href="../../de/dcc/conf2ael_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#ae0422b60d8e25b6962b2d61ae4ddf724">ao2_alloc</a>(<span class="keyword">sizeof</span>(*<a class="code" href="../../de/dcc/conf2ael_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a>), <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>),</div><div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;         <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;</div><div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d77/structast__party__caller.html">ast_party_caller</a> caller = <a class="code" href="../../d7/d8e/test__cdr_8c.html#a8739ae4d4e4305695b4deaebc79986f1">ALICE_CALLERID</a>;</div><div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d5d/structast__cdr.html">ast_cdr</a> expected = {</div><div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;      .<a class="code" href="../../d4/d5d/structast__cdr.html#ab7fd8bddf0ce6987ae5e58fb64cfc9e2">clid</a> = <span class="stringliteral">&quot;\&quot;Alice\&quot; &lt;100&gt;&quot;</span>,</div><div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;      .src = <span class="stringliteral">&quot;100&quot;</span>,</div><div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;      .dst = <span class="stringliteral">&quot;100&quot;</span>,</div><div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;      .dcontext = <span class="stringliteral">&quot;default&quot;</span>,</div><div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;      .channel = <a class="code" href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a> <span class="stringliteral">&quot;/Alice&quot;</span>,</div><div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;      .dstchannel = <a class="code" href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a> <span class="stringliteral">&quot;/Bob&quot;</span>,</div><div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;      .lastapp = <span class="stringliteral">&quot;Dial&quot;</span>,</div><div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;      .lastdata = <a class="code" href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a> <span class="stringliteral">&quot;/Bob&quot;</span>,</div><div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;      .billsec = 0,</div><div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;      .amaflags = <a class="code" href="../../d5/d7b/channel_8h.html#a784b9642d6e2862b04b7f970b337549fa57aa76a632aa16d12a92e43b81c32a68">AST_AMA_DOCUMENTATION</a>,</div><div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;      .disposition = <a class="code" href="../../dc/d07/cdr_8h.html#a53e2666db1174cc83384daf9049023c0a2ae5ddf52a9d2a20fc4af7b9e5dde283">AST_CDR_NOANSWER</a>,</div><div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;      .accountcode = <span class="stringliteral">&quot;100&quot;</span>,</div><div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;      .peeraccount = <span class="stringliteral">&quot;200&quot;</span>,</div><div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;   };</div><div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;   <span class="keyword">enum</span> <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044">ast_test_result_state</a> <a class="code" href="../../de/d1b/cel__pgsql_8c.html#ad6c487210772a9b4b0ca04b04b847d4c">result</a> = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c">AST_TEST_NOT_RUN</a>;</div><div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;</div><div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;   <span class="keywordflow">switch</span> (cmd) {</div><div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b">TEST_INIT</a>:</div><div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;name = __func__;</div><div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;category = <a class="code" href="../../d7/d8e/test__cdr_8c.html#add35ea2349b86888eef95d404e6faebf">TEST_CATEGORY</a>;</div><div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;summary = <span class="stringliteral">&quot;Test CDRs for a dial where the caller cancels&quot;</span>;</div><div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;description =</div><div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;         <span class="stringliteral">&quot;Test the properties of a CDR for a channel that\n&quot;</span></div><div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;         <span class="stringliteral">&quot;performs a dial operation to an endpoint but then decides\n&quot;</span></div><div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;         <span class="stringliteral">&quot;to hang up, cancelling the dial&quot;</span>;</div><div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c">AST_TEST_NOT_RUN</a>;</div><div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e">TEST_EXECUTE</a>:</div><div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;   }</div><div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;</div><div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#a1ccf26b207f6e00ee0ece3e227de42a1">SWAP_CONFIG</a>(<a class="code" href="../../de/dcc/conf2ael_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a>, <a class="code" href="../../d7/d8e/test__cdr_8c.html#a5722136884f356e886185ddd4f58e97a">unanswered_cdr_config</a>);</div><div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;</div><div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#a1ed3332fe918eafa4f3f79c131525249">CREATE_ALICE_CHANNEL</a>(chan_caller, &amp;caller, &amp;expected);</div><div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;</div><div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#ab91bafbff6fa458554e8745276c0b4d3">EMULATE_APP_DATA</a>(chan_caller, 1, <span class="stringliteral">&quot;Dial&quot;</span>, <a class="code" href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a> <span class="stringliteral">&quot;/Bob&quot;</span>);</div><div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;</div><div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;   chan_callee = <a class="code" href="../../d5/d7b/channel_8h.html#a2f18aafad0442206e71033ac6676dbb5">ast_channel_alloc</a>(0, <a class="code" href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660a81348336816e0a2f6f3a76da487a46dc">AST_STATE_DOWN</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="stringliteral">&quot;200&quot;</span>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, chan_caller, 0, <a class="code" href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a> <span class="stringliteral">&quot;/Bob&quot;</span>);</div><div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#a7a53a18000fdffa1da8f2842a6513c87">SET_FORMATS</a>(chan_callee);</div><div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan_callee);</div><div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#ab5033a1f3d781d45e7ccc27598114510">ast_set_flag</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a91de92158876186d28ba1773877f2732">ast_channel_flags</a>(chan_callee), <a class="code" href="../../d5/d7b/channel_8h.html#a82f2c6e4d47f62f6b65c5887eb096fd5a36fa77a64746637c77c6b18a7999d0a2">AST_FLAG_OUTGOING</a>);</div><div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#ab91bafbff6fa458554e8745276c0b4d3">EMULATE_APP_DATA</a>(chan_callee, 0, <span class="stringliteral">&quot;AppDial&quot;</span>, <span class="stringliteral">&quot;(Outgoing Line)&quot;</span>);</div><div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;</div><div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;   <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#ga7d446221f9a272b003c4ad660a7e14dc">ast_channel_publish_dial</a>(chan_caller, chan_callee, <span class="stringliteral">&quot;Bob&quot;</span>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#acc7e03f08c0df9fe5f5ff801db51224d">ast_channel_state_set</a>(chan_caller, <a class="code" href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660a5bf03bd84f434acaeefdacb0096e1baa">AST_STATE_RINGING</a>);</div><div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;   <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#ga7d446221f9a272b003c4ad660a7e14dc">ast_channel_publish_dial</a>(chan_caller, chan_callee, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="stringliteral">&quot;CANCEL&quot;</span>);</div><div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;</div><div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#ac2b699afc1547e0d4f71ece789ee21e1">HANGUP_CHANNEL</a>(chan_callee, <a class="code" href="../../d4/da3/causes_8h.html#a7858ab2ba4858d98e29f0ea54980313c">AST_CAUSE_NORMAL</a>);</div><div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#ac2b699afc1547e0d4f71ece789ee21e1">HANGUP_CHANNEL</a>(chan_caller, <a class="code" href="../../d4/da3/causes_8h.html#a7858ab2ba4858d98e29f0ea54980313c">AST_CAUSE_NORMAL</a>);</div><div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;</div><div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;   result = <a class="code" href="../../d7/d8e/test__cdr_8c.html#aabfd96ef82edc19b680e65889e005c93">verify_mock_cdr_record</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, &amp;expected, 1);</div><div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;</div><div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../de/d1b/cel__pgsql_8c.html#ad6c487210772a9b4b0ca04b04b847d4c">result</a>;</div><div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;}</div><div class="ttc" id="test__cdr_8c_html_ab91bafbff6fa458554e8745276c0b4d3"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#ab91bafbff6fa458554e8745276c0b4d3">EMULATE_APP_DATA</a></div><div class="ttdeci">#define EMULATE_APP_DATA(channel, priority, application, data)</div><div class="ttdoc">Emulate a channel entering into an application. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00291">test_cdr.c:291</a></div></div>
<div class="ttc" id="structast__channel_html"><div class="ttname"><a href="../../df/d3c/structast__channel.html">ast_channel</a></div><div class="ttdoc">Main Channel structure associated with a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00073">channel_internal_api.c:73</a></div></div>
<div class="ttc" id="channel_8h_html_a784b9642d6e2862b04b7f970b337549fa57aa76a632aa16d12a92e43b81c32a68"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a784b9642d6e2862b04b7f970b337549fa57aa76a632aa16d12a92e43b81c32a68">AST_AMA_DOCUMENTATION</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01182">channel.h:1182</a></div></div>
<div class="ttc" id="channelstate_8h_html_a03585bc87e5bbd0f4d11bc789734c660a81348336816e0a2f6f3a76da487a46dc"><div class="ttname"><a href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660a81348336816e0a2f6f3a76da487a46dc">AST_STATE_DOWN</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d95/channelstate_8h_source.html#l00036">channelstate.h:36</a></div></div>
<div class="ttc" id="conf2ael_8c_html_a74bb62276efdf39dd94048e007fca05b"><div class="ttname"><a href="../../de/dcc/conf2ael_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a></div><div class="ttdeci">char * config</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcc/conf2ael_8c_source.html#l00066">conf2ael.c:66</a></div></div>
<div class="ttc" id="group__StasisTopicsAndMessages_html_ga7d446221f9a272b003c4ad660a7e14dc"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#ga7d446221f9a272b003c4ad660a7e14dc">ast_channel_publish_dial</a></div><div class="ttdeci">void ast_channel_publish_dial(struct ast_channel *caller, struct ast_channel *peer, const char *dialstring, const char *dialstatus)</div><div class="ttdoc">Publish in the ast_channel_topic or ast_channel_topic_all topics a stasis message for the channels in...</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d2b/stasis__channels_8c_source.html#l00739">stasis_channels.c:739</a></div></div>
<div class="ttc" id="test__cdr_8c_html_add35ea2349b86888eef95d404e6faebf"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#add35ea2349b86888eef95d404e6faebf">TEST_CATEGORY</a></div><div class="ttdeci">#define TEST_CATEGORY</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00051">test_cdr.c:51</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a1ed3332fe918eafa4f3f79c131525249"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a1ed3332fe918eafa4f3f79c131525249">CREATE_ALICE_CHANNEL</a></div><div class="ttdeci">#define CREATE_ALICE_CHANNEL(channel_var, caller_id, expected_record)</div><div class="ttdoc">Create a test_cdr_chan_tech for Alice, and set the expected CDR records&amp;#39; linkedid and uniqueid...</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00248">test_cdr.c:248</a></div></div>
<div class="ttc" id="test_8h_html_a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e">TEST_EXECUTE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00208">test.h:208</a></div></div>
<div class="ttc" id="utils_8h_html_ab5033a1f3d781d45e7ccc27598114510"><div class="ttname"><a href="../../d5/d60/utils_8h.html#ab5033a1f3d781d45e7ccc27598114510">ast_set_flag</a></div><div class="ttdeci">#define ast_set_flag(p, flag)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00070">utils.h:70</a></div></div>
<div class="ttc" id="cdr_8h_html_a53e2666db1174cc83384daf9049023c0a2ae5ddf52a9d2a20fc4af7b9e5dde283"><div class="ttname"><a href="../../dc/d07/cdr_8h.html#a53e2666db1174cc83384daf9049023c0a2ae5ddf52a9d2a20fc4af7b9e5dde283">AST_CDR_NOANSWER</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00254">cdr.h:254</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a7a53a18000fdffa1da8f2842a6513c87"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a7a53a18000fdffa1da8f2842a6513c87">SET_FORMATS</a></div><div class="ttdeci">#define SET_FORMATS(chan)</div><div class="ttdoc">Set ulaw format on channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00234">test_cdr.c:234</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a1ccf26b207f6e00ee0ece3e227de42a1"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a1ccf26b207f6e00ee0ece3e227de42a1">SWAP_CONFIG</a></div><div class="ttdeci">#define SWAP_CONFIG(ao2_config, template)</div><div class="ttdoc">Macro to swap a configuration out from the CDR engine. This should be used at the beginning of each t...</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00079">test_cdr.c:79</a></div></div>
<div class="ttc" id="test__cdr_8c_html_ac2b699afc1547e0d4f71ece789ee21e1"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#ac2b699afc1547e0d4f71ece789ee21e1">HANGUP_CHANNEL</a></div><div class="ttdeci">#define HANGUP_CHANNEL(channel, cause)</div><div class="ttdoc">Hang up a test channel safely. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00303">test_cdr.c:303</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="test_8h_html_a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b">TEST_INIT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00207">test.h:207</a></div></div>
<div class="ttc" id="test_8h_html_aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c"><div class="ttname"><a href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c">AST_TEST_NOT_RUN</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00201">test.h:201</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a8739ae4d4e4305695b4deaebc79986f1"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a8739ae4d4e4305695b4deaebc79986f1">ALICE_CALLERID</a></div><div class="ttdeci">#define ALICE_CALLERID</div><div class="ttdoc">Alice&amp;#39;s Caller ID. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00216">test_cdr.c:216</a></div></div>
<div class="ttc" id="utils_8h_html_a1604b4d72144dd3d9f7da668e90337e9"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a></div><div class="ttdeci">#define RAII_VAR(vartype, varname, initval, dtor)</div><div class="ttdoc">Declare a variable that will call a destructor function when it goes out of scope. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00911">utils.h:911</a></div></div>
<div class="ttc" id="structast__party__caller_html"><div class="ttname"><a href="../../d4/d77/structast__party__caller.html">ast_party_caller</a></div><div class="ttdoc">Caller Party information. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l00419">channel.h:419</a></div></div>
<div class="ttc" id="test__cdr_8c_html_aabfd96ef82edc19b680e65889e005c93"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#aabfd96ef82edc19b680e65889e005c93">verify_mock_cdr_record</a></div><div class="ttdeci">static enum ast_test_result_state verify_mock_cdr_record(struct ast_test *test, struct ast_cdr *expected, int record)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00310">test_cdr.c:310</a></div></div>
<div class="ttc" id="causes_8h_html_a7858ab2ba4858d98e29f0ea54980313c"><div class="ttname"><a href="../../d4/da3/causes_8h.html#a7858ab2ba4858d98e29f0ea54980313c">AST_CAUSE_NORMAL</a></div><div class="ttdeci">#define AST_CAUSE_NORMAL</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/da3/causes_8h_source.html#l00150">causes.h:150</a></div></div>
<div class="ttc" id="structast__cdr_html"><div class="ttname"><a href="../../d4/d5d/structast__cdr.html">ast_cdr</a></div><div class="ttdoc">Responsible for call detail data. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00276">cdr.h:276</a></div></div>
<div class="ttc" id="namespacesip__to__pjsip_html_ab82f408a83ecba10ea39afd8abfd371e"><div class="ttname"><a href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">sip_to_pjsip.info</a></div><div class="ttdeci">def info(msg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d6f/sip__to__pjsip_8py_source.html#l01313">sip_to_pjsip.py:1313</a></div></div>
<div class="ttc" id="astobj2_8h_html_ae0422b60d8e25b6962b2d61ae4ddf724"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ae0422b60d8e25b6962b2d61ae4ddf724">ao2_alloc</a></div><div class="ttdeci">#define ao2_alloc(data_size, destructor_fn)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00411">astobj2.h:411</a></div></div>
<div class="ttc" id="channelstate_8h_html_a03585bc87e5bbd0f4d11bc789734c660a5bf03bd84f434acaeefdacb0096e1baa"><div class="ttname"><a href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660a5bf03bd84f434acaeefdacb0096e1baa">AST_STATE_RINGING</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d95/channelstate_8h_source.html#l00041">channelstate.h:41</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a5722136884f356e886185ddd4f58e97a"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a5722136884f356e886185ddd4f58e97a">unanswered_cdr_config</a></div><div class="ttdeci">static struct ast_cdr_config unanswered_cdr_config</div><div class="ttdoc">A configuration suitable for CDRs with unanswered records. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00066">test_cdr.c:66</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a86d2cbfb5a0c115147944a541cc355e0"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a></div><div class="ttdeci">#define CHANNEL_TECH_NAME</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00055">test_cdr.c:55</a></div></div>
<div class="ttc" id="structtest_html"><div class="ttname"><a href="../../d8/d89/structtest.html">test</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d7d/test__logger_8c_source.html#l00043">test_logger.c:43</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="channel_8h_html_a82f2c6e4d47f62f6b65c5887eb096fd5a36fa77a64746637c77c6b18a7999d0a2"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a82f2c6e4d47f62f6b65c5887eb096fd5a36fa77a64746637c77c6b18a7999d0a2">AST_FLAG_OUTGOING</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01000">channel.h:1000</a></div></div>
<div class="ttc" id="channel_8h_html_acc7e03f08c0df9fe5f5ff801db51224d"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#acc7e03f08c0df9fe5f5ff801db51224d">ast_channel_state_set</a></div><div class="ttdeci">void ast_channel_state_set(struct ast_channel *chan, enum ast_channel_state)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00820">channel_internal_api.c:820</a></div></div>
<div class="ttc" id="cel__pgsql_8c_html_ad6c487210772a9b4b0ca04b04b847d4c"><div class="ttname"><a href="../../de/d1b/cel__pgsql_8c.html#ad6c487210772a9b4b0ca04b04b847d4c">result</a></div><div class="ttdeci">static PGresult * result</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1b/cel__pgsql_8c_source.html#l00088">cel_pgsql.c:88</a></div></div>
<div class="ttc" id="structast__cdr__config_html"><div class="ttname"><a href="../../d4/d69/structast__cdr__config.html">ast_cdr_config</a></div><div class="ttdoc">The global options available for CDRs. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00264">cdr.h:264</a></div></div>
<div class="ttc" id="structast__cdr_html_ab7fd8bddf0ce6987ae5e58fb64cfc9e2"><div class="ttname"><a href="../../d4/d5d/structast__cdr.html#ab7fd8bddf0ce6987ae5e58fb64cfc9e2">ast_cdr::clid</a></div><div class="ttdeci">char clid[AST_MAX_EXTENSION]</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00278">cdr.h:278</a></div></div>
<div class="ttc" id="channel_8h_html_a91de92158876186d28ba1773877f2732"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a91de92158876186d28ba1773877f2732">ast_channel_flags</a></div><div class="ttdeci">struct ast_flags * ast_channel_flags(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l01260">channel_internal_api.c:1260</a></div></div>
<div class="ttc" id="channel_8h_html_a2f18aafad0442206e71033ac6676dbb5"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a2f18aafad0442206e71033ac6676dbb5">ast_channel_alloc</a></div><div class="ttdeci">#define ast_channel_alloc(needqueue, state, cid_num, cid_name, acctcode, exten, context, assignedids, requestor, amaflag,...)</div><div class="ttdoc">Create a channel structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01259">channel.h:1259</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a987d4f1e5d92597fac228fa99bcb56be"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a987d4f1e5d92597fac228fa99bcb56be">safe_channel_release</a></div><div class="ttdeci">static void safe_channel_release(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00371">test_cdr.c:371</a></div></div>
<div class="ttc" id="test_8h_html_aad2aec78205d328d23894a6598cc4044"><div class="ttname"><a href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044">ast_test_result_state</a></div><div class="ttdeci">ast_test_result_state</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00200">test.h:200</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a1aea155c72149d09b281230f6a4e56ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1aea155c72149d09b281230f6a4e56ba">&#9670;&nbsp;</a></span>AST_TEST_DEFINE() <span class="overload">[16/24]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AST_TEST_DEFINE </td>
          <td>(</td>
          <td class="paramtype">test_cdr_dial_parallel_failed&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l01460">1460</a> of file <a class="el" href="../../d7/d8e/test__cdr_8c_source.html">test_cdr.c</a>.</p>

<p class="reference">References <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00216">ALICE_CALLERID</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00411">ao2_alloc</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l01182">AST_AMA_DOCUMENTATION</a>, <a class="el" href="../../d4/da3/causes_8h_source.html#l00148">AST_CAUSE_BUSY</a>, <a class="el" href="../../d4/da3/causes_8h_source.html#l00152">AST_CAUSE_CONGESTION</a>, <a class="el" href="../../d4/da3/causes_8h_source.html#l00150">AST_CAUSE_NORMAL</a>, <a class="el" href="../../dc/d07/cdr_8h_source.html#l00257">AST_CDR_BUSY</a>, <a class="el" href="../../dc/d07/cdr_8h_source.html#l00259">AST_CDR_CONGESTION</a>, <a class="el" href="../../dc/d07/cdr_8h_source.html#l00254">AST_CDR_NOANSWER</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l01259">ast_channel_alloc</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l01260">ast_channel_flags()</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l00739">ast_channel_publish_dial()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00820">ast_channel_state_set()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l01000">AST_FLAG_OUTGOING</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00070">ast_set_flag</a>, <a class="el" href="../../d9/d95/channelstate_8h_source.html#l00036">AST_STATE_DOWN</a>, <a class="el" href="../../d9/d95/channelstate_8h_source.html#l00041">AST_STATE_RINGING</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00201">AST_TEST_NOT_RUN</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00055">CHANNEL_TECH_NAME</a>, <a class="el" href="../../dc/d07/cdr_8h_source.html#l00278">ast_cdr::clid</a>, <a class="el" href="../../de/dcc/conf2ael_8c_source.html#l00066">config</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00228">COPY_IDS</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00248">CREATE_ALICE_CHANNEL</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00291">EMULATE_APP_DATA</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00303">HANGUP_CHANNEL</a>, <a class="el" href="../../d9/d6f/sip__to__pjsip_8py_source.html#l01313">sip_to_pjsip::info()</a>, <a class="el" href="../../dc/d07/cdr_8h_source.html#l00325">ast_cdr::next</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00911">RAII_VAR</a>, <a class="el" href="../../de/d1b/cel__pgsql_8c_source.html#l00088">result</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00371">safe_channel_release()</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00234">SET_FORMATS</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00079">SWAP_CONFIG</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00051">TEST_CATEGORY</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00208">TEST_EXECUTE</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00207">TEST_INIT</a>, and <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00310">verify_mock_cdr_record()</a>.</p>
<div class="fragment"><div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;{</div><div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *, chan_caller, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d7/d8e/test__cdr_8c.html#a987d4f1e5d92597fac228fa99bcb56be">safe_channel_release</a>);</div><div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *, chan_bob, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d7/d8e/test__cdr_8c.html#a987d4f1e5d92597fac228fa99bcb56be">safe_channel_release</a>);</div><div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *, chan_charlie, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d7/d8e/test__cdr_8c.html#a987d4f1e5d92597fac228fa99bcb56be">safe_channel_release</a>);</div><div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *, chan_david, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d7/d8e/test__cdr_8c.html#a987d4f1e5d92597fac228fa99bcb56be">safe_channel_release</a>);</div><div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d4/d69/structast__cdr__config.html">ast_cdr_config</a> *, <a class="code" href="../../de/dcc/conf2ael_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#ae0422b60d8e25b6962b2d61ae4ddf724">ao2_alloc</a>(<span class="keyword">sizeof</span>(*<a class="code" href="../../de/dcc/conf2ael_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a>), <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>),</div><div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;         <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;</div><div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d77/structast__party__caller.html">ast_party_caller</a> caller = <a class="code" href="../../d7/d8e/test__cdr_8c.html#a8739ae4d4e4305695b4deaebc79986f1">ALICE_CALLERID</a>;</div><div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d5d/structast__cdr.html">ast_cdr</a> bob_expected = {</div><div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;      .<a class="code" href="../../d4/d5d/structast__cdr.html#ab7fd8bddf0ce6987ae5e58fb64cfc9e2">clid</a> = <span class="stringliteral">&quot;\&quot;Alice\&quot; &lt;100&gt;&quot;</span>,</div><div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;      .src = <span class="stringliteral">&quot;100&quot;</span>,</div><div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;      .dst = <span class="stringliteral">&quot;100&quot;</span>,</div><div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;      .dcontext = <span class="stringliteral">&quot;default&quot;</span>,</div><div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;      .channel = <a class="code" href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a> <span class="stringliteral">&quot;/Alice&quot;</span>,</div><div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;      .dstchannel = <a class="code" href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a> <span class="stringliteral">&quot;/Bob&quot;</span>,</div><div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;      .lastapp = <span class="stringliteral">&quot;Dial&quot;</span>,</div><div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;      .lastdata = <a class="code" href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a> <span class="stringliteral">&quot;/Bob&amp;&quot;</span> <a class="code" href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a> <span class="stringliteral">&quot;/Charlie&amp;&quot;</span> <a class="code" href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a> <span class="stringliteral">&quot;/David&quot;</span>,</div><div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;      .billsec = 0,</div><div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;      .amaflags = <a class="code" href="../../d5/d7b/channel_8h.html#a784b9642d6e2862b04b7f970b337549fa57aa76a632aa16d12a92e43b81c32a68">AST_AMA_DOCUMENTATION</a>,</div><div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;      .disposition = <a class="code" href="../../dc/d07/cdr_8h.html#a53e2666db1174cc83384daf9049023c0a2ae5ddf52a9d2a20fc4af7b9e5dde283">AST_CDR_NOANSWER</a>,</div><div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;      .accountcode = <span class="stringliteral">&quot;100&quot;</span>,</div><div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;      .peeraccount = <span class="stringliteral">&quot;200&quot;</span>,</div><div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;   };</div><div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d5d/structast__cdr.html">ast_cdr</a> charlie_expected = {</div><div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;      .<a class="code" href="../../d4/d5d/structast__cdr.html#ab7fd8bddf0ce6987ae5e58fb64cfc9e2">clid</a> = <span class="stringliteral">&quot;\&quot;Alice\&quot; &lt;100&gt;&quot;</span>,</div><div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;      .src = <span class="stringliteral">&quot;100&quot;</span>,</div><div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;      .dst = <span class="stringliteral">&quot;100&quot;</span>,</div><div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;      .dcontext = <span class="stringliteral">&quot;default&quot;</span>,</div><div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;      .channel = <a class="code" href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a> <span class="stringliteral">&quot;/Alice&quot;</span>,</div><div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;      .dstchannel = <a class="code" href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a> <span class="stringliteral">&quot;/Charlie&quot;</span>,</div><div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;      .lastapp = <span class="stringliteral">&quot;Dial&quot;</span>,</div><div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;      .lastdata = <a class="code" href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a> <span class="stringliteral">&quot;/Bob&amp;&quot;</span> <a class="code" href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a> <span class="stringliteral">&quot;/Charlie&amp;&quot;</span> <a class="code" href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a> <span class="stringliteral">&quot;/David&quot;</span>,</div><div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;      .billsec = 0,</div><div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;      .amaflags = <a class="code" href="../../d5/d7b/channel_8h.html#a784b9642d6e2862b04b7f970b337549fa57aa76a632aa16d12a92e43b81c32a68">AST_AMA_DOCUMENTATION</a>,</div><div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;      .disposition = <a class="code" href="../../dc/d07/cdr_8h.html#a53e2666db1174cc83384daf9049023c0ad5945e6977fe7c1d64bacadaad7aa9ea">AST_CDR_BUSY</a>,</div><div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;      .accountcode = <span class="stringliteral">&quot;100&quot;</span>,</div><div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;      .peeraccount = <span class="stringliteral">&quot;300&quot;</span>,</div><div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;   };</div><div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d5d/structast__cdr.html">ast_cdr</a> david_expected = {</div><div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;      .<a class="code" href="../../d4/d5d/structast__cdr.html#ab7fd8bddf0ce6987ae5e58fb64cfc9e2">clid</a> = <span class="stringliteral">&quot;\&quot;Alice\&quot; &lt;100&gt;&quot;</span>,</div><div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;      .src = <span class="stringliteral">&quot;100&quot;</span>,</div><div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;      .dst = <span class="stringliteral">&quot;100&quot;</span>,</div><div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;      .dcontext = <span class="stringliteral">&quot;default&quot;</span>,</div><div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;      .channel = <a class="code" href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a> <span class="stringliteral">&quot;/Alice&quot;</span>,</div><div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;      .dstchannel = <a class="code" href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a> <span class="stringliteral">&quot;/David&quot;</span>,</div><div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;      .lastapp = <span class="stringliteral">&quot;Dial&quot;</span>,</div><div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;      .lastdata = <a class="code" href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a> <span class="stringliteral">&quot;/Bob&amp;&quot;</span> <a class="code" href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a> <span class="stringliteral">&quot;/Charlie&amp;&quot;</span> <a class="code" href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a> <span class="stringliteral">&quot;/David&quot;</span>,</div><div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;      .billsec = 0,</div><div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;      .amaflags = <a class="code" href="../../d5/d7b/channel_8h.html#a784b9642d6e2862b04b7f970b337549fa57aa76a632aa16d12a92e43b81c32a68">AST_AMA_DOCUMENTATION</a>,</div><div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;      .disposition = <a class="code" href="../../dc/d07/cdr_8h.html#a53e2666db1174cc83384daf9049023c0a115c062baa559bcadd55720d6e2383bd">AST_CDR_CONGESTION</a>,</div><div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;      .accountcode = <span class="stringliteral">&quot;100&quot;</span>,</div><div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;      .peeraccount = <span class="stringliteral">&quot;400&quot;</span>,</div><div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;   };</div><div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;   <span class="keyword">enum</span> <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044">ast_test_result_state</a> <a class="code" href="../../de/d1b/cel__pgsql_8c.html#ad6c487210772a9b4b0ca04b04b847d4c">result</a> = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c">AST_TEST_NOT_RUN</a>;</div><div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;</div><div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d5d/structast__cdr.html">ast_cdr</a> *expected = &amp;bob_expected;</div><div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;   bob_expected.<a class="code" href="../../d4/d5d/structast__cdr.html#a8098d02138e27b57d184b260b6669eed">next</a> = &amp;charlie_expected;</div><div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;   charlie_expected.<a class="code" href="../../d4/d5d/structast__cdr.html#a8098d02138e27b57d184b260b6669eed">next</a> = &amp;david_expected;</div><div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;</div><div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;   <span class="keywordflow">switch</span> (cmd) {</div><div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b">TEST_INIT</a>:</div><div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;name = __func__;</div><div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;category = <a class="code" href="../../d7/d8e/test__cdr_8c.html#add35ea2349b86888eef95d404e6faebf">TEST_CATEGORY</a>;</div><div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;summary = <span class="stringliteral">&quot;Test a parallel dial where all channels fail to answer&quot;</span>;</div><div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;description =</div><div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;         <span class="stringliteral">&quot;This tests dialing three parties: Bob, Charlie, David. Charlie\n&quot;</span></div><div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;         <span class="stringliteral">&quot;returns BUSY; David returns CONGESTION; Bob fails to answer and\n&quot;</span></div><div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;         <span class="stringliteral">&quot;Alice hangs up. Three records are created for Alice as a result.&quot;</span>;</div><div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c">AST_TEST_NOT_RUN</a>;</div><div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e">TEST_EXECUTE</a>:</div><div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;   }</div><div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;</div><div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#a1ccf26b207f6e00ee0ece3e227de42a1">SWAP_CONFIG</a>(<a class="code" href="../../de/dcc/conf2ael_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a>, <a class="code" href="../../d7/d8e/test__cdr_8c.html#afdb35db7a196aaf05ae2d378f90354c6">congestion_cdr_config</a>);</div><div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;</div><div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#a1ed3332fe918eafa4f3f79c131525249">CREATE_ALICE_CHANNEL</a>(chan_caller, &amp;caller, &amp;bob_expected);</div><div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#a0710872fe26e286bc89c24db3288f74f">COPY_IDS</a>(chan_caller, &amp;charlie_expected);</div><div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#a0710872fe26e286bc89c24db3288f74f">COPY_IDS</a>(chan_caller, &amp;david_expected);</div><div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;</div><div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;   <span class="comment">/* Channel enters Dial app */</span></div><div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#ab91bafbff6fa458554e8745276c0b4d3">EMULATE_APP_DATA</a>(chan_caller, 1, <span class="stringliteral">&quot;Dial&quot;</span>, <a class="code" href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a> <span class="stringliteral">&quot;/Bob&amp;&quot;</span> <a class="code" href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a> <span class="stringliteral">&quot;/Charlie&amp;&quot;</span> <a class="code" href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a> <span class="stringliteral">&quot;/David&quot;</span>);</div><div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;</div><div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;   <span class="comment">/* Outbound channels are created */</span></div><div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;   chan_bob = <a class="code" href="../../d5/d7b/channel_8h.html#a2f18aafad0442206e71033ac6676dbb5">ast_channel_alloc</a>(0, <a class="code" href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660a81348336816e0a2f6f3a76da487a46dc">AST_STATE_DOWN</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="stringliteral">&quot;200&quot;</span>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, chan_caller, 0, <a class="code" href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a> <span class="stringliteral">&quot;/Bob&quot;</span>);</div><div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#a7a53a18000fdffa1da8f2842a6513c87">SET_FORMATS</a>(chan_bob);</div><div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan_bob);</div><div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#ab5033a1f3d781d45e7ccc27598114510">ast_set_flag</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a91de92158876186d28ba1773877f2732">ast_channel_flags</a>(chan_bob), <a class="code" href="../../d5/d7b/channel_8h.html#a82f2c6e4d47f62f6b65c5887eb096fd5a36fa77a64746637c77c6b18a7999d0a2">AST_FLAG_OUTGOING</a>);</div><div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#ab91bafbff6fa458554e8745276c0b4d3">EMULATE_APP_DATA</a>(chan_bob, 0, <span class="stringliteral">&quot;AppDial&quot;</span>, <span class="stringliteral">&quot;(Outgoing Line)&quot;</span>);</div><div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;</div><div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;   chan_charlie = <a class="code" href="../../d5/d7b/channel_8h.html#a2f18aafad0442206e71033ac6676dbb5">ast_channel_alloc</a>(0, <a class="code" href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660a81348336816e0a2f6f3a76da487a46dc">AST_STATE_DOWN</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="stringliteral">&quot;300&quot;</span>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, chan_caller, 0, <a class="code" href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a> <span class="stringliteral">&quot;/Charlie&quot;</span>);</div><div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#a7a53a18000fdffa1da8f2842a6513c87">SET_FORMATS</a>(chan_charlie);</div><div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan_charlie);</div><div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#ab5033a1f3d781d45e7ccc27598114510">ast_set_flag</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a91de92158876186d28ba1773877f2732">ast_channel_flags</a>(chan_charlie), <a class="code" href="../../d5/d7b/channel_8h.html#a82f2c6e4d47f62f6b65c5887eb096fd5a36fa77a64746637c77c6b18a7999d0a2">AST_FLAG_OUTGOING</a>);</div><div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#ab91bafbff6fa458554e8745276c0b4d3">EMULATE_APP_DATA</a>(chan_charlie, 0, <span class="stringliteral">&quot;AppDial&quot;</span>, <span class="stringliteral">&quot;(Outgoing Line)&quot;</span>);</div><div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;</div><div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;   chan_david = <a class="code" href="../../d5/d7b/channel_8h.html#a2f18aafad0442206e71033ac6676dbb5">ast_channel_alloc</a>(0, <a class="code" href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660a81348336816e0a2f6f3a76da487a46dc">AST_STATE_DOWN</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="stringliteral">&quot;400&quot;</span>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, chan_caller, 0, <a class="code" href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a> <span class="stringliteral">&quot;/David&quot;</span>);</div><div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#a7a53a18000fdffa1da8f2842a6513c87">SET_FORMATS</a>(chan_charlie);</div><div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan_david);</div><div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#ab5033a1f3d781d45e7ccc27598114510">ast_set_flag</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a91de92158876186d28ba1773877f2732">ast_channel_flags</a>(chan_david), <a class="code" href="../../d5/d7b/channel_8h.html#a82f2c6e4d47f62f6b65c5887eb096fd5a36fa77a64746637c77c6b18a7999d0a2">AST_FLAG_OUTGOING</a>);</div><div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#ab91bafbff6fa458554e8745276c0b4d3">EMULATE_APP_DATA</a>(chan_david, 0, <span class="stringliteral">&quot;AppDial&quot;</span>, <span class="stringliteral">&quot;(Outgoing Line)&quot;</span>);</div><div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;</div><div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;   <span class="comment">/* Dial starts */</span></div><div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;   <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#ga7d446221f9a272b003c4ad660a7e14dc">ast_channel_publish_dial</a>(chan_caller, chan_bob, <span class="stringliteral">&quot;Bob&quot;</span>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;   <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#ga7d446221f9a272b003c4ad660a7e14dc">ast_channel_publish_dial</a>(chan_caller, chan_charlie, <span class="stringliteral">&quot;Charlie&quot;</span>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;   <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#ga7d446221f9a272b003c4ad660a7e14dc">ast_channel_publish_dial</a>(chan_caller, chan_david, <span class="stringliteral">&quot;David&quot;</span>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#acc7e03f08c0df9fe5f5ff801db51224d">ast_channel_state_set</a>(chan_caller, <a class="code" href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660a5bf03bd84f434acaeefdacb0096e1baa">AST_STATE_RINGING</a>);</div><div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;</div><div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;   <span class="comment">/* Charlie is busy */</span></div><div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;   <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#ga7d446221f9a272b003c4ad660a7e14dc">ast_channel_publish_dial</a>(chan_caller, chan_charlie, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="stringliteral">&quot;BUSY&quot;</span>);</div><div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#ac2b699afc1547e0d4f71ece789ee21e1">HANGUP_CHANNEL</a>(chan_charlie, <a class="code" href="../../d4/da3/causes_8h.html#ae009c193522491f7de7ea28b23f20868">AST_CAUSE_BUSY</a>);</div><div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;</div><div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;   <span class="comment">/* David is congested */</span></div><div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;   <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#ga7d446221f9a272b003c4ad660a7e14dc">ast_channel_publish_dial</a>(chan_caller, chan_david, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="stringliteral">&quot;CONGESTION&quot;</span>);</div><div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#ac2b699afc1547e0d4f71ece789ee21e1">HANGUP_CHANNEL</a>(chan_david, <a class="code" href="../../d4/da3/causes_8h.html#a0a35518d7b448a53da368cf57f354fba">AST_CAUSE_CONGESTION</a>);</div><div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;</div><div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;   <span class="comment">/* Bob is canceled */</span></div><div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;   <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#ga7d446221f9a272b003c4ad660a7e14dc">ast_channel_publish_dial</a>(chan_caller, chan_bob, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="stringliteral">&quot;CANCEL&quot;</span>);</div><div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#ac2b699afc1547e0d4f71ece789ee21e1">HANGUP_CHANNEL</a>(chan_bob, <a class="code" href="../../d4/da3/causes_8h.html#a7858ab2ba4858d98e29f0ea54980313c">AST_CAUSE_NORMAL</a>);</div><div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;</div><div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;   <span class="comment">/* Alice hangs up */</span></div><div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#ac2b699afc1547e0d4f71ece789ee21e1">HANGUP_CHANNEL</a>(chan_caller, <a class="code" href="../../d4/da3/causes_8h.html#a7858ab2ba4858d98e29f0ea54980313c">AST_CAUSE_NORMAL</a>);</div><div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;</div><div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;   result = <a class="code" href="../../d7/d8e/test__cdr_8c.html#aabfd96ef82edc19b680e65889e005c93">verify_mock_cdr_record</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, expected, 3);</div><div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;</div><div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../de/d1b/cel__pgsql_8c.html#ad6c487210772a9b4b0ca04b04b847d4c">result</a>;</div><div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;}</div><div class="ttc" id="test__cdr_8c_html_ab91bafbff6fa458554e8745276c0b4d3"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#ab91bafbff6fa458554e8745276c0b4d3">EMULATE_APP_DATA</a></div><div class="ttdeci">#define EMULATE_APP_DATA(channel, priority, application, data)</div><div class="ttdoc">Emulate a channel entering into an application. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00291">test_cdr.c:291</a></div></div>
<div class="ttc" id="structast__channel_html"><div class="ttname"><a href="../../df/d3c/structast__channel.html">ast_channel</a></div><div class="ttdoc">Main Channel structure associated with a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00073">channel_internal_api.c:73</a></div></div>
<div class="ttc" id="channel_8h_html_a784b9642d6e2862b04b7f970b337549fa57aa76a632aa16d12a92e43b81c32a68"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a784b9642d6e2862b04b7f970b337549fa57aa76a632aa16d12a92e43b81c32a68">AST_AMA_DOCUMENTATION</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01182">channel.h:1182</a></div></div>
<div class="ttc" id="channelstate_8h_html_a03585bc87e5bbd0f4d11bc789734c660a81348336816e0a2f6f3a76da487a46dc"><div class="ttname"><a href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660a81348336816e0a2f6f3a76da487a46dc">AST_STATE_DOWN</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d95/channelstate_8h_source.html#l00036">channelstate.h:36</a></div></div>
<div class="ttc" id="conf2ael_8c_html_a74bb62276efdf39dd94048e007fca05b"><div class="ttname"><a href="../../de/dcc/conf2ael_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a></div><div class="ttdeci">char * config</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcc/conf2ael_8c_source.html#l00066">conf2ael.c:66</a></div></div>
<div class="ttc" id="group__StasisTopicsAndMessages_html_ga7d446221f9a272b003c4ad660a7e14dc"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#ga7d446221f9a272b003c4ad660a7e14dc">ast_channel_publish_dial</a></div><div class="ttdeci">void ast_channel_publish_dial(struct ast_channel *caller, struct ast_channel *peer, const char *dialstring, const char *dialstatus)</div><div class="ttdoc">Publish in the ast_channel_topic or ast_channel_topic_all topics a stasis message for the channels in...</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d2b/stasis__channels_8c_source.html#l00739">stasis_channels.c:739</a></div></div>
<div class="ttc" id="test__cdr_8c_html_afdb35db7a196aaf05ae2d378f90354c6"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#afdb35db7a196aaf05ae2d378f90354c6">congestion_cdr_config</a></div><div class="ttdeci">static struct ast_cdr_config congestion_cdr_config</div><div class="ttdoc">A configuration suitable for CDRs with congestion enabled. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00071">test_cdr.c:71</a></div></div>
<div class="ttc" id="test__cdr_8c_html_add35ea2349b86888eef95d404e6faebf"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#add35ea2349b86888eef95d404e6faebf">TEST_CATEGORY</a></div><div class="ttdeci">#define TEST_CATEGORY</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00051">test_cdr.c:51</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a1ed3332fe918eafa4f3f79c131525249"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a1ed3332fe918eafa4f3f79c131525249">CREATE_ALICE_CHANNEL</a></div><div class="ttdeci">#define CREATE_ALICE_CHANNEL(channel_var, caller_id, expected_record)</div><div class="ttdoc">Create a test_cdr_chan_tech for Alice, and set the expected CDR records&amp;#39; linkedid and uniqueid...</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00248">test_cdr.c:248</a></div></div>
<div class="ttc" id="test_8h_html_a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e">TEST_EXECUTE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00208">test.h:208</a></div></div>
<div class="ttc" id="utils_8h_html_ab5033a1f3d781d45e7ccc27598114510"><div class="ttname"><a href="../../d5/d60/utils_8h.html#ab5033a1f3d781d45e7ccc27598114510">ast_set_flag</a></div><div class="ttdeci">#define ast_set_flag(p, flag)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00070">utils.h:70</a></div></div>
<div class="ttc" id="cdr_8h_html_a53e2666db1174cc83384daf9049023c0a2ae5ddf52a9d2a20fc4af7b9e5dde283"><div class="ttname"><a href="../../dc/d07/cdr_8h.html#a53e2666db1174cc83384daf9049023c0a2ae5ddf52a9d2a20fc4af7b9e5dde283">AST_CDR_NOANSWER</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00254">cdr.h:254</a></div></div>
<div class="ttc" id="structast__cdr_html_a8098d02138e27b57d184b260b6669eed"><div class="ttname"><a href="../../d4/d5d/structast__cdr.html#a8098d02138e27b57d184b260b6669eed">ast_cdr::next</a></div><div class="ttdeci">struct ast_cdr * next</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00325">cdr.h:325</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a0710872fe26e286bc89c24db3288f74f"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a0710872fe26e286bc89c24db3288f74f">COPY_IDS</a></div><div class="ttdeci">#define COPY_IDS(channel_var, expected_record)</div><div class="ttdoc">Copy the linkedid and uniqueid from a channel to an expected CDR. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00228">test_cdr.c:228</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a7a53a18000fdffa1da8f2842a6513c87"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a7a53a18000fdffa1da8f2842a6513c87">SET_FORMATS</a></div><div class="ttdeci">#define SET_FORMATS(chan)</div><div class="ttdoc">Set ulaw format on channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00234">test_cdr.c:234</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a1ccf26b207f6e00ee0ece3e227de42a1"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a1ccf26b207f6e00ee0ece3e227de42a1">SWAP_CONFIG</a></div><div class="ttdeci">#define SWAP_CONFIG(ao2_config, template)</div><div class="ttdoc">Macro to swap a configuration out from the CDR engine. This should be used at the beginning of each t...</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00079">test_cdr.c:79</a></div></div>
<div class="ttc" id="test__cdr_8c_html_ac2b699afc1547e0d4f71ece789ee21e1"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#ac2b699afc1547e0d4f71ece789ee21e1">HANGUP_CHANNEL</a></div><div class="ttdeci">#define HANGUP_CHANNEL(channel, cause)</div><div class="ttdoc">Hang up a test channel safely. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00303">test_cdr.c:303</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="test_8h_html_a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b">TEST_INIT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00207">test.h:207</a></div></div>
<div class="ttc" id="test_8h_html_aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c"><div class="ttname"><a href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c">AST_TEST_NOT_RUN</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00201">test.h:201</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a8739ae4d4e4305695b4deaebc79986f1"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a8739ae4d4e4305695b4deaebc79986f1">ALICE_CALLERID</a></div><div class="ttdeci">#define ALICE_CALLERID</div><div class="ttdoc">Alice&amp;#39;s Caller ID. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00216">test_cdr.c:216</a></div></div>
<div class="ttc" id="utils_8h_html_a1604b4d72144dd3d9f7da668e90337e9"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a></div><div class="ttdeci">#define RAII_VAR(vartype, varname, initval, dtor)</div><div class="ttdoc">Declare a variable that will call a destructor function when it goes out of scope. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00911">utils.h:911</a></div></div>
<div class="ttc" id="structast__party__caller_html"><div class="ttname"><a href="../../d4/d77/structast__party__caller.html">ast_party_caller</a></div><div class="ttdoc">Caller Party information. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l00419">channel.h:419</a></div></div>
<div class="ttc" id="test__cdr_8c_html_aabfd96ef82edc19b680e65889e005c93"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#aabfd96ef82edc19b680e65889e005c93">verify_mock_cdr_record</a></div><div class="ttdeci">static enum ast_test_result_state verify_mock_cdr_record(struct ast_test *test, struct ast_cdr *expected, int record)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00310">test_cdr.c:310</a></div></div>
<div class="ttc" id="causes_8h_html_a7858ab2ba4858d98e29f0ea54980313c"><div class="ttname"><a href="../../d4/da3/causes_8h.html#a7858ab2ba4858d98e29f0ea54980313c">AST_CAUSE_NORMAL</a></div><div class="ttdeci">#define AST_CAUSE_NORMAL</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/da3/causes_8h_source.html#l00150">causes.h:150</a></div></div>
<div class="ttc" id="structast__cdr_html"><div class="ttname"><a href="../../d4/d5d/structast__cdr.html">ast_cdr</a></div><div class="ttdoc">Responsible for call detail data. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00276">cdr.h:276</a></div></div>
<div class="ttc" id="namespacesip__to__pjsip_html_ab82f408a83ecba10ea39afd8abfd371e"><div class="ttname"><a href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">sip_to_pjsip.info</a></div><div class="ttdeci">def info(msg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d6f/sip__to__pjsip_8py_source.html#l01313">sip_to_pjsip.py:1313</a></div></div>
<div class="ttc" id="astobj2_8h_html_ae0422b60d8e25b6962b2d61ae4ddf724"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ae0422b60d8e25b6962b2d61ae4ddf724">ao2_alloc</a></div><div class="ttdeci">#define ao2_alloc(data_size, destructor_fn)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00411">astobj2.h:411</a></div></div>
<div class="ttc" id="channelstate_8h_html_a03585bc87e5bbd0f4d11bc789734c660a5bf03bd84f434acaeefdacb0096e1baa"><div class="ttname"><a href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660a5bf03bd84f434acaeefdacb0096e1baa">AST_STATE_RINGING</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d95/channelstate_8h_source.html#l00041">channelstate.h:41</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a86d2cbfb5a0c115147944a541cc355e0"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a></div><div class="ttdeci">#define CHANNEL_TECH_NAME</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00055">test_cdr.c:55</a></div></div>
<div class="ttc" id="structtest_html"><div class="ttname"><a href="../../d8/d89/structtest.html">test</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d7d/test__logger_8c_source.html#l00043">test_logger.c:43</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="channel_8h_html_a82f2c6e4d47f62f6b65c5887eb096fd5a36fa77a64746637c77c6b18a7999d0a2"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a82f2c6e4d47f62f6b65c5887eb096fd5a36fa77a64746637c77c6b18a7999d0a2">AST_FLAG_OUTGOING</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01000">channel.h:1000</a></div></div>
<div class="ttc" id="channel_8h_html_acc7e03f08c0df9fe5f5ff801db51224d"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#acc7e03f08c0df9fe5f5ff801db51224d">ast_channel_state_set</a></div><div class="ttdeci">void ast_channel_state_set(struct ast_channel *chan, enum ast_channel_state)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00820">channel_internal_api.c:820</a></div></div>
<div class="ttc" id="cdr_8h_html_a53e2666db1174cc83384daf9049023c0ad5945e6977fe7c1d64bacadaad7aa9ea"><div class="ttname"><a href="../../dc/d07/cdr_8h.html#a53e2666db1174cc83384daf9049023c0ad5945e6977fe7c1d64bacadaad7aa9ea">AST_CDR_BUSY</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00257">cdr.h:257</a></div></div>
<div class="ttc" id="cel__pgsql_8c_html_ad6c487210772a9b4b0ca04b04b847d4c"><div class="ttname"><a href="../../de/d1b/cel__pgsql_8c.html#ad6c487210772a9b4b0ca04b04b847d4c">result</a></div><div class="ttdeci">static PGresult * result</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1b/cel__pgsql_8c_source.html#l00088">cel_pgsql.c:88</a></div></div>
<div class="ttc" id="causes_8h_html_ae009c193522491f7de7ea28b23f20868"><div class="ttname"><a href="../../d4/da3/causes_8h.html#ae009c193522491f7de7ea28b23f20868">AST_CAUSE_BUSY</a></div><div class="ttdeci">#define AST_CAUSE_BUSY</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/da3/causes_8h_source.html#l00148">causes.h:148</a></div></div>
<div class="ttc" id="structast__cdr__config_html"><div class="ttname"><a href="../../d4/d69/structast__cdr__config.html">ast_cdr_config</a></div><div class="ttdoc">The global options available for CDRs. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00264">cdr.h:264</a></div></div>
<div class="ttc" id="structast__cdr_html_ab7fd8bddf0ce6987ae5e58fb64cfc9e2"><div class="ttname"><a href="../../d4/d5d/structast__cdr.html#ab7fd8bddf0ce6987ae5e58fb64cfc9e2">ast_cdr::clid</a></div><div class="ttdeci">char clid[AST_MAX_EXTENSION]</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00278">cdr.h:278</a></div></div>
<div class="ttc" id="channel_8h_html_a91de92158876186d28ba1773877f2732"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a91de92158876186d28ba1773877f2732">ast_channel_flags</a></div><div class="ttdeci">struct ast_flags * ast_channel_flags(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l01260">channel_internal_api.c:1260</a></div></div>
<div class="ttc" id="channel_8h_html_a2f18aafad0442206e71033ac6676dbb5"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a2f18aafad0442206e71033ac6676dbb5">ast_channel_alloc</a></div><div class="ttdeci">#define ast_channel_alloc(needqueue, state, cid_num, cid_name, acctcode, exten, context, assignedids, requestor, amaflag,...)</div><div class="ttdoc">Create a channel structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01259">channel.h:1259</a></div></div>
<div class="ttc" id="cdr_8h_html_a53e2666db1174cc83384daf9049023c0a115c062baa559bcadd55720d6e2383bd"><div class="ttname"><a href="../../dc/d07/cdr_8h.html#a53e2666db1174cc83384daf9049023c0a115c062baa559bcadd55720d6e2383bd">AST_CDR_CONGESTION</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00259">cdr.h:259</a></div></div>
<div class="ttc" id="causes_8h_html_a0a35518d7b448a53da368cf57f354fba"><div class="ttname"><a href="../../d4/da3/causes_8h.html#a0a35518d7b448a53da368cf57f354fba">AST_CAUSE_CONGESTION</a></div><div class="ttdeci">#define AST_CAUSE_CONGESTION</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/da3/causes_8h_source.html#l00152">causes.h:152</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a987d4f1e5d92597fac228fa99bcb56be"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a987d4f1e5d92597fac228fa99bcb56be">safe_channel_release</a></div><div class="ttdeci">static void safe_channel_release(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00371">test_cdr.c:371</a></div></div>
<div class="ttc" id="test_8h_html_aad2aec78205d328d23894a6598cc4044"><div class="ttname"><a href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044">ast_test_result_state</a></div><div class="ttdeci">ast_test_result_state</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00200">test.h:200</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a5c7d40d50d83de5c776bf292e31f4b80"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c7d40d50d83de5c776bf292e31f4b80">&#9670;&nbsp;</a></span>AST_TEST_DEFINE() <span class="overload">[17/24]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AST_TEST_DEFINE </td>
          <td>(</td>
          <td class="paramtype">test_cdr_dial_answer_no_bridge&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l01589">1589</a> of file <a class="el" href="../../d7/d8e/test__cdr_8c_source.html">test_cdr.c</a>.</p>

<p class="reference">References <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00216">ALICE_CALLERID</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00411">ao2_alloc</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l01182">AST_AMA_DOCUMENTATION</a>, <a class="el" href="../../d4/da3/causes_8h_source.html#l00150">AST_CAUSE_NORMAL</a>, <a class="el" href="../../dc/d07/cdr_8h_source.html#l00258">AST_CDR_ANSWERED</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l01259">ast_channel_alloc</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l01260">ast_channel_flags()</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l00739">ast_channel_publish_dial()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00820">ast_channel_state_set()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00077">ast_clear_flag</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l01000">AST_FLAG_OUTGOING</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00070">ast_set_flag</a>, <a class="el" href="../../d9/d95/channelstate_8h_source.html#l00036">AST_STATE_DOWN</a>, <a class="el" href="../../d9/d95/channelstate_8h_source.html#l00041">AST_STATE_RINGING</a>, <a class="el" href="../../d9/d95/channelstate_8h_source.html#l00042">AST_STATE_UP</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00201">AST_TEST_NOT_RUN</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00055">CHANNEL_TECH_NAME</a>, <a class="el" href="../../dc/d07/cdr_8h_source.html#l00278">ast_cdr::clid</a>, <a class="el" href="../../de/dcc/conf2ael_8c_source.html#l00066">config</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00228">COPY_IDS</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00248">CREATE_ALICE_CHANNEL</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00291">EMULATE_APP_DATA</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00303">HANGUP_CHANNEL</a>, <a class="el" href="../../d9/d6f/sip__to__pjsip_8py_source.html#l01313">sip_to_pjsip::info()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00911">RAII_VAR</a>, <a class="el" href="../../de/d1b/cel__pgsql_8c_source.html#l00088">result</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00371">safe_channel_release()</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00234">SET_FORMATS</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00079">SWAP_CONFIG</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00051">TEST_CATEGORY</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00208">TEST_EXECUTE</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00207">TEST_INIT</a>, and <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00310">verify_mock_cdr_record()</a>.</p>
<div class="fragment"><div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;{</div><div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *, chan_caller, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d7/d8e/test__cdr_8c.html#a987d4f1e5d92597fac228fa99bcb56be">safe_channel_release</a>);</div><div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *, chan_callee, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d7/d8e/test__cdr_8c.html#a987d4f1e5d92597fac228fa99bcb56be">safe_channel_release</a>);</div><div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d4/d69/structast__cdr__config.html">ast_cdr_config</a> *, <a class="code" href="../../de/dcc/conf2ael_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#ae0422b60d8e25b6962b2d61ae4ddf724">ao2_alloc</a>(<span class="keyword">sizeof</span>(*<a class="code" href="../../de/dcc/conf2ael_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a>), <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>),</div><div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;         <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;</div><div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d77/structast__party__caller.html">ast_party_caller</a> caller = <a class="code" href="../../d7/d8e/test__cdr_8c.html#a8739ae4d4e4305695b4deaebc79986f1">ALICE_CALLERID</a>;</div><div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d5d/structast__cdr.html">ast_cdr</a> bob_expected_one = {</div><div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;      .<a class="code" href="../../d4/d5d/structast__cdr.html#ab7fd8bddf0ce6987ae5e58fb64cfc9e2">clid</a> = <span class="stringliteral">&quot;\&quot;\&quot; &lt;&gt;&quot;</span>,</div><div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;      .src = <span class="stringliteral">&quot;&quot;</span>,</div><div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;      .dst = <span class="stringliteral">&quot;s&quot;</span>,</div><div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;      .dcontext = <span class="stringliteral">&quot;default&quot;</span>,</div><div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;      .channel = <a class="code" href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a> <span class="stringliteral">&quot;/Bob&quot;</span>,</div><div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;      .lastapp = <span class="stringliteral">&quot;Wait&quot;</span>,</div><div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;      .lastdata = <span class="stringliteral">&quot;1&quot;</span>,</div><div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;      .amaflags = <a class="code" href="../../d5/d7b/channel_8h.html#a784b9642d6e2862b04b7f970b337549fa57aa76a632aa16d12a92e43b81c32a68">AST_AMA_DOCUMENTATION</a>,</div><div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;      .disposition = <a class="code" href="../../dc/d07/cdr_8h.html#a53e2666db1174cc83384daf9049023c0ac3e47d059a0e67a03f822f10bb7ec5b1">AST_CDR_ANSWERED</a>,</div><div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;      .accountcode = <span class="stringliteral">&quot;200&quot;</span>,</div><div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;   };</div><div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d5d/structast__cdr.html">ast_cdr</a> alice_expected_two = {</div><div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;      .<a class="code" href="../../d4/d5d/structast__cdr.html#ab7fd8bddf0ce6987ae5e58fb64cfc9e2">clid</a> = <span class="stringliteral">&quot;\&quot;Alice\&quot; &lt;100&gt;&quot;</span>,</div><div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;      .src = <span class="stringliteral">&quot;100&quot;</span>,</div><div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;      .dst = <span class="stringliteral">&quot;100&quot;</span>,</div><div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;      .dcontext = <span class="stringliteral">&quot;default&quot;</span>,</div><div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;      .channel = <a class="code" href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a> <span class="stringliteral">&quot;/Alice&quot;</span>,</div><div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;      .lastapp = <span class="stringliteral">&quot;Wait&quot;</span>,</div><div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;      .lastdata = <span class="stringliteral">&quot;1&quot;</span>,</div><div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;      .amaflags = <a class="code" href="../../d5/d7b/channel_8h.html#a784b9642d6e2862b04b7f970b337549fa57aa76a632aa16d12a92e43b81c32a68">AST_AMA_DOCUMENTATION</a>,</div><div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;      .disposition = <a class="code" href="../../dc/d07/cdr_8h.html#a53e2666db1174cc83384daf9049023c0ac3e47d059a0e67a03f822f10bb7ec5b1">AST_CDR_ANSWERED</a>,</div><div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;      .accountcode = <span class="stringliteral">&quot;100&quot;</span>,</div><div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;      .next = &amp;bob_expected_one,</div><div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;   };</div><div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d5d/structast__cdr.html">ast_cdr</a> alice_expected_one = {</div><div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;      .<a class="code" href="../../d4/d5d/structast__cdr.html#ab7fd8bddf0ce6987ae5e58fb64cfc9e2">clid</a> = <span class="stringliteral">&quot;\&quot;Alice\&quot; &lt;100&gt;&quot;</span>,</div><div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;      .src = <span class="stringliteral">&quot;100&quot;</span>,</div><div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;      .dst = <span class="stringliteral">&quot;100&quot;</span>,</div><div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;      .dcontext = <span class="stringliteral">&quot;default&quot;</span>,</div><div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;      .channel = <a class="code" href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a> <span class="stringliteral">&quot;/Alice&quot;</span>,</div><div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;      .dstchannel = <a class="code" href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a> <span class="stringliteral">&quot;/Bob&quot;</span>,</div><div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;      .lastapp = <span class="stringliteral">&quot;Dial&quot;</span>,</div><div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;      .lastdata = <a class="code" href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a> <span class="stringliteral">&quot;/Bob&quot;</span>,</div><div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;      .amaflags = <a class="code" href="../../d5/d7b/channel_8h.html#a784b9642d6e2862b04b7f970b337549fa57aa76a632aa16d12a92e43b81c32a68">AST_AMA_DOCUMENTATION</a>,</div><div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;      .disposition = <a class="code" href="../../dc/d07/cdr_8h.html#a53e2666db1174cc83384daf9049023c0ac3e47d059a0e67a03f822f10bb7ec5b1">AST_CDR_ANSWERED</a>,</div><div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;      .accountcode = <span class="stringliteral">&quot;100&quot;</span>,</div><div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;      .peeraccount = <span class="stringliteral">&quot;200&quot;</span>,</div><div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;      .next = &amp;alice_expected_two,</div><div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;   };</div><div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;   <span class="keyword">enum</span> <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044">ast_test_result_state</a> <a class="code" href="../../de/d1b/cel__pgsql_8c.html#ad6c487210772a9b4b0ca04b04b847d4c">result</a> = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c">AST_TEST_NOT_RUN</a>;</div><div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;</div><div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;   <span class="keywordflow">switch</span> (cmd) {</div><div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b">TEST_INIT</a>:</div><div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;name = __func__;</div><div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;category = <a class="code" href="../../d7/d8e/test__cdr_8c.html#add35ea2349b86888eef95d404e6faebf">TEST_CATEGORY</a>;</div><div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;summary = <span class="stringliteral">&quot;Test dialing, answering, and not going into a bridge.&quot;</span>;</div><div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;description =</div><div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;         <span class="stringliteral">&quot;This is a weird one, but theoretically possible. You can perform\n&quot;</span></div><div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;         <span class="stringliteral">&quot;a dial, then bounce both channels to different priorities and\n&quot;</span></div><div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;         <span class="stringliteral">&quot;never have them enter a bridge together. Ew. This makes sure that\n&quot;</span></div><div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;         <span class="stringliteral">&quot;when we answer, we get a CDR, it gets ended at that point, and\n&quot;</span></div><div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;         <span class="stringliteral">&quot;that it gets finalized appropriately. We should get three CDRs in\n&quot;</span></div><div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;         <span class="stringliteral">&quot;the end - one for the dial, and one for each CDR as they continued\n&quot;</span></div><div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;         <span class="stringliteral">&quot;on.&quot;</span>;</div><div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c">AST_TEST_NOT_RUN</a>;</div><div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e">TEST_EXECUTE</a>:</div><div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;   }</div><div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;</div><div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#a1ccf26b207f6e00ee0ece3e227de42a1">SWAP_CONFIG</a>(<a class="code" href="../../de/dcc/conf2ael_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a>, <a class="code" href="../../d7/d8e/test__cdr_8c.html#ac905defa905925ff383b4bc9d2f89e35">debug_cdr_config</a>);</div><div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;</div><div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#a1ed3332fe918eafa4f3f79c131525249">CREATE_ALICE_CHANNEL</a>(chan_caller, &amp;caller, &amp;alice_expected_one);</div><div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#a0710872fe26e286bc89c24db3288f74f">COPY_IDS</a>(chan_caller, &amp;alice_expected_two);</div><div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;</div><div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#ab91bafbff6fa458554e8745276c0b4d3">EMULATE_APP_DATA</a>(chan_caller, 1, <span class="stringliteral">&quot;Dial&quot;</span>, <a class="code" href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a> <span class="stringliteral">&quot;/Bob&quot;</span>);</div><div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;</div><div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;   chan_callee = <a class="code" href="../../d5/d7b/channel_8h.html#a2f18aafad0442206e71033ac6676dbb5">ast_channel_alloc</a>(0, <a class="code" href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660a81348336816e0a2f6f3a76da487a46dc">AST_STATE_DOWN</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="stringliteral">&quot;200&quot;</span>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, chan_caller, 0, <a class="code" href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a> <span class="stringliteral">&quot;/Bob&quot;</span>);</div><div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#a7a53a18000fdffa1da8f2842a6513c87">SET_FORMATS</a>(chan_callee);</div><div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan_callee);</div><div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#ab5033a1f3d781d45e7ccc27598114510">ast_set_flag</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a91de92158876186d28ba1773877f2732">ast_channel_flags</a>(chan_callee), <a class="code" href="../../d5/d7b/channel_8h.html#a82f2c6e4d47f62f6b65c5887eb096fd5a36fa77a64746637c77c6b18a7999d0a2">AST_FLAG_OUTGOING</a>);</div><div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#a0710872fe26e286bc89c24db3288f74f">COPY_IDS</a>(chan_callee, &amp;bob_expected_one);</div><div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;</div><div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;   <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#ga7d446221f9a272b003c4ad660a7e14dc">ast_channel_publish_dial</a>(chan_caller, chan_callee, <span class="stringliteral">&quot;Bob&quot;</span>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#acc7e03f08c0df9fe5f5ff801db51224d">ast_channel_state_set</a>(chan_caller, <a class="code" href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660a5bf03bd84f434acaeefdacb0096e1baa">AST_STATE_RINGING</a>);</div><div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;   <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#ga7d446221f9a272b003c4ad660a7e14dc">ast_channel_publish_dial</a>(chan_caller, chan_callee, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="stringliteral">&quot;ANSWER&quot;</span>);</div><div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;</div><div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#acc7e03f08c0df9fe5f5ff801db51224d">ast_channel_state_set</a>(chan_caller, <a class="code" href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660aa8ab4bcda7378ccc17c39dfd880cba3d">AST_STATE_UP</a>);</div><div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a7b260320610a09017a9416398acd0a70">ast_clear_flag</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a91de92158876186d28ba1773877f2732">ast_channel_flags</a>(chan_callee), <a class="code" href="../../d5/d7b/channel_8h.html#a82f2c6e4d47f62f6b65c5887eb096fd5a36fa77a64746637c77c6b18a7999d0a2">AST_FLAG_OUTGOING</a>);</div><div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#acc7e03f08c0df9fe5f5ff801db51224d">ast_channel_state_set</a>(chan_callee, <a class="code" href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660aa8ab4bcda7378ccc17c39dfd880cba3d">AST_STATE_UP</a>);</div><div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;</div><div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#ab91bafbff6fa458554e8745276c0b4d3">EMULATE_APP_DATA</a>(chan_caller, 2, <span class="stringliteral">&quot;Wait&quot;</span>, <span class="stringliteral">&quot;1&quot;</span>);</div><div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#ab91bafbff6fa458554e8745276c0b4d3">EMULATE_APP_DATA</a>(chan_callee, 1, <span class="stringliteral">&quot;Wait&quot;</span>, <span class="stringliteral">&quot;1&quot;</span>);</div><div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;</div><div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#ac2b699afc1547e0d4f71ece789ee21e1">HANGUP_CHANNEL</a>(chan_caller, <a class="code" href="../../d4/da3/causes_8h.html#a7858ab2ba4858d98e29f0ea54980313c">AST_CAUSE_NORMAL</a>);</div><div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#ac2b699afc1547e0d4f71ece789ee21e1">HANGUP_CHANNEL</a>(chan_callee, <a class="code" href="../../d4/da3/causes_8h.html#a7858ab2ba4858d98e29f0ea54980313c">AST_CAUSE_NORMAL</a>);</div><div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;</div><div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;   result = <a class="code" href="../../d7/d8e/test__cdr_8c.html#aabfd96ef82edc19b680e65889e005c93">verify_mock_cdr_record</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, &amp;alice_expected_one, 3);</div><div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../de/d1b/cel__pgsql_8c.html#ad6c487210772a9b4b0ca04b04b847d4c">result</a>;</div><div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;}</div><div class="ttc" id="test__cdr_8c_html_ab91bafbff6fa458554e8745276c0b4d3"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#ab91bafbff6fa458554e8745276c0b4d3">EMULATE_APP_DATA</a></div><div class="ttdeci">#define EMULATE_APP_DATA(channel, priority, application, data)</div><div class="ttdoc">Emulate a channel entering into an application. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00291">test_cdr.c:291</a></div></div>
<div class="ttc" id="structast__channel_html"><div class="ttname"><a href="../../df/d3c/structast__channel.html">ast_channel</a></div><div class="ttdoc">Main Channel structure associated with a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00073">channel_internal_api.c:73</a></div></div>
<div class="ttc" id="channel_8h_html_a784b9642d6e2862b04b7f970b337549fa57aa76a632aa16d12a92e43b81c32a68"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a784b9642d6e2862b04b7f970b337549fa57aa76a632aa16d12a92e43b81c32a68">AST_AMA_DOCUMENTATION</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01182">channel.h:1182</a></div></div>
<div class="ttc" id="channelstate_8h_html_a03585bc87e5bbd0f4d11bc789734c660a81348336816e0a2f6f3a76da487a46dc"><div class="ttname"><a href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660a81348336816e0a2f6f3a76da487a46dc">AST_STATE_DOWN</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d95/channelstate_8h_source.html#l00036">channelstate.h:36</a></div></div>
<div class="ttc" id="conf2ael_8c_html_a74bb62276efdf39dd94048e007fca05b"><div class="ttname"><a href="../../de/dcc/conf2ael_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a></div><div class="ttdeci">char * config</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcc/conf2ael_8c_source.html#l00066">conf2ael.c:66</a></div></div>
<div class="ttc" id="group__StasisTopicsAndMessages_html_ga7d446221f9a272b003c4ad660a7e14dc"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#ga7d446221f9a272b003c4ad660a7e14dc">ast_channel_publish_dial</a></div><div class="ttdeci">void ast_channel_publish_dial(struct ast_channel *caller, struct ast_channel *peer, const char *dialstring, const char *dialstatus)</div><div class="ttdoc">Publish in the ast_channel_topic or ast_channel_topic_all topics a stasis message for the channels in...</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d2b/stasis__channels_8c_source.html#l00739">stasis_channels.c:739</a></div></div>
<div class="ttc" id="test__cdr_8c_html_add35ea2349b86888eef95d404e6faebf"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#add35ea2349b86888eef95d404e6faebf">TEST_CATEGORY</a></div><div class="ttdeci">#define TEST_CATEGORY</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00051">test_cdr.c:51</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a1ed3332fe918eafa4f3f79c131525249"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a1ed3332fe918eafa4f3f79c131525249">CREATE_ALICE_CHANNEL</a></div><div class="ttdeci">#define CREATE_ALICE_CHANNEL(channel_var, caller_id, expected_record)</div><div class="ttdoc">Create a test_cdr_chan_tech for Alice, and set the expected CDR records&amp;#39; linkedid and uniqueid...</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00248">test_cdr.c:248</a></div></div>
<div class="ttc" id="test_8h_html_a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e">TEST_EXECUTE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00208">test.h:208</a></div></div>
<div class="ttc" id="utils_8h_html_ab5033a1f3d781d45e7ccc27598114510"><div class="ttname"><a href="../../d5/d60/utils_8h.html#ab5033a1f3d781d45e7ccc27598114510">ast_set_flag</a></div><div class="ttdeci">#define ast_set_flag(p, flag)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00070">utils.h:70</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a0710872fe26e286bc89c24db3288f74f"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a0710872fe26e286bc89c24db3288f74f">COPY_IDS</a></div><div class="ttdeci">#define COPY_IDS(channel_var, expected_record)</div><div class="ttdoc">Copy the linkedid and uniqueid from a channel to an expected CDR. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00228">test_cdr.c:228</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a7a53a18000fdffa1da8f2842a6513c87"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a7a53a18000fdffa1da8f2842a6513c87">SET_FORMATS</a></div><div class="ttdeci">#define SET_FORMATS(chan)</div><div class="ttdoc">Set ulaw format on channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00234">test_cdr.c:234</a></div></div>
<div class="ttc" id="cdr_8h_html_a53e2666db1174cc83384daf9049023c0ac3e47d059a0e67a03f822f10bb7ec5b1"><div class="ttname"><a href="../../dc/d07/cdr_8h.html#a53e2666db1174cc83384daf9049023c0ac3e47d059a0e67a03f822f10bb7ec5b1">AST_CDR_ANSWERED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00258">cdr.h:258</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a1ccf26b207f6e00ee0ece3e227de42a1"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a1ccf26b207f6e00ee0ece3e227de42a1">SWAP_CONFIG</a></div><div class="ttdeci">#define SWAP_CONFIG(ao2_config, template)</div><div class="ttdoc">Macro to swap a configuration out from the CDR engine. This should be used at the beginning of each t...</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00079">test_cdr.c:79</a></div></div>
<div class="ttc" id="channelstate_8h_html_a03585bc87e5bbd0f4d11bc789734c660aa8ab4bcda7378ccc17c39dfd880cba3d"><div class="ttname"><a href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660aa8ab4bcda7378ccc17c39dfd880cba3d">AST_STATE_UP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d95/channelstate_8h_source.html#l00042">channelstate.h:42</a></div></div>
<div class="ttc" id="test__cdr_8c_html_ac2b699afc1547e0d4f71ece789ee21e1"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#ac2b699afc1547e0d4f71ece789ee21e1">HANGUP_CHANNEL</a></div><div class="ttdeci">#define HANGUP_CHANNEL(channel, cause)</div><div class="ttdoc">Hang up a test channel safely. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00303">test_cdr.c:303</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="test_8h_html_a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b">TEST_INIT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00207">test.h:207</a></div></div>
<div class="ttc" id="test_8h_html_aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c"><div class="ttname"><a href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c">AST_TEST_NOT_RUN</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00201">test.h:201</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a8739ae4d4e4305695b4deaebc79986f1"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a8739ae4d4e4305695b4deaebc79986f1">ALICE_CALLERID</a></div><div class="ttdeci">#define ALICE_CALLERID</div><div class="ttdoc">Alice&amp;#39;s Caller ID. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00216">test_cdr.c:216</a></div></div>
<div class="ttc" id="utils_8h_html_a1604b4d72144dd3d9f7da668e90337e9"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a></div><div class="ttdeci">#define RAII_VAR(vartype, varname, initval, dtor)</div><div class="ttdoc">Declare a variable that will call a destructor function when it goes out of scope. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00911">utils.h:911</a></div></div>
<div class="ttc" id="structast__party__caller_html"><div class="ttname"><a href="../../d4/d77/structast__party__caller.html">ast_party_caller</a></div><div class="ttdoc">Caller Party information. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l00419">channel.h:419</a></div></div>
<div class="ttc" id="test__cdr_8c_html_aabfd96ef82edc19b680e65889e005c93"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#aabfd96ef82edc19b680e65889e005c93">verify_mock_cdr_record</a></div><div class="ttdeci">static enum ast_test_result_state verify_mock_cdr_record(struct ast_test *test, struct ast_cdr *expected, int record)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00310">test_cdr.c:310</a></div></div>
<div class="ttc" id="causes_8h_html_a7858ab2ba4858d98e29f0ea54980313c"><div class="ttname"><a href="../../d4/da3/causes_8h.html#a7858ab2ba4858d98e29f0ea54980313c">AST_CAUSE_NORMAL</a></div><div class="ttdeci">#define AST_CAUSE_NORMAL</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/da3/causes_8h_source.html#l00150">causes.h:150</a></div></div>
<div class="ttc" id="structast__cdr_html"><div class="ttname"><a href="../../d4/d5d/structast__cdr.html">ast_cdr</a></div><div class="ttdoc">Responsible for call detail data. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00276">cdr.h:276</a></div></div>
<div class="ttc" id="namespacesip__to__pjsip_html_ab82f408a83ecba10ea39afd8abfd371e"><div class="ttname"><a href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">sip_to_pjsip.info</a></div><div class="ttdeci">def info(msg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d6f/sip__to__pjsip_8py_source.html#l01313">sip_to_pjsip.py:1313</a></div></div>
<div class="ttc" id="astobj2_8h_html_ae0422b60d8e25b6962b2d61ae4ddf724"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ae0422b60d8e25b6962b2d61ae4ddf724">ao2_alloc</a></div><div class="ttdeci">#define ao2_alloc(data_size, destructor_fn)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00411">astobj2.h:411</a></div></div>
<div class="ttc" id="channelstate_8h_html_a03585bc87e5bbd0f4d11bc789734c660a5bf03bd84f434acaeefdacb0096e1baa"><div class="ttname"><a href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660a5bf03bd84f434acaeefdacb0096e1baa">AST_STATE_RINGING</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d95/channelstate_8h_source.html#l00041">channelstate.h:41</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a86d2cbfb5a0c115147944a541cc355e0"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a></div><div class="ttdeci">#define CHANNEL_TECH_NAME</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00055">test_cdr.c:55</a></div></div>
<div class="ttc" id="utils_8h_html_a7b260320610a09017a9416398acd0a70"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a7b260320610a09017a9416398acd0a70">ast_clear_flag</a></div><div class="ttdeci">#define ast_clear_flag(p, flag)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00077">utils.h:77</a></div></div>
<div class="ttc" id="structtest_html"><div class="ttname"><a href="../../d8/d89/structtest.html">test</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d7d/test__logger_8c_source.html#l00043">test_logger.c:43</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="channel_8h_html_a82f2c6e4d47f62f6b65c5887eb096fd5a36fa77a64746637c77c6b18a7999d0a2"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a82f2c6e4d47f62f6b65c5887eb096fd5a36fa77a64746637c77c6b18a7999d0a2">AST_FLAG_OUTGOING</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01000">channel.h:1000</a></div></div>
<div class="ttc" id="channel_8h_html_acc7e03f08c0df9fe5f5ff801db51224d"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#acc7e03f08c0df9fe5f5ff801db51224d">ast_channel_state_set</a></div><div class="ttdeci">void ast_channel_state_set(struct ast_channel *chan, enum ast_channel_state)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00820">channel_internal_api.c:820</a></div></div>
<div class="ttc" id="cel__pgsql_8c_html_ad6c487210772a9b4b0ca04b04b847d4c"><div class="ttname"><a href="../../de/d1b/cel__pgsql_8c.html#ad6c487210772a9b4b0ca04b04b847d4c">result</a></div><div class="ttdeci">static PGresult * result</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1b/cel__pgsql_8c_source.html#l00088">cel_pgsql.c:88</a></div></div>
<div class="ttc" id="structast__cdr__config_html"><div class="ttname"><a href="../../d4/d69/structast__cdr__config.html">ast_cdr_config</a></div><div class="ttdoc">The global options available for CDRs. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00264">cdr.h:264</a></div></div>
<div class="ttc" id="structast__cdr_html_ab7fd8bddf0ce6987ae5e58fb64cfc9e2"><div class="ttname"><a href="../../d4/d5d/structast__cdr.html#ab7fd8bddf0ce6987ae5e58fb64cfc9e2">ast_cdr::clid</a></div><div class="ttdeci">char clid[AST_MAX_EXTENSION]</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00278">cdr.h:278</a></div></div>
<div class="ttc" id="channel_8h_html_a91de92158876186d28ba1773877f2732"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a91de92158876186d28ba1773877f2732">ast_channel_flags</a></div><div class="ttdeci">struct ast_flags * ast_channel_flags(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l01260">channel_internal_api.c:1260</a></div></div>
<div class="ttc" id="test__cdr_8c_html_ac905defa905925ff383b4bc9d2f89e35"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#ac905defa905925ff383b4bc9d2f89e35">debug_cdr_config</a></div><div class="ttdeci">static struct ast_cdr_config debug_cdr_config</div><div class="ttdoc">A configuration suitable for &amp;#39;normal&amp;#39; CDRs. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00061">test_cdr.c:61</a></div></div>
<div class="ttc" id="channel_8h_html_a2f18aafad0442206e71033ac6676dbb5"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a2f18aafad0442206e71033ac6676dbb5">ast_channel_alloc</a></div><div class="ttdeci">#define ast_channel_alloc(needqueue, state, cid_num, cid_name, acctcode, exten, context, assignedids, requestor, amaflag,...)</div><div class="ttdoc">Create a channel structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01259">channel.h:1259</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a987d4f1e5d92597fac228fa99bcb56be"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a987d4f1e5d92597fac228fa99bcb56be">safe_channel_release</a></div><div class="ttdeci">static void safe_channel_release(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00371">test_cdr.c:371</a></div></div>
<div class="ttc" id="test_8h_html_aad2aec78205d328d23894a6598cc4044"><div class="ttname"><a href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044">ast_test_result_state</a></div><div class="ttdeci">ast_test_result_state</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00200">test.h:200</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a38293987a23189a6acad006d15916e8d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a38293987a23189a6acad006d15916e8d">&#9670;&nbsp;</a></span>AST_TEST_DEFINE() <span class="overload">[18/24]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AST_TEST_DEFINE </td>
          <td>(</td>
          <td class="paramtype">test_cdr_dial_answer_twoparty_bridge_a&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l01688">1688</a> of file <a class="el" href="../../d7/d8e/test__cdr_8c_source.html">test_cdr.c</a>.</p>

<p class="reference">References <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00216">ALICE_CALLERID</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00411">ao2_alloc</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l01182">AST_AMA_DOCUMENTATION</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l03617">ast_bridge_basic_new()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l01952">ast_bridge_depart()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l01924">ast_bridge_impart()</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00602">AST_BRIDGE_IMPART_CHAN_DEPARTABLE</a>, <a class="el" href="../../d4/da3/causes_8h_source.html#l00150">AST_CAUSE_NORMAL</a>, <a class="el" href="../../dc/d07/cdr_8h_source.html#l00258">AST_CDR_ANSWERED</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l01259">ast_channel_alloc</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l01260">ast_channel_flags()</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l00739">ast_channel_publish_dial()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00820">ast_channel_state_set()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l01000">AST_FLAG_OUTGOING</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00070">ast_set_flag</a>, <a class="el" href="../../d9/d95/channelstate_8h_source.html#l00036">AST_STATE_DOWN</a>, <a class="el" href="../../d9/d95/channelstate_8h_source.html#l00041">AST_STATE_RINGING</a>, <a class="el" href="../../d9/d95/channelstate_8h_source.html#l00042">AST_STATE_UP</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00201">AST_TEST_NOT_RUN</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00055">CHANNEL_TECH_NAME</a>, <a class="el" href="../../dc/d07/cdr_8h_source.html#l00278">ast_cdr::clid</a>, <a class="el" href="../../de/dcc/conf2ael_8c_source.html#l00066">config</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00248">CREATE_ALICE_CHANNEL</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00387">do_sleep()</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00291">EMULATE_APP_DATA</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00303">HANGUP_CHANNEL</a>, <a class="el" href="../../d9/d6f/sip__to__pjsip_8py_source.html#l01313">sip_to_pjsip::info()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00911">RAII_VAR</a>, <a class="el" href="../../de/d1b/cel__pgsql_8c_source.html#l00088">result</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00379">safe_bridge_destroy()</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00371">safe_channel_release()</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00234">SET_FORMATS</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00079">SWAP_CONFIG</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00051">TEST_CATEGORY</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00208">TEST_EXECUTE</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00207">TEST_INIT</a>, and <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00310">verify_mock_cdr_record()</a>.</p>
<div class="fragment"><div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;{</div><div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *, chan_caller, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d7/d8e/test__cdr_8c.html#a987d4f1e5d92597fac228fa99bcb56be">safe_channel_release</a>);</div><div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *, chan_callee, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d7/d8e/test__cdr_8c.html#a987d4f1e5d92597fac228fa99bcb56be">safe_channel_release</a>);</div><div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *, bridge, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d7/d8e/test__cdr_8c.html#a4aab087f903dfe2609a124a828903cb5">safe_bridge_destroy</a>);</div><div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d4/d69/structast__cdr__config.html">ast_cdr_config</a> *, <a class="code" href="../../de/dcc/conf2ael_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#ae0422b60d8e25b6962b2d61ae4ddf724">ao2_alloc</a>(<span class="keyword">sizeof</span>(*<a class="code" href="../../de/dcc/conf2ael_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a>), <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>),</div><div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;         <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;   <span class="keyword">struct </span>timespec <a class="code" href="../../db/dc4/test__cel_8c.html#af600138406d2c64d06bf7dedf447cfc9">to_sleep</a> = {1, 0};</div><div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;   <span class="keyword">enum</span> <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044">ast_test_result_state</a> <a class="code" href="../../de/d1b/cel__pgsql_8c.html#ad6c487210772a9b4b0ca04b04b847d4c">result</a> = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c">AST_TEST_NOT_RUN</a>;</div><div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;</div><div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d77/structast__party__caller.html">ast_party_caller</a> caller = <a class="code" href="../../d7/d8e/test__cdr_8c.html#a8739ae4d4e4305695b4deaebc79986f1">ALICE_CALLERID</a>;</div><div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d5d/structast__cdr.html">ast_cdr</a> expected = {</div><div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;      .<a class="code" href="../../d4/d5d/structast__cdr.html#ab7fd8bddf0ce6987ae5e58fb64cfc9e2">clid</a> = <span class="stringliteral">&quot;\&quot;Alice\&quot; &lt;100&gt;&quot;</span>,</div><div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;      .src = <span class="stringliteral">&quot;100&quot;</span>,</div><div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;      .dst = <span class="stringliteral">&quot;100&quot;</span>,</div><div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;      .dcontext = <span class="stringliteral">&quot;default&quot;</span>,</div><div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;      .channel = <a class="code" href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a> <span class="stringliteral">&quot;/Alice&quot;</span>,</div><div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;      .dstchannel = <a class="code" href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a> <span class="stringliteral">&quot;/Bob&quot;</span>,</div><div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;      .lastapp = <span class="stringliteral">&quot;Dial&quot;</span>,</div><div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;      .lastdata = <a class="code" href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a> <span class="stringliteral">&quot;/Bob&quot;</span>,</div><div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;      .amaflags = <a class="code" href="../../d5/d7b/channel_8h.html#a784b9642d6e2862b04b7f970b337549fa57aa76a632aa16d12a92e43b81c32a68">AST_AMA_DOCUMENTATION</a>,</div><div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;      .billsec = 1,</div><div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;      .disposition = <a class="code" href="../../dc/d07/cdr_8h.html#a53e2666db1174cc83384daf9049023c0ac3e47d059a0e67a03f822f10bb7ec5b1">AST_CDR_ANSWERED</a>,</div><div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;      .accountcode = <span class="stringliteral">&quot;100&quot;</span>,</div><div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;      .peeraccount = <span class="stringliteral">&quot;200&quot;</span>,</div><div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;   };</div><div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;</div><div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;   <span class="keywordflow">switch</span> (cmd) {</div><div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b">TEST_INIT</a>:</div><div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;name = __func__;</div><div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;category = <a class="code" href="../../d7/d8e/test__cdr_8c.html#add35ea2349b86888eef95d404e6faebf">TEST_CATEGORY</a>;</div><div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;summary = <span class="stringliteral">&quot;Test dialing, answering, and going into a 2-party bridge&quot;</span>;</div><div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;description =</div><div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;         <span class="stringliteral">&quot;The most &#39;basic&#39; of scenarios&quot;</span>;</div><div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c">AST_TEST_NOT_RUN</a>;</div><div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e">TEST_EXECUTE</a>:</div><div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;   }</div><div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;</div><div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#a1ccf26b207f6e00ee0ece3e227de42a1">SWAP_CONFIG</a>(<a class="code" href="../../de/dcc/conf2ael_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a>, <a class="code" href="../../d7/d8e/test__cdr_8c.html#ac905defa905925ff383b4bc9d2f89e35">debug_cdr_config</a>);</div><div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;</div><div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#a1ed3332fe918eafa4f3f79c131525249">CREATE_ALICE_CHANNEL</a>(chan_caller, &amp;caller, &amp;expected);</div><div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;</div><div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#ab91bafbff6fa458554e8745276c0b4d3">EMULATE_APP_DATA</a>(chan_caller, 1, <span class="stringliteral">&quot;Dial&quot;</span>, <a class="code" href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a> <span class="stringliteral">&quot;/Bob&quot;</span>);</div><div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;</div><div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;   chan_callee = <a class="code" href="../../d5/d7b/channel_8h.html#a2f18aafad0442206e71033ac6676dbb5">ast_channel_alloc</a>(0, <a class="code" href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660a81348336816e0a2f6f3a76da487a46dc">AST_STATE_DOWN</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="stringliteral">&quot;200&quot;</span>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, chan_caller, 0, <a class="code" href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a> <span class="stringliteral">&quot;/Bob&quot;</span>);</div><div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#a7a53a18000fdffa1da8f2842a6513c87">SET_FORMATS</a>(chan_callee);</div><div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan_callee);</div><div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#ab5033a1f3d781d45e7ccc27598114510">ast_set_flag</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a91de92158876186d28ba1773877f2732">ast_channel_flags</a>(chan_callee), <a class="code" href="../../d5/d7b/channel_8h.html#a82f2c6e4d47f62f6b65c5887eb096fd5a36fa77a64746637c77c6b18a7999d0a2">AST_FLAG_OUTGOING</a>);</div><div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#ab91bafbff6fa458554e8745276c0b4d3">EMULATE_APP_DATA</a>(chan_callee, 0, <span class="stringliteral">&quot;AppDial&quot;</span>, <span class="stringliteral">&quot;(Outgoing Line)&quot;</span>);</div><div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;</div><div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;   <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#ga7d446221f9a272b003c4ad660a7e14dc">ast_channel_publish_dial</a>(chan_caller, chan_callee, <span class="stringliteral">&quot;Bob&quot;</span>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#acc7e03f08c0df9fe5f5ff801db51224d">ast_channel_state_set</a>(chan_caller, <a class="code" href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660a5bf03bd84f434acaeefdacb0096e1baa">AST_STATE_RINGING</a>);</div><div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;   <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#ga7d446221f9a272b003c4ad660a7e14dc">ast_channel_publish_dial</a>(chan_caller, chan_callee, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="stringliteral">&quot;ANSWER&quot;</span>);</div><div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;</div><div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#acc7e03f08c0df9fe5f5ff801db51224d">ast_channel_state_set</a>(chan_caller, <a class="code" href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660aa8ab4bcda7378ccc17c39dfd880cba3d">AST_STATE_UP</a>);</div><div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#acc7e03f08c0df9fe5f5ff801db51224d">ast_channel_state_set</a>(chan_callee, <a class="code" href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660aa8ab4bcda7378ccc17c39dfd880cba3d">AST_STATE_UP</a>);</div><div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;</div><div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;   bridge = <a class="code" href="../../d4/d1e/bridge__basic_8h.html#a1410fb71fa67f9ee92f15b18439b7571">ast_bridge_basic_new</a>();</div><div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;   ast_test_validate(<a class="code" href="../../d8/d89/structtest.html">test</a>, bridge != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#a638dca57ef13cc34a8d584246f5add00">do_sleep</a>(&amp;to_sleep);</div><div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;</div><div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;   ast_test_validate(<a class="code" href="../../d8/d89/structtest.html">test</a>, !<a class="code" href="../../d4/d56/bridge_8h.html#a582e1dd73a483ac881cff01fa07f39ae">ast_bridge_impart</a>(bridge, chan_caller, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d4/d56/bridge_8h.html#ac086b7d74fb40c2ede8514274585b101a01be425a6fb9fefd36905b542e903087">AST_BRIDGE_IMPART_CHAN_DEPARTABLE</a>));</div><div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;   ast_test_validate(<a class="code" href="../../d8/d89/structtest.html">test</a>, !<a class="code" href="../../d4/d56/bridge_8h.html#a582e1dd73a483ac881cff01fa07f39ae">ast_bridge_impart</a>(bridge, chan_callee, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d4/d56/bridge_8h.html#ac086b7d74fb40c2ede8514274585b101a01be425a6fb9fefd36905b542e903087">AST_BRIDGE_IMPART_CHAN_DEPARTABLE</a>));</div><div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;</div><div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#a638dca57ef13cc34a8d584246f5add00">do_sleep</a>(&amp;to_sleep);</div><div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;</div><div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#a0075715d330c8492e03c6d3ca3f48e13">ast_bridge_depart</a>(chan_caller);</div><div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#a0075715d330c8492e03c6d3ca3f48e13">ast_bridge_depart</a>(chan_callee);</div><div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;</div><div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#ac2b699afc1547e0d4f71ece789ee21e1">HANGUP_CHANNEL</a>(chan_caller, <a class="code" href="../../d4/da3/causes_8h.html#a7858ab2ba4858d98e29f0ea54980313c">AST_CAUSE_NORMAL</a>);</div><div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#ac2b699afc1547e0d4f71ece789ee21e1">HANGUP_CHANNEL</a>(chan_callee, <a class="code" href="../../d4/da3/causes_8h.html#a7858ab2ba4858d98e29f0ea54980313c">AST_CAUSE_NORMAL</a>);</div><div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;</div><div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;   result = <a class="code" href="../../d7/d8e/test__cdr_8c.html#aabfd96ef82edc19b680e65889e005c93">verify_mock_cdr_record</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, &amp;expected, 1);</div><div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../de/d1b/cel__pgsql_8c.html#ad6c487210772a9b4b0ca04b04b847d4c">result</a>;</div><div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;}</div><div class="ttc" id="test__cdr_8c_html_ab91bafbff6fa458554e8745276c0b4d3"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#ab91bafbff6fa458554e8745276c0b4d3">EMULATE_APP_DATA</a></div><div class="ttdeci">#define EMULATE_APP_DATA(channel, priority, application, data)</div><div class="ttdoc">Emulate a channel entering into an application. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00291">test_cdr.c:291</a></div></div>
<div class="ttc" id="structast__channel_html"><div class="ttname"><a href="../../df/d3c/structast__channel.html">ast_channel</a></div><div class="ttdoc">Main Channel structure associated with a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00073">channel_internal_api.c:73</a></div></div>
<div class="ttc" id="channel_8h_html_a784b9642d6e2862b04b7f970b337549fa57aa76a632aa16d12a92e43b81c32a68"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a784b9642d6e2862b04b7f970b337549fa57aa76a632aa16d12a92e43b81c32a68">AST_AMA_DOCUMENTATION</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01182">channel.h:1182</a></div></div>
<div class="ttc" id="channelstate_8h_html_a03585bc87e5bbd0f4d11bc789734c660a81348336816e0a2f6f3a76da487a46dc"><div class="ttname"><a href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660a81348336816e0a2f6f3a76da487a46dc">AST_STATE_DOWN</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d95/channelstate_8h_source.html#l00036">channelstate.h:36</a></div></div>
<div class="ttc" id="conf2ael_8c_html_a74bb62276efdf39dd94048e007fca05b"><div class="ttname"><a href="../../de/dcc/conf2ael_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a></div><div class="ttdeci">char * config</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcc/conf2ael_8c_source.html#l00066">conf2ael.c:66</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a638dca57ef13cc34a8d584246f5add00"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a638dca57ef13cc34a8d584246f5add00">do_sleep</a></div><div class="ttdeci">static void do_sleep(struct timespec *to_sleep)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00387">test_cdr.c:387</a></div></div>
<div class="ttc" id="group__StasisTopicsAndMessages_html_ga7d446221f9a272b003c4ad660a7e14dc"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#ga7d446221f9a272b003c4ad660a7e14dc">ast_channel_publish_dial</a></div><div class="ttdeci">void ast_channel_publish_dial(struct ast_channel *caller, struct ast_channel *peer, const char *dialstring, const char *dialstatus)</div><div class="ttdoc">Publish in the ast_channel_topic or ast_channel_topic_all topics a stasis message for the channels in...</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d2b/stasis__channels_8c_source.html#l00739">stasis_channels.c:739</a></div></div>
<div class="ttc" id="test__cdr_8c_html_add35ea2349b86888eef95d404e6faebf"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#add35ea2349b86888eef95d404e6faebf">TEST_CATEGORY</a></div><div class="ttdeci">#define TEST_CATEGORY</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00051">test_cdr.c:51</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a1ed3332fe918eafa4f3f79c131525249"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a1ed3332fe918eafa4f3f79c131525249">CREATE_ALICE_CHANNEL</a></div><div class="ttdeci">#define CREATE_ALICE_CHANNEL(channel_var, caller_id, expected_record)</div><div class="ttdoc">Create a test_cdr_chan_tech for Alice, and set the expected CDR records&amp;#39; linkedid and uniqueid...</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00248">test_cdr.c:248</a></div></div>
<div class="ttc" id="test_8h_html_a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e">TEST_EXECUTE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00208">test.h:208</a></div></div>
<div class="ttc" id="utils_8h_html_ab5033a1f3d781d45e7ccc27598114510"><div class="ttname"><a href="../../d5/d60/utils_8h.html#ab5033a1f3d781d45e7ccc27598114510">ast_set_flag</a></div><div class="ttdeci">#define ast_set_flag(p, flag)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00070">utils.h:70</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a7a53a18000fdffa1da8f2842a6513c87"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a7a53a18000fdffa1da8f2842a6513c87">SET_FORMATS</a></div><div class="ttdeci">#define SET_FORMATS(chan)</div><div class="ttdoc">Set ulaw format on channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00234">test_cdr.c:234</a></div></div>
<div class="ttc" id="cdr_8h_html_a53e2666db1174cc83384daf9049023c0ac3e47d059a0e67a03f822f10bb7ec5b1"><div class="ttname"><a href="../../dc/d07/cdr_8h.html#a53e2666db1174cc83384daf9049023c0ac3e47d059a0e67a03f822f10bb7ec5b1">AST_CDR_ANSWERED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00258">cdr.h:258</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a1ccf26b207f6e00ee0ece3e227de42a1"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a1ccf26b207f6e00ee0ece3e227de42a1">SWAP_CONFIG</a></div><div class="ttdeci">#define SWAP_CONFIG(ao2_config, template)</div><div class="ttdoc">Macro to swap a configuration out from the CDR engine. This should be used at the beginning of each t...</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00079">test_cdr.c:79</a></div></div>
<div class="ttc" id="channelstate_8h_html_a03585bc87e5bbd0f4d11bc789734c660aa8ab4bcda7378ccc17c39dfd880cba3d"><div class="ttname"><a href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660aa8ab4bcda7378ccc17c39dfd880cba3d">AST_STATE_UP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d95/channelstate_8h_source.html#l00042">channelstate.h:42</a></div></div>
<div class="ttc" id="test__cdr_8c_html_ac2b699afc1547e0d4f71ece789ee21e1"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#ac2b699afc1547e0d4f71ece789ee21e1">HANGUP_CHANNEL</a></div><div class="ttdeci">#define HANGUP_CHANNEL(channel, cause)</div><div class="ttdoc">Hang up a test channel safely. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00303">test_cdr.c:303</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="test_8h_html_a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b">TEST_INIT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00207">test.h:207</a></div></div>
<div class="ttc" id="test__cel_8c_html_af600138406d2c64d06bf7dedf447cfc9"><div class="ttname"><a href="../../db/dc4/test__cel_8c.html#af600138406d2c64d06bf7dedf447cfc9">to_sleep</a></div><div class="ttdeci">static struct timespec to_sleep</div><div class="ttdoc">A 1 second sleep. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/dc4/test__cel_8c_source.html#l00085">test_cel.c:85</a></div></div>
<div class="ttc" id="test_8h_html_aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c"><div class="ttname"><a href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c">AST_TEST_NOT_RUN</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00201">test.h:201</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a8739ae4d4e4305695b4deaebc79986f1"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a8739ae4d4e4305695b4deaebc79986f1">ALICE_CALLERID</a></div><div class="ttdeci">#define ALICE_CALLERID</div><div class="ttdoc">Alice&amp;#39;s Caller ID. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00216">test_cdr.c:216</a></div></div>
<div class="ttc" id="bridge_8h_html_a582e1dd73a483ac881cff01fa07f39ae"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a582e1dd73a483ac881cff01fa07f39ae">ast_bridge_impart</a></div><div class="ttdeci">int ast_bridge_impart(struct ast_bridge *bridge, struct ast_channel *chan, struct ast_channel *swap, struct ast_bridge_features *features, enum ast_bridge_impart_flags flags) attribute_warn_unused_result</div><div class="ttdoc">Impart a channel to a bridge (non-blocking) </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l01924">bridge.c:1924</a></div></div>
<div class="ttc" id="utils_8h_html_a1604b4d72144dd3d9f7da668e90337e9"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a></div><div class="ttdeci">#define RAII_VAR(vartype, varname, initval, dtor)</div><div class="ttdoc">Declare a variable that will call a destructor function when it goes out of scope. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00911">utils.h:911</a></div></div>
<div class="ttc" id="structast__party__caller_html"><div class="ttname"><a href="../../d4/d77/structast__party__caller.html">ast_party_caller</a></div><div class="ttdoc">Caller Party information. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l00419">channel.h:419</a></div></div>
<div class="ttc" id="bridge_8h_html_ac086b7d74fb40c2ede8514274585b101a01be425a6fb9fefd36905b542e903087"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#ac086b7d74fb40c2ede8514274585b101a01be425a6fb9fefd36905b542e903087">AST_BRIDGE_IMPART_CHAN_DEPARTABLE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00602">bridge.h:602</a></div></div>
<div class="ttc" id="test__cdr_8c_html_aabfd96ef82edc19b680e65889e005c93"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#aabfd96ef82edc19b680e65889e005c93">verify_mock_cdr_record</a></div><div class="ttdeci">static enum ast_test_result_state verify_mock_cdr_record(struct ast_test *test, struct ast_cdr *expected, int record)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00310">test_cdr.c:310</a></div></div>
<div class="ttc" id="causes_8h_html_a7858ab2ba4858d98e29f0ea54980313c"><div class="ttname"><a href="../../d4/da3/causes_8h.html#a7858ab2ba4858d98e29f0ea54980313c">AST_CAUSE_NORMAL</a></div><div class="ttdeci">#define AST_CAUSE_NORMAL</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/da3/causes_8h_source.html#l00150">causes.h:150</a></div></div>
<div class="ttc" id="structast__cdr_html"><div class="ttname"><a href="../../d4/d5d/structast__cdr.html">ast_cdr</a></div><div class="ttdoc">Responsible for call detail data. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00276">cdr.h:276</a></div></div>
<div class="ttc" id="structast__bridge_html"><div class="ttname"><a href="../../d4/d84/structast__bridge.html">ast_bridge</a></div><div class="ttdoc">Structure that contains information about a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00357">bridge.h:357</a></div></div>
<div class="ttc" id="namespacesip__to__pjsip_html_ab82f408a83ecba10ea39afd8abfd371e"><div class="ttname"><a href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">sip_to_pjsip.info</a></div><div class="ttdeci">def info(msg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d6f/sip__to__pjsip_8py_source.html#l01313">sip_to_pjsip.py:1313</a></div></div>
<div class="ttc" id="bridge_8h_html_a0075715d330c8492e03c6d3ca3f48e13"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a0075715d330c8492e03c6d3ca3f48e13">ast_bridge_depart</a></div><div class="ttdeci">int ast_bridge_depart(struct ast_channel *chan)</div><div class="ttdoc">Depart a channel from a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l01952">bridge.c:1952</a></div></div>
<div class="ttc" id="astobj2_8h_html_ae0422b60d8e25b6962b2d61ae4ddf724"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ae0422b60d8e25b6962b2d61ae4ddf724">ao2_alloc</a></div><div class="ttdeci">#define ao2_alloc(data_size, destructor_fn)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00411">astobj2.h:411</a></div></div>
<div class="ttc" id="channelstate_8h_html_a03585bc87e5bbd0f4d11bc789734c660a5bf03bd84f434acaeefdacb0096e1baa"><div class="ttname"><a href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660a5bf03bd84f434acaeefdacb0096e1baa">AST_STATE_RINGING</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d95/channelstate_8h_source.html#l00041">channelstate.h:41</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a86d2cbfb5a0c115147944a541cc355e0"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a></div><div class="ttdeci">#define CHANNEL_TECH_NAME</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00055">test_cdr.c:55</a></div></div>
<div class="ttc" id="structtest_html"><div class="ttname"><a href="../../d8/d89/structtest.html">test</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d7d/test__logger_8c_source.html#l00043">test_logger.c:43</a></div></div>
<div class="ttc" id="bridge__basic_8h_html_a1410fb71fa67f9ee92f15b18439b7571"><div class="ttname"><a href="../../d4/d1e/bridge__basic_8h.html#a1410fb71fa67f9ee92f15b18439b7571">ast_bridge_basic_new</a></div><div class="ttdeci">struct ast_bridge * ast_bridge_basic_new(void)</div><div class="ttdoc">Create a new basic class bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l03617">bridge_basic.c:3617</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="channel_8h_html_a82f2c6e4d47f62f6b65c5887eb096fd5a36fa77a64746637c77c6b18a7999d0a2"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a82f2c6e4d47f62f6b65c5887eb096fd5a36fa77a64746637c77c6b18a7999d0a2">AST_FLAG_OUTGOING</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01000">channel.h:1000</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a4aab087f903dfe2609a124a828903cb5"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a4aab087f903dfe2609a124a828903cb5">safe_bridge_destroy</a></div><div class="ttdeci">static void safe_bridge_destroy(struct ast_bridge *bridge)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00379">test_cdr.c:379</a></div></div>
<div class="ttc" id="channel_8h_html_acc7e03f08c0df9fe5f5ff801db51224d"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#acc7e03f08c0df9fe5f5ff801db51224d">ast_channel_state_set</a></div><div class="ttdeci">void ast_channel_state_set(struct ast_channel *chan, enum ast_channel_state)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00820">channel_internal_api.c:820</a></div></div>
<div class="ttc" id="cel__pgsql_8c_html_ad6c487210772a9b4b0ca04b04b847d4c"><div class="ttname"><a href="../../de/d1b/cel__pgsql_8c.html#ad6c487210772a9b4b0ca04b04b847d4c">result</a></div><div class="ttdeci">static PGresult * result</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1b/cel__pgsql_8c_source.html#l00088">cel_pgsql.c:88</a></div></div>
<div class="ttc" id="structast__cdr__config_html"><div class="ttname"><a href="../../d4/d69/structast__cdr__config.html">ast_cdr_config</a></div><div class="ttdoc">The global options available for CDRs. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00264">cdr.h:264</a></div></div>
<div class="ttc" id="structast__cdr_html_ab7fd8bddf0ce6987ae5e58fb64cfc9e2"><div class="ttname"><a href="../../d4/d5d/structast__cdr.html#ab7fd8bddf0ce6987ae5e58fb64cfc9e2">ast_cdr::clid</a></div><div class="ttdeci">char clid[AST_MAX_EXTENSION]</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00278">cdr.h:278</a></div></div>
<div class="ttc" id="channel_8h_html_a91de92158876186d28ba1773877f2732"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a91de92158876186d28ba1773877f2732">ast_channel_flags</a></div><div class="ttdeci">struct ast_flags * ast_channel_flags(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l01260">channel_internal_api.c:1260</a></div></div>
<div class="ttc" id="test__cdr_8c_html_ac905defa905925ff383b4bc9d2f89e35"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#ac905defa905925ff383b4bc9d2f89e35">debug_cdr_config</a></div><div class="ttdeci">static struct ast_cdr_config debug_cdr_config</div><div class="ttdoc">A configuration suitable for &amp;#39;normal&amp;#39; CDRs. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00061">test_cdr.c:61</a></div></div>
<div class="ttc" id="channel_8h_html_a2f18aafad0442206e71033ac6676dbb5"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a2f18aafad0442206e71033ac6676dbb5">ast_channel_alloc</a></div><div class="ttdeci">#define ast_channel_alloc(needqueue, state, cid_num, cid_name, acctcode, exten, context, assignedids, requestor, amaflag,...)</div><div class="ttdoc">Create a channel structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01259">channel.h:1259</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a987d4f1e5d92597fac228fa99bcb56be"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a987d4f1e5d92597fac228fa99bcb56be">safe_channel_release</a></div><div class="ttdeci">static void safe_channel_release(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00371">test_cdr.c:371</a></div></div>
<div class="ttc" id="test_8h_html_aad2aec78205d328d23894a6598cc4044"><div class="ttname"><a href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044">ast_test_result_state</a></div><div class="ttdeci">ast_test_result_state</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00200">test.h:200</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a8db988b0dcd6c870153cc85b7ffbf784"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8db988b0dcd6c870153cc85b7ffbf784">&#9670;&nbsp;</a></span>AST_TEST_DEFINE() <span class="overload">[19/24]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AST_TEST_DEFINE </td>
          <td>(</td>
          <td class="paramtype">test_cdr_dial_answer_twoparty_bridge_b&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l01765">1765</a> of file <a class="el" href="../../d7/d8e/test__cdr_8c_source.html">test_cdr.c</a>.</p>

<p class="reference">References <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00216">ALICE_CALLERID</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00411">ao2_alloc</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l01182">AST_AMA_DOCUMENTATION</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l03617">ast_bridge_basic_new()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l01952">ast_bridge_depart()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l01924">ast_bridge_impart()</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00602">AST_BRIDGE_IMPART_CHAN_DEPARTABLE</a>, <a class="el" href="../../d4/da3/causes_8h_source.html#l00150">AST_CAUSE_NORMAL</a>, <a class="el" href="../../dc/d07/cdr_8h_source.html#l00258">AST_CDR_ANSWERED</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l01259">ast_channel_alloc</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l01260">ast_channel_flags()</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l00739">ast_channel_publish_dial()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00820">ast_channel_state_set()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l01000">AST_FLAG_OUTGOING</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00070">ast_set_flag</a>, <a class="el" href="../../d9/d95/channelstate_8h_source.html#l00036">AST_STATE_DOWN</a>, <a class="el" href="../../d9/d95/channelstate_8h_source.html#l00041">AST_STATE_RINGING</a>, <a class="el" href="../../d9/d95/channelstate_8h_source.html#l00042">AST_STATE_UP</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00201">AST_TEST_NOT_RUN</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00055">CHANNEL_TECH_NAME</a>, <a class="el" href="../../dc/d07/cdr_8h_source.html#l00278">ast_cdr::clid</a>, <a class="el" href="../../de/dcc/conf2ael_8c_source.html#l00066">config</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00248">CREATE_ALICE_CHANNEL</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00387">do_sleep()</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00291">EMULATE_APP_DATA</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00303">HANGUP_CHANNEL</a>, <a class="el" href="../../d9/d6f/sip__to__pjsip_8py_source.html#l01313">sip_to_pjsip::info()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00911">RAII_VAR</a>, <a class="el" href="../../de/d1b/cel__pgsql_8c_source.html#l00088">result</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00379">safe_bridge_destroy()</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00371">safe_channel_release()</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00234">SET_FORMATS</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00079">SWAP_CONFIG</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00051">TEST_CATEGORY</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00208">TEST_EXECUTE</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00207">TEST_INIT</a>, and <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00310">verify_mock_cdr_record()</a>.</p>
<div class="fragment"><div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;{</div><div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *, chan_caller, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d7/d8e/test__cdr_8c.html#a987d4f1e5d92597fac228fa99bcb56be">safe_channel_release</a>);</div><div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *, chan_callee, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d7/d8e/test__cdr_8c.html#a987d4f1e5d92597fac228fa99bcb56be">safe_channel_release</a>);</div><div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *, bridge, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d7/d8e/test__cdr_8c.html#a4aab087f903dfe2609a124a828903cb5">safe_bridge_destroy</a>);</div><div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d4/d69/structast__cdr__config.html">ast_cdr_config</a> *, <a class="code" href="../../de/dcc/conf2ael_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#ae0422b60d8e25b6962b2d61ae4ddf724">ao2_alloc</a>(<span class="keyword">sizeof</span>(*<a class="code" href="../../de/dcc/conf2ael_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a>), <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>),</div><div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;         <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;   <span class="keyword">struct </span>timespec <a class="code" href="../../db/dc4/test__cel_8c.html#af600138406d2c64d06bf7dedf447cfc9">to_sleep</a> = {1, 0};</div><div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;   <span class="keyword">enum</span> <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044">ast_test_result_state</a> <a class="code" href="../../de/d1b/cel__pgsql_8c.html#ad6c487210772a9b4b0ca04b04b847d4c">result</a> = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c">AST_TEST_NOT_RUN</a>;</div><div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;</div><div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d77/structast__party__caller.html">ast_party_caller</a> caller = <a class="code" href="../../d7/d8e/test__cdr_8c.html#a8739ae4d4e4305695b4deaebc79986f1">ALICE_CALLERID</a>;</div><div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d5d/structast__cdr.html">ast_cdr</a> expected = {</div><div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;      .<a class="code" href="../../d4/d5d/structast__cdr.html#ab7fd8bddf0ce6987ae5e58fb64cfc9e2">clid</a> = <span class="stringliteral">&quot;\&quot;Alice\&quot; &lt;100&gt;&quot;</span>,</div><div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;      .src = <span class="stringliteral">&quot;100&quot;</span>,</div><div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;      .dst = <span class="stringliteral">&quot;100&quot;</span>,</div><div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;      .dcontext = <span class="stringliteral">&quot;default&quot;</span>,</div><div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;      .channel = <a class="code" href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a> <span class="stringliteral">&quot;/Alice&quot;</span>,</div><div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;      .dstchannel = <a class="code" href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a> <span class="stringliteral">&quot;/Bob&quot;</span>,</div><div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;      .lastapp = <span class="stringliteral">&quot;Dial&quot;</span>,</div><div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;      .lastdata = <a class="code" href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a> <span class="stringliteral">&quot;/Bob&quot;</span>,</div><div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;      .amaflags = <a class="code" href="../../d5/d7b/channel_8h.html#a784b9642d6e2862b04b7f970b337549fa57aa76a632aa16d12a92e43b81c32a68">AST_AMA_DOCUMENTATION</a>,</div><div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;      .billsec = 1,</div><div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;      .disposition = <a class="code" href="../../dc/d07/cdr_8h.html#a53e2666db1174cc83384daf9049023c0ac3e47d059a0e67a03f822f10bb7ec5b1">AST_CDR_ANSWERED</a>,</div><div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;      .accountcode = <span class="stringliteral">&quot;100&quot;</span>,</div><div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;      .peeraccount = <span class="stringliteral">&quot;200&quot;</span>,</div><div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;   };</div><div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;</div><div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;   <span class="keywordflow">switch</span> (cmd) {</div><div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b">TEST_INIT</a>:</div><div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;name = __func__;</div><div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;category = <a class="code" href="../../d7/d8e/test__cdr_8c.html#add35ea2349b86888eef95d404e6faebf">TEST_CATEGORY</a>;</div><div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;summary = <span class="stringliteral">&quot;Test dialing, answering, and going into a 2-party bridge&quot;</span>;</div><div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;description =</div><div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;         <span class="stringliteral">&quot;The most &#39;basic&#39; of scenarios&quot;</span>;</div><div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c">AST_TEST_NOT_RUN</a>;</div><div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e">TEST_EXECUTE</a>:</div><div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;   }</div><div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;</div><div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#a1ccf26b207f6e00ee0ece3e227de42a1">SWAP_CONFIG</a>(<a class="code" href="../../de/dcc/conf2ael_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a>, <a class="code" href="../../d7/d8e/test__cdr_8c.html#ac905defa905925ff383b4bc9d2f89e35">debug_cdr_config</a>);</div><div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;</div><div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#a1ed3332fe918eafa4f3f79c131525249">CREATE_ALICE_CHANNEL</a>(chan_caller, &amp;caller, &amp;expected);</div><div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;</div><div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#ab91bafbff6fa458554e8745276c0b4d3">EMULATE_APP_DATA</a>(chan_caller, 1, <span class="stringliteral">&quot;Dial&quot;</span>, <a class="code" href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a> <span class="stringliteral">&quot;/Bob&quot;</span>);</div><div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;</div><div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;   chan_callee = <a class="code" href="../../d5/d7b/channel_8h.html#a2f18aafad0442206e71033ac6676dbb5">ast_channel_alloc</a>(0, <a class="code" href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660a81348336816e0a2f6f3a76da487a46dc">AST_STATE_DOWN</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="stringliteral">&quot;200&quot;</span>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, chan_caller, 0, <a class="code" href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a> <span class="stringliteral">&quot;/Bob&quot;</span>);</div><div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#a7a53a18000fdffa1da8f2842a6513c87">SET_FORMATS</a>(chan_callee);</div><div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan_callee);</div><div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#ab5033a1f3d781d45e7ccc27598114510">ast_set_flag</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a91de92158876186d28ba1773877f2732">ast_channel_flags</a>(chan_callee), <a class="code" href="../../d5/d7b/channel_8h.html#a82f2c6e4d47f62f6b65c5887eb096fd5a36fa77a64746637c77c6b18a7999d0a2">AST_FLAG_OUTGOING</a>);</div><div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#ab91bafbff6fa458554e8745276c0b4d3">EMULATE_APP_DATA</a>(chan_callee, 0, <span class="stringliteral">&quot;AppDial&quot;</span>, <span class="stringliteral">&quot;(Outgoing Line)&quot;</span>);</div><div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;</div><div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;   <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#ga7d446221f9a272b003c4ad660a7e14dc">ast_channel_publish_dial</a>(chan_caller, chan_callee, <span class="stringliteral">&quot;Bob&quot;</span>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#acc7e03f08c0df9fe5f5ff801db51224d">ast_channel_state_set</a>(chan_caller, <a class="code" href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660a5bf03bd84f434acaeefdacb0096e1baa">AST_STATE_RINGING</a>);</div><div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;   <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#ga7d446221f9a272b003c4ad660a7e14dc">ast_channel_publish_dial</a>(chan_caller, chan_callee, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="stringliteral">&quot;ANSWER&quot;</span>);</div><div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;</div><div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#acc7e03f08c0df9fe5f5ff801db51224d">ast_channel_state_set</a>(chan_caller, <a class="code" href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660aa8ab4bcda7378ccc17c39dfd880cba3d">AST_STATE_UP</a>);</div><div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#acc7e03f08c0df9fe5f5ff801db51224d">ast_channel_state_set</a>(chan_callee, <a class="code" href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660aa8ab4bcda7378ccc17c39dfd880cba3d">AST_STATE_UP</a>);</div><div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;</div><div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;   bridge = <a class="code" href="../../d4/d1e/bridge__basic_8h.html#a1410fb71fa67f9ee92f15b18439b7571">ast_bridge_basic_new</a>();</div><div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;   ast_test_validate(<a class="code" href="../../d8/d89/structtest.html">test</a>, bridge != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#a638dca57ef13cc34a8d584246f5add00">do_sleep</a>(&amp;to_sleep);</div><div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;   ast_test_validate(<a class="code" href="../../d8/d89/structtest.html">test</a>, !<a class="code" href="../../d4/d56/bridge_8h.html#a582e1dd73a483ac881cff01fa07f39ae">ast_bridge_impart</a>(bridge, chan_callee, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d4/d56/bridge_8h.html#ac086b7d74fb40c2ede8514274585b101a01be425a6fb9fefd36905b542e903087">AST_BRIDGE_IMPART_CHAN_DEPARTABLE</a>));</div><div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#a638dca57ef13cc34a8d584246f5add00">do_sleep</a>(&amp;to_sleep);</div><div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;   ast_test_validate(<a class="code" href="../../d8/d89/structtest.html">test</a>, !<a class="code" href="../../d4/d56/bridge_8h.html#a582e1dd73a483ac881cff01fa07f39ae">ast_bridge_impart</a>(bridge, chan_caller, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d4/d56/bridge_8h.html#ac086b7d74fb40c2ede8514274585b101a01be425a6fb9fefd36905b542e903087">AST_BRIDGE_IMPART_CHAN_DEPARTABLE</a>));</div><div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#a638dca57ef13cc34a8d584246f5add00">do_sleep</a>(&amp;to_sleep);</div><div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#a0075715d330c8492e03c6d3ca3f48e13">ast_bridge_depart</a>(chan_caller);</div><div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#a0075715d330c8492e03c6d3ca3f48e13">ast_bridge_depart</a>(chan_callee);</div><div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;</div><div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#ac2b699afc1547e0d4f71ece789ee21e1">HANGUP_CHANNEL</a>(chan_caller, <a class="code" href="../../d4/da3/causes_8h.html#a7858ab2ba4858d98e29f0ea54980313c">AST_CAUSE_NORMAL</a>);</div><div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#ac2b699afc1547e0d4f71ece789ee21e1">HANGUP_CHANNEL</a>(chan_callee, <a class="code" href="../../d4/da3/causes_8h.html#a7858ab2ba4858d98e29f0ea54980313c">AST_CAUSE_NORMAL</a>);</div><div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;</div><div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;   result = <a class="code" href="../../d7/d8e/test__cdr_8c.html#aabfd96ef82edc19b680e65889e005c93">verify_mock_cdr_record</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, &amp;expected, 1);</div><div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../de/d1b/cel__pgsql_8c.html#ad6c487210772a9b4b0ca04b04b847d4c">result</a>;</div><div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;}</div><div class="ttc" id="test__cdr_8c_html_ab91bafbff6fa458554e8745276c0b4d3"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#ab91bafbff6fa458554e8745276c0b4d3">EMULATE_APP_DATA</a></div><div class="ttdeci">#define EMULATE_APP_DATA(channel, priority, application, data)</div><div class="ttdoc">Emulate a channel entering into an application. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00291">test_cdr.c:291</a></div></div>
<div class="ttc" id="structast__channel_html"><div class="ttname"><a href="../../df/d3c/structast__channel.html">ast_channel</a></div><div class="ttdoc">Main Channel structure associated with a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00073">channel_internal_api.c:73</a></div></div>
<div class="ttc" id="channel_8h_html_a784b9642d6e2862b04b7f970b337549fa57aa76a632aa16d12a92e43b81c32a68"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a784b9642d6e2862b04b7f970b337549fa57aa76a632aa16d12a92e43b81c32a68">AST_AMA_DOCUMENTATION</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01182">channel.h:1182</a></div></div>
<div class="ttc" id="channelstate_8h_html_a03585bc87e5bbd0f4d11bc789734c660a81348336816e0a2f6f3a76da487a46dc"><div class="ttname"><a href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660a81348336816e0a2f6f3a76da487a46dc">AST_STATE_DOWN</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d95/channelstate_8h_source.html#l00036">channelstate.h:36</a></div></div>
<div class="ttc" id="conf2ael_8c_html_a74bb62276efdf39dd94048e007fca05b"><div class="ttname"><a href="../../de/dcc/conf2ael_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a></div><div class="ttdeci">char * config</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcc/conf2ael_8c_source.html#l00066">conf2ael.c:66</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a638dca57ef13cc34a8d584246f5add00"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a638dca57ef13cc34a8d584246f5add00">do_sleep</a></div><div class="ttdeci">static void do_sleep(struct timespec *to_sleep)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00387">test_cdr.c:387</a></div></div>
<div class="ttc" id="group__StasisTopicsAndMessages_html_ga7d446221f9a272b003c4ad660a7e14dc"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#ga7d446221f9a272b003c4ad660a7e14dc">ast_channel_publish_dial</a></div><div class="ttdeci">void ast_channel_publish_dial(struct ast_channel *caller, struct ast_channel *peer, const char *dialstring, const char *dialstatus)</div><div class="ttdoc">Publish in the ast_channel_topic or ast_channel_topic_all topics a stasis message for the channels in...</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d2b/stasis__channels_8c_source.html#l00739">stasis_channels.c:739</a></div></div>
<div class="ttc" id="test__cdr_8c_html_add35ea2349b86888eef95d404e6faebf"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#add35ea2349b86888eef95d404e6faebf">TEST_CATEGORY</a></div><div class="ttdeci">#define TEST_CATEGORY</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00051">test_cdr.c:51</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a1ed3332fe918eafa4f3f79c131525249"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a1ed3332fe918eafa4f3f79c131525249">CREATE_ALICE_CHANNEL</a></div><div class="ttdeci">#define CREATE_ALICE_CHANNEL(channel_var, caller_id, expected_record)</div><div class="ttdoc">Create a test_cdr_chan_tech for Alice, and set the expected CDR records&amp;#39; linkedid and uniqueid...</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00248">test_cdr.c:248</a></div></div>
<div class="ttc" id="test_8h_html_a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e">TEST_EXECUTE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00208">test.h:208</a></div></div>
<div class="ttc" id="utils_8h_html_ab5033a1f3d781d45e7ccc27598114510"><div class="ttname"><a href="../../d5/d60/utils_8h.html#ab5033a1f3d781d45e7ccc27598114510">ast_set_flag</a></div><div class="ttdeci">#define ast_set_flag(p, flag)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00070">utils.h:70</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a7a53a18000fdffa1da8f2842a6513c87"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a7a53a18000fdffa1da8f2842a6513c87">SET_FORMATS</a></div><div class="ttdeci">#define SET_FORMATS(chan)</div><div class="ttdoc">Set ulaw format on channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00234">test_cdr.c:234</a></div></div>
<div class="ttc" id="cdr_8h_html_a53e2666db1174cc83384daf9049023c0ac3e47d059a0e67a03f822f10bb7ec5b1"><div class="ttname"><a href="../../dc/d07/cdr_8h.html#a53e2666db1174cc83384daf9049023c0ac3e47d059a0e67a03f822f10bb7ec5b1">AST_CDR_ANSWERED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00258">cdr.h:258</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a1ccf26b207f6e00ee0ece3e227de42a1"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a1ccf26b207f6e00ee0ece3e227de42a1">SWAP_CONFIG</a></div><div class="ttdeci">#define SWAP_CONFIG(ao2_config, template)</div><div class="ttdoc">Macro to swap a configuration out from the CDR engine. This should be used at the beginning of each t...</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00079">test_cdr.c:79</a></div></div>
<div class="ttc" id="channelstate_8h_html_a03585bc87e5bbd0f4d11bc789734c660aa8ab4bcda7378ccc17c39dfd880cba3d"><div class="ttname"><a href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660aa8ab4bcda7378ccc17c39dfd880cba3d">AST_STATE_UP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d95/channelstate_8h_source.html#l00042">channelstate.h:42</a></div></div>
<div class="ttc" id="test__cdr_8c_html_ac2b699afc1547e0d4f71ece789ee21e1"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#ac2b699afc1547e0d4f71ece789ee21e1">HANGUP_CHANNEL</a></div><div class="ttdeci">#define HANGUP_CHANNEL(channel, cause)</div><div class="ttdoc">Hang up a test channel safely. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00303">test_cdr.c:303</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="test_8h_html_a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b">TEST_INIT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00207">test.h:207</a></div></div>
<div class="ttc" id="test__cel_8c_html_af600138406d2c64d06bf7dedf447cfc9"><div class="ttname"><a href="../../db/dc4/test__cel_8c.html#af600138406d2c64d06bf7dedf447cfc9">to_sleep</a></div><div class="ttdeci">static struct timespec to_sleep</div><div class="ttdoc">A 1 second sleep. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/dc4/test__cel_8c_source.html#l00085">test_cel.c:85</a></div></div>
<div class="ttc" id="test_8h_html_aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c"><div class="ttname"><a href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c">AST_TEST_NOT_RUN</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00201">test.h:201</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a8739ae4d4e4305695b4deaebc79986f1"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a8739ae4d4e4305695b4deaebc79986f1">ALICE_CALLERID</a></div><div class="ttdeci">#define ALICE_CALLERID</div><div class="ttdoc">Alice&amp;#39;s Caller ID. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00216">test_cdr.c:216</a></div></div>
<div class="ttc" id="bridge_8h_html_a582e1dd73a483ac881cff01fa07f39ae"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a582e1dd73a483ac881cff01fa07f39ae">ast_bridge_impart</a></div><div class="ttdeci">int ast_bridge_impart(struct ast_bridge *bridge, struct ast_channel *chan, struct ast_channel *swap, struct ast_bridge_features *features, enum ast_bridge_impart_flags flags) attribute_warn_unused_result</div><div class="ttdoc">Impart a channel to a bridge (non-blocking) </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l01924">bridge.c:1924</a></div></div>
<div class="ttc" id="utils_8h_html_a1604b4d72144dd3d9f7da668e90337e9"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a></div><div class="ttdeci">#define RAII_VAR(vartype, varname, initval, dtor)</div><div class="ttdoc">Declare a variable that will call a destructor function when it goes out of scope. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00911">utils.h:911</a></div></div>
<div class="ttc" id="structast__party__caller_html"><div class="ttname"><a href="../../d4/d77/structast__party__caller.html">ast_party_caller</a></div><div class="ttdoc">Caller Party information. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l00419">channel.h:419</a></div></div>
<div class="ttc" id="bridge_8h_html_ac086b7d74fb40c2ede8514274585b101a01be425a6fb9fefd36905b542e903087"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#ac086b7d74fb40c2ede8514274585b101a01be425a6fb9fefd36905b542e903087">AST_BRIDGE_IMPART_CHAN_DEPARTABLE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00602">bridge.h:602</a></div></div>
<div class="ttc" id="test__cdr_8c_html_aabfd96ef82edc19b680e65889e005c93"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#aabfd96ef82edc19b680e65889e005c93">verify_mock_cdr_record</a></div><div class="ttdeci">static enum ast_test_result_state verify_mock_cdr_record(struct ast_test *test, struct ast_cdr *expected, int record)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00310">test_cdr.c:310</a></div></div>
<div class="ttc" id="causes_8h_html_a7858ab2ba4858d98e29f0ea54980313c"><div class="ttname"><a href="../../d4/da3/causes_8h.html#a7858ab2ba4858d98e29f0ea54980313c">AST_CAUSE_NORMAL</a></div><div class="ttdeci">#define AST_CAUSE_NORMAL</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/da3/causes_8h_source.html#l00150">causes.h:150</a></div></div>
<div class="ttc" id="structast__cdr_html"><div class="ttname"><a href="../../d4/d5d/structast__cdr.html">ast_cdr</a></div><div class="ttdoc">Responsible for call detail data. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00276">cdr.h:276</a></div></div>
<div class="ttc" id="structast__bridge_html"><div class="ttname"><a href="../../d4/d84/structast__bridge.html">ast_bridge</a></div><div class="ttdoc">Structure that contains information about a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00357">bridge.h:357</a></div></div>
<div class="ttc" id="namespacesip__to__pjsip_html_ab82f408a83ecba10ea39afd8abfd371e"><div class="ttname"><a href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">sip_to_pjsip.info</a></div><div class="ttdeci">def info(msg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d6f/sip__to__pjsip_8py_source.html#l01313">sip_to_pjsip.py:1313</a></div></div>
<div class="ttc" id="bridge_8h_html_a0075715d330c8492e03c6d3ca3f48e13"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a0075715d330c8492e03c6d3ca3f48e13">ast_bridge_depart</a></div><div class="ttdeci">int ast_bridge_depart(struct ast_channel *chan)</div><div class="ttdoc">Depart a channel from a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l01952">bridge.c:1952</a></div></div>
<div class="ttc" id="astobj2_8h_html_ae0422b60d8e25b6962b2d61ae4ddf724"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ae0422b60d8e25b6962b2d61ae4ddf724">ao2_alloc</a></div><div class="ttdeci">#define ao2_alloc(data_size, destructor_fn)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00411">astobj2.h:411</a></div></div>
<div class="ttc" id="channelstate_8h_html_a03585bc87e5bbd0f4d11bc789734c660a5bf03bd84f434acaeefdacb0096e1baa"><div class="ttname"><a href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660a5bf03bd84f434acaeefdacb0096e1baa">AST_STATE_RINGING</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d95/channelstate_8h_source.html#l00041">channelstate.h:41</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a86d2cbfb5a0c115147944a541cc355e0"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a></div><div class="ttdeci">#define CHANNEL_TECH_NAME</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00055">test_cdr.c:55</a></div></div>
<div class="ttc" id="structtest_html"><div class="ttname"><a href="../../d8/d89/structtest.html">test</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d7d/test__logger_8c_source.html#l00043">test_logger.c:43</a></div></div>
<div class="ttc" id="bridge__basic_8h_html_a1410fb71fa67f9ee92f15b18439b7571"><div class="ttname"><a href="../../d4/d1e/bridge__basic_8h.html#a1410fb71fa67f9ee92f15b18439b7571">ast_bridge_basic_new</a></div><div class="ttdeci">struct ast_bridge * ast_bridge_basic_new(void)</div><div class="ttdoc">Create a new basic class bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l03617">bridge_basic.c:3617</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="channel_8h_html_a82f2c6e4d47f62f6b65c5887eb096fd5a36fa77a64746637c77c6b18a7999d0a2"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a82f2c6e4d47f62f6b65c5887eb096fd5a36fa77a64746637c77c6b18a7999d0a2">AST_FLAG_OUTGOING</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01000">channel.h:1000</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a4aab087f903dfe2609a124a828903cb5"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a4aab087f903dfe2609a124a828903cb5">safe_bridge_destroy</a></div><div class="ttdeci">static void safe_bridge_destroy(struct ast_bridge *bridge)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00379">test_cdr.c:379</a></div></div>
<div class="ttc" id="channel_8h_html_acc7e03f08c0df9fe5f5ff801db51224d"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#acc7e03f08c0df9fe5f5ff801db51224d">ast_channel_state_set</a></div><div class="ttdeci">void ast_channel_state_set(struct ast_channel *chan, enum ast_channel_state)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00820">channel_internal_api.c:820</a></div></div>
<div class="ttc" id="cel__pgsql_8c_html_ad6c487210772a9b4b0ca04b04b847d4c"><div class="ttname"><a href="../../de/d1b/cel__pgsql_8c.html#ad6c487210772a9b4b0ca04b04b847d4c">result</a></div><div class="ttdeci">static PGresult * result</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1b/cel__pgsql_8c_source.html#l00088">cel_pgsql.c:88</a></div></div>
<div class="ttc" id="structast__cdr__config_html"><div class="ttname"><a href="../../d4/d69/structast__cdr__config.html">ast_cdr_config</a></div><div class="ttdoc">The global options available for CDRs. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00264">cdr.h:264</a></div></div>
<div class="ttc" id="structast__cdr_html_ab7fd8bddf0ce6987ae5e58fb64cfc9e2"><div class="ttname"><a href="../../d4/d5d/structast__cdr.html#ab7fd8bddf0ce6987ae5e58fb64cfc9e2">ast_cdr::clid</a></div><div class="ttdeci">char clid[AST_MAX_EXTENSION]</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00278">cdr.h:278</a></div></div>
<div class="ttc" id="channel_8h_html_a91de92158876186d28ba1773877f2732"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a91de92158876186d28ba1773877f2732">ast_channel_flags</a></div><div class="ttdeci">struct ast_flags * ast_channel_flags(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l01260">channel_internal_api.c:1260</a></div></div>
<div class="ttc" id="test__cdr_8c_html_ac905defa905925ff383b4bc9d2f89e35"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#ac905defa905925ff383b4bc9d2f89e35">debug_cdr_config</a></div><div class="ttdeci">static struct ast_cdr_config debug_cdr_config</div><div class="ttdoc">A configuration suitable for &amp;#39;normal&amp;#39; CDRs. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00061">test_cdr.c:61</a></div></div>
<div class="ttc" id="channel_8h_html_a2f18aafad0442206e71033ac6676dbb5"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a2f18aafad0442206e71033ac6676dbb5">ast_channel_alloc</a></div><div class="ttdeci">#define ast_channel_alloc(needqueue, state, cid_num, cid_name, acctcode, exten, context, assignedids, requestor, amaflag,...)</div><div class="ttdoc">Create a channel structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01259">channel.h:1259</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a987d4f1e5d92597fac228fa99bcb56be"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a987d4f1e5d92597fac228fa99bcb56be">safe_channel_release</a></div><div class="ttdeci">static void safe_channel_release(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00371">test_cdr.c:371</a></div></div>
<div class="ttc" id="test_8h_html_aad2aec78205d328d23894a6598cc4044"><div class="ttname"><a href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044">ast_test_result_state</a></div><div class="ttdeci">ast_test_result_state</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00200">test.h:200</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a4af5a1e1305a59ce43a6874f3763c6df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4af5a1e1305a59ce43a6874f3763c6df">&#9670;&nbsp;</a></span>AST_TEST_DEFINE() <span class="overload">[20/24]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AST_TEST_DEFINE </td>
          <td>(</td>
          <td class="paramtype">test_cdr_dial_answer_multiparty&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l01840">1840</a> of file <a class="el" href="../../d7/d8e/test__cdr_8c_source.html">test_cdr.c</a>.</p>

<p class="reference">References <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00216">ALICE_CALLERID</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00411">ao2_alloc</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l01182">AST_AMA_DOCUMENTATION</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l03617">ast_bridge_basic_new()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l01952">ast_bridge_depart()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l01924">ast_bridge_impart()</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00602">AST_BRIDGE_IMPART_CHAN_DEPARTABLE</a>, <a class="el" href="../../d4/da3/causes_8h_source.html#l00150">AST_CAUSE_NORMAL</a>, <a class="el" href="../../dc/d07/cdr_8h_source.html#l00258">AST_CDR_ANSWERED</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l01259">ast_channel_alloc</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l01260">ast_channel_flags()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00311">ast_channel_linkedid()</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l00739">ast_channel_publish_dial()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00820">ast_channel_state_set()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00305">ast_channel_uniqueid()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00401">ast_copy_string()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l01000">AST_FLAG_OUTGOING</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00070">ast_set_flag</a>, <a class="el" href="../../d9/d95/channelstate_8h_source.html#l00036">AST_STATE_DOWN</a>, <a class="el" href="../../d9/d95/channelstate_8h_source.html#l00041">AST_STATE_RINGING</a>, <a class="el" href="../../d9/d95/channelstate_8h_source.html#l00042">AST_STATE_UP</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00201">AST_TEST_NOT_RUN</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00055">CHANNEL_TECH_NAME</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00222">CHARLIE_CALLERID</a>, <a class="el" href="../../dc/d07/cdr_8h_source.html#l00278">ast_cdr::clid</a>, <a class="el" href="../../de/dcc/conf2ael_8c_source.html#l00066">config</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00228">COPY_IDS</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00248">CREATE_ALICE_CHANNEL</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00270">CREATE_CHARLIE_CHANNEL</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00387">do_sleep()</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00291">EMULATE_APP_DATA</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00303">HANGUP_CHANNEL</a>, <a class="el" href="../../d9/d6f/sip__to__pjsip_8py_source.html#l01313">sip_to_pjsip::info()</a>, <a class="el" href="../../dc/d07/cdr_8h_source.html#l00316">ast_cdr::linkedid</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00911">RAII_VAR</a>, <a class="el" href="../../de/d1b/cel__pgsql_8c_source.html#l00088">result</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00379">safe_bridge_destroy()</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00371">safe_channel_release()</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00234">SET_FORMATS</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00079">SWAP_CONFIG</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00051">TEST_CATEGORY</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00208">TEST_EXECUTE</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00207">TEST_INIT</a>, <a class="el" href="../../dc/d07/cdr_8h_source.html#l00314">ast_cdr::uniqueid</a>, and <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00310">verify_mock_cdr_record()</a>.</p>
<div class="fragment"><div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;{</div><div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *, chan_alice, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d7/d8e/test__cdr_8c.html#a987d4f1e5d92597fac228fa99bcb56be">safe_channel_release</a>);</div><div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *, chan_bob, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d7/d8e/test__cdr_8c.html#a987d4f1e5d92597fac228fa99bcb56be">safe_channel_release</a>);</div><div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *, chan_charlie, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d7/d8e/test__cdr_8c.html#a987d4f1e5d92597fac228fa99bcb56be">safe_channel_release</a>);</div><div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *, chan_david, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d7/d8e/test__cdr_8c.html#a987d4f1e5d92597fac228fa99bcb56be">safe_channel_release</a>);</div><div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *, bridge, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d7/d8e/test__cdr_8c.html#a4aab087f903dfe2609a124a828903cb5">safe_bridge_destroy</a>);</div><div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d4/d69/structast__cdr__config.html">ast_cdr_config</a> *, <a class="code" href="../../de/dcc/conf2ael_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#ae0422b60d8e25b6962b2d61ae4ddf724">ao2_alloc</a>(<span class="keyword">sizeof</span>(*<a class="code" href="../../de/dcc/conf2ael_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a>), <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>),</div><div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;         <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;   <span class="keyword">struct </span>timespec <a class="code" href="../../db/dc4/test__cel_8c.html#af600138406d2c64d06bf7dedf447cfc9">to_sleep</a> = {1, 0};</div><div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;   <span class="keyword">enum</span> <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044">ast_test_result_state</a> <a class="code" href="../../de/d1b/cel__pgsql_8c.html#ad6c487210772a9b4b0ca04b04b847d4c">result</a> = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c">AST_TEST_NOT_RUN</a>;</div><div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;</div><div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d77/structast__party__caller.html">ast_party_caller</a> alice_caller = <a class="code" href="../../d7/d8e/test__cdr_8c.html#a8739ae4d4e4305695b4deaebc79986f1">ALICE_CALLERID</a>;</div><div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d77/structast__party__caller.html">ast_party_caller</a> charlie_caller = <a class="code" href="../../d7/d8e/test__cdr_8c.html#afc59c481b016881543bd3d3e66863116">CHARLIE_CALLERID</a>;</div><div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d5d/structast__cdr.html">ast_cdr</a> charlie_expected_two = {</div><div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;      .<a class="code" href="../../d4/d5d/structast__cdr.html#ab7fd8bddf0ce6987ae5e58fb64cfc9e2">clid</a> = <span class="stringliteral">&quot;\&quot;Charlie\&quot; &lt;300&gt;&quot;</span>,</div><div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;      .src = <span class="stringliteral">&quot;300&quot;</span>,</div><div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;      .dst = <span class="stringliteral">&quot;300&quot;</span>,</div><div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;      .dcontext = <span class="stringliteral">&quot;default&quot;</span>,</div><div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;      .channel = <a class="code" href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a> <span class="stringliteral">&quot;/Charlie&quot;</span>,</div><div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;      .dstchannel = <a class="code" href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a> <span class="stringliteral">&quot;/Bob&quot;</span>,</div><div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;      .lastapp = <span class="stringliteral">&quot;Dial&quot;</span>,</div><div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;      .lastdata = <a class="code" href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a> <span class="stringliteral">&quot;/David&quot;</span>,</div><div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;      .amaflags = <a class="code" href="../../d5/d7b/channel_8h.html#a784b9642d6e2862b04b7f970b337549fa57aa76a632aa16d12a92e43b81c32a68">AST_AMA_DOCUMENTATION</a>,</div><div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;      .billsec = 1,</div><div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;      .disposition = <a class="code" href="../../dc/d07/cdr_8h.html#a53e2666db1174cc83384daf9049023c0ac3e47d059a0e67a03f822f10bb7ec5b1">AST_CDR_ANSWERED</a>,</div><div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;      .accountcode = <span class="stringliteral">&quot;300&quot;</span>,</div><div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;      .peeraccount = <span class="stringliteral">&quot;200&quot;</span>,</div><div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;   };</div><div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d5d/structast__cdr.html">ast_cdr</a> charlie_expected_one = {</div><div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;      .<a class="code" href="../../d4/d5d/structast__cdr.html#ab7fd8bddf0ce6987ae5e58fb64cfc9e2">clid</a> = <span class="stringliteral">&quot;\&quot;Charlie\&quot; &lt;300&gt;&quot;</span>,</div><div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;      .src = <span class="stringliteral">&quot;300&quot;</span>,</div><div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;      .dst = <span class="stringliteral">&quot;300&quot;</span>,</div><div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;      .dcontext = <span class="stringliteral">&quot;default&quot;</span>,</div><div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;      .channel = <a class="code" href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a> <span class="stringliteral">&quot;/Charlie&quot;</span>,</div><div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;      .dstchannel = <a class="code" href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a> <span class="stringliteral">&quot;/David&quot;</span>,</div><div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;      .lastapp = <span class="stringliteral">&quot;Dial&quot;</span>,</div><div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;      .lastdata = <a class="code" href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a> <span class="stringliteral">&quot;/David&quot;</span>,</div><div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;      .amaflags = <a class="code" href="../../d5/d7b/channel_8h.html#a784b9642d6e2862b04b7f970b337549fa57aa76a632aa16d12a92e43b81c32a68">AST_AMA_DOCUMENTATION</a>,</div><div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;      .billsec = 1,</div><div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;      .disposition = <a class="code" href="../../dc/d07/cdr_8h.html#a53e2666db1174cc83384daf9049023c0ac3e47d059a0e67a03f822f10bb7ec5b1">AST_CDR_ANSWERED</a>,</div><div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;      .accountcode = <span class="stringliteral">&quot;300&quot;</span>,</div><div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;      .peeraccount = <span class="stringliteral">&quot;400&quot;</span>,</div><div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;      .next = &amp;charlie_expected_two,</div><div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;   };</div><div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d5d/structast__cdr.html">ast_cdr</a> bob_expected_one = {</div><div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;      .<a class="code" href="../../d4/d5d/structast__cdr.html#ab7fd8bddf0ce6987ae5e58fb64cfc9e2">clid</a> = <span class="stringliteral">&quot;\&quot;Bob\&quot; &lt;200&gt;&quot;</span>,</div><div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;      .src = <span class="stringliteral">&quot;200&quot;</span>,</div><div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;      .dst = <span class="stringliteral">&quot;200&quot;</span>,</div><div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;      .dcontext = <span class="stringliteral">&quot;default&quot;</span>,</div><div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;      .channel = <a class="code" href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a> <span class="stringliteral">&quot;/Bob&quot;</span>,</div><div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;      .dstchannel = <a class="code" href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a> <span class="stringliteral">&quot;/David&quot;</span>,</div><div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;      .lastapp = <span class="stringliteral">&quot;AppDial&quot;</span>,</div><div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;      .lastdata = <span class="stringliteral">&quot;(Outgoing Line)&quot;</span>,</div><div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;      .amaflags = <a class="code" href="../../d5/d7b/channel_8h.html#a784b9642d6e2862b04b7f970b337549fa57aa76a632aa16d12a92e43b81c32a68">AST_AMA_DOCUMENTATION</a>,</div><div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;      .billsec = 1,</div><div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;      .disposition = <a class="code" href="../../dc/d07/cdr_8h.html#a53e2666db1174cc83384daf9049023c0ac3e47d059a0e67a03f822f10bb7ec5b1">AST_CDR_ANSWERED</a>,</div><div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;      .accountcode = <span class="stringliteral">&quot;200&quot;</span>,</div><div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;      .peeraccount = <span class="stringliteral">&quot;400&quot;</span>,</div><div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;      .next = &amp;charlie_expected_one,</div><div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;   };</div><div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d5d/structast__cdr.html">ast_cdr</a> alice_expected_three = {</div><div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;      .<a class="code" href="../../d4/d5d/structast__cdr.html#ab7fd8bddf0ce6987ae5e58fb64cfc9e2">clid</a> = <span class="stringliteral">&quot;\&quot;Alice\&quot; &lt;100&gt;&quot;</span>,</div><div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;      .src = <span class="stringliteral">&quot;100&quot;</span>,</div><div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;      .dst = <span class="stringliteral">&quot;100&quot;</span>,</div><div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;      .dcontext = <span class="stringliteral">&quot;default&quot;</span>,</div><div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;      .channel = <a class="code" href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a> <span class="stringliteral">&quot;/Alice&quot;</span>,</div><div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;      .dstchannel = <a class="code" href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a> <span class="stringliteral">&quot;/David&quot;</span>,</div><div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;      .lastapp = <span class="stringliteral">&quot;Dial&quot;</span>,</div><div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;      .lastdata = <a class="code" href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a> <span class="stringliteral">&quot;/Bob&quot;</span>,</div><div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;      .amaflags = <a class="code" href="../../d5/d7b/channel_8h.html#a784b9642d6e2862b04b7f970b337549fa57aa76a632aa16d12a92e43b81c32a68">AST_AMA_DOCUMENTATION</a>,</div><div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;      .billsec = 1,</div><div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;      .disposition = <a class="code" href="../../dc/d07/cdr_8h.html#a53e2666db1174cc83384daf9049023c0ac3e47d059a0e67a03f822f10bb7ec5b1">AST_CDR_ANSWERED</a>,</div><div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;      .accountcode = <span class="stringliteral">&quot;100&quot;</span>,</div><div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;      .peeraccount = <span class="stringliteral">&quot;400&quot;</span>,</div><div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;      .next = &amp;bob_expected_one,</div><div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;   };</div><div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d5d/structast__cdr.html">ast_cdr</a> alice_expected_two = {</div><div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;      .<a class="code" href="../../d4/d5d/structast__cdr.html#ab7fd8bddf0ce6987ae5e58fb64cfc9e2">clid</a> = <span class="stringliteral">&quot;\&quot;Alice\&quot; &lt;100&gt;&quot;</span>,</div><div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;      .src = <span class="stringliteral">&quot;100&quot;</span>,</div><div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160;      .dst = <span class="stringliteral">&quot;100&quot;</span>,</div><div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;      .dcontext = <span class="stringliteral">&quot;default&quot;</span>,</div><div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;      .channel = <a class="code" href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a> <span class="stringliteral">&quot;/Alice&quot;</span>,</div><div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;      .dstchannel = <a class="code" href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a> <span class="stringliteral">&quot;/Charlie&quot;</span>,</div><div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;      .lastapp = <span class="stringliteral">&quot;Dial&quot;</span>,</div><div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;      .lastdata = <a class="code" href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a> <span class="stringliteral">&quot;/Bob&quot;</span>,</div><div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;      .amaflags = <a class="code" href="../../d5/d7b/channel_8h.html#a784b9642d6e2862b04b7f970b337549fa57aa76a632aa16d12a92e43b81c32a68">AST_AMA_DOCUMENTATION</a>,</div><div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;      .billsec = 1,</div><div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;      .disposition = <a class="code" href="../../dc/d07/cdr_8h.html#a53e2666db1174cc83384daf9049023c0ac3e47d059a0e67a03f822f10bb7ec5b1">AST_CDR_ANSWERED</a>,</div><div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;      .accountcode = <span class="stringliteral">&quot;100&quot;</span>,</div><div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;      .peeraccount = <span class="stringliteral">&quot;300&quot;</span>,</div><div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160;      .next = &amp;alice_expected_three,</div><div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;   };</div><div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d5d/structast__cdr.html">ast_cdr</a> alice_expected_one = {</div><div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;      .<a class="code" href="../../d4/d5d/structast__cdr.html#ab7fd8bddf0ce6987ae5e58fb64cfc9e2">clid</a> = <span class="stringliteral">&quot;\&quot;Alice\&quot; &lt;100&gt;&quot;</span>,</div><div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;      .src = <span class="stringliteral">&quot;100&quot;</span>,</div><div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;      .dst = <span class="stringliteral">&quot;100&quot;</span>,</div><div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;      .dcontext = <span class="stringliteral">&quot;default&quot;</span>,</div><div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;      .channel = <a class="code" href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a> <span class="stringliteral">&quot;/Alice&quot;</span>,</div><div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;      .dstchannel = <a class="code" href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a> <span class="stringliteral">&quot;/Bob&quot;</span>,</div><div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;      .lastapp = <span class="stringliteral">&quot;Dial&quot;</span>,</div><div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160;      .lastdata = <a class="code" href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a> <span class="stringliteral">&quot;/Bob&quot;</span>,</div><div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;      .amaflags = <a class="code" href="../../d5/d7b/channel_8h.html#a784b9642d6e2862b04b7f970b337549fa57aa76a632aa16d12a92e43b81c32a68">AST_AMA_DOCUMENTATION</a>,</div><div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160;      .billsec = 1,</div><div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;      .disposition = <a class="code" href="../../dc/d07/cdr_8h.html#a53e2666db1174cc83384daf9049023c0ac3e47d059a0e67a03f822f10bb7ec5b1">AST_CDR_ANSWERED</a>,</div><div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;      .accountcode = <span class="stringliteral">&quot;100&quot;</span>,</div><div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;      .peeraccount = <span class="stringliteral">&quot;200&quot;</span>,</div><div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;      .next = &amp;alice_expected_two,</div><div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160;   };</div><div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;</div><div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;   <span class="keywordflow">switch</span> (cmd) {</div><div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b">TEST_INIT</a>:</div><div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;name = __func__;</div><div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;category = <a class="code" href="../../d7/d8e/test__cdr_8c.html#add35ea2349b86888eef95d404e6faebf">TEST_CATEGORY</a>;</div><div class="line"><a name="l01954"></a><span class="lineno"> 1954</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;summary = <span class="stringliteral">&quot;Test dialing, answering, and going into a multi-party bridge&quot;</span>;</div><div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;description =</div><div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160;         <span class="stringliteral">&quot;A little tricky to get to do, but possible with some redirects.&quot;</span>;</div><div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c">AST_TEST_NOT_RUN</a>;</div><div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e">TEST_EXECUTE</a>:</div><div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160;   }</div><div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160;</div><div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#a1ccf26b207f6e00ee0ece3e227de42a1">SWAP_CONFIG</a>(<a class="code" href="../../de/dcc/conf2ael_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a>, <a class="code" href="../../d7/d8e/test__cdr_8c.html#ac905defa905925ff383b4bc9d2f89e35">debug_cdr_config</a>);</div><div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160;</div><div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#a1ed3332fe918eafa4f3f79c131525249">CREATE_ALICE_CHANNEL</a>(chan_alice, &amp;alice_caller, &amp;alice_expected_one);</div><div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#a0710872fe26e286bc89c24db3288f74f">COPY_IDS</a>(chan_alice, &amp;alice_expected_two);</div><div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#a0710872fe26e286bc89c24db3288f74f">COPY_IDS</a>(chan_alice, &amp;alice_expected_three);</div><div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;</div><div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#ab91bafbff6fa458554e8745276c0b4d3">EMULATE_APP_DATA</a>(chan_alice, 1, <span class="stringliteral">&quot;Dial&quot;</span>, <a class="code" href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a> <span class="stringliteral">&quot;/Bob&quot;</span>);</div><div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160;</div><div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;   chan_bob = <a class="code" href="../../d5/d7b/channel_8h.html#a2f18aafad0442206e71033ac6676dbb5">ast_channel_alloc</a>(0, <a class="code" href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660a81348336816e0a2f6f3a76da487a46dc">AST_STATE_DOWN</a>, <span class="stringliteral">&quot;200&quot;</span>, <span class="stringliteral">&quot;Bob&quot;</span>, <span class="stringliteral">&quot;200&quot;</span>, <span class="stringliteral">&quot;200&quot;</span>, <span class="stringliteral">&quot;default&quot;</span>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0, <a class="code" href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a> <span class="stringliteral">&quot;/Bob&quot;</span>);</div><div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#a7a53a18000fdffa1da8f2842a6513c87">SET_FORMATS</a>(chan_bob);</div><div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan_bob);</div><div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#ab5033a1f3d781d45e7ccc27598114510">ast_set_flag</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a91de92158876186d28ba1773877f2732">ast_channel_flags</a>(chan_bob), <a class="code" href="../../d5/d7b/channel_8h.html#a82f2c6e4d47f62f6b65c5887eb096fd5a36fa77a64746637c77c6b18a7999d0a2">AST_FLAG_OUTGOING</a>);</div><div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#ab91bafbff6fa458554e8745276c0b4d3">EMULATE_APP_DATA</a>(chan_bob, 0, <span class="stringliteral">&quot;AppDial&quot;</span>, <span class="stringliteral">&quot;(Outgoing Line)&quot;</span>);</div><div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160;   <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(bob_expected_one.<a class="code" href="../../d4/d5d/structast__cdr.html#ac733390e45613f1287d0b1b95e8d18ea">uniqueid</a>, <a class="code" href="../../d5/d7b/channel_8h.html#a3b6254f6d3832ef928f0a727113b1c63">ast_channel_uniqueid</a>(chan_bob), <span class="keyword">sizeof</span>(bob_expected_one.<a class="code" href="../../d4/d5d/structast__cdr.html#ac733390e45613f1287d0b1b95e8d18ea">uniqueid</a>));</div><div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;   <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(bob_expected_one.<a class="code" href="../../d4/d5d/structast__cdr.html#a2979e8d95424c018bf2c830b28a199d0">linkedid</a>, <a class="code" href="../../d5/d7b/channel_8h.html#aa776071546e0bb0eb8cfc4c3a3159dfc">ast_channel_linkedid</a>(chan_alice), <span class="keyword">sizeof</span>(bob_expected_one.<a class="code" href="../../d4/d5d/structast__cdr.html#a2979e8d95424c018bf2c830b28a199d0">linkedid</a>));</div><div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160;</div><div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#a845d7068c209f64f63c1c10989b56f18">CREATE_CHARLIE_CHANNEL</a>(chan_charlie, &amp;charlie_caller, &amp;charlie_expected_one);</div><div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#ab91bafbff6fa458554e8745276c0b4d3">EMULATE_APP_DATA</a>(chan_charlie, 1, <span class="stringliteral">&quot;Dial&quot;</span>, <a class="code" href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a> <span class="stringliteral">&quot;/David&quot;</span>);</div><div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;   <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(charlie_expected_one.<a class="code" href="../../d4/d5d/structast__cdr.html#ac733390e45613f1287d0b1b95e8d18ea">uniqueid</a>, <a class="code" href="../../d5/d7b/channel_8h.html#a3b6254f6d3832ef928f0a727113b1c63">ast_channel_uniqueid</a>(chan_charlie), <span class="keyword">sizeof</span>(charlie_expected_one.<a class="code" href="../../d4/d5d/structast__cdr.html#ac733390e45613f1287d0b1b95e8d18ea">uniqueid</a>));</div><div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;   <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(charlie_expected_one.<a class="code" href="../../d4/d5d/structast__cdr.html#a2979e8d95424c018bf2c830b28a199d0">linkedid</a>, <a class="code" href="../../d5/d7b/channel_8h.html#aa776071546e0bb0eb8cfc4c3a3159dfc">ast_channel_linkedid</a>(chan_alice), <span class="keyword">sizeof</span>(charlie_expected_one.<a class="code" href="../../d4/d5d/structast__cdr.html#a2979e8d95424c018bf2c830b28a199d0">linkedid</a>));</div><div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160;   <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(charlie_expected_two.<a class="code" href="../../d4/d5d/structast__cdr.html#ac733390e45613f1287d0b1b95e8d18ea">uniqueid</a>, <a class="code" href="../../d5/d7b/channel_8h.html#a3b6254f6d3832ef928f0a727113b1c63">ast_channel_uniqueid</a>(chan_charlie), <span class="keyword">sizeof</span>(charlie_expected_two.<a class="code" href="../../d4/d5d/structast__cdr.html#ac733390e45613f1287d0b1b95e8d18ea">uniqueid</a>));</div><div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160;   <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(charlie_expected_two.<a class="code" href="../../d4/d5d/structast__cdr.html#a2979e8d95424c018bf2c830b28a199d0">linkedid</a>, <a class="code" href="../../d5/d7b/channel_8h.html#aa776071546e0bb0eb8cfc4c3a3159dfc">ast_channel_linkedid</a>(chan_alice), <span class="keyword">sizeof</span>(charlie_expected_two.<a class="code" href="../../d4/d5d/structast__cdr.html#a2979e8d95424c018bf2c830b28a199d0">linkedid</a>));</div><div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160;</div><div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160;   chan_david = <a class="code" href="../../d5/d7b/channel_8h.html#a2f18aafad0442206e71033ac6676dbb5">ast_channel_alloc</a>(0, <a class="code" href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660a81348336816e0a2f6f3a76da487a46dc">AST_STATE_DOWN</a>, <span class="stringliteral">&quot;400&quot;</span>, <span class="stringliteral">&quot;David&quot;</span>, <span class="stringliteral">&quot;400&quot;</span>, <span class="stringliteral">&quot;400&quot;</span>, <span class="stringliteral">&quot;default&quot;</span>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0, <a class="code" href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a> <span class="stringliteral">&quot;/David&quot;</span>);</div><div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#a7a53a18000fdffa1da8f2842a6513c87">SET_FORMATS</a>(chan_david);</div><div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan_david);</div><div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#ab5033a1f3d781d45e7ccc27598114510">ast_set_flag</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a91de92158876186d28ba1773877f2732">ast_channel_flags</a>(chan_david), <a class="code" href="../../d5/d7b/channel_8h.html#a82f2c6e4d47f62f6b65c5887eb096fd5a36fa77a64746637c77c6b18a7999d0a2">AST_FLAG_OUTGOING</a>);</div><div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#ab91bafbff6fa458554e8745276c0b4d3">EMULATE_APP_DATA</a>(chan_david, 0, <span class="stringliteral">&quot;AppDial&quot;</span>, <span class="stringliteral">&quot;(Outgoing Line)&quot;</span>);</div><div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;</div><div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;   <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#ga7d446221f9a272b003c4ad660a7e14dc">ast_channel_publish_dial</a>(chan_alice, chan_bob, <span class="stringliteral">&quot;Bob&quot;</span>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#acc7e03f08c0df9fe5f5ff801db51224d">ast_channel_state_set</a>(chan_alice, <a class="code" href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660a5bf03bd84f434acaeefdacb0096e1baa">AST_STATE_RINGING</a>);</div><div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;   <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#ga7d446221f9a272b003c4ad660a7e14dc">ast_channel_publish_dial</a>(chan_charlie, chan_david, <span class="stringliteral">&quot;David&quot;</span>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#acc7e03f08c0df9fe5f5ff801db51224d">ast_channel_state_set</a>(chan_charlie, <a class="code" href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660a5bf03bd84f434acaeefdacb0096e1baa">AST_STATE_RINGING</a>);</div><div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;   <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#ga7d446221f9a272b003c4ad660a7e14dc">ast_channel_publish_dial</a>(chan_alice, chan_bob, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="stringliteral">&quot;ANSWER&quot;</span>);</div><div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;   <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#ga7d446221f9a272b003c4ad660a7e14dc">ast_channel_publish_dial</a>(chan_charlie, chan_david, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="stringliteral">&quot;ANSWER&quot;</span>);</div><div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;</div><div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#acc7e03f08c0df9fe5f5ff801db51224d">ast_channel_state_set</a>(chan_alice, <a class="code" href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660aa8ab4bcda7378ccc17c39dfd880cba3d">AST_STATE_UP</a>);</div><div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#acc7e03f08c0df9fe5f5ff801db51224d">ast_channel_state_set</a>(chan_bob, <a class="code" href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660aa8ab4bcda7378ccc17c39dfd880cba3d">AST_STATE_UP</a>);</div><div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#acc7e03f08c0df9fe5f5ff801db51224d">ast_channel_state_set</a>(chan_charlie, <a class="code" href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660aa8ab4bcda7378ccc17c39dfd880cba3d">AST_STATE_UP</a>);</div><div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#acc7e03f08c0df9fe5f5ff801db51224d">ast_channel_state_set</a>(chan_david, <a class="code" href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660aa8ab4bcda7378ccc17c39dfd880cba3d">AST_STATE_UP</a>);</div><div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;</div><div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;   bridge = <a class="code" href="../../d4/d1e/bridge__basic_8h.html#a1410fb71fa67f9ee92f15b18439b7571">ast_bridge_basic_new</a>();</div><div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160;   ast_test_validate(<a class="code" href="../../d8/d89/structtest.html">test</a>, bridge != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160;</div><div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#a638dca57ef13cc34a8d584246f5add00">do_sleep</a>(&amp;to_sleep);</div><div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;   ast_test_validate(<a class="code" href="../../d8/d89/structtest.html">test</a>, !<a class="code" href="../../d4/d56/bridge_8h.html#a582e1dd73a483ac881cff01fa07f39ae">ast_bridge_impart</a>(bridge, chan_charlie, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d4/d56/bridge_8h.html#ac086b7d74fb40c2ede8514274585b101a01be425a6fb9fefd36905b542e903087">AST_BRIDGE_IMPART_CHAN_DEPARTABLE</a>));</div><div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#a638dca57ef13cc34a8d584246f5add00">do_sleep</a>(&amp;to_sleep);</div><div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;   ast_test_validate(<a class="code" href="../../d8/d89/structtest.html">test</a>, !<a class="code" href="../../d4/d56/bridge_8h.html#a582e1dd73a483ac881cff01fa07f39ae">ast_bridge_impart</a>(bridge, chan_david, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d4/d56/bridge_8h.html#ac086b7d74fb40c2ede8514274585b101a01be425a6fb9fefd36905b542e903087">AST_BRIDGE_IMPART_CHAN_DEPARTABLE</a>));</div><div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#a638dca57ef13cc34a8d584246f5add00">do_sleep</a>(&amp;to_sleep);</div><div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160;   ast_test_validate(<a class="code" href="../../d8/d89/structtest.html">test</a>, !<a class="code" href="../../d4/d56/bridge_8h.html#a582e1dd73a483ac881cff01fa07f39ae">ast_bridge_impart</a>(bridge, chan_bob, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d4/d56/bridge_8h.html#ac086b7d74fb40c2ede8514274585b101a01be425a6fb9fefd36905b542e903087">AST_BRIDGE_IMPART_CHAN_DEPARTABLE</a>));</div><div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#a638dca57ef13cc34a8d584246f5add00">do_sleep</a>(&amp;to_sleep);</div><div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;   ast_test_validate(<a class="code" href="../../d8/d89/structtest.html">test</a>, !<a class="code" href="../../d4/d56/bridge_8h.html#a582e1dd73a483ac881cff01fa07f39ae">ast_bridge_impart</a>(bridge, chan_alice, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d4/d56/bridge_8h.html#ac086b7d74fb40c2ede8514274585b101a01be425a6fb9fefd36905b542e903087">AST_BRIDGE_IMPART_CHAN_DEPARTABLE</a>));</div><div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#a638dca57ef13cc34a8d584246f5add00">do_sleep</a>(&amp;to_sleep);</div><div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160;   ast_test_validate(<a class="code" href="../../d8/d89/structtest.html">test</a>, !<a class="code" href="../../d4/d56/bridge_8h.html#a0075715d330c8492e03c6d3ca3f48e13">ast_bridge_depart</a>(chan_alice));</div><div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;   ast_test_validate(<a class="code" href="../../d8/d89/structtest.html">test</a>, !<a class="code" href="../../d4/d56/bridge_8h.html#a0075715d330c8492e03c6d3ca3f48e13">ast_bridge_depart</a>(chan_bob));</div><div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160;   ast_test_validate(<a class="code" href="../../d8/d89/structtest.html">test</a>, !<a class="code" href="../../d4/d56/bridge_8h.html#a0075715d330c8492e03c6d3ca3f48e13">ast_bridge_depart</a>(chan_charlie));</div><div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160;   ast_test_validate(<a class="code" href="../../d8/d89/structtest.html">test</a>, !<a class="code" href="../../d4/d56/bridge_8h.html#a0075715d330c8492e03c6d3ca3f48e13">ast_bridge_depart</a>(chan_david));</div><div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160;</div><div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#ac2b699afc1547e0d4f71ece789ee21e1">HANGUP_CHANNEL</a>(chan_alice, <a class="code" href="../../d4/da3/causes_8h.html#a7858ab2ba4858d98e29f0ea54980313c">AST_CAUSE_NORMAL</a>);</div><div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#ac2b699afc1547e0d4f71ece789ee21e1">HANGUP_CHANNEL</a>(chan_bob, <a class="code" href="../../d4/da3/causes_8h.html#a7858ab2ba4858d98e29f0ea54980313c">AST_CAUSE_NORMAL</a>);</div><div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#ac2b699afc1547e0d4f71ece789ee21e1">HANGUP_CHANNEL</a>(chan_charlie, <a class="code" href="../../d4/da3/causes_8h.html#a7858ab2ba4858d98e29f0ea54980313c">AST_CAUSE_NORMAL</a>);</div><div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#ac2b699afc1547e0d4f71ece789ee21e1">HANGUP_CHANNEL</a>(chan_david, <a class="code" href="../../d4/da3/causes_8h.html#a7858ab2ba4858d98e29f0ea54980313c">AST_CAUSE_NORMAL</a>);</div><div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160;</div><div class="line"><a name="l02025"></a><span class="lineno"> 2025</span>&#160;   result = <a class="code" href="../../d7/d8e/test__cdr_8c.html#aabfd96ef82edc19b680e65889e005c93">verify_mock_cdr_record</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, &amp;alice_expected_one, 6);</div><div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160;</div><div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../de/d1b/cel__pgsql_8c.html#ad6c487210772a9b4b0ca04b04b847d4c">result</a>;</div><div class="line"><a name="l02028"></a><span class="lineno"> 2028</span>&#160;}</div><div class="ttc" id="test__cdr_8c_html_ab91bafbff6fa458554e8745276c0b4d3"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#ab91bafbff6fa458554e8745276c0b4d3">EMULATE_APP_DATA</a></div><div class="ttdeci">#define EMULATE_APP_DATA(channel, priority, application, data)</div><div class="ttdoc">Emulate a channel entering into an application. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00291">test_cdr.c:291</a></div></div>
<div class="ttc" id="structast__channel_html"><div class="ttname"><a href="../../df/d3c/structast__channel.html">ast_channel</a></div><div class="ttdoc">Main Channel structure associated with a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00073">channel_internal_api.c:73</a></div></div>
<div class="ttc" id="channel_8h_html_a784b9642d6e2862b04b7f970b337549fa57aa76a632aa16d12a92e43b81c32a68"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a784b9642d6e2862b04b7f970b337549fa57aa76a632aa16d12a92e43b81c32a68">AST_AMA_DOCUMENTATION</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01182">channel.h:1182</a></div></div>
<div class="ttc" id="channelstate_8h_html_a03585bc87e5bbd0f4d11bc789734c660a81348336816e0a2f6f3a76da487a46dc"><div class="ttname"><a href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660a81348336816e0a2f6f3a76da487a46dc">AST_STATE_DOWN</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d95/channelstate_8h_source.html#l00036">channelstate.h:36</a></div></div>
<div class="ttc" id="conf2ael_8c_html_a74bb62276efdf39dd94048e007fca05b"><div class="ttname"><a href="../../de/dcc/conf2ael_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a></div><div class="ttdeci">char * config</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcc/conf2ael_8c_source.html#l00066">conf2ael.c:66</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a638dca57ef13cc34a8d584246f5add00"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a638dca57ef13cc34a8d584246f5add00">do_sleep</a></div><div class="ttdeci">static void do_sleep(struct timespec *to_sleep)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00387">test_cdr.c:387</a></div></div>
<div class="ttc" id="group__StasisTopicsAndMessages_html_ga7d446221f9a272b003c4ad660a7e14dc"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#ga7d446221f9a272b003c4ad660a7e14dc">ast_channel_publish_dial</a></div><div class="ttdeci">void ast_channel_publish_dial(struct ast_channel *caller, struct ast_channel *peer, const char *dialstring, const char *dialstatus)</div><div class="ttdoc">Publish in the ast_channel_topic or ast_channel_topic_all topics a stasis message for the channels in...</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d2b/stasis__channels_8c_source.html#l00739">stasis_channels.c:739</a></div></div>
<div class="ttc" id="test__cdr_8c_html_add35ea2349b86888eef95d404e6faebf"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#add35ea2349b86888eef95d404e6faebf">TEST_CATEGORY</a></div><div class="ttdeci">#define TEST_CATEGORY</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00051">test_cdr.c:51</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a1ed3332fe918eafa4f3f79c131525249"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a1ed3332fe918eafa4f3f79c131525249">CREATE_ALICE_CHANNEL</a></div><div class="ttdeci">#define CREATE_ALICE_CHANNEL(channel_var, caller_id, expected_record)</div><div class="ttdoc">Create a test_cdr_chan_tech for Alice, and set the expected CDR records&amp;#39; linkedid and uniqueid...</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00248">test_cdr.c:248</a></div></div>
<div class="ttc" id="test_8h_html_a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e">TEST_EXECUTE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00208">test.h:208</a></div></div>
<div class="ttc" id="utils_8h_html_ab5033a1f3d781d45e7ccc27598114510"><div class="ttname"><a href="../../d5/d60/utils_8h.html#ab5033a1f3d781d45e7ccc27598114510">ast_set_flag</a></div><div class="ttdeci">#define ast_set_flag(p, flag)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00070">utils.h:70</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a0710872fe26e286bc89c24db3288f74f"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a0710872fe26e286bc89c24db3288f74f">COPY_IDS</a></div><div class="ttdeci">#define COPY_IDS(channel_var, expected_record)</div><div class="ttdoc">Copy the linkedid and uniqueid from a channel to an expected CDR. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00228">test_cdr.c:228</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a7a53a18000fdffa1da8f2842a6513c87"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a7a53a18000fdffa1da8f2842a6513c87">SET_FORMATS</a></div><div class="ttdeci">#define SET_FORMATS(chan)</div><div class="ttdoc">Set ulaw format on channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00234">test_cdr.c:234</a></div></div>
<div class="ttc" id="cdr_8h_html_a53e2666db1174cc83384daf9049023c0ac3e47d059a0e67a03f822f10bb7ec5b1"><div class="ttname"><a href="../../dc/d07/cdr_8h.html#a53e2666db1174cc83384daf9049023c0ac3e47d059a0e67a03f822f10bb7ec5b1">AST_CDR_ANSWERED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00258">cdr.h:258</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a1ccf26b207f6e00ee0ece3e227de42a1"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a1ccf26b207f6e00ee0ece3e227de42a1">SWAP_CONFIG</a></div><div class="ttdeci">#define SWAP_CONFIG(ao2_config, template)</div><div class="ttdoc">Macro to swap a configuration out from the CDR engine. This should be used at the beginning of each t...</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00079">test_cdr.c:79</a></div></div>
<div class="ttc" id="channelstate_8h_html_a03585bc87e5bbd0f4d11bc789734c660aa8ab4bcda7378ccc17c39dfd880cba3d"><div class="ttname"><a href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660aa8ab4bcda7378ccc17c39dfd880cba3d">AST_STATE_UP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d95/channelstate_8h_source.html#l00042">channelstate.h:42</a></div></div>
<div class="ttc" id="test__cdr_8c_html_ac2b699afc1547e0d4f71ece789ee21e1"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#ac2b699afc1547e0d4f71ece789ee21e1">HANGUP_CHANNEL</a></div><div class="ttdeci">#define HANGUP_CHANNEL(channel, cause)</div><div class="ttdoc">Hang up a test channel safely. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00303">test_cdr.c:303</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="test_8h_html_a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b">TEST_INIT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00207">test.h:207</a></div></div>
<div class="ttc" id="test__cel_8c_html_af600138406d2c64d06bf7dedf447cfc9"><div class="ttname"><a href="../../db/dc4/test__cel_8c.html#af600138406d2c64d06bf7dedf447cfc9">to_sleep</a></div><div class="ttdeci">static struct timespec to_sleep</div><div class="ttdoc">A 1 second sleep. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/dc4/test__cel_8c_source.html#l00085">test_cel.c:85</a></div></div>
<div class="ttc" id="channel_8h_html_aa776071546e0bb0eb8cfc4c3a3159dfc"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#aa776071546e0bb0eb8cfc4c3a3159dfc">ast_channel_linkedid</a></div><div class="ttdeci">const char * ast_channel_linkedid(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00311">channel_internal_api.c:311</a></div></div>
<div class="ttc" id="test_8h_html_aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c"><div class="ttname"><a href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c">AST_TEST_NOT_RUN</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00201">test.h:201</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a8739ae4d4e4305695b4deaebc79986f1"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a8739ae4d4e4305695b4deaebc79986f1">ALICE_CALLERID</a></div><div class="ttdeci">#define ALICE_CALLERID</div><div class="ttdoc">Alice&amp;#39;s Caller ID. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00216">test_cdr.c:216</a></div></div>
<div class="ttc" id="bridge_8h_html_a582e1dd73a483ac881cff01fa07f39ae"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a582e1dd73a483ac881cff01fa07f39ae">ast_bridge_impart</a></div><div class="ttdeci">int ast_bridge_impart(struct ast_bridge *bridge, struct ast_channel *chan, struct ast_channel *swap, struct ast_bridge_features *features, enum ast_bridge_impart_flags flags) attribute_warn_unused_result</div><div class="ttdoc">Impart a channel to a bridge (non-blocking) </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l01924">bridge.c:1924</a></div></div>
<div class="ttc" id="utils_8h_html_a1604b4d72144dd3d9f7da668e90337e9"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a></div><div class="ttdeci">#define RAII_VAR(vartype, varname, initval, dtor)</div><div class="ttdoc">Declare a variable that will call a destructor function when it goes out of scope. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00911">utils.h:911</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a845d7068c209f64f63c1c10989b56f18"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a845d7068c209f64f63c1c10989b56f18">CREATE_CHARLIE_CHANNEL</a></div><div class="ttdeci">#define CREATE_CHARLIE_CHANNEL(channel_var, caller_id, expected_record)</div><div class="ttdoc">Create a test_cdr_chan_tech for Charlie, and set the expected CDR records&amp;#39; linkedid and uniqueid...</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00270">test_cdr.c:270</a></div></div>
<div class="ttc" id="structast__cdr_html_a2979e8d95424c018bf2c830b28a199d0"><div class="ttname"><a href="../../d4/d5d/structast__cdr.html#a2979e8d95424c018bf2c830b28a199d0">ast_cdr::linkedid</a></div><div class="ttdeci">char linkedid[AST_MAX_UNIQUEID]</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00316">cdr.h:316</a></div></div>
<div class="ttc" id="structast__party__caller_html"><div class="ttname"><a href="../../d4/d77/structast__party__caller.html">ast_party_caller</a></div><div class="ttdoc">Caller Party information. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l00419">channel.h:419</a></div></div>
<div class="ttc" id="test__cdr_8c_html_afc59c481b016881543bd3d3e66863116"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#afc59c481b016881543bd3d3e66863116">CHARLIE_CALLERID</a></div><div class="ttdeci">#define CHARLIE_CALLERID</div><div class="ttdoc">Charlie&amp;#39;s Caller ID. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00222">test_cdr.c:222</a></div></div>
<div class="ttc" id="bridge_8h_html_ac086b7d74fb40c2ede8514274585b101a01be425a6fb9fefd36905b542e903087"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#ac086b7d74fb40c2ede8514274585b101a01be425a6fb9fefd36905b542e903087">AST_BRIDGE_IMPART_CHAN_DEPARTABLE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00602">bridge.h:602</a></div></div>
<div class="ttc" id="structast__cdr_html_ac733390e45613f1287d0b1b95e8d18ea"><div class="ttname"><a href="../../d4/d5d/structast__cdr.html#ac733390e45613f1287d0b1b95e8d18ea">ast_cdr::uniqueid</a></div><div class="ttdeci">char uniqueid[AST_MAX_UNIQUEID]</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00314">cdr.h:314</a></div></div>
<div class="ttc" id="test__cdr_8c_html_aabfd96ef82edc19b680e65889e005c93"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#aabfd96ef82edc19b680e65889e005c93">verify_mock_cdr_record</a></div><div class="ttdeci">static enum ast_test_result_state verify_mock_cdr_record(struct ast_test *test, struct ast_cdr *expected, int record)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00310">test_cdr.c:310</a></div></div>
<div class="ttc" id="channel_8h_html_a3b6254f6d3832ef928f0a727113b1c63"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a3b6254f6d3832ef928f0a727113b1c63">ast_channel_uniqueid</a></div><div class="ttdeci">const char * ast_channel_uniqueid(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00305">channel_internal_api.c:305</a></div></div>
<div class="ttc" id="causes_8h_html_a7858ab2ba4858d98e29f0ea54980313c"><div class="ttname"><a href="../../d4/da3/causes_8h.html#a7858ab2ba4858d98e29f0ea54980313c">AST_CAUSE_NORMAL</a></div><div class="ttdeci">#define AST_CAUSE_NORMAL</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/da3/causes_8h_source.html#l00150">causes.h:150</a></div></div>
<div class="ttc" id="structast__cdr_html"><div class="ttname"><a href="../../d4/d5d/structast__cdr.html">ast_cdr</a></div><div class="ttdoc">Responsible for call detail data. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00276">cdr.h:276</a></div></div>
<div class="ttc" id="structast__bridge_html"><div class="ttname"><a href="../../d4/d84/structast__bridge.html">ast_bridge</a></div><div class="ttdoc">Structure that contains information about a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00357">bridge.h:357</a></div></div>
<div class="ttc" id="namespacesip__to__pjsip_html_ab82f408a83ecba10ea39afd8abfd371e"><div class="ttname"><a href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">sip_to_pjsip.info</a></div><div class="ttdeci">def info(msg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d6f/sip__to__pjsip_8py_source.html#l01313">sip_to_pjsip.py:1313</a></div></div>
<div class="ttc" id="bridge_8h_html_a0075715d330c8492e03c6d3ca3f48e13"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a0075715d330c8492e03c6d3ca3f48e13">ast_bridge_depart</a></div><div class="ttdeci">int ast_bridge_depart(struct ast_channel *chan)</div><div class="ttdoc">Depart a channel from a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l01952">bridge.c:1952</a></div></div>
<div class="ttc" id="astobj2_8h_html_ae0422b60d8e25b6962b2d61ae4ddf724"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ae0422b60d8e25b6962b2d61ae4ddf724">ao2_alloc</a></div><div class="ttdeci">#define ao2_alloc(data_size, destructor_fn)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00411">astobj2.h:411</a></div></div>
<div class="ttc" id="channelstate_8h_html_a03585bc87e5bbd0f4d11bc789734c660a5bf03bd84f434acaeefdacb0096e1baa"><div class="ttname"><a href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660a5bf03bd84f434acaeefdacb0096e1baa">AST_STATE_RINGING</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d95/channelstate_8h_source.html#l00041">channelstate.h:41</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a86d2cbfb5a0c115147944a541cc355e0"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a></div><div class="ttdeci">#define CHANNEL_TECH_NAME</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00055">test_cdr.c:55</a></div></div>
<div class="ttc" id="structtest_html"><div class="ttname"><a href="../../d8/d89/structtest.html">test</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d7d/test__logger_8c_source.html#l00043">test_logger.c:43</a></div></div>
<div class="ttc" id="bridge__basic_8h_html_a1410fb71fa67f9ee92f15b18439b7571"><div class="ttname"><a href="../../d4/d1e/bridge__basic_8h.html#a1410fb71fa67f9ee92f15b18439b7571">ast_bridge_basic_new</a></div><div class="ttdeci">struct ast_bridge * ast_bridge_basic_new(void)</div><div class="ttdoc">Create a new basic class bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9b/bridge__basic_8c_source.html#l03617">bridge_basic.c:3617</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="channel_8h_html_a82f2c6e4d47f62f6b65c5887eb096fd5a36fa77a64746637c77c6b18a7999d0a2"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a82f2c6e4d47f62f6b65c5887eb096fd5a36fa77a64746637c77c6b18a7999d0a2">AST_FLAG_OUTGOING</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01000">channel.h:1000</a></div></div>
<div class="ttc" id="strings_8h_html_ac4040268f7b6ed77dfc49c7767626369"><div class="ttname"><a href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a></div><div class="ttdeci">void ast_copy_string(char *dst, const char *src, size_t size)</div><div class="ttdoc">Size-limited null-terminating string copy. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00401">strings.h:401</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a4aab087f903dfe2609a124a828903cb5"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a4aab087f903dfe2609a124a828903cb5">safe_bridge_destroy</a></div><div class="ttdeci">static void safe_bridge_destroy(struct ast_bridge *bridge)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00379">test_cdr.c:379</a></div></div>
<div class="ttc" id="channel_8h_html_acc7e03f08c0df9fe5f5ff801db51224d"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#acc7e03f08c0df9fe5f5ff801db51224d">ast_channel_state_set</a></div><div class="ttdeci">void ast_channel_state_set(struct ast_channel *chan, enum ast_channel_state)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00820">channel_internal_api.c:820</a></div></div>
<div class="ttc" id="cel__pgsql_8c_html_ad6c487210772a9b4b0ca04b04b847d4c"><div class="ttname"><a href="../../de/d1b/cel__pgsql_8c.html#ad6c487210772a9b4b0ca04b04b847d4c">result</a></div><div class="ttdeci">static PGresult * result</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1b/cel__pgsql_8c_source.html#l00088">cel_pgsql.c:88</a></div></div>
<div class="ttc" id="structast__cdr__config_html"><div class="ttname"><a href="../../d4/d69/structast__cdr__config.html">ast_cdr_config</a></div><div class="ttdoc">The global options available for CDRs. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00264">cdr.h:264</a></div></div>
<div class="ttc" id="structast__cdr_html_ab7fd8bddf0ce6987ae5e58fb64cfc9e2"><div class="ttname"><a href="../../d4/d5d/structast__cdr.html#ab7fd8bddf0ce6987ae5e58fb64cfc9e2">ast_cdr::clid</a></div><div class="ttdeci">char clid[AST_MAX_EXTENSION]</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00278">cdr.h:278</a></div></div>
<div class="ttc" id="channel_8h_html_a91de92158876186d28ba1773877f2732"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a91de92158876186d28ba1773877f2732">ast_channel_flags</a></div><div class="ttdeci">struct ast_flags * ast_channel_flags(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l01260">channel_internal_api.c:1260</a></div></div>
<div class="ttc" id="test__cdr_8c_html_ac905defa905925ff383b4bc9d2f89e35"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#ac905defa905925ff383b4bc9d2f89e35">debug_cdr_config</a></div><div class="ttdeci">static struct ast_cdr_config debug_cdr_config</div><div class="ttdoc">A configuration suitable for &amp;#39;normal&amp;#39; CDRs. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00061">test_cdr.c:61</a></div></div>
<div class="ttc" id="channel_8h_html_a2f18aafad0442206e71033ac6676dbb5"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a2f18aafad0442206e71033ac6676dbb5">ast_channel_alloc</a></div><div class="ttdeci">#define ast_channel_alloc(needqueue, state, cid_num, cid_name, acctcode, exten, context, assignedids, requestor, amaflag,...)</div><div class="ttdoc">Create a channel structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01259">channel.h:1259</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a987d4f1e5d92597fac228fa99bcb56be"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a987d4f1e5d92597fac228fa99bcb56be">safe_channel_release</a></div><div class="ttdeci">static void safe_channel_release(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00371">test_cdr.c:371</a></div></div>
<div class="ttc" id="test_8h_html_aad2aec78205d328d23894a6598cc4044"><div class="ttname"><a href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044">ast_test_result_state</a></div><div class="ttdeci">ast_test_result_state</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00200">test.h:200</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a8aeb5e7793bab924676aabc3935f5a71"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8aeb5e7793bab924676aabc3935f5a71">&#9670;&nbsp;</a></span>AST_TEST_DEFINE() <span class="overload">[21/24]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AST_TEST_DEFINE </td>
          <td>(</td>
          <td class="paramtype">test_cdr_park&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l02030">2030</a> of file <a class="el" href="../../d7/d8e/test__cdr_8c_source.html">test_cdr.c</a>.</p>

<p class="reference">References <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00216">ALICE_CALLERID</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00411">ao2_alloc</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l01182">AST_AMA_DOCUMENTATION</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l00960">ast_bridge_base_new()</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00086">AST_BRIDGE_CAPABILITY_HOLDING</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l01952">ast_bridge_depart()</a>, <a class="el" href="../../dc/d7a/bridge__features_8h_source.html#l00043">AST_BRIDGE_FLAG_MERGE_INHIBIT_FROM</a>, <a class="el" href="../../dc/d7a/bridge__features_8h_source.html#l00045">AST_BRIDGE_FLAG_MERGE_INHIBIT_TO</a>, <a class="el" href="../../dc/d7a/bridge__features_8h_source.html#l00047">AST_BRIDGE_FLAG_SWAP_INHIBIT_FROM</a>, <a class="el" href="../../dc/d7a/bridge__features_8h_source.html#l00053">AST_BRIDGE_FLAG_TRANSFER_PROHIBITED</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l01924">ast_bridge_impart()</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00602">AST_BRIDGE_IMPART_CHAN_DEPARTABLE</a>, <a class="el" href="../../d4/da3/causes_8h_source.html#l00150">AST_CAUSE_NORMAL</a>, <a class="el" href="../../dc/d07/cdr_8h_source.html#l00258">AST_CDR_ANSWERED</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02945">ast_channel_lock</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l07486">ast_setstate()</a>, <a class="el" href="../../d9/d95/channelstate_8h_source.html#l00042">AST_STATE_UP</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00201">AST_TEST_NOT_RUN</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00219">BOB_CALLERID</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00055">CHANNEL_TECH_NAME</a>, <a class="el" href="../../dc/d07/cdr_8h_source.html#l00278">ast_cdr::clid</a>, <a class="el" href="../../de/dcc/conf2ael_8c_source.html#l00066">config</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00248">CREATE_ALICE_CHANNEL</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00259">CREATE_BOB_CHANNEL</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00387">do_sleep()</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00291">EMULATE_APP_DATA</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00303">HANGUP_CHANNEL</a>, <a class="el" href="../../d9/d6f/sip__to__pjsip_8py_source.html#l01313">sip_to_pjsip::info()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00911">RAII_VAR</a>, <a class="el" href="../../de/d1b/cel__pgsql_8c_source.html#l00088">result</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00379">safe_bridge_destroy()</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00371">safe_channel_release()</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00079">SWAP_CONFIG</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00051">TEST_CATEGORY</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00208">TEST_EXECUTE</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00207">TEST_INIT</a>, and <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00310">verify_mock_cdr_record()</a>.</p>
<div class="fragment"><div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160;{</div><div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *, chan_alice, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d7/d8e/test__cdr_8c.html#a987d4f1e5d92597fac228fa99bcb56be">safe_channel_release</a>);</div><div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *, chan_bob, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d7/d8e/test__cdr_8c.html#a987d4f1e5d92597fac228fa99bcb56be">safe_channel_release</a>);</div><div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *, bridge, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d7/d8e/test__cdr_8c.html#a4aab087f903dfe2609a124a828903cb5">safe_bridge_destroy</a>);</div><div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d4/d69/structast__cdr__config.html">ast_cdr_config</a> *, <a class="code" href="../../de/dcc/conf2ael_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#ae0422b60d8e25b6962b2d61ae4ddf724">ao2_alloc</a>(<span class="keyword">sizeof</span>(*<a class="code" href="../../de/dcc/conf2ael_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a>), <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>),</div><div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160;         <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160;   <span class="keyword">struct </span>timespec <a class="code" href="../../db/dc4/test__cel_8c.html#af600138406d2c64d06bf7dedf447cfc9">to_sleep</a> = {1, 0};</div><div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160;</div><div class="line"><a name="l02039"></a><span class="lineno"> 2039</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d77/structast__party__caller.html">ast_party_caller</a> bob_caller = <a class="code" href="../../d7/d8e/test__cdr_8c.html#a5c90b196c5211bf396b375a92349ef2c">BOB_CALLERID</a>;</div><div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d77/structast__party__caller.html">ast_party_caller</a> alice_caller = <a class="code" href="../../d7/d8e/test__cdr_8c.html#a8739ae4d4e4305695b4deaebc79986f1">ALICE_CALLERID</a>;</div><div class="line"><a name="l02041"></a><span class="lineno"> 2041</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d5d/structast__cdr.html">ast_cdr</a> bob_expected = {</div><div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160;      .<a class="code" href="../../d4/d5d/structast__cdr.html#ab7fd8bddf0ce6987ae5e58fb64cfc9e2">clid</a> = <span class="stringliteral">&quot;\&quot;Bob\&quot; &lt;200&gt;&quot;</span>,</div><div class="line"><a name="l02043"></a><span class="lineno"> 2043</span>&#160;      .src = <span class="stringliteral">&quot;200&quot;</span>,</div><div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160;      .dst = <span class="stringliteral">&quot;200&quot;</span>,</div><div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160;      .dcontext = <span class="stringliteral">&quot;default&quot;</span>,</div><div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160;      .channel = <a class="code" href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a> <span class="stringliteral">&quot;/Bob&quot;</span>,</div><div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160;      .lastapp = <span class="stringliteral">&quot;Park&quot;</span>,</div><div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160;      .lastdata = <span class="stringliteral">&quot;701&quot;</span>,</div><div class="line"><a name="l02049"></a><span class="lineno"> 2049</span>&#160;      .billsec = 1,</div><div class="line"><a name="l02050"></a><span class="lineno"> 2050</span>&#160;      .amaflags = <a class="code" href="../../d5/d7b/channel_8h.html#a784b9642d6e2862b04b7f970b337549fa57aa76a632aa16d12a92e43b81c32a68">AST_AMA_DOCUMENTATION</a>,</div><div class="line"><a name="l02051"></a><span class="lineno"> 2051</span>&#160;      .disposition = <a class="code" href="../../dc/d07/cdr_8h.html#a53e2666db1174cc83384daf9049023c0ac3e47d059a0e67a03f822f10bb7ec5b1">AST_CDR_ANSWERED</a>,</div><div class="line"><a name="l02052"></a><span class="lineno"> 2052</span>&#160;      .accountcode = <span class="stringliteral">&quot;200&quot;</span>,</div><div class="line"><a name="l02053"></a><span class="lineno"> 2053</span>&#160;   };</div><div class="line"><a name="l02054"></a><span class="lineno"> 2054</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d5d/structast__cdr.html">ast_cdr</a> alice_expected = {</div><div class="line"><a name="l02055"></a><span class="lineno"> 2055</span>&#160;      .<a class="code" href="../../d4/d5d/structast__cdr.html#ab7fd8bddf0ce6987ae5e58fb64cfc9e2">clid</a> = <span class="stringliteral">&quot;\&quot;Alice\&quot; &lt;100&gt;&quot;</span>,</div><div class="line"><a name="l02056"></a><span class="lineno"> 2056</span>&#160;      .src = <span class="stringliteral">&quot;100&quot;</span>,</div><div class="line"><a name="l02057"></a><span class="lineno"> 2057</span>&#160;      .dst = <span class="stringliteral">&quot;100&quot;</span>,</div><div class="line"><a name="l02058"></a><span class="lineno"> 2058</span>&#160;      .dcontext = <span class="stringliteral">&quot;default&quot;</span>,</div><div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160;      .channel = <a class="code" href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a> <span class="stringliteral">&quot;/Alice&quot;</span>,</div><div class="line"><a name="l02060"></a><span class="lineno"> 2060</span>&#160;      .lastapp = <span class="stringliteral">&quot;Park&quot;</span>,</div><div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160;      .lastdata = <span class="stringliteral">&quot;700&quot;</span>,</div><div class="line"><a name="l02062"></a><span class="lineno"> 2062</span>&#160;      .billsec = 1,</div><div class="line"><a name="l02063"></a><span class="lineno"> 2063</span>&#160;      .amaflags = <a class="code" href="../../d5/d7b/channel_8h.html#a784b9642d6e2862b04b7f970b337549fa57aa76a632aa16d12a92e43b81c32a68">AST_AMA_DOCUMENTATION</a>,</div><div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160;      .disposition = <a class="code" href="../../dc/d07/cdr_8h.html#a53e2666db1174cc83384daf9049023c0ac3e47d059a0e67a03f822f10bb7ec5b1">AST_CDR_ANSWERED</a>,</div><div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160;      .accountcode = <span class="stringliteral">&quot;100&quot;</span>,</div><div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160;      .next = &amp;bob_expected,</div><div class="line"><a name="l02067"></a><span class="lineno"> 2067</span>&#160;   };</div><div class="line"><a name="l02068"></a><span class="lineno"> 2068</span>&#160;   <span class="keyword">enum</span> <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044">ast_test_result_state</a> <a class="code" href="../../de/d1b/cel__pgsql_8c.html#ad6c487210772a9b4b0ca04b04b847d4c">result</a> = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c">AST_TEST_NOT_RUN</a>;</div><div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160;</div><div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160;   <span class="keywordflow">switch</span> (cmd) {</div><div class="line"><a name="l02071"></a><span class="lineno"> 2071</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b">TEST_INIT</a>:</div><div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;name = __func__;</div><div class="line"><a name="l02073"></a><span class="lineno"> 2073</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;category = <a class="code" href="../../d7/d8e/test__cdr_8c.html#add35ea2349b86888eef95d404e6faebf">TEST_CATEGORY</a>;</div><div class="line"><a name="l02074"></a><span class="lineno"> 2074</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;summary = <span class="stringliteral">&quot;Test cdrs for a single party entering Park&quot;</span>;</div><div class="line"><a name="l02075"></a><span class="lineno"> 2075</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;description =</div><div class="line"><a name="l02076"></a><span class="lineno"> 2076</span>&#160;         <span class="stringliteral">&quot;Test the properties of a CDR for calls that are\n&quot;</span></div><div class="line"><a name="l02077"></a><span class="lineno"> 2077</span>&#160;         <span class="stringliteral">&quot;answered, enters Park, and leaves it.&quot;</span>;</div><div class="line"><a name="l02078"></a><span class="lineno"> 2078</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c">AST_TEST_NOT_RUN</a>;</div><div class="line"><a name="l02079"></a><span class="lineno"> 2079</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e">TEST_EXECUTE</a>:</div><div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l02081"></a><span class="lineno"> 2081</span>&#160;   }</div><div class="line"><a name="l02082"></a><span class="lineno"> 2082</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#a1ccf26b207f6e00ee0ece3e227de42a1">SWAP_CONFIG</a>(<a class="code" href="../../de/dcc/conf2ael_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a>, <a class="code" href="../../d7/d8e/test__cdr_8c.html#ac905defa905925ff383b4bc9d2f89e35">debug_cdr_config</a>);</div><div class="line"><a name="l02083"></a><span class="lineno"> 2083</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#a1ed3332fe918eafa4f3f79c131525249">CREATE_ALICE_CHANNEL</a>(chan_alice, &amp;alice_caller, &amp;alice_expected);</div><div class="line"><a name="l02084"></a><span class="lineno"> 2084</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#a415f8d0ccfd971c1eb213398ee53cf2c">CREATE_BOB_CHANNEL</a>(chan_bob, &amp;bob_caller, &amp;bob_expected);</div><div class="line"><a name="l02085"></a><span class="lineno"> 2085</span>&#160;</div><div class="line"><a name="l02086"></a><span class="lineno"> 2086</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(chan_alice);</div><div class="line"><a name="l02087"></a><span class="lineno"> 2087</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#ab91bafbff6fa458554e8745276c0b4d3">EMULATE_APP_DATA</a>(chan_alice, 1, <span class="stringliteral">&quot;Park&quot;</span>, <span class="stringliteral">&quot;700&quot;</span>);</div><div class="line"><a name="l02088"></a><span class="lineno"> 2088</span>&#160;   <a class="code" href="../../d9/d95/channelstate_8h.html#ad9d8f7d9e228b5af98a7b40db9f06448">ast_setstate</a>(chan_alice, <a class="code" href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660aa8ab4bcda7378ccc17c39dfd880cba3d">AST_STATE_UP</a>);</div><div class="line"><a name="l02089"></a><span class="lineno"> 2089</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan_alice);</div><div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160;</div><div class="line"><a name="l02091"></a><span class="lineno"> 2091</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(chan_bob);</div><div class="line"><a name="l02092"></a><span class="lineno"> 2092</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#ab91bafbff6fa458554e8745276c0b4d3">EMULATE_APP_DATA</a>(chan_bob, 1, <span class="stringliteral">&quot;Park&quot;</span>, <span class="stringliteral">&quot;701&quot;</span>);</div><div class="line"><a name="l02093"></a><span class="lineno"> 2093</span>&#160;   <a class="code" href="../../d9/d95/channelstate_8h.html#ad9d8f7d9e228b5af98a7b40db9f06448">ast_setstate</a>(chan_bob, <a class="code" href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660aa8ab4bcda7378ccc17c39dfd880cba3d">AST_STATE_UP</a>);</div><div class="line"><a name="l02094"></a><span class="lineno"> 2094</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan_bob);</div><div class="line"><a name="l02095"></a><span class="lineno"> 2095</span>&#160;</div><div class="line"><a name="l02096"></a><span class="lineno"> 2096</span>&#160;   bridge = <a class="code" href="../../d4/d56/bridge_8h.html#a32767ed0f51795590f41a662523c88b0">ast_bridge_base_new</a>(<a class="code" href="../../d4/d56/bridge_8h.html#a815c9b3e933dfd4b8f523cf55caa5bbfaff2606e446a3b7e22fb3785a06110554">AST_BRIDGE_CAPABILITY_HOLDING</a>,</div><div class="line"><a name="l02097"></a><span class="lineno"> 2097</span>&#160;      <a class="code" href="../../dc/d7a/bridge__features_8h.html#a65c2644d2eadb31bcec0aaeb41cb3444a8349083856559d62c42c385e3e47f12b">AST_BRIDGE_FLAG_MERGE_INHIBIT_TO</a> | <a class="code" href="../../dc/d7a/bridge__features_8h.html#a65c2644d2eadb31bcec0aaeb41cb3444addba5f50cfec4a78d22c0479fbd5ac77">AST_BRIDGE_FLAG_MERGE_INHIBIT_FROM</a></div><div class="line"><a name="l02098"></a><span class="lineno"> 2098</span>&#160;         | <a class="code" href="../../dc/d7a/bridge__features_8h.html#a65c2644d2eadb31bcec0aaeb41cb3444a2000e175bb94bcefb4f72a8e28871d9d">AST_BRIDGE_FLAG_SWAP_INHIBIT_FROM</a> | <a class="code" href="../../dc/d7a/bridge__features_8h.html#a65c2644d2eadb31bcec0aaeb41cb3444a7a4b299b4cb4bf7c644235d708847fc3">AST_BRIDGE_FLAG_TRANSFER_PROHIBITED</a>,</div><div class="line"><a name="l02099"></a><span class="lineno"> 2099</span>&#160;      <span class="stringliteral">&quot;test_cdr&quot;</span>, <span class="stringliteral">&quot;test_cdr_park&quot;</span>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l02100"></a><span class="lineno"> 2100</span>&#160;   ast_test_validate(<a class="code" href="../../d8/d89/structtest.html">test</a>, bridge != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l02101"></a><span class="lineno"> 2101</span>&#160;</div><div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#a638dca57ef13cc34a8d584246f5add00">do_sleep</a>(&amp;to_sleep);</div><div class="line"><a name="l02103"></a><span class="lineno"> 2103</span>&#160;   ast_test_validate(<a class="code" href="../../d8/d89/structtest.html">test</a>, !<a class="code" href="../../d4/d56/bridge_8h.html#a582e1dd73a483ac881cff01fa07f39ae">ast_bridge_impart</a>(bridge, chan_alice, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d4/d56/bridge_8h.html#ac086b7d74fb40c2ede8514274585b101a01be425a6fb9fefd36905b542e903087">AST_BRIDGE_IMPART_CHAN_DEPARTABLE</a>));</div><div class="line"><a name="l02104"></a><span class="lineno"> 2104</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#a638dca57ef13cc34a8d584246f5add00">do_sleep</a>(&amp;to_sleep);</div><div class="line"><a name="l02105"></a><span class="lineno"> 2105</span>&#160;   ast_test_validate(<a class="code" href="../../d8/d89/structtest.html">test</a>, !<a class="code" href="../../d4/d56/bridge_8h.html#a582e1dd73a483ac881cff01fa07f39ae">ast_bridge_impart</a>(bridge, chan_bob, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d4/d56/bridge_8h.html#ac086b7d74fb40c2ede8514274585b101a01be425a6fb9fefd36905b542e903087">AST_BRIDGE_IMPART_CHAN_DEPARTABLE</a>));</div><div class="line"><a name="l02106"></a><span class="lineno"> 2106</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#a638dca57ef13cc34a8d584246f5add00">do_sleep</a>(&amp;to_sleep);</div><div class="line"><a name="l02107"></a><span class="lineno"> 2107</span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#a0075715d330c8492e03c6d3ca3f48e13">ast_bridge_depart</a>(chan_alice);</div><div class="line"><a name="l02108"></a><span class="lineno"> 2108</span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#a0075715d330c8492e03c6d3ca3f48e13">ast_bridge_depart</a>(chan_bob);</div><div class="line"><a name="l02109"></a><span class="lineno"> 2109</span>&#160;</div><div class="line"><a name="l02110"></a><span class="lineno"> 2110</span>&#160;   <span class="comment">/* And then it hangs up */</span></div><div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#ac2b699afc1547e0d4f71ece789ee21e1">HANGUP_CHANNEL</a>(chan_alice, <a class="code" href="../../d4/da3/causes_8h.html#a7858ab2ba4858d98e29f0ea54980313c">AST_CAUSE_NORMAL</a>);</div><div class="line"><a name="l02112"></a><span class="lineno"> 2112</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#ac2b699afc1547e0d4f71ece789ee21e1">HANGUP_CHANNEL</a>(chan_bob, <a class="code" href="../../d4/da3/causes_8h.html#a7858ab2ba4858d98e29f0ea54980313c">AST_CAUSE_NORMAL</a>);</div><div class="line"><a name="l02113"></a><span class="lineno"> 2113</span>&#160;</div><div class="line"><a name="l02114"></a><span class="lineno"> 2114</span>&#160;   result = <a class="code" href="../../d7/d8e/test__cdr_8c.html#aabfd96ef82edc19b680e65889e005c93">verify_mock_cdr_record</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, &amp;alice_expected, 2);</div><div class="line"><a name="l02115"></a><span class="lineno"> 2115</span>&#160;</div><div class="line"><a name="l02116"></a><span class="lineno"> 2116</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../de/d1b/cel__pgsql_8c.html#ad6c487210772a9b4b0ca04b04b847d4c">result</a>;</div><div class="line"><a name="l02117"></a><span class="lineno"> 2117</span>&#160;}</div><div class="ttc" id="test__cdr_8c_html_ab91bafbff6fa458554e8745276c0b4d3"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#ab91bafbff6fa458554e8745276c0b4d3">EMULATE_APP_DATA</a></div><div class="ttdeci">#define EMULATE_APP_DATA(channel, priority, application, data)</div><div class="ttdoc">Emulate a channel entering into an application. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00291">test_cdr.c:291</a></div></div>
<div class="ttc" id="channel_8h_html_a493bdebe876caafb8ee535853310364a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a></div><div class="ttdeci">#define ast_channel_lock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02945">channel.h:2945</a></div></div>
<div class="ttc" id="structast__channel_html"><div class="ttname"><a href="../../df/d3c/structast__channel.html">ast_channel</a></div><div class="ttdoc">Main Channel structure associated with a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00073">channel_internal_api.c:73</a></div></div>
<div class="ttc" id="channel_8h_html_a784b9642d6e2862b04b7f970b337549fa57aa76a632aa16d12a92e43b81c32a68"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a784b9642d6e2862b04b7f970b337549fa57aa76a632aa16d12a92e43b81c32a68">AST_AMA_DOCUMENTATION</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01182">channel.h:1182</a></div></div>
<div class="ttc" id="bridge__features_8h_html_a65c2644d2eadb31bcec0aaeb41cb3444a8349083856559d62c42c385e3e47f12b"><div class="ttname"><a href="../../dc/d7a/bridge__features_8h.html#a65c2644d2eadb31bcec0aaeb41cb3444a8349083856559d62c42c385e3e47f12b">AST_BRIDGE_FLAG_MERGE_INHIBIT_TO</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00045">bridge_features.h:45</a></div></div>
<div class="ttc" id="conf2ael_8c_html_a74bb62276efdf39dd94048e007fca05b"><div class="ttname"><a href="../../de/dcc/conf2ael_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a></div><div class="ttdeci">char * config</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcc/conf2ael_8c_source.html#l00066">conf2ael.c:66</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a638dca57ef13cc34a8d584246f5add00"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a638dca57ef13cc34a8d584246f5add00">do_sleep</a></div><div class="ttdeci">static void do_sleep(struct timespec *to_sleep)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00387">test_cdr.c:387</a></div></div>
<div class="ttc" id="test__cdr_8c_html_add35ea2349b86888eef95d404e6faebf"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#add35ea2349b86888eef95d404e6faebf">TEST_CATEGORY</a></div><div class="ttdeci">#define TEST_CATEGORY</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00051">test_cdr.c:51</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a1ed3332fe918eafa4f3f79c131525249"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a1ed3332fe918eafa4f3f79c131525249">CREATE_ALICE_CHANNEL</a></div><div class="ttdeci">#define CREATE_ALICE_CHANNEL(channel_var, caller_id, expected_record)</div><div class="ttdoc">Create a test_cdr_chan_tech for Alice, and set the expected CDR records&amp;#39; linkedid and uniqueid...</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00248">test_cdr.c:248</a></div></div>
<div class="ttc" id="test_8h_html_a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e">TEST_EXECUTE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00208">test.h:208</a></div></div>
<div class="ttc" id="cdr_8h_html_a53e2666db1174cc83384daf9049023c0ac3e47d059a0e67a03f822f10bb7ec5b1"><div class="ttname"><a href="../../dc/d07/cdr_8h.html#a53e2666db1174cc83384daf9049023c0ac3e47d059a0e67a03f822f10bb7ec5b1">AST_CDR_ANSWERED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00258">cdr.h:258</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a1ccf26b207f6e00ee0ece3e227de42a1"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a1ccf26b207f6e00ee0ece3e227de42a1">SWAP_CONFIG</a></div><div class="ttdeci">#define SWAP_CONFIG(ao2_config, template)</div><div class="ttdoc">Macro to swap a configuration out from the CDR engine. This should be used at the beginning of each t...</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00079">test_cdr.c:79</a></div></div>
<div class="ttc" id="channelstate_8h_html_a03585bc87e5bbd0f4d11bc789734c660aa8ab4bcda7378ccc17c39dfd880cba3d"><div class="ttname"><a href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660aa8ab4bcda7378ccc17c39dfd880cba3d">AST_STATE_UP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d95/channelstate_8h_source.html#l00042">channelstate.h:42</a></div></div>
<div class="ttc" id="test__cdr_8c_html_ac2b699afc1547e0d4f71ece789ee21e1"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#ac2b699afc1547e0d4f71ece789ee21e1">HANGUP_CHANNEL</a></div><div class="ttdeci">#define HANGUP_CHANNEL(channel, cause)</div><div class="ttdoc">Hang up a test channel safely. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00303">test_cdr.c:303</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="bridge_8h_html_a815c9b3e933dfd4b8f523cf55caa5bbfaff2606e446a3b7e22fb3785a06110554"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a815c9b3e933dfd4b8f523cf55caa5bbfaff2606e446a3b7e22fb3785a06110554">AST_BRIDGE_CAPABILITY_HOLDING</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00086">bridge.h:86</a></div></div>
<div class="ttc" id="test_8h_html_a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b">TEST_INIT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00207">test.h:207</a></div></div>
<div class="ttc" id="test__cel_8c_html_af600138406d2c64d06bf7dedf447cfc9"><div class="ttname"><a href="../../db/dc4/test__cel_8c.html#af600138406d2c64d06bf7dedf447cfc9">to_sleep</a></div><div class="ttdeci">static struct timespec to_sleep</div><div class="ttdoc">A 1 second sleep. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/dc4/test__cel_8c_source.html#l00085">test_cel.c:85</a></div></div>
<div class="ttc" id="test_8h_html_aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c"><div class="ttname"><a href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c">AST_TEST_NOT_RUN</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00201">test.h:201</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a8739ae4d4e4305695b4deaebc79986f1"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a8739ae4d4e4305695b4deaebc79986f1">ALICE_CALLERID</a></div><div class="ttdeci">#define ALICE_CALLERID</div><div class="ttdoc">Alice&amp;#39;s Caller ID. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00216">test_cdr.c:216</a></div></div>
<div class="ttc" id="bridge_8h_html_a582e1dd73a483ac881cff01fa07f39ae"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a582e1dd73a483ac881cff01fa07f39ae">ast_bridge_impart</a></div><div class="ttdeci">int ast_bridge_impart(struct ast_bridge *bridge, struct ast_channel *chan, struct ast_channel *swap, struct ast_bridge_features *features, enum ast_bridge_impart_flags flags) attribute_warn_unused_result</div><div class="ttdoc">Impart a channel to a bridge (non-blocking) </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l01924">bridge.c:1924</a></div></div>
<div class="ttc" id="utils_8h_html_a1604b4d72144dd3d9f7da668e90337e9"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a></div><div class="ttdeci">#define RAII_VAR(vartype, varname, initval, dtor)</div><div class="ttdoc">Declare a variable that will call a destructor function when it goes out of scope. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00911">utils.h:911</a></div></div>
<div class="ttc" id="bridge__features_8h_html_a65c2644d2eadb31bcec0aaeb41cb3444addba5f50cfec4a78d22c0479fbd5ac77"><div class="ttname"><a href="../../dc/d7a/bridge__features_8h.html#a65c2644d2eadb31bcec0aaeb41cb3444addba5f50cfec4a78d22c0479fbd5ac77">AST_BRIDGE_FLAG_MERGE_INHIBIT_FROM</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00043">bridge_features.h:43</a></div></div>
<div class="ttc" id="structast__party__caller_html"><div class="ttname"><a href="../../d4/d77/structast__party__caller.html">ast_party_caller</a></div><div class="ttdoc">Caller Party information. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l00419">channel.h:419</a></div></div>
<div class="ttc" id="bridge__features_8h_html_a65c2644d2eadb31bcec0aaeb41cb3444a7a4b299b4cb4bf7c644235d708847fc3"><div class="ttname"><a href="../../dc/d7a/bridge__features_8h.html#a65c2644d2eadb31bcec0aaeb41cb3444a7a4b299b4cb4bf7c644235d708847fc3">AST_BRIDGE_FLAG_TRANSFER_PROHIBITED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00053">bridge_features.h:53</a></div></div>
<div class="ttc" id="bridge_8h_html_ac086b7d74fb40c2ede8514274585b101a01be425a6fb9fefd36905b542e903087"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#ac086b7d74fb40c2ede8514274585b101a01be425a6fb9fefd36905b542e903087">AST_BRIDGE_IMPART_CHAN_DEPARTABLE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00602">bridge.h:602</a></div></div>
<div class="ttc" id="test__cdr_8c_html_aabfd96ef82edc19b680e65889e005c93"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#aabfd96ef82edc19b680e65889e005c93">verify_mock_cdr_record</a></div><div class="ttdeci">static enum ast_test_result_state verify_mock_cdr_record(struct ast_test *test, struct ast_cdr *expected, int record)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00310">test_cdr.c:310</a></div></div>
<div class="ttc" id="bridge_8h_html_a32767ed0f51795590f41a662523c88b0"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a32767ed0f51795590f41a662523c88b0">ast_bridge_base_new</a></div><div class="ttdeci">struct ast_bridge * ast_bridge_base_new(uint32_t capabilities, unsigned int flags, const char *creator, const char *name, const char *id)</div><div class="ttdoc">Create a new base class bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l00960">bridge.c:960</a></div></div>
<div class="ttc" id="causes_8h_html_a7858ab2ba4858d98e29f0ea54980313c"><div class="ttname"><a href="../../d4/da3/causes_8h.html#a7858ab2ba4858d98e29f0ea54980313c">AST_CAUSE_NORMAL</a></div><div class="ttdeci">#define AST_CAUSE_NORMAL</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/da3/causes_8h_source.html#l00150">causes.h:150</a></div></div>
<div class="ttc" id="structast__cdr_html"><div class="ttname"><a href="../../d4/d5d/structast__cdr.html">ast_cdr</a></div><div class="ttdoc">Responsible for call detail data. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00276">cdr.h:276</a></div></div>
<div class="ttc" id="structast__bridge_html"><div class="ttname"><a href="../../d4/d84/structast__bridge.html">ast_bridge</a></div><div class="ttdoc">Structure that contains information about a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00357">bridge.h:357</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a415f8d0ccfd971c1eb213398ee53cf2c"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a415f8d0ccfd971c1eb213398ee53cf2c">CREATE_BOB_CHANNEL</a></div><div class="ttdeci">#define CREATE_BOB_CHANNEL(channel_var, caller_id, expected_record)</div><div class="ttdoc">Create a test_cdr_chan_tech for Bob, and set the expected CDR records&amp;#39; linkedid and uniqueid...</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00259">test_cdr.c:259</a></div></div>
<div class="ttc" id="namespacesip__to__pjsip_html_ab82f408a83ecba10ea39afd8abfd371e"><div class="ttname"><a href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">sip_to_pjsip.info</a></div><div class="ttdeci">def info(msg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d6f/sip__to__pjsip_8py_source.html#l01313">sip_to_pjsip.py:1313</a></div></div>
<div class="ttc" id="bridge_8h_html_a0075715d330c8492e03c6d3ca3f48e13"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a0075715d330c8492e03c6d3ca3f48e13">ast_bridge_depart</a></div><div class="ttdeci">int ast_bridge_depart(struct ast_channel *chan)</div><div class="ttdoc">Depart a channel from a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l01952">bridge.c:1952</a></div></div>
<div class="ttc" id="astobj2_8h_html_ae0422b60d8e25b6962b2d61ae4ddf724"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ae0422b60d8e25b6962b2d61ae4ddf724">ao2_alloc</a></div><div class="ttdeci">#define ao2_alloc(data_size, destructor_fn)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00411">astobj2.h:411</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a86d2cbfb5a0c115147944a541cc355e0"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a></div><div class="ttdeci">#define CHANNEL_TECH_NAME</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00055">test_cdr.c:55</a></div></div>
<div class="ttc" id="bridge__features_8h_html_a65c2644d2eadb31bcec0aaeb41cb3444a2000e175bb94bcefb4f72a8e28871d9d"><div class="ttname"><a href="../../dc/d7a/bridge__features_8h.html#a65c2644d2eadb31bcec0aaeb41cb3444a2000e175bb94bcefb4f72a8e28871d9d">AST_BRIDGE_FLAG_SWAP_INHIBIT_FROM</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00047">bridge_features.h:47</a></div></div>
<div class="ttc" id="structtest_html"><div class="ttname"><a href="../../d8/d89/structtest.html">test</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d7d/test__logger_8c_source.html#l00043">test_logger.c:43</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a4aab087f903dfe2609a124a828903cb5"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a4aab087f903dfe2609a124a828903cb5">safe_bridge_destroy</a></div><div class="ttdeci">static void safe_bridge_destroy(struct ast_bridge *bridge)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00379">test_cdr.c:379</a></div></div>
<div class="ttc" id="channelstate_8h_html_ad9d8f7d9e228b5af98a7b40db9f06448"><div class="ttname"><a href="../../d9/d95/channelstate_8h.html#ad9d8f7d9e228b5af98a7b40db9f06448">ast_setstate</a></div><div class="ttdeci">int ast_setstate(struct ast_channel *chan, enum ast_channel_state)</div><div class="ttdoc">Change the state of a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l07486">channel.c:7486</a></div></div>
<div class="ttc" id="cel__pgsql_8c_html_ad6c487210772a9b4b0ca04b04b847d4c"><div class="ttname"><a href="../../de/d1b/cel__pgsql_8c.html#ad6c487210772a9b4b0ca04b04b847d4c">result</a></div><div class="ttdeci">static PGresult * result</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1b/cel__pgsql_8c_source.html#l00088">cel_pgsql.c:88</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a5c90b196c5211bf396b375a92349ef2c"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a5c90b196c5211bf396b375a92349ef2c">BOB_CALLERID</a></div><div class="ttdeci">#define BOB_CALLERID</div><div class="ttdoc">Bob&amp;#39;s Caller ID. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00219">test_cdr.c:219</a></div></div>
<div class="ttc" id="structast__cdr__config_html"><div class="ttname"><a href="../../d4/d69/structast__cdr__config.html">ast_cdr_config</a></div><div class="ttdoc">The global options available for CDRs. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00264">cdr.h:264</a></div></div>
<div class="ttc" id="structast__cdr_html_ab7fd8bddf0ce6987ae5e58fb64cfc9e2"><div class="ttname"><a href="../../d4/d5d/structast__cdr.html#ab7fd8bddf0ce6987ae5e58fb64cfc9e2">ast_cdr::clid</a></div><div class="ttdeci">char clid[AST_MAX_EXTENSION]</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00278">cdr.h:278</a></div></div>
<div class="ttc" id="test__cdr_8c_html_ac905defa905925ff383b4bc9d2f89e35"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#ac905defa905925ff383b4bc9d2f89e35">debug_cdr_config</a></div><div class="ttdeci">static struct ast_cdr_config debug_cdr_config</div><div class="ttdoc">A configuration suitable for &amp;#39;normal&amp;#39; CDRs. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00061">test_cdr.c:61</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a987d4f1e5d92597fac228fa99bcb56be"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a987d4f1e5d92597fac228fa99bcb56be">safe_channel_release</a></div><div class="ttdeci">static void safe_channel_release(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00371">test_cdr.c:371</a></div></div>
<div class="ttc" id="test_8h_html_aad2aec78205d328d23894a6598cc4044"><div class="ttname"><a href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044">ast_test_result_state</a></div><div class="ttdeci">ast_test_result_state</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00200">test.h:200</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a08ac2302d56aeec4317a7efe50379af3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a08ac2302d56aeec4317a7efe50379af3">&#9670;&nbsp;</a></span>AST_TEST_DEFINE() <span class="overload">[22/24]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AST_TEST_DEFINE </td>
          <td>(</td>
          <td class="paramtype">test_cdr_fields&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l02120">2120</a> of file <a class="el" href="../../d7/d8e/test__cdr_8c_source.html">test_cdr.c</a>.</p>

<p class="reference">References <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00216">ALICE_CALLERID</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00411">ao2_alloc</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l01180">AST_AMA_OMIT</a>, <a class="el" href="../../d4/da3/causes_8h_source.html#l00150">AST_CAUSE_NORMAL</a>, <a class="el" href="../../dc/d07/cdr_8h_source.html#l00258">AST_CDR_ANSWERED</a>, <a class="el" href="../../dc/d07/cdr_8h_source.html#l00256">AST_CDR_FAILED</a>, <a class="el" href="../../dc/d07/cdr_8h_source.html#l00244">AST_CDR_FLAG_FINALIZE</a>, <a class="el" href="../../dc/d07/cdr_8h_source.html#l00240">AST_CDR_FLAG_KEEP_VARS</a>, <a class="el" href="../../dc/df2/cdr_8c_source.html#l03637">ast_cdr_fork()</a>, <a class="el" href="../../dc/df2/cdr_8c_source.html#l03324">ast_cdr_getvar()</a>, <a class="el" href="../../dc/d07/cdr_8h_source.html#l00255">AST_CDR_NULL</a>, <a class="el" href="../../dc/df2/cdr_8c_source.html#l03477">ast_cdr_setuserfield()</a>, <a class="el" href="../../dc/df2/cdr_8c_source.html#l03178">ast_cdr_setvar()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00411">ast_channel_amaflags_set()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00321">ast_channel_appl_set()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00338">ast_channel_data_set()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00431">ast_channel_hangupcause_set()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00311">ast_channel_linkedid()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02945">ast_channel_lock</a>, <a class="el" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00448">ast_channel_priority_set()</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01055">ast_channel_publish_snapshot()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00305">ast_channel_uniqueid()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00401">ast_copy_string()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l02548">ast_hangup()</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00070">ast_set_flag</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l07486">ast_setstate()</a>, <a class="el" href="../../d9/d95/channelstate_8h_source.html#l00042">AST_STATE_UP</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00201">AST_TEST_NOT_RUN</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00055">CHANNEL_TECH_NAME</a>, <a class="el" href="../../dc/d07/cdr_8h_source.html#l00278">ast_cdr::clid</a>, <a class="el" href="../../de/dcc/conf2ael_8c_source.html#l00066">config</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00248">CREATE_ALICE_CHANNEL</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00387">do_sleep()</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00049">EPSILON</a>, <a class="el" href="../../d9/d6f/sip__to__pjsip_8py_source.html#l01313">sip_to_pjsip::info()</a>, <a class="el" href="../../dc/d07/cdr_8h_source.html#l00316">ast_cdr::linkedid</a>, <a class="el" href="../../dc/d07/cdr_8h_source.html#l00325">ast_cdr::next</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00911">RAII_VAR</a>, <a class="el" href="../../de/d1b/cel__pgsql_8c_source.html#l00088">result</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00371">safe_channel_release()</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00079">SWAP_CONFIG</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00051">TEST_CATEGORY</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00208">TEST_EXECUTE</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00207">TEST_INIT</a>, <a class="el" href="../../dc/d07/cdr_8h_source.html#l00314">ast_cdr::uniqueid</a>, and <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00310">verify_mock_cdr_record()</a>.</p>
<div class="fragment"><div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160;{</div><div class="line"><a name="l02122"></a><span class="lineno"> 2122</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *, chan, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d7/d8e/test__cdr_8c.html#a987d4f1e5d92597fac228fa99bcb56be">safe_channel_release</a>);</div><div class="line"><a name="l02123"></a><span class="lineno"> 2123</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d4/d69/structast__cdr__config.html">ast_cdr_config</a> *, <a class="code" href="../../de/dcc/conf2ael_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#ae0422b60d8e25b6962b2d61ae4ddf724">ao2_alloc</a>(<span class="keyword">sizeof</span>(*<a class="code" href="../../de/dcc/conf2ael_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a>), <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>),</div><div class="line"><a name="l02124"></a><span class="lineno"> 2124</span>&#160;         <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l02125"></a><span class="lineno"> 2125</span>&#160;   <span class="keywordtype">char</span> varbuffer[128];</div><div class="line"><a name="l02126"></a><span class="lineno"> 2126</span>&#160;   <span class="keywordtype">int</span> int_buffer;</div><div class="line"><a name="l02127"></a><span class="lineno"> 2127</span>&#160;   <span class="keywordtype">double</span> db_buffer;</div><div class="line"><a name="l02128"></a><span class="lineno"> 2128</span>&#160;   <span class="keyword">struct </span>timespec <a class="code" href="../../db/dc4/test__cel_8c.html#af600138406d2c64d06bf7dedf447cfc9">to_sleep</a> = {2, 0};</div><div class="line"><a name="l02129"></a><span class="lineno"> 2129</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/dac/structast__flags.html">ast_flags</a> fork_options = { 0, };</div><div class="line"><a name="l02130"></a><span class="lineno"> 2130</span>&#160;</div><div class="line"><a name="l02131"></a><span class="lineno"> 2131</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d77/structast__party__caller.html">ast_party_caller</a> caller = <a class="code" href="../../d7/d8e/test__cdr_8c.html#a8739ae4d4e4305695b4deaebc79986f1">ALICE_CALLERID</a>;</div><div class="line"><a name="l02132"></a><span class="lineno"> 2132</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d5d/structast__cdr.html">ast_cdr</a> original = {</div><div class="line"><a name="l02133"></a><span class="lineno"> 2133</span>&#160;      .<a class="code" href="../../d4/d5d/structast__cdr.html#ab7fd8bddf0ce6987ae5e58fb64cfc9e2">clid</a> = <span class="stringliteral">&quot;\&quot;Alice\&quot; &lt;100&gt;&quot;</span>,</div><div class="line"><a name="l02134"></a><span class="lineno"> 2134</span>&#160;      .src = <span class="stringliteral">&quot;100&quot;</span>,</div><div class="line"><a name="l02135"></a><span class="lineno"> 2135</span>&#160;      .dst = <span class="stringliteral">&quot;100&quot;</span>,</div><div class="line"><a name="l02136"></a><span class="lineno"> 2136</span>&#160;      .dcontext = <span class="stringliteral">&quot;default&quot;</span>,</div><div class="line"><a name="l02137"></a><span class="lineno"> 2137</span>&#160;      .channel = <a class="code" href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a> <span class="stringliteral">&quot;/Alice&quot;</span>,</div><div class="line"><a name="l02138"></a><span class="lineno"> 2138</span>&#160;      .lastapp = <span class="stringliteral">&quot;Wait&quot;</span>,</div><div class="line"><a name="l02139"></a><span class="lineno"> 2139</span>&#160;      .lastdata = <span class="stringliteral">&quot;10&quot;</span>,</div><div class="line"><a name="l02140"></a><span class="lineno"> 2140</span>&#160;      .billsec = 0,</div><div class="line"><a name="l02141"></a><span class="lineno"> 2141</span>&#160;      .amaflags = <a class="code" href="../../d5/d7b/channel_8h.html#a784b9642d6e2862b04b7f970b337549fa57ba8ad197fc6c0839e2984226bb84a8">AST_AMA_OMIT</a>,</div><div class="line"><a name="l02142"></a><span class="lineno"> 2142</span>&#160;      .disposition = <a class="code" href="../../dc/d07/cdr_8h.html#a53e2666db1174cc83384daf9049023c0af31f029a69fc67c7fca424569f708143">AST_CDR_FAILED</a>,</div><div class="line"><a name="l02143"></a><span class="lineno"> 2143</span>&#160;      .accountcode = <span class="stringliteral">&quot;XXX&quot;</span>,</div><div class="line"><a name="l02144"></a><span class="lineno"> 2144</span>&#160;      .userfield = <span class="stringliteral">&quot;yackity&quot;</span>,</div><div class="line"><a name="l02145"></a><span class="lineno"> 2145</span>&#160;   };</div><div class="line"><a name="l02146"></a><span class="lineno"> 2146</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d5d/structast__cdr.html">ast_cdr</a> fork_expected_one = {</div><div class="line"><a name="l02147"></a><span class="lineno"> 2147</span>&#160;      .<a class="code" href="../../d4/d5d/structast__cdr.html#ab7fd8bddf0ce6987ae5e58fb64cfc9e2">clid</a> = <span class="stringliteral">&quot;\&quot;Alice\&quot; &lt;100&gt;&quot;</span>,</div><div class="line"><a name="l02148"></a><span class="lineno"> 2148</span>&#160;      .src = <span class="stringliteral">&quot;100&quot;</span>,</div><div class="line"><a name="l02149"></a><span class="lineno"> 2149</span>&#160;      .dst = <span class="stringliteral">&quot;100&quot;</span>,</div><div class="line"><a name="l02150"></a><span class="lineno"> 2150</span>&#160;      .dcontext = <span class="stringliteral">&quot;default&quot;</span>,</div><div class="line"><a name="l02151"></a><span class="lineno"> 2151</span>&#160;      .channel = <a class="code" href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a> <span class="stringliteral">&quot;/Alice&quot;</span>,</div><div class="line"><a name="l02152"></a><span class="lineno"> 2152</span>&#160;      .lastapp = <span class="stringliteral">&quot;Wait&quot;</span>,</div><div class="line"><a name="l02153"></a><span class="lineno"> 2153</span>&#160;      .lastdata = <span class="stringliteral">&quot;10&quot;</span>,</div><div class="line"><a name="l02154"></a><span class="lineno"> 2154</span>&#160;      .billsec = 0,</div><div class="line"><a name="l02155"></a><span class="lineno"> 2155</span>&#160;      .amaflags = <a class="code" href="../../d5/d7b/channel_8h.html#a784b9642d6e2862b04b7f970b337549fa57ba8ad197fc6c0839e2984226bb84a8">AST_AMA_OMIT</a>,</div><div class="line"><a name="l02156"></a><span class="lineno"> 2156</span>&#160;      .disposition = <a class="code" href="../../dc/d07/cdr_8h.html#a53e2666db1174cc83384daf9049023c0af31f029a69fc67c7fca424569f708143">AST_CDR_FAILED</a>,</div><div class="line"><a name="l02157"></a><span class="lineno"> 2157</span>&#160;      .accountcode = <span class="stringliteral">&quot;XXX&quot;</span>,</div><div class="line"><a name="l02158"></a><span class="lineno"> 2158</span>&#160;      .userfield = <span class="stringliteral">&quot;yackity&quot;</span>,</div><div class="line"><a name="l02159"></a><span class="lineno"> 2159</span>&#160;   };</div><div class="line"><a name="l02160"></a><span class="lineno"> 2160</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d5d/structast__cdr.html">ast_cdr</a> fork_expected_two = {</div><div class="line"><a name="l02161"></a><span class="lineno"> 2161</span>&#160;      .<a class="code" href="../../d4/d5d/structast__cdr.html#ab7fd8bddf0ce6987ae5e58fb64cfc9e2">clid</a> = <span class="stringliteral">&quot;\&quot;Alice\&quot; &lt;100&gt;&quot;</span>,</div><div class="line"><a name="l02162"></a><span class="lineno"> 2162</span>&#160;      .src = <span class="stringliteral">&quot;100&quot;</span>,</div><div class="line"><a name="l02163"></a><span class="lineno"> 2163</span>&#160;      .dst = <span class="stringliteral">&quot;100&quot;</span>,</div><div class="line"><a name="l02164"></a><span class="lineno"> 2164</span>&#160;      .dcontext = <span class="stringliteral">&quot;default&quot;</span>,</div><div class="line"><a name="l02165"></a><span class="lineno"> 2165</span>&#160;      .channel = <a class="code" href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a> <span class="stringliteral">&quot;/Alice&quot;</span>,</div><div class="line"><a name="l02166"></a><span class="lineno"> 2166</span>&#160;      .lastapp = <span class="stringliteral">&quot;Answer&quot;</span>,</div><div class="line"><a name="l02167"></a><span class="lineno"> 2167</span>&#160;      .billsec = 0,</div><div class="line"><a name="l02168"></a><span class="lineno"> 2168</span>&#160;      .amaflags = <a class="code" href="../../d5/d7b/channel_8h.html#a784b9642d6e2862b04b7f970b337549fa57ba8ad197fc6c0839e2984226bb84a8">AST_AMA_OMIT</a>,</div><div class="line"><a name="l02169"></a><span class="lineno"> 2169</span>&#160;      .disposition = <a class="code" href="../../dc/d07/cdr_8h.html#a53e2666db1174cc83384daf9049023c0ac3e47d059a0e67a03f822f10bb7ec5b1">AST_CDR_ANSWERED</a>,</div><div class="line"><a name="l02170"></a><span class="lineno"> 2170</span>&#160;      .accountcode = <span class="stringliteral">&quot;ZZZ&quot;</span>,</div><div class="line"><a name="l02171"></a><span class="lineno"> 2171</span>&#160;      .userfield = <span class="stringliteral">&quot;schmackity&quot;</span>,</div><div class="line"><a name="l02172"></a><span class="lineno"> 2172</span>&#160;   };</div><div class="line"><a name="l02173"></a><span class="lineno"> 2173</span>&#160;   <span class="keyword">enum</span> <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044">ast_test_result_state</a> <a class="code" href="../../de/d1b/cel__pgsql_8c.html#ad6c487210772a9b4b0ca04b04b847d4c">result</a> = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c">AST_TEST_NOT_RUN</a>;</div><div class="line"><a name="l02174"></a><span class="lineno"> 2174</span>&#160;</div><div class="line"><a name="l02175"></a><span class="lineno"> 2175</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d5d/structast__cdr.html">ast_cdr</a> *expected = &amp;original;</div><div class="line"><a name="l02176"></a><span class="lineno"> 2176</span>&#160;   original.<a class="code" href="../../d4/d5d/structast__cdr.html#a8098d02138e27b57d184b260b6669eed">next</a> = &amp;fork_expected_one;</div><div class="line"><a name="l02177"></a><span class="lineno"> 2177</span>&#160;   fork_expected_one.<a class="code" href="../../d4/d5d/structast__cdr.html#a8098d02138e27b57d184b260b6669eed">next</a> = &amp;fork_expected_two;</div><div class="line"><a name="l02178"></a><span class="lineno"> 2178</span>&#160;</div><div class="line"><a name="l02179"></a><span class="lineno"> 2179</span>&#160;   <span class="keywordflow">switch</span> (cmd) {</div><div class="line"><a name="l02180"></a><span class="lineno"> 2180</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b">TEST_INIT</a>:</div><div class="line"><a name="l02181"></a><span class="lineno"> 2181</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;name = __func__;</div><div class="line"><a name="l02182"></a><span class="lineno"> 2182</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;category = <a class="code" href="../../d7/d8e/test__cdr_8c.html#add35ea2349b86888eef95d404e6faebf">TEST_CATEGORY</a>;</div><div class="line"><a name="l02183"></a><span class="lineno"> 2183</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;summary = <span class="stringliteral">&quot;Test field access CDRs&quot;</span>;</div><div class="line"><a name="l02184"></a><span class="lineno"> 2184</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;description =</div><div class="line"><a name="l02185"></a><span class="lineno"> 2185</span>&#160;         <span class="stringliteral">&quot;This tests setting/retrieving data on CDR records.&quot;</span>;</div><div class="line"><a name="l02186"></a><span class="lineno"> 2186</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c">AST_TEST_NOT_RUN</a>;</div><div class="line"><a name="l02187"></a><span class="lineno"> 2187</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e">TEST_EXECUTE</a>:</div><div class="line"><a name="l02188"></a><span class="lineno"> 2188</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l02189"></a><span class="lineno"> 2189</span>&#160;   }</div><div class="line"><a name="l02190"></a><span class="lineno"> 2190</span>&#160;</div><div class="line"><a name="l02191"></a><span class="lineno"> 2191</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#a1ccf26b207f6e00ee0ece3e227de42a1">SWAP_CONFIG</a>(<a class="code" href="../../de/dcc/conf2ael_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a>, <a class="code" href="../../d7/d8e/test__cdr_8c.html#a5722136884f356e886185ddd4f58e97a">unanswered_cdr_config</a>);</div><div class="line"><a name="l02192"></a><span class="lineno"> 2192</span>&#160;</div><div class="line"><a name="l02193"></a><span class="lineno"> 2193</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#a1ed3332fe918eafa4f3f79c131525249">CREATE_ALICE_CHANNEL</a>(chan, &amp;caller, &amp;original);</div><div class="line"><a name="l02194"></a><span class="lineno"> 2194</span>&#160;   <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(fork_expected_one.<a class="code" href="../../d4/d5d/structast__cdr.html#ac733390e45613f1287d0b1b95e8d18ea">uniqueid</a>, <a class="code" href="../../d5/d7b/channel_8h.html#a3b6254f6d3832ef928f0a727113b1c63">ast_channel_uniqueid</a>(chan), <span class="keyword">sizeof</span>(fork_expected_one.<a class="code" href="../../d4/d5d/structast__cdr.html#ac733390e45613f1287d0b1b95e8d18ea">uniqueid</a>));</div><div class="line"><a name="l02195"></a><span class="lineno"> 2195</span>&#160;   <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(fork_expected_one.<a class="code" href="../../d4/d5d/structast__cdr.html#a2979e8d95424c018bf2c830b28a199d0">linkedid</a>, <a class="code" href="../../d5/d7b/channel_8h.html#aa776071546e0bb0eb8cfc4c3a3159dfc">ast_channel_linkedid</a>(chan), <span class="keyword">sizeof</span>(fork_expected_one.<a class="code" href="../../d4/d5d/structast__cdr.html#a2979e8d95424c018bf2c830b28a199d0">linkedid</a>));</div><div class="line"><a name="l02196"></a><span class="lineno"> 2196</span>&#160;   <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(fork_expected_two.<a class="code" href="../../d4/d5d/structast__cdr.html#ac733390e45613f1287d0b1b95e8d18ea">uniqueid</a>, <a class="code" href="../../d5/d7b/channel_8h.html#a3b6254f6d3832ef928f0a727113b1c63">ast_channel_uniqueid</a>(chan), <span class="keyword">sizeof</span>(fork_expected_two.<a class="code" href="../../d4/d5d/structast__cdr.html#ac733390e45613f1287d0b1b95e8d18ea">uniqueid</a>));</div><div class="line"><a name="l02197"></a><span class="lineno"> 2197</span>&#160;   <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(fork_expected_two.<a class="code" href="../../d4/d5d/structast__cdr.html#a2979e8d95424c018bf2c830b28a199d0">linkedid</a>, <a class="code" href="../../d5/d7b/channel_8h.html#aa776071546e0bb0eb8cfc4c3a3159dfc">ast_channel_linkedid</a>(chan), <span class="keyword">sizeof</span>(fork_expected_two.<a class="code" href="../../d4/d5d/structast__cdr.html#a2979e8d95424c018bf2c830b28a199d0">linkedid</a>));</div><div class="line"><a name="l02198"></a><span class="lineno"> 2198</span>&#160;</div><div class="line"><a name="l02199"></a><span class="lineno"> 2199</span>&#160;   <span class="comment">/* Channel enters Wait app */</span></div><div class="line"><a name="l02200"></a><span class="lineno"> 2200</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(chan);</div><div class="line"><a name="l02201"></a><span class="lineno"> 2201</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a14af45a19bb70a19d44cc965e88e0a3b">ast_channel_appl_set</a>(chan, <span class="stringliteral">&quot;Wait&quot;</span>);</div><div class="line"><a name="l02202"></a><span class="lineno"> 2202</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a4d7d602ffd3240a3deed5f01343ccd31">ast_channel_data_set</a>(chan, <span class="stringliteral">&quot;10&quot;</span>);</div><div class="line"><a name="l02203"></a><span class="lineno"> 2203</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#ae56cab679c0cda6436b930bc74297895">ast_channel_priority_set</a>(chan, 1);</div><div class="line"><a name="l02204"></a><span class="lineno"> 2204</span>&#160;   <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#gaec5f1aaded97197250e063ed6c7ad857">ast_channel_publish_snapshot</a>(chan);</div><div class="line"><a name="l02205"></a><span class="lineno"> 2205</span>&#160;</div><div class="line"><a name="l02206"></a><span class="lineno"> 2206</span>&#160;   <span class="comment">/* Set properties on the channel that propagate to the CDR */</span></div><div class="line"><a name="l02207"></a><span class="lineno"> 2207</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#ac264c5bfc7884724c7d289662dd6e8ad">ast_channel_amaflags_set</a>(chan, <a class="code" href="../../d5/d7b/channel_8h.html#a784b9642d6e2862b04b7f970b337549fa57ba8ad197fc6c0839e2984226bb84a8">AST_AMA_OMIT</a>);</div><div class="line"><a name="l02208"></a><span class="lineno"> 2208</span>&#160;   ast_channel_accountcode_set(chan, <span class="stringliteral">&quot;XXX&quot;</span>);</div><div class="line"><a name="l02209"></a><span class="lineno"> 2209</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l02210"></a><span class="lineno"> 2210</span>&#160;</div><div class="line"><a name="l02211"></a><span class="lineno"> 2211</span>&#160;   <span class="comment">/* Wait one second so we get a duration. */</span></div><div class="line"><a name="l02212"></a><span class="lineno"> 2212</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#a638dca57ef13cc34a8d584246f5add00">do_sleep</a>(&amp;to_sleep);</div><div class="line"><a name="l02213"></a><span class="lineno"> 2213</span>&#160;</div><div class="line"><a name="l02214"></a><span class="lineno"> 2214</span>&#160;   <a class="code" href="../../dc/d07/cdr_8h.html#a1a5de28755e68ba2351a38210afc2423">ast_cdr_setuserfield</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan), <span class="stringliteral">&quot;foobar&quot;</span>);</div><div class="line"><a name="l02215"></a><span class="lineno"> 2215</span>&#160;   ast_test_validate(<a class="code" href="../../d8/d89/structtest.html">test</a>, <a class="code" href="../../dc/d07/cdr_8h.html#a4cb15fc5160b2842ef7aa5b4f238b7fb">ast_cdr_setvar</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan), <span class="stringliteral">&quot;test_variable&quot;</span>, <span class="stringliteral">&quot;record_1&quot;</span>) == 0);</div><div class="line"><a name="l02216"></a><span class="lineno"> 2216</span>&#160;</div><div class="line"><a name="l02217"></a><span class="lineno"> 2217</span>&#160;   <span class="comment">/* Verify that we can&#39;t set read-only fields or other fields directly */</span></div><div class="line"><a name="l02218"></a><span class="lineno"> 2218</span>&#160;   ast_test_validate(<a class="code" href="../../d8/d89/structtest.html">test</a>, <a class="code" href="../../dc/d07/cdr_8h.html#a4cb15fc5160b2842ef7aa5b4f238b7fb">ast_cdr_setvar</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan), <span class="stringliteral">&quot;clid&quot;</span>, <span class="stringliteral">&quot;junk&quot;</span>) != 0);</div><div class="line"><a name="l02219"></a><span class="lineno"> 2219</span>&#160;   ast_test_validate(<a class="code" href="../../d8/d89/structtest.html">test</a>, <a class="code" href="../../dc/d07/cdr_8h.html#a4cb15fc5160b2842ef7aa5b4f238b7fb">ast_cdr_setvar</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan), <span class="stringliteral">&quot;src&quot;</span>, <span class="stringliteral">&quot;junk&quot;</span>) != 0);</div><div class="line"><a name="l02220"></a><span class="lineno"> 2220</span>&#160;   ast_test_validate(<a class="code" href="../../d8/d89/structtest.html">test</a>, <a class="code" href="../../dc/d07/cdr_8h.html#a4cb15fc5160b2842ef7aa5b4f238b7fb">ast_cdr_setvar</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan), <span class="stringliteral">&quot;dst&quot;</span>, <span class="stringliteral">&quot;junk&quot;</span>) != 0);</div><div class="line"><a name="l02221"></a><span class="lineno"> 2221</span>&#160;   ast_test_validate(<a class="code" href="../../d8/d89/structtest.html">test</a>, <a class="code" href="../../dc/d07/cdr_8h.html#a4cb15fc5160b2842ef7aa5b4f238b7fb">ast_cdr_setvar</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan), <span class="stringliteral">&quot;dcontext&quot;</span>, <span class="stringliteral">&quot;junk&quot;</span>) != 0);</div><div class="line"><a name="l02222"></a><span class="lineno"> 2222</span>&#160;   ast_test_validate(<a class="code" href="../../d8/d89/structtest.html">test</a>, <a class="code" href="../../dc/d07/cdr_8h.html#a4cb15fc5160b2842ef7aa5b4f238b7fb">ast_cdr_setvar</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan), <span class="stringliteral">&quot;channel&quot;</span>, <span class="stringliteral">&quot;junk&quot;</span>) != 0);</div><div class="line"><a name="l02223"></a><span class="lineno"> 2223</span>&#160;   ast_test_validate(<a class="code" href="../../d8/d89/structtest.html">test</a>, <a class="code" href="../../dc/d07/cdr_8h.html#a4cb15fc5160b2842ef7aa5b4f238b7fb">ast_cdr_setvar</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan), <span class="stringliteral">&quot;dstchannel&quot;</span>, <span class="stringliteral">&quot;junk&quot;</span>) != 0);</div><div class="line"><a name="l02224"></a><span class="lineno"> 2224</span>&#160;   ast_test_validate(<a class="code" href="../../d8/d89/structtest.html">test</a>, <a class="code" href="../../dc/d07/cdr_8h.html#a4cb15fc5160b2842ef7aa5b4f238b7fb">ast_cdr_setvar</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan), <span class="stringliteral">&quot;lastapp&quot;</span>, <span class="stringliteral">&quot;junk&quot;</span>) != 0);</div><div class="line"><a name="l02225"></a><span class="lineno"> 2225</span>&#160;   ast_test_validate(<a class="code" href="../../d8/d89/structtest.html">test</a>, <a class="code" href="../../dc/d07/cdr_8h.html#a4cb15fc5160b2842ef7aa5b4f238b7fb">ast_cdr_setvar</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan), <span class="stringliteral">&quot;lastdata&quot;</span>, <span class="stringliteral">&quot;junk&quot;</span>) != 0);</div><div class="line"><a name="l02226"></a><span class="lineno"> 2226</span>&#160;   ast_test_validate(<a class="code" href="../../d8/d89/structtest.html">test</a>, <a class="code" href="../../dc/d07/cdr_8h.html#a4cb15fc5160b2842ef7aa5b4f238b7fb">ast_cdr_setvar</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan), <span class="stringliteral">&quot;start&quot;</span>, <span class="stringliteral">&quot;junk&quot;</span>) != 0);</div><div class="line"><a name="l02227"></a><span class="lineno"> 2227</span>&#160;   ast_test_validate(<a class="code" href="../../d8/d89/structtest.html">test</a>, <a class="code" href="../../dc/d07/cdr_8h.html#a4cb15fc5160b2842ef7aa5b4f238b7fb">ast_cdr_setvar</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan), <span class="stringliteral">&quot;answer&quot;</span>, <span class="stringliteral">&quot;junk&quot;</span>) != 0);</div><div class="line"><a name="l02228"></a><span class="lineno"> 2228</span>&#160;   ast_test_validate(<a class="code" href="../../d8/d89/structtest.html">test</a>, <a class="code" href="../../dc/d07/cdr_8h.html#a4cb15fc5160b2842ef7aa5b4f238b7fb">ast_cdr_setvar</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan), <span class="stringliteral">&quot;end&quot;</span>, <span class="stringliteral">&quot;junk&quot;</span>) != 0);</div><div class="line"><a name="l02229"></a><span class="lineno"> 2229</span>&#160;   ast_test_validate(<a class="code" href="../../d8/d89/structtest.html">test</a>, <a class="code" href="../../dc/d07/cdr_8h.html#a4cb15fc5160b2842ef7aa5b4f238b7fb">ast_cdr_setvar</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan), <span class="stringliteral">&quot;duration&quot;</span>, <span class="stringliteral">&quot;junk&quot;</span>) != 0);</div><div class="line"><a name="l02230"></a><span class="lineno"> 2230</span>&#160;   ast_test_validate(<a class="code" href="../../d8/d89/structtest.html">test</a>, <a class="code" href="../../dc/d07/cdr_8h.html#a4cb15fc5160b2842ef7aa5b4f238b7fb">ast_cdr_setvar</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan), <span class="stringliteral">&quot;billsec&quot;</span>, <span class="stringliteral">&quot;junk&quot;</span>) != 0);</div><div class="line"><a name="l02231"></a><span class="lineno"> 2231</span>&#160;   ast_test_validate(<a class="code" href="../../d8/d89/structtest.html">test</a>, <a class="code" href="../../dc/d07/cdr_8h.html#a4cb15fc5160b2842ef7aa5b4f238b7fb">ast_cdr_setvar</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan), <span class="stringliteral">&quot;disposition&quot;</span>, <span class="stringliteral">&quot;junk&quot;</span>) != 0);</div><div class="line"><a name="l02232"></a><span class="lineno"> 2232</span>&#160;   ast_test_validate(<a class="code" href="../../d8/d89/structtest.html">test</a>, <a class="code" href="../../dc/d07/cdr_8h.html#a4cb15fc5160b2842ef7aa5b4f238b7fb">ast_cdr_setvar</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan), <span class="stringliteral">&quot;amaflags&quot;</span>, <span class="stringliteral">&quot;junk&quot;</span>) != 0);</div><div class="line"><a name="l02233"></a><span class="lineno"> 2233</span>&#160;   ast_test_validate(<a class="code" href="../../d8/d89/structtest.html">test</a>, <a class="code" href="../../dc/d07/cdr_8h.html#a4cb15fc5160b2842ef7aa5b4f238b7fb">ast_cdr_setvar</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan), <span class="stringliteral">&quot;accountcode&quot;</span>, <span class="stringliteral">&quot;junk&quot;</span>) != 0);</div><div class="line"><a name="l02234"></a><span class="lineno"> 2234</span>&#160;   ast_test_validate(<a class="code" href="../../d8/d89/structtest.html">test</a>, <a class="code" href="../../dc/d07/cdr_8h.html#a4cb15fc5160b2842ef7aa5b4f238b7fb">ast_cdr_setvar</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan), <span class="stringliteral">&quot;uniqueid&quot;</span>, <span class="stringliteral">&quot;junk&quot;</span>) != 0);</div><div class="line"><a name="l02235"></a><span class="lineno"> 2235</span>&#160;   ast_test_validate(<a class="code" href="../../d8/d89/structtest.html">test</a>, <a class="code" href="../../dc/d07/cdr_8h.html#a4cb15fc5160b2842ef7aa5b4f238b7fb">ast_cdr_setvar</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan), <span class="stringliteral">&quot;linkedid&quot;</span>, <span class="stringliteral">&quot;junk&quot;</span>) != 0);</div><div class="line"><a name="l02236"></a><span class="lineno"> 2236</span>&#160;   ast_test_validate(<a class="code" href="../../d8/d89/structtest.html">test</a>, <a class="code" href="../../dc/d07/cdr_8h.html#a4cb15fc5160b2842ef7aa5b4f238b7fb">ast_cdr_setvar</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan), <span class="stringliteral">&quot;userfield&quot;</span>, <span class="stringliteral">&quot;junk&quot;</span>) != 0);</div><div class="line"><a name="l02237"></a><span class="lineno"> 2237</span>&#160;   ast_test_validate(<a class="code" href="../../d8/d89/structtest.html">test</a>, <a class="code" href="../../dc/d07/cdr_8h.html#a4cb15fc5160b2842ef7aa5b4f238b7fb">ast_cdr_setvar</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan), <span class="stringliteral">&quot;sequence&quot;</span>, <span class="stringliteral">&quot;junk&quot;</span>) != 0);</div><div class="line"><a name="l02238"></a><span class="lineno"> 2238</span>&#160;</div><div class="line"><a name="l02239"></a><span class="lineno"> 2239</span>&#160;   <span class="comment">/* Verify the values */</span></div><div class="line"><a name="l02240"></a><span class="lineno"> 2240</span>&#160;   ast_test_validate(<a class="code" href="../../d8/d89/structtest.html">test</a>, <a class="code" href="../../dc/d07/cdr_8h.html#a90a1e29081a1827a2cc4c535ef07c8c2">ast_cdr_getvar</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan), <span class="stringliteral">&quot;userfield&quot;</span>, varbuffer, <span class="keyword">sizeof</span>(varbuffer)) == 0);</div><div class="line"><a name="l02241"></a><span class="lineno"> 2241</span>&#160;   ast_test_validate(<a class="code" href="../../d8/d89/structtest.html">test</a>, strcmp(varbuffer, <span class="stringliteral">&quot;foobar&quot;</span>) == 0);</div><div class="line"><a name="l02242"></a><span class="lineno"> 2242</span>&#160;   ast_test_validate(<a class="code" href="../../d8/d89/structtest.html">test</a>, <a class="code" href="../../dc/d07/cdr_8h.html#a90a1e29081a1827a2cc4c535ef07c8c2">ast_cdr_getvar</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan), <span class="stringliteral">&quot;test_variable&quot;</span>, varbuffer, <span class="keyword">sizeof</span>(varbuffer)) == 0);</div><div class="line"><a name="l02243"></a><span class="lineno"> 2243</span>&#160;   ast_test_validate(<a class="code" href="../../d8/d89/structtest.html">test</a>, strcmp(varbuffer, <span class="stringliteral">&quot;record_1&quot;</span>) == 0);</div><div class="line"><a name="l02244"></a><span class="lineno"> 2244</span>&#160;   ast_test_validate(<a class="code" href="../../d8/d89/structtest.html">test</a>, <a class="code" href="../../dc/d07/cdr_8h.html#a90a1e29081a1827a2cc4c535ef07c8c2">ast_cdr_getvar</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan), <span class="stringliteral">&quot;amaflags&quot;</span>, varbuffer, <span class="keyword">sizeof</span>(varbuffer)) == 0);</div><div class="line"><a name="l02245"></a><span class="lineno"> 2245</span>&#160;   sscanf(varbuffer, <span class="stringliteral">&quot;%d&quot;</span>, &amp;int_buffer);</div><div class="line"><a name="l02246"></a><span class="lineno"> 2246</span>&#160;   ast_test_validate(<a class="code" href="../../d8/d89/structtest.html">test</a>, int_buffer == <a class="code" href="../../d5/d7b/channel_8h.html#a784b9642d6e2862b04b7f970b337549fa57ba8ad197fc6c0839e2984226bb84a8">AST_AMA_OMIT</a>);</div><div class="line"><a name="l02247"></a><span class="lineno"> 2247</span>&#160;   ast_test_validate(<a class="code" href="../../d8/d89/structtest.html">test</a>, <a class="code" href="../../dc/d07/cdr_8h.html#a90a1e29081a1827a2cc4c535ef07c8c2">ast_cdr_getvar</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan), <span class="stringliteral">&quot;accountcode&quot;</span>, varbuffer, <span class="keyword">sizeof</span>(varbuffer)) == 0);</div><div class="line"><a name="l02248"></a><span class="lineno"> 2248</span>&#160;   ast_test_validate(<a class="code" href="../../d8/d89/structtest.html">test</a>, strcmp(varbuffer, <span class="stringliteral">&quot;XXX&quot;</span>) == 0);</div><div class="line"><a name="l02249"></a><span class="lineno"> 2249</span>&#160;   ast_test_validate(<a class="code" href="../../d8/d89/structtest.html">test</a>, <a class="code" href="../../dc/d07/cdr_8h.html#a90a1e29081a1827a2cc4c535ef07c8c2">ast_cdr_getvar</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan), <span class="stringliteral">&quot;clid&quot;</span>, varbuffer, <span class="keyword">sizeof</span>(varbuffer)) == 0);</div><div class="line"><a name="l02250"></a><span class="lineno"> 2250</span>&#160;   ast_test_validate(<a class="code" href="../../d8/d89/structtest.html">test</a>, strcmp(varbuffer, <span class="stringliteral">&quot;\&quot;Alice\&quot; &lt;100&gt;&quot;</span>) == 0);</div><div class="line"><a name="l02251"></a><span class="lineno"> 2251</span>&#160;   ast_test_validate(<a class="code" href="../../d8/d89/structtest.html">test</a>, <a class="code" href="../../dc/d07/cdr_8h.html#a90a1e29081a1827a2cc4c535ef07c8c2">ast_cdr_getvar</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan), <span class="stringliteral">&quot;src&quot;</span>, varbuffer, <span class="keyword">sizeof</span>(varbuffer)) == 0);</div><div class="line"><a name="l02252"></a><span class="lineno"> 2252</span>&#160;   ast_test_validate(<a class="code" href="../../d8/d89/structtest.html">test</a>, strcmp(varbuffer, <span class="stringliteral">&quot;100&quot;</span>) == 0);</div><div class="line"><a name="l02253"></a><span class="lineno"> 2253</span>&#160;   ast_test_validate(<a class="code" href="../../d8/d89/structtest.html">test</a>, <a class="code" href="../../dc/d07/cdr_8h.html#a90a1e29081a1827a2cc4c535ef07c8c2">ast_cdr_getvar</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan), <span class="stringliteral">&quot;dst&quot;</span>, varbuffer, <span class="keyword">sizeof</span>(varbuffer)) == 0);</div><div class="line"><a name="l02254"></a><span class="lineno"> 2254</span>&#160;   ast_test_validate(<a class="code" href="../../d8/d89/structtest.html">test</a>, strcmp(varbuffer, <span class="stringliteral">&quot;100&quot;</span>) == 0);</div><div class="line"><a name="l02255"></a><span class="lineno"> 2255</span>&#160;   ast_test_validate(<a class="code" href="../../d8/d89/structtest.html">test</a>, <a class="code" href="../../dc/d07/cdr_8h.html#a90a1e29081a1827a2cc4c535ef07c8c2">ast_cdr_getvar</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan), <span class="stringliteral">&quot;dcontext&quot;</span>, varbuffer, <span class="keyword">sizeof</span>(varbuffer)) == 0);</div><div class="line"><a name="l02256"></a><span class="lineno"> 2256</span>&#160;   ast_test_validate(<a class="code" href="../../d8/d89/structtest.html">test</a>, strcmp(varbuffer, <span class="stringliteral">&quot;default&quot;</span>) == 0);</div><div class="line"><a name="l02257"></a><span class="lineno"> 2257</span>&#160;   ast_test_validate(<a class="code" href="../../d8/d89/structtest.html">test</a>, <a class="code" href="../../dc/d07/cdr_8h.html#a90a1e29081a1827a2cc4c535ef07c8c2">ast_cdr_getvar</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan), <span class="stringliteral">&quot;channel&quot;</span>, varbuffer, <span class="keyword">sizeof</span>(varbuffer)) == 0);</div><div class="line"><a name="l02258"></a><span class="lineno"> 2258</span>&#160;   ast_test_validate(<a class="code" href="../../d8/d89/structtest.html">test</a>, strcmp(varbuffer, <a class="code" href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a> <span class="stringliteral">&quot;/Alice&quot;</span>) == 0);</div><div class="line"><a name="l02259"></a><span class="lineno"> 2259</span>&#160;   ast_test_validate(<a class="code" href="../../d8/d89/structtest.html">test</a>, <a class="code" href="../../dc/d07/cdr_8h.html#a90a1e29081a1827a2cc4c535ef07c8c2">ast_cdr_getvar</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan), <span class="stringliteral">&quot;dstchannel&quot;</span>, varbuffer, <span class="keyword">sizeof</span>(varbuffer)) == 0);</div><div class="line"><a name="l02260"></a><span class="lineno"> 2260</span>&#160;   ast_test_validate(<a class="code" href="../../d8/d89/structtest.html">test</a>, strcmp(varbuffer, <span class="stringliteral">&quot;&quot;</span>) == 0);</div><div class="line"><a name="l02261"></a><span class="lineno"> 2261</span>&#160;   ast_test_validate(<a class="code" href="../../d8/d89/structtest.html">test</a>, <a class="code" href="../../dc/d07/cdr_8h.html#a90a1e29081a1827a2cc4c535ef07c8c2">ast_cdr_getvar</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan), <span class="stringliteral">&quot;lastapp&quot;</span>, varbuffer, <span class="keyword">sizeof</span>(varbuffer)) == 0);</div><div class="line"><a name="l02262"></a><span class="lineno"> 2262</span>&#160;   ast_test_validate(<a class="code" href="../../d8/d89/structtest.html">test</a>, strcmp(varbuffer, <span class="stringliteral">&quot;Wait&quot;</span>) == 0);</div><div class="line"><a name="l02263"></a><span class="lineno"> 2263</span>&#160;   ast_test_validate(<a class="code" href="../../d8/d89/structtest.html">test</a>, <a class="code" href="../../dc/d07/cdr_8h.html#a90a1e29081a1827a2cc4c535ef07c8c2">ast_cdr_getvar</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan), <span class="stringliteral">&quot;lastdata&quot;</span>, varbuffer, <span class="keyword">sizeof</span>(varbuffer)) == 0);</div><div class="line"><a name="l02264"></a><span class="lineno"> 2264</span>&#160;   ast_test_validate(<a class="code" href="../../d8/d89/structtest.html">test</a>, strcmp(varbuffer, <span class="stringliteral">&quot;10&quot;</span>) == 0);</div><div class="line"><a name="l02265"></a><span class="lineno"> 2265</span>&#160;   ast_test_validate(<a class="code" href="../../d8/d89/structtest.html">test</a>, <a class="code" href="../../dc/d07/cdr_8h.html#a90a1e29081a1827a2cc4c535ef07c8c2">ast_cdr_getvar</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan), <span class="stringliteral">&quot;start&quot;</span>, varbuffer, <span class="keyword">sizeof</span>(varbuffer)) == 0);</div><div class="line"><a name="l02266"></a><span class="lineno"> 2266</span>&#160;   sscanf(varbuffer, <span class="stringliteral">&quot;%lf&quot;</span>, &amp;db_buffer);</div><div class="line"><a name="l02267"></a><span class="lineno"> 2267</span>&#160;   ast_test_validate(<a class="code" href="../../d8/d89/structtest.html">test</a>, fabs(db_buffer) &gt; 0);</div><div class="line"><a name="l02268"></a><span class="lineno"> 2268</span>&#160;   ast_test_validate(<a class="code" href="../../d8/d89/structtest.html">test</a>, <a class="code" href="../../dc/d07/cdr_8h.html#a90a1e29081a1827a2cc4c535ef07c8c2">ast_cdr_getvar</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan), <span class="stringliteral">&quot;answer&quot;</span>, varbuffer, <span class="keyword">sizeof</span>(varbuffer)) == 0);</div><div class="line"><a name="l02269"></a><span class="lineno"> 2269</span>&#160;   sscanf(varbuffer, <span class="stringliteral">&quot;%lf&quot;</span>, &amp;db_buffer);</div><div class="line"><a name="l02270"></a><span class="lineno"> 2270</span>&#160;   ast_test_validate(<a class="code" href="../../d8/d89/structtest.html">test</a>, fabs(db_buffer) &lt; <a class="code" href="../../d7/d8e/test__cdr_8c.html#a002b2f4894492820fe708b1b7e7c5e70">EPSILON</a>);</div><div class="line"><a name="l02271"></a><span class="lineno"> 2271</span>&#160;   ast_test_validate(<a class="code" href="../../d8/d89/structtest.html">test</a>, <a class="code" href="../../dc/d07/cdr_8h.html#a90a1e29081a1827a2cc4c535ef07c8c2">ast_cdr_getvar</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan), <span class="stringliteral">&quot;end&quot;</span>, varbuffer, <span class="keyword">sizeof</span>(varbuffer)) == 0);</div><div class="line"><a name="l02272"></a><span class="lineno"> 2272</span>&#160;   sscanf(varbuffer, <span class="stringliteral">&quot;%lf&quot;</span>, &amp;db_buffer);</div><div class="line"><a name="l02273"></a><span class="lineno"> 2273</span>&#160;   ast_test_validate(<a class="code" href="../../d8/d89/structtest.html">test</a>, fabs(db_buffer) &lt; <a class="code" href="../../d7/d8e/test__cdr_8c.html#a002b2f4894492820fe708b1b7e7c5e70">EPSILON</a>);</div><div class="line"><a name="l02274"></a><span class="lineno"> 2274</span>&#160;   ast_test_validate(<a class="code" href="../../d8/d89/structtest.html">test</a>, <a class="code" href="../../dc/d07/cdr_8h.html#a90a1e29081a1827a2cc4c535ef07c8c2">ast_cdr_getvar</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan), <span class="stringliteral">&quot;duration&quot;</span>, varbuffer, <span class="keyword">sizeof</span>(varbuffer)) == 0);</div><div class="line"><a name="l02275"></a><span class="lineno"> 2275</span>&#160;   sscanf(varbuffer, <span class="stringliteral">&quot;%lf&quot;</span>, &amp;db_buffer);</div><div class="line"><a name="l02276"></a><span class="lineno"> 2276</span>&#160;   ast_test_validate(<a class="code" href="../../d8/d89/structtest.html">test</a>, fabs(db_buffer) &gt; 0);</div><div class="line"><a name="l02277"></a><span class="lineno"> 2277</span>&#160;   ast_test_validate(<a class="code" href="../../d8/d89/structtest.html">test</a>, <a class="code" href="../../dc/d07/cdr_8h.html#a90a1e29081a1827a2cc4c535ef07c8c2">ast_cdr_getvar</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan), <span class="stringliteral">&quot;billsec&quot;</span>, varbuffer, <span class="keyword">sizeof</span>(varbuffer)) == 0);</div><div class="line"><a name="l02278"></a><span class="lineno"> 2278</span>&#160;   sscanf(varbuffer, <span class="stringliteral">&quot;%lf&quot;</span>, &amp;db_buffer);</div><div class="line"><a name="l02279"></a><span class="lineno"> 2279</span>&#160;   ast_test_validate(<a class="code" href="../../d8/d89/structtest.html">test</a>, fabs(db_buffer) &lt; <a class="code" href="../../d7/d8e/test__cdr_8c.html#a002b2f4894492820fe708b1b7e7c5e70">EPSILON</a>);</div><div class="line"><a name="l02280"></a><span class="lineno"> 2280</span>&#160;   ast_test_validate(<a class="code" href="../../d8/d89/structtest.html">test</a>, <a class="code" href="../../dc/d07/cdr_8h.html#a90a1e29081a1827a2cc4c535ef07c8c2">ast_cdr_getvar</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan), <span class="stringliteral">&quot;disposition&quot;</span>, varbuffer, <span class="keyword">sizeof</span>(varbuffer)) == 0);</div><div class="line"><a name="l02281"></a><span class="lineno"> 2281</span>&#160;   sscanf(varbuffer, <span class="stringliteral">&quot;%d&quot;</span>, &amp;int_buffer);</div><div class="line"><a name="l02282"></a><span class="lineno"> 2282</span>&#160;   ast_test_validate(<a class="code" href="../../d8/d89/structtest.html">test</a>, int_buffer == <a class="code" href="../../dc/d07/cdr_8h.html#a53e2666db1174cc83384daf9049023c0a2677fdaf6d385ca80373f0666b36b613">AST_CDR_NULL</a>);</div><div class="line"><a name="l02283"></a><span class="lineno"> 2283</span>&#160;   ast_test_validate(<a class="code" href="../../d8/d89/structtest.html">test</a>, <a class="code" href="../../dc/d07/cdr_8h.html#a90a1e29081a1827a2cc4c535ef07c8c2">ast_cdr_getvar</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan), <span class="stringliteral">&quot;uniqueid&quot;</span>, varbuffer, <span class="keyword">sizeof</span>(varbuffer)) == 0);</div><div class="line"><a name="l02284"></a><span class="lineno"> 2284</span>&#160;   ast_test_validate(<a class="code" href="../../d8/d89/structtest.html">test</a>, strcmp(varbuffer, <a class="code" href="../../d5/d7b/channel_8h.html#a3b6254f6d3832ef928f0a727113b1c63">ast_channel_uniqueid</a>(chan)) == 0);</div><div class="line"><a name="l02285"></a><span class="lineno"> 2285</span>&#160;   ast_test_validate(<a class="code" href="../../d8/d89/structtest.html">test</a>, <a class="code" href="../../dc/d07/cdr_8h.html#a90a1e29081a1827a2cc4c535ef07c8c2">ast_cdr_getvar</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan), <span class="stringliteral">&quot;linkedid&quot;</span>, varbuffer, <span class="keyword">sizeof</span>(varbuffer)) == 0);</div><div class="line"><a name="l02286"></a><span class="lineno"> 2286</span>&#160;   ast_test_validate(<a class="code" href="../../d8/d89/structtest.html">test</a>, strcmp(varbuffer, <a class="code" href="../../d5/d7b/channel_8h.html#aa776071546e0bb0eb8cfc4c3a3159dfc">ast_channel_linkedid</a>(chan)) == 0);</div><div class="line"><a name="l02287"></a><span class="lineno"> 2287</span>&#160;   ast_test_validate(<a class="code" href="../../d8/d89/structtest.html">test</a>, <a class="code" href="../../dc/d07/cdr_8h.html#a90a1e29081a1827a2cc4c535ef07c8c2">ast_cdr_getvar</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan), <span class="stringliteral">&quot;sequence&quot;</span>, varbuffer, <span class="keyword">sizeof</span>(varbuffer)) == 0);</div><div class="line"><a name="l02288"></a><span class="lineno"> 2288</span>&#160;</div><div class="line"><a name="l02289"></a><span class="lineno"> 2289</span>&#160;   <span class="comment">/* Fork the CDR, and check that we change the properties on both CDRs. */</span></div><div class="line"><a name="l02290"></a><span class="lineno"> 2290</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#ab5033a1f3d781d45e7ccc27598114510">ast_set_flag</a>(&amp;fork_options, <a class="code" href="../../dc/d07/cdr_8h.html#a7e9ee9382efd6d636155553beb39ca37aca37d4bd33596be9016fa99e5b7216ca">AST_CDR_FLAG_KEEP_VARS</a>);</div><div class="line"><a name="l02291"></a><span class="lineno"> 2291</span>&#160;   ast_test_validate(<a class="code" href="../../d8/d89/structtest.html">test</a>, <a class="code" href="../../dc/d07/cdr_8h.html#a849140919895e9871b901d6805f47eba">ast_cdr_fork</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan), &amp;fork_options) == 0);</div><div class="line"><a name="l02292"></a><span class="lineno"> 2292</span>&#160;</div><div class="line"><a name="l02293"></a><span class="lineno"> 2293</span>&#160;   <span class="comment">/* Change some properties */</span></div><div class="line"><a name="l02294"></a><span class="lineno"> 2294</span>&#160;   <a class="code" href="../../dc/d07/cdr_8h.html#a1a5de28755e68ba2351a38210afc2423">ast_cdr_setuserfield</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan), <span class="stringliteral">&quot;yackity&quot;</span>);</div><div class="line"><a name="l02295"></a><span class="lineno"> 2295</span>&#160;   ast_test_validate(<a class="code" href="../../d8/d89/structtest.html">test</a>, <a class="code" href="../../dc/d07/cdr_8h.html#a4cb15fc5160b2842ef7aa5b4f238b7fb">ast_cdr_setvar</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan), <span class="stringliteral">&quot;test_variable&quot;</span>, <span class="stringliteral">&quot;record_1b&quot;</span>) == 0);</div><div class="line"><a name="l02296"></a><span class="lineno"> 2296</span>&#160;</div><div class="line"><a name="l02297"></a><span class="lineno"> 2297</span>&#160;   <span class="comment">/* Fork the CDR again, finalizing all current CDRs */</span></div><div class="line"><a name="l02298"></a><span class="lineno"> 2298</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#ab5033a1f3d781d45e7ccc27598114510">ast_set_flag</a>(&amp;fork_options, <a class="code" href="../../dc/d07/cdr_8h.html#a7e9ee9382efd6d636155553beb39ca37aca37d4bd33596be9016fa99e5b7216ca">AST_CDR_FLAG_KEEP_VARS</a> | <a class="code" href="../../dc/d07/cdr_8h.html#a7e9ee9382efd6d636155553beb39ca37a5c7786f80ec35a01e0dd275218afa0f8">AST_CDR_FLAG_FINALIZE</a>);</div><div class="line"><a name="l02299"></a><span class="lineno"> 2299</span>&#160;   ast_test_validate(<a class="code" href="../../d8/d89/structtest.html">test</a>, <a class="code" href="../../dc/d07/cdr_8h.html#a849140919895e9871b901d6805f47eba">ast_cdr_fork</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan), &amp;fork_options) == 0);</div><div class="line"><a name="l02300"></a><span class="lineno"> 2300</span>&#160;</div><div class="line"><a name="l02301"></a><span class="lineno"> 2301</span>&#160;   <span class="comment">/* Channel enters Answer app */</span></div><div class="line"><a name="l02302"></a><span class="lineno"> 2302</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(chan);</div><div class="line"><a name="l02303"></a><span class="lineno"> 2303</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a14af45a19bb70a19d44cc965e88e0a3b">ast_channel_appl_set</a>(chan, <span class="stringliteral">&quot;Answer&quot;</span>);</div><div class="line"><a name="l02304"></a><span class="lineno"> 2304</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a4d7d602ffd3240a3deed5f01343ccd31">ast_channel_data_set</a>(chan, <span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l02305"></a><span class="lineno"> 2305</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#ae56cab679c0cda6436b930bc74297895">ast_channel_priority_set</a>(chan, 1);</div><div class="line"><a name="l02306"></a><span class="lineno"> 2306</span>&#160;   <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#gaec5f1aaded97197250e063ed6c7ad857">ast_channel_publish_snapshot</a>(chan);</div><div class="line"><a name="l02307"></a><span class="lineno"> 2307</span>&#160;   <a class="code" href="../../d9/d95/channelstate_8h.html#ad9d8f7d9e228b5af98a7b40db9f06448">ast_setstate</a>(chan, <a class="code" href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660aa8ab4bcda7378ccc17c39dfd880cba3d">AST_STATE_UP</a>);</div><div class="line"><a name="l02308"></a><span class="lineno"> 2308</span>&#160;</div><div class="line"><a name="l02309"></a><span class="lineno"> 2309</span>&#160;   <span class="comment">/* Set properties on the last record */</span></div><div class="line"><a name="l02310"></a><span class="lineno"> 2310</span>&#160;   ast_channel_accountcode_set(chan, <span class="stringliteral">&quot;ZZZ&quot;</span>);</div><div class="line"><a name="l02311"></a><span class="lineno"> 2311</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l02312"></a><span class="lineno"> 2312</span>&#160;   <a class="code" href="../../dc/d07/cdr_8h.html#a1a5de28755e68ba2351a38210afc2423">ast_cdr_setuserfield</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan), <span class="stringliteral">&quot;schmackity&quot;</span>);</div><div class="line"><a name="l02313"></a><span class="lineno"> 2313</span>&#160;   ast_test_validate(<a class="code" href="../../d8/d89/structtest.html">test</a>, <a class="code" href="../../dc/d07/cdr_8h.html#a4cb15fc5160b2842ef7aa5b4f238b7fb">ast_cdr_setvar</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan), <span class="stringliteral">&quot;test_variable&quot;</span>, <span class="stringliteral">&quot;record_2&quot;</span>) == 0);</div><div class="line"><a name="l02314"></a><span class="lineno"> 2314</span>&#160;</div><div class="line"><a name="l02315"></a><span class="lineno"> 2315</span>&#160;   <span class="comment">/* Hang up and verify */</span></div><div class="line"><a name="l02316"></a><span class="lineno"> 2316</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#ae6b4b7ba458e88fdbb2df9f39d935337">ast_channel_hangupcause_set</a>(chan, <a class="code" href="../../d4/da3/causes_8h.html#a7858ab2ba4858d98e29f0ea54980313c">AST_CAUSE_NORMAL</a>);</div><div class="line"><a name="l02317"></a><span class="lineno"> 2317</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a29557c4823f5e9c02519a01daf6a289c">ast_hangup</a>(chan);</div><div class="line"><a name="l02318"></a><span class="lineno"> 2318</span>&#160;   chan = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l02319"></a><span class="lineno"> 2319</span>&#160;   result = <a class="code" href="../../d7/d8e/test__cdr_8c.html#aabfd96ef82edc19b680e65889e005c93">verify_mock_cdr_record</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, expected, 3);</div><div class="line"><a name="l02320"></a><span class="lineno"> 2320</span>&#160;</div><div class="line"><a name="l02321"></a><span class="lineno"> 2321</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../de/d1b/cel__pgsql_8c.html#ad6c487210772a9b4b0ca04b04b847d4c">result</a>;</div><div class="line"><a name="l02322"></a><span class="lineno"> 2322</span>&#160;}</div><div class="ttc" id="channel_8h_html_a493bdebe876caafb8ee535853310364a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a></div><div class="ttdeci">#define ast_channel_lock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02945">channel.h:2945</a></div></div>
<div class="ttc" id="structast__channel_html"><div class="ttname"><a href="../../df/d3c/structast__channel.html">ast_channel</a></div><div class="ttdoc">Main Channel structure associated with a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00073">channel_internal_api.c:73</a></div></div>
<div class="ttc" id="cdr_8h_html_a4cb15fc5160b2842ef7aa5b4f238b7fb"><div class="ttname"><a href="../../dc/d07/cdr_8h.html#a4cb15fc5160b2842ef7aa5b4f238b7fb">ast_cdr_setvar</a></div><div class="ttdeci">int ast_cdr_setvar(const char *channel_name, const char *name, const char *value)</div><div class="ttdoc">Set a variable on a CDR. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/cdr_8c_source.html#l03178">cdr.c:3178</a></div></div>
<div class="ttc" id="conf2ael_8c_html_a74bb62276efdf39dd94048e007fca05b"><div class="ttname"><a href="../../de/dcc/conf2ael_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a></div><div class="ttdeci">char * config</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcc/conf2ael_8c_source.html#l00066">conf2ael.c:66</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a638dca57ef13cc34a8d584246f5add00"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a638dca57ef13cc34a8d584246f5add00">do_sleep</a></div><div class="ttdeci">static void do_sleep(struct timespec *to_sleep)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00387">test_cdr.c:387</a></div></div>
<div class="ttc" id="channel_8h_html_a14af45a19bb70a19d44cc965e88e0a3b"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a14af45a19bb70a19d44cc965e88e0a3b">ast_channel_appl_set</a></div><div class="ttdeci">void ast_channel_appl_set(struct ast_channel *chan, const char *value)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00321">channel_internal_api.c:321</a></div></div>
<div class="ttc" id="cdr_8h_html_a90a1e29081a1827a2cc4c535ef07c8c2"><div class="ttname"><a href="../../dc/d07/cdr_8h.html#a90a1e29081a1827a2cc4c535ef07c8c2">ast_cdr_getvar</a></div><div class="ttdeci">int ast_cdr_getvar(const char *channel_name, const char *name, char *value, size_t length)</div><div class="ttdoc">Retrieve a CDR variable from a channel&amp;#39;s current CDR. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/cdr_8c_source.html#l03324">cdr.c:3324</a></div></div>
<div class="ttc" id="channel_8h_html_ae6b4b7ba458e88fdbb2df9f39d935337"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#ae6b4b7ba458e88fdbb2df9f39d935337">ast_channel_hangupcause_set</a></div><div class="ttdeci">void ast_channel_hangupcause_set(struct ast_channel *chan, int value)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00431">channel_internal_api.c:431</a></div></div>
<div class="ttc" id="test__cdr_8c_html_add35ea2349b86888eef95d404e6faebf"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#add35ea2349b86888eef95d404e6faebf">TEST_CATEGORY</a></div><div class="ttdeci">#define TEST_CATEGORY</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00051">test_cdr.c:51</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a1ed3332fe918eafa4f3f79c131525249"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a1ed3332fe918eafa4f3f79c131525249">CREATE_ALICE_CHANNEL</a></div><div class="ttdeci">#define CREATE_ALICE_CHANNEL(channel_var, caller_id, expected_record)</div><div class="ttdoc">Create a test_cdr_chan_tech for Alice, and set the expected CDR records&amp;#39; linkedid and uniqueid...</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00248">test_cdr.c:248</a></div></div>
<div class="ttc" id="cdr_8h_html_a7e9ee9382efd6d636155553beb39ca37a5c7786f80ec35a01e0dd275218afa0f8"><div class="ttname"><a href="../../dc/d07/cdr_8h.html#a7e9ee9382efd6d636155553beb39ca37a5c7786f80ec35a01e0dd275218afa0f8">AST_CDR_FLAG_FINALIZE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00244">cdr.h:244</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a002b2f4894492820fe708b1b7e7c5e70"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a002b2f4894492820fe708b1b7e7c5e70">EPSILON</a></div><div class="ttdeci">#define EPSILON</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00049">test_cdr.c:49</a></div></div>
<div class="ttc" id="test_8h_html_a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e">TEST_EXECUTE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00208">test.h:208</a></div></div>
<div class="ttc" id="utils_8h_html_ab5033a1f3d781d45e7ccc27598114510"><div class="ttname"><a href="../../d5/d60/utils_8h.html#ab5033a1f3d781d45e7ccc27598114510">ast_set_flag</a></div><div class="ttdeci">#define ast_set_flag(p, flag)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00070">utils.h:70</a></div></div>
<div class="ttc" id="structast__cdr_html_a8098d02138e27b57d184b260b6669eed"><div class="ttname"><a href="../../d4/d5d/structast__cdr.html#a8098d02138e27b57d184b260b6669eed">ast_cdr::next</a></div><div class="ttdeci">struct ast_cdr * next</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00325">cdr.h:325</a></div></div>
<div class="ttc" id="cdr_8h_html_a849140919895e9871b901d6805f47eba"><div class="ttname"><a href="../../dc/d07/cdr_8h.html#a849140919895e9871b901d6805f47eba">ast_cdr_fork</a></div><div class="ttdeci">int ast_cdr_fork(const char *channel_name, struct ast_flags *options)</div><div class="ttdoc">Fork a CDR. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/cdr_8c_source.html#l03637">cdr.c:3637</a></div></div>
<div class="ttc" id="cdr_8h_html_a53e2666db1174cc83384daf9049023c0af31f029a69fc67c7fca424569f708143"><div class="ttname"><a href="../../dc/d07/cdr_8h.html#a53e2666db1174cc83384daf9049023c0af31f029a69fc67c7fca424569f708143">AST_CDR_FAILED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00256">cdr.h:256</a></div></div>
<div class="ttc" id="cdr_8h_html_a53e2666db1174cc83384daf9049023c0ac3e47d059a0e67a03f822f10bb7ec5b1"><div class="ttname"><a href="../../dc/d07/cdr_8h.html#a53e2666db1174cc83384daf9049023c0ac3e47d059a0e67a03f822f10bb7ec5b1">AST_CDR_ANSWERED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00258">cdr.h:258</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a1ccf26b207f6e00ee0ece3e227de42a1"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a1ccf26b207f6e00ee0ece3e227de42a1">SWAP_CONFIG</a></div><div class="ttdeci">#define SWAP_CONFIG(ao2_config, template)</div><div class="ttdoc">Macro to swap a configuration out from the CDR engine. This should be used at the beginning of each t...</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00079">test_cdr.c:79</a></div></div>
<div class="ttc" id="channelstate_8h_html_a03585bc87e5bbd0f4d11bc789734c660aa8ab4bcda7378ccc17c39dfd880cba3d"><div class="ttname"><a href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660aa8ab4bcda7378ccc17c39dfd880cba3d">AST_STATE_UP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d95/channelstate_8h_source.html#l00042">channelstate.h:42</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="test_8h_html_a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b">TEST_INIT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00207">test.h:207</a></div></div>
<div class="ttc" id="test__cel_8c_html_af600138406d2c64d06bf7dedf447cfc9"><div class="ttname"><a href="../../db/dc4/test__cel_8c.html#af600138406d2c64d06bf7dedf447cfc9">to_sleep</a></div><div class="ttdeci">static struct timespec to_sleep</div><div class="ttdoc">A 1 second sleep. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/dc4/test__cel_8c_source.html#l00085">test_cel.c:85</a></div></div>
<div class="ttc" id="channel_8h_html_aa776071546e0bb0eb8cfc4c3a3159dfc"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#aa776071546e0bb0eb8cfc4c3a3159dfc">ast_channel_linkedid</a></div><div class="ttdeci">const char * ast_channel_linkedid(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00311">channel_internal_api.c:311</a></div></div>
<div class="ttc" id="test_8h_html_aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c"><div class="ttname"><a href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c">AST_TEST_NOT_RUN</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00201">test.h:201</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a8739ae4d4e4305695b4deaebc79986f1"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a8739ae4d4e4305695b4deaebc79986f1">ALICE_CALLERID</a></div><div class="ttdeci">#define ALICE_CALLERID</div><div class="ttdoc">Alice&amp;#39;s Caller ID. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00216">test_cdr.c:216</a></div></div>
<div class="ttc" id="utils_8h_html_a1604b4d72144dd3d9f7da668e90337e9"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a></div><div class="ttdeci">#define RAII_VAR(vartype, varname, initval, dtor)</div><div class="ttdoc">Declare a variable that will call a destructor function when it goes out of scope. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00911">utils.h:911</a></div></div>
<div class="ttc" id="structast__cdr_html_a2979e8d95424c018bf2c830b28a199d0"><div class="ttname"><a href="../../d4/d5d/structast__cdr.html#a2979e8d95424c018bf2c830b28a199d0">ast_cdr::linkedid</a></div><div class="ttdeci">char linkedid[AST_MAX_UNIQUEID]</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00316">cdr.h:316</a></div></div>
<div class="ttc" id="structast__party__caller_html"><div class="ttname"><a href="../../d4/d77/structast__party__caller.html">ast_party_caller</a></div><div class="ttdoc">Caller Party information. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l00419">channel.h:419</a></div></div>
<div class="ttc" id="structast__cdr_html_ac733390e45613f1287d0b1b95e8d18ea"><div class="ttname"><a href="../../d4/d5d/structast__cdr.html#ac733390e45613f1287d0b1b95e8d18ea">ast_cdr::uniqueid</a></div><div class="ttdeci">char uniqueid[AST_MAX_UNIQUEID]</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00314">cdr.h:314</a></div></div>
<div class="ttc" id="channel_8h_html_ac264c5bfc7884724c7d289662dd6e8ad"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#ac264c5bfc7884724c7d289662dd6e8ad">ast_channel_amaflags_set</a></div><div class="ttdeci">void ast_channel_amaflags_set(struct ast_channel *chan, enum ama_flags value)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00411">channel_internal_api.c:411</a></div></div>
<div class="ttc" id="test__cdr_8c_html_aabfd96ef82edc19b680e65889e005c93"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#aabfd96ef82edc19b680e65889e005c93">verify_mock_cdr_record</a></div><div class="ttdeci">static enum ast_test_result_state verify_mock_cdr_record(struct ast_test *test, struct ast_cdr *expected, int record)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00310">test_cdr.c:310</a></div></div>
<div class="ttc" id="channel_8h_html_a3b6254f6d3832ef928f0a727113b1c63"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a3b6254f6d3832ef928f0a727113b1c63">ast_channel_uniqueid</a></div><div class="ttdeci">const char * ast_channel_uniqueid(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00305">channel_internal_api.c:305</a></div></div>
<div class="ttc" id="causes_8h_html_a7858ab2ba4858d98e29f0ea54980313c"><div class="ttname"><a href="../../d4/da3/causes_8h.html#a7858ab2ba4858d98e29f0ea54980313c">AST_CAUSE_NORMAL</a></div><div class="ttdeci">#define AST_CAUSE_NORMAL</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/da3/causes_8h_source.html#l00150">causes.h:150</a></div></div>
<div class="ttc" id="structast__cdr_html"><div class="ttname"><a href="../../d4/d5d/structast__cdr.html">ast_cdr</a></div><div class="ttdoc">Responsible for call detail data. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00276">cdr.h:276</a></div></div>
<div class="ttc" id="channel_8h_html_a784b9642d6e2862b04b7f970b337549fa57ba8ad197fc6c0839e2984226bb84a8"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a784b9642d6e2862b04b7f970b337549fa57ba8ad197fc6c0839e2984226bb84a8">AST_AMA_OMIT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01180">channel.h:1180</a></div></div>
<div class="ttc" id="namespacesip__to__pjsip_html_ab82f408a83ecba10ea39afd8abfd371e"><div class="ttname"><a href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">sip_to_pjsip.info</a></div><div class="ttdeci">def info(msg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d6f/sip__to__pjsip_8py_source.html#l01313">sip_to_pjsip.py:1313</a></div></div>
<div class="ttc" id="astobj2_8h_html_ae0422b60d8e25b6962b2d61ae4ddf724"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ae0422b60d8e25b6962b2d61ae4ddf724">ao2_alloc</a></div><div class="ttdeci">#define ao2_alloc(data_size, destructor_fn)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00411">astobj2.h:411</a></div></div>
<div class="ttc" id="cdr_8h_html_a53e2666db1174cc83384daf9049023c0a2677fdaf6d385ca80373f0666b36b613"><div class="ttname"><a href="../../dc/d07/cdr_8h.html#a53e2666db1174cc83384daf9049023c0a2677fdaf6d385ca80373f0666b36b613">AST_CDR_NULL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00255">cdr.h:255</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a5722136884f356e886185ddd4f58e97a"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a5722136884f356e886185ddd4f58e97a">unanswered_cdr_config</a></div><div class="ttdeci">static struct ast_cdr_config unanswered_cdr_config</div><div class="ttdoc">A configuration suitable for CDRs with unanswered records. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00066">test_cdr.c:66</a></div></div>
<div class="ttc" id="channel_8h_html_a29557c4823f5e9c02519a01daf6a289c"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a29557c4823f5e9c02519a01daf6a289c">ast_hangup</a></div><div class="ttdeci">void ast_hangup(struct ast_channel *chan)</div><div class="ttdoc">Hang up a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l02548">channel.c:2548</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a86d2cbfb5a0c115147944a541cc355e0"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a></div><div class="ttdeci">#define CHANNEL_TECH_NAME</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00055">test_cdr.c:55</a></div></div>
<div class="ttc" id="cdr_8h_html_a1a5de28755e68ba2351a38210afc2423"><div class="ttname"><a href="../../dc/d07/cdr_8h.html#a1a5de28755e68ba2351a38210afc2423">ast_cdr_setuserfield</a></div><div class="ttdeci">void ast_cdr_setuserfield(const char *channel_name, const char *userfield)</div><div class="ttdoc">Set CDR user field for channel (stored in CDR) </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/cdr_8c_source.html#l03477">cdr.c:3477</a></div></div>
<div class="ttc" id="structast__flags_html"><div class="ttname"><a href="../../dc/dac/structast__flags.html">ast_flags</a></div><div class="ttdoc">Structure used to handle boolean flags. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00199">utils.h:199</a></div></div>
<div class="ttc" id="structtest_html"><div class="ttname"><a href="../../d8/d89/structtest.html">test</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d7d/test__logger_8c_source.html#l00043">test_logger.c:43</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="strings_8h_html_ac4040268f7b6ed77dfc49c7767626369"><div class="ttname"><a href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a></div><div class="ttdeci">void ast_copy_string(char *dst, const char *src, size_t size)</div><div class="ttdoc">Size-limited null-terminating string copy. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00401">strings.h:401</a></div></div>
<div class="ttc" id="channel_8h_html_a7ca2fda13b129a55c251b56729de285b"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a></div><div class="ttdeci">const char * ast_channel_name(const struct ast_channel *chan)</div></div>
<div class="ttc" id="channelstate_8h_html_ad9d8f7d9e228b5af98a7b40db9f06448"><div class="ttname"><a href="../../d9/d95/channelstate_8h.html#ad9d8f7d9e228b5af98a7b40db9f06448">ast_setstate</a></div><div class="ttdeci">int ast_setstate(struct ast_channel *chan, enum ast_channel_state)</div><div class="ttdoc">Change the state of a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l07486">channel.c:7486</a></div></div>
<div class="ttc" id="cel__pgsql_8c_html_ad6c487210772a9b4b0ca04b04b847d4c"><div class="ttname"><a href="../../de/d1b/cel__pgsql_8c.html#ad6c487210772a9b4b0ca04b04b847d4c">result</a></div><div class="ttdeci">static PGresult * result</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1b/cel__pgsql_8c_source.html#l00088">cel_pgsql.c:88</a></div></div>
<div class="ttc" id="structast__cdr__config_html"><div class="ttname"><a href="../../d4/d69/structast__cdr__config.html">ast_cdr_config</a></div><div class="ttdoc">The global options available for CDRs. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00264">cdr.h:264</a></div></div>
<div class="ttc" id="group__StasisTopicsAndMessages_html_gaec5f1aaded97197250e063ed6c7ad857"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#gaec5f1aaded97197250e063ed6c7ad857">ast_channel_publish_snapshot</a></div><div class="ttdeci">void ast_channel_publish_snapshot(struct ast_channel *chan)</div><div class="ttdoc">Publish a ast_channel_snapshot for a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d2b/stasis__channels_8c_source.html#l01055">stasis_channels.c:1055</a></div></div>
<div class="ttc" id="structast__cdr_html_ab7fd8bddf0ce6987ae5e58fb64cfc9e2"><div class="ttname"><a href="../../d4/d5d/structast__cdr.html#ab7fd8bddf0ce6987ae5e58fb64cfc9e2">ast_cdr::clid</a></div><div class="ttdeci">char clid[AST_MAX_EXTENSION]</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00278">cdr.h:278</a></div></div>
<div class="ttc" id="channel_8h_html_ae56cab679c0cda6436b930bc74297895"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#ae56cab679c0cda6436b930bc74297895">ast_channel_priority_set</a></div><div class="ttdeci">void ast_channel_priority_set(struct ast_channel *chan, int value)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00448">channel_internal_api.c:448</a></div></div>
<div class="ttc" id="cdr_8h_html_a7e9ee9382efd6d636155553beb39ca37aca37d4bd33596be9016fa99e5b7216ca"><div class="ttname"><a href="../../dc/d07/cdr_8h.html#a7e9ee9382efd6d636155553beb39ca37aca37d4bd33596be9016fa99e5b7216ca">AST_CDR_FLAG_KEEP_VARS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00240">cdr.h:240</a></div></div>
<div class="ttc" id="channel_8h_html_a4d7d602ffd3240a3deed5f01343ccd31"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a4d7d602ffd3240a3deed5f01343ccd31">ast_channel_data_set</a></div><div class="ttdeci">void ast_channel_data_set(struct ast_channel *chan, const char *value)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00338">channel_internal_api.c:338</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a987d4f1e5d92597fac228fa99bcb56be"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a987d4f1e5d92597fac228fa99bcb56be">safe_channel_release</a></div><div class="ttdeci">static void safe_channel_release(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00371">test_cdr.c:371</a></div></div>
<div class="ttc" id="test_8h_html_aad2aec78205d328d23894a6598cc4044"><div class="ttname"><a href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044">ast_test_result_state</a></div><div class="ttdeci">ast_test_result_state</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00200">test.h:200</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a8607b923e9604219e85da71876406722"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8607b923e9604219e85da71876406722">&#9670;&nbsp;</a></span>AST_TEST_DEFINE() <span class="overload">[23/24]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AST_TEST_DEFINE </td>
          <td>(</td>
          <td class="paramtype">test_cdr_no_reset_cdr&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l02324">2324</a> of file <a class="el" href="../../d7/d8e/test__cdr_8c_source.html">test_cdr.c</a>.</p>

<p class="reference">References <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00216">ALICE_CALLERID</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00411">ao2_alloc</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l01182">AST_AMA_DOCUMENTATION</a>, <a class="el" href="../../d4/da3/causes_8h_source.html#l00150">AST_CAUSE_NORMAL</a>, <a class="el" href="../../dc/df2/cdr_8c_source.html#l03575">ast_cdr_clear_property()</a>, <a class="el" href="../../dc/d07/cdr_8h_source.html#l00256">AST_CDR_FAILED</a>, <a class="el" href="../../dc/d07/cdr_8h_source.html#l00241">AST_CDR_FLAG_DISABLE</a>, <a class="el" href="../../dc/d07/cdr_8h_source.html#l00242">AST_CDR_FLAG_DISABLE_ALL</a>, <a class="el" href="../../dc/d07/cdr_8h_source.html#l00244">AST_CDR_FLAG_FINALIZE</a>, <a class="el" href="../../dc/df2/cdr_8c_source.html#l03637">ast_cdr_fork()</a>, <a class="el" href="../../dc/df2/cdr_8c_source.html#l03548">ast_cdr_set_property()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00431">ast_channel_hangupcause_set()</a>, <a class="el" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l02548">ast_hangup()</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00070">ast_set_flag</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00201">AST_TEST_NOT_RUN</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00055">CHANNEL_TECH_NAME</a>, <a class="el" href="../../dc/d07/cdr_8h_source.html#l00278">ast_cdr::clid</a>, <a class="el" href="../../de/dcc/conf2ael_8c_source.html#l00066">config</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00248">CREATE_ALICE_CHANNEL</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00387">do_sleep()</a>, <a class="el" href="../../d9/d6f/sip__to__pjsip_8py_source.html#l01313">sip_to_pjsip::info()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00911">RAII_VAR</a>, <a class="el" href="../../de/d1b/cel__pgsql_8c_source.html#l00088">result</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00371">safe_channel_release()</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00079">SWAP_CONFIG</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00051">TEST_CATEGORY</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00208">TEST_EXECUTE</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00207">TEST_INIT</a>, and <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00310">verify_mock_cdr_record()</a>.</p>
<div class="fragment"><div class="line"><a name="l02325"></a><span class="lineno"> 2325</span>&#160;{</div><div class="line"><a name="l02326"></a><span class="lineno"> 2326</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *, chan, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d7/d8e/test__cdr_8c.html#a987d4f1e5d92597fac228fa99bcb56be">safe_channel_release</a>);</div><div class="line"><a name="l02327"></a><span class="lineno"> 2327</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d4/d69/structast__cdr__config.html">ast_cdr_config</a> *, <a class="code" href="../../de/dcc/conf2ael_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#ae0422b60d8e25b6962b2d61ae4ddf724">ao2_alloc</a>(<span class="keyword">sizeof</span>(*<a class="code" href="../../de/dcc/conf2ael_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a>), <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>),</div><div class="line"><a name="l02328"></a><span class="lineno"> 2328</span>&#160;         <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l02329"></a><span class="lineno"> 2329</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/dac/structast__flags.html">ast_flags</a> fork_options = { 0, };</div><div class="line"><a name="l02330"></a><span class="lineno"> 2330</span>&#160;   <span class="keyword">struct </span>timespec <a class="code" href="../../db/dc4/test__cel_8c.html#af600138406d2c64d06bf7dedf447cfc9">to_sleep</a> = {1, 0};</div><div class="line"><a name="l02331"></a><span class="lineno"> 2331</span>&#160;</div><div class="line"><a name="l02332"></a><span class="lineno"> 2332</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d77/structast__party__caller.html">ast_party_caller</a> caller = <a class="code" href="../../d7/d8e/test__cdr_8c.html#a8739ae4d4e4305695b4deaebc79986f1">ALICE_CALLERID</a>;</div><div class="line"><a name="l02333"></a><span class="lineno"> 2333</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d5d/structast__cdr.html">ast_cdr</a> expected = {</div><div class="line"><a name="l02334"></a><span class="lineno"> 2334</span>&#160;      .<a class="code" href="../../d4/d5d/structast__cdr.html#ab7fd8bddf0ce6987ae5e58fb64cfc9e2">clid</a> = <span class="stringliteral">&quot;\&quot;Alice\&quot; &lt;100&gt;&quot;</span>,</div><div class="line"><a name="l02335"></a><span class="lineno"> 2335</span>&#160;      .src = <span class="stringliteral">&quot;100&quot;</span>,</div><div class="line"><a name="l02336"></a><span class="lineno"> 2336</span>&#160;      .dst = <span class="stringliteral">&quot;100&quot;</span>,</div><div class="line"><a name="l02337"></a><span class="lineno"> 2337</span>&#160;      .dcontext = <span class="stringliteral">&quot;default&quot;</span>,</div><div class="line"><a name="l02338"></a><span class="lineno"> 2338</span>&#160;      .channel = <a class="code" href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a> <span class="stringliteral">&quot;/Alice&quot;</span>,</div><div class="line"><a name="l02339"></a><span class="lineno"> 2339</span>&#160;      .billsec = 0,</div><div class="line"><a name="l02340"></a><span class="lineno"> 2340</span>&#160;      .amaflags = <a class="code" href="../../d5/d7b/channel_8h.html#a784b9642d6e2862b04b7f970b337549fa57aa76a632aa16d12a92e43b81c32a68">AST_AMA_DOCUMENTATION</a>,</div><div class="line"><a name="l02341"></a><span class="lineno"> 2341</span>&#160;      .disposition = <a class="code" href="../../dc/d07/cdr_8h.html#a53e2666db1174cc83384daf9049023c0af31f029a69fc67c7fca424569f708143">AST_CDR_FAILED</a>,</div><div class="line"><a name="l02342"></a><span class="lineno"> 2342</span>&#160;      .accountcode = <span class="stringliteral">&quot;100&quot;</span>,</div><div class="line"><a name="l02343"></a><span class="lineno"> 2343</span>&#160;   };</div><div class="line"><a name="l02344"></a><span class="lineno"> 2344</span>&#160;   <span class="keyword">enum</span> <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044">ast_test_result_state</a> <a class="code" href="../../de/d1b/cel__pgsql_8c.html#ad6c487210772a9b4b0ca04b04b847d4c">result</a> = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c">AST_TEST_NOT_RUN</a>;</div><div class="line"><a name="l02345"></a><span class="lineno"> 2345</span>&#160;</div><div class="line"><a name="l02346"></a><span class="lineno"> 2346</span>&#160;   <span class="keywordflow">switch</span> (cmd) {</div><div class="line"><a name="l02347"></a><span class="lineno"> 2347</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b">TEST_INIT</a>:</div><div class="line"><a name="l02348"></a><span class="lineno"> 2348</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;name = __func__;</div><div class="line"><a name="l02349"></a><span class="lineno"> 2349</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;category = <a class="code" href="../../d7/d8e/test__cdr_8c.html#add35ea2349b86888eef95d404e6faebf">TEST_CATEGORY</a>;</div><div class="line"><a name="l02350"></a><span class="lineno"> 2350</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;summary = <span class="stringliteral">&quot;Test field access CDRs&quot;</span>;</div><div class="line"><a name="l02351"></a><span class="lineno"> 2351</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;description =</div><div class="line"><a name="l02352"></a><span class="lineno"> 2352</span>&#160;         <span class="stringliteral">&quot;This tests setting/retrieving data on CDR records.&quot;</span>;</div><div class="line"><a name="l02353"></a><span class="lineno"> 2353</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c">AST_TEST_NOT_RUN</a>;</div><div class="line"><a name="l02354"></a><span class="lineno"> 2354</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e">TEST_EXECUTE</a>:</div><div class="line"><a name="l02355"></a><span class="lineno"> 2355</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l02356"></a><span class="lineno"> 2356</span>&#160;   }</div><div class="line"><a name="l02357"></a><span class="lineno"> 2357</span>&#160;</div><div class="line"><a name="l02358"></a><span class="lineno"> 2358</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#a1ccf26b207f6e00ee0ece3e227de42a1">SWAP_CONFIG</a>(<a class="code" href="../../de/dcc/conf2ael_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a>, <a class="code" href="../../d7/d8e/test__cdr_8c.html#a5722136884f356e886185ddd4f58e97a">unanswered_cdr_config</a>);</div><div class="line"><a name="l02359"></a><span class="lineno"> 2359</span>&#160;</div><div class="line"><a name="l02360"></a><span class="lineno"> 2360</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#a1ed3332fe918eafa4f3f79c131525249">CREATE_ALICE_CHANNEL</a>(chan, &amp;caller, &amp;expected);</div><div class="line"><a name="l02361"></a><span class="lineno"> 2361</span>&#160;</div><div class="line"><a name="l02362"></a><span class="lineno"> 2362</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#a638dca57ef13cc34a8d584246f5add00">do_sleep</a>(&amp;to_sleep);</div><div class="line"><a name="l02363"></a><span class="lineno"> 2363</span>&#160;</div><div class="line"><a name="l02364"></a><span class="lineno"> 2364</span>&#160;   <span class="comment">/* Disable the CDR */</span></div><div class="line"><a name="l02365"></a><span class="lineno"> 2365</span>&#160;   ast_test_validate(<a class="code" href="../../d8/d89/structtest.html">test</a>, <a class="code" href="../../dc/d07/cdr_8h.html#afcdba7928fed6e22df50a8d9b6c4cbf8">ast_cdr_set_property</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan), <a class="code" href="../../dc/d07/cdr_8h.html#a7e9ee9382efd6d636155553beb39ca37a78488053ee0f7af6d41ab8a65ecddce2">AST_CDR_FLAG_DISABLE</a>) == 0);</div><div class="line"><a name="l02366"></a><span class="lineno"> 2366</span>&#160;</div><div class="line"><a name="l02367"></a><span class="lineno"> 2367</span>&#160;   <span class="comment">/* Fork the CDR. This should be enabled */</span></div><div class="line"><a name="l02368"></a><span class="lineno"> 2368</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#ab5033a1f3d781d45e7ccc27598114510">ast_set_flag</a>(&amp;fork_options, <a class="code" href="../../dc/d07/cdr_8h.html#a7e9ee9382efd6d636155553beb39ca37a5c7786f80ec35a01e0dd275218afa0f8">AST_CDR_FLAG_FINALIZE</a>);</div><div class="line"><a name="l02369"></a><span class="lineno"> 2369</span>&#160;   ast_test_validate(<a class="code" href="../../d8/d89/structtest.html">test</a>, <a class="code" href="../../dc/d07/cdr_8h.html#a849140919895e9871b901d6805f47eba">ast_cdr_fork</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan), &amp;fork_options) == 0);</div><div class="line"><a name="l02370"></a><span class="lineno"> 2370</span>&#160;</div><div class="line"><a name="l02371"></a><span class="lineno"> 2371</span>&#160;   <span class="comment">/* Disable and enable the forked CDR */</span></div><div class="line"><a name="l02372"></a><span class="lineno"> 2372</span>&#160;   ast_test_validate(<a class="code" href="../../d8/d89/structtest.html">test</a>, <a class="code" href="../../dc/d07/cdr_8h.html#afcdba7928fed6e22df50a8d9b6c4cbf8">ast_cdr_set_property</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan), <a class="code" href="../../dc/d07/cdr_8h.html#a7e9ee9382efd6d636155553beb39ca37a78488053ee0f7af6d41ab8a65ecddce2">AST_CDR_FLAG_DISABLE</a>) == 0);</div><div class="line"><a name="l02373"></a><span class="lineno"> 2373</span>&#160;   ast_test_validate(<a class="code" href="../../d8/d89/structtest.html">test</a>, <a class="code" href="../../dc/d07/cdr_8h.html#a49ad75e3e3203433d5a7f6b63dab856d">ast_cdr_clear_property</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan), <a class="code" href="../../dc/d07/cdr_8h.html#a7e9ee9382efd6d636155553beb39ca37a78488053ee0f7af6d41ab8a65ecddce2">AST_CDR_FLAG_DISABLE</a>) == 0);</div><div class="line"><a name="l02374"></a><span class="lineno"> 2374</span>&#160;</div><div class="line"><a name="l02375"></a><span class="lineno"> 2375</span>&#160;   <span class="comment">/* Fork and finalize again. This CDR should be propagated */</span></div><div class="line"><a name="l02376"></a><span class="lineno"> 2376</span>&#160;   ast_test_validate(<a class="code" href="../../d8/d89/structtest.html">test</a>, <a class="code" href="../../dc/d07/cdr_8h.html#a849140919895e9871b901d6805f47eba">ast_cdr_fork</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan), &amp;fork_options) == 0);</div><div class="line"><a name="l02377"></a><span class="lineno"> 2377</span>&#160;</div><div class="line"><a name="l02378"></a><span class="lineno"> 2378</span>&#160;   <span class="comment">/* Disable all future CDRs */</span></div><div class="line"><a name="l02379"></a><span class="lineno"> 2379</span>&#160;   ast_test_validate(<a class="code" href="../../d8/d89/structtest.html">test</a>, <a class="code" href="../../dc/d07/cdr_8h.html#afcdba7928fed6e22df50a8d9b6c4cbf8">ast_cdr_set_property</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan), <a class="code" href="../../dc/d07/cdr_8h.html#a7e9ee9382efd6d636155553beb39ca37a09bf3b22840e16b6d70383a4d46eaaa8">AST_CDR_FLAG_DISABLE_ALL</a>) == 0);</div><div class="line"><a name="l02380"></a><span class="lineno"> 2380</span>&#160;</div><div class="line"><a name="l02381"></a><span class="lineno"> 2381</span>&#160;   <span class="comment">/* Fork a few more */</span></div><div class="line"><a name="l02382"></a><span class="lineno"> 2382</span>&#160;   ast_test_validate(<a class="code" href="../../d8/d89/structtest.html">test</a>, <a class="code" href="../../dc/d07/cdr_8h.html#a849140919895e9871b901d6805f47eba">ast_cdr_fork</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan), &amp;fork_options) == 0);</div><div class="line"><a name="l02383"></a><span class="lineno"> 2383</span>&#160;   ast_test_validate(<a class="code" href="../../d8/d89/structtest.html">test</a>, <a class="code" href="../../dc/d07/cdr_8h.html#a849140919895e9871b901d6805f47eba">ast_cdr_fork</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan), &amp;fork_options) == 0);</div><div class="line"><a name="l02384"></a><span class="lineno"> 2384</span>&#160;   ast_test_validate(<a class="code" href="../../d8/d89/structtest.html">test</a>, <a class="code" href="../../dc/d07/cdr_8h.html#a849140919895e9871b901d6805f47eba">ast_cdr_fork</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan), &amp;fork_options) == 0);</div><div class="line"><a name="l02385"></a><span class="lineno"> 2385</span>&#160;</div><div class="line"><a name="l02386"></a><span class="lineno"> 2386</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#ae6b4b7ba458e88fdbb2df9f39d935337">ast_channel_hangupcause_set</a>(chan, <a class="code" href="../../d4/da3/causes_8h.html#a7858ab2ba4858d98e29f0ea54980313c">AST_CAUSE_NORMAL</a>);</div><div class="line"><a name="l02387"></a><span class="lineno"> 2387</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a29557c4823f5e9c02519a01daf6a289c">ast_hangup</a>(chan);</div><div class="line"><a name="l02388"></a><span class="lineno"> 2388</span>&#160;   chan = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l02389"></a><span class="lineno"> 2389</span>&#160;   result = <a class="code" href="../../d7/d8e/test__cdr_8c.html#aabfd96ef82edc19b680e65889e005c93">verify_mock_cdr_record</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, &amp;expected, 1);</div><div class="line"><a name="l02390"></a><span class="lineno"> 2390</span>&#160;</div><div class="line"><a name="l02391"></a><span class="lineno"> 2391</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../de/d1b/cel__pgsql_8c.html#ad6c487210772a9b4b0ca04b04b847d4c">result</a>;</div><div class="line"><a name="l02392"></a><span class="lineno"> 2392</span>&#160;}</div><div class="ttc" id="cdr_8h_html_a7e9ee9382efd6d636155553beb39ca37a09bf3b22840e16b6d70383a4d46eaaa8"><div class="ttname"><a href="../../dc/d07/cdr_8h.html#a7e9ee9382efd6d636155553beb39ca37a09bf3b22840e16b6d70383a4d46eaaa8">AST_CDR_FLAG_DISABLE_ALL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00242">cdr.h:242</a></div></div>
<div class="ttc" id="structast__channel_html"><div class="ttname"><a href="../../df/d3c/structast__channel.html">ast_channel</a></div><div class="ttdoc">Main Channel structure associated with a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00073">channel_internal_api.c:73</a></div></div>
<div class="ttc" id="channel_8h_html_a784b9642d6e2862b04b7f970b337549fa57aa76a632aa16d12a92e43b81c32a68"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a784b9642d6e2862b04b7f970b337549fa57aa76a632aa16d12a92e43b81c32a68">AST_AMA_DOCUMENTATION</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01182">channel.h:1182</a></div></div>
<div class="ttc" id="conf2ael_8c_html_a74bb62276efdf39dd94048e007fca05b"><div class="ttname"><a href="../../de/dcc/conf2ael_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a></div><div class="ttdeci">char * config</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcc/conf2ael_8c_source.html#l00066">conf2ael.c:66</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a638dca57ef13cc34a8d584246f5add00"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a638dca57ef13cc34a8d584246f5add00">do_sleep</a></div><div class="ttdeci">static void do_sleep(struct timespec *to_sleep)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00387">test_cdr.c:387</a></div></div>
<div class="ttc" id="channel_8h_html_ae6b4b7ba458e88fdbb2df9f39d935337"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#ae6b4b7ba458e88fdbb2df9f39d935337">ast_channel_hangupcause_set</a></div><div class="ttdeci">void ast_channel_hangupcause_set(struct ast_channel *chan, int value)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00431">channel_internal_api.c:431</a></div></div>
<div class="ttc" id="test__cdr_8c_html_add35ea2349b86888eef95d404e6faebf"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#add35ea2349b86888eef95d404e6faebf">TEST_CATEGORY</a></div><div class="ttdeci">#define TEST_CATEGORY</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00051">test_cdr.c:51</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a1ed3332fe918eafa4f3f79c131525249"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a1ed3332fe918eafa4f3f79c131525249">CREATE_ALICE_CHANNEL</a></div><div class="ttdeci">#define CREATE_ALICE_CHANNEL(channel_var, caller_id, expected_record)</div><div class="ttdoc">Create a test_cdr_chan_tech for Alice, and set the expected CDR records&amp;#39; linkedid and uniqueid...</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00248">test_cdr.c:248</a></div></div>
<div class="ttc" id="cdr_8h_html_a7e9ee9382efd6d636155553beb39ca37a5c7786f80ec35a01e0dd275218afa0f8"><div class="ttname"><a href="../../dc/d07/cdr_8h.html#a7e9ee9382efd6d636155553beb39ca37a5c7786f80ec35a01e0dd275218afa0f8">AST_CDR_FLAG_FINALIZE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00244">cdr.h:244</a></div></div>
<div class="ttc" id="test_8h_html_a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e">TEST_EXECUTE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00208">test.h:208</a></div></div>
<div class="ttc" id="utils_8h_html_ab5033a1f3d781d45e7ccc27598114510"><div class="ttname"><a href="../../d5/d60/utils_8h.html#ab5033a1f3d781d45e7ccc27598114510">ast_set_flag</a></div><div class="ttdeci">#define ast_set_flag(p, flag)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00070">utils.h:70</a></div></div>
<div class="ttc" id="cdr_8h_html_a849140919895e9871b901d6805f47eba"><div class="ttname"><a href="../../dc/d07/cdr_8h.html#a849140919895e9871b901d6805f47eba">ast_cdr_fork</a></div><div class="ttdeci">int ast_cdr_fork(const char *channel_name, struct ast_flags *options)</div><div class="ttdoc">Fork a CDR. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/cdr_8c_source.html#l03637">cdr.c:3637</a></div></div>
<div class="ttc" id="cdr_8h_html_a53e2666db1174cc83384daf9049023c0af31f029a69fc67c7fca424569f708143"><div class="ttname"><a href="../../dc/d07/cdr_8h.html#a53e2666db1174cc83384daf9049023c0af31f029a69fc67c7fca424569f708143">AST_CDR_FAILED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00256">cdr.h:256</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a1ccf26b207f6e00ee0ece3e227de42a1"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a1ccf26b207f6e00ee0ece3e227de42a1">SWAP_CONFIG</a></div><div class="ttdeci">#define SWAP_CONFIG(ao2_config, template)</div><div class="ttdoc">Macro to swap a configuration out from the CDR engine. This should be used at the beginning of each t...</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00079">test_cdr.c:79</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="test_8h_html_a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b">TEST_INIT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00207">test.h:207</a></div></div>
<div class="ttc" id="test__cel_8c_html_af600138406d2c64d06bf7dedf447cfc9"><div class="ttname"><a href="../../db/dc4/test__cel_8c.html#af600138406d2c64d06bf7dedf447cfc9">to_sleep</a></div><div class="ttdeci">static struct timespec to_sleep</div><div class="ttdoc">A 1 second sleep. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/dc4/test__cel_8c_source.html#l00085">test_cel.c:85</a></div></div>
<div class="ttc" id="cdr_8h_html_a7e9ee9382efd6d636155553beb39ca37a78488053ee0f7af6d41ab8a65ecddce2"><div class="ttname"><a href="../../dc/d07/cdr_8h.html#a7e9ee9382efd6d636155553beb39ca37a78488053ee0f7af6d41ab8a65ecddce2">AST_CDR_FLAG_DISABLE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00241">cdr.h:241</a></div></div>
<div class="ttc" id="test_8h_html_aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c"><div class="ttname"><a href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c">AST_TEST_NOT_RUN</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00201">test.h:201</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a8739ae4d4e4305695b4deaebc79986f1"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a8739ae4d4e4305695b4deaebc79986f1">ALICE_CALLERID</a></div><div class="ttdeci">#define ALICE_CALLERID</div><div class="ttdoc">Alice&amp;#39;s Caller ID. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00216">test_cdr.c:216</a></div></div>
<div class="ttc" id="utils_8h_html_a1604b4d72144dd3d9f7da668e90337e9"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a></div><div class="ttdeci">#define RAII_VAR(vartype, varname, initval, dtor)</div><div class="ttdoc">Declare a variable that will call a destructor function when it goes out of scope. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00911">utils.h:911</a></div></div>
<div class="ttc" id="structast__party__caller_html"><div class="ttname"><a href="../../d4/d77/structast__party__caller.html">ast_party_caller</a></div><div class="ttdoc">Caller Party information. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l00419">channel.h:419</a></div></div>
<div class="ttc" id="test__cdr_8c_html_aabfd96ef82edc19b680e65889e005c93"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#aabfd96ef82edc19b680e65889e005c93">verify_mock_cdr_record</a></div><div class="ttdeci">static enum ast_test_result_state verify_mock_cdr_record(struct ast_test *test, struct ast_cdr *expected, int record)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00310">test_cdr.c:310</a></div></div>
<div class="ttc" id="causes_8h_html_a7858ab2ba4858d98e29f0ea54980313c"><div class="ttname"><a href="../../d4/da3/causes_8h.html#a7858ab2ba4858d98e29f0ea54980313c">AST_CAUSE_NORMAL</a></div><div class="ttdeci">#define AST_CAUSE_NORMAL</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/da3/causes_8h_source.html#l00150">causes.h:150</a></div></div>
<div class="ttc" id="cdr_8h_html_afcdba7928fed6e22df50a8d9b6c4cbf8"><div class="ttname"><a href="../../dc/d07/cdr_8h.html#afcdba7928fed6e22df50a8d9b6c4cbf8">ast_cdr_set_property</a></div><div class="ttdeci">int ast_cdr_set_property(const char *channel_name, enum ast_cdr_options option)</div><div class="ttdoc">Set a property on a CDR for a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/cdr_8c_source.html#l03548">cdr.c:3548</a></div></div>
<div class="ttc" id="structast__cdr_html"><div class="ttname"><a href="../../d4/d5d/structast__cdr.html">ast_cdr</a></div><div class="ttdoc">Responsible for call detail data. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00276">cdr.h:276</a></div></div>
<div class="ttc" id="namespacesip__to__pjsip_html_ab82f408a83ecba10ea39afd8abfd371e"><div class="ttname"><a href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">sip_to_pjsip.info</a></div><div class="ttdeci">def info(msg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d6f/sip__to__pjsip_8py_source.html#l01313">sip_to_pjsip.py:1313</a></div></div>
<div class="ttc" id="astobj2_8h_html_ae0422b60d8e25b6962b2d61ae4ddf724"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ae0422b60d8e25b6962b2d61ae4ddf724">ao2_alloc</a></div><div class="ttdeci">#define ao2_alloc(data_size, destructor_fn)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00411">astobj2.h:411</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a5722136884f356e886185ddd4f58e97a"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a5722136884f356e886185ddd4f58e97a">unanswered_cdr_config</a></div><div class="ttdeci">static struct ast_cdr_config unanswered_cdr_config</div><div class="ttdoc">A configuration suitable for CDRs with unanswered records. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00066">test_cdr.c:66</a></div></div>
<div class="ttc" id="channel_8h_html_a29557c4823f5e9c02519a01daf6a289c"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a29557c4823f5e9c02519a01daf6a289c">ast_hangup</a></div><div class="ttdeci">void ast_hangup(struct ast_channel *chan)</div><div class="ttdoc">Hang up a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l02548">channel.c:2548</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a86d2cbfb5a0c115147944a541cc355e0"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a></div><div class="ttdeci">#define CHANNEL_TECH_NAME</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00055">test_cdr.c:55</a></div></div>
<div class="ttc" id="structast__flags_html"><div class="ttname"><a href="../../dc/dac/structast__flags.html">ast_flags</a></div><div class="ttdoc">Structure used to handle boolean flags. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00199">utils.h:199</a></div></div>
<div class="ttc" id="structtest_html"><div class="ttname"><a href="../../d8/d89/structtest.html">test</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d7d/test__logger_8c_source.html#l00043">test_logger.c:43</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="channel_8h_html_a7ca2fda13b129a55c251b56729de285b"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a></div><div class="ttdeci">const char * ast_channel_name(const struct ast_channel *chan)</div></div>
<div class="ttc" id="cel__pgsql_8c_html_ad6c487210772a9b4b0ca04b04b847d4c"><div class="ttname"><a href="../../de/d1b/cel__pgsql_8c.html#ad6c487210772a9b4b0ca04b04b847d4c">result</a></div><div class="ttdeci">static PGresult * result</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1b/cel__pgsql_8c_source.html#l00088">cel_pgsql.c:88</a></div></div>
<div class="ttc" id="cdr_8h_html_a49ad75e3e3203433d5a7f6b63dab856d"><div class="ttname"><a href="../../dc/d07/cdr_8h.html#a49ad75e3e3203433d5a7f6b63dab856d">ast_cdr_clear_property</a></div><div class="ttdeci">int ast_cdr_clear_property(const char *channel_name, enum ast_cdr_options option)</div><div class="ttdoc">Clear a property on a CDR for a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/cdr_8c_source.html#l03575">cdr.c:3575</a></div></div>
<div class="ttc" id="structast__cdr__config_html"><div class="ttname"><a href="../../d4/d69/structast__cdr__config.html">ast_cdr_config</a></div><div class="ttdoc">The global options available for CDRs. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00264">cdr.h:264</a></div></div>
<div class="ttc" id="structast__cdr_html_ab7fd8bddf0ce6987ae5e58fb64cfc9e2"><div class="ttname"><a href="../../d4/d5d/structast__cdr.html#ab7fd8bddf0ce6987ae5e58fb64cfc9e2">ast_cdr::clid</a></div><div class="ttdeci">char clid[AST_MAX_EXTENSION]</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00278">cdr.h:278</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a987d4f1e5d92597fac228fa99bcb56be"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a987d4f1e5d92597fac228fa99bcb56be">safe_channel_release</a></div><div class="ttdeci">static void safe_channel_release(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00371">test_cdr.c:371</a></div></div>
<div class="ttc" id="test_8h_html_aad2aec78205d328d23894a6598cc4044"><div class="ttname"><a href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044">ast_test_result_state</a></div><div class="ttdeci">ast_test_result_state</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00200">test.h:200</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a756d859b42e5bceefcb2303968f1e9bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a756d859b42e5bceefcb2303968f1e9bb">&#9670;&nbsp;</a></span>AST_TEST_DEFINE() <span class="overload">[24/24]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AST_TEST_DEFINE </td>
          <td>(</td>
          <td class="paramtype">test_cdr_fork_cdr&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l02394">2394</a> of file <a class="el" href="../../d7/d8e/test__cdr_8c_source.html">test_cdr.c</a>.</p>

<p class="reference">References <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00216">ALICE_CALLERID</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00411">ao2_alloc</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l01182">AST_AMA_DOCUMENTATION</a>, <a class="el" href="../../d4/da3/causes_8h_source.html#l00150">AST_CAUSE_NORMAL</a>, <a class="el" href="../../dc/d07/cdr_8h_source.html#l00258">AST_CDR_ANSWERED</a>, <a class="el" href="../../dc/d07/cdr_8h_source.html#l00244">AST_CDR_FLAG_FINALIZE</a>, <a class="el" href="../../dc/d07/cdr_8h_source.html#l00240">AST_CDR_FLAG_KEEP_VARS</a>, <a class="el" href="../../dc/d07/cdr_8h_source.html#l00246">AST_CDR_FLAG_RESET</a>, <a class="el" href="../../dc/d07/cdr_8h_source.html#l00245">AST_CDR_FLAG_SET_ANSWER</a>, <a class="el" href="../../dc/df2/cdr_8c_source.html#l03637">ast_cdr_fork()</a>, <a class="el" href="../../dc/df2/cdr_8c_source.html#l03324">ast_cdr_getvar()</a>, <a class="el" href="../../dc/df2/cdr_8c_source.html#l03178">ast_cdr_setvar()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00431">ast_channel_hangupcause_set()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00311">ast_channel_linkedid()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02945">ast_channel_lock</a>, <a class="el" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00305">ast_channel_uniqueid()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00077">ast_clear_flag</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00401">ast_copy_string()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l02548">ast_hangup()</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00070">ast_set_flag</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l07486">ast_setstate()</a>, <a class="el" href="../../d9/d95/channelstate_8h_source.html#l00042">AST_STATE_UP</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00201">AST_TEST_NOT_RUN</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00055">CHANNEL_TECH_NAME</a>, <a class="el" href="../../dc/d07/cdr_8h_source.html#l00278">ast_cdr::clid</a>, <a class="el" href="../../de/dcc/conf2ael_8c_source.html#l00066">config</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00248">CREATE_ALICE_CHANNEL</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00387">do_sleep()</a>, <a class="el" href="../../d9/d6f/sip__to__pjsip_8py_source.html#l01313">sip_to_pjsip::info()</a>, <a class="el" href="../../dc/d07/cdr_8h_source.html#l00316">ast_cdr::linkedid</a>, <a class="el" href="../../dc/d07/cdr_8h_source.html#l00325">ast_cdr::next</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00911">RAII_VAR</a>, <a class="el" href="../../de/d1b/cel__pgsql_8c_source.html#l00088">result</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00371">safe_channel_release()</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00079">SWAP_CONFIG</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00051">TEST_CATEGORY</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00208">TEST_EXECUTE</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00207">TEST_INIT</a>, <a class="el" href="../../dc/d07/cdr_8h_source.html#l00314">ast_cdr::uniqueid</a>, and <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00310">verify_mock_cdr_record()</a>.</p>
<div class="fragment"><div class="line"><a name="l02395"></a><span class="lineno"> 2395</span>&#160;{</div><div class="line"><a name="l02396"></a><span class="lineno"> 2396</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *, chan, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d7/d8e/test__cdr_8c.html#a987d4f1e5d92597fac228fa99bcb56be">safe_channel_release</a>);</div><div class="line"><a name="l02397"></a><span class="lineno"> 2397</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d4/d69/structast__cdr__config.html">ast_cdr_config</a> *, <a class="code" href="../../de/dcc/conf2ael_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#ae0422b60d8e25b6962b2d61ae4ddf724">ao2_alloc</a>(<span class="keyword">sizeof</span>(*<a class="code" href="../../de/dcc/conf2ael_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a>), <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>),</div><div class="line"><a name="l02398"></a><span class="lineno"> 2398</span>&#160;         <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l02399"></a><span class="lineno"> 2399</span>&#160;   <span class="keywordtype">char</span> varbuffer[128];</div><div class="line"><a name="l02400"></a><span class="lineno"> 2400</span>&#160;   <span class="keywordtype">char</span> fork_varbuffer[128];</div><div class="line"><a name="l02401"></a><span class="lineno"> 2401</span>&#160;   <span class="keywordtype">char</span> answer_time[128];</div><div class="line"><a name="l02402"></a><span class="lineno"> 2402</span>&#160;   <span class="keywordtype">char</span> fork_answer_time[128];</div><div class="line"><a name="l02403"></a><span class="lineno"> 2403</span>&#160;   <span class="keywordtype">char</span> start_time[128];</div><div class="line"><a name="l02404"></a><span class="lineno"> 2404</span>&#160;   <span class="keywordtype">char</span> fork_start_time[128];</div><div class="line"><a name="l02405"></a><span class="lineno"> 2405</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/dac/structast__flags.html">ast_flags</a> fork_options = { 0, };</div><div class="line"><a name="l02406"></a><span class="lineno"> 2406</span>&#160;   <span class="keyword">struct </span>timespec <a class="code" href="../../db/dc4/test__cel_8c.html#af600138406d2c64d06bf7dedf447cfc9">to_sleep</a> = {1, 10000};</div><div class="line"><a name="l02407"></a><span class="lineno"> 2407</span>&#160;</div><div class="line"><a name="l02408"></a><span class="lineno"> 2408</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d77/structast__party__caller.html">ast_party_caller</a> caller = <a class="code" href="../../d7/d8e/test__cdr_8c.html#a8739ae4d4e4305695b4deaebc79986f1">ALICE_CALLERID</a>;</div><div class="line"><a name="l02409"></a><span class="lineno"> 2409</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d5d/structast__cdr.html">ast_cdr</a> original = {</div><div class="line"><a name="l02410"></a><span class="lineno"> 2410</span>&#160;      .<a class="code" href="../../d4/d5d/structast__cdr.html#ab7fd8bddf0ce6987ae5e58fb64cfc9e2">clid</a> = <span class="stringliteral">&quot;\&quot;Alice\&quot; &lt;100&gt;&quot;</span>,</div><div class="line"><a name="l02411"></a><span class="lineno"> 2411</span>&#160;      .src = <span class="stringliteral">&quot;100&quot;</span>,</div><div class="line"><a name="l02412"></a><span class="lineno"> 2412</span>&#160;      .dst = <span class="stringliteral">&quot;100&quot;</span>,</div><div class="line"><a name="l02413"></a><span class="lineno"> 2413</span>&#160;      .dcontext = <span class="stringliteral">&quot;default&quot;</span>,</div><div class="line"><a name="l02414"></a><span class="lineno"> 2414</span>&#160;      .channel = <a class="code" href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a> <span class="stringliteral">&quot;/Alice&quot;</span>,</div><div class="line"><a name="l02415"></a><span class="lineno"> 2415</span>&#160;      .amaflags = <a class="code" href="../../d5/d7b/channel_8h.html#a784b9642d6e2862b04b7f970b337549fa57aa76a632aa16d12a92e43b81c32a68">AST_AMA_DOCUMENTATION</a>,</div><div class="line"><a name="l02416"></a><span class="lineno"> 2416</span>&#160;      .disposition = <a class="code" href="../../dc/d07/cdr_8h.html#a53e2666db1174cc83384daf9049023c0ac3e47d059a0e67a03f822f10bb7ec5b1">AST_CDR_ANSWERED</a>,</div><div class="line"><a name="l02417"></a><span class="lineno"> 2417</span>&#160;      .accountcode = <span class="stringliteral">&quot;100&quot;</span>,</div><div class="line"><a name="l02418"></a><span class="lineno"> 2418</span>&#160;   };</div><div class="line"><a name="l02419"></a><span class="lineno"> 2419</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d5d/structast__cdr.html">ast_cdr</a> fork_expected_one = {</div><div class="line"><a name="l02420"></a><span class="lineno"> 2420</span>&#160;      .<a class="code" href="../../d4/d5d/structast__cdr.html#ab7fd8bddf0ce6987ae5e58fb64cfc9e2">clid</a> = <span class="stringliteral">&quot;\&quot;Alice\&quot; &lt;100&gt;&quot;</span>,</div><div class="line"><a name="l02421"></a><span class="lineno"> 2421</span>&#160;      .src = <span class="stringliteral">&quot;100&quot;</span>,</div><div class="line"><a name="l02422"></a><span class="lineno"> 2422</span>&#160;      .dst = <span class="stringliteral">&quot;100&quot;</span>,</div><div class="line"><a name="l02423"></a><span class="lineno"> 2423</span>&#160;      .dcontext = <span class="stringliteral">&quot;default&quot;</span>,</div><div class="line"><a name="l02424"></a><span class="lineno"> 2424</span>&#160;      .channel = <a class="code" href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a> <span class="stringliteral">&quot;/Alice&quot;</span>,</div><div class="line"><a name="l02425"></a><span class="lineno"> 2425</span>&#160;      .amaflags = <a class="code" href="../../d5/d7b/channel_8h.html#a784b9642d6e2862b04b7f970b337549fa57aa76a632aa16d12a92e43b81c32a68">AST_AMA_DOCUMENTATION</a>,</div><div class="line"><a name="l02426"></a><span class="lineno"> 2426</span>&#160;      .disposition = <a class="code" href="../../dc/d07/cdr_8h.html#a53e2666db1174cc83384daf9049023c0ac3e47d059a0e67a03f822f10bb7ec5b1">AST_CDR_ANSWERED</a>,</div><div class="line"><a name="l02427"></a><span class="lineno"> 2427</span>&#160;      .accountcode = <span class="stringliteral">&quot;100&quot;</span>,</div><div class="line"><a name="l02428"></a><span class="lineno"> 2428</span>&#160;   };</div><div class="line"><a name="l02429"></a><span class="lineno"> 2429</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d5d/structast__cdr.html">ast_cdr</a> fork_expected_two = {</div><div class="line"><a name="l02430"></a><span class="lineno"> 2430</span>&#160;      .<a class="code" href="../../d4/d5d/structast__cdr.html#ab7fd8bddf0ce6987ae5e58fb64cfc9e2">clid</a> = <span class="stringliteral">&quot;\&quot;Alice\&quot; &lt;100&gt;&quot;</span>,</div><div class="line"><a name="l02431"></a><span class="lineno"> 2431</span>&#160;      .src = <span class="stringliteral">&quot;100&quot;</span>,</div><div class="line"><a name="l02432"></a><span class="lineno"> 2432</span>&#160;      .dst = <span class="stringliteral">&quot;100&quot;</span>,</div><div class="line"><a name="l02433"></a><span class="lineno"> 2433</span>&#160;      .dcontext = <span class="stringliteral">&quot;default&quot;</span>,</div><div class="line"><a name="l02434"></a><span class="lineno"> 2434</span>&#160;      .channel = <a class="code" href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a> <span class="stringliteral">&quot;/Alice&quot;</span>,</div><div class="line"><a name="l02435"></a><span class="lineno"> 2435</span>&#160;      .amaflags = <a class="code" href="../../d5/d7b/channel_8h.html#a784b9642d6e2862b04b7f970b337549fa57aa76a632aa16d12a92e43b81c32a68">AST_AMA_DOCUMENTATION</a>,</div><div class="line"><a name="l02436"></a><span class="lineno"> 2436</span>&#160;      .disposition = <a class="code" href="../../dc/d07/cdr_8h.html#a53e2666db1174cc83384daf9049023c0ac3e47d059a0e67a03f822f10bb7ec5b1">AST_CDR_ANSWERED</a>,</div><div class="line"><a name="l02437"></a><span class="lineno"> 2437</span>&#160;      .accountcode = <span class="stringliteral">&quot;100&quot;</span>,</div><div class="line"><a name="l02438"></a><span class="lineno"> 2438</span>&#160;   };</div><div class="line"><a name="l02439"></a><span class="lineno"> 2439</span>&#160;   <span class="keyword">enum</span> <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044">ast_test_result_state</a> <a class="code" href="../../de/d1b/cel__pgsql_8c.html#ad6c487210772a9b4b0ca04b04b847d4c">result</a> = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c">AST_TEST_NOT_RUN</a>;</div><div class="line"><a name="l02440"></a><span class="lineno"> 2440</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d5d/structast__cdr.html">ast_cdr</a> *expected = &amp;original;</div><div class="line"><a name="l02441"></a><span class="lineno"> 2441</span>&#160;   original.<a class="code" href="../../d4/d5d/structast__cdr.html#a8098d02138e27b57d184b260b6669eed">next</a> = &amp;fork_expected_one;</div><div class="line"><a name="l02442"></a><span class="lineno"> 2442</span>&#160;   fork_expected_one.<a class="code" href="../../d4/d5d/structast__cdr.html#a8098d02138e27b57d184b260b6669eed">next</a> = &amp;fork_expected_two;</div><div class="line"><a name="l02443"></a><span class="lineno"> 2443</span>&#160;</div><div class="line"><a name="l02444"></a><span class="lineno"> 2444</span>&#160;   <span class="keywordflow">switch</span> (cmd) {</div><div class="line"><a name="l02445"></a><span class="lineno"> 2445</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b">TEST_INIT</a>:</div><div class="line"><a name="l02446"></a><span class="lineno"> 2446</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;name = __func__;</div><div class="line"><a name="l02447"></a><span class="lineno"> 2447</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;category = <a class="code" href="../../d7/d8e/test__cdr_8c.html#add35ea2349b86888eef95d404e6faebf">TEST_CATEGORY</a>;</div><div class="line"><a name="l02448"></a><span class="lineno"> 2448</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;summary = <span class="stringliteral">&quot;Test field access CDRs&quot;</span>;</div><div class="line"><a name="l02449"></a><span class="lineno"> 2449</span>&#160;      <a class="code" href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">info</a>-&gt;description =</div><div class="line"><a name="l02450"></a><span class="lineno"> 2450</span>&#160;         <span class="stringliteral">&quot;This tests setting/retrieving data on CDR records.&quot;</span>;</div><div class="line"><a name="l02451"></a><span class="lineno"> 2451</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c">AST_TEST_NOT_RUN</a>;</div><div class="line"><a name="l02452"></a><span class="lineno"> 2452</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e">TEST_EXECUTE</a>:</div><div class="line"><a name="l02453"></a><span class="lineno"> 2453</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l02454"></a><span class="lineno"> 2454</span>&#160;   }</div><div class="line"><a name="l02455"></a><span class="lineno"> 2455</span>&#160;</div><div class="line"><a name="l02456"></a><span class="lineno"> 2456</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#a1ccf26b207f6e00ee0ece3e227de42a1">SWAP_CONFIG</a>(<a class="code" href="../../de/dcc/conf2ael_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a>, <a class="code" href="../../d7/d8e/test__cdr_8c.html#ac905defa905925ff383b4bc9d2f89e35">debug_cdr_config</a>);</div><div class="line"><a name="l02457"></a><span class="lineno"> 2457</span>&#160;</div><div class="line"><a name="l02458"></a><span class="lineno"> 2458</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#a1ed3332fe918eafa4f3f79c131525249">CREATE_ALICE_CHANNEL</a>(chan, &amp;caller, &amp;original);</div><div class="line"><a name="l02459"></a><span class="lineno"> 2459</span>&#160;   <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(fork_expected_one.<a class="code" href="../../d4/d5d/structast__cdr.html#ac733390e45613f1287d0b1b95e8d18ea">uniqueid</a>, <a class="code" href="../../d5/d7b/channel_8h.html#a3b6254f6d3832ef928f0a727113b1c63">ast_channel_uniqueid</a>(chan), <span class="keyword">sizeof</span>(fork_expected_one.<a class="code" href="../../d4/d5d/structast__cdr.html#ac733390e45613f1287d0b1b95e8d18ea">uniqueid</a>));</div><div class="line"><a name="l02460"></a><span class="lineno"> 2460</span>&#160;   <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(fork_expected_one.<a class="code" href="../../d4/d5d/structast__cdr.html#a2979e8d95424c018bf2c830b28a199d0">linkedid</a>, <a class="code" href="../../d5/d7b/channel_8h.html#aa776071546e0bb0eb8cfc4c3a3159dfc">ast_channel_linkedid</a>(chan), <span class="keyword">sizeof</span>(fork_expected_one.<a class="code" href="../../d4/d5d/structast__cdr.html#a2979e8d95424c018bf2c830b28a199d0">linkedid</a>));</div><div class="line"><a name="l02461"></a><span class="lineno"> 2461</span>&#160;   <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(fork_expected_two.<a class="code" href="../../d4/d5d/structast__cdr.html#ac733390e45613f1287d0b1b95e8d18ea">uniqueid</a>, <a class="code" href="../../d5/d7b/channel_8h.html#a3b6254f6d3832ef928f0a727113b1c63">ast_channel_uniqueid</a>(chan), <span class="keyword">sizeof</span>(fork_expected_two.<a class="code" href="../../d4/d5d/structast__cdr.html#ac733390e45613f1287d0b1b95e8d18ea">uniqueid</a>));</div><div class="line"><a name="l02462"></a><span class="lineno"> 2462</span>&#160;   <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(fork_expected_two.<a class="code" href="../../d4/d5d/structast__cdr.html#a2979e8d95424c018bf2c830b28a199d0">linkedid</a>, <a class="code" href="../../d5/d7b/channel_8h.html#aa776071546e0bb0eb8cfc4c3a3159dfc">ast_channel_linkedid</a>(chan), <span class="keyword">sizeof</span>(fork_expected_two.<a class="code" href="../../d4/d5d/structast__cdr.html#a2979e8d95424c018bf2c830b28a199d0">linkedid</a>));</div><div class="line"><a name="l02463"></a><span class="lineno"> 2463</span>&#160;</div><div class="line"><a name="l02464"></a><span class="lineno"> 2464</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#a638dca57ef13cc34a8d584246f5add00">do_sleep</a>(&amp;to_sleep);</div><div class="line"><a name="l02465"></a><span class="lineno"> 2465</span>&#160;</div><div class="line"><a name="l02466"></a><span class="lineno"> 2466</span>&#160;   <span class="comment">/* Test blowing away variables */</span></div><div class="line"><a name="l02467"></a><span class="lineno"> 2467</span>&#160;   ast_test_validate(<a class="code" href="../../d8/d89/structtest.html">test</a>, <a class="code" href="../../dc/d07/cdr_8h.html#a4cb15fc5160b2842ef7aa5b4f238b7fb">ast_cdr_setvar</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan), <span class="stringliteral">&quot;test_variable&quot;</span>, <span class="stringliteral">&quot;record_1&quot;</span>) == 0);</div><div class="line"><a name="l02468"></a><span class="lineno"> 2468</span>&#160;   ast_test_validate(<a class="code" href="../../d8/d89/structtest.html">test</a>, <a class="code" href="../../dc/d07/cdr_8h.html#a90a1e29081a1827a2cc4c535ef07c8c2">ast_cdr_getvar</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan), <span class="stringliteral">&quot;test_variable&quot;</span>, varbuffer, <span class="keyword">sizeof</span>(varbuffer)) == 0);</div><div class="line"><a name="l02469"></a><span class="lineno"> 2469</span>&#160;   ast_test_validate(<a class="code" href="../../d8/d89/structtest.html">test</a>, strcmp(varbuffer, <span class="stringliteral">&quot;record_1&quot;</span>) == 0);</div><div class="line"><a name="l02470"></a><span class="lineno"> 2470</span>&#160;   <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(varbuffer, <span class="stringliteral">&quot;&quot;</span>, <span class="keyword">sizeof</span>(varbuffer));</div><div class="line"><a name="l02471"></a><span class="lineno"> 2471</span>&#160;</div><div class="line"><a name="l02472"></a><span class="lineno"> 2472</span>&#160;   ast_test_validate(<a class="code" href="../../d8/d89/structtest.html">test</a>, <a class="code" href="../../dc/d07/cdr_8h.html#a849140919895e9871b901d6805f47eba">ast_cdr_fork</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan), &amp;fork_options) == 0);</div><div class="line"><a name="l02473"></a><span class="lineno"> 2473</span>&#160;   ast_test_validate(<a class="code" href="../../d8/d89/structtest.html">test</a>, <a class="code" href="../../dc/d07/cdr_8h.html#a90a1e29081a1827a2cc4c535ef07c8c2">ast_cdr_getvar</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan), <span class="stringliteral">&quot;test_variable&quot;</span>, fork_varbuffer, <span class="keyword">sizeof</span>(fork_varbuffer)) == 0);</div><div class="line"><a name="l02474"></a><span class="lineno"> 2474</span>&#160;   ast_test_validate(<a class="code" href="../../d8/d89/structtest.html">test</a>, strcmp(varbuffer, <span class="stringliteral">&quot;record_1&quot;</span>) != 0);</div><div class="line"><a name="l02475"></a><span class="lineno"> 2475</span>&#160;</div><div class="line"><a name="l02476"></a><span class="lineno"> 2476</span>&#160;   <span class="comment">/* Test finalizing previous CDRs */</span></div><div class="line"><a name="l02477"></a><span class="lineno"> 2477</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#ab5033a1f3d781d45e7ccc27598114510">ast_set_flag</a>(&amp;fork_options, <a class="code" href="../../dc/d07/cdr_8h.html#a7e9ee9382efd6d636155553beb39ca37a5c7786f80ec35a01e0dd275218afa0f8">AST_CDR_FLAG_FINALIZE</a>);</div><div class="line"><a name="l02478"></a><span class="lineno"> 2478</span>&#160;   ast_test_validate(<a class="code" href="../../d8/d89/structtest.html">test</a>, <a class="code" href="../../dc/d07/cdr_8h.html#a849140919895e9871b901d6805f47eba">ast_cdr_fork</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan), &amp;fork_options) == 0);</div><div class="line"><a name="l02479"></a><span class="lineno"> 2479</span>&#160;</div><div class="line"><a name="l02480"></a><span class="lineno"> 2480</span>&#160;   <span class="comment">/* Test keep variables; setting a new answer time */</span></div><div class="line"><a name="l02481"></a><span class="lineno"> 2481</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(chan);</div><div class="line"><a name="l02482"></a><span class="lineno"> 2482</span>&#160;   <a class="code" href="../../d9/d95/channelstate_8h.html#ad9d8f7d9e228b5af98a7b40db9f06448">ast_setstate</a>(chan, <a class="code" href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660aa8ab4bcda7378ccc17c39dfd880cba3d">AST_STATE_UP</a>);</div><div class="line"><a name="l02483"></a><span class="lineno"> 2483</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l02484"></a><span class="lineno"> 2484</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#a638dca57ef13cc34a8d584246f5add00">do_sleep</a>(&amp;to_sleep);</div><div class="line"><a name="l02485"></a><span class="lineno"> 2485</span>&#160;   ast_test_validate(<a class="code" href="../../d8/d89/structtest.html">test</a>, <a class="code" href="../../dc/d07/cdr_8h.html#a4cb15fc5160b2842ef7aa5b4f238b7fb">ast_cdr_setvar</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan), <span class="stringliteral">&quot;test_variable&quot;</span>, <span class="stringliteral">&quot;record_2&quot;</span>) == 0);</div><div class="line"><a name="l02486"></a><span class="lineno"> 2486</span>&#160;   ast_test_validate(<a class="code" href="../../d8/d89/structtest.html">test</a>, <a class="code" href="../../dc/d07/cdr_8h.html#a90a1e29081a1827a2cc4c535ef07c8c2">ast_cdr_getvar</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan), <span class="stringliteral">&quot;test_variable&quot;</span>, varbuffer, <span class="keyword">sizeof</span>(varbuffer)) == 0);</div><div class="line"><a name="l02487"></a><span class="lineno"> 2487</span>&#160;   ast_test_validate(<a class="code" href="../../d8/d89/structtest.html">test</a>, strcmp(varbuffer, <span class="stringliteral">&quot;record_2&quot;</span>) == 0);</div><div class="line"><a name="l02488"></a><span class="lineno"> 2488</span>&#160;   ast_test_validate(<a class="code" href="../../d8/d89/structtest.html">test</a>, <a class="code" href="../../dc/d07/cdr_8h.html#a90a1e29081a1827a2cc4c535ef07c8c2">ast_cdr_getvar</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan), <span class="stringliteral">&quot;answer&quot;</span>, answer_time, <span class="keyword">sizeof</span>(answer_time)) == 0);</div><div class="line"><a name="l02489"></a><span class="lineno"> 2489</span>&#160;   ast_test_validate(<a class="code" href="../../d8/d89/structtest.html">test</a>, <a class="code" href="../../dc/d07/cdr_8h.html#a90a1e29081a1827a2cc4c535ef07c8c2">ast_cdr_getvar</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan), <span class="stringliteral">&quot;start&quot;</span>, start_time, <span class="keyword">sizeof</span>(start_time)) == 0);</div><div class="line"><a name="l02490"></a><span class="lineno"> 2490</span>&#160;</div><div class="line"><a name="l02491"></a><span class="lineno"> 2491</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#ab5033a1f3d781d45e7ccc27598114510">ast_set_flag</a>(&amp;fork_options, <a class="code" href="../../dc/d07/cdr_8h.html#a7e9ee9382efd6d636155553beb39ca37a5c7786f80ec35a01e0dd275218afa0f8">AST_CDR_FLAG_FINALIZE</a>);</div><div class="line"><a name="l02492"></a><span class="lineno"> 2492</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#ab5033a1f3d781d45e7ccc27598114510">ast_set_flag</a>(&amp;fork_options, <a class="code" href="../../dc/d07/cdr_8h.html#a7e9ee9382efd6d636155553beb39ca37aca37d4bd33596be9016fa99e5b7216ca">AST_CDR_FLAG_KEEP_VARS</a>);</div><div class="line"><a name="l02493"></a><span class="lineno"> 2493</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#ab5033a1f3d781d45e7ccc27598114510">ast_set_flag</a>(&amp;fork_options, <a class="code" href="../../dc/d07/cdr_8h.html#a7e9ee9382efd6d636155553beb39ca37afd891053fefc9facc81cbec028769dbc">AST_CDR_FLAG_SET_ANSWER</a>);</div><div class="line"><a name="l02494"></a><span class="lineno"> 2494</span>&#160;   ast_test_validate(<a class="code" href="../../d8/d89/structtest.html">test</a>, <a class="code" href="../../dc/d07/cdr_8h.html#a849140919895e9871b901d6805f47eba">ast_cdr_fork</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan), &amp;fork_options) == 0);</div><div class="line"><a name="l02495"></a><span class="lineno"> 2495</span>&#160;   ast_test_validate(<a class="code" href="../../d8/d89/structtest.html">test</a>, <a class="code" href="../../dc/d07/cdr_8h.html#a90a1e29081a1827a2cc4c535ef07c8c2">ast_cdr_getvar</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan), <span class="stringliteral">&quot;answer&quot;</span>, fork_answer_time, <span class="keyword">sizeof</span>(fork_answer_time)) == 0);</div><div class="line"><a name="l02496"></a><span class="lineno"> 2496</span>&#160;   ast_test_validate(<a class="code" href="../../d8/d89/structtest.html">test</a>, <a class="code" href="../../dc/d07/cdr_8h.html#a90a1e29081a1827a2cc4c535ef07c8c2">ast_cdr_getvar</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan), <span class="stringliteral">&quot;start&quot;</span>, fork_start_time, <span class="keyword">sizeof</span>(fork_start_time)) == 0);</div><div class="line"><a name="l02497"></a><span class="lineno"> 2497</span>&#160;   ast_test_validate(<a class="code" href="../../d8/d89/structtest.html">test</a>, <a class="code" href="../../dc/d07/cdr_8h.html#a90a1e29081a1827a2cc4c535ef07c8c2">ast_cdr_getvar</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan), <span class="stringliteral">&quot;test_variable&quot;</span>, fork_varbuffer, <span class="keyword">sizeof</span>(fork_varbuffer)) == 0);</div><div class="line"><a name="l02498"></a><span class="lineno"> 2498</span>&#160;   ast_test_validate(<a class="code" href="../../d8/d89/structtest.html">test</a>, strcmp(fork_varbuffer, varbuffer) == 0);</div><div class="line"><a name="l02499"></a><span class="lineno"> 2499</span>&#160;   ast_test_validate(<a class="code" href="../../d8/d89/structtest.html">test</a>, strcmp(fork_start_time, start_time) == 0);</div><div class="line"><a name="l02500"></a><span class="lineno"> 2500</span>&#160;   ast_test_validate(<a class="code" href="../../d8/d89/structtest.html">test</a>, strcmp(fork_answer_time, answer_time) != 0);</div><div class="line"><a name="l02501"></a><span class="lineno"> 2501</span>&#160;</div><div class="line"><a name="l02502"></a><span class="lineno"> 2502</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a7b260320610a09017a9416398acd0a70">ast_clear_flag</a>(&amp;fork_options, <a class="code" href="../../dc/d07/cdr_8h.html#a7e9ee9382efd6d636155553beb39ca37afd891053fefc9facc81cbec028769dbc">AST_CDR_FLAG_SET_ANSWER</a>);</div><div class="line"><a name="l02503"></a><span class="lineno"> 2503</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#ab5033a1f3d781d45e7ccc27598114510">ast_set_flag</a>(&amp;fork_options, <a class="code" href="../../dc/d07/cdr_8h.html#a7e9ee9382efd6d636155553beb39ca37ad94c296ac6b08059afe3466ea126d3e6">AST_CDR_FLAG_RESET</a>);</div><div class="line"><a name="l02504"></a><span class="lineno"> 2504</span>&#160;   ast_test_validate(<a class="code" href="../../d8/d89/structtest.html">test</a>, <a class="code" href="../../dc/d07/cdr_8h.html#a849140919895e9871b901d6805f47eba">ast_cdr_fork</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan), &amp;fork_options) == 0);</div><div class="line"><a name="l02505"></a><span class="lineno"> 2505</span>&#160;   ast_test_validate(<a class="code" href="../../d8/d89/structtest.html">test</a>, <a class="code" href="../../dc/d07/cdr_8h.html#a90a1e29081a1827a2cc4c535ef07c8c2">ast_cdr_getvar</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan), <span class="stringliteral">&quot;answer&quot;</span>, fork_answer_time, <span class="keyword">sizeof</span>(fork_answer_time)) == 0);</div><div class="line"><a name="l02506"></a><span class="lineno"> 2506</span>&#160;   ast_test_validate(<a class="code" href="../../d8/d89/structtest.html">test</a>, <a class="code" href="../../dc/d07/cdr_8h.html#a90a1e29081a1827a2cc4c535ef07c8c2">ast_cdr_getvar</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan), <span class="stringliteral">&quot;start&quot;</span>, fork_start_time, <span class="keyword">sizeof</span>(fork_start_time)) == 0);</div><div class="line"><a name="l02507"></a><span class="lineno"> 2507</span>&#160;   ast_test_validate(<a class="code" href="../../d8/d89/structtest.html">test</a>, strcmp(fork_start_time, start_time) != 0);</div><div class="line"><a name="l02508"></a><span class="lineno"> 2508</span>&#160;   ast_test_validate(<a class="code" href="../../d8/d89/structtest.html">test</a>, strcmp(fork_answer_time, answer_time) != 0);</div><div class="line"><a name="l02509"></a><span class="lineno"> 2509</span>&#160;</div><div class="line"><a name="l02510"></a><span class="lineno"> 2510</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#ae6b4b7ba458e88fdbb2df9f39d935337">ast_channel_hangupcause_set</a>(chan, <a class="code" href="../../d4/da3/causes_8h.html#a7858ab2ba4858d98e29f0ea54980313c">AST_CAUSE_NORMAL</a>);</div><div class="line"><a name="l02511"></a><span class="lineno"> 2511</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a29557c4823f5e9c02519a01daf6a289c">ast_hangup</a>(chan);</div><div class="line"><a name="l02512"></a><span class="lineno"> 2512</span>&#160;   chan = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l02513"></a><span class="lineno"> 2513</span>&#160;   result = <a class="code" href="../../d7/d8e/test__cdr_8c.html#aabfd96ef82edc19b680e65889e005c93">verify_mock_cdr_record</a>(<a class="code" href="../../d8/d89/structtest.html">test</a>, expected, 3);</div><div class="line"><a name="l02514"></a><span class="lineno"> 2514</span>&#160;</div><div class="line"><a name="l02515"></a><span class="lineno"> 2515</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../de/d1b/cel__pgsql_8c.html#ad6c487210772a9b4b0ca04b04b847d4c">result</a>;</div><div class="line"><a name="l02516"></a><span class="lineno"> 2516</span>&#160;}</div><div class="ttc" id="channel_8h_html_a493bdebe876caafb8ee535853310364a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a></div><div class="ttdeci">#define ast_channel_lock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02945">channel.h:2945</a></div></div>
<div class="ttc" id="structast__channel_html"><div class="ttname"><a href="../../df/d3c/structast__channel.html">ast_channel</a></div><div class="ttdoc">Main Channel structure associated with a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00073">channel_internal_api.c:73</a></div></div>
<div class="ttc" id="cdr_8h_html_a4cb15fc5160b2842ef7aa5b4f238b7fb"><div class="ttname"><a href="../../dc/d07/cdr_8h.html#a4cb15fc5160b2842ef7aa5b4f238b7fb">ast_cdr_setvar</a></div><div class="ttdeci">int ast_cdr_setvar(const char *channel_name, const char *name, const char *value)</div><div class="ttdoc">Set a variable on a CDR. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/cdr_8c_source.html#l03178">cdr.c:3178</a></div></div>
<div class="ttc" id="channel_8h_html_a784b9642d6e2862b04b7f970b337549fa57aa76a632aa16d12a92e43b81c32a68"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a784b9642d6e2862b04b7f970b337549fa57aa76a632aa16d12a92e43b81c32a68">AST_AMA_DOCUMENTATION</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01182">channel.h:1182</a></div></div>
<div class="ttc" id="conf2ael_8c_html_a74bb62276efdf39dd94048e007fca05b"><div class="ttname"><a href="../../de/dcc/conf2ael_8c.html#a74bb62276efdf39dd94048e007fca05b">config</a></div><div class="ttdeci">char * config</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dcc/conf2ael_8c_source.html#l00066">conf2ael.c:66</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a638dca57ef13cc34a8d584246f5add00"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a638dca57ef13cc34a8d584246f5add00">do_sleep</a></div><div class="ttdeci">static void do_sleep(struct timespec *to_sleep)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00387">test_cdr.c:387</a></div></div>
<div class="ttc" id="cdr_8h_html_a90a1e29081a1827a2cc4c535ef07c8c2"><div class="ttname"><a href="../../dc/d07/cdr_8h.html#a90a1e29081a1827a2cc4c535ef07c8c2">ast_cdr_getvar</a></div><div class="ttdeci">int ast_cdr_getvar(const char *channel_name, const char *name, char *value, size_t length)</div><div class="ttdoc">Retrieve a CDR variable from a channel&amp;#39;s current CDR. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/cdr_8c_source.html#l03324">cdr.c:3324</a></div></div>
<div class="ttc" id="channel_8h_html_ae6b4b7ba458e88fdbb2df9f39d935337"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#ae6b4b7ba458e88fdbb2df9f39d935337">ast_channel_hangupcause_set</a></div><div class="ttdeci">void ast_channel_hangupcause_set(struct ast_channel *chan, int value)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00431">channel_internal_api.c:431</a></div></div>
<div class="ttc" id="test__cdr_8c_html_add35ea2349b86888eef95d404e6faebf"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#add35ea2349b86888eef95d404e6faebf">TEST_CATEGORY</a></div><div class="ttdeci">#define TEST_CATEGORY</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00051">test_cdr.c:51</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a1ed3332fe918eafa4f3f79c131525249"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a1ed3332fe918eafa4f3f79c131525249">CREATE_ALICE_CHANNEL</a></div><div class="ttdeci">#define CREATE_ALICE_CHANNEL(channel_var, caller_id, expected_record)</div><div class="ttdoc">Create a test_cdr_chan_tech for Alice, and set the expected CDR records&amp;#39; linkedid and uniqueid...</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00248">test_cdr.c:248</a></div></div>
<div class="ttc" id="cdr_8h_html_a7e9ee9382efd6d636155553beb39ca37a5c7786f80ec35a01e0dd275218afa0f8"><div class="ttname"><a href="../../dc/d07/cdr_8h.html#a7e9ee9382efd6d636155553beb39ca37a5c7786f80ec35a01e0dd275218afa0f8">AST_CDR_FLAG_FINALIZE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00244">cdr.h:244</a></div></div>
<div class="ttc" id="test_8h_html_a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2adb2586ef58bb9dd2f84a7d592ecf3e0e">TEST_EXECUTE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00208">test.h:208</a></div></div>
<div class="ttc" id="utils_8h_html_ab5033a1f3d781d45e7ccc27598114510"><div class="ttname"><a href="../../d5/d60/utils_8h.html#ab5033a1f3d781d45e7ccc27598114510">ast_set_flag</a></div><div class="ttdeci">#define ast_set_flag(p, flag)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00070">utils.h:70</a></div></div>
<div class="ttc" id="structast__cdr_html_a8098d02138e27b57d184b260b6669eed"><div class="ttname"><a href="../../d4/d5d/structast__cdr.html#a8098d02138e27b57d184b260b6669eed">ast_cdr::next</a></div><div class="ttdeci">struct ast_cdr * next</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00325">cdr.h:325</a></div></div>
<div class="ttc" id="cdr_8h_html_a849140919895e9871b901d6805f47eba"><div class="ttname"><a href="../../dc/d07/cdr_8h.html#a849140919895e9871b901d6805f47eba">ast_cdr_fork</a></div><div class="ttdeci">int ast_cdr_fork(const char *channel_name, struct ast_flags *options)</div><div class="ttdoc">Fork a CDR. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/cdr_8c_source.html#l03637">cdr.c:3637</a></div></div>
<div class="ttc" id="cdr_8h_html_a53e2666db1174cc83384daf9049023c0ac3e47d059a0e67a03f822f10bb7ec5b1"><div class="ttname"><a href="../../dc/d07/cdr_8h.html#a53e2666db1174cc83384daf9049023c0ac3e47d059a0e67a03f822f10bb7ec5b1">AST_CDR_ANSWERED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00258">cdr.h:258</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a1ccf26b207f6e00ee0ece3e227de42a1"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a1ccf26b207f6e00ee0ece3e227de42a1">SWAP_CONFIG</a></div><div class="ttdeci">#define SWAP_CONFIG(ao2_config, template)</div><div class="ttdoc">Macro to swap a configuration out from the CDR engine. This should be used at the beginning of each t...</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00079">test_cdr.c:79</a></div></div>
<div class="ttc" id="channelstate_8h_html_a03585bc87e5bbd0f4d11bc789734c660aa8ab4bcda7378ccc17c39dfd880cba3d"><div class="ttname"><a href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660aa8ab4bcda7378ccc17c39dfd880cba3d">AST_STATE_UP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d95/channelstate_8h_source.html#l00042">channelstate.h:42</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="test_8h_html_a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a0689ac4326c7a771e1b6ed1e4cde53e2a21df97525a6ac371a7fb604dfa8ea67b">TEST_INIT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00207">test.h:207</a></div></div>
<div class="ttc" id="test__cel_8c_html_af600138406d2c64d06bf7dedf447cfc9"><div class="ttname"><a href="../../db/dc4/test__cel_8c.html#af600138406d2c64d06bf7dedf447cfc9">to_sleep</a></div><div class="ttdeci">static struct timespec to_sleep</div><div class="ttdoc">A 1 second sleep. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/dc4/test__cel_8c_source.html#l00085">test_cel.c:85</a></div></div>
<div class="ttc" id="channel_8h_html_aa776071546e0bb0eb8cfc4c3a3159dfc"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#aa776071546e0bb0eb8cfc4c3a3159dfc">ast_channel_linkedid</a></div><div class="ttdeci">const char * ast_channel_linkedid(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00311">channel_internal_api.c:311</a></div></div>
<div class="ttc" id="test_8h_html_aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c"><div class="ttname"><a href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8cf2ae27807baf798d726d630693cc8c">AST_TEST_NOT_RUN</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00201">test.h:201</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a8739ae4d4e4305695b4deaebc79986f1"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a8739ae4d4e4305695b4deaebc79986f1">ALICE_CALLERID</a></div><div class="ttdeci">#define ALICE_CALLERID</div><div class="ttdoc">Alice&amp;#39;s Caller ID. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00216">test_cdr.c:216</a></div></div>
<div class="ttc" id="utils_8h_html_a1604b4d72144dd3d9f7da668e90337e9"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a></div><div class="ttdeci">#define RAII_VAR(vartype, varname, initval, dtor)</div><div class="ttdoc">Declare a variable that will call a destructor function when it goes out of scope. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00911">utils.h:911</a></div></div>
<div class="ttc" id="structast__cdr_html_a2979e8d95424c018bf2c830b28a199d0"><div class="ttname"><a href="../../d4/d5d/structast__cdr.html#a2979e8d95424c018bf2c830b28a199d0">ast_cdr::linkedid</a></div><div class="ttdeci">char linkedid[AST_MAX_UNIQUEID]</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00316">cdr.h:316</a></div></div>
<div class="ttc" id="structast__party__caller_html"><div class="ttname"><a href="../../d4/d77/structast__party__caller.html">ast_party_caller</a></div><div class="ttdoc">Caller Party information. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l00419">channel.h:419</a></div></div>
<div class="ttc" id="structast__cdr_html_ac733390e45613f1287d0b1b95e8d18ea"><div class="ttname"><a href="../../d4/d5d/structast__cdr.html#ac733390e45613f1287d0b1b95e8d18ea">ast_cdr::uniqueid</a></div><div class="ttdeci">char uniqueid[AST_MAX_UNIQUEID]</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00314">cdr.h:314</a></div></div>
<div class="ttc" id="test__cdr_8c_html_aabfd96ef82edc19b680e65889e005c93"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#aabfd96ef82edc19b680e65889e005c93">verify_mock_cdr_record</a></div><div class="ttdeci">static enum ast_test_result_state verify_mock_cdr_record(struct ast_test *test, struct ast_cdr *expected, int record)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00310">test_cdr.c:310</a></div></div>
<div class="ttc" id="channel_8h_html_a3b6254f6d3832ef928f0a727113b1c63"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a3b6254f6d3832ef928f0a727113b1c63">ast_channel_uniqueid</a></div><div class="ttdeci">const char * ast_channel_uniqueid(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00305">channel_internal_api.c:305</a></div></div>
<div class="ttc" id="causes_8h_html_a7858ab2ba4858d98e29f0ea54980313c"><div class="ttname"><a href="../../d4/da3/causes_8h.html#a7858ab2ba4858d98e29f0ea54980313c">AST_CAUSE_NORMAL</a></div><div class="ttdeci">#define AST_CAUSE_NORMAL</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/da3/causes_8h_source.html#l00150">causes.h:150</a></div></div>
<div class="ttc" id="structast__cdr_html"><div class="ttname"><a href="../../d4/d5d/structast__cdr.html">ast_cdr</a></div><div class="ttdoc">Responsible for call detail data. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00276">cdr.h:276</a></div></div>
<div class="ttc" id="namespacesip__to__pjsip_html_ab82f408a83ecba10ea39afd8abfd371e"><div class="ttname"><a href="../../dd/d17/namespacesip__to__pjsip.html#ab82f408a83ecba10ea39afd8abfd371e">sip_to_pjsip.info</a></div><div class="ttdeci">def info(msg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d6f/sip__to__pjsip_8py_source.html#l01313">sip_to_pjsip.py:1313</a></div></div>
<div class="ttc" id="astobj2_8h_html_ae0422b60d8e25b6962b2d61ae4ddf724"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ae0422b60d8e25b6962b2d61ae4ddf724">ao2_alloc</a></div><div class="ttdeci">#define ao2_alloc(data_size, destructor_fn)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00411">astobj2.h:411</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="channel_8h_html_a29557c4823f5e9c02519a01daf6a289c"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a29557c4823f5e9c02519a01daf6a289c">ast_hangup</a></div><div class="ttdeci">void ast_hangup(struct ast_channel *chan)</div><div class="ttdoc">Hang up a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l02548">channel.c:2548</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a86d2cbfb5a0c115147944a541cc355e0"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a></div><div class="ttdeci">#define CHANNEL_TECH_NAME</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00055">test_cdr.c:55</a></div></div>
<div class="ttc" id="structast__flags_html"><div class="ttname"><a href="../../dc/dac/structast__flags.html">ast_flags</a></div><div class="ttdoc">Structure used to handle boolean flags. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00199">utils.h:199</a></div></div>
<div class="ttc" id="utils_8h_html_a7b260320610a09017a9416398acd0a70"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a7b260320610a09017a9416398acd0a70">ast_clear_flag</a></div><div class="ttdeci">#define ast_clear_flag(p, flag)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00077">utils.h:77</a></div></div>
<div class="ttc" id="structtest_html"><div class="ttname"><a href="../../d8/d89/structtest.html">test</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d7d/test__logger_8c_source.html#l00043">test_logger.c:43</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="cdr_8h_html_a7e9ee9382efd6d636155553beb39ca37ad94c296ac6b08059afe3466ea126d3e6"><div class="ttname"><a href="../../dc/d07/cdr_8h.html#a7e9ee9382efd6d636155553beb39ca37ad94c296ac6b08059afe3466ea126d3e6">AST_CDR_FLAG_RESET</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00246">cdr.h:246</a></div></div>
<div class="ttc" id="strings_8h_html_ac4040268f7b6ed77dfc49c7767626369"><div class="ttname"><a href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a></div><div class="ttdeci">void ast_copy_string(char *dst, const char *src, size_t size)</div><div class="ttdoc">Size-limited null-terminating string copy. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00401">strings.h:401</a></div></div>
<div class="ttc" id="channel_8h_html_a7ca2fda13b129a55c251b56729de285b"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a></div><div class="ttdeci">const char * ast_channel_name(const struct ast_channel *chan)</div></div>
<div class="ttc" id="cdr_8h_html_a7e9ee9382efd6d636155553beb39ca37afd891053fefc9facc81cbec028769dbc"><div class="ttname"><a href="../../dc/d07/cdr_8h.html#a7e9ee9382efd6d636155553beb39ca37afd891053fefc9facc81cbec028769dbc">AST_CDR_FLAG_SET_ANSWER</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00245">cdr.h:245</a></div></div>
<div class="ttc" id="channelstate_8h_html_ad9d8f7d9e228b5af98a7b40db9f06448"><div class="ttname"><a href="../../d9/d95/channelstate_8h.html#ad9d8f7d9e228b5af98a7b40db9f06448">ast_setstate</a></div><div class="ttdeci">int ast_setstate(struct ast_channel *chan, enum ast_channel_state)</div><div class="ttdoc">Change the state of a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l07486">channel.c:7486</a></div></div>
<div class="ttc" id="cel__pgsql_8c_html_ad6c487210772a9b4b0ca04b04b847d4c"><div class="ttname"><a href="../../de/d1b/cel__pgsql_8c.html#ad6c487210772a9b4b0ca04b04b847d4c">result</a></div><div class="ttdeci">static PGresult * result</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1b/cel__pgsql_8c_source.html#l00088">cel_pgsql.c:88</a></div></div>
<div class="ttc" id="structast__cdr__config_html"><div class="ttname"><a href="../../d4/d69/structast__cdr__config.html">ast_cdr_config</a></div><div class="ttdoc">The global options available for CDRs. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00264">cdr.h:264</a></div></div>
<div class="ttc" id="structast__cdr_html_ab7fd8bddf0ce6987ae5e58fb64cfc9e2"><div class="ttname"><a href="../../d4/d5d/structast__cdr.html#ab7fd8bddf0ce6987ae5e58fb64cfc9e2">ast_cdr::clid</a></div><div class="ttdeci">char clid[AST_MAX_EXTENSION]</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00278">cdr.h:278</a></div></div>
<div class="ttc" id="test__cdr_8c_html_ac905defa905925ff383b4bc9d2f89e35"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#ac905defa905925ff383b4bc9d2f89e35">debug_cdr_config</a></div><div class="ttdeci">static struct ast_cdr_config debug_cdr_config</div><div class="ttdoc">A configuration suitable for &amp;#39;normal&amp;#39; CDRs. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00061">test_cdr.c:61</a></div></div>
<div class="ttc" id="cdr_8h_html_a7e9ee9382efd6d636155553beb39ca37aca37d4bd33596be9016fa99e5b7216ca"><div class="ttname"><a href="../../dc/d07/cdr_8h.html#a7e9ee9382efd6d636155553beb39ca37aca37d4bd33596be9016fa99e5b7216ca">AST_CDR_FLAG_KEEP_VARS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00240">cdr.h:240</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a987d4f1e5d92597fac228fa99bcb56be"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a987d4f1e5d92597fac228fa99bcb56be">safe_channel_release</a></div><div class="ttdeci">static void safe_channel_release(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00371">test_cdr.c:371</a></div></div>
<div class="ttc" id="test_8h_html_aad2aec78205d328d23894a6598cc4044"><div class="ttname"><a href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044">ast_test_result_state</a></div><div class="ttdeci">ast_test_result_state</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00200">test.h:200</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a5321bf60fac6a4c3b4b3cb0806b80634"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5321bf60fac6a4c3b4b3cb0806b80634">&#9670;&nbsp;</a></span>clear_mock_cdr_backend()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void clear_mock_cdr_backend </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00169">169</a> of file <a class="el" href="../../d7/d8e/test__cdr_8c_source.html">test_cdr.c</a>.</p>

<p class="reference">References <a class="el" href="../../d7/d8e/test__cdr_8c.html#a8fac6bd803a38e2c62d39ea5aa18ba05">actual_cdr_entries</a>, <a class="el" href="../../dc/df2/cdr_8c_source.html#l03411">ast_cdr_free()</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00039">AST_LIST_LOCK</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00832">AST_LIST_REMOVE_HEAD</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00139">AST_LIST_UNLOCK</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00097">test_cdr_entry::cdr</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00102">global_mock_cdr_count</a>, and <a class="el" href="../../d4/d85/structtest__cdr__entry.html#aa5bc58ac1be2efe1540bf61a119b545c">test_cdr_entry::list</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l02534">test_cdr_cleanup_cb()</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l02522">test_cdr_init_cb()</a>, and <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l02546">unload_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;{</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d85/structtest__cdr__entry.html">test_cdr_entry</a> *cdr_wrapper;</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a>(&amp;<a class="code" href="../../d7/d8e/test__cdr_8c.html#a8fac6bd803a38e2c62d39ea5aa18ba05">actual_cdr_entries</a>);</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;   <span class="keywordflow">while</span> ((cdr_wrapper = <a class="code" href="../../df/d90/linkedlists_8h.html#aadfe2a69fbba4f27c201266a2ca5f989">AST_LIST_REMOVE_HEAD</a>(&amp;<a class="code" href="../../d7/d8e/test__cdr_8c.html#a8fac6bd803a38e2c62d39ea5aa18ba05">actual_cdr_entries</a>, <a class="code" href="../../d4/d85/structtest__cdr__entry.html#aa5bc58ac1be2efe1540bf61a119b545c">list</a>))) {</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;      <a class="code" href="../../dc/d07/cdr_8h.html#a28b931d52c71271afd601186db95fec2">ast_cdr_free</a>(cdr_wrapper-&gt;<a class="code" href="../../d4/d85/structtest__cdr__entry.html#a0b6fbd632bcf2e09017a0b82c2ed41ff">cdr</a>);</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(cdr_wrapper);</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;   }</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#a2d4176f1388999cc160edf8418a888e4">global_mock_cdr_count</a> = 0;</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a>(&amp;<a class="code" href="../../d7/d8e/test__cdr_8c.html#a8fac6bd803a38e2c62d39ea5aa18ba05">actual_cdr_entries</a>);</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;}</div><div class="ttc" id="linkedlists_8h_html_a9140a4e4d781264fa9469c52b1adae40"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a></div><div class="ttdeci">#define AST_LIST_LOCK(head)</div><div class="ttdoc">Locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00039">linkedlists.h:39</a></div></div>
<div class="ttc" id="linkedlists_8h_html_ab48cb9e1e612dd486b747ba1c5d68d01"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a></div><div class="ttdeci">#define AST_LIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00139">linkedlists.h:139</a></div></div>
<div class="ttc" id="structtest__cdr__entry_html_a0b6fbd632bcf2e09017a0b82c2ed41ff"><div class="ttname"><a href="../../d4/d85/structtest__cdr__entry.html#a0b6fbd632bcf2e09017a0b82c2ed41ff">test_cdr_entry::cdr</a></div><div class="ttdeci">struct ast_cdr * cdr</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00097">test_cdr.c:97</a></div></div>
<div class="ttc" id="structtest__cdr__entry_html_aa5bc58ac1be2efe1540bf61a119b545c"><div class="ttname"><a href="../../d4/d85/structtest__cdr__entry.html#aa5bc58ac1be2efe1540bf61a119b545c">test_cdr_entry::list</a></div><div class="ttdeci">struct test_cdr_entry::@505 list</div></div>
<div class="ttc" id="test__cdr_8c_html_a8fac6bd803a38e2c62d39ea5aa18ba05"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a8fac6bd803a38e2c62d39ea5aa18ba05">actual_cdr_entries</a></div><div class="ttdeci">static struct @504 actual_cdr_entries</div><div class="ttdoc">A linked list of received CDR entries from the engine. </div></div>
<div class="ttc" id="structtest__cdr__entry_html"><div class="ttname"><a href="../../d4/d85/structtest__cdr__entry.html">test_cdr_entry</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00096">test_cdr.c:96</a></div></div>
<div class="ttc" id="linkedlists_8h_html_aadfe2a69fbba4f27c201266a2ca5f989"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#aadfe2a69fbba4f27c201266a2ca5f989">AST_LIST_REMOVE_HEAD</a></div><div class="ttdeci">#define AST_LIST_REMOVE_HEAD(head, field)</div><div class="ttdoc">Removes and returns the head entry from a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00832">linkedlists.h:832</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="cdr_8h_html_a28b931d52c71271afd601186db95fec2"><div class="ttname"><a href="../../dc/d07/cdr_8h.html#a28b931d52c71271afd601186db95fec2">ast_cdr_free</a></div><div class="ttdeci">void ast_cdr_free(struct ast_cdr *cdr)</div><div class="ttdoc">Free a CDR record. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/cdr_8c_source.html#l03411">cdr.c:3411</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a2d4176f1388999cc160edf8418a888e4"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a2d4176f1388999cc160edf8418a888e4">global_mock_cdr_count</a></div><div class="ttdeci">static int global_mock_cdr_count</div><div class="ttdoc">The number of CDRs the mock backend has received. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00102">test_cdr.c:102</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a638dca57ef13cc34a8d584246f5add00"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a638dca57ef13cc34a8d584246f5add00">&#9670;&nbsp;</a></span>do_sleep()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void do_sleep </td>
          <td>(</td>
          <td class="paramtype">struct timespec *&#160;</td>
          <td class="paramname"><em>to_sleep</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00387">387</a> of file <a class="el" href="../../d7/d8e/test__cdr_8c_source.html">test_cdr.c</a>.</p>

<p class="reference">References <a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00535">AST_TEST_DEFINE()</a>.</p>
<div class="fragment"><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;{</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;   <span class="keywordflow">while</span> ((nanosleep(<a class="code" href="../../db/dc4/test__cel_8c.html#af600138406d2c64d06bf7dedf447cfc9">to_sleep</a>, <a class="code" href="../../db/dc4/test__cel_8c.html#af600138406d2c64d06bf7dedf447cfc9">to_sleep</a>) == -1) &amp;&amp; (<a class="code" href="../../d1/d6e/main_2stdtime_2private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a> == EINTR)) {</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;   }</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;}</div><div class="ttc" id="test__cel_8c_html_af600138406d2c64d06bf7dedf447cfc9"><div class="ttname"><a href="../../db/dc4/test__cel_8c.html#af600138406d2c64d06bf7dedf447cfc9">to_sleep</a></div><div class="ttdeci">static struct timespec to_sleep</div><div class="ttdoc">A 1 second sleep. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/dc4/test__cel_8c_source.html#l00085">test_cel.c:85</a></div></div>
<div class="ttc" id="main_2stdtime_2private_8h_html_ad65a8842cc674e3ddf69355898c0ecbf"><div class="ttname"><a href="../../d1/d6e/main_2stdtime_2private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a></div><div class="ttdeci">int errno</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac3382bf6da54c56b37069bd76bbdf4f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac3382bf6da54c56b37069bd76bbdf4f9">&#9670;&nbsp;</a></span>load_module()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int load_module </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l02585">2585</a> of file <a class="el" href="../../d7/d8e/test__cdr_8c_source.html">test_cdr.c</a>.</p>

<p class="reference">References <a class="el" href="../../dc/df2/cdr_8c_source.html#l02943">ast_cdr_register()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l00539">ast_channel_register()</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00199">ast_cond_init</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00070">AST_MODULE_LOAD_SUCCESS</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00127">AST_TEST_REGISTER</a>, <a class="el" href="../../d8/db9/test_8c_source.html#l00177">ast_test_register_cleanup()</a>, <a class="el" href="../../d8/db9/test_8c_source.html#l00160">ast_test_register_init()</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00053">MOCK_CDR_BACKEND</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00116">mock_cdr_backend_cb()</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00088">mock_cdr_cond</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00051">TEST_CATEGORY</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l02534">test_cdr_cleanup_cb()</a>, and <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l02522">test_cdr_init_cb()</a>.</p>
<div class="fragment"><div class="line"><a name="l02586"></a><span class="lineno"> 2586</span>&#160;{</div><div class="line"><a name="l02587"></a><span class="lineno"> 2587</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a69e9591803d36f5683eb9b084442be9b">ast_cond_init</a>(&amp;<a class="code" href="../../d7/d8e/test__cdr_8c.html#a7f8e76f98e5c15a968ab52a6690824b0">mock_cdr_cond</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l02588"></a><span class="lineno"> 2588</span>&#160;</div><div class="line"><a name="l02589"></a><span class="lineno"> 2589</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a34f64a69c09d98ceb693b077efd7ef97">AST_TEST_REGISTER</a>(test_cdr_channel_creation);</div><div class="line"><a name="l02590"></a><span class="lineno"> 2590</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a34f64a69c09d98ceb693b077efd7ef97">AST_TEST_REGISTER</a>(test_cdr_unanswered_inbound_call);</div><div class="line"><a name="l02591"></a><span class="lineno"> 2591</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a34f64a69c09d98ceb693b077efd7ef97">AST_TEST_REGISTER</a>(test_cdr_unanswered_outbound_call);</div><div class="line"><a name="l02592"></a><span class="lineno"> 2592</span>&#160;</div><div class="line"><a name="l02593"></a><span class="lineno"> 2593</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a34f64a69c09d98ceb693b077efd7ef97">AST_TEST_REGISTER</a>(test_cdr_single_party);</div><div class="line"><a name="l02594"></a><span class="lineno"> 2594</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a34f64a69c09d98ceb693b077efd7ef97">AST_TEST_REGISTER</a>(test_cdr_single_bridge);</div><div class="line"><a name="l02595"></a><span class="lineno"> 2595</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a34f64a69c09d98ceb693b077efd7ef97">AST_TEST_REGISTER</a>(test_cdr_single_bridge_continue);</div><div class="line"><a name="l02596"></a><span class="lineno"> 2596</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a34f64a69c09d98ceb693b077efd7ef97">AST_TEST_REGISTER</a>(test_cdr_single_twoparty_bridge_a);</div><div class="line"><a name="l02597"></a><span class="lineno"> 2597</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a34f64a69c09d98ceb693b077efd7ef97">AST_TEST_REGISTER</a>(test_cdr_single_twoparty_bridge_b);</div><div class="line"><a name="l02598"></a><span class="lineno"> 2598</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a34f64a69c09d98ceb693b077efd7ef97">AST_TEST_REGISTER</a>(test_cdr_single_multiparty_bridge);</div><div class="line"><a name="l02599"></a><span class="lineno"> 2599</span>&#160;</div><div class="line"><a name="l02600"></a><span class="lineno"> 2600</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a34f64a69c09d98ceb693b077efd7ef97">AST_TEST_REGISTER</a>(test_cdr_outbound_bridged_call);</div><div class="line"><a name="l02601"></a><span class="lineno"> 2601</span>&#160;</div><div class="line"><a name="l02602"></a><span class="lineno"> 2602</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a34f64a69c09d98ceb693b077efd7ef97">AST_TEST_REGISTER</a>(test_cdr_dial_unanswered);</div><div class="line"><a name="l02603"></a><span class="lineno"> 2603</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a34f64a69c09d98ceb693b077efd7ef97">AST_TEST_REGISTER</a>(test_cdr_dial_congestion);</div><div class="line"><a name="l02604"></a><span class="lineno"> 2604</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a34f64a69c09d98ceb693b077efd7ef97">AST_TEST_REGISTER</a>(test_cdr_dial_busy);</div><div class="line"><a name="l02605"></a><span class="lineno"> 2605</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a34f64a69c09d98ceb693b077efd7ef97">AST_TEST_REGISTER</a>(test_cdr_dial_unavailable);</div><div class="line"><a name="l02606"></a><span class="lineno"> 2606</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a34f64a69c09d98ceb693b077efd7ef97">AST_TEST_REGISTER</a>(test_cdr_dial_caller_cancel);</div><div class="line"><a name="l02607"></a><span class="lineno"> 2607</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a34f64a69c09d98ceb693b077efd7ef97">AST_TEST_REGISTER</a>(test_cdr_dial_parallel_failed);</div><div class="line"><a name="l02608"></a><span class="lineno"> 2608</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a34f64a69c09d98ceb693b077efd7ef97">AST_TEST_REGISTER</a>(test_cdr_dial_answer_no_bridge);</div><div class="line"><a name="l02609"></a><span class="lineno"> 2609</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a34f64a69c09d98ceb693b077efd7ef97">AST_TEST_REGISTER</a>(test_cdr_dial_answer_twoparty_bridge_a);</div><div class="line"><a name="l02610"></a><span class="lineno"> 2610</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a34f64a69c09d98ceb693b077efd7ef97">AST_TEST_REGISTER</a>(test_cdr_dial_answer_twoparty_bridge_b);</div><div class="line"><a name="l02611"></a><span class="lineno"> 2611</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a34f64a69c09d98ceb693b077efd7ef97">AST_TEST_REGISTER</a>(test_cdr_dial_answer_multiparty);</div><div class="line"><a name="l02612"></a><span class="lineno"> 2612</span>&#160;</div><div class="line"><a name="l02613"></a><span class="lineno"> 2613</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a34f64a69c09d98ceb693b077efd7ef97">AST_TEST_REGISTER</a>(test_cdr_park);</div><div class="line"><a name="l02614"></a><span class="lineno"> 2614</span>&#160;</div><div class="line"><a name="l02615"></a><span class="lineno"> 2615</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a34f64a69c09d98ceb693b077efd7ef97">AST_TEST_REGISTER</a>(test_cdr_fields);</div><div class="line"><a name="l02616"></a><span class="lineno"> 2616</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a34f64a69c09d98ceb693b077efd7ef97">AST_TEST_REGISTER</a>(test_cdr_no_reset_cdr);</div><div class="line"><a name="l02617"></a><span class="lineno"> 2617</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a34f64a69c09d98ceb693b077efd7ef97">AST_TEST_REGISTER</a>(test_cdr_fork_cdr);</div><div class="line"><a name="l02618"></a><span class="lineno"> 2618</span>&#160;</div><div class="line"><a name="l02619"></a><span class="lineno"> 2619</span>&#160;   <a class="code" href="../../d8/db9/test_8c.html#a4e75c29c042ce5aa6c80cff24fa7f078">ast_test_register_init</a>(<a class="code" href="../../d7/d8e/test__cdr_8c.html#add35ea2349b86888eef95d404e6faebf">TEST_CATEGORY</a>, <a class="code" href="../../d7/d8e/test__cdr_8c.html#aac6df54a16aa9f8f60d4c1056ae15643">test_cdr_init_cb</a>);</div><div class="line"><a name="l02620"></a><span class="lineno"> 2620</span>&#160;   <a class="code" href="../../d8/db9/test_8c.html#af12ce196f7d1a605f046ed778049c2e0">ast_test_register_cleanup</a>(<a class="code" href="../../d7/d8e/test__cdr_8c.html#add35ea2349b86888eef95d404e6faebf">TEST_CATEGORY</a>, <a class="code" href="../../d7/d8e/test__cdr_8c.html#a7cb72352efd593d942fb46181cf14a68">test_cdr_cleanup_cb</a>);</div><div class="line"><a name="l02621"></a><span class="lineno"> 2621</span>&#160;</div><div class="line"><a name="l02622"></a><span class="lineno"> 2622</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#ab5f3776fda943e52820ceeee5835c1b4">ast_channel_register</a>(&amp;<a class="code" href="../../d7/d8e/test__cdr_8c.html#ab321062127839f3f04e03e96ceda145b">test_cdr_chan_tech</a>);</div><div class="line"><a name="l02623"></a><span class="lineno"> 2623</span>&#160;   <a class="code" href="../../dc/d07/cdr_8h.html#abdbcf7f728cbacea0b28bf9c51f99b92">ast_cdr_register</a>(<a class="code" href="../../d7/d8e/test__cdr_8c.html#ad8acbad0b68bdfe22b4e9989f40659a5">MOCK_CDR_BACKEND</a>, <span class="stringliteral">&quot;Mock CDR backend&quot;</span>, <a class="code" href="../../d7/d8e/test__cdr_8c.html#a83d16cad42917d3e165117a00b988183">mock_cdr_backend_cb</a>);</div><div class="line"><a name="l02624"></a><span class="lineno"> 2624</span>&#160;</div><div class="line"><a name="l02625"></a><span class="lineno"> 2625</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfa89bb877ade9ce418ad6663f3d936f314">AST_MODULE_LOAD_SUCCESS</a>;</div><div class="line"><a name="l02626"></a><span class="lineno"> 2626</span>&#160;}</div><div class="ttc" id="test__cdr_8c_html_aac6df54a16aa9f8f60d4c1056ae15643"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#aac6df54a16aa9f8f60d4c1056ae15643">test_cdr_init_cb</a></div><div class="ttdeci">static int test_cdr_init_cb(struct ast_test_info *info, struct ast_test *test)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l02522">test_cdr.c:2522</a></div></div>
<div class="ttc" id="module_8h_html_adc09474f0ff557e9925b722ee5b952dfa89bb877ade9ce418ad6663f3d936f314"><div class="ttname"><a href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfa89bb877ade9ce418ad6663f3d936f314">AST_MODULE_LOAD_SUCCESS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00070">module.h:70</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a7cb72352efd593d942fb46181cf14a68"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a7cb72352efd593d942fb46181cf14a68">test_cdr_cleanup_cb</a></div><div class="ttdeci">static int test_cdr_cleanup_cb(struct ast_test_info *info, struct ast_test *test)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l02534">test_cdr.c:2534</a></div></div>
<div class="ttc" id="test_8c_html_a4e75c29c042ce5aa6c80cff24fa7f078"><div class="ttname"><a href="../../d8/db9/test_8c.html#a4e75c29c042ce5aa6c80cff24fa7f078">ast_test_register_init</a></div><div class="ttdeci">int ast_test_register_init(const char *category, ast_test_init_cb_t *cb)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/db9/test_8c_source.html#l00160">test.c:160</a></div></div>
<div class="ttc" id="test__cdr_8c_html_add35ea2349b86888eef95d404e6faebf"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#add35ea2349b86888eef95d404e6faebf">TEST_CATEGORY</a></div><div class="ttdeci">#define TEST_CATEGORY</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00051">test_cdr.c:51</a></div></div>
<div class="ttc" id="test_8h_html_a34f64a69c09d98ceb693b077efd7ef97"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a34f64a69c09d98ceb693b077efd7ef97">AST_TEST_REGISTER</a></div><div class="ttdeci">#define AST_TEST_REGISTER(cb)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00127">test.h:127</a></div></div>
<div class="ttc" id="lock_8h_html_a69e9591803d36f5683eb9b084442be9b"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a69e9591803d36f5683eb9b084442be9b">ast_cond_init</a></div><div class="ttdeci">#define ast_cond_init(cond, attr)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00199">lock.h:199</a></div></div>
<div class="ttc" id="channel_8h_html_ab5f3776fda943e52820ceeee5835c1b4"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#ab5f3776fda943e52820ceeee5835c1b4">ast_channel_register</a></div><div class="ttdeci">int ast_channel_register(const struct ast_channel_tech *tech)</div><div class="ttdoc">Register a channel technology (a new channel driver) Called by a channel module to register the kind ...</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l00539">channel.c:539</a></div></div>
<div class="ttc" id="test__cdr_8c_html_ad8acbad0b68bdfe22b4e9989f40659a5"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#ad8acbad0b68bdfe22b4e9989f40659a5">MOCK_CDR_BACKEND</a></div><div class="ttdeci">#define MOCK_CDR_BACKEND</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00053">test_cdr.c:53</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="cdr_8h_html_abdbcf7f728cbacea0b28bf9c51f99b92"><div class="ttname"><a href="../../dc/d07/cdr_8h.html#abdbcf7f728cbacea0b28bf9c51f99b92">ast_cdr_register</a></div><div class="ttdeci">int ast_cdr_register(const char *name, const char *desc, ast_cdrbe be)</div><div class="ttdoc">Register a CDR handling engine. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/cdr_8c_source.html#l02943">cdr.c:2943</a></div></div>
<div class="ttc" id="test_8c_html_af12ce196f7d1a605f046ed778049c2e0"><div class="ttname"><a href="../../d8/db9/test_8c.html#af12ce196f7d1a605f046ed778049c2e0">ast_test_register_cleanup</a></div><div class="ttdeci">int ast_test_register_cleanup(const char *category, ast_test_cleanup_cb_t *cb)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/db9/test_8c_source.html#l00177">test.c:177</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a83d16cad42917d3e165117a00b988183"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a83d16cad42917d3e165117a00b988183">mock_cdr_backend_cb</a></div><div class="ttdeci">static int mock_cdr_backend_cb(struct ast_cdr *cdr)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00116">test_cdr.c:116</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a7f8e76f98e5c15a968ab52a6690824b0"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a7f8e76f98e5c15a968ab52a6690824b0">mock_cdr_cond</a></div><div class="ttdeci">static ast_cond_t mock_cdr_cond</div><div class="ttdoc">The Mock CDR backend condition wait. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00088">test_cdr.c:88</a></div></div>
<div class="ttc" id="test__cdr_8c_html_ab321062127839f3f04e03e96ceda145b"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#ab321062127839f3f04e03e96ceda145b">test_cdr_chan_tech</a></div><div class="ttdeci">static struct ast_channel_tech test_cdr_chan_tech</div><div class="ttdoc">A channel technology used for the unit tests. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00091">test_cdr.c:91</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a83d16cad42917d3e165117a00b988183"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a83d16cad42917d3e165117a00b988183">&#9670;&nbsp;</a></span>mock_cdr_backend_cb()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int mock_cdr_backend_cb </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d5d/structast__cdr.html">ast_cdr</a> *&#160;</td>
          <td class="paramname"><em>cdr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00116">116</a> of file <a class="el" href="../../d7/d8e/test__cdr_8c_source.html">test_cdr.c</a>.</p>

<p class="reference">References <a class="el" href="../../d7/d8e/test__cdr_8c.html#a8fac6bd803a38e2c62d39ea5aa18ba05">actual_cdr_entries</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00204">ast_calloc</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00201">ast_cond_signal</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00730">AST_LIST_INSERT_TAIL</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00039">AST_LIST_LOCK</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00490">AST_LIST_TRAVERSE</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00139">AST_LIST_UNLOCK</a>, <a class="el" href="../../d9/de7/chanvars_8h_source.html#l00040">ast_var_assign</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00097">test_cdr_entry::cdr</a>, <a class="el" href="../../d0/d7d/structast__var__t.html#a55d5c7988e3164d7310d88c67d97a1db">ast_var_t::entries</a>, <a class="el" href="../../d9/de7/chanvars_8h_source.html#l00034">varshead::first</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00102">global_mock_cdr_count</a>, <a class="el" href="../../d9/de7/chanvars_8h_source.html#l00034">varshead::last</a>, <a class="el" href="../../d4/d85/structtest__cdr__entry.html#aa5bc58ac1be2efe1540bf61a119b545c">test_cdr_entry::list</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00088">mock_cdr_cond</a>, <a class="el" href="../../d9/de7/chanvars_8h_source.html#l00031">ast_var_t::name</a>, <a class="el" href="../../dc/d07/cdr_8h_source.html#l00325">ast_cdr::next</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d9/de7/chanvars_8h_source.html#l00030">ast_var_t::value</a>, and <a class="el" href="../../dc/d07/cdr_8h_source.html#l00323">ast_cdr::varshead</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l02585">load_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;{</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d5d/structast__cdr.html">ast_cdr</a> *cdr_copy, *cdr_prev = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d5d/structast__cdr.html">ast_cdr</a> *mock_cdr = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d85/structtest__cdr__entry.html">test_cdr_entry</a> *cdr_wrapper;</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;   cdr_wrapper = <a class="code" href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a>(1, <span class="keyword">sizeof</span>(*cdr_wrapper));</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;   <span class="keywordflow">if</span> (!cdr_wrapper) {</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;   }</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;   <span class="keywordflow">for</span> (; <a class="code" href="../../d4/d85/structtest__cdr__entry.html#a0b6fbd632bcf2e09017a0b82c2ed41ff">cdr</a>; cdr = cdr-&gt;<a class="code" href="../../d4/d5d/structast__cdr.html#a8098d02138e27b57d184b260b6669eed">next</a>) {</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;      <span class="keyword">struct </span><a class="code" href="../../d0/d7d/structast__var__t.html">ast_var_t</a> *var_entry, *var_copy;</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;      cdr_copy = <a class="code" href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a>(1, <span class="keyword">sizeof</span>(*cdr_copy));</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;      <span class="keywordflow">if</span> (!cdr_copy) {</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;         <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;      }</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;      *cdr_copy = *cdr;</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;      cdr_copy-&gt;<a class="code" href="../../d4/d5d/structast__cdr.html#a9ffb22045a8f14bef8f2137cd779ab25">varshead</a>.<a class="code" href="../../dd/de6/structvarshead.html#addececcc958135ba1fd7062545dbdf72">first</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;      cdr_copy-&gt;<a class="code" href="../../d4/d5d/structast__cdr.html#a9ffb22045a8f14bef8f2137cd779ab25">varshead</a>.<a class="code" href="../../dd/de6/structvarshead.html#a87f7c0fe797ad2e1404b31e3c399be71">last</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;      cdr_copy-&gt;<a class="code" href="../../d4/d5d/structast__cdr.html#a8098d02138e27b57d184b260b6669eed">next</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;      <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(&amp;cdr-&gt;<a class="code" href="../../d4/d5d/structast__cdr.html#a9ffb22045a8f14bef8f2137cd779ab25">varshead</a>, var_entry, <a class="code" href="../../d0/d7d/structast__var__t.html#a55d5c7988e3164d7310d88c67d97a1db">entries</a>) {</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;         var_copy = <a class="code" href="../../d9/de7/chanvars_8h.html#a78deeb18e93b145e9895346cef766577">ast_var_assign</a>(var_entry-&gt;<a class="code" href="../../d0/d7d/structast__var__t.html#a2a7f851274ec18e17d38114c39b8511a">name</a>, var_entry-&gt;<a class="code" href="../../d0/d7d/structast__var__t.html#a325611b97f57f55a57b2a7cf3238ef54">value</a>);</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;         <span class="keywordflow">if</span> (!var_copy) {</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;            <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;         }</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;         <a class="code" href="../../df/d90/linkedlists_8h.html#a4d258b4525e63c435d7de579d3f46960">AST_LIST_INSERT_TAIL</a>(&amp;cdr_copy-&gt;<a class="code" href="../../d4/d5d/structast__cdr.html#a9ffb22045a8f14bef8f2137cd779ab25">varshead</a>, var_copy, <a class="code" href="../../d0/d7d/structast__var__t.html#a55d5c7988e3164d7310d88c67d97a1db">entries</a>);</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;      }</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;      <span class="keywordflow">if</span> (!mock_cdr) {</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;         mock_cdr = cdr_copy;</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;      }</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;      <span class="keywordflow">if</span> (cdr_prev) {</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;         cdr_prev-&gt;<a class="code" href="../../d4/d5d/structast__cdr.html#a8098d02138e27b57d184b260b6669eed">next</a> = cdr_copy;</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;      }</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;      cdr_prev = cdr_copy;</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;   }</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;   cdr_wrapper-&gt;<a class="code" href="../../d4/d85/structtest__cdr__entry.html#a0b6fbd632bcf2e09017a0b82c2ed41ff">cdr</a> = mock_cdr;</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a>(&amp;<a class="code" href="../../d7/d8e/test__cdr_8c.html#a8fac6bd803a38e2c62d39ea5aa18ba05">actual_cdr_entries</a>);</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a4d258b4525e63c435d7de579d3f46960">AST_LIST_INSERT_TAIL</a>(&amp;<a class="code" href="../../d7/d8e/test__cdr_8c.html#a8fac6bd803a38e2c62d39ea5aa18ba05">actual_cdr_entries</a>, cdr_wrapper, list);</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#a2d4176f1388999cc160edf8418a888e4">global_mock_cdr_count</a>++;</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#ae2cdf274a5da241c3ad7324d82bf6af0">ast_cond_signal</a>(&amp;<a class="code" href="../../d7/d8e/test__cdr_8c.html#a7f8e76f98e5c15a968ab52a6690824b0">mock_cdr_cond</a>);</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a>(&amp;<a class="code" href="../../d7/d8e/test__cdr_8c.html#a8fac6bd803a38e2c62d39ea5aa18ba05">actual_cdr_entries</a>);</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;}</div><div class="ttc" id="linkedlists_8h_html_a9140a4e4d781264fa9469c52b1adae40"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a></div><div class="ttdeci">#define AST_LIST_LOCK(head)</div><div class="ttdoc">Locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00039">linkedlists.h:39</a></div></div>
<div class="ttc" id="structvarshead_html_a87f7c0fe797ad2e1404b31e3c399be71"><div class="ttname"><a href="../../dd/de6/structvarshead.html#a87f7c0fe797ad2e1404b31e3c399be71">varshead::last</a></div><div class="ttdeci">struct ast_var_t * last</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de7/chanvars_8h_source.html#l00034">chanvars.h:34</a></div></div>
<div class="ttc" id="structast__cdr_html_a8098d02138e27b57d184b260b6669eed"><div class="ttname"><a href="../../d4/d5d/structast__cdr.html#a8098d02138e27b57d184b260b6669eed">ast_cdr::next</a></div><div class="ttdeci">struct ast_cdr * next</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00325">cdr.h:325</a></div></div>
<div class="ttc" id="linkedlists_8h_html_ab48cb9e1e612dd486b747ba1c5d68d01"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a></div><div class="ttdeci">#define AST_LIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00139">linkedlists.h:139</a></div></div>
<div class="ttc" id="structtest__cdr__entry_html_a0b6fbd632bcf2e09017a0b82c2ed41ff"><div class="ttname"><a href="../../d4/d85/structtest__cdr__entry.html#a0b6fbd632bcf2e09017a0b82c2ed41ff">test_cdr_entry::cdr</a></div><div class="ttdeci">struct ast_cdr * cdr</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00097">test_cdr.c:97</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="lock_8h_html_ae2cdf274a5da241c3ad7324d82bf6af0"><div class="ttname"><a href="../../dd/d42/lock_8h.html#ae2cdf274a5da241c3ad7324d82bf6af0">ast_cond_signal</a></div><div class="ttdeci">#define ast_cond_signal(cond)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00201">lock.h:201</a></div></div>
<div class="ttc" id="structast__cdr_html_a9ffb22045a8f14bef8f2137cd779ab25"><div class="ttname"><a href="../../d4/d5d/structast__cdr.html#a9ffb22045a8f14bef8f2137cd779ab25">ast_cdr::varshead</a></div><div class="ttdeci">struct varshead varshead</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00323">cdr.h:323</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a8fac6bd803a38e2c62d39ea5aa18ba05"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a8fac6bd803a38e2c62d39ea5aa18ba05">actual_cdr_entries</a></div><div class="ttdeci">static struct @504 actual_cdr_entries</div><div class="ttdoc">A linked list of received CDR entries from the engine. </div></div>
<div class="ttc" id="structtest__cdr__entry_html"><div class="ttname"><a href="../../d4/d85/structtest__cdr__entry.html">test_cdr_entry</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00096">test_cdr.c:96</a></div></div>
<div class="ttc" id="structvarshead_html_addececcc958135ba1fd7062545dbdf72"><div class="ttname"><a href="../../dd/de6/structvarshead.html#addececcc958135ba1fd7062545dbdf72">varshead::first</a></div><div class="ttdeci">struct ast_var_t * first</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de7/chanvars_8h_source.html#l00034">chanvars.h:34</a></div></div>
<div class="ttc" id="structast__cdr_html"><div class="ttname"><a href="../../d4/d5d/structast__cdr.html">ast_cdr</a></div><div class="ttdoc">Responsible for call detail data. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00276">cdr.h:276</a></div></div>
<div class="ttc" id="structast__var__t_html_a2a7f851274ec18e17d38114c39b8511a"><div class="ttname"><a href="../../d0/d7d/structast__var__t.html#a2a7f851274ec18e17d38114c39b8511a">ast_var_t::name</a></div><div class="ttdeci">char name[0]</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de7/chanvars_8h_source.html#l00031">chanvars.h:31</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a4d258b4525e63c435d7de579d3f46960"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a4d258b4525e63c435d7de579d3f46960">AST_LIST_INSERT_TAIL</a></div><div class="ttdeci">#define AST_LIST_INSERT_TAIL(head, elm, field)</div><div class="ttdoc">Appends a list entry to the tail of a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00730">linkedlists.h:730</a></div></div>
<div class="ttc" id="structast__var__t_html"><div class="ttname"><a href="../../d0/d7d/structast__var__t.html">ast_var_t</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de7/chanvars_8h_source.html#l00028">chanvars.h:28</a></div></div>
<div class="ttc" id="structast__var__t_html_a325611b97f57f55a57b2a7cf3238ef54"><div class="ttname"><a href="../../d0/d7d/structast__var__t.html#a325611b97f57f55a57b2a7cf3238ef54">ast_var_t::value</a></div><div class="ttdeci">char * value</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de7/chanvars_8h_source.html#l00030">chanvars.h:30</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a7f8e76f98e5c15a968ab52a6690824b0"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a7f8e76f98e5c15a968ab52a6690824b0">mock_cdr_cond</a></div><div class="ttdeci">static ast_cond_t mock_cdr_cond</div><div class="ttdoc">The Mock CDR backend condition wait. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00088">test_cdr.c:88</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a3008b2f4f236b72d8bcfb80e346324ef"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a></div><div class="ttdeci">#define AST_LIST_TRAVERSE(head, var, field)</div><div class="ttdoc">Loops over (traverses) the entries in a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00490">linkedlists.h:490</a></div></div>
<div class="ttc" id="astmm_8h_html_ae0cd4c5524b01287ab19cbe233d9cebb"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a></div><div class="ttdeci">#define ast_calloc(num, len)</div><div class="ttdoc">A wrapper for calloc() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00204">astmm.h:204</a></div></div>
<div class="ttc" id="structast__var__t_html_a55d5c7988e3164d7310d88c67d97a1db"><div class="ttname"><a href="../../d0/d7d/structast__var__t.html#a55d5c7988e3164d7310d88c67d97a1db">ast_var_t::entries</a></div><div class="ttdeci">struct ast_var_t::@249 entries</div></div>
<div class="ttc" id="chanvars_8h_html_a78deeb18e93b145e9895346cef766577"><div class="ttname"><a href="../../d9/de7/chanvars_8h.html#a78deeb18e93b145e9895346cef766577">ast_var_assign</a></div><div class="ttdeci">#define ast_var_assign(name, value)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de7/chanvars_8h_source.html#l00040">chanvars.h:40</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a2d4176f1388999cc160edf8418a888e4"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a2d4176f1388999cc160edf8418a888e4">global_mock_cdr_count</a></div><div class="ttdeci">static int global_mock_cdr_count</div><div class="ttdoc">The number of CDRs the mock backend has received. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00102">test_cdr.c:102</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a4aab087f903dfe2609a124a828903cb5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4aab087f903dfe2609a124a828903cb5">&#9670;&nbsp;</a></span>safe_bridge_destroy()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void safe_bridge_destroy </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *&#160;</td>
          <td class="paramname"><em>bridge</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00379">379</a> of file <a class="el" href="../../d7/d8e/test__cdr_8c_source.html">test_cdr.c</a>.</p>

<p class="reference">References <a class="el" href="../../d0/d95/bridge_8c_source.html#l00970">ast_bridge_destroy()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00535">AST_TEST_DEFINE()</a>.</p>
<div class="fragment"><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;{</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;   <span class="keywordflow">if</span> (!bridge) {</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;   }</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#a4adad484788bb018b8699eeed2ddfedd">ast_bridge_destroy</a>(bridge, 0);</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;}</div><div class="ttc" id="bridge_8h_html_a4adad484788bb018b8699eeed2ddfedd"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a4adad484788bb018b8699eeed2ddfedd">ast_bridge_destroy</a></div><div class="ttdeci">int ast_bridge_destroy(struct ast_bridge *bridge, int cause)</div><div class="ttdoc">Destroy a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l00970">bridge.c:970</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a987d4f1e5d92597fac228fa99bcb56be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a987d4f1e5d92597fac228fa99bcb56be">&#9670;&nbsp;</a></span>safe_channel_release()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void safe_channel_release </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00371">371</a> of file <a class="el" href="../../d7/d8e/test__cdr_8c_source.html">test_cdr.c</a>.</p>

<p class="reference">References <a class="el" href="../../d4/d28/channel_8c_source.html#l01584">ast_channel_release()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00393">AST_TEST_DEFINE()</a>.</p>
<div class="fragment"><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;{</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;   <span class="keywordflow">if</span> (!chan) {</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;   }</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a015abb5b26bfba6ca64f10fd9e0468ba">ast_channel_release</a>(chan);</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;}</div><div class="ttc" id="channel_8h_html_a015abb5b26bfba6ca64f10fd9e0468ba"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a015abb5b26bfba6ca64f10fd9e0468ba">ast_channel_release</a></div><div class="ttdeci">struct ast_channel * ast_channel_release(struct ast_channel *chan)</div><div class="ttdoc">Unlink and release reference to a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l01584">channel.c:1584</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a7cb72352efd593d942fb46181cf14a68"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7cb72352efd593d942fb46181cf14a68">&#9670;&nbsp;</a></span>test_cdr_cleanup_cb()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int test_cdr_cleanup_cb </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dc/d62/structast__test__info.html">ast_test_info</a> *&#160;</td>
          <td class="paramname"><em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d9/d79/structast__test.html">ast_test</a> *&#160;</td>
          <td class="paramname"><em>test</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l02534">2534</a> of file <a class="el" href="../../d7/d8e/test__cdr_8c_source.html">test_cdr.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../dc/df2/cdr_8c_source.html#l02840">ast_cdr_set_config()</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00169">clear_mock_cdr_backend()</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l02585">load_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l02535"></a><span class="lineno"> 2535</span>&#160;{</div><div class="line"><a name="l02536"></a><span class="lineno"> 2536</span>&#160;   <span class="comment">/* Restore the real config */</span></div><div class="line"><a name="l02537"></a><span class="lineno"> 2537</span>&#160;   <a class="code" href="../../dc/d07/cdr_8h.html#a2e119010fb723a389d3aabc45c0f9435">ast_cdr_set_config</a>(<a class="code" href="../../d7/d8e/test__cdr_8c.html#aace14d0f9cfef0d3623a293ea35d7e4b">saved_config</a>);</div><div class="line"><a name="l02538"></a><span class="lineno"> 2538</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>(<a class="code" href="../../d7/d8e/test__cdr_8c.html#aace14d0f9cfef0d3623a293ea35d7e4b">saved_config</a>);</div><div class="line"><a name="l02539"></a><span class="lineno"> 2539</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#aace14d0f9cfef0d3623a293ea35d7e4b">saved_config</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l02540"></a><span class="lineno"> 2540</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#a5321bf60fac6a4c3b4b3cb0806b80634">clear_mock_cdr_backend</a>();</div><div class="line"><a name="l02541"></a><span class="lineno"> 2541</span>&#160;</div><div class="line"><a name="l02542"></a><span class="lineno"> 2542</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02543"></a><span class="lineno"> 2543</span>&#160;}</div><div class="ttc" id="cdr_8h_html_a2e119010fb723a389d3aabc45c0f9435"><div class="ttname"><a href="../../dc/d07/cdr_8h.html#a2e119010fb723a389d3aabc45c0f9435">ast_cdr_set_config</a></div><div class="ttdeci">void ast_cdr_set_config(struct ast_cdr_config *config)</div><div class="ttdoc">Set the current CDR configuration. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/cdr_8c_source.html#l02840">cdr.c:2840</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a5321bf60fac6a4c3b4b3cb0806b80634"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a5321bf60fac6a4c3b4b3cb0806b80634">clear_mock_cdr_backend</a></div><div class="ttdeci">static void clear_mock_cdr_backend(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00169">test_cdr.c:169</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="test__cdr_8c_html_aace14d0f9cfef0d3623a293ea35d7e4b"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#aace14d0f9cfef0d3623a293ea35d7e4b">saved_config</a></div><div class="ttdeci">static struct ast_cdr_config * saved_config</div><div class="ttdoc">A placeholder for Asterisk&amp;#39;s &amp;#39;real&amp;#39; CDR configuration. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00058">test_cdr.c:58</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aac6df54a16aa9f8f60d4c1056ae15643"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac6df54a16aa9f8f60d4c1056ae15643">&#9670;&nbsp;</a></span>test_cdr_init_cb()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int test_cdr_init_cb </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dc/d62/structast__test__info.html">ast_test_info</a> *&#160;</td>
          <td class="paramname"><em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d9/d79/structast__test.html">ast_test</a> *&#160;</td>
          <td class="paramname"><em>test</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l02522">2522</a> of file <a class="el" href="../../d7/d8e/test__cdr_8c_source.html">test_cdr.c</a>.</p>

<p class="reference">References <a class="el" href="../../dc/df2/cdr_8c_source.html#l02826">ast_cdr_get_config()</a>, and <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00169">clear_mock_cdr_backend()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l02585">load_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l02523"></a><span class="lineno"> 2523</span>&#160;{</div><div class="line"><a name="l02524"></a><span class="lineno"> 2524</span>&#160;   <span class="comment">/* Back up the real config */</span></div><div class="line"><a name="l02525"></a><span class="lineno"> 2525</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#aace14d0f9cfef0d3623a293ea35d7e4b">saved_config</a> = <a class="code" href="../../dc/d07/cdr_8h.html#a5aba419cbee0fdecc0ada086857edaaf">ast_cdr_get_config</a>();</div><div class="line"><a name="l02526"></a><span class="lineno"> 2526</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#a5321bf60fac6a4c3b4b3cb0806b80634">clear_mock_cdr_backend</a>();</div><div class="line"><a name="l02527"></a><span class="lineno"> 2527</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02528"></a><span class="lineno"> 2528</span>&#160;}</div><div class="ttc" id="test__cdr_8c_html_a5321bf60fac6a4c3b4b3cb0806b80634"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a5321bf60fac6a4c3b4b3cb0806b80634">clear_mock_cdr_backend</a></div><div class="ttdeci">static void clear_mock_cdr_backend(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00169">test_cdr.c:169</a></div></div>
<div class="ttc" id="test__cdr_8c_html_aace14d0f9cfef0d3623a293ea35d7e4b"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#aace14d0f9cfef0d3623a293ea35d7e4b">saved_config</a></div><div class="ttdeci">static struct ast_cdr_config * saved_config</div><div class="ttdoc">A placeholder for Asterisk&amp;#39;s &amp;#39;real&amp;#39; CDR configuration. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00058">test_cdr.c:58</a></div></div>
<div class="ttc" id="cdr_8h_html_a5aba419cbee0fdecc0ada086857edaaf"><div class="ttname"><a href="../../dc/d07/cdr_8h.html#a5aba419cbee0fdecc0ada086857edaaf">ast_cdr_get_config</a></div><div class="ttdeci">struct ast_cdr_config * ast_cdr_get_config(void)</div><div class="ttdoc">Obtain the current CDR configuration. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/cdr_8c_source.html#l02826">cdr.c:2826</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad09fa931f468002152a3cc2d5ce25eae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad09fa931f468002152a3cc2d5ce25eae">&#9670;&nbsp;</a></span>unload_module()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int unload_module </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l02546">2546</a> of file <a class="el" href="../../d7/d8e/test__cdr_8c_source.html">test_cdr.c</a>.</p>

<p class="reference">References <a class="el" href="../../dc/df2/cdr_8c_source.html#l02988">ast_cdr_unregister()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l00570">ast_channel_unregister()</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00128">AST_TEST_UNREGISTER</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00169">clear_mock_cdr_backend()</a>, and <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00053">MOCK_CDR_BACKEND</a>.</p>
<div class="fragment"><div class="line"><a name="l02547"></a><span class="lineno"> 2547</span>&#160;{</div><div class="line"><a name="l02548"></a><span class="lineno"> 2548</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a79bc64a935b14b1b181156e5ada58ead">AST_TEST_UNREGISTER</a>(test_cdr_channel_creation);</div><div class="line"><a name="l02549"></a><span class="lineno"> 2549</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a79bc64a935b14b1b181156e5ada58ead">AST_TEST_UNREGISTER</a>(test_cdr_unanswered_inbound_call);</div><div class="line"><a name="l02550"></a><span class="lineno"> 2550</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a79bc64a935b14b1b181156e5ada58ead">AST_TEST_UNREGISTER</a>(test_cdr_unanswered_outbound_call);</div><div class="line"><a name="l02551"></a><span class="lineno"> 2551</span>&#160;</div><div class="line"><a name="l02552"></a><span class="lineno"> 2552</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a79bc64a935b14b1b181156e5ada58ead">AST_TEST_UNREGISTER</a>(test_cdr_single_party);</div><div class="line"><a name="l02553"></a><span class="lineno"> 2553</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a79bc64a935b14b1b181156e5ada58ead">AST_TEST_UNREGISTER</a>(test_cdr_single_bridge);</div><div class="line"><a name="l02554"></a><span class="lineno"> 2554</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a79bc64a935b14b1b181156e5ada58ead">AST_TEST_UNREGISTER</a>(test_cdr_single_bridge_continue);</div><div class="line"><a name="l02555"></a><span class="lineno"> 2555</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a79bc64a935b14b1b181156e5ada58ead">AST_TEST_UNREGISTER</a>(test_cdr_single_twoparty_bridge_a);</div><div class="line"><a name="l02556"></a><span class="lineno"> 2556</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a79bc64a935b14b1b181156e5ada58ead">AST_TEST_UNREGISTER</a>(test_cdr_single_twoparty_bridge_b);</div><div class="line"><a name="l02557"></a><span class="lineno"> 2557</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a79bc64a935b14b1b181156e5ada58ead">AST_TEST_UNREGISTER</a>(test_cdr_single_multiparty_bridge);</div><div class="line"><a name="l02558"></a><span class="lineno"> 2558</span>&#160;</div><div class="line"><a name="l02559"></a><span class="lineno"> 2559</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a79bc64a935b14b1b181156e5ada58ead">AST_TEST_UNREGISTER</a>(test_cdr_outbound_bridged_call);</div><div class="line"><a name="l02560"></a><span class="lineno"> 2560</span>&#160;</div><div class="line"><a name="l02561"></a><span class="lineno"> 2561</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a79bc64a935b14b1b181156e5ada58ead">AST_TEST_UNREGISTER</a>(test_cdr_dial_unanswered);</div><div class="line"><a name="l02562"></a><span class="lineno"> 2562</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a79bc64a935b14b1b181156e5ada58ead">AST_TEST_UNREGISTER</a>(test_cdr_dial_congestion);</div><div class="line"><a name="l02563"></a><span class="lineno"> 2563</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a79bc64a935b14b1b181156e5ada58ead">AST_TEST_UNREGISTER</a>(test_cdr_dial_busy);</div><div class="line"><a name="l02564"></a><span class="lineno"> 2564</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a79bc64a935b14b1b181156e5ada58ead">AST_TEST_UNREGISTER</a>(test_cdr_dial_unavailable);</div><div class="line"><a name="l02565"></a><span class="lineno"> 2565</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a79bc64a935b14b1b181156e5ada58ead">AST_TEST_UNREGISTER</a>(test_cdr_dial_caller_cancel);</div><div class="line"><a name="l02566"></a><span class="lineno"> 2566</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a79bc64a935b14b1b181156e5ada58ead">AST_TEST_UNREGISTER</a>(test_cdr_dial_parallel_failed);</div><div class="line"><a name="l02567"></a><span class="lineno"> 2567</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a79bc64a935b14b1b181156e5ada58ead">AST_TEST_UNREGISTER</a>(test_cdr_dial_answer_no_bridge);</div><div class="line"><a name="l02568"></a><span class="lineno"> 2568</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a79bc64a935b14b1b181156e5ada58ead">AST_TEST_UNREGISTER</a>(test_cdr_dial_answer_twoparty_bridge_a);</div><div class="line"><a name="l02569"></a><span class="lineno"> 2569</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a79bc64a935b14b1b181156e5ada58ead">AST_TEST_UNREGISTER</a>(test_cdr_dial_answer_twoparty_bridge_b);</div><div class="line"><a name="l02570"></a><span class="lineno"> 2570</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a79bc64a935b14b1b181156e5ada58ead">AST_TEST_UNREGISTER</a>(test_cdr_dial_answer_multiparty);</div><div class="line"><a name="l02571"></a><span class="lineno"> 2571</span>&#160;</div><div class="line"><a name="l02572"></a><span class="lineno"> 2572</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a79bc64a935b14b1b181156e5ada58ead">AST_TEST_UNREGISTER</a>(test_cdr_park);</div><div class="line"><a name="l02573"></a><span class="lineno"> 2573</span>&#160;</div><div class="line"><a name="l02574"></a><span class="lineno"> 2574</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a79bc64a935b14b1b181156e5ada58ead">AST_TEST_UNREGISTER</a>(test_cdr_fields);</div><div class="line"><a name="l02575"></a><span class="lineno"> 2575</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a79bc64a935b14b1b181156e5ada58ead">AST_TEST_UNREGISTER</a>(test_cdr_no_reset_cdr);</div><div class="line"><a name="l02576"></a><span class="lineno"> 2576</span>&#160;   <a class="code" href="../../d2/ddc/test_8h.html#a79bc64a935b14b1b181156e5ada58ead">AST_TEST_UNREGISTER</a>(test_cdr_fork_cdr);</div><div class="line"><a name="l02577"></a><span class="lineno"> 2577</span>&#160;</div><div class="line"><a name="l02578"></a><span class="lineno"> 2578</span>&#160;   <a class="code" href="../../dc/d07/cdr_8h.html#a915cbbaeaf06834cc96f4b8e3c224251">ast_cdr_unregister</a>(<a class="code" href="../../d7/d8e/test__cdr_8c.html#ad8acbad0b68bdfe22b4e9989f40659a5">MOCK_CDR_BACKEND</a>);</div><div class="line"><a name="l02579"></a><span class="lineno"> 2579</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a53b708b7fc71dcbcd33acae0ad4d7ef8">ast_channel_unregister</a>(&amp;<a class="code" href="../../d7/d8e/test__cdr_8c.html#ab321062127839f3f04e03e96ceda145b">test_cdr_chan_tech</a>);</div><div class="line"><a name="l02580"></a><span class="lineno"> 2580</span>&#160;   <a class="code" href="../../d7/d8e/test__cdr_8c.html#a5321bf60fac6a4c3b4b3cb0806b80634">clear_mock_cdr_backend</a>();</div><div class="line"><a name="l02581"></a><span class="lineno"> 2581</span>&#160;</div><div class="line"><a name="l02582"></a><span class="lineno"> 2582</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02583"></a><span class="lineno"> 2583</span>&#160;}</div><div class="ttc" id="cdr_8h_html_a915cbbaeaf06834cc96f4b8e3c224251"><div class="ttname"><a href="../../dc/d07/cdr_8h.html#a915cbbaeaf06834cc96f4b8e3c224251">ast_cdr_unregister</a></div><div class="ttdeci">int ast_cdr_unregister(const char *name)</div><div class="ttdoc">Unregister a CDR handling engine. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/cdr_8c_source.html#l02988">cdr.c:2988</a></div></div>
<div class="ttc" id="channel_8h_html_a53b708b7fc71dcbcd33acae0ad4d7ef8"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a53b708b7fc71dcbcd33acae0ad4d7ef8">ast_channel_unregister</a></div><div class="ttdeci">void ast_channel_unregister(const struct ast_channel_tech *tech)</div><div class="ttdoc">Unregister a channel technology. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l00570">channel.c:570</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a5321bf60fac6a4c3b4b3cb0806b80634"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a5321bf60fac6a4c3b4b3cb0806b80634">clear_mock_cdr_backend</a></div><div class="ttdeci">static void clear_mock_cdr_backend(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00169">test_cdr.c:169</a></div></div>
<div class="ttc" id="test__cdr_8c_html_ad8acbad0b68bdfe22b4e9989f40659a5"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#ad8acbad0b68bdfe22b4e9989f40659a5">MOCK_CDR_BACKEND</a></div><div class="ttdeci">#define MOCK_CDR_BACKEND</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00053">test_cdr.c:53</a></div></div>
<div class="ttc" id="test_8h_html_a79bc64a935b14b1b181156e5ada58ead"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a79bc64a935b14b1b181156e5ada58ead">AST_TEST_UNREGISTER</a></div><div class="ttdeci">#define AST_TEST_UNREGISTER(cb)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00128">test.h:128</a></div></div>
<div class="ttc" id="test__cdr_8c_html_ab321062127839f3f04e03e96ceda145b"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#ab321062127839f3f04e03e96ceda145b">test_cdr_chan_tech</a></div><div class="ttdeci">static struct ast_channel_tech test_cdr_chan_tech</div><div class="ttdoc">A channel technology used for the unit tests. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00091">test_cdr.c:91</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aabfd96ef82edc19b680e65889e005c93"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aabfd96ef82edc19b680e65889e005c93">&#9670;&nbsp;</a></span>verify_mock_cdr_record()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static enum <a class="el" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044">ast_test_result_state</a> verify_mock_cdr_record </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d9/d79/structast__test.html">ast_test</a> *&#160;</td>
          <td class="paramname"><em>test</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d4/d5d/structast__cdr.html">ast_cdr</a> *&#160;</td>
          <td class="paramname"><em>expected</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>record</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00310">310</a> of file <a class="el" href="../../d7/d8e/test__cdr_8c_source.html">test_cdr.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l00428">accountcode</a>, <a class="el" href="../../d7/d8e/test__cdr_8c.html#a8fac6bd803a38e2c62d39ea5aa18ba05">actual_cdr_entries</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l00431">amaflags</a>, <a class="el" href="../../d0/d29/chan__pjsip_8c_source.html#l00682">answer()</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00204">ast_cond_timedwait</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00039">AST_LIST_LOCK</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00832">AST_LIST_REMOVE_HEAD</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00139">AST_LIST_UNLOCK</a>, <a class="el" href="../../d8/db9/test_8c_source.html#l00113">ast_test_debug()</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00203">AST_TEST_FAIL</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00202">AST_TEST_PASS</a>, <a class="el" href="../../d2/ddc/test_8h_source.html#l00129">ast_test_status_update</a>, <a class="el" href="../../de/df7/time_8h_source.html#l00150">ast_tvnow()</a>, <a class="el" href="../../dc/d07/cdr_8h_source.html#l00302">ast_cdr::billsec</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00097">test_cdr_entry::cdr</a>, <a class="el" href="../../dc/d07/cdr_8h_source.html#l00286">ast_cdr::channel</a>, <a class="el" href="../../dc/d07/cdr_8h_source.html#l00288">ast_cdr::dstchannel</a>, <a class="el" href="../../dd/d7c/eagi__proxy_8c_source.html#l00073">end</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00102">global_mock_cdr_count</a>, <a class="el" href="../../d4/d85/structtest__cdr__entry.html#aa5bc58ac1be2efe1540bf61a119b545c">test_cdr_entry::list</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00088">mock_cdr_cond</a>, <a class="el" href="../../dc/d07/cdr_8h_source.html#l00325">ast_cdr::next</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00079">S_OR</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00197">VERIFY_NUMERIC_FIELD</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00186">VERIFY_STRING_FIELD</a>, and <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00208">VERIFY_TIME_VALUE</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00393">AST_TEST_DEFINE()</a>.</p>
<div class="fragment"><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;{</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d5d/structast__cdr.html">ast_cdr</a> *actual = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d85/structtest__cdr__entry.html">test_cdr_entry</a> *cdr_wrapper;</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;   <span class="keywordtype">int</span> count = 0;</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;   <span class="keyword">struct </span>timeval wait_now = <a class="code" href="../../de/df7/time_8h.html#ad3899efb6f0e348556ef69f5b16aa7f7">ast_tvnow</a>();</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;   <span class="keyword">struct </span>timespec wait_time = { .tv_sec = wait_now.tv_sec + 5, .tv_nsec = wait_now.tv_usec * 1000 };</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;   <span class="keyword">enum</span> <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044">ast_test_result_state</a> res = <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a7a3ab73c870a7ce6cf1a0f3cfd42a37b">AST_TEST_PASS</a>;</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;   <span class="keywordflow">while</span> (count &lt; record) {</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;      <a class="code" href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a>(&amp;<a class="code" href="../../d7/d8e/test__cdr_8c.html#a8fac6bd803a38e2c62d39ea5aa18ba05">actual_cdr_entries</a>);</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d7/d8e/test__cdr_8c.html#a2d4176f1388999cc160edf8418a888e4">global_mock_cdr_count</a> &lt; record) {</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;         <a class="code" href="../../dd/d42/lock_8h.html#a6add1f30b2d53ca9384b15529a6f126e">ast_cond_timedwait</a>(&amp;<a class="code" href="../../d7/d8e/test__cdr_8c.html#a7f8e76f98e5c15a968ab52a6690824b0">mock_cdr_cond</a>, &amp;<a class="code" href="../../d7/d8e/test__cdr_8c.html#a8fac6bd803a38e2c62d39ea5aa18ba05">actual_cdr_entries</a>.lock, &amp;wait_time);</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;      }</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;      cdr_wrapper = <a class="code" href="../../df/d90/linkedlists_8h.html#aadfe2a69fbba4f27c201266a2ca5f989">AST_LIST_REMOVE_HEAD</a>(&amp;<a class="code" href="../../d7/d8e/test__cdr_8c.html#a8fac6bd803a38e2c62d39ea5aa18ba05">actual_cdr_entries</a>, list);</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;      <a class="code" href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a>(&amp;<a class="code" href="../../d7/d8e/test__cdr_8c.html#a8fac6bd803a38e2c62d39ea5aa18ba05">actual_cdr_entries</a>);</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;      <span class="keywordflow">if</span> (!cdr_wrapper) {</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;         <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(test, <span class="stringliteral">&quot;Unable to find actual CDR record at %d\n&quot;</span>, count);</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;         <span class="keywordflow">return</span> <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a>;</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;      }</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;      actual = cdr_wrapper-&gt;<a class="code" href="../../d4/d85/structtest__cdr__entry.html#a0b6fbd632bcf2e09017a0b82c2ed41ff">cdr</a>;</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;      <span class="keywordflow">if</span> (!expected &amp;&amp; actual) {</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;         <a class="code" href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a>(test, <span class="stringliteral">&quot;CDRs recorded where no record expected\n&quot;</span>);</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;         <span class="keywordflow">return</span> <a class="code" href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a>;</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;      }</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;      <a class="code" href="../../d8/db9/test_8c.html#a71eb9e6ef65c0a002e55f10b774796c4">ast_test_debug</a>(test, <span class="stringliteral">&quot;Verifying expected record %s, %s\n&quot;</span>,</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;         expected-&gt;<a class="code" href="../../d4/d5d/structast__cdr.html#a6396dbd53fd6fedc1fc3ba2743f00eca">channel</a>, <a class="code" href="../../d6/d90/strings_8h.html#a2faaa16929951bfd2802b7829a100ba2">S_OR</a>(expected-&gt;<a class="code" href="../../d4/d5d/structast__cdr.html#a0d43f7cac6179c7c4f9521f3138195b4">dstchannel</a>, <span class="stringliteral">&quot;&lt;none&gt;&quot;</span>));</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;      <a class="code" href="../../d7/d8e/test__cdr_8c.html#a0da641fc964b275df00d36a24b8d5e2c">VERIFY_STRING_FIELD</a>(<a class="code" href="../../d5/dff/chan__iax2_8c.html#adfee50d07a98645d4d20b896ce03785a">accountcode</a>, actual, expected);</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;      <a class="code" href="../../d7/d8e/test__cdr_8c.html#a4b6bed5ab2a77ed58c1b1b294cec0a1c">VERIFY_NUMERIC_FIELD</a>(<a class="code" href="../../d5/dff/chan__iax2_8c.html#ad2cfb0f821c065261382a9298bb5a16b">amaflags</a>, actual, expected);</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;      <a class="code" href="../../d7/d8e/test__cdr_8c.html#a0da641fc964b275df00d36a24b8d5e2c">VERIFY_STRING_FIELD</a>(<a class="code" href="../../d4/d84/structchannel.html">channel</a>, actual, expected);</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;      <a class="code" href="../../d7/d8e/test__cdr_8c.html#a0da641fc964b275df00d36a24b8d5e2c">VERIFY_STRING_FIELD</a>(clid, actual, expected);</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;      <a class="code" href="../../d7/d8e/test__cdr_8c.html#a0da641fc964b275df00d36a24b8d5e2c">VERIFY_STRING_FIELD</a>(dcontext, actual, expected);</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;      <a class="code" href="../../d7/d8e/test__cdr_8c.html#a4b6bed5ab2a77ed58c1b1b294cec0a1c">VERIFY_NUMERIC_FIELD</a>(disposition, actual, expected);</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;      <a class="code" href="../../d7/d8e/test__cdr_8c.html#a0da641fc964b275df00d36a24b8d5e2c">VERIFY_STRING_FIELD</a>(dst, actual, expected);</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;      <a class="code" href="../../d7/d8e/test__cdr_8c.html#a0da641fc964b275df00d36a24b8d5e2c">VERIFY_STRING_FIELD</a>(dstchannel, actual, expected);</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;      <a class="code" href="../../d7/d8e/test__cdr_8c.html#a0da641fc964b275df00d36a24b8d5e2c">VERIFY_STRING_FIELD</a>(lastapp, actual, expected);</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;      <a class="code" href="../../d7/d8e/test__cdr_8c.html#a0da641fc964b275df00d36a24b8d5e2c">VERIFY_STRING_FIELD</a>(lastdata, actual, expected);</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;      <a class="code" href="../../d7/d8e/test__cdr_8c.html#a0da641fc964b275df00d36a24b8d5e2c">VERIFY_STRING_FIELD</a>(linkedid, actual, expected);</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;      <a class="code" href="../../d7/d8e/test__cdr_8c.html#a0da641fc964b275df00d36a24b8d5e2c">VERIFY_STRING_FIELD</a>(peeraccount, actual, expected);</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;      <a class="code" href="../../d7/d8e/test__cdr_8c.html#a0da641fc964b275df00d36a24b8d5e2c">VERIFY_STRING_FIELD</a>(src, actual, expected);</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;      <a class="code" href="../../d7/d8e/test__cdr_8c.html#a0da641fc964b275df00d36a24b8d5e2c">VERIFY_STRING_FIELD</a>(uniqueid, actual, expected);</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;      <a class="code" href="../../d7/d8e/test__cdr_8c.html#a0da641fc964b275df00d36a24b8d5e2c">VERIFY_STRING_FIELD</a>(userfield, actual, expected);</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;      <a class="code" href="../../d7/d8e/test__cdr_8c.html#af48eafc1dddd3886edbb6065f838c0f1">VERIFY_TIME_VALUE</a>(start, actual);</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;      <a class="code" href="../../d7/d8e/test__cdr_8c.html#af48eafc1dddd3886edbb6065f838c0f1">VERIFY_TIME_VALUE</a>(<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#a8fd806ad19b8f5513a4cf18cbf77532c">end</a>, actual);</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;      <span class="comment">/* Note: there&#39;s no way we can really calculate a duration or</span></div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;<span class="comment">       * billsec - the unit tests are too short. However, if billsec is</span></div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;<span class="comment">       * non-zero in the expected, then make sure we have an answer time</span></div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;<span class="comment">       */</span></div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;      <span class="keywordflow">if</span> (expected-&gt;<a class="code" href="../../d4/d5d/structast__cdr.html#a4a98731fed2979292cd6042898671e8d">billsec</a>) {</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;         <a class="code" href="../../d7/d8e/test__cdr_8c.html#af48eafc1dddd3886edbb6065f838c0f1">VERIFY_TIME_VALUE</a>(<a class="code" href="../../d0/d29/chan__pjsip_8c.html#ab8dde573cc3974acd626c5626fae14b4">answer</a>, actual);</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;      }</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;      <a class="code" href="../../d8/db9/test_8c.html#a71eb9e6ef65c0a002e55f10b774796c4">ast_test_debug</a>(test, <span class="stringliteral">&quot;Finished expected record %s, %s\n&quot;</span>,</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;            expected-&gt;<a class="code" href="../../d4/d5d/structast__cdr.html#a6396dbd53fd6fedc1fc3ba2743f00eca">channel</a>, <a class="code" href="../../d6/d90/strings_8h.html#a2faaa16929951bfd2802b7829a100ba2">S_OR</a>(expected-&gt;<a class="code" href="../../d4/d5d/structast__cdr.html#a0d43f7cac6179c7c4f9521f3138195b4">dstchannel</a>, <span class="stringliteral">&quot;&lt;none&gt;&quot;</span>));</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;      expected = expected-&gt;<a class="code" href="../../d4/d5d/structast__cdr.html#a8098d02138e27b57d184b260b6669eed">next</a>;</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;      ++count;</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;   }</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;}</div><div class="ttc" id="chan__iax2_8c_html_adfee50d07a98645d4d20b896ce03785a"><div class="ttname"><a href="../../d5/dff/chan__iax2_8c.html#adfee50d07a98645d4d20b896ce03785a">accountcode</a></div><div class="ttdeci">static char accountcode[AST_MAX_ACCOUNT_CODE]</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dff/chan__iax2_8c_source.html#l00428">chan_iax2.c:428</a></div></div>
<div class="ttc" id="test_8c_html_a71eb9e6ef65c0a002e55f10b774796c4"><div class="ttname"><a href="../../d8/db9/test_8c.html#a71eb9e6ef65c0a002e55f10b774796c4">ast_test_debug</a></div><div class="ttdeci">void ast_test_debug(struct ast_test *test, const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/db9/test_8c_source.html#l00113">test.c:113</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a9140a4e4d781264fa9469c52b1adae40"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a></div><div class="ttdeci">#define AST_LIST_LOCK(head)</div><div class="ttdoc">Locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00039">linkedlists.h:39</a></div></div>
<div class="ttc" id="chan__iax2_8c_html_ad2cfb0f821c065261382a9298bb5a16b"><div class="ttname"><a href="../../d5/dff/chan__iax2_8c.html#ad2cfb0f821c065261382a9298bb5a16b">amaflags</a></div><div class="ttdeci">static int amaflags</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dff/chan__iax2_8c_source.html#l00431">chan_iax2.c:431</a></div></div>
<div class="ttc" id="structast__cdr_html_a0d43f7cac6179c7c4f9521f3138195b4"><div class="ttname"><a href="../../d4/d5d/structast__cdr.html#a0d43f7cac6179c7c4f9521f3138195b4">ast_cdr::dstchannel</a></div><div class="ttdeci">char dstchannel[AST_MAX_EXTENSION]</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00288">cdr.h:288</a></div></div>
<div class="ttc" id="structast__cdr_html_a4a98731fed2979292cd6042898671e8d"><div class="ttname"><a href="../../d4/d5d/structast__cdr.html#a4a98731fed2979292cd6042898671e8d">ast_cdr::billsec</a></div><div class="ttdeci">long int billsec</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00302">cdr.h:302</a></div></div>
<div class="ttc" id="structast__cdr_html_a8098d02138e27b57d184b260b6669eed"><div class="ttname"><a href="../../d4/d5d/structast__cdr.html#a8098d02138e27b57d184b260b6669eed">ast_cdr::next</a></div><div class="ttdeci">struct ast_cdr * next</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00325">cdr.h:325</a></div></div>
<div class="ttc" id="linkedlists_8h_html_ab48cb9e1e612dd486b747ba1c5d68d01"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a></div><div class="ttdeci">#define AST_LIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00139">linkedlists.h:139</a></div></div>
<div class="ttc" id="structtest__cdr__entry_html_a0b6fbd632bcf2e09017a0b82c2ed41ff"><div class="ttname"><a href="../../d4/d85/structtest__cdr__entry.html#a0b6fbd632bcf2e09017a0b82c2ed41ff">test_cdr_entry::cdr</a></div><div class="ttdeci">struct ast_cdr * cdr</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00097">test_cdr.c:97</a></div></div>
<div class="ttc" id="time_8h_html_ad3899efb6f0e348556ef69f5b16aa7f7"><div class="ttname"><a href="../../de/df7/time_8h.html#ad3899efb6f0e348556ef69f5b16aa7f7">ast_tvnow</a></div><div class="ttdeci">struct timeval ast_tvnow(void)</div><div class="ttdoc">Returns current timeval. Meant to replace calls to gettimeofday(). </div><div class="ttdef"><b>Definition:</b> <a href="../../de/df7/time_8h_source.html#l00150">time.h:150</a></div></div>
<div class="ttc" id="structchannel_html"><div class="ttname"><a href="../../d4/d84/structchannel.html">channel</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d8a/muted_8c_source.html#l00095">muted.c:95</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="eagi__proxy_8c_html_a8fd806ad19b8f5513a4cf18cbf77532c"><div class="ttname"><a href="../../dd/d7c/eagi__proxy_8c.html#a8fd806ad19b8f5513a4cf18cbf77532c">end</a></div><div class="ttdeci">char * end</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d7c/eagi__proxy_8c_source.html#l00073">eagi_proxy.c:73</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a8fac6bd803a38e2c62d39ea5aa18ba05"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a8fac6bd803a38e2c62d39ea5aa18ba05">actual_cdr_entries</a></div><div class="ttdeci">static struct @504 actual_cdr_entries</div><div class="ttdoc">A linked list of received CDR entries from the engine. </div></div>
<div class="ttc" id="structtest__cdr__entry_html"><div class="ttname"><a href="../../d4/d85/structtest__cdr__entry.html">test_cdr_entry</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00096">test_cdr.c:96</a></div></div>
<div class="ttc" id="test_8h_html_a5e8fddded61f6989172c981256e7c9bd"><div class="ttname"><a href="../../d2/ddc/test_8h.html#a5e8fddded61f6989172c981256e7c9bd">ast_test_status_update</a></div><div class="ttdeci">#define ast_test_status_update(a, b, c...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00129">test.h:129</a></div></div>
<div class="ttc" id="structast__cdr_html_a6396dbd53fd6fedc1fc3ba2743f00eca"><div class="ttname"><a href="../../d4/d5d/structast__cdr.html#a6396dbd53fd6fedc1fc3ba2743f00eca">ast_cdr::channel</a></div><div class="ttdeci">char channel[AST_MAX_EXTENSION]</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00286">cdr.h:286</a></div></div>
<div class="ttc" id="linkedlists_8h_html_aadfe2a69fbba4f27c201266a2ca5f989"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#aadfe2a69fbba4f27c201266a2ca5f989">AST_LIST_REMOVE_HEAD</a></div><div class="ttdeci">#define AST_LIST_REMOVE_HEAD(head, field)</div><div class="ttdoc">Removes and returns the head entry from a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00832">linkedlists.h:832</a></div></div>
<div class="ttc" id="chan__pjsip_8c_html_ab8dde573cc3974acd626c5626fae14b4"><div class="ttname"><a href="../../d0/d29/chan__pjsip_8c.html#ab8dde573cc3974acd626c5626fae14b4">answer</a></div><div class="ttdeci">static int answer(void *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/chan__pjsip_8c_source.html#l00682">chan_pjsip.c:682</a></div></div>
<div class="ttc" id="structast__cdr_html"><div class="ttname"><a href="../../d4/d5d/structast__cdr.html">ast_cdr</a></div><div class="ttdoc">Responsible for call detail data. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00276">cdr.h:276</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a7f8e76f98e5c15a968ab52a6690824b0"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a7f8e76f98e5c15a968ab52a6690824b0">mock_cdr_cond</a></div><div class="ttdeci">static ast_cond_t mock_cdr_cond</div><div class="ttdoc">The Mock CDR backend condition wait. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00088">test_cdr.c:88</a></div></div>
<div class="ttc" id="test_8h_html_aad2aec78205d328d23894a6598cc4044a7a3ab73c870a7ce6cf1a0f3cfd42a37b"><div class="ttname"><a href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a7a3ab73c870a7ce6cf1a0f3cfd42a37b">AST_TEST_PASS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00202">test.h:202</a></div></div>
<div class="ttc" id="test__cdr_8c_html_af48eafc1dddd3886edbb6065f838c0f1"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#af48eafc1dddd3886edbb6065f838c0f1">VERIFY_TIME_VALUE</a></div><div class="ttdeci">#define VERIFY_TIME_VALUE(field, actual)</div><div class="ttdoc">Verify a time field. This will set the test status result to fail; as such, it assumes that (a) test ...</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00208">test_cdr.c:208</a></div></div>
<div class="ttc" id="strings_8h_html_a2faaa16929951bfd2802b7829a100ba2"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a2faaa16929951bfd2802b7829a100ba2">S_OR</a></div><div class="ttdeci">#define S_OR(a, b)</div><div class="ttdoc">returns the equivalent of logic or for strings: first one if not empty, otherwise second one...</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00079">strings.h:79</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a0da641fc964b275df00d36a24b8d5e2c"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a0da641fc964b275df00d36a24b8d5e2c">VERIFY_STRING_FIELD</a></div><div class="ttdeci">#define VERIFY_STRING_FIELD(field, actual, expected)</div><div class="ttdoc">Verify a string field. This will set the test status result to fail; as such, it assumes that (a) tes...</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00186">test_cdr.c:186</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a4b6bed5ab2a77ed58c1b1b294cec0a1c"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a4b6bed5ab2a77ed58c1b1b294cec0a1c">VERIFY_NUMERIC_FIELD</a></div><div class="ttdeci">#define VERIFY_NUMERIC_FIELD(field, actual, expected)</div><div class="ttdoc">Verify a numeric field. This will set the test status result to fail; as such, it assumes that (a) te...</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00197">test_cdr.c:197</a></div></div>
<div class="ttc" id="lock_8h_html_a6add1f30b2d53ca9384b15529a6f126e"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a6add1f30b2d53ca9384b15529a6f126e">ast_cond_timedwait</a></div><div class="ttdeci">#define ast_cond_timedwait(cond, mutex, time)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00204">lock.h:204</a></div></div>
<div class="ttc" id="test_8h_html_aad2aec78205d328d23894a6598cc4044"><div class="ttname"><a href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044">ast_test_result_state</a></div><div class="ttdeci">ast_test_result_state</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00200">test.h:200</a></div></div>
<div class="ttc" id="test__cdr_8c_html_a2d4176f1388999cc160edf8418a888e4"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a2d4176f1388999cc160edf8418a888e4">global_mock_cdr_count</a></div><div class="ttdeci">static int global_mock_cdr_count</div><div class="ttdoc">The number of CDRs the mock backend has received. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00102">test_cdr.c:102</a></div></div>
<div class="ttc" id="test_8h_html_aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6"><div class="ttname"><a href="../../d2/ddc/test_8h.html#aad2aec78205d328d23894a6598cc4044a8a11a3a19eb4c9fd2ba654d95df1adb6">AST_TEST_FAIL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/ddc/test_8h_source.html#l00203">test.h:203</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ab22f32016155f7f403e7178767163d7d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab22f32016155f7f403e7178767163d7d">&#9670;&nbsp;</a></span>__mod_info</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a> __mod_info = { .<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a> = <a class="el" href="../../da/ddd/named__acl_8c.html#aec23fc5034c3bb08140fc021f4955877">AST_MODULE</a>, .flags = <a class="el" href="../../d5/d16/module_8h.html#a155a0df9c59e04e305d4a2fa3e35f843a12c3f60dd7655dfa8d4430cbf04b1223">AST_MODFLAG_LOAD_ORDER</a> , .description = &quot;CDR unit <a class="el" href="../../de/da6/structtests.html">tests</a>&quot; , .key = &quot;This paragraph is copyright (<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>) 2006 by Digium, Inc. \In <a class="el" href="../../d5/d14/voicin_8c.html#aed7ca058008dc3e5ee131e575abed285">order</a> for your module to load, it must return this \key via <a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a> function called \&quot;key\&quot;. Any code which \includes this paragraph must <a class="el" href="../../dd/d7c/eagi__proxy_8c.html#a39730e90126aad69cfc9ca4d6fcdb3a6">be</a> licensed under the GNU \General Public License <a class="el" href="../../da/d7c/utils_2frame_8h.html#a56abfaab87c46691c1ef3ad0df23e864">version</a> 2 or later (at your \option). In addition to Digium's general reservations \of rights, Digium expressly reserves the right to \allow other parties to license this paragraph under \different terms. Any use of Digium, Inc. trademarks or \logos (including \&quot;Asterisk\&quot; or \&quot;Digium\&quot;) without \express written <a class="el" href="../../d4/d4c/structpermission.html">permission</a> of Digium, Inc. is prohibited.\n&quot; , .buildopt_sum = <a class="el" href="../../da/d84/res__pjsip__stir__shaken_8c.html#a6e79b87e069c15a5fb21826e5eed0971">AST_BUILDOPT_SUM</a>, .load = <a class="el" href="../../d6/d7a/test__xml__escape_8c.html#ac3382bf6da54c56b37069bd76bbdf4f9">load_module</a>, .unload = <a class="el" href="../../d6/d7a/test__xml__escape_8c.html#ad09fa931f468002152a3cc2d5ce25eae">unload_module</a>, .load_pri = <a class="el" href="../../d5/d16/module_8h.html#aa4f734041ffd9d75b07cefb0291e1e58a1d1eb207e01a2d3bf6aa6ba271c27dee">AST_MODPRI_DEFAULT</a>, .support_level = <a class="el" href="../../d5/d16/module_8h.html#ab35bc4efd9f79706300965c9d36a0ce5a634484c0074e7b6b630756fab09e2c15">AST_MODULE_SUPPORT_CORE</a>, }</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l02628">2628</a> of file <a class="el" href="../../d7/d8e/test__cdr_8c_source.html">test_cdr.c</a>.</p>

</div>
</div>
<a id="a8fac6bd803a38e2c62d39ea5aa18ba05"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8fac6bd803a38e2c62d39ea5aa18ba05">&#9670;&nbsp;</a></span>actual_cdr_entries</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct { ... }   actual_cdr_entries</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A linked list of received CDR entries from the engine. </p>

<p class="reference">Referenced by <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00169">clear_mock_cdr_backend()</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00116">mock_cdr_backend_cb()</a>, and <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00310">verify_mock_cdr_record()</a>.</p>

</div>
</div>
<a id="ad60e83b9aa660040fed4d5377966cc21"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad60e83b9aa660040fed4d5377966cc21">&#9670;&nbsp;</a></span>ast_module_info</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const struct <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a>* <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a> = &amp;<a class="el" href="../../d6/d7a/test__xml__escape_8c.html#ab22f32016155f7f403e7178767163d7d">__mod_info</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l02628">2628</a> of file <a class="el" href="../../d7/d8e/test__cdr_8c_source.html">test_cdr.c</a>.</p>

</div>
</div>
<a id="afdb35db7a196aaf05ae2d378f90354c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afdb35db7a196aaf05ae2d378f90354c6">&#9670;&nbsp;</a></span>congestion_cdr_config</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d4/d69/structast__cdr__config.html">ast_cdr_config</a> congestion_cdr_config</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div><div class="line">   .settings.flags = <a class="code" href="../../dc/d07/cdr_8h.html#a2d5870f3bb33cc9720f24c358a33e11ba3e9793b17d79d8ffbdc3efcf7dd25d7b">CDR_ENABLED</a> | <a class="code" href="../../dc/d07/cdr_8h.html#a2d5870f3bb33cc9720f24c358a33e11ba06d830667dc08cfba477152a01a6a6f1">CDR_UNANSWERED</a> | <a class="code" href="../../dc/d07/cdr_8h.html#a2d5870f3bb33cc9720f24c358a33e11baf775028494cdd77ca759999b993d8bcd">CDR_DEBUG</a> | <a class="code" href="../../dc/d07/cdr_8h.html#a2d5870f3bb33cc9720f24c358a33e11bac7e09eacc1390ca5ae2adf3f8cb7f487">CDR_CONGESTION</a>,</div><div class="line">}</div><div class="ttc" id="cdr_8h_html_a2d5870f3bb33cc9720f24c358a33e11baf775028494cdd77ca759999b993d8bcd"><div class="ttname"><a href="../../dc/d07/cdr_8h.html#a2d5870f3bb33cc9720f24c358a33e11baf775028494cdd77ca759999b993d8bcd">CDR_DEBUG</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00226">cdr.h:226</a></div></div>
<div class="ttc" id="cdr_8h_html_a2d5870f3bb33cc9720f24c358a33e11bac7e09eacc1390ca5ae2adf3f8cb7f487"><div class="ttname"><a href="../../dc/d07/cdr_8h.html#a2d5870f3bb33cc9720f24c358a33e11bac7e09eacc1390ca5ae2adf3f8cb7f487">CDR_CONGESTION</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00223">cdr.h:223</a></div></div>
<div class="ttc" id="cdr_8h_html_a2d5870f3bb33cc9720f24c358a33e11ba3e9793b17d79d8ffbdc3efcf7dd25d7b"><div class="ttname"><a href="../../dc/d07/cdr_8h.html#a2d5870f3bb33cc9720f24c358a33e11ba3e9793b17d79d8ffbdc3efcf7dd25d7b">CDR_ENABLED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00220">cdr.h:220</a></div></div>
<div class="ttc" id="cdr_8h_html_a2d5870f3bb33cc9720f24c358a33e11ba06d830667dc08cfba477152a01a6a6f1"><div class="ttname"><a href="../../dc/d07/cdr_8h.html#a2d5870f3bb33cc9720f24c358a33e11ba06d830667dc08cfba477152a01a6a6f1">CDR_UNANSWERED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00222">cdr.h:222</a></div></div>
</div><!-- fragment -->
<p>A configuration suitable for CDRs with congestion enabled. </p>

<p class="definition">Definition at line <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00071">71</a> of file <a class="el" href="../../d7/d8e/test__cdr_8c_source.html">test_cdr.c</a>.</p>

</div>
</div>
<a id="ac905defa905925ff383b4bc9d2f89e35"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac905defa905925ff383b4bc9d2f89e35">&#9670;&nbsp;</a></span>debug_cdr_config</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d4/d69/structast__cdr__config.html">ast_cdr_config</a> debug_cdr_config</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div><div class="line">   .settings.flags = <a class="code" href="../../dc/d07/cdr_8h.html#a2d5870f3bb33cc9720f24c358a33e11ba3e9793b17d79d8ffbdc3efcf7dd25d7b">CDR_ENABLED</a> | <a class="code" href="../../dc/d07/cdr_8h.html#a2d5870f3bb33cc9720f24c358a33e11baf775028494cdd77ca759999b993d8bcd">CDR_DEBUG</a>,</div><div class="line">}</div><div class="ttc" id="cdr_8h_html_a2d5870f3bb33cc9720f24c358a33e11baf775028494cdd77ca759999b993d8bcd"><div class="ttname"><a href="../../dc/d07/cdr_8h.html#a2d5870f3bb33cc9720f24c358a33e11baf775028494cdd77ca759999b993d8bcd">CDR_DEBUG</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00226">cdr.h:226</a></div></div>
<div class="ttc" id="cdr_8h_html_a2d5870f3bb33cc9720f24c358a33e11ba3e9793b17d79d8ffbdc3efcf7dd25d7b"><div class="ttname"><a href="../../dc/d07/cdr_8h.html#a2d5870f3bb33cc9720f24c358a33e11ba3e9793b17d79d8ffbdc3efcf7dd25d7b">CDR_ENABLED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00220">cdr.h:220</a></div></div>
</div><!-- fragment -->
<p>A configuration suitable for 'normal' CDRs. </p>

<p class="definition">Definition at line <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00061">61</a> of file <a class="el" href="../../d7/d8e/test__cdr_8c_source.html">test_cdr.c</a>.</p>

</div>
</div>
<a id="ad010071647150404acc6651544245543"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad010071647150404acc6651544245543">&#9670;&nbsp;</a></span>first</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d4/d85/structtest__cdr__entry.html">test_cdr_entry</a>* first</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00085">85</a> of file <a class="el" href="../../d7/d8e/test__cdr_8c_source.html">test_cdr.c</a>.</p>

</div>
</div>
<a id="a2d4176f1388999cc160edf8418a888e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d4176f1388999cc160edf8418a888e4">&#9670;&nbsp;</a></span>global_mock_cdr_count</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int global_mock_cdr_count</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The number of CDRs the mock backend has received. </p>

<p class="definition">Definition at line <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00102">102</a> of file <a class="el" href="../../d7/d8e/test__cdr_8c_source.html">test_cdr.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00169">clear_mock_cdr_backend()</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00116">mock_cdr_backend_cb()</a>, and <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00310">verify_mock_cdr_record()</a>.</p>

</div>
</div>
<a id="abaf7793fbb72797de5118c5f1f7b21ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abaf7793fbb72797de5118c5f1f7b21ae">&#9670;&nbsp;</a></span>last</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d4/d85/structtest__cdr__entry.html">test_cdr_entry</a>* last</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00085">85</a> of file <a class="el" href="../../d7/d8e/test__cdr_8c_source.html">test_cdr.c</a>.</p>

</div>
</div>
<a id="adf04f66344e3fb0a6f6a69bf39d19902"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf04f66344e3fb0a6f6a69bf39d19902">&#9670;&nbsp;</a></span>lock</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dd/d42/lock_8h.html#a44a55ccb432d858a224b401116277e93">ast_mutex_t</a> lock</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00085">85</a> of file <a class="el" href="../../d7/d8e/test__cdr_8c_source.html">test_cdr.c</a>.</p>

</div>
</div>
<a id="a7f8e76f98e5c15a968ab52a6690824b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f8e76f98e5c15a968ab52a6690824b0">&#9670;&nbsp;</a></span>mock_cdr_cond</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dd/d42/lock_8h.html#ab134d98cdfe7de0f7a72b377c0765dc7">ast_cond_t</a> mock_cdr_cond</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The Mock CDR backend condition wait. </p>

<p class="definition">Definition at line <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00088">88</a> of file <a class="el" href="../../d7/d8e/test__cdr_8c_source.html">test_cdr.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l02585">load_module()</a>, <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00116">mock_cdr_backend_cb()</a>, and <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00310">verify_mock_cdr_record()</a>.</p>

</div>
</div>
<a id="aace14d0f9cfef0d3623a293ea35d7e4b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aace14d0f9cfef0d3623a293ea35d7e4b">&#9670;&nbsp;</a></span>saved_config</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d4/d69/structast__cdr__config.html">ast_cdr_config</a>* saved_config</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>A placeholder for Asterisk's 'real' CDR configuration. </p>

<p class="definition">Definition at line <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00058">58</a> of file <a class="el" href="../../d7/d8e/test__cdr_8c_source.html">test_cdr.c</a>.</p>

</div>
</div>
<a id="ab321062127839f3f04e03e96ceda145b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab321062127839f3f04e03e96ceda145b">&#9670;&nbsp;</a></span>test_cdr_chan_tech</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d4/d85/structast__channel__tech.html">ast_channel_tech</a> test_cdr_chan_tech</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div><div class="line">   .type = <a class="code" href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a>,</div><div class="line">   .description = <span class="stringliteral">&quot;Mock channel technology for CDR tests&quot;</span>,</div><div class="line">}</div><div class="ttc" id="test__cdr_8c_html_a86d2cbfb5a0c115147944a541cc355e0"><div class="ttname"><a href="../../d7/d8e/test__cdr_8c.html#a86d2cbfb5a0c115147944a541cc355e0">CHANNEL_TECH_NAME</a></div><div class="ttdeci">#define CHANNEL_TECH_NAME</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8e/test__cdr_8c_source.html#l00055">test_cdr.c:55</a></div></div>
</div><!-- fragment -->
<p>A channel technology used for the unit tests. </p>

<p class="definition">Definition at line <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00091">91</a> of file <a class="el" href="../../d7/d8e/test__cdr_8c_source.html">test_cdr.c</a>.</p>

</div>
</div>
<a id="a5722136884f356e886185ddd4f58e97a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5722136884f356e886185ddd4f58e97a">&#9670;&nbsp;</a></span>unanswered_cdr_config</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d4/d69/structast__cdr__config.html">ast_cdr_config</a> unanswered_cdr_config</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div><div class="line">   .settings.flags = <a class="code" href="../../dc/d07/cdr_8h.html#a2d5870f3bb33cc9720f24c358a33e11ba3e9793b17d79d8ffbdc3efcf7dd25d7b">CDR_ENABLED</a> | <a class="code" href="../../dc/d07/cdr_8h.html#a2d5870f3bb33cc9720f24c358a33e11ba06d830667dc08cfba477152a01a6a6f1">CDR_UNANSWERED</a> | <a class="code" href="../../dc/d07/cdr_8h.html#a2d5870f3bb33cc9720f24c358a33e11baf775028494cdd77ca759999b993d8bcd">CDR_DEBUG</a>,</div><div class="line">}</div><div class="ttc" id="cdr_8h_html_a2d5870f3bb33cc9720f24c358a33e11baf775028494cdd77ca759999b993d8bcd"><div class="ttname"><a href="../../dc/d07/cdr_8h.html#a2d5870f3bb33cc9720f24c358a33e11baf775028494cdd77ca759999b993d8bcd">CDR_DEBUG</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00226">cdr.h:226</a></div></div>
<div class="ttc" id="cdr_8h_html_a2d5870f3bb33cc9720f24c358a33e11ba3e9793b17d79d8ffbdc3efcf7dd25d7b"><div class="ttname"><a href="../../dc/d07/cdr_8h.html#a2d5870f3bb33cc9720f24c358a33e11ba3e9793b17d79d8ffbdc3efcf7dd25d7b">CDR_ENABLED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00220">cdr.h:220</a></div></div>
<div class="ttc" id="cdr_8h_html_a2d5870f3bb33cc9720f24c358a33e11ba06d830667dc08cfba477152a01a6a6f1"><div class="ttname"><a href="../../dc/d07/cdr_8h.html#a2d5870f3bb33cc9720f24c358a33e11ba06d830667dc08cfba477152a01a6a6f1">CDR_UNANSWERED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d07/cdr_8h_source.html#l00222">cdr.h:222</a></div></div>
</div><!-- fragment -->
<p>A configuration suitable for CDRs with unanswered records. </p>

<p class="definition">Definition at line <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l00066">66</a> of file <a class="el" href="../../d7/d8e/test__cdr_8c_source.html">test_cdr.c</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Aug 8 2021 19:46:53 for Asterisk - The Open Source Telephony Project by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
