<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Asterisk - The Open Source Telephony Project: res_calendar.c File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Asterisk - The Open Source Telephony Project
   &#160;<span id="projectnumber">18.5.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_7b47cca4d318623bb4270ab1fb592ef5.html">res</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">res_calendar.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Calendaring API.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="../../db/db2/asterisk_8h_source.html">asterisk.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d4/d78/__private_8h_source.html">asterisk/_private.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d5/d7b/channel_8h_source.html">asterisk/channel.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../da/d4a/calendar_8h_source.html">asterisk/calendar.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d5/d60/utils_8h_source.html">asterisk/utils.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d5/da5/astobj2_8h_source.html">asterisk/astobj2.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d5/d16/module_8h_source.html">asterisk/module.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html">asterisk/config.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../da/da2/devicestate_8h_source.html">asterisk/devicestate.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../df/d90/linkedlists_8h_source.html">asterisk/linkedlists.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d7/d00/sched_8h_source.html">asterisk/sched.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../df/dcf/dial_8h_source.html">asterisk/dial.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../dc/db0/cli_8h_source.html">asterisk/cli.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../db/de0/pbx_8h_source.html">asterisk/pbx.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d3/d93/include_2asterisk_2app_8h_source.html">asterisk/app.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../db/d1c/format__cache_8h_source.html">asterisk/format_cache.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for res_calendar.c:</div>
<div class="dyncontent">
<div class="center"><img src="../../d1/d52/res__calendar_8c__incl.png" border="0" usemap="#res__calendar_8c" alt=""/></div>
<map name="res__calendar_8c" id="res__calendar_8c">
<area shape="rect" id="node2" href="../../db/db2/asterisk_8h.html" title="Asterisk main include file. File version handling, generic pbx functions. " alt="" coords="1640,453,1724,480"/>
<area shape="rect" id="node13" href="../../d4/d78/__private_8h.html" title="Prototypes for public functions only of internal interest,. " alt="" coords="395,80,534,107"/>
<area shape="rect" id="node14" href="../../d5/d7b/channel_8h.html" title="General Asterisk PBX channel definitions. " alt="" coords="1290,155,1428,181"/>
<area shape="rect" id="node16" href="../../d5/d60/utils_8h.html" title="Utility functions. " alt="" coords="2224,379,2339,405"/>
<area shape="rect" id="node22" href="../../d5/da5/astobj2_8h.html" title="asterisk/astobj2.h" alt="" coords="1800,528,1934,555"/>
<area shape="rect" id="node23" href="../../df/d90/linkedlists_8h.html" title="A set of macros to manage forward&#45;linked lists. " alt="" coords="522,603,673,629"/>
<area shape="rect" id="node29" href="../../d3/de6/include_2asterisk_2config_8h.html" title="Configuration File Parser. " alt="" coords="2612,304,2738,331"/>
<area shape="rect" id="node35" href="../../da/da2/devicestate_8h.html" title="Device state management. " alt="" coords="1456,304,1619,331"/>
<area shape="rect" id="node39" href="../../da/d4a/calendar_8h.html" title="A general API for managing calendar events with Asterisk. " alt="" coords="2116,229,2258,256"/>
<area shape="rect" id="node40" href="../../df/dcf/dial_8h.html" title="Dialing API. " alt="" coords="2276,304,2386,331"/>
<area shape="rect" id="node41" href="../../d5/d16/module_8h.html" title="Asterisk module definitions. " alt="" coords="2115,304,2251,331"/>
<area shape="rect" id="node42" href="../../d7/d00/sched_8h.html" title="Scheduler Routines (derived from cheops) " alt="" coords="1997,155,2124,181"/>
<area shape="rect" id="node43" href="../../dc/db0/cli_8h.html" title="Standard Command Line Interface. " alt="" coords="739,379,840,405"/>
<area shape="rect" id="node44" href="../../db/de0/pbx_8h.html" title="Core PBX routines and definitions. " alt="" coords="1682,80,1793,107"/>
<area shape="rect" id="node48" href="../../d3/d93/include_2asterisk_2app_8h.html" title="Application convenience functions, designed to give consistent look and feel to Asterisk apps..." alt="" coords="2898,229,3010,256"/>
<area shape="rect" id="node50" href="../../db/d1c/format__cache_8h.html" title="Media Format Cache API. " alt="" coords="2864,80,3040,107"/>
<area shape="rect" id="node3" href="../../d8/d20/autoconfig_8h.html" title="asterisk/autoconfig.h" alt="" coords="1959,528,2114,555"/>
<area shape="rect" id="node5" href="../../de/da3/include_2asterisk_2compat_8h.html" title="General Definitions for Asterisk top level program Included by asterisk.h to handle platform&#45;specific..." alt="" coords="2077,603,2214,629"/>
<area shape="rect" id="node12" href="../../d8/d8a/astmm_8h.html" title="Asterisk memory management routines. " alt="" coords="1589,528,1724,555"/>
<area shape="rect" id="node4" href="../../dc/dba/buildopts_8h.html" title="asterisk/buildopts.h" alt="" coords="1855,603,2002,629"/>
<area shape="rect" id="node6" href="../../d4/dd1/compiler_8h.html" title="Compiler&#45;specific macros and other items. " alt="" coords="1697,752,1840,779"/>
<area shape="rect" id="node15" href="../../dc/d4d/alertpipe_8h.html" title="asterisk/alertpipe.h" alt="" coords="1694,304,1838,331"/>
<area shape="rect" id="node17" href="../../dd/d42/lock_8h.html" title="Asterisk locking&#45;related definitions: " alt="" coords="1596,677,1709,704"/>
<area shape="rect" id="node19" href="../../d1/d0f/stringfields_8h.html" title="asterisk/stringfields.h" alt="" coords="2495,453,2652,480"/>
<area shape="rect" id="node24" href="../../dc/d14/abstract__jb_8h.html" title="Common implementation&#45;independent jitterbuffer stuff. " alt="" coords="681,304,840,331"/>
<area shape="rect" id="node26" href="../../d4/dfb/poll-compat_8h.html" title="asterisk/poll&#45;compat.h" alt="" coords="1037,229,1201,256"/>
<area shape="rect" id="node27" href="../../d6/d66/include_2asterisk_2frame_8h.html" title="Asterisk internal frame definitions. " alt="" coords="428,304,554,331"/>
<area shape="rect" id="node28" href="../../d9/de7/chanvars_8h.html" title="Channel Variables. " alt="" coords="54,229,200,256"/>
<area shape="rect" id="node30" href="../../dc/d07/cdr_8h.html" title="Call Detail Record API. " alt="" coords="1226,229,1332,256"/>
<area shape="rect" id="node31" href="../../d9/db6/datastore_8h.html" title="Asterisk datastore objects. " alt="" coords="161,453,312,480"/>
<area shape="rect" id="node32" href="../../d0/d3c/format__cap_8h.html" title="Format Capabilities API. " alt="" coords="1357,229,1518,256"/>
<area shape="rect" id="node33" href="../../d9/d95/channelstate_8h.html" title="Channel states. " alt="" coords="1355,379,1526,405"/>
<area shape="rect" id="node34" href="../../de/dc8/ccss_8h.html" title="Call Completion Supplementary Services API. " alt="" coords="1594,229,1710,256"/>
<area shape="rect" id="node36" href="../../db/d3c/framehook_8h.html" title="FrameHook Architecture. " alt="" coords="376,229,534,256"/>
<area shape="rect" id="node37" href="../../dd/d79/stasis_8h.html" title="Stasis Message Bus API. See Stasis Message Bus API for detailed documentation. " alt="" coords="2411,304,2536,331"/>
<area shape="rect" id="node38" href="../../d4/d61/endpoints_8h.html" title="Endpoint abstractions. " alt="" coords="862,229,1013,256"/>
<area shape="rect" id="node20" href="../../d6/d90/strings_8h.html" title="String manipulation functions. " alt="" coords="2067,453,2198,480"/>
<area shape="rect" id="node18" href="../../d5/d9d/inline__api_8h.html" title="Inlinable API function macro. " alt="" coords="2407,752,2554,779"/>
<area shape="rect" id="node21" href="../../dc/d7d/threadstorage_8h.html" title="Definitions to aid in the use of thread local storage. " alt="" coords="2391,528,2570,555"/>
<area shape="rect" id="node25" href="../../d0/d0a/format_8h.html" title="Media Format API. " alt="" coords="534,379,664,405"/>
<area shape="rect" id="node45" href="../../d6/dd7/presencestate_8h.html" title="Presence state management. " alt="" coords="1690,155,1870,181"/>
<area shape="rect" id="node46" href="../../d6/da0/hashtab_8h.html" title="Generic (perhaps overly so) hashtable implementation Hash Table support in Asterisk. " alt="" coords="790,453,930,480"/>
<area shape="rect" id="node47" href="../../d1/d99/xmldoc_8h.html" title="Asterisk XML Documentation API. " alt="" coords="2065,379,2200,405"/>
<area shape="rect" id="node49" href="../../d2/d4d/file_8h.html" title="Generic File Format Support. Should be included by clients of the file handling routines. File service providers should instead include mod_format.h. " alt="" coords="3067,304,3174,331"/>
</map>
</div>
</div>
<p><a href="../../d7/dc3/res__calendar_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/db9/structevententry.html">evententry</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dcb/structeventlist.html">eventlist</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/db3/structtechs.html">techs</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a806d9b20f62bae39bd345388e8685040"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/dc3/res__calendar_8c.html#a806d9b20f62bae39bd345388e8685040">CALENDAR_BUCKETS</a>&#160;&#160;&#160;19</td></tr>
<tr class="separator:a806d9b20f62bae39bd345388e8685040"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8dc47e3b39c930caed4bfd05b4ba805"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/dc3/res__calendar_8c.html#ac8dc47e3b39c930caed4bfd05b4ba805">FORMAT</a>&#160;&#160;&#160;&quot;%-20.20s %-10.10s %-6.6s\n&quot;</td></tr>
<tr class="separator:ac8dc47e3b39c930caed4bfd05b4ba805"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8dc47e3b39c930caed4bfd05b4ba805"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/dc3/res__calendar_8c.html#ac8dc47e3b39c930caed4bfd05b4ba805">FORMAT</a>&#160;&#160;&#160;&quot;%-10.10s %-30.30s\n&quot;</td></tr>
<tr class="separator:ac8dc47e3b39c930caed4bfd05b4ba805"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8dc47e3b39c930caed4bfd05b4ba805"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/dc3/res__calendar_8c.html#ac8dc47e3b39c930caed4bfd05b4ba805">FORMAT</a>&#160;&#160;&#160;&quot;%-18.18s : %-20.20s\n&quot;</td></tr>
<tr class="separator:ac8dc47e3b39c930caed4bfd05b4ba805"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acfd58ce0ec836919236d7a1908494970"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/dc3/res__calendar_8c.html#acfd58ce0ec836919236d7a1908494970">FORMAT2</a>&#160;&#160;&#160;&quot;%-12.12s: %-40.60s\n&quot;</td></tr>
<tr class="separator:acfd58ce0ec836919236d7a1908494970"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a88b7c88fed6b80fd18f34f97757dfc04"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/dc3/res__calendar_8c.html#a88b7c88fed6b80fd18f34f97757dfc04">__reg_module</a> (void)</td></tr>
<tr class="separator:a88b7c88fed6b80fd18f34f97757dfc04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afeab1257bd17282b95875499393a147a"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/dc3/res__calendar_8c.html#afeab1257bd17282b95875499393a147a">__unreg_module</a> (void)</td></tr>
<tr class="separator:afeab1257bd17282b95875499393a147a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac25759a82dabc92b3ad92c37db980903"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/dc3/res__calendar_8c.html#ac25759a82dabc92b3ad92c37db980903">add_event_to_list</a> (struct <a class="el" href="../../dd/dcb/structeventlist.html">eventlist</a> *<a class="el" href="../../d2/d4d/astman_8c.html#a271a8325aeaad3b77ff2387c788af2b3">events</a>, struct <a class="el" href="../../dc/d64/structast__calendar__event.html">ast_calendar_event</a> *<a class="el" href="../../df/d7d/structevent.html">event</a>, time_t start, time_t <a class="el" href="../../dd/d7c/eagi__proxy_8c.html#a8fd806ad19b8f5513a4cf18cbf77532c">end</a>)</td></tr>
<tr class="separator:ac25759a82dabc92b3ad92c37db980903"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ca75ae1270b05aaea6ffe5b72650b34"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/dc3/res__calendar_8c.html#a2ca75ae1270b05aaea6ffe5b72650b34">add_new_event_cb</a> (void *obj, void *arg, int flags)</td></tr>
<tr class="separator:a2ca75ae1270b05aaea6ffe5b72650b34"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7155b9d04f427720ab933725f52c27d1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/dc3/res__calendar_8c.html#a7155b9d04f427720ab933725f52c27d1">ast_calendar_clear_events</a> (struct <a class="el" href="../../d4/d1d/structast__calendar.html">ast_calendar</a> *cal)</td></tr>
<tr class="memdesc:a7155b9d04f427720ab933725f52c27d1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove all events from calendar.  <a href="#a7155b9d04f427720ab933725f52c27d1">More...</a><br /></td></tr>
<tr class="separator:a7155b9d04f427720ab933725f52c27d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a89289597a07eb7feeeb1db7b6bfc56"><td class="memItemLeft" align="right" valign="top">const struct <a class="el" href="../../dd/d18/structast__config.html">ast_config</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/dc3/res__calendar_8c.html#a2a89289597a07eb7feeeb1db7b6bfc56">ast_calendar_config_acquire</a> (void)</td></tr>
<tr class="memdesc:a2a89289597a07eb7feeeb1db7b6bfc56"><td class="mdescLeft">&#160;</td><td class="mdescRight">Grab and lock pointer to the calendar config (read only)  <a href="#a2a89289597a07eb7feeeb1db7b6bfc56">More...</a><br /></td></tr>
<tr class="separator:a2a89289597a07eb7feeeb1db7b6bfc56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a425593754b0ca04672b702aca63e9ac0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/dc3/res__calendar_8c.html#a425593754b0ca04672b702aca63e9ac0">ast_calendar_config_release</a> (void)</td></tr>
<tr class="memdesc:a425593754b0ca04672b702aca63e9ac0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Release the calendar config.  <a href="#a425593754b0ca04672b702aca63e9ac0">More...</a><br /></td></tr>
<tr class="separator:a425593754b0ca04672b702aca63e9ac0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5baeffb2016cfba709d05ab148e65ff9"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../dc/d64/structast__calendar__event.html">ast_calendar_event</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/dc3/res__calendar_8c.html#a5baeffb2016cfba709d05ab148e65ff9">ast_calendar_event_alloc</a> (struct <a class="el" href="../../d4/d1d/structast__calendar.html">ast_calendar</a> *cal)</td></tr>
<tr class="memdesc:a5baeffb2016cfba709d05ab148e65ff9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocate an <a class="el" href="../../d3/dfb/structastobj2.html">astobj2</a> <a class="el" href="../../dc/d64/structast__calendar__event.html">ast_calendar_event</a> object.  <a href="#a5baeffb2016cfba709d05ab148e65ff9">More...</a><br /></td></tr>
<tr class="separator:a5baeffb2016cfba709d05ab148e65ff9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac581d7a0b3970f47bb2a4aed924bea58"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d2/da9/structao2__container.html">ao2_container</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/dc3/res__calendar_8c.html#ac581d7a0b3970f47bb2a4aed924bea58">ast_calendar_event_container_alloc</a> (void)</td></tr>
<tr class="memdesc:ac581d7a0b3970f47bb2a4aed924bea58"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocate an <a class="el" href="../../d3/dfb/structastobj2.html">astobj2</a> container for <a class="el" href="../../dc/d64/structast__calendar__event.html">ast_calendar_event</a> objects.  <a href="#ac581d7a0b3970f47bb2a4aed924bea58">More...</a><br /></td></tr>
<tr class="separator:ac581d7a0b3970f47bb2a4aed924bea58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2373048a0ece99022fa7e8b86c4158aa"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/dc3/res__calendar_8c.html#a2373048a0ece99022fa7e8b86c4158aa">ast_calendar_merge_events</a> (struct <a class="el" href="../../d4/d1d/structast__calendar.html">ast_calendar</a> *cal, struct <a class="el" href="../../d2/da9/structao2__container.html">ao2_container</a> *new_events)</td></tr>
<tr class="memdesc:a2373048a0ece99022fa7e8b86c4158aa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add an event to the list of events for a calendar.  <a href="#a2373048a0ece99022fa7e8b86c4158aa">More...</a><br /></td></tr>
<tr class="separator:a2373048a0ece99022fa7e8b86c4158aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84e82d1677dc6bae868354f1e93b3fb4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/dc3/res__calendar_8c.html#a84e82d1677dc6bae868354f1e93b3fb4">ast_calendar_register</a> (struct <a class="el" href="../../dd/dca/structast__calendar__tech.html">ast_calendar_tech</a> *tech)</td></tr>
<tr class="memdesc:a84e82d1677dc6bae868354f1e93b3fb4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register a new calendar technology.  <a href="#a84e82d1677dc6bae868354f1e93b3fb4">More...</a><br /></td></tr>
<tr class="separator:a84e82d1677dc6bae868354f1e93b3fb4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b71ae1b1392b6095a17737375eb7671"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../dc/d64/structast__calendar__event.html">ast_calendar_event</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/dc3/res__calendar_8c.html#a0b71ae1b1392b6095a17737375eb7671">ast_calendar_unref_event</a> (struct <a class="el" href="../../dc/d64/structast__calendar__event.html">ast_calendar_event</a> *<a class="el" href="../../df/d7d/structevent.html">event</a>)</td></tr>
<tr class="memdesc:a0b71ae1b1392b6095a17737375eb7671"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unreference an <a class="el" href="../../dc/d64/structast__calendar__event.html">ast_calendar_event</a>.  <a href="#a0b71ae1b1392b6095a17737375eb7671">More...</a><br /></td></tr>
<tr class="separator:a0b71ae1b1392b6095a17737375eb7671"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15f50e300c14ee9c469b31f334686110"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/dc3/res__calendar_8c.html#a15f50e300c14ee9c469b31f334686110">ast_calendar_unregister</a> (struct <a class="el" href="../../dd/dca/structast__calendar__tech.html">ast_calendar_tech</a> *tech)</td></tr>
<tr class="memdesc:a15f50e300c14ee9c469b31f334686110"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unregister a new calendar technology.  <a href="#a15f50e300c14ee9c469b31f334686110">More...</a><br /></td></tr>
<tr class="separator:a15f50e300c14ee9c469b31f334686110"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fb0aca9bbcdb9709fa52a70aded6cae"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/dc3/res__calendar_8c.html#a4fb0aca9bbcdb9709fa52a70aded6cae">AST_MODULE_SELF_SYM</a> (void)</td></tr>
<tr class="separator:a4fb0aca9bbcdb9709fa52a70aded6cae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1832064e5aaac423c18e690823aa1355"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../d4/d1d/structast__calendar.html">ast_calendar</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/dc3/res__calendar_8c.html#a1832064e5aaac423c18e690823aa1355">build_calendar</a> (struct <a class="el" href="../../dd/d18/structast__config.html">ast_config</a> *cfg, const char *cat, const struct <a class="el" href="../../dd/dca/structast__calendar__tech.html">ast_calendar_tech</a> *tech)</td></tr>
<tr class="separator:a1832064e5aaac423c18e690823aa1355"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aebfa8516160445f77bed1376ff2a89ba"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/dc3/res__calendar_8c.html#aebfa8516160445f77bed1376ff2a89ba">calendar_busy_callback</a> (void *obj, void *arg, int flags)</td></tr>
<tr class="separator:aebfa8516160445f77bed1376ff2a89ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef76fa94bcee828d52142c3e5fb89d47"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/dc3/res__calendar_8c.html#aef76fa94bcee828d52142c3e5fb89d47">calendar_busy_exec</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, const char *cmd, char *data, char *<a class="el" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, size_t <a class="el" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>)</td></tr>
<tr class="memdesc:aef76fa94bcee828d52142c3e5fb89d47"><td class="mdescLeft">&#160;</td><td class="mdescRight">A dialplan function that can be used to determine the busy status of a calendar.  <a href="#aef76fa94bcee828d52142c3e5fb89d47">More...</a><br /></td></tr>
<tr class="separator:aef76fa94bcee828d52142c3e5fb89d47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd30c53e490dc65fff18dd68b5645e78"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/dc3/res__calendar_8c.html#abd30c53e490dc65fff18dd68b5645e78">calendar_cmp_fn</a> (void *obj, void *arg, int flags)</td></tr>
<tr class="separator:abd30c53e490dc65fff18dd68b5645e78"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ef80a10cf17de51a67639f0e8e220cf"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/dc3/res__calendar_8c.html#a3ef80a10cf17de51a67639f0e8e220cf">calendar_destructor</a> (void *obj)</td></tr>
<tr class="separator:a3ef80a10cf17de51a67639f0e8e220cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b0b3690c3fc05a33ad19e2c68e7688b"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/dc3/res__calendar_8c.html#a7b0b3690c3fc05a33ad19e2c68e7688b">calendar_devstate_change</a> (const void *data)</td></tr>
<tr class="separator:a7b0b3690c3fc05a33ad19e2c68e7688b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af595272845899ca84e5191c4eb09471c"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/dc3/res__calendar_8c.html#af595272845899ca84e5191c4eb09471c">calendar_event_destructor</a> (void *obj)</td></tr>
<tr class="separator:af595272845899ca84e5191c4eb09471c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58e28ab57d8385696f2270deaff4761e"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/dc3/res__calendar_8c.html#a58e28ab57d8385696f2270deaff4761e">calendar_event_notify</a> (const void *data)</td></tr>
<tr class="separator:a58e28ab57d8385696f2270deaff4761e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a833fc3e81ac554a54ad0783819516b"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/dc3/res__calendar_8c.html#a9a833fc3e81ac554a54ad0783819516b">calendar_event_read</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, const char *cmd, char *data, char *<a class="el" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, size_t <a class="el" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>)</td></tr>
<tr class="separator:a9a833fc3e81ac554a54ad0783819516b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a716588b07ba676a323620e9ba1b3cb45"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/dc3/res__calendar_8c.html#a716588b07ba676a323620e9ba1b3cb45">calendar_hash_fn</a> (const void *obj, const int flags)</td></tr>
<tr class="separator:a716588b07ba676a323620e9ba1b3cb45"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f475f91c6878f3033e4c1379311a220"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/dc3/res__calendar_8c.html#a7f475f91c6878f3033e4c1379311a220">calendar_is_busy</a> (struct <a class="el" href="../../d4/d1d/structast__calendar.html">ast_calendar</a> *cal)</td></tr>
<tr class="separator:a7f475f91c6878f3033e4c1379311a220"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a111350d24dfbcf31aedaa77b4ba4db63"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/dc3/res__calendar_8c.html#a111350d24dfbcf31aedaa77b4ba4db63">calendar_join_attendees</a> (struct <a class="el" href="../../dc/d64/structast__calendar__event.html">ast_calendar_event</a> *<a class="el" href="../../df/d7d/structevent.html">event</a>, char *<a class="el" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, size_t <a class="el" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>)</td></tr>
<tr class="separator:a111350d24dfbcf31aedaa77b4ba4db63"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ebdf126fe230772caf2e5ed8b04741d"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/dc3/res__calendar_8c.html#a0ebdf126fe230772caf2e5ed8b04741d">calendar_query_exec</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, const char *cmd, char *data, char *<a class="el" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, size_t <a class="el" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>)</td></tr>
<tr class="separator:a0ebdf126fe230772caf2e5ed8b04741d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23f8ad8f24d93f7421bac1e7d0f74366"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/dc3/res__calendar_8c.html#a23f8ad8f24d93f7421bac1e7d0f74366">calendar_query_result_exec</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, const char *cmd, char *data, char *<a class="el" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, size_t <a class="el" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>)</td></tr>
<tr class="separator:a23f8ad8f24d93f7421bac1e7d0f74366"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08ee17eea3c89d76dabe1b948f2d8c96"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/dc3/res__calendar_8c.html#a08ee17eea3c89d76dabe1b948f2d8c96">calendar_write_exec</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, const char *cmd, char *data, const char *<a class="el" href="../../d5/dde/test__func__file_8c.html#a8556878012feffc9e0beb86cd78f424d">value</a>)</td></tr>
<tr class="separator:a08ee17eea3c89d76dabe1b948f2d8c96"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d944aed0d63a50f8de197354faa1fc2"><td class="memItemLeft" align="right" valign="top">static enum <a class="el" href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eee">ast_device_state</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/dc3/res__calendar_8c.html#a3d944aed0d63a50f8de197354faa1fc2">calendarstate</a> (const char *data)</td></tr>
<tr class="separator:a3d944aed0d63a50f8de197354faa1fc2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45eab126bf0b77d2c8053e192ac3f728"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/dc3/res__calendar_8c.html#a45eab126bf0b77d2c8053e192ac3f728">cb_pending_deletion</a> (void *user_data, void *arg, int flags)</td></tr>
<tr class="separator:a45eab126bf0b77d2c8053e192ac3f728"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87a4161e1a9f24ee9adaad72c478e273"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/dc3/res__calendar_8c.html#a87a4161e1a9f24ee9adaad72c478e273">cb_rm_pending_deletion</a> (void *user_data, void *arg, int flags)</td></tr>
<tr class="separator:a87a4161e1a9f24ee9adaad72c478e273"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37a62975769c3c1fefb5707e3f7df8c4"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/dc3/res__calendar_8c.html#a37a62975769c3c1fefb5707e3f7df8c4">clear_events_cb</a> (void *user_data, void *arg, int flags)</td></tr>
<tr class="separator:a37a62975769c3c1fefb5707e3f7df8c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73d3cd7e459f692a815578ccd78a9689"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/dc3/res__calendar_8c.html#a73d3cd7e459f692a815578ccd78a9689">copy_event_data</a> (struct <a class="el" href="../../dc/d64/structast__calendar__event.html">ast_calendar_event</a> *dst, struct <a class="el" href="../../dc/d64/structast__calendar__event.html">ast_calendar_event</a> *src)</td></tr>
<tr class="separator:a73d3cd7e459f692a815578ccd78a9689"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c38075f02a9aeb1b2491da4cdfb3261"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../dc/d64/structast__calendar__event.html">ast_calendar_event</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/dc3/res__calendar_8c.html#a3c38075f02a9aeb1b2491da4cdfb3261">destroy_event</a> (struct <a class="el" href="../../dc/d64/structast__calendar__event.html">ast_calendar_event</a> *<a class="el" href="../../df/d7d/structevent.html">event</a>)</td></tr>
<tr class="separator:a3c38075f02a9aeb1b2491da4cdfb3261"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab48b85a30fd9ca86a789f719808b4d55"><td class="memItemLeft" align="right" valign="top">static void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/dc3/res__calendar_8c.html#ab48b85a30fd9ca86a789f719808b4d55">do_notify</a> (void *data)</td></tr>
<tr class="separator:ab48b85a30fd9ca86a789f719808b4d55"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acea7f3ec33ca5aef5c8e8c532b313976"><td class="memItemLeft" align="right" valign="top">static void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/dc3/res__calendar_8c.html#acea7f3ec33ca5aef5c8e8c532b313976">do_refresh</a> (void *data)</td></tr>
<tr class="separator:acea7f3ec33ca5aef5c8e8c532b313976"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4359d2c66f94a0c0213d8dce458c79b9"><td class="memItemLeft" align="right" valign="top">static char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/dc3/res__calendar_8c.html#a4359d2c66f94a0c0213d8dce458c79b9">epoch_to_string</a> (char *<a class="el" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, size_t buflen, time_t epoch)</td></tr>
<tr class="separator:a4359d2c66f94a0c0213d8dce458c79b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad43766b2604b55f7591d5e8fc4a2da46"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/dc3/res__calendar_8c.html#ad43766b2604b55f7591d5e8fc4a2da46">event_cmp_fn</a> (void *obj, void *arg, int flags)</td></tr>
<tr class="separator:ad43766b2604b55f7591d5e8fc4a2da46"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f60d907cd8f8e2129346d66c78026e6"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/dc3/res__calendar_8c.html#a6f60d907cd8f8e2129346d66c78026e6">event_hash_fn</a> (const void *obj, const int flags)</td></tr>
<tr class="separator:a6f60d907cd8f8e2129346d66c78026e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0fc48ed678b8b58118a67ff0e4553d2"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/dc3/res__calendar_8c.html#ad0fc48ed678b8b58118a67ff0e4553d2">event_notification_destroy</a> (void *data)</td></tr>
<tr class="separator:ad0fc48ed678b8b58118a67ff0e4553d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15652a30d93a3a801dcdb96d8e51fdb9"><td class="memItemLeft" align="right" valign="top">static void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/dc3/res__calendar_8c.html#a15652a30d93a3a801dcdb96d8e51fdb9">event_notification_duplicate</a> (void *data)</td></tr>
<tr class="separator:a15652a30d93a3a801dcdb96d8e51fdb9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afcdcadc4ccb54f676c28c29fcd823d9e"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/dc3/res__calendar_8c.html#afcdcadc4ccb54f676c28c29fcd823d9e">eventlist_destroy</a> (void *data)</td></tr>
<tr class="separator:afcdcadc4ccb54f676c28c29fcd823d9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5540e8e3fca54d5d9966ff6d3969b16e"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/dc3/res__calendar_8c.html#a5540e8e3fca54d5d9966ff6d3969b16e">eventlist_destructor</a> (void *obj)</td></tr>
<tr class="separator:a5540e8e3fca54d5d9966ff6d3969b16e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29299313e7442d1a811ef00cd8add9d8"><td class="memItemLeft" align="right" valign="top">static void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/dc3/res__calendar_8c.html#a29299313e7442d1a811ef00cd8add9d8">eventlist_duplicate</a> (void *data)</td></tr>
<tr class="separator:a29299313e7442d1a811ef00cd8add9d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2623a75bbe6c1c6ff6a744b032b2599"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../d4/d1d/structast__calendar.html">ast_calendar</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/dc3/res__calendar_8c.html#af2623a75bbe6c1c6ff6a744b032b2599">find_calendar</a> (const char *<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>)</td></tr>
<tr class="separator:af2623a75bbe6c1c6ff6a744b032b2599"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0862b7036bac237240ba7da6a6bbb56d"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../dc/d64/structast__calendar__event.html">ast_calendar_event</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/dc3/res__calendar_8c.html#a0862b7036bac237240ba7da6a6bbb56d">find_event</a> (struct <a class="el" href="../../d2/da9/structao2__container.html">ao2_container</a> *<a class="el" href="../../d2/d4d/astman_8c.html#a271a8325aeaad3b77ff2387c788af2b3">events</a>, const char *uid)</td></tr>
<tr class="separator:a0862b7036bac237240ba7da6a6bbb56d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41f9ca037761557a34fb03157732e67b"><td class="memItemLeft" align="right" valign="top">static char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/dc3/res__calendar_8c.html#a41f9ca037761557a34fb03157732e67b">generate_random_string</a> (char *<a class="el" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, size_t size)</td></tr>
<tr class="memdesc:a41f9ca037761557a34fb03157732e67b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generate 32 byte random string (stolen from chan_sip.c)  <a href="#a41f9ca037761557a34fb03157732e67b">More...</a><br /></td></tr>
<tr class="separator:a41f9ca037761557a34fb03157732e67b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e414f80691007d5abe1c8e823dbd913"><td class="memItemLeft" align="right" valign="top">static char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/dc3/res__calendar_8c.html#a4e414f80691007d5abe1c8e823dbd913">handle_dump_sched</a> (struct <a class="el" href="../../d8/d07/structast__cli__entry.html">ast_cli_entry</a> *e, int cmd, struct <a class="el" href="../../d3/dad/structast__cli__args.html">ast_cli_args</a> *<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a>)</td></tr>
<tr class="separator:a4e414f80691007d5abe1c8e823dbd913"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afbc7ac96e3e987f64719ca1492a3a917"><td class="memItemLeft" align="right" valign="top">static char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/dc3/res__calendar_8c.html#afbc7ac96e3e987f64719ca1492a3a917">handle_show_calendar</a> (struct <a class="el" href="../../d8/d07/structast__cli__entry.html">ast_cli_entry</a> *e, int cmd, struct <a class="el" href="../../d3/dad/structast__cli__args.html">ast_cli_args</a> *<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a>)</td></tr>
<tr class="separator:afbc7ac96e3e987f64719ca1492a3a917"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85c94c57fc8931c1cb9f1418238d79ec"><td class="memItemLeft" align="right" valign="top">static char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/dc3/res__calendar_8c.html#a85c94c57fc8931c1cb9f1418238d79ec">handle_show_calendars</a> (struct <a class="el" href="../../d8/d07/structast__cli__entry.html">ast_cli_entry</a> *e, int cmd, struct <a class="el" href="../../d3/dad/structast__cli__args.html">ast_cli_args</a> *<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a>)</td></tr>
<tr class="memdesc:a85c94c57fc8931c1cb9f1418238d79ec"><td class="mdescLeft">&#160;</td><td class="mdescRight">CLI command to list available calendars.  <a href="#a85c94c57fc8931c1cb9f1418238d79ec">More...</a><br /></td></tr>
<tr class="separator:a85c94c57fc8931c1cb9f1418238d79ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a266a498e1e52f9d547a38b48b105f180"><td class="memItemLeft" align="right" valign="top">static char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/dc3/res__calendar_8c.html#a266a498e1e52f9d547a38b48b105f180">handle_show_calendars_types</a> (struct <a class="el" href="../../d8/d07/structast__cli__entry.html">ast_cli_entry</a> *e, int cmd, struct <a class="el" href="../../d3/dad/structast__cli__args.html">ast_cli_args</a> *<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a>)</td></tr>
<tr class="memdesc:a266a498e1e52f9d547a38b48b105f180"><td class="mdescLeft">&#160;</td><td class="mdescRight">CLI command to list of all calendars types currently loaded on the backend.  <a href="#a266a498e1e52f9d547a38b48b105f180">More...</a><br /></td></tr>
<tr class="separator:a266a498e1e52f9d547a38b48b105f180"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0f6114d9cab58a8ec3d9555cb466534"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/dc3/res__calendar_8c.html#ad0f6114d9cab58a8ec3d9555cb466534">load_config</a> (int <a class="el" href="../../dc/d6b/res__xmpp_8c.html#ad1982509765f4870f1f63412a53ea668">reload</a>)</td></tr>
<tr class="separator:ad0f6114d9cab58a8ec3d9555cb466534"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3382bf6da54c56b37069bd76bbdf4f9"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/dc3/res__calendar_8c.html#ac3382bf6da54c56b37069bd76bbdf4f9">load_module</a> (void)</td></tr>
<tr class="memdesc:ac3382bf6da54c56b37069bd76bbdf4f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load the module.  <a href="#ac3382bf6da54c56b37069bd76bbdf4f9">More...</a><br /></td></tr>
<tr class="separator:ac3382bf6da54c56b37069bd76bbdf4f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68b74b05f0bbf0449d77b045b167384c"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/dc3/res__calendar_8c.html#a68b74b05f0bbf0449d77b045b167384c">load_tech_calendars</a> (struct <a class="el" href="../../dd/dca/structast__calendar__tech.html">ast_calendar_tech</a> *tech)</td></tr>
<tr class="separator:a68b74b05f0bbf0449d77b045b167384c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5478c54cf75389656cd4e41af161f8c6"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/dc3/res__calendar_8c.html#a5478c54cf75389656cd4e41af161f8c6">match_caltech_cb</a> (void *user_data, void *arg, int flags)</td></tr>
<tr class="separator:a5478c54cf75389656cd4e41af161f8c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc29785de7c3d7677360c241f9e97b4a"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/dc3/res__calendar_8c.html#abc29785de7c3d7677360c241f9e97b4a">merge_events_cb</a> (void *obj, void *arg, int flags)</td></tr>
<tr class="separator:abc29785de7c3d7677360c241f9e97b4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b099114d99652352b79959f57ef3436"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/dc3/res__calendar_8c.html#a6b099114d99652352b79959f57ef3436">null_chan_write</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, struct <a class="el" href="../../d0/d99/structast__frame.html">ast_frame</a> *frame)</td></tr>
<tr class="separator:a6b099114d99652352b79959f57ef3436"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1982509765f4870f1f63412a53ea668"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/dc3/res__calendar_8c.html#ad1982509765f4870f1f63412a53ea668">reload</a> (void)</td></tr>
<tr class="separator:ad1982509765f4870f1f63412a53ea668"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a632e70a94822b2c01ae0886c56f9143d"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/dc3/res__calendar_8c.html#a632e70a94822b2c01ae0886c56f9143d">schedule_calendar_event</a> (struct <a class="el" href="../../d4/d1d/structast__calendar.html">ast_calendar</a> *cal, struct <a class="el" href="../../dc/d64/structast__calendar__event.html">ast_calendar_event</a> *old_event, struct <a class="el" href="../../dc/d64/structast__calendar__event.html">ast_calendar_event</a> *cmp_event)</td></tr>
<tr class="separator:a632e70a94822b2c01ae0886c56f9143d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad09fa931f468002152a3cc2d5ce25eae"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/dc3/res__calendar_8c.html#ad09fa931f468002152a3cc2d5ce25eae">unload_module</a> (void)</td></tr>
<tr class="separator:ad09fa931f468002152a3cc2d5ce25eae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d3e21e2e050727f782d68652d1cc1f5"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../d4/d1d/structast__calendar.html">ast_calendar</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/dc3/res__calendar_8c.html#a1d3e21e2e050727f782d68652d1cc1f5">unref_calendar</a> (struct <a class="el" href="../../d4/d1d/structast__calendar.html">ast_calendar</a> *cal)</td></tr>
<tr class="separator:a1d3e21e2e050727f782d68652d1cc1f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ab22f32016155f7f403e7178767163d7d"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/dc3/res__calendar_8c.html#ab22f32016155f7f403e7178767163d7d">__mod_info</a> = { .<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a> = <a class="el" href="../../da/ddd/named__acl_8c.html#aec23fc5034c3bb08140fc021f4955877">AST_MODULE</a>, .flags = <a class="el" href="../../d5/d16/module_8h.html#a155a0df9c59e04e305d4a2fa3e35f843a835b27a90d895a488e4e14cc3d2dee8c">AST_MODFLAG_GLOBAL_SYMBOLS</a> | <a class="el" href="../../d5/d16/module_8h.html#a155a0df9c59e04e305d4a2fa3e35f843a12c3f60dd7655dfa8d4430cbf04b1223">AST_MODFLAG_LOAD_ORDER</a> , .description = &quot;Asterisk Calendar integration&quot; , .key = &quot;This paragraph is copyright (<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>) 2006 by Digium, Inc. \In <a class="el" href="../../d5/d14/voicin_8c.html#aed7ca058008dc3e5ee131e575abed285">order</a> for your module to load, it must return this \key via <a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a> function called \&quot;key\&quot;. Any code which \includes this paragraph must <a class="el" href="../../dd/d7c/eagi__proxy_8c.html#a39730e90126aad69cfc9ca4d6fcdb3a6">be</a> licensed under the GNU \General Public License <a class="el" href="../../da/d7c/utils_2frame_8h.html#a56abfaab87c46691c1ef3ad0df23e864">version</a> 2 or later (at your \option). In addition to Digium's general reservations \of rights, Digium expressly reserves the right to \allow other parties to license this paragraph under \different terms. Any use of Digium, Inc. trademarks or \logos (including \&quot;Asterisk\&quot; or \&quot;Digium\&quot;) without \express written <a class="el" href="../../d4/d4c/structpermission.html">permission</a> of Digium, Inc. is prohibited.\n&quot; , .buildopt_sum = &quot;30ef0c93b36035ec78c9cfd712d36d9b&quot; , .support_level = AST_MODULE_SUPPORT_EXTENDED, .load = load_module, .unload = unload_module, .reload = reload, .load_pri = AST_MODPRI_DEVSTATE_PROVIDER, }</td></tr>
<tr class="separator:ab22f32016155f7f403e7178767163d7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad60e83b9aa660040fed4d5377966cc21"><td class="memItemLeft" align="right" valign="top">static const struct <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/dc3/res__calendar_8c.html#ad60e83b9aa660040fed4d5377966cc21">ast_module_info</a> = &amp;<a class="el" href="../../d6/d7a/test__xml__escape_8c.html#ab22f32016155f7f403e7178767163d7d">__mod_info</a></td></tr>
<tr class="separator:ad60e83b9aa660040fed4d5377966cc21"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e727121313c80a26128c47e658d6894"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../db/dc0/structast__custom__function.html">ast_custom_function</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/dc3/res__calendar_8c.html#a4e727121313c80a26128c47e658d6894">calendar_busy_function</a></td></tr>
<tr class="separator:a4e727121313c80a26128c47e658d6894"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4da0035ade5c1ed1c2507d59a9c7b5b6"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../d8/d07/structast__cli__entry.html">ast_cli_entry</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/dc3/res__calendar_8c.html#a4da0035ade5c1ed1c2507d59a9c7b5b6">calendar_cli</a> []</td></tr>
<tr class="separator:a4da0035ade5c1ed1c2507d59a9c7b5b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e17933edc73c89b20ecdd26c6fd0552"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../dd/d18/structast__config.html">ast_config</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/dc3/res__calendar_8c.html#a4e17933edc73c89b20ecdd26c6fd0552">calendar_config</a></td></tr>
<tr class="separator:a4e17933edc73c89b20ecdd26c6fd0552"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4567336f1c9f823cac99c1ca07cbf1ed"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../db/dc0/structast__custom__function.html">ast_custom_function</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/dc3/res__calendar_8c.html#a4567336f1c9f823cac99c1ca07cbf1ed">calendar_event_function</a></td></tr>
<tr class="separator:a4567336f1c9f823cac99c1ca07cbf1ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a233e91038a75d45680e12ed5833a04d6"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../db/dc0/structast__custom__function.html">ast_custom_function</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/dc3/res__calendar_8c.html#a233e91038a75d45680e12ed5833a04d6">calendar_query_function</a></td></tr>
<tr class="separator:a233e91038a75d45680e12ed5833a04d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3732ba84f15630fea194a5bcdf3f6631"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../db/dc0/structast__custom__function.html">ast_custom_function</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/dc3/res__calendar_8c.html#a3732ba84f15630fea194a5bcdf3f6631">calendar_query_result_function</a></td></tr>
<tr class="separator:a3732ba84f15630fea194a5bcdf3f6631"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a268d12de42b3899c621d7d457ed5ed7e"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../db/dc0/structast__custom__function.html">ast_custom_function</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/dc3/res__calendar_8c.html#a268d12de42b3899c621d7d457ed5ed7e">calendar_write_function</a></td></tr>
<tr class="separator:a268d12de42b3899c621d7d457ed5ed7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0a23206c25ccbd53fae39c15dfe647b"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../d2/da9/structao2__container.html">ao2_container</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/dc3/res__calendar_8c.html#ab0a23206c25ccbd53fae39c15dfe647b">calendars</a></td></tr>
<tr class="separator:ab0a23206c25ccbd53fae39c15dfe647b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6438556ba98655267def94eee104f6e2"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../dd/d42/lock_8h.html#a04e2a4450668b0cd2be05edd6259df19">ast_rwlock_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/dc3/res__calendar_8c.html#a6438556ba98655267def94eee104f6e2">config_lock</a> = { PTHREAD_RWLOCK_INITIALIZER , <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, {1, 0} }</td></tr>
<tr class="separator:a6438556ba98655267def94eee104f6e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3cdf9684aa289139de4a3a658a6ef464"><td class="memItemLeft" align="right" valign="top">static const struct <a class="el" href="../../d9/dfb/structast__datastore__info.html">ast_datastore_info</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/dc3/res__calendar_8c.html#a3cdf9684aa289139de4a3a658a6ef464">event_notification_datastore</a></td></tr>
<tr class="separator:a3cdf9684aa289139de4a3a658a6ef464"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9fd06e58dca21fdf8eb2a1f00e584126"><td class="memItemLeft" align="right" valign="top">static const struct <a class="el" href="../../d9/dfb/structast__datastore__info.html">ast_datastore_info</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/dc3/res__calendar_8c.html#a9fd06e58dca21fdf8eb2a1f00e584126">eventlist_datastore_info</a></td></tr>
<tr class="separator:a9fd06e58dca21fdf8eb2a1f00e584126"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad51d62cb6b4849cd2f19e5f58cdb69e2"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/dc3/res__calendar_8c.html#ad51d62cb6b4849cd2f19e5f58cdb69e2">module_unloading</a></td></tr>
<tr class="separator:ad51d62cb6b4849cd2f19e5f58cdb69e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b39e7d66ab86608026ed4c88e864da3"><td class="memItemLeft" align="right" valign="top">static const struct <a class="el" href="../../d4/d85/structast__channel__tech.html">ast_channel_tech</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/dc3/res__calendar_8c.html#a5b39e7d66ab86608026ed4c88e864da3">null_tech</a></td></tr>
<tr class="separator:a5b39e7d66ab86608026ed4c88e864da3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8c02290302fb0e31208cafc03d13da0"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../dd/d42/lock_8h.html#ab134d98cdfe7de0f7a72b377c0765dc7">ast_cond_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/dc3/res__calendar_8c.html#aa8c02290302fb0e31208cafc03d13da0">refresh_condition</a></td></tr>
<tr class="separator:aa8c02290302fb0e31208cafc03d13da0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c64083a818c7f079198f34c0ef05aef"><td class="memItemLeft" align="right" valign="top">static pthread_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/dc3/res__calendar_8c.html#a8c64083a818c7f079198f34c0ef05aef">refresh_thread</a> = <a class="el" href="../../d4/dc5/extconf_8c.html#a6009440c7a72f8e2e3b1ec97641ad160">AST_PTHREADT_NULL</a></td></tr>
<tr class="separator:a8c64083a818c7f079198f34c0ef05aef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29b91e0b8852b6696c254e5d9e490553"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../dd/d42/lock_8h.html#a44a55ccb432d858a224b401116277e93">ast_mutex_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/dc3/res__calendar_8c.html#a29b91e0b8852b6696c254e5d9e490553">refreshlock</a></td></tr>
<tr class="separator:a29b91e0b8852b6696c254e5d9e490553"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39a4ab22c3e08054d2efe759d8610f12"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../dd/d42/lock_8h.html#a44a55ccb432d858a224b401116277e93">ast_mutex_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/dc3/res__calendar_8c.html#a39a4ab22c3e08054d2efe759d8610f12">reloadlock</a></td></tr>
<tr class="separator:a39a4ab22c3e08054d2efe759d8610f12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a361b448e9abcfc301602a2573a662d3c"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../d7/de8/structast__sched__context.html">ast_sched_context</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/dc3/res__calendar_8c.html#a361b448e9abcfc301602a2573a662d3c">sched</a></td></tr>
<tr class="separator:a361b448e9abcfc301602a2573a662d3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a558f4bfac1283f6d02ba5cc6c9b4fe45"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../d2/db3/structtechs.html">techs</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/dc3/res__calendar_8c.html#a558f4bfac1283f6d02ba5cc6c9b4fe45">techs</a> = { .<a class="el" href="../../d7/d8e/test__cdr_8c.html#ad010071647150404acc6651544245543">first</a> = <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, .<a class="el" href="../../d7/d8e/test__cdr_8c.html#abaf7793fbb72797de5118c5f1f7b21ae">last</a> = <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, .<a class="el" href="../../d7/d8e/test__cdr_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a> = { PTHREAD_RECURSIVE_MUTEX_INITIALIZER_NP , <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, {1, 0} } , }</td></tr>
<tr class="separator:a558f4bfac1283f6d02ba5cc6c9b4fe45"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Calendaring API. </p>
<dl class="todo"><dt><b><a class="el" href="../../dd/da0/todo.html#_todo000083">Todo:</a></b></dt><dd><p class="startdd">Support responding to a meeting invite </p>
<p class="enddd">Support writing attendees </p>
</dd></dl>

<p class="definition">Definition in file <a class="el" href="../../d7/dc3/res__calendar_8c_source.html">res_calendar.c</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a806d9b20f62bae39bd345388e8685040"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a806d9b20f62bae39bd345388e8685040">&#9670;&nbsp;</a></span>CALENDAR_BUCKETS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CALENDAR_BUCKETS&#160;&#160;&#160;19</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00220">220</a> of file <a class="el" href="../../d7/dc3/res__calendar_8c_source.html">res_calendar.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00689">ast_calendar_event_container_alloc()</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00400">build_calendar()</a>, and <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l01900">load_module()</a>.</p>

</div>
</div>
<a id="ac8dc47e3b39c930caed4bfd05b4ba805"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac8dc47e3b39c930caed4bfd05b4ba805">&#9670;&nbsp;</a></span>FORMAT <span class="overload">[1/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FORMAT&#160;&#160;&#160;&quot;%-20.20s %-10.10s %-6.6s\n&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l01604">handle_show_calendar()</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l01528">handle_show_calendars()</a>, and <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l01559">handle_show_calendars_types()</a>.</p>

</div>
</div>
<a id="ac8dc47e3b39c930caed4bfd05b4ba805"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac8dc47e3b39c930caed4bfd05b4ba805">&#9670;&nbsp;</a></span>FORMAT <span class="overload">[2/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FORMAT&#160;&#160;&#160;&quot;%-10.10s %-30.30s\n&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ac8dc47e3b39c930caed4bfd05b4ba805"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac8dc47e3b39c930caed4bfd05b4ba805">&#9670;&nbsp;</a></span>FORMAT <span class="overload">[3/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FORMAT&#160;&#160;&#160;&quot;%-18.18s : %-20.20s\n&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="acfd58ce0ec836919236d7a1908494970"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acfd58ce0ec836919236d7a1908494970">&#9670;&nbsp;</a></span>FORMAT2</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FORMAT2&#160;&#160;&#160;&quot;%-12.12s: %-40.60s\n&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l01604">handle_show_calendar()</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a88b7c88fed6b80fd18f34f97757dfc04"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a88b7c88fed6b80fd18f34f97757dfc04">&#9670;&nbsp;</a></span>__reg_module()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void __reg_module </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l01946">1946</a> of file <a class="el" href="../../d7/dc3/res__calendar_8c_source.html">res_calendar.c</a>.</p>

</div>
</div>
<a id="afeab1257bd17282b95875499393a147a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afeab1257bd17282b95875499393a147a">&#9670;&nbsp;</a></span>__unreg_module()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void __unreg_module </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l01946">1946</a> of file <a class="el" href="../../d7/dc3/res__calendar_8c_source.html">res_calendar.c</a>.</p>

</div>
</div>
<a id="ac25759a82dabc92b3ad92c37db980903"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac25759a82dabc92b3ad92c37db980903">&#9670;&nbsp;</a></span>add_event_to_list()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int add_event_to_list </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dd/dcb/structeventlist.html">eventlist</a> *&#160;</td>
          <td class="paramname"><em>events</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../dc/d64/structast__calendar__event.html">ast_calendar_event</a> *&#160;</td>
          <td class="paramname"><em>event</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">time_t&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">time_t&#160;</td>
          <td class="paramname"><em>end</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l01119">1119</a> of file <a class="el" href="../../d7/dc3/res__calendar_8c_source.html">res_calendar.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00204">ast_calloc</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00598">AST_LIST_INSERT_BEFORE_CURRENT</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00730">AST_LIST_INSERT_TAIL</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00528">AST_LIST_TRAVERSE_SAFE_BEGIN</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00614">AST_LIST_TRAVERSE_SAFE_END</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../da/d4a/calendar_8h_source.html#l00105">ast_calendar_event::end</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00248">evententry::event</a>, <a class="el" href="../../df/db9/structevententry.html#a7243f23e02e3325c23cfb0a5a98732fa">evententry::list</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../da/d4a/calendar_8h_source.html#l00104">ast_calendar_event::start</a>, <a class="el" href="../../da/d4a/calendar_8h_source.html#l00101">ast_calendar_event::summary</a>, and <a class="el" href="../../da/d4a/calendar_8h_source.html#l00101">ast_calendar_event::uid</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l01213">calendar_query_exec()</a>.</p>
<div class="fragment"><div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;{</div><div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../df/db9/structevententry.html">evententry</a> *<a class="code" href="../../d3/d96/structentry.html">entry</a>, *iter;</div><div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;   <span class="keywordtype">long</span> event_startdiff = labs(start - event-&gt;<a class="code" href="../../dc/d64/structast__calendar__event.html#ada310e7f72b38fadd4b24d80ed3438ee">start</a>);</div><div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;   <span class="keywordtype">long</span> event_enddiff = labs(<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#a8fd806ad19b8f5513a4cf18cbf77532c">end</a> - event-&gt;<a class="code" href="../../dc/d64/structast__calendar__event.html#a13455ba845bf5d4dba37be491bc6a036">end</a>);</div><div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;   <span class="keywordtype">int</span> i = 0;</div><div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;</div><div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;   <span class="keywordflow">if</span> (!(entry = <a class="code" href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a>(1, <span class="keyword">sizeof</span>(*entry)))) {</div><div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Unable to allocate memory for event list\n&quot;</span>);</div><div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;   }</div><div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;</div><div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;   entry-&gt;<a class="code" href="../../df/db9/structevententry.html#a8974261cad5fcce6a56a935b9f78b272">event</a> = <a class="code" href="../../df/db9/structevententry.html#a8974261cad5fcce6a56a935b9f78b272">event</a>;</div><div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(event, +1);</div><div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;</div><div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;   <span class="keywordflow">if</span> (start == <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#a8fd806ad19b8f5513a4cf18cbf77532c">end</a>) {</div><div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;      <a class="code" href="../../df/d90/linkedlists_8h.html#aa5be52067bf16bdc7e56ca19b5ba858d">AST_LIST_TRAVERSE_SAFE_BEGIN</a>(events, iter, <a class="code" href="../../df/db9/structevententry.html#a7243f23e02e3325c23cfb0a5a98732fa">list</a>) {</div><div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;         <span class="keywordtype">long</span> startdiff = labs(iter-&gt;<a class="code" href="../../df/db9/structevententry.html#a8974261cad5fcce6a56a935b9f78b272">event</a>-&gt;<a class="code" href="../../dc/d64/structast__calendar__event.html#ada310e7f72b38fadd4b24d80ed3438ee">start</a> - start);</div><div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;</div><div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;         <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(10, <span class="stringliteral">&quot;Comparing %s with startdiff %ld to %s with startdiff %ld\n&quot;</span>, event-&gt;<a class="code" href="../../dc/d64/structast__calendar__event.html#ad1e48ce65ffcec5cd319932c5992b984">summary</a>, event_startdiff, iter-&gt;<a class="code" href="../../df/db9/structevententry.html#a8974261cad5fcce6a56a935b9f78b272">event</a>-&gt;<a class="code" href="../../dc/d64/structast__calendar__event.html#ad1e48ce65ffcec5cd319932c5992b984">summary</a>, startdiff);</div><div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;         ++i;</div><div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;         <span class="keywordflow">if</span> (startdiff &gt; event_startdiff) {</div><div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;            <a class="code" href="../../df/d90/linkedlists_8h.html#a83227c4f8c836f0452b607507c55752f">AST_LIST_INSERT_BEFORE_CURRENT</a>(entry, <a class="code" href="../../df/db9/structevententry.html#a7243f23e02e3325c23cfb0a5a98732fa">list</a>);</div><div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;            <span class="keywordflow">return</span> i;</div><div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;         }</div><div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;         <span class="keywordflow">if</span> (startdiff == event_startdiff) {</div><div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;            <span class="keywordtype">long</span> enddiff = labs(iter-&gt;<a class="code" href="../../df/db9/structevententry.html#a8974261cad5fcce6a56a935b9f78b272">event</a>-&gt;<a class="code" href="../../dc/d64/structast__calendar__event.html#a13455ba845bf5d4dba37be491bc6a036">end</a> - <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#a8fd806ad19b8f5513a4cf18cbf77532c">end</a>);</div><div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;</div><div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;            <span class="keywordflow">if</span> (enddiff &gt; event_enddiff) {</div><div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;               <a class="code" href="../../df/d90/linkedlists_8h.html#a83227c4f8c836f0452b607507c55752f">AST_LIST_INSERT_BEFORE_CURRENT</a>(entry, <a class="code" href="../../df/db9/structevententry.html#a7243f23e02e3325c23cfb0a5a98732fa">list</a>);</div><div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;               <span class="keywordflow">return</span> i;</div><div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;            }</div><div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;            <span class="keywordflow">if</span> (event_startdiff == enddiff) {</div><div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;               <span class="keywordflow">if</span> (strcmp(event-&gt;<a class="code" href="../../dc/d64/structast__calendar__event.html#a351c558d41ceba8d276ca848d3ca9def">uid</a>, iter-&gt;<a class="code" href="../../df/db9/structevententry.html#a8974261cad5fcce6a56a935b9f78b272">event</a>-&gt;<a class="code" href="../../dc/d64/structast__calendar__event.html#a351c558d41ceba8d276ca848d3ca9def">uid</a>) &lt; 0) {</div><div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;                  <a class="code" href="../../df/d90/linkedlists_8h.html#a83227c4f8c836f0452b607507c55752f">AST_LIST_INSERT_BEFORE_CURRENT</a>(entry, <a class="code" href="../../df/db9/structevententry.html#a7243f23e02e3325c23cfb0a5a98732fa">list</a>);</div><div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;                  <span class="keywordflow">return</span> i;</div><div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;               }</div><div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;            }</div><div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;         }</div><div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;      }</div><div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;      <a class="code" href="../../df/d90/linkedlists_8h.html#a712c04b4493919a7052399cd30ee8fb9">AST_LIST_TRAVERSE_SAFE_END</a>;</div><div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;</div><div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;      <a class="code" href="../../df/d90/linkedlists_8h.html#a4d258b4525e63c435d7de579d3f46960">AST_LIST_INSERT_TAIL</a>(events, entry, <a class="code" href="../../df/db9/structevententry.html#a7243f23e02e3325c23cfb0a5a98732fa">list</a>);</div><div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;</div><div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;      <span class="keywordflow">return</span> i;</div><div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;   }</div><div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;</div><div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#aa5be52067bf16bdc7e56ca19b5ba858d">AST_LIST_TRAVERSE_SAFE_BEGIN</a>(events, iter, <a class="code" href="../../df/db9/structevententry.html#a7243f23e02e3325c23cfb0a5a98732fa">list</a>) {</div><div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;      ++i;</div><div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;      <span class="keywordflow">if</span> (iter-&gt;<a class="code" href="../../df/db9/structevententry.html#a8974261cad5fcce6a56a935b9f78b272">event</a>-&gt;<a class="code" href="../../dc/d64/structast__calendar__event.html#ada310e7f72b38fadd4b24d80ed3438ee">start</a> &gt; event-&gt;<a class="code" href="../../dc/d64/structast__calendar__event.html#ada310e7f72b38fadd4b24d80ed3438ee">start</a>) {</div><div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;         <a class="code" href="../../df/d90/linkedlists_8h.html#a83227c4f8c836f0452b607507c55752f">AST_LIST_INSERT_BEFORE_CURRENT</a>(entry, <a class="code" href="../../df/db9/structevententry.html#a7243f23e02e3325c23cfb0a5a98732fa">list</a>);</div><div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;         <span class="keywordflow">return</span> i;</div><div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;      }</div><div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;</div><div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;      <span class="keywordflow">if</span> (iter-&gt;<a class="code" href="../../df/db9/structevententry.html#a8974261cad5fcce6a56a935b9f78b272">event</a>-&gt;<a class="code" href="../../dc/d64/structast__calendar__event.html#ada310e7f72b38fadd4b24d80ed3438ee">start</a> == event-&gt;<a class="code" href="../../dc/d64/structast__calendar__event.html#ada310e7f72b38fadd4b24d80ed3438ee">start</a>) {</div><div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;         <span class="keywordflow">if</span> ((iter-&gt;<a class="code" href="../../df/db9/structevententry.html#a8974261cad5fcce6a56a935b9f78b272">event</a>-&gt;<a class="code" href="../../dc/d64/structast__calendar__event.html#a13455ba845bf5d4dba37be491bc6a036">end</a> - iter-&gt;<a class="code" href="../../df/db9/structevententry.html#a8974261cad5fcce6a56a935b9f78b272">event</a>-&gt;<a class="code" href="../../dc/d64/structast__calendar__event.html#ada310e7f72b38fadd4b24d80ed3438ee">start</a>) == (event-&gt;<a class="code" href="../../dc/d64/structast__calendar__event.html#a13455ba845bf5d4dba37be491bc6a036">end</a> - event-&gt;<a class="code" href="../../dc/d64/structast__calendar__event.html#ada310e7f72b38fadd4b24d80ed3438ee">start</a>)) {</div><div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;            <span class="keywordflow">if</span> (strcmp(event-&gt;<a class="code" href="../../dc/d64/structast__calendar__event.html#a351c558d41ceba8d276ca848d3ca9def">uid</a>, iter-&gt;<a class="code" href="../../df/db9/structevententry.html#a8974261cad5fcce6a56a935b9f78b272">event</a>-&gt;<a class="code" href="../../dc/d64/structast__calendar__event.html#a351c558d41ceba8d276ca848d3ca9def">uid</a>) &lt; 0) {</div><div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;               <a class="code" href="../../df/d90/linkedlists_8h.html#a83227c4f8c836f0452b607507c55752f">AST_LIST_INSERT_BEFORE_CURRENT</a>(entry, <a class="code" href="../../df/db9/structevententry.html#a7243f23e02e3325c23cfb0a5a98732fa">list</a>);</div><div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;               <span class="keywordflow">return</span> i;</div><div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;            }</div><div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;         }</div><div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;         <span class="keywordflow">if</span> ((iter-&gt;<a class="code" href="../../df/db9/structevententry.html#a8974261cad5fcce6a56a935b9f78b272">event</a>-&gt;<a class="code" href="../../dc/d64/structast__calendar__event.html#a13455ba845bf5d4dba37be491bc6a036">end</a> - iter-&gt;<a class="code" href="../../df/db9/structevententry.html#a8974261cad5fcce6a56a935b9f78b272">event</a>-&gt;<a class="code" href="../../dc/d64/structast__calendar__event.html#ada310e7f72b38fadd4b24d80ed3438ee">start</a>) &lt; (event-&gt;<a class="code" href="../../dc/d64/structast__calendar__event.html#a13455ba845bf5d4dba37be491bc6a036">end</a> - event-&gt;<a class="code" href="../../dc/d64/structast__calendar__event.html#ada310e7f72b38fadd4b24d80ed3438ee">start</a>)) {</div><div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;            <a class="code" href="../../df/d90/linkedlists_8h.html#a83227c4f8c836f0452b607507c55752f">AST_LIST_INSERT_BEFORE_CURRENT</a>(entry, <a class="code" href="../../df/db9/structevententry.html#a7243f23e02e3325c23cfb0a5a98732fa">list</a>);</div><div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;            <span class="keywordflow">return</span> i;</div><div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;         }</div><div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;      }</div><div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;   }</div><div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a712c04b4493919a7052399cd30ee8fb9">AST_LIST_TRAVERSE_SAFE_END</a>;</div><div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;</div><div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a4d258b4525e63c435d7de579d3f46960">AST_LIST_INSERT_TAIL</a>(events, entry, <a class="code" href="../../df/db9/structevententry.html#a7243f23e02e3325c23cfb0a5a98732fa">list</a>);</div><div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;</div><div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;   <span class="keywordflow">return</span> i;</div><div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;}</div><div class="ttc" id="structast__calendar__event_html_a13455ba845bf5d4dba37be491bc6a036"><div class="ttname"><a href="../../dc/d64/structast__calendar__event.html#a13455ba845bf5d4dba37be491bc6a036">ast_calendar_event::end</a></div><div class="ttdeci">time_t end</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00105">calendar.h:105</a></div></div>
<div class="ttc" id="structast__calendar__event_html_a351c558d41ceba8d276ca848d3ca9def"><div class="ttname"><a href="../../dc/d64/structast__calendar__event.html#a351c558d41ceba8d276ca848d3ca9def">ast_calendar_event::uid</a></div><div class="ttdeci">const ast_string_field uid</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00101">calendar.h:101</a></div></div>
<div class="ttc" id="eagi__proxy_8c_html_a8fd806ad19b8f5513a4cf18cbf77532c"><div class="ttname"><a href="../../dd/d7c/eagi__proxy_8c.html#a8fd806ad19b8f5513a4cf18cbf77532c">end</a></div><div class="ttdeci">char * end</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d7c/eagi__proxy_8c_source.html#l00073">eagi_proxy.c:73</a></div></div>
<div class="ttc" id="structevententry_html_a7243f23e02e3325c23cfb0a5a98732fa"><div class="ttname"><a href="../../df/db9/structevententry.html#a7243f23e02e3325c23cfb0a5a98732fa">evententry::list</a></div><div class="ttdeci">struct evententry::@447 list</div></div>
<div class="ttc" id="linkedlists_8h_html_a712c04b4493919a7052399cd30ee8fb9"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a712c04b4493919a7052399cd30ee8fb9">AST_LIST_TRAVERSE_SAFE_END</a></div><div class="ttdeci">#define AST_LIST_TRAVERSE_SAFE_END</div><div class="ttdoc">Closes a safe loop traversal block. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00614">linkedlists.h:614</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="structevententry_html_a8974261cad5fcce6a56a935b9f78b272"><div class="ttname"><a href="../../df/db9/structevententry.html#a8974261cad5fcce6a56a935b9f78b272">evententry::event</a></div><div class="ttdeci">struct ast_calendar_event * event</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l00248">res_calendar.c:248</a></div></div>
<div class="ttc" id="structevententry_html"><div class="ttname"><a href="../../df/db9/structevententry.html">evententry</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l00247">res_calendar.c:247</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a4d258b4525e63c435d7de579d3f46960"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a4d258b4525e63c435d7de579d3f46960">AST_LIST_INSERT_TAIL</a></div><div class="ttdeci">#define AST_LIST_INSERT_TAIL(head, elm, field)</div><div class="ttdoc">Appends a list entry to the tail of a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00730">linkedlists.h:730</a></div></div>
<div class="ttc" id="astmm_8h_html_ae0cd4c5524b01287ab19cbe233d9cebb"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a></div><div class="ttdeci">#define ast_calloc(num, len)</div><div class="ttdoc">A wrapper for calloc() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00204">astmm.h:204</a></div></div>
<div class="ttc" id="structast__calendar__event_html_ada310e7f72b38fadd4b24d80ed3438ee"><div class="ttname"><a href="../../dc/d64/structast__calendar__event.html#ada310e7f72b38fadd4b24d80ed3438ee">ast_calendar_event::start</a></div><div class="ttdeci">time_t start</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00104">calendar.h:104</a></div></div>
<div class="ttc" id="structentry_html"><div class="ttname"><a href="../../d3/d96/structentry.html">entry</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d85/search_8h_source.html#l00040">search.h:40</a></div></div>
<div class="ttc" id="linkedlists_8h_html_aa5be52067bf16bdc7e56ca19b5ba858d"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#aa5be52067bf16bdc7e56ca19b5ba858d">AST_LIST_TRAVERSE_SAFE_BEGIN</a></div><div class="ttdeci">#define AST_LIST_TRAVERSE_SAFE_BEGIN(head, var, field)</div><div class="ttdoc">Loops safely over (traverses) the entries in a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00528">linkedlists.h:528</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a83227c4f8c836f0452b607507c55752f"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a83227c4f8c836f0452b607507c55752f">AST_LIST_INSERT_BEFORE_CURRENT</a></div><div class="ttdeci">#define AST_LIST_INSERT_BEFORE_CURRENT(elm, field)</div><div class="ttdoc">Inserts a list entry before the current entry during a traversal. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00598">linkedlists.h:598</a></div></div>
<div class="ttc" id="structast__calendar__event_html_ad1e48ce65ffcec5cd319932c5992b984"><div class="ttname"><a href="../../dc/d64/structast__calendar__event.html#ad1e48ce65ffcec5cd319932c5992b984">ast_calendar_event::summary</a></div><div class="ttdeci">const ast_string_field summary</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00101">calendar.h:101</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2ca75ae1270b05aaea6ffe5b72650b34"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2ca75ae1270b05aaea6ffe5b72650b34">&#9670;&nbsp;</a></span>add_new_event_cb()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int add_new_event_cb </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l01043">1043</a> of file <a class="el" href="../../d7/dc3/res__calendar_8c_source.html">res_calendar.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01549">ao2_link</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01031">CMP_MATCH</a>, <a class="el" href="../../db/d62/app__adsiprog_8c_source.html#l00085">events</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../da/d4a/calendar_8h_source.html#l00103">ast_calendar_event::owner</a>, and <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00954">schedule_calendar_event()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l01053">ast_calendar_merge_events()</a>.</p>
<div class="fragment"><div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;{</div><div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/d64/structast__calendar__event.html">ast_calendar_event</a> *new_event = obj;</div><div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/da9/structao2__container.html">ao2_container</a> *<a class="code" href="../../db/d62/app__adsiprog_8c.html#a1fcc0891a0631f9a9222fdf961bd79dc">events</a> = arg;</div><div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;</div><div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a1ad9f122bcae95a470639402faa3d2ee">ao2_link</a>(events, new_event);</div><div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;   <a class="code" href="../../d7/dc3/res__calendar_8c.html#a632e70a94822b2c01ae0886c56f9143d">schedule_calendar_event</a>(new_event-&gt;<a class="code" href="../../dc/d64/structast__calendar__event.html#a4f624898c838b00a647325f5afacf4ee">owner</a>, new_event, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d5/da5/astobj2_8h.html#a1f8b41308be4c47de8ff89a3b9c7e7d1a1959468a3c5d6aecd2fa1272d8e30fbf">CMP_MATCH</a>;</div><div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;}</div><div class="ttc" id="app__adsiprog_8c_html_a1fcc0891a0631f9a9222fdf961bd79dc"><div class="ttname"><a href="../../db/d62/app__adsiprog_8c.html#a1fcc0891a0631f9a9222fdf961bd79dc">events</a></div><div class="ttdeci">static const struct adsi_event events[]</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d62/app__adsiprog_8c_source.html#l00085">app_adsiprog.c:85</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="res__calendar_8c_html_a632e70a94822b2c01ae0886c56f9143d"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#a632e70a94822b2c01ae0886c56f9143d">schedule_calendar_event</a></div><div class="ttdeci">static int schedule_calendar_event(struct ast_calendar *cal, struct ast_calendar_event *old_event, struct ast_calendar_event *cmp_event)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l00954">res_calendar.c:954</a></div></div>
<div class="ttc" id="astobj2_8h_html_a1f8b41308be4c47de8ff89a3b9c7e7d1a1959468a3c5d6aecd2fa1272d8e30fbf"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a1f8b41308be4c47de8ff89a3b9c7e7d1a1959468a3c5d6aecd2fa1272d8e30fbf">CMP_MATCH</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01031">astobj2.h:1031</a></div></div>
<div class="ttc" id="structast__calendar__event_html_a4f624898c838b00a647325f5afacf4ee"><div class="ttname"><a href="../../dc/d64/structast__calendar__event.html#a4f624898c838b00a647325f5afacf4ee">ast_calendar_event::owner</a></div><div class="ttdeci">struct ast_calendar * owner</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00103">calendar.h:103</a></div></div>
<div class="ttc" id="structao2__container_html"><div class="ttname"><a href="../../d2/da9/structao2__container.html">ao2_container</a></div><div class="ttdoc">Generic container type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d20/astobj2__container__private_8h_source.html#l00282">astobj2_container_private.h:282</a></div></div>
<div class="ttc" id="structast__calendar__event_html"><div class="ttname"><a href="../../dc/d64/structast__calendar__event.html">ast_calendar_event</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00093">calendar.h:93</a></div></div>
<div class="ttc" id="astobj2_8h_html_a1ad9f122bcae95a470639402faa3d2ee"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a1ad9f122bcae95a470639402faa3d2ee">ao2_link</a></div><div class="ttdeci">#define ao2_link(container, obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01549">astobj2.h:1549</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a7155b9d04f427720ab933725f52c27d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7155b9d04f427720ab933725f52c27d1">&#9670;&nbsp;</a></span>ast_calendar_clear_events()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_calendar_clear_events </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d1d/structast__calendar.html">ast_calendar</a> *&#160;</td>
          <td class="paramname"><em>cal</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Remove all events from calendar. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cal</td><td>calendar whose events need to be cleared </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00660">660</a> of file <a class="el" href="../../d7/dc3/res__calendar_8c_source.html">res_calendar.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01716">ao2_callback</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00651">clear_events_cb()</a>, <a class="el" href="../../da/d4a/calendar_8h_source.html#l00138">ast_calendar::events</a>, <a class="el" href="../../da/d4a/calendar_8h_source.html#l00127">ast_calendar::name</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01053">OBJ_MULTIPLE</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01048">OBJ_NODATA</a>, and <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01043">OBJ_UNLINK</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00327">calendar_destructor()</a>.</p>
<div class="fragment"><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;{</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(3, <span class="stringliteral">&quot;Clearing all events for calendar %s\n&quot;</span>, cal-&gt;<a class="code" href="../../d4/d1d/structast__calendar.html#ace9168767fc3707cf5f0a7d049682ba3">name</a>);</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a47857055118a703ae87ea5ebaf4842ed">ao2_callback</a>(cal-&gt;<a class="code" href="../../d4/d1d/structast__calendar.html#a68cfdbd3a90ed1f8b0486a13b65bd244">events</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca71f42ec6460e60eb6e10956c53329e45">OBJ_UNLINK</a> | <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca5fc59b193d86a0a8ddfe866304be829d">OBJ_NODATA</a> | <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca614744a4d36b3189d4ab5b02c8645d47">OBJ_MULTIPLE</a>, <a class="code" href="../../d7/dc3/res__calendar_8c.html#a37a62975769c3c1fefb5707e3f7df8c4">clear_events_cb</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;}</div><div class="ttc" id="res__calendar_8c_html_a37a62975769c3c1fefb5707e3f7df8c4"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#a37a62975769c3c1fefb5707e3f7df8c4">clear_events_cb</a></div><div class="ttdeci">static int clear_events_cb(void *user_data, void *arg, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l00651">res_calendar.c:651</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35ca5fc59b193d86a0a8ddfe866304be829d"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca5fc59b193d86a0a8ddfe866304be829d">OBJ_NODATA</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01048">astobj2.h:1048</a></div></div>
<div class="ttc" id="astobj2_8h_html_a47857055118a703ae87ea5ebaf4842ed"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a47857055118a703ae87ea5ebaf4842ed">ao2_callback</a></div><div class="ttdeci">#define ao2_callback(c, flags, cb_fn, arg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01716">astobj2.h:1716</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35ca71f42ec6460e60eb6e10956c53329e45"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca71f42ec6460e60eb6e10956c53329e45">OBJ_UNLINK</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01043">astobj2.h:1043</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="structast__calendar_html_ace9168767fc3707cf5f0a7d049682ba3"><div class="ttname"><a href="../../d4/d1d/structast__calendar.html#ace9168767fc3707cf5f0a7d049682ba3">ast_calendar::name</a></div><div class="ttdeci">const ast_string_field name</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00127">calendar.h:127</a></div></div>
<div class="ttc" id="structast__calendar_html_a68cfdbd3a90ed1f8b0486a13b65bd244"><div class="ttname"><a href="../../d4/d1d/structast__calendar.html#a68cfdbd3a90ed1f8b0486a13b65bd244">ast_calendar::events</a></div><div class="ttdeci">struct ao2_container * events</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00138">calendar.h:138</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35ca614744a4d36b3189d4ab5b02c8645d47"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca614744a4d36b3189d4ab5b02c8645d47">OBJ_MULTIPLE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01053">astobj2.h:1053</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2a89289597a07eb7feeeb1db7b6bfc56"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2a89289597a07eb7feeeb1db7b6bfc56">&#9670;&nbsp;</a></span>ast_calendar_config_acquire()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const struct <a class="el" href="../../dd/d18/structast__config.html">ast_config</a>* ast_calendar_config_acquire </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Grab and lock pointer to the calendar config (read only) </p>
<dl class="section note"><dt>Note</dt><dd>ast_calendar_config_release must be called when finished with the pointer</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>the parsed calendar config </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00258">258</a> of file <a class="el" href="../../d7/dc3/res__calendar_8c_source.html">res_calendar.c</a>.</p>

<p class="reference">References <a class="el" href="../../dd/d42/lock_8h_source.html#l00233">ast_rwlock_rdlock</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00232">ast_rwlock_unlock</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00255">calendar_config</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00256">config_lock</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/d18/res__calendar__caldav_8c_source.html#l00607">caldav_load_calendar()</a>, <a class="el" href="../../d2/d4f/res__calendar__ews_8c_source.html#l00770">ewscal_load_calendar()</a>, <a class="el" href="../../d2/d23/res__calendar__exchange_8c_source.html#l00600">exchangecal_load_calendar()</a>, and <a class="el" href="../../df/d58/res__calendar__icalendar_8c_source.html#l00385">ical_load_calendar()</a>.</p>
<div class="fragment"><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;{</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a7330ac9d36b05bad68b188c2dcfa42d7">ast_rwlock_rdlock</a>(&amp;<a class="code" href="../../d7/dc3/res__calendar_8c.html#a6438556ba98655267def94eee104f6e2">config_lock</a>);</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d7/dc3/res__calendar_8c.html#a4e17933edc73c89b20ecdd26c6fd0552">calendar_config</a>) {</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#ac2920a1db37313ec46bd91dc83bf9c8a">ast_rwlock_unlock</a>(&amp;<a class="code" href="../../d7/dc3/res__calendar_8c.html#a6438556ba98655267def94eee104f6e2">config_lock</a>);</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;   }</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d7/dc3/res__calendar_8c.html#a4e17933edc73c89b20ecdd26c6fd0552">calendar_config</a>;</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;}</div><div class="ttc" id="lock_8h_html_a7330ac9d36b05bad68b188c2dcfa42d7"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a7330ac9d36b05bad68b188c2dcfa42d7">ast_rwlock_rdlock</a></div><div class="ttdeci">#define ast_rwlock_rdlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00233">lock.h:233</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="lock_8h_html_ac2920a1db37313ec46bd91dc83bf9c8a"><div class="ttname"><a href="../../dd/d42/lock_8h.html#ac2920a1db37313ec46bd91dc83bf9c8a">ast_rwlock_unlock</a></div><div class="ttdeci">#define ast_rwlock_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00232">lock.h:232</a></div></div>
<div class="ttc" id="res__calendar_8c_html_a4e17933edc73c89b20ecdd26c6fd0552"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#a4e17933edc73c89b20ecdd26c6fd0552">calendar_config</a></div><div class="ttdeci">static struct ast_config * calendar_config</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l00255">res_calendar.c:255</a></div></div>
<div class="ttc" id="res__calendar_8c_html_a6438556ba98655267def94eee104f6e2"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#a6438556ba98655267def94eee104f6e2">config_lock</a></div><div class="ttdeci">static ast_rwlock_t config_lock</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l00256">res_calendar.c:256</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a425593754b0ca04672b702aca63e9ac0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a425593754b0ca04672b702aca63e9ac0">&#9670;&nbsp;</a></span>ast_calendar_config_release()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_calendar_config_release </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Release the calendar config. </p>

<p class="definition">Definition at line <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00270">270</a> of file <a class="el" href="../../d7/dc3/res__calendar_8c_source.html">res_calendar.c</a>.</p>

<p class="reference">References <a class="el" href="../../dd/d42/lock_8h_source.html#l00232">ast_rwlock_unlock</a>, and <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00256">config_lock</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/d18/res__calendar__caldav_8c_source.html#l00607">caldav_load_calendar()</a>, <a class="el" href="../../d2/d4f/res__calendar__ews_8c_source.html#l00770">ewscal_load_calendar()</a>, <a class="el" href="../../d2/d23/res__calendar__exchange_8c_source.html#l00600">exchangecal_load_calendar()</a>, and <a class="el" href="../../df/d58/res__calendar__icalendar_8c_source.html#l00385">ical_load_calendar()</a>.</p>
<div class="fragment"><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;{</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#ac2920a1db37313ec46bd91dc83bf9c8a">ast_rwlock_unlock</a>(&amp;<a class="code" href="../../d7/dc3/res__calendar_8c.html#a6438556ba98655267def94eee104f6e2">config_lock</a>);</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;}</div><div class="ttc" id="lock_8h_html_ac2920a1db37313ec46bd91dc83bf9c8a"><div class="ttname"><a href="../../dd/d42/lock_8h.html#ac2920a1db37313ec46bd91dc83bf9c8a">ast_rwlock_unlock</a></div><div class="ttdeci">#define ast_rwlock_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00232">lock.h:232</a></div></div>
<div class="ttc" id="res__calendar_8c_html_a6438556ba98655267def94eee104f6e2"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#a6438556ba98655267def94eee104f6e2">config_lock</a></div><div class="ttdeci">static ast_rwlock_t config_lock</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l00256">res_calendar.c:256</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a5baeffb2016cfba709d05ab148e65ff9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5baeffb2016cfba709d05ab148e65ff9">&#9670;&nbsp;</a></span>ast_calendar_event_alloc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../dc/d64/structast__calendar__event.html">ast_calendar_event</a>* ast_calendar_event_alloc </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d1d/structast__calendar.html">ast_calendar</a> *&#160;</td>
          <td class="paramname"><em>cal</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allocate an <a class="el" href="../../d3/dfb/structastobj2.html">astobj2</a> <a class="el" href="../../dc/d64/structast__calendar__event.html">ast_calendar_event</a> object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cal</td><td>calendar to allocate an event for</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a new, initialized calendar event </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00667">667</a> of file <a class="el" href="../../d7/dc3/res__calendar_8c_source.html">res_calendar.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00411">ao2_alloc</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00321">ast_calendar_unref_event()</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00680">AST_LIST_HEAD_INIT_NOLOCK</a>, <a class="el" href="../../d1/d0f/stringfields_8h_source.html#l00353">ast_string_field_init</a>, <a class="el" href="../../dc/d64/structast__calendar__event.html#aecf2cf646e157e918cc64d69cbe6e6f3">ast_calendar_event::attendees</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00609">calendar_event_destructor()</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00248">evententry::event</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/d18/res__calendar__caldav_8c_source.html#l00349">caldav_add_event()</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l01415">calendar_write_exec()</a>, <a class="el" href="../../df/d58/res__calendar__icalendar_8c_source.html#l00190">icalendar_add_event()</a>, <a class="el" href="../../d2/d23/res__calendar__exchange_8c_source.html#l00083">parse_tag()</a>, and <a class="el" href="../../d2/d4f/res__calendar__ews_8c_source.html#l00175">startelm()</a>.</p>
<div class="fragment"><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;{</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/d64/structast__calendar__event.html">ast_calendar_event</a> *<a class="code" href="../../df/d7d/structevent.html">event</a>;</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;   <span class="keywordflow">if</span> (!(event = <a class="code" href="../../d5/da5/astobj2_8h.html#ae0422b60d8e25b6962b2d61ae4ddf724">ao2_alloc</a>(<span class="keyword">sizeof</span>(*event), <a class="code" href="../../d7/dc3/res__calendar_8c.html#af595272845899ca84e5191c4eb09471c">calendar_event_destructor</a>))) {</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;   }</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d1/d0f/stringfields_8h.html#a871274fa4fd2687c7a44849a84df3665">ast_string_field_init</a>(event, 32)) {</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;      <span class="keyword">event</span> = <a class="code" href="../../d7/dc3/res__calendar_8c.html#a0b71ae1b1392b6095a17737375eb7671">ast_calendar_unref_event</a>(event);</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;   }</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;   <span class="keyword">event</span>-&gt;owner = cal;</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;   <span class="keyword">event</span>-&gt;notify_sched = -1;</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;   <span class="keyword">event</span>-&gt;bs_start_sched = -1;</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;   <span class="keyword">event</span>-&gt;bs_end_sched = -1;</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a0d1f922e093ac18824a7863fe3f5fa27">AST_LIST_HEAD_INIT_NOLOCK</a>(&amp;event-&gt;<a class="code" href="../../dc/d64/structast__calendar__event.html#aecf2cf646e157e918cc64d69cbe6e6f3">attendees</a>);</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;   <span class="keywordflow">return</span> event;</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;}</div><div class="ttc" id="structevent_html"><div class="ttname"><a href="../../df/d7d/structevent.html">event</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d4d/astman_8c_source.html#l00222">astman.c:222</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="stringfields_8h_html_a871274fa4fd2687c7a44849a84df3665"><div class="ttname"><a href="../../d1/d0f/stringfields_8h.html#a871274fa4fd2687c7a44849a84df3665">ast_string_field_init</a></div><div class="ttdeci">#define ast_string_field_init(x, size)</div><div class="ttdoc">Initialize a field pool and fields. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d0f/stringfields_8h_source.html#l00353">stringfields.h:353</a></div></div>
<div class="ttc" id="res__calendar_8c_html_af595272845899ca84e5191c4eb09471c"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#af595272845899ca84e5191c4eb09471c">calendar_event_destructor</a></div><div class="ttdeci">static void calendar_event_destructor(void *obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l00609">res_calendar.c:609</a></div></div>
<div class="ttc" id="astobj2_8h_html_ae0422b60d8e25b6962b2d61ae4ddf724"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ae0422b60d8e25b6962b2d61ae4ddf724">ao2_alloc</a></div><div class="ttdeci">#define ao2_alloc(data_size, destructor_fn)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00411">astobj2.h:411</a></div></div>
<div class="ttc" id="structast__calendar__event_html_aecf2cf646e157e918cc64d69cbe6e6f3"><div class="ttname"><a href="../../dc/d64/structast__calendar__event.html#aecf2cf646e157e918cc64d69cbe6e6f3">ast_calendar_event::attendees</a></div><div class="ttdeci">struct ast_calendar_event::attendees attendees</div></div>
<div class="ttc" id="linkedlists_8h_html_a0d1f922e093ac18824a7863fe3f5fa27"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a0d1f922e093ac18824a7863fe3f5fa27">AST_LIST_HEAD_INIT_NOLOCK</a></div><div class="ttdeci">#define AST_LIST_HEAD_INIT_NOLOCK(head)</div><div class="ttdoc">Initializes a list head structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00680">linkedlists.h:680</a></div></div>
<div class="ttc" id="structast__calendar__event_html"><div class="ttname"><a href="../../dc/d64/structast__calendar__event.html">ast_calendar_event</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00093">calendar.h:93</a></div></div>
<div class="ttc" id="res__calendar_8c_html_a0b71ae1b1392b6095a17737375eb7671"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#a0b71ae1b1392b6095a17737375eb7671">ast_calendar_unref_event</a></div><div class="ttdeci">struct ast_calendar_event * ast_calendar_unref_event(struct ast_calendar_event *event)</div><div class="ttdoc">Unreference an ast_calendar_event. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l00321">res_calendar.c:321</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac581d7a0b3970f47bb2a4aed924bea58"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac581d7a0b3970f47bb2a4aed924bea58">&#9670;&nbsp;</a></span>ast_calendar_event_container_alloc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d2/da9/structao2__container.html">ao2_container</a>* ast_calendar_event_container_alloc </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allocate an <a class="el" href="../../d3/dfb/structastobj2.html">astobj2</a> container for <a class="el" href="../../dc/d64/structast__calendar__event.html">ast_calendar_event</a> objects. </p>
<dl class="section return"><dt>Returns</dt><dd>a new event container </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00689">689</a> of file <a class="el" href="../../d7/dc3/res__calendar_8c_source.html">res_calendar.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00365">AO2_ALLOC_OPT_LOCK_MUTEX</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01310">ao2_container_alloc_hash</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00220">CALENDAR_BUCKETS</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00307">event_cmp_fn()</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00301">event_hash_fn()</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/d18/res__calendar__caldav_8c_source.html#l00607">caldav_load_calendar()</a>, <a class="el" href="../../d2/d4f/res__calendar__ews_8c_source.html#l00770">ewscal_load_calendar()</a>, <a class="el" href="../../d2/d23/res__calendar__exchange_8c_source.html#l00600">exchangecal_load_calendar()</a>, and <a class="el" href="../../df/d58/res__calendar__icalendar_8c_source.html#l00385">ical_load_calendar()</a>.</p>
<div class="fragment"><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;{</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d5/da5/astobj2_8h.html#aefc16f8aa9087cbc5c55c70cf1dd41b2">ao2_container_alloc_hash</a>(<a class="code" href="../../d5/da5/astobj2_8h.html#a2cf7e3433f08351aafe3b0cd31edf7f8a8ccf751bd6749d062999469f0694e7ad">AO2_ALLOC_OPT_LOCK_MUTEX</a>, 0, <a class="code" href="../../d7/dc3/res__calendar_8c.html#a806d9b20f62bae39bd345388e8685040">CALENDAR_BUCKETS</a>,</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;      <a class="code" href="../../d7/dc3/res__calendar_8c.html#a6f60d907cd8f8e2129346d66c78026e6">event_hash_fn</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d7/dc3/res__calendar_8c.html#ad43766b2604b55f7591d5e8fc4a2da46">event_cmp_fn</a>);</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;}</div><div class="ttc" id="res__calendar_8c_html_a6f60d907cd8f8e2129346d66c78026e6"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#a6f60d907cd8f8e2129346d66c78026e6">event_hash_fn</a></div><div class="ttdeci">static int event_hash_fn(const void *obj, const int flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l00301">res_calendar.c:301</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="res__calendar_8c_html_a806d9b20f62bae39bd345388e8685040"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#a806d9b20f62bae39bd345388e8685040">CALENDAR_BUCKETS</a></div><div class="ttdeci">#define CALENDAR_BUCKETS</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l00220">res_calendar.c:220</a></div></div>
<div class="ttc" id="astobj2_8h_html_a2cf7e3433f08351aafe3b0cd31edf7f8a8ccf751bd6749d062999469f0694e7ad"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a2cf7e3433f08351aafe3b0cd31edf7f8a8ccf751bd6749d062999469f0694e7ad">AO2_ALLOC_OPT_LOCK_MUTEX</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00365">astobj2.h:365</a></div></div>
<div class="ttc" id="astobj2_8h_html_aefc16f8aa9087cbc5c55c70cf1dd41b2"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aefc16f8aa9087cbc5c55c70cf1dd41b2">ao2_container_alloc_hash</a></div><div class="ttdeci">#define ao2_container_alloc_hash(ao2_options, container_options, n_buckets, hash_fn, sort_fn, cmp_fn)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01310">astobj2.h:1310</a></div></div>
<div class="ttc" id="res__calendar_8c_html_ad43766b2604b55f7591d5e8fc4a2da46"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#ad43766b2604b55f7591d5e8fc4a2da46">event_cmp_fn</a></div><div class="ttdeci">static int event_cmp_fn(void *obj, void *arg, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l00307">res_calendar.c:307</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2373048a0ece99022fa7e8b86c4158aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2373048a0ece99022fa7e8b86c4158aa">&#9670;&nbsp;</a></span>ast_calendar_merge_events()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_calendar_merge_events </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d1d/structast__calendar.html">ast_calendar</a> *&#160;</td>
          <td class="paramname"><em>cal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d2/da9/structao2__container.html">ao2_container</a> *&#160;</td>
          <td class="paramname"><em>new_events</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add an event to the list of events for a calendar. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cal</td><td>calendar containing the events to be merged </td></tr>
    <tr><td class="paramname">new_events</td><td>an oa2 container of events to be merged into cal-&gt;events </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l01053">1053</a> of file <a class="el" href="../../d7/dc3/res__calendar_8c_source.html">res_calendar.c</a>.</p>

<p class="reference">References <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l01043">add_new_event_cb()</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01716">ao2_callback</a>, <a class="el" href="../../da/d4a/calendar_8h_source.html#l00138">ast_calendar::events</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l01016">merge_events_cb()</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01053">OBJ_MULTIPLE</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01048">OBJ_NODATA</a>, and <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01043">OBJ_UNLINK</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/d4f/res__calendar__ews_8c_source.html#l00386">endelm()</a>, <a class="el" href="../../df/d58/res__calendar__icalendar_8c_source.html#l00350">icalendar_update_events()</a>, <a class="el" href="../../d2/d4f/res__calendar__ews_8c_source.html#l00175">startelm()</a>, <a class="el" href="../../dc/d18/res__calendar__caldav_8c_source.html#l00547">update_caldav()</a>, and <a class="el" href="../../d2/d23/res__calendar__exchange_8c_source.html#l00577">update_exchangecal()</a>.</p>
<div class="fragment"><div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;{</div><div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;   <span class="comment">/* Loop through all events attached to the calendar.  If there is a matching new event</span></div><div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;<span class="comment">    * merge its data over and handle any schedule changes that need to be made.  Then remove</span></div><div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;<span class="comment">    * the new_event from new_events so that we are left with only new_events that we can add later. */</span></div><div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a47857055118a703ae87ea5ebaf4842ed">ao2_callback</a>(cal-&gt;<a class="code" href="../../d4/d1d/structast__calendar.html#a68cfdbd3a90ed1f8b0486a13b65bd244">events</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca71f42ec6460e60eb6e10956c53329e45">OBJ_UNLINK</a> | <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca5fc59b193d86a0a8ddfe866304be829d">OBJ_NODATA</a> | <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca614744a4d36b3189d4ab5b02c8645d47">OBJ_MULTIPLE</a>, <a class="code" href="../../d7/dc3/res__calendar_8c.html#abc29785de7c3d7677360c241f9e97b4a">merge_events_cb</a>, new_events);</div><div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;</div><div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;   <span class="comment">/* Now, we should only have completely new events in new_events.  Loop through and add them */</span></div><div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a47857055118a703ae87ea5ebaf4842ed">ao2_callback</a>(new_events, <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca71f42ec6460e60eb6e10956c53329e45">OBJ_UNLINK</a> | <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca5fc59b193d86a0a8ddfe866304be829d">OBJ_NODATA</a> | <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca614744a4d36b3189d4ab5b02c8645d47">OBJ_MULTIPLE</a>, <a class="code" href="../../d7/dc3/res__calendar_8c.html#a2ca75ae1270b05aaea6ffe5b72650b34">add_new_event_cb</a>, cal-&gt;<a class="code" href="../../d4/d1d/structast__calendar.html#a68cfdbd3a90ed1f8b0486a13b65bd244">events</a>);</div><div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;}</div><div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35ca5fc59b193d86a0a8ddfe866304be829d"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca5fc59b193d86a0a8ddfe866304be829d">OBJ_NODATA</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01048">astobj2.h:1048</a></div></div>
<div class="ttc" id="astobj2_8h_html_a47857055118a703ae87ea5ebaf4842ed"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a47857055118a703ae87ea5ebaf4842ed">ao2_callback</a></div><div class="ttdeci">#define ao2_callback(c, flags, cb_fn, arg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01716">astobj2.h:1716</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35ca71f42ec6460e60eb6e10956c53329e45"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca71f42ec6460e60eb6e10956c53329e45">OBJ_UNLINK</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01043">astobj2.h:1043</a></div></div>
<div class="ttc" id="structast__calendar_html_a68cfdbd3a90ed1f8b0486a13b65bd244"><div class="ttname"><a href="../../d4/d1d/structast__calendar.html#a68cfdbd3a90ed1f8b0486a13b65bd244">ast_calendar::events</a></div><div class="ttdeci">struct ao2_container * events</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00138">calendar.h:138</a></div></div>
<div class="ttc" id="res__calendar_8c_html_abc29785de7c3d7677360c241f9e97b4a"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#abc29785de7c3d7677360c241f9e97b4a">merge_events_cb</a></div><div class="ttdeci">static int merge_events_cb(void *obj, void *arg, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l01016">res_calendar.c:1016</a></div></div>
<div class="ttc" id="res__calendar_8c_html_a2ca75ae1270b05aaea6ffe5b72650b34"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#a2ca75ae1270b05aaea6ffe5b72650b34">add_new_event_cb</a></div><div class="ttdeci">static int add_new_event_cb(void *obj, void *arg, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l01043">res_calendar.c:1043</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35ca614744a4d36b3189d4ab5b02c8645d47"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca614744a4d36b3189d4ab5b02c8645d47">OBJ_MULTIPLE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01053">astobj2.h:1053</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a84e82d1677dc6bae868354f1e93b3fb4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a84e82d1677dc6bae868354f1e93b3fb4">&#9670;&nbsp;</a></span>ast_calendar_register()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_calendar_register </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dd/dca/structast__calendar__tech.html">ast_calendar_tech</a> *&#160;</td>
          <td class="paramname"><em>tech</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register a new calendar technology. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tech</td><td>calendar technology to register</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>success </td></tr>
    <tr><td class="paramname">-1</td><td>failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00549">549</a> of file <a class="el" href="../../d7/dc3/res__calendar_8c_source.html">res_calendar.c</a>.</p>

<p class="reference">References <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00710">AST_LIST_INSERT_HEAD</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00039">AST_LIST_LOCK</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00490">AST_LIST_TRAVERSE</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00139">AST_LIST_UNLOCK</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00426">ast_module_user_add</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00463">ast_verb</a>, <a class="el" href="../../da/d4a/calendar_8h_source.html#l00071">ast_calendar_tech::description</a>, <a class="el" href="../../df/db9/structevententry.html#a7243f23e02e3325c23cfb0a5a98732fa">evententry::list</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00513">load_tech_calendars()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../da/d4a/calendar_8h_source.html#l00070">ast_calendar_tech::type</a>, and <a class="el" href="../../da/d4a/calendar_8h_source.html#l00073">ast_calendar_tech::user</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/d18/res__calendar__caldav_8c_source.html#l00733">load_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;{</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/dca/structast__calendar__tech.html">ast_calendar_tech</a> *iter;</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d7/dc3/res__calendar_8c.html#a4e17933edc73c89b20ecdd26c6fd0552">calendar_config</a>) {</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Calendar support disabled, not loading %s calendar module\n&quot;</span>, tech-&gt;<a class="code" href="../../dd/dca/structast__calendar__tech.html#a763fd8db6bba8fbbbc113ca0d61c47c2">type</a>);</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;   }</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a>(&amp;<a class="code" href="../../d2/db3/structtechs.html">techs</a>);</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(&amp;<a class="code" href="../../d2/db3/structtechs.html">techs</a>, iter, <a class="code" href="../../dd/dca/structast__calendar__tech.html#a0199260d3b90f5bec211e98749d2f748">list</a>) {</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;      <span class="keywordflow">if</span>(!strcasecmp(tech-&gt;<a class="code" href="../../dd/dca/structast__calendar__tech.html#a763fd8db6bba8fbbbc113ca0d61c47c2">type</a>, iter-&gt;<a class="code" href="../../dd/dca/structast__calendar__tech.html#a763fd8db6bba8fbbbc113ca0d61c47c2">type</a>)) {</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Already have a handler for calendar type &#39;%s&#39;\n&quot;</span>, tech-&gt;<a class="code" href="../../dd/dca/structast__calendar__tech.html#a763fd8db6bba8fbbbc113ca0d61c47c2">type</a>);</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;         <a class="code" href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a>(&amp;<a class="code" href="../../d2/db3/structtechs.html">techs</a>);</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;         <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;      }</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;   }</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#aa2ded2af046bb513f77056c27c083307">AST_LIST_INSERT_HEAD</a>(&amp;<a class="code" href="../../d2/db3/structtechs.html">techs</a>, tech, <a class="code" href="../../dd/dca/structast__calendar__tech.html#a0199260d3b90f5bec211e98749d2f748">list</a>);</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;   tech-&gt;<a class="code" href="../../dd/dca/structast__calendar__tech.html#a8ea7a75242844be0a260d0ebcf9d2b12">user</a> = <a class="code" href="../../d5/d16/module_8h.html#ab941a600dc47b469ab225f140bc0973f">ast_module_user_add</a>(<a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a>(&amp;<a class="code" href="../../d2/db3/structtechs.html">techs</a>);</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(2, <span class="stringliteral">&quot;Registered calendar type &#39;%s&#39; (%s)\n&quot;</span>, tech-&gt;<a class="code" href="../../dd/dca/structast__calendar__tech.html#a763fd8db6bba8fbbbc113ca0d61c47c2">type</a>, tech-&gt;<a class="code" href="../../dd/dca/structast__calendar__tech.html#a68344fa88cf4e86b5079fd69a5c22d57">description</a>);</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d7/dc3/res__calendar_8c.html#a68b74b05f0bbf0449d77b045b167384c">load_tech_calendars</a>(tech);</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;}</div><div class="ttc" id="linkedlists_8h_html_a9140a4e4d781264fa9469c52b1adae40"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a></div><div class="ttdeci">#define AST_LIST_LOCK(head)</div><div class="ttdoc">Locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00039">linkedlists.h:39</a></div></div>
<div class="ttc" id="res__calendar_8c_html_a68b74b05f0bbf0449d77b045b167384c"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#a68b74b05f0bbf0449d77b045b167384c">load_tech_calendars</a></div><div class="ttdeci">static int load_tech_calendars(struct ast_calendar_tech *tech)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l00513">res_calendar.c:513</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="linkedlists_8h_html_ab48cb9e1e612dd486b747ba1c5d68d01"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a></div><div class="ttdeci">#define AST_LIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00139">linkedlists.h:139</a></div></div>
<div class="ttc" id="structast__calendar__tech_html_a0199260d3b90f5bec211e98749d2f748"><div class="ttname"><a href="../../dd/dca/structast__calendar__tech.html#a0199260d3b90f5bec211e98749d2f748">ast_calendar_tech::list</a></div><div class="ttdeci">struct ast_calendar_tech::@239 list</div></div>
<div class="ttc" id="structast__calendar__tech_html_a8ea7a75242844be0a260d0ebcf9d2b12"><div class="ttname"><a href="../../dd/dca/structast__calendar__tech.html#a8ea7a75242844be0a260d0ebcf9d2b12">ast_calendar_tech::user</a></div><div class="ttdeci">struct ast_module_user * user</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00073">calendar.h:73</a></div></div>
<div class="ttc" id="structast__calendar__tech_html_a68344fa88cf4e86b5079fd69a5c22d57"><div class="ttname"><a href="../../dd/dca/structast__calendar__tech.html#a68344fa88cf4e86b5079fd69a5c22d57">ast_calendar_tech::description</a></div><div class="ttdeci">const char * description</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00071">calendar.h:71</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="logger_8h_html_ad770f83c71e237e1f64163358ce4e13d"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a></div><div class="ttdeci">#define ast_verb(level,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00463">logger.h:463</a></div></div>
<div class="ttc" id="structast__calendar__tech_html_a763fd8db6bba8fbbbc113ca0d61c47c2"><div class="ttname"><a href="../../dd/dca/structast__calendar__tech.html#a763fd8db6bba8fbbbc113ca0d61c47c2">ast_calendar_tech::type</a></div><div class="ttdeci">const char * type</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00070">calendar.h:70</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="module_8h_html_ab941a600dc47b469ab225f140bc0973f"><div class="ttname"><a href="../../d5/d16/module_8h.html#ab941a600dc47b469ab225f140bc0973f">ast_module_user_add</a></div><div class="ttdeci">#define ast_module_user_add(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00426">module.h:426</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a3008b2f4f236b72d8bcfb80e346324ef"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a></div><div class="ttdeci">#define AST_LIST_TRAVERSE(head, var, field)</div><div class="ttdoc">Loops over (traverses) the entries in a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00490">linkedlists.h:490</a></div></div>
<div class="ttc" id="linkedlists_8h_html_aa2ded2af046bb513f77056c27c083307"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#aa2ded2af046bb513f77056c27c083307">AST_LIST_INSERT_HEAD</a></div><div class="ttdeci">#define AST_LIST_INSERT_HEAD(head, elm, field)</div><div class="ttdoc">Inserts a list entry at the head of a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00710">linkedlists.h:710</a></div></div>
<div class="ttc" id="res__calendar_8c_html_a4e17933edc73c89b20ecdd26c6fd0552"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#a4e17933edc73c89b20ecdd26c6fd0552">calendar_config</a></div><div class="ttdeci">static struct ast_config * calendar_config</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l00255">res_calendar.c:255</a></div></div>
<div class="ttc" id="structast__calendar__tech_html"><div class="ttname"><a href="../../dd/dca/structast__calendar__tech.html">ast_calendar_tech</a></div><div class="ttdoc">Individual calendaring technology data. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00069">calendar.h:69</a></div></div>
<div class="ttc" id="structtechs_html"><div class="ttname"><a href="../../d2/db3/structtechs.html">techs</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l00252">res_calendar.c:252</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a0b71ae1b1392b6095a17737375eb7671"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b71ae1b1392b6095a17737375eb7671">&#9670;&nbsp;</a></span>ast_calendar_unref_event()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../dc/d64/structast__calendar__event.html">ast_calendar_event</a>* ast_calendar_unref_event </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dc/d64/structast__calendar__event.html">ast_calendar_event</a> *&#160;</td>
          <td class="paramname"><em>event</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unreference an <a class="el" href="../../dc/d64/structast__calendar__event.html">ast_calendar_event</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">event</td><td>event to unref</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>NULL </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00321">321</a> of file <a class="el" href="../../d7/dc3/res__calendar_8c_source.html">res_calendar.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00667">ast_calendar_event_alloc()</a>, <a class="el" href="../../dc/d18/res__calendar__caldav_8c_source.html#l00349">caldav_add_event()</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00892">calendar_devstate_change()</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l01213">calendar_query_exec()</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l01415">calendar_write_exec()</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00741">do_notify()</a>, <a class="el" href="../../d2/d4f/res__calendar__ews_8c_source.html#l00386">endelm()</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00695">event_notification_destroy()</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l01604">handle_show_calendar()</a>, <a class="el" href="../../df/d58/res__calendar__icalendar_8c_source.html#l00190">icalendar_add_event()</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l01016">merge_events_cb()</a>, and <a class="el" href="../../d2/d23/res__calendar__exchange_8c_source.html#l00083">parse_tag()</a>.</p>
<div class="fragment"><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;{</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(event, -1);</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;}</div><div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a15f50e300c14ee9c469b31f334686110"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a15f50e300c14ee9c469b31f334686110">&#9670;&nbsp;</a></span>ast_calendar_unregister()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_calendar_unregister </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dd/dca/structast__calendar__tech.html">ast_calendar_tech</a> *&#160;</td>
          <td class="paramname"><em>tech</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unregister a new calendar technology. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tech</td><td>calendar technology to unregister</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>success </td></tr>
    <tr><td class="paramname">-1</td><td>failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00587">587</a> of file <a class="el" href="../../d7/dc3/res__calendar_8c_source.html">res_calendar.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01716">ao2_callback</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00039">AST_LIST_LOCK</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00556">AST_LIST_REMOVE_CURRENT</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00528">AST_LIST_TRAVERSE_SAFE_BEGIN</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00614">AST_LIST_TRAVERSE_SAFE_END</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00139">AST_LIST_UNLOCK</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00427">ast_module_user_remove</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00463">ast_verb</a>, <a class="el" href="../../df/db9/structevententry.html#a7243f23e02e3325c23cfb0a5a98732fa">evententry::list</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00575">match_caltech_cb()</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01053">OBJ_MULTIPLE</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01048">OBJ_NODATA</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01043">OBJ_UNLINK</a>, <a class="el" href="../../da/d4a/calendar_8h_source.html#l00070">ast_calendar_tech::type</a>, and <a class="el" href="../../da/d4a/calendar_8h_source.html#l00073">ast_calendar_tech::user</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00513">load_tech_calendars()</a>, and <a class="el" href="../../dc/d18/res__calendar__caldav_8c_source.html#l00744">unload_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;{</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/dca/structast__calendar__tech.html">ast_calendar_tech</a> *iter;</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a>(&amp;<a class="code" href="../../d2/db3/structtechs.html">techs</a>);</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#aa5be52067bf16bdc7e56ca19b5ba858d">AST_LIST_TRAVERSE_SAFE_BEGIN</a>(&amp;<a class="code" href="../../d2/db3/structtechs.html">techs</a>, iter, <a class="code" href="../../dd/dca/structast__calendar__tech.html#a0199260d3b90f5bec211e98749d2f748">list</a>) {</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;      <span class="keywordflow">if</span> (iter != tech) {</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;         <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;      }</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#a47857055118a703ae87ea5ebaf4842ed">ao2_callback</a>(<a class="code" href="../../d7/dc3/res__calendar_8c.html#ab0a23206c25ccbd53fae39c15dfe647b">calendars</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca71f42ec6460e60eb6e10956c53329e45">OBJ_UNLINK</a> | <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca5fc59b193d86a0a8ddfe866304be829d">OBJ_NODATA</a> | <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca614744a4d36b3189d4ab5b02c8645d47">OBJ_MULTIPLE</a>, <a class="code" href="../../d7/dc3/res__calendar_8c.html#a5478c54cf75389656cd4e41af161f8c6">match_caltech_cb</a>, tech);</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;      <a class="code" href="../../df/d90/linkedlists_8h.html#aa8ac496fa9c717d5afb99a02e1e2760c">AST_LIST_REMOVE_CURRENT</a>(<a class="code" href="../../dd/dca/structast__calendar__tech.html#a0199260d3b90f5bec211e98749d2f748">list</a>);</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;      <a class="code" href="../../d5/d16/module_8h.html#aac87725d61b6daf4ce7d7b505f1b68c9">ast_module_user_remove</a>(iter-&gt;<a class="code" href="../../dd/dca/structast__calendar__tech.html#a8ea7a75242844be0a260d0ebcf9d2b12">user</a>);</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(2, <span class="stringliteral">&quot;Unregistered calendar type &#39;%s&#39;\n&quot;</span>, tech-&gt;<a class="code" href="../../dd/dca/structast__calendar__tech.html#a763fd8db6bba8fbbbc113ca0d61c47c2">type</a>);</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;   }</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a712c04b4493919a7052399cd30ee8fb9">AST_LIST_TRAVERSE_SAFE_END</a>;</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a>(&amp;<a class="code" href="../../d2/db3/structtechs.html">techs</a>);</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;}</div><div class="ttc" id="linkedlists_8h_html_a9140a4e4d781264fa9469c52b1adae40"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a></div><div class="ttdeci">#define AST_LIST_LOCK(head)</div><div class="ttdoc">Locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00039">linkedlists.h:39</a></div></div>
<div class="ttc" id="res__calendar_8c_html_ab0a23206c25ccbd53fae39c15dfe647b"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#ab0a23206c25ccbd53fae39c15dfe647b">calendars</a></div><div class="ttdeci">static struct ao2_container * calendars</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l00222">res_calendar.c:222</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35ca5fc59b193d86a0a8ddfe866304be829d"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca5fc59b193d86a0a8ddfe866304be829d">OBJ_NODATA</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01048">astobj2.h:1048</a></div></div>
<div class="ttc" id="linkedlists_8h_html_ab48cb9e1e612dd486b747ba1c5d68d01"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a></div><div class="ttdeci">#define AST_LIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00139">linkedlists.h:139</a></div></div>
<div class="ttc" id="astobj2_8h_html_a47857055118a703ae87ea5ebaf4842ed"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a47857055118a703ae87ea5ebaf4842ed">ao2_callback</a></div><div class="ttdeci">#define ao2_callback(c, flags, cb_fn, arg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01716">astobj2.h:1716</a></div></div>
<div class="ttc" id="structast__calendar__tech_html_a0199260d3b90f5bec211e98749d2f748"><div class="ttname"><a href="../../dd/dca/structast__calendar__tech.html#a0199260d3b90f5bec211e98749d2f748">ast_calendar_tech::list</a></div><div class="ttdeci">struct ast_calendar_tech::@239 list</div></div>
<div class="ttc" id="structast__calendar__tech_html_a8ea7a75242844be0a260d0ebcf9d2b12"><div class="ttname"><a href="../../dd/dca/structast__calendar__tech.html#a8ea7a75242844be0a260d0ebcf9d2b12">ast_calendar_tech::user</a></div><div class="ttdeci">struct ast_module_user * user</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00073">calendar.h:73</a></div></div>
<div class="ttc" id="module_8h_html_aac87725d61b6daf4ce7d7b505f1b68c9"><div class="ttname"><a href="../../d5/d16/module_8h.html#aac87725d61b6daf4ce7d7b505f1b68c9">ast_module_user_remove</a></div><div class="ttdeci">#define ast_module_user_remove(user)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00427">module.h:427</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a712c04b4493919a7052399cd30ee8fb9"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a712c04b4493919a7052399cd30ee8fb9">AST_LIST_TRAVERSE_SAFE_END</a></div><div class="ttdeci">#define AST_LIST_TRAVERSE_SAFE_END</div><div class="ttdoc">Closes a safe loop traversal block. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00614">linkedlists.h:614</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35ca71f42ec6460e60eb6e10956c53329e45"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca71f42ec6460e60eb6e10956c53329e45">OBJ_UNLINK</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01043">astobj2.h:1043</a></div></div>
<div class="ttc" id="logger_8h_html_ad770f83c71e237e1f64163358ce4e13d"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a></div><div class="ttdeci">#define ast_verb(level,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00463">logger.h:463</a></div></div>
<div class="ttc" id="structast__calendar__tech_html_a763fd8db6bba8fbbbc113ca0d61c47c2"><div class="ttname"><a href="../../dd/dca/structast__calendar__tech.html#a763fd8db6bba8fbbbc113ca0d61c47c2">ast_calendar_tech::type</a></div><div class="ttdeci">const char * type</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00070">calendar.h:70</a></div></div>
<div class="ttc" id="linkedlists_8h_html_aa8ac496fa9c717d5afb99a02e1e2760c"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#aa8ac496fa9c717d5afb99a02e1e2760c">AST_LIST_REMOVE_CURRENT</a></div><div class="ttdeci">#define AST_LIST_REMOVE_CURRENT(field)</div><div class="ttdoc">Removes the current entry from a list during a traversal. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00556">linkedlists.h:556</a></div></div>
<div class="ttc" id="res__calendar_8c_html_a5478c54cf75389656cd4e41af161f8c6"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#a5478c54cf75389656cd4e41af161f8c6">match_caltech_cb</a></div><div class="ttdeci">static int match_caltech_cb(void *user_data, void *arg, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l00575">res_calendar.c:575</a></div></div>
<div class="ttc" id="structast__calendar__tech_html"><div class="ttname"><a href="../../dd/dca/structast__calendar__tech.html">ast_calendar_tech</a></div><div class="ttdoc">Individual calendaring technology data. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00069">calendar.h:69</a></div></div>
<div class="ttc" id="linkedlists_8h_html_aa5be52067bf16bdc7e56ca19b5ba858d"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#aa5be52067bf16bdc7e56ca19b5ba858d">AST_LIST_TRAVERSE_SAFE_BEGIN</a></div><div class="ttdeci">#define AST_LIST_TRAVERSE_SAFE_BEGIN(head, var, field)</div><div class="ttdoc">Loops safely over (traverses) the entries in a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00528">linkedlists.h:528</a></div></div>
<div class="ttc" id="structtechs_html"><div class="ttname"><a href="../../d2/db3/structtechs.html">techs</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l00252">res_calendar.c:252</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35ca614744a4d36b3189d4ab5b02c8645d47"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca614744a4d36b3189d4ab5b02c8645d47">OBJ_MULTIPLE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01053">astobj2.h:1053</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a4fb0aca9bbcdb9709fa52a70aded6cae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4fb0aca9bbcdb9709fa52a70aded6cae">&#9670;&nbsp;</a></span>AST_MODULE_SELF_SYM()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a>* AST_MODULE_SELF_SYM </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l01946">1946</a> of file <a class="el" href="../../d7/dc3/res__calendar_8c_source.html">res_calendar.c</a>.</p>

</div>
</div>
<a id="a1832064e5aaac423c18e690823aa1355"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1832064e5aaac423c18e690823aa1355">&#9670;&nbsp;</a></span>build_calendar()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="../../d4/d1d/structast__calendar.html">ast_calendar</a>* build_calendar </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dd/d18/structast__config.html">ast_config</a> *&#160;</td>
          <td class="paramname"><em>cfg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>cat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="../../dd/dca/structast__calendar__tech.html">ast_calendar_tech</a> *&#160;</td>
          <td class="paramname"><em>tech</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Create new calendar, old will be removed during reload </p>

<p class="definition">Definition at line <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00400">400</a> of file <a class="el" href="../../d7/dc3/res__calendar_8c_source.html">res_calendar.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00411">ao2_alloc</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00365">AO2_ALLOC_OPT_LOCK_MUTEX</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01310">ao2_container_alloc_hash</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01549">ao2_link</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01598">ao2_unlink</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00199">ast_cond_init</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00559">ast_pthread_create</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00066">AST_PTHREADT_NULL</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00243">ast_strdup</a>, <a class="el" href="../../d1/d0f/stringfields_8h_source.html#l00353">ast_string_field_init</a>, <a class="el" href="../../d1/d0f/stringfields_8h_source.html#l00514">ast_string_field_set</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00219">ast_strip()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l01951">ast_true()</a>, <a class="el" href="../../d4/dc5/extconf_8c_source.html#l01216">ast_variable_browse()</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00914">ast_variable_new</a>, <a class="el" href="../../da/d4a/calendar_8h_source.html#l00129">ast_calendar::autoreminder</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00220">CALENDAR_BUCKETS</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00327">calendar_destructor()</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00307">event_cmp_fn()</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00301">event_hash_fn()</a>, <a class="el" href="../../da/d4a/calendar_8h_source.html#l00138">ast_calendar::events</a>, <a class="el" href="../../da/d4a/calendar_8h_source.html#l00132">ast_calendar::fetch_again_at_reload</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00293">find_calendar()</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l01092">last</a>, <a class="el" href="../../da/d4a/calendar_8h_source.html#l00075">ast_calendar_tech::load_calendar</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../d0/d29/cdr__mysql_8c_source.html#l00074">name</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00085">ast_variable::name</a>, <a class="el" href="../../da/d4a/calendar_8h_source.html#l00127">ast_calendar::name</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00090">ast_variable::next</a>, <a class="el" href="../../da/d4a/calendar_8h_source.html#l00127">ast_calendar::notify_channel</a>, <a class="el" href="../../d8/d41/res__pjsip__notify_8c_source.html#l00751">notify_channel()</a>, <a class="el" href="../../da/d4a/calendar_8h_source.html#l00130">ast_calendar::notify_waittime</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../da/d4a/calendar_8h_source.html#l00137">ast_calendar::pending_deletion</a>, <a class="el" href="../../da/d4a/calendar_8h_source.html#l00131">ast_calendar::refresh</a>, <a class="el" href="../../de/da3/include_2asterisk_2compat_8h.html#a40eca58273c74a20a17f137d18ba826c">strsep()</a>, <a class="el" href="../../da/d4a/calendar_8h_source.html#l00118">ast_calendar::tech</a>, <a class="el" href="../../da/d4a/calendar_8h_source.html#l00134">ast_calendar::thread</a>, <a class="el" href="../../da/d4a/calendar_8h_source.html#l00133">ast_calendar::timeframe</a>, <a class="el" href="../../da/d4a/calendar_8h_source.html#l00135">ast_calendar::unload</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00275">unref_calendar()</a>, <a class="el" href="../../d4/d2f/syslog_8c_source.html#l00037">value</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00087">ast_variable::value</a>, <a class="el" href="../../dc/df2/ast__expr2f_8c_source.html#l00614">var</a>, and <a class="el" href="../../da/d4a/calendar_8h_source.html#l00128">ast_calendar::vars</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00513">load_tech_calendars()</a>.</p>
<div class="fragment"><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;{</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d1d/structast__calendar.html">ast_calendar</a> *cal;</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/d02/structast__variable.html">ast_variable</a> *v, *<a class="code" href="../../df/d44/app__meetme_8c.html#ae9dd6bdb4c5c0529195a03583d0d4a8d">last</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;   <span class="keywordtype">int</span> new_calendar = 0;</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;   cal = <a class="code" href="../../d7/dc3/res__calendar_8c.html#af2623a75bbe6c1c6ff6a744b032b2599">find_calendar</a>(cat);</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;   <span class="keywordflow">if</span> (cal &amp;&amp; cal-&gt;<a class="code" href="../../d4/d1d/structast__calendar.html#a7959776d7ecfb93fce36b95ec5778e19">fetch_again_at_reload</a>) {<span class="comment"></span></div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;<span class="comment">      /** Create new calendar, old will be removed during reload */</span></div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;      cal = <a class="code" href="../../d7/dc3/res__calendar_8c.html#a1d3e21e2e050727f782d68652d1cc1f5">unref_calendar</a>(cal);</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;   }</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;   <span class="keywordflow">if</span> (!cal) {</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;      new_calendar = 1;</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;      <span class="keywordflow">if</span> (!(cal = <a class="code" href="../../d5/da5/astobj2_8h.html#ae0422b60d8e25b6962b2d61ae4ddf724">ao2_alloc</a>(<span class="keyword">sizeof</span>(*cal), <a class="code" href="../../d7/dc3/res__calendar_8c.html#a3ef80a10cf17de51a67639f0e8e220cf">calendar_destructor</a>))) {</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Could not allocate calendar structure. Stopping.\n&quot;</span>);</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;         <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;      }</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;      cal-&gt;<a class="code" href="../../d4/d1d/structast__calendar.html#a68cfdbd3a90ed1f8b0486a13b65bd244">events</a> = <a class="code" href="../../d5/da5/astobj2_8h.html#aefc16f8aa9087cbc5c55c70cf1dd41b2">ao2_container_alloc_hash</a>(<a class="code" href="../../d5/da5/astobj2_8h.html#a2cf7e3433f08351aafe3b0cd31edf7f8a8ccf751bd6749d062999469f0694e7ad">AO2_ALLOC_OPT_LOCK_MUTEX</a>, 0,</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;         <a class="code" href="../../d7/dc3/res__calendar_8c.html#a806d9b20f62bae39bd345388e8685040">CALENDAR_BUCKETS</a>, <a class="code" href="../../d7/dc3/res__calendar_8c.html#a6f60d907cd8f8e2129346d66c78026e6">event_hash_fn</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d7/dc3/res__calendar_8c.html#ad43766b2604b55f7591d5e8fc4a2da46">event_cmp_fn</a>);</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;      <span class="keywordflow">if</span> (!cal-&gt;<a class="code" href="../../d4/d1d/structast__calendar.html#a68cfdbd3a90ed1f8b0486a13b65bd244">events</a>) {</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Could not allocate events container for %s\n&quot;</span>, cat);</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;         cal = <a class="code" href="../../d7/dc3/res__calendar_8c.html#a1d3e21e2e050727f782d68652d1cc1f5">unref_calendar</a>(cal);</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;         <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;      }</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d1/d0f/stringfields_8h.html#a871274fa4fd2687c7a44849a84df3665">ast_string_field_init</a>(cal, 32)) {</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Couldn&#39;t create string fields for %s\n&quot;</span>, cat);</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;         cal = <a class="code" href="../../d7/dc3/res__calendar_8c.html#a1d3e21e2e050727f782d68652d1cc1f5">unref_calendar</a>(cal);</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;         <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;      }</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;      cal-&gt;<a class="code" href="../../d4/d1d/structast__calendar.html#a99b9610b16c3c0b56c364b98c9d20d35">pending_deletion</a> = 0;</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;   }</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;   <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(cal, <a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, cat);</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;   cal-&gt;<a class="code" href="../../d4/d1d/structast__calendar.html#a2202508d2b59b02becb71802e5835cbd">tech</a> = tech;</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;   cal-&gt;<a class="code" href="../../d4/d1d/structast__calendar.html#a1b89d9ee01e33efd8e2634eb2ee2e6d7">refresh</a> = 3600;</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;   cal-&gt;<a class="code" href="../../d4/d1d/structast__calendar.html#a684e6be27b3b7514b381971d72a04128">timeframe</a> = 60;</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;   cal-&gt;<a class="code" href="../../d4/d1d/structast__calendar.html#abbfcf850948210e39034f73704c2eed1">notify_waittime</a> = 30000;</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;   cal-&gt;<a class="code" href="../../d4/d1d/structast__calendar.html#a7959776d7ecfb93fce36b95ec5778e19">fetch_again_at_reload</a> = 0;</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;   <span class="keywordflow">for</span> (v = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#aef636ed2f3d33f4c7a1ba67eb7c4d052">ast_variable_browse</a>(cfg, cat); v; v = v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#afaaf66cc5029a563bd0bb9df076ea14b">next</a>) {</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;      <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;autoreminder&quot;</span>)) {</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;         cal-&gt;<a class="code" href="../../d4/d1d/structast__calendar.html#a25c5d44b0e5d8a6447a6199e17d3bbbe">autoreminder</a> = atoi(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>);</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;channel&quot;</span>)) {</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;         <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(cal, <a class="code" href="../../d8/d41/res__pjsip__notify_8c.html#a8f5a924ac2601f69f3da5f5cd6887c2d">notify_channel</a>, v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>);</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;context&quot;</span>)) {</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;         <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(cal, notify_context, v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>);</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;extension&quot;</span>)) {</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;         <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(cal, notify_extension, v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>);</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;waittime&quot;</span>)) {</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;         <span class="keywordtype">int</span> i = atoi(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>);</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;         <span class="keywordflow">if</span> (i &gt; 0) {</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;            cal-&gt;<a class="code" href="../../d4/d1d/structast__calendar.html#abbfcf850948210e39034f73704c2eed1">notify_waittime</a> = 1000 * i;</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;         }</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;app&quot;</span>)) {</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;         <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(cal, notify_app, v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>);</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;appdata&quot;</span>)) {</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;         <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(cal, notify_appdata, v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>);</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;refresh&quot;</span>)) {</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;         cal-&gt;<a class="code" href="../../d4/d1d/structast__calendar.html#a1b89d9ee01e33efd8e2634eb2ee2e6d7">refresh</a> = atoi(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>);</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;fetch_again_at_reload&quot;</span>)) {</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;         cal-&gt;<a class="code" href="../../d4/d1d/structast__calendar.html#a7959776d7ecfb93fce36b95ec5778e19">fetch_again_at_reload</a> = <a class="code" href="../../d6/d90/strings_8h.html#a387a69b3871ca31061566a73f45d20f4">ast_true</a>(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>);</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;timeframe&quot;</span>)) {</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;         cal-&gt;<a class="code" href="../../d4/d1d/structast__calendar.html#a684e6be27b3b7514b381971d72a04128">timeframe</a> = atoi(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>);</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;setvar&quot;</span>)) {</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;         <span class="keywordtype">char</span> *<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, *<a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>;</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;         <span class="keyword">struct </span><a class="code" href="../../dd/d02/structast__variable.html">ast_variable</a> *<a class="code" href="../../dc/df2/ast__expr2f_8c.html#a1b0936415a643c88ce543099c10e0d7f">var</a>;</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;         <span class="keywordflow">if</span> ((name = (value = <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>)))) {</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;            <a class="code" href="../../de/da3/include_2asterisk_2compat_8h.html#a40eca58273c74a20a17f137d18ba826c">strsep</a>(&amp;value, <span class="stringliteral">&quot;=&quot;</span>);</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;            <span class="keywordflow">if</span> (value) {</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;               <span class="keywordflow">if</span> ((var = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a66581086d34dfe7ea86b0644bacef239">ast_variable_new</a>(<a class="code" href="../../d6/d90/strings_8h.html#ac92713b8d07a45720b2664be70810e55">ast_strip</a>(name), <a class="code" href="../../d6/d90/strings_8h.html#ac92713b8d07a45720b2664be70810e55">ast_strip</a>(value), <span class="stringliteral">&quot;&quot;</span>))) {</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;                  <span class="keywordflow">if</span> (last) {</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;                     last-&gt;<a class="code" href="../../dd/d02/structast__variable.html#afaaf66cc5029a563bd0bb9df076ea14b">next</a> = <a class="code" href="../../dc/df2/ast__expr2f_8c.html#a1b0936415a643c88ce543099c10e0d7f">var</a>;</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;                  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;                     cal-&gt;<a class="code" href="../../d4/d1d/structast__calendar.html#a134fe67053d035e763d6cf99916c1bf8">vars</a> = <a class="code" href="../../dc/df2/ast__expr2f_8c.html#a1b0936415a643c88ce543099c10e0d7f">var</a>;</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;                  }</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;                  last = <a class="code" href="../../dc/df2/ast__expr2f_8c.html#a1b0936415a643c88ce543099c10e0d7f">var</a>;</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;               }</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;            } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;               <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Malformed argument. Should be &#39;%s: variable=value&#39;\n&quot;</span>, v-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>);</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;            }</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;            <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(name);</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;         }</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;      }</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;   }</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;   <span class="keywordflow">if</span> (cal-&gt;<a class="code" href="../../d4/d1d/structast__calendar.html#a25c5d44b0e5d8a6447a6199e17d3bbbe">autoreminder</a> &amp;&amp; <a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(cal-&gt;<a class="code" href="../../d4/d1d/structast__calendar.html#a9acf7cf0321fbc2e944f794cc4a4db86">notify_channel</a>)) {</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>,</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;            <span class="stringliteral">&quot;You have set &#39;autoreminder&#39; but not &#39;channel&#39; for calendar &#39;%s.&#39; &quot;</span></div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;            <span class="stringliteral">&quot;Notifications will not occur.\n&quot;</span>,</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;            cal-&gt;<a class="code" href="../../d4/d1d/structast__calendar.html#ace9168767fc3707cf5f0a7d049682ba3">name</a>);</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;   }</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;   <span class="keywordflow">if</span> (new_calendar) {</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;      cal-&gt;<a class="code" href="../../d4/d1d/structast__calendar.html#a01f75a9ad916f63a94e06a27635ba278">thread</a> = <a class="code" href="../../dd/d42/lock_8h.html#a6009440c7a72f8e2e3b1ec97641ad160">AST_PTHREADT_NULL</a>;</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a69e9591803d36f5683eb9b084442be9b">ast_cond_init</a>(&amp;cal-&gt;<a class="code" href="../../d4/d1d/structast__calendar.html#aaaa3cb16b8a0defebb63f6d12c949df4">unload</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#a1ad9f122bcae95a470639402faa3d2ee">ao2_link</a>(<a class="code" href="../../d7/dc3/res__calendar_8c.html#ab0a23206c25ccbd53fae39c15dfe647b">calendars</a>, cal);</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d5/d60/utils_8h.html#a4781fd54a4ca8c7f0f8a32a6cce503c0">ast_pthread_create</a>(&amp;cal-&gt;<a class="code" href="../../d4/d1d/structast__calendar.html#a01f75a9ad916f63a94e06a27635ba278">thread</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, cal-&gt;<a class="code" href="../../d4/d1d/structast__calendar.html#a2202508d2b59b02becb71802e5835cbd">tech</a>-&gt;<a class="code" href="../../dd/dca/structast__calendar__tech.html#a3c2b85ddb5abaf978284a9e19070e128">load_calendar</a>, cal)) {</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;         <span class="comment">/* If we start failing to create threads, go ahead and return NULL</span></div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;<span class="comment">          * and the tech module will be unregistered</span></div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;<span class="comment">          */</span></div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;         <a class="code" href="../../d5/da5/astobj2_8h.html#a64f51be4bee35c38dbe59b0a788b5ce8">ao2_unlink</a>(<a class="code" href="../../d7/dc3/res__calendar_8c.html#ab0a23206c25ccbd53fae39c15dfe647b">calendars</a>, cal);</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;         cal = <a class="code" href="../../d7/dc3/res__calendar_8c.html#a1d3e21e2e050727f782d68652d1cc1f5">unref_calendar</a>(cal);</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;      }</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;   }</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;   <span class="keywordflow">return</span> cal;</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;}</div><div class="ttc" id="structast__variable_html_afaaf66cc5029a563bd0bb9df076ea14b"><div class="ttname"><a href="../../dd/d02/structast__variable.html#afaaf66cc5029a563bd0bb9df076ea14b">ast_variable::next</a></div><div class="ttdeci">struct ast_variable * next</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00090">include/asterisk/config.h:90</a></div></div>
<div class="ttc" id="structast__calendar_html_a7959776d7ecfb93fce36b95ec5778e19"><div class="ttname"><a href="../../d4/d1d/structast__calendar.html#a7959776d7ecfb93fce36b95ec5778e19">ast_calendar::fetch_again_at_reload</a></div><div class="ttdeci">int fetch_again_at_reload</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00132">calendar.h:132</a></div></div>
<div class="ttc" id="structast__calendar_html_aaaa3cb16b8a0defebb63f6d12c949df4"><div class="ttname"><a href="../../d4/d1d/structast__calendar.html#aaaa3cb16b8a0defebb63f6d12c949df4">ast_calendar::unload</a></div><div class="ttdeci">ast_cond_t unload</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00135">calendar.h:135</a></div></div>
<div class="ttc" id="structast__calendar_html_a2202508d2b59b02becb71802e5835cbd"><div class="ttname"><a href="../../d4/d1d/structast__calendar.html#a2202508d2b59b02becb71802e5835cbd">ast_calendar::tech</a></div><div class="ttdeci">const struct ast_calendar_tech * tech</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00118">calendar.h:118</a></div></div>
<div class="ttc" id="res__calendar_8c_html_ab0a23206c25ccbd53fae39c15dfe647b"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#ab0a23206c25ccbd53fae39c15dfe647b">calendars</a></div><div class="ttdeci">static struct ao2_container * calendars</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l00222">res_calendar.c:222</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_aef636ed2f3d33f4c7a1ba67eb7c4d052"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#aef636ed2f3d33f4c7a1ba67eb7c4d052">ast_variable_browse</a></div><div class="ttdeci">struct ast_variable * ast_variable_browse(const struct ast_config *config, const char *category_name)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc5/extconf_8c_source.html#l01216">extconf.c:1216</a></div></div>
<div class="ttc" id="structast__calendar_html_a134fe67053d035e763d6cf99916c1bf8"><div class="ttname"><a href="../../d4/d1d/structast__calendar.html#a134fe67053d035e763d6cf99916c1bf8">ast_calendar::vars</a></div><div class="ttdeci">struct ast_variable * vars</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00128">calendar.h:128</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="structast__calendar_html_a1b89d9ee01e33efd8e2634eb2ee2e6d7"><div class="ttname"><a href="../../d4/d1d/structast__calendar.html#a1b89d9ee01e33efd8e2634eb2ee2e6d7">ast_calendar::refresh</a></div><div class="ttdeci">int refresh</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00131">calendar.h:131</a></div></div>
<div class="ttc" id="res__calendar_8c_html_af2623a75bbe6c1c6ff6a744b032b2599"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#af2623a75bbe6c1c6ff6a744b032b2599">find_calendar</a></div><div class="ttdeci">static struct ast_calendar * find_calendar(const char *name)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l00293">res_calendar.c:293</a></div></div>
<div class="ttc" id="structast__variable_html"><div class="ttname"><a href="../../dd/d02/structast__variable.html">ast_variable</a></div><div class="ttdoc">Structure for variables, used for configurations and for channel variables. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00083">include/asterisk/config.h:83</a></div></div>
<div class="ttc" id="ast__expr2f_8c_html_a1b0936415a643c88ce543099c10e0d7f"><div class="ttname"><a href="../../dc/df2/ast__expr2f_8c.html#a1b0936415a643c88ce543099c10e0d7f">var</a></div><div class="ttdeci">#define var</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/ast__expr2f_8c_source.html#l00614">ast_expr2f.c:614</a></div></div>
<div class="ttc" id="res__calendar_8c_html_a6f60d907cd8f8e2129346d66c78026e6"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#a6f60d907cd8f8e2129346d66c78026e6">event_hash_fn</a></div><div class="ttdeci">static int event_hash_fn(const void *obj, const int flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l00301">res_calendar.c:301</a></div></div>
<div class="ttc" id="lock_8h_html_a69e9591803d36f5683eb9b084442be9b"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a69e9591803d36f5683eb9b084442be9b">ast_cond_init</a></div><div class="ttdeci">#define ast_cond_init(cond, attr)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00199">lock.h:199</a></div></div>
<div class="ttc" id="structast__calendar_html_abbfcf850948210e39034f73704c2eed1"><div class="ttname"><a href="../../d4/d1d/structast__calendar.html#abbfcf850948210e39034f73704c2eed1">ast_calendar::notify_waittime</a></div><div class="ttdeci">int notify_waittime</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00130">calendar.h:130</a></div></div>
<div class="ttc" id="astmm_8h_html_ab263849d03fb892847be4986db759737"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a></div><div class="ttdeci">#define ast_strdup(str)</div><div class="ttdoc">A wrapper for strdup() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00243">astmm.h:243</a></div></div>
<div class="ttc" id="structast__calendar_html_a684e6be27b3b7514b381971d72a04128"><div class="ttname"><a href="../../d4/d1d/structast__calendar.html#a684e6be27b3b7514b381971d72a04128">ast_calendar::timeframe</a></div><div class="ttdeci">int timeframe</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00133">calendar.h:133</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="syslog_8c_html_ac4f474c82e82cbb89ca7c36dd52be0ed"><div class="ttname"><a href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a></div><div class="ttdeci">int value</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d2f/syslog_8c_source.html#l00037">syslog.c:37</a></div></div>
<div class="ttc" id="res__calendar_8c_html_a806d9b20f62bae39bd345388e8685040"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#a806d9b20f62bae39bd345388e8685040">CALENDAR_BUCKETS</a></div><div class="ttdeci">#define CALENDAR_BUCKETS</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l00220">res_calendar.c:220</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="structast__variable_html_a8556878012feffc9e0beb86cd78f424d"><div class="ttname"><a href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">ast_variable::value</a></div><div class="ttdeci">const char * value</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00087">include/asterisk/config.h:87</a></div></div>
<div class="ttc" id="stringfields_8h_html_a871274fa4fd2687c7a44849a84df3665"><div class="ttname"><a href="../../d1/d0f/stringfields_8h.html#a871274fa4fd2687c7a44849a84df3665">ast_string_field_init</a></div><div class="ttdeci">#define ast_string_field_init(x, size)</div><div class="ttdoc">Initialize a field pool and fields. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d0f/stringfields_8h_source.html#l00353">stringfields.h:353</a></div></div>
<div class="ttc" id="lock_8h_html_a6009440c7a72f8e2e3b1ec97641ad160"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a6009440c7a72f8e2e3b1ec97641ad160">AST_PTHREADT_NULL</a></div><div class="ttdeci">#define AST_PTHREADT_NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00066">lock.h:66</a></div></div>
<div class="ttc" id="app__meetme_8c_html_ae9dd6bdb4c5c0529195a03583d0d4a8d"><div class="ttname"><a href="../../df/d44/app__meetme_8c.html#ae9dd6bdb4c5c0529195a03583d0d4a8d">last</a></div><div class="ttdeci">struct sla_ringing_trunk * last</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d44/app__meetme_8c_source.html#l01092">app_meetme.c:1092</a></div></div>
<div class="ttc" id="strings_8h_html_ac92713b8d07a45720b2664be70810e55"><div class="ttname"><a href="../../d6/d90/strings_8h.html#ac92713b8d07a45720b2664be70810e55">ast_strip</a></div><div class="ttdeci">char * ast_strip(char *s)</div><div class="ttdoc">Strip leading/trailing whitespace from a string. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00219">strings.h:219</a></div></div>
<div class="ttc" id="structast__variable_html_a8f8f80d37794cde9472343e4487ba3eb"><div class="ttname"><a href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">ast_variable::name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00085">include/asterisk/config.h:85</a></div></div>
<div class="ttc" id="res__calendar_8c_html_a3ef80a10cf17de51a67639f0e8e220cf"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#a3ef80a10cf17de51a67639f0e8e220cf">calendar_destructor</a></div><div class="ttdeci">static void calendar_destructor(void *obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l00327">res_calendar.c:327</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a66581086d34dfe7ea86b0644bacef239"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a66581086d34dfe7ea86b0644bacef239">ast_variable_new</a></div><div class="ttdeci">#define ast_variable_new(name, value, filename)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00914">include/asterisk/config.h:914</a></div></div>
<div class="ttc" id="astobj2_8h_html_a2cf7e3433f08351aafe3b0cd31edf7f8a8ccf751bd6749d062999469f0694e7ad"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a2cf7e3433f08351aafe3b0cd31edf7f8a8ccf751bd6749d062999469f0694e7ad">AO2_ALLOC_OPT_LOCK_MUTEX</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00365">astobj2.h:365</a></div></div>
<div class="ttc" id="structast__calendar_html_ace9168767fc3707cf5f0a7d049682ba3"><div class="ttname"><a href="../../d4/d1d/structast__calendar.html#ace9168767fc3707cf5f0a7d049682ba3">ast_calendar::name</a></div><div class="ttdeci">const ast_string_field name</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00127">calendar.h:127</a></div></div>
<div class="ttc" id="structast__calendar_html_a68cfdbd3a90ed1f8b0486a13b65bd244"><div class="ttname"><a href="../../d4/d1d/structast__calendar.html#a68cfdbd3a90ed1f8b0486a13b65bd244">ast_calendar::events</a></div><div class="ttdeci">struct ao2_container * events</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00138">calendar.h:138</a></div></div>
<div class="ttc" id="structast__calendar_html_a01f75a9ad916f63a94e06a27635ba278"><div class="ttname"><a href="../../d4/d1d/structast__calendar.html#a01f75a9ad916f63a94e06a27635ba278">ast_calendar::thread</a></div><div class="ttdeci">pthread_t thread</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00134">calendar.h:134</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="astobj2_8h_html_aefc16f8aa9087cbc5c55c70cf1dd41b2"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aefc16f8aa9087cbc5c55c70cf1dd41b2">ao2_container_alloc_hash</a></div><div class="ttdeci">#define ao2_container_alloc_hash(ao2_options, container_options, n_buckets, hash_fn, sort_fn, cmp_fn)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01310">astobj2.h:1310</a></div></div>
<div class="ttc" id="strings_8h_html_a387a69b3871ca31061566a73f45d20f4"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a387a69b3871ca31061566a73f45d20f4">ast_true</a></div><div class="ttdeci">int attribute_pure ast_true(const char *val)</div><div class="ttdoc">Make sure something is true. Determine if a string containing a boolean value is &quot;true&quot;. This function checks to see whether a string passed to it is an indication of an &quot;true&quot; value. It checks to see if the string is &quot;yes&quot;, &quot;true&quot;, &quot;y&quot;, &quot;t&quot;, &quot;on&quot; or &quot;1&quot;. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1f/main_2utils_8c_source.html#l01951">main/utils.c:1951</a></div></div>
<div class="ttc" id="astobj2_8h_html_a64f51be4bee35c38dbe59b0a788b5ce8"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a64f51be4bee35c38dbe59b0a788b5ce8">ao2_unlink</a></div><div class="ttdeci">#define ao2_unlink(container, obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01598">astobj2.h:1598</a></div></div>
<div class="ttc" id="res__calendar_8c_html_a1d3e21e2e050727f782d68652d1cc1f5"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#a1d3e21e2e050727f782d68652d1cc1f5">unref_calendar</a></div><div class="ttdeci">static struct ast_calendar * unref_calendar(struct ast_calendar *cal)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l00275">res_calendar.c:275</a></div></div>
<div class="ttc" id="astobj2_8h_html_ae0422b60d8e25b6962b2d61ae4ddf724"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ae0422b60d8e25b6962b2d61ae4ddf724">ao2_alloc</a></div><div class="ttdeci">#define ao2_alloc(data_size, destructor_fn)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00411">astobj2.h:411</a></div></div>
<div class="ttc" id="structast__calendar__tech_html_a3c2b85ddb5abaf978284a9e19070e128"><div class="ttname"><a href="../../dd/dca/structast__calendar__tech.html#a3c2b85ddb5abaf978284a9e19070e128">ast_calendar_tech::load_calendar</a></div><div class="ttdeci">void *(* load_calendar)(void *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00075">calendar.h:75</a></div></div>
<div class="ttc" id="cdr__mysql_8c_html_a0980a105ccb863d8008eb6201a51da52"><div class="ttname"><a href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a></div><div class="ttdeci">static const char name[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/cdr__mysql_8c_source.html#l00074">cdr_mysql.c:74</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="utils_8h_html_a4781fd54a4ca8c7f0f8a32a6cce503c0"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a4781fd54a4ca8c7f0f8a32a6cce503c0">ast_pthread_create</a></div><div class="ttdeci">#define ast_pthread_create(a, b, c, d)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00559">utils.h:559</a></div></div>
<div class="ttc" id="res__calendar_8c_html_ad43766b2604b55f7591d5e8fc4a2da46"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#ad43766b2604b55f7591d5e8fc4a2da46">event_cmp_fn</a></div><div class="ttdeci">static int event_cmp_fn(void *obj, void *arg, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l00307">res_calendar.c:307</a></div></div>
<div class="ttc" id="structast__calendar_html_a99b9610b16c3c0b56c364b98c9d20d35"><div class="ttname"><a href="../../d4/d1d/structast__calendar.html#a99b9610b16c3c0b56c364b98c9d20d35">ast_calendar::pending_deletion</a></div><div class="ttdeci">unsigned int pending_deletion</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00137">calendar.h:137</a></div></div>
<div class="ttc" id="include_2asterisk_2compat_8h_html_a40eca58273c74a20a17f137d18ba826c"><div class="ttname"><a href="../../de/da3/include_2asterisk_2compat_8h.html#a40eca58273c74a20a17f137d18ba826c">strsep</a></div><div class="ttdeci">char * strsep(char **str, const char *delims)</div></div>
<div class="ttc" id="res__pjsip__notify_8c_html_a8f5a924ac2601f69f3da5f5cd6887c2d"><div class="ttname"><a href="../../d8/d41/res__pjsip__notify_8c.html#a8f5a924ac2601f69f3da5f5cd6887c2d">notify_channel</a></div><div class="ttdeci">static int notify_channel(void *obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d41/res__pjsip__notify_8c_source.html#l00751">res_pjsip_notify.c:751</a></div></div>
<div class="ttc" id="structast__calendar_html"><div class="ttname"><a href="../../d4/d1d/structast__calendar.html">ast_calendar</a></div><div class="ttdoc">Asterisk calendar structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00117">calendar.h:117</a></div></div>
<div class="ttc" id="structast__calendar_html_a25c5d44b0e5d8a6447a6199e17d3bbbe"><div class="ttname"><a href="../../d4/d1d/structast__calendar.html#a25c5d44b0e5d8a6447a6199e17d3bbbe">ast_calendar::autoreminder</a></div><div class="ttdeci">int autoreminder</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00129">calendar.h:129</a></div></div>
<div class="ttc" id="structast__calendar_html_a9acf7cf0321fbc2e944f794cc4a4db86"><div class="ttname"><a href="../../d4/d1d/structast__calendar.html#a9acf7cf0321fbc2e944f794cc4a4db86">ast_calendar::notify_channel</a></div><div class="ttdeci">const ast_string_field notify_channel</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00127">calendar.h:127</a></div></div>
<div class="ttc" id="stringfields_8h_html_a653461abd6e0d16e4e3326ab90e0501d"><div class="ttname"><a href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a></div><div class="ttdeci">#define ast_string_field_set(x, field, data)</div><div class="ttdoc">Set a field to a simple string value. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d0f/stringfields_8h_source.html#l00514">stringfields.h:514</a></div></div>
<div class="ttc" id="astobj2_8h_html_a1ad9f122bcae95a470639402faa3d2ee"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a1ad9f122bcae95a470639402faa3d2ee">ao2_link</a></div><div class="ttdeci">#define ao2_link(container, obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01549">astobj2.h:1549</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aebfa8516160445f77bed1376ff2a89ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aebfa8516160445f77bed1376ff2a89ba">&#9670;&nbsp;</a></span>calendar_busy_callback()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int calendar_busy_callback </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00358">358</a> of file <a class="el" href="../../d7/dc3/res__calendar_8c_source.html">res_calendar.c</a>.</p>

<p class="reference">References <a class="el" href="../../da/d4a/calendar_8h_source.html#l00082">AST_CALENDAR_BS_FREE</a>, <a class="el" href="../../de/df7/time_8h_source.html#l00150">ast_tvnow()</a>, and <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01032">CMP_STOP</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00372">calendar_is_busy()</a>.</p>
<div class="fragment"><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;{</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/d64/structast__calendar__event.html">ast_calendar_event</a> *<span class="keyword">event</span> = obj;</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;   <span class="keywordtype">int</span> *is_busy = arg;</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;   <span class="keyword">struct </span>timeval tv = <a class="code" href="../../de/df7/time_8h.html#ad3899efb6f0e348556ef69f5b16aa7f7">ast_tvnow</a>();</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;   <span class="keywordflow">if</span> (tv.tv_sec &gt;= <a class="code" href="../../df/d7d/structevent.html">event</a>-&gt;start &amp;&amp; tv.tv_sec &lt;= <a class="code" href="../../df/d7d/structevent.html">event</a>-&gt;end &amp;&amp; <a class="code" href="../../df/d7d/structevent.html">event</a>-&gt;busy_state &gt; <a class="code" href="../../da/d4a/calendar_8h.html#a4bfbd173aa201cfc7997230ab6727ac4a0bd18f7b2274a2d1e677c630cbad0a48">AST_CALENDAR_BS_FREE</a>) {</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;      *is_busy = 1;</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d5/da5/astobj2_8h.html#a1f8b41308be4c47de8ff89a3b9c7e7d1a75382dc9117cc118719edf6c3d2b71df">CMP_STOP</a>;</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;   }</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;}</div><div class="ttc" id="structevent_html"><div class="ttname"><a href="../../df/d7d/structevent.html">event</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d4d/astman_8c_source.html#l00222">astman.c:222</a></div></div>
<div class="ttc" id="time_8h_html_ad3899efb6f0e348556ef69f5b16aa7f7"><div class="ttname"><a href="../../de/df7/time_8h.html#ad3899efb6f0e348556ef69f5b16aa7f7">ast_tvnow</a></div><div class="ttdeci">struct timeval ast_tvnow(void)</div><div class="ttdoc">Returns current timeval. Meant to replace calls to gettimeofday(). </div><div class="ttdef"><b>Definition:</b> <a href="../../de/df7/time_8h_source.html#l00150">time.h:150</a></div></div>
<div class="ttc" id="astobj2_8h_html_a1f8b41308be4c47de8ff89a3b9c7e7d1a75382dc9117cc118719edf6c3d2b71df"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a1f8b41308be4c47de8ff89a3b9c7e7d1a75382dc9117cc118719edf6c3d2b71df">CMP_STOP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01032">astobj2.h:1032</a></div></div>
<div class="ttc" id="calendar_8h_html_a4bfbd173aa201cfc7997230ab6727ac4a0bd18f7b2274a2d1e677c630cbad0a48"><div class="ttname"><a href="../../da/d4a/calendar_8h.html#a4bfbd173aa201cfc7997230ab6727ac4a0bd18f7b2274a2d1e677c630cbad0a48">AST_CALENDAR_BS_FREE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00082">calendar.h:82</a></div></div>
<div class="ttc" id="structast__calendar__event_html"><div class="ttname"><a href="../../dc/d64/structast__calendar__event.html">ast_calendar_event</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00093">calendar.h:93</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aef76fa94bcee828d52142c3e5fb89d47"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aef76fa94bcee828d52142c3e5fb89d47">&#9670;&nbsp;</a></span>calendar_busy_exec()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int calendar_busy_exec </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>A dialplan function that can be used to determine the busy status of a calendar. </p>

<p class="definition">Definition at line <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l01092">1092</a> of file <a class="el" href="../../d7/dc3/res__calendar_8c_source.html">res_calendar.c</a>.</p>

<p class="reference">References <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00372">calendar_is_busy()</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00293">find_calendar()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, and <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00275">unref_calendar()</a>.</p>
<div class="fragment"><div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;{</div><div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d1d/structast__calendar.html">ast_calendar</a> *cal;</div><div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;</div><div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(data)) {</div><div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;CALENDAR_BUSY requires an argument: CALENDAR_BUSY(&lt;calendar_name&gt;)\n&quot;</span>);</div><div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;   }</div><div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;</div><div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;   cal = <a class="code" href="../../d7/dc3/res__calendar_8c.html#af2623a75bbe6c1c6ff6a744b032b2599">find_calendar</a>(data);</div><div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;</div><div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;   <span class="keywordflow">if</span> (!cal) {</div><div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Could not find calendar &#39;%s&#39;\n&quot;</span>, data);</div><div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;   }</div><div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;</div><div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;   strcpy(<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, <a class="code" href="../../d7/dc3/res__calendar_8c.html#a7f475f91c6878f3033e4c1379311a220">calendar_is_busy</a>(cal) ? <span class="stringliteral">&quot;1&quot;</span> : <span class="stringliteral">&quot;0&quot;</span>);</div><div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;   cal = <a class="code" href="../../d7/dc3/res__calendar_8c.html#a1d3e21e2e050727f782d68652d1cc1f5">unref_calendar</a>(cal);</div><div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;</div><div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;}</div><div class="ttc" id="eagi__proxy_8c_html_ac95651d79c608a3148973b5b1fc9e525"><div class="ttname"><a href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a></div><div class="ttdeci">char buf[BUFSIZE]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">eagi_proxy.c:66</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="res__calendar_8c_html_af2623a75bbe6c1c6ff6a744b032b2599"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#af2623a75bbe6c1c6ff6a744b032b2599">find_calendar</a></div><div class="ttdeci">static struct ast_calendar * find_calendar(const char *name)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l00293">res_calendar.c:293</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="res__calendar_8c_html_a1d3e21e2e050727f782d68652d1cc1f5"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#a1d3e21e2e050727f782d68652d1cc1f5">unref_calendar</a></div><div class="ttdeci">static struct ast_calendar * unref_calendar(struct ast_calendar *cal)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l00275">res_calendar.c:275</a></div></div>
<div class="ttc" id="res__calendar_8c_html_a7f475f91c6878f3033e4c1379311a220"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#a7f475f91c6878f3033e4c1379311a220">calendar_is_busy</a></div><div class="ttdeci">static int calendar_is_busy(struct ast_calendar *cal)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l00372">res_calendar.c:372</a></div></div>
<div class="ttc" id="structast__calendar_html"><div class="ttname"><a href="../../d4/d1d/structast__calendar.html">ast_calendar</a></div><div class="ttdoc">Asterisk calendar structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00117">calendar.h:117</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="abd30c53e490dc65fff18dd68b5645e78"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abd30c53e490dc65fff18dd68b5645e78">&#9670;&nbsp;</a></span>calendar_cmp_fn()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int calendar_cmp_fn </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00287">287</a> of file <a class="el" href="../../d7/dc3/res__calendar_8c_source.html">res_calendar.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01031">CMP_MATCH</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01032">CMP_STOP</a>, and <a class="el" href="../../da/d4a/calendar_8h_source.html#l00127">ast_calendar::name</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l01900">load_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;{</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;   <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="../../d4/d1d/structast__calendar.html">ast_calendar</a> *one = obj, *two = arg;</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;   <span class="keywordflow">return</span> !strcasecmp(one-&gt;<a class="code" href="../../d4/d1d/structast__calendar.html#ace9168767fc3707cf5f0a7d049682ba3">name</a>, two-&gt;name) ? <a class="code" href="../../d5/da5/astobj2_8h.html#a1f8b41308be4c47de8ff89a3b9c7e7d1a1959468a3c5d6aecd2fa1272d8e30fbf">CMP_MATCH</a> | <a class="code" href="../../d5/da5/astobj2_8h.html#a1f8b41308be4c47de8ff89a3b9c7e7d1a75382dc9117cc118719edf6c3d2b71df">CMP_STOP</a>: 0;</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;}</div><div class="ttc" id="astobj2_8h_html_a1f8b41308be4c47de8ff89a3b9c7e7d1a75382dc9117cc118719edf6c3d2b71df"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a1f8b41308be4c47de8ff89a3b9c7e7d1a75382dc9117cc118719edf6c3d2b71df">CMP_STOP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01032">astobj2.h:1032</a></div></div>
<div class="ttc" id="astobj2_8h_html_a1f8b41308be4c47de8ff89a3b9c7e7d1a1959468a3c5d6aecd2fa1272d8e30fbf"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a1f8b41308be4c47de8ff89a3b9c7e7d1a1959468a3c5d6aecd2fa1272d8e30fbf">CMP_MATCH</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01031">astobj2.h:1031</a></div></div>
<div class="ttc" id="structast__calendar_html_ace9168767fc3707cf5f0a7d049682ba3"><div class="ttname"><a href="../../d4/d1d/structast__calendar.html#ace9168767fc3707cf5f0a7d049682ba3">ast_calendar::name</a></div><div class="ttdeci">const ast_string_field name</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00127">calendar.h:127</a></div></div>
<div class="ttc" id="structast__calendar_html"><div class="ttname"><a href="../../d4/d1d/structast__calendar.html">ast_calendar</a></div><div class="ttdoc">Asterisk calendar structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00117">calendar.h:117</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3ef80a10cf17de51a67639f0e8e220cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3ef80a10cf17de51a67639f0e8e220cf">&#9670;&nbsp;</a></span>calendar_destructor()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void calendar_destructor </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>obj</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00327">327</a> of file <a class="el" href="../../d7/dc3/res__calendar_8c_source.html">res_calendar.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00718">ao2_lock</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00730">ao2_unlock</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00660">ast_calendar_clear_events()</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00201">ast_cond_signal</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../d1/d0f/stringfields_8h_source.html#l00368">ast_string_field_free_memory</a>, <a class="el" href="../../d4/dc5/extconf_8c_source.html#l01263">ast_variables_destroy()</a>, <a class="el" href="../../da/d4a/calendar_8h_source.html#l00138">ast_calendar::events</a>, <a class="el" href="../../da/d4a/calendar_8h_source.html#l00127">ast_calendar::name</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../da/d4a/calendar_8h_source.html#l00118">ast_calendar::tech</a>, <a class="el" href="../../da/d4a/calendar_8h_source.html#l00119">ast_calendar::tech_pvt</a>, <a class="el" href="../../da/d4a/calendar_8h_source.html#l00134">ast_calendar::thread</a>, <a class="el" href="../../da/d4a/calendar_8h_source.html#l00135">ast_calendar::unload</a>, <a class="el" href="../../da/d4a/calendar_8h_source.html#l00136">ast_calendar::unloading</a>, <a class="el" href="../../da/d4a/calendar_8h_source.html#l00076">ast_calendar_tech::unref_calendar</a>, and <a class="el" href="../../da/d4a/calendar_8h_source.html#l00128">ast_calendar::vars</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00400">build_calendar()</a>.</p>
<div class="fragment"><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;{</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d1d/structast__calendar.html">ast_calendar</a> *cal = obj;</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(3, <span class="stringliteral">&quot;Destroying calendar %s\n&quot;</span>, cal-&gt;<a class="code" href="../../d4/d1d/structast__calendar.html#ace9168767fc3707cf5f0a7d049682ba3">name</a>);</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aa9fdb5d0a6157a56060d9f7279fe6c49">ao2_lock</a>(cal);</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;   cal-&gt;<a class="code" href="../../d4/d1d/structast__calendar.html#ac120ddf1b620cad55466e8f8d7fff5f8">unloading</a> = 1;</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#ae2cdf274a5da241c3ad7324d82bf6af0">ast_cond_signal</a>(&amp;cal-&gt;<a class="code" href="../../d4/d1d/structast__calendar.html#aaaa3cb16b8a0defebb63f6d12c949df4">unload</a>);</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;   pthread_join(cal-&gt;<a class="code" href="../../d4/d1d/structast__calendar.html#a01f75a9ad916f63a94e06a27635ba278">thread</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;   <span class="keywordflow">if</span> (cal-&gt;<a class="code" href="../../d4/d1d/structast__calendar.html#a19aa04db5508cf9496602e694dc69e2f">tech_pvt</a>) {</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;      cal-&gt;<a class="code" href="../../d4/d1d/structast__calendar.html#a19aa04db5508cf9496602e694dc69e2f">tech_pvt</a> = cal-&gt;<a class="code" href="../../d4/d1d/structast__calendar.html#a2202508d2b59b02becb71802e5835cbd">tech</a>-&gt;<a class="code" href="../../dd/dca/structast__calendar__tech.html#a8d05a26291d4cd47e6d2c5b4f62dd6fa">unref_calendar</a>(cal-&gt;<a class="code" href="../../d4/d1d/structast__calendar.html#a19aa04db5508cf9496602e694dc69e2f">tech_pvt</a>);</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;   }</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;   <a class="code" href="../../d7/dc3/res__calendar_8c.html#a7155b9d04f427720ab933725f52c27d1">ast_calendar_clear_events</a>(cal);</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;   <a class="code" href="../../d1/d0f/stringfields_8h.html#abf60f862ae6a141d2f86a0f5e82792de">ast_string_field_free_memory</a>(cal);</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;   <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#adea5390496e5477192d86f340d512d04">ast_variables_destroy</a>(cal-&gt;<a class="code" href="../../d4/d1d/structast__calendar.html#a134fe67053d035e763d6cf99916c1bf8">vars</a>);</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(cal-&gt;<a class="code" href="../../d4/d1d/structast__calendar.html#a68cfdbd3a90ed1f8b0486a13b65bd244">events</a>, -1);</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a>(cal);</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;}</div><div class="ttc" id="structast__calendar_html_aaaa3cb16b8a0defebb63f6d12c949df4"><div class="ttname"><a href="../../d4/d1d/structast__calendar.html#aaaa3cb16b8a0defebb63f6d12c949df4">ast_calendar::unload</a></div><div class="ttdeci">ast_cond_t unload</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00135">calendar.h:135</a></div></div>
<div class="ttc" id="structast__calendar_html_ac120ddf1b620cad55466e8f8d7fff5f8"><div class="ttname"><a href="../../d4/d1d/structast__calendar.html#ac120ddf1b620cad55466e8f8d7fff5f8">ast_calendar::unloading</a></div><div class="ttdeci">unsigned int unloading</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00136">calendar.h:136</a></div></div>
<div class="ttc" id="structast__calendar_html_a2202508d2b59b02becb71802e5835cbd"><div class="ttname"><a href="../../d4/d1d/structast__calendar.html#a2202508d2b59b02becb71802e5835cbd">ast_calendar::tech</a></div><div class="ttdeci">const struct ast_calendar_tech * tech</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00118">calendar.h:118</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_adea5390496e5477192d86f340d512d04"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#adea5390496e5477192d86f340d512d04">ast_variables_destroy</a></div><div class="ttdeci">void ast_variables_destroy(struct ast_variable *var)</div><div class="ttdoc">Free variable list. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc5/extconf_8c_source.html#l01263">extconf.c:1263</a></div></div>
<div class="ttc" id="structast__calendar_html_a134fe67053d035e763d6cf99916c1bf8"><div class="ttname"><a href="../../d4/d1d/structast__calendar.html#a134fe67053d035e763d6cf99916c1bf8">ast_calendar::vars</a></div><div class="ttdeci">struct ast_variable * vars</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00128">calendar.h:128</a></div></div>
<div class="ttc" id="astobj2_8h_html_a9998bd156b936636a8780385e9a910b2"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a></div><div class="ttdeci">#define ao2_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00730">astobj2.h:730</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="lock_8h_html_ae2cdf274a5da241c3ad7324d82bf6af0"><div class="ttname"><a href="../../dd/d42/lock_8h.html#ae2cdf274a5da241c3ad7324d82bf6af0">ast_cond_signal</a></div><div class="ttdeci">#define ast_cond_signal(cond)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00201">lock.h:201</a></div></div>
<div class="ttc" id="structast__calendar_html_a19aa04db5508cf9496602e694dc69e2f"><div class="ttname"><a href="../../d4/d1d/structast__calendar.html#a19aa04db5508cf9496602e694dc69e2f">ast_calendar::tech_pvt</a></div><div class="ttdeci">void * tech_pvt</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00119">calendar.h:119</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="structast__calendar__tech_html_a8d05a26291d4cd47e6d2c5b4f62dd6fa"><div class="ttname"><a href="../../dd/dca/structast__calendar__tech.html#a8d05a26291d4cd47e6d2c5b4f62dd6fa">ast_calendar_tech::unref_calendar</a></div><div class="ttdeci">void *(* unref_calendar)(void *obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00076">calendar.h:76</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="astobj2_8h_html_aa9fdb5d0a6157a56060d9f7279fe6c49"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aa9fdb5d0a6157a56060d9f7279fe6c49">ao2_lock</a></div><div class="ttdeci">#define ao2_lock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00718">astobj2.h:718</a></div></div>
<div class="ttc" id="structast__calendar_html_ace9168767fc3707cf5f0a7d049682ba3"><div class="ttname"><a href="../../d4/d1d/structast__calendar.html#ace9168767fc3707cf5f0a7d049682ba3">ast_calendar::name</a></div><div class="ttdeci">const ast_string_field name</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00127">calendar.h:127</a></div></div>
<div class="ttc" id="structast__calendar_html_a68cfdbd3a90ed1f8b0486a13b65bd244"><div class="ttname"><a href="../../d4/d1d/structast__calendar.html#a68cfdbd3a90ed1f8b0486a13b65bd244">ast_calendar::events</a></div><div class="ttdeci">struct ao2_container * events</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00138">calendar.h:138</a></div></div>
<div class="ttc" id="structast__calendar_html_a01f75a9ad916f63a94e06a27635ba278"><div class="ttname"><a href="../../d4/d1d/structast__calendar.html#a01f75a9ad916f63a94e06a27635ba278">ast_calendar::thread</a></div><div class="ttdeci">pthread_t thread</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00134">calendar.h:134</a></div></div>
<div class="ttc" id="structast__calendar_html"><div class="ttname"><a href="../../d4/d1d/structast__calendar.html">ast_calendar</a></div><div class="ttdoc">Asterisk calendar structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00117">calendar.h:117</a></div></div>
<div class="ttc" id="res__calendar_8c_html_a7155b9d04f427720ab933725f52c27d1"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#a7155b9d04f427720ab933725f52c27d1">ast_calendar_clear_events</a></div><div class="ttdeci">void ast_calendar_clear_events(struct ast_calendar *cal)</div><div class="ttdoc">Remove all events from calendar. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l00660">res_calendar.c:660</a></div></div>
<div class="ttc" id="stringfields_8h_html_abf60f862ae6a141d2f86a0f5e82792de"><div class="ttname"><a href="../../d1/d0f/stringfields_8h.html#abf60f862ae6a141d2f86a0f5e82792de">ast_string_field_free_memory</a></div><div class="ttdeci">#define ast_string_field_free_memory(x)</div><div class="ttdoc">free all memory - to be called before destroying the object </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d0f/stringfields_8h_source.html#l00368">stringfields.h:368</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a7b0b3690c3fc05a33ad19e2c68e7688b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b0b3690c3fc05a33ad19e2c68e7688b">&#9670;&nbsp;</a></span>calendar_devstate_change()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int calendar_devstate_change </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00892">892</a> of file <a class="el" href="../../d7/dc3/res__calendar_8c_source.html">res_calendar.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00321">ast_calendar_unref_event()</a>, <a class="el" href="../../da/da2/devicestate_8h_source.html#l00056">AST_DEVICE_BUSY</a>, <a class="el" href="../../da/da2/devicestate_8h_source.html#l00054">AST_DEVICE_NOT_INUSE</a>, <a class="el" href="../../da/da2/devicestate_8h_source.html#l00070">AST_DEVSTATE_CACHABLE</a>, <a class="el" href="../../d1/d80/devicestate_8c_source.html#l00510">ast_devstate_changed()</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../de/df7/time_8h_source.html#l00150">ast_tvnow()</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00372">calendar_is_busy()</a>, and <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00954">schedule_calendar_event()</a>.</p>
<div class="fragment"><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;{</div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/d64/structast__calendar__event.html">ast_calendar_event</a> *<span class="keyword">event</span> = (<span class="keyword">struct </span><a class="code" href="../../dc/d64/structast__calendar__event.html">ast_calendar_event</a> *)data;</div><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;   <span class="keyword">struct </span>timeval now = <a class="code" href="../../de/df7/time_8h.html#ad3899efb6f0e348556ef69f5b16aa7f7">ast_tvnow</a>();</div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;   <span class="keywordtype">int</span> is_end_event;</div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;</div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../df/d7d/structevent.html">event</a>) {</div><div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Event was NULL!\n&quot;</span>);</div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;   }</div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;</div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(<a class="code" href="../../df/d7d/structevent.html">event</a>, +1);</div><div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;</div><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;   is_end_event = <span class="keyword">event</span>-&gt;end &lt;= now.tv_sec;</div><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;</div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;   <span class="keywordflow">if</span> (is_end_event) {</div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;      <span class="keyword">event</span>-&gt;bs_end_sched = -1;</div><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;      <span class="keyword">event</span>-&gt;bs_start_sched = -1;</div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;   }</div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;</div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;   <span class="comment">/* We can have overlapping events, so ignore the event-&gt;busy_state and check busy state</span></div><div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;<span class="comment">    * based on all events in the calendar */</span></div><div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d7/dc3/res__calendar_8c.html#a7f475f91c6878f3033e4c1379311a220">calendar_is_busy</a>(<a class="code" href="../../df/d7d/structevent.html">event</a>-&gt;owner)) {</div><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;      <a class="code" href="../../da/da2/devicestate_8h.html#a62a8e6bc4b82dd797e505688f9f29bff">ast_devstate_changed</a>(<a class="code" href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eeeadee91fc4886ffc7b4efb8459cef48fe2">AST_DEVICE_NOT_INUSE</a>, <a class="code" href="../../da/da2/devicestate_8h.html#a26cbac580d3e86b529f90058f6e91ac7a3683b746ab070a6455934b5d24dbd779">AST_DEVSTATE_CACHABLE</a>, <span class="stringliteral">&quot;Calendar:%s&quot;</span>, <a class="code" href="../../df/d7d/structevent.html">event</a>-&gt;owner-&gt;name);</div><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;      <a class="code" href="../../da/da2/devicestate_8h.html#a62a8e6bc4b82dd797e505688f9f29bff">ast_devstate_changed</a>(<a class="code" href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eeeab43afabf5bcd4ad1f531ad78c48ccb6f">AST_DEVICE_BUSY</a>, <a class="code" href="../../da/da2/devicestate_8h.html#a26cbac580d3e86b529f90058f6e91ac7a3683b746ab070a6455934b5d24dbd779">AST_DEVSTATE_CACHABLE</a>, <span class="stringliteral">&quot;Calendar:%s&quot;</span>, <a class="code" href="../../df/d7d/structevent.html">event</a>-&gt;owner-&gt;name);</div><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;   }</div><div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;</div><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;   <span class="keyword">event</span> = <a class="code" href="../../d7/dc3/res__calendar_8c.html#a0b71ae1b1392b6095a17737375eb7671">ast_calendar_unref_event</a>(<a class="code" href="../../df/d7d/structevent.html">event</a>);</div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;</div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;}</div><div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="structevent_html"><div class="ttname"><a href="../../df/d7d/structevent.html">event</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d4d/astman_8c_source.html#l00222">astman.c:222</a></div></div>
<div class="ttc" id="time_8h_html_ad3899efb6f0e348556ef69f5b16aa7f7"><div class="ttname"><a href="../../de/df7/time_8h.html#ad3899efb6f0e348556ef69f5b16aa7f7">ast_tvnow</a></div><div class="ttdeci">struct timeval ast_tvnow(void)</div><div class="ttdoc">Returns current timeval. Meant to replace calls to gettimeofday(). </div><div class="ttdef"><b>Definition:</b> <a href="../../de/df7/time_8h_source.html#l00150">time.h:150</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="devicestate_8h_html_a62a8e6bc4b82dd797e505688f9f29bff"><div class="ttname"><a href="../../da/da2/devicestate_8h.html#a62a8e6bc4b82dd797e505688f9f29bff">ast_devstate_changed</a></div><div class="ttdeci">int ast_devstate_changed(enum ast_device_state state, enum ast_devstate_cache cachable, const char *fmt,...)</div><div class="ttdoc">Tells Asterisk the State for Device is changed. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d80/devicestate_8c_source.html#l00510">devicestate.c:510</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="devicestate_8h_html_af72f8a5c0601e4c1f8a852749cd44eeeadee91fc4886ffc7b4efb8459cef48fe2"><div class="ttname"><a href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eeeadee91fc4886ffc7b4efb8459cef48fe2">AST_DEVICE_NOT_INUSE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/da2/devicestate_8h_source.html#l00054">devicestate.h:54</a></div></div>
<div class="ttc" id="devicestate_8h_html_af72f8a5c0601e4c1f8a852749cd44eeeab43afabf5bcd4ad1f531ad78c48ccb6f"><div class="ttname"><a href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eeeab43afabf5bcd4ad1f531ad78c48ccb6f">AST_DEVICE_BUSY</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/da2/devicestate_8h_source.html#l00056">devicestate.h:56</a></div></div>
<div class="ttc" id="res__calendar_8c_html_a7f475f91c6878f3033e4c1379311a220"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#a7f475f91c6878f3033e4c1379311a220">calendar_is_busy</a></div><div class="ttdeci">static int calendar_is_busy(struct ast_calendar *cal)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l00372">res_calendar.c:372</a></div></div>
<div class="ttc" id="devicestate_8h_html_a26cbac580d3e86b529f90058f6e91ac7a3683b746ab070a6455934b5d24dbd779"><div class="ttname"><a href="../../da/da2/devicestate_8h.html#a26cbac580d3e86b529f90058f6e91ac7a3683b746ab070a6455934b5d24dbd779">AST_DEVSTATE_CACHABLE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/da2/devicestate_8h_source.html#l00070">devicestate.h:70</a></div></div>
<div class="ttc" id="structast__calendar__event_html"><div class="ttname"><a href="../../dc/d64/structast__calendar__event.html">ast_calendar_event</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00093">calendar.h:93</a></div></div>
<div class="ttc" id="res__calendar_8c_html_a0b71ae1b1392b6095a17737375eb7671"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#a0b71ae1b1392b6095a17737375eb7671">ast_calendar_unref_event</a></div><div class="ttdeci">struct ast_calendar_event * ast_calendar_unref_event(struct ast_calendar_event *event)</div><div class="ttdoc">Unreference an ast_calendar_event. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l00321">res_calendar.c:321</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af595272845899ca84e5191c4eb09471c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af595272845899ca84e5191c4eb09471c">&#9670;&nbsp;</a></span>calendar_event_destructor()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void calendar_event_destructor </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>obj</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00609">609</a> of file <a class="el" href="../../d7/dc3/res__calendar_8c_source.html">res_calendar.c</a>.</p>

<p class="reference">References <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00832">AST_LIST_REMOVE_HEAD</a>, <a class="el" href="../../d1/d0f/stringfields_8h_source.html#l00368">ast_string_field_free_memory</a>, <a class="el" href="../../da/d4a/calendar_8h_source.html#l00088">ast_calendar_attendee::data</a>, and <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00249">evententry::next</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00667">ast_calendar_event_alloc()</a>.</p>
<div class="fragment"><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;{</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/d64/structast__calendar__event.html">ast_calendar_event</a> *<span class="keyword">event</span> = obj;</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d8/dd4/structast__calendar__attendee.html">ast_calendar_attendee</a> *attendee;</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(3, <span class="stringliteral">&quot;Destroying event for calendar &#39;%s&#39;\n&quot;</span>, <a class="code" href="../../df/d7d/structevent.html">event</a>-&gt;owner-&gt;name);</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;   <a class="code" href="../../d1/d0f/stringfields_8h.html#abf60f862ae6a141d2f86a0f5e82792de">ast_string_field_free_memory</a>(<a class="code" href="../../df/d7d/structevent.html">event</a>);</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;   <span class="keywordflow">while</span> ((attendee = <a class="code" href="../../df/d90/linkedlists_8h.html#aadfe2a69fbba4f27c201266a2ca5f989">AST_LIST_REMOVE_HEAD</a>(&amp;<a class="code" href="../../df/d7d/structevent.html">event</a>-&gt;attendees, <a class="code" href="../../d8/dd4/structast__calendar__attendee.html#a800f38590c4cfb0a8c9446c00169b13b">next</a>))) {</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;      <span class="keywordflow">if</span> (attendee-&gt;<a class="code" href="../../d8/dd4/structast__calendar__attendee.html#a91a70b77df95bd8b0830b49a094c2acb">data</a>) {</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;         <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(attendee-&gt;<a class="code" href="../../d8/dd4/structast__calendar__attendee.html#a91a70b77df95bd8b0830b49a094c2acb">data</a>);</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;      }</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(attendee);</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;   }</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;}</div><div class="ttc" id="structast__calendar__attendee_html_a91a70b77df95bd8b0830b49a094c2acb"><div class="ttname"><a href="../../d8/dd4/structast__calendar__attendee.html#a91a70b77df95bd8b0830b49a094c2acb">ast_calendar_attendee::data</a></div><div class="ttdeci">char * data</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00088">calendar.h:88</a></div></div>
<div class="ttc" id="structast__calendar__attendee_html_a800f38590c4cfb0a8c9446c00169b13b"><div class="ttname"><a href="../../d8/dd4/structast__calendar__attendee.html#a800f38590c4cfb0a8c9446c00169b13b">ast_calendar_attendee::next</a></div><div class="ttdeci">struct ast_calendar_attendee * next</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00089">calendar.h:89</a></div></div>
<div class="ttc" id="structevent_html"><div class="ttname"><a href="../../df/d7d/structevent.html">event</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d4d/astman_8c_source.html#l00222">astman.c:222</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="linkedlists_8h_html_aadfe2a69fbba4f27c201266a2ca5f989"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#aadfe2a69fbba4f27c201266a2ca5f989">AST_LIST_REMOVE_HEAD</a></div><div class="ttdeci">#define AST_LIST_REMOVE_HEAD(head, field)</div><div class="ttdoc">Removes and returns the head entry from a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00832">linkedlists.h:832</a></div></div>
<div class="ttc" id="structast__calendar__attendee_html"><div class="ttname"><a href="../../d8/dd4/structast__calendar__attendee.html">ast_calendar_attendee</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00087">calendar.h:87</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="structast__calendar__event_html"><div class="ttname"><a href="../../dc/d64/structast__calendar__event.html">ast_calendar_event</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00093">calendar.h:93</a></div></div>
<div class="ttc" id="stringfields_8h_html_abf60f862ae6a141d2f86a0f5e82792de"><div class="ttname"><a href="../../d1/d0f/stringfields_8h.html#abf60f862ae6a141d2f86a0f5e82792de">ast_string_field_free_memory</a></div><div class="ttdeci">#define ast_string_field_free_memory(x)</div><div class="ttdoc">free all memory - to be called before destroying the object </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d0f/stringfields_8h_source.html#l00368">stringfields.h:368</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a58e28ab57d8385696f2270deaff4761e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a58e28ab57d8385696f2270deaff4761e">&#9670;&nbsp;</a></span>calendar_event_notify()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int calendar_event_notify </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00868">868</a> of file <a class="el" href="../../d7/dc3/res__calendar_8c_source.html">res_calendar.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00567">ast_pthread_create_background</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00066">AST_PTHREADT_NULL</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00741">do_notify()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00954">schedule_calendar_event()</a>.</p>
<div class="fragment"><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;{</div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/d64/structast__calendar__event.html">ast_calendar_event</a> *<span class="keyword">event</span> = (<span class="keywordtype">void</span> *)data;</div><div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;   <span class="keywordtype">int</span> res = -1;</div><div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;   pthread_t notify_thread = <a class="code" href="../../dd/d42/lock_8h.html#a6009440c7a72f8e2e3b1ec97641ad160">AST_PTHREADT_NULL</a>;</div><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;</div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;   <span class="keywordflow">if</span> (!(<a class="code" href="../../df/d7d/structevent.html">event</a> &amp;&amp; <a class="code" href="../../df/d7d/structevent.html">event</a>-&gt;owner)) {</div><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Extremely low-cal...in fact cal is NULL!\n&quot;</span>);</div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;      <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;   }</div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;</div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(<a class="code" href="../../df/d7d/structevent.html">event</a>, +1);</div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;   <span class="keyword">event</span>-&gt;notify_sched = -1;</div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;</div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d5/d60/utils_8h.html#a595e2f8aa398f4bd21e381c3211235fe">ast_pthread_create_background</a>(&amp;notify_thread, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d7/dc3/res__calendar_8c.html#ab48b85a30fd9ca86a789f719808b4d55">do_notify</a>, <a class="code" href="../../df/d7d/structevent.html">event</a>) &lt; 0) {</div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Could not create notification thread\n&quot;</span>);</div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;      <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;   }</div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;</div><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;   res = 0;</div><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;</div><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;}</div><div class="ttc" id="res__calendar_8c_html_ab48b85a30fd9ca86a789f719808b4d55"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#ab48b85a30fd9ca86a789f719808b4d55">do_notify</a></div><div class="ttdeci">static void * do_notify(void *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l00741">res_calendar.c:741</a></div></div>
<div class="ttc" id="structevent_html"><div class="ttname"><a href="../../df/d7d/structevent.html">event</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d4d/astman_8c_source.html#l00222">astman.c:222</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="utils_8h_html_a595e2f8aa398f4bd21e381c3211235fe"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a595e2f8aa398f4bd21e381c3211235fe">ast_pthread_create_background</a></div><div class="ttdeci">#define ast_pthread_create_background(a, b, c, d)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00567">utils.h:567</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="lock_8h_html_a6009440c7a72f8e2e3b1ec97641ad160"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a6009440c7a72f8e2e3b1ec97641ad160">AST_PTHREADT_NULL</a></div><div class="ttdeci">#define AST_PTHREADT_NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00066">lock.h:66</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="structast__calendar__event_html"><div class="ttname"><a href="../../dc/d64/structast__calendar__event.html">ast_calendar_event</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00093">calendar.h:93</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a9a833fc3e81ac554a54ad0783819516b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a833fc3e81ac554a54ad0783819516b">&#9670;&nbsp;</a></span>calendar_event_read()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int calendar_event_read </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l01716">1716</a> of file <a class="el" href="../../d7/dc3/res__calendar_8c_source.html">res_calendar.c</a>.</p>

<p class="reference">References <a class="el" href="../../d4/d28/channel_8c_source.html#l02404">ast_channel_datastore_find()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02945">ast_channel_lock</a>, <a class="el" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00401">ast_copy_string()</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../da/d4a/calendar_8h_source.html#l00107">ast_calendar_event::busy_state</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l01304">calendar_join_attendees()</a>, <a class="el" href="../../da/d4a/calendar_8h_source.html#l00101">ast_calendar_event::categories</a>, <a class="el" href="../../d9/db6/datastore_8h_source.html#l00070">ast_datastore::data</a>, <a class="el" href="../../da/d4a/calendar_8h_source.html#l00101">ast_calendar_event::description</a>, <a class="el" href="../../da/d4a/calendar_8h_source.html#l00105">ast_calendar_event::end</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00248">evententry::event</a>, <a class="el" href="../../da/d4a/calendar_8h_source.html#l00101">ast_calendar_event::location</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../da/d4a/calendar_8h_source.html#l00127">ast_calendar::name</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../da/d4a/calendar_8h_source.html#l00101">ast_calendar_event::organizer</a>, <a class="el" href="../../da/d4a/calendar_8h_source.html#l00103">ast_calendar_event::owner</a>, <a class="el" href="../../da/d4a/calendar_8h_source.html#l00102">ast_calendar_event::priority</a>, <a class="el" href="../../da/d4a/calendar_8h_source.html#l00104">ast_calendar_event::start</a>, <a class="el" href="../../da/d4a/calendar_8h_source.html#l00101">ast_calendar_event::summary</a>, and <a class="el" href="../../da/d4a/calendar_8h_source.html#l00101">ast_calendar_event::uid</a>.</p>
<div class="fragment"><div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;{</div><div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d5d/structast__datastore.html">ast_datastore</a> *datastore;</div><div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/d64/structast__calendar__event.html">ast_calendar_event</a> *<a class="code" href="../../df/d7d/structevent.html">event</a>;</div><div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;</div><div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;   <span class="keywordflow">if</span> (!chan) {</div><div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;No channel was provided to %s function.\n&quot;</span>, cmd);</div><div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;   }</div><div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;</div><div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(data)) {</div><div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;%s requires an argument\n&quot;</span>, cmd);</div><div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;   }</div><div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;</div><div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(chan);</div><div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;   <span class="keywordflow">if</span> (!(datastore = <a class="code" href="../../d5/d7b/channel_8h.html#aad1e09cd7c79237d05cffb45d6cdfd7c">ast_channel_datastore_find</a>(chan, &amp;<a class="code" href="../../d7/dc3/res__calendar_8c.html#a3cdf9684aa289139de4a3a658a6ef464">event_notification_datastore</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>))) {</div><div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;There is no event notification datastore on &#39;%s&#39;!\n&quot;</span>, <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan));</div><div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;   }</div><div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;</div><div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;   <span class="keywordflow">if</span> (!(event = datastore-&gt;<a class="code" href="../../d4/d5d/structast__datastore.html#a735984d41155bc1032e09bece8f8d66d">data</a>)) {</div><div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;The datastore contains no data!\n&quot;</span>);</div><div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;   }</div><div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;</div><div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;   <span class="keywordflow">if</span> (!strcasecmp(data, <span class="stringliteral">&quot;summary&quot;</span>)) {</div><div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;      <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, event-&gt;<a class="code" href="../../dc/d64/structast__calendar__event.html#ad1e48ce65ffcec5cd319932c5992b984">summary</a>, <a class="code" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>);</div><div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(data, <span class="stringliteral">&quot;description&quot;</span>)) {</div><div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;      <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, event-&gt;<a class="code" href="../../dc/d64/structast__calendar__event.html#a76f76ee5f847833b202461d55b23c17a">description</a>, <a class="code" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>);</div><div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(data, <span class="stringliteral">&quot;organizer&quot;</span>)) {</div><div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;      <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, event-&gt;<a class="code" href="../../dc/d64/structast__calendar__event.html#a8f6e28f53ef146c7f954cd40022696fc">organizer</a>, <a class="code" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>);</div><div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(data, <span class="stringliteral">&quot;location&quot;</span>)) {</div><div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;      <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, event-&gt;<a class="code" href="../../dc/d64/structast__calendar__event.html#a6a5b9c21797702c6d9ac875640b70489">location</a>, <a class="code" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>);</div><div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(data, <span class="stringliteral">&quot;categories&quot;</span>)) {</div><div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;      <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, event-&gt;<a class="code" href="../../dc/d64/structast__calendar__event.html#a7f244b38bf6de6ec470bcc061092b5b5">categories</a>, <a class="code" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>);</div><div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(data, <span class="stringliteral">&quot;priority&quot;</span>)) {</div><div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;      snprintf(<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, <a class="code" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>, <span class="stringliteral">&quot;%d&quot;</span>, event-&gt;<a class="code" href="../../dc/d64/structast__calendar__event.html#acec9ce2df15222151ad66fcb1d74eb9f">priority</a>);</div><div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(data, <span class="stringliteral">&quot;calendar&quot;</span>)) {</div><div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;      <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, event-&gt;<a class="code" href="../../dc/d64/structast__calendar__event.html#a4f624898c838b00a647325f5afacf4ee">owner</a>-&gt;<a class="code" href="../../d4/d1d/structast__calendar.html#ace9168767fc3707cf5f0a7d049682ba3">name</a>, <a class="code" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>);</div><div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(data, <span class="stringliteral">&quot;uid&quot;</span>)) {</div><div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;      <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, event-&gt;<a class="code" href="../../dc/d64/structast__calendar__event.html#a351c558d41ceba8d276ca848d3ca9def">uid</a>, <a class="code" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>);</div><div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(data, <span class="stringliteral">&quot;start&quot;</span>)) {</div><div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;      snprintf(<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, <a class="code" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>, <span class="stringliteral">&quot;%ld&quot;</span>, (<span class="keywordtype">long</span>)event-&gt;<a class="code" href="../../dc/d64/structast__calendar__event.html#ada310e7f72b38fadd4b24d80ed3438ee">start</a>);</div><div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(data, <span class="stringliteral">&quot;end&quot;</span>)) {</div><div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;      snprintf(<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, <a class="code" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>, <span class="stringliteral">&quot;%ld&quot;</span>, (<span class="keywordtype">long</span>)event-&gt;<a class="code" href="../../dc/d64/structast__calendar__event.html#a13455ba845bf5d4dba37be491bc6a036">end</a>);</div><div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(data, <span class="stringliteral">&quot;busystate&quot;</span>)) {</div><div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;      snprintf(<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, <a class="code" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>, <span class="stringliteral">&quot;%u&quot;</span>, event-&gt;<a class="code" href="../../dc/d64/structast__calendar__event.html#a38d2dfa1e10882593f310fa9d8604abb">busy_state</a>);</div><div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(data, <span class="stringliteral">&quot;attendees&quot;</span>)) {</div><div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;      <a class="code" href="../../d7/dc3/res__calendar_8c.html#a111350d24dfbcf31aedaa77b4ba4db63">calendar_join_attendees</a>(event, <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, <a class="code" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>);</div><div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;   }</div><div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;</div><div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;</div><div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;}</div><div class="ttc" id="res__calendar_8c_html_a111350d24dfbcf31aedaa77b4ba4db63"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#a111350d24dfbcf31aedaa77b4ba4db63">calendar_join_attendees</a></div><div class="ttdeci">static void calendar_join_attendees(struct ast_calendar_event *event, char *buf, size_t len)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l01304">res_calendar.c:1304</a></div></div>
<div class="ttc" id="channel_8h_html_a493bdebe876caafb8ee535853310364a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a></div><div class="ttdeci">#define ast_channel_lock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02945">channel.h:2945</a></div></div>
<div class="ttc" id="structast__calendar__event_html_a13455ba845bf5d4dba37be491bc6a036"><div class="ttname"><a href="../../dc/d64/structast__calendar__event.html#a13455ba845bf5d4dba37be491bc6a036">ast_calendar_event::end</a></div><div class="ttdeci">time_t end</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00105">calendar.h:105</a></div></div>
<div class="ttc" id="eagi__proxy_8c_html_ac95651d79c608a3148973b5b1fc9e525"><div class="ttname"><a href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a></div><div class="ttdeci">char buf[BUFSIZE]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">eagi_proxy.c:66</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="structevent_html"><div class="ttname"><a href="../../df/d7d/structevent.html">event</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d4d/astman_8c_source.html#l00222">astman.c:222</a></div></div>
<div class="ttc" id="structast__calendar__event_html_a351c558d41ceba8d276ca848d3ca9def"><div class="ttname"><a href="../../dc/d64/structast__calendar__event.html#a351c558d41ceba8d276ca848d3ca9def">ast_calendar_event::uid</a></div><div class="ttdeci">const ast_string_field uid</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00101">calendar.h:101</a></div></div>
<div class="ttc" id="structast__calendar__event_html_a38d2dfa1e10882593f310fa9d8604abb"><div class="ttname"><a href="../../dc/d64/structast__calendar__event.html#a38d2dfa1e10882593f310fa9d8604abb">ast_calendar_event::busy_state</a></div><div class="ttdeci">enum ast_calendar_busy_state busy_state</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00107">calendar.h:107</a></div></div>
<div class="ttc" id="structast__datastore_html"><div class="ttname"><a href="../../d4/d5d/structast__datastore.html">ast_datastore</a></div><div class="ttdoc">Structure for a data store object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00068">datastore.h:68</a></div></div>
<div class="ttc" id="channel_8h_html_aad1e09cd7c79237d05cffb45d6cdfd7c"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#aad1e09cd7c79237d05cffb45d6cdfd7c">ast_channel_datastore_find</a></div><div class="ttdeci">struct ast_datastore * ast_channel_datastore_find(struct ast_channel *chan, const struct ast_datastore_info *info, const char *uid)</div><div class="ttdoc">Find a datastore on a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l02404">channel.c:2404</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structast__calendar__event_html_a76f76ee5f847833b202461d55b23c17a"><div class="ttname"><a href="../../dc/d64/structast__calendar__event.html#a76f76ee5f847833b202461d55b23c17a">ast_calendar_event::description</a></div><div class="ttdeci">const ast_string_field description</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00101">calendar.h:101</a></div></div>
<div class="ttc" id="structast__calendar__event_html_a8f6e28f53ef146c7f954cd40022696fc"><div class="ttname"><a href="../../dc/d64/structast__calendar__event.html#a8f6e28f53ef146c7f954cd40022696fc">ast_calendar_event::organizer</a></div><div class="ttdeci">const ast_string_field organizer</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00101">calendar.h:101</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="structast__calendar__event_html_a6a5b9c21797702c6d9ac875640b70489"><div class="ttname"><a href="../../dc/d64/structast__calendar__event.html#a6a5b9c21797702c6d9ac875640b70489">ast_calendar_event::location</a></div><div class="ttdeci">const ast_string_field location</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00101">calendar.h:101</a></div></div>
<div class="ttc" id="structast__calendar_html_ace9168767fc3707cf5f0a7d049682ba3"><div class="ttname"><a href="../../d4/d1d/structast__calendar.html#ace9168767fc3707cf5f0a7d049682ba3">ast_calendar::name</a></div><div class="ttdeci">const ast_string_field name</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00127">calendar.h:127</a></div></div>
<div class="ttc" id="func__strings_8c_html_af24e73aaf92f3000fda15d285e66df24"><div class="ttname"><a href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a></div><div class="ttdeci">static int len(struct ast_channel *chan, const char *cmd, char *data, char *buf, size_t buflen)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d1e/func__strings_8c_source.html#l01344">func_strings.c:1344</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="structast__calendar__event_html_a4f624898c838b00a647325f5afacf4ee"><div class="ttname"><a href="../../dc/d64/structast__calendar__event.html#a4f624898c838b00a647325f5afacf4ee">ast_calendar_event::owner</a></div><div class="ttdeci">struct ast_calendar * owner</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00103">calendar.h:103</a></div></div>
<div class="ttc" id="structast__calendar__event_html_a7f244b38bf6de6ec470bcc061092b5b5"><div class="ttname"><a href="../../dc/d64/structast__calendar__event.html#a7f244b38bf6de6ec470bcc061092b5b5">ast_calendar_event::categories</a></div><div class="ttdeci">const ast_string_field categories</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00101">calendar.h:101</a></div></div>
<div class="ttc" id="structast__datastore_html_a735984d41155bc1032e09bece8f8d66d"><div class="ttname"><a href="../../d4/d5d/structast__datastore.html#a735984d41155bc1032e09bece8f8d66d">ast_datastore::data</a></div><div class="ttdeci">void * data</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00070">datastore.h:70</a></div></div>
<div class="ttc" id="structast__calendar__event_html_ada310e7f72b38fadd4b24d80ed3438ee"><div class="ttname"><a href="../../dc/d64/structast__calendar__event.html#ada310e7f72b38fadd4b24d80ed3438ee">ast_calendar_event::start</a></div><div class="ttdeci">time_t start</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00104">calendar.h:104</a></div></div>
<div class="ttc" id="strings_8h_html_ac4040268f7b6ed77dfc49c7767626369"><div class="ttname"><a href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a></div><div class="ttdeci">void ast_copy_string(char *dst, const char *src, size_t size)</div><div class="ttdoc">Size-limited null-terminating string copy. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00401">strings.h:401</a></div></div>
<div class="ttc" id="channel_8h_html_a7ca2fda13b129a55c251b56729de285b"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a></div><div class="ttdeci">const char * ast_channel_name(const struct ast_channel *chan)</div></div>
<div class="ttc" id="res__calendar_8c_html_a3cdf9684aa289139de4a3a658a6ef464"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#a3cdf9684aa289139de4a3a658a6ef464">event_notification_datastore</a></div><div class="ttdeci">static const struct ast_datastore_info event_notification_datastore</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l00235">res_calendar.c:235</a></div></div>
<div class="ttc" id="structast__calendar__event_html"><div class="ttname"><a href="../../dc/d64/structast__calendar__event.html">ast_calendar_event</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00093">calendar.h:93</a></div></div>
<div class="ttc" id="structast__calendar__event_html_ad1e48ce65ffcec5cd319932c5992b984"><div class="ttname"><a href="../../dc/d64/structast__calendar__event.html#ad1e48ce65ffcec5cd319932c5992b984">ast_calendar_event::summary</a></div><div class="ttdeci">const ast_string_field summary</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00101">calendar.h:101</a></div></div>
<div class="ttc" id="structast__calendar__event_html_acec9ce2df15222151ad66fcb1d74eb9f"><div class="ttname"><a href="../../dc/d64/structast__calendar__event.html#acec9ce2df15222151ad66fcb1d74eb9f">ast_calendar_event::priority</a></div><div class="ttdeci">int priority</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00102">calendar.h:102</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a716588b07ba676a323620e9ba1b3cb45"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a716588b07ba676a323620e9ba1b3cb45">&#9670;&nbsp;</a></span>calendar_hash_fn()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int calendar_hash_fn </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00281">281</a> of file <a class="el" href="../../d7/dc3/res__calendar_8c_source.html">res_calendar.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/d90/strings_8h_source.html#l01250">ast_str_case_hash()</a>, and <a class="el" href="../../da/d4a/calendar_8h_source.html#l00127">ast_calendar::name</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l01900">load_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;{</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;   <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="../../d4/d1d/structast__calendar.html">ast_calendar</a> *cal = obj;</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d6/d90/strings_8h.html#ab08f8db2a7258e538a0da7417f58db58">ast_str_case_hash</a>(cal-&gt;<a class="code" href="../../d4/d1d/structast__calendar.html#ace9168767fc3707cf5f0a7d049682ba3">name</a>);</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;}</div><div class="ttc" id="structast__calendar_html_ace9168767fc3707cf5f0a7d049682ba3"><div class="ttname"><a href="../../d4/d1d/structast__calendar.html#ace9168767fc3707cf5f0a7d049682ba3">ast_calendar::name</a></div><div class="ttdeci">const ast_string_field name</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00127">calendar.h:127</a></div></div>
<div class="ttc" id="structast__calendar_html"><div class="ttname"><a href="../../d4/d1d/structast__calendar.html">ast_calendar</a></div><div class="ttdoc">Asterisk calendar structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00117">calendar.h:117</a></div></div>
<div class="ttc" id="strings_8h_html_ab08f8db2a7258e538a0da7417f58db58"><div class="ttname"><a href="../../d6/d90/strings_8h.html#ab08f8db2a7258e538a0da7417f58db58">ast_str_case_hash</a></div><div class="ttdeci">static force_inline int attribute_pure ast_str_case_hash(const char *str)</div><div class="ttdoc">Compute a hash value on a case-insensitive string. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l01250">strings.h:1250</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a7f475f91c6878f3033e4c1379311a220"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f475f91c6878f3033e4c1379311a220">&#9670;&nbsp;</a></span>calendar_is_busy()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int calendar_is_busy </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d1d/structast__calendar.html">ast_calendar</a> *&#160;</td>
          <td class="paramname"><em>cal</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00372">372</a> of file <a class="el" href="../../d7/dc3/res__calendar_8c_source.html">res_calendar.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01716">ao2_callback</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00358">calendar_busy_callback()</a>, <a class="el" href="../../da/d4a/calendar_8h_source.html#l00138">ast_calendar::events</a>, and <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01048">OBJ_NODATA</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l01092">calendar_busy_exec()</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00892">calendar_devstate_change()</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00381">calendarstate()</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00626">destroy_event()</a>, and <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l01528">handle_show_calendars()</a>.</p>
<div class="fragment"><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;{</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;   <span class="keywordtype">int</span> is_busy = 0;</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a47857055118a703ae87ea5ebaf4842ed">ao2_callback</a>(cal-&gt;<a class="code" href="../../d4/d1d/structast__calendar.html#a68cfdbd3a90ed1f8b0486a13b65bd244">events</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca5fc59b193d86a0a8ddfe866304be829d">OBJ_NODATA</a>, <a class="code" href="../../d7/dc3/res__calendar_8c.html#aebfa8516160445f77bed1376ff2a89ba">calendar_busy_callback</a>, &amp;is_busy);</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;   <span class="keywordflow">return</span> is_busy;</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;}</div><div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35ca5fc59b193d86a0a8ddfe866304be829d"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca5fc59b193d86a0a8ddfe866304be829d">OBJ_NODATA</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01048">astobj2.h:1048</a></div></div>
<div class="ttc" id="astobj2_8h_html_a47857055118a703ae87ea5ebaf4842ed"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a47857055118a703ae87ea5ebaf4842ed">ao2_callback</a></div><div class="ttdeci">#define ao2_callback(c, flags, cb_fn, arg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01716">astobj2.h:1716</a></div></div>
<div class="ttc" id="res__calendar_8c_html_aebfa8516160445f77bed1376ff2a89ba"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#aebfa8516160445f77bed1376ff2a89ba">calendar_busy_callback</a></div><div class="ttdeci">static int calendar_busy_callback(void *obj, void *arg, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l00358">res_calendar.c:358</a></div></div>
<div class="ttc" id="structast__calendar_html_a68cfdbd3a90ed1f8b0486a13b65bd244"><div class="ttname"><a href="../../d4/d1d/structast__calendar.html#a68cfdbd3a90ed1f8b0486a13b65bd244">ast_calendar::events</a></div><div class="ttdeci">struct ao2_container * events</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00138">calendar.h:138</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a111350d24dfbcf31aedaa77b4ba4db63"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a111350d24dfbcf31aedaa77b4ba4db63">&#9670;&nbsp;</a></span>calendar_join_attendees()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void calendar_join_attendees </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dc/d64/structast__calendar__event.html">ast_calendar_event</a> *&#160;</td>
          <td class="paramname"><em>event</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l01304">1304</a> of file <a class="el" href="../../d7/dc3/res__calendar_8c_source.html">res_calendar.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/d90/strings_8h_source.html#l00401">ast_copy_string()</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00420">AST_LIST_FIRST</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00490">AST_LIST_TRAVERSE</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l01091">ast_str_append()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00714">ast_str_buffer()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00620">ast_str_create</a>, <a class="el" href="../../dc/d64/structast__calendar__event.html#aecf2cf646e157e918cc64d69cbe6e6f3">ast_calendar_event::attendees</a>, <a class="el" href="../../da/d4a/calendar_8h_source.html#l00088">ast_calendar_attendee::data</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00249">evententry::next</a>, and <a class="el" href="../../de/d1e/bt__open_8c_source.html#l00389">tmp()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l01716">calendar_event_read()</a>, and <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l01322">calendar_query_result_exec()</a>.</p>
<div class="fragment"><div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;{</div><div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/da2/structast__str.html">ast_str</a> *<a class="code" href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a>;</div><div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d8/dd4/structast__calendar__attendee.html">ast_calendar_attendee</a> *attendee;</div><div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;</div><div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;   <span class="keywordflow">if</span> (!(tmp = <a class="code" href="../../d6/d90/strings_8h.html#a9c34c6c6b8daaba24c0406270f3cf697">ast_str_create</a>(32))) {</div><div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Could not allocate memory for attendees!\n&quot;</span>);</div><div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;   }</div><div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;</div><div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(&amp;event-&gt;<a class="code" href="../../dc/d64/structast__calendar__event.html#aecf2cf646e157e918cc64d69cbe6e6f3">attendees</a>, attendee, <a class="code" href="../../d8/dd4/structast__calendar__attendee.html#a800f38590c4cfb0a8c9446c00169b13b">next</a>) {</div><div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;      <a class="code" href="../../d6/d90/strings_8h.html#a1088afdd862a49b0fce34ebe02df8ca1">ast_str_append</a>(&amp;tmp, 0, <span class="stringliteral">&quot;%s%s&quot;</span>, attendee == <a class="code" href="../../df/d90/linkedlists_8h.html#adf1959c5c03a3a706da97ad2f49617e5">AST_LIST_FIRST</a>(&amp;event-&gt;<a class="code" href="../../dc/d64/structast__calendar__event.html#aecf2cf646e157e918cc64d69cbe6e6f3">attendees</a>) ? <span class="stringliteral">&quot;&quot;</span> : <span class="stringliteral">&quot;,&quot;</span>, attendee-&gt;<a class="code" href="../../d8/dd4/structast__calendar__attendee.html#a91a70b77df95bd8b0830b49a094c2acb">data</a>);</div><div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;   }</div><div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;</div><div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;   <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, <a class="code" href="../../d6/d90/strings_8h.html#a1ef7e2644ca7258070db316fdc0a465b">ast_str_buffer</a>(tmp), <a class="code" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>);</div><div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;   <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(tmp);</div><div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;}</div><div class="ttc" id="structast__calendar__attendee_html_a91a70b77df95bd8b0830b49a094c2acb"><div class="ttname"><a href="../../d8/dd4/structast__calendar__attendee.html#a91a70b77df95bd8b0830b49a094c2acb">ast_calendar_attendee::data</a></div><div class="ttdeci">char * data</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00088">calendar.h:88</a></div></div>
<div class="ttc" id="linkedlists_8h_html_adf1959c5c03a3a706da97ad2f49617e5"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#adf1959c5c03a3a706da97ad2f49617e5">AST_LIST_FIRST</a></div><div class="ttdeci">#define AST_LIST_FIRST(head)</div><div class="ttdoc">Returns the first entry contained in a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00420">linkedlists.h:420</a></div></div>
<div class="ttc" id="eagi__proxy_8c_html_ac95651d79c608a3148973b5b1fc9e525"><div class="ttname"><a href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a></div><div class="ttdeci">char buf[BUFSIZE]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">eagi_proxy.c:66</a></div></div>
<div class="ttc" id="strings_8h_html_a1ef7e2644ca7258070db316fdc0a465b"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a1ef7e2644ca7258070db316fdc0a465b">ast_str_buffer</a></div><div class="ttdeci">char * ast_str_buffer(const struct ast_str *buf)</div><div class="ttdoc">Returns the string buffer within the ast_str buf. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00714">strings.h:714</a></div></div>
<div class="ttc" id="bt__open_8c_html_a1cdd2bb1a9a71d3e1120100229315d67"><div class="ttname"><a href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a></div><div class="ttdeci">static int tmp()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1e/bt__open_8c_source.html#l00389">bt_open.c:389</a></div></div>
<div class="ttc" id="structast__calendar__attendee_html_a800f38590c4cfb0a8c9446c00169b13b"><div class="ttname"><a href="../../d8/dd4/structast__calendar__attendee.html#a800f38590c4cfb0a8c9446c00169b13b">ast_calendar_attendee::next</a></div><div class="ttdeci">struct ast_calendar_attendee * next</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00089">calendar.h:89</a></div></div>
<div class="ttc" id="strings_8h_html_a1088afdd862a49b0fce34ebe02df8ca1"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a1088afdd862a49b0fce34ebe02df8ca1">ast_str_append</a></div><div class="ttdeci">int ast_str_append(struct ast_str **buf, ssize_t max_len, const char *fmt,...)</div><div class="ttdoc">Append to a thread local dynamic string. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l01091">strings.h:1091</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="structast__str_html"><div class="ttname"><a href="../../dd/da2/structast__str.html">ast_str</a></div><div class="ttdoc">The descriptor of a dynamic string XXX storage will be optimized later if needed We use the ts field ...</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00584">strings.h:584</a></div></div>
<div class="ttc" id="func__strings_8c_html_af24e73aaf92f3000fda15d285e66df24"><div class="ttname"><a href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a></div><div class="ttdeci">static int len(struct ast_channel *chan, const char *cmd, char *data, char *buf, size_t buflen)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d1e/func__strings_8c_source.html#l01344">func_strings.c:1344</a></div></div>
<div class="ttc" id="structast__calendar__attendee_html"><div class="ttname"><a href="../../d8/dd4/structast__calendar__attendee.html">ast_calendar_attendee</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00087">calendar.h:87</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a3008b2f4f236b72d8bcfb80e346324ef"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a></div><div class="ttdeci">#define AST_LIST_TRAVERSE(head, var, field)</div><div class="ttdoc">Loops over (traverses) the entries in a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00490">linkedlists.h:490</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="structast__calendar__event_html_aecf2cf646e157e918cc64d69cbe6e6f3"><div class="ttname"><a href="../../dc/d64/structast__calendar__event.html#aecf2cf646e157e918cc64d69cbe6e6f3">ast_calendar_event::attendees</a></div><div class="ttdeci">struct ast_calendar_event::attendees attendees</div></div>
<div class="ttc" id="strings_8h_html_ac4040268f7b6ed77dfc49c7767626369"><div class="ttname"><a href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a></div><div class="ttdeci">void ast_copy_string(char *dst, const char *src, size_t size)</div><div class="ttdoc">Size-limited null-terminating string copy. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00401">strings.h:401</a></div></div>
<div class="ttc" id="strings_8h_html_a9c34c6c6b8daaba24c0406270f3cf697"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a9c34c6c6b8daaba24c0406270f3cf697">ast_str_create</a></div><div class="ttdeci">#define ast_str_create(init_len)</div><div class="ttdoc">Create a malloc&amp;#39;ed dynamic length string. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00620">strings.h:620</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a0ebdf126fe230772caf2e5ed8b04741d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ebdf126fe230772caf2e5ed8b04741d">&#9670;&nbsp;</a></span>calendar_query_exec()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int calendar_query_exec </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l01213">1213</a> of file <a class="el" href="../../d7/dc3/res__calendar_8c_source.html">res_calendar.c</a>.</p>

<p class="reference">References <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l01119">add_event_to_list()</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00411">ao2_alloc</a>, <a class="el" href="../../d7/d22/astobj2__container_8c_source.html#l00534">ao2_iterator_destroy()</a>, <a class="el" href="../../d7/d22/astobj2__container_8c_source.html#l00485">ao2_iterator_init()</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01933">ao2_iterator_next</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d5/dde/test__func__file_8c_source.html#l00046">args</a>, <a class="el" href="../../d3/d93/include_2asterisk_2app_8h_source.html#l01232">AST_APP_ARG</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00321">ast_calendar_unref_event()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l02390">ast_channel_datastore_add()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l02404">ast_channel_datastore_find()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02945">ast_channel_lock</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../d9/db6/datastore_8h_source.html#l00089">ast_datastore_alloc</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../d3/d93/include_2asterisk_2app_8h_source.html#l01249">AST_DECLARE_APP_ARGS</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d3/d93/include_2asterisk_2app_8h_source.html#l01285">AST_STANDARD_APP_ARGS</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../d9/db6/datastore_8h_source.html#l00070">ast_datastore::data</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l00193">DATASTORE_INHERIT_FOREVER</a>, <a class="el" href="../../dd/d7c/eagi__proxy_8c_source.html#l00073">end</a>, <a class="el" href="../../da/d4a/calendar_8h_source.html#l00105">ast_calendar_event::end</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00248">evententry::event</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00347">eventlist_destructor()</a>, <a class="el" href="../../db/d62/app__adsiprog_8c_source.html#l00085">events</a>, <a class="el" href="../../da/d4a/calendar_8h_source.html#l00138">ast_calendar::events</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00293">find_calendar()</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00717">generate_random_string()</a>, <a class="el" href="../../d9/db6/datastore_8h_source.html#l00073">ast_datastore::inheritance</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../da/d4a/calendar_8h_source.html#l00104">ast_calendar_event::start</a>, <a class="el" href="../../da/d4a/calendar_8h_source.html#l00101">ast_calendar_event::summary</a>, and <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00275">unref_calendar()</a>.</p>
<div class="fragment"><div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;{</div><div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d1d/structast__calendar.html">ast_calendar</a> *cal;</div><div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/d97/structao2__iterator.html">ao2_iterator</a> i;</div><div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/d64/structast__calendar__event.html">ast_calendar_event</a> *<a class="code" href="../../df/d7d/structevent.html">event</a>;</div><div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/dcb/structeventlist.html">eventlist</a> *<a class="code" href="../../db/d62/app__adsiprog_8c.html#a1fcc0891a0631f9a9222fdf961bd79dc">events</a>;</div><div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;   time_t start = INT_MIN, <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#a8fd806ad19b8f5513a4cf18cbf77532c">end</a> = INT_MAX;</div><div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d5d/structast__datastore.html">ast_datastore</a> *eventlist_datastore;</div><div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;   <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a80cd3f6f786b59b742bcecfc0b3be7c2">AST_DECLARE_APP_ARGS</a>(<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>,</div><div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;      <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a037e9a5b28477b17e7c9acbe7ecb21d5">AST_APP_ARG</a>(calendar);</div><div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;      <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a037e9a5b28477b17e7c9acbe7ecb21d5">AST_APP_ARG</a>(start);</div><div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;      <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a037e9a5b28477b17e7c9acbe7ecb21d5">AST_APP_ARG</a>(end);</div><div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;   );</div><div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;</div><div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;   <span class="keywordflow">if</span> (!chan) {</div><div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;%s requires a channel to store the data on\n&quot;</span>, cmd);</div><div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;   }</div><div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;</div><div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;   <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#ac08f7eb1eb9476b30987c73e1052ada8">AST_STANDARD_APP_ARGS</a>(<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>, <a class="code" href="../../d4/d5d/structast__datastore.html#a735984d41155bc1032e09bece8f8d66d">data</a>);</div><div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;</div><div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>.calendar)) {</div><div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;%s requires a calendar argument\n&quot;</span>, cmd);</div><div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;   }</div><div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;</div><div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;   <span class="keywordflow">if</span> (!(cal = <a class="code" href="../../d7/dc3/res__calendar_8c.html#af2623a75bbe6c1c6ff6a744b032b2599">find_calendar</a>(<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>.calendar))) {</div><div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Unknown calendar &#39;%s&#39;\n&quot;</span>, <a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>.calendar);</div><div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;   }</div><div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;</div><div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;   <span class="keywordflow">if</span> (!(events = <a class="code" href="../../d5/da5/astobj2_8h.html#ae0422b60d8e25b6962b2d61ae4ddf724">ao2_alloc</a>(<span class="keyword">sizeof</span>(*events), <a class="code" href="../../d7/dc3/res__calendar_8c.html#a5540e8e3fca54d5d9966ff6d3969b16e">eventlist_destructor</a>))) {</div><div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Unable to allocate memory for event list\n&quot;</span>);</div><div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;      cal = <a class="code" href="../../d7/dc3/res__calendar_8c.html#a1d3e21e2e050727f782d68652d1cc1f5">unref_calendar</a>(cal);</div><div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;   }</div><div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;</div><div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>.start)) {</div><div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;      start = atoi(<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>.start);</div><div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;   }</div><div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;</div><div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>.end)) {</div><div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;      end = atoi(<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>.end);</div><div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;   }</div><div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;</div><div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;   i = <a class="code" href="../../d5/da5/astobj2_8h.html#a91d5d37d00874ae7a92d1a15c0a3b3a6">ao2_iterator_init</a>(cal-&gt;<a class="code" href="../../d4/d1d/structast__calendar.html#a68cfdbd3a90ed1f8b0486a13b65bd244">events</a>, 0);</div><div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;   <span class="keywordflow">while</span> ((event = <a class="code" href="../../d5/da5/astobj2_8h.html#a17990ea630db7dbd1252ef0132133a2b">ao2_iterator_next</a>(&amp;i))) {</div><div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;      <span class="keywordflow">if</span> (!(start &gt; event-&gt;<a class="code" href="../../dc/d64/structast__calendar__event.html#a13455ba845bf5d4dba37be491bc6a036">end</a> || end &lt; event-&gt;start)) {</div><div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;         <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(10, <span class="stringliteral">&quot;%s (%ld - %ld) overlapped with (%ld - %ld)\n&quot;</span>, event-&gt;<a class="code" href="../../dc/d64/structast__calendar__event.html#ad1e48ce65ffcec5cd319932c5992b984">summary</a>, (<span class="keywordtype">long</span>) event-&gt;<a class="code" href="../../dc/d64/structast__calendar__event.html#ada310e7f72b38fadd4b24d80ed3438ee">start</a>, (<span class="keywordtype">long</span>) event-&gt;<a class="code" href="../../dc/d64/structast__calendar__event.html#a13455ba845bf5d4dba37be491bc6a036">end</a>, (<span class="keywordtype">long</span>) start, (<span class="keywordtype">long</span>) end);</div><div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;         <span class="keywordflow">if</span> (<a class="code" href="../../d7/dc3/res__calendar_8c.html#ac25759a82dabc92b3ad92c37db980903">add_event_to_list</a>(events, event, start, end) &lt; 0) {</div><div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;            <span class="keyword">event</span> = <a class="code" href="../../d7/dc3/res__calendar_8c.html#a0b71ae1b1392b6095a17737375eb7671">ast_calendar_unref_event</a>(event);</div><div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;            cal = <a class="code" href="../../d7/dc3/res__calendar_8c.html#a1d3e21e2e050727f782d68652d1cc1f5">unref_calendar</a>(cal);</div><div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;            <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(events, -1);</div><div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;            <a class="code" href="../../d5/da5/astobj2_8h.html#ad36841ab6daa3997f7ca7047ad2d033a">ao2_iterator_destroy</a>(&amp;i);</div><div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;            <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;         }</div><div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;      }</div><div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;</div><div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;      <span class="keyword">event</span> = <a class="code" href="../../d7/dc3/res__calendar_8c.html#a0b71ae1b1392b6095a17737375eb7671">ast_calendar_unref_event</a>(event);</div><div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;   }</div><div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#ad36841ab6daa3997f7ca7047ad2d033a">ao2_iterator_destroy</a>(&amp;i);</div><div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;</div><div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(chan);</div><div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;   <span class="keywordflow">do</span> {</div><div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;      <a class="code" href="../../d7/dc3/res__calendar_8c.html#a41f9ca037761557a34fb03157732e67b">generate_random_string</a>(<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, <a class="code" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>);</div><div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;   } <span class="keywordflow">while</span> (<a class="code" href="../../d5/d7b/channel_8h.html#aad1e09cd7c79237d05cffb45d6cdfd7c">ast_channel_datastore_find</a>(chan, &amp;<a class="code" href="../../d7/dc3/res__calendar_8c.html#a9fd06e58dca21fdf8eb2a1f00e584126">eventlist_datastore_info</a>, <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>));</div><div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;</div><div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;   <span class="keywordflow">if</span> (!(eventlist_datastore = <a class="code" href="../../d9/db6/datastore_8h.html#a666afb07fd77d50782cc10f83e029159">ast_datastore_alloc</a>(&amp;<a class="code" href="../../d7/dc3/res__calendar_8c.html#a9fd06e58dca21fdf8eb2a1f00e584126">eventlist_datastore_info</a>, <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>))) {</div><div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Could not allocate datastore!\n&quot;</span>);</div><div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;      cal = <a class="code" href="../../d7/dc3/res__calendar_8c.html#a1d3e21e2e050727f782d68652d1cc1f5">unref_calendar</a>(cal);</div><div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(events, -1);</div><div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;   }</div><div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;</div><div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;   eventlist_datastore-&gt;<a class="code" href="../../d4/d5d/structast__datastore.html#a79d869daa2e63a92b3e5f542446031bb">inheritance</a> = <a class="code" href="../../d5/d7b/channel_8h.html#a3a32e3014998d0066281c4dd8e278ae9">DATASTORE_INHERIT_FOREVER</a>;</div><div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;   eventlist_datastore-&gt;<a class="code" href="../../d4/d5d/structast__datastore.html#a735984d41155bc1032e09bece8f8d66d">data</a> = <a class="code" href="../../db/d62/app__adsiprog_8c.html#a1fcc0891a0631f9a9222fdf961bd79dc">events</a>;</div><div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;</div><div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(chan);</div><div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a1ed3e98d33d5587948a0e2ef67a81f52">ast_channel_datastore_add</a>(chan, eventlist_datastore);</div><div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;</div><div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;   cal = <a class="code" href="../../d7/dc3/res__calendar_8c.html#a1d3e21e2e050727f782d68652d1cc1f5">unref_calendar</a>(cal);</div><div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;}</div><div class="ttc" id="res__calendar_8c_html_a41f9ca037761557a34fb03157732e67b"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#a41f9ca037761557a34fb03157732e67b">generate_random_string</a></div><div class="ttdeci">static char * generate_random_string(char *buf, size_t size)</div><div class="ttdoc">Generate 32 byte random string (stolen from chan_sip.c) </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l00717">res_calendar.c:717</a></div></div>
<div class="ttc" id="channel_8h_html_a493bdebe876caafb8ee535853310364a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a></div><div class="ttdeci">#define ast_channel_lock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02945">channel.h:2945</a></div></div>
<div class="ttc" id="structast__calendar__event_html_a13455ba845bf5d4dba37be491bc6a036"><div class="ttname"><a href="../../dc/d64/structast__calendar__event.html#a13455ba845bf5d4dba37be491bc6a036">ast_calendar_event::end</a></div><div class="ttdeci">time_t end</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00105">calendar.h:105</a></div></div>
<div class="ttc" id="eagi__proxy_8c_html_ac95651d79c608a3148973b5b1fc9e525"><div class="ttname"><a href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a></div><div class="ttdeci">char buf[BUFSIZE]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">eagi_proxy.c:66</a></div></div>
<div class="ttc" id="include_2asterisk_2app_8h_html_ac08f7eb1eb9476b30987c73e1052ada8"><div class="ttname"><a href="../../d3/d93/include_2asterisk_2app_8h.html#ac08f7eb1eb9476b30987c73e1052ada8">AST_STANDARD_APP_ARGS</a></div><div class="ttdeci">#define AST_STANDARD_APP_ARGS(args, parse)</div><div class="ttdoc">Performs the &amp;#39;standard&amp;#39; argument separation process for an application. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l01285">include/asterisk/app.h:1285</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="res__calendar_8c_html_af2623a75bbe6c1c6ff6a744b032b2599"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#af2623a75bbe6c1c6ff6a744b032b2599">find_calendar</a></div><div class="ttdeci">static struct ast_calendar * find_calendar(const char *name)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l00293">res_calendar.c:293</a></div></div>
<div class="ttc" id="structevent_html"><div class="ttname"><a href="../../df/d7d/structevent.html">event</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d4d/astman_8c_source.html#l00222">astman.c:222</a></div></div>
<div class="ttc" id="app__adsiprog_8c_html_a1fcc0891a0631f9a9222fdf961bd79dc"><div class="ttname"><a href="../../db/d62/app__adsiprog_8c.html#a1fcc0891a0631f9a9222fdf961bd79dc">events</a></div><div class="ttdeci">static const struct adsi_event events[]</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d62/app__adsiprog_8c_source.html#l00085">app_adsiprog.c:85</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad36841ab6daa3997f7ca7047ad2d033a"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad36841ab6daa3997f7ca7047ad2d033a">ao2_iterator_destroy</a></div><div class="ttdeci">void ao2_iterator_destroy(struct ao2_iterator *iter)</div><div class="ttdoc">Destroy a container iterator. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d22/astobj2__container_8c_source.html#l00534">astobj2_container.c:534</a></div></div>
<div class="ttc" id="structast__datastore_html"><div class="ttname"><a href="../../d4/d5d/structast__datastore.html">ast_datastore</a></div><div class="ttdoc">Structure for a data store object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00068">datastore.h:68</a></div></div>
<div class="ttc" id="channel_8h_html_aad1e09cd7c79237d05cffb45d6cdfd7c"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#aad1e09cd7c79237d05cffb45d6cdfd7c">ast_channel_datastore_find</a></div><div class="ttdeci">struct ast_datastore * ast_channel_datastore_find(struct ast_channel *chan, const struct ast_datastore_info *info, const char *uid)</div><div class="ttdoc">Find a datastore on a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l02404">channel.c:2404</a></div></div>
<div class="ttc" id="test__func__file_8c_html_a7df83d295429a2562396f1ec127a46c0"><div class="ttname"><a href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a></div><div class="ttdeci">const char * args</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/test__func__file_8c_source.html#l00046">test_func_file.c:46</a></div></div>
<div class="ttc" id="res__calendar_8c_html_a5540e8e3fca54d5d9966ff6d3969b16e"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#a5540e8e3fca54d5d9966ff6d3969b16e">eventlist_destructor</a></div><div class="ttdeci">static void eventlist_destructor(void *obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l00347">res_calendar.c:347</a></div></div>
<div class="ttc" id="eagi__proxy_8c_html_a8fd806ad19b8f5513a4cf18cbf77532c"><div class="ttname"><a href="../../dd/d7c/eagi__proxy_8c.html#a8fd806ad19b8f5513a4cf18cbf77532c">end</a></div><div class="ttdeci">char * end</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d7c/eagi__proxy_8c_source.html#l00073">eagi_proxy.c:73</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="structeventlist_html"><div class="ttname"><a href="../../dd/dcb/structeventlist.html">eventlist</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l00253">res_calendar.c:253</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="res__calendar_8c_html_a9fd06e58dca21fdf8eb2a1f00e584126"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#a9fd06e58dca21fdf8eb2a1f00e584126">eventlist_datastore_info</a></div><div class="ttdeci">static const struct ast_datastore_info eventlist_datastore_info</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l00241">res_calendar.c:241</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="structast__calendar_html_a68cfdbd3a90ed1f8b0486a13b65bd244"><div class="ttname"><a href="../../d4/d1d/structast__calendar.html#a68cfdbd3a90ed1f8b0486a13b65bd244">ast_calendar::events</a></div><div class="ttdeci">struct ao2_container * events</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00138">calendar.h:138</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="res__calendar_8c_html_ac25759a82dabc92b3ad92c37db980903"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#ac25759a82dabc92b3ad92c37db980903">add_event_to_list</a></div><div class="ttdeci">static int add_event_to_list(struct eventlist *events, struct ast_calendar_event *event, time_t start, time_t end)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l01119">res_calendar.c:1119</a></div></div>
<div class="ttc" id="res__calendar_8c_html_a1d3e21e2e050727f782d68652d1cc1f5"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#a1d3e21e2e050727f782d68652d1cc1f5">unref_calendar</a></div><div class="ttdeci">static struct ast_calendar * unref_calendar(struct ast_calendar *cal)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l00275">res_calendar.c:275</a></div></div>
<div class="ttc" id="func__strings_8c_html_af24e73aaf92f3000fda15d285e66df24"><div class="ttname"><a href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a></div><div class="ttdeci">static int len(struct ast_channel *chan, const char *cmd, char *data, char *buf, size_t buflen)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d1e/func__strings_8c_source.html#l01344">func_strings.c:1344</a></div></div>
<div class="ttc" id="astobj2_8h_html_a17990ea630db7dbd1252ef0132133a2b"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a17990ea630db7dbd1252ef0132133a2b">ao2_iterator_next</a></div><div class="ttdeci">#define ao2_iterator_next(iter)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01933">astobj2.h:1933</a></div></div>
<div class="ttc" id="astobj2_8h_html_ae0422b60d8e25b6962b2d61ae4ddf724"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ae0422b60d8e25b6962b2d61ae4ddf724">ao2_alloc</a></div><div class="ttdeci">#define ao2_alloc(data_size, destructor_fn)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00411">astobj2.h:411</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="channel_8h_html_a3a32e3014998d0066281c4dd8e278ae9"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a3a32e3014998d0066281c4dd8e278ae9">DATASTORE_INHERIT_FOREVER</a></div><div class="ttdeci">#define DATASTORE_INHERIT_FOREVER</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l00193">channel.h:193</a></div></div>
<div class="ttc" id="structast__datastore_html_a79d869daa2e63a92b3e5f542446031bb"><div class="ttname"><a href="../../d4/d5d/structast__datastore.html#a79d869daa2e63a92b3e5f542446031bb">ast_datastore::inheritance</a></div><div class="ttdeci">unsigned int inheritance</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00073">datastore.h:73</a></div></div>
<div class="ttc" id="structast__datastore_html_a735984d41155bc1032e09bece8f8d66d"><div class="ttname"><a href="../../d4/d5d/structast__datastore.html#a735984d41155bc1032e09bece8f8d66d">ast_datastore::data</a></div><div class="ttdeci">void * data</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00070">datastore.h:70</a></div></div>
<div class="ttc" id="structast__calendar__event_html_ada310e7f72b38fadd4b24d80ed3438ee"><div class="ttname"><a href="../../dc/d64/structast__calendar__event.html#ada310e7f72b38fadd4b24d80ed3438ee">ast_calendar_event::start</a></div><div class="ttdeci">time_t start</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00104">calendar.h:104</a></div></div>
<div class="ttc" id="structao2__iterator_html"><div class="ttname"><a href="../../d9/d97/structao2__iterator.html">ao2_iterator</a></div><div class="ttdoc">When we need to walk through a container, we use an ao2_iterator to keep track of the current positio...</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01841">astobj2.h:1841</a></div></div>
<div class="ttc" id="datastore_8h_html_a666afb07fd77d50782cc10f83e029159"><div class="ttname"><a href="../../d9/db6/datastore_8h.html#a666afb07fd77d50782cc10f83e029159">ast_datastore_alloc</a></div><div class="ttdeci">#define ast_datastore_alloc(info, uid)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00089">datastore.h:89</a></div></div>
<div class="ttc" id="structast__calendar_html"><div class="ttname"><a href="../../d4/d1d/structast__calendar.html">ast_calendar</a></div><div class="ttdoc">Asterisk calendar structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00117">calendar.h:117</a></div></div>
<div class="ttc" id="structast__calendar__event_html"><div class="ttname"><a href="../../dc/d64/structast__calendar__event.html">ast_calendar_event</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00093">calendar.h:93</a></div></div>
<div class="ttc" id="res__calendar_8c_html_a0b71ae1b1392b6095a17737375eb7671"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#a0b71ae1b1392b6095a17737375eb7671">ast_calendar_unref_event</a></div><div class="ttdeci">struct ast_calendar_event * ast_calendar_unref_event(struct ast_calendar_event *event)</div><div class="ttdoc">Unreference an ast_calendar_event. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l00321">res_calendar.c:321</a></div></div>
<div class="ttc" id="structast__calendar__event_html_ad1e48ce65ffcec5cd319932c5992b984"><div class="ttname"><a href="../../dc/d64/structast__calendar__event.html#ad1e48ce65ffcec5cd319932c5992b984">ast_calendar_event::summary</a></div><div class="ttdeci">const ast_string_field summary</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00101">calendar.h:101</a></div></div>
<div class="ttc" id="channel_8h_html_a1ed3e98d33d5587948a0e2ef67a81f52"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a1ed3e98d33d5587948a0e2ef67a81f52">ast_channel_datastore_add</a></div><div class="ttdeci">int ast_channel_datastore_add(struct ast_channel *chan, struct ast_datastore *datastore)</div><div class="ttdoc">Add a datastore to a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l02390">channel.c:2390</a></div></div>
<div class="ttc" id="include_2asterisk_2app_8h_html_a80cd3f6f786b59b742bcecfc0b3be7c2"><div class="ttname"><a href="../../d3/d93/include_2asterisk_2app_8h.html#a80cd3f6f786b59b742bcecfc0b3be7c2">AST_DECLARE_APP_ARGS</a></div><div class="ttdeci">#define AST_DECLARE_APP_ARGS(name, arglist)</div><div class="ttdoc">Declare a structure to hold an application&amp;#39;s arguments. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l01249">include/asterisk/app.h:1249</a></div></div>
<div class="ttc" id="astobj2_8h_html_a91d5d37d00874ae7a92d1a15c0a3b3a6"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a91d5d37d00874ae7a92d1a15c0a3b3a6">ao2_iterator_init</a></div><div class="ttdeci">struct ao2_iterator ao2_iterator_init(struct ao2_container *c, int flags) attribute_warn_unused_result</div><div class="ttdoc">Create an iterator for a container. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d22/astobj2__container_8c_source.html#l00485">astobj2_container.c:485</a></div></div>
<div class="ttc" id="include_2asterisk_2app_8h_html_a037e9a5b28477b17e7c9acbe7ecb21d5"><div class="ttname"><a href="../../d3/d93/include_2asterisk_2app_8h.html#a037e9a5b28477b17e7c9acbe7ecb21d5">AST_APP_ARG</a></div><div class="ttdeci">#define AST_APP_ARG(name)</div><div class="ttdoc">Define an application argument. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l01232">include/asterisk/app.h:1232</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a23f8ad8f24d93f7421bac1e7d0f74366"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a23f8ad8f24d93f7421bac1e7d0f74366">&#9670;&nbsp;</a></span>calendar_query_result_exec()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int calendar_query_result_exec </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l01322">1322</a> of file <a class="el" href="../../d7/dc3/res__calendar_8c_source.html">res_calendar.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/dde/test__func__file_8c_source.html#l00046">args</a>, <a class="el" href="../../d3/d93/include_2asterisk_2app_8h_source.html#l01232">AST_APP_ARG</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l02404">ast_channel_datastore_find()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02945">ast_channel_lock</a>, <a class="el" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00401">ast_copy_string()</a>, <a class="el" href="../../d3/d93/include_2asterisk_2app_8h_source.html#l01249">AST_DECLARE_APP_ARGS</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00490">AST_LIST_TRAVERSE</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d3/d93/include_2asterisk_2app_8h_source.html#l01285">AST_STANDARD_APP_ARGS</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../da/d4a/calendar_8h_source.html#l00107">ast_calendar_event::busy_state</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l01304">calendar_join_attendees()</a>, <a class="el" href="../../da/d4a/calendar_8h_source.html#l00101">ast_calendar_event::categories</a>, <a class="el" href="../../d9/db6/datastore_8h_source.html#l00070">ast_datastore::data</a>, <a class="el" href="../../da/d4a/calendar_8h_source.html#l00101">ast_calendar_event::description</a>, <a class="el" href="../../da/d4a/calendar_8h_source.html#l00105">ast_calendar_event::end</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00248">evententry::event</a>, <a class="el" href="../../db/d62/app__adsiprog_8c_source.html#l00085">events</a>, <a class="el" href="../../df/db9/structevententry.html#a7243f23e02e3325c23cfb0a5a98732fa">evententry::list</a>, <a class="el" href="../../da/d4a/calendar_8h_source.html#l00101">ast_calendar_event::location</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../da/d4a/calendar_8h_source.html#l00127">ast_calendar::name</a>, <a class="el" href="../../da/d4a/calendar_8h_source.html#l00101">ast_calendar_event::organizer</a>, <a class="el" href="../../da/d4a/calendar_8h_source.html#l00103">ast_calendar_event::owner</a>, <a class="el" href="../../da/d4a/calendar_8h_source.html#l00102">ast_calendar_event::priority</a>, <a class="el" href="../../da/d4a/calendar_8h_source.html#l00104">ast_calendar_event::start</a>, <a class="el" href="../../da/d4a/calendar_8h_source.html#l00101">ast_calendar_event::summary</a>, and <a class="el" href="../../da/d4a/calendar_8h_source.html#l00101">ast_calendar_event::uid</a>.</p>
<div class="fragment"><div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;{</div><div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d5d/structast__datastore.html">ast_datastore</a> *datastore;</div><div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/dcb/structeventlist.html">eventlist</a> *<a class="code" href="../../db/d62/app__adsiprog_8c.html#a1fcc0891a0631f9a9222fdf961bd79dc">events</a>;</div><div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../df/db9/structevententry.html">evententry</a> *<a class="code" href="../../d3/d96/structentry.html">entry</a>;</div><div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;   <span class="keywordtype">int</span> row = 1;</div><div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;   <span class="keywordtype">size_t</span> listlen = 0;</div><div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;   <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a80cd3f6f786b59b742bcecfc0b3be7c2">AST_DECLARE_APP_ARGS</a>(<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>,</div><div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;      <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a037e9a5b28477b17e7c9acbe7ecb21d5">AST_APP_ARG</a>(<span class="keywordtype">id</span>);</div><div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;      <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a037e9a5b28477b17e7c9acbe7ecb21d5">AST_APP_ARG</a>(field);</div><div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;      <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a037e9a5b28477b17e7c9acbe7ecb21d5">AST_APP_ARG</a>(row);</div><div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;   );</div><div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;</div><div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;   <span class="keywordflow">if</span> (!chan) {</div><div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;%s requires a channel\n&quot;</span>, cmd);</div><div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;   }</div><div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;</div><div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;   <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#ac08f7eb1eb9476b30987c73e1052ada8">AST_STANDARD_APP_ARGS</a>(<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>, data);</div><div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;</div><div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>.id) || <a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>.field)) {</div><div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;%s requires an id and a field&quot;</span>, cmd);</div><div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;   }</div><div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;</div><div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(chan);</div><div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;   <span class="keywordflow">if</span> (!(datastore = <a class="code" href="../../d5/d7b/channel_8h.html#aad1e09cd7c79237d05cffb45d6cdfd7c">ast_channel_datastore_find</a>(chan, &amp;<a class="code" href="../../d7/dc3/res__calendar_8c.html#a9fd06e58dca21fdf8eb2a1f00e584126">eventlist_datastore_info</a>, <a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>.id))) {</div><div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;There is no event notification datastore with id &#39;%s&#39; on &#39;%s&#39;!\n&quot;</span>, <a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>.id, <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan));</div><div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;   }</div><div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;</div><div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;   <span class="keywordflow">if</span> (!(events = datastore-&gt;<a class="code" href="../../d4/d5d/structast__datastore.html#a735984d41155bc1032e09bece8f8d66d">data</a>)) {</div><div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;The datastore contains no data!\n&quot;</span>);</div><div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;   }</div><div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;</div><div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>.row)) {</div><div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;      row = atoi(<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>.row);</div><div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;   }</div><div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;</div><div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(events, entry, <a class="code" href="../../df/db9/structevententry.html#a7243f23e02e3325c23cfb0a5a98732fa">list</a>) {</div><div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;      listlen++;</div><div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;   }</div><div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;</div><div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;   <span class="keywordflow">if</span> (!strcasecmp(<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>.field, <span class="stringliteral">&quot;getnum&quot;</span>)) {</div><div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;      snprintf(<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, <a class="code" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>, <span class="stringliteral">&quot;%zu&quot;</span>, listlen);</div><div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;   }</div><div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;</div><div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(events, entry, <a class="code" href="../../df/db9/structevententry.html#a7243f23e02e3325c23cfb0a5a98732fa">list</a>) {</div><div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;      <span class="keywordflow">if</span> (--row) {</div><div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;         <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;      }</div><div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;      <span class="keywordflow">if</span> (!strcasecmp(<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>.field, <span class="stringliteral">&quot;summary&quot;</span>)) {</div><div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;         <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, entry-&gt;<a class="code" href="../../df/db9/structevententry.html#a8974261cad5fcce6a56a935b9f78b272">event</a>-&gt;<a class="code" href="../../dc/d64/structast__calendar__event.html#ad1e48ce65ffcec5cd319932c5992b984">summary</a>, <a class="code" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>);</div><div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>.field, <span class="stringliteral">&quot;description&quot;</span>)) {</div><div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;         <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, entry-&gt;<a class="code" href="../../df/db9/structevententry.html#a8974261cad5fcce6a56a935b9f78b272">event</a>-&gt;<a class="code" href="../../dc/d64/structast__calendar__event.html#a76f76ee5f847833b202461d55b23c17a">description</a>, <a class="code" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>);</div><div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>.field, <span class="stringliteral">&quot;organizer&quot;</span>)) {</div><div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;         <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, entry-&gt;<a class="code" href="../../df/db9/structevententry.html#a8974261cad5fcce6a56a935b9f78b272">event</a>-&gt;<a class="code" href="../../dc/d64/structast__calendar__event.html#a8f6e28f53ef146c7f954cd40022696fc">organizer</a>, <a class="code" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>);</div><div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>.field, <span class="stringliteral">&quot;location&quot;</span>)) {</div><div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;         <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, entry-&gt;<a class="code" href="../../df/db9/structevententry.html#a8974261cad5fcce6a56a935b9f78b272">event</a>-&gt;<a class="code" href="../../dc/d64/structast__calendar__event.html#a6a5b9c21797702c6d9ac875640b70489">location</a>, <a class="code" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>);</div><div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>.field, <span class="stringliteral">&quot;categories&quot;</span>)) {</div><div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;         <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, entry-&gt;<a class="code" href="../../df/db9/structevententry.html#a8974261cad5fcce6a56a935b9f78b272">event</a>-&gt;<a class="code" href="../../dc/d64/structast__calendar__event.html#a7f244b38bf6de6ec470bcc061092b5b5">categories</a>, <a class="code" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>);</div><div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>.field, <span class="stringliteral">&quot;priority&quot;</span>)) {</div><div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;         snprintf(<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, <a class="code" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>, <span class="stringliteral">&quot;%d&quot;</span>, entry-&gt;<a class="code" href="../../df/db9/structevententry.html#a8974261cad5fcce6a56a935b9f78b272">event</a>-&gt;<a class="code" href="../../dc/d64/structast__calendar__event.html#acec9ce2df15222151ad66fcb1d74eb9f">priority</a>);</div><div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>.field, <span class="stringliteral">&quot;calendar&quot;</span>)) {</div><div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;         <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, entry-&gt;<a class="code" href="../../df/db9/structevententry.html#a8974261cad5fcce6a56a935b9f78b272">event</a>-&gt;<a class="code" href="../../dc/d64/structast__calendar__event.html#a4f624898c838b00a647325f5afacf4ee">owner</a>-&gt;<a class="code" href="../../d4/d1d/structast__calendar.html#ace9168767fc3707cf5f0a7d049682ba3">name</a>, <a class="code" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>);</div><div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>.field, <span class="stringliteral">&quot;uid&quot;</span>)) {</div><div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;         <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, entry-&gt;<a class="code" href="../../df/db9/structevententry.html#a8974261cad5fcce6a56a935b9f78b272">event</a>-&gt;<a class="code" href="../../dc/d64/structast__calendar__event.html#a351c558d41ceba8d276ca848d3ca9def">uid</a>, <a class="code" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>);</div><div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>.field, <span class="stringliteral">&quot;start&quot;</span>)) {</div><div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;         snprintf(<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, <a class="code" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>, <span class="stringliteral">&quot;%ld&quot;</span>, (<span class="keywordtype">long</span>) entry-&gt;<a class="code" href="../../df/db9/structevententry.html#a8974261cad5fcce6a56a935b9f78b272">event</a>-&gt;<a class="code" href="../../dc/d64/structast__calendar__event.html#ada310e7f72b38fadd4b24d80ed3438ee">start</a>);</div><div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>.field, <span class="stringliteral">&quot;end&quot;</span>)) {</div><div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;         snprintf(<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, <a class="code" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>, <span class="stringliteral">&quot;%ld&quot;</span>, (<span class="keywordtype">long</span>) entry-&gt;<a class="code" href="../../df/db9/structevententry.html#a8974261cad5fcce6a56a935b9f78b272">event</a>-&gt;<a class="code" href="../../dc/d64/structast__calendar__event.html#a13455ba845bf5d4dba37be491bc6a036">end</a>);</div><div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>.field, <span class="stringliteral">&quot;busystate&quot;</span>)) {</div><div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;         snprintf(<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, <a class="code" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>, <span class="stringliteral">&quot;%u&quot;</span>, entry-&gt;<a class="code" href="../../df/db9/structevententry.html#a8974261cad5fcce6a56a935b9f78b272">event</a>-&gt;<a class="code" href="../../dc/d64/structast__calendar__event.html#a38d2dfa1e10882593f310fa9d8604abb">busy_state</a>);</div><div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>.field, <span class="stringliteral">&quot;attendees&quot;</span>)) {</div><div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;         <a class="code" href="../../d7/dc3/res__calendar_8c.html#a111350d24dfbcf31aedaa77b4ba4db63">calendar_join_attendees</a>(entry-&gt;<a class="code" href="../../df/db9/structevententry.html#a8974261cad5fcce6a56a935b9f78b272">event</a>, <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, <a class="code" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>);</div><div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Unknown field &#39;%s&#39;\n&quot;</span>, <a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>.field);</div><div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;      }</div><div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;   }</div><div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;</div><div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;}</div><div class="ttc" id="res__calendar_8c_html_a111350d24dfbcf31aedaa77b4ba4db63"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#a111350d24dfbcf31aedaa77b4ba4db63">calendar_join_attendees</a></div><div class="ttdeci">static void calendar_join_attendees(struct ast_calendar_event *event, char *buf, size_t len)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l01304">res_calendar.c:1304</a></div></div>
<div class="ttc" id="channel_8h_html_a493bdebe876caafb8ee535853310364a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a></div><div class="ttdeci">#define ast_channel_lock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02945">channel.h:2945</a></div></div>
<div class="ttc" id="structast__calendar__event_html_a13455ba845bf5d4dba37be491bc6a036"><div class="ttname"><a href="../../dc/d64/structast__calendar__event.html#a13455ba845bf5d4dba37be491bc6a036">ast_calendar_event::end</a></div><div class="ttdeci">time_t end</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00105">calendar.h:105</a></div></div>
<div class="ttc" id="eagi__proxy_8c_html_ac95651d79c608a3148973b5b1fc9e525"><div class="ttname"><a href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a></div><div class="ttdeci">char buf[BUFSIZE]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">eagi_proxy.c:66</a></div></div>
<div class="ttc" id="include_2asterisk_2app_8h_html_ac08f7eb1eb9476b30987c73e1052ada8"><div class="ttname"><a href="../../d3/d93/include_2asterisk_2app_8h.html#ac08f7eb1eb9476b30987c73e1052ada8">AST_STANDARD_APP_ARGS</a></div><div class="ttdeci">#define AST_STANDARD_APP_ARGS(args, parse)</div><div class="ttdoc">Performs the &amp;#39;standard&amp;#39; argument separation process for an application. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l01285">include/asterisk/app.h:1285</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="app__adsiprog_8c_html_a1fcc0891a0631f9a9222fdf961bd79dc"><div class="ttname"><a href="../../db/d62/app__adsiprog_8c.html#a1fcc0891a0631f9a9222fdf961bd79dc">events</a></div><div class="ttdeci">static const struct adsi_event events[]</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d62/app__adsiprog_8c_source.html#l00085">app_adsiprog.c:85</a></div></div>
<div class="ttc" id="structast__calendar__event_html_a351c558d41ceba8d276ca848d3ca9def"><div class="ttname"><a href="../../dc/d64/structast__calendar__event.html#a351c558d41ceba8d276ca848d3ca9def">ast_calendar_event::uid</a></div><div class="ttdeci">const ast_string_field uid</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00101">calendar.h:101</a></div></div>
<div class="ttc" id="structast__calendar__event_html_a38d2dfa1e10882593f310fa9d8604abb"><div class="ttname"><a href="../../dc/d64/structast__calendar__event.html#a38d2dfa1e10882593f310fa9d8604abb">ast_calendar_event::busy_state</a></div><div class="ttdeci">enum ast_calendar_busy_state busy_state</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00107">calendar.h:107</a></div></div>
<div class="ttc" id="structast__datastore_html"><div class="ttname"><a href="../../d4/d5d/structast__datastore.html">ast_datastore</a></div><div class="ttdoc">Structure for a data store object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00068">datastore.h:68</a></div></div>
<div class="ttc" id="channel_8h_html_aad1e09cd7c79237d05cffb45d6cdfd7c"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#aad1e09cd7c79237d05cffb45d6cdfd7c">ast_channel_datastore_find</a></div><div class="ttdeci">struct ast_datastore * ast_channel_datastore_find(struct ast_channel *chan, const struct ast_datastore_info *info, const char *uid)</div><div class="ttdoc">Find a datastore on a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l02404">channel.c:2404</a></div></div>
<div class="ttc" id="test__func__file_8c_html_a7df83d295429a2562396f1ec127a46c0"><div class="ttname"><a href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a></div><div class="ttdeci">const char * args</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/test__func__file_8c_source.html#l00046">test_func_file.c:46</a></div></div>
<div class="ttc" id="structevententry_html_a7243f23e02e3325c23cfb0a5a98732fa"><div class="ttname"><a href="../../df/db9/structevententry.html#a7243f23e02e3325c23cfb0a5a98732fa">evententry::list</a></div><div class="ttdeci">struct evententry::@447 list</div></div>
<div class="ttc" id="structast__calendar__event_html_a76f76ee5f847833b202461d55b23c17a"><div class="ttname"><a href="../../dc/d64/structast__calendar__event.html#a76f76ee5f847833b202461d55b23c17a">ast_calendar_event::description</a></div><div class="ttdeci">const ast_string_field description</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00101">calendar.h:101</a></div></div>
<div class="ttc" id="structast__calendar__event_html_a8f6e28f53ef146c7f954cd40022696fc"><div class="ttname"><a href="../../dc/d64/structast__calendar__event.html#a8f6e28f53ef146c7f954cd40022696fc">ast_calendar_event::organizer</a></div><div class="ttdeci">const ast_string_field organizer</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00101">calendar.h:101</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="structeventlist_html"><div class="ttname"><a href="../../dd/dcb/structeventlist.html">eventlist</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l00253">res_calendar.c:253</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="structast__calendar__event_html_a6a5b9c21797702c6d9ac875640b70489"><div class="ttname"><a href="../../dc/d64/structast__calendar__event.html#a6a5b9c21797702c6d9ac875640b70489">ast_calendar_event::location</a></div><div class="ttdeci">const ast_string_field location</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00101">calendar.h:101</a></div></div>
<div class="ttc" id="res__calendar_8c_html_a9fd06e58dca21fdf8eb2a1f00e584126"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#a9fd06e58dca21fdf8eb2a1f00e584126">eventlist_datastore_info</a></div><div class="ttdeci">static const struct ast_datastore_info eventlist_datastore_info</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l00241">res_calendar.c:241</a></div></div>
<div class="ttc" id="structast__calendar_html_ace9168767fc3707cf5f0a7d049682ba3"><div class="ttname"><a href="../../d4/d1d/structast__calendar.html#ace9168767fc3707cf5f0a7d049682ba3">ast_calendar::name</a></div><div class="ttdeci">const ast_string_field name</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00127">calendar.h:127</a></div></div>
<div class="ttc" id="structevententry_html_a8974261cad5fcce6a56a935b9f78b272"><div class="ttname"><a href="../../df/db9/structevententry.html#a8974261cad5fcce6a56a935b9f78b272">evententry::event</a></div><div class="ttdeci">struct ast_calendar_event * event</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l00248">res_calendar.c:248</a></div></div>
<div class="ttc" id="structevententry_html"><div class="ttname"><a href="../../df/db9/structevententry.html">evententry</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l00247">res_calendar.c:247</a></div></div>
<div class="ttc" id="func__strings_8c_html_af24e73aaf92f3000fda15d285e66df24"><div class="ttname"><a href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a></div><div class="ttdeci">static int len(struct ast_channel *chan, const char *cmd, char *data, char *buf, size_t buflen)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d1e/func__strings_8c_source.html#l01344">func_strings.c:1344</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a3008b2f4f236b72d8bcfb80e346324ef"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a></div><div class="ttdeci">#define AST_LIST_TRAVERSE(head, var, field)</div><div class="ttdoc">Loops over (traverses) the entries in a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00490">linkedlists.h:490</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="structast__calendar__event_html_a4f624898c838b00a647325f5afacf4ee"><div class="ttname"><a href="../../dc/d64/structast__calendar__event.html#a4f624898c838b00a647325f5afacf4ee">ast_calendar_event::owner</a></div><div class="ttdeci">struct ast_calendar * owner</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00103">calendar.h:103</a></div></div>
<div class="ttc" id="structast__calendar__event_html_a7f244b38bf6de6ec470bcc061092b5b5"><div class="ttname"><a href="../../dc/d64/structast__calendar__event.html#a7f244b38bf6de6ec470bcc061092b5b5">ast_calendar_event::categories</a></div><div class="ttdeci">const ast_string_field categories</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00101">calendar.h:101</a></div></div>
<div class="ttc" id="structast__datastore_html_a735984d41155bc1032e09bece8f8d66d"><div class="ttname"><a href="../../d4/d5d/structast__datastore.html#a735984d41155bc1032e09bece8f8d66d">ast_datastore::data</a></div><div class="ttdeci">void * data</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00070">datastore.h:70</a></div></div>
<div class="ttc" id="structast__calendar__event_html_ada310e7f72b38fadd4b24d80ed3438ee"><div class="ttname"><a href="../../dc/d64/structast__calendar__event.html#ada310e7f72b38fadd4b24d80ed3438ee">ast_calendar_event::start</a></div><div class="ttdeci">time_t start</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00104">calendar.h:104</a></div></div>
<div class="ttc" id="strings_8h_html_ac4040268f7b6ed77dfc49c7767626369"><div class="ttname"><a href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a></div><div class="ttdeci">void ast_copy_string(char *dst, const char *src, size_t size)</div><div class="ttdoc">Size-limited null-terminating string copy. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00401">strings.h:401</a></div></div>
<div class="ttc" id="channel_8h_html_a7ca2fda13b129a55c251b56729de285b"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a></div><div class="ttdeci">const char * ast_channel_name(const struct ast_channel *chan)</div></div>
<div class="ttc" id="structentry_html"><div class="ttname"><a href="../../d3/d96/structentry.html">entry</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d85/search_8h_source.html#l00040">search.h:40</a></div></div>
<div class="ttc" id="structast__calendar__event_html_ad1e48ce65ffcec5cd319932c5992b984"><div class="ttname"><a href="../../dc/d64/structast__calendar__event.html#ad1e48ce65ffcec5cd319932c5992b984">ast_calendar_event::summary</a></div><div class="ttdeci">const ast_string_field summary</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00101">calendar.h:101</a></div></div>
<div class="ttc" id="include_2asterisk_2app_8h_html_a80cd3f6f786b59b742bcecfc0b3be7c2"><div class="ttname"><a href="../../d3/d93/include_2asterisk_2app_8h.html#a80cd3f6f786b59b742bcecfc0b3be7c2">AST_DECLARE_APP_ARGS</a></div><div class="ttdeci">#define AST_DECLARE_APP_ARGS(name, arglist)</div><div class="ttdoc">Declare a structure to hold an application&amp;#39;s arguments. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l01249">include/asterisk/app.h:1249</a></div></div>
<div class="ttc" id="structast__calendar__event_html_acec9ce2df15222151ad66fcb1d74eb9f"><div class="ttname"><a href="../../dc/d64/structast__calendar__event.html#acec9ce2df15222151ad66fcb1d74eb9f">ast_calendar_event::priority</a></div><div class="ttdeci">int priority</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00102">calendar.h:102</a></div></div>
<div class="ttc" id="include_2asterisk_2app_8h_html_a037e9a5b28477b17e7c9acbe7ecb21d5"><div class="ttname"><a href="../../d3/d93/include_2asterisk_2app_8h.html#a037e9a5b28477b17e7c9acbe7ecb21d5">AST_APP_ARG</a></div><div class="ttdeci">#define AST_APP_ARG(name)</div><div class="ttdoc">Define an application argument. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l01232">include/asterisk/app.h:1232</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a08ee17eea3c89d76dabe1b948f2d8c96"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a08ee17eea3c89d76dabe1b948f2d8c96">&#9670;&nbsp;</a></span>calendar_write_exec()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int calendar_write_exec </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l01415">1415</a> of file <a class="el" href="../../d7/dc3/res__calendar_8c_source.html">res_calendar.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d93/include_2asterisk_2app_8h_source.html#l01232">AST_APP_ARG</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00667">ast_calendar_event_alloc()</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00321">ast_calendar_unref_event()</a>, <a class="el" href="../../d3/d93/include_2asterisk_2app_8h_source.html#l01249">AST_DECLARE_APP_ARGS</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d3/d93/include_2asterisk_2app_8h_source.html#l01285">AST_STANDARD_APP_ARGS</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00243">ast_strdup</a>, <a class="el" href="../../d1/d0f/stringfields_8h_source.html#l00514">ast_string_field_set</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../de/df7/time_8h_source.html#l00150">ast_tvnow()</a>, <a class="el" href="../../d8/d4f/test__config_8c.html#a743528bf7a1998bdc18cb63a1bc4138f">categories</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00293">find_calendar()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../da/d4a/calendar_8h_source.html#l00127">ast_calendar::name</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d3/d8c/pbx__variables_8c_source.html#l01071">pbx_builtin_setvar_helper()</a>, <a class="el" href="../../da/d4a/calendar_8h_source.html#l00118">ast_calendar::tech</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00275">unref_calendar()</a>, and <a class="el" href="../../da/d4a/calendar_8h_source.html#l00077">ast_calendar_tech::write_event</a>.</p>
<div class="fragment"><div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;{</div><div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;   <span class="keywordtype">int</span> i, j, ret = -1;</div><div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;   <span class="keywordtype">char</span> *val_dup = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d1d/structast__calendar.html">ast_calendar</a> *cal = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/d64/structast__calendar__event.html">ast_calendar_event</a> *<span class="keyword">event</span> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;   <span class="keyword">struct </span>timeval tv = <a class="code" href="../../de/df7/time_8h.html#ad3899efb6f0e348556ef69f5b16aa7f7">ast_tvnow</a>();</div><div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;   <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a80cd3f6f786b59b742bcecfc0b3be7c2">AST_DECLARE_APP_ARGS</a>(fields,</div><div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;      <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a037e9a5b28477b17e7c9acbe7ecb21d5">AST_APP_ARG</a>(field)[10];</div><div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;   );</div><div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;   <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a80cd3f6f786b59b742bcecfc0b3be7c2">AST_DECLARE_APP_ARGS</a>(<a class="code" href="../../d2/d2b/structvalues.html">values</a>,</div><div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;      <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a037e9a5b28477b17e7c9acbe7ecb21d5">AST_APP_ARG</a>(<a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>)[10];</div><div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;   );</div><div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;</div><div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;   <span class="keywordflow">if</span> (!(val_dup = <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(<a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>))) {</div><div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Could not allocate memory for values\n&quot;</span>);</div><div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;      <span class="keywordflow">goto</span> write_cleanup;</div><div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;   }</div><div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;</div><div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;   <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#ac08f7eb1eb9476b30987c73e1052ada8">AST_STANDARD_APP_ARGS</a>(fields, data);</div><div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;   <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#ac08f7eb1eb9476b30987c73e1052ada8">AST_STANDARD_APP_ARGS</a>(<a class="code" href="../../d2/d2b/structvalues.html">values</a>, val_dup);</div><div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;</div><div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;   <span class="comment">/* XXX Eventually we will support unnamed calendars, so if we don&#39;t find one, we parse</span></div><div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;<span class="comment">    * for a calendar type and create it */</span></div><div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;   <span class="keywordflow">if</span> (!(cal = <a class="code" href="../../d7/dc3/res__calendar_8c.html#af2623a75bbe6c1c6ff6a744b032b2599">find_calendar</a>(fields.field[0]))) {</div><div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Couldn&#39;t find calendar &#39;%s&#39;\n&quot;</span>, fields.field[0]);</div><div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;      <span class="keywordflow">goto</span> write_cleanup;</div><div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;   }</div><div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;</div><div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;   <span class="keywordflow">if</span> (!(cal-&gt;<a class="code" href="../../d4/d1d/structast__calendar.html#a2202508d2b59b02becb71802e5835cbd">tech</a>-&gt;<a class="code" href="../../dd/dca/structast__calendar__tech.html#a5842d9400ddddf02e6220598dbc8bee7">write_event</a>)) {</div><div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Calendar &#39;%s&#39; has no write function!\n&quot;</span>, cal-&gt;<a class="code" href="../../d4/d1d/structast__calendar.html#ace9168767fc3707cf5f0a7d049682ba3">name</a>);</div><div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;      <span class="keywordflow">goto</span> write_cleanup;</div><div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;   }</div><div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;</div><div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;   <span class="keywordflow">if</span> (!(<a class="code" href="../../df/d7d/structevent.html">event</a> = <a class="code" href="../../d7/dc3/res__calendar_8c.html#a5baeffb2016cfba709d05ab148e65ff9">ast_calendar_event_alloc</a>(cal))) {</div><div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;      <span class="keywordflow">goto</span> write_cleanup;</div><div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;   }</div><div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;</div><div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(fields.field[0])) {</div><div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;CALENDAR_WRITE requires a calendar name!\n&quot;</span>);</div><div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;      <span class="keywordflow">goto</span> write_cleanup;</div><div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;   }</div><div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;</div><div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;   <span class="keywordflow">if</span> (fields.argc - 1 != <a class="code" href="../../d2/d2b/structvalues.html">values</a>.argc) {</div><div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;CALENDAR_WRITE should have the same number of fields (%u) and values (%u)!\n&quot;</span>, fields.argc - 1, <a class="code" href="../../d2/d2b/structvalues.html">values</a>.argc);</div><div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;      <span class="keywordflow">goto</span> write_cleanup;</div><div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;   }</div><div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;</div><div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;   <span class="keyword">event</span>-&gt;owner = cal;</div><div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;</div><div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;   <span class="keywordflow">for</span> (i = 1, j = 0; i &lt; fields.argc; i++, j++) {</div><div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;      <span class="keywordflow">if</span> (!strcasecmp(fields.field[i], <span class="stringliteral">&quot;summary&quot;</span>)) {</div><div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;         <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(<a class="code" href="../../df/d7d/structevent.html">event</a>, summary, <a class="code" href="../../d2/d2b/structvalues.html">values</a>.value[j]);</div><div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(fields.field[i], <span class="stringliteral">&quot;description&quot;</span>)) {</div><div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;         <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(<a class="code" href="../../df/d7d/structevent.html">event</a>, description, <a class="code" href="../../d2/d2b/structvalues.html">values</a>.value[j]);</div><div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(fields.field[i], <span class="stringliteral">&quot;organizer&quot;</span>)) {</div><div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;         <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(<a class="code" href="../../df/d7d/structevent.html">event</a>, organizer, <a class="code" href="../../d2/d2b/structvalues.html">values</a>.value[j]);</div><div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(fields.field[i], <span class="stringliteral">&quot;location&quot;</span>)) {</div><div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;         <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(<a class="code" href="../../df/d7d/structevent.html">event</a>, location, <a class="code" href="../../d2/d2b/structvalues.html">values</a>.value[j]);</div><div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(fields.field[i], <span class="stringliteral">&quot;categories&quot;</span>)) {</div><div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;         <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(<a class="code" href="../../df/d7d/structevent.html">event</a>, <a class="code" href="../../d8/d4f/test__config_8c.html#a743528bf7a1998bdc18cb63a1bc4138f">categories</a>, <a class="code" href="../../d2/d2b/structvalues.html">values</a>.value[j]);</div><div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(fields.field[i], <span class="stringliteral">&quot;priority&quot;</span>)) {</div><div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;         <span class="keyword">event</span>-&gt;priority = atoi(<a class="code" href="../../d2/d2b/structvalues.html">values</a>.value[j]);</div><div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(fields.field[i], <span class="stringliteral">&quot;uid&quot;</span>)) {</div><div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;         <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(<a class="code" href="../../df/d7d/structevent.html">event</a>, uid, <a class="code" href="../../d2/d2b/structvalues.html">values</a>.value[j]);</div><div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(fields.field[i], <span class="stringliteral">&quot;start&quot;</span>)) {</div><div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;         <span class="keyword">event</span>-&gt;start = atoi(<a class="code" href="../../d2/d2b/structvalues.html">values</a>.value[j]);</div><div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(fields.field[i], <span class="stringliteral">&quot;end&quot;</span>)) {</div><div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;         <span class="keyword">event</span>-&gt;end = atoi(<a class="code" href="../../d2/d2b/structvalues.html">values</a>.value[j]);</div><div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(fields.field[i], <span class="stringliteral">&quot;busystate&quot;</span>)) {</div><div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;         <span class="keyword">event</span>-&gt;busy_state = atoi(<a class="code" href="../../d2/d2b/structvalues.html">values</a>.value[j]);</div><div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Unknown calendar event field &#39;%s&#39;\n&quot;</span>, fields.field[i]);</div><div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;      }</div><div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;   }</div><div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;</div><div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../df/d7d/structevent.html">event</a>-&gt;start) {</div><div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;      <span class="keyword">event</span>-&gt;start = tv.tv_sec;</div><div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;   }</div><div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;</div><div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../df/d7d/structevent.html">event</a>-&gt;end) {</div><div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;      <span class="keyword">event</span>-&gt;end = tv.tv_sec;</div><div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;   }</div><div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;</div><div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;   <span class="keywordflow">if</span>((ret = cal-&gt;<a class="code" href="../../d4/d1d/structast__calendar.html#a2202508d2b59b02becb71802e5835cbd">tech</a>-&gt;<a class="code" href="../../dd/dca/structast__calendar__tech.html#a5842d9400ddddf02e6220598dbc8bee7">write_event</a>(<a class="code" href="../../df/d7d/structevent.html">event</a>))) {</div><div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Writing event to calendar &#39;%s&#39; failed!\n&quot;</span>, cal-&gt;<a class="code" href="../../d4/d1d/structast__calendar.html#ace9168767fc3707cf5f0a7d049682ba3">name</a>);</div><div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;   }</div><div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;</div><div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;write_cleanup:</div><div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;   <span class="keywordflow">if</span> (ret) {</div><div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;      <a class="code" href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a>(chan, <span class="stringliteral">&quot;CALENDAR_SUCCESS&quot;</span>, <span class="stringliteral">&quot;0&quot;</span>);</div><div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;      <a class="code" href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a>(chan, <span class="stringliteral">&quot;CALENDAR_SUCCESS&quot;</span>, <span class="stringliteral">&quot;1&quot;</span>);</div><div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;   }</div><div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;   <span class="keywordflow">if</span> (cal) {</div><div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;      cal = <a class="code" href="../../d7/dc3/res__calendar_8c.html#a1d3e21e2e050727f782d68652d1cc1f5">unref_calendar</a>(cal);</div><div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;   }</div><div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../df/d7d/structevent.html">event</a>) {</div><div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;      <span class="keyword">event</span> = <a class="code" href="../../d7/dc3/res__calendar_8c.html#a0b71ae1b1392b6095a17737375eb7671">ast_calendar_unref_event</a>(<a class="code" href="../../df/d7d/structevent.html">event</a>);</div><div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;   }</div><div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;   <span class="keywordflow">if</span> (val_dup) {</div><div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(val_dup);</div><div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;   }</div><div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;</div><div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;   <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;}</div><div class="ttc" id="structast__calendar_html_a2202508d2b59b02becb71802e5835cbd"><div class="ttname"><a href="../../d4/d1d/structast__calendar.html#a2202508d2b59b02becb71802e5835cbd">ast_calendar::tech</a></div><div class="ttdeci">const struct ast_calendar_tech * tech</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00118">calendar.h:118</a></div></div>
<div class="ttc" id="include_2asterisk_2app_8h_html_ac08f7eb1eb9476b30987c73e1052ada8"><div class="ttname"><a href="../../d3/d93/include_2asterisk_2app_8h.html#ac08f7eb1eb9476b30987c73e1052ada8">AST_STANDARD_APP_ARGS</a></div><div class="ttdeci">#define AST_STANDARD_APP_ARGS(args, parse)</div><div class="ttdoc">Performs the &amp;#39;standard&amp;#39; argument separation process for an application. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l01285">include/asterisk/app.h:1285</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="res__calendar_8c_html_af2623a75bbe6c1c6ff6a744b032b2599"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#af2623a75bbe6c1c6ff6a744b032b2599">find_calendar</a></div><div class="ttdeci">static struct ast_calendar * find_calendar(const char *name)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l00293">res_calendar.c:293</a></div></div>
<div class="ttc" id="structevent_html"><div class="ttname"><a href="../../df/d7d/structevent.html">event</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d4d/astman_8c_source.html#l00222">astman.c:222</a></div></div>
<div class="ttc" id="time_8h_html_ad3899efb6f0e348556ef69f5b16aa7f7"><div class="ttname"><a href="../../de/df7/time_8h.html#ad3899efb6f0e348556ef69f5b16aa7f7">ast_tvnow</a></div><div class="ttdeci">struct timeval ast_tvnow(void)</div><div class="ttdoc">Returns current timeval. Meant to replace calls to gettimeofday(). </div><div class="ttdef"><b>Definition:</b> <a href="../../de/df7/time_8h_source.html#l00150">time.h:150</a></div></div>
<div class="ttc" id="astmm_8h_html_ab263849d03fb892847be4986db759737"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a></div><div class="ttdeci">#define ast_strdup(str)</div><div class="ttdoc">A wrapper for strdup() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00243">astmm.h:243</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="syslog_8c_html_ac4f474c82e82cbb89ca7c36dd52be0ed"><div class="ttname"><a href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a></div><div class="ttdeci">int value</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d2f/syslog_8c_source.html#l00037">syslog.c:37</a></div></div>
<div class="ttc" id="res__calendar_8c_html_a5baeffb2016cfba709d05ab148e65ff9"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#a5baeffb2016cfba709d05ab148e65ff9">ast_calendar_event_alloc</a></div><div class="ttdeci">struct ast_calendar_event * ast_calendar_event_alloc(struct ast_calendar *cal)</div><div class="ttdoc">Allocate an astobj2 ast_calendar_event object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l00667">res_calendar.c:667</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="structast__calendar_html_ace9168767fc3707cf5f0a7d049682ba3"><div class="ttname"><a href="../../d4/d1d/structast__calendar.html#ace9168767fc3707cf5f0a7d049682ba3">ast_calendar::name</a></div><div class="ttdeci">const ast_string_field name</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00127">calendar.h:127</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="test__config_8c_html_a743528bf7a1998bdc18cb63a1bc4138f"><div class="ttname"><a href="../../d8/d4f/test__config_8c.html#a743528bf7a1998bdc18cb63a1bc4138f">categories</a></div><div class="ttdeci">struct association categories[]</div></div>
<div class="ttc" id="res__calendar_8c_html_a1d3e21e2e050727f782d68652d1cc1f5"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#a1d3e21e2e050727f782d68652d1cc1f5">unref_calendar</a></div><div class="ttdeci">static struct ast_calendar * unref_calendar(struct ast_calendar *cal)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l00275">res_calendar.c:275</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="structvalues_html"><div class="ttname"><a href="../../d2/d2b/structvalues.html">values</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dd1/cdr__sqlite3__custom_8c_source.html#l00066">cdr_sqlite3_custom.c:66</a></div></div>
<div class="ttc" id="pbx_8h_html_a6e5b90edb84d216267148dddcffe9b9a"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a></div><div class="ttdeci">int pbx_builtin_setvar_helper(struct ast_channel *chan, const char *name, const char *value)</div><div class="ttdoc">Add a variable to the channel variable stack, removing the most recently set value for the same name...</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d8c/pbx__variables_8c_source.html#l01071">pbx_variables.c:1071</a></div></div>
<div class="ttc" id="structast__calendar_html"><div class="ttname"><a href="../../d4/d1d/structast__calendar.html">ast_calendar</a></div><div class="ttdoc">Asterisk calendar structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00117">calendar.h:117</a></div></div>
<div class="ttc" id="structast__calendar__event_html"><div class="ttname"><a href="../../dc/d64/structast__calendar__event.html">ast_calendar_event</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00093">calendar.h:93</a></div></div>
<div class="ttc" id="structast__calendar__tech_html_a5842d9400ddddf02e6220598dbc8bee7"><div class="ttname"><a href="../../dd/dca/structast__calendar__tech.html#a5842d9400ddddf02e6220598dbc8bee7">ast_calendar_tech::write_event</a></div><div class="ttdeci">int(* write_event)(struct ast_calendar_event *event)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00077">calendar.h:77</a></div></div>
<div class="ttc" id="res__calendar_8c_html_a0b71ae1b1392b6095a17737375eb7671"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#a0b71ae1b1392b6095a17737375eb7671">ast_calendar_unref_event</a></div><div class="ttdeci">struct ast_calendar_event * ast_calendar_unref_event(struct ast_calendar_event *event)</div><div class="ttdoc">Unreference an ast_calendar_event. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l00321">res_calendar.c:321</a></div></div>
<div class="ttc" id="include_2asterisk_2app_8h_html_a80cd3f6f786b59b742bcecfc0b3be7c2"><div class="ttname"><a href="../../d3/d93/include_2asterisk_2app_8h.html#a80cd3f6f786b59b742bcecfc0b3be7c2">AST_DECLARE_APP_ARGS</a></div><div class="ttdeci">#define AST_DECLARE_APP_ARGS(name, arglist)</div><div class="ttdoc">Declare a structure to hold an application&amp;#39;s arguments. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l01249">include/asterisk/app.h:1249</a></div></div>
<div class="ttc" id="include_2asterisk_2app_8h_html_a037e9a5b28477b17e7c9acbe7ecb21d5"><div class="ttname"><a href="../../d3/d93/include_2asterisk_2app_8h.html#a037e9a5b28477b17e7c9acbe7ecb21d5">AST_APP_ARG</a></div><div class="ttdeci">#define AST_APP_ARG(name)</div><div class="ttdoc">Define an application argument. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l01232">include/asterisk/app.h:1232</a></div></div>
<div class="ttc" id="stringfields_8h_html_a653461abd6e0d16e4e3326ab90e0501d"><div class="ttname"><a href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a></div><div class="ttdeci">#define ast_string_field_set(x, field, data)</div><div class="ttdoc">Set a field to a simple string value. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d0f/stringfields_8h_source.html#l00514">stringfields.h:514</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3d944aed0d63a50f8de197354faa1fc2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d944aed0d63a50f8de197354faa1fc2">&#9670;&nbsp;</a></span>calendarstate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static enum <a class="el" href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eee">ast_device_state</a> calendarstate </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00381">381</a> of file <a class="el" href="../../d7/dc3/res__calendar_8c_source.html">res_calendar.c</a>.</p>

<p class="reference">References <a class="el" href="../../da/da2/devicestate_8h_source.html#l00055">AST_DEVICE_INUSE</a>, <a class="el" href="../../da/da2/devicestate_8h_source.html#l00057">AST_DEVICE_INVALID</a>, <a class="el" href="../../da/da2/devicestate_8h_source.html#l00054">AST_DEVICE_NOT_INUSE</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00372">calendar_is_busy()</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00293">find_calendar()</a>, <a class="el" href="../../da/d4a/calendar_8h_source.html#l00074">ast_calendar_tech::is_busy</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l00959">state</a>, <a class="el" href="../../da/d4a/calendar_8h_source.html#l00118">ast_calendar::tech</a>, and <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00275">unref_calendar()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l01900">load_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;{</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;   <span class="keyword">enum</span> <a class="code" href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eee">ast_device_state</a> <a class="code" href="../../d5/dfe/chan__sip_8c.html#a14a9662e09deed264497073732fb014a">state</a>;</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d1d/structast__calendar.html">ast_calendar</a> *cal;</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(data) || (!(cal = <a class="code" href="../../d7/dc3/res__calendar_8c.html#af2623a75bbe6c1c6ff6a744b032b2599">find_calendar</a>(data)))) {</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eeea9c008e1d20858cbc3275c157e02ebc94">AST_DEVICE_INVALID</a>;</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;   }</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;   <span class="keywordflow">if</span> (cal-&gt;<a class="code" href="../../d4/d1d/structast__calendar.html#a2202508d2b59b02becb71802e5835cbd">tech</a>-&gt;<a class="code" href="../../dd/dca/structast__calendar__tech.html#ac26fe5b76b25ca3fe6f6c8adcb63d67b">is_busy</a>) {</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;      state = cal-&gt;<a class="code" href="../../d4/d1d/structast__calendar.html#a2202508d2b59b02becb71802e5835cbd">tech</a>-&gt;<a class="code" href="../../dd/dca/structast__calendar__tech.html#ac26fe5b76b25ca3fe6f6c8adcb63d67b">is_busy</a>(cal) ? <a class="code" href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eeea23aa227468c09b5ebd0fb01b4c895190">AST_DEVICE_INUSE</a> : <a class="code" href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eeeadee91fc4886ffc7b4efb8459cef48fe2">AST_DEVICE_NOT_INUSE</a>;</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;      state = <a class="code" href="../../d7/dc3/res__calendar_8c.html#a7f475f91c6878f3033e4c1379311a220">calendar_is_busy</a>(cal) ? <a class="code" href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eeea23aa227468c09b5ebd0fb01b4c895190">AST_DEVICE_INUSE</a> : <a class="code" href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eeeadee91fc4886ffc7b4efb8459cef48fe2">AST_DEVICE_NOT_INUSE</a>;</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;   }</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;   cal = <a class="code" href="../../d7/dc3/res__calendar_8c.html#a1d3e21e2e050727f782d68652d1cc1f5">unref_calendar</a>(cal);</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d5/dfe/chan__sip_8c.html#a14a9662e09deed264497073732fb014a">state</a>;</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;}</div><div class="ttc" id="chan__sip_8c_html_a14a9662e09deed264497073732fb014a"><div class="ttname"><a href="../../d5/dfe/chan__sip_8c.html#a14a9662e09deed264497073732fb014a">state</a></div><div class="ttdeci">enum sip_cc_notify_state state</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dfe/chan__sip_8c_source.html#l00959">chan_sip.c:959</a></div></div>
<div class="ttc" id="devicestate_8h_html_af72f8a5c0601e4c1f8a852749cd44eee"><div class="ttname"><a href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eee">ast_device_state</a></div><div class="ttdeci">ast_device_state</div><div class="ttdoc">Device States. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/da2/devicestate_8h_source.html#l00052">devicestate.h:52</a></div></div>
<div class="ttc" id="structast__calendar_html_a2202508d2b59b02becb71802e5835cbd"><div class="ttname"><a href="../../d4/d1d/structast__calendar.html#a2202508d2b59b02becb71802e5835cbd">ast_calendar::tech</a></div><div class="ttdeci">const struct ast_calendar_tech * tech</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00118">calendar.h:118</a></div></div>
<div class="ttc" id="res__calendar_8c_html_af2623a75bbe6c1c6ff6a744b032b2599"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#af2623a75bbe6c1c6ff6a744b032b2599">find_calendar</a></div><div class="ttdeci">static struct ast_calendar * find_calendar(const char *name)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l00293">res_calendar.c:293</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="devicestate_8h_html_af72f8a5c0601e4c1f8a852749cd44eeeadee91fc4886ffc7b4efb8459cef48fe2"><div class="ttname"><a href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eeeadee91fc4886ffc7b4efb8459cef48fe2">AST_DEVICE_NOT_INUSE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/da2/devicestate_8h_source.html#l00054">devicestate.h:54</a></div></div>
<div class="ttc" id="devicestate_8h_html_af72f8a5c0601e4c1f8a852749cd44eeea23aa227468c09b5ebd0fb01b4c895190"><div class="ttname"><a href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eeea23aa227468c09b5ebd0fb01b4c895190">AST_DEVICE_INUSE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/da2/devicestate_8h_source.html#l00055">devicestate.h:55</a></div></div>
<div class="ttc" id="res__calendar_8c_html_a1d3e21e2e050727f782d68652d1cc1f5"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#a1d3e21e2e050727f782d68652d1cc1f5">unref_calendar</a></div><div class="ttdeci">static struct ast_calendar * unref_calendar(struct ast_calendar *cal)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l00275">res_calendar.c:275</a></div></div>
<div class="ttc" id="res__calendar_8c_html_a7f475f91c6878f3033e4c1379311a220"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#a7f475f91c6878f3033e4c1379311a220">calendar_is_busy</a></div><div class="ttdeci">static int calendar_is_busy(struct ast_calendar *cal)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l00372">res_calendar.c:372</a></div></div>
<div class="ttc" id="structast__calendar__tech_html_ac26fe5b76b25ca3fe6f6c8adcb63d67b"><div class="ttname"><a href="../../dd/dca/structast__calendar__tech.html#ac26fe5b76b25ca3fe6f6c8adcb63d67b">ast_calendar_tech::is_busy</a></div><div class="ttdeci">int(* is_busy)(struct ast_calendar *calendar)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00074">calendar.h:74</a></div></div>
<div class="ttc" id="structast__calendar_html"><div class="ttname"><a href="../../d4/d1d/structast__calendar.html">ast_calendar</a></div><div class="ttdoc">Asterisk calendar structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00117">calendar.h:117</a></div></div>
<div class="ttc" id="devicestate_8h_html_af72f8a5c0601e4c1f8a852749cd44eeea9c008e1d20858cbc3275c157e02ebc94"><div class="ttname"><a href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eeea9c008e1d20858cbc3275c157e02ebc94">AST_DEVICE_INVALID</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/da2/devicestate_8h_source.html#l00057">devicestate.h:57</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a45eab126bf0b77d2c8053e192ac3f728"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a45eab126bf0b77d2c8053e192ac3f728">&#9670;&nbsp;</a></span>cb_pending_deletion()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int cb_pending_deletion </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>user_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l01779">1779</a> of file <a class="el" href="../../d7/dc3/res__calendar_8c_source.html">res_calendar.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01031">CMP_MATCH</a>, and <a class="el" href="../../da/d4a/calendar_8h_source.html#l00137">ast_calendar::pending_deletion</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l01795">reload()</a>.</p>
<div class="fragment"><div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;{</div><div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d1d/structast__calendar.html">ast_calendar</a> *cal = user_data;</div><div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;</div><div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;   cal-&gt;<a class="code" href="../../d4/d1d/structast__calendar.html#a99b9610b16c3c0b56c364b98c9d20d35">pending_deletion</a> = 1;</div><div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;</div><div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d5/da5/astobj2_8h.html#a1f8b41308be4c47de8ff89a3b9c7e7d1a1959468a3c5d6aecd2fa1272d8e30fbf">CMP_MATCH</a>;</div><div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;}</div><div class="ttc" id="astobj2_8h_html_a1f8b41308be4c47de8ff89a3b9c7e7d1a1959468a3c5d6aecd2fa1272d8e30fbf"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a1f8b41308be4c47de8ff89a3b9c7e7d1a1959468a3c5d6aecd2fa1272d8e30fbf">CMP_MATCH</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01031">astobj2.h:1031</a></div></div>
<div class="ttc" id="structast__calendar_html_a99b9610b16c3c0b56c364b98c9d20d35"><div class="ttname"><a href="../../d4/d1d/structast__calendar.html#a99b9610b16c3c0b56c364b98c9d20d35">ast_calendar::pending_deletion</a></div><div class="ttdeci">unsigned int pending_deletion</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00137">calendar.h:137</a></div></div>
<div class="ttc" id="structast__calendar_html"><div class="ttname"><a href="../../d4/d1d/structast__calendar.html">ast_calendar</a></div><div class="ttdoc">Asterisk calendar structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00117">calendar.h:117</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a87a4161e1a9f24ee9adaad72c478e273"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a87a4161e1a9f24ee9adaad72c478e273">&#9670;&nbsp;</a></span>cb_rm_pending_deletion()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int cb_rm_pending_deletion </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>user_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l01788">1788</a> of file <a class="el" href="../../d7/dc3/res__calendar_8c_source.html">res_calendar.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01031">CMP_MATCH</a>, and <a class="el" href="../../da/d4a/calendar_8h_source.html#l00137">ast_calendar::pending_deletion</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l01795">reload()</a>.</p>
<div class="fragment"><div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;{</div><div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d1d/structast__calendar.html">ast_calendar</a> *cal = user_data;</div><div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;</div><div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;   <span class="keywordflow">return</span> cal-&gt;<a class="code" href="../../d4/d1d/structast__calendar.html#a99b9610b16c3c0b56c364b98c9d20d35">pending_deletion</a> ? <a class="code" href="../../d5/da5/astobj2_8h.html#a1f8b41308be4c47de8ff89a3b9c7e7d1a1959468a3c5d6aecd2fa1272d8e30fbf">CMP_MATCH</a> : 0;</div><div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;}</div><div class="ttc" id="astobj2_8h_html_a1f8b41308be4c47de8ff89a3b9c7e7d1a1959468a3c5d6aecd2fa1272d8e30fbf"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a1f8b41308be4c47de8ff89a3b9c7e7d1a1959468a3c5d6aecd2fa1272d8e30fbf">CMP_MATCH</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01031">astobj2.h:1031</a></div></div>
<div class="ttc" id="structast__calendar_html_a99b9610b16c3c0b56c364b98c9d20d35"><div class="ttname"><a href="../../d4/d1d/structast__calendar.html#a99b9610b16c3c0b56c364b98c9d20d35">ast_calendar::pending_deletion</a></div><div class="ttdeci">unsigned int pending_deletion</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00137">calendar.h:137</a></div></div>
<div class="ttc" id="structast__calendar_html"><div class="ttname"><a href="../../d4/d1d/structast__calendar.html">ast_calendar</a></div><div class="ttdoc">Asterisk calendar structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00117">calendar.h:117</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a37a62975769c3c1fefb5707e3f7df8c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a37a62975769c3c1fefb5707e3f7df8c4">&#9670;&nbsp;</a></span>clear_events_cb()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int clear_events_cb </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>user_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00651">651</a> of file <a class="el" href="../../d7/dc3/res__calendar_8c_source.html">res_calendar.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01031">CMP_MATCH</a>, and <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00626">destroy_event()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00660">ast_calendar_clear_events()</a>.</p>
<div class="fragment"><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;{</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/d64/structast__calendar__event.html">ast_calendar_event</a> *<span class="keyword">event</span> = user_data;</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;</div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;   <span class="keyword">event</span> = <a class="code" href="../../d7/dc3/res__calendar_8c.html#a3c38075f02a9aeb1b2491da4cdfb3261">destroy_event</a>(<a class="code" href="../../df/d7d/structevent.html">event</a>);</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;</div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d5/da5/astobj2_8h.html#a1f8b41308be4c47de8ff89a3b9c7e7d1a1959468a3c5d6aecd2fa1272d8e30fbf">CMP_MATCH</a>;</div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;}</div><div class="ttc" id="structevent_html"><div class="ttname"><a href="../../df/d7d/structevent.html">event</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d4d/astman_8c_source.html#l00222">astman.c:222</a></div></div>
<div class="ttc" id="res__calendar_8c_html_a3c38075f02a9aeb1b2491da4cdfb3261"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#a3c38075f02a9aeb1b2491da4cdfb3261">destroy_event</a></div><div class="ttdeci">static struct ast_calendar_event * destroy_event(struct ast_calendar_event *event)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l00626">res_calendar.c:626</a></div></div>
<div class="ttc" id="astobj2_8h_html_a1f8b41308be4c47de8ff89a3b9c7e7d1a1959468a3c5d6aecd2fa1272d8e30fbf"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a1f8b41308be4c47de8ff89a3b9c7e7d1a1959468a3c5d6aecd2fa1272d8e30fbf">CMP_MATCH</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01031">astobj2.h:1031</a></div></div>
<div class="ttc" id="structast__calendar__event_html"><div class="ttname"><a href="../../dc/d64/structast__calendar__event.html">ast_calendar_event</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00093">calendar.h:93</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a73d3cd7e459f692a815578ccd78a9689"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a73d3cd7e459f692a815578ccd78a9689">&#9670;&nbsp;</a></span>copy_event_data()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void copy_event_data </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dc/d64/structast__calendar__event.html">ast_calendar_event</a> *&#160;</td>
          <td class="paramname"><em>dst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../dc/d64/structast__calendar__event.html">ast_calendar_event</a> *&#160;</td>
          <td class="paramname"><em>src</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00926">926</a> of file <a class="el" href="../../d7/dc3/res__calendar_8c_source.html">res_calendar.c</a>.</p>

<p class="reference">References <a class="el" href="../../da/d4a/calendar_8h_source.html#l00106">ast_calendar_event::alarm</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00730">AST_LIST_INSERT_TAIL</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00832">AST_LIST_REMOVE_HEAD</a>, <a class="el" href="../../d1/d0f/stringfields_8h_source.html#l00514">ast_string_field_set</a>, <a class="el" href="../../dc/d64/structast__calendar__event.html#aecf2cf646e157e918cc64d69cbe6e6f3">ast_calendar_event::attendees</a>, <a class="el" href="../../da/d4a/calendar_8h_source.html#l00107">ast_calendar_event::busy_state</a>, <a class="el" href="../../da/d4a/calendar_8h_source.html#l00101">ast_calendar_event::categories</a>, <a class="el" href="../../d8/d4f/test__config_8c.html#a743528bf7a1998bdc18cb63a1bc4138f">categories</a>, <a class="el" href="../../da/d4a/calendar_8h_source.html#l00101">ast_calendar_event::description</a>, <a class="el" href="../../da/d4a/calendar_8h_source.html#l00105">ast_calendar_event::end</a>, <a class="el" href="../../da/d4a/calendar_8h_source.html#l00101">ast_calendar_event::location</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00249">evententry::next</a>, <a class="el" href="../../da/d4a/calendar_8h_source.html#l00101">ast_calendar_event::organizer</a>, <a class="el" href="../../da/d4a/calendar_8h_source.html#l00103">ast_calendar_event::owner</a>, <a class="el" href="../../da/d4a/calendar_8h_source.html#l00102">ast_calendar_event::priority</a>, <a class="el" href="../../da/d4a/calendar_8h_source.html#l00104">ast_calendar_event::start</a>, <a class="el" href="../../da/d4a/calendar_8h_source.html#l00101">ast_calendar_event::summary</a>, and <a class="el" href="../../da/d4a/calendar_8h_source.html#l00101">ast_calendar_event::uid</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l01016">merge_events_cb()</a>.</p>
<div class="fragment"><div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;{</div><div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d8/dd4/structast__calendar__attendee.html">ast_calendar_attendee</a> *attendee;</div><div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;</div><div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;   <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(dst, summary, src-&gt;<a class="code" href="../../dc/d64/structast__calendar__event.html#ad1e48ce65ffcec5cd319932c5992b984">summary</a>);</div><div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;   <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(dst, description, src-&gt;<a class="code" href="../../dc/d64/structast__calendar__event.html#a76f76ee5f847833b202461d55b23c17a">description</a>);</div><div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;   <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(dst, organizer, src-&gt;<a class="code" href="../../dc/d64/structast__calendar__event.html#a8f6e28f53ef146c7f954cd40022696fc">organizer</a>);</div><div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;   <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(dst, location, src-&gt;<a class="code" href="../../dc/d64/structast__calendar__event.html#a6a5b9c21797702c6d9ac875640b70489">location</a>);</div><div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;   <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(dst, uid, src-&gt;<a class="code" href="../../dc/d64/structast__calendar__event.html#a351c558d41ceba8d276ca848d3ca9def">uid</a>);</div><div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;   <a class="code" href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a>(dst, <a class="code" href="../../d8/d4f/test__config_8c.html#a743528bf7a1998bdc18cb63a1bc4138f">categories</a>, src-&gt;<a class="code" href="../../dc/d64/structast__calendar__event.html#a7f244b38bf6de6ec470bcc061092b5b5">categories</a>);</div><div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;   dst-&gt;<a class="code" href="../../dc/d64/structast__calendar__event.html#acec9ce2df15222151ad66fcb1d74eb9f">priority</a> = src-&gt;<a class="code" href="../../dc/d64/structast__calendar__event.html#acec9ce2df15222151ad66fcb1d74eb9f">priority</a>;</div><div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;   dst-&gt;<a class="code" href="../../dc/d64/structast__calendar__event.html#a4f624898c838b00a647325f5afacf4ee">owner</a> = src-&gt;<a class="code" href="../../dc/d64/structast__calendar__event.html#a4f624898c838b00a647325f5afacf4ee">owner</a>;</div><div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;   dst-&gt;<a class="code" href="../../dc/d64/structast__calendar__event.html#ada310e7f72b38fadd4b24d80ed3438ee">start</a> = src-&gt;<a class="code" href="../../dc/d64/structast__calendar__event.html#ada310e7f72b38fadd4b24d80ed3438ee">start</a>;</div><div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;   dst-&gt;<a class="code" href="../../dc/d64/structast__calendar__event.html#a13455ba845bf5d4dba37be491bc6a036">end</a> = src-&gt;<a class="code" href="../../dc/d64/structast__calendar__event.html#a13455ba845bf5d4dba37be491bc6a036">end</a>;</div><div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;   dst-&gt;<a class="code" href="../../dc/d64/structast__calendar__event.html#a37267f70d860de1087f76560dda134f7">alarm</a> = src-&gt;<a class="code" href="../../dc/d64/structast__calendar__event.html#a37267f70d860de1087f76560dda134f7">alarm</a>;</div><div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;   dst-&gt;<a class="code" href="../../dc/d64/structast__calendar__event.html#a38d2dfa1e10882593f310fa9d8604abb">busy_state</a> = src-&gt;<a class="code" href="../../dc/d64/structast__calendar__event.html#a38d2dfa1e10882593f310fa9d8604abb">busy_state</a>;</div><div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;</div><div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;   <span class="comment">/* Delete any existing attendees */</span></div><div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;   <span class="keywordflow">while</span> ((attendee = <a class="code" href="../../df/d90/linkedlists_8h.html#aadfe2a69fbba4f27c201266a2ca5f989">AST_LIST_REMOVE_HEAD</a>(&amp;dst-&gt;<a class="code" href="../../dc/d64/structast__calendar__event.html#aecf2cf646e157e918cc64d69cbe6e6f3">attendees</a>, <a class="code" href="../../d8/dd4/structast__calendar__attendee.html#a800f38590c4cfb0a8c9446c00169b13b">next</a>))) {</div><div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(attendee);</div><div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;   }</div><div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;</div><div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;   <span class="comment">/* Copy over the new attendees */</span></div><div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;   <span class="keywordflow">while</span> ((attendee = <a class="code" href="../../df/d90/linkedlists_8h.html#aadfe2a69fbba4f27c201266a2ca5f989">AST_LIST_REMOVE_HEAD</a>(&amp;src-&gt;<a class="code" href="../../dc/d64/structast__calendar__event.html#aecf2cf646e157e918cc64d69cbe6e6f3">attendees</a>, <a class="code" href="../../d8/dd4/structast__calendar__attendee.html#a800f38590c4cfb0a8c9446c00169b13b">next</a>))) {</div><div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;      <a class="code" href="../../df/d90/linkedlists_8h.html#a4d258b4525e63c435d7de579d3f46960">AST_LIST_INSERT_TAIL</a>(&amp;dst-&gt;<a class="code" href="../../dc/d64/structast__calendar__event.html#aecf2cf646e157e918cc64d69cbe6e6f3">attendees</a>, attendee, <a class="code" href="../../d8/dd4/structast__calendar__attendee.html#a800f38590c4cfb0a8c9446c00169b13b">next</a>);</div><div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;   }</div><div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;}</div><div class="ttc" id="structast__calendar__event_html_a13455ba845bf5d4dba37be491bc6a036"><div class="ttname"><a href="../../dc/d64/structast__calendar__event.html#a13455ba845bf5d4dba37be491bc6a036">ast_calendar_event::end</a></div><div class="ttdeci">time_t end</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00105">calendar.h:105</a></div></div>
<div class="ttc" id="structast__calendar__attendee_html_a800f38590c4cfb0a8c9446c00169b13b"><div class="ttname"><a href="../../d8/dd4/structast__calendar__attendee.html#a800f38590c4cfb0a8c9446c00169b13b">ast_calendar_attendee::next</a></div><div class="ttdeci">struct ast_calendar_attendee * next</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00089">calendar.h:89</a></div></div>
<div class="ttc" id="structast__calendar__event_html_a351c558d41ceba8d276ca848d3ca9def"><div class="ttname"><a href="../../dc/d64/structast__calendar__event.html#a351c558d41ceba8d276ca848d3ca9def">ast_calendar_event::uid</a></div><div class="ttdeci">const ast_string_field uid</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00101">calendar.h:101</a></div></div>
<div class="ttc" id="structast__calendar__event_html_a38d2dfa1e10882593f310fa9d8604abb"><div class="ttname"><a href="../../dc/d64/structast__calendar__event.html#a38d2dfa1e10882593f310fa9d8604abb">ast_calendar_event::busy_state</a></div><div class="ttdeci">enum ast_calendar_busy_state busy_state</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00107">calendar.h:107</a></div></div>
<div class="ttc" id="structast__calendar__event_html_a76f76ee5f847833b202461d55b23c17a"><div class="ttname"><a href="../../dc/d64/structast__calendar__event.html#a76f76ee5f847833b202461d55b23c17a">ast_calendar_event::description</a></div><div class="ttdeci">const ast_string_field description</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00101">calendar.h:101</a></div></div>
<div class="ttc" id="structast__calendar__event_html_a8f6e28f53ef146c7f954cd40022696fc"><div class="ttname"><a href="../../dc/d64/structast__calendar__event.html#a8f6e28f53ef146c7f954cd40022696fc">ast_calendar_event::organizer</a></div><div class="ttdeci">const ast_string_field organizer</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00101">calendar.h:101</a></div></div>
<div class="ttc" id="structast__calendar__event_html_a6a5b9c21797702c6d9ac875640b70489"><div class="ttname"><a href="../../dc/d64/structast__calendar__event.html#a6a5b9c21797702c6d9ac875640b70489">ast_calendar_event::location</a></div><div class="ttdeci">const ast_string_field location</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00101">calendar.h:101</a></div></div>
<div class="ttc" id="linkedlists_8h_html_aadfe2a69fbba4f27c201266a2ca5f989"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#aadfe2a69fbba4f27c201266a2ca5f989">AST_LIST_REMOVE_HEAD</a></div><div class="ttdeci">#define AST_LIST_REMOVE_HEAD(head, field)</div><div class="ttdoc">Removes and returns the head entry from a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00832">linkedlists.h:832</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a4d258b4525e63c435d7de579d3f46960"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a4d258b4525e63c435d7de579d3f46960">AST_LIST_INSERT_TAIL</a></div><div class="ttdeci">#define AST_LIST_INSERT_TAIL(head, elm, field)</div><div class="ttdoc">Appends a list entry to the tail of a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00730">linkedlists.h:730</a></div></div>
<div class="ttc" id="test__config_8c_html_a743528bf7a1998bdc18cb63a1bc4138f"><div class="ttname"><a href="../../d8/d4f/test__config_8c.html#a743528bf7a1998bdc18cb63a1bc4138f">categories</a></div><div class="ttdeci">struct association categories[]</div></div>
<div class="ttc" id="structast__calendar__attendee_html"><div class="ttname"><a href="../../d8/dd4/structast__calendar__attendee.html">ast_calendar_attendee</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00087">calendar.h:87</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="structast__calendar__event_html_a4f624898c838b00a647325f5afacf4ee"><div class="ttname"><a href="../../dc/d64/structast__calendar__event.html#a4f624898c838b00a647325f5afacf4ee">ast_calendar_event::owner</a></div><div class="ttdeci">struct ast_calendar * owner</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00103">calendar.h:103</a></div></div>
<div class="ttc" id="structast__calendar__event_html_a7f244b38bf6de6ec470bcc061092b5b5"><div class="ttname"><a href="../../dc/d64/structast__calendar__event.html#a7f244b38bf6de6ec470bcc061092b5b5">ast_calendar_event::categories</a></div><div class="ttdeci">const ast_string_field categories</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00101">calendar.h:101</a></div></div>
<div class="ttc" id="structast__calendar__event_html_aecf2cf646e157e918cc64d69cbe6e6f3"><div class="ttname"><a href="../../dc/d64/structast__calendar__event.html#aecf2cf646e157e918cc64d69cbe6e6f3">ast_calendar_event::attendees</a></div><div class="ttdeci">struct ast_calendar_event::attendees attendees</div></div>
<div class="ttc" id="structast__calendar__event_html_ada310e7f72b38fadd4b24d80ed3438ee"><div class="ttname"><a href="../../dc/d64/structast__calendar__event.html#ada310e7f72b38fadd4b24d80ed3438ee">ast_calendar_event::start</a></div><div class="ttdeci">time_t start</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00104">calendar.h:104</a></div></div>
<div class="ttc" id="structast__calendar__event_html_a37267f70d860de1087f76560dda134f7"><div class="ttname"><a href="../../dc/d64/structast__calendar__event.html#a37267f70d860de1087f76560dda134f7">ast_calendar_event::alarm</a></div><div class="ttdeci">time_t alarm</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00106">calendar.h:106</a></div></div>
<div class="ttc" id="structast__calendar__event_html_ad1e48ce65ffcec5cd319932c5992b984"><div class="ttname"><a href="../../dc/d64/structast__calendar__event.html#ad1e48ce65ffcec5cd319932c5992b984">ast_calendar_event::summary</a></div><div class="ttdeci">const ast_string_field summary</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00101">calendar.h:101</a></div></div>
<div class="ttc" id="structast__calendar__event_html_acec9ce2df15222151ad66fcb1d74eb9f"><div class="ttname"><a href="../../dc/d64/structast__calendar__event.html#acec9ce2df15222151ad66fcb1d74eb9f">ast_calendar_event::priority</a></div><div class="ttdeci">int priority</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00102">calendar.h:102</a></div></div>
<div class="ttc" id="stringfields_8h_html_a653461abd6e0d16e4e3326ab90e0501d"><div class="ttname"><a href="../../d1/d0f/stringfields_8h.html#a653461abd6e0d16e4e3326ab90e0501d">ast_string_field_set</a></div><div class="ttdeci">#define ast_string_field_set(x, field, data)</div><div class="ttdoc">Set a field to a simple string value. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d0f/stringfields_8h_source.html#l00514">stringfields.h:514</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3c38075f02a9aeb1b2491da4cdfb3261"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c38075f02a9aeb1b2491da4cdfb3261">&#9670;&nbsp;</a></span>destroy_event()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="../../dc/d64/structast__calendar__event.html">ast_calendar_event</a>* destroy_event </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dc/d64/structast__calendar__event.html">ast_calendar_event</a> *&#160;</td>
          <td class="paramname"><em>event</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00626">626</a> of file <a class="el" href="../../d7/dc3/res__calendar_8c_source.html">res_calendar.c</a>.</p>

<p class="reference">References <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../da/da2/devicestate_8h_source.html#l00056">AST_DEVICE_BUSY</a>, <a class="el" href="../../da/da2/devicestate_8h_source.html#l00054">AST_DEVICE_NOT_INUSE</a>, <a class="el" href="../../da/da2/devicestate_8h_source.html#l00070">AST_DEVSTATE_CACHABLE</a>, <a class="el" href="../../d1/d80/devicestate_8c_source.html#l00510">ast_devstate_changed()</a>, <a class="el" href="../../db/dbe/sched_8c_source.html#l00610">ast_sched_del()</a>, <a class="el" href="../../da/d4a/calendar_8h_source.html#l00110">ast_calendar_event::bs_end_sched</a>, <a class="el" href="../../da/d4a/calendar_8h_source.html#l00109">ast_calendar_event::bs_start_sched</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00372">calendar_is_busy()</a>, <a class="el" href="../../da/d4a/calendar_8h_source.html#l00127">ast_calendar::name</a>, <a class="el" href="../../da/d4a/calendar_8h_source.html#l00108">ast_calendar_event::notify_sched</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../da/d4a/calendar_8h_source.html#l00103">ast_calendar_event::owner</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00651">clear_events_cb()</a>, and <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l01016">merge_events_cb()</a>.</p>
<div class="fragment"><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;{</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;   <span class="keywordflow">if</span> (event-&gt;<a class="code" href="../../dc/d64/structast__calendar__event.html#adb515bd0efdb2404268fc8dc797b54bb">notify_sched</a> &gt; -1 &amp;&amp; <a class="code" href="../../d7/d00/sched_8h.html#a3a093634fe17bd0ac4eb6f518aa0782e">ast_sched_del</a>(<a class="code" href="../../d0/da0/structsched.html">sched</a>, event-&gt;<a class="code" href="../../dc/d64/structast__calendar__event.html#adb515bd0efdb2404268fc8dc797b54bb">notify_sched</a>)) {</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(3, <span class="stringliteral">&quot;Notification running, can&#39;t delete sched entry\n&quot;</span>);</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;   }</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;   <span class="keywordflow">if</span> (event-&gt;<a class="code" href="../../dc/d64/structast__calendar__event.html#adf086df88eee77a2f3028f3b0dd7823c">bs_start_sched</a> &gt; -1 &amp;&amp; <a class="code" href="../../d7/d00/sched_8h.html#a3a093634fe17bd0ac4eb6f518aa0782e">ast_sched_del</a>(<a class="code" href="../../d0/da0/structsched.html">sched</a>, event-&gt;<a class="code" href="../../dc/d64/structast__calendar__event.html#adf086df88eee77a2f3028f3b0dd7823c">bs_start_sched</a>)) {</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(3, <span class="stringliteral">&quot;Devicestate update (start) running, can&#39;t delete sched entry\n&quot;</span>);</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;   }</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;   <span class="keywordflow">if</span> (event-&gt;<a class="code" href="../../dc/d64/structast__calendar__event.html#a1919432937cb7f4866ac34e78de0924f">bs_end_sched</a> &gt; -1 &amp;&amp; <a class="code" href="../../d7/d00/sched_8h.html#a3a093634fe17bd0ac4eb6f518aa0782e">ast_sched_del</a>(<a class="code" href="../../d0/da0/structsched.html">sched</a>, event-&gt;<a class="code" href="../../dc/d64/structast__calendar__event.html#a1919432937cb7f4866ac34e78de0924f">bs_end_sched</a>)) {</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(3, <span class="stringliteral">&quot;Devicestate update (end) running, can&#39;t delete sched entry\n&quot;</span>);</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;   }</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;   <span class="comment">/* If an event is being deleted and we&#39;ve fired an event changing the status at the beginning,</span></div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;<span class="comment">    * but haven&#39;t hit the end event yet, go ahead and set the devicestate to the current busy status */</span></div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;   <span class="keywordflow">if</span> (event-&gt;<a class="code" href="../../dc/d64/structast__calendar__event.html#adf086df88eee77a2f3028f3b0dd7823c">bs_start_sched</a> &lt; 0 &amp;&amp; event-&gt;<a class="code" href="../../dc/d64/structast__calendar__event.html#a1919432937cb7f4866ac34e78de0924f">bs_end_sched</a> &gt;= 0) {</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="../../d7/dc3/res__calendar_8c.html#a7f475f91c6878f3033e4c1379311a220">calendar_is_busy</a>(event-&gt;<a class="code" href="../../dc/d64/structast__calendar__event.html#a4f624898c838b00a647325f5afacf4ee">owner</a>)) {</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;         <a class="code" href="../../da/da2/devicestate_8h.html#a62a8e6bc4b82dd797e505688f9f29bff">ast_devstate_changed</a>(<a class="code" href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eeeadee91fc4886ffc7b4efb8459cef48fe2">AST_DEVICE_NOT_INUSE</a>, <a class="code" href="../../da/da2/devicestate_8h.html#a26cbac580d3e86b529f90058f6e91ac7a3683b746ab070a6455934b5d24dbd779">AST_DEVSTATE_CACHABLE</a>, <span class="stringliteral">&quot;Calendar:%s&quot;</span>, event-&gt;<a class="code" href="../../dc/d64/structast__calendar__event.html#a4f624898c838b00a647325f5afacf4ee">owner</a>-&gt;<a class="code" href="../../d4/d1d/structast__calendar.html#ace9168767fc3707cf5f0a7d049682ba3">name</a>);</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;         <a class="code" href="../../da/da2/devicestate_8h.html#a62a8e6bc4b82dd797e505688f9f29bff">ast_devstate_changed</a>(<a class="code" href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eeeab43afabf5bcd4ad1f531ad78c48ccb6f">AST_DEVICE_BUSY</a>, <a class="code" href="../../da/da2/devicestate_8h.html#a26cbac580d3e86b529f90058f6e91ac7a3683b746ab070a6455934b5d24dbd779">AST_DEVSTATE_CACHABLE</a>, <span class="stringliteral">&quot;Calendar:%s&quot;</span>, event-&gt;<a class="code" href="../../dc/d64/structast__calendar__event.html#a4f624898c838b00a647325f5afacf4ee">owner</a>-&gt;<a class="code" href="../../d4/d1d/structast__calendar.html#ace9168767fc3707cf5f0a7d049682ba3">name</a>);</div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;      }</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;   }</div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;}</div><div class="ttc" id="structsched_html"><div class="ttname"><a href="../../d0/da0/structsched.html">sched</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/dbe/sched_8c_source.html#l00076">sched.c:76</a></div></div>
<div class="ttc" id="structast__calendar__event_html_a1919432937cb7f4866ac34e78de0924f"><div class="ttname"><a href="../../dc/d64/structast__calendar__event.html#a1919432937cb7f4866ac34e78de0924f">ast_calendar_event::bs_end_sched</a></div><div class="ttdeci">int bs_end_sched</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00110">calendar.h:110</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="devicestate_8h_html_a62a8e6bc4b82dd797e505688f9f29bff"><div class="ttname"><a href="../../da/da2/devicestate_8h.html#a62a8e6bc4b82dd797e505688f9f29bff">ast_devstate_changed</a></div><div class="ttdeci">int ast_devstate_changed(enum ast_device_state state, enum ast_devstate_cache cachable, const char *fmt,...)</div><div class="ttdoc">Tells Asterisk the State for Device is changed. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d80/devicestate_8c_source.html#l00510">devicestate.c:510</a></div></div>
<div class="ttc" id="structast__calendar_html_ace9168767fc3707cf5f0a7d049682ba3"><div class="ttname"><a href="../../d4/d1d/structast__calendar.html#ace9168767fc3707cf5f0a7d049682ba3">ast_calendar::name</a></div><div class="ttdeci">const ast_string_field name</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00127">calendar.h:127</a></div></div>
<div class="ttc" id="devicestate_8h_html_af72f8a5c0601e4c1f8a852749cd44eeeadee91fc4886ffc7b4efb8459cef48fe2"><div class="ttname"><a href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eeeadee91fc4886ffc7b4efb8459cef48fe2">AST_DEVICE_NOT_INUSE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/da2/devicestate_8h_source.html#l00054">devicestate.h:54</a></div></div>
<div class="ttc" id="devicestate_8h_html_af72f8a5c0601e4c1f8a852749cd44eeeab43afabf5bcd4ad1f531ad78c48ccb6f"><div class="ttname"><a href="../../da/da2/devicestate_8h.html#af72f8a5c0601e4c1f8a852749cd44eeeab43afabf5bcd4ad1f531ad78c48ccb6f">AST_DEVICE_BUSY</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/da2/devicestate_8h_source.html#l00056">devicestate.h:56</a></div></div>
<div class="ttc" id="res__calendar_8c_html_a7f475f91c6878f3033e4c1379311a220"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#a7f475f91c6878f3033e4c1379311a220">calendar_is_busy</a></div><div class="ttdeci">static int calendar_is_busy(struct ast_calendar *cal)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l00372">res_calendar.c:372</a></div></div>
<div class="ttc" id="structast__calendar__event_html_adb515bd0efdb2404268fc8dc797b54bb"><div class="ttname"><a href="../../dc/d64/structast__calendar__event.html#adb515bd0efdb2404268fc8dc797b54bb">ast_calendar_event::notify_sched</a></div><div class="ttdeci">int notify_sched</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00108">calendar.h:108</a></div></div>
<div class="ttc" id="structast__calendar__event_html_a4f624898c838b00a647325f5afacf4ee"><div class="ttname"><a href="../../dc/d64/structast__calendar__event.html#a4f624898c838b00a647325f5afacf4ee">ast_calendar_event::owner</a></div><div class="ttdeci">struct ast_calendar * owner</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00103">calendar.h:103</a></div></div>
<div class="ttc" id="sched_8h_html_a3a093634fe17bd0ac4eb6f518aa0782e"><div class="ttname"><a href="../../d7/d00/sched_8h.html#a3a093634fe17bd0ac4eb6f518aa0782e">ast_sched_del</a></div><div class="ttdeci">int ast_sched_del(struct ast_sched_context *con, int id) attribute_warn_unused_result</div><div class="ttdoc">Deletes a scheduled event. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/dbe/sched_8c_source.html#l00610">sched.c:610</a></div></div>
<div class="ttc" id="devicestate_8h_html_a26cbac580d3e86b529f90058f6e91ac7a3683b746ab070a6455934b5d24dbd779"><div class="ttname"><a href="../../da/da2/devicestate_8h.html#a26cbac580d3e86b529f90058f6e91ac7a3683b746ab070a6455934b5d24dbd779">AST_DEVSTATE_CACHABLE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/da2/devicestate_8h_source.html#l00070">devicestate.h:70</a></div></div>
<div class="ttc" id="structast__calendar__event_html_adf086df88eee77a2f3028f3b0dd7823c"><div class="ttname"><a href="../../dc/d64/structast__calendar__event.html#adf086df88eee77a2f3028f3b0dd7823c">ast_calendar_event::bs_start_sched</a></div><div class="ttdeci">int bs_start_sched</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00109">calendar.h:109</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab48b85a30fd9ca86a789f719808b4d55"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab48b85a30fd9ca86a789f719808b4d55">&#9670;&nbsp;</a></span>do_notify()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void* do_notify </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00741">741</a> of file <a class="el" href="../../d7/dc3/res__calendar_8c_source.html">res_calendar.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00321">ast_calendar_unref_event()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l01259">ast_channel_alloc</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00348">ast_channel_context_set()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l02390">ast_channel_datastore_add()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00357">ast_channel_exten_set()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02945">ast_channel_lock</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00677">ast_channel_nativeformats_set()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00448">ast_channel_priority_set()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l01584">ast_channel_release()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00828">ast_channel_set_rawreadformat()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00832">ast_channel_set_rawwriteformat()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00836">ast_channel_set_readformat()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00840">ast_channel_set_writeformat()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00773">ast_channel_tech_set()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../d9/db6/datastore_8h_source.html#l00089">ast_datastore_alloc</a>, <a class="el" href="../../de/d43/dial_8c_source.html#l00993">ast_dial_answered_steal()</a>, <a class="el" href="../../de/d43/dial_8c_source.html#l00282">ast_dial_append()</a>, <a class="el" href="../../de/d43/dial_8c_source.html#l00225">ast_dial_create()</a>, <a class="el" href="../../de/d43/dial_8c_source.html#l01091">ast_dial_destroy()</a>, <a class="el" href="../../df/dcf/dial_8h_source.html#l00044">AST_DIAL_OPTION_ANSWER_EXEC</a>, <a class="el" href="../../de/d43/dial_8c_source.html#l01151">ast_dial_option_global_enable()</a>, <a class="el" href="../../df/dcf/dial_8h_source.html#l00061">AST_DIAL_RESULT_ANSWERED</a>, <a class="el" href="../../de/d43/dial_8c_source.html#l00939">ast_dial_run()</a>, <a class="el" href="../../de/d43/dial_8c_source.html#l01313">ast_dial_set_global_timeout()</a>, <a class="el" href="../../d0/d3c/format__cap_8h_source.html#l00052">ast_format_cap_alloc</a>, <a class="el" href="../../d0/d3c/format__cap_8h_source.html#l00103">ast_format_cap_append</a>, <a class="el" href="../../d0/d3c/format__cap_8h_source.html#l00038">AST_FORMAT_CAP_FLAG_DEFAULT</a>, <a class="el" href="../../d9/d29/format__cache_8c_source.html#l00041">ast_format_slin</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l04759">ast_pbx_run()</a>, <a class="el" href="../../d9/d95/channelstate_8h_source.html#l00036">AST_STATE_DOWN</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00714">ast_str_buffer()</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00620">ast_str_create</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l01065">ast_str_set()</a>, <a class="el" href="../../d3/d8c/pbx__variables_8c_source.html#l00616">ast_str_substitute_variables()</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00300">ast_strdupa</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00463">ast_verb</a>, <a class="el" href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">buf</a>, <a class="el" href="../../d9/db6/datastore_8h_source.html#l00070">ast_datastore::data</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l00193">DATASTORE_INHERIT_FOREVER</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00248">evententry::event</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00717">generate_random_string()</a>, <a class="el" href="../../d9/db6/datastore_8h_source.html#l00073">ast_datastore::inheritance</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00085">ast_variable::name</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00090">ast_variable::next</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d3/d8c/pbx__variables_8c_source.html#l01071">pbx_builtin_setvar_helper()</a>, and <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00087">ast_variable::value</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00868">calendar_event_notify()</a>.</p>
<div class="fragment"><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;{</div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/d64/structast__calendar__event.html">ast_calendar_event</a> *<span class="keyword">event</span> = data;</div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../db/db7/structast__dial.html">ast_dial</a> *dial = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/da2/structast__str.html">ast_str</a> *apptext = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, *tmpstr = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d5d/structast__datastore.html">ast_datastore</a> *datastore;</div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;   <span class="keyword">enum</span> <a class="code" href="../../df/dcf/dial_8h.html#a2054b1ddc7845e78286254b366a37847">ast_dial_result</a> res;</div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/d02/structast__variable.html">ast_variable</a> *itervar;</div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;   <span class="keywordtype">char</span> *tech, *dest;</div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;   <span class="keywordtype">char</span> <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>[33];</div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d8/d69/structast__format__cap.html">ast_format_cap</a> *caps;</div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;</div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;   tech = <a class="code" href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a>(<a class="code" href="../../df/d7d/structevent.html">event</a>-&gt;owner-&gt;notify_channel);</div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;</div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;   <span class="keywordflow">if</span> ((dest = strchr(tech, <span class="charliteral">&#39;/&#39;</span>))) {</div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;      *dest = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;      dest++;</div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Channel should be in form Tech/Dest (was &#39;%s&#39;)\n&quot;</span>, tech);</div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;      <span class="keywordflow">goto</span> notify_cleanup;</div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;   }</div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;</div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;   <span class="keywordflow">if</span> (!(dial = <a class="code" href="../../df/dcf/dial_8h.html#aff55dbc56bc54126828f78a47d1f2282">ast_dial_create</a>())) {</div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Could not create dial structure\n&quot;</span>);</div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;      <span class="keywordflow">goto</span> notify_cleanup;</div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;   }</div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;</div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../df/dcf/dial_8h.html#a2bd4d9ffd57e401b004cc131bd2ad497">ast_dial_append</a>(dial, tech, dest, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) &lt; 0) {</div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Could not append channel\n&quot;</span>);</div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;      <span class="keywordflow">goto</span> notify_cleanup;</div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;   }</div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;</div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;   <a class="code" href="../../df/dcf/dial_8h.html#a4d113a25d55a4ad9509fd954885f1dbc">ast_dial_set_global_timeout</a>(dial, <a class="code" href="../../df/d7d/structevent.html">event</a>-&gt;owner-&gt;notify_waittime);</div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;   <a class="code" href="../../d7/dc3/res__calendar_8c.html#a41f9ca037761557a34fb03157732e67b">generate_random_string</a>(buf, <span class="keyword">sizeof</span>(buf));</div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;</div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;   <span class="keywordflow">if</span> (!(chan = <a class="code" href="../../d5/d7b/channel_8h.html#a2f18aafad0442206e71033ac6676dbb5">ast_channel_alloc</a>(1, <a class="code" href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660a81348336816e0a2f6f3a76da487a46dc">AST_STATE_DOWN</a>, 0, 0, 0, 0, 0, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0, <span class="stringliteral">&quot;Calendar/%s-%s&quot;</span>, <a class="code" href="../../df/d7d/structevent.html">event</a>-&gt;owner-&gt;name, buf))) {</div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Could not allocate notification channel\n&quot;</span>);</div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;      <span class="keywordflow">goto</span> notify_cleanup;</div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;   }</div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;</div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af0566a4937a5bb1323825e4ef89c0e5a">ast_channel_tech_set</a>(chan, &amp;<a class="code" href="../../d7/dc3/res__calendar_8c.html#a5b39e7d66ab86608026ed4c88e864da3">null_tech</a>);</div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#afac6d7d115c1edfe3ad8a8c7fa5d59d1">ast_channel_set_writeformat</a>(chan, <a class="code" href="../../db/d1c/format__cache_8h.html#a771d7c34570e8e492c25a0c2eb41889d">ast_format_slin</a>);</div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#ab3786cbbff7a03241fc75dafa0c8a1c1">ast_channel_set_readformat</a>(chan, <a class="code" href="../../db/d1c/format__cache_8h.html#a771d7c34570e8e492c25a0c2eb41889d">ast_format_slin</a>);</div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#aa2df58e77751b741b6891afe210b5b8c">ast_channel_set_rawwriteformat</a>(chan, <a class="code" href="../../db/d1c/format__cache_8h.html#a771d7c34570e8e492c25a0c2eb41889d">ast_format_slin</a>);</div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a921a2d48faa9ed99a59d33e7aefa7888">ast_channel_set_rawreadformat</a>(chan, <a class="code" href="../../db/d1c/format__cache_8h.html#a771d7c34570e8e492c25a0c2eb41889d">ast_format_slin</a>);</div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;</div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;   caps = <a class="code" href="../../d0/d3c/format__cap_8h.html#aeb38ee3bdc8594745a707c0927146fdb">ast_format_cap_alloc</a>(<a class="code" href="../../d0/d3c/format__cap_8h.html#a51f3293ae7b01a8353bf4aa1204abba5ad111d20686641a6f0fc5efd33c82e97a">AST_FORMAT_CAP_FLAG_DEFAULT</a>);</div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;   <span class="keywordflow">if</span> (!caps) {</div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Could not allocate capabilities, notification not being sent!\n&quot;</span>);</div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;      <span class="keywordflow">goto</span> notify_cleanup;</div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;   }</div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;   <a class="code" href="../../d0/d3c/format__cap_8h.html#ab4d69f2179ed5ca138c9b3d85334217f">ast_format_cap_append</a>(caps, <a class="code" href="../../db/d1c/format__cache_8h.html#a771d7c34570e8e492c25a0c2eb41889d">ast_format_slin</a>, 0);</div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a3c9c29fb2bc2b715fee335c1ffa50449">ast_channel_nativeformats_set</a>(chan, caps);</div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(caps, -1);</div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;</div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;</div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;   <span class="keywordflow">if</span> (!(datastore = <a class="code" href="../../d9/db6/datastore_8h.html#a666afb07fd77d50782cc10f83e029159">ast_datastore_alloc</a>(&amp;<a class="code" href="../../d7/dc3/res__calendar_8c.html#a3cdf9684aa289139de4a3a658a6ef464">event_notification_datastore</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>))) {</div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Could not allocate datastore, notification not being sent!\n&quot;</span>);</div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;      <span class="keywordflow">goto</span> notify_cleanup;</div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;   }</div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;</div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;   datastore-&gt;<a class="code" href="../../d4/d5d/structast__datastore.html#a735984d41155bc1032e09bece8f8d66d">data</a> = <a class="code" href="../../df/d7d/structevent.html">event</a>;</div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;   datastore-&gt;<a class="code" href="../../d4/d5d/structast__datastore.html#a79d869daa2e63a92b3e5f542446031bb">inheritance</a> = <a class="code" href="../../d5/d7b/channel_8h.html#a3a32e3014998d0066281c4dd8e278ae9">DATASTORE_INHERIT_FOREVER</a>;</div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;</div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(<a class="code" href="../../df/d7d/structevent.html">event</a>, +1);</div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;</div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(chan);</div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;   res = <a class="code" href="../../d5/d7b/channel_8h.html#a1ed3e98d33d5587948a0e2ef67a81f52">ast_channel_datastore_add</a>(chan, datastore);</div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;</div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;   <span class="keywordflow">if</span> (!(tmpstr = <a class="code" href="../../d6/d90/strings_8h.html#a9c34c6c6b8daaba24c0406270f3cf697">ast_str_create</a>(32))) {</div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;      <span class="keywordflow">goto</span> notify_cleanup;</div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;   }</div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;</div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;   <span class="keywordflow">for</span> (itervar = <a class="code" href="../../df/d7d/structevent.html">event</a>-&gt;owner-&gt;vars; itervar; itervar = itervar-&gt;<a class="code" href="../../dd/d02/structast__variable.html#afaaf66cc5029a563bd0bb9df076ea14b">next</a>) {</div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;      <a class="code" href="../../db/de0/pbx_8h.html#a556749361c7b9109134c8d00ab4ef6bf">ast_str_substitute_variables</a>(&amp;tmpstr, 0, chan, itervar-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">value</a>);</div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;      <a class="code" href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a>(chan, itervar-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <a class="code" href="../../d6/d90/strings_8h.html#a1ef7e2644ca7258070db316fdc0a465b">ast_str_buffer</a>(tmpstr));</div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;   }</div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;</div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;   <span class="keywordflow">if</span> (!(apptext = <a class="code" href="../../d6/d90/strings_8h.html#a9c34c6c6b8daaba24c0406270f3cf697">ast_str_create</a>(32))) {</div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;      <span class="keywordflow">goto</span> notify_cleanup;</div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;   }</div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;</div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(<a class="code" href="../../df/d7d/structevent.html">event</a>-&gt;owner-&gt;notify_app)) {</div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;      <a class="code" href="../../d6/d90/strings_8h.html#aa3341f35cedca29e60bb7f3927204283">ast_str_set</a>(&amp;apptext, 0, <span class="stringliteral">&quot;%s,%s&quot;</span>, <a class="code" href="../../df/d7d/structevent.html">event</a>-&gt;owner-&gt;notify_app, <a class="code" href="../../df/d7d/structevent.html">event</a>-&gt;owner-&gt;notify_appdata);</div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;      <a class="code" href="../../df/dcf/dial_8h.html#ab8b2433b581e1a73f860e4cf262a2890">ast_dial_option_global_enable</a>(dial, <a class="code" href="../../df/dcf/dial_8h.html#aaa04d25740b60e15179613e6465cff39a33cfbc9c99a6c908c4e9c1a9e622b9c5">AST_DIAL_OPTION_ANSWER_EXEC</a>, <a class="code" href="../../d6/d90/strings_8h.html#a1ef7e2644ca7258070db316fdc0a465b">ast_str_buffer</a>(apptext));</div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;   }</div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;</div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(3, <span class="stringliteral">&quot;Dialing %s for notification on calendar %s\n&quot;</span>, <a class="code" href="../../df/d7d/structevent.html">event</a>-&gt;owner-&gt;notify_channel, <a class="code" href="../../df/d7d/structevent.html">event</a>-&gt;owner-&gt;name);</div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;   res = <a class="code" href="../../df/dcf/dial_8h.html#a65e30d29847af5495afe1baed823957e">ast_dial_run</a>(dial, chan, 0);</div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;</div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;   <span class="keywordflow">if</span> (res != <a class="code" href="../../df/dcf/dial_8h.html#a2054b1ddc7845e78286254b366a37847a4a8c0d54e6071d1e9a36adae685406d3">AST_DIAL_RESULT_ANSWERED</a>) {</div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(3, <span class="stringliteral">&quot;Notification call for %s was not completed\n&quot;</span>, <a class="code" href="../../df/d7d/structevent.html">event</a>-&gt;owner-&gt;name);</div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;      <span class="keyword">struct </span><a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *answered;</div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;</div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;      answered = <a class="code" href="../../df/dcf/dial_8h.html#a390484ae7a65d0297177fc8223e6b083">ast_dial_answered_steal</a>(dial);</div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(<a class="code" href="../../df/d7d/structevent.html">event</a>-&gt;owner-&gt;notify_app)) {</div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;         <a class="code" href="../../d5/d7b/channel_8h.html#aca211972dac7b8f3f08a283bfe0aa8bf">ast_channel_context_set</a>(answered, <a class="code" href="../../df/d7d/structevent.html">event</a>-&gt;owner-&gt;notify_context);</div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;         <a class="code" href="../../d5/d7b/channel_8h.html#a018b7a29cef2d62074dc46e9aaad0d1a">ast_channel_exten_set</a>(answered, <a class="code" href="../../df/d7d/structevent.html">event</a>-&gt;owner-&gt;notify_extension);</div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;         <a class="code" href="../../d5/d7b/channel_8h.html#ae56cab679c0cda6436b930bc74297895">ast_channel_priority_set</a>(answered, 1);</div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;         <a class="code" href="../../db/de0/pbx_8h.html#a44b6406c9220f7f2b610ac712369f405">ast_pbx_run</a>(answered);</div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;      }</div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;   }</div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;</div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;notify_cleanup:</div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;   <span class="keywordflow">if</span> (apptext) {</div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(apptext);</div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;   }</div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;   <span class="keywordflow">if</span> (tmpstr) {</div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(tmpstr);</div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;   }</div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;   <span class="keywordflow">if</span> (dial) {</div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;      <a class="code" href="../../df/dcf/dial_8h.html#ab75c6f2fe91945cf61e7e91939618db2">ast_dial_destroy</a>(dial);</div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;   }</div><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;   <span class="keywordflow">if</span> (chan) {</div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#a015abb5b26bfba6ca64f10fd9e0468ba">ast_channel_release</a>(chan);</div><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;   }</div><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;</div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;   <span class="keyword">event</span> = <a class="code" href="../../d7/dc3/res__calendar_8c.html#a0b71ae1b1392b6095a17737375eb7671">ast_calendar_unref_event</a>(<a class="code" href="../../df/d7d/structevent.html">event</a>);</div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;</div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;}</div><div class="ttc" id="structast__variable_html_afaaf66cc5029a563bd0bb9df076ea14b"><div class="ttname"><a href="../../dd/d02/structast__variable.html#afaaf66cc5029a563bd0bb9df076ea14b">ast_variable::next</a></div><div class="ttdeci">struct ast_variable * next</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00090">include/asterisk/config.h:90</a></div></div>
<div class="ttc" id="res__calendar_8c_html_a41f9ca037761557a34fb03157732e67b"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#a41f9ca037761557a34fb03157732e67b">generate_random_string</a></div><div class="ttdeci">static char * generate_random_string(char *buf, size_t size)</div><div class="ttdoc">Generate 32 byte random string (stolen from chan_sip.c) </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l00717">res_calendar.c:717</a></div></div>
<div class="ttc" id="channel_8h_html_a493bdebe876caafb8ee535853310364a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a></div><div class="ttdeci">#define ast_channel_lock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02945">channel.h:2945</a></div></div>
<div class="ttc" id="structast__channel_html"><div class="ttname"><a href="../../df/d3c/structast__channel.html">ast_channel</a></div><div class="ttdoc">Main Channel structure associated with a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00073">channel_internal_api.c:73</a></div></div>
<div class="ttc" id="dial_8h_html_ab75c6f2fe91945cf61e7e91939618db2"><div class="ttname"><a href="../../df/dcf/dial_8h.html#ab75c6f2fe91945cf61e7e91939618db2">ast_dial_destroy</a></div><div class="ttdeci">int ast_dial_destroy(struct ast_dial *dial)</div><div class="ttdoc">Destroys a dialing structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d43/dial_8c_source.html#l01091">dial.c:1091</a></div></div>
<div class="ttc" id="dial_8h_html_ab8b2433b581e1a73f860e4cf262a2890"><div class="ttname"><a href="../../df/dcf/dial_8h.html#ab8b2433b581e1a73f860e4cf262a2890">ast_dial_option_global_enable</a></div><div class="ttdeci">int ast_dial_option_global_enable(struct ast_dial *dial, enum ast_dial_option option, void *data)</div><div class="ttdoc">Enables an option globally. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d43/dial_8c_source.html#l01151">dial.c:1151</a></div></div>
<div class="ttc" id="channelstate_8h_html_a03585bc87e5bbd0f4d11bc789734c660a81348336816e0a2f6f3a76da487a46dc"><div class="ttname"><a href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660a81348336816e0a2f6f3a76da487a46dc">AST_STATE_DOWN</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d95/channelstate_8h_source.html#l00036">channelstate.h:36</a></div></div>
<div class="ttc" id="structast__dial_html"><div class="ttname"><a href="../../db/db7/structast__dial.html">ast_dial</a></div><div class="ttdoc">Main dialing structure. Contains global options, channels being dialed, and more! ...</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d43/dial_8c_source.html#l00048">dial.c:48</a></div></div>
<div class="ttc" id="channel_8h_html_afac6d7d115c1edfe3ad8a8c7fa5d59d1"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#afac6d7d115c1edfe3ad8a8c7fa5d59d1">ast_channel_set_writeformat</a></div><div class="ttdeci">void ast_channel_set_writeformat(struct ast_channel *chan, struct ast_format *format)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00840">channel_internal_api.c:840</a></div></div>
<div class="ttc" id="dial_8h_html_a4d113a25d55a4ad9509fd954885f1dbc"><div class="ttname"><a href="../../df/dcf/dial_8h.html#a4d113a25d55a4ad9509fd954885f1dbc">ast_dial_set_global_timeout</a></div><div class="ttdeci">void ast_dial_set_global_timeout(struct ast_dial *dial, int timeout)</div><div class="ttdoc">Set the maximum time (globally) allowed for trying to ring phones. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d43/dial_8c_source.html#l01313">dial.c:1313</a></div></div>
<div class="ttc" id="dial_8h_html_a2054b1ddc7845e78286254b366a37847a4a8c0d54e6071d1e9a36adae685406d3"><div class="ttname"><a href="../../df/dcf/dial_8h.html#a2054b1ddc7845e78286254b366a37847a4a8c0d54e6071d1e9a36adae685406d3">AST_DIAL_RESULT_ANSWERED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/dcf/dial_8h_source.html#l00061">dial.h:61</a></div></div>
<div class="ttc" id="eagi__proxy_8c_html_ac95651d79c608a3148973b5b1fc9e525"><div class="ttname"><a href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a></div><div class="ttdeci">char buf[BUFSIZE]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">eagi_proxy.c:66</a></div></div>
<div class="ttc" id="channel_8h_html_a015abb5b26bfba6ca64f10fd9e0468ba"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a015abb5b26bfba6ca64f10fd9e0468ba">ast_channel_release</a></div><div class="ttdeci">struct ast_channel * ast_channel_release(struct ast_channel *chan)</div><div class="ttdoc">Unlink and release reference to a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l01584">channel.c:1584</a></div></div>
<div class="ttc" id="channel_8h_html_aa2df58e77751b741b6891afe210b5b8c"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#aa2df58e77751b741b6891afe210b5b8c">ast_channel_set_rawwriteformat</a></div><div class="ttdeci">void ast_channel_set_rawwriteformat(struct ast_channel *chan, struct ast_format *format)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00832">channel_internal_api.c:832</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="strings_8h_html_a1ef7e2644ca7258070db316fdc0a465b"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a1ef7e2644ca7258070db316fdc0a465b">ast_str_buffer</a></div><div class="ttdeci">char * ast_str_buffer(const struct ast_str *buf)</div><div class="ttdoc">Returns the string buffer within the ast_str buf. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00714">strings.h:714</a></div></div>
<div class="ttc" id="structast__variable_html"><div class="ttname"><a href="../../dd/d02/structast__variable.html">ast_variable</a></div><div class="ttdoc">Structure for variables, used for configurations and for channel variables. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00083">include/asterisk/config.h:83</a></div></div>
<div class="ttc" id="pbx_8h_html_a556749361c7b9109134c8d00ab4ef6bf"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a556749361c7b9109134c8d00ab4ef6bf">ast_str_substitute_variables</a></div><div class="ttdeci">void ast_str_substitute_variables(struct ast_str **buf, ssize_t maxlen, struct ast_channel *chan, const char *templ)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d8c/pbx__variables_8c_source.html#l00616">pbx_variables.c:616</a></div></div>
<div class="ttc" id="structevent_html"><div class="ttname"><a href="../../df/d7d/structevent.html">event</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d4d/astman_8c_source.html#l00222">astman.c:222</a></div></div>
<div class="ttc" id="structast__datastore_html"><div class="ttname"><a href="../../d4/d5d/structast__datastore.html">ast_datastore</a></div><div class="ttdoc">Structure for a data store object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00068">datastore.h:68</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="logger_8h_html_ad770f83c71e237e1f64163358ce4e13d"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a></div><div class="ttdeci">#define ast_verb(level,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00463">logger.h:463</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="channel_8h_html_af0566a4937a5bb1323825e4ef89c0e5a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af0566a4937a5bb1323825e4ef89c0e5a">ast_channel_tech_set</a></div><div class="ttdeci">void ast_channel_tech_set(struct ast_channel *chan, const struct ast_channel_tech *value)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00773">channel_internal_api.c:773</a></div></div>
<div class="ttc" id="strings_8h_html_aa3341f35cedca29e60bb7f3927204283"><div class="ttname"><a href="../../d6/d90/strings_8h.html#aa3341f35cedca29e60bb7f3927204283">ast_str_set</a></div><div class="ttdeci">int ast_str_set(struct ast_str **buf, ssize_t max_len, const char *fmt,...)</div><div class="ttdoc">Set a dynamic string using variable arguments. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l01065">strings.h:1065</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="channel_8h_html_a921a2d48faa9ed99a59d33e7aefa7888"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a921a2d48faa9ed99a59d33e7aefa7888">ast_channel_set_rawreadformat</a></div><div class="ttdeci">void ast_channel_set_rawreadformat(struct ast_channel *chan, struct ast_format *format)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00828">channel_internal_api.c:828</a></div></div>
<div class="ttc" id="structast__variable_html_a8556878012feffc9e0beb86cd78f424d"><div class="ttname"><a href="../../dd/d02/structast__variable.html#a8556878012feffc9e0beb86cd78f424d">ast_variable::value</a></div><div class="ttdeci">const char * value</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00087">include/asterisk/config.h:87</a></div></div>
<div class="ttc" id="dial_8h_html_a2054b1ddc7845e78286254b366a37847"><div class="ttname"><a href="../../df/dcf/dial_8h.html#a2054b1ddc7845e78286254b366a37847">ast_dial_result</a></div><div class="ttdeci">ast_dial_result</div><div class="ttdoc">List of return codes for dial run API calls. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/dcf/dial_8h_source.html#l00054">dial.h:54</a></div></div>
<div class="ttc" id="channel_8h_html_a3c9c29fb2bc2b715fee335c1ffa50449"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a3c9c29fb2bc2b715fee335c1ffa50449">ast_channel_nativeformats_set</a></div><div class="ttdeci">void ast_channel_nativeformats_set(struct ast_channel *chan, struct ast_format_cap *value)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00677">channel_internal_api.c:677</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="channel_8h_html_ab3786cbbff7a03241fc75dafa0c8a1c1"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#ab3786cbbff7a03241fc75dafa0c8a1c1">ast_channel_set_readformat</a></div><div class="ttdeci">void ast_channel_set_readformat(struct ast_channel *chan, struct ast_format *format)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00836">channel_internal_api.c:836</a></div></div>
<div class="ttc" id="astmm_8h_html_ab5f0750cc80ba337fdcbddea2d3a1ee6"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a></div><div class="ttdeci">#define ast_strdupa(s)</div><div class="ttdoc">duplicate a string in memory from the stack </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00300">astmm.h:300</a></div></div>
<div class="ttc" id="format__cap_8h_html_ab4d69f2179ed5ca138c9b3d85334217f"><div class="ttname"><a href="../../d0/d3c/format__cap_8h.html#ab4d69f2179ed5ca138c9b3d85334217f">ast_format_cap_append</a></div><div class="ttdeci">#define ast_format_cap_append(cap, format, framing)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d3c/format__cap_8h_source.html#l00103">format_cap.h:103</a></div></div>
<div class="ttc" id="structast__variable_html_a8f8f80d37794cde9472343e4487ba3eb"><div class="ttname"><a href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">ast_variable::name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00085">include/asterisk/config.h:85</a></div></div>
<div class="ttc" id="format__cap_8h_html_aeb38ee3bdc8594745a707c0927146fdb"><div class="ttname"><a href="../../d0/d3c/format__cap_8h.html#aeb38ee3bdc8594745a707c0927146fdb">ast_format_cap_alloc</a></div><div class="ttdeci">#define ast_format_cap_alloc(flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d3c/format__cap_8h_source.html#l00052">format_cap.h:52</a></div></div>
<div class="ttc" id="dial_8h_html_a65e30d29847af5495afe1baed823957e"><div class="ttname"><a href="../../df/dcf/dial_8h.html#a65e30d29847af5495afe1baed823957e">ast_dial_run</a></div><div class="ttdeci">enum ast_dial_result ast_dial_run(struct ast_dial *dial, struct ast_channel *chan, int async)</div><div class="ttdoc">Execute dialing synchronously or asynchronously. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d43/dial_8c_source.html#l00939">dial.c:939</a></div></div>
<div class="ttc" id="format__cap_8h_html_a51f3293ae7b01a8353bf4aa1204abba5ad111d20686641a6f0fc5efd33c82e97a"><div class="ttname"><a href="../../d0/d3c/format__cap_8h.html#a51f3293ae7b01a8353bf4aa1204abba5ad111d20686641a6f0fc5efd33c82e97a">AST_FORMAT_CAP_FLAG_DEFAULT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d3c/format__cap_8h_source.html#l00038">format_cap.h:38</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="structast__str_html"><div class="ttname"><a href="../../dd/da2/structast__str.html">ast_str</a></div><div class="ttdoc">The descriptor of a dynamic string XXX storage will be optimized later if needed We use the ts field ...</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00584">strings.h:584</a></div></div>
<div class="ttc" id="structast__format__cap_html"><div class="ttname"><a href="../../d8/d69/structast__format__cap.html">ast_format_cap</a></div><div class="ttdoc">Format capabilities structure, holds formats + preference order + etc. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dc9/format__cap_8c_source.html#l00054">format_cap.c:54</a></div></div>
<div class="ttc" id="dial_8h_html_a2bd4d9ffd57e401b004cc131bd2ad497"><div class="ttname"><a href="../../df/dcf/dial_8h.html#a2bd4d9ffd57e401b004cc131bd2ad497">ast_dial_append</a></div><div class="ttdeci">int ast_dial_append(struct ast_dial *dial, const char *tech, const char *device, const struct ast_assigned_ids *assignedids)</div><div class="ttdoc">Append a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d43/dial_8c_source.html#l00282">dial.c:282</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="dial_8h_html_aff55dbc56bc54126828f78a47d1f2282"><div class="ttname"><a href="../../df/dcf/dial_8h.html#aff55dbc56bc54126828f78a47d1f2282">ast_dial_create</a></div><div class="ttdeci">struct ast_dial * ast_dial_create(void)</div><div class="ttdoc">New dialing structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d43/dial_8c_source.html#l00225">dial.c:225</a></div></div>
<div class="ttc" id="channel_8h_html_a3a32e3014998d0066281c4dd8e278ae9"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a3a32e3014998d0066281c4dd8e278ae9">DATASTORE_INHERIT_FOREVER</a></div><div class="ttdeci">#define DATASTORE_INHERIT_FOREVER</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l00193">channel.h:193</a></div></div>
<div class="ttc" id="structast__datastore_html_a79d869daa2e63a92b3e5f542446031bb"><div class="ttname"><a href="../../d4/d5d/structast__datastore.html#a79d869daa2e63a92b3e5f542446031bb">ast_datastore::inheritance</a></div><div class="ttdeci">unsigned int inheritance</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00073">datastore.h:73</a></div></div>
<div class="ttc" id="channel_8h_html_a018b7a29cef2d62074dc46e9aaad0d1a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a018b7a29cef2d62074dc46e9aaad0d1a">ast_channel_exten_set</a></div><div class="ttdeci">void ast_channel_exten_set(struct ast_channel *chan, const char *value)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00357">channel_internal_api.c:357</a></div></div>
<div class="ttc" id="dial_8h_html_aaa04d25740b60e15179613e6465cff39a33cfbc9c99a6c908c4e9c1a9e622b9c5"><div class="ttname"><a href="../../df/dcf/dial_8h.html#aaa04d25740b60e15179613e6465cff39a33cfbc9c99a6c908c4e9c1a9e622b9c5">AST_DIAL_OPTION_ANSWER_EXEC</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/dcf/dial_8h_source.html#l00044">dial.h:44</a></div></div>
<div class="ttc" id="dial_8h_html_a390484ae7a65d0297177fc8223e6b083"><div class="ttname"><a href="../../df/dcf/dial_8h.html#a390484ae7a65d0297177fc8223e6b083">ast_dial_answered_steal</a></div><div class="ttdeci">struct ast_channel * ast_dial_answered_steal(struct ast_dial *dial)</div><div class="ttdoc">Steal the channel that answered. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d43/dial_8c_source.html#l00993">dial.c:993</a></div></div>
<div class="ttc" id="pbx_8h_html_a6e5b90edb84d216267148dddcffe9b9a"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a></div><div class="ttdeci">int pbx_builtin_setvar_helper(struct ast_channel *chan, const char *name, const char *value)</div><div class="ttdoc">Add a variable to the channel variable stack, removing the most recently set value for the same name...</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d8c/pbx__variables_8c_source.html#l01071">pbx_variables.c:1071</a></div></div>
<div class="ttc" id="structast__datastore_html_a735984d41155bc1032e09bece8f8d66d"><div class="ttname"><a href="../../d4/d5d/structast__datastore.html#a735984d41155bc1032e09bece8f8d66d">ast_datastore::data</a></div><div class="ttdeci">void * data</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00070">datastore.h:70</a></div></div>
<div class="ttc" id="res__calendar_8c_html_a5b39e7d66ab86608026ed4c88e864da3"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#a5b39e7d66ab86608026ed4c88e864da3">null_tech</a></div><div class="ttdeci">static const struct ast_channel_tech null_tech</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l00735">res_calendar.c:735</a></div></div>
<div class="ttc" id="channel_8h_html_aca211972dac7b8f3f08a283bfe0aa8bf"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#aca211972dac7b8f3f08a283bfe0aa8bf">ast_channel_context_set</a></div><div class="ttdeci">void ast_channel_context_set(struct ast_channel *chan, const char *value)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00348">channel_internal_api.c:348</a></div></div>
<div class="ttc" id="pbx_8h_html_a44b6406c9220f7f2b610ac712369f405"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a44b6406c9220f7f2b610ac712369f405">ast_pbx_run</a></div><div class="ttdeci">enum ast_pbx_result ast_pbx_run(struct ast_channel *c)</div><div class="ttdoc">Execute the PBX in the current thread. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d94/pbx_8c_source.html#l04759">pbx.c:4759</a></div></div>
<div class="ttc" id="res__calendar_8c_html_a3cdf9684aa289139de4a3a658a6ef464"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#a3cdf9684aa289139de4a3a658a6ef464">event_notification_datastore</a></div><div class="ttdeci">static const struct ast_datastore_info event_notification_datastore</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l00235">res_calendar.c:235</a></div></div>
<div class="ttc" id="datastore_8h_html_a666afb07fd77d50782cc10f83e029159"><div class="ttname"><a href="../../d9/db6/datastore_8h.html#a666afb07fd77d50782cc10f83e029159">ast_datastore_alloc</a></div><div class="ttdeci">#define ast_datastore_alloc(info, uid)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00089">datastore.h:89</a></div></div>
<div class="ttc" id="structast__calendar__event_html"><div class="ttname"><a href="../../dc/d64/structast__calendar__event.html">ast_calendar_event</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00093">calendar.h:93</a></div></div>
<div class="ttc" id="channel_8h_html_ae56cab679c0cda6436b930bc74297895"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#ae56cab679c0cda6436b930bc74297895">ast_channel_priority_set</a></div><div class="ttdeci">void ast_channel_priority_set(struct ast_channel *chan, int value)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00448">channel_internal_api.c:448</a></div></div>
<div class="ttc" id="channel_8h_html_a2f18aafad0442206e71033ac6676dbb5"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a2f18aafad0442206e71033ac6676dbb5">ast_channel_alloc</a></div><div class="ttdeci">#define ast_channel_alloc(needqueue, state, cid_num, cid_name, acctcode, exten, context, assignedids, requestor, amaflag,...)</div><div class="ttdoc">Create a channel structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01259">channel.h:1259</a></div></div>
<div class="ttc" id="res__calendar_8c_html_a0b71ae1b1392b6095a17737375eb7671"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#a0b71ae1b1392b6095a17737375eb7671">ast_calendar_unref_event</a></div><div class="ttdeci">struct ast_calendar_event * ast_calendar_unref_event(struct ast_calendar_event *event)</div><div class="ttdoc">Unreference an ast_calendar_event. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l00321">res_calendar.c:321</a></div></div>
<div class="ttc" id="format__cache_8h_html_a771d7c34570e8e492c25a0c2eb41889d"><div class="ttname"><a href="../../db/d1c/format__cache_8h.html#a771d7c34570e8e492c25a0c2eb41889d">ast_format_slin</a></div><div class="ttdeci">struct ast_format * ast_format_slin</div><div class="ttdoc">Built-in cached signed linear 8kHz format. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d29/format__cache_8c_source.html#l00041">format_cache.c:41</a></div></div>
<div class="ttc" id="channel_8h_html_a1ed3e98d33d5587948a0e2ef67a81f52"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a1ed3e98d33d5587948a0e2ef67a81f52">ast_channel_datastore_add</a></div><div class="ttdeci">int ast_channel_datastore_add(struct ast_channel *chan, struct ast_datastore *datastore)</div><div class="ttdoc">Add a datastore to a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l02390">channel.c:2390</a></div></div>
<div class="ttc" id="strings_8h_html_a9c34c6c6b8daaba24c0406270f3cf697"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a9c34c6c6b8daaba24c0406270f3cf697">ast_str_create</a></div><div class="ttdeci">#define ast_str_create(init_len)</div><div class="ttdoc">Create a malloc&amp;#39;ed dynamic length string. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00620">strings.h:620</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="acea7f3ec33ca5aef5c8e8c532b313976"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acea7f3ec33ca5aef5c8e8c532b313976">&#9670;&nbsp;</a></span>do_refresh()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void* do_refresh </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l01821">1821</a> of file <a class="el" href="../../d7/dc3/res__calendar_8c_source.html">res_calendar.c</a>.</p>

<p class="reference">References <a class="el" href="../../dd/d42/lock_8h_source.html#l00204">ast_cond_timedwait</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00187">ast_mutex_lock</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00188">ast_mutex_unlock</a>, <a class="el" href="../../db/dbe/sched_8c_source.html#l00755">ast_sched_runq()</a>, <a class="el" href="../../db/dbe/sched_8c_source.html#l00431">ast_sched_wait()</a>, <a class="el" href="../../de/df7/time_8h_source.html#l00150">ast_tvnow()</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00228">module_unloading</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00226">refresh_condition</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l01900">load_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;{</div><div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;   <span class="keywordflow">for</span> (;;) {</div><div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;      <span class="keyword">struct </span>timeval now = <a class="code" href="../../de/df7/time_8h.html#ad3899efb6f0e348556ef69f5b16aa7f7">ast_tvnow</a>();</div><div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;      <span class="keyword">struct </span>timespec ts = {0,};</div><div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;      <span class="keywordtype">int</span> wait;</div><div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;</div><div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#ac5e13c7fe64d3b271a52028b0a78b92b">ast_mutex_lock</a>(&amp;<a class="code" href="../../d7/dc3/res__calendar_8c.html#a29b91e0b8852b6696c254e5d9e490553">refreshlock</a>);</div><div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;</div><div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;      <span class="keywordflow">while</span> (!<a class="code" href="../../d7/dc3/res__calendar_8c.html#ad51d62cb6b4849cd2f19e5f58cdb69e2">module_unloading</a>) {</div><div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;         <span class="keywordflow">if</span> ((wait = <a class="code" href="../../d7/d00/sched_8h.html#af13fcd6652b8dcafae35c2fa35e80a8d">ast_sched_wait</a>(<a class="code" href="../../d0/da0/structsched.html">sched</a>)) &lt; 0) {</div><div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;            wait = 1000;</div><div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;         }</div><div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;</div><div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;         ts.tv_sec = (now.tv_sec + wait / 1000) + 1;</div><div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;         <span class="keywordflow">if</span> (<a class="code" href="../../dd/d42/lock_8h.html#a6add1f30b2d53ca9384b15529a6f126e">ast_cond_timedwait</a>(&amp;<a class="code" href="../../d7/dc3/res__calendar_8c.html#aa8c02290302fb0e31208cafc03d13da0">refresh_condition</a>, &amp;<a class="code" href="../../d7/dc3/res__calendar_8c.html#a29b91e0b8852b6696c254e5d9e490553">refreshlock</a>, &amp;ts) == ETIMEDOUT) {</div><div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;         }</div><div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;      }</div><div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a>(&amp;<a class="code" href="../../d7/dc3/res__calendar_8c.html#a29b91e0b8852b6696c254e5d9e490553">refreshlock</a>);</div><div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;</div><div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d7/dc3/res__calendar_8c.html#ad51d62cb6b4849cd2f19e5f58cdb69e2">module_unloading</a>) {</div><div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;      }</div><div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;      <a class="code" href="../../d7/d00/sched_8h.html#aa9c3d54f142eee0bad110fbb825c0787">ast_sched_runq</a>(<a class="code" href="../../d0/da0/structsched.html">sched</a>);</div><div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;   }</div><div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;</div><div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;}</div><div class="ttc" id="res__calendar_8c_html_aa8c02290302fb0e31208cafc03d13da0"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#aa8c02290302fb0e31208cafc03d13da0">refresh_condition</a></div><div class="ttdeci">static ast_cond_t refresh_condition</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l00226">res_calendar.c:226</a></div></div>
<div class="ttc" id="sched_8h_html_aa9c3d54f142eee0bad110fbb825c0787"><div class="ttname"><a href="../../d7/d00/sched_8h.html#aa9c3d54f142eee0bad110fbb825c0787">ast_sched_runq</a></div><div class="ttdeci">int ast_sched_runq(struct ast_sched_context *con)</div><div class="ttdoc">Runs the queue. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/dbe/sched_8c_source.html#l00755">sched.c:755</a></div></div>
<div class="ttc" id="structsched_html"><div class="ttname"><a href="../../d0/da0/structsched.html">sched</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/dbe/sched_8c_source.html#l00076">sched.c:76</a></div></div>
<div class="ttc" id="time_8h_html_ad3899efb6f0e348556ef69f5b16aa7f7"><div class="ttname"><a href="../../de/df7/time_8h.html#ad3899efb6f0e348556ef69f5b16aa7f7">ast_tvnow</a></div><div class="ttdeci">struct timeval ast_tvnow(void)</div><div class="ttdoc">Returns current timeval. Meant to replace calls to gettimeofday(). </div><div class="ttdef"><b>Definition:</b> <a href="../../de/df7/time_8h_source.html#l00150">time.h:150</a></div></div>
<div class="ttc" id="lock_8h_html_ac5e13c7fe64d3b271a52028b0a78b92b"><div class="ttname"><a href="../../dd/d42/lock_8h.html#ac5e13c7fe64d3b271a52028b0a78b92b">ast_mutex_lock</a></div><div class="ttdeci">#define ast_mutex_lock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00187">lock.h:187</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="res__calendar_8c_html_a29b91e0b8852b6696c254e5d9e490553"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#a29b91e0b8852b6696c254e5d9e490553">refreshlock</a></div><div class="ttdeci">static ast_mutex_t refreshlock</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l00225">res_calendar.c:225</a></div></div>
<div class="ttc" id="sched_8h_html_af13fcd6652b8dcafae35c2fa35e80a8d"><div class="ttname"><a href="../../d7/d00/sched_8h.html#af13fcd6652b8dcafae35c2fa35e80a8d">ast_sched_wait</a></div><div class="ttdeci">int ast_sched_wait(struct ast_sched_context *con) attribute_warn_unused_result</div><div class="ttdoc">Determines number of seconds until the next outstanding event to take place. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/dbe/sched_8c_source.html#l00431">sched.c:431</a></div></div>
<div class="ttc" id="lock_8h_html_a6add1f30b2d53ca9384b15529a6f126e"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a6add1f30b2d53ca9384b15529a6f126e">ast_cond_timedwait</a></div><div class="ttdeci">#define ast_cond_timedwait(cond, mutex, time)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00204">lock.h:204</a></div></div>
<div class="ttc" id="lock_8h_html_a873f9ce8c6287a32d48c83133e124418"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a></div><div class="ttdeci">#define ast_mutex_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00188">lock.h:188</a></div></div>
<div class="ttc" id="res__calendar_8c_html_ad51d62cb6b4849cd2f19e5f58cdb69e2"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#ad51d62cb6b4849cd2f19e5f58cdb69e2">module_unloading</a></div><div class="ttdeci">static int module_unloading</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l00228">res_calendar.c:228</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a4359d2c66f94a0c0213d8dce458c79b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4359d2c66f94a0c0213d8dce458c79b9">&#9670;&nbsp;</a></span>epoch_to_string()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static char* epoch_to_string </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>buflen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">time_t&#160;</td>
          <td class="paramname"><em>epoch</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l01587">1587</a> of file <a class="el" href="../../d7/dc3/res__calendar_8c_source.html">res_calendar.c</a>.</p>

<p class="reference">References <a class="el" href="../../d9/df8/localtime_8c_source.html#l01739">ast_localtime()</a>, <a class="el" href="../../d9/df8/localtime_8c_source.html#l02524">ast_strftime()</a>, <a class="el" href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">buf</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l01604">handle_show_calendar()</a>.</p>
<div class="fragment"><div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;{</div><div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d5/d84/structast__tm.html">ast_tm</a> tm;</div><div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;   <span class="keyword">struct </span>timeval tv = {</div><div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;      .tv_sec = epoch,</div><div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;   };</div><div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;</div><div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;   <span class="keywordflow">if</span> (!epoch) {</div><div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;      *<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a> = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>;</div><div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;   }</div><div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;   <a class="code" href="../../d5/deb/localtime_8h.html#ae9fbda728350a9a5b9c09b29214d718e">ast_localtime</a>(&amp;tv, &amp;tm, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;   <a class="code" href="../../d5/deb/localtime_8h.html#aa8e63928b14a347bd3973d680b885f93">ast_strftime</a>(<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, buflen, <span class="stringliteral">&quot;%F %r %z&quot;</span>, &amp;tm);</div><div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;</div><div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>;</div><div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;}</div><div class="ttc" id="eagi__proxy_8c_html_ac95651d79c608a3148973b5b1fc9e525"><div class="ttname"><a href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a></div><div class="ttdeci">char buf[BUFSIZE]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">eagi_proxy.c:66</a></div></div>
<div class="ttc" id="localtime_8h_html_ae9fbda728350a9a5b9c09b29214d718e"><div class="ttname"><a href="../../d5/deb/localtime_8h.html#ae9fbda728350a9a5b9c09b29214d718e">ast_localtime</a></div><div class="ttdeci">struct ast_tm * ast_localtime(const struct timeval *timep, struct ast_tm *p_tm, const char *zone)</div><div class="ttdoc">Timezone-independent version of localtime_r(3). </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/df8/localtime_8c_source.html#l01739">localtime.c:1739</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="localtime_8h_html_aa8e63928b14a347bd3973d680b885f93"><div class="ttname"><a href="../../d5/deb/localtime_8h.html#aa8e63928b14a347bd3973d680b885f93">ast_strftime</a></div><div class="ttdeci">int ast_strftime(char *buf, size_t len, const char *format, const struct ast_tm *tm)</div><div class="ttdoc">Special version of strftime(3) that handles fractions of a second. Takes the same arguments as strfti...</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/df8/localtime_8c_source.html#l02524">localtime.c:2524</a></div></div>
<div class="ttc" id="structast__tm_html"><div class="ttname"><a href="../../d5/d84/structast__tm.html">ast_tm</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/deb/localtime_8h_source.html#l00035">localtime.h:35</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad43766b2604b55f7591d5e8fc4a2da46"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad43766b2604b55f7591d5e8fc4a2da46">&#9670;&nbsp;</a></span>event_cmp_fn()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int event_cmp_fn </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00307">307</a> of file <a class="el" href="../../d7/dc3/res__calendar_8c_source.html">res_calendar.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01031">CMP_MATCH</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01032">CMP_STOP</a>, and <a class="el" href="../../da/d4a/calendar_8h_source.html#l00101">ast_calendar_event::uid</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00689">ast_calendar_event_container_alloc()</a>, and <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00400">build_calendar()</a>.</p>
<div class="fragment"><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;{</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;   <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="../../dc/d64/structast__calendar__event.html">ast_calendar_event</a> *one = obj, *two = arg;</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;   <span class="keywordflow">return</span> !strcmp(one-&gt;<a class="code" href="../../dc/d64/structast__calendar__event.html#a351c558d41ceba8d276ca848d3ca9def">uid</a>, two-&gt;uid) ? <a class="code" href="../../d5/da5/astobj2_8h.html#a1f8b41308be4c47de8ff89a3b9c7e7d1a1959468a3c5d6aecd2fa1272d8e30fbf">CMP_MATCH</a> | <a class="code" href="../../d5/da5/astobj2_8h.html#a1f8b41308be4c47de8ff89a3b9c7e7d1a75382dc9117cc118719edf6c3d2b71df">CMP_STOP</a> : 0;</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;}</div><div class="ttc" id="structast__calendar__event_html_a351c558d41ceba8d276ca848d3ca9def"><div class="ttname"><a href="../../dc/d64/structast__calendar__event.html#a351c558d41ceba8d276ca848d3ca9def">ast_calendar_event::uid</a></div><div class="ttdeci">const ast_string_field uid</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00101">calendar.h:101</a></div></div>
<div class="ttc" id="astobj2_8h_html_a1f8b41308be4c47de8ff89a3b9c7e7d1a75382dc9117cc118719edf6c3d2b71df"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a1f8b41308be4c47de8ff89a3b9c7e7d1a75382dc9117cc118719edf6c3d2b71df">CMP_STOP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01032">astobj2.h:1032</a></div></div>
<div class="ttc" id="astobj2_8h_html_a1f8b41308be4c47de8ff89a3b9c7e7d1a1959468a3c5d6aecd2fa1272d8e30fbf"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a1f8b41308be4c47de8ff89a3b9c7e7d1a1959468a3c5d6aecd2fa1272d8e30fbf">CMP_MATCH</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01031">astobj2.h:1031</a></div></div>
<div class="ttc" id="structast__calendar__event_html"><div class="ttname"><a href="../../dc/d64/structast__calendar__event.html">ast_calendar_event</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00093">calendar.h:93</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6f60d907cd8f8e2129346d66c78026e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f60d907cd8f8e2129346d66c78026e6">&#9670;&nbsp;</a></span>event_hash_fn()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int event_hash_fn </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00301">301</a> of file <a class="el" href="../../d7/dc3/res__calendar_8c_source.html">res_calendar.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/d90/strings_8h_source.html#l01206">ast_str_hash()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00689">ast_calendar_event_container_alloc()</a>, and <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00400">build_calendar()</a>.</p>
<div class="fragment"><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;{</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;   <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="../../dc/d64/structast__calendar__event.html">ast_calendar_event</a> *<span class="keyword">event</span> = obj;</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d6/d90/strings_8h.html#a33ab7fa091d5513d8507d3bd33ef5b55">ast_str_hash</a>(<a class="code" href="../../df/d7d/structevent.html">event</a>-&gt;uid);</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;}</div><div class="ttc" id="structevent_html"><div class="ttname"><a href="../../df/d7d/structevent.html">event</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d4d/astman_8c_source.html#l00222">astman.c:222</a></div></div>
<div class="ttc" id="structast__calendar__event_html"><div class="ttname"><a href="../../dc/d64/structast__calendar__event.html">ast_calendar_event</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00093">calendar.h:93</a></div></div>
<div class="ttc" id="strings_8h_html_a33ab7fa091d5513d8507d3bd33ef5b55"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a33ab7fa091d5513d8507d3bd33ef5b55">ast_str_hash</a></div><div class="ttdeci">static force_inline int attribute_pure ast_str_hash(const char *str)</div><div class="ttdoc">Compute a hash value on a string. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l01206">strings.h:1206</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad0fc48ed678b8b58118a67ff0e4553d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad0fc48ed678b8b58118a67ff0e4553d2">&#9670;&nbsp;</a></span>event_notification_destroy()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void event_notification_destroy </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00695">695</a> of file <a class="el" href="../../d7/dc3/res__calendar_8c_source.html">res_calendar.c</a>.</p>

<p class="reference">References <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00321">ast_calendar_unref_event()</a>.</p>
<div class="fragment"><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;{</div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/d64/structast__calendar__event.html">ast_calendar_event</a> *<span class="keyword">event</span> = data;</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;   <span class="keyword">event</span> = <a class="code" href="../../d7/dc3/res__calendar_8c.html#a0b71ae1b1392b6095a17737375eb7671">ast_calendar_unref_event</a>(<a class="code" href="../../df/d7d/structevent.html">event</a>);</div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;}</div><div class="ttc" id="structevent_html"><div class="ttname"><a href="../../df/d7d/structevent.html">event</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d4d/astman_8c_source.html#l00222">astman.c:222</a></div></div>
<div class="ttc" id="structast__calendar__event_html"><div class="ttname"><a href="../../dc/d64/structast__calendar__event.html">ast_calendar_event</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00093">calendar.h:93</a></div></div>
<div class="ttc" id="res__calendar_8c_html_a0b71ae1b1392b6095a17737375eb7671"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#a0b71ae1b1392b6095a17737375eb7671">ast_calendar_unref_event</a></div><div class="ttdeci">struct ast_calendar_event * ast_calendar_unref_event(struct ast_calendar_event *event)</div><div class="ttdoc">Unreference an ast_calendar_event. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l00321">res_calendar.c:321</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a15652a30d93a3a801dcdb96d8e51fdb9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a15652a30d93a3a801dcdb96d8e51fdb9">&#9670;&nbsp;</a></span>event_notification_duplicate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void * event_notification_duplicate </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00703">703</a> of file <a class="el" href="../../d7/dc3/res__calendar_8c_source.html">res_calendar.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00248">evententry::event</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>
<div class="fragment"><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;{</div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/d64/structast__calendar__event.html">ast_calendar_event</a> *<span class="keyword">event</span> = data;</div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../df/d7d/structevent.html">event</a>) {</div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;   }</div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;</div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(<a class="code" href="../../df/d7d/structevent.html">event</a>, +1);</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../df/d7d/structevent.html">event</a>;</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;}</div><div class="ttc" id="structevent_html"><div class="ttname"><a href="../../df/d7d/structevent.html">event</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d4d/astman_8c_source.html#l00222">astman.c:222</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="structast__calendar__event_html"><div class="ttname"><a href="../../dc/d64/structast__calendar__event.html">ast_calendar_event</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00093">calendar.h:93</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="afcdcadc4ccb54f676c28c29fcd823d9e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afcdcadc4ccb54f676c28c29fcd823d9e">&#9670;&nbsp;</a></span>eventlist_destroy()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void eventlist_destroy </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l01193">1193</a> of file <a class="el" href="../../d7/dc3/res__calendar_8c_source.html">res_calendar.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, and <a class="el" href="../../db/d62/app__adsiprog_8c_source.html#l00085">events</a>.</p>
<div class="fragment"><div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;{</div><div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/dcb/structeventlist.html">eventlist</a> *<a class="code" href="../../db/d62/app__adsiprog_8c.html#a1fcc0891a0631f9a9222fdf961bd79dc">events</a> = data;</div><div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;</div><div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(events, -1);</div><div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;}</div><div class="ttc" id="app__adsiprog_8c_html_a1fcc0891a0631f9a9222fdf961bd79dc"><div class="ttname"><a href="../../db/d62/app__adsiprog_8c.html#a1fcc0891a0631f9a9222fdf961bd79dc">events</a></div><div class="ttdeci">static const struct adsi_event events[]</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d62/app__adsiprog_8c_source.html#l00085">app_adsiprog.c:85</a></div></div>
<div class="ttc" id="structeventlist_html"><div class="ttname"><a href="../../dd/dcb/structeventlist.html">eventlist</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l00253">res_calendar.c:253</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a5540e8e3fca54d5d9966ff6d3969b16e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5540e8e3fca54d5d9966ff6d3969b16e">&#9670;&nbsp;</a></span>eventlist_destructor()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void eventlist_destructor </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>obj</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00347">347</a> of file <a class="el" href="../../d7/dc3/res__calendar_8c_source.html">res_calendar.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00832">AST_LIST_REMOVE_HEAD</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00248">evententry::event</a>, <a class="el" href="../../db/d62/app__adsiprog_8c_source.html#l00085">events</a>, and <a class="el" href="../../df/db9/structevententry.html#a7243f23e02e3325c23cfb0a5a98732fa">evententry::list</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l01213">calendar_query_exec()</a>.</p>
<div class="fragment"><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;{</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/dcb/structeventlist.html">eventlist</a> *<a class="code" href="../../db/d62/app__adsiprog_8c.html#a1fcc0891a0631f9a9222fdf961bd79dc">events</a> = obj;</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../df/db9/structevententry.html">evententry</a> *<a class="code" href="../../d3/d96/structentry.html">entry</a>;</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;   <span class="keywordflow">while</span> ((entry = <a class="code" href="../../df/d90/linkedlists_8h.html#aadfe2a69fbba4f27c201266a2ca5f989">AST_LIST_REMOVE_HEAD</a>(events, <a class="code" href="../../df/db9/structevententry.html#a7243f23e02e3325c23cfb0a5a98732fa">list</a>))) {</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(entry-&gt;<a class="code" href="../../df/db9/structevententry.html#a8974261cad5fcce6a56a935b9f78b272">event</a>, -1);</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(entry);</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;   }</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;}</div><div class="ttc" id="app__adsiprog_8c_html_a1fcc0891a0631f9a9222fdf961bd79dc"><div class="ttname"><a href="../../db/d62/app__adsiprog_8c.html#a1fcc0891a0631f9a9222fdf961bd79dc">events</a></div><div class="ttdeci">static const struct adsi_event events[]</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d62/app__adsiprog_8c_source.html#l00085">app_adsiprog.c:85</a></div></div>
<div class="ttc" id="structevententry_html_a7243f23e02e3325c23cfb0a5a98732fa"><div class="ttname"><a href="../../df/db9/structevententry.html#a7243f23e02e3325c23cfb0a5a98732fa">evententry::list</a></div><div class="ttdeci">struct evententry::@447 list</div></div>
<div class="ttc" id="structeventlist_html"><div class="ttname"><a href="../../dd/dcb/structeventlist.html">eventlist</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l00253">res_calendar.c:253</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="linkedlists_8h_html_aadfe2a69fbba4f27c201266a2ca5f989"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#aadfe2a69fbba4f27c201266a2ca5f989">AST_LIST_REMOVE_HEAD</a></div><div class="ttdeci">#define AST_LIST_REMOVE_HEAD(head, field)</div><div class="ttdoc">Removes and returns the head entry from a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00832">linkedlists.h:832</a></div></div>
<div class="ttc" id="structevententry_html_a8974261cad5fcce6a56a935b9f78b272"><div class="ttname"><a href="../../df/db9/structevententry.html#a8974261cad5fcce6a56a935b9f78b272">evententry::event</a></div><div class="ttdeci">struct ast_calendar_event * event</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l00248">res_calendar.c:248</a></div></div>
<div class="ttc" id="structevententry_html"><div class="ttname"><a href="../../df/db9/structevententry.html">evententry</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l00247">res_calendar.c:247</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="structentry_html"><div class="ttname"><a href="../../d3/d96/structentry.html">entry</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d85/search_8h_source.html#l00040">search.h:40</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a29299313e7442d1a811ef00cd8add9d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a29299313e7442d1a811ef00cd8add9d8">&#9670;&nbsp;</a></span>eventlist_duplicate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void * eventlist_duplicate </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l01200">1200</a> of file <a class="el" href="../../d7/dc3/res__calendar_8c_source.html">res_calendar.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../db/d62/app__adsiprog_8c_source.html#l00085">events</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>
<div class="fragment"><div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;{</div><div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/dcb/structeventlist.html">eventlist</a> *<a class="code" href="../../db/d62/app__adsiprog_8c.html#a1fcc0891a0631f9a9222fdf961bd79dc">events</a> = data;</div><div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;</div><div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;   <span class="keywordflow">if</span> (!events) {</div><div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;   }</div><div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;</div><div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(events, +1);</div><div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;</div><div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../db/d62/app__adsiprog_8c.html#a1fcc0891a0631f9a9222fdf961bd79dc">events</a>;</div><div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;}</div><div class="ttc" id="app__adsiprog_8c_html_a1fcc0891a0631f9a9222fdf961bd79dc"><div class="ttname"><a href="../../db/d62/app__adsiprog_8c.html#a1fcc0891a0631f9a9222fdf961bd79dc">events</a></div><div class="ttdeci">static const struct adsi_event events[]</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d62/app__adsiprog_8c_source.html#l00085">app_adsiprog.c:85</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structeventlist_html"><div class="ttname"><a href="../../dd/dcb/structeventlist.html">eventlist</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l00253">res_calendar.c:253</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af2623a75bbe6c1c6ff6a744b032b2599"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af2623a75bbe6c1c6ff6a744b032b2599">&#9670;&nbsp;</a></span>find_calendar()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="../../d4/d1d/structast__calendar.html">ast_calendar</a>* find_calendar </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00293">293</a> of file <a class="el" href="../../d7/dc3/res__calendar_8c_source.html">res_calendar.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01756">ao2_find</a>, <a class="el" href="../../d0/d29/cdr__mysql_8c_source.html#l00074">name</a>, <a class="el" href="../../da/d4a/calendar_8h_source.html#l00127">ast_calendar::name</a>, and <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01154">OBJ_POINTER</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00400">build_calendar()</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l01092">calendar_busy_exec()</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l01213">calendar_query_exec()</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l01415">calendar_write_exec()</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00381">calendarstate()</a>, and <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l01604">handle_show_calendar()</a>.</p>
<div class="fragment"><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;{</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d1d/structast__calendar.html">ast_calendar</a> <a class="code" href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a> = {</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;      .name = <a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>,</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;   };</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a>(<a class="code" href="../../d7/dc3/res__calendar_8c.html#ab0a23206c25ccbd53fae39c15dfe647b">calendars</a>, &amp;tmp, <a class="code" href="../../d5/da5/astobj2_8h.html#a2448088751e4d494d1981c7f4b84e8d0">OBJ_POINTER</a>);</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;}</div><div class="ttc" id="res__calendar_8c_html_ab0a23206c25ccbd53fae39c15dfe647b"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#ab0a23206c25ccbd53fae39c15dfe647b">calendars</a></div><div class="ttdeci">static struct ao2_container * calendars</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l00222">res_calendar.c:222</a></div></div>
<div class="ttc" id="astobj2_8h_html_a2448088751e4d494d1981c7f4b84e8d0"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a2448088751e4d494d1981c7f4b84e8d0">OBJ_POINTER</a></div><div class="ttdeci">#define OBJ_POINTER</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01154">astobj2.h:1154</a></div></div>
<div class="ttc" id="bt__open_8c_html_a1cdd2bb1a9a71d3e1120100229315d67"><div class="ttname"><a href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a></div><div class="ttdeci">static int tmp()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1e/bt__open_8c_source.html#l00389">bt_open.c:389</a></div></div>
<div class="ttc" id="cdr__mysql_8c_html_a0980a105ccb863d8008eb6201a51da52"><div class="ttname"><a href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a></div><div class="ttdeci">static const char name[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/cdr__mysql_8c_source.html#l00074">cdr_mysql.c:74</a></div></div>
<div class="ttc" id="astobj2_8h_html_a911e0703891a9a7aaf73978152092586"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a></div><div class="ttdeci">#define ao2_find(container, arg, flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01756">astobj2.h:1756</a></div></div>
<div class="ttc" id="structast__calendar_html"><div class="ttname"><a href="../../d4/d1d/structast__calendar.html">ast_calendar</a></div><div class="ttdoc">Asterisk calendar structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00117">calendar.h:117</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a0862b7036bac237240ba7da6a6bbb56d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0862b7036bac237240ba7da6a6bbb56d">&#9670;&nbsp;</a></span>find_event()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="../../dc/d64/structast__calendar__event.html">ast_calendar_event</a>* find_event </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d2/da9/structao2__container.html">ao2_container</a> *&#160;</td>
          <td class="paramname"><em>events</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>uid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00313">313</a> of file <a class="el" href="../../d7/dc3/res__calendar_8c_source.html">res_calendar.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01756">ao2_find</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01154">OBJ_POINTER</a>, and <a class="el" href="../../da/d4a/calendar_8h_source.html#l00101">ast_calendar_event::uid</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l01016">merge_events_cb()</a>.</p>
<div class="fragment"><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;{</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/d64/structast__calendar__event.html">ast_calendar_event</a> <a class="code" href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a> = {</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;      .uid = <a class="code" href="../../dc/d64/structast__calendar__event.html#a351c558d41ceba8d276ca848d3ca9def">uid</a>,</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;   };</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a>(events, &amp;tmp, <a class="code" href="../../d5/da5/astobj2_8h.html#a2448088751e4d494d1981c7f4b84e8d0">OBJ_POINTER</a>);</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;}</div><div class="ttc" id="astobj2_8h_html_a2448088751e4d494d1981c7f4b84e8d0"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a2448088751e4d494d1981c7f4b84e8d0">OBJ_POINTER</a></div><div class="ttdeci">#define OBJ_POINTER</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01154">astobj2.h:1154</a></div></div>
<div class="ttc" id="bt__open_8c_html_a1cdd2bb1a9a71d3e1120100229315d67"><div class="ttname"><a href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a></div><div class="ttdeci">static int tmp()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1e/bt__open_8c_source.html#l00389">bt_open.c:389</a></div></div>
<div class="ttc" id="structast__calendar__event_html_a351c558d41ceba8d276ca848d3ca9def"><div class="ttname"><a href="../../dc/d64/structast__calendar__event.html#a351c558d41ceba8d276ca848d3ca9def">ast_calendar_event::uid</a></div><div class="ttdeci">const ast_string_field uid</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00101">calendar.h:101</a></div></div>
<div class="ttc" id="astobj2_8h_html_a911e0703891a9a7aaf73978152092586"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a></div><div class="ttdeci">#define ao2_find(container, arg, flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01756">astobj2.h:1756</a></div></div>
<div class="ttc" id="structast__calendar__event_html"><div class="ttname"><a href="../../dc/d64/structast__calendar__event.html">ast_calendar_event</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00093">calendar.h:93</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a41f9ca037761557a34fb03157732e67b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a41f9ca037761557a34fb03157732e67b">&#9670;&nbsp;</a></span>generate_random_string()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static char* generate_random_string </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Generate 32 byte random string (stolen from chan_sip.c) </p>

<p class="definition">Definition at line <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00717">717</a> of file <a class="el" href="../../d7/dc3/res__calendar_8c_source.html">res_calendar.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l02064">ast_random()</a>, and <a class="el" href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">buf</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l01213">calendar_query_exec()</a>, and <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00741">do_notify()</a>.</p>
<div class="fragment"><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;{</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="../../d5/d85/structval.html">val</a>[4];</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;   <span class="keywordtype">int</span> x;</div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;   <span class="keywordflow">for</span> (x = 0; x &lt; 4; x++) {</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;      val[x] = <a class="code" href="../../d5/d60/utils_8h.html#a7b4f10b070e95ba413e258a3e4b03c20">ast_random</a>();</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;   }</div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;   snprintf(<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, size, <span class="stringliteral">&quot;%08lx%08lx%08lx%08lx&quot;</span>, val[0], val[1], val[2], val[3]);</div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;</div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>;</div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;}</div><div class="ttc" id="structval_html"><div class="ttname"><a href="../../d5/d85/structval.html">val</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd1/ast__expr2_8c_source.html#l00325">ast_expr2.c:325</a></div></div>
<div class="ttc" id="eagi__proxy_8c_html_ac95651d79c608a3148973b5b1fc9e525"><div class="ttname"><a href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a></div><div class="ttdeci">char buf[BUFSIZE]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">eagi_proxy.c:66</a></div></div>
<div class="ttc" id="utils_8h_html_a7b4f10b070e95ba413e258a3e4b03c20"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a7b4f10b070e95ba413e258a3e4b03c20">ast_random</a></div><div class="ttdeci">long int ast_random(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1f/main_2utils_8c_source.html#l02064">main/utils.c:2064</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a4e414f80691007d5abe1c8e823dbd913"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4e414f80691007d5abe1c8e823dbd913">&#9670;&nbsp;</a></span>handle_dump_sched()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static char* handle_dump_sched </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d8/d07/structast__cli__entry.html">ast_cli_entry</a> *&#160;</td>
          <td class="paramname"><em>e</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d3/dad/structast__cli__args.html">ast_cli_args</a> *&#160;</td>
          <td class="paramname"><em>a</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l01690">1690</a> of file <a class="el" href="../../d7/dc3/res__calendar_8c_source.html">res_calendar.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/dbe/sched_8c_source.html#l00712">ast_sched_dump()</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00153">CLI_GENERATE</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00152">CLI_INIT</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00044">CLI_SUCCESS</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00186">ast_cli_entry::command</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../dc/db0/cli_8h_source.html#l00177">ast_cli_entry::usage</a>.</p>
<div class="fragment"><div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;{</div><div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;   <span class="keywordflow">switch</span>(cmd) {</div><div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a71745eb63dd093f560a1add3e430d2a9">CLI_INIT</a>:</div><div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;      e-&gt;<a class="code" href="../../d8/d07/structast__cli__entry.html#ade9cba72805fe52685a1deea307a8e82">command</a> = <span class="stringliteral">&quot;calendar dump sched&quot;</span>;</div><div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;      e-&gt;<a class="code" href="../../d8/d07/structast__cli__entry.html#aef1bd6ad890a110b466cb0e8088507a2">usage</a> =</div><div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;         <span class="stringliteral">&quot;Usage: calendar dump sched\n&quot;</span></div><div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;         <span class="stringliteral">&quot;       Dump the calendar sched context&quot;</span>;</div><div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;</div><div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a76bf33139279b03ec1691f2be2d1be40">CLI_GENERATE</a>:</div><div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;   }</div><div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;</div><div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;   <a class="code" href="../../d7/d00/sched_8h.html#a7827352d0f87d6df0049912c15448e2a">ast_sched_dump</a>(<a class="code" href="../../d0/da0/structsched.html">sched</a>);</div><div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;</div><div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#a50989f00b32eeb2516a3803cb2ffb766">CLI_SUCCESS</a>;</div><div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;}</div><div class="ttc" id="structsched_html"><div class="ttname"><a href="../../d0/da0/structsched.html">sched</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/dbe/sched_8c_source.html#l00076">sched.c:76</a></div></div>
<div class="ttc" id="cli_8h_html_ab33e5350a923c3a8cedbeb496cd88ec9a71745eb63dd093f560a1add3e430d2a9"><div class="ttname"><a href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a71745eb63dd093f560a1add3e430d2a9">CLI_INIT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00152">cli.h:152</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structast__cli__entry_html_ade9cba72805fe52685a1deea307a8e82"><div class="ttname"><a href="../../d8/d07/structast__cli__entry.html#ade9cba72805fe52685a1deea307a8e82">ast_cli_entry::command</a></div><div class="ttdeci">char * command</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00186">cli.h:186</a></div></div>
<div class="ttc" id="structast__cli__entry_html_aef1bd6ad890a110b466cb0e8088507a2"><div class="ttname"><a href="../../d8/d07/structast__cli__entry.html#aef1bd6ad890a110b466cb0e8088507a2">ast_cli_entry::usage</a></div><div class="ttdeci">const char * usage</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00177">cli.h:177</a></div></div>
<div class="ttc" id="cli_8h_html_a50989f00b32eeb2516a3803cb2ffb766"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a50989f00b32eeb2516a3803cb2ffb766">CLI_SUCCESS</a></div><div class="ttdeci">#define CLI_SUCCESS</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00044">cli.h:44</a></div></div>
<div class="ttc" id="cli_8h_html_ab33e5350a923c3a8cedbeb496cd88ec9a76bf33139279b03ec1691f2be2d1be40"><div class="ttname"><a href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a76bf33139279b03ec1691f2be2d1be40">CLI_GENERATE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00153">cli.h:153</a></div></div>
<div class="ttc" id="sched_8h_html_a7827352d0f87d6df0049912c15448e2a"><div class="ttname"><a href="../../d7/d00/sched_8h.html#a7827352d0f87d6df0049912c15448e2a">ast_sched_dump</a></div><div class="ttdeci">void ast_sched_dump(struct ast_sched_context *con)</div><div class="ttdoc">Dumps the scheduler contents. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/dbe/sched_8c_source.html#l00712">sched.c:712</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="afbc7ac96e3e987f64719ca1492a3a917"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afbc7ac96e3e987f64719ca1492a3a917">&#9670;&nbsp;</a></span>handle_show_calendar()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static char* handle_show_calendar </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d8/d07/structast__cli__entry.html">ast_cli_entry</a> *&#160;</td>
          <td class="paramname"><em>e</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d3/dad/structast__cli__args.html">ast_cli_args</a> *&#160;</td>
          <td class="paramname"><em>a</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l01604">1604</a> of file <a class="el" href="../../d7/dc3/res__calendar_8c_source.html">res_calendar.c</a>.</p>

<p class="reference">References <a class="el" href="../../da/d4a/calendar_8h_source.html#l00106">ast_calendar_event::alarm</a>, <a class="el" href="../../d7/d22/astobj2__container_8c_source.html#l00534">ao2_iterator_destroy()</a>, <a class="el" href="../../d7/d22/astobj2__container_8c_source.html#l00485">ao2_iterator_init()</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01933">ao2_iterator_next</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00160">ast_cli_args::argc</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00161">ast_cli_args::argv</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00321">ast_calendar_unref_event()</a>, <a class="el" href="../../da/d4d/clicompat_8c_source.html#l00006">ast_cli()</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00243">ast_strdup</a>, <a class="el" href="../../da/d4a/calendar_8h_source.html#l00129">ast_calendar::autoreminder</a>, <a class="el" href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">buf</a>, <a class="el" href="../../da/d4a/calendar_8h_source.html#l00101">ast_calendar_event::categories</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00153">CLI_GENERATE</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00152">CLI_INIT</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00045">CLI_SHOWUSAGE</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00044">CLI_SUCCESS</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00186">ast_cli_entry::command</a>, <a class="el" href="../../da/d4a/calendar_8h_source.html#l00101">ast_calendar_event::description</a>, <a class="el" href="../../da/d4a/calendar_8h_source.html#l00105">ast_calendar_event::end</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l01587">epoch_to_string()</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00248">evententry::event</a>, <a class="el" href="../../da/d4a/calendar_8h_source.html#l00138">ast_calendar::events</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00159">ast_cli_args::fd</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00293">find_calendar()</a>, <a class="el" href="../../d7/dc3/res__calendar_8c.html#ac8dc47e3b39c930caed4bfd05b4ba805">FORMAT</a>, <a class="el" href="../../d7/dc3/res__calendar_8c.html#acfd58ce0ec836919236d7a1908494970">FORMAT2</a>, <a class="el" href="../../da/d4a/calendar_8h_source.html#l00101">ast_calendar_event::location</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00165">ast_cli_args::n</a>, <a class="el" href="../../da/d4a/calendar_8h_source.html#l00127">ast_calendar::name</a>, <a class="el" href="../../da/d4a/calendar_8h_source.html#l00127">ast_calendar::notify_app</a>, <a class="el" href="../../da/d4a/calendar_8h_source.html#l00127">ast_calendar::notify_appdata</a>, <a class="el" href="../../da/d4a/calendar_8h_source.html#l00127">ast_calendar::notify_channel</a>, <a class="el" href="../../da/d4a/calendar_8h_source.html#l00127">ast_calendar::notify_context</a>, <a class="el" href="../../da/d4a/calendar_8h_source.html#l00127">ast_calendar::notify_extension</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../da/d4a/calendar_8h_source.html#l00101">ast_calendar_event::organizer</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00164">ast_cli_args::pos</a>, <a class="el" href="../../da/d4a/calendar_8h_source.html#l00102">ast_calendar_event::priority</a>, <a class="el" href="../../da/d4a/calendar_8h_source.html#l00131">ast_calendar::refresh</a>, <a class="el" href="../../da/d4a/calendar_8h_source.html#l00104">ast_calendar_event::start</a>, <a class="el" href="../../da/d4a/calendar_8h_source.html#l00101">ast_calendar_event::summary</a>, <a class="el" href="../../da/d4a/calendar_8h_source.html#l00133">ast_calendar::timeframe</a>, <a class="el" href="../../da/d4a/calendar_8h_source.html#l00101">ast_calendar_event::uid</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00275">unref_calendar()</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00177">ast_cli_entry::usage</a>, and <a class="el" href="../../dc/db0/cli_8h_source.html#l00163">ast_cli_args::word</a>.</p>
<div class="fragment"><div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;{</div><div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;<span class="preprocessor">#define FORMAT  &quot;%-18.18s : %-20.20s\n&quot;</span></div><div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;<span class="preprocessor">#define FORMAT2 &quot;%-12.12s: %-40.60s\n&quot;</span></div><div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/d97/structao2__iterator.html">ao2_iterator</a> i;</div><div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d1d/structast__calendar.html">ast_calendar</a> *cal;</div><div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/d64/structast__calendar__event.html">ast_calendar_event</a> *<a class="code" href="../../df/d7d/structevent.html">event</a>;</div><div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;   <span class="keywordtype">int</span> which = 0;</div><div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;   <span class="keywordtype">char</span> *ret = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;</div><div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;   <span class="keywordflow">switch</span>(cmd) {</div><div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a71745eb63dd093f560a1add3e430d2a9">CLI_INIT</a>:</div><div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;      e-&gt;<a class="code" href="../../d8/d07/structast__cli__entry.html#ade9cba72805fe52685a1deea307a8e82">command</a> = <span class="stringliteral">&quot;calendar show calendar&quot;</span>;</div><div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;      e-&gt;<a class="code" href="../../d8/d07/structast__cli__entry.html#aef1bd6ad890a110b466cb0e8088507a2">usage</a> =</div><div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;         <span class="stringliteral">&quot;Usage: calendar show calendar &lt;calendar name&gt;\n&quot;</span></div><div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;         <span class="stringliteral">&quot;       Displays information about a calendar\n&quot;</span>;</div><div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;</div><div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a76bf33139279b03ec1691f2be2d1be40">CLI_GENERATE</a>:</div><div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;      <span class="keywordflow">if</span> (a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#a4b911d12699acbbb5a8b62355b35bae8">pos</a> != 3) {</div><div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;         <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;      }</div><div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;      i = <a class="code" href="../../d5/da5/astobj2_8h.html#a91d5d37d00874ae7a92d1a15c0a3b3a6">ao2_iterator_init</a>(<a class="code" href="../../d7/dc3/res__calendar_8c.html#ab0a23206c25ccbd53fae39c15dfe647b">calendars</a>, 0);</div><div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;      <span class="keywordflow">while</span> ((cal = <a class="code" href="../../d5/da5/astobj2_8h.html#a17990ea630db7dbd1252ef0132133a2b">ao2_iterator_next</a>(&amp;i))) {</div><div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;         <span class="keywordflow">if</span> (!strncasecmp(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#adc1f34651f7bbfa3ba5af27db5f53817">word</a>, cal-&gt;<a class="code" href="../../d4/d1d/structast__calendar.html#ace9168767fc3707cf5f0a7d049682ba3">name</a>, strlen(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#adc1f34651f7bbfa3ba5af27db5f53817">word</a>)) &amp;&amp; ++which &gt; a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acfc02ec89670db29251fda6a66602ce2">n</a>) {</div><div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;            ret = <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(cal-&gt;<a class="code" href="../../d4/d1d/structast__calendar.html#ace9168767fc3707cf5f0a7d049682ba3">name</a>);</div><div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;            cal = <a class="code" href="../../d7/dc3/res__calendar_8c.html#a1d3e21e2e050727f782d68652d1cc1f5">unref_calendar</a>(cal);</div><div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;         }</div><div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;         cal = <a class="code" href="../../d7/dc3/res__calendar_8c.html#a1d3e21e2e050727f782d68652d1cc1f5">unref_calendar</a>(cal);</div><div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;      }</div><div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#ad36841ab6daa3997f7ca7047ad2d033a">ao2_iterator_destroy</a>(&amp;i);</div><div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;      <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;   }</div><div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;</div><div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;   <span class="keywordflow">if</span> (a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#a98e1d8441ca58834f11f7367be4b3345">argc</a> != 4) {</div><div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#a0873456096960dab21fff0ce68c95acb">CLI_SHOWUSAGE</a>;</div><div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;   }</div><div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;</div><div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;   <span class="keywordflow">if</span> (!(cal = <a class="code" href="../../d7/dc3/res__calendar_8c.html#af2623a75bbe6c1c6ff6a744b032b2599">find_calendar</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[3]))) {</div><div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;   }</div><div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;</div><div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;   <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <a class="code" href="../../d7/dc3/res__calendar_8c.html#ac8dc47e3b39c930caed4bfd05b4ba805">FORMAT</a>, <span class="stringliteral">&quot;Name&quot;</span>, cal-&gt;<a class="code" href="../../d4/d1d/structast__calendar.html#ace9168767fc3707cf5f0a7d049682ba3">name</a>);</div><div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;   <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <a class="code" href="../../d7/dc3/res__calendar_8c.html#ac8dc47e3b39c930caed4bfd05b4ba805">FORMAT</a>, <span class="stringliteral">&quot;Notify channel&quot;</span>, cal-&gt;<a class="code" href="../../d4/d1d/structast__calendar.html#a9acf7cf0321fbc2e944f794cc4a4db86">notify_channel</a>);</div><div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;   <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <a class="code" href="../../d7/dc3/res__calendar_8c.html#ac8dc47e3b39c930caed4bfd05b4ba805">FORMAT</a>, <span class="stringliteral">&quot;Notify context&quot;</span>, cal-&gt;<a class="code" href="../../d4/d1d/structast__calendar.html#a7b3940c88eaa2ebab6ca6961d4f9df18">notify_context</a>);</div><div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;   <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <a class="code" href="../../d7/dc3/res__calendar_8c.html#ac8dc47e3b39c930caed4bfd05b4ba805">FORMAT</a>, <span class="stringliteral">&quot;Notify extension&quot;</span>, cal-&gt;<a class="code" href="../../d4/d1d/structast__calendar.html#acebdf605e5644c23dbc491852a8fdca7">notify_extension</a>);</div><div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;   <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <a class="code" href="../../d7/dc3/res__calendar_8c.html#ac8dc47e3b39c930caed4bfd05b4ba805">FORMAT</a>, <span class="stringliteral">&quot;Notify application&quot;</span>, cal-&gt;<a class="code" href="../../d4/d1d/structast__calendar.html#a7fcdd69191895d039e606af46e182411">notify_app</a>);</div><div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;   <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <a class="code" href="../../d7/dc3/res__calendar_8c.html#ac8dc47e3b39c930caed4bfd05b4ba805">FORMAT</a>, <span class="stringliteral">&quot;Notify appdata&quot;</span>, cal-&gt;<a class="code" href="../../d4/d1d/structast__calendar.html#aedd5dd4b83fc4caf62e0ffab93418421">notify_appdata</a>);</div><div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;   <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;%-17.17s : %d\n&quot;</span>, <span class="stringliteral">&quot;Refresh time&quot;</span>, cal-&gt;<a class="code" href="../../d4/d1d/structast__calendar.html#a1b89d9ee01e33efd8e2634eb2ee2e6d7">refresh</a>);</div><div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;   <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;%-17.17s : %d\n&quot;</span>, <span class="stringliteral">&quot;Timeframe&quot;</span>, cal-&gt;<a class="code" href="../../d4/d1d/structast__calendar.html#a684e6be27b3b7514b381971d72a04128">timeframe</a>);</div><div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;</div><div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;   <span class="keywordflow">if</span> (cal-&gt;<a class="code" href="../../d4/d1d/structast__calendar.html#a25c5d44b0e5d8a6447a6199e17d3bbbe">autoreminder</a>) {</div><div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;      <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;%-17.17s : %d minutes before event\n&quot;</span>, <span class="stringliteral">&quot;Autoreminder&quot;</span>, cal-&gt;<a class="code" href="../../d4/d1d/structast__calendar.html#a25c5d44b0e5d8a6447a6199e17d3bbbe">autoreminder</a>);</div><div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;      <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;%-17.17s : None\n&quot;</span>, <span class="stringliteral">&quot;Autoreminder&quot;</span>);</div><div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;   }</div><div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;</div><div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;   <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;%s\n&quot;</span>, <span class="stringliteral">&quot;Events&quot;</span>);</div><div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;   <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;%s\n&quot;</span>, <span class="stringliteral">&quot;------&quot;</span>);</div><div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;</div><div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;   i = <a class="code" href="../../d5/da5/astobj2_8h.html#a91d5d37d00874ae7a92d1a15c0a3b3a6">ao2_iterator_init</a>(cal-&gt;<a class="code" href="../../d4/d1d/structast__calendar.html#a68cfdbd3a90ed1f8b0486a13b65bd244">events</a>, 0);</div><div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;   <span class="keywordflow">while</span> ((event = <a class="code" href="../../d5/da5/astobj2_8h.html#a17990ea630db7dbd1252ef0132133a2b">ao2_iterator_next</a>(&amp;i))) {</div><div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;      <span class="keywordtype">char</span> <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>[100];</div><div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;</div><div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;      <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <a class="code" href="../../d7/dc3/res__calendar_8c.html#acfd58ce0ec836919236d7a1908494970">FORMAT2</a>, <span class="stringliteral">&quot;Summary&quot;</span>, event-&gt;<a class="code" href="../../dc/d64/structast__calendar__event.html#ad1e48ce65ffcec5cd319932c5992b984">summary</a>);</div><div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;      <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <a class="code" href="../../d7/dc3/res__calendar_8c.html#acfd58ce0ec836919236d7a1908494970">FORMAT2</a>, <span class="stringliteral">&quot;Description&quot;</span>, event-&gt;<a class="code" href="../../dc/d64/structast__calendar__event.html#a76f76ee5f847833b202461d55b23c17a">description</a>);</div><div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;      <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <a class="code" href="../../d7/dc3/res__calendar_8c.html#acfd58ce0ec836919236d7a1908494970">FORMAT2</a>, <span class="stringliteral">&quot;Organizer&quot;</span>, event-&gt;<a class="code" href="../../dc/d64/structast__calendar__event.html#a8f6e28f53ef146c7f954cd40022696fc">organizer</a>);</div><div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;      <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <a class="code" href="../../d7/dc3/res__calendar_8c.html#acfd58ce0ec836919236d7a1908494970">FORMAT2</a>, <span class="stringliteral">&quot;Location&quot;</span>, event-&gt;<a class="code" href="../../dc/d64/structast__calendar__event.html#a6a5b9c21797702c6d9ac875640b70489">location</a>);</div><div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;      <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <a class="code" href="../../d7/dc3/res__calendar_8c.html#acfd58ce0ec836919236d7a1908494970">FORMAT2</a>, <span class="stringliteral">&quot;Categories&quot;</span>, event-&gt;<a class="code" href="../../dc/d64/structast__calendar__event.html#a7f244b38bf6de6ec470bcc061092b5b5">categories</a>);</div><div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;      <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;%-12.12s: %d\n&quot;</span>, <span class="stringliteral">&quot;Priority&quot;</span>, event-&gt;<a class="code" href="../../dc/d64/structast__calendar__event.html#acec9ce2df15222151ad66fcb1d74eb9f">priority</a>);</div><div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;      <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <a class="code" href="../../d7/dc3/res__calendar_8c.html#acfd58ce0ec836919236d7a1908494970">FORMAT2</a>, <span class="stringliteral">&quot;UID&quot;</span>, event-&gt;<a class="code" href="../../dc/d64/structast__calendar__event.html#a351c558d41ceba8d276ca848d3ca9def">uid</a>);</div><div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;      <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <a class="code" href="../../d7/dc3/res__calendar_8c.html#acfd58ce0ec836919236d7a1908494970">FORMAT2</a>, <span class="stringliteral">&quot;Start&quot;</span>, <a class="code" href="../../d7/dc3/res__calendar_8c.html#a4359d2c66f94a0c0213d8dce458c79b9">epoch_to_string</a>(buf, <span class="keyword">sizeof</span>(buf), event-&gt;<a class="code" href="../../dc/d64/structast__calendar__event.html#ada310e7f72b38fadd4b24d80ed3438ee">start</a>));</div><div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;      <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <a class="code" href="../../d7/dc3/res__calendar_8c.html#acfd58ce0ec836919236d7a1908494970">FORMAT2</a>, <span class="stringliteral">&quot;End&quot;</span>, <a class="code" href="../../d7/dc3/res__calendar_8c.html#a4359d2c66f94a0c0213d8dce458c79b9">epoch_to_string</a>(buf, <span class="keyword">sizeof</span>(buf), event-&gt;<a class="code" href="../../dc/d64/structast__calendar__event.html#a13455ba845bf5d4dba37be491bc6a036">end</a>));</div><div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;      <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <a class="code" href="../../d7/dc3/res__calendar_8c.html#acfd58ce0ec836919236d7a1908494970">FORMAT2</a>, <span class="stringliteral">&quot;Alarm&quot;</span>, <a class="code" href="../../d7/dc3/res__calendar_8c.html#a4359d2c66f94a0c0213d8dce458c79b9">epoch_to_string</a>(buf, <span class="keyword">sizeof</span>(buf), event-&gt;<a class="code" href="../../dc/d64/structast__calendar__event.html#a37267f70d860de1087f76560dda134f7">alarm</a>));</div><div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;      <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;\n&quot;</span>);</div><div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;</div><div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;      <span class="keyword">event</span> = <a class="code" href="../../d7/dc3/res__calendar_8c.html#a0b71ae1b1392b6095a17737375eb7671">ast_calendar_unref_event</a>(event);</div><div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;   }</div><div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#ad36841ab6daa3997f7ca7047ad2d033a">ao2_iterator_destroy</a>(&amp;i);</div><div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;   cal = <a class="code" href="../../d7/dc3/res__calendar_8c.html#a1d3e21e2e050727f782d68652d1cc1f5">unref_calendar</a>(cal);</div><div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#a50989f00b32eeb2516a3803cb2ffb766">CLI_SUCCESS</a>;</div><div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;<span class="preprocessor">#undef FORMAT</span></div><div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;<span class="preprocessor">#undef FORMAT2</span></div><div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;}</div><div class="ttc" id="structast__calendar__event_html_a13455ba845bf5d4dba37be491bc6a036"><div class="ttname"><a href="../../dc/d64/structast__calendar__event.html#a13455ba845bf5d4dba37be491bc6a036">ast_calendar_event::end</a></div><div class="ttdeci">time_t end</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00105">calendar.h:105</a></div></div>
<div class="ttc" id="res__calendar_8c_html_ab0a23206c25ccbd53fae39c15dfe647b"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#ab0a23206c25ccbd53fae39c15dfe647b">calendars</a></div><div class="ttdeci">static struct ao2_container * calendars</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l00222">res_calendar.c:222</a></div></div>
<div class="ttc" id="res__calendar_8c_html_a4359d2c66f94a0c0213d8dce458c79b9"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#a4359d2c66f94a0c0213d8dce458c79b9">epoch_to_string</a></div><div class="ttdeci">static char * epoch_to_string(char *buf, size_t buflen, time_t epoch)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l01587">res_calendar.c:1587</a></div></div>
<div class="ttc" id="res__calendar_8c_html_acfd58ce0ec836919236d7a1908494970"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#acfd58ce0ec836919236d7a1908494970">FORMAT2</a></div><div class="ttdeci">#define FORMAT2</div></div>
<div class="ttc" id="eagi__proxy_8c_html_ac95651d79c608a3148973b5b1fc9e525"><div class="ttname"><a href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a></div><div class="ttdeci">char buf[BUFSIZE]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">eagi_proxy.c:66</a></div></div>
<div class="ttc" id="structast__cli__args_html_a98e1d8441ca58834f11f7367be4b3345"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html#a98e1d8441ca58834f11f7367be4b3345">ast_cli_args::argc</a></div><div class="ttdeci">const int argc</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00160">cli.h:160</a></div></div>
<div class="ttc" id="structast__calendar_html_a1b89d9ee01e33efd8e2634eb2ee2e6d7"><div class="ttname"><a href="../../d4/d1d/structast__calendar.html#a1b89d9ee01e33efd8e2634eb2ee2e6d7">ast_calendar::refresh</a></div><div class="ttdeci">int refresh</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00131">calendar.h:131</a></div></div>
<div class="ttc" id="res__calendar_8c_html_af2623a75bbe6c1c6ff6a744b032b2599"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#af2623a75bbe6c1c6ff6a744b032b2599">find_calendar</a></div><div class="ttdeci">static struct ast_calendar * find_calendar(const char *name)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l00293">res_calendar.c:293</a></div></div>
<div class="ttc" id="cli_8h_html_ab33e5350a923c3a8cedbeb496cd88ec9a71745eb63dd093f560a1add3e430d2a9"><div class="ttname"><a href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a71745eb63dd093f560a1add3e430d2a9">CLI_INIT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00152">cli.h:152</a></div></div>
<div class="ttc" id="structevent_html"><div class="ttname"><a href="../../df/d7d/structevent.html">event</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d4d/astman_8c_source.html#l00222">astman.c:222</a></div></div>
<div class="ttc" id="structast__calendar_html_a7fcdd69191895d039e606af46e182411"><div class="ttname"><a href="../../d4/d1d/structast__calendar.html#a7fcdd69191895d039e606af46e182411">ast_calendar::notify_app</a></div><div class="ttdeci">const ast_string_field notify_app</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00127">calendar.h:127</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad36841ab6daa3997f7ca7047ad2d033a"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad36841ab6daa3997f7ca7047ad2d033a">ao2_iterator_destroy</a></div><div class="ttdeci">void ao2_iterator_destroy(struct ao2_iterator *iter)</div><div class="ttdoc">Destroy a container iterator. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d22/astobj2__container_8c_source.html#l00534">astobj2_container.c:534</a></div></div>
<div class="ttc" id="structast__calendar__event_html_a351c558d41ceba8d276ca848d3ca9def"><div class="ttname"><a href="../../dc/d64/structast__calendar__event.html#a351c558d41ceba8d276ca848d3ca9def">ast_calendar_event::uid</a></div><div class="ttdeci">const ast_string_field uid</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00101">calendar.h:101</a></div></div>
<div class="ttc" id="astmm_8h_html_ab263849d03fb892847be4986db759737"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a></div><div class="ttdeci">#define ast_strdup(str)</div><div class="ttdoc">A wrapper for strdup() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00243">astmm.h:243</a></div></div>
<div class="ttc" id="structast__calendar_html_a684e6be27b3b7514b381971d72a04128"><div class="ttname"><a href="../../d4/d1d/structast__calendar.html#a684e6be27b3b7514b381971d72a04128">ast_calendar::timeframe</a></div><div class="ttdeci">int timeframe</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00133">calendar.h:133</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structast__calendar_html_a7b3940c88eaa2ebab6ca6961d4f9df18"><div class="ttname"><a href="../../d4/d1d/structast__calendar.html#a7b3940c88eaa2ebab6ca6961d4f9df18">ast_calendar::notify_context</a></div><div class="ttdeci">const ast_string_field notify_context</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00127">calendar.h:127</a></div></div>
<div class="ttc" id="cli_8h_html_a791bf9f5637185bee5e8f0907c762130"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a></div><div class="ttdeci">void ast_cli(int fd, const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4d/clicompat_8c_source.html#l00006">clicompat.c:6</a></div></div>
<div class="ttc" id="structast__calendar__event_html_a76f76ee5f847833b202461d55b23c17a"><div class="ttname"><a href="../../dc/d64/structast__calendar__event.html#a76f76ee5f847833b202461d55b23c17a">ast_calendar_event::description</a></div><div class="ttdeci">const ast_string_field description</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00101">calendar.h:101</a></div></div>
<div class="ttc" id="structast__calendar__event_html_a8f6e28f53ef146c7f954cd40022696fc"><div class="ttname"><a href="../../dc/d64/structast__calendar__event.html#a8f6e28f53ef146c7f954cd40022696fc">ast_calendar_event::organizer</a></div><div class="ttdeci">const ast_string_field organizer</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00101">calendar.h:101</a></div></div>
<div class="ttc" id="structast__calendar__event_html_a6a5b9c21797702c6d9ac875640b70489"><div class="ttname"><a href="../../dc/d64/structast__calendar__event.html#a6a5b9c21797702c6d9ac875640b70489">ast_calendar_event::location</a></div><div class="ttdeci">const ast_string_field location</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00101">calendar.h:101</a></div></div>
<div class="ttc" id="structast__cli__args_html_acf64f219885421479997667d2ed3f08a"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">ast_cli_args::fd</a></div><div class="ttdeci">const int fd</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00159">cli.h:159</a></div></div>
<div class="ttc" id="structast__cli__args_html_acfc02ec89670db29251fda6a66602ce2"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html#acfc02ec89670db29251fda6a66602ce2">ast_cli_args::n</a></div><div class="ttdeci">const int n</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00165">cli.h:165</a></div></div>
<div class="ttc" id="res__calendar_8c_html_ac8dc47e3b39c930caed4bfd05b4ba805"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#ac8dc47e3b39c930caed4bfd05b4ba805">FORMAT</a></div><div class="ttdeci">#define FORMAT</div></div>
<div class="ttc" id="structast__calendar_html_aedd5dd4b83fc4caf62e0ffab93418421"><div class="ttname"><a href="../../d4/d1d/structast__calendar.html#aedd5dd4b83fc4caf62e0ffab93418421">ast_calendar::notify_appdata</a></div><div class="ttdeci">const ast_string_field notify_appdata</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00127">calendar.h:127</a></div></div>
<div class="ttc" id="structast__calendar_html_ace9168767fc3707cf5f0a7d049682ba3"><div class="ttname"><a href="../../d4/d1d/structast__calendar.html#ace9168767fc3707cf5f0a7d049682ba3">ast_calendar::name</a></div><div class="ttdeci">const ast_string_field name</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00127">calendar.h:127</a></div></div>
<div class="ttc" id="structast__calendar_html_a68cfdbd3a90ed1f8b0486a13b65bd244"><div class="ttname"><a href="../../d4/d1d/structast__calendar.html#a68cfdbd3a90ed1f8b0486a13b65bd244">ast_calendar::events</a></div><div class="ttdeci">struct ao2_container * events</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00138">calendar.h:138</a></div></div>
<div class="ttc" id="structast__cli__args_html_ad0a19c4d63698f9e9cfd5653e8851452"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">ast_cli_args::argv</a></div><div class="ttdeci">const char *const  * argv</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00161">cli.h:161</a></div></div>
<div class="ttc" id="cli_8h_html_a0873456096960dab21fff0ce68c95acb"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a0873456096960dab21fff0ce68c95acb">CLI_SHOWUSAGE</a></div><div class="ttdeci">#define CLI_SHOWUSAGE</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00045">cli.h:45</a></div></div>
<div class="ttc" id="res__calendar_8c_html_a1d3e21e2e050727f782d68652d1cc1f5"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#a1d3e21e2e050727f782d68652d1cc1f5">unref_calendar</a></div><div class="ttdeci">static struct ast_calendar * unref_calendar(struct ast_calendar *cal)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l00275">res_calendar.c:275</a></div></div>
<div class="ttc" id="astobj2_8h_html_a17990ea630db7dbd1252ef0132133a2b"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a17990ea630db7dbd1252ef0132133a2b">ao2_iterator_next</a></div><div class="ttdeci">#define ao2_iterator_next(iter)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01933">astobj2.h:1933</a></div></div>
<div class="ttc" id="structast__cli__entry_html_ade9cba72805fe52685a1deea307a8e82"><div class="ttname"><a href="../../d8/d07/structast__cli__entry.html#ade9cba72805fe52685a1deea307a8e82">ast_cli_entry::command</a></div><div class="ttdeci">char * command</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00186">cli.h:186</a></div></div>
<div class="ttc" id="structast__cli__args_html_adc1f34651f7bbfa3ba5af27db5f53817"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html#adc1f34651f7bbfa3ba5af27db5f53817">ast_cli_args::word</a></div><div class="ttdeci">const char * word</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00163">cli.h:163</a></div></div>
<div class="ttc" id="structast__calendar_html_acebdf605e5644c23dbc491852a8fdca7"><div class="ttname"><a href="../../d4/d1d/structast__calendar.html#acebdf605e5644c23dbc491852a8fdca7">ast_calendar::notify_extension</a></div><div class="ttdeci">const ast_string_field notify_extension</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00127">calendar.h:127</a></div></div>
<div class="ttc" id="structast__calendar__event_html_a7f244b38bf6de6ec470bcc061092b5b5"><div class="ttname"><a href="../../dc/d64/structast__calendar__event.html#a7f244b38bf6de6ec470bcc061092b5b5">ast_calendar_event::categories</a></div><div class="ttdeci">const ast_string_field categories</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00101">calendar.h:101</a></div></div>
<div class="ttc" id="structast__cli__entry_html_aef1bd6ad890a110b466cb0e8088507a2"><div class="ttname"><a href="../../d8/d07/structast__cli__entry.html#aef1bd6ad890a110b466cb0e8088507a2">ast_cli_entry::usage</a></div><div class="ttdeci">const char * usage</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00177">cli.h:177</a></div></div>
<div class="ttc" id="cli_8h_html_a50989f00b32eeb2516a3803cb2ffb766"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a50989f00b32eeb2516a3803cb2ffb766">CLI_SUCCESS</a></div><div class="ttdeci">#define CLI_SUCCESS</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00044">cli.h:44</a></div></div>
<div class="ttc" id="cli_8h_html_ab33e5350a923c3a8cedbeb496cd88ec9a76bf33139279b03ec1691f2be2d1be40"><div class="ttname"><a href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a76bf33139279b03ec1691f2be2d1be40">CLI_GENERATE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00153">cli.h:153</a></div></div>
<div class="ttc" id="structast__calendar__event_html_ada310e7f72b38fadd4b24d80ed3438ee"><div class="ttname"><a href="../../dc/d64/structast__calendar__event.html#ada310e7f72b38fadd4b24d80ed3438ee">ast_calendar_event::start</a></div><div class="ttdeci">time_t start</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00104">calendar.h:104</a></div></div>
<div class="ttc" id="structao2__iterator_html"><div class="ttname"><a href="../../d9/d97/structao2__iterator.html">ao2_iterator</a></div><div class="ttdoc">When we need to walk through a container, we use an ao2_iterator to keep track of the current positio...</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01841">astobj2.h:1841</a></div></div>
<div class="ttc" id="structast__cli__args_html_a4b911d12699acbbb5a8b62355b35bae8"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html#a4b911d12699acbbb5a8b62355b35bae8">ast_cli_args::pos</a></div><div class="ttdeci">const int pos</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00164">cli.h:164</a></div></div>
<div class="ttc" id="structast__calendar__event_html_a37267f70d860de1087f76560dda134f7"><div class="ttname"><a href="../../dc/d64/structast__calendar__event.html#a37267f70d860de1087f76560dda134f7">ast_calendar_event::alarm</a></div><div class="ttdeci">time_t alarm</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00106">calendar.h:106</a></div></div>
<div class="ttc" id="structast__calendar_html"><div class="ttname"><a href="../../d4/d1d/structast__calendar.html">ast_calendar</a></div><div class="ttdoc">Asterisk calendar structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00117">calendar.h:117</a></div></div>
<div class="ttc" id="structast__calendar__event_html"><div class="ttname"><a href="../../dc/d64/structast__calendar__event.html">ast_calendar_event</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00093">calendar.h:93</a></div></div>
<div class="ttc" id="structast__calendar_html_a25c5d44b0e5d8a6447a6199e17d3bbbe"><div class="ttname"><a href="../../d4/d1d/structast__calendar.html#a25c5d44b0e5d8a6447a6199e17d3bbbe">ast_calendar::autoreminder</a></div><div class="ttdeci">int autoreminder</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00129">calendar.h:129</a></div></div>
<div class="ttc" id="res__calendar_8c_html_a0b71ae1b1392b6095a17737375eb7671"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#a0b71ae1b1392b6095a17737375eb7671">ast_calendar_unref_event</a></div><div class="ttdeci">struct ast_calendar_event * ast_calendar_unref_event(struct ast_calendar_event *event)</div><div class="ttdoc">Unreference an ast_calendar_event. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l00321">res_calendar.c:321</a></div></div>
<div class="ttc" id="structast__calendar__event_html_ad1e48ce65ffcec5cd319932c5992b984"><div class="ttname"><a href="../../dc/d64/structast__calendar__event.html#ad1e48ce65ffcec5cd319932c5992b984">ast_calendar_event::summary</a></div><div class="ttdeci">const ast_string_field summary</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00101">calendar.h:101</a></div></div>
<div class="ttc" id="astobj2_8h_html_a91d5d37d00874ae7a92d1a15c0a3b3a6"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a91d5d37d00874ae7a92d1a15c0a3b3a6">ao2_iterator_init</a></div><div class="ttdeci">struct ao2_iterator ao2_iterator_init(struct ao2_container *c, int flags) attribute_warn_unused_result</div><div class="ttdoc">Create an iterator for a container. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d22/astobj2__container_8c_source.html#l00485">astobj2_container.c:485</a></div></div>
<div class="ttc" id="structast__calendar_html_a9acf7cf0321fbc2e944f794cc4a4db86"><div class="ttname"><a href="../../d4/d1d/structast__calendar.html#a9acf7cf0321fbc2e944f794cc4a4db86">ast_calendar::notify_channel</a></div><div class="ttdeci">const ast_string_field notify_channel</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00127">calendar.h:127</a></div></div>
<div class="ttc" id="structast__calendar__event_html_acec9ce2df15222151ad66fcb1d74eb9f"><div class="ttname"><a href="../../dc/d64/structast__calendar__event.html#acec9ce2df15222151ad66fcb1d74eb9f">ast_calendar_event::priority</a></div><div class="ttdeci">int priority</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00102">calendar.h:102</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a85c94c57fc8931c1cb9f1418238d79ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a85c94c57fc8931c1cb9f1418238d79ec">&#9670;&nbsp;</a></span>handle_show_calendars()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static char* handle_show_calendars </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d8/d07/structast__cli__entry.html">ast_cli_entry</a> *&#160;</td>
          <td class="paramname"><em>e</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d3/dad/structast__cli__args.html">ast_cli_args</a> *&#160;</td>
          <td class="paramname"><em>a</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>CLI command to list available calendars. </p>

<p class="definition">Definition at line <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l01528">1528</a> of file <a class="el" href="../../d7/dc3/res__calendar_8c_source.html">res_calendar.c</a>.</p>

<p class="reference">References <a class="el" href="../../d7/d22/astobj2__container_8c_source.html#l00534">ao2_iterator_destroy()</a>, <a class="el" href="../../d7/d22/astobj2__container_8c_source.html#l00485">ao2_iterator_init()</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01933">ao2_iterator_next</a>, <a class="el" href="../../da/d4d/clicompat_8c_source.html#l00006">ast_cli()</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00372">calendar_is_busy()</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00153">CLI_GENERATE</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00152">CLI_INIT</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00044">CLI_SUCCESS</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00186">ast_cli_entry::command</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00159">ast_cli_args::fd</a>, <a class="el" href="../../d7/dc3/res__calendar_8c.html#ac8dc47e3b39c930caed4bfd05b4ba805">FORMAT</a>, <a class="el" href="../../da/d4a/calendar_8h_source.html#l00127">ast_calendar::name</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../da/d4a/calendar_8h_source.html#l00118">ast_calendar::tech</a>, <a class="el" href="../../da/d4a/calendar_8h_source.html#l00070">ast_calendar_tech::type</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00275">unref_calendar()</a>, and <a class="el" href="../../dc/db0/cli_8h_source.html#l00177">ast_cli_entry::usage</a>.</p>
<div class="fragment"><div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;{</div><div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;<span class="preprocessor">#define FORMAT &quot;%-20.20s %-10.10s %-6.6s\n&quot;</span></div><div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/d97/structao2__iterator.html">ao2_iterator</a> i;</div><div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d1d/structast__calendar.html">ast_calendar</a> *cal;</div><div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;</div><div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;   <span class="keywordflow">switch</span>(cmd) {</div><div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a71745eb63dd093f560a1add3e430d2a9">CLI_INIT</a>:</div><div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;      e-&gt;<a class="code" href="../../d8/d07/structast__cli__entry.html#ade9cba72805fe52685a1deea307a8e82">command</a> = <span class="stringliteral">&quot;calendar show calendars&quot;</span>;</div><div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;      e-&gt;<a class="code" href="../../d8/d07/structast__cli__entry.html#aef1bd6ad890a110b466cb0e8088507a2">usage</a> =</div><div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;         <span class="stringliteral">&quot;Usage: calendar show calendars\n&quot;</span></div><div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;         <span class="stringliteral">&quot;       Lists all registered calendars.\n&quot;</span>;</div><div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a76bf33139279b03ec1691f2be2d1be40">CLI_GENERATE</a>:</div><div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;   }</div><div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;</div><div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;   <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <a class="code" href="../../d7/dc3/res__calendar_8c.html#ac8dc47e3b39c930caed4bfd05b4ba805">FORMAT</a>, <span class="stringliteral">&quot;Calendar&quot;</span>, <span class="stringliteral">&quot;Type&quot;</span>, <span class="stringliteral">&quot;Status&quot;</span>);</div><div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;   <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <a class="code" href="../../d7/dc3/res__calendar_8c.html#ac8dc47e3b39c930caed4bfd05b4ba805">FORMAT</a>, <span class="stringliteral">&quot;--------&quot;</span>, <span class="stringliteral">&quot;----&quot;</span>, <span class="stringliteral">&quot;------&quot;</span>);</div><div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;   i = <a class="code" href="../../d5/da5/astobj2_8h.html#a91d5d37d00874ae7a92d1a15c0a3b3a6">ao2_iterator_init</a>(<a class="code" href="../../d7/dc3/res__calendar_8c.html#ab0a23206c25ccbd53fae39c15dfe647b">calendars</a>, 0);</div><div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;   <span class="keywordflow">while</span> ((cal = <a class="code" href="../../d5/da5/astobj2_8h.html#a17990ea630db7dbd1252ef0132133a2b">ao2_iterator_next</a>(&amp;i))) {</div><div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;      <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <a class="code" href="../../d7/dc3/res__calendar_8c.html#ac8dc47e3b39c930caed4bfd05b4ba805">FORMAT</a>, cal-&gt;<a class="code" href="../../d4/d1d/structast__calendar.html#ace9168767fc3707cf5f0a7d049682ba3">name</a>, cal-&gt;<a class="code" href="../../d4/d1d/structast__calendar.html#a2202508d2b59b02becb71802e5835cbd">tech</a>-&gt;<a class="code" href="../../dd/dca/structast__calendar__tech.html#a763fd8db6bba8fbbbc113ca0d61c47c2">type</a>, <a class="code" href="../../d7/dc3/res__calendar_8c.html#a7f475f91c6878f3033e4c1379311a220">calendar_is_busy</a>(cal) ? <span class="stringliteral">&quot;busy&quot;</span> : <span class="stringliteral">&quot;free&quot;</span>);</div><div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;      cal = <a class="code" href="../../d7/dc3/res__calendar_8c.html#a1d3e21e2e050727f782d68652d1cc1f5">unref_calendar</a>(cal);</div><div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;   }</div><div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#ad36841ab6daa3997f7ca7047ad2d033a">ao2_iterator_destroy</a>(&amp;i);</div><div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;</div><div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#a50989f00b32eeb2516a3803cb2ffb766">CLI_SUCCESS</a>;</div><div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;<span class="preprocessor">#undef FORMAT</span></div><div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;}</div><div class="ttc" id="structast__calendar_html_a2202508d2b59b02becb71802e5835cbd"><div class="ttname"><a href="../../d4/d1d/structast__calendar.html#a2202508d2b59b02becb71802e5835cbd">ast_calendar::tech</a></div><div class="ttdeci">const struct ast_calendar_tech * tech</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00118">calendar.h:118</a></div></div>
<div class="ttc" id="res__calendar_8c_html_ab0a23206c25ccbd53fae39c15dfe647b"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#ab0a23206c25ccbd53fae39c15dfe647b">calendars</a></div><div class="ttdeci">static struct ao2_container * calendars</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l00222">res_calendar.c:222</a></div></div>
<div class="ttc" id="cli_8h_html_ab33e5350a923c3a8cedbeb496cd88ec9a71745eb63dd093f560a1add3e430d2a9"><div class="ttname"><a href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a71745eb63dd093f560a1add3e430d2a9">CLI_INIT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00152">cli.h:152</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad36841ab6daa3997f7ca7047ad2d033a"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad36841ab6daa3997f7ca7047ad2d033a">ao2_iterator_destroy</a></div><div class="ttdeci">void ao2_iterator_destroy(struct ao2_iterator *iter)</div><div class="ttdoc">Destroy a container iterator. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d22/astobj2__container_8c_source.html#l00534">astobj2_container.c:534</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="cli_8h_html_a791bf9f5637185bee5e8f0907c762130"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a></div><div class="ttdeci">void ast_cli(int fd, const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4d/clicompat_8c_source.html#l00006">clicompat.c:6</a></div></div>
<div class="ttc" id="structast__calendar__tech_html_a763fd8db6bba8fbbbc113ca0d61c47c2"><div class="ttname"><a href="../../dd/dca/structast__calendar__tech.html#a763fd8db6bba8fbbbc113ca0d61c47c2">ast_calendar_tech::type</a></div><div class="ttdeci">const char * type</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00070">calendar.h:70</a></div></div>
<div class="ttc" id="structast__cli__args_html_acf64f219885421479997667d2ed3f08a"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">ast_cli_args::fd</a></div><div class="ttdeci">const int fd</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00159">cli.h:159</a></div></div>
<div class="ttc" id="res__calendar_8c_html_ac8dc47e3b39c930caed4bfd05b4ba805"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#ac8dc47e3b39c930caed4bfd05b4ba805">FORMAT</a></div><div class="ttdeci">#define FORMAT</div></div>
<div class="ttc" id="structast__calendar_html_ace9168767fc3707cf5f0a7d049682ba3"><div class="ttname"><a href="../../d4/d1d/structast__calendar.html#ace9168767fc3707cf5f0a7d049682ba3">ast_calendar::name</a></div><div class="ttdeci">const ast_string_field name</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00127">calendar.h:127</a></div></div>
<div class="ttc" id="res__calendar_8c_html_a1d3e21e2e050727f782d68652d1cc1f5"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#a1d3e21e2e050727f782d68652d1cc1f5">unref_calendar</a></div><div class="ttdeci">static struct ast_calendar * unref_calendar(struct ast_calendar *cal)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l00275">res_calendar.c:275</a></div></div>
<div class="ttc" id="res__calendar_8c_html_a7f475f91c6878f3033e4c1379311a220"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#a7f475f91c6878f3033e4c1379311a220">calendar_is_busy</a></div><div class="ttdeci">static int calendar_is_busy(struct ast_calendar *cal)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l00372">res_calendar.c:372</a></div></div>
<div class="ttc" id="astobj2_8h_html_a17990ea630db7dbd1252ef0132133a2b"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a17990ea630db7dbd1252ef0132133a2b">ao2_iterator_next</a></div><div class="ttdeci">#define ao2_iterator_next(iter)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01933">astobj2.h:1933</a></div></div>
<div class="ttc" id="structast__cli__entry_html_ade9cba72805fe52685a1deea307a8e82"><div class="ttname"><a href="../../d8/d07/structast__cli__entry.html#ade9cba72805fe52685a1deea307a8e82">ast_cli_entry::command</a></div><div class="ttdeci">char * command</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00186">cli.h:186</a></div></div>
<div class="ttc" id="structast__cli__entry_html_aef1bd6ad890a110b466cb0e8088507a2"><div class="ttname"><a href="../../d8/d07/structast__cli__entry.html#aef1bd6ad890a110b466cb0e8088507a2">ast_cli_entry::usage</a></div><div class="ttdeci">const char * usage</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00177">cli.h:177</a></div></div>
<div class="ttc" id="cli_8h_html_a50989f00b32eeb2516a3803cb2ffb766"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a50989f00b32eeb2516a3803cb2ffb766">CLI_SUCCESS</a></div><div class="ttdeci">#define CLI_SUCCESS</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00044">cli.h:44</a></div></div>
<div class="ttc" id="cli_8h_html_ab33e5350a923c3a8cedbeb496cd88ec9a76bf33139279b03ec1691f2be2d1be40"><div class="ttname"><a href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a76bf33139279b03ec1691f2be2d1be40">CLI_GENERATE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00153">cli.h:153</a></div></div>
<div class="ttc" id="structao2__iterator_html"><div class="ttname"><a href="../../d9/d97/structao2__iterator.html">ao2_iterator</a></div><div class="ttdoc">When we need to walk through a container, we use an ao2_iterator to keep track of the current positio...</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01841">astobj2.h:1841</a></div></div>
<div class="ttc" id="structast__calendar_html"><div class="ttname"><a href="../../d4/d1d/structast__calendar.html">ast_calendar</a></div><div class="ttdoc">Asterisk calendar structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00117">calendar.h:117</a></div></div>
<div class="ttc" id="astobj2_8h_html_a91d5d37d00874ae7a92d1a15c0a3b3a6"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a91d5d37d00874ae7a92d1a15c0a3b3a6">ao2_iterator_init</a></div><div class="ttdeci">struct ao2_iterator ao2_iterator_init(struct ao2_container *c, int flags) attribute_warn_unused_result</div><div class="ttdoc">Create an iterator for a container. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d22/astobj2__container_8c_source.html#l00485">astobj2_container.c:485</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a266a498e1e52f9d547a38b48b105f180"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a266a498e1e52f9d547a38b48b105f180">&#9670;&nbsp;</a></span>handle_show_calendars_types()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static char* handle_show_calendars_types </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d8/d07/structast__cli__entry.html">ast_cli_entry</a> *&#160;</td>
          <td class="paramname"><em>e</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d3/dad/structast__cli__args.html">ast_cli_args</a> *&#160;</td>
          <td class="paramname"><em>a</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>CLI command to list of all calendars types currently loaded on the backend. </p>

<p class="definition">Definition at line <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l01559">1559</a> of file <a class="el" href="../../d7/dc3/res__calendar_8c_source.html">res_calendar.c</a>.</p>

<p class="reference">References <a class="el" href="../../da/d4d/clicompat_8c_source.html#l00006">ast_cli()</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00039">AST_LIST_LOCK</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00490">AST_LIST_TRAVERSE</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00139">AST_LIST_UNLOCK</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00153">CLI_GENERATE</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00152">CLI_INIT</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00044">CLI_SUCCESS</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00186">ast_cli_entry::command</a>, <a class="el" href="../../da/d4a/calendar_8h_source.html#l00071">ast_calendar_tech::description</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00159">ast_cli_args::fd</a>, <a class="el" href="../../d7/dc3/res__calendar_8c.html#ac8dc47e3b39c930caed4bfd05b4ba805">FORMAT</a>, <a class="el" href="../../df/db9/structevententry.html#a7243f23e02e3325c23cfb0a5a98732fa">evententry::list</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../da/d4a/calendar_8h_source.html#l00070">ast_calendar_tech::type</a>, and <a class="el" href="../../dc/db0/cli_8h_source.html#l00177">ast_cli_entry::usage</a>.</p>
<div class="fragment"><div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;{</div><div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;<span class="preprocessor">#define FORMAT &quot;%-10.10s %-30.30s\n&quot;</span></div><div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;        <span class="keyword">struct </span><a class="code" href="../../dd/dca/structast__calendar__tech.html">ast_calendar_tech</a> *iter;</div><div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;</div><div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;</div><div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;   <span class="keywordflow">switch</span>(cmd) {</div><div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a71745eb63dd093f560a1add3e430d2a9">CLI_INIT</a>:</div><div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;      e-&gt;<a class="code" href="../../d8/d07/structast__cli__entry.html#ade9cba72805fe52685a1deea307a8e82">command</a> = <span class="stringliteral">&quot;calendar show types&quot;</span>;</div><div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;      e-&gt;<a class="code" href="../../d8/d07/structast__cli__entry.html#aef1bd6ad890a110b466cb0e8088507a2">usage</a> =</div><div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;         <span class="stringliteral">&quot;Usage: calendar show types\n&quot;</span></div><div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;         <span class="stringliteral">&quot;       Lists all registered calendars types.\n&quot;</span>;</div><div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a76bf33139279b03ec1691f2be2d1be40">CLI_GENERATE</a>:</div><div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;   }</div><div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;</div><div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;   <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <a class="code" href="../../d7/dc3/res__calendar_8c.html#ac8dc47e3b39c930caed4bfd05b4ba805">FORMAT</a>, <span class="stringliteral">&quot;Type&quot;</span>, <span class="stringliteral">&quot;Description&quot;</span>);</div><div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a>(&amp;<a class="code" href="../../d2/db3/structtechs.html">techs</a>);</div><div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(&amp;<a class="code" href="../../d2/db3/structtechs.html">techs</a>, iter, <a class="code" href="../../dd/dca/structast__calendar__tech.html#a0199260d3b90f5bec211e98749d2f748">list</a>) {</div><div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;      <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <a class="code" href="../../d7/dc3/res__calendar_8c.html#ac8dc47e3b39c930caed4bfd05b4ba805">FORMAT</a>, iter-&gt;<a class="code" href="../../dd/dca/structast__calendar__tech.html#a763fd8db6bba8fbbbc113ca0d61c47c2">type</a>, iter-&gt;<a class="code" href="../../dd/dca/structast__calendar__tech.html#a68344fa88cf4e86b5079fd69a5c22d57">description</a>);</div><div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;   }</div><div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a>(&amp;<a class="code" href="../../d2/db3/structtechs.html">techs</a>);</div><div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;</div><div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#a50989f00b32eeb2516a3803cb2ffb766">CLI_SUCCESS</a>;</div><div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;<span class="preprocessor">#undef FORMAT</span></div><div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;}</div><div class="ttc" id="linkedlists_8h_html_a9140a4e4d781264fa9469c52b1adae40"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a></div><div class="ttdeci">#define AST_LIST_LOCK(head)</div><div class="ttdoc">Locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00039">linkedlists.h:39</a></div></div>
<div class="ttc" id="linkedlists_8h_html_ab48cb9e1e612dd486b747ba1c5d68d01"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a></div><div class="ttdeci">#define AST_LIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00139">linkedlists.h:139</a></div></div>
<div class="ttc" id="structast__calendar__tech_html_a0199260d3b90f5bec211e98749d2f748"><div class="ttname"><a href="../../dd/dca/structast__calendar__tech.html#a0199260d3b90f5bec211e98749d2f748">ast_calendar_tech::list</a></div><div class="ttdeci">struct ast_calendar_tech::@239 list</div></div>
<div class="ttc" id="cli_8h_html_ab33e5350a923c3a8cedbeb496cd88ec9a71745eb63dd093f560a1add3e430d2a9"><div class="ttname"><a href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a71745eb63dd093f560a1add3e430d2a9">CLI_INIT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00152">cli.h:152</a></div></div>
<div class="ttc" id="structast__calendar__tech_html_a68344fa88cf4e86b5079fd69a5c22d57"><div class="ttname"><a href="../../dd/dca/structast__calendar__tech.html#a68344fa88cf4e86b5079fd69a5c22d57">ast_calendar_tech::description</a></div><div class="ttdeci">const char * description</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00071">calendar.h:71</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="cli_8h_html_a791bf9f5637185bee5e8f0907c762130"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a></div><div class="ttdeci">void ast_cli(int fd, const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4d/clicompat_8c_source.html#l00006">clicompat.c:6</a></div></div>
<div class="ttc" id="structast__calendar__tech_html_a763fd8db6bba8fbbbc113ca0d61c47c2"><div class="ttname"><a href="../../dd/dca/structast__calendar__tech.html#a763fd8db6bba8fbbbc113ca0d61c47c2">ast_calendar_tech::type</a></div><div class="ttdeci">const char * type</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00070">calendar.h:70</a></div></div>
<div class="ttc" id="structast__cli__args_html_acf64f219885421479997667d2ed3f08a"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">ast_cli_args::fd</a></div><div class="ttdeci">const int fd</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00159">cli.h:159</a></div></div>
<div class="ttc" id="res__calendar_8c_html_ac8dc47e3b39c930caed4bfd05b4ba805"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#ac8dc47e3b39c930caed4bfd05b4ba805">FORMAT</a></div><div class="ttdeci">#define FORMAT</div></div>
<div class="ttc" id="linkedlists_8h_html_a3008b2f4f236b72d8bcfb80e346324ef"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a></div><div class="ttdeci">#define AST_LIST_TRAVERSE(head, var, field)</div><div class="ttdoc">Loops over (traverses) the entries in a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00490">linkedlists.h:490</a></div></div>
<div class="ttc" id="structast__cli__entry_html_ade9cba72805fe52685a1deea307a8e82"><div class="ttname"><a href="../../d8/d07/structast__cli__entry.html#ade9cba72805fe52685a1deea307a8e82">ast_cli_entry::command</a></div><div class="ttdeci">char * command</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00186">cli.h:186</a></div></div>
<div class="ttc" id="structast__cli__entry_html_aef1bd6ad890a110b466cb0e8088507a2"><div class="ttname"><a href="../../d8/d07/structast__cli__entry.html#aef1bd6ad890a110b466cb0e8088507a2">ast_cli_entry::usage</a></div><div class="ttdeci">const char * usage</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00177">cli.h:177</a></div></div>
<div class="ttc" id="cli_8h_html_a50989f00b32eeb2516a3803cb2ffb766"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a50989f00b32eeb2516a3803cb2ffb766">CLI_SUCCESS</a></div><div class="ttdeci">#define CLI_SUCCESS</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00044">cli.h:44</a></div></div>
<div class="ttc" id="cli_8h_html_ab33e5350a923c3a8cedbeb496cd88ec9a76bf33139279b03ec1691f2be2d1be40"><div class="ttname"><a href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a76bf33139279b03ec1691f2be2d1be40">CLI_GENERATE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00153">cli.h:153</a></div></div>
<div class="ttc" id="structast__calendar__tech_html"><div class="ttname"><a href="../../dd/dca/structast__calendar__tech.html">ast_calendar_tech</a></div><div class="ttdoc">Individual calendaring technology data. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00069">calendar.h:69</a></div></div>
<div class="ttc" id="structtechs_html"><div class="ttname"><a href="../../d2/db3/structtechs.html">techs</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l00252">res_calendar.c:252</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad0f6114d9cab58a8ec3d9555cb466534"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad0f6114d9cab58a8ec3d9555cb466534">&#9670;&nbsp;</a></span>load_config()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int load_config </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>reload</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l01065">1065</a> of file <a class="el" href="../../d7/dc3/res__calendar_8c_source.html">res_calendar.c</a>.</p>

<p class="reference">References <a class="el" href="../../d4/dc5/extconf_8c_source.html#l01290">ast_config_destroy()</a>, <a class="el" href="../../d2/d9d/main_2config_8c_source.html#l03154">ast_config_load2()</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00232">ast_rwlock_unlock</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00234">ast_rwlock_wrlock</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00043">CONFIG_FLAG_FILEUNCHANGED</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00256">config_lock</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00060">CONFIG_STATUS_FILEINVALID</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00059">CONFIG_STATUS_FILEUNCHANGED</a>, and <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l01900">load_module()</a>, and <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l01795">reload()</a>.</p>
<div class="fragment"><div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;{</div><div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/dac/structast__flags.html">ast_flags</a> config_flags = { <a class="code" href="../../d7/dc3/res__calendar_8c.html#ad1982509765f4870f1f63412a53ea668">reload</a> ? <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a103e76ed4bd42f776f7f260080b98b3fafa887389dc380bbdcffb65fec379f037">CONFIG_FLAG_FILEUNCHANGED</a> : 0 };</div><div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/d18/structast__config.html">ast_config</a> *tmpcfg;</div><div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;</div><div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;   <span class="keywordflow">if</span> (!(tmpcfg = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#aab3eac8fa82a86a93c074deb7b77dbc9">ast_config_load2</a>(<span class="stringliteral">&quot;calendar.conf&quot;</span>, <span class="stringliteral">&quot;calendar&quot;</span>, config_flags)) ||</div><div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;      tmpcfg == <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a8d1a63cdf2c7aff22a77b6e75d93b377">CONFIG_STATUS_FILEINVALID</a>) {</div><div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Unable to load config calendar.conf\n&quot;</span>);</div><div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;   }</div><div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;</div><div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;   <span class="keywordflow">if</span> (tmpcfg == <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a846844eb2c4eb44554445936b3770711">CONFIG_STATUS_FILEUNCHANGED</a>) {</div><div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;   }</div><div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;</div><div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a045bd81ceab2de81e42af338ad7cf121">ast_rwlock_wrlock</a>(&amp;<a class="code" href="../../d7/dc3/res__calendar_8c.html#a6438556ba98655267def94eee104f6e2">config_lock</a>);</div><div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d7/dc3/res__calendar_8c.html#a4e17933edc73c89b20ecdd26c6fd0552">calendar_config</a>) {</div><div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;      <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a6b4d4d929013de7812fbba4e58353078">ast_config_destroy</a>(<a class="code" href="../../d7/dc3/res__calendar_8c.html#a4e17933edc73c89b20ecdd26c6fd0552">calendar_config</a>);</div><div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;   }</div><div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;</div><div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;   <a class="code" href="../../d7/dc3/res__calendar_8c.html#a4e17933edc73c89b20ecdd26c6fd0552">calendar_config</a> = tmpcfg;</div><div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#ac2920a1db37313ec46bd91dc83bf9c8a">ast_rwlock_unlock</a>(&amp;<a class="code" href="../../d7/dc3/res__calendar_8c.html#a6438556ba98655267def94eee104f6e2">config_lock</a>);</div><div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;</div><div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;}</div><div class="ttc" id="include_2asterisk_2config_8h_html_a8d1a63cdf2c7aff22a77b6e75d93b377"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a8d1a63cdf2c7aff22a77b6e75d93b377">CONFIG_STATUS_FILEINVALID</a></div><div class="ttdeci">#define CONFIG_STATUS_FILEINVALID</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00060">include/asterisk/config.h:60</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_aab3eac8fa82a86a93c074deb7b77dbc9"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#aab3eac8fa82a86a93c074deb7b77dbc9">ast_config_load2</a></div><div class="ttdeci">struct ast_config * ast_config_load2(const char *filename, const char *who_asked, struct ast_flags flags)</div><div class="ttdoc">Load a config file. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d9d/main_2config_8c_source.html#l03154">main/config.c:3154</a></div></div>
<div class="ttc" id="lock_8h_html_ac2920a1db37313ec46bd91dc83bf9c8a"><div class="ttname"><a href="../../dd/d42/lock_8h.html#ac2920a1db37313ec46bd91dc83bf9c8a">ast_rwlock_unlock</a></div><div class="ttdeci">#define ast_rwlock_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00232">lock.h:232</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a6b4d4d929013de7812fbba4e58353078"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a6b4d4d929013de7812fbba4e58353078">ast_config_destroy</a></div><div class="ttdeci">void ast_config_destroy(struct ast_config *config)</div><div class="ttdoc">Destroys a config. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc5/extconf_8c_source.html#l01290">extconf.c:1290</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a846844eb2c4eb44554445936b3770711"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a846844eb2c4eb44554445936b3770711">CONFIG_STATUS_FILEUNCHANGED</a></div><div class="ttdeci">#define CONFIG_STATUS_FILEUNCHANGED</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00059">include/asterisk/config.h:59</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="structast__config_html"><div class="ttname"><a href="../../dd/d18/structast__config.html">ast_config</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d9d/main_2config_8c_source.html#l00249">main/config.c:249</a></div></div>
<div class="ttc" id="structast__flags_html"><div class="ttname"><a href="../../dc/dac/structast__flags.html">ast_flags</a></div><div class="ttdoc">Structure used to handle boolean flags. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00199">utils.h:199</a></div></div>
<div class="ttc" id="lock_8h_html_a045bd81ceab2de81e42af338ad7cf121"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a045bd81ceab2de81e42af338ad7cf121">ast_rwlock_wrlock</a></div><div class="ttdeci">#define ast_rwlock_wrlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00234">lock.h:234</a></div></div>
<div class="ttc" id="res__calendar_8c_html_a4e17933edc73c89b20ecdd26c6fd0552"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#a4e17933edc73c89b20ecdd26c6fd0552">calendar_config</a></div><div class="ttdeci">static struct ast_config * calendar_config</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l00255">res_calendar.c:255</a></div></div>
<div class="ttc" id="res__calendar_8c_html_a6438556ba98655267def94eee104f6e2"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#a6438556ba98655267def94eee104f6e2">config_lock</a></div><div class="ttdeci">static ast_rwlock_t config_lock</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l00256">res_calendar.c:256</a></div></div>
<div class="ttc" id="res__calendar_8c_html_ad1982509765f4870f1f63412a53ea668"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#ad1982509765f4870f1f63412a53ea668">reload</a></div><div class="ttdeci">static int reload(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l01795">res_calendar.c:1795</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a103e76ed4bd42f776f7f260080b98b3fafa887389dc380bbdcffb65fec379f037"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a103e76ed4bd42f776f7f260080b98b3fafa887389dc380bbdcffb65fec379f037">CONFIG_FLAG_FILEUNCHANGED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00043">include/asterisk/config.h:43</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac3382bf6da54c56b37069bd76bbdf4f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac3382bf6da54c56b37069bd76bbdf4f9">&#9670;&nbsp;</a></span>load_module()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int load_module </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Load the module. </p>
<p>Module loading including tests for configuration or dependencies. This function can return AST_MODULE_LOAD_FAILURE, AST_MODULE_LOAD_DECLINE, or AST_MODULE_LOAD_SUCCESS. If a dependency or environment variable fails tests return AST_MODULE_LOAD_FAILURE. If the module can not load the configuration file or other non-critical problem return AST_MODULE_LOAD_DECLINE. On success return AST_MODULE_LOAD_SUCCESS. </p>

<p class="definition">Definition at line <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l01900">1900</a> of file <a class="el" href="../../d7/dc3/res__calendar_8c_source.html">res_calendar.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00365">AO2_ALLOC_OPT_LOCK_MUTEX</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01310">ao2_container_alloc_hash</a>, <a class="el" href="../../de/dfe/isdn__lib_8c_source.html#l00042">ARRAY_LEN</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00265">ast_cli_register_multiple</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00199">ast_cond_init</a>, <a class="el" href="../../d4/dc5/extconf_8c_source.html#l01290">ast_config_destroy()</a>, <a class="el" href="../../db/de0/pbx_8h_source.html#l01508">ast_custom_function_register</a>, <a class="el" href="../../d1/d80/devicestate_8c_source.html#l00391">ast_devstate_prov_add()</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00316">AST_MODFLAG_GLOBAL_SYMBOLS</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00317">AST_MODFLAG_LOAD_ORDER</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00329">AST_MODPRI_DEVSTATE_PROVIDER</a>, <a class="el" href="../../d9/de9/res__phoneprov_8c.html#addaa208b0ed785225e24490fb9f28a80">AST_MODULE_INFO()</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00078">AST_MODULE_LOAD_DECLINE</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00070">AST_MODULE_LOAD_SUCCESS</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00122">AST_MODULE_SUPPORT_EXTENDED</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00184">ast_mutex_init</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00567">ast_pthread_create_background</a>, <a class="el" href="../../db/dbe/sched_8c_source.html#l00236">ast_sched_context_create()</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00046">ASTERISK_GPL_KEY</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00220">CALENDAR_BUCKETS</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00287">calendar_cmp_fn()</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00281">calendar_hash_fn()</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00381">calendarstate()</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l01821">do_refresh()</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l01065">load_config()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00226">refresh_condition</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00224">refresh_thread</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l01795">reload()</a>, and <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l01852">unload_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;{</div><div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;   <a class="code" href="../../d7/dc3/res__calendar_8c.html#ab0a23206c25ccbd53fae39c15dfe647b">calendars</a> = <a class="code" href="../../d5/da5/astobj2_8h.html#aefc16f8aa9087cbc5c55c70cf1dd41b2">ao2_container_alloc_hash</a>(<a class="code" href="../../d5/da5/astobj2_8h.html#a2cf7e3433f08351aafe3b0cd31edf7f8a8ccf751bd6749d062999469f0694e7ad">AO2_ALLOC_OPT_LOCK_MUTEX</a>, 0, <a class="code" href="../../d7/dc3/res__calendar_8c.html#a806d9b20f62bae39bd345388e8685040">CALENDAR_BUCKETS</a>,</div><div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;      <a class="code" href="../../d7/dc3/res__calendar_8c.html#a716588b07ba676a323620e9ba1b3cb45">calendar_hash_fn</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d7/dc3/res__calendar_8c.html#abd30c53e490dc65fff18dd68b5645e78">calendar_cmp_fn</a>);</div><div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d7/dc3/res__calendar_8c.html#ab0a23206c25ccbd53fae39c15dfe647b">calendars</a>) {</div><div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Unable to allocate calendars container!\n&quot;</span>);</div><div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfac742921e9f9512d28f62c74ea2affe57">AST_MODULE_LOAD_DECLINE</a>;</div><div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;   }</div><div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;</div><div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d7/dc3/res__calendar_8c.html#ad0f6114d9cab58a8ec3d9555cb466534">load_config</a>(0)) {</div><div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;      <span class="comment">/* We don&#39;t have calendar support enabled */</span></div><div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfac742921e9f9512d28f62c74ea2affe57">AST_MODULE_LOAD_DECLINE</a>;</div><div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;   }</div><div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;</div><div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a76e8ed6bb354be6c6dd9e51acc1d7a1b">ast_mutex_init</a>(&amp;<a class="code" href="../../d7/dc3/res__calendar_8c.html#a29b91e0b8852b6696c254e5d9e490553">refreshlock</a>);</div><div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a69e9591803d36f5683eb9b084442be9b">ast_cond_init</a>(&amp;<a class="code" href="../../d7/dc3/res__calendar_8c.html#aa8c02290302fb0e31208cafc03d13da0">refresh_condition</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a76e8ed6bb354be6c6dd9e51acc1d7a1b">ast_mutex_init</a>(&amp;<a class="code" href="../../d7/dc3/res__calendar_8c.html#a39a4ab22c3e08054d2efe759d8610f12">reloadlock</a>);</div><div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;</div><div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;   <span class="keywordflow">if</span> (!(<a class="code" href="../../d0/da0/structsched.html">sched</a> = <a class="code" href="../../d7/d00/sched_8h.html#a5baecc149aeabdbef9b3ed6780c1c4a6">ast_sched_context_create</a>())) {</div><div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Unable to create sched context\n&quot;</span>);</div><div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160;      <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a6b4d4d929013de7812fbba4e58353078">ast_config_destroy</a>(<a class="code" href="../../d7/dc3/res__calendar_8c.html#a4e17933edc73c89b20ecdd26c6fd0552">calendar_config</a>);</div><div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;      <a class="code" href="../../d7/dc3/res__calendar_8c.html#a4e17933edc73c89b20ecdd26c6fd0552">calendar_config</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfac742921e9f9512d28f62c74ea2affe57">AST_MODULE_LOAD_DECLINE</a>;</div><div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;   }</div><div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;</div><div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d5/d60/utils_8h.html#a595e2f8aa398f4bd21e381c3211235fe">ast_pthread_create_background</a>(&amp;<a class="code" href="../../d7/dc3/res__calendar_8c.html#a8c64083a818c7f079198f34c0ef05aef">refresh_thread</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d7/dc3/res__calendar_8c.html#acea7f3ec33ca5aef5c8e8c532b313976">do_refresh</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) &lt; 0) {</div><div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Unable to start refresh thread--notifications disabled!\n&quot;</span>);</div><div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;   }</div><div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;</div><div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;   <a class="code" href="../../db/de0/pbx_8h.html#a8af0e93442a9e468425f63cc52b0ac7b">ast_custom_function_register</a>(&amp;<a class="code" href="../../d7/dc3/res__calendar_8c.html#a4e727121313c80a26128c47e658d6894">calendar_busy_function</a>);</div><div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;   <a class="code" href="../../db/de0/pbx_8h.html#a8af0e93442a9e468425f63cc52b0ac7b">ast_custom_function_register</a>(&amp;<a class="code" href="../../d7/dc3/res__calendar_8c.html#a4567336f1c9f823cac99c1ca07cbf1ed">calendar_event_function</a>);</div><div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160;   <a class="code" href="../../db/de0/pbx_8h.html#a8af0e93442a9e468425f63cc52b0ac7b">ast_custom_function_register</a>(&amp;<a class="code" href="../../d7/dc3/res__calendar_8c.html#a233e91038a75d45680e12ed5833a04d6">calendar_query_function</a>);</div><div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;   <a class="code" href="../../db/de0/pbx_8h.html#a8af0e93442a9e468425f63cc52b0ac7b">ast_custom_function_register</a>(&amp;<a class="code" href="../../d7/dc3/res__calendar_8c.html#a3732ba84f15630fea194a5bcdf3f6631">calendar_query_result_function</a>);</div><div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;   <a class="code" href="../../db/de0/pbx_8h.html#a8af0e93442a9e468425f63cc52b0ac7b">ast_custom_function_register</a>(&amp;<a class="code" href="../../d7/dc3/res__calendar_8c.html#a268d12de42b3899c621d7d457ed5ed7e">calendar_write_function</a>);</div><div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;   <a class="code" href="../../dc/db0/cli_8h.html#aea8910ed9e301e7f741f87942c244eac">ast_cli_register_multiple</a>(<a class="code" href="../../d7/dc3/res__calendar_8c.html#a4da0035ade5c1ed1c2507d59a9c7b5b6">calendar_cli</a>, <a class="code" href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a>(<a class="code" href="../../d7/dc3/res__calendar_8c.html#a4da0035ade5c1ed1c2507d59a9c7b5b6">calendar_cli</a>));</div><div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;</div><div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;   <a class="code" href="../../da/da2/devicestate_8h.html#ae832fcc32c88962e73025ffeafe2961e">ast_devstate_prov_add</a>(<span class="stringliteral">&quot;Calendar&quot;</span>, <a class="code" href="../../d7/dc3/res__calendar_8c.html#a3d944aed0d63a50f8de197354faa1fc2">calendarstate</a>);</div><div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;</div><div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfa89bb877ade9ce418ad6663f3d936f314">AST_MODULE_LOAD_SUCCESS</a>;</div><div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;}</div><div class="ttc" id="res__calendar_8c_html_a4e727121313c80a26128c47e658d6894"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#a4e727121313c80a26128c47e658d6894">calendar_busy_function</a></div><div class="ttdeci">static struct ast_custom_function calendar_busy_function</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l01114">res_calendar.c:1114</a></div></div>
<div class="ttc" id="res__calendar_8c_html_aa8c02290302fb0e31208cafc03d13da0"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#aa8c02290302fb0e31208cafc03d13da0">refresh_condition</a></div><div class="ttdeci">static ast_cond_t refresh_condition</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l00226">res_calendar.c:226</a></div></div>
<div class="ttc" id="res__calendar_8c_html_ab0a23206c25ccbd53fae39c15dfe647b"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#ab0a23206c25ccbd53fae39c15dfe647b">calendars</a></div><div class="ttdeci">static struct ao2_container * calendars</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l00222">res_calendar.c:222</a></div></div>
<div class="ttc" id="isdn__lib_8c_html_ab9129b977a587b50ea801daac75e178f"><div class="ttname"><a href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a></div><div class="ttdeci">#define ARRAY_LEN(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dfe/isdn__lib_8c_source.html#l00042">isdn_lib.c:42</a></div></div>
<div class="ttc" id="module_8h_html_adc09474f0ff557e9925b722ee5b952dfa89bb877ade9ce418ad6663f3d936f314"><div class="ttname"><a href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfa89bb877ade9ce418ad6663f3d936f314">AST_MODULE_LOAD_SUCCESS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00070">module.h:70</a></div></div>
<div class="ttc" id="res__calendar_8c_html_a8c64083a818c7f079198f34c0ef05aef"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#a8c64083a818c7f079198f34c0ef05aef">refresh_thread</a></div><div class="ttdeci">static pthread_t refresh_thread</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l00224">res_calendar.c:224</a></div></div>
<div class="ttc" id="res__calendar_8c_html_a3732ba84f15630fea194a5bcdf3f6631"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#a3732ba84f15630fea194a5bcdf3f6631">calendar_query_result_function</a></div><div class="ttdeci">static struct ast_custom_function calendar_query_result_function</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l01410">res_calendar.c:1410</a></div></div>
<div class="ttc" id="structsched_html"><div class="ttname"><a href="../../d0/da0/structsched.html">sched</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/dbe/sched_8c_source.html#l00076">sched.c:76</a></div></div>
<div class="ttc" id="lock_8h_html_a69e9591803d36f5683eb9b084442be9b"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a69e9591803d36f5683eb9b084442be9b">ast_cond_init</a></div><div class="ttdeci">#define ast_cond_init(cond, attr)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00199">lock.h:199</a></div></div>
<div class="ttc" id="cli_8h_html_aea8910ed9e301e7f741f87942c244eac"><div class="ttname"><a href="../../dc/db0/cli_8h.html#aea8910ed9e301e7f741f87942c244eac">ast_cli_register_multiple</a></div><div class="ttdeci">#define ast_cli_register_multiple(e, len)</div><div class="ttdoc">Register multiple commands. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00265">cli.h:265</a></div></div>
<div class="ttc" id="res__calendar_8c_html_a716588b07ba676a323620e9ba1b3cb45"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#a716588b07ba676a323620e9ba1b3cb45">calendar_hash_fn</a></div><div class="ttdeci">static int calendar_hash_fn(const void *obj, const int flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l00281">res_calendar.c:281</a></div></div>
<div class="ttc" id="devicestate_8h_html_ae832fcc32c88962e73025ffeafe2961e"><div class="ttname"><a href="../../da/da2/devicestate_8h.html#ae832fcc32c88962e73025ffeafe2961e">ast_devstate_prov_add</a></div><div class="ttdeci">int ast_devstate_prov_add(const char *label, ast_devstate_prov_cb_type callback)</div><div class="ttdoc">Add device state provider. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d80/devicestate_8c_source.html#l00391">devicestate.c:391</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="res__calendar_8c_html_a268d12de42b3899c621d7d457ed5ed7e"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#a268d12de42b3899c621d7d457ed5ed7e">calendar_write_function</a></div><div class="ttdeci">static struct ast_custom_function calendar_write_function</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l01522">res_calendar.c:1522</a></div></div>
<div class="ttc" id="res__calendar_8c_html_a806d9b20f62bae39bd345388e8685040"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#a806d9b20f62bae39bd345388e8685040">CALENDAR_BUCKETS</a></div><div class="ttdeci">#define CALENDAR_BUCKETS</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l00220">res_calendar.c:220</a></div></div>
<div class="ttc" id="utils_8h_html_a595e2f8aa398f4bd21e381c3211235fe"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a595e2f8aa398f4bd21e381c3211235fe">ast_pthread_create_background</a></div><div class="ttdeci">#define ast_pthread_create_background(a, b, c, d)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00567">utils.h:567</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a6b4d4d929013de7812fbba4e58353078"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a6b4d4d929013de7812fbba4e58353078">ast_config_destroy</a></div><div class="ttdeci">void ast_config_destroy(struct ast_config *config)</div><div class="ttdoc">Destroys a config. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc5/extconf_8c_source.html#l01290">extconf.c:1290</a></div></div>
<div class="ttc" id="astobj2_8h_html_a2cf7e3433f08351aafe3b0cd31edf7f8a8ccf751bd6749d062999469f0694e7ad"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a2cf7e3433f08351aafe3b0cd31edf7f8a8ccf751bd6749d062999469f0694e7ad">AO2_ALLOC_OPT_LOCK_MUTEX</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00365">astobj2.h:365</a></div></div>
<div class="ttc" id="sched_8h_html_a5baecc149aeabdbef9b3ed6780c1c4a6"><div class="ttname"><a href="../../d7/d00/sched_8h.html#a5baecc149aeabdbef9b3ed6780c1c4a6">ast_sched_context_create</a></div><div class="ttdeci">struct ast_sched_context * ast_sched_context_create(void)</div><div class="ttdoc">Create a scheduler context. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/dbe/sched_8c_source.html#l00236">sched.c:236</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="astobj2_8h_html_aefc16f8aa9087cbc5c55c70cf1dd41b2"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aefc16f8aa9087cbc5c55c70cf1dd41b2">ao2_container_alloc_hash</a></div><div class="ttdeci">#define ao2_container_alloc_hash(ao2_options, container_options, n_buckets, hash_fn, sort_fn, cmp_fn)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01310">astobj2.h:1310</a></div></div>
<div class="ttc" id="res__calendar_8c_html_a4da0035ade5c1ed1c2507d59a9c7b5b6"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#a4da0035ade5c1ed1c2507d59a9c7b5b6">calendar_cli</a></div><div class="ttdeci">static struct ast_cli_entry calendar_cli[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l01709">res_calendar.c:1709</a></div></div>
<div class="ttc" id="res__calendar_8c_html_a29b91e0b8852b6696c254e5d9e490553"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#a29b91e0b8852b6696c254e5d9e490553">refreshlock</a></div><div class="ttdeci">static ast_mutex_t refreshlock</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l00225">res_calendar.c:225</a></div></div>
<div class="ttc" id="res__calendar_8c_html_abd30c53e490dc65fff18dd68b5645e78"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#abd30c53e490dc65fff18dd68b5645e78">calendar_cmp_fn</a></div><div class="ttdeci">static int calendar_cmp_fn(void *obj, void *arg, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l00287">res_calendar.c:287</a></div></div>
<div class="ttc" id="module_8h_html_adc09474f0ff557e9925b722ee5b952dfac742921e9f9512d28f62c74ea2affe57"><div class="ttname"><a href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfac742921e9f9512d28f62c74ea2affe57">AST_MODULE_LOAD_DECLINE</a></div><div class="ttdoc">Module has failed to load, may be in an inconsistent state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00078">module.h:78</a></div></div>
<div class="ttc" id="res__calendar_8c_html_a4567336f1c9f823cac99c1ca07cbf1ed"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#a4567336f1c9f823cac99c1ca07cbf1ed">calendar_event_function</a></div><div class="ttdeci">static struct ast_custom_function calendar_event_function</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l01774">res_calendar.c:1774</a></div></div>
<div class="ttc" id="res__calendar_8c_html_a3d944aed0d63a50f8de197354faa1fc2"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#a3d944aed0d63a50f8de197354faa1fc2">calendarstate</a></div><div class="ttdeci">static enum ast_device_state calendarstate(const char *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l00381">res_calendar.c:381</a></div></div>
<div class="ttc" id="res__calendar_8c_html_ad0f6114d9cab58a8ec3d9555cb466534"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#ad0f6114d9cab58a8ec3d9555cb466534">load_config</a></div><div class="ttdeci">static int load_config(int reload)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l01065">res_calendar.c:1065</a></div></div>
<div class="ttc" id="res__calendar_8c_html_a4e17933edc73c89b20ecdd26c6fd0552"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#a4e17933edc73c89b20ecdd26c6fd0552">calendar_config</a></div><div class="ttdeci">static struct ast_config * calendar_config</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l00255">res_calendar.c:255</a></div></div>
<div class="ttc" id="res__calendar_8c_html_a39a4ab22c3e08054d2efe759d8610f12"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#a39a4ab22c3e08054d2efe759d8610f12">reloadlock</a></div><div class="ttdeci">static ast_mutex_t reloadlock</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l00227">res_calendar.c:227</a></div></div>
<div class="ttc" id="lock_8h_html_a76e8ed6bb354be6c6dd9e51acc1d7a1b"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a76e8ed6bb354be6c6dd9e51acc1d7a1b">ast_mutex_init</a></div><div class="ttdeci">#define ast_mutex_init(pmutex)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00184">lock.h:184</a></div></div>
<div class="ttc" id="res__calendar_8c_html_acea7f3ec33ca5aef5c8e8c532b313976"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#acea7f3ec33ca5aef5c8e8c532b313976">do_refresh</a></div><div class="ttdeci">static void * do_refresh(void *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l01821">res_calendar.c:1821</a></div></div>
<div class="ttc" id="pbx_8h_html_a8af0e93442a9e468425f63cc52b0ac7b"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a8af0e93442a9e468425f63cc52b0ac7b">ast_custom_function_register</a></div><div class="ttdeci">#define ast_custom_function_register(acf)</div><div class="ttdoc">Register a custom function. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/de0/pbx_8h_source.html#l01508">pbx.h:1508</a></div></div>
<div class="ttc" id="res__calendar_8c_html_a233e91038a75d45680e12ed5833a04d6"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#a233e91038a75d45680e12ed5833a04d6">calendar_query_function</a></div><div class="ttdeci">static struct ast_custom_function calendar_query_function</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l01299">res_calendar.c:1299</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a68b74b05f0bbf0449d77b045b167384c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a68b74b05f0bbf0449d77b045b167384c">&#9670;&nbsp;</a></span>load_tech_calendars()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int load_tech_calendars </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../dd/dca/structast__calendar__tech.html">ast_calendar_tech</a> *&#160;</td>
          <td class="paramname"><em>tech</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00513">513</a> of file <a class="el" href="../../d7/dc3/res__calendar_8c_source.html">res_calendar.c</a>.</p>

<p class="reference">References <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00587">ast_calendar_unregister()</a>, <a class="el" href="../../d4/dc5/extconf_8c_source.html#l03328">ast_category_browse()</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00232">ast_rwlock_unlock</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00234">ast_rwlock_wrlock</a>, <a class="el" href="../../d2/d9d/main_2config_8c_source.html#l00694">ast_variable_retrieve()</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00400">build_calendar()</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00256">config_lock</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../da/d4a/calendar_8h_source.html#l00070">ast_calendar_tech::type</a>, and <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00275">unref_calendar()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00549">ast_calendar_register()</a>, and <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l01795">reload()</a>.</p>
<div class="fragment"><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;{</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d1d/structast__calendar.html">ast_calendar</a> *cal;</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *cat = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d5/d85/structval.html">val</a>;</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d7/dc3/res__calendar_8c.html#a4e17933edc73c89b20ecdd26c6fd0552">calendar_config</a>) {</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Calendar support disabled, not loading %s calendar module\n&quot;</span>, tech-&gt;<a class="code" href="../../dd/dca/structast__calendar__tech.html#a763fd8db6bba8fbbbc113ca0d61c47c2">type</a>);</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;   }</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a045bd81ceab2de81e42af338ad7cf121">ast_rwlock_wrlock</a>(&amp;<a class="code" href="../../d7/dc3/res__calendar_8c.html#a6438556ba98655267def94eee104f6e2">config_lock</a>);</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;   <span class="keywordflow">while</span> ((cat = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a1e5e3d08eff5e2357e75c01e127e7922">ast_category_browse</a>(<a class="code" href="../../d7/dc3/res__calendar_8c.html#a4e17933edc73c89b20ecdd26c6fd0552">calendar_config</a>, cat))) {</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;      <span class="keywordflow">if</span> (!strcasecmp(cat, <span class="stringliteral">&quot;general&quot;</span>)) {</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;         <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;      }</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;      <span class="keywordflow">if</span> (!(val = <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a9ff7aa27ae5f1a980bcf81f91cd6e470">ast_variable_retrieve</a>(<a class="code" href="../../d7/dc3/res__calendar_8c.html#a4e17933edc73c89b20ecdd26c6fd0552">calendar_config</a>, cat, <span class="stringliteral">&quot;type&quot;</span>)) || strcasecmp(val, tech-&gt;<a class="code" href="../../dd/dca/structast__calendar__tech.html#a763fd8db6bba8fbbbc113ca0d61c47c2">type</a>)) {</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;         <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;      }</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;      <span class="comment">/* A serious error occurred loading calendars from this tech and it should be disabled */</span></div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;      <span class="keywordflow">if</span> (!(cal = <a class="code" href="../../d7/dc3/res__calendar_8c.html#a1832064e5aaac423c18e690823aa1355">build_calendar</a>(<a class="code" href="../../d7/dc3/res__calendar_8c.html#a4e17933edc73c89b20ecdd26c6fd0552">calendar_config</a>, cat, tech))) {</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;         <a class="code" href="../../d7/dc3/res__calendar_8c.html#a15f50e300c14ee9c469b31f334686110">ast_calendar_unregister</a>(tech);</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;         <a class="code" href="../../dd/d42/lock_8h.html#ac2920a1db37313ec46bd91dc83bf9c8a">ast_rwlock_unlock</a>(&amp;<a class="code" href="../../d7/dc3/res__calendar_8c.html#a6438556ba98655267def94eee104f6e2">config_lock</a>);</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;         <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;      }</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;      cal = <a class="code" href="../../d7/dc3/res__calendar_8c.html#a1d3e21e2e050727f782d68652d1cc1f5">unref_calendar</a>(cal);</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;   }</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#ac2920a1db37313ec46bd91dc83bf9c8a">ast_rwlock_unlock</a>(&amp;<a class="code" href="../../d7/dc3/res__calendar_8c.html#a6438556ba98655267def94eee104f6e2">config_lock</a>);</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;}</div><div class="ttc" id="structval_html"><div class="ttname"><a href="../../d5/d85/structval.html">val</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd1/ast__expr2_8c_source.html#l00325">ast_expr2.c:325</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="res__calendar_8c_html_a1832064e5aaac423c18e690823aa1355"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#a1832064e5aaac423c18e690823aa1355">build_calendar</a></div><div class="ttdeci">static struct ast_calendar * build_calendar(struct ast_config *cfg, const char *cat, const struct ast_calendar_tech *tech)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l00400">res_calendar.c:400</a></div></div>
<div class="ttc" id="res__calendar_8c_html_a15f50e300c14ee9c469b31f334686110"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#a15f50e300c14ee9c469b31f334686110">ast_calendar_unregister</a></div><div class="ttdeci">void ast_calendar_unregister(struct ast_calendar_tech *tech)</div><div class="ttdoc">Unregister a new calendar technology. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l00587">res_calendar.c:587</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a1e5e3d08eff5e2357e75c01e127e7922"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a1e5e3d08eff5e2357e75c01e127e7922">ast_category_browse</a></div><div class="ttdeci">char * ast_category_browse(struct ast_config *config, const char *prev_name)</div><div class="ttdoc">Browse categories. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc5/extconf_8c_source.html#l03328">extconf.c:3328</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="lock_8h_html_ac2920a1db37313ec46bd91dc83bf9c8a"><div class="ttname"><a href="../../dd/d42/lock_8h.html#ac2920a1db37313ec46bd91dc83bf9c8a">ast_rwlock_unlock</a></div><div class="ttdeci">#define ast_rwlock_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00232">lock.h:232</a></div></div>
<div class="ttc" id="structast__calendar__tech_html_a763fd8db6bba8fbbbc113ca0d61c47c2"><div class="ttname"><a href="../../dd/dca/structast__calendar__tech.html#a763fd8db6bba8fbbbc113ca0d61c47c2">ast_calendar_tech::type</a></div><div class="ttdeci">const char * type</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00070">calendar.h:70</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="res__calendar_8c_html_a1d3e21e2e050727f782d68652d1cc1f5"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#a1d3e21e2e050727f782d68652d1cc1f5">unref_calendar</a></div><div class="ttdeci">static struct ast_calendar * unref_calendar(struct ast_calendar *cal)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l00275">res_calendar.c:275</a></div></div>
<div class="ttc" id="lock_8h_html_a045bd81ceab2de81e42af338ad7cf121"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a045bd81ceab2de81e42af338ad7cf121">ast_rwlock_wrlock</a></div><div class="ttdeci">#define ast_rwlock_wrlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00234">lock.h:234</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a9ff7aa27ae5f1a980bcf81f91cd6e470"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a9ff7aa27ae5f1a980bcf81f91cd6e470">ast_variable_retrieve</a></div><div class="ttdeci">const char * ast_variable_retrieve(struct ast_config *config, const char *category, const char *variable)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d9d/main_2config_8c_source.html#l00694">main/config.c:694</a></div></div>
<div class="ttc" id="res__calendar_8c_html_a4e17933edc73c89b20ecdd26c6fd0552"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#a4e17933edc73c89b20ecdd26c6fd0552">calendar_config</a></div><div class="ttdeci">static struct ast_config * calendar_config</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l00255">res_calendar.c:255</a></div></div>
<div class="ttc" id="structast__calendar_html"><div class="ttname"><a href="../../d4/d1d/structast__calendar.html">ast_calendar</a></div><div class="ttdoc">Asterisk calendar structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00117">calendar.h:117</a></div></div>
<div class="ttc" id="res__calendar_8c_html_a6438556ba98655267def94eee104f6e2"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#a6438556ba98655267def94eee104f6e2">config_lock</a></div><div class="ttdeci">static ast_rwlock_t config_lock</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l00256">res_calendar.c:256</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a5478c54cf75389656cd4e41af161f8c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5478c54cf75389656cd4e41af161f8c6">&#9670;&nbsp;</a></span>match_caltech_cb()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int match_caltech_cb </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>user_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00575">575</a> of file <a class="el" href="../../d7/dc3/res__calendar_8c_source.html">res_calendar.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01031">CMP_MATCH</a>, and <a class="el" href="../../da/d4a/calendar_8h_source.html#l00118">ast_calendar::tech</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00587">ast_calendar_unregister()</a>.</p>
<div class="fragment"><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;{</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d1d/structast__calendar.html">ast_calendar</a> *cal = user_data;</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/dca/structast__calendar__tech.html">ast_calendar_tech</a> *tech = arg;</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;   <span class="keywordflow">if</span> (cal-&gt;<a class="code" href="../../d4/d1d/structast__calendar.html#a2202508d2b59b02becb71802e5835cbd">tech</a> == tech) {</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d5/da5/astobj2_8h.html#a1f8b41308be4c47de8ff89a3b9c7e7d1a1959468a3c5d6aecd2fa1272d8e30fbf">CMP_MATCH</a>;</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;   }</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;}</div><div class="ttc" id="structast__calendar_html_a2202508d2b59b02becb71802e5835cbd"><div class="ttname"><a href="../../d4/d1d/structast__calendar.html#a2202508d2b59b02becb71802e5835cbd">ast_calendar::tech</a></div><div class="ttdeci">const struct ast_calendar_tech * tech</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00118">calendar.h:118</a></div></div>
<div class="ttc" id="astobj2_8h_html_a1f8b41308be4c47de8ff89a3b9c7e7d1a1959468a3c5d6aecd2fa1272d8e30fbf"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a1f8b41308be4c47de8ff89a3b9c7e7d1a1959468a3c5d6aecd2fa1272d8e30fbf">CMP_MATCH</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01031">astobj2.h:1031</a></div></div>
<div class="ttc" id="structast__calendar__tech_html"><div class="ttname"><a href="../../dd/dca/structast__calendar__tech.html">ast_calendar_tech</a></div><div class="ttdoc">Individual calendaring technology data. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00069">calendar.h:69</a></div></div>
<div class="ttc" id="structast__calendar_html"><div class="ttname"><a href="../../d4/d1d/structast__calendar.html">ast_calendar</a></div><div class="ttdoc">Asterisk calendar structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00117">calendar.h:117</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="abc29785de7c3d7677360c241f9e97b4a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc29785de7c3d7677360c241f9e97b4a">&#9670;&nbsp;</a></span>merge_events_cb()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int merge_events_cb </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l01016">1016</a> of file <a class="el" href="../../d7/dc3/res__calendar_8c_source.html">res_calendar.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01598">ao2_unlink</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00321">ast_calendar_unref_event()</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01031">CMP_MATCH</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00926">copy_event_data()</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00626">destroy_event()</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00313">find_event()</a>, <a class="el" href="../../da/d4a/calendar_8h_source.html#l00103">ast_calendar_event::owner</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00954">schedule_calendar_event()</a>, and <a class="el" href="../../da/d4a/calendar_8h_source.html#l00101">ast_calendar_event::uid</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l01053">ast_calendar_merge_events()</a>.</p>
<div class="fragment"><div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;{</div><div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/d64/structast__calendar__event.html">ast_calendar_event</a> *old_event = obj, *new_event;</div><div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/da9/structao2__container.html">ao2_container</a> *new_events = arg;</div><div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;</div><div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;   <span class="comment">/* If we don&#39;t find the old_event in new_events, then we can safely delete the old_event */</span></div><div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;   <span class="keywordflow">if</span> (!(new_event = <a class="code" href="../../d7/dc3/res__calendar_8c.html#a0862b7036bac237240ba7da6a6bbb56d">find_event</a>(new_events, old_event-&gt;<a class="code" href="../../dc/d64/structast__calendar__event.html#a351c558d41ceba8d276ca848d3ca9def">uid</a>))) {</div><div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;      old_event = <a class="code" href="../../d7/dc3/res__calendar_8c.html#a3c38075f02a9aeb1b2491da4cdfb3261">destroy_event</a>(old_event);</div><div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d5/da5/astobj2_8h.html#a1f8b41308be4c47de8ff89a3b9c7e7d1a1959468a3c5d6aecd2fa1272d8e30fbf">CMP_MATCH</a>;</div><div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;   }</div><div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;</div><div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;   <span class="comment">/* We have events to merge.  If any data that will affect a scheduler event has changed,</span></div><div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;<span class="comment">    * then we need to replace the scheduler event */</span></div><div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;   <a class="code" href="../../d7/dc3/res__calendar_8c.html#a632e70a94822b2c01ae0886c56f9143d">schedule_calendar_event</a>(old_event-&gt;<a class="code" href="../../dc/d64/structast__calendar__event.html#a4f624898c838b00a647325f5afacf4ee">owner</a>, old_event, new_event);</div><div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;</div><div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;   <span class="comment">/* Since we don&#39;t want to mess with cancelling sched events and adding new ones, just</span></div><div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;<span class="comment">    * copy the internals of the new_event to the old_event */</span></div><div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;   <a class="code" href="../../d7/dc3/res__calendar_8c.html#a73d3cd7e459f692a815578ccd78a9689">copy_event_data</a>(old_event, new_event);</div><div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;</div><div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;   <span class="comment">/* Now we can go ahead and unlink the new_event from new_events and unref it so that only completely</span></div><div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;<span class="comment">    * new events remain in the container */</span></div><div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a64f51be4bee35c38dbe59b0a788b5ce8">ao2_unlink</a>(new_events, new_event);</div><div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;   new_event = <a class="code" href="../../d7/dc3/res__calendar_8c.html#a0b71ae1b1392b6095a17737375eb7671">ast_calendar_unref_event</a>(new_event);</div><div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;</div><div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;}</div><div class="ttc" id="structast__calendar__event_html_a351c558d41ceba8d276ca848d3ca9def"><div class="ttname"><a href="../../dc/d64/structast__calendar__event.html#a351c558d41ceba8d276ca848d3ca9def">ast_calendar_event::uid</a></div><div class="ttdeci">const ast_string_field uid</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00101">calendar.h:101</a></div></div>
<div class="ttc" id="res__calendar_8c_html_a632e70a94822b2c01ae0886c56f9143d"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#a632e70a94822b2c01ae0886c56f9143d">schedule_calendar_event</a></div><div class="ttdeci">static int schedule_calendar_event(struct ast_calendar *cal, struct ast_calendar_event *old_event, struct ast_calendar_event *cmp_event)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l00954">res_calendar.c:954</a></div></div>
<div class="ttc" id="res__calendar_8c_html_a3c38075f02a9aeb1b2491da4cdfb3261"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#a3c38075f02a9aeb1b2491da4cdfb3261">destroy_event</a></div><div class="ttdeci">static struct ast_calendar_event * destroy_event(struct ast_calendar_event *event)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l00626">res_calendar.c:626</a></div></div>
<div class="ttc" id="astobj2_8h_html_a1f8b41308be4c47de8ff89a3b9c7e7d1a1959468a3c5d6aecd2fa1272d8e30fbf"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a1f8b41308be4c47de8ff89a3b9c7e7d1a1959468a3c5d6aecd2fa1272d8e30fbf">CMP_MATCH</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01031">astobj2.h:1031</a></div></div>
<div class="ttc" id="res__calendar_8c_html_a73d3cd7e459f692a815578ccd78a9689"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#a73d3cd7e459f692a815578ccd78a9689">copy_event_data</a></div><div class="ttdeci">static void copy_event_data(struct ast_calendar_event *dst, struct ast_calendar_event *src)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l00926">res_calendar.c:926</a></div></div>
<div class="ttc" id="astobj2_8h_html_a64f51be4bee35c38dbe59b0a788b5ce8"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a64f51be4bee35c38dbe59b0a788b5ce8">ao2_unlink</a></div><div class="ttdeci">#define ao2_unlink(container, obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01598">astobj2.h:1598</a></div></div>
<div class="ttc" id="structast__calendar__event_html_a4f624898c838b00a647325f5afacf4ee"><div class="ttname"><a href="../../dc/d64/structast__calendar__event.html#a4f624898c838b00a647325f5afacf4ee">ast_calendar_event::owner</a></div><div class="ttdeci">struct ast_calendar * owner</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00103">calendar.h:103</a></div></div>
<div class="ttc" id="res__calendar_8c_html_a0862b7036bac237240ba7da6a6bbb56d"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#a0862b7036bac237240ba7da6a6bbb56d">find_event</a></div><div class="ttdeci">static struct ast_calendar_event * find_event(struct ao2_container *events, const char *uid)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l00313">res_calendar.c:313</a></div></div>
<div class="ttc" id="structao2__container_html"><div class="ttname"><a href="../../d2/da9/structao2__container.html">ao2_container</a></div><div class="ttdoc">Generic container type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d20/astobj2__container__private_8h_source.html#l00282">astobj2_container_private.h:282</a></div></div>
<div class="ttc" id="structast__calendar__event_html"><div class="ttname"><a href="../../dc/d64/structast__calendar__event.html">ast_calendar_event</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00093">calendar.h:93</a></div></div>
<div class="ttc" id="res__calendar_8c_html_a0b71ae1b1392b6095a17737375eb7671"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#a0b71ae1b1392b6095a17737375eb7671">ast_calendar_unref_event</a></div><div class="ttdeci">struct ast_calendar_event * ast_calendar_unref_event(struct ast_calendar_event *event)</div><div class="ttdoc">Unreference an ast_calendar_event. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l00321">res_calendar.c:321</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6b099114d99652352b79959f57ef3436"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6b099114d99652352b79959f57ef3436">&#9670;&nbsp;</a></span>null_chan_write()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int null_chan_write </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d0/d99/structast__frame.html">ast_frame</a> *&#160;</td>
          <td class="paramname"><em>frame</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00730">730</a> of file <a class="el" href="../../d7/dc3/res__calendar_8c_source.html">res_calendar.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;{</div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;}</div></div><!-- fragment -->
</div>
</div>
<a id="ad1982509765f4870f1f63412a53ea668"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad1982509765f4870f1f63412a53ea668">&#9670;&nbsp;</a></span>reload()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int reload </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l01795">1795</a> of file <a class="el" href="../../d7/dc3/res__calendar_8c_source.html">res_calendar.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01716">ao2_callback</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00039">AST_LIST_LOCK</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00490">AST_LIST_TRAVERSE</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00139">AST_LIST_UNLOCK</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00187">ast_mutex_lock</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00188">ast_mutex_unlock</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l01779">cb_pending_deletion()</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l01788">cb_rm_pending_deletion()</a>, <a class="el" href="../../df/db9/structevententry.html#a7243f23e02e3325c23cfb0a5a98732fa">evententry::list</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l01065">load_config()</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00513">load_tech_calendars()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01053">OBJ_MULTIPLE</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01048">OBJ_NODATA</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01043">OBJ_UNLINK</a>, and <a class="el" href="../../da/d4a/calendar_8h_source.html#l00070">ast_calendar_tech::type</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l01900">load_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;{</div><div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/dca/structast__calendar__tech.html">ast_calendar_tech</a> *iter;</div><div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;</div><div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#ac5e13c7fe64d3b271a52028b0a78b92b">ast_mutex_lock</a>(&amp;<a class="code" href="../../d7/dc3/res__calendar_8c.html#a39a4ab22c3e08054d2efe759d8610f12">reloadlock</a>);</div><div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;</div><div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;   <span class="comment">/* Mark existing calendars for deletion */</span></div><div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a47857055118a703ae87ea5ebaf4842ed">ao2_callback</a>(<a class="code" href="../../d7/dc3/res__calendar_8c.html#ab0a23206c25ccbd53fae39c15dfe647b">calendars</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca5fc59b193d86a0a8ddfe866304be829d">OBJ_NODATA</a> | <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca614744a4d36b3189d4ab5b02c8645d47">OBJ_MULTIPLE</a>, <a class="code" href="../../d7/dc3/res__calendar_8c.html#a45eab126bf0b77d2c8053e192ac3f728">cb_pending_deletion</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;   <a class="code" href="../../d7/dc3/res__calendar_8c.html#ad0f6114d9cab58a8ec3d9555cb466534">load_config</a>(1);</div><div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;</div><div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a>(&amp;<a class="code" href="../../d2/db3/structtechs.html">techs</a>);</div><div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(&amp;<a class="code" href="../../d2/db3/structtechs.html">techs</a>, iter, <a class="code" href="../../dd/dca/structast__calendar__tech.html#a0199260d3b90f5bec211e98749d2f748">list</a>) {</div><div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d7/dc3/res__calendar_8c.html#a68b74b05f0bbf0449d77b045b167384c">load_tech_calendars</a>(iter)) {</div><div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Failed to reload %s calendars, module disabled\n&quot;</span>, iter-&gt;<a class="code" href="../../dd/dca/structast__calendar__tech.html#a763fd8db6bba8fbbbc113ca0d61c47c2">type</a>);</div><div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;      }</div><div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;   }</div><div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a>(&amp;<a class="code" href="../../d2/db3/structtechs.html">techs</a>);</div><div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;</div><div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;   <span class="comment">/* Delete calendars that no longer show up in the config */</span></div><div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a47857055118a703ae87ea5ebaf4842ed">ao2_callback</a>(<a class="code" href="../../d7/dc3/res__calendar_8c.html#ab0a23206c25ccbd53fae39c15dfe647b">calendars</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca71f42ec6460e60eb6e10956c53329e45">OBJ_UNLINK</a> | <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca5fc59b193d86a0a8ddfe866304be829d">OBJ_NODATA</a> | <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca614744a4d36b3189d4ab5b02c8645d47">OBJ_MULTIPLE</a>, <a class="code" href="../../d7/dc3/res__calendar_8c.html#a87a4161e1a9f24ee9adaad72c478e273">cb_rm_pending_deletion</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;</div><div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a>(&amp;<a class="code" href="../../d7/dc3/res__calendar_8c.html#a39a4ab22c3e08054d2efe759d8610f12">reloadlock</a>);</div><div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;</div><div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;}</div><div class="ttc" id="linkedlists_8h_html_a9140a4e4d781264fa9469c52b1adae40"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a></div><div class="ttdeci">#define AST_LIST_LOCK(head)</div><div class="ttdoc">Locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00039">linkedlists.h:39</a></div></div>
<div class="ttc" id="res__calendar_8c_html_ab0a23206c25ccbd53fae39c15dfe647b"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#ab0a23206c25ccbd53fae39c15dfe647b">calendars</a></div><div class="ttdeci">static struct ao2_container * calendars</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l00222">res_calendar.c:222</a></div></div>
<div class="ttc" id="res__calendar_8c_html_a68b74b05f0bbf0449d77b045b167384c"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#a68b74b05f0bbf0449d77b045b167384c">load_tech_calendars</a></div><div class="ttdeci">static int load_tech_calendars(struct ast_calendar_tech *tech)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l00513">res_calendar.c:513</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35ca5fc59b193d86a0a8ddfe866304be829d"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca5fc59b193d86a0a8ddfe866304be829d">OBJ_NODATA</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01048">astobj2.h:1048</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="linkedlists_8h_html_ab48cb9e1e612dd486b747ba1c5d68d01"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a></div><div class="ttdeci">#define AST_LIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00139">linkedlists.h:139</a></div></div>
<div class="ttc" id="astobj2_8h_html_a47857055118a703ae87ea5ebaf4842ed"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a47857055118a703ae87ea5ebaf4842ed">ao2_callback</a></div><div class="ttdeci">#define ao2_callback(c, flags, cb_fn, arg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01716">astobj2.h:1716</a></div></div>
<div class="ttc" id="structast__calendar__tech_html_a0199260d3b90f5bec211e98749d2f748"><div class="ttname"><a href="../../dd/dca/structast__calendar__tech.html#a0199260d3b90f5bec211e98749d2f748">ast_calendar_tech::list</a></div><div class="ttdeci">struct ast_calendar_tech::@239 list</div></div>
<div class="ttc" id="lock_8h_html_ac5e13c7fe64d3b271a52028b0a78b92b"><div class="ttname"><a href="../../dd/d42/lock_8h.html#ac5e13c7fe64d3b271a52028b0a78b92b">ast_mutex_lock</a></div><div class="ttdeci">#define ast_mutex_lock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00187">lock.h:187</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35ca71f42ec6460e60eb6e10956c53329e45"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca71f42ec6460e60eb6e10956c53329e45">OBJ_UNLINK</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01043">astobj2.h:1043</a></div></div>
<div class="ttc" id="structast__calendar__tech_html_a763fd8db6bba8fbbbc113ca0d61c47c2"><div class="ttname"><a href="../../dd/dca/structast__calendar__tech.html#a763fd8db6bba8fbbbc113ca0d61c47c2">ast_calendar_tech::type</a></div><div class="ttdeci">const char * type</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00070">calendar.h:70</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="res__calendar_8c_html_a45eab126bf0b77d2c8053e192ac3f728"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#a45eab126bf0b77d2c8053e192ac3f728">cb_pending_deletion</a></div><div class="ttdeci">static int cb_pending_deletion(void *user_data, void *arg, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l01779">res_calendar.c:1779</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a3008b2f4f236b72d8bcfb80e346324ef"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a></div><div class="ttdeci">#define AST_LIST_TRAVERSE(head, var, field)</div><div class="ttdoc">Loops over (traverses) the entries in a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00490">linkedlists.h:490</a></div></div>
<div class="ttc" id="res__calendar_8c_html_ad0f6114d9cab58a8ec3d9555cb466534"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#ad0f6114d9cab58a8ec3d9555cb466534">load_config</a></div><div class="ttdeci">static int load_config(int reload)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l01065">res_calendar.c:1065</a></div></div>
<div class="ttc" id="structast__calendar__tech_html"><div class="ttname"><a href="../../dd/dca/structast__calendar__tech.html">ast_calendar_tech</a></div><div class="ttdoc">Individual calendaring technology data. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00069">calendar.h:69</a></div></div>
<div class="ttc" id="res__calendar_8c_html_a39a4ab22c3e08054d2efe759d8610f12"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#a39a4ab22c3e08054d2efe759d8610f12">reloadlock</a></div><div class="ttdeci">static ast_mutex_t reloadlock</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l00227">res_calendar.c:227</a></div></div>
<div class="ttc" id="structtechs_html"><div class="ttname"><a href="../../d2/db3/structtechs.html">techs</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l00252">res_calendar.c:252</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35ca614744a4d36b3189d4ab5b02c8645d47"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca614744a4d36b3189d4ab5b02c8645d47">OBJ_MULTIPLE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01053">astobj2.h:1053</a></div></div>
<div class="ttc" id="lock_8h_html_a873f9ce8c6287a32d48c83133e124418"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a></div><div class="ttdeci">#define ast_mutex_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00188">lock.h:188</a></div></div>
<div class="ttc" id="res__calendar_8c_html_a87a4161e1a9f24ee9adaad72c478e273"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#a87a4161e1a9f24ee9adaad72c478e273">cb_rm_pending_deletion</a></div><div class="ttdeci">static int cb_rm_pending_deletion(void *user_data, void *arg, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l01788">res_calendar.c:1788</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a632e70a94822b2c01ae0886c56f9143d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a632e70a94822b2c01ae0886c56f9143d">&#9670;&nbsp;</a></span>schedule_calendar_event()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int schedule_calendar_event </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d1d/structast__calendar.html">ast_calendar</a> *&#160;</td>
          <td class="paramname"><em>cal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../dc/d64/structast__calendar__event.html">ast_calendar_event</a> *&#160;</td>
          <td class="paramname"><em>old_event</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../dc/d64/structast__calendar__event.html">ast_calendar_event</a> *&#160;</td>
          <td class="paramname"><em>cmp_event</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00954">954</a> of file <a class="el" href="../../d7/dc3/res__calendar_8c_source.html">res_calendar.c</a>.</p>

<p class="reference">References <a class="el" href="../../da/d4a/calendar_8h_source.html#l00106">ast_calendar_event::alarm</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00718">ao2_lock</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00730">ao2_unlock</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00201">ast_cond_signal</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00187">ast_mutex_lock</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00188">ast_mutex_unlock</a>, <a class="el" href="../../d7/d00/sched_8h_source.html#l00125">AST_SCHED_REPLACE</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../de/df7/time_8h_source.html#l00150">ast_tvnow()</a>, <a class="el" href="../../da/d4a/calendar_8h_source.html#l00129">ast_calendar::autoreminder</a>, <a class="el" href="../../da/d4a/calendar_8h_source.html#l00110">ast_calendar_event::bs_end_sched</a>, <a class="el" href="../../da/d4a/calendar_8h_source.html#l00109">ast_calendar_event::bs_start_sched</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00892">calendar_devstate_change()</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00868">calendar_event_notify()</a>, <a class="el" href="../../da/d4a/calendar_8h_source.html#l00105">ast_calendar_event::end</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00248">evententry::event</a>, <a class="el" href="../../da/d4a/calendar_8h_source.html#l00127">ast_calendar::notify_channel</a>, <a class="el" href="../../da/d4a/calendar_8h_source.html#l00108">ast_calendar_event::notify_sched</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00226">refresh_condition</a>, and <a class="el" href="../../da/d4a/calendar_8h_source.html#l00104">ast_calendar_event::start</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l01043">add_new_event_cb()</a>, and <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l01016">merge_events_cb()</a>.</p>
<div class="fragment"><div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;{</div><div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;   <span class="keyword">struct </span>timeval now = <a class="code" href="../../de/df7/time_8h.html#ad3899efb6f0e348556ef69f5b16aa7f7">ast_tvnow</a>();</div><div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/d64/structast__calendar__event.html">ast_calendar_event</a> *<a class="code" href="../../df/d7d/structevent.html">event</a>;</div><div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;   time_t alarm_notify_sched = 0, devstate_sched_start, devstate_sched_end;</div><div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;   <span class="keywordtype">int</span> changed = 0;</div><div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;</div><div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;   <span class="keyword">event</span> = cmp_event ? cmp_event : old_event;</div><div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;</div><div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aa9fdb5d0a6157a56060d9f7279fe6c49">ao2_lock</a>(event);</div><div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(cal-&gt;<a class="code" href="../../d4/d1d/structast__calendar.html#a9acf7cf0321fbc2e944f794cc4a4db86">notify_channel</a>) &amp;&amp; (!cmp_event || old_event-&gt;<a class="code" href="../../dc/d64/structast__calendar__event.html#a37267f70d860de1087f76560dda134f7">alarm</a> != event-&gt;<a class="code" href="../../dc/d64/structast__calendar__event.html#a37267f70d860de1087f76560dda134f7">alarm</a>)) {</div><div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;      changed = 1;</div><div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;      <span class="keywordflow">if</span> (cal-&gt;<a class="code" href="../../d4/d1d/structast__calendar.html#a25c5d44b0e5d8a6447a6199e17d3bbbe">autoreminder</a>) {</div><div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;         alarm_notify_sched = (<span class="keyword">event</span>-&gt;start - (60 * cal-&gt;<a class="code" href="../../d4/d1d/structast__calendar.html#a25c5d44b0e5d8a6447a6199e17d3bbbe">autoreminder</a>) - now.tv_sec) * 1000;</div><div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (event-&gt;<a class="code" href="../../dc/d64/structast__calendar__event.html#a37267f70d860de1087f76560dda134f7">alarm</a>) {</div><div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;         alarm_notify_sched = (<span class="keyword">event</span>-&gt;alarm - now.tv_sec) * 1000;</div><div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;      }</div><div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;</div><div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;      <span class="comment">/* For now, send the notification if we missed it, but the meeting hasn&#39;t happened yet */</span></div><div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;      <span class="keywordflow">if</span> (event-&gt;<a class="code" href="../../dc/d64/structast__calendar__event.html#ada310e7f72b38fadd4b24d80ed3438ee">start</a> &gt;= now.tv_sec) {</div><div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;         <span class="keywordflow">if</span> (alarm_notify_sched &lt;= 0) {</div><div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;            alarm_notify_sched = 1;</div><div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;         }</div><div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;         <a class="code" href="../../dd/d42/lock_8h.html#ac5e13c7fe64d3b271a52028b0a78b92b">ast_mutex_lock</a>(&amp;<a class="code" href="../../d7/dc3/res__calendar_8c.html#a29b91e0b8852b6696c254e5d9e490553">refreshlock</a>);</div><div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;         <a class="code" href="../../d7/d00/sched_8h.html#a3482be3590d695edd576355379040d62">AST_SCHED_REPLACE</a>(old_event-&gt;<a class="code" href="../../dc/d64/structast__calendar__event.html#adb515bd0efdb2404268fc8dc797b54bb">notify_sched</a>, <a class="code" href="../../d0/da0/structsched.html">sched</a>, alarm_notify_sched, <a class="code" href="../../d7/dc3/res__calendar_8c.html#a58e28ab57d8385696f2270deaff4761e">calendar_event_notify</a>, old_event);</div><div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;         <a class="code" href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a>(&amp;<a class="code" href="../../d7/dc3/res__calendar_8c.html#a29b91e0b8852b6696c254e5d9e490553">refreshlock</a>);</div><div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;         <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(3, <span class="stringliteral">&quot;Calendar alarm event notification scheduled to happen in %ld ms\n&quot;</span>, (<span class="keywordtype">long</span>) alarm_notify_sched);</div><div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;      }</div><div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;   }</div><div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;</div><div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;   <span class="keywordflow">if</span> (!cmp_event || old_event-&gt;<a class="code" href="../../dc/d64/structast__calendar__event.html#ada310e7f72b38fadd4b24d80ed3438ee">start</a> != event-&gt;<a class="code" href="../../dc/d64/structast__calendar__event.html#ada310e7f72b38fadd4b24d80ed3438ee">start</a>) {</div><div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;      changed = 1;</div><div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;      devstate_sched_start = (<span class="keyword">event</span>-&gt;start - now.tv_sec) * 1000;</div><div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;</div><div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;      <span class="keywordflow">if</span> (devstate_sched_start &lt; 1) {</div><div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;         devstate_sched_start = 1;</div><div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;      }</div><div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;</div><div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#ac5e13c7fe64d3b271a52028b0a78b92b">ast_mutex_lock</a>(&amp;<a class="code" href="../../d7/dc3/res__calendar_8c.html#a29b91e0b8852b6696c254e5d9e490553">refreshlock</a>);</div><div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;      <a class="code" href="../../d7/d00/sched_8h.html#a3482be3590d695edd576355379040d62">AST_SCHED_REPLACE</a>(old_event-&gt;<a class="code" href="../../dc/d64/structast__calendar__event.html#adf086df88eee77a2f3028f3b0dd7823c">bs_start_sched</a>, <a class="code" href="../../d0/da0/structsched.html">sched</a>, devstate_sched_start, <a class="code" href="../../d7/dc3/res__calendar_8c.html#a7b0b3690c3fc05a33ad19e2c68e7688b">calendar_devstate_change</a>, old_event);</div><div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a>(&amp;<a class="code" href="../../d7/dc3/res__calendar_8c.html#a29b91e0b8852b6696c254e5d9e490553">refreshlock</a>);</div><div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(3, <span class="stringliteral">&quot;Calendar bs_start event notification scheduled to happen in %ld ms\n&quot;</span>, (<span class="keywordtype">long</span>) devstate_sched_start);</div><div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;   }</div><div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;</div><div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;   <span class="keywordflow">if</span> (!cmp_event || old_event-&gt;<a class="code" href="../../dc/d64/structast__calendar__event.html#a13455ba845bf5d4dba37be491bc6a036">end</a> != event-&gt;<a class="code" href="../../dc/d64/structast__calendar__event.html#a13455ba845bf5d4dba37be491bc6a036">end</a>) {</div><div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;      changed = 1;</div><div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;      devstate_sched_end = (<span class="keyword">event</span>-&gt;end - now.tv_sec) * 1000;</div><div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#ac5e13c7fe64d3b271a52028b0a78b92b">ast_mutex_lock</a>(&amp;<a class="code" href="../../d7/dc3/res__calendar_8c.html#a29b91e0b8852b6696c254e5d9e490553">refreshlock</a>);</div><div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;      <a class="code" href="../../d7/d00/sched_8h.html#a3482be3590d695edd576355379040d62">AST_SCHED_REPLACE</a>(old_event-&gt;<a class="code" href="../../dc/d64/structast__calendar__event.html#a1919432937cb7f4866ac34e78de0924f">bs_end_sched</a>, <a class="code" href="../../d0/da0/structsched.html">sched</a>, devstate_sched_end, <a class="code" href="../../d7/dc3/res__calendar_8c.html#a7b0b3690c3fc05a33ad19e2c68e7688b">calendar_devstate_change</a>, old_event);</div><div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a>(&amp;<a class="code" href="../../d7/dc3/res__calendar_8c.html#a29b91e0b8852b6696c254e5d9e490553">refreshlock</a>);</div><div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(3, <span class="stringliteral">&quot;Calendar bs_end event notification scheduled to happen in %ld ms\n&quot;</span>, (<span class="keywordtype">long</span>) devstate_sched_end);</div><div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;   }</div><div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;</div><div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;   <span class="keywordflow">if</span> (changed) {</div><div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#ae2cdf274a5da241c3ad7324d82bf6af0">ast_cond_signal</a>(&amp;<a class="code" href="../../d7/dc3/res__calendar_8c.html#aa8c02290302fb0e31208cafc03d13da0">refresh_condition</a>);</div><div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;   }</div><div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;</div><div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a>(event);</div><div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;</div><div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;}</div><div class="ttc" id="res__calendar_8c_html_a7b0b3690c3fc05a33ad19e2c68e7688b"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#a7b0b3690c3fc05a33ad19e2c68e7688b">calendar_devstate_change</a></div><div class="ttdeci">static int calendar_devstate_change(const void *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l00892">res_calendar.c:892</a></div></div>
<div class="ttc" id="res__calendar_8c_html_aa8c02290302fb0e31208cafc03d13da0"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#aa8c02290302fb0e31208cafc03d13da0">refresh_condition</a></div><div class="ttdeci">static ast_cond_t refresh_condition</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l00226">res_calendar.c:226</a></div></div>
<div class="ttc" id="structast__calendar__event_html_a13455ba845bf5d4dba37be491bc6a036"><div class="ttname"><a href="../../dc/d64/structast__calendar__event.html#a13455ba845bf5d4dba37be491bc6a036">ast_calendar_event::end</a></div><div class="ttdeci">time_t end</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00105">calendar.h:105</a></div></div>
<div class="ttc" id="res__calendar_8c_html_a58e28ab57d8385696f2270deaff4761e"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#a58e28ab57d8385696f2270deaff4761e">calendar_event_notify</a></div><div class="ttdeci">static int calendar_event_notify(const void *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l00868">res_calendar.c:868</a></div></div>
<div class="ttc" id="sched_8h_html_a3482be3590d695edd576355379040d62"><div class="ttname"><a href="../../d7/d00/sched_8h.html#a3482be3590d695edd576355379040d62">AST_SCHED_REPLACE</a></div><div class="ttdeci">#define AST_SCHED_REPLACE(id, sched, when, callback, data)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d00/sched_8h_source.html#l00125">sched.h:125</a></div></div>
<div class="ttc" id="structsched_html"><div class="ttname"><a href="../../d0/da0/structsched.html">sched</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/dbe/sched_8c_source.html#l00076">sched.c:76</a></div></div>
<div class="ttc" id="structast__calendar__event_html_a1919432937cb7f4866ac34e78de0924f"><div class="ttname"><a href="../../dc/d64/structast__calendar__event.html#a1919432937cb7f4866ac34e78de0924f">ast_calendar_event::bs_end_sched</a></div><div class="ttdeci">int bs_end_sched</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00110">calendar.h:110</a></div></div>
<div class="ttc" id="structevent_html"><div class="ttname"><a href="../../df/d7d/structevent.html">event</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d4d/astman_8c_source.html#l00222">astman.c:222</a></div></div>
<div class="ttc" id="time_8h_html_ad3899efb6f0e348556ef69f5b16aa7f7"><div class="ttname"><a href="../../de/df7/time_8h.html#ad3899efb6f0e348556ef69f5b16aa7f7">ast_tvnow</a></div><div class="ttdeci">struct timeval ast_tvnow(void)</div><div class="ttdoc">Returns current timeval. Meant to replace calls to gettimeofday(). </div><div class="ttdef"><b>Definition:</b> <a href="../../de/df7/time_8h_source.html#l00150">time.h:150</a></div></div>
<div class="ttc" id="lock_8h_html_ac5e13c7fe64d3b271a52028b0a78b92b"><div class="ttname"><a href="../../dd/d42/lock_8h.html#ac5e13c7fe64d3b271a52028b0a78b92b">ast_mutex_lock</a></div><div class="ttdeci">#define ast_mutex_lock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00187">lock.h:187</a></div></div>
<div class="ttc" id="astobj2_8h_html_a9998bd156b936636a8780385e9a910b2"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a></div><div class="ttdeci">#define ao2_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00730">astobj2.h:730</a></div></div>
<div class="ttc" id="lock_8h_html_ae2cdf274a5da241c3ad7324d82bf6af0"><div class="ttname"><a href="../../dd/d42/lock_8h.html#ae2cdf274a5da241c3ad7324d82bf6af0">ast_cond_signal</a></div><div class="ttdeci">#define ast_cond_signal(cond)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00201">lock.h:201</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="astobj2_8h_html_aa9fdb5d0a6157a56060d9f7279fe6c49"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aa9fdb5d0a6157a56060d9f7279fe6c49">ao2_lock</a></div><div class="ttdeci">#define ao2_lock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00718">astobj2.h:718</a></div></div>
<div class="ttc" id="res__calendar_8c_html_a29b91e0b8852b6696c254e5d9e490553"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#a29b91e0b8852b6696c254e5d9e490553">refreshlock</a></div><div class="ttdeci">static ast_mutex_t refreshlock</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l00225">res_calendar.c:225</a></div></div>
<div class="ttc" id="structast__calendar__event_html_adb515bd0efdb2404268fc8dc797b54bb"><div class="ttname"><a href="../../dc/d64/structast__calendar__event.html#adb515bd0efdb2404268fc8dc797b54bb">ast_calendar_event::notify_sched</a></div><div class="ttdeci">int notify_sched</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00108">calendar.h:108</a></div></div>
<div class="ttc" id="structast__calendar__event_html_ada310e7f72b38fadd4b24d80ed3438ee"><div class="ttname"><a href="../../dc/d64/structast__calendar__event.html#ada310e7f72b38fadd4b24d80ed3438ee">ast_calendar_event::start</a></div><div class="ttdeci">time_t start</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00104">calendar.h:104</a></div></div>
<div class="ttc" id="structast__calendar__event_html_a37267f70d860de1087f76560dda134f7"><div class="ttname"><a href="../../dc/d64/structast__calendar__event.html#a37267f70d860de1087f76560dda134f7">ast_calendar_event::alarm</a></div><div class="ttdeci">time_t alarm</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00106">calendar.h:106</a></div></div>
<div class="ttc" id="structast__calendar__event_html"><div class="ttname"><a href="../../dc/d64/structast__calendar__event.html">ast_calendar_event</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00093">calendar.h:93</a></div></div>
<div class="ttc" id="structast__calendar_html_a25c5d44b0e5d8a6447a6199e17d3bbbe"><div class="ttname"><a href="../../d4/d1d/structast__calendar.html#a25c5d44b0e5d8a6447a6199e17d3bbbe">ast_calendar::autoreminder</a></div><div class="ttdeci">int autoreminder</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00129">calendar.h:129</a></div></div>
<div class="ttc" id="structast__calendar__event_html_adf086df88eee77a2f3028f3b0dd7823c"><div class="ttname"><a href="../../dc/d64/structast__calendar__event.html#adf086df88eee77a2f3028f3b0dd7823c">ast_calendar_event::bs_start_sched</a></div><div class="ttdeci">int bs_start_sched</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00109">calendar.h:109</a></div></div>
<div class="ttc" id="structast__calendar_html_a9acf7cf0321fbc2e944f794cc4a4db86"><div class="ttname"><a href="../../d4/d1d/structast__calendar.html#a9acf7cf0321fbc2e944f794cc4a4db86">ast_calendar::notify_channel</a></div><div class="ttdeci">const ast_string_field notify_channel</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00127">calendar.h:127</a></div></div>
<div class="ttc" id="lock_8h_html_a873f9ce8c6287a32d48c83133e124418"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a></div><div class="ttdeci">#define ast_mutex_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00188">lock.h:188</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad09fa931f468002152a3cc2d5ce25eae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad09fa931f468002152a3cc2d5ce25eae">&#9670;&nbsp;</a></span>unload_module()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int unload_module </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l01852">1852</a> of file <a class="el" href="../../d7/dc3/res__calendar_8c_source.html">res_calendar.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01716">ao2_callback</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../de/dfe/isdn__lib_8c_source.html#l00042">ARRAY_LEN</a>, <a class="el" href="../../da/d4d/clicompat_8c_source.html#l00030">ast_cli_unregister_multiple()</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00201">ast_cond_signal</a>, <a class="el" href="../../d4/dc5/extconf_8c_source.html#l01290">ast_config_destroy()</a>, <a class="el" href="../../db/d70/pbx__functions_8c_source.html#l00273">ast_custom_function_unregister()</a>, <a class="el" href="../../d1/d80/devicestate_8c_source.html#l00418">ast_devstate_prov_del()</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00039">AST_LIST_LOCK</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00528">AST_LIST_TRAVERSE_SAFE_BEGIN</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00614">AST_LIST_TRAVERSE_SAFE_END</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00139">AST_LIST_UNLOCK</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00187">ast_mutex_lock</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00188">ast_mutex_unlock</a>, <a class="el" href="../../db/dbe/sched_8c_source.html#l00269">ast_sched_context_destroy()</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l01229">ast_unload_resource()</a>, <a class="el" href="../../df/db9/structevententry.html#a7243f23e02e3325c23cfb0a5a98732fa">evententry::list</a>, <a class="el" href="../../da/d4a/calendar_8h_source.html#l00072">ast_calendar_tech::module</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00228">module_unloading</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01053">OBJ_MULTIPLE</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01048">OBJ_NODATA</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01043">OBJ_UNLINK</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00226">refresh_condition</a>, and <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00224">refresh_thread</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l01900">load_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;{</div><div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dd/dca/structast__calendar__tech.html">ast_calendar_tech</a> *tech;</div><div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;</div><div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;   <a class="code" href="../../da/da2/devicestate_8h.html#a1ab579ae15aaca64a904c3c41d8b8b01">ast_devstate_prov_del</a>(<span class="stringliteral">&quot;calendar&quot;</span>);</div><div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;   <a class="code" href="../../db/de0/pbx_8h.html#a965977ea9a3144bc203e0ce7a64680a1">ast_custom_function_unregister</a>(&amp;<a class="code" href="../../d7/dc3/res__calendar_8c.html#a4e727121313c80a26128c47e658d6894">calendar_busy_function</a>);</div><div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;   <a class="code" href="../../db/de0/pbx_8h.html#a965977ea9a3144bc203e0ce7a64680a1">ast_custom_function_unregister</a>(&amp;<a class="code" href="../../d7/dc3/res__calendar_8c.html#a4567336f1c9f823cac99c1ca07cbf1ed">calendar_event_function</a>);</div><div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;   <a class="code" href="../../db/de0/pbx_8h.html#a965977ea9a3144bc203e0ce7a64680a1">ast_custom_function_unregister</a>(&amp;<a class="code" href="../../d7/dc3/res__calendar_8c.html#a233e91038a75d45680e12ed5833a04d6">calendar_query_function</a>);</div><div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;   <a class="code" href="../../db/de0/pbx_8h.html#a965977ea9a3144bc203e0ce7a64680a1">ast_custom_function_unregister</a>(&amp;<a class="code" href="../../d7/dc3/res__calendar_8c.html#a3732ba84f15630fea194a5bcdf3f6631">calendar_query_result_function</a>);</div><div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;   <a class="code" href="../../db/de0/pbx_8h.html#a965977ea9a3144bc203e0ce7a64680a1">ast_custom_function_unregister</a>(&amp;<a class="code" href="../../d7/dc3/res__calendar_8c.html#a268d12de42b3899c621d7d457ed5ed7e">calendar_write_function</a>);</div><div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;   <a class="code" href="../../dc/db0/cli_8h.html#a56b6b59ee2eaa994597a5b0f4e9f9d09">ast_cli_unregister_multiple</a>(<a class="code" href="../../d7/dc3/res__calendar_8c.html#a4da0035ade5c1ed1c2507d59a9c7b5b6">calendar_cli</a>, <a class="code" href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a>(<a class="code" href="../../d7/dc3/res__calendar_8c.html#a4da0035ade5c1ed1c2507d59a9c7b5b6">calendar_cli</a>));</div><div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;</div><div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;   <span class="comment">/* Remove all calendars */</span></div><div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a47857055118a703ae87ea5ebaf4842ed">ao2_callback</a>(<a class="code" href="../../d7/dc3/res__calendar_8c.html#ab0a23206c25ccbd53fae39c15dfe647b">calendars</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca71f42ec6460e60eb6e10956c53329e45">OBJ_UNLINK</a> | <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca5fc59b193d86a0a8ddfe866304be829d">OBJ_NODATA</a> | <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca614744a4d36b3189d4ab5b02c8645d47">OBJ_MULTIPLE</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>(<a class="code" href="../../d7/dc3/res__calendar_8c.html#ab0a23206c25ccbd53fae39c15dfe647b">calendars</a>);</div><div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;   <a class="code" href="../../d7/dc3/res__calendar_8c.html#ab0a23206c25ccbd53fae39c15dfe647b">calendars</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;</div><div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#ac5e13c7fe64d3b271a52028b0a78b92b">ast_mutex_lock</a>(&amp;<a class="code" href="../../d7/dc3/res__calendar_8c.html#a29b91e0b8852b6696c254e5d9e490553">refreshlock</a>);</div><div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;   <a class="code" href="../../d7/dc3/res__calendar_8c.html#ad51d62cb6b4849cd2f19e5f58cdb69e2">module_unloading</a> = 1;</div><div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#ae2cdf274a5da241c3ad7324d82bf6af0">ast_cond_signal</a>(&amp;<a class="code" href="../../d7/dc3/res__calendar_8c.html#aa8c02290302fb0e31208cafc03d13da0">refresh_condition</a>);</div><div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a>(&amp;<a class="code" href="../../d7/dc3/res__calendar_8c.html#a29b91e0b8852b6696c254e5d9e490553">refreshlock</a>);</div><div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;   pthread_join(<a class="code" href="../../d7/dc3/res__calendar_8c.html#a8c64083a818c7f079198f34c0ef05aef">refresh_thread</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;</div><div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;   <a class="code" href="../../d7/d00/sched_8h.html#a862f869d056628b38e09042f21b54413">ast_sched_context_destroy</a>(<a class="code" href="../../d0/da0/structsched.html">sched</a>);</div><div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;</div><div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a>(&amp;<a class="code" href="../../d2/db3/structtechs.html">techs</a>);</div><div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#aa5be52067bf16bdc7e56ca19b5ba858d">AST_LIST_TRAVERSE_SAFE_BEGIN</a>(&amp;<a class="code" href="../../d2/db3/structtechs.html">techs</a>, tech, <a class="code" href="../../dd/dca/structast__calendar__tech.html#a0199260d3b90f5bec211e98749d2f748">list</a>) {</div><div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;      <a class="code" href="../../d5/d16/module_8h.html#a52f6615f305951a0d61adc6e61920c34">ast_unload_resource</a>(tech-&gt;<a class="code" href="../../dd/dca/structast__calendar__tech.html#a885ecdfcb963f1d1a7ba3144e9b6c8f8">module</a>, 0);</div><div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;   }</div><div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a712c04b4493919a7052399cd30ee8fb9">AST_LIST_TRAVERSE_SAFE_END</a>;</div><div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a>(&amp;<a class="code" href="../../d2/db3/structtechs.html">techs</a>);</div><div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;</div><div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;   <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#a6b4d4d929013de7812fbba4e58353078">ast_config_destroy</a>(<a class="code" href="../../d7/dc3/res__calendar_8c.html#a4e17933edc73c89b20ecdd26c6fd0552">calendar_config</a>);</div><div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;   <a class="code" href="../../d7/dc3/res__calendar_8c.html#a4e17933edc73c89b20ecdd26c6fd0552">calendar_config</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;</div><div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;}</div><div class="ttc" id="res__calendar_8c_html_a4e727121313c80a26128c47e658d6894"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#a4e727121313c80a26128c47e658d6894">calendar_busy_function</a></div><div class="ttdeci">static struct ast_custom_function calendar_busy_function</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l01114">res_calendar.c:1114</a></div></div>
<div class="ttc" id="res__calendar_8c_html_aa8c02290302fb0e31208cafc03d13da0"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#aa8c02290302fb0e31208cafc03d13da0">refresh_condition</a></div><div class="ttdeci">static ast_cond_t refresh_condition</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l00226">res_calendar.c:226</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a9140a4e4d781264fa9469c52b1adae40"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a9140a4e4d781264fa9469c52b1adae40">AST_LIST_LOCK</a></div><div class="ttdeci">#define AST_LIST_LOCK(head)</div><div class="ttdoc">Locks a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00039">linkedlists.h:39</a></div></div>
<div class="ttc" id="res__calendar_8c_html_ab0a23206c25ccbd53fae39c15dfe647b"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#ab0a23206c25ccbd53fae39c15dfe647b">calendars</a></div><div class="ttdeci">static struct ao2_container * calendars</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l00222">res_calendar.c:222</a></div></div>
<div class="ttc" id="isdn__lib_8c_html_ab9129b977a587b50ea801daac75e178f"><div class="ttname"><a href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a></div><div class="ttdeci">#define ARRAY_LEN(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dfe/isdn__lib_8c_source.html#l00042">isdn_lib.c:42</a></div></div>
<div class="ttc" id="res__calendar_8c_html_a8c64083a818c7f079198f34c0ef05aef"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#a8c64083a818c7f079198f34c0ef05aef">refresh_thread</a></div><div class="ttdeci">static pthread_t refresh_thread</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l00224">res_calendar.c:224</a></div></div>
<div class="ttc" id="cli_8h_html_a56b6b59ee2eaa994597a5b0f4e9f9d09"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a56b6b59ee2eaa994597a5b0f4e9f9d09">ast_cli_unregister_multiple</a></div><div class="ttdeci">int ast_cli_unregister_multiple(struct ast_cli_entry *e, int len)</div><div class="ttdoc">Unregister multiple commands. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4d/clicompat_8c_source.html#l00030">clicompat.c:30</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35ca5fc59b193d86a0a8ddfe866304be829d"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca5fc59b193d86a0a8ddfe866304be829d">OBJ_NODATA</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01048">astobj2.h:1048</a></div></div>
<div class="ttc" id="linkedlists_8h_html_ab48cb9e1e612dd486b747ba1c5d68d01"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#ab48cb9e1e612dd486b747ba1c5d68d01">AST_LIST_UNLOCK</a></div><div class="ttdeci">#define AST_LIST_UNLOCK(head)</div><div class="ttdoc">Attempts to unlock a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00139">linkedlists.h:139</a></div></div>
<div class="ttc" id="astobj2_8h_html_a47857055118a703ae87ea5ebaf4842ed"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a47857055118a703ae87ea5ebaf4842ed">ao2_callback</a></div><div class="ttdeci">#define ao2_callback(c, flags, cb_fn, arg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01716">astobj2.h:1716</a></div></div>
<div class="ttc" id="res__calendar_8c_html_a3732ba84f15630fea194a5bcdf3f6631"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#a3732ba84f15630fea194a5bcdf3f6631">calendar_query_result_function</a></div><div class="ttdeci">static struct ast_custom_function calendar_query_result_function</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l01410">res_calendar.c:1410</a></div></div>
<div class="ttc" id="structast__calendar__tech_html_a0199260d3b90f5bec211e98749d2f748"><div class="ttname"><a href="../../dd/dca/structast__calendar__tech.html#a0199260d3b90f5bec211e98749d2f748">ast_calendar_tech::list</a></div><div class="ttdeci">struct ast_calendar_tech::@239 list</div></div>
<div class="ttc" id="structsched_html"><div class="ttname"><a href="../../d0/da0/structsched.html">sched</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/dbe/sched_8c_source.html#l00076">sched.c:76</a></div></div>
<div class="ttc" id="devicestate_8h_html_a1ab579ae15aaca64a904c3c41d8b8b01"><div class="ttname"><a href="../../da/da2/devicestate_8h.html#a1ab579ae15aaca64a904c3c41d8b8b01">ast_devstate_prov_del</a></div><div class="ttdeci">int ast_devstate_prov_del(const char *label)</div><div class="ttdoc">Remove device state provider. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d80/devicestate_8c_source.html#l00418">devicestate.c:418</a></div></div>
<div class="ttc" id="structast__calendar__tech_html_a885ecdfcb963f1d1a7ba3144e9b6c8f8"><div class="ttname"><a href="../../dd/dca/structast__calendar__tech.html#a885ecdfcb963f1d1a7ba3144e9b6c8f8">ast_calendar_tech::module</a></div><div class="ttdeci">const char * module</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00072">calendar.h:72</a></div></div>
<div class="ttc" id="lock_8h_html_ac5e13c7fe64d3b271a52028b0a78b92b"><div class="ttname"><a href="../../dd/d42/lock_8h.html#ac5e13c7fe64d3b271a52028b0a78b92b">ast_mutex_lock</a></div><div class="ttdeci">#define ast_mutex_lock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00187">lock.h:187</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="res__calendar_8c_html_a268d12de42b3899c621d7d457ed5ed7e"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#a268d12de42b3899c621d7d457ed5ed7e">calendar_write_function</a></div><div class="ttdeci">static struct ast_custom_function calendar_write_function</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l01522">res_calendar.c:1522</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a712c04b4493919a7052399cd30ee8fb9"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a712c04b4493919a7052399cd30ee8fb9">AST_LIST_TRAVERSE_SAFE_END</a></div><div class="ttdeci">#define AST_LIST_TRAVERSE_SAFE_END</div><div class="ttdoc">Closes a safe loop traversal block. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00614">linkedlists.h:614</a></div></div>
<div class="ttc" id="lock_8h_html_ae2cdf274a5da241c3ad7324d82bf6af0"><div class="ttname"><a href="../../dd/d42/lock_8h.html#ae2cdf274a5da241c3ad7324d82bf6af0">ast_cond_signal</a></div><div class="ttdeci">#define ast_cond_signal(cond)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00201">lock.h:201</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35ca71f42ec6460e60eb6e10956c53329e45"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca71f42ec6460e60eb6e10956c53329e45">OBJ_UNLINK</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01043">astobj2.h:1043</a></div></div>
<div class="ttc" id="pbx_8h_html_a965977ea9a3144bc203e0ce7a64680a1"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a965977ea9a3144bc203e0ce7a64680a1">ast_custom_function_unregister</a></div><div class="ttdeci">int ast_custom_function_unregister(struct ast_custom_function *acf)</div><div class="ttdoc">Unregister a custom function. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d70/pbx__functions_8c_source.html#l00273">pbx_functions.c:273</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_a6b4d4d929013de7812fbba4e58353078"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#a6b4d4d929013de7812fbba4e58353078">ast_config_destroy</a></div><div class="ttdeci">void ast_config_destroy(struct ast_config *config)</div><div class="ttdoc">Destroys a config. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dc5/extconf_8c_source.html#l01290">extconf.c:1290</a></div></div>
<div class="ttc" id="res__calendar_8c_html_a4da0035ade5c1ed1c2507d59a9c7b5b6"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#a4da0035ade5c1ed1c2507d59a9c7b5b6">calendar_cli</a></div><div class="ttdeci">static struct ast_cli_entry calendar_cli[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l01709">res_calendar.c:1709</a></div></div>
<div class="ttc" id="res__calendar_8c_html_a29b91e0b8852b6696c254e5d9e490553"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#a29b91e0b8852b6696c254e5d9e490553">refreshlock</a></div><div class="ttdeci">static ast_mutex_t refreshlock</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l00225">res_calendar.c:225</a></div></div>
<div class="ttc" id="module_8h_html_a52f6615f305951a0d61adc6e61920c34"><div class="ttname"><a href="../../d5/d16/module_8h.html#a52f6615f305951a0d61adc6e61920c34">ast_unload_resource</a></div><div class="ttdeci">int ast_unload_resource(const char *resource_name, enum ast_module_unload_mode)</div><div class="ttdoc">Unload a module. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d96/loader_8c_source.html#l01229">loader.c:1229</a></div></div>
<div class="ttc" id="res__calendar_8c_html_a4567336f1c9f823cac99c1ca07cbf1ed"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#a4567336f1c9f823cac99c1ca07cbf1ed">calendar_event_function</a></div><div class="ttdeci">static struct ast_custom_function calendar_event_function</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l01774">res_calendar.c:1774</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="res__calendar_8c_html_a4e17933edc73c89b20ecdd26c6fd0552"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#a4e17933edc73c89b20ecdd26c6fd0552">calendar_config</a></div><div class="ttdeci">static struct ast_config * calendar_config</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l00255">res_calendar.c:255</a></div></div>
<div class="ttc" id="structast__calendar__tech_html"><div class="ttname"><a href="../../dd/dca/structast__calendar__tech.html">ast_calendar_tech</a></div><div class="ttdoc">Individual calendaring technology data. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4a/calendar_8h_source.html#l00069">calendar.h:69</a></div></div>
<div class="ttc" id="linkedlists_8h_html_aa5be52067bf16bdc7e56ca19b5ba858d"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#aa5be52067bf16bdc7e56ca19b5ba858d">AST_LIST_TRAVERSE_SAFE_BEGIN</a></div><div class="ttdeci">#define AST_LIST_TRAVERSE_SAFE_BEGIN(head, var, field)</div><div class="ttdoc">Loops safely over (traverses) the entries in a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00528">linkedlists.h:528</a></div></div>
<div class="ttc" id="structtechs_html"><div class="ttname"><a href="../../d2/db3/structtechs.html">techs</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l00252">res_calendar.c:252</a></div></div>
<div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35ca614744a4d36b3189d4ab5b02c8645d47"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35ca614744a4d36b3189d4ab5b02c8645d47">OBJ_MULTIPLE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01053">astobj2.h:1053</a></div></div>
<div class="ttc" id="sched_8h_html_a862f869d056628b38e09042f21b54413"><div class="ttname"><a href="../../d7/d00/sched_8h.html#a862f869d056628b38e09042f21b54413">ast_sched_context_destroy</a></div><div class="ttdeci">void ast_sched_context_destroy(struct ast_sched_context *c)</div><div class="ttdoc">destroys a schedule context </div><div class="ttdef"><b>Definition:</b> <a href="../../db/dbe/sched_8c_source.html#l00269">sched.c:269</a></div></div>
<div class="ttc" id="res__calendar_8c_html_a233e91038a75d45680e12ed5833a04d6"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#a233e91038a75d45680e12ed5833a04d6">calendar_query_function</a></div><div class="ttdeci">static struct ast_custom_function calendar_query_function</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l01299">res_calendar.c:1299</a></div></div>
<div class="ttc" id="lock_8h_html_a873f9ce8c6287a32d48c83133e124418"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a></div><div class="ttdeci">#define ast_mutex_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00188">lock.h:188</a></div></div>
<div class="ttc" id="res__calendar_8c_html_ad51d62cb6b4849cd2f19e5f58cdb69e2"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#ad51d62cb6b4849cd2f19e5f58cdb69e2">module_unloading</a></div><div class="ttdeci">static int module_unloading</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l00228">res_calendar.c:228</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a1d3e21e2e050727f782d68652d1cc1f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d3e21e2e050727f782d68652d1cc1f5">&#9670;&nbsp;</a></span>unref_calendar()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="../../d4/d1d/structast__calendar.html">ast_calendar</a>* unref_calendar </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d1d/structast__calendar.html">ast_calendar</a> *&#160;</td>
          <td class="paramname"><em>cal</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00275">275</a> of file <a class="el" href="../../d7/dc3/res__calendar_8c_source.html">res_calendar.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00400">build_calendar()</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l01092">calendar_busy_exec()</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l01213">calendar_query_exec()</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l01415">calendar_write_exec()</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00381">calendarstate()</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l01604">handle_show_calendar()</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l01528">handle_show_calendars()</a>, and <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00513">load_tech_calendars()</a>.</p>
<div class="fragment"><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;{</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(cal, -1);</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;}</div><div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ab22f32016155f7f403e7178767163d7d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab22f32016155f7f403e7178767163d7d">&#9670;&nbsp;</a></span>__mod_info</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a> __mod_info = { .<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a> = <a class="el" href="../../da/ddd/named__acl_8c.html#aec23fc5034c3bb08140fc021f4955877">AST_MODULE</a>, .flags = <a class="el" href="../../d5/d16/module_8h.html#a155a0df9c59e04e305d4a2fa3e35f843a835b27a90d895a488e4e14cc3d2dee8c">AST_MODFLAG_GLOBAL_SYMBOLS</a> | <a class="el" href="../../d5/d16/module_8h.html#a155a0df9c59e04e305d4a2fa3e35f843a12c3f60dd7655dfa8d4430cbf04b1223">AST_MODFLAG_LOAD_ORDER</a> , .description = &quot;Asterisk Calendar integration&quot; , .key = &quot;This paragraph is copyright (<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>) 2006 by Digium, Inc. \In <a class="el" href="../../d5/d14/voicin_8c.html#aed7ca058008dc3e5ee131e575abed285">order</a> for your module to load, it must return this \key via <a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a> function called \&quot;key\&quot;. Any code which \includes this paragraph must <a class="el" href="../../dd/d7c/eagi__proxy_8c.html#a39730e90126aad69cfc9ca4d6fcdb3a6">be</a> licensed under the GNU \General Public License <a class="el" href="../../da/d7c/utils_2frame_8h.html#a56abfaab87c46691c1ef3ad0df23e864">version</a> 2 or later (at your \option). In addition to Digium's general reservations \of rights, Digium expressly reserves the right to \allow other parties to license this paragraph under \different terms. Any use of Digium, Inc. trademarks or \logos (including \&quot;Asterisk\&quot; or \&quot;Digium\&quot;) without \express written <a class="el" href="../../d4/d4c/structpermission.html">permission</a> of Digium, Inc. is prohibited.\n&quot; , .buildopt_sum = &quot;30ef0c93b36035ec78c9cfd712d36d9b&quot; , .support_level = AST_MODULE_SUPPORT_EXTENDED, .load = load_module, .unload = unload_module, .reload = reload, .load_pri = AST_MODPRI_DEVSTATE_PROVIDER, }</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l01946">1946</a> of file <a class="el" href="../../d7/dc3/res__calendar_8c_source.html">res_calendar.c</a>.</p>

</div>
</div>
<a id="ad60e83b9aa660040fed4d5377966cc21"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad60e83b9aa660040fed4d5377966cc21">&#9670;&nbsp;</a></span>ast_module_info</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const struct <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a>* <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a> = &amp;<a class="el" href="../../d6/d7a/test__xml__escape_8c.html#ab22f32016155f7f403e7178767163d7d">__mod_info</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l01946">1946</a> of file <a class="el" href="../../d7/dc3/res__calendar_8c_source.html">res_calendar.c</a>.</p>

</div>
</div>
<a id="a4e727121313c80a26128c47e658d6894"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4e727121313c80a26128c47e658d6894">&#9670;&nbsp;</a></span>calendar_busy_function</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../db/dc0/structast__custom__function.html">ast_custom_function</a> calendar_busy_function</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div><div class="line">    .name = <span class="stringliteral">&quot;CALENDAR_BUSY&quot;</span>,</div><div class="line">    .read = <a class="code" href="../../d7/dc3/res__calendar_8c.html#aef76fa94bcee828d52142c3e5fb89d47">calendar_busy_exec</a>,</div><div class="line">}</div><div class="ttc" id="res__calendar_8c_html_aef76fa94bcee828d52142c3e5fb89d47"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#aef76fa94bcee828d52142c3e5fb89d47">calendar_busy_exec</a></div><div class="ttdeci">static int calendar_busy_exec(struct ast_channel *chan, const char *cmd, char *data, char *buf, size_t len)</div><div class="ttdoc">A dialplan function that can be used to determine the busy status of a calendar. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l01092">res_calendar.c:1092</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l01114">1114</a> of file <a class="el" href="../../d7/dc3/res__calendar_8c_source.html">res_calendar.c</a>.</p>

</div>
</div>
<a id="a4da0035ade5c1ed1c2507d59a9c7b5b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4da0035ade5c1ed1c2507d59a9c7b5b6">&#9670;&nbsp;</a></span>calendar_cli</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d8/d07/structast__cli__entry.html">ast_cli_entry</a> calendar_cli[]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l01709">1709</a> of file <a class="el" href="../../d7/dc3/res__calendar_8c_source.html">res_calendar.c</a>.</p>

</div>
</div>
<a id="a4e17933edc73c89b20ecdd26c6fd0552"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4e17933edc73c89b20ecdd26c6fd0552">&#9670;&nbsp;</a></span>calendar_config</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../dd/d18/structast__config.html">ast_config</a>* calendar_config</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00255">255</a> of file <a class="el" href="../../d7/dc3/res__calendar_8c_source.html">res_calendar.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00258">ast_calendar_config_acquire()</a>.</p>

</div>
</div>
<a id="a4567336f1c9f823cac99c1ca07cbf1ed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4567336f1c9f823cac99c1ca07cbf1ed">&#9670;&nbsp;</a></span>calendar_event_function</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../db/dc0/structast__custom__function.html">ast_custom_function</a> calendar_event_function</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div><div class="line">   .name = <span class="stringliteral">&quot;CALENDAR_EVENT&quot;</span>,</div><div class="line">   .read = <a class="code" href="../../d7/dc3/res__calendar_8c.html#a9a833fc3e81ac554a54ad0783819516b">calendar_event_read</a>,</div><div class="line">}</div><div class="ttc" id="res__calendar_8c_html_a9a833fc3e81ac554a54ad0783819516b"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#a9a833fc3e81ac554a54ad0783819516b">calendar_event_read</a></div><div class="ttdeci">static int calendar_event_read(struct ast_channel *chan, const char *cmd, char *data, char *buf, size_t len)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l01716">res_calendar.c:1716</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l01774">1774</a> of file <a class="el" href="../../d7/dc3/res__calendar_8c_source.html">res_calendar.c</a>.</p>

</div>
</div>
<a id="a233e91038a75d45680e12ed5833a04d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a233e91038a75d45680e12ed5833a04d6">&#9670;&nbsp;</a></span>calendar_query_function</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../db/dc0/structast__custom__function.html">ast_custom_function</a> calendar_query_function</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div><div class="line">    .name = <span class="stringliteral">&quot;CALENDAR_QUERY&quot;</span>,</div><div class="line">    .read = <a class="code" href="../../d7/dc3/res__calendar_8c.html#a0ebdf126fe230772caf2e5ed8b04741d">calendar_query_exec</a>,</div><div class="line">}</div><div class="ttc" id="res__calendar_8c_html_a0ebdf126fe230772caf2e5ed8b04741d"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#a0ebdf126fe230772caf2e5ed8b04741d">calendar_query_exec</a></div><div class="ttdeci">static int calendar_query_exec(struct ast_channel *chan, const char *cmd, char *data, char *buf, size_t len)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l01213">res_calendar.c:1213</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l01299">1299</a> of file <a class="el" href="../../d7/dc3/res__calendar_8c_source.html">res_calendar.c</a>.</p>

</div>
</div>
<a id="a3732ba84f15630fea194a5bcdf3f6631"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3732ba84f15630fea194a5bcdf3f6631">&#9670;&nbsp;</a></span>calendar_query_result_function</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../db/dc0/structast__custom__function.html">ast_custom_function</a> calendar_query_result_function</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div><div class="line">   .name = <span class="stringliteral">&quot;CALENDAR_QUERY_RESULT&quot;</span>,</div><div class="line">   .read = <a class="code" href="../../d7/dc3/res__calendar_8c.html#a23f8ad8f24d93f7421bac1e7d0f74366">calendar_query_result_exec</a>,</div><div class="line">}</div><div class="ttc" id="res__calendar_8c_html_a23f8ad8f24d93f7421bac1e7d0f74366"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#a23f8ad8f24d93f7421bac1e7d0f74366">calendar_query_result_exec</a></div><div class="ttdeci">static int calendar_query_result_exec(struct ast_channel *chan, const char *cmd, char *data, char *buf, size_t len)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l01322">res_calendar.c:1322</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l01410">1410</a> of file <a class="el" href="../../d7/dc3/res__calendar_8c_source.html">res_calendar.c</a>.</p>

</div>
</div>
<a id="a268d12de42b3899c621d7d457ed5ed7e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a268d12de42b3899c621d7d457ed5ed7e">&#9670;&nbsp;</a></span>calendar_write_function</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../db/dc0/structast__custom__function.html">ast_custom_function</a> calendar_write_function</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div><div class="line">   .name = <span class="stringliteral">&quot;CALENDAR_WRITE&quot;</span>,</div><div class="line">   .write = <a class="code" href="../../d7/dc3/res__calendar_8c.html#a08ee17eea3c89d76dabe1b948f2d8c96">calendar_write_exec</a>,</div><div class="line">}</div><div class="ttc" id="res__calendar_8c_html_a08ee17eea3c89d76dabe1b948f2d8c96"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#a08ee17eea3c89d76dabe1b948f2d8c96">calendar_write_exec</a></div><div class="ttdeci">static int calendar_write_exec(struct ast_channel *chan, const char *cmd, char *data, const char *value)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l01415">res_calendar.c:1415</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l01522">1522</a> of file <a class="el" href="../../d7/dc3/res__calendar_8c_source.html">res_calendar.c</a>.</p>

</div>
</div>
<a id="ab0a23206c25ccbd53fae39c15dfe647b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab0a23206c25ccbd53fae39c15dfe647b">&#9670;&nbsp;</a></span>calendars</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d2/da9/structao2__container.html">ao2_container</a>* calendars</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00222">222</a> of file <a class="el" href="../../d7/dc3/res__calendar_8c_source.html">res_calendar.c</a>.</p>

</div>
</div>
<a id="a6438556ba98655267def94eee104f6e2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6438556ba98655267def94eee104f6e2">&#9670;&nbsp;</a></span>config_lock</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dd/d42/lock_8h.html#a04e2a4450668b0cd2be05edd6259df19">ast_rwlock_t</a> config_lock = { PTHREAD_RWLOCK_INITIALIZER , <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, {1, 0} }</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00256">256</a> of file <a class="el" href="../../d7/dc3/res__calendar_8c_source.html">res_calendar.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00258">ast_calendar_config_acquire()</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00270">ast_calendar_config_release()</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l01065">load_config()</a>, and <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00513">load_tech_calendars()</a>.</p>

</div>
</div>
<a id="a3cdf9684aa289139de4a3a658a6ef464"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3cdf9684aa289139de4a3a658a6ef464">&#9670;&nbsp;</a></span>event_notification_datastore</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const struct <a class="el" href="../../d9/dfb/structast__datastore__info.html">ast_datastore_info</a> event_notification_datastore</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div><div class="line">   .type = <span class="stringliteral">&quot;EventNotification&quot;</span>,</div><div class="line">   .destroy = <a class="code" href="../../d7/dc3/res__calendar_8c.html#ad0fc48ed678b8b58118a67ff0e4553d2">event_notification_destroy</a>,</div><div class="line">   .duplicate = <a class="code" href="../../d7/dc3/res__calendar_8c.html#a15652a30d93a3a801dcdb96d8e51fdb9">event_notification_duplicate</a>,</div><div class="line">}</div><div class="ttc" id="res__calendar_8c_html_a15652a30d93a3a801dcdb96d8e51fdb9"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#a15652a30d93a3a801dcdb96d8e51fdb9">event_notification_duplicate</a></div><div class="ttdeci">static void * event_notification_duplicate(void *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l00703">res_calendar.c:703</a></div></div>
<div class="ttc" id="res__calendar_8c_html_ad0fc48ed678b8b58118a67ff0e4553d2"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#ad0fc48ed678b8b58118a67ff0e4553d2">event_notification_destroy</a></div><div class="ttdeci">static void event_notification_destroy(void *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l00695">res_calendar.c:695</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00235">235</a> of file <a class="el" href="../../d7/dc3/res__calendar_8c_source.html">res_calendar.c</a>.</p>

</div>
</div>
<a id="a9fd06e58dca21fdf8eb2a1f00e584126"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9fd06e58dca21fdf8eb2a1f00e584126">&#9670;&nbsp;</a></span>eventlist_datastore_info</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const struct <a class="el" href="../../d9/dfb/structast__datastore__info.html">ast_datastore_info</a> eventlist_datastore_info</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div><div class="line">   .type = <span class="stringliteral">&quot;CalendarEventList&quot;</span>,</div><div class="line">   .destroy = <a class="code" href="../../d7/dc3/res__calendar_8c.html#afcdcadc4ccb54f676c28c29fcd823d9e">eventlist_destroy</a>,</div><div class="line">   .duplicate = <a class="code" href="../../d7/dc3/res__calendar_8c.html#a29299313e7442d1a811ef00cd8add9d8">eventlist_duplicate</a>,</div><div class="line">}</div><div class="ttc" id="res__calendar_8c_html_afcdcadc4ccb54f676c28c29fcd823d9e"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#afcdcadc4ccb54f676c28c29fcd823d9e">eventlist_destroy</a></div><div class="ttdeci">static void eventlist_destroy(void *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l01193">res_calendar.c:1193</a></div></div>
<div class="ttc" id="res__calendar_8c_html_a29299313e7442d1a811ef00cd8add9d8"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#a29299313e7442d1a811ef00cd8add9d8">eventlist_duplicate</a></div><div class="ttdeci">static void * eventlist_duplicate(void *data)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l01200">res_calendar.c:1200</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00241">241</a> of file <a class="el" href="../../d7/dc3/res__calendar_8c_source.html">res_calendar.c</a>.</p>

</div>
</div>
<a id="ad51d62cb6b4849cd2f19e5f58cdb69e2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad51d62cb6b4849cd2f19e5f58cdb69e2">&#9670;&nbsp;</a></span>module_unloading</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int module_unloading</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00228">228</a> of file <a class="el" href="../../d7/dc3/res__calendar_8c_source.html">res_calendar.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l01821">do_refresh()</a>, and <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l01852">unload_module()</a>.</p>

</div>
</div>
<a id="a5b39e7d66ab86608026ed4c88e864da3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b39e7d66ab86608026ed4c88e864da3">&#9670;&nbsp;</a></span>null_tech</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const struct <a class="el" href="../../d4/d85/structast__channel__tech.html">ast_channel_tech</a> null_tech</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div><div class="line">        .type = <span class="stringliteral">&quot;NULL&quot;</span>,</div><div class="line">        .description = <span class="stringliteral">&quot;Null channel (should not see this)&quot;</span>,</div><div class="line">      .write = <a class="code" href="../../d7/dc3/res__calendar_8c.html#a6b099114d99652352b79959f57ef3436">null_chan_write</a>,</div><div class="line">}</div><div class="ttc" id="res__calendar_8c_html_a6b099114d99652352b79959f57ef3436"><div class="ttname"><a href="../../d7/dc3/res__calendar_8c.html#a6b099114d99652352b79959f57ef3436">null_chan_write</a></div><div class="ttdeci">static int null_chan_write(struct ast_channel *chan, struct ast_frame *frame)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc3/res__calendar_8c_source.html#l00730">res_calendar.c:730</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00735">735</a> of file <a class="el" href="../../d7/dc3/res__calendar_8c_source.html">res_calendar.c</a>.</p>

</div>
</div>
<a id="aa8c02290302fb0e31208cafc03d13da0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa8c02290302fb0e31208cafc03d13da0">&#9670;&nbsp;</a></span>refresh_condition</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dd/d42/lock_8h.html#ab134d98cdfe7de0f7a72b377c0765dc7">ast_cond_t</a> refresh_condition</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00226">226</a> of file <a class="el" href="../../d7/dc3/res__calendar_8c_source.html">res_calendar.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l01821">do_refresh()</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l01900">load_module()</a>, <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00954">schedule_calendar_event()</a>, and <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l01852">unload_module()</a>.</p>

</div>
</div>
<a id="a8c64083a818c7f079198f34c0ef05aef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8c64083a818c7f079198f34c0ef05aef">&#9670;&nbsp;</a></span>refresh_thread</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">pthread_t refresh_thread = <a class="el" href="../../d4/dc5/extconf_8c.html#a6009440c7a72f8e2e3b1ec97641ad160">AST_PTHREADT_NULL</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00224">224</a> of file <a class="el" href="../../d7/dc3/res__calendar_8c_source.html">res_calendar.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l01900">load_module()</a>, and <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l01852">unload_module()</a>.</p>

</div>
</div>
<a id="a29b91e0b8852b6696c254e5d9e490553"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a29b91e0b8852b6696c254e5d9e490553">&#9670;&nbsp;</a></span>refreshlock</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dd/d42/lock_8h.html#a44a55ccb432d858a224b401116277e93">ast_mutex_t</a> refreshlock</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00225">225</a> of file <a class="el" href="../../d7/dc3/res__calendar_8c_source.html">res_calendar.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/d18/res__calendar__caldav_8c_source.html#l00607">caldav_load_calendar()</a>, <a class="el" href="../../d2/d4f/res__calendar__ews_8c_source.html#l00770">ewscal_load_calendar()</a>, <a class="el" href="../../d2/d23/res__calendar__exchange_8c_source.html#l00600">exchangecal_load_calendar()</a>, and <a class="el" href="../../df/d58/res__calendar__icalendar_8c_source.html#l00385">ical_load_calendar()</a>.</p>

</div>
</div>
<a id="a39a4ab22c3e08054d2efe759d8610f12"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a39a4ab22c3e08054d2efe759d8610f12">&#9670;&nbsp;</a></span>reloadlock</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dd/d42/lock_8h.html#a44a55ccb432d858a224b401116277e93">ast_mutex_t</a> reloadlock</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00227">227</a> of file <a class="el" href="../../d7/dc3/res__calendar_8c_source.html">res_calendar.c</a>.</p>

</div>
</div>
<a id="a361b448e9abcfc301602a2573a662d3c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a361b448e9abcfc301602a2573a662d3c">&#9670;&nbsp;</a></span>sched</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d7/de8/structast__sched__context.html">ast_sched_context</a>* <a class="el" href="../../d0/da0/structsched.html">sched</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d7/dc3/res__calendar_8c_source.html#l00223">223</a> of file <a class="el" href="../../d7/dc3/res__calendar_8c_source.html">res_calendar.c</a>.</p>

</div>
</div>
<a id="a558f4bfac1283f6d02ba5cc6c9b4fe45"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a558f4bfac1283f6d02ba5cc6c9b4fe45">&#9670;&nbsp;</a></span>techs</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d2/db3/structtechs.html">techs</a>   <a class="el" href="../../d2/db3/structtechs.html">techs</a> = { .<a class="el" href="../../d7/d8e/test__cdr_8c.html#ad010071647150404acc6651544245543">first</a> = <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, .<a class="el" href="../../d7/d8e/test__cdr_8c.html#abaf7793fbb72797de5118c5f1f7b21ae">last</a> = <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, .<a class="el" href="../../d7/d8e/test__cdr_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a> = { PTHREAD_RECURSIVE_MUTEX_INITIALIZER_NP , <a class="el" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, {1, 0} } , }</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Aug 8 2021 19:46:21 for Asterisk - The Open Source Telephony Project by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
