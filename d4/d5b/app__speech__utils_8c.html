<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Asterisk - The Open Source Telephony Project: app_speech_utils.c File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Asterisk - The Open Source Telephony Project
   &#160;<span id="projectnumber">18.5.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_9654b8d08f4bba4e84b362c5fd320bee.html">apps</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">app_speech_utils.c File Reference<div class="ingroups"><a class="el" href="../../d9/dc9/group__applications.html">Dial plan applications</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Speech Recognition Utility Applications.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="../../db/db2/asterisk_8h_source.html">asterisk.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d2/d4d/file_8h_source.html">asterisk/file.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d5/d7b/channel_8h_source.html">asterisk/channel.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../db/de0/pbx_8h_source.html">asterisk/pbx.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d5/d16/module_8h_source.html">asterisk/module.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../dd/d42/lock_8h_source.html">asterisk/lock.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d3/d93/include_2asterisk_2app_8h_source.html">asterisk/app.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d6/dd7/speech_8h_source.html">asterisk/speech.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for app_speech_utils.c:</div>
<div class="dyncontent">
<div class="center"><img src="../../db/d81/app__speech__utils_8c__incl.png" border="0" usemap="#app__speech__utils_8c" alt=""/></div>
<map name="app__speech__utils_8c" id="app__speech__utils_8c">
<area shape="rect" id="node2" href="../../db/db2/asterisk_8h.html" title="Asterisk main include file. File version handling, generic pbx functions. " alt="" coords="1358,453,1442,480"/>
<area shape="rect" id="node15" href="../../d2/d4d/file_8h.html" title="Generic File Format Support. Should be included by clients of the file handling routines. File service providers should instead include mod_format.h. " alt="" coords="2841,304,2948,331"/>
<area shape="rect" id="node18" href="../../d5/d7b/channel_8h.html" title="General Asterisk PBX channel definitions. " alt="" coords="1165,155,1304,181"/>
<area shape="rect" id="node21" href="../../dd/d42/lock_8h.html" title="Asterisk locking&#45;related definitions: " alt="" coords="1483,677,1597,704"/>
<area shape="rect" id="node43" href="../../db/de0/pbx_8h.html" title="Core PBX routines and definitions. " alt="" coords="1886,80,1997,107"/>
<area shape="rect" id="node48" href="../../d5/d16/module_8h.html" title="Asterisk module definitions. " alt="" coords="2151,80,2287,107"/>
<area shape="rect" id="node49" href="../../d3/d93/include_2asterisk_2app_8h.html" title="Application convenience functions, designed to give consistent look and feel to Asterisk apps..." alt="" coords="2448,229,2560,256"/>
<area shape="rect" id="node50" href="../../d6/dd7/speech_8h.html" title="Generic Speech Recognition API. " alt="" coords="2893,80,3027,107"/>
<area shape="rect" id="node3" href="../../d8/d20/autoconfig_8h.html" title="asterisk/autoconfig.h" alt="" coords="1423,528,1577,555"/>
<area shape="rect" id="node5" href="../../de/da3/include_2asterisk_2compat_8h.html" title="General Definitions for Asterisk top level program Included by asterisk.h to handle platform&#45;specific..." alt="" coords="1953,603,2090,629"/>
<area shape="rect" id="node14" href="../../d8/d8a/astmm_8h.html" title="Asterisk memory management routines. " alt="" coords="1263,528,1398,555"/>
<area shape="rect" id="node4" href="../../dc/dba/buildopts_8h.html" title="asterisk/buildopts.h" alt="" coords="1427,603,1573,629"/>
<area shape="rect" id="node6" href="../../d4/dd1/compiler_8h.html" title="Compiler&#45;specific macros and other items. " alt="" coords="1841,752,1983,779"/>
<area shape="rect" id="node19" href="../../dc/d4d/alertpipe_8h.html" title="asterisk/alertpipe.h" alt="" coords="1967,304,2111,331"/>
<area shape="rect" id="node20" href="../../d5/d60/utils_8h.html" title="Utility functions. " alt="" coords="2147,379,2261,405"/>
<area shape="rect" id="node23" href="../../d1/d0f/stringfields_8h.html" title="asterisk/stringfields.h" alt="" coords="2523,453,2680,480"/>
<area shape="rect" id="node26" href="../../d5/da5/astobj2_8h.html" title="asterisk/astobj2.h" alt="" coords="1933,528,2067,555"/>
<area shape="rect" id="node27" href="../../df/d90/linkedlists_8h.html" title="A set of macros to manage forward&#45;linked lists. " alt="" coords="978,603,1129,629"/>
<area shape="rect" id="node28" href="../../dc/d14/abstract__jb_8h.html" title="Common implementation&#45;independent jitterbuffer stuff. " alt="" coords="1141,304,1299,331"/>
<area shape="rect" id="node30" href="../../d4/dfb/poll-compat_8h.html" title="asterisk/poll&#45;compat.h" alt="" coords="497,229,661,256"/>
<area shape="rect" id="node31" href="../../d6/d66/include_2asterisk_2frame_8h.html" title="Asterisk internal frame definitions. " alt="" coords="990,304,1117,331"/>
<area shape="rect" id="node32" href="../../d9/de7/chanvars_8h.html" title="Channel Variables. " alt="" coords="43,229,189,256"/>
<area shape="rect" id="node33" href="../../d3/de6/include_2asterisk_2config_8h.html" title="Configuration File Parser. " alt="" coords="2335,304,2462,331"/>
<area shape="rect" id="node34" href="../../dc/d07/cdr_8h.html" title="Call Detail Record API. " alt="" coords="685,229,792,256"/>
<area shape="rect" id="node35" href="../../d9/db6/datastore_8h.html" title="Asterisk datastore objects. " alt="" coords="154,453,305,480"/>
<area shape="rect" id="node36" href="../../d0/d3c/format__cap_8h.html" title="Format Capabilities API. " alt="" coords="817,229,978,256"/>
<area shape="rect" id="node37" href="../../d9/d95/channelstate_8h.html" title="Channel states. " alt="" coords="1407,379,1577,405"/>
<area shape="rect" id="node38" href="../../de/dc8/ccss_8h.html" title="Call Completion Supplementary Services API. " alt="" coords="1382,229,1498,256"/>
<area shape="rect" id="node40" href="../../db/d3c/framehook_8h.html" title="FrameHook Architecture. " alt="" coords="315,229,472,256"/>
<area shape="rect" id="node41" href="../../dd/d79/stasis_8h.html" title="Stasis Message Bus API. See Stasis Message Bus API for detailed documentation. " alt="" coords="2135,304,2260,331"/>
<area shape="rect" id="node42" href="../../d4/d61/endpoints_8h.html" title="Endpoint abstractions. " alt="" coords="1155,229,1306,256"/>
<area shape="rect" id="node24" href="../../d6/d90/strings_8h.html" title="String manipulation functions. " alt="" coords="2241,453,2372,480"/>
<area shape="rect" id="node22" href="../../d5/d9d/inline__api_8h.html" title="Inlinable API function macro. " alt="" coords="2325,752,2472,779"/>
<area shape="rect" id="node25" href="../../dc/d7d/threadstorage_8h.html" title="Definitions to aid in the use of thread local storage. " alt="" coords="2233,528,2412,555"/>
<area shape="rect" id="node29" href="../../d0/d0a/format_8h.html" title="Media Format API. " alt="" coords="1151,379,1281,405"/>
<area shape="rect" id="node39" href="../../da/da2/devicestate_8h.html" title="Device state management. " alt="" coords="1577,304,1740,331"/>
<area shape="rect" id="node44" href="../../d7/d00/sched_8h.html" title="Scheduler Routines (derived from cheops) " alt="" coords="1929,155,2055,181"/>
<area shape="rect" id="node45" href="../../d6/dd7/presencestate_8h.html" title="Presence state management. " alt="" coords="2079,155,2259,181"/>
<area shape="rect" id="node46" href="../../d6/da0/hashtab_8h.html" title="Generic (perhaps overly so) hashtable implementation Hash Table support in Asterisk. " alt="" coords="1703,453,1843,480"/>
<area shape="rect" id="node47" href="../../d1/d99/xmldoc_8h.html" title="Asterisk XML Documentation API. " alt="" coords="2479,379,2614,405"/>
</map>
</div>
</div>
<p><a href="../../d4/d5b/app__speech__utils_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:abe974f22edeef8189603ba75fd90ff3c"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <a class="el" href="../../d4/d5b/app__speech__utils_8c.html#abe974f22edeef8189603ba75fd90ff3ca88817d51e54121d32cfc297418f14ebd">SB_OPT_NOANSWER</a> = (1 &lt;&lt; 0)
 }</td></tr>
<tr class="separator:abe974f22edeef8189603ba75fd90ff3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a88b7c88fed6b80fd18f34f97757dfc04"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d5b/app__speech__utils_8c.html#a88b7c88fed6b80fd18f34f97757dfc04">__reg_module</a> (void)</td></tr>
<tr class="separator:a88b7c88fed6b80fd18f34f97757dfc04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afeab1257bd17282b95875499393a147a"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d5b/app__speech__utils_8c.html#afeab1257bd17282b95875499393a147a">__unreg_module</a> (void)</td></tr>
<tr class="separator:afeab1257bd17282b95875499393a147a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fb0aca9bbcdb9709fa52a70aded6cae"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d5b/app__speech__utils_8c.html#a4fb0aca9bbcdb9709fa52a70aded6cae">AST_MODULE_SELF_SYM</a> (void)</td></tr>
<tr class="separator:a4fb0aca9bbcdb9709fa52a70aded6cae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abdefdbe1ecf335759235651298ad70b2"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d5b/app__speech__utils_8c.html#abdefdbe1ecf335759235651298ad70b2">destroy_callback</a> (void *data)</td></tr>
<tr class="memdesc:abdefdbe1ecf335759235651298ad70b2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper function used by datastores to destroy the speech structure upon hangup.  <a href="#abdefdbe1ecf335759235651298ad70b2">More...</a><br /></td></tr>
<tr class="separator:abdefdbe1ecf335759235651298ad70b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9a2444152ea96b7273ad85c6bd7efa9"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../d7/d5d/structast__speech__result.html">ast_speech_result</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d5b/app__speech__utils_8c.html#ae9a2444152ea96b7273ad85c6bd7efa9">find_result</a> (struct <a class="el" href="../../d7/d5d/structast__speech__result.html">ast_speech_result</a> *results, char *result_num)</td></tr>
<tr class="separator:ae9a2444152ea96b7273ad85c6bd7efa9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add75c49609e0f0e226c80a5e48380623"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../d9/d95/structast__speech.html">ast_speech</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d5b/app__speech__utils_8c.html#add75c49609e0f0e226c80a5e48380623">find_speech</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan)</td></tr>
<tr class="memdesc:add75c49609e0f0e226c80a5e48380623"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper function used to find the speech structure attached to a channel.  <a href="#add75c49609e0f0e226c80a5e48380623">More...</a><br /></td></tr>
<tr class="separator:add75c49609e0f0e226c80a5e48380623"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3382bf6da54c56b37069bd76bbdf4f9"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d5b/app__speech__utils_8c.html#ac3382bf6da54c56b37069bd76bbdf4f9">load_module</a> (void)</td></tr>
<tr class="separator:ac3382bf6da54c56b37069bd76bbdf4f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e93b8921d2dee46ad66e49aeca16825"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d5b/app__speech__utils_8c.html#a6e93b8921d2dee46ad66e49aeca16825">speech_activate</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, const char *data)</td></tr>
<tr class="memdesc:a6e93b8921d2dee46ad66e49aeca16825"><td class="mdescLeft">&#160;</td><td class="mdescRight">SpeechActivateGrammar(Grammar Name) Dialplan Application.  <a href="#a6e93b8921d2dee46ad66e49aeca16825">More...</a><br /></td></tr>
<tr class="separator:a6e93b8921d2dee46ad66e49aeca16825"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad98bc73c43af483b3883f5cd62d884f8"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d5b/app__speech__utils_8c.html#ad98bc73c43af483b3883f5cd62d884f8">speech_background</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, const char *data)</td></tr>
<tr class="memdesc:ad98bc73c43af483b3883f5cd62d884f8"><td class="mdescLeft">&#160;</td><td class="mdescRight">SpeechBackground(Sound File,Timeout) Dialplan Application.  <a href="#ad98bc73c43af483b3883f5cd62d884f8">More...</a><br /></td></tr>
<tr class="separator:ad98bc73c43af483b3883f5cd62d884f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a323e1b907e8b02073cc1c29b435ec4e3"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d5b/app__speech__utils_8c.html#a323e1b907e8b02073cc1c29b435ec4e3">speech_create</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, const char *data)</td></tr>
<tr class="memdesc:a323e1b907e8b02073cc1c29b435ec4e3"><td class="mdescLeft">&#160;</td><td class="mdescRight">SpeechCreate() Dialplan Application.  <a href="#a323e1b907e8b02073cc1c29b435ec4e3">More...</a><br /></td></tr>
<tr class="separator:a323e1b907e8b02073cc1c29b435ec4e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d7b00788351f0581f91564f1359dc29"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d5b/app__speech__utils_8c.html#a9d7b00788351f0581f91564f1359dc29">speech_datastore_destroy</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan)</td></tr>
<tr class="separator:a9d7b00788351f0581f91564f1359dc29"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adbde5e54db990ff3df7c305a526042de"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d5b/app__speech__utils_8c.html#adbde5e54db990ff3df7c305a526042de">speech_deactivate</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, const char *data)</td></tr>
<tr class="memdesc:adbde5e54db990ff3df7c305a526042de"><td class="mdescLeft">&#160;</td><td class="mdescRight">SpeechDeactivateGrammar(Grammar Name) Dialplan Application.  <a href="#adbde5e54db990ff3df7c305a526042de">More...</a><br /></td></tr>
<tr class="separator:adbde5e54db990ff3df7c305a526042de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb4b206c4f0ca33aa3e29fdf541743d0"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d5b/app__speech__utils_8c.html#abb4b206c4f0ca33aa3e29fdf541743d0">speech_destroy</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, const char *data)</td></tr>
<tr class="memdesc:abb4b206c4f0ca33aa3e29fdf541743d0"><td class="mdescLeft">&#160;</td><td class="mdescRight">SpeechDestroy() Dialplan Application.  <a href="#abb4b206c4f0ca33aa3e29fdf541743d0">More...</a><br /></td></tr>
<tr class="separator:abb4b206c4f0ca33aa3e29fdf541743d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6caed7e5ad77cb3398e5c74cbd26e41"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d5b/app__speech__utils_8c.html#aa6caed7e5ad77cb3398e5c74cbd26e41">speech_engine_read</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, const char *cmd, char *data, char *<a class="el" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, size_t <a class="el" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>)</td></tr>
<tr class="memdesc:aa6caed7e5ad77cb3398e5c74cbd26e41"><td class="mdescLeft">&#160;</td><td class="mdescRight">SPEECH_ENGINE() Dialplan Get Function.  <a href="#aa6caed7e5ad77cb3398e5c74cbd26e41">More...</a><br /></td></tr>
<tr class="separator:aa6caed7e5ad77cb3398e5c74cbd26e41"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5fcd876dabc6d149d0706909c18e883"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d5b/app__speech__utils_8c.html#aa5fcd876dabc6d149d0706909c18e883">speech_engine_write</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, const char *cmd, char *data, const char *<a class="el" href="../../d5/dde/test__func__file_8c.html#a8556878012feffc9e0beb86cd78f424d">value</a>)</td></tr>
<tr class="memdesc:aa5fcd876dabc6d149d0706909c18e883"><td class="mdescLeft">&#160;</td><td class="mdescRight">SPEECH_ENGINE() Dialplan Set Function.  <a href="#aa5fcd876dabc6d149d0706909c18e883">More...</a><br /></td></tr>
<tr class="separator:aa5fcd876dabc6d149d0706909c18e883"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a002729173b4bffd98adb8e1f53513cf9"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d5b/app__speech__utils_8c.html#a002729173b4bffd98adb8e1f53513cf9">speech_grammar</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, const char *cmd, char *data, char *<a class="el" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, size_t <a class="el" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>)</td></tr>
<tr class="memdesc:a002729173b4bffd98adb8e1f53513cf9"><td class="mdescLeft">&#160;</td><td class="mdescRight">SPEECH_GRAMMAR() Dialplan Function.  <a href="#a002729173b4bffd98adb8e1f53513cf9">More...</a><br /></td></tr>
<tr class="separator:a002729173b4bffd98adb8e1f53513cf9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaec2a80b8a240051e37ae9050e947284"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d5b/app__speech__utils_8c.html#aaec2a80b8a240051e37ae9050e947284">speech_load</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, const char *vdata)</td></tr>
<tr class="memdesc:aaec2a80b8a240051e37ae9050e947284"><td class="mdescLeft">&#160;</td><td class="mdescRight">SpeechLoadGrammar(Grammar Name,Path) Dialplan Application.  <a href="#aaec2a80b8a240051e37ae9050e947284">More...</a><br /></td></tr>
<tr class="separator:aaec2a80b8a240051e37ae9050e947284"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad55a52002341b0cca84e3cc98897f43a"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d5b/app__speech__utils_8c.html#ad55a52002341b0cca84e3cc98897f43a">speech_processing_sound</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, const char *data)</td></tr>
<tr class="memdesc:ad55a52002341b0cca84e3cc98897f43a"><td class="mdescLeft">&#160;</td><td class="mdescRight">SpeechProcessingSound(Sound File) Dialplan Application.  <a href="#ad55a52002341b0cca84e3cc98897f43a">More...</a><br /></td></tr>
<tr class="separator:ad55a52002341b0cca84e3cc98897f43a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a522401caa159e605b37aa1c696690049"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d5b/app__speech__utils_8c.html#a522401caa159e605b37aa1c696690049">speech_read</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, const char *cmd, char *data, char *<a class="el" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, size_t <a class="el" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>)</td></tr>
<tr class="memdesc:a522401caa159e605b37aa1c696690049"><td class="mdescLeft">&#160;</td><td class="mdescRight">SPEECH() Dialplan Function.  <a href="#a522401caa159e605b37aa1c696690049">More...</a><br /></td></tr>
<tr class="separator:a522401caa159e605b37aa1c696690049"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47f4052ab990b206e796ad082b547167"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d5b/app__speech__utils_8c.html#a47f4052ab990b206e796ad082b547167">speech_results_type_write</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, const char *cmd, char *data, const char *<a class="el" href="../../d5/dde/test__func__file_8c.html#a8556878012feffc9e0beb86cd78f424d">value</a>)</td></tr>
<tr class="memdesc:a47f4052ab990b206e796ad082b547167"><td class="mdescLeft">&#160;</td><td class="mdescRight">SPEECH_RESULTS_TYPE() Dialplan Function.  <a href="#a47f4052ab990b206e796ad082b547167">More...</a><br /></td></tr>
<tr class="separator:a47f4052ab990b206e796ad082b547167"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5faa1e95f0f1ea50e5fbbe1e61868b19"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d5b/app__speech__utils_8c.html#a5faa1e95f0f1ea50e5fbbe1e61868b19">speech_score</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, const char *cmd, char *data, char *<a class="el" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, size_t <a class="el" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>)</td></tr>
<tr class="memdesc:a5faa1e95f0f1ea50e5fbbe1e61868b19"><td class="mdescLeft">&#160;</td><td class="mdescRight">SPEECH_SCORE() Dialplan Function.  <a href="#a5faa1e95f0f1ea50e5fbbe1e61868b19">More...</a><br /></td></tr>
<tr class="separator:a5faa1e95f0f1ea50e5fbbe1e61868b19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d61a2a0302d22271becabbc1694132b"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d5b/app__speech__utils_8c.html#a7d61a2a0302d22271becabbc1694132b">speech_start</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, const char *data)</td></tr>
<tr class="memdesc:a7d61a2a0302d22271becabbc1694132b"><td class="mdescLeft">&#160;</td><td class="mdescRight">SpeechStart() Dialplan Application.  <a href="#a7d61a2a0302d22271becabbc1694132b">More...</a><br /></td></tr>
<tr class="separator:a7d61a2a0302d22271becabbc1694132b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24e6fc762a78b042d53ccf0fe2c9981d"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d5b/app__speech__utils_8c.html#a24e6fc762a78b042d53ccf0fe2c9981d">speech_streamfile</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, const char *filename, const char *preflang)</td></tr>
<tr class="memdesc:a24e6fc762a78b042d53ccf0fe2c9981d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper function used by speech_background to playback a soundfile.  <a href="#a24e6fc762a78b042d53ccf0fe2c9981d">More...</a><br /></td></tr>
<tr class="separator:a24e6fc762a78b042d53ccf0fe2c9981d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18e5a8465c29f0b304d8c8865b3012dd"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d5b/app__speech__utils_8c.html#a18e5a8465c29f0b304d8c8865b3012dd">speech_text</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, const char *cmd, char *data, char *<a class="el" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, size_t <a class="el" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>)</td></tr>
<tr class="memdesc:a18e5a8465c29f0b304d8c8865b3012dd"><td class="mdescLeft">&#160;</td><td class="mdescRight">SPEECH_TEXT() Dialplan Function.  <a href="#a18e5a8465c29f0b304d8c8865b3012dd">More...</a><br /></td></tr>
<tr class="separator:a18e5a8465c29f0b304d8c8865b3012dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a062df38f790a55a534a09958df60d7ae"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d5b/app__speech__utils_8c.html#a062df38f790a55a534a09958df60d7ae">speech_unload</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, const char *data)</td></tr>
<tr class="memdesc:a062df38f790a55a534a09958df60d7ae"><td class="mdescLeft">&#160;</td><td class="mdescRight">SpeechUnloadGrammar(Grammar Name) Dialplan Application.  <a href="#a062df38f790a55a534a09958df60d7ae">More...</a><br /></td></tr>
<tr class="separator:a062df38f790a55a534a09958df60d7ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad09fa931f468002152a3cc2d5ce25eae"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d5b/app__speech__utils_8c.html#ad09fa931f468002152a3cc2d5ce25eae">unload_module</a> (void)</td></tr>
<tr class="separator:ad09fa931f468002152a3cc2d5ce25eae"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ab22f32016155f7f403e7178767163d7d"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d5b/app__speech__utils_8c.html#ab22f32016155f7f403e7178767163d7d">__mod_info</a> = { .<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a> = <a class="el" href="../../da/ddd/named__acl_8c.html#aec23fc5034c3bb08140fc021f4955877">AST_MODULE</a>, .flags = <a class="el" href="../../d5/d16/module_8h.html#a155a0df9c59e04e305d4a2fa3e35f843a54af2a9b29d140908cc9dffd0618951b">AST_MODFLAG_DEFAULT</a> , .description = &quot;Dialplan Speech Applications&quot; , .key = &quot;This paragraph is copyright (<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>) 2006 by Digium, Inc. \In <a class="el" href="../../d5/d14/voicin_8c.html#aed7ca058008dc3e5ee131e575abed285">order</a> for your module to load, it must return this \key via <a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a> function called \&quot;key\&quot;. Any code which \includes this paragraph must <a class="el" href="../../dd/d7c/eagi__proxy_8c.html#a39730e90126aad69cfc9ca4d6fcdb3a6">be</a> licensed under the GNU \General Public License <a class="el" href="../../da/d7c/utils_2frame_8h.html#a56abfaab87c46691c1ef3ad0df23e864">version</a> 2 or later (at your \option). In addition to Digium's general reservations \of rights, Digium expressly reserves the right to \allow other parties to license this paragraph under \different terms. Any use of Digium, Inc. trademarks or \logos (including \&quot;Asterisk\&quot; or \&quot;Digium\&quot;) without \express written <a class="el" href="../../d4/d4c/structpermission.html">permission</a> of Digium, Inc. is prohibited.\n&quot; , .buildopt_sum = &quot;30ef0c93b36035ec78c9cfd712d36d9b&quot; , .support_level = AST_MODULE_SUPPORT_CORE, .load = load_module, .unload = unload_module, .requires = &quot;res_speech&quot;, }</td></tr>
<tr class="separator:ab22f32016155f7f403e7178767163d7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad60e83b9aa660040fed4d5377966cc21"><td class="memItemLeft" align="right" valign="top">static const struct <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d5b/app__speech__utils_8c.html#ad60e83b9aa660040fed4d5377966cc21">ast_module_info</a> = &amp;<a class="el" href="../../d6/d7a/test__xml__escape_8c.html#ab22f32016155f7f403e7178767163d7d">__mod_info</a></td></tr>
<tr class="separator:ad60e83b9aa660040fed4d5377966cc21"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a320778bebe128fd8006bdf7730dcebef"><td class="memItemLeft" align="right" valign="top">static const struct <a class="el" href="../../d2/d8d/structast__app__option.html">ast_app_option</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d5b/app__speech__utils_8c.html#a320778bebe128fd8006bdf7730dcebef">speech_background_options</a> [128] = { [ 'n' ] = { .<a class="el" href="../../dc/dc2/f2c_8h.html#abf5d144da384425ae6cb542ce6eec8d3">flag</a> = <a class="el" href="../../d4/d5b/app__speech__utils_8c.html#abe974f22edeef8189603ba75fd90ff3ca88817d51e54121d32cfc297418f14ebd">SB_OPT_NOANSWER</a> }, }</td></tr>
<tr class="separator:a320778bebe128fd8006bdf7730dcebef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2050ca627af3f4230f3497cd2f684c32"><td class="memItemLeft" align="right" valign="top">static const struct <a class="el" href="../../d9/dfb/structast__datastore__info.html">ast_datastore_info</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d5b/app__speech__utils_8c.html#a2050ca627af3f4230f3497cd2f684c32">speech_datastore</a></td></tr>
<tr class="memdesc:a2050ca627af3f4230f3497cd2f684c32"><td class="mdescLeft">&#160;</td><td class="mdescRight">Static structure for datastore information.  <a href="#a2050ca627af3f4230f3497cd2f684c32">More...</a><br /></td></tr>
<tr class="separator:a2050ca627af3f4230f3497cd2f684c32"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b910a901d902450e0b73f64069ce90c"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../db/dc0/structast__custom__function.html">ast_custom_function</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d5b/app__speech__utils_8c.html#a1b910a901d902450e0b73f64069ce90c">speech_engine_function</a></td></tr>
<tr class="separator:a1b910a901d902450e0b73f64069ce90c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abace6cf3d611b558a2af3dfedb6ede5e"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../db/dc0/structast__custom__function.html">ast_custom_function</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d5b/app__speech__utils_8c.html#abace6cf3d611b558a2af3dfedb6ede5e">speech_function</a></td></tr>
<tr class="separator:abace6cf3d611b558a2af3dfedb6ede5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af89c0992d5b33a98c57edc1faf346458"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../db/dc0/structast__custom__function.html">ast_custom_function</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d5b/app__speech__utils_8c.html#af89c0992d5b33a98c57edc1faf346458">speech_grammar_function</a></td></tr>
<tr class="separator:af89c0992d5b33a98c57edc1faf346458"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a1bae7c061015b7d09b94964fb42f05"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../db/dc0/structast__custom__function.html">ast_custom_function</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d5b/app__speech__utils_8c.html#a6a1bae7c061015b7d09b94964fb42f05">speech_results_type_function</a></td></tr>
<tr class="separator:a6a1bae7c061015b7d09b94964fb42f05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2046e8372fa33fa58ac943b5f4704665"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../db/dc0/structast__custom__function.html">ast_custom_function</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d5b/app__speech__utils_8c.html#a2046e8372fa33fa58ac943b5f4704665">speech_score_function</a></td></tr>
<tr class="separator:a2046e8372fa33fa58ac943b5f4704665"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0a6f9bf4c23816367b1057372775c23"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../db/dc0/structast__custom__function.html">ast_custom_function</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d5b/app__speech__utils_8c.html#ae0a6f9bf4c23816367b1057372775c23">speech_text_function</a></td></tr>
<tr class="separator:ae0a6f9bf4c23816367b1057372775c23"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Speech Recognition Utility Applications. </p>
<dl class="section author"><dt>Author</dt><dd>Joshua Colp <a href="#" onclick="location.href='mai'+'lto:'+'jco'+'lp'+'@di'+'gi'+'um.'+'co'+'m'; return false;">jcolp<span style="display: none;">.nosp@m.</span>@dig<span style="display: none;">.nosp@m.</span>ium.c<span style="display: none;">.nosp@m.</span>om</a> </dd></dl>

<p class="definition">Definition in file <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html">app_speech_utils.c</a>.</p>
</div><h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="abe974f22edeef8189603ba75fd90ff3c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abe974f22edeef8189603ba75fd90ff3c">&#9670;&nbsp;</a></span>anonymous enum</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="abe974f22edeef8189603ba75fd90ff3ca88817d51e54121d32cfc297418f14ebd"></a>SB_OPT_NOANSWER&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html#l00691">691</a> of file <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html">app_speech_utils.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;     {</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;   <a class="code" href="../../d4/d5b/app__speech__utils_8c.html#abe974f22edeef8189603ba75fd90ff3ca88817d51e54121d32cfc297418f14ebd">SB_OPT_NOANSWER</a> = (1 &lt;&lt; 0),</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;};</div><div class="ttc" id="app__speech__utils_8c_html_abe974f22edeef8189603ba75fd90ff3ca88817d51e54121d32cfc297418f14ebd"><div class="ttname"><a href="../../d4/d5b/app__speech__utils_8c.html#abe974f22edeef8189603ba75fd90ff3ca88817d51e54121d32cfc297418f14ebd">SB_OPT_NOANSWER</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d5b/app__speech__utils_8c_source.html#l00692">app_speech_utils.c:692</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a88b7c88fed6b80fd18f34f97757dfc04"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a88b7c88fed6b80fd18f34f97757dfc04">&#9670;&nbsp;</a></span>__reg_module()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void __reg_module </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html#l01007">1007</a> of file <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html">app_speech_utils.c</a>.</p>

</div>
</div>
<a id="afeab1257bd17282b95875499393a147a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afeab1257bd17282b95875499393a147a">&#9670;&nbsp;</a></span>__unreg_module()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void __unreg_module </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html#l01007">1007</a> of file <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html">app_speech_utils.c</a>.</p>

</div>
</div>
<a id="a4fb0aca9bbcdb9709fa52a70aded6cae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4fb0aca9bbcdb9709fa52a70aded6cae">&#9670;&nbsp;</a></span>AST_MODULE_SELF_SYM()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a>* AST_MODULE_SELF_SYM </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html#l01007">1007</a> of file <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html">app_speech_utils.c</a>.</p>

</div>
</div>
<a id="abdefdbe1ecf335759235651298ad70b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abdefdbe1ecf335759235651298ad70b2">&#9670;&nbsp;</a></span>destroy_callback()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void destroy_callback </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Helper function used by datastores to destroy the speech structure upon hangup. </p>

<p class="definition">Definition at line <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html#l00261">261</a> of file <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html">app_speech_utils.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/d2a/res__speech_8c_source.html#l00240">ast_speech_destroy()</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>
<div class="fragment"><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;{</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/d95/structast__speech.html">ast_speech</a> *speech = (<span class="keyword">struct </span><a class="code" href="../../d9/d95/structast__speech.html">ast_speech</a>*)<a class="code" href="../../d9/d95/structast__speech.html#a735984d41155bc1032e09bece8f8d66d">data</a>;</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;   <span class="keywordflow">if</span> (speech == <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;   }</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;   <span class="comment">/* Deallocate now */</span></div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;   <a class="code" href="../../d6/dd7/speech_8h.html#a7ebc9d3250a75a2cb7ee2f7c15eb8228">ast_speech_destroy</a>(speech);</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;   <span class="keywordflow">return</span>;</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;}</div><div class="ttc" id="speech_8h_html_a7ebc9d3250a75a2cb7ee2f7c15eb8228"><div class="ttname"><a href="../../d6/dd7/speech_8h.html#a7ebc9d3250a75a2cb7ee2f7c15eb8228">ast_speech_destroy</a></div><div class="ttdeci">int ast_speech_destroy(struct ast_speech *speech)</div><div class="ttdoc">Destroy a speech structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d2a/res__speech_8c_source.html#l00240">res_speech.c:240</a></div></div>
<div class="ttc" id="structast__speech_html"><div class="ttname"><a href="../../d9/d95/structast__speech.html">ast_speech</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dd7/speech_8h_source.html#l00051">speech.h:51</a></div></div>
<div class="ttc" id="structast__speech_html_a735984d41155bc1032e09bece8f8d66d"><div class="ttname"><a href="../../d9/d95/structast__speech.html#a735984d41155bc1032e09bece8f8d66d">ast_speech::data</a></div><div class="ttdeci">void * data</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dd7/speech_8h_source.html#l00063">speech.h:63</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae9a2444152ea96b7273ad85c6bd7efa9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae9a2444152ea96b7273ad85c6bd7efa9">&#9670;&nbsp;</a></span>find_result()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="../../d7/d5d/structast__speech__result.html">ast_speech_result</a>* find_result </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d7/d5d/structast__speech__result.html">ast_speech_result</a> *&#160;</td>
          <td class="paramname"><em>results</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>result_num</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html#l00332">332</a> of file <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html">app_speech_utils.c</a>.</p>

<p class="reference">References <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00438">AST_LIST_NEXT</a>, <a class="el" href="../../d6/dd7/speech_8h_source.html#l00114">ast_speech_result::nbest_num</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../de/d1b/cel__pgsql_8c_source.html#l00088">result</a>, and <a class="el" href="../../de/d1e/bt__open_8c_source.html#l00389">tmp()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html#l00413">speech_grammar()</a>, <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html#l00362">speech_score()</a>, and <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html#l00387">speech_text()</a>.</p>
<div class="fragment"><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;{</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d7/d5d/structast__speech__result.html">ast_speech_result</a> *<a class="code" href="../../de/d1b/cel__pgsql_8c.html#ad6c487210772a9b4b0ca04b04b847d4c">result</a> = results;</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;   <span class="keywordtype">char</span> *<a class="code" href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;   <span class="keywordtype">int</span> <a class="code" href="../../d7/d5d/structast__speech__result.html#a34ba7dd4df028dc77397fb2e1e5ad827">nbest_num</a> = 0, wanted_num = 0, i = 0;</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;   <span class="keywordflow">if</span> (!result) {</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;   }</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;   <span class="keywordflow">if</span> ((tmp = strchr(result_num, <span class="charliteral">&#39;/&#39;</span>))) {</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;      *tmp++ = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;      nbest_num = atoi(result_num);</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;      wanted_num = atoi(tmp);</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;      wanted_num = atoi(result_num);</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;   }</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;   <span class="keywordflow">do</span> {</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;      <span class="keywordflow">if</span> (result-&gt;<a class="code" href="../../d7/d5d/structast__speech__result.html#a34ba7dd4df028dc77397fb2e1e5ad827">nbest_num</a> != nbest_num)</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;         <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;      <span class="keywordflow">if</span> (i == wanted_num)</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;      i++;</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;   } <span class="keywordflow">while</span> ((result = <a class="code" href="../../df/d90/linkedlists_8h.html#ae234825bcb65b88c0554b995ff1b8ba6">AST_LIST_NEXT</a>(result, list)));</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../de/d1b/cel__pgsql_8c.html#ad6c487210772a9b4b0ca04b04b847d4c">result</a>;</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;}</div><div class="ttc" id="bt__open_8c_html_a1cdd2bb1a9a71d3e1120100229315d67"><div class="ttname"><a href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a></div><div class="ttdeci">static int tmp()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1e/bt__open_8c_source.html#l00389">bt_open.c:389</a></div></div>
<div class="ttc" id="linkedlists_8h_html_ae234825bcb65b88c0554b995ff1b8ba6"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#ae234825bcb65b88c0554b995ff1b8ba6">AST_LIST_NEXT</a></div><div class="ttdeci">#define AST_LIST_NEXT(elm, field)</div><div class="ttdoc">Returns the next entry in the list after the given entry. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00438">linkedlists.h:438</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structast__speech__result_html"><div class="ttname"><a href="../../d7/d5d/structast__speech__result.html">ast_speech_result</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dd7/speech_8h_source.html#l00108">speech.h:108</a></div></div>
<div class="ttc" id="cel__pgsql_8c_html_ad6c487210772a9b4b0ca04b04b847d4c"><div class="ttname"><a href="../../de/d1b/cel__pgsql_8c.html#ad6c487210772a9b4b0ca04b04b847d4c">result</a></div><div class="ttdeci">static PGresult * result</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1b/cel__pgsql_8c_source.html#l00088">cel_pgsql.c:88</a></div></div>
<div class="ttc" id="structast__speech__result_html_a34ba7dd4df028dc77397fb2e1e5ad827"><div class="ttname"><a href="../../d7/d5d/structast__speech__result.html#a34ba7dd4df028dc77397fb2e1e5ad827">ast_speech_result::nbest_num</a></div><div class="ttdeci">int nbest_num</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dd7/speech_8h_source.html#l00114">speech.h:114</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="add75c49609e0f0e226c80a5e48380623"></a>
<h2 class="memtitle"><span class="permalink"><a href="#add75c49609e0f0e226c80a5e48380623">&#9670;&nbsp;</a></span>find_speech()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="../../d9/d95/structast__speech.html">ast_speech</a>* find_speech </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Helper function used to find the speech structure attached to a channel. </p>

<p class="definition">Definition at line <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html#l00282">282</a> of file <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html">app_speech_utils.c</a>.</p>

<p class="reference">References <a class="el" href="../../d4/d28/channel_8c_source.html#l02404">ast_channel_datastore_find()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02945">ast_channel_lock</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../d9/db6/datastore_8h_source.html#l00070">ast_datastore::data</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html#l00628">speech_activate()</a>, <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html#l00700">speech_background()</a>, <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html#l00613">speech_deactivate()</a>, <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html#l00453">speech_engine_read()</a>, <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html#l00439">speech_engine_write()</a>, <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html#l00413">speech_grammar()</a>, <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html#l00572">speech_load()</a>, <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html#l00657">speech_processing_sound()</a>, <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html#l00493">speech_read()</a>, <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html#l00471">speech_results_type_write()</a>, <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html#l00362">speech_score()</a>, <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html#l00643">speech_start()</a>, <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html#l00387">speech_text()</a>, and <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html#l00598">speech_unload()</a>.</p>
<div class="fragment"><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;{</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/d95/structast__speech.html">ast_speech</a> *speech = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d5d/structast__datastore.html">ast_datastore</a> *datastore = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;   <span class="keywordflow">if</span> (!chan) {</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;   }</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(chan);</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;   datastore = <a class="code" href="../../d5/d7b/channel_8h.html#aad1e09cd7c79237d05cffb45d6cdfd7c">ast_channel_datastore_find</a>(chan, &amp;<a class="code" href="../../d4/d5b/app__speech__utils_8c.html#a2050ca627af3f4230f3497cd2f684c32">speech_datastore</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;   <span class="keywordflow">if</span> (datastore == <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;   }</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;   speech = datastore-&gt;<a class="code" href="../../d4/d5d/structast__datastore.html#a735984d41155bc1032e09bece8f8d66d">data</a>;</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;   <span class="keywordflow">return</span> speech;</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;}</div><div class="ttc" id="channel_8h_html_a493bdebe876caafb8ee535853310364a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a></div><div class="ttdeci">#define ast_channel_lock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02945">channel.h:2945</a></div></div>
<div class="ttc" id="structast__speech_html"><div class="ttname"><a href="../../d9/d95/structast__speech.html">ast_speech</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dd7/speech_8h_source.html#l00051">speech.h:51</a></div></div>
<div class="ttc" id="structast__datastore_html"><div class="ttname"><a href="../../d4/d5d/structast__datastore.html">ast_datastore</a></div><div class="ttdoc">Structure for a data store object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00068">datastore.h:68</a></div></div>
<div class="ttc" id="channel_8h_html_aad1e09cd7c79237d05cffb45d6cdfd7c"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#aad1e09cd7c79237d05cffb45d6cdfd7c">ast_channel_datastore_find</a></div><div class="ttdeci">struct ast_datastore * ast_channel_datastore_find(struct ast_channel *chan, const struct ast_datastore_info *info, const char *uid)</div><div class="ttdoc">Find a datastore on a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l02404">channel.c:2404</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="app__speech__utils_8c_html_a2050ca627af3f4230f3497cd2f684c32"><div class="ttname"><a href="../../d4/d5b/app__speech__utils_8c.html#a2050ca627af3f4230f3497cd2f684c32">speech_datastore</a></div><div class="ttdeci">static const struct ast_datastore_info speech_datastore</div><div class="ttdoc">Static structure for datastore information. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d5b/app__speech__utils_8c_source.html#l00276">app_speech_utils.c:276</a></div></div>
<div class="ttc" id="structast__datastore_html_a735984d41155bc1032e09bece8f8d66d"><div class="ttname"><a href="../../d4/d5d/structast__datastore.html#a735984d41155bc1032e09bece8f8d66d">ast_datastore::data</a></div><div class="ttdeci">void * data</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00070">datastore.h:70</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac3382bf6da54c56b37069bd76bbdf4f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac3382bf6da54c56b37069bd76bbdf4f9">&#9670;&nbsp;</a></span>load_module()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int load_module </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html#l00979">979</a> of file <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html">app_speech_utils.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/de0/pbx_8h_source.html#l01508">ast_custom_function_register</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00315">AST_MODFLAG_DEFAULT</a>, <a class="el" href="../../d9/de9/res__phoneprov_8c.html#addaa208b0ed785225e24490fb9f28a80">AST_MODULE_INFO()</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00121">AST_MODULE_SUPPORT_CORE</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00626">ast_register_application_xml</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00046">ASTERISK_GPL_KEY</a>, <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html#l00628">speech_activate()</a>, <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html#l00700">speech_background()</a>, <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html#l00543">speech_create()</a>, <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html#l00613">speech_deactivate()</a>, <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html#l00948">speech_destroy()</a>, <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html#l00572">speech_load()</a>, <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html#l00657">speech_processing_sound()</a>, <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html#l00643">speech_start()</a>, <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html#l00598">speech_unload()</a>, and <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html#l00956">unload_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;{</div><div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;   <span class="keywordtype">int</span> res = 0;</div><div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;</div><div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;   res = <a class="code" href="../../d5/d16/module_8h.html#afba4eb7a910b10969041ae4cd488729d">ast_register_application_xml</a>(<span class="stringliteral">&quot;SpeechCreate&quot;</span>, <a class="code" href="../../d4/d5b/app__speech__utils_8c.html#a323e1b907e8b02073cc1c29b435ec4e3">speech_create</a>);</div><div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;   res |= <a class="code" href="../../d5/d16/module_8h.html#afba4eb7a910b10969041ae4cd488729d">ast_register_application_xml</a>(<span class="stringliteral">&quot;SpeechLoadGrammar&quot;</span>, <a class="code" href="../../d4/d5b/app__speech__utils_8c.html#aaec2a80b8a240051e37ae9050e947284">speech_load</a>);</div><div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;   res |= <a class="code" href="../../d5/d16/module_8h.html#afba4eb7a910b10969041ae4cd488729d">ast_register_application_xml</a>(<span class="stringliteral">&quot;SpeechUnloadGrammar&quot;</span>, <a class="code" href="../../d4/d5b/app__speech__utils_8c.html#a062df38f790a55a534a09958df60d7ae">speech_unload</a>);</div><div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;   res |= <a class="code" href="../../d5/d16/module_8h.html#afba4eb7a910b10969041ae4cd488729d">ast_register_application_xml</a>(<span class="stringliteral">&quot;SpeechActivateGrammar&quot;</span>, <a class="code" href="../../d4/d5b/app__speech__utils_8c.html#a6e93b8921d2dee46ad66e49aeca16825">speech_activate</a>);</div><div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;   res |= <a class="code" href="../../d5/d16/module_8h.html#afba4eb7a910b10969041ae4cd488729d">ast_register_application_xml</a>(<span class="stringliteral">&quot;SpeechDeactivateGrammar&quot;</span>, <a class="code" href="../../d4/d5b/app__speech__utils_8c.html#adbde5e54db990ff3df7c305a526042de">speech_deactivate</a>);</div><div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;   res |= <a class="code" href="../../d5/d16/module_8h.html#afba4eb7a910b10969041ae4cd488729d">ast_register_application_xml</a>(<span class="stringliteral">&quot;SpeechStart&quot;</span>, <a class="code" href="../../d4/d5b/app__speech__utils_8c.html#a7d61a2a0302d22271becabbc1694132b">speech_start</a>);</div><div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;   res |= <a class="code" href="../../d5/d16/module_8h.html#afba4eb7a910b10969041ae4cd488729d">ast_register_application_xml</a>(<span class="stringliteral">&quot;SpeechBackground&quot;</span>, <a class="code" href="../../d4/d5b/app__speech__utils_8c.html#ad98bc73c43af483b3883f5cd62d884f8">speech_background</a>);</div><div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;   res |= <a class="code" href="../../d5/d16/module_8h.html#afba4eb7a910b10969041ae4cd488729d">ast_register_application_xml</a>(<span class="stringliteral">&quot;SpeechDestroy&quot;</span>, <a class="code" href="../../d4/d5b/app__speech__utils_8c.html#abb4b206c4f0ca33aa3e29fdf541743d0">speech_destroy</a>);</div><div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;   res |= <a class="code" href="../../d5/d16/module_8h.html#afba4eb7a910b10969041ae4cd488729d">ast_register_application_xml</a>(<span class="stringliteral">&quot;SpeechProcessingSound&quot;</span>, <a class="code" href="../../d4/d5b/app__speech__utils_8c.html#ad55a52002341b0cca84e3cc98897f43a">speech_processing_sound</a>);</div><div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;   res |= <a class="code" href="../../db/de0/pbx_8h.html#a8af0e93442a9e468425f63cc52b0ac7b">ast_custom_function_register</a>(&amp;<a class="code" href="../../d4/d5b/app__speech__utils_8c.html#abace6cf3d611b558a2af3dfedb6ede5e">speech_function</a>);</div><div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;   res |= <a class="code" href="../../db/de0/pbx_8h.html#a8af0e93442a9e468425f63cc52b0ac7b">ast_custom_function_register</a>(&amp;<a class="code" href="../../d4/d5b/app__speech__utils_8c.html#a2046e8372fa33fa58ac943b5f4704665">speech_score_function</a>);</div><div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;   res |= <a class="code" href="../../db/de0/pbx_8h.html#a8af0e93442a9e468425f63cc52b0ac7b">ast_custom_function_register</a>(&amp;<a class="code" href="../../d4/d5b/app__speech__utils_8c.html#ae0a6f9bf4c23816367b1057372775c23">speech_text_function</a>);</div><div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;   res |= <a class="code" href="../../db/de0/pbx_8h.html#a8af0e93442a9e468425f63cc52b0ac7b">ast_custom_function_register</a>(&amp;<a class="code" href="../../d4/d5b/app__speech__utils_8c.html#af89c0992d5b33a98c57edc1faf346458">speech_grammar_function</a>);</div><div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;   res |= <a class="code" href="../../db/de0/pbx_8h.html#a8af0e93442a9e468425f63cc52b0ac7b">ast_custom_function_register</a>(&amp;<a class="code" href="../../d4/d5b/app__speech__utils_8c.html#a1b910a901d902450e0b73f64069ce90c">speech_engine_function</a>);</div><div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;   res |= <a class="code" href="../../db/de0/pbx_8h.html#a8af0e93442a9e468425f63cc52b0ac7b">ast_custom_function_register</a>(&amp;<a class="code" href="../../d4/d5b/app__speech__utils_8c.html#a6a1bae7c061015b7d09b94964fb42f05">speech_results_type_function</a>);</div><div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;</div><div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;}</div><div class="ttc" id="app__speech__utils_8c_html_a323e1b907e8b02073cc1c29b435ec4e3"><div class="ttname"><a href="../../d4/d5b/app__speech__utils_8c.html#a323e1b907e8b02073cc1c29b435ec4e3">speech_create</a></div><div class="ttdeci">static int speech_create(struct ast_channel *chan, const char *data)</div><div class="ttdoc">SpeechCreate() Dialplan Application. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d5b/app__speech__utils_8c_source.html#l00543">app_speech_utils.c:543</a></div></div>
<div class="ttc" id="app__speech__utils_8c_html_a062df38f790a55a534a09958df60d7ae"><div class="ttname"><a href="../../d4/d5b/app__speech__utils_8c.html#a062df38f790a55a534a09958df60d7ae">speech_unload</a></div><div class="ttdeci">static int speech_unload(struct ast_channel *chan, const char *data)</div><div class="ttdoc">SpeechUnloadGrammar(Grammar Name) Dialplan Application. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d5b/app__speech__utils_8c_source.html#l00598">app_speech_utils.c:598</a></div></div>
<div class="ttc" id="app__speech__utils_8c_html_a1b910a901d902450e0b73f64069ce90c"><div class="ttname"><a href="../../d4/d5b/app__speech__utils_8c.html#a1b910a901d902450e0b73f64069ce90c">speech_engine_function</a></div><div class="ttdeci">static struct ast_custom_function speech_engine_function</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d5b/app__speech__utils_8c_source.html#l00464">app_speech_utils.c:464</a></div></div>
<div class="ttc" id="app__speech__utils_8c_html_ad98bc73c43af483b3883f5cd62d884f8"><div class="ttname"><a href="../../d4/d5b/app__speech__utils_8c.html#ad98bc73c43af483b3883f5cd62d884f8">speech_background</a></div><div class="ttdeci">static int speech_background(struct ast_channel *chan, const char *data)</div><div class="ttdoc">SpeechBackground(Sound File,Timeout) Dialplan Application. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d5b/app__speech__utils_8c_source.html#l00700">app_speech_utils.c:700</a></div></div>
<div class="ttc" id="app__speech__utils_8c_html_af89c0992d5b33a98c57edc1faf346458"><div class="ttname"><a href="../../d4/d5b/app__speech__utils_8c.html#af89c0992d5b33a98c57edc1faf346458">speech_grammar_function</a></div><div class="ttdeci">static struct ast_custom_function speech_grammar_function</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d5b/app__speech__utils_8c_source.html#l00432">app_speech_utils.c:432</a></div></div>
<div class="ttc" id="app__speech__utils_8c_html_aaec2a80b8a240051e37ae9050e947284"><div class="ttname"><a href="../../d4/d5b/app__speech__utils_8c.html#aaec2a80b8a240051e37ae9050e947284">speech_load</a></div><div class="ttdeci">static int speech_load(struct ast_channel *chan, const char *vdata)</div><div class="ttdoc">SpeechLoadGrammar(Grammar Name,Path) Dialplan Application. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d5b/app__speech__utils_8c_source.html#l00572">app_speech_utils.c:572</a></div></div>
<div class="ttc" id="app__speech__utils_8c_html_abb4b206c4f0ca33aa3e29fdf541743d0"><div class="ttname"><a href="../../d4/d5b/app__speech__utils_8c.html#abb4b206c4f0ca33aa3e29fdf541743d0">speech_destroy</a></div><div class="ttdeci">static int speech_destroy(struct ast_channel *chan, const char *data)</div><div class="ttdoc">SpeechDestroy() Dialplan Application. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d5b/app__speech__utils_8c_source.html#l00948">app_speech_utils.c:948</a></div></div>
<div class="ttc" id="app__speech__utils_8c_html_abace6cf3d611b558a2af3dfedb6ede5e"><div class="ttname"><a href="../../d4/d5b/app__speech__utils_8c.html#abace6cf3d611b558a2af3dfedb6ede5e">speech_function</a></div><div class="ttdeci">static struct ast_custom_function speech_function</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d5b/app__speech__utils_8c_source.html#l00534">app_speech_utils.c:534</a></div></div>
<div class="ttc" id="app__speech__utils_8c_html_adbde5e54db990ff3df7c305a526042de"><div class="ttname"><a href="../../d4/d5b/app__speech__utils_8c.html#adbde5e54db990ff3df7c305a526042de">speech_deactivate</a></div><div class="ttdeci">static int speech_deactivate(struct ast_channel *chan, const char *data)</div><div class="ttdoc">SpeechDeactivateGrammar(Grammar Name) Dialplan Application. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d5b/app__speech__utils_8c_source.html#l00613">app_speech_utils.c:613</a></div></div>
<div class="ttc" id="app__speech__utils_8c_html_a6a1bae7c061015b7d09b94964fb42f05"><div class="ttname"><a href="../../d4/d5b/app__speech__utils_8c.html#a6a1bae7c061015b7d09b94964fb42f05">speech_results_type_function</a></div><div class="ttdeci">static struct ast_custom_function speech_results_type_function</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d5b/app__speech__utils_8c_source.html#l00486">app_speech_utils.c:486</a></div></div>
<div class="ttc" id="app__speech__utils_8c_html_a6e93b8921d2dee46ad66e49aeca16825"><div class="ttname"><a href="../../d4/d5b/app__speech__utils_8c.html#a6e93b8921d2dee46ad66e49aeca16825">speech_activate</a></div><div class="ttdeci">static int speech_activate(struct ast_channel *chan, const char *data)</div><div class="ttdoc">SpeechActivateGrammar(Grammar Name) Dialplan Application. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d5b/app__speech__utils_8c_source.html#l00628">app_speech_utils.c:628</a></div></div>
<div class="ttc" id="app__speech__utils_8c_html_a7d61a2a0302d22271becabbc1694132b"><div class="ttname"><a href="../../d4/d5b/app__speech__utils_8c.html#a7d61a2a0302d22271becabbc1694132b">speech_start</a></div><div class="ttdeci">static int speech_start(struct ast_channel *chan, const char *data)</div><div class="ttdoc">SpeechStart() Dialplan Application. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d5b/app__speech__utils_8c_source.html#l00643">app_speech_utils.c:643</a></div></div>
<div class="ttc" id="app__speech__utils_8c_html_ad55a52002341b0cca84e3cc98897f43a"><div class="ttname"><a href="../../d4/d5b/app__speech__utils_8c.html#ad55a52002341b0cca84e3cc98897f43a">speech_processing_sound</a></div><div class="ttdeci">static int speech_processing_sound(struct ast_channel *chan, const char *data)</div><div class="ttdoc">SpeechProcessingSound(Sound File) Dialplan Application. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d5b/app__speech__utils_8c_source.html#l00657">app_speech_utils.c:657</a></div></div>
<div class="ttc" id="app__speech__utils_8c_html_a2046e8372fa33fa58ac943b5f4704665"><div class="ttname"><a href="../../d4/d5b/app__speech__utils_8c.html#a2046e8372fa33fa58ac943b5f4704665">speech_score_function</a></div><div class="ttdeci">static struct ast_custom_function speech_score_function</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d5b/app__speech__utils_8c_source.html#l00380">app_speech_utils.c:380</a></div></div>
<div class="ttc" id="app__speech__utils_8c_html_ae0a6f9bf4c23816367b1057372775c23"><div class="ttname"><a href="../../d4/d5b/app__speech__utils_8c.html#ae0a6f9bf4c23816367b1057372775c23">speech_text_function</a></div><div class="ttdeci">static struct ast_custom_function speech_text_function</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d5b/app__speech__utils_8c_source.html#l00406">app_speech_utils.c:406</a></div></div>
<div class="ttc" id="pbx_8h_html_a8af0e93442a9e468425f63cc52b0ac7b"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a8af0e93442a9e468425f63cc52b0ac7b">ast_custom_function_register</a></div><div class="ttdeci">#define ast_custom_function_register(acf)</div><div class="ttdoc">Register a custom function. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/de0/pbx_8h_source.html#l01508">pbx.h:1508</a></div></div>
<div class="ttc" id="module_8h_html_afba4eb7a910b10969041ae4cd488729d"><div class="ttname"><a href="../../d5/d16/module_8h.html#afba4eb7a910b10969041ae4cd488729d">ast_register_application_xml</a></div><div class="ttdeci">#define ast_register_application_xml(app, execute)</div><div class="ttdoc">Register an application using XML documentation. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00626">module.h:626</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6e93b8921d2dee46ad66e49aeca16825"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e93b8921d2dee46ad66e49aeca16825">&#9670;&nbsp;</a></span>speech_activate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int speech_activate </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>SpeechActivateGrammar(Grammar Name) Dialplan Application. </p>

<p class="definition">Definition at line <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html#l00628">628</a> of file <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html">app_speech_utils.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/d2a/res__speech_8c_source.html#l00065">ast_speech_grammar_activate()</a>, <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html#l00282">find_speech()</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html#l00979">load_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;{</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;   <span class="keywordtype">int</span> res = 0;</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/d95/structast__speech.html">ast_speech</a> *speech = <a class="code" href="../../d4/d5b/app__speech__utils_8c.html#add75c49609e0f0e226c80a5e48380623">find_speech</a>(chan);</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;   <span class="keywordflow">if</span> (speech == <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;   <span class="comment">/* Activate the grammar on the speech object */</span></div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;   res = <a class="code" href="../../d6/dd7/speech_8h.html#aa1c6c934a30bd481a73981aa492a5dae">ast_speech_grammar_activate</a>(speech, <a class="code" href="../../d9/d95/structast__speech.html#a735984d41155bc1032e09bece8f8d66d">data</a>);</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;}</div><div class="ttc" id="structast__speech_html"><div class="ttname"><a href="../../d9/d95/structast__speech.html">ast_speech</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dd7/speech_8h_source.html#l00051">speech.h:51</a></div></div>
<div class="ttc" id="structast__speech_html_a735984d41155bc1032e09bece8f8d66d"><div class="ttname"><a href="../../d9/d95/structast__speech.html#a735984d41155bc1032e09bece8f8d66d">ast_speech::data</a></div><div class="ttdeci">void * data</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dd7/speech_8h_source.html#l00063">speech.h:63</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="app__speech__utils_8c_html_add75c49609e0f0e226c80a5e48380623"><div class="ttname"><a href="../../d4/d5b/app__speech__utils_8c.html#add75c49609e0f0e226c80a5e48380623">find_speech</a></div><div class="ttdeci">static struct ast_speech * find_speech(struct ast_channel *chan)</div><div class="ttdoc">Helper function used to find the speech structure attached to a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d5b/app__speech__utils_8c_source.html#l00282">app_speech_utils.c:282</a></div></div>
<div class="ttc" id="speech_8h_html_aa1c6c934a30bd481a73981aa492a5dae"><div class="ttname"><a href="../../d6/dd7/speech_8h.html#aa1c6c934a30bd481a73981aa492a5dae">ast_speech_grammar_activate</a></div><div class="ttdeci">int ast_speech_grammar_activate(struct ast_speech *speech, const char *grammar_name)</div><div class="ttdoc">Activate a grammar on a speech structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d2a/res__speech_8c_source.html#l00065">res_speech.c:65</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad98bc73c43af483b3883f5cd62d884f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad98bc73c43af483b3883f5cd62d884f8">&#9670;&nbsp;</a></span>speech_background()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int speech_background </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>SpeechBackground(Sound File,Timeout) Dialplan Application. </p>

<p class="definition">Definition at line <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html#l00700">700</a> of file <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html">app_speech_utils.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00491">ao2_bump</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d5/dde/test__func__file_8c_source.html#l00046">args</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l02814">ast_answer()</a>, <a class="el" href="../../d3/d93/include_2asterisk_2app_8h_source.html#l01232">AST_APP_ARG</a>, <a class="el" href="../../d3/d83/main_2app_8c_source.html#l02906">ast_app_parse_options()</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00204">ast_calloc</a>, <a class="el" href="../../d5/d7b/channel_8h.html#a9abe31fe40dcd03cd2957e5309e32ac6">ast_channel_language()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02945">ast_channel_lock</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00721">ast_channel_pbx()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00856">ast_channel_readformat()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00729">ast_channel_sched()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00621">ast_channel_stream()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00461">ast_channel_streamid()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l01231">ast_channel_timingfunc()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00077">ast_clear_flag</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00278">AST_CONTROL_HANGUP</a>, <a class="el" href="../../d3/d93/include_2asterisk_2app_8h_source.html#l01249">AST_DECLARE_APP_ARGS</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00105">AST_FRAME_CONTROL</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00139">AST_FRAME_DTMF</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00101">AST_FRAME_VOICE</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00556">ast_frfree</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l00135">AST_MAX_EXTENSION</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00187">ast_mutex_lock</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00188">ast_mutex_unlock</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l04302">ast_read()</a>, <a class="el" href="../../db/dbe/sched_8c_source.html#l00755">ast_sched_runq()</a>, <a class="el" href="../../db/dbe/sched_8c_source.html#l00431">ast_sched_wait()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l05849">ast_set_read_format()</a>, <a class="el" href="../../db/d2a/res__speech_8c_source.html#l00267">ast_speech_change_state()</a>, <a class="el" href="../../db/d2a/res__speech_8c_source.html#l00153">ast_speech_dtmf()</a>, <a class="el" href="../../d6/dd7/speech_8h_source.html#l00032">AST_SPEECH_QUIET</a>, <a class="el" href="../../db/d2a/res__speech_8c_source.html#l00089">ast_speech_results_get()</a>, <a class="el" href="../../db/d2a/res__speech_8c_source.html#l00121">ast_speech_start()</a>, <a class="el" href="../../d6/dd7/speech_8h_source.html#l00042">AST_SPEECH_STATE_DONE</a>, <a class="el" href="../../d6/dd7/speech_8h_source.html#l00039">AST_SPEECH_STATE_NOT_READY</a>, <a class="el" href="../../d6/dd7/speech_8h_source.html#l00040">AST_SPEECH_STATE_READY</a>, <a class="el" href="../../d6/dd7/speech_8h_source.html#l00041">AST_SPEECH_STATE_WAIT</a>, <a class="el" href="../../db/d2a/res__speech_8c_source.html#l00143">ast_speech_write()</a>, <a class="el" href="../../d3/d93/include_2asterisk_2app_8h_source.html#l01285">AST_STANDARD_APP_ARGS</a>, <a class="el" href="../../d9/d95/channelstate_8h_source.html#l00042">AST_STATE_UP</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l00187">ast_stopstream()</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00243">ast_strdup</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00300">ast_strdupa</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00063">ast_test_flag</a>, <a class="el" href="../../de/df7/time_8h_source.html#l00098">ast_tvdiff_ms()</a>, <a class="el" href="../../de/df7/time_8h_source.html#l00150">ast_tvnow()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l03171">ast_waitfor()</a>, <a class="el" href="../../d0/d99/structast__frame.html#a4027905f872af30d910929b07e261ca5">ast_frame::data</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00171">ast_frame::datalen</a>, <a class="el" href="../../dc/dbf/test__amihooks_8c_source.html#l00048">done</a>, <a class="el" href="../../db/de0/pbx_8h_source.html#l00212">ast_pbx::dtimeoutms</a>, <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html#l00282">find_speech()</a>, <a class="el" href="../../d6/dd7/speech_8h_source.html#l00061">ast_speech::format</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00167">ast_frame::frametype</a>, <a class="el" href="../../d6/dd7/speech_8h_source.html#l00116">ast_speech_result::grammar</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00152">ast_frame_subclass::integer</a>, <a class="el" href="../../d6/dd7/speech_8h_source.html#l00053">ast_speech::lock</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d0/dd6/chan__mgcp_8c_source.html#l01872">parse()</a>, <a class="el" href="../../d3/d8c/pbx__variables_8c_source.html#l01000">pbx_builtin_getvar_helper()</a>, <a class="el" href="../../d6/dd7/speech_8h_source.html#l00057">ast_speech::processing_sound</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00183">ast_frame::ptr</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00911">RAII_VAR</a>, <a class="el" href="../../d6/dd7/speech_8h_source.html#l00065">ast_speech::results</a>, <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html#l00692">SB_OPT_NOANSWER</a>, <a class="el" href="../../d6/dd7/speech_8h_source.html#l00112">ast_speech_result::score</a>, <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html#l00697">speech_background_options</a>, <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html#l00311">speech_datastore_destroy()</a>, <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html#l00676">speech_streamfile()</a>, <a class="el" href="../../d6/dd7/speech_8h_source.html#l00059">ast_speech::state</a>, <a class="el" href="../../de/da3/include_2asterisk_2compat_8h.html#a40eca58273c74a20a17f137d18ba826c">strsep()</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00169">ast_frame::subclass</a>, <a class="el" href="../../d6/dd7/speech_8h_source.html#l00110">ast_speech_result::text</a>, <a class="el" href="../../d0/d29/cdr__mysql_8c_source.html#l00086">timeout</a>, and <a class="el" href="../../de/d1e/bt__open_8c_source.html#l00389">tmp()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html#l00979">load_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;{</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../d0/d29/cdr__mysql_8c.html#a493b57f443cc38b3d3df9c1e584d9d82">timeout</a> = 0;</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;   <span class="keywordtype">int</span> res = 0, <a class="code" href="../../dc/dbf/test__amihooks_8c.html#a5992b274cfdcacdbc1fa8347fd01ebde">done</a> = 0, started = 0, quieted = 0, max_dtmf_len = 0;</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/d95/structast__speech.html">ast_speech</a> *speech = <a class="code" href="../../d4/d5b/app__speech__utils_8c.html#add75c49609e0f0e226c80a5e48380623">find_speech</a>(chan);</div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d99/structast__frame.html">ast_frame</a> *f = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d0/d98/structast__format.html">ast_format</a> *, oldreadformat, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;   <span class="keywordtype">char</span> dtmf[<a class="code" href="../../d5/d7b/channel_8h.html#af4e59494f74ad9e0c50170d9e276ad31">AST_MAX_EXTENSION</a>] = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;   <span class="keyword">struct </span>timeval start = { 0, 0 }, current;</div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;   <span class="keywordtype">char</span> *<a class="code" href="../../d0/dd6/chan__mgcp_8c.html#a2e006acff60d9b3d65d7d60f975d6747">parse</a>, *filename_tmp = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, *filename = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a>[2] = <span class="stringliteral">&quot;&quot;</span>, dtmf_terminator = <span class="charliteral">&#39;#&#39;</span>;</div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *tmp2 = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/dac/structast__flags.html">ast_flags</a> <a class="code" href="../../d4/d45/test__http__media__cache_8c.html#a80c8e3ae5087d90d422675d034eeebc7">options</a> = { 0 };</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;   <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a80cd3f6f786b59b742bcecfc0b3be7c2">AST_DECLARE_APP_ARGS</a>(<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>,</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;      <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a037e9a5b28477b17e7c9acbe7ecb21d5">AST_APP_ARG</a>(soundfile);</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;      <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a037e9a5b28477b17e7c9acbe7ecb21d5">AST_APP_ARG</a>(timeout);</div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;      <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a037e9a5b28477b17e7c9acbe7ecb21d5">AST_APP_ARG</a>(options);</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;   );</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;   parse = <a class="code" href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a>(data);</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;   <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#ac08f7eb1eb9476b30987c73e1052ada8">AST_STANDARD_APP_ARGS</a>(<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>, parse);</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;</div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;   <span class="keywordflow">if</span> (speech == <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>.options)) {</div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;      <span class="keywordtype">char</span> *options_buf = <a class="code" href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a>(<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>.options);</div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;      <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#af40039f1c49c16d0f6fa33fe9c43a0cb">ast_app_parse_options</a>(<a class="code" href="../../d4/d5b/app__speech__utils_8c.html#a320778bebe128fd8006bdf7730dcebef">speech_background_options</a>, &amp;options, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, options_buf);</div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;   }</div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;</div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;   <span class="comment">/* If channel is not already answered, then answer it */</span></div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660">ast_channel_state</a>(chan) != <a class="code" href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660aa8ab4bcda7378ccc17c39dfd880cba3d">AST_STATE_UP</a> &amp;&amp; !<a class="code" href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a>(&amp;options, <a class="code" href="../../d4/d5b/app__speech__utils_8c.html#abe974f22edeef8189603ba75fd90ff3ca88817d51e54121d32cfc297418f14ebd">SB_OPT_NOANSWER</a>)</div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;      &amp;&amp; <a class="code" href="../../d5/d7b/channel_8h.html#aec583a3e25358ee552a4f3df53914cd0">ast_answer</a>(chan)) {</div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;         <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;   }</div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;</div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;   <span class="comment">/* Record old read format */</span></div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;   oldreadformat = <a class="code" href="../../d5/da5/astobj2_8h.html#ac438c3fcd3150481fad38689fd813a15">ao2_bump</a>(<a class="code" href="../../d5/d7b/channel_8h.html#aaced431562223538a94e0e69cf94151a">ast_channel_readformat</a>(chan));</div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;</div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;   <span class="comment">/* Change read format to be signed linear */</span></div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d5/d7b/channel_8h.html#a9107a83365cbf327cc0d12cb0dbd28d8">ast_set_read_format</a>(chan, speech-&gt;<a class="code" href="../../d9/d95/structast__speech.html#ab425a484a0916077c5a30d9d7b229b44">format</a>))</div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;</div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>.soundfile)) {</div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;      <span class="comment">/* Yay sound file */</span></div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;      filename_tmp = <a class="code" href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a>(<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>.soundfile);</div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>.timeout)) {</div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;         <span class="keywordflow">if</span> ((timeout = atof(<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>.timeout) * 1000.0) == 0)</div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;            timeout = -1;</div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;      } <span class="keywordflow">else</span></div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;         timeout = 0;</div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;   }</div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;</div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;   <span class="comment">/* See if the maximum DTMF length variable is set... we use a variable in case they want to carry it through their entire dialplan */</span></div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(chan);</div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;   <span class="keywordflow">if</span> ((tmp2 = <a class="code" href="../../db/de0/pbx_8h.html#a98c5425b90ec7c5e136a40f529170b1b">pbx_builtin_getvar_helper</a>(chan, <span class="stringliteral">&quot;SPEECH_DTMF_MAXLEN&quot;</span>)) &amp;&amp; !<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(tmp2)) {</div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;      max_dtmf_len = atoi(tmp2);</div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;   }</div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;</div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;   <span class="comment">/* See if a terminator is specified */</span></div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;   <span class="keywordflow">if</span> ((tmp2 = <a class="code" href="../../db/de0/pbx_8h.html#a98c5425b90ec7c5e136a40f529170b1b">pbx_builtin_getvar_helper</a>(chan, <span class="stringliteral">&quot;SPEECH_DTMF_TERMINATOR&quot;</span>))) {</div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(tmp2))</div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;         dtmf_terminator = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;      <span class="keywordflow">else</span></div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;         dtmf_terminator = tmp2[0];</div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;   }</div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;</div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;   <span class="comment">/* Before we go into waiting for stuff... make sure the structure is ready, if not - start it again */</span></div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;   <span class="keywordflow">if</span> (speech-&gt;<a class="code" href="../../d9/d95/structast__speech.html#a89f234133d3efe315836311cbf21c64b">state</a> == <a class="code" href="../../d6/dd7/speech_8h.html#ad00266cfb9f168bb819ab079f04b9fccaae5f488f35a7f67e2e4627cbe8cde42e">AST_SPEECH_STATE_NOT_READY</a> || speech-&gt;<a class="code" href="../../d9/d95/structast__speech.html#a89f234133d3efe315836311cbf21c64b">state</a> == <a class="code" href="../../d6/dd7/speech_8h.html#ad00266cfb9f168bb819ab079f04b9fcca391d9b14c01f4da04e8c8536392e1708">AST_SPEECH_STATE_DONE</a>) {</div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;      <a class="code" href="../../d6/dd7/speech_8h.html#abbf9d09efade60713aeba70e516cbbe5">ast_speech_change_state</a>(speech, <a class="code" href="../../d6/dd7/speech_8h.html#ad00266cfb9f168bb819ab079f04b9fccaae5f488f35a7f67e2e4627cbe8cde42e">AST_SPEECH_STATE_NOT_READY</a>);</div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;      <a class="code" href="../../d6/dd7/speech_8h.html#a35ee983d0c54de09ca8d3ffd1223c9ae">ast_speech_start</a>(speech);</div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;   }</div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;</div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;   <span class="comment">/* Ensure no streams are currently running */</span></div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;   <a class="code" href="../../d2/d4d/file_8h.html#a3092bf11d4bba66f646562759608b1bc">ast_stopstream</a>(chan);</div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;</div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;   <span class="comment">/* Okay it&#39;s streaming so go into a loop grabbing frames! */</span></div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;   <span class="keywordflow">while</span> (<a class="code" href="../../dc/dbf/test__amihooks_8c.html#a5992b274cfdcacdbc1fa8347fd01ebde">done</a> == 0) {</div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;      <span class="comment">/* If the filename is null and stream is not running, start up a new sound file */</span></div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;      <span class="keywordflow">if</span> (!quieted &amp;&amp; (<a class="code" href="../../d5/d7b/channel_8h.html#aca669cf3bcacc3152088c9e5057f4239">ast_channel_streamid</a>(chan) == -1 &amp;&amp; <a class="code" href="../../d5/d7b/channel_8h.html#ab23fb6dcd2315d22d59b5101b8ca5417">ast_channel_timingfunc</a>(chan) == <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) &amp;&amp; (filename = <a class="code" href="../../de/da3/include_2asterisk_2compat_8h.html#a40eca58273c74a20a17f137d18ba826c">strsep</a>(&amp;filename_tmp, <span class="stringliteral">&quot;&amp;&quot;</span>))) {</div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;         <span class="comment">/* Discard old stream information */</span></div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;         <a class="code" href="../../d2/d4d/file_8h.html#a3092bf11d4bba66f646562759608b1bc">ast_stopstream</a>(chan);</div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;         <span class="comment">/* Start new stream */</span></div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;         <a class="code" href="../../d4/d5b/app__speech__utils_8c.html#a24e6fc762a78b042d53ccf0fe2c9981d">speech_streamfile</a>(chan, filename, <a class="code" href="../../d5/d7b/channel_8h.html#a9abe31fe40dcd03cd2957e5309e32ac6">ast_channel_language</a>(chan));</div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;      }</div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;</div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;      <span class="comment">/* Run scheduled stuff */</span></div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;      <a class="code" href="../../d7/d00/sched_8h.html#aa9c3d54f142eee0bad110fbb825c0787">ast_sched_runq</a>(<a class="code" href="../../d5/d7b/channel_8h.html#acd3470664b6a002c9a379a69ddad4cb2">ast_channel_sched</a>(chan));</div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;</div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;      <span class="comment">/* Yay scheduling */</span></div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;      res = <a class="code" href="../../d7/d00/sched_8h.html#af13fcd6652b8dcafae35c2fa35e80a8d">ast_sched_wait</a>(<a class="code" href="../../d5/d7b/channel_8h.html#acd3470664b6a002c9a379a69ddad4cb2">ast_channel_sched</a>(chan));</div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;      <span class="keywordflow">if</span> (res &lt; 0)</div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;         res = 1000;</div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;</div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;      <span class="comment">/* If there is a frame waiting, get it - if not - oh well */</span></div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d5/d7b/channel_8h.html#a60e0bcaed001e8d5ed1ba0eb2644b3cc">ast_waitfor</a>(chan, res) &gt; 0) {</div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;         f = <a class="code" href="../../d5/d7b/channel_8h.html#a7ef6737309dc9e8b6c4a7cb4800638b1">ast_read</a>(chan);</div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;         <span class="keywordflow">if</span> (f == <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;            <span class="comment">/* The channel has hung up most likely */</span></div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;            <a class="code" href="../../dc/dbf/test__amihooks_8c.html#a5992b274cfdcacdbc1fa8347fd01ebde">done</a> = 3;</div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;         }</div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;      }</div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;</div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;      <span class="comment">/* Do timeout check (shared between audio/dtmf) */</span></div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;      <span class="keywordflow">if</span> ((!quieted || strlen(dtmf)) &amp;&amp; started == 1) {</div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;         current = <a class="code" href="../../de/df7/time_8h.html#ad3899efb6f0e348556ef69f5b16aa7f7">ast_tvnow</a>();</div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;         <span class="keywordflow">if</span> ((<a class="code" href="../../de/df7/time_8h.html#aca4ecdab7d8d3519062aad9a90fcb29d">ast_tvdiff_ms</a>(current, start)) &gt;= timeout) {</div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;            <a class="code" href="../../dc/dbf/test__amihooks_8c.html#a5992b274cfdcacdbc1fa8347fd01ebde">done</a> = 1;</div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;            <span class="keywordflow">if</span> (f)</div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;               <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#a6440d070425a2efe8e0aa71e8d9e47b7">ast_frfree</a>(f);</div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;         }</div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;      }</div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;</div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;      <span class="comment">/* Do checks on speech structure to see if it&#39;s changed */</span></div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#ac5e13c7fe64d3b271a52028b0a78b92b">ast_mutex_lock</a>(&amp;speech-&gt;<a class="code" href="../../d9/d95/structast__speech.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>);</div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a>(speech, <a class="code" href="../../d6/dd7/speech_8h.html#afa3ec79b3c936aaa74aa6b54ddfacb77a4199180a8b7c0b860d869eb05e3788cf">AST_SPEECH_QUIET</a>)) {</div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;         <span class="keywordflow">if</span> (<a class="code" href="../../d5/d7b/channel_8h.html#a043ef90a065fe177af7b21a6045b6506">ast_channel_stream</a>(chan))</div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;            <a class="code" href="../../d2/d4d/file_8h.html#a3092bf11d4bba66f646562759608b1bc">ast_stopstream</a>(chan);</div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;         <a class="code" href="../../d5/d60/utils_8h.html#a7b260320610a09017a9416398acd0a70">ast_clear_flag</a>(speech, <a class="code" href="../../d6/dd7/speech_8h.html#afa3ec79b3c936aaa74aa6b54ddfacb77a4199180a8b7c0b860d869eb05e3788cf">AST_SPEECH_QUIET</a>);</div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;         quieted = 1;</div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;      }</div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;      <span class="comment">/* Check state so we can see what to do */</span></div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;      <span class="keywordflow">switch</span> (speech-&gt;<a class="code" href="../../d9/d95/structast__speech.html#a89f234133d3efe315836311cbf21c64b">state</a>) {</div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d6/dd7/speech_8h.html#ad00266cfb9f168bb819ab079f04b9fcca604726916ee0089820cf89082f3b092f">AST_SPEECH_STATE_READY</a>:</div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;         <span class="comment">/* If audio playback has stopped do a check for timeout purposes */</span></div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;         <span class="keywordflow">if</span> (<a class="code" href="../../d5/d7b/channel_8h.html#aca669cf3bcacc3152088c9e5057f4239">ast_channel_streamid</a>(chan) == -1 &amp;&amp; <a class="code" href="../../d5/d7b/channel_8h.html#ab23fb6dcd2315d22d59b5101b8ca5417">ast_channel_timingfunc</a>(chan) == <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;            <a class="code" href="../../d2/d4d/file_8h.html#a3092bf11d4bba66f646562759608b1bc">ast_stopstream</a>(chan);</div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;         <span class="keywordflow">if</span> (!quieted &amp;&amp; <a class="code" href="../../d5/d7b/channel_8h.html#a043ef90a065fe177af7b21a6045b6506">ast_channel_stream</a>(chan) == <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> &amp;&amp; timeout &amp;&amp; started == 0 &amp;&amp; !filename_tmp) {</div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;            <span class="keywordflow">if</span> (timeout == -1) {</div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;               <a class="code" href="../../dc/dbf/test__amihooks_8c.html#a5992b274cfdcacdbc1fa8347fd01ebde">done</a> = 1;</div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;               <span class="keywordflow">if</span> (f)</div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;                  <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#a6440d070425a2efe8e0aa71e8d9e47b7">ast_frfree</a>(f);</div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;               <span class="keywordflow">break</span>;</div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;            }</div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;            start = <a class="code" href="../../de/df7/time_8h.html#ad3899efb6f0e348556ef69f5b16aa7f7">ast_tvnow</a>();</div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;            started = 1;</div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;         }</div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;         <span class="comment">/* Write audio frame out to speech engine if no DTMF has been received */</span></div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;         <span class="keywordflow">if</span> (!strlen(dtmf) &amp;&amp; f != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> &amp;&amp; f-&gt;<a class="code" href="../../d0/d99/structast__frame.html#a6937b93c56cb473b547eda454dca7b4c">frametype</a> == <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#ae2e1a9c4e048da387b761f619312d6e0aa457fe7005f11bb7b21453f9bb4caa8f">AST_FRAME_VOICE</a>) {</div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;            <a class="code" href="../../d6/dd7/speech_8h.html#a4ae1a7f76105b9f218161faed71590e4">ast_speech_write</a>(speech, f-&gt;<a class="code" href="../../d0/d99/structast__frame.html#a4027905f872af30d910929b07e261ca5">data</a>.<a class="code" href="../../d0/d99/structast__frame.html#add9af9569af79ec26dd741fb226b38ba">ptr</a>, f-&gt;<a class="code" href="../../d0/d99/structast__frame.html#ad67e07841d1233e596e6f822a3c81f6b">datalen</a>);</div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;         }</div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d6/dd7/speech_8h.html#ad00266cfb9f168bb819ab079f04b9fccab25d197057f8858ca88fc66814403f2f">AST_SPEECH_STATE_WAIT</a>:</div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;         <span class="comment">/* Cue up waiting sound if not already playing */</span></div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;         <span class="keywordflow">if</span> (!strlen(dtmf)) {</div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d5/d7b/channel_8h.html#a043ef90a065fe177af7b21a6045b6506">ast_channel_stream</a>(chan) == <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;               <span class="keywordflow">if</span> (speech-&gt;<a class="code" href="../../d9/d95/structast__speech.html#a40e56819be5b8279e0eb05561d5c1f9a">processing_sound</a> != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;                  <span class="keywordflow">if</span> (strlen(speech-&gt;<a class="code" href="../../d9/d95/structast__speech.html#a40e56819be5b8279e0eb05561d5c1f9a">processing_sound</a>) &gt; 0 &amp;&amp; strcasecmp(speech-&gt;<a class="code" href="../../d9/d95/structast__speech.html#a40e56819be5b8279e0eb05561d5c1f9a">processing_sound</a>, <span class="stringliteral">&quot;none&quot;</span>)) {</div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;                     <a class="code" href="../../d4/d5b/app__speech__utils_8c.html#a24e6fc762a78b042d53ccf0fe2c9981d">speech_streamfile</a>(chan, speech-&gt;<a class="code" href="../../d9/d95/structast__speech.html#a40e56819be5b8279e0eb05561d5c1f9a">processing_sound</a>, <a class="code" href="../../d5/d7b/channel_8h.html#a9abe31fe40dcd03cd2957e5309e32ac6">ast_channel_language</a>(chan));</div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;                  }</div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;               }</div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d5/d7b/channel_8h.html#aca669cf3bcacc3152088c9e5057f4239">ast_channel_streamid</a>(chan) == -1 &amp;&amp; <a class="code" href="../../d5/d7b/channel_8h.html#ab23fb6dcd2315d22d59b5101b8ca5417">ast_channel_timingfunc</a>(chan) == <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;               <a class="code" href="../../d2/d4d/file_8h.html#a3092bf11d4bba66f646562759608b1bc">ast_stopstream</a>(chan);</div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;               <span class="keywordflow">if</span> (speech-&gt;<a class="code" href="../../d9/d95/structast__speech.html#a40e56819be5b8279e0eb05561d5c1f9a">processing_sound</a> != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;                  <span class="keywordflow">if</span> (strlen(speech-&gt;<a class="code" href="../../d9/d95/structast__speech.html#a40e56819be5b8279e0eb05561d5c1f9a">processing_sound</a>) &gt; 0 &amp;&amp; strcasecmp(speech-&gt;<a class="code" href="../../d9/d95/structast__speech.html#a40e56819be5b8279e0eb05561d5c1f9a">processing_sound</a>, <span class="stringliteral">&quot;none&quot;</span>)) {</div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;                     <a class="code" href="../../d4/d5b/app__speech__utils_8c.html#a24e6fc762a78b042d53ccf0fe2c9981d">speech_streamfile</a>(chan, speech-&gt;<a class="code" href="../../d9/d95/structast__speech.html#a40e56819be5b8279e0eb05561d5c1f9a">processing_sound</a>, <a class="code" href="../../d5/d7b/channel_8h.html#a9abe31fe40dcd03cd2957e5309e32ac6">ast_channel_language</a>(chan));</div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;                  }</div><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;               }</div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;            }</div><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;         }</div><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d6/dd7/speech_8h.html#ad00266cfb9f168bb819ab079f04b9fcca391d9b14c01f4da04e8c8536392e1708">AST_SPEECH_STATE_DONE</a>:</div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;         <span class="comment">/* Now that we are done... let&#39;s switch back to not ready state */</span></div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;         <a class="code" href="../../d6/dd7/speech_8h.html#abbf9d09efade60713aeba70e516cbbe5">ast_speech_change_state</a>(speech, <a class="code" href="../../d6/dd7/speech_8h.html#ad00266cfb9f168bb819ab079f04b9fccaae5f488f35a7f67e2e4627cbe8cde42e">AST_SPEECH_STATE_NOT_READY</a>);</div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;         <span class="keywordflow">if</span> (!strlen(dtmf)) {</div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;            <span class="comment">/* Copy to speech structure the results, if available */</span></div><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;            speech-&gt;<a class="code" href="../../d9/d95/structast__speech.html#af339908db8f5c3797e8a6684027a300c">results</a> = <a class="code" href="../../d6/dd7/speech_8h.html#a982ace0eabd45d35786070ff32687c64">ast_speech_results_get</a>(speech);</div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;            <span class="comment">/* Break out of our background too */</span></div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;            <a class="code" href="../../dc/dbf/test__amihooks_8c.html#a5992b274cfdcacdbc1fa8347fd01ebde">done</a> = 1;</div><div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;            <span class="comment">/* Stop audio playback */</span></div><div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d5/d7b/channel_8h.html#a043ef90a065fe177af7b21a6045b6506">ast_channel_stream</a>(chan) != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;               <a class="code" href="../../d2/d4d/file_8h.html#a3092bf11d4bba66f646562759608b1bc">ast_stopstream</a>(chan);</div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;            }</div><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;         }</div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;      <span class="keywordflow">default</span>:</div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;      }</div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a>(&amp;speech-&gt;<a class="code" href="../../d9/d95/structast__speech.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>);</div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;</div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;      <span class="comment">/* Deal with other frame types */</span></div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;      <span class="keywordflow">if</span> (f != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;         <span class="comment">/* Free the frame we received */</span></div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;         <span class="keywordflow">switch</span> (f-&gt;<a class="code" href="../../d0/d99/structast__frame.html#a6937b93c56cb473b547eda454dca7b4c">frametype</a>) {</div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;         <span class="keywordflow">case</span> <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#a248afd6c02044259a386f6b7aee922a2">AST_FRAME_DTMF</a>:</div><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;            <span class="keywordflow">if</span> (dtmf_terminator != <span class="charliteral">&#39;\0&#39;</span> &amp;&amp; f-&gt;<a class="code" href="../../d0/d99/structast__frame.html#a27237c48fdcd22556401f20c693811db">subclass</a>.<a class="code" href="../../d1/d9f/structast__frame__subclass.html#adece183191b0e700e039e59101e06105">integer</a> == dtmf_terminator) {</div><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;               <a class="code" href="../../dc/dbf/test__amihooks_8c.html#a5992b274cfdcacdbc1fa8347fd01ebde">done</a> = 1;</div><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;            } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;               quieted = 1;</div><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;               <span class="keywordflow">if</span> (<a class="code" href="../../d5/d7b/channel_8h.html#a043ef90a065fe177af7b21a6045b6506">ast_channel_stream</a>(chan) != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;                  <a class="code" href="../../d2/d4d/file_8h.html#a3092bf11d4bba66f646562759608b1bc">ast_stopstream</a>(chan);</div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;               }</div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;               <span class="keywordflow">if</span> (!started) {</div><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;                  <span class="comment">/* Change timeout to be 5 seconds for DTMF input */</span></div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;                  timeout = (<a class="code" href="../../d5/d7b/channel_8h.html#a488b7d6f7488bedc53be45d4ef4471c9">ast_channel_pbx</a>(chan) &amp;&amp; <a class="code" href="../../d5/d7b/channel_8h.html#a488b7d6f7488bedc53be45d4ef4471c9">ast_channel_pbx</a>(chan)-&gt;<a class="code" href="../../d6/d83/structast__pbx.html#a80a133d151de25445e8dfd09953a0872">dtimeoutms</a>) ? <a class="code" href="../../d5/d7b/channel_8h.html#a488b7d6f7488bedc53be45d4ef4471c9">ast_channel_pbx</a>(chan)-&gt;<a class="code" href="../../d6/d83/structast__pbx.html#a80a133d151de25445e8dfd09953a0872">dtimeoutms</a> : 5000;</div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;                  started = 1;</div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;               }</div><div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;               start = <a class="code" href="../../de/df7/time_8h.html#ad3899efb6f0e348556ef69f5b16aa7f7">ast_tvnow</a>();</div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;               snprintf(tmp, <span class="keyword">sizeof</span>(tmp), <span class="stringliteral">&quot;%c&quot;</span>, f-&gt;<a class="code" href="../../d0/d99/structast__frame.html#a27237c48fdcd22556401f20c693811db">subclass</a>.<a class="code" href="../../d1/d9f/structast__frame__subclass.html#adece183191b0e700e039e59101e06105">integer</a>);</div><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;               strncat(dtmf, tmp, <span class="keyword">sizeof</span>(dtmf) - strlen(dtmf) - 1);</div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;               <span class="comment">/* If the maximum length of the DTMF has been reached, stop now */</span></div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;               <span class="keywordflow">if</span> (max_dtmf_len &amp;&amp; strlen(dtmf) == max_dtmf_len)</div><div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;                  <a class="code" href="../../dc/dbf/test__amihooks_8c.html#a5992b274cfdcacdbc1fa8347fd01ebde">done</a> = 1;</div><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;            }</div><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;         <span class="keywordflow">case</span> <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#ae2e1a9c4e048da387b761f619312d6e0ae1dae388b0d70825876e137ae95bb0c1">AST_FRAME_CONTROL</a>:</div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;            <span class="keywordflow">switch</span> (f-&gt;<a class="code" href="../../d0/d99/structast__frame.html#a27237c48fdcd22556401f20c693811db">subclass</a>.<a class="code" href="../../d1/d9f/structast__frame__subclass.html#adece183191b0e700e039e59101e06105">integer</a>) {</div><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390aa7dac1c1896ab418c2ff351aae707fba">AST_CONTROL_HANGUP</a>:</div><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;               <span class="comment">/* Since they hung up we should destroy the speech structure */</span></div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;               <a class="code" href="../../dc/dbf/test__amihooks_8c.html#a5992b274cfdcacdbc1fa8347fd01ebde">done</a> = 3;</div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;            <span class="keywordflow">default</span>:</div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;               <span class="keywordflow">break</span>;</div><div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;            }</div><div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;         <span class="keywordflow">default</span>:</div><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;         }</div><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;         <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#a6440d070425a2efe8e0aa71e8d9e47b7">ast_frfree</a>(f);</div><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;         f = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;      }</div><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;   }</div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;</div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(dtmf)) {</div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;      <span class="comment">/* We sort of make a results entry */</span></div><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;      speech-&gt;<a class="code" href="../../d9/d95/structast__speech.html#af339908db8f5c3797e8a6684027a300c">results</a> = <a class="code" href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a>(1, <span class="keyword">sizeof</span>(*speech-&gt;<a class="code" href="../../d9/d95/structast__speech.html#af339908db8f5c3797e8a6684027a300c">results</a>));</div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;      <span class="keywordflow">if</span> (speech-&gt;<a class="code" href="../../d9/d95/structast__speech.html#af339908db8f5c3797e8a6684027a300c">results</a> != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div><div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;         <a class="code" href="../../d6/dd7/speech_8h.html#a197d101af2a8fac8753638ec00b60eeb">ast_speech_dtmf</a>(speech, dtmf);</div><div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;         speech-&gt;<a class="code" href="../../d9/d95/structast__speech.html#af339908db8f5c3797e8a6684027a300c">results</a>-&gt;<a class="code" href="../../d7/d5d/structast__speech__result.html#aef160b7437d94056f1dc59646cd5b87d">score</a> = 1000;</div><div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;         speech-&gt;<a class="code" href="../../d9/d95/structast__speech.html#af339908db8f5c3797e8a6684027a300c">results</a>-&gt;<a class="code" href="../../d7/d5d/structast__speech__result.html#a5633b1433389cec21ade3811bbe9ca5b">text</a> = <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(dtmf);</div><div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;         speech-&gt;<a class="code" href="../../d9/d95/structast__speech.html#af339908db8f5c3797e8a6684027a300c">results</a>-&gt;<a class="code" href="../../d7/d5d/structast__speech__result.html#a87785573be04a91c0d79c9f3b61976ad">grammar</a> = <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(<span class="stringliteral">&quot;dtmf&quot;</span>);</div><div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;      }</div><div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;      <a class="code" href="../../d6/dd7/speech_8h.html#abbf9d09efade60713aeba70e516cbbe5">ast_speech_change_state</a>(speech, <a class="code" href="../../d6/dd7/speech_8h.html#ad00266cfb9f168bb819ab079f04b9fccaae5f488f35a7f67e2e4627cbe8cde42e">AST_SPEECH_STATE_NOT_READY</a>);</div><div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;   }</div><div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;</div><div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;   <span class="comment">/* See if it was because they hung up */</span></div><div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../dc/dbf/test__amihooks_8c.html#a5992b274cfdcacdbc1fa8347fd01ebde">done</a> == 3) {</div><div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;      <a class="code" href="../../d4/d5b/app__speech__utils_8c.html#a9d7b00788351f0581f91564f1359dc29">speech_datastore_destroy</a>(chan);</div><div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;      <span class="comment">/* Channel is okay so restore read format */</span></div><div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#a9107a83365cbf327cc0d12cb0dbd28d8">ast_set_read_format</a>(chan, oldreadformat);</div><div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;   }</div><div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;</div><div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;}</div><div class="ttc" id="speech_8h_html_ad00266cfb9f168bb819ab079f04b9fcca604726916ee0089820cf89082f3b092f"><div class="ttname"><a href="../../d6/dd7/speech_8h.html#ad00266cfb9f168bb819ab079f04b9fcca604726916ee0089820cf89082f3b092f">AST_SPEECH_STATE_READY</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dd7/speech_8h_source.html#l00040">speech.h:40</a></div></div>
<div class="ttc" id="structast__speech_html_a89f234133d3efe315836311cbf21c64b"><div class="ttname"><a href="../../d9/d95/structast__speech.html#a89f234133d3efe315836311cbf21c64b">ast_speech::state</a></div><div class="ttdeci">int state</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dd7/speech_8h_source.html#l00059">speech.h:59</a></div></div>
<div class="ttc" id="channel_8h_html_a493bdebe876caafb8ee535853310364a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a></div><div class="ttdeci">#define ast_channel_lock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02945">channel.h:2945</a></div></div>
<div class="ttc" id="speech_8h_html_ad00266cfb9f168bb819ab079f04b9fccaae5f488f35a7f67e2e4627cbe8cde42e"><div class="ttname"><a href="../../d6/dd7/speech_8h.html#ad00266cfb9f168bb819ab079f04b9fccaae5f488f35a7f67e2e4627cbe8cde42e">AST_SPEECH_STATE_NOT_READY</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dd7/speech_8h_source.html#l00039">speech.h:39</a></div></div>
<div class="ttc" id="speech_8h_html_a35ee983d0c54de09ca8d3ffd1223c9ae"><div class="ttname"><a href="../../d6/dd7/speech_8h.html#a35ee983d0c54de09ca8d3ffd1223c9ae">ast_speech_start</a></div><div class="ttdeci">void ast_speech_start(struct ast_speech *speech)</div><div class="ttdoc">Indicate to the speech engine that audio is now going to start being written. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d2a/res__speech_8c_source.html#l00121">res_speech.c:121</a></div></div>
<div class="ttc" id="sched_8h_html_aa9c3d54f142eee0bad110fbb825c0787"><div class="ttname"><a href="../../d7/d00/sched_8h.html#aa9c3d54f142eee0bad110fbb825c0787">ast_sched_runq</a></div><div class="ttdeci">int ast_sched_runq(struct ast_sched_context *con)</div><div class="ttdoc">Runs the queue. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/dbe/sched_8c_source.html#l00755">sched.c:755</a></div></div>
<div class="ttc" id="utils_8h_html_a00d4c9254c9827d6fa44f17a326744a5"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a></div><div class="ttdeci">#define ast_test_flag(p, flag)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00063">utils.h:63</a></div></div>
<div class="ttc" id="structast__frame_html_add9af9569af79ec26dd741fb226b38ba"><div class="ttname"><a href="../../d0/d99/structast__frame.html#add9af9569af79ec26dd741fb226b38ba">ast_frame::ptr</a></div><div class="ttdeci">void * ptr</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00183">include/asterisk/frame.h:183</a></div></div>
<div class="ttc" id="structast__speech_html"><div class="ttname"><a href="../../d9/d95/structast__speech.html">ast_speech</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dd7/speech_8h_source.html#l00051">speech.h:51</a></div></div>
<div class="ttc" id="include_2asterisk_2app_8h_html_ac08f7eb1eb9476b30987c73e1052ada8"><div class="ttname"><a href="../../d3/d93/include_2asterisk_2app_8h.html#ac08f7eb1eb9476b30987c73e1052ada8">AST_STANDARD_APP_ARGS</a></div><div class="ttdeci">#define AST_STANDARD_APP_ARGS(args, parse)</div><div class="ttdoc">Performs the &amp;#39;standard&amp;#39; argument separation process for an application. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l01285">include/asterisk/app.h:1285</a></div></div>
<div class="ttc" id="cdr__mysql_8c_html_a493b57f443cc38b3d3df9c1e584d9d82"><div class="ttname"><a href="../../d0/d29/cdr__mysql_8c.html#a493b57f443cc38b3d3df9c1e584d9d82">timeout</a></div><div class="ttdeci">static int timeout</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/cdr__mysql_8c_source.html#l00086">cdr_mysql.c:86</a></div></div>
<div class="ttc" id="bt__open_8c_html_a1cdd2bb1a9a71d3e1120100229315d67"><div class="ttname"><a href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a></div><div class="ttdeci">static int tmp()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1e/bt__open_8c_source.html#l00389">bt_open.c:389</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_ae2e1a9c4e048da387b761f619312d6e0aa457fe7005f11bb7b21453f9bb4caa8f"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#ae2e1a9c4e048da387b761f619312d6e0aa457fe7005f11bb7b21453f9bb4caa8f">AST_FRAME_VOICE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00101">include/asterisk/frame.h:101</a></div></div>
<div class="ttc" id="channel_8h_html_a7ef6737309dc9e8b6c4a7cb4800638b1"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a7ef6737309dc9e8b6c4a7cb4800638b1">ast_read</a></div><div class="ttdeci">struct ast_frame * ast_read(struct ast_channel *chan)</div><div class="ttdoc">Reads a frame. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l04302">channel.c:4302</a></div></div>
<div class="ttc" id="channelstate_8h_html_a03585bc87e5bbd0f4d11bc789734c660"><div class="ttname"><a href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660">ast_channel_state</a></div><div class="ttdeci">ast_channel_state</div><div class="ttdoc">ast_channel states </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d95/channelstate_8h_source.html#l00035">channelstate.h:35</a></div></div>
<div class="ttc" id="speech_8h_html_a982ace0eabd45d35786070ff32687c64"><div class="ttname"><a href="../../d6/dd7/speech_8h.html#a982ace0eabd45d35786070ff32687c64">ast_speech_results_get</a></div><div class="ttdeci">struct ast_speech_result * ast_speech_results_get(struct ast_speech *speech)</div><div class="ttdoc">Get speech recognition results. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d2a/res__speech_8c_source.html#l00089">res_speech.c:89</a></div></div>
<div class="ttc" id="app__speech__utils_8c_html_a24e6fc762a78b042d53ccf0fe2c9981d"><div class="ttname"><a href="../../d4/d5b/app__speech__utils_8c.html#a24e6fc762a78b042d53ccf0fe2c9981d">speech_streamfile</a></div><div class="ttdeci">static int speech_streamfile(struct ast_channel *chan, const char *filename, const char *preflang)</div><div class="ttdoc">Helper function used by speech_background to playback a soundfile. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d5b/app__speech__utils_8c_source.html#l00676">app_speech_utils.c:676</a></div></div>
<div class="ttc" id="structast__format_html"><div class="ttname"><a href="../../d0/d98/structast__format.html">ast_format</a></div><div class="ttdoc">Definition of a media format. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/da6/format_8c_source.html#l00043">format.c:43</a></div></div>
<div class="ttc" id="time_8h_html_ad3899efb6f0e348556ef69f5b16aa7f7"><div class="ttname"><a href="../../de/df7/time_8h.html#ad3899efb6f0e348556ef69f5b16aa7f7">ast_tvnow</a></div><div class="ttdeci">struct timeval ast_tvnow(void)</div><div class="ttdoc">Returns current timeval. Meant to replace calls to gettimeofday(). </div><div class="ttdef"><b>Definition:</b> <a href="../../de/df7/time_8h_source.html#l00150">time.h:150</a></div></div>
<div class="ttc" id="lock_8h_html_ac5e13c7fe64d3b271a52028b0a78b92b"><div class="ttname"><a href="../../dd/d42/lock_8h.html#ac5e13c7fe64d3b271a52028b0a78b92b">ast_mutex_lock</a></div><div class="ttdeci">#define ast_mutex_lock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00187">lock.h:187</a></div></div>
<div class="ttc" id="channelstate_8h_html_a03585bc87e5bbd0f4d11bc789734c660aa8ab4bcda7378ccc17c39dfd880cba3d"><div class="ttname"><a href="../../d9/d95/channelstate_8h.html#a03585bc87e5bbd0f4d11bc789734c660aa8ab4bcda7378ccc17c39dfd880cba3d">AST_STATE_UP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d95/channelstate_8h_source.html#l00042">channelstate.h:42</a></div></div>
<div class="ttc" id="time_8h_html_aca4ecdab7d8d3519062aad9a90fcb29d"><div class="ttname"><a href="../../de/df7/time_8h.html#aca4ecdab7d8d3519062aad9a90fcb29d">ast_tvdiff_ms</a></div><div class="ttdeci">int64_t ast_tvdiff_ms(struct timeval end, struct timeval start)</div><div class="ttdoc">Computes the difference (in milliseconds) between two struct timeval instances. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/df7/time_8h_source.html#l00098">time.h:98</a></div></div>
<div class="ttc" id="astmm_8h_html_ab263849d03fb892847be4986db759737"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a></div><div class="ttdeci">#define ast_strdup(str)</div><div class="ttdoc">A wrapper for strdup() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00243">astmm.h:243</a></div></div>
<div class="ttc" id="test__func__file_8c_html_a7df83d295429a2562396f1ec127a46c0"><div class="ttname"><a href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a></div><div class="ttdeci">const char * args</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/test__func__file_8c_source.html#l00046">test_func_file.c:46</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_a248afd6c02044259a386f6b7aee922a2"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#a248afd6c02044259a386f6b7aee922a2">AST_FRAME_DTMF</a></div><div class="ttdeci">#define AST_FRAME_DTMF</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00139">include/asterisk/frame.h:139</a></div></div>
<div class="ttc" id="structast__speech__result_html_a87785573be04a91c0d79c9f3b61976ad"><div class="ttname"><a href="../../d7/d5d/structast__speech__result.html#a87785573be04a91c0d79c9f3b61976ad">ast_speech_result::grammar</a></div><div class="ttdeci">char * grammar</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dd7/speech_8h_source.html#l00116">speech.h:116</a></div></div>
<div class="ttc" id="pbx_8h_html_a98c5425b90ec7c5e136a40f529170b1b"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a98c5425b90ec7c5e136a40f529170b1b">pbx_builtin_getvar_helper</a></div><div class="ttdeci">const char * pbx_builtin_getvar_helper(struct ast_channel *chan, const char *name)</div><div class="ttdoc">Return a pointer to the value of the corresponding channel variable. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d8c/pbx__variables_8c_source.html#l01000">pbx_variables.c:1000</a></div></div>
<div class="ttc" id="structast__frame_html_a27237c48fdcd22556401f20c693811db"><div class="ttname"><a href="../../d0/d99/structast__frame.html#a27237c48fdcd22556401f20c693811db">ast_frame::subclass</a></div><div class="ttdeci">struct ast_frame_subclass subclass</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00169">include/asterisk/frame.h:169</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="channel_8h_html_aaced431562223538a94e0e69cf94151a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#aaced431562223538a94e0e69cf94151a">ast_channel_readformat</a></div><div class="ttdeci">struct ast_format * ast_channel_readformat(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00856">channel_internal_api.c:856</a></div></div>
<div class="ttc" id="test__amihooks_8c_html_a5992b274cfdcacdbc1fa8347fd01ebde"><div class="ttname"><a href="../../dc/dbf/test__amihooks_8c.html#a5992b274cfdcacdbc1fa8347fd01ebde">done</a></div><div class="ttdeci">int done</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbf/test__amihooks_8c_source.html#l00048">test_amihooks.c:48</a></div></div>
<div class="ttc" id="astobj2_8h_html_ac438c3fcd3150481fad38689fd813a15"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ac438c3fcd3150481fad38689fd813a15">ao2_bump</a></div><div class="ttdeci">#define ao2_bump(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00491">astobj2.h:491</a></div></div>
<div class="ttc" id="structast__frame__subclass_html_adece183191b0e700e039e59101e06105"><div class="ttname"><a href="../../d1/d9f/structast__frame__subclass.html#adece183191b0e700e039e59101e06105">ast_frame_subclass::integer</a></div><div class="ttdeci">int integer</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00152">include/asterisk/frame.h:152</a></div></div>
<div class="ttc" id="channel_8h_html_a9107a83365cbf327cc0d12cb0dbd28d8"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a9107a83365cbf327cc0d12cb0dbd28d8">ast_set_read_format</a></div><div class="ttdeci">int ast_set_read_format(struct ast_channel *chan, struct ast_format *format)</div><div class="ttdoc">Sets read format on channel chan. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l05849">channel.c:5849</a></div></div>
<div class="ttc" id="utils_8h_html_a1604b4d72144dd3d9f7da668e90337e9"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a></div><div class="ttdeci">#define RAII_VAR(vartype, varname, initval, dtor)</div><div class="ttdoc">Declare a variable that will call a destructor function when it goes out of scope. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00911">utils.h:911</a></div></div>
<div class="ttc" id="speech_8h_html_abbf9d09efade60713aeba70e516cbbe5"><div class="ttname"><a href="../../d6/dd7/speech_8h.html#abbf9d09efade60713aeba70e516cbbe5">ast_speech_change_state</a></div><div class="ttdeci">int ast_speech_change_state(struct ast_speech *speech, int state)</div><div class="ttdoc">Change state of a speech structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d2a/res__speech_8c_source.html#l00267">res_speech.c:267</a></div></div>
<div class="ttc" id="app__speech__utils_8c_html_add75c49609e0f0e226c80a5e48380623"><div class="ttname"><a href="../../d4/d5b/app__speech__utils_8c.html#add75c49609e0f0e226c80a5e48380623">find_speech</a></div><div class="ttdeci">static struct ast_speech * find_speech(struct ast_channel *chan)</div><div class="ttdoc">Helper function used to find the speech structure attached to a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d5b/app__speech__utils_8c_source.html#l00282">app_speech_utils.c:282</a></div></div>
<div class="ttc" id="channel_8h_html_a488b7d6f7488bedc53be45d4ef4471c9"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a488b7d6f7488bedc53be45d4ef4471c9">ast_channel_pbx</a></div><div class="ttdeci">struct ast_pbx * ast_channel_pbx(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00721">channel_internal_api.c:721</a></div></div>
<div class="ttc" id="channel_8h_html_af4e59494f74ad9e0c50170d9e276ad31"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af4e59494f74ad9e0c50170d9e276ad31">AST_MAX_EXTENSION</a></div><div class="ttdeci">#define AST_MAX_EXTENSION</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l00135">channel.h:135</a></div></div>
<div class="ttc" id="structast__frame_html_ad67e07841d1233e596e6f822a3c81f6b"><div class="ttname"><a href="../../d0/d99/structast__frame.html#ad67e07841d1233e596e6f822a3c81f6b">ast_frame::datalen</a></div><div class="ttdeci">int datalen</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00171">include/asterisk/frame.h:171</a></div></div>
<div class="ttc" id="astmm_8h_html_ab5f0750cc80ba337fdcbddea2d3a1ee6"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a></div><div class="ttdeci">#define ast_strdupa(s)</div><div class="ttdoc">duplicate a string in memory from the stack </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00300">astmm.h:300</a></div></div>
<div class="ttc" id="speech_8h_html_ad00266cfb9f168bb819ab079f04b9fcca391d9b14c01f4da04e8c8536392e1708"><div class="ttname"><a href="../../d6/dd7/speech_8h.html#ad00266cfb9f168bb819ab079f04b9fcca391d9b14c01f4da04e8c8536392e1708">AST_SPEECH_STATE_DONE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dd7/speech_8h_source.html#l00042">speech.h:42</a></div></div>
<div class="ttc" id="structast__speech_html_af339908db8f5c3797e8a6684027a300c"><div class="ttname"><a href="../../d9/d95/structast__speech.html#af339908db8f5c3797e8a6684027a300c">ast_speech::results</a></div><div class="ttdeci">struct ast_speech_result * results</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dd7/speech_8h_source.html#l00065">speech.h:65</a></div></div>
<div class="ttc" id="include_2asterisk_2app_8h_html_af40039f1c49c16d0f6fa33fe9c43a0cb"><div class="ttname"><a href="../../d3/d93/include_2asterisk_2app_8h.html#af40039f1c49c16d0f6fa33fe9c43a0cb">ast_app_parse_options</a></div><div class="ttdeci">int ast_app_parse_options(const struct ast_app_option *options, struct ast_flags *flags, char **args, char *optstr)</div><div class="ttdoc">Parses a string containing application options and sets flags/arguments. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d83/main_2app_8c_source.html#l02906">main/app.c:2906</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_ae2e1a9c4e048da387b761f619312d6e0ae1dae388b0d70825876e137ae95bb0c1"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#ae2e1a9c4e048da387b761f619312d6e0ae1dae388b0d70825876e137ae95bb0c1">AST_FRAME_CONTROL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00105">include/asterisk/frame.h:105</a></div></div>
<div class="ttc" id="channel_8h_html_acd3470664b6a002c9a379a69ddad4cb2"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#acd3470664b6a002c9a379a69ddad4cb2">ast_channel_sched</a></div><div class="ttdeci">struct ast_sched_context * ast_channel_sched(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00729">channel_internal_api.c:729</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_aedda41918e992000fe921f8f7363b390aa7dac1c1896ab418c2ff351aae707fba"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390aa7dac1c1896ab418c2ff351aae707fba">AST_CONTROL_HANGUP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00278">include/asterisk/frame.h:278</a></div></div>
<div class="ttc" id="speech_8h_html_ad00266cfb9f168bb819ab079f04b9fccab25d197057f8858ca88fc66814403f2f"><div class="ttname"><a href="../../d6/dd7/speech_8h.html#ad00266cfb9f168bb819ab079f04b9fccab25d197057f8858ca88fc66814403f2f">AST_SPEECH_STATE_WAIT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dd7/speech_8h_source.html#l00041">speech.h:41</a></div></div>
<div class="ttc" id="channel_8h_html_aca669cf3bcacc3152088c9e5057f4239"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#aca669cf3bcacc3152088c9e5057f4239">ast_channel_streamid</a></div><div class="ttdeci">int ast_channel_streamid(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00461">channel_internal_api.c:461</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="chan__mgcp_8c_html_a2e006acff60d9b3d65d7d60f975d6747"><div class="ttname"><a href="../../d0/dd6/chan__mgcp_8c.html#a2e006acff60d9b3d65d7d60f975d6747">parse</a></div><div class="ttdeci">static void parse(struct mgcp_request *req)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dd6/chan__mgcp_8c_source.html#l01872">chan_mgcp.c:1872</a></div></div>
<div class="ttc" id="astmm_8h_html_ae0cd4c5524b01287ab19cbe233d9cebb"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a></div><div class="ttdeci">#define ast_calloc(num, len)</div><div class="ttdoc">A wrapper for calloc() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00204">astmm.h:204</a></div></div>
<div class="ttc" id="structast__speech_html_ab425a484a0916077c5a30d9d7b229b44"><div class="ttname"><a href="../../d9/d95/structast__speech.html#ab425a484a0916077c5a30d9d7b229b44">ast_speech::format</a></div><div class="ttdeci">struct ast_format * format</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dd7/speech_8h_source.html#l00061">speech.h:61</a></div></div>
<div class="ttc" id="channel_8h_html_a043ef90a065fe177af7b21a6045b6506"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a043ef90a065fe177af7b21a6045b6506">ast_channel_stream</a></div><div class="ttdeci">struct ast_filestream * ast_channel_stream(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00621">channel_internal_api.c:621</a></div></div>
<div class="ttc" id="structast__flags_html"><div class="ttname"><a href="../../dc/dac/structast__flags.html">ast_flags</a></div><div class="ttdoc">Structure used to handle boolean flags. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00199">utils.h:199</a></div></div>
<div class="ttc" id="utils_8h_html_a7b260320610a09017a9416398acd0a70"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a7b260320610a09017a9416398acd0a70">ast_clear_flag</a></div><div class="ttdeci">#define ast_clear_flag(p, flag)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00077">utils.h:77</a></div></div>
<div class="ttc" id="app__speech__utils_8c_html_a9d7b00788351f0581f91564f1359dc29"><div class="ttname"><a href="../../d4/d5b/app__speech__utils_8c.html#a9d7b00788351f0581f91564f1359dc29">speech_datastore_destroy</a></div><div class="ttdeci">static int speech_datastore_destroy(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d5b/app__speech__utils_8c_source.html#l00311">app_speech_utils.c:311</a></div></div>
<div class="ttc" id="speech_8h_html_afa3ec79b3c936aaa74aa6b54ddfacb77a4199180a8b7c0b860d869eb05e3788cf"><div class="ttname"><a href="../../d6/dd7/speech_8h.html#afa3ec79b3c936aaa74aa6b54ddfacb77a4199180a8b7c0b860d869eb05e3788cf">AST_SPEECH_QUIET</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dd7/speech_8h_source.html#l00032">speech.h:32</a></div></div>
<div class="ttc" id="structast__speech_html_adf04f66344e3fb0a6f6a69bf39d19902"><div class="ttname"><a href="../../d9/d95/structast__speech.html#adf04f66344e3fb0a6f6a69bf39d19902">ast_speech::lock</a></div><div class="ttdeci">ast_mutex_t lock</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dd7/speech_8h_source.html#l00053">speech.h:53</a></div></div>
<div class="ttc" id="include_2asterisk_2compat_8h_html_a40eca58273c74a20a17f137d18ba826c"><div class="ttname"><a href="../../de/da3/include_2asterisk_2compat_8h.html#a40eca58273c74a20a17f137d18ba826c">strsep</a></div><div class="ttdeci">char * strsep(char **str, const char *delims)</div></div>
<div class="ttc" id="channel_8h_html_a60e0bcaed001e8d5ed1ba0eb2644b3cc"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a60e0bcaed001e8d5ed1ba0eb2644b3cc">ast_waitfor</a></div><div class="ttdeci">int ast_waitfor(struct ast_channel *chan, int ms)</div><div class="ttdoc">Wait for input on a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l03171">channel.c:3171</a></div></div>
<div class="ttc" id="structast__pbx_html_a80a133d151de25445e8dfd09953a0872"><div class="ttname"><a href="../../d6/d83/structast__pbx.html#a80a133d151de25445e8dfd09953a0872">ast_pbx::dtimeoutms</a></div><div class="ttdeci">int dtimeoutms</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de0/pbx_8h_source.html#l00212">pbx.h:212</a></div></div>
<div class="ttc" id="speech_8h_html_a197d101af2a8fac8753638ec00b60eeb"><div class="ttname"><a href="../../d6/dd7/speech_8h.html#a197d101af2a8fac8753638ec00b60eeb">ast_speech_dtmf</a></div><div class="ttdeci">int ast_speech_dtmf(struct ast_speech *speech, const char *dtmf)</div><div class="ttdoc">Signal to the engine that DTMF was received. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d2a/res__speech_8c_source.html#l00153">res_speech.c:153</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="app__speech__utils_8c_html_a320778bebe128fd8006bdf7730dcebef"><div class="ttname"><a href="../../d4/d5b/app__speech__utils_8c.html#a320778bebe128fd8006bdf7730dcebef">speech_background_options</a></div><div class="ttdeci">static const struct ast_app_option speech_background_options[128]</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d5b/app__speech__utils_8c_source.html#l00697">app_speech_utils.c:697</a></div></div>
<div class="ttc" id="structast__speech__result_html_a5633b1433389cec21ade3811bbe9ca5b"><div class="ttname"><a href="../../d7/d5d/structast__speech__result.html#a5633b1433389cec21ade3811bbe9ca5b">ast_speech_result::text</a></div><div class="ttdeci">char * text</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dd7/speech_8h_source.html#l00110">speech.h:110</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_a6440d070425a2efe8e0aa71e8d9e47b7"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#a6440d070425a2efe8e0aa71e8d9e47b7">ast_frfree</a></div><div class="ttdeci">#define ast_frfree(fr)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00556">include/asterisk/frame.h:556</a></div></div>
<div class="ttc" id="channel_8h_html_aec583a3e25358ee552a4f3df53914cd0"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#aec583a3e25358ee552a4f3df53914cd0">ast_answer</a></div><div class="ttdeci">int ast_answer(struct ast_channel *chan)</div><div class="ttdoc">Answer a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l02814">channel.c:2814</a></div></div>
<div class="ttc" id="sched_8h_html_af13fcd6652b8dcafae35c2fa35e80a8d"><div class="ttname"><a href="../../d7/d00/sched_8h.html#af13fcd6652b8dcafae35c2fa35e80a8d">ast_sched_wait</a></div><div class="ttdeci">int ast_sched_wait(struct ast_sched_context *con) attribute_warn_unused_result</div><div class="ttdoc">Determines number of seconds until the next outstanding event to take place. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/dbe/sched_8c_source.html#l00431">sched.c:431</a></div></div>
<div class="ttc" id="structast__frame_html"><div class="ttname"><a href="../../d0/d99/structast__frame.html">ast_frame</a></div><div class="ttdoc">Data structure associated with a single frame of data. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00165">include/asterisk/frame.h:165</a></div></div>
<div class="ttc" id="channel_8h_html_a9abe31fe40dcd03cd2957e5309e32ac6"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a9abe31fe40dcd03cd2957e5309e32ac6">ast_channel_language</a></div><div class="ttdeci">const char * ast_channel_language(const struct ast_channel *chan)</div></div>
<div class="ttc" id="structast__speech_html_a40e56819be5b8279e0eb05561d5c1f9a"><div class="ttname"><a href="../../d9/d95/structast__speech.html#a40e56819be5b8279e0eb05561d5c1f9a">ast_speech::processing_sound</a></div><div class="ttdeci">char * processing_sound</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dd7/speech_8h_source.html#l00057">speech.h:57</a></div></div>
<div class="ttc" id="app__speech__utils_8c_html_abe974f22edeef8189603ba75fd90ff3ca88817d51e54121d32cfc297418f14ebd"><div class="ttname"><a href="../../d4/d5b/app__speech__utils_8c.html#abe974f22edeef8189603ba75fd90ff3ca88817d51e54121d32cfc297418f14ebd">SB_OPT_NOANSWER</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d5b/app__speech__utils_8c_source.html#l00692">app_speech_utils.c:692</a></div></div>
<div class="ttc" id="structast__frame_html_a4027905f872af30d910929b07e261ca5"><div class="ttname"><a href="../../d0/d99/structast__frame.html#a4027905f872af30d910929b07e261ca5">ast_frame::data</a></div><div class="ttdeci">union ast_frame::@263 data</div></div>
<div class="ttc" id="structast__frame_html_a6937b93c56cb473b547eda454dca7b4c"><div class="ttname"><a href="../../d0/d99/structast__frame.html#a6937b93c56cb473b547eda454dca7b4c">ast_frame::frametype</a></div><div class="ttdeci">enum ast_frame_type frametype</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00167">include/asterisk/frame.h:167</a></div></div>
<div class="ttc" id="test__http__media__cache_8c_html_a80c8e3ae5087d90d422675d034eeebc7"><div class="ttname"><a href="../../d4/d45/test__http__media__cache_8c.html#a80c8e3ae5087d90d422675d034eeebc7">options</a></div><div class="ttdeci">static struct test_options options</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d45/test__http__media__cache_8c_source.html#l00062">test_http_media_cache.c:62</a></div></div>
<div class="ttc" id="speech_8h_html_a4ae1a7f76105b9f218161faed71590e4"><div class="ttname"><a href="../../d6/dd7/speech_8h.html#a4ae1a7f76105b9f218161faed71590e4">ast_speech_write</a></div><div class="ttdeci">int ast_speech_write(struct ast_speech *speech, void *data, int len)</div><div class="ttdoc">Write audio to the speech engine. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d2a/res__speech_8c_source.html#l00143">res_speech.c:143</a></div></div>
<div class="ttc" id="channel_8h_html_ab23fb6dcd2315d22d59b5101b8ca5417"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#ab23fb6dcd2315d22d59b5101b8ca5417">ast_channel_timingfunc</a></div><div class="ttdeci">ast_timing_func_t ast_channel_timingfunc(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l01231">channel_internal_api.c:1231</a></div></div>
<div class="ttc" id="structast__speech__result_html_aef160b7437d94056f1dc59646cd5b87d"><div class="ttname"><a href="../../d7/d5d/structast__speech__result.html#aef160b7437d94056f1dc59646cd5b87d">ast_speech_result::score</a></div><div class="ttdeci">int score</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dd7/speech_8h_source.html#l00112">speech.h:112</a></div></div>
<div class="ttc" id="include_2asterisk_2app_8h_html_a80cd3f6f786b59b742bcecfc0b3be7c2"><div class="ttname"><a href="../../d3/d93/include_2asterisk_2app_8h.html#a80cd3f6f786b59b742bcecfc0b3be7c2">AST_DECLARE_APP_ARGS</a></div><div class="ttdeci">#define AST_DECLARE_APP_ARGS(name, arglist)</div><div class="ttdoc">Declare a structure to hold an application&amp;#39;s arguments. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l01249">include/asterisk/app.h:1249</a></div></div>
<div class="ttc" id="file_8h_html_a3092bf11d4bba66f646562759608b1bc"><div class="ttname"><a href="../../d2/d4d/file_8h.html#a3092bf11d4bba66f646562759608b1bc">ast_stopstream</a></div><div class="ttdeci">int ast_stopstream(struct ast_channel *c)</div><div class="ttdoc">Stops a stream. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d13/file_8c_source.html#l00187">file.c:187</a></div></div>
<div class="ttc" id="lock_8h_html_a873f9ce8c6287a32d48c83133e124418"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a873f9ce8c6287a32d48c83133e124418">ast_mutex_unlock</a></div><div class="ttdeci">#define ast_mutex_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00188">lock.h:188</a></div></div>
<div class="ttc" id="include_2asterisk_2app_8h_html_a037e9a5b28477b17e7c9acbe7ecb21d5"><div class="ttname"><a href="../../d3/d93/include_2asterisk_2app_8h.html#a037e9a5b28477b17e7c9acbe7ecb21d5">AST_APP_ARG</a></div><div class="ttdeci">#define AST_APP_ARG(name)</div><div class="ttdoc">Define an application argument. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l01232">include/asterisk/app.h:1232</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a323e1b907e8b02073cc1c29b435ec4e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a323e1b907e8b02073cc1c29b435ec4e3">&#9670;&nbsp;</a></span>speech_create()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int speech_create </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>SpeechCreate() Dialplan Application. </p>

<p class="definition">Definition at line <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html#l00543">543</a> of file <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html">app_speech_utils.c</a>.</p>

<p class="reference">References <a class="el" href="../../d4/d28/channel_8c_source.html#l02390">ast_channel_datastore_add()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02945">ast_channel_lock</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00637">ast_channel_nativeformats()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../d9/db6/datastore_8h_source.html#l00089">ast_datastore_alloc</a>, <a class="el" href="../../db/d2a/res__speech_8c_source.html#l00240">ast_speech_destroy()</a>, <a class="el" href="../../db/d2a/res__speech_8c_source.html#l00180">ast_speech_new()</a>, <a class="el" href="../../d9/db6/datastore_8h_source.html#l00070">ast_datastore::data</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../d3/d8c/pbx__variables_8c_source.html#l01071">pbx_builtin_setvar_helper()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html#l00979">load_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;{</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/d95/structast__speech.html">ast_speech</a> *speech = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d5d/structast__datastore.html">ast_datastore</a> *datastore = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;   <span class="comment">/* Request a speech object */</span></div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;   speech = <a class="code" href="../../d6/dd7/speech_8h.html#abc345662bf167a1f82cc6ec06ec36a18">ast_speech_new</a>(<a class="code" href="../../d4/d5d/structast__datastore.html#a735984d41155bc1032e09bece8f8d66d">data</a>, <a class="code" href="../../d5/d7b/channel_8h.html#a4a5bc2ea394aace55ea3809e53365ea9">ast_channel_nativeformats</a>(chan));</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;   <span class="keywordflow">if</span> (speech == <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;      <span class="comment">/* Not available */</span></div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;      <a class="code" href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a>(chan, <span class="stringliteral">&quot;ERROR&quot;</span>, <span class="stringliteral">&quot;1&quot;</span>);</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;   }</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;   datastore = <a class="code" href="../../d9/db6/datastore_8h.html#a666afb07fd77d50782cc10f83e029159">ast_datastore_alloc</a>(&amp;<a class="code" href="../../d4/d5b/app__speech__utils_8c.html#a2050ca627af3f4230f3497cd2f684c32">speech_datastore</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;   <span class="keywordflow">if</span> (datastore == <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;      <a class="code" href="../../d6/dd7/speech_8h.html#a7ebc9d3250a75a2cb7ee2f7c15eb8228">ast_speech_destroy</a>(speech);</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;      <a class="code" href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a>(chan, <span class="stringliteral">&quot;ERROR&quot;</span>, <span class="stringliteral">&quot;1&quot;</span>);</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;   }</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;   <a class="code" href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a>(chan, <span class="stringliteral">&quot;ERROR&quot;</span>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;   datastore-&gt;<a class="code" href="../../d4/d5d/structast__datastore.html#a735984d41155bc1032e09bece8f8d66d">data</a> = speech;</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(chan);</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a1ed3e98d33d5587948a0e2ef67a81f52">ast_channel_datastore_add</a>(chan, datastore);</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;}</div><div class="ttc" id="channel_8h_html_a493bdebe876caafb8ee535853310364a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a></div><div class="ttdeci">#define ast_channel_lock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02945">channel.h:2945</a></div></div>
<div class="ttc" id="speech_8h_html_a7ebc9d3250a75a2cb7ee2f7c15eb8228"><div class="ttname"><a href="../../d6/dd7/speech_8h.html#a7ebc9d3250a75a2cb7ee2f7c15eb8228">ast_speech_destroy</a></div><div class="ttdeci">int ast_speech_destroy(struct ast_speech *speech)</div><div class="ttdoc">Destroy a speech structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d2a/res__speech_8c_source.html#l00240">res_speech.c:240</a></div></div>
<div class="ttc" id="structast__speech_html"><div class="ttname"><a href="../../d9/d95/structast__speech.html">ast_speech</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dd7/speech_8h_source.html#l00051">speech.h:51</a></div></div>
<div class="ttc" id="structast__datastore_html"><div class="ttname"><a href="../../d4/d5d/structast__datastore.html">ast_datastore</a></div><div class="ttdoc">Structure for a data store object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00068">datastore.h:68</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="channel_8h_html_a4a5bc2ea394aace55ea3809e53365ea9"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a4a5bc2ea394aace55ea3809e53365ea9">ast_channel_nativeformats</a></div><div class="ttdeci">struct ast_format_cap * ast_channel_nativeformats(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00637">channel_internal_api.c:637</a></div></div>
<div class="ttc" id="pbx_8h_html_a6e5b90edb84d216267148dddcffe9b9a"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a></div><div class="ttdeci">int pbx_builtin_setvar_helper(struct ast_channel *chan, const char *name, const char *value)</div><div class="ttdoc">Add a variable to the channel variable stack, removing the most recently set value for the same name...</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d8c/pbx__variables_8c_source.html#l01071">pbx_variables.c:1071</a></div></div>
<div class="ttc" id="app__speech__utils_8c_html_a2050ca627af3f4230f3497cd2f684c32"><div class="ttname"><a href="../../d4/d5b/app__speech__utils_8c.html#a2050ca627af3f4230f3497cd2f684c32">speech_datastore</a></div><div class="ttdeci">static const struct ast_datastore_info speech_datastore</div><div class="ttdoc">Static structure for datastore information. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d5b/app__speech__utils_8c_source.html#l00276">app_speech_utils.c:276</a></div></div>
<div class="ttc" id="structast__datastore_html_a735984d41155bc1032e09bece8f8d66d"><div class="ttname"><a href="../../d4/d5d/structast__datastore.html#a735984d41155bc1032e09bece8f8d66d">ast_datastore::data</a></div><div class="ttdeci">void * data</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00070">datastore.h:70</a></div></div>
<div class="ttc" id="speech_8h_html_abc345662bf167a1f82cc6ec06ec36a18"><div class="ttname"><a href="../../d6/dd7/speech_8h.html#abc345662bf167a1f82cc6ec06ec36a18">ast_speech_new</a></div><div class="ttdeci">struct ast_speech * ast_speech_new(const char *engine_name, const struct ast_format_cap *formats)</div><div class="ttdoc">Create a new speech structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d2a/res__speech_8c_source.html#l00180">res_speech.c:180</a></div></div>
<div class="ttc" id="datastore_8h_html_a666afb07fd77d50782cc10f83e029159"><div class="ttname"><a href="../../d9/db6/datastore_8h.html#a666afb07fd77d50782cc10f83e029159">ast_datastore_alloc</a></div><div class="ttdeci">#define ast_datastore_alloc(info, uid)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00089">datastore.h:89</a></div></div>
<div class="ttc" id="channel_8h_html_a1ed3e98d33d5587948a0e2ef67a81f52"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a1ed3e98d33d5587948a0e2ef67a81f52">ast_channel_datastore_add</a></div><div class="ttdeci">int ast_channel_datastore_add(struct ast_channel *chan, struct ast_datastore *datastore)</div><div class="ttdoc">Add a datastore to a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l02390">channel.c:2390</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a9d7b00788351f0581f91564f1359dc29"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d7b00788351f0581f91564f1359dc29">&#9670;&nbsp;</a></span>speech_datastore_destroy()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int speech_datastore_destroy </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html#l00311">311</a> of file <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html">app_speech_utils.c</a>.</p>

<p class="reference">References <a class="el" href="../../d4/d28/channel_8c_source.html#l02404">ast_channel_datastore_find()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l02399">ast_channel_datastore_remove()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02945">ast_channel_lock</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../d7/d7a/datastore_8c_source.html#l00068">ast_datastore_free()</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html#l00700">speech_background()</a>, and <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html#l00948">speech_destroy()</a>.</p>
<div class="fragment"><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;{</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d5d/structast__datastore.html">ast_datastore</a> *datastore;</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(chan);</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;   datastore = <a class="code" href="../../d5/d7b/channel_8h.html#aad1e09cd7c79237d05cffb45d6cdfd7c">ast_channel_datastore_find</a>(chan, &amp;<a class="code" href="../../d4/d5b/app__speech__utils_8c.html#a2050ca627af3f4230f3497cd2f684c32">speech_datastore</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;   <span class="keywordflow">if</span> (datastore) {</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#a1ff1c62b6d50823da93a920575c9c0c9">ast_channel_datastore_remove</a>(chan, datastore);</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;   }</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;   <span class="keywordflow">if</span> (datastore) {</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;      <a class="code" href="../../d9/db6/datastore_8h.html#aee27286888b30c6448a9bce928040a14">ast_datastore_free</a>(datastore);</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;      res = 0;</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;      res = -1;</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;   }</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;}</div><div class="ttc" id="channel_8h_html_a493bdebe876caafb8ee535853310364a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a></div><div class="ttdeci">#define ast_channel_lock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02945">channel.h:2945</a></div></div>
<div class="ttc" id="structast__datastore_html"><div class="ttname"><a href="../../d4/d5d/structast__datastore.html">ast_datastore</a></div><div class="ttdoc">Structure for a data store object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/db6/datastore_8h_source.html#l00068">datastore.h:68</a></div></div>
<div class="ttc" id="channel_8h_html_aad1e09cd7c79237d05cffb45d6cdfd7c"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#aad1e09cd7c79237d05cffb45d6cdfd7c">ast_channel_datastore_find</a></div><div class="ttdeci">struct ast_datastore * ast_channel_datastore_find(struct ast_channel *chan, const struct ast_datastore_info *info, const char *uid)</div><div class="ttdoc">Find a datastore on a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l02404">channel.c:2404</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="datastore_8h_html_aee27286888b30c6448a9bce928040a14"><div class="ttname"><a href="../../d9/db6/datastore_8h.html#aee27286888b30c6448a9bce928040a14">ast_datastore_free</a></div><div class="ttdeci">int ast_datastore_free(struct ast_datastore *datastore)</div><div class="ttdoc">Free a data store object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d7a/datastore_8c_source.html#l00068">datastore.c:68</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="app__speech__utils_8c_html_a2050ca627af3f4230f3497cd2f684c32"><div class="ttname"><a href="../../d4/d5b/app__speech__utils_8c.html#a2050ca627af3f4230f3497cd2f684c32">speech_datastore</a></div><div class="ttdeci">static const struct ast_datastore_info speech_datastore</div><div class="ttdoc">Static structure for datastore information. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d5b/app__speech__utils_8c_source.html#l00276">app_speech_utils.c:276</a></div></div>
<div class="ttc" id="channel_8h_html_a1ff1c62b6d50823da93a920575c9c0c9"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a1ff1c62b6d50823da93a920575c9c0c9">ast_channel_datastore_remove</a></div><div class="ttdeci">int ast_channel_datastore_remove(struct ast_channel *chan, struct ast_datastore *datastore)</div><div class="ttdoc">Remove a datastore from a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l02399">channel.c:2399</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="adbde5e54db990ff3df7c305a526042de"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adbde5e54db990ff3df7c305a526042de">&#9670;&nbsp;</a></span>speech_deactivate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int speech_deactivate </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>SpeechDeactivateGrammar(Grammar Name) Dialplan Application. </p>

<p class="definition">Definition at line <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html#l00613">613</a> of file <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html">app_speech_utils.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/d2a/res__speech_8c_source.html#l00071">ast_speech_grammar_deactivate()</a>, <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html#l00282">find_speech()</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html#l00979">load_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;{</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;   <span class="keywordtype">int</span> res = 0;</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/d95/structast__speech.html">ast_speech</a> *speech = <a class="code" href="../../d4/d5b/app__speech__utils_8c.html#add75c49609e0f0e226c80a5e48380623">find_speech</a>(chan);</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;   <span class="keywordflow">if</span> (speech == <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;   <span class="comment">/* Deactivate the grammar on the speech object */</span></div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;   res = <a class="code" href="../../d6/dd7/speech_8h.html#a25ad3a3563d155362db5bedffb8edb03">ast_speech_grammar_deactivate</a>(speech, <a class="code" href="../../d9/d95/structast__speech.html#a735984d41155bc1032e09bece8f8d66d">data</a>);</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;}</div><div class="ttc" id="structast__speech_html"><div class="ttname"><a href="../../d9/d95/structast__speech.html">ast_speech</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dd7/speech_8h_source.html#l00051">speech.h:51</a></div></div>
<div class="ttc" id="structast__speech_html_a735984d41155bc1032e09bece8f8d66d"><div class="ttname"><a href="../../d9/d95/structast__speech.html#a735984d41155bc1032e09bece8f8d66d">ast_speech::data</a></div><div class="ttdeci">void * data</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dd7/speech_8h_source.html#l00063">speech.h:63</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="speech_8h_html_a25ad3a3563d155362db5bedffb8edb03"><div class="ttname"><a href="../../d6/dd7/speech_8h.html#a25ad3a3563d155362db5bedffb8edb03">ast_speech_grammar_deactivate</a></div><div class="ttdeci">int ast_speech_grammar_deactivate(struct ast_speech *speech, const char *grammar_name)</div><div class="ttdoc">Deactivate a grammar on a speech structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d2a/res__speech_8c_source.html#l00071">res_speech.c:71</a></div></div>
<div class="ttc" id="app__speech__utils_8c_html_add75c49609e0f0e226c80a5e48380623"><div class="ttname"><a href="../../d4/d5b/app__speech__utils_8c.html#add75c49609e0f0e226c80a5e48380623">find_speech</a></div><div class="ttdeci">static struct ast_speech * find_speech(struct ast_channel *chan)</div><div class="ttdoc">Helper function used to find the speech structure attached to a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d5b/app__speech__utils_8c_source.html#l00282">app_speech_utils.c:282</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="abb4b206c4f0ca33aa3e29fdf541743d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abb4b206c4f0ca33aa3e29fdf541743d0">&#9670;&nbsp;</a></span>speech_destroy()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int speech_destroy </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>SpeechDestroy() Dialplan Application. </p>

<p class="definition">Definition at line <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html#l00948">948</a> of file <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html">app_speech_utils.c</a>.</p>

<p class="reference">References <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html#l00311">speech_datastore_destroy()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html#l00979">load_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;{</div><div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;   <span class="keywordflow">if</span> (!chan) {</div><div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;   }</div><div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d4/d5b/app__speech__utils_8c.html#a9d7b00788351f0581f91564f1359dc29">speech_datastore_destroy</a>(chan);</div><div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;}</div><div class="ttc" id="app__speech__utils_8c_html_a9d7b00788351f0581f91564f1359dc29"><div class="ttname"><a href="../../d4/d5b/app__speech__utils_8c.html#a9d7b00788351f0581f91564f1359dc29">speech_datastore_destroy</a></div><div class="ttdeci">static int speech_datastore_destroy(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d5b/app__speech__utils_8c_source.html#l00311">app_speech_utils.c:311</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa6caed7e5ad77cb3398e5c74cbd26e41"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa6caed7e5ad77cb3398e5c74cbd26e41">&#9670;&nbsp;</a></span>speech_engine_read()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int speech_engine_read </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>SPEECH_ENGINE() Dialplan Get Function. </p>

<p class="definition">Definition at line <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html#l00453">453</a> of file <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html">app_speech_utils.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/d2a/res__speech_8c_source.html#l00174">ast_speech_get_setting()</a>, and <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html#l00282">find_speech()</a>.</p>
<div class="fragment"><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;{</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/d95/structast__speech.html">ast_speech</a> *speech = <a class="code" href="../../d4/d5b/app__speech__utils_8c.html#add75c49609e0f0e226c80a5e48380623">find_speech</a>(chan);</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d9/d95/structast__speech.html#a735984d41155bc1032e09bece8f8d66d">data</a> || !speech) {</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;   }</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d6/dd7/speech_8h.html#abb0d453bb051d187564b7caebe7897cf">ast_speech_get_setting</a>(speech, <a class="code" href="../../d9/d95/structast__speech.html#a735984d41155bc1032e09bece8f8d66d">data</a>, <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, <a class="code" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>);</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;}</div><div class="ttc" id="eagi__proxy_8c_html_ac95651d79c608a3148973b5b1fc9e525"><div class="ttname"><a href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a></div><div class="ttdeci">char buf[BUFSIZE]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">eagi_proxy.c:66</a></div></div>
<div class="ttc" id="structast__speech_html"><div class="ttname"><a href="../../d9/d95/structast__speech.html">ast_speech</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dd7/speech_8h_source.html#l00051">speech.h:51</a></div></div>
<div class="ttc" id="structast__speech_html_a735984d41155bc1032e09bece8f8d66d"><div class="ttname"><a href="../../d9/d95/structast__speech.html#a735984d41155bc1032e09bece8f8d66d">ast_speech::data</a></div><div class="ttdeci">void * data</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dd7/speech_8h_source.html#l00063">speech.h:63</a></div></div>
<div class="ttc" id="app__speech__utils_8c_html_add75c49609e0f0e226c80a5e48380623"><div class="ttname"><a href="../../d4/d5b/app__speech__utils_8c.html#add75c49609e0f0e226c80a5e48380623">find_speech</a></div><div class="ttdeci">static struct ast_speech * find_speech(struct ast_channel *chan)</div><div class="ttdoc">Helper function used to find the speech structure attached to a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d5b/app__speech__utils_8c_source.html#l00282">app_speech_utils.c:282</a></div></div>
<div class="ttc" id="func__strings_8c_html_af24e73aaf92f3000fda15d285e66df24"><div class="ttname"><a href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a></div><div class="ttdeci">static int len(struct ast_channel *chan, const char *cmd, char *data, char *buf, size_t buflen)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d1e/func__strings_8c_source.html#l01344">func_strings.c:1344</a></div></div>
<div class="ttc" id="speech_8h_html_abb0d453bb051d187564b7caebe7897cf"><div class="ttname"><a href="../../d6/dd7/speech_8h.html#abb0d453bb051d187564b7caebe7897cf">ast_speech_get_setting</a></div><div class="ttdeci">int ast_speech_get_setting(struct ast_speech *speech, const char *name, char *buf, size_t len)</div><div class="ttdoc">Get an engine specific attribute. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d2a/res__speech_8c_source.html#l00174">res_speech.c:174</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa5fcd876dabc6d149d0706909c18e883"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa5fcd876dabc6d149d0706909c18e883">&#9670;&nbsp;</a></span>speech_engine_write()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int speech_engine_write </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>SPEECH_ENGINE() Dialplan Set Function. </p>

<p class="definition">Definition at line <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html#l00439">439</a> of file <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html">app_speech_utils.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/d2a/res__speech_8c_source.html#l00168">ast_speech_change()</a>, <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html#l00282">find_speech()</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>
<div class="fragment"><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;{</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/d95/structast__speech.html">ast_speech</a> *speech = <a class="code" href="../../d4/d5b/app__speech__utils_8c.html#add75c49609e0f0e226c80a5e48380623">find_speech</a>(chan);</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d9/d95/structast__speech.html#a735984d41155bc1032e09bece8f8d66d">data</a> == <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> || speech == <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;   }</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;   <a class="code" href="../../d6/dd7/speech_8h.html#a4c1485723e06fd56dc15e4878dfe726e">ast_speech_change</a>(speech, <a class="code" href="../../d9/d95/structast__speech.html#a735984d41155bc1032e09bece8f8d66d">data</a>, <a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>);</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;}</div><div class="ttc" id="structast__speech_html"><div class="ttname"><a href="../../d9/d95/structast__speech.html">ast_speech</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dd7/speech_8h_source.html#l00051">speech.h:51</a></div></div>
<div class="ttc" id="structast__speech_html_a735984d41155bc1032e09bece8f8d66d"><div class="ttname"><a href="../../d9/d95/structast__speech.html#a735984d41155bc1032e09bece8f8d66d">ast_speech::data</a></div><div class="ttdeci">void * data</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dd7/speech_8h_source.html#l00063">speech.h:63</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="syslog_8c_html_ac4f474c82e82cbb89ca7c36dd52be0ed"><div class="ttname"><a href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a></div><div class="ttdeci">int value</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d2f/syslog_8c_source.html#l00037">syslog.c:37</a></div></div>
<div class="ttc" id="app__speech__utils_8c_html_add75c49609e0f0e226c80a5e48380623"><div class="ttname"><a href="../../d4/d5b/app__speech__utils_8c.html#add75c49609e0f0e226c80a5e48380623">find_speech</a></div><div class="ttdeci">static struct ast_speech * find_speech(struct ast_channel *chan)</div><div class="ttdoc">Helper function used to find the speech structure attached to a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d5b/app__speech__utils_8c_source.html#l00282">app_speech_utils.c:282</a></div></div>
<div class="ttc" id="speech_8h_html_a4c1485723e06fd56dc15e4878dfe726e"><div class="ttname"><a href="../../d6/dd7/speech_8h.html#a4c1485723e06fd56dc15e4878dfe726e">ast_speech_change</a></div><div class="ttdeci">int ast_speech_change(struct ast_speech *speech, const char *name, const char *value)</div><div class="ttdoc">Change an engine specific attribute. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d2a/res__speech_8c_source.html#l00168">res_speech.c:168</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a002729173b4bffd98adb8e1f53513cf9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a002729173b4bffd98adb8e1f53513cf9">&#9670;&nbsp;</a></span>speech_grammar()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int speech_grammar </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>SPEECH_GRAMMAR() Dialplan Function. </p>

<p class="definition">Definition at line <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html#l00413">413</a> of file <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html">app_speech_utils.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/d90/strings_8h_source.html#l00401">ast_copy_string()</a>, <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html#l00332">find_result()</a>, <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html#l00282">find_speech()</a>, <a class="el" href="../../d6/dd7/speech_8h_source.html#l00116">ast_speech_result::grammar</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../de/d1b/cel__pgsql_8c_source.html#l00088">result</a>, and <a class="el" href="../../d6/dd7/speech_8h_source.html#l00065">ast_speech::results</a>.</p>
<div class="fragment"><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;{</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d7/d5d/structast__speech__result.html">ast_speech_result</a> *<a class="code" href="../../de/d1b/cel__pgsql_8c.html#ad6c487210772a9b4b0ca04b04b847d4c">result</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/d95/structast__speech.html">ast_speech</a> *speech = <a class="code" href="../../d4/d5b/app__speech__utils_8c.html#add75c49609e0f0e226c80a5e48380623">find_speech</a>(chan);</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d9/d95/structast__speech.html#a735984d41155bc1032e09bece8f8d66d">data</a> == <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> || speech == <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> || !(result = <a class="code" href="../../d4/d5b/app__speech__utils_8c.html#ae9a2444152ea96b7273ad85c6bd7efa9">find_result</a>(speech-&gt;<a class="code" href="../../d9/d95/structast__speech.html#af339908db8f5c3797e8a6684027a300c">results</a>, <a class="code" href="../../d9/d95/structast__speech.html#a735984d41155bc1032e09bece8f8d66d">data</a>))) {</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;   }</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;   <span class="keywordflow">if</span> (result-&gt;<a class="code" href="../../d7/d5d/structast__speech__result.html#a87785573be04a91c0d79c9f3b61976ad">grammar</a> != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;      <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, result-&gt;<a class="code" href="../../d7/d5d/structast__speech__result.html#a87785573be04a91c0d79c9f3b61976ad">grammar</a>, <a class="code" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>);</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;      <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>[0] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;   }</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;}</div><div class="ttc" id="eagi__proxy_8c_html_ac95651d79c608a3148973b5b1fc9e525"><div class="ttname"><a href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a></div><div class="ttdeci">char buf[BUFSIZE]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">eagi_proxy.c:66</a></div></div>
<div class="ttc" id="structast__speech_html"><div class="ttname"><a href="../../d9/d95/structast__speech.html">ast_speech</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dd7/speech_8h_source.html#l00051">speech.h:51</a></div></div>
<div class="ttc" id="structast__speech_html_a735984d41155bc1032e09bece8f8d66d"><div class="ttname"><a href="../../d9/d95/structast__speech.html#a735984d41155bc1032e09bece8f8d66d">ast_speech::data</a></div><div class="ttdeci">void * data</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dd7/speech_8h_source.html#l00063">speech.h:63</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structast__speech__result_html_a87785573be04a91c0d79c9f3b61976ad"><div class="ttname"><a href="../../d7/d5d/structast__speech__result.html#a87785573be04a91c0d79c9f3b61976ad">ast_speech_result::grammar</a></div><div class="ttdeci">char * grammar</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dd7/speech_8h_source.html#l00116">speech.h:116</a></div></div>
<div class="ttc" id="app__speech__utils_8c_html_add75c49609e0f0e226c80a5e48380623"><div class="ttname"><a href="../../d4/d5b/app__speech__utils_8c.html#add75c49609e0f0e226c80a5e48380623">find_speech</a></div><div class="ttdeci">static struct ast_speech * find_speech(struct ast_channel *chan)</div><div class="ttdoc">Helper function used to find the speech structure attached to a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d5b/app__speech__utils_8c_source.html#l00282">app_speech_utils.c:282</a></div></div>
<div class="ttc" id="structast__speech__result_html"><div class="ttname"><a href="../../d7/d5d/structast__speech__result.html">ast_speech_result</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dd7/speech_8h_source.html#l00108">speech.h:108</a></div></div>
<div class="ttc" id="structast__speech_html_af339908db8f5c3797e8a6684027a300c"><div class="ttname"><a href="../../d9/d95/structast__speech.html#af339908db8f5c3797e8a6684027a300c">ast_speech::results</a></div><div class="ttdeci">struct ast_speech_result * results</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dd7/speech_8h_source.html#l00065">speech.h:65</a></div></div>
<div class="ttc" id="func__strings_8c_html_af24e73aaf92f3000fda15d285e66df24"><div class="ttname"><a href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a></div><div class="ttdeci">static int len(struct ast_channel *chan, const char *cmd, char *data, char *buf, size_t buflen)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d1e/func__strings_8c_source.html#l01344">func_strings.c:1344</a></div></div>
<div class="ttc" id="app__speech__utils_8c_html_ae9a2444152ea96b7273ad85c6bd7efa9"><div class="ttname"><a href="../../d4/d5b/app__speech__utils_8c.html#ae9a2444152ea96b7273ad85c6bd7efa9">find_result</a></div><div class="ttdeci">static struct ast_speech_result * find_result(struct ast_speech_result *results, char *result_num)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d5b/app__speech__utils_8c_source.html#l00332">app_speech_utils.c:332</a></div></div>
<div class="ttc" id="strings_8h_html_ac4040268f7b6ed77dfc49c7767626369"><div class="ttname"><a href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a></div><div class="ttdeci">void ast_copy_string(char *dst, const char *src, size_t size)</div><div class="ttdoc">Size-limited null-terminating string copy. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00401">strings.h:401</a></div></div>
<div class="ttc" id="cel__pgsql_8c_html_ad6c487210772a9b4b0ca04b04b847d4c"><div class="ttname"><a href="../../de/d1b/cel__pgsql_8c.html#ad6c487210772a9b4b0ca04b04b847d4c">result</a></div><div class="ttdeci">static PGresult * result</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1b/cel__pgsql_8c_source.html#l00088">cel_pgsql.c:88</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aaec2a80b8a240051e37ae9050e947284"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaec2a80b8a240051e37ae9050e947284">&#9670;&nbsp;</a></span>speech_load()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int speech_load </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>vdata</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>SpeechLoadGrammar(Grammar Name,Path) Dialplan Application. </p>

<p class="definition">Definition at line <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html#l00572">572</a> of file <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html">app_speech_utils.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/dde/test__func__file_8c_source.html#l00046">args</a>, <a class="el" href="../../d3/d93/include_2asterisk_2app_8h_source.html#l01232">AST_APP_ARG</a>, <a class="el" href="../../d3/d93/include_2asterisk_2app_8h_source.html#l01249">AST_DECLARE_APP_ARGS</a>, <a class="el" href="../../db/d2a/res__speech_8c_source.html#l00077">ast_speech_grammar_load()</a>, <a class="el" href="../../d3/d93/include_2asterisk_2app_8h_source.html#l01285">AST_STANDARD_APP_ARGS</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00300">ast_strdupa</a>, <a class="el" href="../../d6/dd7/speech_8h_source.html#l00063">ast_speech::data</a>, <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html#l00282">find_speech()</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html#l00979">load_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;{</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;   <span class="keywordtype">int</span> res = 0;</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/d95/structast__speech.html">ast_speech</a> *speech = <a class="code" href="../../d4/d5b/app__speech__utils_8c.html#add75c49609e0f0e226c80a5e48380623">find_speech</a>(chan);</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;   <span class="keywordtype">char</span> *<a class="code" href="../../d9/d95/structast__speech.html#a735984d41155bc1032e09bece8f8d66d">data</a>;</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;   <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a80cd3f6f786b59b742bcecfc0b3be7c2">AST_DECLARE_APP_ARGS</a>(<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>,</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;      <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a037e9a5b28477b17e7c9acbe7ecb21d5">AST_APP_ARG</a>(grammar);</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;      <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#a037e9a5b28477b17e7c9acbe7ecb21d5">AST_APP_ARG</a>(path);</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;   );</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;   data = <a class="code" href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a>(vdata);</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;   <a class="code" href="../../d3/d93/include_2asterisk_2app_8h.html#ac08f7eb1eb9476b30987c73e1052ada8">AST_STANDARD_APP_ARGS</a>(<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>, data);</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;   <span class="keywordflow">if</span> (speech == <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>.argc != 2)</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;   <span class="comment">/* Load the grammar locally on the object */</span></div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;   res = <a class="code" href="../../d6/dd7/speech_8h.html#a9bb52080e61d47aa1ba5d5d3fdf5e5e8">ast_speech_grammar_load</a>(speech, <a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>.grammar, <a class="code" href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a>.path);</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;}</div><div class="ttc" id="structast__speech_html"><div class="ttname"><a href="../../d9/d95/structast__speech.html">ast_speech</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dd7/speech_8h_source.html#l00051">speech.h:51</a></div></div>
<div class="ttc" id="include_2asterisk_2app_8h_html_ac08f7eb1eb9476b30987c73e1052ada8"><div class="ttname"><a href="../../d3/d93/include_2asterisk_2app_8h.html#ac08f7eb1eb9476b30987c73e1052ada8">AST_STANDARD_APP_ARGS</a></div><div class="ttdeci">#define AST_STANDARD_APP_ARGS(args, parse)</div><div class="ttdoc">Performs the &amp;#39;standard&amp;#39; argument separation process for an application. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l01285">include/asterisk/app.h:1285</a></div></div>
<div class="ttc" id="structast__speech_html_a735984d41155bc1032e09bece8f8d66d"><div class="ttname"><a href="../../d9/d95/structast__speech.html#a735984d41155bc1032e09bece8f8d66d">ast_speech::data</a></div><div class="ttdeci">void * data</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dd7/speech_8h_source.html#l00063">speech.h:63</a></div></div>
<div class="ttc" id="test__func__file_8c_html_a7df83d295429a2562396f1ec127a46c0"><div class="ttname"><a href="../../d5/dde/test__func__file_8c.html#a7df83d295429a2562396f1ec127a46c0">args</a></div><div class="ttdeci">const char * args</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dde/test__func__file_8c_source.html#l00046">test_func_file.c:46</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="app__speech__utils_8c_html_add75c49609e0f0e226c80a5e48380623"><div class="ttname"><a href="../../d4/d5b/app__speech__utils_8c.html#add75c49609e0f0e226c80a5e48380623">find_speech</a></div><div class="ttdeci">static struct ast_speech * find_speech(struct ast_channel *chan)</div><div class="ttdoc">Helper function used to find the speech structure attached to a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d5b/app__speech__utils_8c_source.html#l00282">app_speech_utils.c:282</a></div></div>
<div class="ttc" id="astmm_8h_html_ab5f0750cc80ba337fdcbddea2d3a1ee6"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a></div><div class="ttdeci">#define ast_strdupa(s)</div><div class="ttdoc">duplicate a string in memory from the stack </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00300">astmm.h:300</a></div></div>
<div class="ttc" id="speech_8h_html_a9bb52080e61d47aa1ba5d5d3fdf5e5e8"><div class="ttname"><a href="../../d6/dd7/speech_8h.html#a9bb52080e61d47aa1ba5d5d3fdf5e5e8">ast_speech_grammar_load</a></div><div class="ttdeci">int ast_speech_grammar_load(struct ast_speech *speech, const char *grammar_name, const char *grammar)</div><div class="ttdoc">Load a grammar on a speech structure (not globally) </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d2a/res__speech_8c_source.html#l00077">res_speech.c:77</a></div></div>
<div class="ttc" id="include_2asterisk_2app_8h_html_a80cd3f6f786b59b742bcecfc0b3be7c2"><div class="ttname"><a href="../../d3/d93/include_2asterisk_2app_8h.html#a80cd3f6f786b59b742bcecfc0b3be7c2">AST_DECLARE_APP_ARGS</a></div><div class="ttdeci">#define AST_DECLARE_APP_ARGS(name, arglist)</div><div class="ttdoc">Declare a structure to hold an application&amp;#39;s arguments. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l01249">include/asterisk/app.h:1249</a></div></div>
<div class="ttc" id="include_2asterisk_2app_8h_html_a037e9a5b28477b17e7c9acbe7ecb21d5"><div class="ttname"><a href="../../d3/d93/include_2asterisk_2app_8h.html#a037e9a5b28477b17e7c9acbe7ecb21d5">AST_APP_ARG</a></div><div class="ttdeci">#define AST_APP_ARG(name)</div><div class="ttdoc">Define an application argument. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d93/include_2asterisk_2app_8h_source.html#l01232">include/asterisk/app.h:1232</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad55a52002341b0cca84e3cc98897f43a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad55a52002341b0cca84e3cc98897f43a">&#9670;&nbsp;</a></span>speech_processing_sound()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int speech_processing_sound </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>SpeechProcessingSound(Sound File) Dialplan Application. </p>

<p class="definition">Definition at line <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html#l00657">657</a> of file <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html">app_speech_utils.c</a>.</p>

<p class="reference">References <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00243">ast_strdup</a>, <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html#l00282">find_speech()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../d6/dd7/speech_8h_source.html#l00057">ast_speech::processing_sound</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html#l00979">load_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;{</div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;   <span class="keywordtype">int</span> res = 0;</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/d95/structast__speech.html">ast_speech</a> *speech = <a class="code" href="../../d4/d5b/app__speech__utils_8c.html#add75c49609e0f0e226c80a5e48380623">find_speech</a>(chan);</div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;   <span class="keywordflow">if</span> (speech == <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;   <span class="keywordflow">if</span> (speech-&gt;<a class="code" href="../../d9/d95/structast__speech.html#a40e56819be5b8279e0eb05561d5c1f9a">processing_sound</a> != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(speech-&gt;<a class="code" href="../../d9/d95/structast__speech.html#a40e56819be5b8279e0eb05561d5c1f9a">processing_sound</a>);</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;      speech-&gt;<a class="code" href="../../d9/d95/structast__speech.html#a40e56819be5b8279e0eb05561d5c1f9a">processing_sound</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;   }</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;   speech-&gt;<a class="code" href="../../d9/d95/structast__speech.html#a40e56819be5b8279e0eb05561d5c1f9a">processing_sound</a> = <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(<a class="code" href="../../d9/d95/structast__speech.html#a735984d41155bc1032e09bece8f8d66d">data</a>);</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;}</div><div class="ttc" id="structast__speech_html"><div class="ttname"><a href="../../d9/d95/structast__speech.html">ast_speech</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dd7/speech_8h_source.html#l00051">speech.h:51</a></div></div>
<div class="ttc" id="structast__speech_html_a735984d41155bc1032e09bece8f8d66d"><div class="ttname"><a href="../../d9/d95/structast__speech.html#a735984d41155bc1032e09bece8f8d66d">ast_speech::data</a></div><div class="ttdeci">void * data</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dd7/speech_8h_source.html#l00063">speech.h:63</a></div></div>
<div class="ttc" id="astmm_8h_html_ab263849d03fb892847be4986db759737"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a></div><div class="ttdeci">#define ast_strdup(str)</div><div class="ttdoc">A wrapper for strdup() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00243">astmm.h:243</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="app__speech__utils_8c_html_add75c49609e0f0e226c80a5e48380623"><div class="ttname"><a href="../../d4/d5b/app__speech__utils_8c.html#add75c49609e0f0e226c80a5e48380623">find_speech</a></div><div class="ttdeci">static struct ast_speech * find_speech(struct ast_channel *chan)</div><div class="ttdoc">Helper function used to find the speech structure attached to a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d5b/app__speech__utils_8c_source.html#l00282">app_speech_utils.c:282</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="structast__speech_html_a40e56819be5b8279e0eb05561d5c1f9a"><div class="ttname"><a href="../../d9/d95/structast__speech.html#a40e56819be5b8279e0eb05561d5c1f9a">ast_speech::processing_sound</a></div><div class="ttdeci">char * processing_sound</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dd7/speech_8h_source.html#l00057">speech.h:57</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a522401caa159e605b37aa1c696690049"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a522401caa159e605b37aa1c696690049">&#9670;&nbsp;</a></span>speech_read()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int speech_read </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>SPEECH() Dialplan Function. </p>

<p class="definition">Definition at line <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html#l00493">493</a> of file <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html">app_speech_utils.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/d90/strings_8h_source.html#l00401">ast_copy_string()</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00438">AST_LIST_NEXT</a>, <a class="el" href="../../d6/dd7/speech_8h_source.html#l00033">AST_SPEECH_SPOKE</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00063">ast_test_flag</a>, <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html#l00282">find_speech()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../de/d1b/cel__pgsql_8c_source.html#l00088">result</a>, <a class="el" href="../../d6/dd7/speech_8h_source.html#l00065">ast_speech::results</a>, and <a class="el" href="../../de/d1e/bt__open_8c_source.html#l00389">tmp()</a>.</p>
<div class="fragment"><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;{</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;   <span class="keywordtype">int</span> <a class="code" href="../../d9/d95/structast__speech.html#af339908db8f5c3797e8a6684027a300c">results</a> = 0;</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d7/d5d/structast__speech__result.html">ast_speech_result</a> *<a class="code" href="../../de/d1b/cel__pgsql_8c.html#ad6c487210772a9b4b0ca04b04b847d4c">result</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/d95/structast__speech.html">ast_speech</a> *speech = <a class="code" href="../../d4/d5b/app__speech__utils_8c.html#add75c49609e0f0e226c80a5e48380623">find_speech</a>(chan);</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;   <span class="keywordtype">char</span> <a class="code" href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a>[128] = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;   <span class="comment">/* Now go for the various options */</span></div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;   <span class="keywordflow">if</span> (!strcasecmp(<a class="code" href="../../d9/d95/structast__speech.html#a735984d41155bc1032e09bece8f8d66d">data</a>, <span class="stringliteral">&quot;status&quot;</span>)) {</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;      <span class="keywordflow">if</span> (speech != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;         <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, <span class="stringliteral">&quot;1&quot;</span>, <a class="code" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>);</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;      <span class="keywordflow">else</span></div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;         <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, <span class="stringliteral">&quot;0&quot;</span>, <a class="code" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>);</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;   }</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;   <span class="comment">/* Make sure we have a speech structure for everything else */</span></div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;   <span class="keywordflow">if</span> (speech == <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;   }</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;   <span class="comment">/* Check to see if they are checking for silence */</span></div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;   <span class="keywordflow">if</span> (!strcasecmp(<a class="code" href="../../d9/d95/structast__speech.html#a735984d41155bc1032e09bece8f8d66d">data</a>, <span class="stringliteral">&quot;spoke&quot;</span>)) {</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a>(speech, <a class="code" href="../../d6/dd7/speech_8h.html#afa3ec79b3c936aaa74aa6b54ddfacb77a83949ac4db603c0298dff509e1d578f2">AST_SPEECH_SPOKE</a>))</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;         <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, <span class="stringliteral">&quot;1&quot;</span>, <a class="code" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>);</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;      <span class="keywordflow">else</span></div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;         <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, <span class="stringliteral">&quot;0&quot;</span>, <a class="code" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>);</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(<a class="code" href="../../d9/d95/structast__speech.html#a735984d41155bc1032e09bece8f8d66d">data</a>, <span class="stringliteral">&quot;results&quot;</span>)) {</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;      <span class="comment">/* Count number of results */</span></div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;      <span class="keywordflow">for</span> (result = speech-&gt;<a class="code" href="../../d9/d95/structast__speech.html#af339908db8f5c3797e8a6684027a300c">results</a>; result; result = <a class="code" href="../../df/d90/linkedlists_8h.html#ae234825bcb65b88c0554b995ff1b8ba6">AST_LIST_NEXT</a>(result, list))</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;         results++;</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;      snprintf(tmp, <span class="keyword">sizeof</span>(tmp), <span class="stringliteral">&quot;%d&quot;</span>, results);</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;      <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, tmp, <a class="code" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>);</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;      <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>[0] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;   }</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;}</div><div class="ttc" id="utils_8h_html_a00d4c9254c9827d6fa44f17a326744a5"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a></div><div class="ttdeci">#define ast_test_flag(p, flag)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00063">utils.h:63</a></div></div>
<div class="ttc" id="eagi__proxy_8c_html_ac95651d79c608a3148973b5b1fc9e525"><div class="ttname"><a href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a></div><div class="ttdeci">char buf[BUFSIZE]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">eagi_proxy.c:66</a></div></div>
<div class="ttc" id="structast__speech_html"><div class="ttname"><a href="../../d9/d95/structast__speech.html">ast_speech</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dd7/speech_8h_source.html#l00051">speech.h:51</a></div></div>
<div class="ttc" id="bt__open_8c_html_a1cdd2bb1a9a71d3e1120100229315d67"><div class="ttname"><a href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a></div><div class="ttdeci">static int tmp()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1e/bt__open_8c_source.html#l00389">bt_open.c:389</a></div></div>
<div class="ttc" id="linkedlists_8h_html_ae234825bcb65b88c0554b995ff1b8ba6"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#ae234825bcb65b88c0554b995ff1b8ba6">AST_LIST_NEXT</a></div><div class="ttdeci">#define AST_LIST_NEXT(elm, field)</div><div class="ttdoc">Returns the next entry in the list after the given entry. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00438">linkedlists.h:438</a></div></div>
<div class="ttc" id="structast__speech_html_a735984d41155bc1032e09bece8f8d66d"><div class="ttname"><a href="../../d9/d95/structast__speech.html#a735984d41155bc1032e09bece8f8d66d">ast_speech::data</a></div><div class="ttdeci">void * data</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dd7/speech_8h_source.html#l00063">speech.h:63</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="speech_8h_html_afa3ec79b3c936aaa74aa6b54ddfacb77a83949ac4db603c0298dff509e1d578f2"><div class="ttname"><a href="../../d6/dd7/speech_8h.html#afa3ec79b3c936aaa74aa6b54ddfacb77a83949ac4db603c0298dff509e1d578f2">AST_SPEECH_SPOKE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dd7/speech_8h_source.html#l00033">speech.h:33</a></div></div>
<div class="ttc" id="app__speech__utils_8c_html_add75c49609e0f0e226c80a5e48380623"><div class="ttname"><a href="../../d4/d5b/app__speech__utils_8c.html#add75c49609e0f0e226c80a5e48380623">find_speech</a></div><div class="ttdeci">static struct ast_speech * find_speech(struct ast_channel *chan)</div><div class="ttdoc">Helper function used to find the speech structure attached to a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d5b/app__speech__utils_8c_source.html#l00282">app_speech_utils.c:282</a></div></div>
<div class="ttc" id="structast__speech__result_html"><div class="ttname"><a href="../../d7/d5d/structast__speech__result.html">ast_speech_result</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dd7/speech_8h_source.html#l00108">speech.h:108</a></div></div>
<div class="ttc" id="structast__speech_html_af339908db8f5c3797e8a6684027a300c"><div class="ttname"><a href="../../d9/d95/structast__speech.html#af339908db8f5c3797e8a6684027a300c">ast_speech::results</a></div><div class="ttdeci">struct ast_speech_result * results</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dd7/speech_8h_source.html#l00065">speech.h:65</a></div></div>
<div class="ttc" id="func__strings_8c_html_af24e73aaf92f3000fda15d285e66df24"><div class="ttname"><a href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a></div><div class="ttdeci">static int len(struct ast_channel *chan, const char *cmd, char *data, char *buf, size_t buflen)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d1e/func__strings_8c_source.html#l01344">func_strings.c:1344</a></div></div>
<div class="ttc" id="strings_8h_html_ac4040268f7b6ed77dfc49c7767626369"><div class="ttname"><a href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a></div><div class="ttdeci">void ast_copy_string(char *dst, const char *src, size_t size)</div><div class="ttdoc">Size-limited null-terminating string copy. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00401">strings.h:401</a></div></div>
<div class="ttc" id="cel__pgsql_8c_html_ad6c487210772a9b4b0ca04b04b847d4c"><div class="ttname"><a href="../../de/d1b/cel__pgsql_8c.html#ad6c487210772a9b4b0ca04b04b847d4c">result</a></div><div class="ttdeci">static PGresult * result</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1b/cel__pgsql_8c_source.html#l00088">cel_pgsql.c:88</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a47f4052ab990b206e796ad082b547167"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a47f4052ab990b206e796ad082b547167">&#9670;&nbsp;</a></span>speech_results_type_write()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int speech_results_type_write </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>SPEECH_RESULTS_TYPE() Dialplan Function. </p>

<p class="definition">Definition at line <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html#l00471">471</a> of file <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html">app_speech_utils.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/d2a/res__speech_8c_source.html#l00284">ast_speech_change_results_type()</a>, <a class="el" href="../../d6/dd7/speech_8h_source.html#l00047">AST_SPEECH_RESULTS_TYPE_NBEST</a>, <a class="el" href="../../d6/dd7/speech_8h_source.html#l00046">AST_SPEECH_RESULTS_TYPE_NORMAL</a>, <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html#l00282">find_speech()</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>
<div class="fragment"><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;{</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/d95/structast__speech.html">ast_speech</a> *speech = <a class="code" href="../../d4/d5b/app__speech__utils_8c.html#add75c49609e0f0e226c80a5e48380623">find_speech</a>(chan);</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d9/d95/structast__speech.html#a735984d41155bc1032e09bece8f8d66d">data</a> == <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> || speech == <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;   <span class="keywordflow">if</span> (!strcasecmp(<a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>, <span class="stringliteral">&quot;normal&quot;</span>))</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;      <a class="code" href="../../d6/dd7/speech_8h.html#a964d2ea2d727c6358007838149d3022a">ast_speech_change_results_type</a>(speech, <a class="code" href="../../d6/dd7/speech_8h.html#ad5cd36ca07c1179620640543b13227eaaa885abd1bb90c1d4e5ecff41d90d3743">AST_SPEECH_RESULTS_TYPE_NORMAL</a>);</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;   <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(<a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>, <span class="stringliteral">&quot;nbest&quot;</span>))</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;      <a class="code" href="../../d6/dd7/speech_8h.html#a964d2ea2d727c6358007838149d3022a">ast_speech_change_results_type</a>(speech, <a class="code" href="../../d6/dd7/speech_8h.html#ad5cd36ca07c1179620640543b13227eaa770918623dffaa51990a1c074a717e42">AST_SPEECH_RESULTS_TYPE_NBEST</a>);</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;}</div><div class="ttc" id="structast__speech_html"><div class="ttname"><a href="../../d9/d95/structast__speech.html">ast_speech</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dd7/speech_8h_source.html#l00051">speech.h:51</a></div></div>
<div class="ttc" id="structast__speech_html_a735984d41155bc1032e09bece8f8d66d"><div class="ttname"><a href="../../d9/d95/structast__speech.html#a735984d41155bc1032e09bece8f8d66d">ast_speech::data</a></div><div class="ttdeci">void * data</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dd7/speech_8h_source.html#l00063">speech.h:63</a></div></div>
<div class="ttc" id="speech_8h_html_ad5cd36ca07c1179620640543b13227eaaa885abd1bb90c1d4e5ecff41d90d3743"><div class="ttname"><a href="../../d6/dd7/speech_8h.html#ad5cd36ca07c1179620640543b13227eaaa885abd1bb90c1d4e5ecff41d90d3743">AST_SPEECH_RESULTS_TYPE_NORMAL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dd7/speech_8h_source.html#l00046">speech.h:46</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="syslog_8c_html_ac4f474c82e82cbb89ca7c36dd52be0ed"><div class="ttname"><a href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a></div><div class="ttdeci">int value</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d2f/syslog_8c_source.html#l00037">syslog.c:37</a></div></div>
<div class="ttc" id="speech_8h_html_a964d2ea2d727c6358007838149d3022a"><div class="ttname"><a href="../../d6/dd7/speech_8h.html#a964d2ea2d727c6358007838149d3022a">ast_speech_change_results_type</a></div><div class="ttdeci">int ast_speech_change_results_type(struct ast_speech *speech, enum ast_speech_results_type results_type)</div><div class="ttdoc">Change the type of results we want. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d2a/res__speech_8c_source.html#l00284">res_speech.c:284</a></div></div>
<div class="ttc" id="app__speech__utils_8c_html_add75c49609e0f0e226c80a5e48380623"><div class="ttname"><a href="../../d4/d5b/app__speech__utils_8c.html#add75c49609e0f0e226c80a5e48380623">find_speech</a></div><div class="ttdeci">static struct ast_speech * find_speech(struct ast_channel *chan)</div><div class="ttdoc">Helper function used to find the speech structure attached to a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d5b/app__speech__utils_8c_source.html#l00282">app_speech_utils.c:282</a></div></div>
<div class="ttc" id="speech_8h_html_ad5cd36ca07c1179620640543b13227eaa770918623dffaa51990a1c074a717e42"><div class="ttname"><a href="../../d6/dd7/speech_8h.html#ad5cd36ca07c1179620640543b13227eaa770918623dffaa51990a1c074a717e42">AST_SPEECH_RESULTS_TYPE_NBEST</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dd7/speech_8h_source.html#l00047">speech.h:47</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a5faa1e95f0f1ea50e5fbbe1e61868b19"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5faa1e95f0f1ea50e5fbbe1e61868b19">&#9670;&nbsp;</a></span>speech_score()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int speech_score </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>SPEECH_SCORE() Dialplan Function. </p>

<p class="definition">Definition at line <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html#l00362">362</a> of file <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html">app_speech_utils.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/d90/strings_8h_source.html#l00401">ast_copy_string()</a>, <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html#l00332">find_result()</a>, <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html#l00282">find_speech()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../de/d1b/cel__pgsql_8c_source.html#l00088">result</a>, <a class="el" href="../../d6/dd7/speech_8h_source.html#l00065">ast_speech::results</a>, <a class="el" href="../../d6/dd7/speech_8h_source.html#l00112">ast_speech_result::score</a>, and <a class="el" href="../../de/d1e/bt__open_8c_source.html#l00389">tmp()</a>.</p>
<div class="fragment"><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;{</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d7/d5d/structast__speech__result.html">ast_speech_result</a> *<a class="code" href="../../de/d1b/cel__pgsql_8c.html#ad6c487210772a9b4b0ca04b04b847d4c">result</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/d95/structast__speech.html">ast_speech</a> *speech = <a class="code" href="../../d4/d5b/app__speech__utils_8c.html#add75c49609e0f0e226c80a5e48380623">find_speech</a>(chan);</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;   <span class="keywordtype">char</span> <a class="code" href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a>[128] = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d9/d95/structast__speech.html#a735984d41155bc1032e09bece8f8d66d">data</a> == <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> || speech == <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> || !(result = <a class="code" href="../../d4/d5b/app__speech__utils_8c.html#ae9a2444152ea96b7273ad85c6bd7efa9">find_result</a>(speech-&gt;<a class="code" href="../../d9/d95/structast__speech.html#af339908db8f5c3797e8a6684027a300c">results</a>, <a class="code" href="../../d9/d95/structast__speech.html#a735984d41155bc1032e09bece8f8d66d">data</a>))) {</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;   }</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;   snprintf(tmp, <span class="keyword">sizeof</span>(tmp), <span class="stringliteral">&quot;%d&quot;</span>, result-&gt;<a class="code" href="../../d7/d5d/structast__speech__result.html#aef160b7437d94056f1dc59646cd5b87d">score</a>);</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;   <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, tmp, <a class="code" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>);</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;}</div><div class="ttc" id="eagi__proxy_8c_html_ac95651d79c608a3148973b5b1fc9e525"><div class="ttname"><a href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a></div><div class="ttdeci">char buf[BUFSIZE]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">eagi_proxy.c:66</a></div></div>
<div class="ttc" id="structast__speech_html"><div class="ttname"><a href="../../d9/d95/structast__speech.html">ast_speech</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dd7/speech_8h_source.html#l00051">speech.h:51</a></div></div>
<div class="ttc" id="bt__open_8c_html_a1cdd2bb1a9a71d3e1120100229315d67"><div class="ttname"><a href="../../de/d1e/bt__open_8c.html#a1cdd2bb1a9a71d3e1120100229315d67">tmp</a></div><div class="ttdeci">static int tmp()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1e/bt__open_8c_source.html#l00389">bt_open.c:389</a></div></div>
<div class="ttc" id="structast__speech_html_a735984d41155bc1032e09bece8f8d66d"><div class="ttname"><a href="../../d9/d95/structast__speech.html#a735984d41155bc1032e09bece8f8d66d">ast_speech::data</a></div><div class="ttdeci">void * data</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dd7/speech_8h_source.html#l00063">speech.h:63</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="app__speech__utils_8c_html_add75c49609e0f0e226c80a5e48380623"><div class="ttname"><a href="../../d4/d5b/app__speech__utils_8c.html#add75c49609e0f0e226c80a5e48380623">find_speech</a></div><div class="ttdeci">static struct ast_speech * find_speech(struct ast_channel *chan)</div><div class="ttdoc">Helper function used to find the speech structure attached to a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d5b/app__speech__utils_8c_source.html#l00282">app_speech_utils.c:282</a></div></div>
<div class="ttc" id="structast__speech__result_html"><div class="ttname"><a href="../../d7/d5d/structast__speech__result.html">ast_speech_result</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dd7/speech_8h_source.html#l00108">speech.h:108</a></div></div>
<div class="ttc" id="structast__speech_html_af339908db8f5c3797e8a6684027a300c"><div class="ttname"><a href="../../d9/d95/structast__speech.html#af339908db8f5c3797e8a6684027a300c">ast_speech::results</a></div><div class="ttdeci">struct ast_speech_result * results</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dd7/speech_8h_source.html#l00065">speech.h:65</a></div></div>
<div class="ttc" id="func__strings_8c_html_af24e73aaf92f3000fda15d285e66df24"><div class="ttname"><a href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a></div><div class="ttdeci">static int len(struct ast_channel *chan, const char *cmd, char *data, char *buf, size_t buflen)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d1e/func__strings_8c_source.html#l01344">func_strings.c:1344</a></div></div>
<div class="ttc" id="app__speech__utils_8c_html_ae9a2444152ea96b7273ad85c6bd7efa9"><div class="ttname"><a href="../../d4/d5b/app__speech__utils_8c.html#ae9a2444152ea96b7273ad85c6bd7efa9">find_result</a></div><div class="ttdeci">static struct ast_speech_result * find_result(struct ast_speech_result *results, char *result_num)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d5b/app__speech__utils_8c_source.html#l00332">app_speech_utils.c:332</a></div></div>
<div class="ttc" id="strings_8h_html_ac4040268f7b6ed77dfc49c7767626369"><div class="ttname"><a href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a></div><div class="ttdeci">void ast_copy_string(char *dst, const char *src, size_t size)</div><div class="ttdoc">Size-limited null-terminating string copy. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00401">strings.h:401</a></div></div>
<div class="ttc" id="cel__pgsql_8c_html_ad6c487210772a9b4b0ca04b04b847d4c"><div class="ttname"><a href="../../de/d1b/cel__pgsql_8c.html#ad6c487210772a9b4b0ca04b04b847d4c">result</a></div><div class="ttdeci">static PGresult * result</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1b/cel__pgsql_8c_source.html#l00088">cel_pgsql.c:88</a></div></div>
<div class="ttc" id="structast__speech__result_html_aef160b7437d94056f1dc59646cd5b87d"><div class="ttname"><a href="../../d7/d5d/structast__speech__result.html#aef160b7437d94056f1dc59646cd5b87d">ast_speech_result::score</a></div><div class="ttdeci">int score</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dd7/speech_8h_source.html#l00112">speech.h:112</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a7d61a2a0302d22271becabbc1694132b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7d61a2a0302d22271becabbc1694132b">&#9670;&nbsp;</a></span>speech_start()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int speech_start </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>SpeechStart() Dialplan Application. </p>

<p class="definition">Definition at line <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html#l00643">643</a> of file <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html">app_speech_utils.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/d2a/res__speech_8c_source.html#l00121">ast_speech_start()</a>, <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html#l00282">find_speech()</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html#l00979">load_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;{</div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;   <span class="keywordtype">int</span> res = 0;</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/d95/structast__speech.html">ast_speech</a> *speech = <a class="code" href="../../d4/d5b/app__speech__utils_8c.html#add75c49609e0f0e226c80a5e48380623">find_speech</a>(chan);</div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;   <span class="keywordflow">if</span> (speech == <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;   <a class="code" href="../../d6/dd7/speech_8h.html#a35ee983d0c54de09ca8d3ffd1223c9ae">ast_speech_start</a>(speech);</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;}</div><div class="ttc" id="speech_8h_html_a35ee983d0c54de09ca8d3ffd1223c9ae"><div class="ttname"><a href="../../d6/dd7/speech_8h.html#a35ee983d0c54de09ca8d3ffd1223c9ae">ast_speech_start</a></div><div class="ttdeci">void ast_speech_start(struct ast_speech *speech)</div><div class="ttdoc">Indicate to the speech engine that audio is now going to start being written. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d2a/res__speech_8c_source.html#l00121">res_speech.c:121</a></div></div>
<div class="ttc" id="structast__speech_html"><div class="ttname"><a href="../../d9/d95/structast__speech.html">ast_speech</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dd7/speech_8h_source.html#l00051">speech.h:51</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="app__speech__utils_8c_html_add75c49609e0f0e226c80a5e48380623"><div class="ttname"><a href="../../d4/d5b/app__speech__utils_8c.html#add75c49609e0f0e226c80a5e48380623">find_speech</a></div><div class="ttdeci">static struct ast_speech * find_speech(struct ast_channel *chan)</div><div class="ttdoc">Helper function used to find the speech structure attached to a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d5b/app__speech__utils_8c_source.html#l00282">app_speech_utils.c:282</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a24e6fc762a78b042d53ccf0fe2c9981d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a24e6fc762a78b042d53ccf0fe2c9981d">&#9670;&nbsp;</a></span>speech_streamfile()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int speech_streamfile </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>preflang</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Helper function used by speech_background to playback a soundfile. </p>

<p class="definition">Definition at line <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html#l00676">676</a> of file <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html">app_speech_utils.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/d13/file_8c_source.html#l01020">ast_applystream()</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l00755">ast_openstream()</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l01026">ast_playstream()</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html#l00700">speech_background()</a>.</p>
<div class="fragment"><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;{</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../db/dbc/structast__filestream.html">ast_filestream</a> *fs = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;   <span class="keywordflow">if</span> (!(fs = <a class="code" href="../../d2/d4d/file_8h.html#ad85c951fa1d6988d2d7e169833a951a8">ast_openstream</a>(chan, <a class="code" href="../../db/dbc/structast__filestream.html#aeac90097f29f7529968697163cea5c18">filename</a>, preflang)))</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d2/d4d/file_8h.html#a618e3120b6d019312ef2d617d9f14571">ast_applystream</a>(chan, fs))</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;   <a class="code" href="../../d2/d4d/file_8h.html#ad59224750b8b617f9590b28b88457b14">ast_playstream</a>(fs);</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;}</div><div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="file_8h_html_ad59224750b8b617f9590b28b88457b14"><div class="ttname"><a href="../../d2/d4d/file_8h.html#ad59224750b8b617f9590b28b88457b14">ast_playstream</a></div><div class="ttdeci">int ast_playstream(struct ast_filestream *s)</div><div class="ttdoc">Play a open stream on a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d13/file_8c_source.html#l01026">file.c:1026</a></div></div>
<div class="ttc" id="file_8h_html_a618e3120b6d019312ef2d617d9f14571"><div class="ttname"><a href="../../d2/d4d/file_8h.html#a618e3120b6d019312ef2d617d9f14571">ast_applystream</a></div><div class="ttdeci">int ast_applystream(struct ast_channel *chan, struct ast_filestream *s)</div><div class="ttdoc">Applys a open stream to a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d13/file_8c_source.html#l01020">file.c:1020</a></div></div>
<div class="ttc" id="structast__filestream_html_aeac90097f29f7529968697163cea5c18"><div class="ttname"><a href="../../db/dbc/structast__filestream.html#aeac90097f29f7529968697163cea5c18">ast_filestream::filename</a></div><div class="ttdeci">char * filename</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5d/mod__format_8h_source.html#l00107">mod_format.h:107</a></div></div>
<div class="ttc" id="structast__filestream_html"><div class="ttname"><a href="../../db/dbc/structast__filestream.html">ast_filestream</a></div><div class="ttdoc">This structure is allocated by file.c in one chunk, together with buf_size and desc_size bytes of mem...</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5d/mod__format_8h_source.html#l00101">mod_format.h:101</a></div></div>
<div class="ttc" id="file_8h_html_ad85c951fa1d6988d2d7e169833a951a8"><div class="ttname"><a href="../../d2/d4d/file_8h.html#ad85c951fa1d6988d2d7e169833a951a8">ast_openstream</a></div><div class="ttdeci">struct ast_filestream * ast_openstream(struct ast_channel *chan, const char *filename, const char *preflang)</div><div class="ttdoc">Opens stream for use in seeking, playing. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d13/file_8c_source.html#l00755">file.c:755</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a18e5a8465c29f0b304d8c8865b3012dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a18e5a8465c29f0b304d8c8865b3012dd">&#9670;&nbsp;</a></span>speech_text()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int speech_text </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>SPEECH_TEXT() Dialplan Function. </p>

<p class="definition">Definition at line <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html#l00387">387</a> of file <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html">app_speech_utils.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/d90/strings_8h_source.html#l00401">ast_copy_string()</a>, <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html#l00332">find_result()</a>, <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html#l00282">find_speech()</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../de/d1b/cel__pgsql_8c_source.html#l00088">result</a>, <a class="el" href="../../d6/dd7/speech_8h_source.html#l00065">ast_speech::results</a>, and <a class="el" href="../../d6/dd7/speech_8h_source.html#l00110">ast_speech_result::text</a>.</p>
<div class="fragment"><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;{</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d7/d5d/structast__speech__result.html">ast_speech_result</a> *<a class="code" href="../../de/d1b/cel__pgsql_8c.html#ad6c487210772a9b4b0ca04b04b847d4c">result</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/d95/structast__speech.html">ast_speech</a> *speech = <a class="code" href="../../d4/d5b/app__speech__utils_8c.html#add75c49609e0f0e226c80a5e48380623">find_speech</a>(chan);</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d9/d95/structast__speech.html#a735984d41155bc1032e09bece8f8d66d">data</a> == <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> || speech == <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> || !(result = <a class="code" href="../../d4/d5b/app__speech__utils_8c.html#ae9a2444152ea96b7273ad85c6bd7efa9">find_result</a>(speech-&gt;<a class="code" href="../../d9/d95/structast__speech.html#af339908db8f5c3797e8a6684027a300c">results</a>, <a class="code" href="../../d9/d95/structast__speech.html#a735984d41155bc1032e09bece8f8d66d">data</a>))) {</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;   }</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;   <span class="keywordflow">if</span> (result-&gt;<a class="code" href="../../d7/d5d/structast__speech__result.html#a5633b1433389cec21ade3811bbe9ca5b">text</a> != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;      <a class="code" href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a>(<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, result-&gt;<a class="code" href="../../d7/d5d/structast__speech__result.html#a5633b1433389cec21ade3811bbe9ca5b">text</a>, <a class="code" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>);</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;      <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>[0] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;   }</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;}</div><div class="ttc" id="eagi__proxy_8c_html_ac95651d79c608a3148973b5b1fc9e525"><div class="ttname"><a href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a></div><div class="ttdeci">char buf[BUFSIZE]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">eagi_proxy.c:66</a></div></div>
<div class="ttc" id="structast__speech_html"><div class="ttname"><a href="../../d9/d95/structast__speech.html">ast_speech</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dd7/speech_8h_source.html#l00051">speech.h:51</a></div></div>
<div class="ttc" id="structast__speech_html_a735984d41155bc1032e09bece8f8d66d"><div class="ttname"><a href="../../d9/d95/structast__speech.html#a735984d41155bc1032e09bece8f8d66d">ast_speech::data</a></div><div class="ttdeci">void * data</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dd7/speech_8h_source.html#l00063">speech.h:63</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="app__speech__utils_8c_html_add75c49609e0f0e226c80a5e48380623"><div class="ttname"><a href="../../d4/d5b/app__speech__utils_8c.html#add75c49609e0f0e226c80a5e48380623">find_speech</a></div><div class="ttdeci">static struct ast_speech * find_speech(struct ast_channel *chan)</div><div class="ttdoc">Helper function used to find the speech structure attached to a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d5b/app__speech__utils_8c_source.html#l00282">app_speech_utils.c:282</a></div></div>
<div class="ttc" id="structast__speech__result_html"><div class="ttname"><a href="../../d7/d5d/structast__speech__result.html">ast_speech_result</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dd7/speech_8h_source.html#l00108">speech.h:108</a></div></div>
<div class="ttc" id="structast__speech_html_af339908db8f5c3797e8a6684027a300c"><div class="ttname"><a href="../../d9/d95/structast__speech.html#af339908db8f5c3797e8a6684027a300c">ast_speech::results</a></div><div class="ttdeci">struct ast_speech_result * results</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dd7/speech_8h_source.html#l00065">speech.h:65</a></div></div>
<div class="ttc" id="func__strings_8c_html_af24e73aaf92f3000fda15d285e66df24"><div class="ttname"><a href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a></div><div class="ttdeci">static int len(struct ast_channel *chan, const char *cmd, char *data, char *buf, size_t buflen)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d1e/func__strings_8c_source.html#l01344">func_strings.c:1344</a></div></div>
<div class="ttc" id="app__speech__utils_8c_html_ae9a2444152ea96b7273ad85c6bd7efa9"><div class="ttname"><a href="../../d4/d5b/app__speech__utils_8c.html#ae9a2444152ea96b7273ad85c6bd7efa9">find_result</a></div><div class="ttdeci">static struct ast_speech_result * find_result(struct ast_speech_result *results, char *result_num)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d5b/app__speech__utils_8c_source.html#l00332">app_speech_utils.c:332</a></div></div>
<div class="ttc" id="strings_8h_html_ac4040268f7b6ed77dfc49c7767626369"><div class="ttname"><a href="../../d6/d90/strings_8h.html#ac4040268f7b6ed77dfc49c7767626369">ast_copy_string</a></div><div class="ttdeci">void ast_copy_string(char *dst, const char *src, size_t size)</div><div class="ttdoc">Size-limited null-terminating string copy. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00401">strings.h:401</a></div></div>
<div class="ttc" id="structast__speech__result_html_a5633b1433389cec21ade3811bbe9ca5b"><div class="ttname"><a href="../../d7/d5d/structast__speech__result.html#a5633b1433389cec21ade3811bbe9ca5b">ast_speech_result::text</a></div><div class="ttdeci">char * text</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dd7/speech_8h_source.html#l00110">speech.h:110</a></div></div>
<div class="ttc" id="cel__pgsql_8c_html_ad6c487210772a9b4b0ca04b04b847d4c"><div class="ttname"><a href="../../de/d1b/cel__pgsql_8c.html#ad6c487210772a9b4b0ca04b04b847d4c">result</a></div><div class="ttdeci">static PGresult * result</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1b/cel__pgsql_8c_source.html#l00088">cel_pgsql.c:88</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a062df38f790a55a534a09958df60d7ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a062df38f790a55a534a09958df60d7ae">&#9670;&nbsp;</a></span>speech_unload()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int speech_unload </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>SpeechUnloadGrammar(Grammar Name) Dialplan Application. </p>

<p class="definition">Definition at line <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html#l00598">598</a> of file <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html">app_speech_utils.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/d2a/res__speech_8c_source.html#l00083">ast_speech_grammar_unload()</a>, <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html#l00282">find_speech()</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html#l00979">load_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;{</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;   <span class="keywordtype">int</span> res = 0;</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/d95/structast__speech.html">ast_speech</a> *speech = <a class="code" href="../../d4/d5b/app__speech__utils_8c.html#add75c49609e0f0e226c80a5e48380623">find_speech</a>(chan);</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;   <span class="keywordflow">if</span> (speech == <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;   <span class="comment">/* Unload the grammar */</span></div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;   res = <a class="code" href="../../d6/dd7/speech_8h.html#a31a35473c04575ff6e67bb126cb8f70d">ast_speech_grammar_unload</a>(speech, <a class="code" href="../../d9/d95/structast__speech.html#a735984d41155bc1032e09bece8f8d66d">data</a>);</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;}</div><div class="ttc" id="structast__speech_html"><div class="ttname"><a href="../../d9/d95/structast__speech.html">ast_speech</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dd7/speech_8h_source.html#l00051">speech.h:51</a></div></div>
<div class="ttc" id="structast__speech_html_a735984d41155bc1032e09bece8f8d66d"><div class="ttname"><a href="../../d9/d95/structast__speech.html#a735984d41155bc1032e09bece8f8d66d">ast_speech::data</a></div><div class="ttdeci">void * data</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dd7/speech_8h_source.html#l00063">speech.h:63</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="app__speech__utils_8c_html_add75c49609e0f0e226c80a5e48380623"><div class="ttname"><a href="../../d4/d5b/app__speech__utils_8c.html#add75c49609e0f0e226c80a5e48380623">find_speech</a></div><div class="ttdeci">static struct ast_speech * find_speech(struct ast_channel *chan)</div><div class="ttdoc">Helper function used to find the speech structure attached to a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d5b/app__speech__utils_8c_source.html#l00282">app_speech_utils.c:282</a></div></div>
<div class="ttc" id="speech_8h_html_a31a35473c04575ff6e67bb126cb8f70d"><div class="ttname"><a href="../../d6/dd7/speech_8h.html#a31a35473c04575ff6e67bb126cb8f70d">ast_speech_grammar_unload</a></div><div class="ttdeci">int ast_speech_grammar_unload(struct ast_speech *speech, const char *grammar_name)</div><div class="ttdoc">Unload a grammar. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d2a/res__speech_8c_source.html#l00083">res_speech.c:83</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad09fa931f468002152a3cc2d5ce25eae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad09fa931f468002152a3cc2d5ce25eae">&#9670;&nbsp;</a></span>unload_module()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int unload_module </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html#l00956">956</a> of file <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html">app_speech_utils.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/d70/pbx__functions_8c_source.html#l00273">ast_custom_function_unregister()</a>, and <a class="el" href="../../dd/d16/pbx__app_8c_source.html#l00392">ast_unregister_application()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html#l00979">load_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;{</div><div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;   <span class="keywordtype">int</span> res = 0;</div><div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;</div><div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;   res = <a class="code" href="../../d5/d16/module_8h.html#ad2ca15621101154f29748cf1dac3c3cf">ast_unregister_application</a>(<span class="stringliteral">&quot;SpeechCreate&quot;</span>);</div><div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;   res |= <a class="code" href="../../d5/d16/module_8h.html#ad2ca15621101154f29748cf1dac3c3cf">ast_unregister_application</a>(<span class="stringliteral">&quot;SpeechLoadGrammar&quot;</span>);</div><div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;   res |= <a class="code" href="../../d5/d16/module_8h.html#ad2ca15621101154f29748cf1dac3c3cf">ast_unregister_application</a>(<span class="stringliteral">&quot;SpeechUnloadGrammar&quot;</span>);</div><div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;   res |= <a class="code" href="../../d5/d16/module_8h.html#ad2ca15621101154f29748cf1dac3c3cf">ast_unregister_application</a>(<span class="stringliteral">&quot;SpeechActivateGrammar&quot;</span>);</div><div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;   res |= <a class="code" href="../../d5/d16/module_8h.html#ad2ca15621101154f29748cf1dac3c3cf">ast_unregister_application</a>(<span class="stringliteral">&quot;SpeechDeactivateGrammar&quot;</span>);</div><div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;   res |= <a class="code" href="../../d5/d16/module_8h.html#ad2ca15621101154f29748cf1dac3c3cf">ast_unregister_application</a>(<span class="stringliteral">&quot;SpeechStart&quot;</span>);</div><div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;   res |= <a class="code" href="../../d5/d16/module_8h.html#ad2ca15621101154f29748cf1dac3c3cf">ast_unregister_application</a>(<span class="stringliteral">&quot;SpeechBackground&quot;</span>);</div><div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;   res |= <a class="code" href="../../d5/d16/module_8h.html#ad2ca15621101154f29748cf1dac3c3cf">ast_unregister_application</a>(<span class="stringliteral">&quot;SpeechDestroy&quot;</span>);</div><div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;   res |= <a class="code" href="../../d5/d16/module_8h.html#ad2ca15621101154f29748cf1dac3c3cf">ast_unregister_application</a>(<span class="stringliteral">&quot;SpeechProcessingSound&quot;</span>);</div><div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;   res |= <a class="code" href="../../db/de0/pbx_8h.html#a965977ea9a3144bc203e0ce7a64680a1">ast_custom_function_unregister</a>(&amp;<a class="code" href="../../d4/d5b/app__speech__utils_8c.html#abace6cf3d611b558a2af3dfedb6ede5e">speech_function</a>);</div><div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;   res |= <a class="code" href="../../db/de0/pbx_8h.html#a965977ea9a3144bc203e0ce7a64680a1">ast_custom_function_unregister</a>(&amp;<a class="code" href="../../d4/d5b/app__speech__utils_8c.html#a2046e8372fa33fa58ac943b5f4704665">speech_score_function</a>);</div><div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;   res |= <a class="code" href="../../db/de0/pbx_8h.html#a965977ea9a3144bc203e0ce7a64680a1">ast_custom_function_unregister</a>(&amp;<a class="code" href="../../d4/d5b/app__speech__utils_8c.html#ae0a6f9bf4c23816367b1057372775c23">speech_text_function</a>);</div><div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;   res |= <a class="code" href="../../db/de0/pbx_8h.html#a965977ea9a3144bc203e0ce7a64680a1">ast_custom_function_unregister</a>(&amp;<a class="code" href="../../d4/d5b/app__speech__utils_8c.html#af89c0992d5b33a98c57edc1faf346458">speech_grammar_function</a>);</div><div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;   res |= <a class="code" href="../../db/de0/pbx_8h.html#a965977ea9a3144bc203e0ce7a64680a1">ast_custom_function_unregister</a>(&amp;<a class="code" href="../../d4/d5b/app__speech__utils_8c.html#a1b910a901d902450e0b73f64069ce90c">speech_engine_function</a>);</div><div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;   res |= <a class="code" href="../../db/de0/pbx_8h.html#a965977ea9a3144bc203e0ce7a64680a1">ast_custom_function_unregister</a>(&amp;<a class="code" href="../../d4/d5b/app__speech__utils_8c.html#a6a1bae7c061015b7d09b94964fb42f05">speech_results_type_function</a>);</div><div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;</div><div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;}</div><div class="ttc" id="app__speech__utils_8c_html_a1b910a901d902450e0b73f64069ce90c"><div class="ttname"><a href="../../d4/d5b/app__speech__utils_8c.html#a1b910a901d902450e0b73f64069ce90c">speech_engine_function</a></div><div class="ttdeci">static struct ast_custom_function speech_engine_function</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d5b/app__speech__utils_8c_source.html#l00464">app_speech_utils.c:464</a></div></div>
<div class="ttc" id="app__speech__utils_8c_html_af89c0992d5b33a98c57edc1faf346458"><div class="ttname"><a href="../../d4/d5b/app__speech__utils_8c.html#af89c0992d5b33a98c57edc1faf346458">speech_grammar_function</a></div><div class="ttdeci">static struct ast_custom_function speech_grammar_function</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d5b/app__speech__utils_8c_source.html#l00432">app_speech_utils.c:432</a></div></div>
<div class="ttc" id="module_8h_html_ad2ca15621101154f29748cf1dac3c3cf"><div class="ttname"><a href="../../d5/d16/module_8h.html#ad2ca15621101154f29748cf1dac3c3cf">ast_unregister_application</a></div><div class="ttdeci">int ast_unregister_application(const char *app)</div><div class="ttdoc">Unregister an application. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d16/pbx__app_8c_source.html#l00392">pbx_app.c:392</a></div></div>
<div class="ttc" id="pbx_8h_html_a965977ea9a3144bc203e0ce7a64680a1"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a965977ea9a3144bc203e0ce7a64680a1">ast_custom_function_unregister</a></div><div class="ttdeci">int ast_custom_function_unregister(struct ast_custom_function *acf)</div><div class="ttdoc">Unregister a custom function. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d70/pbx__functions_8c_source.html#l00273">pbx_functions.c:273</a></div></div>
<div class="ttc" id="app__speech__utils_8c_html_abace6cf3d611b558a2af3dfedb6ede5e"><div class="ttname"><a href="../../d4/d5b/app__speech__utils_8c.html#abace6cf3d611b558a2af3dfedb6ede5e">speech_function</a></div><div class="ttdeci">static struct ast_custom_function speech_function</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d5b/app__speech__utils_8c_source.html#l00534">app_speech_utils.c:534</a></div></div>
<div class="ttc" id="app__speech__utils_8c_html_a6a1bae7c061015b7d09b94964fb42f05"><div class="ttname"><a href="../../d4/d5b/app__speech__utils_8c.html#a6a1bae7c061015b7d09b94964fb42f05">speech_results_type_function</a></div><div class="ttdeci">static struct ast_custom_function speech_results_type_function</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d5b/app__speech__utils_8c_source.html#l00486">app_speech_utils.c:486</a></div></div>
<div class="ttc" id="app__speech__utils_8c_html_a2046e8372fa33fa58ac943b5f4704665"><div class="ttname"><a href="../../d4/d5b/app__speech__utils_8c.html#a2046e8372fa33fa58ac943b5f4704665">speech_score_function</a></div><div class="ttdeci">static struct ast_custom_function speech_score_function</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d5b/app__speech__utils_8c_source.html#l00380">app_speech_utils.c:380</a></div></div>
<div class="ttc" id="app__speech__utils_8c_html_ae0a6f9bf4c23816367b1057372775c23"><div class="ttname"><a href="../../d4/d5b/app__speech__utils_8c.html#ae0a6f9bf4c23816367b1057372775c23">speech_text_function</a></div><div class="ttdeci">static struct ast_custom_function speech_text_function</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d5b/app__speech__utils_8c_source.html#l00406">app_speech_utils.c:406</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ab22f32016155f7f403e7178767163d7d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab22f32016155f7f403e7178767163d7d">&#9670;&nbsp;</a></span>__mod_info</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a> __mod_info = { .<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a> = <a class="el" href="../../da/ddd/named__acl_8c.html#aec23fc5034c3bb08140fc021f4955877">AST_MODULE</a>, .flags = <a class="el" href="../../d5/d16/module_8h.html#a155a0df9c59e04e305d4a2fa3e35f843a54af2a9b29d140908cc9dffd0618951b">AST_MODFLAG_DEFAULT</a> , .description = &quot;Dialplan Speech Applications&quot; , .key = &quot;This paragraph is copyright (<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>) 2006 by Digium, Inc. \In <a class="el" href="../../d5/d14/voicin_8c.html#aed7ca058008dc3e5ee131e575abed285">order</a> for your module to load, it must return this \key via <a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a> function called \&quot;key\&quot;. Any code which \includes this paragraph must <a class="el" href="../../dd/d7c/eagi__proxy_8c.html#a39730e90126aad69cfc9ca4d6fcdb3a6">be</a> licensed under the GNU \General Public License <a class="el" href="../../da/d7c/utils_2frame_8h.html#a56abfaab87c46691c1ef3ad0df23e864">version</a> 2 or later (at your \option). In addition to Digium's general reservations \of rights, Digium expressly reserves the right to \allow other parties to license this paragraph under \different terms. Any use of Digium, Inc. trademarks or \logos (including \&quot;Asterisk\&quot; or \&quot;Digium\&quot;) without \express written <a class="el" href="../../d4/d4c/structpermission.html">permission</a> of Digium, Inc. is prohibited.\n&quot; , .buildopt_sum = &quot;30ef0c93b36035ec78c9cfd712d36d9b&quot; , .support_level = AST_MODULE_SUPPORT_CORE, .load = load_module, .unload = unload_module, .requires = &quot;res_speech&quot;, }</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html#l01007">1007</a> of file <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html">app_speech_utils.c</a>.</p>

</div>
</div>
<a id="ad60e83b9aa660040fed4d5377966cc21"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad60e83b9aa660040fed4d5377966cc21">&#9670;&nbsp;</a></span>ast_module_info</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const struct <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a>* <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a> = &amp;<a class="el" href="../../d6/d7a/test__xml__escape_8c.html#ab22f32016155f7f403e7178767163d7d">__mod_info</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html#l01007">1007</a> of file <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html">app_speech_utils.c</a>.</p>

</div>
</div>
<a id="a320778bebe128fd8006bdf7730dcebef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a320778bebe128fd8006bdf7730dcebef">&#9670;&nbsp;</a></span>speech_background_options</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const struct <a class="el" href="../../d2/d8d/structast__app__option.html">ast_app_option</a> speech_background_options[128] = { [ 'n' ] = { .<a class="el" href="../../dc/dc2/f2c_8h.html#abf5d144da384425ae6cb542ce6eec8d3">flag</a> = <a class="el" href="../../d4/d5b/app__speech__utils_8c.html#abe974f22edeef8189603ba75fd90ff3ca88817d51e54121d32cfc297418f14ebd">SB_OPT_NOANSWER</a> }, }</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html#l00697">697</a> of file <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html">app_speech_utils.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html#l00700">speech_background()</a>.</p>

</div>
</div>
<a id="a2050ca627af3f4230f3497cd2f684c32"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2050ca627af3f4230f3497cd2f684c32">&#9670;&nbsp;</a></span>speech_datastore</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const struct <a class="el" href="../../d9/dfb/structast__datastore__info.html">ast_datastore_info</a> speech_datastore</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div><div class="line">   .type = <span class="stringliteral">&quot;speech&quot;</span>,</div><div class="line">   .destroy = <a class="code" href="../../d4/d5b/app__speech__utils_8c.html#abdefdbe1ecf335759235651298ad70b2">destroy_callback</a></div><div class="line">}</div><div class="ttc" id="app__speech__utils_8c_html_abdefdbe1ecf335759235651298ad70b2"><div class="ttname"><a href="../../d4/d5b/app__speech__utils_8c.html#abdefdbe1ecf335759235651298ad70b2">destroy_callback</a></div><div class="ttdeci">static void destroy_callback(void *data)</div><div class="ttdoc">Helper function used by datastores to destroy the speech structure upon hangup. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d5b/app__speech__utils_8c_source.html#l00261">app_speech_utils.c:261</a></div></div>
</div><!-- fragment -->
<p>Static structure for datastore information. </p>

<p class="definition">Definition at line <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html#l00276">276</a> of file <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html">app_speech_utils.c</a>.</p>

</div>
</div>
<a id="a1b910a901d902450e0b73f64069ce90c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1b910a901d902450e0b73f64069ce90c">&#9670;&nbsp;</a></span>speech_engine_function</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../db/dc0/structast__custom__function.html">ast_custom_function</a> speech_engine_function</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div><div class="line">   .name = <span class="stringliteral">&quot;SPEECH_ENGINE&quot;</span>,</div><div class="line">   .read = <a class="code" href="../../d4/d5b/app__speech__utils_8c.html#aa6caed7e5ad77cb3398e5c74cbd26e41">speech_engine_read</a>,</div><div class="line">   .write = <a class="code" href="../../d4/d5b/app__speech__utils_8c.html#aa5fcd876dabc6d149d0706909c18e883">speech_engine_write</a>,</div><div class="line">}</div><div class="ttc" id="app__speech__utils_8c_html_aa6caed7e5ad77cb3398e5c74cbd26e41"><div class="ttname"><a href="../../d4/d5b/app__speech__utils_8c.html#aa6caed7e5ad77cb3398e5c74cbd26e41">speech_engine_read</a></div><div class="ttdeci">static int speech_engine_read(struct ast_channel *chan, const char *cmd, char *data, char *buf, size_t len)</div><div class="ttdoc">SPEECH_ENGINE() Dialplan Get Function. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d5b/app__speech__utils_8c_source.html#l00453">app_speech_utils.c:453</a></div></div>
<div class="ttc" id="app__speech__utils_8c_html_aa5fcd876dabc6d149d0706909c18e883"><div class="ttname"><a href="../../d4/d5b/app__speech__utils_8c.html#aa5fcd876dabc6d149d0706909c18e883">speech_engine_write</a></div><div class="ttdeci">static int speech_engine_write(struct ast_channel *chan, const char *cmd, char *data, const char *value)</div><div class="ttdoc">SPEECH_ENGINE() Dialplan Set Function. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d5b/app__speech__utils_8c_source.html#l00439">app_speech_utils.c:439</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html#l00464">464</a> of file <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html">app_speech_utils.c</a>.</p>

</div>
</div>
<a id="abace6cf3d611b558a2af3dfedb6ede5e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abace6cf3d611b558a2af3dfedb6ede5e">&#9670;&nbsp;</a></span>speech_function</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../db/dc0/structast__custom__function.html">ast_custom_function</a> speech_function</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div><div class="line">   .name = <span class="stringliteral">&quot;SPEECH&quot;</span>,</div><div class="line">   .read = <a class="code" href="../../d4/d5b/app__speech__utils_8c.html#a522401caa159e605b37aa1c696690049">speech_read</a>,</div><div class="line">   .write = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div><div class="line">}</div><div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="app__speech__utils_8c_html_a522401caa159e605b37aa1c696690049"><div class="ttname"><a href="../../d4/d5b/app__speech__utils_8c.html#a522401caa159e605b37aa1c696690049">speech_read</a></div><div class="ttdeci">static int speech_read(struct ast_channel *chan, const char *cmd, char *data, char *buf, size_t len)</div><div class="ttdoc">SPEECH() Dialplan Function. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d5b/app__speech__utils_8c_source.html#l00493">app_speech_utils.c:493</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html#l00534">534</a> of file <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html">app_speech_utils.c</a>.</p>

</div>
</div>
<a id="af89c0992d5b33a98c57edc1faf346458"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af89c0992d5b33a98c57edc1faf346458">&#9670;&nbsp;</a></span>speech_grammar_function</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../db/dc0/structast__custom__function.html">ast_custom_function</a> speech_grammar_function</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div><div class="line">   .name = <span class="stringliteral">&quot;SPEECH_GRAMMAR&quot;</span>,</div><div class="line">   .read = <a class="code" href="../../d4/d5b/app__speech__utils_8c.html#a002729173b4bffd98adb8e1f53513cf9">speech_grammar</a>,</div><div class="line">   .write = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div><div class="line">}</div><div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="app__speech__utils_8c_html_a002729173b4bffd98adb8e1f53513cf9"><div class="ttname"><a href="../../d4/d5b/app__speech__utils_8c.html#a002729173b4bffd98adb8e1f53513cf9">speech_grammar</a></div><div class="ttdeci">static int speech_grammar(struct ast_channel *chan, const char *cmd, char *data, char *buf, size_t len)</div><div class="ttdoc">SPEECH_GRAMMAR() Dialplan Function. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d5b/app__speech__utils_8c_source.html#l00413">app_speech_utils.c:413</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html#l00432">432</a> of file <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html">app_speech_utils.c</a>.</p>

</div>
</div>
<a id="a6a1bae7c061015b7d09b94964fb42f05"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a1bae7c061015b7d09b94964fb42f05">&#9670;&nbsp;</a></span>speech_results_type_function</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../db/dc0/structast__custom__function.html">ast_custom_function</a> speech_results_type_function</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div><div class="line">   .name = <span class="stringliteral">&quot;SPEECH_RESULTS_TYPE&quot;</span>,</div><div class="line">   .read = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div><div class="line">   .write = <a class="code" href="../../d4/d5b/app__speech__utils_8c.html#a47f4052ab990b206e796ad082b547167">speech_results_type_write</a>,</div><div class="line">}</div><div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="app__speech__utils_8c_html_a47f4052ab990b206e796ad082b547167"><div class="ttname"><a href="../../d4/d5b/app__speech__utils_8c.html#a47f4052ab990b206e796ad082b547167">speech_results_type_write</a></div><div class="ttdeci">static int speech_results_type_write(struct ast_channel *chan, const char *cmd, char *data, const char *value)</div><div class="ttdoc">SPEECH_RESULTS_TYPE() Dialplan Function. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d5b/app__speech__utils_8c_source.html#l00471">app_speech_utils.c:471</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html#l00486">486</a> of file <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html">app_speech_utils.c</a>.</p>

</div>
</div>
<a id="a2046e8372fa33fa58ac943b5f4704665"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2046e8372fa33fa58ac943b5f4704665">&#9670;&nbsp;</a></span>speech_score_function</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../db/dc0/structast__custom__function.html">ast_custom_function</a> speech_score_function</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div><div class="line">   .name = <span class="stringliteral">&quot;SPEECH_SCORE&quot;</span>,</div><div class="line">   .read = <a class="code" href="../../d4/d5b/app__speech__utils_8c.html#a5faa1e95f0f1ea50e5fbbe1e61868b19">speech_score</a>,</div><div class="line">   .write = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div><div class="line">}</div><div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="app__speech__utils_8c_html_a5faa1e95f0f1ea50e5fbbe1e61868b19"><div class="ttname"><a href="../../d4/d5b/app__speech__utils_8c.html#a5faa1e95f0f1ea50e5fbbe1e61868b19">speech_score</a></div><div class="ttdeci">static int speech_score(struct ast_channel *chan, const char *cmd, char *data, char *buf, size_t len)</div><div class="ttdoc">SPEECH_SCORE() Dialplan Function. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d5b/app__speech__utils_8c_source.html#l00362">app_speech_utils.c:362</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html#l00380">380</a> of file <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html">app_speech_utils.c</a>.</p>

</div>
</div>
<a id="ae0a6f9bf4c23816367b1057372775c23"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae0a6f9bf4c23816367b1057372775c23">&#9670;&nbsp;</a></span>speech_text_function</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../db/dc0/structast__custom__function.html">ast_custom_function</a> speech_text_function</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div><div class="line">   .name = <span class="stringliteral">&quot;SPEECH_TEXT&quot;</span>,</div><div class="line">   .read = <a class="code" href="../../d4/d5b/app__speech__utils_8c.html#a18e5a8465c29f0b304d8c8865b3012dd">speech_text</a>,</div><div class="line">   .write = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div><div class="line">}</div><div class="ttc" id="app__speech__utils_8c_html_a18e5a8465c29f0b304d8c8865b3012dd"><div class="ttname"><a href="../../d4/d5b/app__speech__utils_8c.html#a18e5a8465c29f0b304d8c8865b3012dd">speech_text</a></div><div class="ttdeci">static int speech_text(struct ast_channel *chan, const char *cmd, char *data, char *buf, size_t len)</div><div class="ttdoc">SPEECH_TEXT() Dialplan Function. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d5b/app__speech__utils_8c_source.html#l00387">app_speech_utils.c:387</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html#l00406">406</a> of file <a class="el" href="../../d4/d5b/app__speech__utils_8c_source.html">app_speech_utils.c</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Aug 8 2021 19:44:40 for Asterisk - The Open Source Telephony Project by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
