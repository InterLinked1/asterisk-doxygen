<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Asterisk - The Open Source Telephony Project: bridge.h Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Asterisk - The Open Source Telephony Project
   &#160;<span id="projectnumber">18.5.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="../../dir_6d4b1cdb59e2db6ad82005b337288fef.html">asterisk</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">bridge.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="../../d4/d56/bridge_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * Asterisk -- An open source telephony toolkit.</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> * Copyright (C) 2007 - 2009, 2013 Digium, Inc.</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> * Richard Mudgett &lt;rmudgett@digium.com&gt;</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> * Joshua Colp &lt;jcolp@digium.com&gt;</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> * See http://www.asterisk.org for more information about</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> * the Asterisk project. Please do not directly contact</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> * any of the maintainers of this project for assistance;</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> * the project provides a web site, mailing lists and IRC</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> * channels for your use.</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> * This program is free software, distributed under the terms of</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> * the GNU General Public License Version 2. See the LICENSE file</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"> * at the top of the source tree.</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment"> * \file</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment"> * \brief Bridging API</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment"> * \author Richard Mudgett &lt;rmudgett@digium.com&gt;</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment"> * \author Joshua Colp &lt;jcolp@digium.com&gt;</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment"> * \ref AstBridging</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="comment"> * See Also:</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="comment"> * \arg \ref AstCREDITS</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="comment"> * \page AstBridging Bridging API</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="comment"> * The purpose of this API is to provide an easy and flexible way to bridge</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="comment"> * channels of different technologies with different features.</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="comment"> * Bridging technologies provide the mechanism that do the actual handling</span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="comment"> * of frames between channels. They provide capability information, codec information,</span></div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="comment"> * and preference value to assist the bridging core in choosing a bridging technology when</span></div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="comment"> * creating a bridge. Different bridges may use different bridging technologies based on needs</span></div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="comment"> * but once chosen they all operate under the same premise; they receive frames and send frames.</span></div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="comment"> * Bridges are a combination of bridging technology, channels, and features. A</span></div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="comment"> * developer creates a new bridge based on what they are currently expecting to do</span></div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="comment"> * with it or what they will do with it in the future. The bridging core determines what</span></div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="comment"> * available bridging technology will best fit the requirements and creates a new bridge.</span></div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="comment"> * Once created, channels can be added to the bridge in a blocking or non-blocking fashion.</span></div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="comment"> * Features are such things as channel muting or DTMF based features such as attended transfer,</span></div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="comment"> * blind transfer, and hangup. Feature information must be set at the most granular level, on</span></div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="comment"> * the channel. While you can use features on a global scope the presence of a feature structure</span></div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="comment"> * on the channel will override the global scope. An example would be having the bridge muted</span></div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="comment"> * at global scope and attended transfer enabled on a channel. Since the channel itself is not muted</span></div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="comment"> * it would be able to speak.</span></div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="comment"> * Feature hooks allow a developer to tell the bridging core that when a DTMF string</span></div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="comment"> * is received from a channel a callback should be called in their application. For</span></div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="comment"> * example, a conference bridge application may want to provide an IVR to control various</span></div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="comment"> * settings on the conference bridge. This can be accomplished by attaching a feature hook</span></div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="comment"> * that calls an IVR function when a DTMF string is entered.</span></div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="preprocessor">#ifndef _ASTERISK_BRIDGING_H</span></div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="preprocessor">#define _ASTERISK_BRIDGING_H</span></div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="preprocessor">#if defined(__cplusplus) || defined(c_plusplus)</span></div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="keyword">extern</span> <span class="stringliteral">&quot;C&quot;</span> {</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../dc/d7a/bridge__features_8h.html">asterisk/bridge_features.h</a>&quot;</span></div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../de/d41/bridge__channel_8h.html">asterisk/bridge_channel.h</a>&quot;</span></div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../dd/dff/bridge__roles_8h.html">asterisk/bridge_roles.h</a>&quot;</span></div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d3/d08/dsp_8h.html">asterisk/dsp.h</a>&quot;</span></div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../dd/d1d/uuid_8h.html">asterisk/uuid.h</a>&quot;</span></div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="keyword">struct </span>a02_container;</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="keyword">struct </span><a class="code" href="../../d1/d04/structast__bridge__technology.html">ast_bridge_technology</a>;</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="keyword">struct </span><a class="code" href="../../d4/d84/structast__bridge.html">ast_bridge</a>;</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="keyword">struct </span><a class="code" href="../../d6/d97/structast__bridge__tech__optimizations.html">ast_bridge_tech_optimizations</a>;</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="comment">/*! \brief Capabilities for a bridge technology */</span></div><div class="line"><a name="l00084"></a><span class="lineno"><a class="line" href="../../d4/d56/bridge_8h.html#a815c9b3e933dfd4b8f523cf55caa5bbf">   84</a></span>&#160;<span class="keyword">enum</span> <a class="code" href="../../d4/d56/bridge_8h.html#a815c9b3e933dfd4b8f523cf55caa5bbf">ast_bridge_capability</a> {<span class="comment"></span></div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<span class="comment">   /*! Bridge technology can service calls on hold. */</span></div><div class="line"><a name="l00086"></a><span class="lineno"><a class="line" href="../../d4/d56/bridge_8h.html#a815c9b3e933dfd4b8f523cf55caa5bbfaff2606e446a3b7e22fb3785a06110554">   86</a></span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#a815c9b3e933dfd4b8f523cf55caa5bbfaff2606e446a3b7e22fb3785a06110554">AST_BRIDGE_CAPABILITY_HOLDING</a> = (1 &lt;&lt; 0),<span class="comment"></span></div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="comment">   /*! Bridge waits for channel to answer.  Passes early media. (XXX Not supported yet) */</span></div><div class="line"><a name="l00088"></a><span class="lineno"><a class="line" href="../../d4/d56/bridge_8h.html#a815c9b3e933dfd4b8f523cf55caa5bbfab01df717450b48e5a7ba5003df49c955">   88</a></span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#a815c9b3e933dfd4b8f523cf55caa5bbfab01df717450b48e5a7ba5003df49c955">AST_BRIDGE_CAPABILITY_EARLY</a> = (1 &lt;&lt; 1),<span class="comment"></span></div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;<span class="comment">   /*! Bridge is capable of natively bridging two channels. (Smart bridge only) */</span></div><div class="line"><a name="l00090"></a><span class="lineno"><a class="line" href="../../d4/d56/bridge_8h.html#a815c9b3e933dfd4b8f523cf55caa5bbfaec2d0fff3f4f8df0d9ef6b4d9be78380">   90</a></span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#a815c9b3e933dfd4b8f523cf55caa5bbfaec2d0fff3f4f8df0d9ef6b4d9be78380">AST_BRIDGE_CAPABILITY_NATIVE</a> = (1 &lt;&lt; 2),<span class="comment"></span></div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;<span class="comment">   /*! Bridge is capable of mixing at most two channels. (Smart bridgeable) */</span></div><div class="line"><a name="l00092"></a><span class="lineno"><a class="line" href="../../d4/d56/bridge_8h.html#a815c9b3e933dfd4b8f523cf55caa5bbfaf483c951b835fcc35da807b6a4b12509">   92</a></span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#a815c9b3e933dfd4b8f523cf55caa5bbfaf483c951b835fcc35da807b6a4b12509">AST_BRIDGE_CAPABILITY_1TO1MIX</a> = (1 &lt;&lt; 3),<span class="comment"></span></div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;<span class="comment">   /*! Bridge is capable of mixing an arbitrary number of channels. (Smart bridgeable) */</span></div><div class="line"><a name="l00094"></a><span class="lineno"><a class="line" href="../../d4/d56/bridge_8h.html#a815c9b3e933dfd4b8f523cf55caa5bbfabd40da8a498f3027c44dfa2e92d5f4ac">   94</a></span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#a815c9b3e933dfd4b8f523cf55caa5bbfabd40da8a498f3027c44dfa2e92d5f4ac">AST_BRIDGE_CAPABILITY_MULTIMIX</a> = (1 &lt;&lt; 4),</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;};</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;<span class="comment">/*! \brief Video source modes */</span></div><div class="line"><a name="l00098"></a><span class="lineno"><a class="line" href="../../d4/d56/bridge_8h.html#ab388dac5f5c172d7f03c54487afac906">   98</a></span>&#160;<span class="keyword">enum</span> <a class="code" href="../../d4/d56/bridge_8h.html#ab388dac5f5c172d7f03c54487afac906">ast_bridge_video_mode_type</a> {<span class="comment"></span></div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;<span class="comment">   /*! Video is not allowed in the bridge */</span></div><div class="line"><a name="l00100"></a><span class="lineno"><a class="line" href="../../d4/d56/bridge_8h.html#ab388dac5f5c172d7f03c54487afac906a51708384777e8722fae674ea8db89f54">  100</a></span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#ab388dac5f5c172d7f03c54487afac906a51708384777e8722fae674ea8db89f54">AST_BRIDGE_VIDEO_MODE_NONE</a> = 0,<span class="comment"></span></div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;<span class="comment">   /*! A single user is picked as the only distributed of video across the bridge */</span></div><div class="line"><a name="l00102"></a><span class="lineno"><a class="line" href="../../d4/d56/bridge_8h.html#ab388dac5f5c172d7f03c54487afac906a1e27ac207e54a30dfdabc463bd18d43c">  102</a></span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#ab388dac5f5c172d7f03c54487afac906a1e27ac207e54a30dfdabc463bd18d43c">AST_BRIDGE_VIDEO_MODE_SINGLE_SRC</a>,<span class="comment"></span></div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;<span class="comment">   /*! A single user&#39;s video feed is distributed to all bridge channels, but</span></div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;<span class="comment">    *  that feed is automatically picked based on who is talking the most. */</span></div><div class="line"><a name="l00105"></a><span class="lineno"><a class="line" href="../../d4/d56/bridge_8h.html#ab388dac5f5c172d7f03c54487afac906a48458f43dd7ef0372614e5848f9226e0">  105</a></span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#ab388dac5f5c172d7f03c54487afac906a48458f43dd7ef0372614e5848f9226e0">AST_BRIDGE_VIDEO_MODE_TALKER_SRC</a>,<span class="comment"></span></div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;<span class="comment">   /*! Operate as a selective forwarding unit. Video from each participant is</span></div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;<span class="comment">    * cloned to a dedicated stream on a subset of the remaining participants.</span></div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00109"></a><span class="lineno"><a class="line" href="../../d4/d56/bridge_8h.html#ab388dac5f5c172d7f03c54487afac906ac9992c5dc76155a013d0a5804c8f2bb7">  109</a></span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#ab388dac5f5c172d7f03c54487afac906ac9992c5dc76155a013d0a5804c8f2bb7">AST_BRIDGE_VIDEO_MODE_SFU</a>,</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;};</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;<span class="comment">/*! \brief This is used for both SINGLE_SRC mode to set what channel</span></div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;<span class="comment"> *  should be the current single video feed */</span></div><div class="line"><a name="l00114"></a><span class="lineno"><a class="line" href="../../dd/dbe/structast__bridge__video__single__src__data.html">  114</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../dd/dbe/structast__bridge__video__single__src__data.html">ast_bridge_video_single_src_data</a> {<span class="comment"></span></div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;<span class="comment">   /*! Only accept video coming from this channel */</span></div><div class="line"><a name="l00116"></a><span class="lineno"><a class="line" href="../../dd/dbe/structast__bridge__video__single__src__data.html#af17523bbee86cea3e7c6959258436728">  116</a></span>&#160;   <span class="keyword">struct </span><a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *<a class="code" href="../../dd/dbe/structast__bridge__video__single__src__data.html#af17523bbee86cea3e7c6959258436728">chan_vsrc</a>;</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;};</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;<span class="comment">/*! \brief This is used for both SINGLE_SRC_TALKER mode to set what channel</span></div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;<span class="comment"> *  should be the current single video feed */</span></div><div class="line"><a name="l00121"></a><span class="lineno"><a class="line" href="../../d0/dad/structast__bridge__video__talker__src__data.html">  121</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../d0/dad/structast__bridge__video__talker__src__data.html">ast_bridge_video_talker_src_data</a> {<span class="comment"></span></div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;<span class="comment">   /*! Only accept video coming from this channel */</span></div><div class="line"><a name="l00123"></a><span class="lineno"><a class="line" href="../../d0/dad/structast__bridge__video__talker__src__data.html#af17523bbee86cea3e7c6959258436728">  123</a></span>&#160;   <span class="keyword">struct </span><a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *<a class="code" href="../../d0/dad/structast__bridge__video__talker__src__data.html#af17523bbee86cea3e7c6959258436728">chan_vsrc</a>;</div><div class="line"><a name="l00124"></a><span class="lineno"><a class="line" href="../../d0/dad/structast__bridge__video__talker__src__data.html#ac10f96d9ddb17a9038083d909b2c7299">  124</a></span>&#160;   <span class="keywordtype">int</span> <a class="code" href="../../d0/dad/structast__bridge__video__talker__src__data.html#ac10f96d9ddb17a9038083d909b2c7299">average_talking_energy</a>;</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;<span class="comment">   /*! Current talker see&#39;s this person */</span></div><div class="line"><a name="l00127"></a><span class="lineno"><a class="line" href="../../d0/dad/structast__bridge__video__talker__src__data.html#a643b47a3afd64524d2baae9e6f2c7c60">  127</a></span>&#160;   <span class="keyword">struct </span><a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *<a class="code" href="../../d0/dad/structast__bridge__video__talker__src__data.html#a643b47a3afd64524d2baae9e6f2c7c60">chan_old_vsrc</a>;</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;};</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;<span class="comment">/*! \brief REMB report behaviors */</span></div><div class="line"><a name="l00131"></a><span class="lineno"><a class="line" href="../../d4/d56/bridge_8h.html#a22e0b20cf0d941c2acc0710600c1c35b">  131</a></span>&#160;<span class="keyword">enum</span> <a class="code" href="../../d4/d56/bridge_8h.html#a22e0b20cf0d941c2acc0710600c1c35b">ast_bridge_video_sfu_remb_behavior</a> {<span class="comment"></span></div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;<span class="comment">   /*! The average of all reports is sent to the sender */</span></div><div class="line"><a name="l00133"></a><span class="lineno"><a class="line" href="../../d4/d56/bridge_8h.html#a22e0b20cf0d941c2acc0710600c1c35ba4643daa2205912210019f2a54e567964">  133</a></span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#a22e0b20cf0d941c2acc0710600c1c35ba4643daa2205912210019f2a54e567964">AST_BRIDGE_VIDEO_SFU_REMB_AVERAGE</a> = 0,<span class="comment"></span></div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;<span class="comment">   /*! The lowest reported bitrate is forwarded to the sender */</span></div><div class="line"><a name="l00135"></a><span class="lineno"><a class="line" href="../../d4/d56/bridge_8h.html#a22e0b20cf0d941c2acc0710600c1c35ba14ab1a13df8c27aa690625d667f52f3a">  135</a></span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#a22e0b20cf0d941c2acc0710600c1c35ba14ab1a13df8c27aa690625d667f52f3a">AST_BRIDGE_VIDEO_SFU_REMB_LOWEST</a>,<span class="comment"></span></div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;<span class="comment">   /*! The highest reported bitrate is forwarded to the sender */</span></div><div class="line"><a name="l00137"></a><span class="lineno"><a class="line" href="../../d4/d56/bridge_8h.html#a22e0b20cf0d941c2acc0710600c1c35ba83b326eea831aaf8864b88955e7fe7a4">  137</a></span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#a22e0b20cf0d941c2acc0710600c1c35ba83b326eea831aaf8864b88955e7fe7a4">AST_BRIDGE_VIDEO_SFU_REMB_HIGHEST</a>,<span class="comment"></span></div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;<span class="comment">   /*! The average of all reports WITHIN the bridge is sent to each sender */</span></div><div class="line"><a name="l00139"></a><span class="lineno"><a class="line" href="../../d4/d56/bridge_8h.html#a22e0b20cf0d941c2acc0710600c1c35bab2a59c3a7d08362c5c99bbce00028d8e">  139</a></span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#a22e0b20cf0d941c2acc0710600c1c35bab2a59c3a7d08362c5c99bbce00028d8e">AST_BRIDGE_VIDEO_SFU_REMB_AVERAGE_ALL</a>,<span class="comment"></span></div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;<span class="comment">   /*! The lowest reported bitrate from all channels in the bridge is forwarded to each sender */</span></div><div class="line"><a name="l00141"></a><span class="lineno"><a class="line" href="../../d4/d56/bridge_8h.html#a22e0b20cf0d941c2acc0710600c1c35baed87d2e68e3a4ed12e09eee7a1993c51">  141</a></span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#a22e0b20cf0d941c2acc0710600c1c35baed87d2e68e3a4ed12e09eee7a1993c51">AST_BRIDGE_VIDEO_SFU_REMB_LOWEST_ALL</a>,<span class="comment"></span></div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;<span class="comment">   /*! The highest reported bitrate from all channels in the bridge is forwarded to each sender */</span></div><div class="line"><a name="l00143"></a><span class="lineno"><a class="line" href="../../d4/d56/bridge_8h.html#a22e0b20cf0d941c2acc0710600c1c35ba1fa9d011ae5e2f298c3875155a2a3e2f">  143</a></span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#a22e0b20cf0d941c2acc0710600c1c35ba1fa9d011ae5e2f298c3875155a2a3e2f">AST_BRIDGE_VIDEO_SFU_REMB_HIGHEST_ALL</a>,<span class="comment"></span></div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;<span class="comment">   /*! Force the REMB estimated bitrate to a specified value */</span></div><div class="line"><a name="l00145"></a><span class="lineno"><a class="line" href="../../d4/d56/bridge_8h.html#a22e0b20cf0d941c2acc0710600c1c35bac1c124829151b23928ceb83a7894be7d">  145</a></span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#a22e0b20cf0d941c2acc0710600c1c35bac1c124829151b23928ceb83a7894be7d">AST_BRIDGE_VIDEO_SFU_REMB_FORCE</a>,</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;};</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;<span class="comment">/*! \brief This is used for selective forwarding unit configuration */</span></div><div class="line"><a name="l00149"></a><span class="lineno"><a class="line" href="../../dd/df9/structast__bridge__video__sfu__data.html">  149</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../dd/df9/structast__bridge__video__sfu__data.html">ast_bridge_video_sfu_data</a> {<span class="comment"></span></div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;<span class="comment">   /*! The interval at which a REMB report is generated and sent */</span></div><div class="line"><a name="l00151"></a><span class="lineno"><a class="line" href="../../dd/df9/structast__bridge__video__sfu__data.html#a0a1c43a89347238ad53bdaa7f733a014">  151</a></span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../dd/df9/structast__bridge__video__sfu__data.html#a0a1c43a89347238ad53bdaa7f733a014">remb_send_interval</a>;<span class="comment"></span></div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;<span class="comment">   /*! How the combined REMB report is generated */</span></div><div class="line"><a name="l00153"></a><span class="lineno"><a class="line" href="../../dd/df9/structast__bridge__video__sfu__data.html#a8f1dcf51cf06db1ac8e0ad3db16b3d39">  153</a></span>&#160;   <span class="keyword">enum</span> <a class="code" href="../../d4/d56/bridge_8h.html#a22e0b20cf0d941c2acc0710600c1c35b">ast_bridge_video_sfu_remb_behavior</a> remb_behavior;<span class="comment"></span></div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;<span class="comment">   /*! The estimated bitrate when behavior is &quot;force&quot; */</span></div><div class="line"><a name="l00155"></a><span class="lineno"><a class="line" href="../../dd/df9/structast__bridge__video__sfu__data.html#a18f4bab7feee48c373dfcbea33a99e8d">  155</a></span>&#160;   <span class="keywordtype">float</span> <a class="code" href="../../dd/df9/structast__bridge__video__sfu__data.html#a18f4bab7feee48c373dfcbea33a99e8d">estimated_bitrate</a>;</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;};</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;<span class="comment">/*! \brief Data structure that defines a video source mode */</span></div><div class="line"><a name="l00159"></a><span class="lineno"><a class="line" href="../../dc/d4a/structast__bridge__video__mode.html">  159</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../dc/d4a/structast__bridge__video__mode.html">ast_bridge_video_mode</a> {</div><div class="line"><a name="l00160"></a><span class="lineno"><a class="line" href="../../dc/d4a/structast__bridge__video__mode.html#ac651801cf270dd2ba5cb81ec5c786308">  160</a></span>&#160;   <span class="keyword">enum</span> <a class="code" href="../../d4/d56/bridge_8h.html#ab388dac5f5c172d7f03c54487afac906">ast_bridge_video_mode_type</a> mode;</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;   <span class="comment">/* Add data for all the video modes here. */</span></div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;   <span class="keyword">union </span>{</div><div class="line"><a name="l00163"></a><span class="lineno"><a class="line" href="../../dc/d4a/structast__bridge__video__mode.html#a3d1942099e12eaade08dc9ac3fee6c23">  163</a></span>&#160;      <span class="keyword">struct </span><a class="code" href="../../dd/dbe/structast__bridge__video__single__src__data.html">ast_bridge_video_single_src_data</a> single_src_data;</div><div class="line"><a name="l00164"></a><span class="lineno"><a class="line" href="../../dc/d4a/structast__bridge__video__mode.html#a7325622e00e4be7c0370401933bb75e5">  164</a></span>&#160;      <span class="keyword">struct </span><a class="code" href="../../d0/dad/structast__bridge__video__talker__src__data.html">ast_bridge_video_talker_src_data</a> talker_src_data;</div><div class="line"><a name="l00165"></a><span class="lineno"><a class="line" href="../../dc/d4a/structast__bridge__video__mode.html#ad5d1cfaccf73f40dd103903868504a7b">  165</a></span>&#160;      <span class="keyword">struct </span><a class="code" href="../../dd/df9/structast__bridge__video__sfu__data.html">ast_bridge_video_sfu_data</a> sfu_data;</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;   } mode_data;<span class="comment"></span></div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;<span class="comment">   /*! The minimum interval between video updates */</span></div><div class="line"><a name="l00168"></a><span class="lineno"><a class="line" href="../../dc/d4a/structast__bridge__video__mode.html#a827ffb5b7363100b4470c4cd5ec2332e">  168</a></span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../dc/d4a/structast__bridge__video__mode.html#a827ffb5b7363100b4470c4cd5ec2332e">video_update_discard</a>;</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;};</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;<span class="comment"> * \brief Destroy the bridge.</span></div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;<span class="comment"> * \param self Bridge to operate upon.</span></div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;<span class="comment"> * \return Nothing</span></div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00178"></a><span class="lineno"><a class="line" href="../../d4/d56/bridge_8h.html#a097642290ac8df40ac9484221d4c9b21">  178</a></span>&#160;<span class="keyword">typedef</span> void (*<a class="code" href="../../d4/d56/bridge_8h.html#a097642290ac8df40ac9484221d4c9b21">ast_bridge_destructor_fn</a>)(<span class="keyword">struct </span><a class="code" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *<span class="keyword">self</span>);</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;<span class="comment"> * \brief The bridge is being dissolved.</span></div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;<span class="comment"> * \param self Bridge to operate upon.</span></div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;<span class="comment"> * \details</span></div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;<span class="comment"> * The bridge is being dissolved.  Remove any external</span></div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;<span class="comment"> * references to the bridge so it can be destroyed.</span></div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;<span class="comment"> * \note On entry, self must NOT be locked.</span></div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;<span class="comment"> * \return Nothing</span></div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00193"></a><span class="lineno"><a class="line" href="../../d4/d56/bridge_8h.html#a2535ed58f3bcc4475a107f2fe512373e">  193</a></span>&#160;<span class="keyword">typedef</span> void (*<a class="code" href="../../d4/d56/bridge_8h.html#a2535ed58f3bcc4475a107f2fe512373e">ast_bridge_dissolving_fn</a>)(<span class="keyword">struct </span><a class="code" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *<span class="keyword">self</span>);</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;<span class="comment"> * \brief Push this channel into the bridge.</span></div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;<span class="comment"> * \param self Bridge to operate upon.</span></div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;<span class="comment"> * \param bridge_channel Bridge channel to push.</span></div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;<span class="comment"> * \param swap Bridge channel to swap places with if not NULL.</span></div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;<span class="comment"> * \details</span></div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;<span class="comment"> * Setup any channel hooks controlled by the bridge.  Allocate</span></div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;<span class="comment"> * bridge_channel-&gt;bridge_pvt and initialize any resources put</span></div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;<span class="comment"> * in bridge_channel-&gt;bridge_pvt if needed.  If there is a swap</span></div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;<span class="comment"> * channel, use it as a guide to setting up the bridge_channel.</span></div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;<span class="comment"> * \note On entry, self is already locked.</span></div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;<span class="comment"> * \retval 0 on success.</span></div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;<span class="comment"> * \retval -1 on failure.  The channel did not get pushed.</span></div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00213"></a><span class="lineno"><a class="line" href="../../d4/d56/bridge_8h.html#afa18563d3db5e663e205d040c001a376">  213</a></span>&#160;<span class="keyword">typedef</span> int (*<a class="code" href="../../d4/d56/bridge_8h.html#afa18563d3db5e663e205d040c001a376">ast_bridge_push_channel_fn</a>)(<span class="keyword">struct </span><a class="code" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *<span class="keyword">self</span>, <span class="keyword">struct </span><a class="code" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *bridge_channel, <span class="keyword">struct </span><a class="code" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *<a class="code" href="../../d5/dca/structast__bridge__channel.html#a3bf3c4e34892d0033814ab5fec0e006f">swap</a>);</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;<span class="comment"> * \brief Pull this channel from the bridge.</span></div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;<span class="comment"> * \param self Bridge to operate upon.</span></div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;<span class="comment"> * \param bridge_channel Bridge channel to pull.</span></div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;<span class="comment"> * \details</span></div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;<span class="comment"> * Remove any channel hooks controlled by the bridge.  Release</span></div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;<span class="comment"> * any resources held by bridge_channel-&gt;bridge_pvt and release</span></div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;<span class="comment"> * bridge_channel-&gt;bridge_pvt.</span></div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;<span class="comment"> * \note On entry, self is already locked.</span></div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;<span class="comment"> * \return Nothing</span></div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00230"></a><span class="lineno"><a class="line" href="../../d4/d56/bridge_8h.html#a98d25ad98211b79abdfc6b5bf099b789">  230</a></span>&#160;<span class="keyword">typedef</span> void (*<a class="code" href="../../d4/d56/bridge_8h.html#a98d25ad98211b79abdfc6b5bf099b789">ast_bridge_pull_channel_fn</a>)(<span class="keyword">struct </span><a class="code" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *<span class="keyword">self</span>, <span class="keyword">struct </span><a class="code" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *bridge_channel);</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;<span class="comment"> * \brief Notify the bridge that this channel was just masqueraded.</span></div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;<span class="comment"> * \param self Bridge to operate upon.</span></div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;<span class="comment"> * \param bridge_channel Bridge channel that was masqueraded.</span></div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;<span class="comment"> * \details</span></div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;<span class="comment"> * A masquerade just happened to this channel.  The bridge needs</span></div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;<span class="comment"> * to re-evaluate this a channel in the bridge.</span></div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;<span class="comment"> * \note On entry, self is already locked.</span></div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;<span class="comment"> * \return Nothing</span></div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00246"></a><span class="lineno"><a class="line" href="../../d4/d56/bridge_8h.html#a2121b11e4a87e5757eec1d3053718458">  246</a></span>&#160;<span class="keyword">typedef</span> void (*<a class="code" href="../../d4/d56/bridge_8h.html#a2121b11e4a87e5757eec1d3053718458">ast_bridge_notify_masquerade_fn</a>)(<span class="keyword">struct </span><a class="code" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *<span class="keyword">self</span>, <span class="keyword">struct </span><a class="code" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *bridge_channel);</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;<span class="comment"> * \brief Get the merge priority of this bridge.</span></div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;<span class="comment"> * \param self Bridge to operate upon.</span></div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;<span class="comment"> * \note On entry, self is already locked.</span></div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;<span class="comment"> * \return Merge priority</span></div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00257"></a><span class="lineno"><a class="line" href="../../d4/d56/bridge_8h.html#a813ecb213606114d915566f867e0060a">  257</a></span>&#160;<span class="keyword">typedef</span> int (*<a class="code" href="../../d4/d56/bridge_8h.html#a813ecb213606114d915566f867e0060a">ast_bridge_merge_priority_fn</a>)(<span class="keyword">struct </span><a class="code" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *<span class="keyword">self</span>);</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;<span class="comment"> * \brief Bridge virtual methods table definition.</span></div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;<span class="comment"> * \note Any changes to this struct must be reflected in</span></div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;<span class="comment"> * bridge_alloc() validity checking.</span></div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00265"></a><span class="lineno"><a class="line" href="../../d2/dd3/structast__bridge__methods.html">  265</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../d2/dd3/structast__bridge__methods.html">ast_bridge_methods</a> {<span class="comment"></span></div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;<span class="comment">   /*! Bridge class name for log messages. */</span></div><div class="line"><a name="l00267"></a><span class="lineno"><a class="line" href="../../d2/dd3/structast__bridge__methods.html#a8f8f80d37794cde9472343e4487ba3eb">  267</a></span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d2/dd3/structast__bridge__methods.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>;<span class="comment"></span></div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;<span class="comment">   /*! Destroy the bridge. */</span></div><div class="line"><a name="l00269"></a><span class="lineno"><a class="line" href="../../d2/dd3/structast__bridge__methods.html#abf4c4f9d73d43950e5e1882db332f00b">  269</a></span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#a097642290ac8df40ac9484221d4c9b21">ast_bridge_destructor_fn</a> <a class="code" href="../../d2/dd3/structast__bridge__methods.html#abf4c4f9d73d43950e5e1882db332f00b">destroy</a>;<span class="comment"></span></div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;<span class="comment">   /*! The bridge is being dissolved.  Remove any references to the bridge. */</span></div><div class="line"><a name="l00271"></a><span class="lineno"><a class="line" href="../../d2/dd3/structast__bridge__methods.html#a5b1a8e69c6546121e0b4dcec16be3373">  271</a></span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#a2535ed58f3bcc4475a107f2fe512373e">ast_bridge_dissolving_fn</a> <a class="code" href="../../d2/dd3/structast__bridge__methods.html#a5b1a8e69c6546121e0b4dcec16be3373">dissolving</a>;<span class="comment"></span></div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;<span class="comment">   /*! Push the bridge channel into the bridge. */</span></div><div class="line"><a name="l00273"></a><span class="lineno"><a class="line" href="../../d2/dd3/structast__bridge__methods.html#a60b76bf280f288b3ef3f1facf873b104">  273</a></span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#afa18563d3db5e663e205d040c001a376">ast_bridge_push_channel_fn</a> <a class="code" href="../../d2/dd3/structast__bridge__methods.html#a60b76bf280f288b3ef3f1facf873b104">push</a>;<span class="comment"></span></div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;<span class="comment">   /*! Pull the bridge channel from the bridge. */</span></div><div class="line"><a name="l00275"></a><span class="lineno"><a class="line" href="../../d2/dd3/structast__bridge__methods.html#adcfc7ef2b1ee5305158a584970ddea65">  275</a></span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#a98d25ad98211b79abdfc6b5bf099b789">ast_bridge_pull_channel_fn</a> <a class="code" href="../../d2/dd3/structast__bridge__methods.html#adcfc7ef2b1ee5305158a584970ddea65">pull</a>;<span class="comment"></span></div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;<span class="comment">   /*! Notify the bridge of a masquerade with the channel. */</span></div><div class="line"><a name="l00277"></a><span class="lineno"><a class="line" href="../../d2/dd3/structast__bridge__methods.html#ab72b2fb844367bda53a258a6059f6290">  277</a></span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#a2121b11e4a87e5757eec1d3053718458">ast_bridge_notify_masquerade_fn</a> <a class="code" href="../../d2/dd3/structast__bridge__methods.html#ab72b2fb844367bda53a258a6059f6290">notify_masquerade</a>;<span class="comment"></span></div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;<span class="comment">   /*! Get the bridge merge priority. */</span></div><div class="line"><a name="l00279"></a><span class="lineno"><a class="line" href="../../d2/dd3/structast__bridge__methods.html#ad74029594a0d1e6b9863ce3f02c82d25">  279</a></span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#a813ecb213606114d915566f867e0060a">ast_bridge_merge_priority_fn</a> <a class="code" href="../../d2/dd3/structast__bridge__methods.html#ad74029594a0d1e6b9863ce3f02c82d25">get_merge_priority</a>;<span class="comment"></span></div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;<span class="comment">   /*! Peek at swap channel before it can hang up, prior to push. */</span></div><div class="line"><a name="l00281"></a><span class="lineno"><a class="line" href="../../d2/dd3/structast__bridge__methods.html#aeab2ad12e267a1bc7bfd840f1514f664">  281</a></span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#afa18563d3db5e663e205d040c001a376">ast_bridge_push_channel_fn</a> <a class="code" href="../../d2/dd3/structast__bridge__methods.html#aeab2ad12e267a1bc7bfd840f1514f664">push_peek</a>;</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;};</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;<span class="comment">/*! Softmix technology parameters. */</span></div><div class="line"><a name="l00285"></a><span class="lineno"><a class="line" href="../../d0/d50/structast__bridge__softmix.html">  285</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../d0/d50/structast__bridge__softmix.html">ast_bridge_softmix</a> {<span class="comment"></span></div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;<span class="comment">   /*! The video mode softmix is using */</span></div><div class="line"><a name="l00287"></a><span class="lineno"><a class="line" href="../../d0/d50/structast__bridge__softmix.html#ae0ffa389d55fc0dad4678b948a822add">  287</a></span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/d4a/structast__bridge__video__mode.html">ast_bridge_video_mode</a> video_mode;<span class="comment"></span></div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;<span class="comment">   /*!</span></div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;<span class="comment">    * \brief The internal sample rate softmix uses to mix channels.</span></div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;<span class="comment">    * \note If this value is 0, the sofmix may auto adjust the mixing rate.</span></div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00293"></a><span class="lineno"><a class="line" href="../../d0/d50/structast__bridge__softmix.html#ac4a5819e66f436d283aa19d986f04e52">  293</a></span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../d0/d50/structast__bridge__softmix.html#ac4a5819e66f436d283aa19d986f04e52">internal_sample_rate</a>;<span class="comment"></span></div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;<span class="comment">   /*!</span></div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;<span class="comment">    * \brief The mixing interval indicates how quickly softmix</span></div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;<span class="comment">    * mixing should occur to mix audio.</span></div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;<span class="comment">    * \note When set to 0, softmix must choose a default interval</span></div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;<span class="comment">    * for itself.</span></div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00301"></a><span class="lineno"><a class="line" href="../../d0/d50/structast__bridge__softmix.html#ae2a50ae58a79af5e12287b40bf903209">  301</a></span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../d0/d50/structast__bridge__softmix.html#ae2a50ae58a79af5e12287b40bf903209">internal_mixing_interval</a>;<span class="comment"></span></div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;<span class="comment">   /*! TRUE if binaural convolve is activated in configuration. */</span></div><div class="line"><a name="l00303"></a><span class="lineno"><a class="line" href="../../d0/d50/structast__bridge__softmix.html#acc14dd5766fd17581ff869aaae42988c">  303</a></span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../d0/d50/structast__bridge__softmix.html#acc14dd5766fd17581ff869aaae42988c">binaural_active</a>;<span class="comment"></span></div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;<span class="comment">   /*!</span></div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;<span class="comment">    * Add a &quot;label&quot; attribute to each stream in the SDP containing</span></div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;<span class="comment">    * the channel uniqueid.  Used for participant info correlation.</span></div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00308"></a><span class="lineno"><a class="line" href="../../d0/d50/structast__bridge__softmix.html#a19c26f21e5b3f0f20ef838fd43db8ea9">  308</a></span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../d0/d50/structast__bridge__softmix.html#a19c26f21e5b3f0f20ef838fd43db8ea9">send_sdp_label</a>;<span class="comment"></span></div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;<span class="comment">   /*!</span></div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;<span class="comment">    * \brief The maximum sample rate softmix uses to mix channels.</span></div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;<span class="comment">    * \note If this value is 0, there is no maximum sample rate.</span></div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00314"></a><span class="lineno"><a class="line" href="../../d0/d50/structast__bridge__softmix.html#a20440d4454d1d575acbba1e14c39cb28">  314</a></span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../d0/d50/structast__bridge__softmix.html#a20440d4454d1d575acbba1e14c39cb28">maximum_sample_rate</a>;</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;};</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;</div><div class="line"><a name="l00317"></a><span class="lineno"><a class="line" href="../../d3/d0f/structast__bridge__channels__list.html#a2626c387d8019ca5b7510fb362de6a14">  317</a></span>&#160;<a class="code" href="../../d1/d8f/reqresp__parser_8h.html#a7e4aa55331b8292eff94249de72b807d">AST_LIST_HEAD_NOLOCK</a>(<a class="code" href="../../d3/d0f/structast__bridge__channels__list.html">ast_bridge_channels_list</a>, <a class="code" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a>);</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;<span class="comment"> * \brief Structure that contains a snapshot of information about a bridge</span></div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00322"></a><span class="lineno"><a class="line" href="../../d0/d99/structast__bridge__snapshot.html">  322</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../d0/d99/structast__bridge__snapshot.html">ast_bridge_snapshot</a> {</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;   <a class="code" href="../../d1/d0f/stringfields_8h.html#a061580e89c55282a7140fa3fdfd52b6d">AST_DECLARE_STRING_FIELDS</a>(<span class="comment"></span></div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;<span class="comment">      /*! Immutable bridge UUID. */</span></div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;      <a class="code" href="../../d1/d0f/stringfields_8h.html#a51b5729220efb7cda4393ed35ecdfea2">AST_STRING_FIELD</a>(uniqueid);<span class="comment"></span></div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;<span class="comment">      /*! Bridge technology that is handling the bridge */</span></div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;      <a class="code" href="../../d1/d0f/stringfields_8h.html#a51b5729220efb7cda4393ed35ecdfea2">AST_STRING_FIELD</a>(technology);<span class="comment"></span></div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;<span class="comment">      /*! Bridge subclass that is handling the bridge */</span></div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;      <a class="code" href="../../d1/d0f/stringfields_8h.html#a51b5729220efb7cda4393ed35ecdfea2">AST_STRING_FIELD</a>(subclass);<span class="comment"></span></div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;<span class="comment">      /*! Creator of the bridge */</span></div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;      <a class="code" href="../../d1/d0f/stringfields_8h.html#a51b5729220efb7cda4393ed35ecdfea2">AST_STRING_FIELD</a>(creator);<span class="comment"></span></div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;<span class="comment">      /*! Name given to the bridge by its creator */</span></div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;      <a class="code" href="../../d1/d0f/stringfields_8h.html#a51b5729220efb7cda4393ed35ecdfea2">AST_STRING_FIELD</a>(<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>);<span class="comment"></span></div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;<span class="comment">      /*! Unique ID of the channel providing video, if one exists */</span></div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;      <a class="code" href="../../d1/d0f/stringfields_8h.html#a51b5729220efb7cda4393ed35ecdfea2">AST_STRING_FIELD</a>(video_source_id);</div><div class="line"><a name="l00336"></a><span class="lineno"><a class="line" href="../../d0/d99/structast__bridge__snapshot.html#a54eb8725951c786429e4b86d7159309e">  336</a></span>&#160;   );<span class="comment"></span></div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;<span class="comment">   /*! AO2 container of bare channel uniqueid strings participating in the bridge.</span></div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;<span class="comment">    * Allocated from ast_str_container_alloc() */</span></div><div class="line"><a name="l00339"></a><span class="lineno"><a class="line" href="../../d0/d99/structast__bridge__snapshot.html#adbc20a2fd50bb1376a3c6094e96a31e3">  339</a></span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/da9/structao2__container.html">ao2_container</a> *<a class="code" href="../../d0/d99/structast__bridge__snapshot.html#adbc20a2fd50bb1376a3c6094e96a31e3">channels</a>;<span class="comment"></span></div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;<span class="comment">   /*! Bridge flags to tweak behavior */</span></div><div class="line"><a name="l00341"></a><span class="lineno"><a class="line" href="../../d0/d99/structast__bridge__snapshot.html#af15c2e8b6df8ce0bf570af18aa890deb">  341</a></span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/dac/structast__flags.html">ast_flags</a> feature_flags;<span class="comment"></span></div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;<span class="comment">   /*! Bridge capabilities */</span></div><div class="line"><a name="l00343"></a><span class="lineno"><a class="line" href="../../d0/d99/structast__bridge__snapshot.html#a04532f57b1eebac73f24b2a02dab161f">  343</a></span>&#160;   uint32_t <a class="code" href="../../d0/d99/structast__bridge__snapshot.html#a04532f57b1eebac73f24b2a02dab161f">capabilities</a>;<span class="comment"></span></div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;<span class="comment">   /*! Number of channels participating in the bridge */</span></div><div class="line"><a name="l00345"></a><span class="lineno"><a class="line" href="../../d0/d99/structast__bridge__snapshot.html#a97e3bedeadf444995deb6fab68f57e21">  345</a></span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../d0/d99/structast__bridge__snapshot.html#a97e3bedeadf444995deb6fab68f57e21">num_channels</a>;<span class="comment"></span></div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;<span class="comment">   /*! Number of active channels in the bridge. */</span></div><div class="line"><a name="l00347"></a><span class="lineno"><a class="line" href="../../d0/d99/structast__bridge__snapshot.html#a4d514eabb35f71dee132ef1df1c6cdbb">  347</a></span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../d0/d99/structast__bridge__snapshot.html#a4d514eabb35f71dee132ef1df1c6cdbb">num_active</a>;<span class="comment"></span></div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;<span class="comment">   /*! The video mode of the bridge */</span></div><div class="line"><a name="l00349"></a><span class="lineno"><a class="line" href="../../d0/d99/structast__bridge__snapshot.html#a1b93f1ad25034993f7eb103a0322562e">  349</a></span>&#160;   <span class="keyword">enum</span> <a class="code" href="../../d4/d56/bridge_8h.html#ab388dac5f5c172d7f03c54487afac906">ast_bridge_video_mode_type</a> video_mode;<span class="comment"></span></div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;<span class="comment">   /*! The time of bridge creation */</span></div><div class="line"><a name="l00351"></a><span class="lineno"><a class="line" href="../../d0/d99/structast__bridge__snapshot.html#a298ce3dfc9b5b8a8351e8ed103aa7e5c">  351</a></span>&#160;   <span class="keyword">struct </span>timeval creationtime;</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;};</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;<span class="comment"> * \brief Structure that contains information about a bridge</span></div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00357"></a><span class="lineno"><a class="line" href="../../d4/d84/structast__bridge.html">  357</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../d4/d84/structast__bridge.html">ast_bridge</a> {<span class="comment"></span></div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;<span class="comment">   /*! Bridge virtual method table. */</span></div><div class="line"><a name="l00359"></a><span class="lineno"><a class="line" href="../../d4/d84/structast__bridge.html#a2f11ecc852af02fffecf1411013f0873">  359</a></span>&#160;   <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="../../d2/dd3/structast__bridge__methods.html">ast_bridge_methods</a> *<a class="code" href="../../d4/d84/structast__bridge.html#a2f11ecc852af02fffecf1411013f0873">v_table</a>;<span class="comment"></span></div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;<span class="comment">   /*! &quot;Personality&quot; currently exhibited by bridge subclass */</span></div><div class="line"><a name="l00361"></a><span class="lineno"><a class="line" href="../../d4/d84/structast__bridge.html#a92af4d6802e170d70b27035ee963ccb4">  361</a></span>&#160;   <span class="keywordtype">void</span> *<a class="code" href="../../d4/d84/structast__bridge.html#a92af4d6802e170d70b27035ee963ccb4">personality</a>;<span class="comment"></span></div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;<span class="comment">   /*! Bridge technology that is handling the bridge */</span></div><div class="line"><a name="l00363"></a><span class="lineno"><a class="line" href="../../d4/d84/structast__bridge.html#aabb60a181a9e98fb31f8666fb4f5d0b8">  363</a></span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d1/d04/structast__bridge__technology.html">ast_bridge_technology</a> *<a class="code" href="../../d4/d84/structast__bridge.html#aabb60a181a9e98fb31f8666fb4f5d0b8">technology</a>;<span class="comment"></span></div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;<span class="comment">   /*! Private information unique to the bridge technology */</span></div><div class="line"><a name="l00365"></a><span class="lineno"><a class="line" href="../../d4/d84/structast__bridge.html#a19aa04db5508cf9496602e694dc69e2f">  365</a></span>&#160;   <span class="keywordtype">void</span> *<a class="code" href="../../d4/d84/structast__bridge.html#a19aa04db5508cf9496602e694dc69e2f">tech_pvt</a>;<span class="comment"></span></div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;<span class="comment">   /*! Per-bridge topics */</span></div><div class="line"><a name="l00367"></a><span class="lineno"><a class="line" href="../../d4/d84/structast__bridge.html#a136460a7868b48ef576c0fa505ef96db">  367</a></span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/d1d/structstasis__topic.html">stasis_topic</a> *<a class="code" href="../../d4/d84/structast__bridge.html#a136460a7868b48ef576c0fa505ef96db">topic</a>;<span class="comment"></span></div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;<span class="comment">   /*! Call ID associated with the bridge */</span></div><div class="line"><a name="l00369"></a><span class="lineno"><a class="line" href="../../d4/d84/structast__bridge.html#a62f8995a6eac6c8a48205a6f3815d54b">  369</a></span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a6db44a7e26f0bc42801fc7225817c6a1">ast_callid</a> <a class="code" href="../../d4/d84/structast__bridge.html#a62f8995a6eac6c8a48205a6f3815d54b">callid</a>;<span class="comment"></span></div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;<span class="comment">   /*! Linked list of channels participating in the bridge */</span></div><div class="line"><a name="l00371"></a><span class="lineno"><a class="line" href="../../d4/d84/structast__bridge.html#a77542a877d8ed62331c5b3b6aa3e87a7">  371</a></span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d3/d0f/structast__bridge__channels__list.html">ast_bridge_channels_list</a> <a class="code" href="../../de/d52/codec__dahdi_8c.html#aea0622703055b62259903cdab213319b">channels</a>;<span class="comment"></span></div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;<span class="comment">   /*! Queue of actions to perform on the bridge. */</span></div><div class="line"><a name="l00373"></a><span class="lineno"><a class="line" href="../../d4/d84/structast__bridge.html#a26b5d863c7e0cb86c0272712fea6f996">  373</a></span>&#160;   <a class="code" href="../../d1/d8f/reqresp__parser_8h.html#a7e4aa55331b8292eff94249de72b807d">AST_LIST_HEAD_NOLOCK</a>(, <a class="code" href="../../d0/d99/structast__frame.html">ast_frame</a>) action_queue;<span class="comment"></span></div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;<span class="comment">   /*! Softmix technology parameters. */</span></div><div class="line"><a name="l00375"></a><span class="lineno"><a class="line" href="../../d4/d84/structast__bridge.html#a1792ee6e2f718b197f668a8b7b16d357">  375</a></span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d50/structast__bridge__softmix.html">ast_bridge_softmix</a> softmix;<span class="comment"></span></div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;<span class="comment">   /*! Bridge flags to tweak behavior */</span></div><div class="line"><a name="l00377"></a><span class="lineno"><a class="line" href="../../d4/d84/structast__bridge.html#af15c2e8b6df8ce0bf570af18aa890deb">  377</a></span>&#160;   <span class="keyword">struct </span><a class="code" href="../../dc/dac/structast__flags.html">ast_flags</a> feature_flags;<span class="comment"></span></div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;<span class="comment">   /*! Allowed bridge technology capabilities when AST_BRIDGE_FLAG_SMART enabled. */</span></div><div class="line"><a name="l00379"></a><span class="lineno"><a class="line" href="../../d4/d84/structast__bridge.html#afe58250d4d4352ae4f0da4012ed4e9fa">  379</a></span>&#160;   uint32_t <a class="code" href="../../d4/d84/structast__bridge.html#afe58250d4d4352ae4f0da4012ed4e9fa">allowed_capabilities</a>;<span class="comment"></span></div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;<span class="comment">   /*! Number of channels participating in the bridge */</span></div><div class="line"><a name="l00381"></a><span class="lineno"><a class="line" href="../../d4/d84/structast__bridge.html#a97e3bedeadf444995deb6fab68f57e21">  381</a></span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../d4/d84/structast__bridge.html#a97e3bedeadf444995deb6fab68f57e21">num_channels</a>;<span class="comment"></span></div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;<span class="comment">   /*! Number of active channels in the bridge. */</span></div><div class="line"><a name="l00383"></a><span class="lineno"><a class="line" href="../../d4/d84/structast__bridge.html#a4d514eabb35f71dee132ef1df1c6cdbb">  383</a></span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../d4/d84/structast__bridge.html#a4d514eabb35f71dee132ef1df1c6cdbb">num_active</a>;<span class="comment"></span></div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;<span class="comment">   /*! Number of channels with AST_BRIDGE_CHANNEL_FLAG_LONELY in the bridge. */</span></div><div class="line"><a name="l00385"></a><span class="lineno"><a class="line" href="../../d4/d84/structast__bridge.html#adaedd59efa9e3a1bf9ef24db6771e0a2">  385</a></span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../d4/d84/structast__bridge.html#adaedd59efa9e3a1bf9ef24db6771e0a2">num_lonely</a>;<span class="comment"></span></div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;<span class="comment">   /*!</span></div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;<span class="comment">    * \brief Count of the active temporary requests to inhibit bridge merges.</span></div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;<span class="comment">    * Zero if merges are allowed.</span></div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;<span class="comment">    *</span></div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;<span class="comment">    * \note Temporary as in try again in a moment.</span></div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00392"></a><span class="lineno"><a class="line" href="../../d4/d84/structast__bridge.html#af005cc77b3514fdc7fb7aba4ba370f50">  392</a></span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../d4/d84/structast__bridge.html#af005cc77b3514fdc7fb7aba4ba370f50">inhibit_merge</a>;<span class="comment"></span></div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;<span class="comment">   /*! Cause code of the dissolved bridge. */</span></div><div class="line"><a name="l00394"></a><span class="lineno"><a class="line" href="../../d4/d84/structast__bridge.html#aa4d0ccb9d0904892652f2f258c5ad225">  394</a></span>&#160;   <span class="keywordtype">int</span> <a class="code" href="../../d4/d84/structast__bridge.html#aa4d0ccb9d0904892652f2f258c5ad225">cause</a>;<span class="comment"></span></div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;<span class="comment">   /*! TRUE if the bridge was reconfigured. */</span></div><div class="line"><a name="l00396"></a><span class="lineno"><a class="line" href="../../d4/d84/structast__bridge.html#a41d441063234a215e985a56318a07a6f">  396</a></span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../d4/d84/structast__bridge.html#a41d441063234a215e985a56318a07a6f">reconfigured</a>:1;<span class="comment"></span></div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;<span class="comment">   /*! TRUE if the bridge has been dissolved.  Any channel that now tries to join is immediately ejected. */</span></div><div class="line"><a name="l00398"></a><span class="lineno"><a class="line" href="../../d4/d84/structast__bridge.html#a9ea77c25c2c57ec45bc6dfdea1c1a228">  398</a></span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../d4/d84/structast__bridge.html#a9ea77c25c2c57ec45bc6dfdea1c1a228">dissolved</a>:1;<span class="comment"></span></div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;<span class="comment">   /*! TRUE if the bridge construction was completed. */</span></div><div class="line"><a name="l00400"></a><span class="lineno"><a class="line" href="../../d4/d84/structast__bridge.html#abc1d460759585bcaddb392327e9cc9ea">  400</a></span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../d4/d84/structast__bridge.html#abc1d460759585bcaddb392327e9cc9ea">construction_completed</a>:1;</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;   <a class="code" href="../../d1/d0f/stringfields_8h.html#a061580e89c55282a7140fa3fdfd52b6d">AST_DECLARE_STRING_FIELDS</a>(<span class="comment"></span></div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;<span class="comment">      /*! Immutable name of the creator for the bridge */</span></div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;      <a class="code" href="../../d1/d0f/stringfields_8h.html#a51b5729220efb7cda4393ed35ecdfea2">AST_STRING_FIELD</a>(creator);<span class="comment"></span></div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;<span class="comment">      /*! Immutable name given to the bridge by its creator */</span></div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;      <a class="code" href="../../d1/d0f/stringfields_8h.html#a51b5729220efb7cda4393ed35ecdfea2">AST_STRING_FIELD</a>(<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>);<span class="comment"></span></div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;<span class="comment">      /*! Immutable bridge UUID. */</span></div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;      <a class="code" href="../../d1/d0f/stringfields_8h.html#a51b5729220efb7cda4393ed35ecdfea2">AST_STRING_FIELD</a>(uniqueid);</div><div class="line"><a name="l00409"></a><span class="lineno"><a class="line" href="../../d4/d84/structast__bridge.html#a753c7b39e3284d771f13f513b003d033">  409</a></span>&#160;   );</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;<span class="comment">   /*! Type mapping used for media routing */</span></div><div class="line"><a name="l00412"></a><span class="lineno"><a class="line" href="../../d4/d84/structast__bridge.html#a19fea4d448628d518b0043b2b17037dd">  412</a></span>&#160;   <span class="keyword">struct </span>ast_vector_int media_types;<span class="comment"></span></div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;<span class="comment">   /*! Current bridge snapshot */</span></div><div class="line"><a name="l00414"></a><span class="lineno"><a class="line" href="../../d4/d84/structast__bridge.html#a7dbe1cd4b391636e49491eafab9095e0">  414</a></span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d99/structast__bridge__snapshot.html">ast_bridge_snapshot</a> *<a class="code" href="../../d4/d84/structast__bridge.html#a7dbe1cd4b391636e49491eafab9095e0">current_snapshot</a>;<span class="comment"></span></div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;<span class="comment">   /*! The time of bridge creation */</span></div><div class="line"><a name="l00416"></a><span class="lineno"><a class="line" href="../../d4/d84/structast__bridge.html#a298ce3dfc9b5b8a8351e8ed103aa7e5c">  416</a></span>&#160;   <span class="keyword">struct </span>timeval creationtime;</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;};</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;<span class="comment">/*! \brief Bridge base class virtual method table. */</span></div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;<span class="keyword">extern</span> <span class="keyword">struct </span><a class="code" href="../../d2/dd3/structast__bridge__methods.html">ast_bridge_methods</a> <a class="code" href="../../d4/d56/bridge_8h.html#a5a2fef16c6520d265d7f81002eb96ee7">ast_bridge_base_v_table</a>;</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;<span class="comment"> * \brief Returns the global bridges container</span></div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;<span class="comment"> * \since 17.0</span></div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;<span class="comment"> * \retval a pointer to the bridges container success</span></div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;<span class="comment"> * \retval NULL on failure</span></div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;<span class="comment"> * \note You must use ao2_ref(&lt;container&gt;, -1) when done with it</span></div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;<span class="comment"> * \warning You must not attempt to modify the container returned.</span></div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;<span class="keyword">struct </span><a class="code" href="../../d2/da9/structao2__container.html">ao2_container</a> *<a class="code" href="../../d4/d56/bridge_8h.html#ab9fc36aaff74fae0efd0f683353baa7e">ast_bridges</a>(<span class="keywordtype">void</span>);</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;<span class="comment"> * \brief Create a new base class bridge</span></div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;<span class="comment"> * \param capabilities The capabilities that we require to be used on the bridge</span></div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;<span class="comment"> * \param flags Flags that will alter the behavior of the bridge</span></div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;<span class="comment"> * \param creator Entity that created the bridge (optional)</span></div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;<span class="comment"> * \param name Name given to the bridge by its creator (optional, requires named creator)</span></div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;<span class="comment"> * \param id Unique ID given to the bridge by its creator (optional)</span></div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;<span class="comment"> * \retval a pointer to a new bridge on success</span></div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;<span class="comment"> * \retval NULL on failure</span></div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;<span class="comment"> * Example usage:</span></div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;<span class="comment"> * \code</span></div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;<span class="comment"> * struct ast_bridge *bridge;</span></div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;<span class="comment"> * bridge = ast_bridge_base_new(AST_BRIDGE_CAPABILITY_1TO1MIX, AST_BRIDGE_FLAG_DISSOLVE_HANGUP);</span></div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;<span class="comment"> * \endcode</span></div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;<span class="comment"> * This creates a no frills two party bridge that will be</span></div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;<span class="comment"> * destroyed once one of the channels hangs up.</span></div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;<span class="keyword">struct </span><a class="code" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *<a class="code" href="../../d4/d56/bridge_8h.html#a32767ed0f51795590f41a662523c88b0">ast_bridge_base_new</a>(uint32_t capabilities, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> flags, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d4/d84/structast__bridge.html#a6e62c2774ca18846e6e45057fb8b7a22">creator</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keywordtype">id</span>);</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;<span class="comment"> * \brief Try locking the bridge.</span></div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;<span class="comment"> * \param bridge Bridge to try locking</span></div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;<span class="comment"> * \retval 0 on success.</span></div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;<span class="comment"> * \retval non-zero on error.</span></div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00467"></a><span class="lineno"><a class="line" href="../../d4/d56/bridge_8h.html#a2739c3a2cbad57dc988580e02082295c">  467</a></span>&#160;<span class="preprocessor">#define ast_bridge_trylock(bridge)  _ast_bridge_trylock(bridge, __FILE__, __PRETTY_FUNCTION__, __LINE__, #bridge)</span></div><div class="line"><a name="l00468"></a><span class="lineno"><a class="line" href="../../d4/d56/bridge_8h.html#aa480b74d4bd30d30c07a1f7276733188">  468</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="../../d4/d56/bridge_8h.html#aa480b74d4bd30d30c07a1f7276733188">_ast_bridge_trylock</a>(<span class="keyword">struct</span> <a class="code" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *bridge, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d2/dc8/namespacemake__ari__stubs.html#a40a5d58ffa6e88aa578d6683ac413105">file</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">function</span>, <span class="keywordtype">int</span> line, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../dc/df2/ast__expr2f_8c.html#a1b0936415a643c88ce543099c10e0d7f">var</a>)</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;{</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d5/da5/astobj2_8h.html#a321ba5fa712b06adeedb310a1fe519f4">__ao2_trylock</a>(bridge, <a class="code" href="../../d5/da5/astobj2_8h.html#a4e9f309cb90824e22969f0cf1b5b445da1381af5f17622000f344130ef673987b">AO2_LOCK_REQ_MUTEX</a>, file, <span class="keyword">function</span>, line, var);</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;}</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;<span class="comment"> * \brief Lock the bridge.</span></div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;<span class="comment"> * \param bridge Bridge to lock</span></div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;<span class="comment"> * \return Nothing</span></div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00480"></a><span class="lineno"><a class="line" href="../../d4/d56/bridge_8h.html#ab8ee807d2c3a21d19e16fedf35c90de8">  480</a></span>&#160;<span class="preprocessor">#define ast_bridge_lock(bridge)  _ast_bridge_lock(bridge, __FILE__, __PRETTY_FUNCTION__, __LINE__, #bridge)</span></div><div class="line"><a name="l00481"></a><span class="lineno"><a class="line" href="../../d4/d56/bridge_8h.html#ad10a5063edd5ac337fa1163e79021995">  481</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="../../d4/d56/bridge_8h.html#ad10a5063edd5ac337fa1163e79021995">_ast_bridge_lock</a>(<span class="keyword">struct</span> <a class="code" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *bridge, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d2/dc8/namespacemake__ari__stubs.html#a40a5d58ffa6e88aa578d6683ac413105">file</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">function</span>, <span class="keywordtype">int</span> line, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../dc/df2/ast__expr2f_8c.html#a1b0936415a643c88ce543099c10e0d7f">var</a>)</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;{</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#ae8abe54e1e1460641ed987db20e75e81">__ao2_lock</a>(bridge, <a class="code" href="../../d5/da5/astobj2_8h.html#a4e9f309cb90824e22969f0cf1b5b445da1381af5f17622000f344130ef673987b">AO2_LOCK_REQ_MUTEX</a>, file, <span class="keyword">function</span>, line, var);</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;}</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;<span class="comment"> * \brief Unlock the bridge.</span></div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;<span class="comment"> * \param bridge Bridge to unlock</span></div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;<span class="comment"> * \return Nothing</span></div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00493"></a><span class="lineno"><a class="line" href="../../d4/d56/bridge_8h.html#a0fb66f4741ca8d106af1917a2f1aab6e">  493</a></span>&#160;<span class="preprocessor">#define ast_bridge_unlock(bridge)   _ast_bridge_unlock(bridge, __FILE__, __PRETTY_FUNCTION__, __LINE__, #bridge)</span></div><div class="line"><a name="l00494"></a><span class="lineno"><a class="line" href="../../d4/d56/bridge_8h.html#a2fa782ceb590c4d6b7dd8e7a0686f1d7">  494</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="../../d4/d56/bridge_8h.html#a2fa782ceb590c4d6b7dd8e7a0686f1d7">_ast_bridge_unlock</a>(<span class="keyword">struct</span> <a class="code" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *bridge, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d2/dc8/namespacemake__ari__stubs.html#a40a5d58ffa6e88aa578d6683ac413105">file</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">function</span>, <span class="keywordtype">int</span> line, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../dc/df2/ast__expr2f_8c.html#a1b0936415a643c88ce543099c10e0d7f">var</a>)</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;{</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#ae77cde78a0e0ae3e75a2911857bfadc5">__ao2_unlock</a>(bridge, file, <span class="keyword">function</span>, line, var);</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;}</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;<span class="comment">/*! \brief Lock two bridges. */</span></div><div class="line"><a name="l00500"></a><span class="lineno"><a class="line" href="../../d4/d56/bridge_8h.html#a04a2852f4166568323aa33cd3d0158c7">  500</a></span>&#160;<span class="preprocessor">#define ast_bridge_lock_both(bridge1, bridge2)     \</span></div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;<span class="preprocessor">   do {                                \</span></div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;<span class="preprocessor">      for (;;) {                          \</span></div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;<span class="preprocessor">         ast_bridge_lock(bridge1);           \</span></div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;<span class="preprocessor">         if (!ast_bridge_trylock(bridge2)) {    \</span></div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;<span class="preprocessor">            break;                        \</span></div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;<span class="preprocessor">         }                             \</span></div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;<span class="preprocessor">         ast_bridge_unlock(bridge1);            \</span></div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;<span class="preprocessor">         sched_yield();                   \</span></div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;<span class="preprocessor">      }                                \</span></div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;<span class="preprocessor">   } while (0)</span></div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;<span class="comment"> * \brief Destroy a bridge</span></div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;<span class="comment"> * \param bridge Bridge to destroy</span></div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;<span class="comment"> * \param cause Cause of bridge being destroyed.  (If cause &lt;= 0 then use AST_CAUSE_NORMAL_CLEARING)</span></div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;<span class="comment"> * \retval 0 on success</span></div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;<span class="comment"> * \retval -1 on failure</span></div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;<span class="comment"> * Example usage:</span></div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;<span class="comment"> * \code</span></div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;<span class="comment"> * ast_bridge_destroy(bridge, AST_CAUSE_NORMAL_CLEARING);</span></div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;<span class="comment"> * \endcode</span></div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;<span class="comment"> * This destroys a bridge that was previously created.</span></div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;<span class="comment"> * \note</span></div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;<span class="comment"> * While this function will kick all channels out of the bridge, channels that</span></div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;<span class="comment"> * were added to the bridge using ast_bridge_impart() with the flag</span></div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;<span class="comment"> * AST_BRIDGE_IMPART_CHAN_DEPARTABLE set must have ast_bridge_depart() called</span></div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;<span class="comment"> * on them.</span></div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d4/d56/bridge_8h.html#a4adad484788bb018b8699eeed2ddfedd">ast_bridge_destroy</a>(<span class="keyword">struct</span> <a class="code" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *bridge, <span class="keywordtype">int</span> cause);</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;<span class="comment"> * \brief Notify bridging that this channel was just masqueraded.</span></div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;<span class="comment"> * \since 12.0.0</span></div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;<span class="comment"> * \param chan Channel just involved in a masquerade</span></div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;<span class="comment"> * \return Nothing</span></div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d4/d56/bridge_8h.html#aeb11f378e45f0beb05de964b3af9a6bc">ast_bridge_notify_masquerade</a>(<span class="keyword">struct</span> <a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan);</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;</div><div class="line"><a name="l00547"></a><span class="lineno"><a class="line" href="../../d4/d56/bridge_8h.html#ad52005264bec898a8f825bd47d91cf93">  547</a></span>&#160;<span class="keyword">enum</span> <a class="code" href="../../d4/d56/bridge_8h.html#ad52005264bec898a8f825bd47d91cf93">ast_bridge_join_flags</a> {<span class="comment"></span></div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;<span class="comment">   /*! The bridge reference is being passed by the caller. */</span></div><div class="line"><a name="l00549"></a><span class="lineno"><a class="line" href="../../d4/d56/bridge_8h.html#ad52005264bec898a8f825bd47d91cf93a9106169928c6eeccad5b5ebcf762ac9d">  549</a></span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#ad52005264bec898a8f825bd47d91cf93a9106169928c6eeccad5b5ebcf762ac9d">AST_BRIDGE_JOIN_PASS_REFERENCE</a> = (1 &lt;&lt; 0),<span class="comment"></span></div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;<span class="comment">   /*! The initial bridge join does not cause a COLP exchange. */</span></div><div class="line"><a name="l00551"></a><span class="lineno"><a class="line" href="../../d4/d56/bridge_8h.html#ad52005264bec898a8f825bd47d91cf93a3ebef74566687cfbc25d174725fc6d56">  551</a></span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#ad52005264bec898a8f825bd47d91cf93a3ebef74566687cfbc25d174725fc6d56">AST_BRIDGE_JOIN_INHIBIT_JOIN_COLP</a> = (1 &lt;&lt; 1),</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;};</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;<span class="comment"> * \brief Join a channel to a bridge (blocking)</span></div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;<span class="comment"> * \param bridge Bridge to join</span></div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;<span class="comment"> * \param chan Channel to join</span></div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;<span class="comment"> * \param swap Channel to swap out if swapping (A channel reference is stolen.)</span></div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;<span class="comment"> * \param features Bridge features structure</span></div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;<span class="comment"> * \param tech_args Optional Bridging tech optimization parameters for this channel.</span></div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;<span class="comment"> * \param flags defined by enum ast_bridge_join_flags.</span></div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;<span class="comment"> * \note The passed in swap channel is always unreffed on return.  It is not a</span></div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;<span class="comment"> * good idea to access the swap channel on return or for the caller to keep a</span></div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;<span class="comment"> * reference to it.</span></div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;<span class="comment"> * \note Absolutely _NO_ locks should be held before calling</span></div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;<span class="comment"> * this function since it blocks.</span></div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;<span class="comment"> * \retval 0 if the channel successfully joined the bridge before it exited.</span></div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;<span class="comment"> * \retval -1 if the channel failed to join the bridge</span></div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;<span class="comment"> * Example usage:</span></div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;<span class="comment"> * \code</span></div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;<span class="comment"> * ast_bridge_join(bridge, chan, NULL, NULL, NULL, AST_BRIDGE_JOIN_PASS_REFERENCE);</span></div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;<span class="comment"> * \endcode</span></div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;<span class="comment"> * This adds a channel pointed to by the chan pointer to the bridge pointed to by</span></div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;<span class="comment"> * the bridge pointer. This function will not return until the channel has been</span></div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;<span class="comment"> * removed from the bridge, swapped out for another channel, or has hung up.</span></div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;<span class="comment"> * If this channel will be replacing another channel the other channel can be specified</span></div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;<span class="comment"> * in the swap parameter. The other channel will be thrown out of the bridge in an</span></div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;<span class="comment"> * atomic fashion.</span></div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;<span class="comment"> * If channel specific features are enabled a pointer to the features structure</span></div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;<span class="comment"> * can be specified in the features parameter.</span></div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d4/d56/bridge_8h.html#a116a27b8e1e111729ee1828d4fab6b5a">ast_bridge_join</a>(<span class="keyword">struct</span> <a class="code" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *bridge,</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;   <span class="keyword">struct</span> <a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan,</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;   <span class="keyword">struct</span> <a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *swap,</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;   <span class="keyword">struct</span> <a class="code" href="../../db/dba/structast__bridge__features.html">ast_bridge_features</a> *features,</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;   <span class="keyword">struct</span> <a class="code" href="../../d6/d97/structast__bridge__tech__optimizations.html">ast_bridge_tech_optimizations</a> *tech_args,</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;   <span class="keyword">enum</span> <a class="code" href="../../d4/d56/bridge_8h.html#ad52005264bec898a8f825bd47d91cf93">ast_bridge_join_flags</a> flags);</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;</div><div class="line"><a name="l00598"></a><span class="lineno"><a class="line" href="../../d4/d56/bridge_8h.html#ac086b7d74fb40c2ede8514274585b101">  598</a></span>&#160;<span class="keyword">enum</span> <a class="code" href="../../d4/d56/bridge_8h.html#ac086b7d74fb40c2ede8514274585b101">ast_bridge_impart_flags</a> {<span class="comment"></span></div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;<span class="comment">   /*! Field describing what the caller can do with the channel after it is imparted. */</span></div><div class="line"><a name="l00600"></a><span class="lineno"><a class="line" href="../../d4/d56/bridge_8h.html#ac086b7d74fb40c2ede8514274585b101a99da763f0bd676f299a215ea9d1055db">  600</a></span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#ac086b7d74fb40c2ede8514274585b101a99da763f0bd676f299a215ea9d1055db">AST_BRIDGE_IMPART_CHAN_MASK</a> = (1 &lt;&lt; 0),<span class="comment"></span></div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;<span class="comment">   /*! The caller wants to reclaim the channel using ast_bridge_depart(). */</span></div><div class="line"><a name="l00602"></a><span class="lineno"><a class="line" href="../../d4/d56/bridge_8h.html#ac086b7d74fb40c2ede8514274585b101a01be425a6fb9fefd36905b542e903087">  602</a></span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#ac086b7d74fb40c2ede8514274585b101a01be425a6fb9fefd36905b542e903087">AST_BRIDGE_IMPART_CHAN_DEPARTABLE</a> = (0 &lt;&lt; 0),<span class="comment"></span></div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;<span class="comment">   /*! The caller is passing channel control entirely to the bridging system. */</span></div><div class="line"><a name="l00604"></a><span class="lineno"><a class="line" href="../../d4/d56/bridge_8h.html#ac086b7d74fb40c2ede8514274585b101aecfd8e6279a21b20ee4db0ab69c847e8">  604</a></span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#ac086b7d74fb40c2ede8514274585b101aecfd8e6279a21b20ee4db0ab69c847e8">AST_BRIDGE_IMPART_CHAN_INDEPENDENT</a> = (1 &lt;&lt; 0),<span class="comment"></span></div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;<span class="comment">   /*! The initial bridge join does not cause a COLP exchange. */</span></div><div class="line"><a name="l00606"></a><span class="lineno"><a class="line" href="../../d4/d56/bridge_8h.html#ac086b7d74fb40c2ede8514274585b101a9d897e78dc2fcd2447531e2ee0310933">  606</a></span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#ac086b7d74fb40c2ede8514274585b101a9d897e78dc2fcd2447531e2ee0310933">AST_BRIDGE_IMPART_INHIBIT_JOIN_COLP</a> = (1 &lt;&lt; 1),</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;};</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;<span class="comment"> * \brief Impart a channel to a bridge (non-blocking)</span></div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;<span class="comment"> * \param bridge Bridge to impart on</span></div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;<span class="comment"> * \param chan Channel to impart (The channel reference is stolen if impart successful.)</span></div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;<span class="comment"> * \param swap Channel to swap out if swapping.  NULL if not swapping.</span></div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;<span class="comment"> * \param features Bridge features structure.</span></div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;<span class="comment"> * \param flags defined by enum ast_bridge_impart_flags.</span></div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;<span class="comment"> * \note The given bridge must be unlocked when calling this function.</span></div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;<span class="comment"> * \note The features parameter must be NULL or obtained by</span></div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;<span class="comment"> * ast_bridge_features_new().  You must not dereference features</span></div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;<span class="comment"> * after calling even if the call fails.</span></div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;<span class="comment"> * \note chan is locked by this function.</span></div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;<span class="comment"> * \retval 0 on success</span></div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;<span class="comment"> * \retval -1 on failure (Caller still has ownership of chan)</span></div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;<span class="comment"> * Example usage:</span></div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;<span class="comment"> * \code</span></div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;<span class="comment"> * ast_bridge_impart(bridge, chan, NULL, NULL, AST_BRIDGE_IMPART_CHAN_INDEPENDENT);</span></div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;<span class="comment"> * \endcode</span></div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;<span class="comment"> * \details</span></div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;<span class="comment"> * This adds a channel pointed to by the chan pointer to the</span></div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;<span class="comment"> * bridge pointed to by the bridge pointer.  This function will</span></div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;<span class="comment"> * return immediately and will not wait until the channel is no</span></div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;<span class="comment"> * longer part of the bridge.</span></div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;<span class="comment"> * If this channel will be replacing another channel the other</span></div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;<span class="comment"> * channel can be specified in the swap parameter.  The other</span></div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;<span class="comment"> * channel will be thrown out of the bridge in an atomic</span></div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;<span class="comment"> * fashion.</span></div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;<span class="comment"> * If channel specific features are enabled, a pointer to the</span></div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;<span class="comment"> * features structure can be specified in the features</span></div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;<span class="comment"> * parameter.</span></div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;<span class="comment"> * \note If you impart a channel with</span></div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;<span class="comment"> * AST_BRIDGE_IMPART_CHAN_DEPARTABLE you MUST</span></div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;<span class="comment"> * ast_bridge_depart() the channel if this call succeeds.  The</span></div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;<span class="comment"> * bridge channel thread is created join-able.  The implication</span></div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;<span class="comment"> * is that the channel is special and will not behave like a</span></div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;<span class="comment"> * normal channel.</span></div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;<span class="comment"> * \note If you impart a channel with</span></div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;<span class="comment"> * AST_BRIDGE_IMPART_CHAN_INDEPENDENT you must not</span></div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;<span class="comment"> * ast_bridge_depart() the channel.  The bridge channel thread</span></div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;<span class="comment"> * is created non-join-able.  The channel must be treated as if</span></div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;<span class="comment"> * it were placed into the bridge by ast_bridge_join().</span></div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;<span class="comment"> * Channels placed into a bridge by ast_bridge_join() are</span></div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;<span class="comment"> * removed by a third party using ast_bridge_remove().</span></div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;<span class="comment"> * \note Any callbacks on the channel will be invoked on failure</span></div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;<span class="comment"> * with the reason as AST_BRIDGE_AFTER_CB_REASON_IMPART_FAILED.</span></div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d4/d56/bridge_8h.html#a582e1dd73a483ac881cff01fa07f39ae">ast_bridge_impart</a>(<span class="keyword">struct</span> <a class="code" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *bridge,</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;   <span class="keyword">struct</span> <a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan,</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;   <span class="keyword">struct</span> <a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *swap,</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;   <span class="keyword">struct</span> <a class="code" href="../../db/dba/structast__bridge__features.html">ast_bridge_features</a> *features,</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;   <span class="keyword">enum</span> <a class="code" href="../../d4/d56/bridge_8h.html#ac086b7d74fb40c2ede8514274585b101">ast_bridge_impart_flags</a> flags) <a class="code" href="../../d4/dd1/compiler_8h.html#ab3b3fbf14bd20f49a667b208fee6a07a">attribute_warn_unused_result</a>;</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;<span class="comment"> * \brief Depart a channel from a bridge</span></div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;<span class="comment"> * \param chan Channel to depart</span></div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;<span class="comment"> * \note chan is locked by this function.</span></div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;<span class="comment"> * \retval 0 on success</span></div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;<span class="comment"> * \retval -1 on failure</span></div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;<span class="comment"> * Example usage:</span></div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;<span class="comment"> * \code</span></div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;<span class="comment"> * ast_bridge_depart(chan);</span></div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;<span class="comment"> * \endcode</span></div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;<span class="comment"> * This removes the channel pointed to by the chan pointer from any bridge</span></div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;<span class="comment"> * it may be in and gives control to the calling thread.</span></div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;<span class="comment"> * This does not hang up the channel.</span></div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;<span class="comment"> * \note This API call can only be used on channels that were added to the bridge</span></div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;<span class="comment"> *       using the ast_bridge_impart API call with the AST_BRIDGE_IMPART_CHAN_DEPARTABLE</span></div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;<span class="comment"> *       flag.</span></div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d4/d56/bridge_8h.html#a0075715d330c8492e03c6d3ca3f48e13">ast_bridge_depart</a>(<span class="keyword">struct</span> <a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan);</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;<span class="comment"> * \brief Remove a channel from a bridge</span></div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;<span class="comment"> * \param bridge Bridge that the channel is to be removed from</span></div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;<span class="comment"> * \param chan Channel to remove</span></div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;<span class="comment"> * \retval 0 on success</span></div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;<span class="comment"> * \retval -1 on failure</span></div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;<span class="comment"> * Example usage:</span></div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;<span class="comment"> * \code</span></div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;<span class="comment"> * ast_bridge_remove(bridge, chan);</span></div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;<span class="comment"> * \endcode</span></div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;<span class="comment"> * This removes the channel pointed to by the chan pointer from the bridge</span></div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;<span class="comment"> * pointed to by the bridge pointer and requests that it be hung up. Control</span></div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;<span class="comment"> * over the channel will NOT be given to the calling thread.</span></div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;<span class="comment"> * \note This API call can be used on channels that were added to the bridge</span></div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;<span class="comment"> *       using both ast_bridge_join and ast_bridge_impart.</span></div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d4/d56/bridge_8h.html#a66d6a521530f4fb208eb8ee33e257b6c">ast_bridge_remove</a>(<span class="keyword">struct</span> <a class="code" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *bridge, <span class="keyword">struct</span> <a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan);</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;<span class="comment"> * \brief Kick a channel from a bridge</span></div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;<span class="comment"> * \param bridge Bridge that the channel is to be kicked from</span></div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;<span class="comment"> * \param chan Channel to kick</span></div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;<span class="comment"> * \retval 0 on success</span></div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;<span class="comment"> * \retval -1 on failure</span></div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;<span class="comment"> * Example usage:</span></div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;<span class="comment"> * \code</span></div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;<span class="comment"> * ast_bridge_kick(bridge, chan);</span></div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;<span class="comment"> * \endcode</span></div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;<span class="comment"> * \details</span></div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;<span class="comment"> * This kicks the channel pointed to by the chan pointer from</span></div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;<span class="comment"> * the bridge pointed to by the bridge pointer and requests that</span></div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;<span class="comment"> * it be hung up.  Control over the channel will NOT be given to</span></div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;<span class="comment"> * the calling thread.</span></div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;<span class="comment"> * \note The functional difference between ast_bridge_kick() and</span></div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;<span class="comment"> * ast_bridge_remove() is that the bridge may dissolve as a</span></div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;<span class="comment"> * result of the channel being kicked.</span></div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;<span class="comment"> * \note This API call can be used on channels that were added</span></div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;<span class="comment"> * to the bridge using both ast_bridge_join and</span></div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;<span class="comment"> * ast_bridge_impart.</span></div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d4/d56/bridge_8h.html#a7132d0a0b71844641ce3a1035e05c67b">ast_bridge_kick</a>(<span class="keyword">struct</span> <a class="code" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *bridge, <span class="keyword">struct</span> <a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan);</div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;<span class="comment"> * \brief Merge two bridges together</span></div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;<span class="comment"> * \param dst_bridge Destination bridge of merge.</span></div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;<span class="comment"> * \param src_bridge Source bridge of merge.</span></div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;<span class="comment"> * \param merge_best_direction TRUE if don&#39;t care about which bridge merges into the other.</span></div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;<span class="comment"> * \param kick_me Array of channels to kick from the bridges.</span></div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;<span class="comment"> * \param num_kick Number of channels in the kick_me array.</span></div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;<span class="comment"> * \note Absolutely _NO_ bridge or channel locks should be held</span></div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;<span class="comment"> * before calling this function.</span></div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;<span class="comment"> * \retval 0 on success</span></div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;<span class="comment"> * \retval -1 on failure</span></div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;<span class="comment"> * Example usage:</span></div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;<span class="comment"> * \code</span></div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;<span class="comment"> * ast_bridge_merge(dst_bridge, src_bridge, 0, NULL, 0);</span></div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;<span class="comment"> * \endcode</span></div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;<span class="comment"> * This moves the channels in src_bridge into the bridge pointed</span></div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;<span class="comment"> * to by dst_bridge.</span></div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d4/d56/bridge_8h.html#aa88f0cbb002c6f26133bb5d277d4dc49">ast_bridge_merge</a>(<span class="keyword">struct</span> <a class="code" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *dst_bridge, <span class="keyword">struct</span> <a class="code" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *src_bridge, <span class="keywordtype">int</span> merge_best_direction, <span class="keyword">struct</span> <a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> **kick_me, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> num_kick);</div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;<span class="comment"> * \brief Move a channel from one bridge to another.</span></div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;<span class="comment"> * \since 12.0.0</span></div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;<span class="comment"> * \param dst_bridge Destination bridge of bridge channel move.</span></div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;<span class="comment"> * \param src_bridge Source bridge of bridge channel move.</span></div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;<span class="comment"> * \param chan Channel to move.</span></div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;<span class="comment"> * \param swap Channel to replace in dst_bridge.</span></div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;<span class="comment"> * \param attempt_recovery TRUE if failure attempts to push channel back into original bridge.</span></div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;<span class="comment"> * \note Absolutely _NO_ bridge or channel locks should be held</span></div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;<span class="comment"> * before calling this function.</span></div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;<span class="comment"> * \retval 0 on success.</span></div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;<span class="comment"> * \retval -1 on failure.</span></div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d4/d56/bridge_8h.html#af0e3d51ad653134a92545dec4610b83a">ast_bridge_move</a>(<span class="keyword">struct</span> <a class="code" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *dst_bridge, <span class="keyword">struct</span> <a class="code" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *src_bridge, <span class="keyword">struct</span> <a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, <span class="keyword">struct</span> <a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *swap, <span class="keywordtype">int</span> attempt_recovery);</div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;<span class="comment"> * \brief Adjust the bridge merge inhibit request count.</span></div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;<span class="comment"> * \since 12.0.0</span></div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;<span class="comment"> * \param bridge What to operate on.</span></div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;<span class="comment"> * \param request Inhibit request increment.</span></div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;<span class="comment"> *     (Positive to add requests.  Negative to remove requests.)</span></div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;<span class="comment"> * \return Nothing</span></div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d4/d56/bridge_8h.html#a6bae9b013c815c40d0414080455e3592">ast_bridge_merge_inhibit</a>(<span class="keyword">struct</span> <a class="code" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *bridge, <span class="keywordtype">int</span> <a class="code" href="../../d0/d29/chan__pjsip_8c.html#a4e2e6fb7d874f0d2deddd2ecfc8afb32">request</a>);</div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;<span class="comment"> * \brief Suspend a channel temporarily from a bridge</span></div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;<span class="comment"> * \param bridge Bridge to suspend the channel from</span></div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;<span class="comment"> * \param chan Channel to suspend</span></div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;<span class="comment"> * \retval 0 on success</span></div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;<span class="comment"> * \retval -1 on failure</span></div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;<span class="comment"> * Example usage:</span></div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;<span class="comment"> * \code</span></div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;<span class="comment"> * ast_bridge_suspend(bridge, chan);</span></div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;<span class="comment"> * \endcode</span></div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;<span class="comment"> * This suspends the channel pointed to by chan from the bridge pointed to by bridge temporarily.</span></div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;<span class="comment"> * Control of the channel is given to the calling thread. This differs from ast_bridge_depart as</span></div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;<span class="comment"> * the channel will not be removed from the bridge.</span></div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;<span class="comment"> * \note This API call can be used on channels that were added to the bridge</span></div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;<span class="comment"> *       using both ast_bridge_join and ast_bridge_impart.</span></div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d4/d56/bridge_8h.html#a85bc0d4138ac2af7b207d8f1325f051a">ast_bridge_suspend</a>(<span class="keyword">struct</span> <a class="code" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *bridge, <span class="keyword">struct</span> <a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan);</div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;<span class="comment"> * \brief Unsuspend a channel from a bridge</span></div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;<span class="comment"> * \param bridge Bridge to unsuspend the channel from</span></div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;<span class="comment"> * \param chan Channel to unsuspend</span></div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;<span class="comment"> * \retval 0 on success</span></div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;<span class="comment"> * \retval -1 on failure</span></div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;<span class="comment"> * Example usage:</span></div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;<span class="comment"> * \code</span></div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;<span class="comment"> * ast_bridge_unsuspend(bridge, chan);</span></div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;<span class="comment"> * \endcode</span></div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;<span class="comment"> * This unsuspends the channel pointed to by chan from the bridge pointed to by bridge.</span></div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;<span class="comment"> * The bridge will go back to handling the channel once this function returns.</span></div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;<span class="comment"> * \note You must not mess with the channel once this function returns.</span></div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;<span class="comment"> *       Doing so may result in bad things happening.</span></div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d4/d56/bridge_8h.html#aab4cd1153d39a6744eca6a84d5255820">ast_bridge_unsuspend</a>(<span class="keyword">struct</span> <a class="code" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *bridge, <span class="keyword">struct</span> <a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan);</div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;<span class="comment"> * \brief Sets BRIDGECHANNEL and BRIDGEPVTCALLID for a channel</span></div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;<span class="comment"> * \pre chan must be locked before calling</span></div><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;<span class="comment"> * \param name channel name of the bridged peer</span></div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;<span class="comment"> * \param pvtid Private CallID of the bridged peer</span></div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;<span class="comment"> * \return nothing</span></div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d4/d56/bridge_8h.html#a67a0030855111322bb27b3502345adc6">ast_bridge_vars_set</a>(<span class="keyword">struct</span> <a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *pvtid);</div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;</div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;<span class="keyword">struct </span><a class="code" href="../../d6/df3/structast__unreal__pvt.html">ast_unreal_pvt</a>;</div><div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;<span class="comment"> * \brief Check and optimize out the unreal channels between bridges.</span></div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;<span class="comment"> * \since 12.0.0</span></div><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;<span class="comment"> * \param chan Unreal channel writing a frame into the channel driver.</span></div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;<span class="comment"> * \param peer Other unreal channel in the pair.</span></div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;<span class="comment"> * \param pvt Private data provided by an implementation of the unreal driver that</span></div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;<span class="comment"> * contains the callbacks that should be called when optimization begins/ends</span></div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;<span class="comment"> * \note It is assumed that chan is already locked.</span></div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;<span class="comment"> * \retval 0 if unreal channels were not optimized out.</span></div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;<span class="comment"> * \retval non-zero if unreal channels were optimized out.</span></div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d4/d56/bridge_8h.html#acbc344c8fa0a95134e759c71b87af890">ast_bridge_unreal_optimize_out</a>(<span class="keyword">struct</span> <a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *<a class="code" href="../../d6/df3/structast__unreal__pvt.html#a84d1435c5b8d387806714ea7079304b7">chan</a>, <span class="keyword">struct</span> <a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *peer, <span class="keyword">struct</span> <a class="code" href="../../d6/df3/structast__unreal__pvt.html">ast_unreal_pvt</a> *pvt);</div><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;<span class="comment"> * \brief Tells, if optimization is allowed, how the optimization would be performed</span></div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00891"></a><span class="lineno"><a class="line" href="../../d4/d56/bridge_8h.html#a186f44efd65f1349ca2deb11b8117534">  891</a></span>&#160;<span class="keyword">enum</span> <a class="code" href="../../d4/d56/bridge_8h.html#a186f44efd65f1349ca2deb11b8117534">ast_bridge_optimization</a> {<span class="comment"></span></div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;<span class="comment">   /*! Optimization would swap peer into the chan_bridge */</span></div><div class="line"><a name="l00893"></a><span class="lineno"><a class="line" href="../../d4/d56/bridge_8h.html#a186f44efd65f1349ca2deb11b8117534add0740f1c8620ab74b253de5bac26ec7">  893</a></span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#a186f44efd65f1349ca2deb11b8117534add0740f1c8620ab74b253de5bac26ec7">AST_BRIDGE_OPTIMIZE_SWAP_TO_CHAN_BRIDGE</a>,<span class="comment"></span></div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;<span class="comment">   /*! Optimization would swap chan into the peer_bridge */</span></div><div class="line"><a name="l00895"></a><span class="lineno"><a class="line" href="../../d4/d56/bridge_8h.html#a186f44efd65f1349ca2deb11b8117534a582d8fd99bc8f3320608f74efb142ee7">  895</a></span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#a186f44efd65f1349ca2deb11b8117534a582d8fd99bc8f3320608f74efb142ee7">AST_BRIDGE_OPTIMIZE_SWAP_TO_PEER_BRIDGE</a>,<span class="comment"></span></div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;<span class="comment">   /*! Optimization would merge peer_bridge into chan_bridge */</span></div><div class="line"><a name="l00897"></a><span class="lineno"><a class="line" href="../../d4/d56/bridge_8h.html#a186f44efd65f1349ca2deb11b8117534a2980a16e43b7b4f52b6c3af11bd79a56">  897</a></span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#a186f44efd65f1349ca2deb11b8117534a2980a16e43b7b4f52b6c3af11bd79a56">AST_BRIDGE_OPTIMIZE_MERGE_TO_CHAN_BRIDGE</a>,<span class="comment"></span></div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;<span class="comment">   /*! Optimization would merge chan_bridge into peer_bridge */</span></div><div class="line"><a name="l00899"></a><span class="lineno"><a class="line" href="../../d4/d56/bridge_8h.html#a186f44efd65f1349ca2deb11b8117534a83a14f41557a30da243c32b7f717ed1f">  899</a></span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#a186f44efd65f1349ca2deb11b8117534a83a14f41557a30da243c32b7f717ed1f">AST_BRIDGE_OPTIMIZE_MERGE_TO_PEER_BRIDGE</a>,<span class="comment"></span></div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;<span class="comment">   /*! Optimization is not permitted on one or both bridges */</span></div><div class="line"><a name="l00901"></a><span class="lineno"><a class="line" href="../../d4/d56/bridge_8h.html#a186f44efd65f1349ca2deb11b8117534a19fe1f0ca6993cc12c518aa09fb79a79">  901</a></span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#a186f44efd65f1349ca2deb11b8117534a19fe1f0ca6993cc12c518aa09fb79a79">AST_BRIDGE_OPTIMIZE_PROHIBITED</a>,</div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;};</div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;<span class="comment"> * \brief Determine if bridges allow for optimization to occur betweem them</span></div><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;<span class="comment"> * \since 12.0.0</span></div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;<span class="comment"> * \param chan_bridge First bridge being tested</span></div><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;<span class="comment"> * \param peer_bridge Second bridge being tested</span></div><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;<span class="comment"> * This determines if two bridges allow for unreal channel optimization</span></div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;<span class="comment"> * to occur between them. The function does not require for unreal channels</span></div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;<span class="comment"> * to already be in the bridges when called.</span></div><div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;<span class="comment"> * \note It is assumed that both bridges are locked prior to calling this function</span></div><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;<span class="comment"> * \note A return other than AST_BRIDGE_OPTIMIZE_PROHIBITED does not guarantee</span></div><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;<span class="comment"> * that an optimization attempt will succeed. However, a return of</span></div><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;<span class="comment"> * AST_BRIDGE_OPTIMIZE_PROHIBITED guarantees that an optimization attempt will</span></div><div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;<span class="comment"> * never succeed.</span></div><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;<span class="comment"> * \returns Optimization allowability for the bridges</span></div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;<span class="keyword">enum</span> <a class="code" href="../../d4/d56/bridge_8h.html#a186f44efd65f1349ca2deb11b8117534">ast_bridge_optimization</a> <a class="code" href="../../d4/d56/bridge_8h.html#ad460c5de90f3a8925c9149bbacce65f8">ast_bridges_allow_optimization</a>(<span class="keyword">struct</span> <a class="code" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *chan_bridge,</div><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;      <span class="keyword">struct</span> <a class="code" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *peer_bridge);</div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;<span class="comment"> * \brief Put an action onto the specified bridge.</span></div><div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;<span class="comment"> * \since 12.0.0</span></div><div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;<span class="comment"> * \param bridge What to queue the action on.</span></div><div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;<span class="comment"> * \param action What to do.</span></div><div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;<span class="comment"> * \retval 0 on success.</span></div><div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;<span class="comment"> * \retval -1 on error.</span></div><div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;<span class="comment"> * \note This API call is meant for internal bridging operations.</span></div><div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d4/d56/bridge_8h.html#a4a80435538e9bd93331f54d6aac9201b">ast_bridge_queue_action</a>(<span class="keyword">struct</span> <a class="code" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *bridge, <span class="keyword">struct</span> <a class="code" href="../../d0/d99/structast__frame.html">ast_frame</a> *action);</div><div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;<span class="comment"> * \brief Queue the given frame to everyone else.</span></div><div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;<span class="comment"> * \since 12.0.0</span></div><div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;<span class="comment"> * \param bridge What bridge to distribute frame.</span></div><div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;<span class="comment"> * \param bridge_channel Channel to optionally not pass frame to. (NULL to pass to everyone)</span></div><div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;<span class="comment"> * \param frame Frame to pass.</span></div><div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;<span class="comment"> * \note This is intended to be called by bridge hooks and</span></div><div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;<span class="comment"> * bridge technologies.</span></div><div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;<span class="comment"> * \retval 0 Frame written to at least one channel.</span></div><div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;<span class="comment"> * \retval -1 Frame written to no channels.</span></div><div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d4/d56/bridge_8h.html#aef93dd372b07227b9aa10c530d5039f8">ast_bridge_queue_everyone_else</a>(<span class="keyword">struct</span> <a class="code" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *bridge, <span class="keyword">struct</span> <a class="code" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *bridge_channel, <span class="keyword">struct</span> <a class="code" href="../../d0/d99/structast__frame.html">ast_frame</a> *frame);</div><div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;<span class="comment"> * \brief Adjust the internal mixing sample rate of a bridge</span></div><div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;<span class="comment"> * used during multimix mode.</span></div><div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;<span class="comment"> * \param bridge Channel to change the sample rate on.</span></div><div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;<span class="comment"> * \param sample_rate the sample rate to change to. If a</span></div><div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;<span class="comment"> *        value of 0 is passed here, the bridge will be free to pick</span></div><div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;<span class="comment"> *        what ever sample rate it chooses.</span></div><div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d4/d56/bridge_8h.html#af3e15bc4236a2a074953cfb1c4530cf5">ast_bridge_set_internal_sample_rate</a>(<span class="keyword">struct</span> <a class="code" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *bridge, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> sample_rate);</div><div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;<span class="comment"> * \brief Adjust the maximum mixing sample rate of a bridge</span></div><div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;<span class="comment"> * used during multimix mode.</span></div><div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;<span class="comment"> * \since 13.31.0</span></div><div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;<span class="comment"> * \since 16.8.0</span></div><div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;<span class="comment"> * \since 17.2.0</span></div><div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;<span class="comment"> * \param bridge Channel to change the sample rate on.</span></div><div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;<span class="comment"> * \param sample_rate the maximum sample rate to use. If a</span></div><div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;<span class="comment"> *        value of 0 is passed here, the bridge will be free to pick</span></div><div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;<span class="comment"> *        what ever sample rate it chooses.</span></div><div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d4/d56/bridge_8h.html#a3d4866f7184c581cd87f93ee0f2fca63">ast_bridge_set_maximum_sample_rate</a>(<span class="keyword">struct</span> <a class="code" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *bridge, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> sample_rate);</div><div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;<span class="comment"> * \brief Adjust the internal mixing interval of a bridge used</span></div><div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;<span class="comment"> * during multimix mode.</span></div><div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;<span class="comment"> * \param bridge Channel to change the sample rate on.</span></div><div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;<span class="comment"> * \param mixing_interval the sample rate to change to.  If 0 is set</span></div><div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;<span class="comment"> * the bridge tech is free to choose any mixing interval it uses by default.</span></div><div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d4/d56/bridge_8h.html#a8a14f1c30f04c6d50dac556cf53e1201">ast_bridge_set_mixing_interval</a>(<span class="keyword">struct</span> <a class="code" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *bridge, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> mixing_interval);</div><div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;<span class="comment"> * \brief Activates the use of binaural signals in a conference bridge.</span></div><div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;<span class="comment"> *  \param bridge Channel to activate the binaural signals.</span></div><div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;<span class="comment"> *  \param binaural_active If true binaural signal processing will be active for the bridge.</span></div><div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d4/d56/bridge_8h.html#a214c6742929d7db707c94d9856908e61">ast_bridge_set_binaural_active</a>(<span class="keyword">struct</span> <a class="code" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *bridge, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> binaural_active);</div><div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;<span class="comment"> * \brief Set a bridge to feed a single video source to all participants.</span></div><div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d4/d56/bridge_8h.html#a8995453900a91100f3cd936594f41435">ast_bridge_set_single_src_video_mode</a>(<span class="keyword">struct</span> <a class="code" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *bridge, <span class="keyword">struct</span> <a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *video_src_chan);</div><div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;<span class="comment"> * \brief Set the bridge to pick the strongest talker supporting</span></div><div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;<span class="comment"> * video as the single source video feed</span></div><div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d4/d56/bridge_8h.html#a0a2e9bb75a3d3276cd8153e1f4a4a389">ast_bridge_set_talker_src_video_mode</a>(<span class="keyword">struct</span> <a class="code" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *bridge);</div><div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;<span class="comment"> * \brief Set the bridge to be a selective forwarding unit</span></div><div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d4/d56/bridge_8h.html#a34a177a8cf79f8158638ebf6ae05ac1c">ast_bridge_set_sfu_video_mode</a>(<span class="keyword">struct</span> <a class="code" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *bridge);</div><div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;<span class="comment"> * \brief Set the amount of time to discard subsequent video updates after a video update has been sent</span></div><div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;<span class="comment"> * \param bridge Bridge to set the minimum video update wait time on</span></div><div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;<span class="comment"> * \param video_update_discard Amount of time after sending a video update that others should be discarded</span></div><div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d4/d56/bridge_8h.html#a46b990e3c3b853c3f9d19f2924dff5d1">ast_bridge_set_video_update_discard</a>(<span class="keyword">struct</span> <a class="code" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *bridge, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> video_update_discard);</div><div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;<span class="comment"> * \brief Set the interval at which a combined REMB frame will be sent to video sources</span></div><div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;<span class="comment"> * \param bridge Bridge to set the REMB send interval on</span></div><div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;<span class="comment"> * \param remb_send_interval The REMB send interval</span></div><div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;<span class="comment"> * \note This can only be called when the bridge has been set to the SFU video mode.</span></div><div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d4/d56/bridge_8h.html#ae7f6701ef6b78dea4da4723994d9c211">ast_bridge_set_remb_send_interval</a>(<span class="keyword">struct</span> <a class="code" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *bridge, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> remb_send_interval);</div><div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;<span class="comment"> * \brief Set the REMB report generation behavior on a bridge</span></div><div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;<span class="comment"> * \param bridge Bridge to set the REMB behavior on</span></div><div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;<span class="comment"> * \param behavior How REMB reports are generated</span></div><div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;<span class="comment"> * \note This can only be called when the bridge has been set to the SFU video mode.</span></div><div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d4/d56/bridge_8h.html#a5bff6bf264928e1fff47eb6968192228">ast_brige_set_remb_behavior</a>(<span class="keyword">struct</span> <a class="code" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *bridge, <span class="keyword">enum</span> <a class="code" href="../../d4/d56/bridge_8h.html#a22e0b20cf0d941c2acc0710600c1c35b">ast_bridge_video_sfu_remb_behavior</a> behavior);</div><div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;<span class="comment"> * \brief Force the REMB report estimated bitrate to a specific max value</span></div><div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;<span class="comment"> * \param bridge Bridge to set the REMB behavior on</span></div><div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;<span class="comment"> * \param estimated_bitrate The estimated bitrate in bits per second</span></div><div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;<span class="comment"> * \note This can only be called when the bridge has been set to the SFU video mode.</span></div><div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d4/d56/bridge_8h.html#a02bd31522656ae0e86ec0d4cfdace1b1">ast_bridge_set_remb_estimated_bitrate</a>(<span class="keyword">struct</span> <a class="code" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *bridge, <span class="keywordtype">float</span> estimated_bitrate);</div><div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;<span class="comment"> * \brief Update information about talker energy for talker src video mode.</span></div><div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d4/d56/bridge_8h.html#a000c2454b92a034dcaa414c166e156f3">ast_bridge_update_talker_src_video_mode</a>(<span class="keyword">struct</span> <a class="code" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *bridge, <span class="keyword">struct</span> <a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *<a class="code" href="../../d6/df3/structast__unreal__pvt.html#a84d1435c5b8d387806714ea7079304b7">chan</a>, <span class="keywordtype">int</span> talker_energy, <span class="keywordtype">int</span> is_keyfame);</div><div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;<span class="comment"> * \brief Returns the number of video sources currently active in the bridge</span></div><div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d4/d56/bridge_8h.html#a283cf43498dde27adebbc85679b2f2d5">ast_bridge_number_video_src</a>(<span class="keyword">struct</span> <a class="code" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *bridge);</div><div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;<span class="comment"> * \brief Determine if a channel is a video src for the bridge</span></div><div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;<span class="comment"> * \retval 0 Not a current video source of the bridge.</span></div><div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;<span class="comment"> * \retval None 0, is a video source of the bridge, The number</span></div><div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;<span class="comment"> *         returned represents the priority this video stream has</span></div><div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;<span class="comment"> *         on the bridge where 1 is the highest priority.</span></div><div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d4/d56/bridge_8h.html#adb755c02424a98c8ec3bd636c609e120">ast_bridge_is_video_src</a>(<span class="keyword">struct</span> <a class="code" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *bridge, <span class="keyword">struct</span> <a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *<a class="code" href="../../d6/df3/structast__unreal__pvt.html#a84d1435c5b8d387806714ea7079304b7">chan</a>);</div><div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;<span class="comment"> * \brief remove a channel as a source of video for the bridge.</span></div><div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d4/d56/bridge_8h.html#a98000e740561c2e40e39f9edd191c38a">ast_bridge_remove_video_src</a>(<span class="keyword">struct</span> <a class="code" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *bridge, <span class="keyword">struct</span> <a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *<a class="code" href="../../d6/df3/structast__unreal__pvt.html#a84d1435c5b8d387806714ea7079304b7">chan</a>);</div><div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;<span class="comment"> * \brief Converts an enum representation of a bridge video mode to string</span></div><div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;<span class="comment"> * \param video_mode The video mode</span></div><div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;<span class="comment"> * \retval A string representation of \c video_mode</span></div><div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d4/d56/bridge_8h.html#a2a2b1e82e019faba42fa278f7a69a699">ast_bridge_video_mode_to_string</a>(<span class="keyword">enum</span> <a class="code" href="../../d4/d56/bridge_8h.html#ab388dac5f5c172d7f03c54487afac906">ast_bridge_video_mode_type</a> video_mode);</div><div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;<span class="comment"> * \brief Controls whether to send a &quot;label&quot; attribute in each stream in an SDP</span></div><div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;<span class="comment"> * \since 16.1.0</span></div><div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;<span class="comment"> * \param bridge The bridge</span></div><div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;<span class="comment"> * \param send_sdp_label Whether to send the labels or not</span></div><div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;<span class="comment"> * \note The label will contain the uniqueid of the channel related to the stream.</span></div><div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;<span class="comment"> * This is used to allow the recipient to correlate the stream to the participant</span></div><div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;<span class="comment"> * information events sent by app_confbridge.</span></div><div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;<span class="comment"> * The bridge will be locked in this function.</span></div><div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d4/d56/bridge_8h.html#aaba0073c46b7c4e52f55a0f34036f43b">ast_bridge_set_send_sdp_label</a>(<span class="keyword">struct</span> <a class="code" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *bridge, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> send_sdp_label);</div><div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;<span class="comment"> * \brief Acquire the channel&#39;s bridge for transfer purposes.</span></div><div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;<span class="comment"> * \since 13.21.0</span></div><div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;<span class="comment"> * \param chan Channel involved in a transfer.</span></div><div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;<span class="comment"> * \return The bridge the channel is in or NULL if it either isn&#39;t</span></div><div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;<span class="comment"> * in a bridge or should not be considered to be in a bridge.</span></div><div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;<span class="keyword">struct </span><a class="code" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *<a class="code" href="../../d4/d56/bridge_8h.html#acf7de35a81822873b105c08e1c22826f">ast_bridge_transfer_acquire_bridge</a>(<span class="keyword">struct</span> <a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan);</div><div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;</div><div class="line"><a name="l01115"></a><span class="lineno"><a class="line" href="../../d4/d56/bridge_8h.html#aadbf879fadde4b1bb7832b1390cc8c17"> 1115</a></span>&#160;<span class="keyword">enum</span> <a class="code" href="../../d4/d56/bridge_8h.html#aadbf879fadde4b1bb7832b1390cc8c17">ast_transfer_result</a> {<span class="comment"></span></div><div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;<span class="comment">   /*! The transfer completed successfully */</span></div><div class="line"><a name="l01117"></a><span class="lineno"><a class="line" href="../../d4/d56/bridge_8h.html#aadbf879fadde4b1bb7832b1390cc8c17a6b0053a1a47d100ef5f155f068c08934"> 1117</a></span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#aadbf879fadde4b1bb7832b1390cc8c17a6b0053a1a47d100ef5f155f068c08934">AST_BRIDGE_TRANSFER_SUCCESS</a>,<span class="comment"></span></div><div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;<span class="comment">   /*! A bridge involved does not permit transferring */</span></div><div class="line"><a name="l01119"></a><span class="lineno"><a class="line" href="../../d4/d56/bridge_8h.html#aadbf879fadde4b1bb7832b1390cc8c17a10037a900428dbddb31e85e4481bb4da"> 1119</a></span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#aadbf879fadde4b1bb7832b1390cc8c17a10037a900428dbddb31e85e4481bb4da">AST_BRIDGE_TRANSFER_NOT_PERMITTED</a>,<span class="comment"></span></div><div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;<span class="comment">   /*! The current bridge setup makes transferring an invalid operation */</span></div><div class="line"><a name="l01121"></a><span class="lineno"><a class="line" href="../../d4/d56/bridge_8h.html#aadbf879fadde4b1bb7832b1390cc8c17a93e2a5d4517067d0b9a0e39b0cdc5df8"> 1121</a></span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#aadbf879fadde4b1bb7832b1390cc8c17a93e2a5d4517067d0b9a0e39b0cdc5df8">AST_BRIDGE_TRANSFER_INVALID</a>,<span class="comment"></span></div><div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;<span class="comment">   /*! The transfer operation failed for a miscellaneous reason */</span></div><div class="line"><a name="l01123"></a><span class="lineno"><a class="line" href="../../d4/d56/bridge_8h.html#aadbf879fadde4b1bb7832b1390cc8c17aeebe667b42c8e7993a9f5f4c45e6da25"> 1123</a></span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#aadbf879fadde4b1bb7832b1390cc8c17aeebe667b42c8e7993a9f5f4c45e6da25">AST_BRIDGE_TRANSFER_FAIL</a>,</div><div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;};</div><div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;</div><div class="line"><a name="l01126"></a><span class="lineno"><a class="line" href="../../d4/d56/bridge_8h.html#a865f7ef0f91885406ab746b23eb598cd"> 1126</a></span>&#160;<span class="keyword">enum</span> <a class="code" href="../../d4/d56/bridge_8h.html#a865f7ef0f91885406ab746b23eb598cd">ast_transfer_type</a> {<span class="comment"></span></div><div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;<span class="comment">   /*! Transfer of a single party */</span></div><div class="line"><a name="l01128"></a><span class="lineno"><a class="line" href="../../d4/d56/bridge_8h.html#a865f7ef0f91885406ab746b23eb598cda073210b9d7d16a18abc6fe85c8ea66d4"> 1128</a></span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#a865f7ef0f91885406ab746b23eb598cda073210b9d7d16a18abc6fe85c8ea66d4">AST_BRIDGE_TRANSFER_SINGLE_PARTY</a>,<span class="comment"></span></div><div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;<span class="comment">   /*! Transfer of multiple parties */</span></div><div class="line"><a name="l01130"></a><span class="lineno"><a class="line" href="../../d4/d56/bridge_8h.html#a865f7ef0f91885406ab746b23eb598cdaa85cad6eafcb0edc223c975e0cf3b296"> 1130</a></span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#a865f7ef0f91885406ab746b23eb598cdaa85cad6eafcb0edc223c975e0cf3b296">AST_BRIDGE_TRANSFER_MULTI_PARTY</a>,</div><div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;};</div><div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;<span class="comment"> * \brief AO2 object that wraps data for transfer_channel_cb</span></div><div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l01136"></a><span class="lineno"><a class="line" href="../../da/d84/structtransfer__channel__data.html"> 1136</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../da/d84/structtransfer__channel__data.html">transfer_channel_data</a> {</div><div class="line"><a name="l01137"></a><span class="lineno"><a class="line" href="../../da/d84/structtransfer__channel__data.html#a735984d41155bc1032e09bece8f8d66d"> 1137</a></span>&#160;   <span class="keywordtype">void</span> *<a class="code" href="../../da/d84/structtransfer__channel__data.html#a735984d41155bc1032e09bece8f8d66d">data</a>;    <span class="comment">/*! Data to be used by the transfer_channel_cb -- note that this</span></div><div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;<span class="comment">                   *  pointer is going to be pointing to something on the stack, so</span></div><div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;<span class="comment">                   *  it must not be used at any point after returning from the</span></div><div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;<span class="comment">                   *  transfer_channel_cb. */</span></div><div class="line"><a name="l01141"></a><span class="lineno"><a class="line" href="../../da/d84/structtransfer__channel__data.html#a4eff08519948266efdd345aabe6ecbbb"> 1141</a></span>&#160;   <span class="keywordtype">int</span> <a class="code" href="../../da/d84/structtransfer__channel__data.html#a4eff08519948266efdd345aabe6ecbbb">completed</a>; <span class="comment">/*! Initially 0, This will be set to 1 by either the transfer</span></div><div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;<span class="comment">                   *  code or by transfer code hooks (e.g. parking) when the</span></div><div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;<span class="comment">                   *  transfer is completed and any remaining actions have taken</span></div><div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;<span class="comment">                   *  place (e.g. parking announcements). It will never be reset</span></div><div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;<span class="comment">                   *  to 0. This is used for deferring progress for channel</span></div><div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;<span class="comment">                   *  drivers that support deferred progress. */</span></div><div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;};</div><div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;<span class="comment"> * \brief Callback function type called during blind transfers</span></div><div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;<span class="comment"> * A caller of ast_bridge_transfer_blind() may wish to set data on</span></div><div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;<span class="comment"> * the channel that ends up running dialplan. For instance, it may</span></div><div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;<span class="comment"> * be useful to set channel variables on the channel.</span></div><div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;<span class="comment"> * \param chan The involved channel</span></div><div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;<span class="comment"> * \param user_data User-provided data needed in the callback</span></div><div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;<span class="comment"> * \param transfer_type The type of transfer being completed</span></div><div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l01160"></a><span class="lineno"><a class="line" href="../../d4/d56/bridge_8h.html#a87ed18cc739a9635c4595cae783ab993"> 1160</a></span>&#160;<span class="keyword">typedef</span> void (*<a class="code" href="../../d4/d56/bridge_8h.html#a87ed18cc739a9635c4595cae783ab993">transfer_channel_cb</a>)(<span class="keyword">struct </span><a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, <span class="keyword">struct </span><a class="code" href="../../da/d84/structtransfer__channel__data.html">transfer_channel_data</a> *user_data,</div><div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;      <span class="keyword">enum</span> <a class="code" href="../../d4/d56/bridge_8h.html#a865f7ef0f91885406ab746b23eb598cd">ast_transfer_type</a> transfer_type);</div><div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;<span class="comment"> * \brief Blind transfer target to the extension and context provided</span></div><div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;<span class="comment"> * The channel given is bridged to one or multiple channels. Depending on</span></div><div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;<span class="comment"> * the bridge and the number of participants, the entire bridge could be</span></div><div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;<span class="comment"> * transferred to the given destination, or a single channel may be redirected.</span></div><div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;<span class="comment"> * Callers may also provide a callback to be called on the channel that will</span></div><div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;<span class="comment"> * be running dialplan. The user data passed into ast_bridge_transfer_blind</span></div><div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;<span class="comment"> * will be given as the argument to the callback to be interpreted as desired.</span></div><div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;<span class="comment"> * This callback is guaranteed to be called in the same thread as</span></div><div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;<span class="comment"> * ast_bridge_transfer_blind() and before ast_bridge_transfer_blind() returns.</span></div><div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;<span class="comment"> * \note Absolutely _NO_ channel locks should be held before</span></div><div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;<span class="comment"> * calling this function.</span></div><div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;<span class="comment"> * \param is_external Indicates that transfer was initiated externally</span></div><div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;<span class="comment"> * \param transferer The channel performing the blind transfer</span></div><div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;<span class="comment"> * \param exten The dialplan extension to send the call to</span></div><div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;<span class="comment"> * \param context The dialplan context to send the call to</span></div><div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;<span class="comment"> * \param new_channel_cb A callback to be called on the channel that will</span></div><div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;<span class="comment"> *        be executing dialplan</span></div><div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;<span class="comment"> * \param user_data Argument for new_channel_cb</span></div><div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;<span class="comment"> * \return The success or failure result of the blind transfer</span></div><div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;<span class="keyword">enum</span> <a class="code" href="../../d4/d56/bridge_8h.html#aadbf879fadde4b1bb7832b1390cc8c17">ast_transfer_result</a> <a class="code" href="../../d4/d56/bridge_8h.html#a982e0e652b9f03abf1ec584c137791a3">ast_bridge_transfer_blind</a>(<span class="keywordtype">int</span> is_external,</div><div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;      <span class="keyword">struct</span> <a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *transferer, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a>,</div><div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;      <a class="code" href="../../d4/d56/bridge_8h.html#a87ed18cc739a9635c4595cae783ab993">transfer_channel_cb</a> new_channel_cb, <span class="keywordtype">void</span> *user_data);</div><div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;<span class="comment"> * \brief Attended transfer</span></div><div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;<span class="comment"> * The two channels are both transferer channels. The first is the channel</span></div><div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;<span class="comment"> * that is bridged to the transferee (or if unbridged, the &#39;first&#39; call of</span></div><div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;<span class="comment"> * the transfer). The second is the channel that is bridged to the transfer</span></div><div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;<span class="comment"> * target (or if unbridged, the &#39;second&#39; call of the transfer).</span></div><div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;<span class="comment"> * \note Absolutely _NO_ channel locks should be held before</span></div><div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;<span class="comment"> * calling this function.</span></div><div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;<span class="comment"> * \param to_transferee Transferer channel on initial call (presumably bridged to transferee)</span></div><div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;<span class="comment"> * \param to_transfer_target Transferer channel on consultation call (presumably bridged to transfer target)</span></div><div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;<span class="comment"> * \return The success or failure of the attended transfer</span></div><div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;<span class="keyword">enum</span> <a class="code" href="../../d4/d56/bridge_8h.html#aadbf879fadde4b1bb7832b1390cc8c17">ast_transfer_result</a> <a class="code" href="../../d4/d56/bridge_8h.html#aec45146e91e4d8bc2a7d2cf083c4dac0">ast_bridge_transfer_attended</a>(<span class="keyword">struct</span> <a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *to_transferee,</div><div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;      <span class="keyword">struct</span> <a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *to_transfer_target);</div><div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;<span class="comment"> * \brief Set the relevant transfer variables for a single channel</span></div><div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;<span class="comment"> * Sets either the ATTENDEDTRANSFER or BLINDTRANSFER variable for a channel while clearing</span></div><div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;<span class="comment"> * the opposite.</span></div><div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;<span class="comment"> * \param chan Channel the variable is being set for</span></div><div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;<span class="comment"> * \param value Value the variable is being set to</span></div><div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;<span class="comment"> * \param is_attended false  set BLINDTRANSFER and unset ATTENDEDTRANSFER</span></div><div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;<span class="comment"> *                    true   set ATTENDEDTRANSFER and unset BLINDTRANSFER</span></div><div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d4/d56/bridge_8h.html#a8878fc7451a873f155aba20b0b31abbb">ast_bridge_set_transfer_variables</a>(<span class="keyword">struct</span> <a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>, <span class="keywordtype">int</span> is_attended);</div><div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;<span class="comment"> * \brief Get a container of all channels in the bridge</span></div><div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;<span class="comment"> * \since 12.0.0</span></div><div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;<span class="comment"> * \param bridge The bridge which is already locked.</span></div><div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;<span class="comment"> * \retval NULL Failed to create container</span></div><div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;<span class="comment"> * \retval non-NULL Container of channels in the bridge</span></div><div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;<span class="keyword">struct </span><a class="code" href="../../d2/da9/structao2__container.html">ao2_container</a> *<a class="code" href="../../d4/d56/bridge_8h.html#ad45098162b2df09235f632efb08a9681">ast_bridge_peers_nolock</a>(<span class="keyword">struct</span> <a class="code" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *bridge);</div><div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;<span class="comment"> * \brief Get a container of all channels in the bridge</span></div><div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;<span class="comment"> * \since 12.0.0</span></div><div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;<span class="comment"> * \param bridge The bridge</span></div><div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;<span class="comment"> * \note The returned container is a snapshot of channels in the</span></div><div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;<span class="comment"> * bridge when called.</span></div><div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;<span class="comment"> * \retval NULL Failed to create container</span></div><div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;<span class="comment"> * \retval non-NULL Container of channels in the bridge</span></div><div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;<span class="keyword">struct </span><a class="code" href="../../d2/da9/structao2__container.html">ao2_container</a> *<a class="code" href="../../d4/d56/bridge_8h.html#ad953e3f044237ed0337e4e46479fbd4f">ast_bridge_peers</a>(<span class="keyword">struct</span> <a class="code" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *bridge);</div><div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;<span class="comment"> * \brief Get the channel&#39;s bridge peer only if the bridge is two-party.</span></div><div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;<span class="comment"> * \since 12.0.0</span></div><div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;<span class="comment"> * \param bridge The bridge which is already locked.</span></div><div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;<span class="comment"> * \param chan Channel desiring the bridge peer channel.</span></div><div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;<span class="comment"> * \note The returned peer channel is the current peer in the</span></div><div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;<span class="comment"> * bridge when called.</span></div><div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;<span class="comment"> * \retval NULL Channel not in a bridge or the bridge is not two-party.</span></div><div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;<span class="comment"> * \retval non-NULL Reffed peer channel at time of calling.</span></div><div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;<span class="keyword">struct </span><a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *<a class="code" href="../../d4/d56/bridge_8h.html#a446fdf2b4bc50dd4cf7325c6b01c075c">ast_bridge_peer_nolock</a>(<span class="keyword">struct</span> <a class="code" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *bridge, <span class="keyword">struct</span> <a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan);</div><div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;<span class="comment"> * \brief Get the channel&#39;s bridge peer only if the bridge is two-party.</span></div><div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;<span class="comment"> * \since 12.0.0</span></div><div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;<span class="comment"> * \param bridge The bridge</span></div><div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;<span class="comment"> * \param chan Channel desiring the bridge peer channel.</span></div><div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;<span class="comment"> * \note The returned peer channel is the current peer in the</span></div><div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;<span class="comment"> * bridge when called.</span></div><div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;<span class="comment"> * \retval NULL Channel not in a bridge or the bridge is not two-party.</span></div><div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;<span class="comment"> * \retval non-NULL Reffed peer channel at time of calling.</span></div><div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;<span class="keyword">struct </span><a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *<a class="code" href="../../d4/d56/bridge_8h.html#a08a41371fb4f020d645a0e6f50434005">ast_bridge_peer</a>(<span class="keyword">struct</span> <a class="code" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *bridge, <span class="keyword">struct</span> <a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan);</div><div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;<span class="comment"> * \brief Remove marked bridge channel feature hooks.</span></div><div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;<span class="comment"> * \since 12.0.0</span></div><div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;<span class="comment"> * \param features Bridge features structure</span></div><div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;<span class="comment"> * \param flags Determinator for whether hook is removed.</span></div><div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;<span class="comment"> * \return Nothing</span></div><div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d4/d56/bridge_8h.html#a0a9bbd9a809f8f52c2945df40ac89abb">ast_bridge_features_remove</a>(<span class="keyword">struct</span> <a class="code" href="../../db/dba/structast__bridge__features.html">ast_bridge_features</a> *features, <span class="keyword">enum</span> <a class="code" href="../../dc/d7a/bridge__features_8h.html#a41510c1f43cb3401f5c7c88d9c9a8d11">ast_bridge_hook_remove_flags</a> flags);</div><div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;<span class="comment">/*!</span></div><div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;<span class="comment"> * \brief Find bridge by id</span></div><div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;<span class="comment"> * \since 12.0.0</span></div><div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;<span class="comment"> * \param bridge_id Bridge identifier</span></div><div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;<span class="comment"> * \return NULL bridge not found</span></div><div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;<span class="comment"> * \return non-NULL reference to bridge</span></div><div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;<span class="keyword">struct </span><a class="code" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *<a class="code" href="../../d4/d56/bridge_8h.html#a69034688e4e730fca4c3e12b7ac38300">ast_bridge_find_by_id</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *bridge_id);</div><div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;</div><div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;<span class="preprocessor">#if defined(__cplusplus) || defined(c_plusplus)</span></div><div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;}</div><div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;</div><div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;<span class="preprocessor">#endif   </span><span class="comment">/* _ASTERISK_BRIDGING_H */</span><span class="preprocessor"></span></div><div class="ttc" id="bridge_8h_html_a815c9b3e933dfd4b8f523cf55caa5bbfaec2d0fff3f4f8df0d9ef6b4d9be78380"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a815c9b3e933dfd4b8f523cf55caa5bbfaec2d0fff3f4f8df0d9ef6b4d9be78380">AST_BRIDGE_CAPABILITY_NATIVE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00090">bridge.h:90</a></div></div>
<div class="ttc" id="bridge_8h_html_a34a177a8cf79f8158638ebf6ae05ac1c"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a34a177a8cf79f8158638ebf6ae05ac1c">ast_bridge_set_sfu_video_mode</a></div><div class="ttdeci">void ast_bridge_set_sfu_video_mode(struct ast_bridge *bridge)</div><div class="ttdoc">Set the bridge to be a selective forwarding unit. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l03841">bridge.c:3841</a></div></div>
<div class="ttc" id="structast__bridge__softmix_html"><div class="ttname"><a href="../../d0/d50/structast__bridge__softmix.html">ast_bridge_softmix</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00285">bridge.h:285</a></div></div>
<div class="ttc" id="structtransfer__channel__data_html_a735984d41155bc1032e09bece8f8d66d"><div class="ttname"><a href="../../da/d84/structtransfer__channel__data.html#a735984d41155bc1032e09bece8f8d66d">transfer_channel_data::data</a></div><div class="ttdeci">void * data</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l01137">bridge.h:1137</a></div></div>
<div class="ttc" id="bridge_8h_html_a186f44efd65f1349ca2deb11b8117534a19fe1f0ca6993cc12c518aa09fb79a79"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a186f44efd65f1349ca2deb11b8117534a19fe1f0ca6993cc12c518aa09fb79a79">AST_BRIDGE_OPTIMIZE_PROHIBITED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00901">bridge.h:901</a></div></div>
<div class="ttc" id="structast__bridge__snapshot_html_adbc20a2fd50bb1376a3c6094e96a31e3"><div class="ttname"><a href="../../d0/d99/structast__bridge__snapshot.html#adbc20a2fd50bb1376a3c6094e96a31e3">ast_bridge_snapshot::channels</a></div><div class="ttdeci">struct ao2_container * channels</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00339">bridge.h:339</a></div></div>
<div class="ttc" id="chan__alsa_8c_html_a78d4847658b695383d849efd12399b38"><div class="ttname"><a href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a></div><div class="ttdeci">static char exten[AST_MAX_EXTENSION]</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d45/chan__alsa_8c_source.html#l00118">chan_alsa.c:118</a></div></div>
<div class="ttc" id="structast__channel_html"><div class="ttname"><a href="../../df/d3c/structast__channel.html">ast_channel</a></div><div class="ttdoc">Main Channel structure associated with a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00073">channel_internal_api.c:73</a></div></div>
<div class="ttc" id="bridge_8h_html_a66d6a521530f4fb208eb8ee33e257b6c"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a66d6a521530f4fb208eb8ee33e257b6c">ast_bridge_remove</a></div><div class="ttdeci">int ast_bridge_remove(struct ast_bridge *bridge, struct ast_channel *chan)</div><div class="ttdoc">Remove a channel from a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l01997">bridge.c:1997</a></div></div>
<div class="ttc" id="bridge_8h_html_ab9fc36aaff74fae0efd0f683353baa7e"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#ab9fc36aaff74fae0efd0f683353baa7e">ast_bridges</a></div><div class="ttdeci">struct ao2_container * ast_bridges(void)</div><div class="ttdoc">Returns the global bridges container. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l00174">bridge.c:174</a></div></div>
<div class="ttc" id="bridge_8h_html_a8a14f1c30f04c6d50dac556cf53e1201"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a8a14f1c30f04c6d50dac556cf53e1201">ast_bridge_set_mixing_interval</a></div><div class="ttdeci">void ast_bridge_set_mixing_interval(struct ast_bridge *bridge, unsigned int mixing_interval)</div><div class="ttdoc">Adjust the internal mixing interval of a bridge used during multimix mode. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l03765">bridge.c:3765</a></div></div>
<div class="ttc" id="bridge_8h_html_a22e0b20cf0d941c2acc0710600c1c35bab2a59c3a7d08362c5c99bbce00028d8e"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a22e0b20cf0d941c2acc0710600c1c35bab2a59c3a7d08362c5c99bbce00028d8e">AST_BRIDGE_VIDEO_SFU_REMB_AVERAGE_ALL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00139">bridge.h:139</a></div></div>
<div class="ttc" id="bridge_8h_html_a865f7ef0f91885406ab746b23eb598cda073210b9d7d16a18abc6fe85c8ea66d4"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a865f7ef0f91885406ab746b23eb598cda073210b9d7d16a18abc6fe85c8ea66d4">AST_BRIDGE_TRANSFER_SINGLE_PARTY</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l01128">bridge.h:1128</a></div></div>
<div class="ttc" id="bridge_8h_html_aadbf879fadde4b1bb7832b1390cc8c17a93e2a5d4517067d0b9a0e39b0cdc5df8"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#aadbf879fadde4b1bb7832b1390cc8c17a93e2a5d4517067d0b9a0e39b0cdc5df8">AST_BRIDGE_TRANSFER_INVALID</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l01121">bridge.h:1121</a></div></div>
<div class="ttc" id="bridge_8h_html_aec45146e91e4d8bc2a7d2cf083c4dac0"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#aec45146e91e4d8bc2a7d2cf083c4dac0">ast_bridge_transfer_attended</a></div><div class="ttdeci">enum ast_transfer_result ast_bridge_transfer_attended(struct ast_channel *to_transferee, struct ast_channel *to_transfer_target)</div><div class="ttdoc">Attended transfer. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l04729">bridge.c:4729</a></div></div>
<div class="ttc" id="bridge_8h_html_ab388dac5f5c172d7f03c54487afac906"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#ab388dac5f5c172d7f03c54487afac906">ast_bridge_video_mode_type</a></div><div class="ttdeci">ast_bridge_video_mode_type</div><div class="ttdoc">Video source modes. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00098">bridge.h:98</a></div></div>
<div class="ttc" id="structast__bridge_html_a4d514eabb35f71dee132ef1df1c6cdbb"><div class="ttname"><a href="../../d4/d84/structast__bridge.html#a4d514eabb35f71dee132ef1df1c6cdbb">ast_bridge::num_active</a></div><div class="ttdeci">unsigned int num_active</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00383">bridge.h:383</a></div></div>
<div class="ttc" id="bridge_8h_html_a214c6742929d7db707c94d9856908e61"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a214c6742929d7db707c94d9856908e61">ast_bridge_set_binaural_active</a></div><div class="ttdeci">void ast_bridge_set_binaural_active(struct ast_bridge *bridge, unsigned int binaural_active)</div><div class="ttdoc">Activates the use of binaural signals in a conference bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l03772">bridge.c:3772</a></div></div>
<div class="ttc" id="structast__bridge__video__sfu__data_html_a18f4bab7feee48c373dfcbea33a99e8d"><div class="ttname"><a href="../../dd/df9/structast__bridge__video__sfu__data.html#a18f4bab7feee48c373dfcbea33a99e8d">ast_bridge_video_sfu_data::estimated_bitrate</a></div><div class="ttdeci">float estimated_bitrate</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00155">bridge.h:155</a></div></div>
<div class="ttc" id="bridge_8h_html_a3d4866f7184c581cd87f93ee0f2fca63"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a3d4866f7184c581cd87f93ee0f2fca63">ast_bridge_set_maximum_sample_rate</a></div><div class="ttdeci">void ast_bridge_set_maximum_sample_rate(struct ast_bridge *bridge, unsigned int sample_rate)</div><div class="ttdoc">Adjust the maximum mixing sample rate of a bridge used during multimix mode. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l03786">bridge.c:3786</a></div></div>
<div class="ttc" id="bridge_8h_html_ab388dac5f5c172d7f03c54487afac906ac9992c5dc76155a013d0a5804c8f2bb7"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#ab388dac5f5c172d7f03c54487afac906ac9992c5dc76155a013d0a5804c8f2bb7">AST_BRIDGE_VIDEO_MODE_SFU</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00109">bridge.h:109</a></div></div>
<div class="ttc" id="bridge_8h_html_a67a0030855111322bb27b3502345adc6"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a67a0030855111322bb27b3502345adc6">ast_bridge_vars_set</a></div><div class="ttdeci">void ast_bridge_vars_set(struct ast_channel *chan, const char *name, const char *pvtid)</div><div class="ttdoc">Sets BRIDGECHANNEL and BRIDGEPVTCALLID for a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l01242">bridge.c:1242</a></div></div>
<div class="ttc" id="bridge_8h_html_a69034688e4e730fca4c3e12b7ac38300"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a69034688e4e730fca4c3e12b7ac38300">ast_bridge_find_by_id</a></div><div class="ttdeci">struct ast_bridge * ast_bridge_find_by_id(const char *bridge_id)</div><div class="ttdoc">Find bridge by id. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l05070">bridge.c:5070</a></div></div>
<div class="ttc" id="structast__bridge__video__sfu__data_html_a0a1c43a89347238ad53bdaa7f733a014"><div class="ttname"><a href="../../dd/df9/structast__bridge__video__sfu__data.html#a0a1c43a89347238ad53bdaa7f733a014">ast_bridge_video_sfu_data::remb_send_interval</a></div><div class="ttdeci">unsigned int remb_send_interval</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00151">bridge.h:151</a></div></div>
<div class="ttc" id="structast__bridge__features_html"><div class="ttname"><a href="../../db/dba/structast__bridge__features.html">ast_bridge_features</a></div><div class="ttdoc">Structure that contains features information. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00263">bridge_features.h:263</a></div></div>
<div class="ttc" id="bridge_8h_html_ac086b7d74fb40c2ede8514274585b101a99da763f0bd676f299a215ea9d1055db"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#ac086b7d74fb40c2ede8514274585b101a99da763f0bd676f299a215ea9d1055db">AST_BRIDGE_IMPART_CHAN_MASK</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00600">bridge.h:600</a></div></div>
<div class="ttc" id="bridge_8h_html_afa18563d3db5e663e205d040c001a376"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#afa18563d3db5e663e205d040c001a376">ast_bridge_push_channel_fn</a></div><div class="ttdeci">int(* ast_bridge_push_channel_fn)(struct ast_bridge *self, struct ast_bridge_channel *bridge_channel, struct ast_bridge_channel *swap)</div><div class="ttdoc">Push this channel into the bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00213">bridge.h:213</a></div></div>
<div class="ttc" id="bridge__features_8h_html_a41510c1f43cb3401f5c7c88d9c9a8d11"><div class="ttname"><a href="../../dc/d7a/bridge__features_8h.html#a41510c1f43cb3401f5c7c88d9c9a8d11">ast_bridge_hook_remove_flags</a></div><div class="ttdeci">ast_bridge_hook_remove_flags</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00181">bridge_features.h:181</a></div></div>
<div class="ttc" id="namespacemake__ari__stubs_html_a40a5d58ffa6e88aa578d6683ac413105"><div class="ttname"><a href="../../d2/dc8/namespacemake__ari__stubs.html#a40a5d58ffa6e88aa578d6683ac413105">make_ari_stubs.file</a></div><div class="ttdeci">file</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d28/make__ari__stubs_8py_source.html#l00025">make_ari_stubs.py:25</a></div></div>
<div class="ttc" id="structast__bridge__softmix_html_ae2a50ae58a79af5e12287b40bf903209"><div class="ttname"><a href="../../d0/d50/structast__bridge__softmix.html#ae2a50ae58a79af5e12287b40bf903209">ast_bridge_softmix::internal_mixing_interval</a></div><div class="ttdeci">unsigned int internal_mixing_interval</div><div class="ttdoc">The mixing interval indicates how quickly softmix mixing should occur to mix audio. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00301">bridge.h:301</a></div></div>
<div class="ttc" id="structast__bridge__methods_html_a8f8f80d37794cde9472343e4487ba3eb"><div class="ttname"><a href="../../d2/dd3/structast__bridge__methods.html#a8f8f80d37794cde9472343e4487ba3eb">ast_bridge_methods::name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00267">bridge.h:267</a></div></div>
<div class="ttc" id="dsp_8h_html"><div class="ttname"><a href="../../d3/d08/dsp_8h.html">dsp.h</a></div><div class="ttdoc">Convenient Signal Processing routines. </div></div>
<div class="ttc" id="bridge_8h_html_a2535ed58f3bcc4475a107f2fe512373e"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a2535ed58f3bcc4475a107f2fe512373e">ast_bridge_dissolving_fn</a></div><div class="ttdeci">void(* ast_bridge_dissolving_fn)(struct ast_bridge *self)</div><div class="ttdoc">The bridge is being dissolved. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00193">bridge.h:193</a></div></div>
<div class="ttc" id="structast__bridge__channels__list_html"><div class="ttname"><a href="../../d3/d0f/structast__bridge__channels__list.html">ast_bridge_channels_list</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00317">bridge.h:317</a></div></div>
<div class="ttc" id="structast__bridge_html_a62f8995a6eac6c8a48205a6f3815d54b"><div class="ttname"><a href="../../d4/d84/structast__bridge.html#a62f8995a6eac6c8a48205a6f3815d54b">ast_bridge::callid</a></div><div class="ttdeci">ast_callid callid</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00369">bridge.h:369</a></div></div>
<div class="ttc" id="astobj2_8h_html_ae8abe54e1e1460641ed987db20e75e81"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ae8abe54e1e1460641ed987db20e75e81">__ao2_lock</a></div><div class="ttdeci">int __ao2_lock(void *a, enum ao2_lock_req lock_how, const char *file, const char *func, int line, const char *var)</div><div class="ttdoc">Lock an object. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00222">astobj2.c:222</a></div></div>
<div class="ttc" id="bridge_8h_html_a186f44efd65f1349ca2deb11b8117534a2980a16e43b7b4f52b6c3af11bd79a56"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a186f44efd65f1349ca2deb11b8117534a2980a16e43b7b4f52b6c3af11bd79a56">AST_BRIDGE_OPTIMIZE_MERGE_TO_CHAN_BRIDGE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00897">bridge.h:897</a></div></div>
<div class="ttc" id="bridge_8h_html_aab4cd1153d39a6744eca6a84d5255820"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#aab4cd1153d39a6744eca6a84d5255820">ast_bridge_unsuspend</a></div><div class="ttdeci">int ast_bridge_unsuspend(struct ast_bridge *bridge, struct ast_channel *chan)</div><div class="ttdoc">Unsuspend a channel from a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l03089">bridge.c:3089</a></div></div>
<div class="ttc" id="structast__bridge__snapshot_html"><div class="ttname"><a href="../../d0/d99/structast__bridge__snapshot.html">ast_bridge_snapshot</a></div><div class="ttdoc">Structure that contains a snapshot of information about a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00322">bridge.h:322</a></div></div>
<div class="ttc" id="structast__bridge_html_a9ea77c25c2c57ec45bc6dfdea1c1a228"><div class="ttname"><a href="../../d4/d84/structast__bridge.html#a9ea77c25c2c57ec45bc6dfdea1c1a228">ast_bridge::dissolved</a></div><div class="ttdeci">unsigned int dissolved</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00398">bridge.h:398</a></div></div>
<div class="ttc" id="structast__bridge_html_a41d441063234a215e985a56318a07a6f"><div class="ttname"><a href="../../d4/d84/structast__bridge.html#a41d441063234a215e985a56318a07a6f">ast_bridge::reconfigured</a></div><div class="ttdeci">unsigned int reconfigured</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00396">bridge.h:396</a></div></div>
<div class="ttc" id="structast__bridge__video__talker__src__data_html_a643b47a3afd64524d2baae9e6f2c7c60"><div class="ttname"><a href="../../d0/dad/structast__bridge__video__talker__src__data.html#a643b47a3afd64524d2baae9e6f2c7c60">ast_bridge_video_talker_src_data::chan_old_vsrc</a></div><div class="ttdeci">struct ast_channel * chan_old_vsrc</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00127">bridge.h:127</a></div></div>
<div class="ttc" id="bridge_8h_html_a4a80435538e9bd93331f54d6aac9201b"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a4a80435538e9bd93331f54d6aac9201b">ast_bridge_queue_action</a></div><div class="ttdeci">int ast_bridge_queue_action(struct ast_bridge *bridge, struct ast_frame *action)</div><div class="ttdoc">Put an action onto the specified bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l00307">bridge.c:307</a></div></div>
<div class="ttc" id="ast__expr2f_8c_html_a1b0936415a643c88ce543099c10e0d7f"><div class="ttname"><a href="../../dc/df2/ast__expr2f_8c.html#a1b0936415a643c88ce543099c10e0d7f">var</a></div><div class="ttdeci">#define var</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/ast__expr2f_8c_source.html#l00614">ast_expr2f.c:614</a></div></div>
<div class="ttc" id="structast__bridge__video__single__src__data_html_af17523bbee86cea3e7c6959258436728"><div class="ttname"><a href="../../dd/dbe/structast__bridge__video__single__src__data.html#af17523bbee86cea3e7c6959258436728">ast_bridge_video_single_src_data::chan_vsrc</a></div><div class="ttdeci">struct ast_channel * chan_vsrc</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00116">bridge.h:116</a></div></div>
<div class="ttc" id="uuid_8h_html"><div class="ttname"><a href="../../dd/d1d/uuid_8h.html">uuid.h</a></div><div class="ttdoc">Universally unique identifier support. </div></div>
<div class="ttc" id="structast__bridge__video__talker__src__data_html"><div class="ttname"><a href="../../d0/dad/structast__bridge__video__talker__src__data.html">ast_bridge_video_talker_src_data</a></div><div class="ttdoc">This is used for both SINGLE_SRC_TALKER mode to set what channel should be the current single video f...</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00121">bridge.h:121</a></div></div>
<div class="ttc" id="structstasis__topic_html"><div class="ttname"><a href="../../d9/d1d/structstasis__topic.html">stasis_topic</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df4/stasis_8c_source.html#l00372">stasis.c:372</a></div></div>
<div class="ttc" id="structast__bridge_html_a92af4d6802e170d70b27035ee963ccb4"><div class="ttname"><a href="../../d4/d84/structast__bridge.html#a92af4d6802e170d70b27035ee963ccb4">ast_bridge::personality</a></div><div class="ttdeci">void * personality</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00361">bridge.h:361</a></div></div>
<div class="ttc" id="astobj2_8h_html_ae77cde78a0e0ae3e75a2911857bfadc5"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ae77cde78a0e0ae3e75a2911857bfadc5">__ao2_unlock</a></div><div class="ttdeci">int __ao2_unlock(void *a, const char *file, const char *func, int line, const char *var)</div><div class="ttdoc">Unlock an object. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00288">astobj2.c:288</a></div></div>
<div class="ttc" id="bridge_8h_html_a446fdf2b4bc50dd4cf7325c6b01c075c"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a446fdf2b4bc50dd4cf7325c6b01c075c">ast_bridge_peer_nolock</a></div><div class="ttdeci">struct ast_channel * ast_bridge_peer_nolock(struct ast_bridge *bridge, struct ast_channel *chan)</div><div class="ttdoc">Get the channel&amp;#39;s bridge peer only if the bridge is two-party. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l04114">bridge.c:4114</a></div></div>
<div class="ttc" id="bridge_8h_html_a4adad484788bb018b8699eeed2ddfedd"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a4adad484788bb018b8699eeed2ddfedd">ast_bridge_destroy</a></div><div class="ttdeci">int ast_bridge_destroy(struct ast_bridge *bridge, int cause)</div><div class="ttdoc">Destroy a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l00970">bridge.c:970</a></div></div>
<div class="ttc" id="structast__bridge__methods_html_a5b1a8e69c6546121e0b4dcec16be3373"><div class="ttname"><a href="../../d2/dd3/structast__bridge__methods.html#a5b1a8e69c6546121e0b4dcec16be3373">ast_bridge_methods::dissolving</a></div><div class="ttdeci">ast_bridge_dissolving_fn dissolving</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00271">bridge.h:271</a></div></div>
<div class="ttc" id="structast__bridge__video__mode_html"><div class="ttname"><a href="../../dc/d4a/structast__bridge__video__mode.html">ast_bridge_video_mode</a></div><div class="ttdoc">Data structure that defines a video source mode. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00159">bridge.h:159</a></div></div>
<div class="ttc" id="bridge_8h_html_aadbf879fadde4b1bb7832b1390cc8c17a6b0053a1a47d100ef5f155f068c08934"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#aadbf879fadde4b1bb7832b1390cc8c17a6b0053a1a47d100ef5f155f068c08934">AST_BRIDGE_TRANSFER_SUCCESS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l01117">bridge.h:1117</a></div></div>
<div class="ttc" id="stringfields_8h_html_a061580e89c55282a7140fa3fdfd52b6d"><div class="ttname"><a href="../../d1/d0f/stringfields_8h.html#a061580e89c55282a7140fa3fdfd52b6d">AST_DECLARE_STRING_FIELDS</a></div><div class="ttdeci">#define AST_DECLARE_STRING_FIELDS(field_list)</div><div class="ttdoc">Declare the fields needed in a structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d0f/stringfields_8h_source.html#l00337">stringfields.h:337</a></div></div>
<div class="ttc" id="bridge_8h_html_ab388dac5f5c172d7f03c54487afac906a1e27ac207e54a30dfdabc463bd18d43c"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#ab388dac5f5c172d7f03c54487afac906a1e27ac207e54a30dfdabc463bd18d43c">AST_BRIDGE_VIDEO_MODE_SINGLE_SRC</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00102">bridge.h:102</a></div></div>
<div class="ttc" id="logger_8h_html_a6db44a7e26f0bc42801fc7225817c6a1"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a6db44a7e26f0bc42801fc7225817c6a1">ast_callid</a></div><div class="ttdeci">unsigned int ast_callid</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00087">logger.h:87</a></div></div>
<div class="ttc" id="bridge_8h_html_a2fa782ceb590c4d6b7dd8e7a0686f1d7"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a2fa782ceb590c4d6b7dd8e7a0686f1d7">_ast_bridge_unlock</a></div><div class="ttdeci">static void _ast_bridge_unlock(struct ast_bridge *bridge, const char *file, const char *function, int line, const char *var)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00494">bridge.h:494</a></div></div>
<div class="ttc" id="structast__bridge_html_af005cc77b3514fdc7fb7aba4ba370f50"><div class="ttname"><a href="../../d4/d84/structast__bridge.html#af005cc77b3514fdc7fb7aba4ba370f50">ast_bridge::inhibit_merge</a></div><div class="ttdeci">unsigned int inhibit_merge</div><div class="ttdoc">Count of the active temporary requests to inhibit bridge merges. Zero if merges are allowed...</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00392">bridge.h:392</a></div></div>
<div class="ttc" id="syslog_8c_html_ac4f474c82e82cbb89ca7c36dd52be0ed"><div class="ttname"><a href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a></div><div class="ttdeci">int value</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d2f/syslog_8c_source.html#l00037">syslog.c:37</a></div></div>
<div class="ttc" id="bridge_8h_html_aadbf879fadde4b1bb7832b1390cc8c17"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#aadbf879fadde4b1bb7832b1390cc8c17">ast_transfer_result</a></div><div class="ttdeci">ast_transfer_result</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l01115">bridge.h:1115</a></div></div>
<div class="ttc" id="bridge_8h_html_a186f44efd65f1349ca2deb11b8117534a83a14f41557a30da243c32b7f717ed1f"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a186f44efd65f1349ca2deb11b8117534a83a14f41557a30da243c32b7f717ed1f">AST_BRIDGE_OPTIMIZE_MERGE_TO_PEER_BRIDGE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00899">bridge.h:899</a></div></div>
<div class="ttc" id="bridge_8h_html_aef93dd372b07227b9aa10c530d5039f8"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#aef93dd372b07227b9aa10c530d5039f8">ast_bridge_queue_everyone_else</a></div><div class="ttdeci">int ast_bridge_queue_everyone_else(struct ast_bridge *bridge, struct ast_bridge_channel *bridge_channel, struct ast_frame *frame)</div><div class="ttdoc">Queue the given frame to everyone else. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d32/bridge__channel_8c_source.html#l01122">bridge_channel.c:1122</a></div></div>
<div class="ttc" id="bridge_8h_html_a815c9b3e933dfd4b8f523cf55caa5bbfaff2606e446a3b7e22fb3785a06110554"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a815c9b3e933dfd4b8f523cf55caa5bbfaff2606e446a3b7e22fb3785a06110554">AST_BRIDGE_CAPABILITY_HOLDING</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00086">bridge.h:86</a></div></div>
<div class="ttc" id="astobj2_8h_html_a4e9f309cb90824e22969f0cf1b5b445da1381af5f17622000f344130ef673987b"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a4e9f309cb90824e22969f0cf1b5b445da1381af5f17622000f344130ef673987b">AO2_LOCK_REQ_MUTEX</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00703">astobj2.h:703</a></div></div>
<div class="ttc" id="bridge_8h_html_a815c9b3e933dfd4b8f523cf55caa5bbf"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a815c9b3e933dfd4b8f523cf55caa5bbf">ast_bridge_capability</a></div><div class="ttdeci">ast_bridge_capability</div><div class="ttdoc">Capabilities for a bridge technology. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00084">bridge.h:84</a></div></div>
<div class="ttc" id="bridge_8h_html_aadbf879fadde4b1bb7832b1390cc8c17aeebe667b42c8e7993a9f5f4c45e6da25"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#aadbf879fadde4b1bb7832b1390cc8c17aeebe667b42c8e7993a9f5f4c45e6da25">AST_BRIDGE_TRANSFER_FAIL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l01123">bridge.h:1123</a></div></div>
<div class="ttc" id="bridge_8h_html_a08a41371fb4f020d645a0e6f50434005"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a08a41371fb4f020d645a0e6f50434005">ast_bridge_peer</a></div><div class="ttdeci">struct ast_channel * ast_bridge_peer(struct ast_bridge *bridge, struct ast_channel *chan)</div><div class="ttdoc">Get the channel&amp;#39;s bridge peer only if the bridge is two-party. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l04142">bridge.c:4142</a></div></div>
<div class="ttc" id="bridge_8h_html_a02bd31522656ae0e86ec0d4cfdace1b1"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a02bd31522656ae0e86ec0d4cfdace1b1">ast_bridge_set_remb_estimated_bitrate</a></div><div class="ttdeci">void ast_bridge_set_remb_estimated_bitrate(struct ast_bridge *bridge, float estimated_bitrate)</div><div class="ttdoc">Force the REMB report estimated bitrate to a specific max value. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l03874">bridge.c:3874</a></div></div>
<div class="ttc" id="bridge_8h_html_a22e0b20cf0d941c2acc0710600c1c35bac1c124829151b23928ceb83a7894be7d"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a22e0b20cf0d941c2acc0710600c1c35bac1c124829151b23928ceb83a7894be7d">AST_BRIDGE_VIDEO_SFU_REMB_FORCE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00145">bridge.h:145</a></div></div>
<div class="ttc" id="bridge_8h_html_a5a2fef16c6520d265d7f81002eb96ee7"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a5a2fef16c6520d265d7f81002eb96ee7">ast_bridge_base_v_table</a></div><div class="ttdeci">struct ast_bridge_methods ast_bridge_base_v_table</div><div class="ttdoc">Bridge base class virtual method table. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l00949">bridge.c:949</a></div></div>
<div class="ttc" id="bridge_8h_html_a813ecb213606114d915566f867e0060a"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a813ecb213606114d915566f867e0060a">ast_bridge_merge_priority_fn</a></div><div class="ttdeci">int(* ast_bridge_merge_priority_fn)(struct ast_bridge *self)</div><div class="ttdoc">Get the merge priority of this bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00257">bridge.h:257</a></div></div>
<div class="ttc" id="bridge_8h_html_a815c9b3e933dfd4b8f523cf55caa5bbfabd40da8a498f3027c44dfa2e92d5f4ac"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a815c9b3e933dfd4b8f523cf55caa5bbfabd40da8a498f3027c44dfa2e92d5f4ac">AST_BRIDGE_CAPABILITY_MULTIMIX</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00094">bridge.h:94</a></div></div>
<div class="ttc" id="structast__bridge_html_aabb60a181a9e98fb31f8666fb4f5d0b8"><div class="ttname"><a href="../../d4/d84/structast__bridge.html#aabb60a181a9e98fb31f8666fb4f5d0b8">ast_bridge::technology</a></div><div class="ttdeci">struct ast_bridge_technology * technology</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00363">bridge.h:363</a></div></div>
<div class="ttc" id="bridge_8h_html_a000c2454b92a034dcaa414c166e156f3"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a000c2454b92a034dcaa414c166e156f3">ast_bridge_update_talker_src_video_mode</a></div><div class="ttdeci">void ast_bridge_update_talker_src_video_mode(struct ast_bridge *bridge, struct ast_channel *chan, int talker_energy, int is_keyfame)</div><div class="ttdoc">Update information about talker energy for talker src video mode. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l03883">bridge.c:3883</a></div></div>
<div class="ttc" id="bridge_8h_html_a98000e740561c2e40e39f9edd191c38a"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a98000e740561c2e40e39f9edd191c38a">ast_bridge_remove_video_src</a></div><div class="ttdeci">void ast_bridge_remove_video_src(struct ast_bridge *bridge, struct ast_channel *chan)</div><div class="ttdoc">remove a channel as a source of video for the bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l03984">bridge.c:3984</a></div></div>
<div class="ttc" id="bridge_8h_html_ac086b7d74fb40c2ede8514274585b101a9d897e78dc2fcd2447531e2ee0310933"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#ac086b7d74fb40c2ede8514274585b101a9d897e78dc2fcd2447531e2ee0310933">AST_BRIDGE_IMPART_INHIBIT_JOIN_COLP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00606">bridge.h:606</a></div></div>
<div class="ttc" id="bridge_8h_html_acf7de35a81822873b105c08e1c22826f"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#acf7de35a81822873b105c08e1c22826f">ast_bridge_transfer_acquire_bridge</a></div><div class="ttdeci">struct ast_bridge * ast_bridge_transfer_acquire_bridge(struct ast_channel *chan)</div><div class="ttdoc">Acquire the channel&amp;#39;s bridge for transfer purposes. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l04460">bridge.c:4460</a></div></div>
<div class="ttc" id="bridge_8h_html_aaba0073c46b7c4e52f55a0f34036f43b"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#aaba0073c46b7c4e52f55a0f34036f43b">ast_bridge_set_send_sdp_label</a></div><div class="ttdeci">void ast_bridge_set_send_sdp_label(struct ast_bridge *bridge, unsigned int send_sdp_label)</div><div class="ttdoc">Controls whether to send a &quot;label&quot; attribute in each stream in an SDP. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l04033">bridge.c:4033</a></div></div>
<div class="ttc" id="structast__bridge__snapshot_html_a04532f57b1eebac73f24b2a02dab161f"><div class="ttname"><a href="../../d0/d99/structast__bridge__snapshot.html#a04532f57b1eebac73f24b2a02dab161f">ast_bridge_snapshot::capabilities</a></div><div class="ttdeci">uint32_t capabilities</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00343">bridge.h:343</a></div></div>
<div class="ttc" id="bridge__roles_8h_html"><div class="ttname"><a href="../../dd/dff/bridge__roles_8h.html">bridge_roles.h</a></div><div class="ttdoc">Channel Bridging Roles API. </div></div>
<div class="ttc" id="bridge_8h_html_a982e0e652b9f03abf1ec584c137791a3"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a982e0e652b9f03abf1ec584c137791a3">ast_bridge_transfer_blind</a></div><div class="ttdeci">enum ast_transfer_result ast_bridge_transfer_blind(int is_external, struct ast_channel *transferer, const char *exten, const char *context, transfer_channel_cb new_channel_cb, void *user_data)</div><div class="ttdoc">Blind transfer target to the extension and context provided. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l04477">bridge.c:4477</a></div></div>
<div class="ttc" id="bridge_8h_html_a582e1dd73a483ac881cff01fa07f39ae"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a582e1dd73a483ac881cff01fa07f39ae">ast_bridge_impart</a></div><div class="ttdeci">int ast_bridge_impart(struct ast_bridge *bridge, struct ast_channel *chan, struct ast_channel *swap, struct ast_bridge_features *features, enum ast_bridge_impart_flags flags) attribute_warn_unused_result</div><div class="ttdoc">Impart a channel to a bridge (non-blocking) </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l01924">bridge.c:1924</a></div></div>
<div class="ttc" id="structast__bridge__methods_html_ab72b2fb844367bda53a258a6059f6290"><div class="ttname"><a href="../../d2/dd3/structast__bridge__methods.html#ab72b2fb844367bda53a258a6059f6290">ast_bridge_methods::notify_masquerade</a></div><div class="ttdeci">ast_bridge_notify_masquerade_fn notify_masquerade</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00277">bridge.h:277</a></div></div>
<div class="ttc" id="bridge_8h_html_a5bff6bf264928e1fff47eb6968192228"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a5bff6bf264928e1fff47eb6968192228">ast_brige_set_remb_behavior</a></div><div class="ttdeci">void ast_brige_set_remb_behavior(struct ast_bridge *bridge, enum ast_bridge_video_sfu_remb_behavior behavior)</div><div class="ttdoc">Set the REMB report generation behavior on a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l03865">bridge.c:3865</a></div></div>
<div class="ttc" id="bridge_8h_html_a815c9b3e933dfd4b8f523cf55caa5bbfaf483c951b835fcc35da807b6a4b12509"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a815c9b3e933dfd4b8f523cf55caa5bbfaf483c951b835fcc35da807b6a4b12509">AST_BRIDGE_CAPABILITY_1TO1MIX</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00092">bridge.h:92</a></div></div>
<div class="ttc" id="bridge_8h_html_a865f7ef0f91885406ab746b23eb598cd"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a865f7ef0f91885406ab746b23eb598cd">ast_transfer_type</a></div><div class="ttdeci">ast_transfer_type</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l01126">bridge.h:1126</a></div></div>
<div class="ttc" id="bridge_8h_html_ad10a5063edd5ac337fa1163e79021995"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#ad10a5063edd5ac337fa1163e79021995">_ast_bridge_lock</a></div><div class="ttdeci">static void _ast_bridge_lock(struct ast_bridge *bridge, const char *file, const char *function, int line, const char *var)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00481">bridge.h:481</a></div></div>
<div class="ttc" id="bridge_8h_html_a2a2b1e82e019faba42fa278f7a69a699"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a2a2b1e82e019faba42fa278f7a69a699">ast_bridge_video_mode_to_string</a></div><div class="ttdeci">const char * ast_bridge_video_mode_to_string(enum ast_bridge_video_mode_type video_mode)</div><div class="ttdoc">Converts an enum representation of a bridge video mode to string. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l04018">bridge.c:4018</a></div></div>
<div class="ttc" id="bridge_8h_html_a6bae9b013c815c40d0414080455e3592"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a6bae9b013c815c40d0414080455e3592">ast_bridge_merge_inhibit</a></div><div class="ttdeci">void ast_bridge_merge_inhibit(struct ast_bridge *bridge, int request)</div><div class="ttdoc">Adjust the bridge merge inhibit request count. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l03061">bridge.c:3061</a></div></div>
<div class="ttc" id="stringfields_8h_html_a51b5729220efb7cda4393ed35ecdfea2"><div class="ttname"><a href="../../d1/d0f/stringfields_8h.html#a51b5729220efb7cda4393ed35ecdfea2">AST_STRING_FIELD</a></div><div class="ttdeci">#define AST_STRING_FIELD(name)</div><div class="ttdoc">Declare a string field. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d0f/stringfields_8h_source.html#l00299">stringfields.h:299</a></div></div>
<div class="ttc" id="bridge_8h_html_a22e0b20cf0d941c2acc0710600c1c35ba1fa9d011ae5e2f298c3875155a2a3e2f"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a22e0b20cf0d941c2acc0710600c1c35ba1fa9d011ae5e2f298c3875155a2a3e2f">AST_BRIDGE_VIDEO_SFU_REMB_HIGHEST_ALL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00143">bridge.h:143</a></div></div>
<div class="ttc" id="bridge_8h_html_ac086b7d74fb40c2ede8514274585b101a01be425a6fb9fefd36905b542e903087"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#ac086b7d74fb40c2ede8514274585b101a01be425a6fb9fefd36905b542e903087">AST_BRIDGE_IMPART_CHAN_DEPARTABLE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00602">bridge.h:602</a></div></div>
<div class="ttc" id="codec__dahdi_8c_html_aea0622703055b62259903cdab213319b"><div class="ttname"><a href="../../de/d52/codec__dahdi_8c.html#aea0622703055b62259903cdab213319b">channels</a></div><div class="ttdeci">static struct channel_usage channels</div></div>
<div class="ttc" id="reqresp__parser_8h_html_a7e4aa55331b8292eff94249de72b807d"><div class="ttname"><a href="../../d1/d8f/reqresp__parser_8h.html#a7e4aa55331b8292eff94249de72b807d">AST_LIST_HEAD_NOLOCK</a></div><div class="ttdeci">AST_LIST_HEAD_NOLOCK(contactliststruct, contact)</div></div>
<div class="ttc" id="bridge_8h_html_a32767ed0f51795590f41a662523c88b0"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a32767ed0f51795590f41a662523c88b0">ast_bridge_base_new</a></div><div class="ttdeci">struct ast_bridge * ast_bridge_base_new(uint32_t capabilities, unsigned int flags, const char *creator, const char *name, const char *id)</div><div class="ttdoc">Create a new base class bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l00960">bridge.c:960</a></div></div>
<div class="ttc" id="bridge_8h_html_a46b990e3c3b853c3f9d19f2924dff5d1"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a46b990e3c3b853c3f9d19f2924dff5d1">ast_bridge_set_video_update_discard</a></div><div class="ttdeci">void ast_bridge_set_video_update_discard(struct ast_bridge *bridge, unsigned int video_update_discard)</div><div class="ttdoc">Set the amount of time to discard subsequent video updates after a video update has been sent...</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l03849">bridge.c:3849</a></div></div>
<div class="ttc" id="structast__unreal__pvt_html_a84d1435c5b8d387806714ea7079304b7"><div class="ttname"><a href="../../d6/df3/structast__unreal__pvt.html#a84d1435c5b8d387806714ea7079304b7">ast_unreal_pvt::chan</a></div><div class="ttdeci">struct ast_channel * chan</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dea/core__unreal_8h_source.html#l00094">core_unreal.h:94</a></div></div>
<div class="ttc" id="bridge_8h_html_a98d25ad98211b79abdfc6b5bf099b789"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a98d25ad98211b79abdfc6b5bf099b789">ast_bridge_pull_channel_fn</a></div><div class="ttdeci">void(* ast_bridge_pull_channel_fn)(struct ast_bridge *self, struct ast_bridge_channel *bridge_channel)</div><div class="ttdoc">Pull this channel from the bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00230">bridge.h:230</a></div></div>
<div class="ttc" id="structast__bridge_html_a2f11ecc852af02fffecf1411013f0873"><div class="ttname"><a href="../../d4/d84/structast__bridge.html#a2f11ecc852af02fffecf1411013f0873">ast_bridge::v_table</a></div><div class="ttdeci">const struct ast_bridge_methods * v_table</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00359">bridge.h:359</a></div></div>
<div class="ttc" id="bridge_8h_html_a186f44efd65f1349ca2deb11b8117534add0740f1c8620ab74b253de5bac26ec7"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a186f44efd65f1349ca2deb11b8117534add0740f1c8620ab74b253de5bac26ec7">AST_BRIDGE_OPTIMIZE_SWAP_TO_CHAN_BRIDGE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00893">bridge.h:893</a></div></div>
<div class="ttc" id="bridge_8h_html_ad953e3f044237ed0337e4e46479fbd4f"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#ad953e3f044237ed0337e4e46479fbd4f">ast_bridge_peers</a></div><div class="ttdeci">struct ao2_container * ast_bridge_peers(struct ast_bridge *bridge)</div><div class="ttdoc">Get a container of all channels in the bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l04103">bridge.c:4103</a></div></div>
<div class="ttc" id="structast__bridge_html_a7dbe1cd4b391636e49491eafab9095e0"><div class="ttname"><a href="../../d4/d84/structast__bridge.html#a7dbe1cd4b391636e49491eafab9095e0">ast_bridge::current_snapshot</a></div><div class="ttdeci">struct ast_bridge_snapshot * current_snapshot</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00414">bridge.h:414</a></div></div>
<div class="ttc" id="structast__bridge_html"><div class="ttname"><a href="../../d4/d84/structast__bridge.html">ast_bridge</a></div><div class="ttdoc">Structure that contains information about a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00357">bridge.h:357</a></div></div>
<div class="ttc" id="bridge_8h_html_aa480b74d4bd30d30c07a1f7276733188"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#aa480b74d4bd30d30c07a1f7276733188">_ast_bridge_trylock</a></div><div class="ttdeci">static int _ast_bridge_trylock(struct ast_bridge *bridge, const char *file, const char *function, int line, const char *var)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00468">bridge.h:468</a></div></div>
<div class="ttc" id="bridge_8h_html_acbc344c8fa0a95134e759c71b87af890"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#acbc344c8fa0a95134e759c71b87af890">ast_bridge_unreal_optimize_out</a></div><div class="ttdeci">int ast_bridge_unreal_optimize_out(struct ast_channel *chan, struct ast_channel *peer, struct ast_unreal_pvt *pvt)</div><div class="ttdoc">Check and optimize out the unreal channels between bridges. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l02968">bridge.c:2968</a></div></div>
<div class="ttc" id="structast__bridge_html_adaedd59efa9e3a1bf9ef24db6771e0a2"><div class="ttname"><a href="../../d4/d84/structast__bridge.html#adaedd59efa9e3a1bf9ef24db6771e0a2">ast_bridge::num_lonely</a></div><div class="ttdeci">unsigned int num_lonely</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00385">bridge.h:385</a></div></div>
<div class="ttc" id="bridge__channel_8h_html"><div class="ttname"><a href="../../de/d41/bridge__channel_8h.html">bridge_channel.h</a></div></div>
<div class="ttc" id="astobj2_8h_html_a321ba5fa712b06adeedb310a1fe519f4"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a321ba5fa712b06adeedb310a1fe519f4">__ao2_trylock</a></div><div class="ttdeci">int __ao2_trylock(void *a, enum ao2_lock_req lock_how, const char *file, const char *func, int line, const char *var)</div><div class="ttdoc">Try locking– (don&amp;#39;t block if fail) </div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00342">astobj2.c:342</a></div></div>
<div class="ttc" id="bridge_8h_html_ac086b7d74fb40c2ede8514274585b101aecfd8e6279a21b20ee4db0ab69c847e8"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#ac086b7d74fb40c2ede8514274585b101aecfd8e6279a21b20ee4db0ab69c847e8">AST_BRIDGE_IMPART_CHAN_INDEPENDENT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00604">bridge.h:604</a></div></div>
<div class="ttc" id="bridge_8h_html_adb755c02424a98c8ec3bd636c609e120"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#adb755c02424a98c8ec3bd636c609e120">ast_bridge_is_video_src</a></div><div class="ttdeci">int ast_bridge_is_video_src(struct ast_bridge *bridge, struct ast_channel *chan)</div><div class="ttdoc">Determine if a channel is a video src for the bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l03958">bridge.c:3958</a></div></div>
<div class="ttc" id="bridge_8h_html_a22e0b20cf0d941c2acc0710600c1c35ba83b326eea831aaf8864b88955e7fe7a4"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a22e0b20cf0d941c2acc0710600c1c35ba83b326eea831aaf8864b88955e7fe7a4">AST_BRIDGE_VIDEO_SFU_REMB_HIGHEST</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00137">bridge.h:137</a></div></div>
<div class="ttc" id="bridge_8h_html_a0075715d330c8492e03c6d3ca3f48e13"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a0075715d330c8492e03c6d3ca3f48e13">ast_bridge_depart</a></div><div class="ttdeci">int ast_bridge_depart(struct ast_channel *chan)</div><div class="ttdoc">Depart a channel from a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l01952">bridge.c:1952</a></div></div>
<div class="ttc" id="structast__unreal__pvt_html"><div class="ttname"><a href="../../d6/df3/structast__unreal__pvt.html">ast_unreal_pvt</a></div><div class="ttdoc">The base pvt structure for local channel derivatives. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/dea/core__unreal_8h_source.html#l00091">core_unreal.h:91</a></div></div>
<div class="ttc" id="bridge_8h_html_ad460c5de90f3a8925c9149bbacce65f8"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#ad460c5de90f3a8925c9149bbacce65f8">ast_bridges_allow_optimization</a></div><div class="ttdeci">enum ast_bridge_optimization ast_bridges_allow_optimization(struct ast_bridge *chan_bridge, struct ast_bridge *peer_bridge)</div><div class="ttdoc">Determine if bridges allow for optimization to occur betweem them. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l03008">bridge.c:3008</a></div></div>
<div class="ttc" id="bridge_8h_html_ae7f6701ef6b78dea4da4723994d9c211"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#ae7f6701ef6b78dea4da4723994d9c211">ast_bridge_set_remb_send_interval</a></div><div class="ttdeci">void ast_bridge_set_remb_send_interval(struct ast_bridge *bridge, unsigned int remb_send_interval)</div><div class="ttdoc">Set the interval at which a combined REMB frame will be sent to video sources. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l03856">bridge.c:3856</a></div></div>
<div class="ttc" id="bridge_8h_html_ad52005264bec898a8f825bd47d91cf93a3ebef74566687cfbc25d174725fc6d56"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#ad52005264bec898a8f825bd47d91cf93a3ebef74566687cfbc25d174725fc6d56">AST_BRIDGE_JOIN_INHIBIT_JOIN_COLP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00551">bridge.h:551</a></div></div>
<div class="ttc" id="structast__bridge__methods_html"><div class="ttname"><a href="../../d2/dd3/structast__bridge__methods.html">ast_bridge_methods</a></div><div class="ttdoc">Bridge virtual methods table definition. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00265">bridge.h:265</a></div></div>
<div class="ttc" id="cdr__mysql_8c_html_a0980a105ccb863d8008eb6201a51da52"><div class="ttname"><a href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a></div><div class="ttdeci">static const char name[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/cdr__mysql_8c_source.html#l00074">cdr_mysql.c:74</a></div></div>
<div class="ttc" id="bridge_8h_html_a7132d0a0b71844641ce3a1035e05c67b"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a7132d0a0b71844641ce3a1035e05c67b">ast_bridge_kick</a></div><div class="ttdeci">int ast_bridge_kick(struct ast_bridge *bridge, struct ast_channel *chan)</div><div class="ttdoc">Kick a channel from a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l02025">bridge.c:2025</a></div></div>
<div class="ttc" id="bridge_8h_html_ad45098162b2df09235f632efb08a9681"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#ad45098162b2df09235f632efb08a9681">ast_bridge_peers_nolock</a></div><div class="ttdeci">struct ao2_container * ast_bridge_peers_nolock(struct ast_bridge *bridge)</div><div class="ttdoc">Get a container of all channels in the bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l04085">bridge.c:4085</a></div></div>
<div class="ttc" id="bridge_8h_html_aeb11f378e45f0beb05de964b3af9a6bc"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#aeb11f378e45f0beb05de964b3af9a6bc">ast_bridge_notify_masquerade</a></div><div class="ttdeci">void ast_bridge_notify_masquerade(struct ast_channel *chan)</div><div class="ttdoc">Notify bridging that this channel was just masqueraded. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l01482">bridge.c:1482</a></div></div>
<div class="ttc" id="structast__bridge__methods_html_ad74029594a0d1e6b9863ce3f02c82d25"><div class="ttname"><a href="../../d2/dd3/structast__bridge__methods.html#ad74029594a0d1e6b9863ce3f02c82d25">ast_bridge_methods::get_merge_priority</a></div><div class="ttdeci">ast_bridge_merge_priority_fn get_merge_priority</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00279">bridge.h:279</a></div></div>
<div class="ttc" id="bridge_8h_html_a0a2e9bb75a3d3276cd8153e1f4a4a389"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a0a2e9bb75a3d3276cd8153e1f4a4a389">ast_bridge_set_talker_src_video_mode</a></div><div class="ttdeci">void ast_bridge_set_talker_src_video_mode(struct ast_bridge *bridge)</div><div class="ttdoc">Set the bridge to pick the strongest talker supporting video as the single source video feed...</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l03833">bridge.c:3833</a></div></div>
<div class="ttc" id="compiler_8h_html_ab3b3fbf14bd20f49a667b208fee6a07a"><div class="ttname"><a href="../../d4/dd1/compiler_8h.html#ab3b3fbf14bd20f49a667b208fee6a07a">attribute_warn_unused_result</a></div><div class="ttdeci">#define attribute_warn_unused_result</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dd1/compiler_8h_source.html#l00071">compiler.h:71</a></div></div>
<div class="ttc" id="bridge_8h_html_a097642290ac8df40ac9484221d4c9b21"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a097642290ac8df40ac9484221d4c9b21">ast_bridge_destructor_fn</a></div><div class="ttdeci">void(* ast_bridge_destructor_fn)(struct ast_bridge *self)</div><div class="ttdoc">Destroy the bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00178">bridge.h:178</a></div></div>
<div class="ttc" id="structast__bridge__video__mode_html_a827ffb5b7363100b4470c4cd5ec2332e"><div class="ttname"><a href="../../dc/d4a/structast__bridge__video__mode.html#a827ffb5b7363100b4470c4cd5ec2332e">ast_bridge_video_mode::video_update_discard</a></div><div class="ttdeci">unsigned int video_update_discard</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00168">bridge.h:168</a></div></div>
<div class="ttc" id="bridge_8h_html_a8878fc7451a873f155aba20b0b31abbb"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a8878fc7451a873f155aba20b0b31abbb">ast_bridge_set_transfer_variables</a></div><div class="ttdeci">void ast_bridge_set_transfer_variables(struct ast_channel *chan, const char *value, int is_attended)</div><div class="ttdoc">Set the relevant transfer variables for a single channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l04404">bridge.c:4404</a></div></div>
<div class="ttc" id="chan__pjsip_8c_html_a4e2e6fb7d874f0d2deddd2ecfc8afb32"><div class="ttname"><a href="../../d0/d29/chan__pjsip_8c.html#a4e2e6fb7d874f0d2deddd2ecfc8afb32">request</a></div><div class="ttdeci">static int request(void *obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/chan__pjsip_8c_source.html#l02559">chan_pjsip.c:2559</a></div></div>
<div class="ttc" id="structast__bridge__channel_html_a3bf3c4e34892d0033814ab5fec0e006f"><div class="ttname"><a href="../../d5/dca/structast__bridge__channel.html#a3bf3c4e34892d0033814ab5fec0e006f">ast_bridge_channel::swap</a></div><div class="ttdeci">struct ast_channel * swap</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00093">bridge_channel.h:93</a></div></div>
<div class="ttc" id="bridge_8h_html_a0a9bbd9a809f8f52c2945df40ac89abb"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a0a9bbd9a809f8f52c2945df40ac89abb">ast_bridge_features_remove</a></div><div class="ttdeci">void ast_bridge_features_remove(struct ast_bridge_features *features, enum ast_bridge_hook_remove_flags flags)</div><div class="ttdoc">Remove marked bridge channel feature hooks. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l03568">bridge.c:3568</a></div></div>
<div class="ttc" id="structast__bridge__snapshot_html_a97e3bedeadf444995deb6fab68f57e21"><div class="ttname"><a href="../../d0/d99/structast__bridge__snapshot.html#a97e3bedeadf444995deb6fab68f57e21">ast_bridge_snapshot::num_channels</a></div><div class="ttdeci">unsigned int num_channels</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00345">bridge.h:345</a></div></div>
<div class="ttc" id="structast__flags_html"><div class="ttname"><a href="../../dc/dac/structast__flags.html">ast_flags</a></div><div class="ttdoc">Structure used to handle boolean flags. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00199">utils.h:199</a></div></div>
<div class="ttc" id="structast__bridge_html_aa4d0ccb9d0904892652f2f258c5ad225"><div class="ttname"><a href="../../d4/d84/structast__bridge.html#aa4d0ccb9d0904892652f2f258c5ad225">ast_bridge::cause</a></div><div class="ttdeci">int cause</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00394">bridge.h:394</a></div></div>
<div class="ttc" id="bridge_8h_html_a116a27b8e1e111729ee1828d4fab6b5a"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a116a27b8e1e111729ee1828d4fab6b5a">ast_bridge_join</a></div><div class="ttdeci">int ast_bridge_join(struct ast_bridge *bridge, struct ast_channel *chan, struct ast_channel *swap, struct ast_bridge_features *features, struct ast_bridge_tech_optimizations *tech_args, enum ast_bridge_join_flags flags)</div><div class="ttdoc">Join a channel to a bridge (blocking) </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l01667">bridge.c:1667</a></div></div>
<div class="ttc" id="bridge_8h_html_a8995453900a91100f3cd936594f41435"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a8995453900a91100f3cd936594f41435">ast_bridge_set_single_src_video_mode</a></div><div class="ttdeci">void ast_bridge_set_single_src_video_mode(struct ast_bridge *bridge, struct ast_channel *video_src_chan)</div><div class="ttdoc">Set a bridge to feed a single video source to all participants. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l03816">bridge.c:3816</a></div></div>
<div class="ttc" id="bridge_8h_html_ad52005264bec898a8f825bd47d91cf93"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#ad52005264bec898a8f825bd47d91cf93">ast_bridge_join_flags</a></div><div class="ttdeci">ast_bridge_join_flags</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00547">bridge.h:547</a></div></div>
<div class="ttc" id="structast__bridge__softmix_html_a19c26f21e5b3f0f20ef838fd43db8ea9"><div class="ttname"><a href="../../d0/d50/structast__bridge__softmix.html#a19c26f21e5b3f0f20ef838fd43db8ea9">ast_bridge_softmix::send_sdp_label</a></div><div class="ttdeci">unsigned int send_sdp_label</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00308">bridge.h:308</a></div></div>
<div class="ttc" id="bridge_8h_html_a22e0b20cf0d941c2acc0710600c1c35baed87d2e68e3a4ed12e09eee7a1993c51"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a22e0b20cf0d941c2acc0710600c1c35baed87d2e68e3a4ed12e09eee7a1993c51">AST_BRIDGE_VIDEO_SFU_REMB_LOWEST_ALL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00141">bridge.h:141</a></div></div>
<div class="ttc" id="structast__bridge__video__talker__src__data_html_ac10f96d9ddb17a9038083d909b2c7299"><div class="ttname"><a href="../../d0/dad/structast__bridge__video__talker__src__data.html#ac10f96d9ddb17a9038083d909b2c7299">ast_bridge_video_talker_src_data::average_talking_energy</a></div><div class="ttdeci">int average_talking_energy</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00124">bridge.h:124</a></div></div>
<div class="ttc" id="structast__bridge__snapshot_html_a4d514eabb35f71dee132ef1df1c6cdbb"><div class="ttname"><a href="../../d0/d99/structast__bridge__snapshot.html#a4d514eabb35f71dee132ef1df1c6cdbb">ast_bridge_snapshot::num_active</a></div><div class="ttdeci">unsigned int num_active</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00347">bridge.h:347</a></div></div>
<div class="ttc" id="structast__bridge__channel_html"><div class="ttname"><a href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a></div><div class="ttdoc">Structure that contains information regarding a channel in a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00084">bridge_channel.h:84</a></div></div>
<div class="ttc" id="bridge_8h_html_af0e3d51ad653134a92545dec4610b83a"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#af0e3d51ad653134a92545dec4610b83a">ast_bridge_move</a></div><div class="ttdeci">int ast_bridge_move(struct ast_bridge *dst_bridge, struct ast_bridge *src_bridge, struct ast_channel *chan, struct ast_channel *swap, int attempt_recovery)</div><div class="ttdoc">Move a channel from one bridge to another. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l02508">bridge.c:2508</a></div></div>
<div class="ttc" id="structtransfer__channel__data_html_a4eff08519948266efdd345aabe6ecbbb"><div class="ttname"><a href="../../da/d84/structtransfer__channel__data.html#a4eff08519948266efdd345aabe6ecbbb">transfer_channel_data::completed</a></div><div class="ttdeci">int completed</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l01141">bridge.h:1141</a></div></div>
<div class="ttc" id="structast__bridge__methods_html_aeab2ad12e267a1bc7bfd840f1514f664"><div class="ttname"><a href="../../d2/dd3/structast__bridge__methods.html#aeab2ad12e267a1bc7bfd840f1514f664">ast_bridge_methods::push_peek</a></div><div class="ttdeci">ast_bridge_push_channel_fn push_peek</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00281">bridge.h:281</a></div></div>
<div class="ttc" id="bridge_8h_html_aa88f0cbb002c6f26133bb5d277d4dc49"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#aa88f0cbb002c6f26133bb5d277d4dc49">ast_bridge_merge</a></div><div class="ttdeci">int ast_bridge_merge(struct ast_bridge *dst_bridge, struct ast_bridge *src_bridge, int merge_best_direction, struct ast_channel **kick_me, unsigned int num_kick)</div><div class="ttdoc">Merge two bridges together. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l02348">bridge.c:2348</a></div></div>
<div class="ttc" id="bridge_8h_html_ab388dac5f5c172d7f03c54487afac906a48458f43dd7ef0372614e5848f9226e0"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#ab388dac5f5c172d7f03c54487afac906a48458f43dd7ef0372614e5848f9226e0">AST_BRIDGE_VIDEO_MODE_TALKER_SRC</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00105">bridge.h:105</a></div></div>
<div class="ttc" id="structast__bridge__video__sfu__data_html"><div class="ttname"><a href="../../dd/df9/structast__bridge__video__sfu__data.html">ast_bridge_video_sfu_data</a></div><div class="ttdoc">This is used for selective forwarding unit configuration. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00149">bridge.h:149</a></div></div>
<div class="ttc" id="bridge_8h_html_a85bc0d4138ac2af7b207d8f1325f051a"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a85bc0d4138ac2af7b207d8f1325f051a">ast_bridge_suspend</a></div><div class="ttdeci">int ast_bridge_suspend(struct ast_bridge *bridge, struct ast_channel *chan)</div><div class="ttdoc">Suspend a channel temporarily from a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l03068">bridge.c:3068</a></div></div>
<div class="ttc" id="structast__bridge__video__single__src__data_html"><div class="ttname"><a href="../../dd/dbe/structast__bridge__video__single__src__data.html">ast_bridge_video_single_src_data</a></div><div class="ttdoc">This is used for both SINGLE_SRC mode to set what channel should be the current single video feed...</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00114">bridge.h:114</a></div></div>
<div class="ttc" id="bridge_8h_html_a22e0b20cf0d941c2acc0710600c1c35b"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a22e0b20cf0d941c2acc0710600c1c35b">ast_bridge_video_sfu_remb_behavior</a></div><div class="ttdeci">ast_bridge_video_sfu_remb_behavior</div><div class="ttdoc">REMB report behaviors. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00131">bridge.h:131</a></div></div>
<div class="ttc" id="structast__bridge__technology_html"><div class="ttname"><a href="../../d1/d04/structast__bridge__technology.html">ast_bridge_technology</a></div><div class="ttdoc">Structure that is the essence of a bridge technology. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d3b/bridge__technology_8h_source.html#l00061">bridge_technology.h:61</a></div></div>
<div class="ttc" id="structast__bridge__video__talker__src__data_html_af17523bbee86cea3e7c6959258436728"><div class="ttname"><a href="../../d0/dad/structast__bridge__video__talker__src__data.html#af17523bbee86cea3e7c6959258436728">ast_bridge_video_talker_src_data::chan_vsrc</a></div><div class="ttdeci">struct ast_channel * chan_vsrc</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00123">bridge.h:123</a></div></div>
<div class="ttc" id="bridge_8h_html_a815c9b3e933dfd4b8f523cf55caa5bbfab01df717450b48e5a7ba5003df49c955"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a815c9b3e933dfd4b8f523cf55caa5bbfab01df717450b48e5a7ba5003df49c955">AST_BRIDGE_CAPABILITY_EARLY</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00088">bridge.h:88</a></div></div>
<div class="ttc" id="structtransfer__channel__data_html"><div class="ttname"><a href="../../da/d84/structtransfer__channel__data.html">transfer_channel_data</a></div><div class="ttdoc">AO2 object that wraps data for transfer_channel_cb. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l01136">bridge.h:1136</a></div></div>
<div class="ttc" id="structast__frame_html"><div class="ttname"><a href="../../d0/d99/structast__frame.html">ast_frame</a></div><div class="ttdoc">Data structure associated with a single frame of data. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00165">include/asterisk/frame.h:165</a></div></div>
<div class="ttc" id="bridge_8h_html_ab388dac5f5c172d7f03c54487afac906a51708384777e8722fae674ea8db89f54"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#ab388dac5f5c172d7f03c54487afac906a51708384777e8722fae674ea8db89f54">AST_BRIDGE_VIDEO_MODE_NONE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00100">bridge.h:100</a></div></div>
<div class="ttc" id="structast__bridge_html_a136460a7868b48ef576c0fa505ef96db"><div class="ttname"><a href="../../d4/d84/structast__bridge.html#a136460a7868b48ef576c0fa505ef96db">ast_bridge::topic</a></div><div class="ttdeci">struct stasis_topic * topic</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00367">bridge.h:367</a></div></div>
<div class="ttc" id="structast__bridge_html_a19aa04db5508cf9496602e694dc69e2f"><div class="ttname"><a href="../../d4/d84/structast__bridge.html#a19aa04db5508cf9496602e694dc69e2f">ast_bridge::tech_pvt</a></div><div class="ttdeci">void * tech_pvt</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00365">bridge.h:365</a></div></div>
<div class="ttc" id="bridge_8h_html_a87ed18cc739a9635c4595cae783ab993"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a87ed18cc739a9635c4595cae783ab993">transfer_channel_cb</a></div><div class="ttdeci">void(* transfer_channel_cb)(struct ast_channel *chan, struct transfer_channel_data *user_data, enum ast_transfer_type transfer_type)</div><div class="ttdoc">Callback function type called during blind transfers. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l01160">bridge.h:1160</a></div></div>
<div class="ttc" id="structast__bridge__methods_html_adcfc7ef2b1ee5305158a584970ddea65"><div class="ttname"><a href="../../d2/dd3/structast__bridge__methods.html#adcfc7ef2b1ee5305158a584970ddea65">ast_bridge_methods::pull</a></div><div class="ttdeci">ast_bridge_pull_channel_fn pull</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00275">bridge.h:275</a></div></div>
<div class="ttc" id="bridge_8h_html_ac086b7d74fb40c2ede8514274585b101"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#ac086b7d74fb40c2ede8514274585b101">ast_bridge_impart_flags</a></div><div class="ttdeci">ast_bridge_impart_flags</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00598">bridge.h:598</a></div></div>
<div class="ttc" id="structast__bridge__methods_html_abf4c4f9d73d43950e5e1882db332f00b"><div class="ttname"><a href="../../d2/dd3/structast__bridge__methods.html#abf4c4f9d73d43950e5e1882db332f00b">ast_bridge_methods::destroy</a></div><div class="ttdeci">ast_bridge_destructor_fn destroy</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00269">bridge.h:269</a></div></div>
<div class="ttc" id="structast__bridge__methods_html_a60b76bf280f288b3ef3f1facf873b104"><div class="ttname"><a href="../../d2/dd3/structast__bridge__methods.html#a60b76bf280f288b3ef3f1facf873b104">ast_bridge_methods::push</a></div><div class="ttdeci">ast_bridge_push_channel_fn push</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00273">bridge.h:273</a></div></div>
<div class="ttc" id="structao2__container_html"><div class="ttname"><a href="../../d2/da9/structao2__container.html">ao2_container</a></div><div class="ttdoc">Generic container type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d20/astobj2__container__private_8h_source.html#l00282">astobj2_container_private.h:282</a></div></div>
<div class="ttc" id="chan__alsa_8c_html_ac25ea00ee3f082df06e0cf468cbde240"><div class="ttname"><a href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a></div><div class="ttdeci">static char context[AST_MAX_CONTEXT]</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d45/chan__alsa_8c_source.html#l00116">chan_alsa.c:116</a></div></div>
<div class="ttc" id="structast__bridge_html_a6e62c2774ca18846e6e45057fb8b7a22"><div class="ttname"><a href="../../d4/d84/structast__bridge.html#a6e62c2774ca18846e6e45057fb8b7a22">ast_bridge::creator</a></div><div class="ttdeci">const ast_string_field creator</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00409">bridge.h:409</a></div></div>
<div class="ttc" id="bridge_8h_html_ad52005264bec898a8f825bd47d91cf93a9106169928c6eeccad5b5ebcf762ac9d"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#ad52005264bec898a8f825bd47d91cf93a9106169928c6eeccad5b5ebcf762ac9d">AST_BRIDGE_JOIN_PASS_REFERENCE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00549">bridge.h:549</a></div></div>
<div class="ttc" id="bridge_8h_html_a22e0b20cf0d941c2acc0710600c1c35ba14ab1a13df8c27aa690625d667f52f3a"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a22e0b20cf0d941c2acc0710600c1c35ba14ab1a13df8c27aa690625d667f52f3a">AST_BRIDGE_VIDEO_SFU_REMB_LOWEST</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00135">bridge.h:135</a></div></div>
<div class="ttc" id="bridge_8h_html_a186f44efd65f1349ca2deb11b8117534"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a186f44efd65f1349ca2deb11b8117534">ast_bridge_optimization</a></div><div class="ttdeci">ast_bridge_optimization</div><div class="ttdoc">Tells, if optimization is allowed, how the optimization would be performed. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00891">bridge.h:891</a></div></div>
<div class="ttc" id="structast__bridge__softmix_html_ac4a5819e66f436d283aa19d986f04e52"><div class="ttname"><a href="../../d0/d50/structast__bridge__softmix.html#ac4a5819e66f436d283aa19d986f04e52">ast_bridge_softmix::internal_sample_rate</a></div><div class="ttdeci">unsigned int internal_sample_rate</div><div class="ttdoc">The internal sample rate softmix uses to mix channels. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00293">bridge.h:293</a></div></div>
<div class="ttc" id="structast__bridge__tech__optimizations_html"><div class="ttname"><a href="../../d6/d97/structast__bridge__tech__optimizations.html">ast_bridge_tech_optimizations</a></div><div class="ttdoc">Structure specific to bridge technologies capable of performing talking optimizations. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d3b/bridge__technology_8h_source.html#l00048">bridge_technology.h:48</a></div></div>
<div class="ttc" id="structast__bridge_html_afe58250d4d4352ae4f0da4012ed4e9fa"><div class="ttname"><a href="../../d4/d84/structast__bridge.html#afe58250d4d4352ae4f0da4012ed4e9fa">ast_bridge::allowed_capabilities</a></div><div class="ttdeci">uint32_t allowed_capabilities</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00379">bridge.h:379</a></div></div>
<div class="ttc" id="structast__bridge__softmix_html_a20440d4454d1d575acbba1e14c39cb28"><div class="ttname"><a href="../../d0/d50/structast__bridge__softmix.html#a20440d4454d1d575acbba1e14c39cb28">ast_bridge_softmix::maximum_sample_rate</a></div><div class="ttdeci">unsigned int maximum_sample_rate</div><div class="ttdoc">The maximum sample rate softmix uses to mix channels. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00314">bridge.h:314</a></div></div>
<div class="ttc" id="structast__bridge_html_a97e3bedeadf444995deb6fab68f57e21"><div class="ttname"><a href="../../d4/d84/structast__bridge.html#a97e3bedeadf444995deb6fab68f57e21">ast_bridge::num_channels</a></div><div class="ttdeci">unsigned int num_channels</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00381">bridge.h:381</a></div></div>
<div class="ttc" id="bridge_8h_html_a283cf43498dde27adebbc85679b2f2d5"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a283cf43498dde27adebbc85679b2f2d5">ast_bridge_number_video_src</a></div><div class="ttdeci">int ast_bridge_number_video_src(struct ast_bridge *bridge)</div><div class="ttdoc">Returns the number of video sources currently active in the bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l03931">bridge.c:3931</a></div></div>
<div class="ttc" id="bridge__features_8h_html"><div class="ttname"><a href="../../dc/d7a/bridge__features_8h.html">bridge_features.h</a></div><div class="ttdoc">Channel Bridging API. </div></div>
<div class="ttc" id="bridge_8h_html_a22e0b20cf0d941c2acc0710600c1c35ba4643daa2205912210019f2a54e567964"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a22e0b20cf0d941c2acc0710600c1c35ba4643daa2205912210019f2a54e567964">AST_BRIDGE_VIDEO_SFU_REMB_AVERAGE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00133">bridge.h:133</a></div></div>
<div class="ttc" id="bridge_8h_html_a2121b11e4a87e5757eec1d3053718458"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a2121b11e4a87e5757eec1d3053718458">ast_bridge_notify_masquerade_fn</a></div><div class="ttdeci">void(* ast_bridge_notify_masquerade_fn)(struct ast_bridge *self, struct ast_bridge_channel *bridge_channel)</div><div class="ttdoc">Notify the bridge that this channel was just masqueraded. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00246">bridge.h:246</a></div></div>
<div class="ttc" id="bridge_8h_html_af3e15bc4236a2a074953cfb1c4530cf5"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#af3e15bc4236a2a074953cfb1c4530cf5">ast_bridge_set_internal_sample_rate</a></div><div class="ttdeci">void ast_bridge_set_internal_sample_rate(struct ast_bridge *bridge, unsigned int sample_rate)</div><div class="ttdoc">Adjust the internal mixing sample rate of a bridge used during multimix mode. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l03779">bridge.c:3779</a></div></div>
<div class="ttc" id="structast__bridge_html_abc1d460759585bcaddb392327e9cc9ea"><div class="ttname"><a href="../../d4/d84/structast__bridge.html#abc1d460759585bcaddb392327e9cc9ea">ast_bridge::construction_completed</a></div><div class="ttdeci">unsigned int construction_completed</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00400">bridge.h:400</a></div></div>
<div class="ttc" id="bridge_8h_html_aadbf879fadde4b1bb7832b1390cc8c17a10037a900428dbddb31e85e4481bb4da"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#aadbf879fadde4b1bb7832b1390cc8c17a10037a900428dbddb31e85e4481bb4da">AST_BRIDGE_TRANSFER_NOT_PERMITTED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l01119">bridge.h:1119</a></div></div>
<div class="ttc" id="bridge_8h_html_a186f44efd65f1349ca2deb11b8117534a582d8fd99bc8f3320608f74efb142ee7"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a186f44efd65f1349ca2deb11b8117534a582d8fd99bc8f3320608f74efb142ee7">AST_BRIDGE_OPTIMIZE_SWAP_TO_PEER_BRIDGE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00895">bridge.h:895</a></div></div>
<div class="ttc" id="structast__bridge__softmix_html_acc14dd5766fd17581ff869aaae42988c"><div class="ttname"><a href="../../d0/d50/structast__bridge__softmix.html#acc14dd5766fd17581ff869aaae42988c">ast_bridge_softmix::binaural_active</a></div><div class="ttdeci">unsigned int binaural_active</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00303">bridge.h:303</a></div></div>
<div class="ttc" id="bridge_8h_html_a865f7ef0f91885406ab746b23eb598cdaa85cad6eafcb0edc223c975e0cf3b296"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a865f7ef0f91885406ab746b23eb598cdaa85cad6eafcb0edc223c975e0cf3b296">AST_BRIDGE_TRANSFER_MULTI_PARTY</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l01130">bridge.h:1130</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Aug 8 2021 19:43:08 for Asterisk - The Open Source Telephony Project by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
