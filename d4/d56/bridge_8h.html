<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Asterisk - The Open Source Telephony Project: bridge.h File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Asterisk - The Open Source Telephony Project
   &#160;<span id="projectnumber">18.5.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="../../dir_6d4b1cdb59e2db6ad82005b337288fef.html">asterisk</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">bridge.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Bridging API.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="../../dc/d7a/bridge__features_8h_source.html">asterisk/bridge_features.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../de/d41/bridge__channel_8h_source.html">asterisk/bridge_channel.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../dd/dff/bridge__roles_8h_source.html">asterisk/bridge_roles.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d3/d08/dsp_8h_source.html">asterisk/dsp.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../dd/d1d/uuid_8h_source.html">asterisk/uuid.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for bridge.h:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/d60/bridge_8h__incl.png" border="0" usemap="#bridge_8h" alt=""/></div>
<map name="bridge_8h" id="bridge_8h">
<area shape="rect" id="node2" href="../../dc/d7a/bridge__features_8h.html" title="Channel Bridging API. " alt="" coords="1257,155,1445,181"/>
<area shape="rect" id="node23" href="../../de/d41/bridge__channel_8h.html" title="asterisk/bridge_channel.h" alt="" coords="1479,80,1664,107"/>
<area shape="rect" id="node25" href="../../dd/dff/bridge__roles_8h.html" title="Channel Bridging Roles API. " alt="" coords="1840,229,2007,256"/>
<area shape="rect" id="node26" href="../../d3/d08/dsp_8h.html" title="Convenient Signal Processing routines. " alt="" coords="1748,80,1859,107"/>
<area shape="rect" id="node27" href="../../dd/d1d/uuid_8h.html" title="Universally unique identifier support. " alt="" coords="1883,80,1998,107"/>
<area shape="rect" id="node3" href="../../d5/d7b/channel_8h.html" title="General Asterisk PBX channel definitions. " alt="" coords="855,229,994,256"/>
<area shape="rect" id="node4" href="../../dc/d4d/alertpipe_8h.html" title="asterisk/alertpipe.h" alt="" coords="58,304,202,331"/>
<area shape="rect" id="node5" href="../../d5/d60/utils_8h.html" title="Utility functions. " alt="" coords="239,379,354,405"/>
<area shape="rect" id="node6" href="../../dd/d42/lock_8h.html" title="Asterisk locking&#45;related definitions: " alt="" coords="360,528,473,555"/>
<area shape="rect" id="node7" href="../../d1/d0f/stringfields_8h.html" title="asterisk/stringfields.h" alt="" coords="337,453,494,480"/>
<area shape="rect" id="node8" href="../../dc/d14/abstract__jb_8h.html" title="Common implementation&#45;independent jitterbuffer stuff. " alt="" coords="963,304,1121,331"/>
<area shape="rect" id="node9" href="../../d5/da5/astobj2_8h.html" title="asterisk/astobj2.h" alt="" coords="469,379,604,405"/>
<area shape="rect" id="node10" href="../../df/d90/linkedlists_8h.html" title="A set of macros to manage forward&#45;linked lists. " alt="" coords="769,453,920,480"/>
<area shape="rect" id="node11" href="../../d4/dfb/poll-compat_8h.html" title="asterisk/poll&#45;compat.h" alt="" coords="1145,304,1309,331"/>
<area shape="rect" id="node12" href="../../d6/d66/include_2asterisk_2frame_8h.html" title="Asterisk internal frame definitions. " alt="" coords="680,379,807,405"/>
<area shape="rect" id="node13" href="../../d9/de7/chanvars_8h.html" title="Channel Variables. " alt="" coords="882,379,1029,405"/>
<area shape="rect" id="node14" href="../../d3/de6/include_2asterisk_2config_8h.html" title="Configuration File Parser. " alt="" coords="227,304,353,331"/>
<area shape="rect" id="node15" href="../../dc/d07/cdr_8h.html" title="Call Detail Record API. " alt="" coords="1334,304,1441,331"/>
<area shape="rect" id="node16" href="../../d9/db6/datastore_8h.html" title="Asterisk datastore objects. " alt="" coords="1243,379,1393,405"/>
<area shape="rect" id="node17" href="../../d0/d3c/format__cap_8h.html" title="Format Capabilities API. " alt="" coords="1465,304,1627,331"/>
<area shape="rect" id="node18" href="../../d9/d95/channelstate_8h.html" title="Channel states. " alt="" coords="1651,304,1822,331"/>
<area shape="rect" id="node19" href="../../de/dc8/ccss_8h.html" title="Call Completion Supplementary Services API. " alt="" coords="1795,379,1911,405"/>
<area shape="rect" id="node20" href="../../db/d3c/framehook_8h.html" title="FrameHook Architecture. " alt="" coords="730,304,887,331"/>
<area shape="rect" id="node21" href="../../dd/d79/stasis_8h.html" title="Stasis Message Bus API. See Stasis Message Bus API for detailed documentation. " alt="" coords="378,304,503,331"/>
<area shape="rect" id="node22" href="../../d4/d61/endpoints_8h.html" title="Endpoint abstractions. " alt="" coords="1847,304,1997,331"/>
<area shape="rect" id="node24" href="../../d0/d3b/bridge__technology_8h.html" title="Channel Bridging API. " alt="" coords="1470,155,1673,181"/>
</map>
</div>
</div>
<p><a href="../../d4/d56/bridge_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Structure that contains information about a bridge.  <a href="../../d4/d84/structast__bridge.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d0f/structast__bridge__channels__list.html">ast_bridge_channels_list</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dd3/structast__bridge__methods.html">ast_bridge_methods</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Bridge virtual methods table definition.  <a href="../../d2/dd3/structast__bridge__methods.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d99/structast__bridge__snapshot.html">ast_bridge_snapshot</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Structure that contains a snapshot of information about a bridge.  <a href="../../d0/d99/structast__bridge__snapshot.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d50/structast__bridge__softmix.html">ast_bridge_softmix</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d4a/structast__bridge__video__mode.html">ast_bridge_video_mode</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Data structure that defines a video source mode.  <a href="../../dc/d4a/structast__bridge__video__mode.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/df9/structast__bridge__video__sfu__data.html">ast_bridge_video_sfu_data</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is used for selective forwarding unit configuration.  <a href="../../dd/df9/structast__bridge__video__sfu__data.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dbe/structast__bridge__video__single__src__data.html">ast_bridge_video_single_src_data</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is used for both SINGLE_SRC mode to set what channel should be the current single video feed.  <a href="../../dd/dbe/structast__bridge__video__single__src__data.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/dad/structast__bridge__video__talker__src__data.html">ast_bridge_video_talker_src_data</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is used for both SINGLE_SRC_TALKER mode to set what channel should be the current single video feed.  <a href="../../d0/dad/structast__bridge__video__talker__src__data.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d84/structtransfer__channel__data.html">transfer_channel_data</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">AO2 object that wraps data for transfer_channel_cb.  <a href="../../da/d84/structtransfer__channel__data.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ab8ee807d2c3a21d19e16fedf35c90de8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d56/bridge_8h.html#ab8ee807d2c3a21d19e16fedf35c90de8">ast_bridge_lock</a>(bridge)&#160;&#160;&#160;<a class="el" href="../../d4/d56/bridge_8h.html#ad10a5063edd5ac337fa1163e79021995">_ast_bridge_lock</a>(bridge, __FILE__, __PRETTY_FUNCTION__, __LINE__, #bridge)</td></tr>
<tr class="memdesc:ab8ee807d2c3a21d19e16fedf35c90de8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Lock the bridge.  <a href="#ab8ee807d2c3a21d19e16fedf35c90de8">More...</a><br /></td></tr>
<tr class="separator:ab8ee807d2c3a21d19e16fedf35c90de8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04a2852f4166568323aa33cd3d0158c7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d56/bridge_8h.html#a04a2852f4166568323aa33cd3d0158c7">ast_bridge_lock_both</a>(bridge1,  bridge2)</td></tr>
<tr class="memdesc:a04a2852f4166568323aa33cd3d0158c7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Lock two bridges.  <a href="#a04a2852f4166568323aa33cd3d0158c7">More...</a><br /></td></tr>
<tr class="separator:a04a2852f4166568323aa33cd3d0158c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2739c3a2cbad57dc988580e02082295c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d56/bridge_8h.html#a2739c3a2cbad57dc988580e02082295c">ast_bridge_trylock</a>(bridge)&#160;&#160;&#160;<a class="el" href="../../d4/d56/bridge_8h.html#aa480b74d4bd30d30c07a1f7276733188">_ast_bridge_trylock</a>(bridge, __FILE__, __PRETTY_FUNCTION__, __LINE__, #bridge)</td></tr>
<tr class="memdesc:a2739c3a2cbad57dc988580e02082295c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Try locking the bridge.  <a href="#a2739c3a2cbad57dc988580e02082295c">More...</a><br /></td></tr>
<tr class="separator:a2739c3a2cbad57dc988580e02082295c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0fb66f4741ca8d106af1917a2f1aab6e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d56/bridge_8h.html#a0fb66f4741ca8d106af1917a2f1aab6e">ast_bridge_unlock</a>(bridge)&#160;&#160;&#160;<a class="el" href="../../d4/d56/bridge_8h.html#a2fa782ceb590c4d6b7dd8e7a0686f1d7">_ast_bridge_unlock</a>(bridge, __FILE__, __PRETTY_FUNCTION__, __LINE__, #bridge)</td></tr>
<tr class="memdesc:a0fb66f4741ca8d106af1917a2f1aab6e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unlock the bridge.  <a href="#a0fb66f4741ca8d106af1917a2f1aab6e">More...</a><br /></td></tr>
<tr class="separator:a0fb66f4741ca8d106af1917a2f1aab6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a097642290ac8df40ac9484221d4c9b21"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d56/bridge_8h.html#a097642290ac8df40ac9484221d4c9b21">ast_bridge_destructor_fn</a>) (struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *self)</td></tr>
<tr class="memdesc:a097642290ac8df40ac9484221d4c9b21"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroy the bridge.  <a href="#a097642290ac8df40ac9484221d4c9b21">More...</a><br /></td></tr>
<tr class="separator:a097642290ac8df40ac9484221d4c9b21"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2535ed58f3bcc4475a107f2fe512373e"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d56/bridge_8h.html#a2535ed58f3bcc4475a107f2fe512373e">ast_bridge_dissolving_fn</a>) (struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *self)</td></tr>
<tr class="memdesc:a2535ed58f3bcc4475a107f2fe512373e"><td class="mdescLeft">&#160;</td><td class="mdescRight">The bridge is being dissolved.  <a href="#a2535ed58f3bcc4475a107f2fe512373e">More...</a><br /></td></tr>
<tr class="separator:a2535ed58f3bcc4475a107f2fe512373e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a813ecb213606114d915566f867e0060a"><td class="memItemLeft" align="right" valign="top">typedef int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d56/bridge_8h.html#a813ecb213606114d915566f867e0060a">ast_bridge_merge_priority_fn</a>) (struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *self)</td></tr>
<tr class="memdesc:a813ecb213606114d915566f867e0060a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the merge priority of this bridge.  <a href="#a813ecb213606114d915566f867e0060a">More...</a><br /></td></tr>
<tr class="separator:a813ecb213606114d915566f867e0060a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2121b11e4a87e5757eec1d3053718458"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d56/bridge_8h.html#a2121b11e4a87e5757eec1d3053718458">ast_bridge_notify_masquerade_fn</a>) (struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *self, struct <a class="el" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *bridge_channel)</td></tr>
<tr class="memdesc:a2121b11e4a87e5757eec1d3053718458"><td class="mdescLeft">&#160;</td><td class="mdescRight">Notify the bridge that this channel was just masqueraded.  <a href="#a2121b11e4a87e5757eec1d3053718458">More...</a><br /></td></tr>
<tr class="separator:a2121b11e4a87e5757eec1d3053718458"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98d25ad98211b79abdfc6b5bf099b789"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d56/bridge_8h.html#a98d25ad98211b79abdfc6b5bf099b789">ast_bridge_pull_channel_fn</a>) (struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *self, struct <a class="el" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *bridge_channel)</td></tr>
<tr class="memdesc:a98d25ad98211b79abdfc6b5bf099b789"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pull this channel from the bridge.  <a href="#a98d25ad98211b79abdfc6b5bf099b789">More...</a><br /></td></tr>
<tr class="separator:a98d25ad98211b79abdfc6b5bf099b789"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa18563d3db5e663e205d040c001a376"><td class="memItemLeft" align="right" valign="top">typedef int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d56/bridge_8h.html#afa18563d3db5e663e205d040c001a376">ast_bridge_push_channel_fn</a>) (struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *self, struct <a class="el" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *bridge_channel, struct <a class="el" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *swap)</td></tr>
<tr class="memdesc:afa18563d3db5e663e205d040c001a376"><td class="mdescLeft">&#160;</td><td class="mdescRight">Push this channel into the bridge.  <a href="#afa18563d3db5e663e205d040c001a376">More...</a><br /></td></tr>
<tr class="separator:afa18563d3db5e663e205d040c001a376"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87ed18cc739a9635c4595cae783ab993"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d56/bridge_8h.html#a87ed18cc739a9635c4595cae783ab993">transfer_channel_cb</a>) (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, struct <a class="el" href="../../da/d84/structtransfer__channel__data.html">transfer_channel_data</a> *user_data, enum <a class="el" href="../../d4/d56/bridge_8h.html#a865f7ef0f91885406ab746b23eb598cd">ast_transfer_type</a> transfer_type)</td></tr>
<tr class="memdesc:a87ed18cc739a9635c4595cae783ab993"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback function type called during blind transfers.  <a href="#a87ed18cc739a9635c4595cae783ab993">More...</a><br /></td></tr>
<tr class="separator:a87ed18cc739a9635c4595cae783ab993"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a815c9b3e933dfd4b8f523cf55caa5bbf"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d56/bridge_8h.html#a815c9b3e933dfd4b8f523cf55caa5bbf">ast_bridge_capability</a> { <br />
&#160;&#160;<a class="el" href="../../d4/d56/bridge_8h.html#a815c9b3e933dfd4b8f523cf55caa5bbfaff2606e446a3b7e22fb3785a06110554">AST_BRIDGE_CAPABILITY_HOLDING</a> = (1 &lt;&lt; 0), 
<a class="el" href="../../d4/d56/bridge_8h.html#a815c9b3e933dfd4b8f523cf55caa5bbfab01df717450b48e5a7ba5003df49c955">AST_BRIDGE_CAPABILITY_EARLY</a> = (1 &lt;&lt; 1), 
<a class="el" href="../../d4/d56/bridge_8h.html#a815c9b3e933dfd4b8f523cf55caa5bbfaec2d0fff3f4f8df0d9ef6b4d9be78380">AST_BRIDGE_CAPABILITY_NATIVE</a> = (1 &lt;&lt; 2), 
<a class="el" href="../../d4/d56/bridge_8h.html#a815c9b3e933dfd4b8f523cf55caa5bbfaf483c951b835fcc35da807b6a4b12509">AST_BRIDGE_CAPABILITY_1TO1MIX</a> = (1 &lt;&lt; 3), 
<br />
&#160;&#160;<a class="el" href="../../d4/d56/bridge_8h.html#a815c9b3e933dfd4b8f523cf55caa5bbfabd40da8a498f3027c44dfa2e92d5f4ac">AST_BRIDGE_CAPABILITY_MULTIMIX</a> = (1 &lt;&lt; 4)
<br />
 }<tr class="memdesc:a815c9b3e933dfd4b8f523cf55caa5bbf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Capabilities for a bridge technology.  <a href="../../d4/d56/bridge_8h.html#a815c9b3e933dfd4b8f523cf55caa5bbf">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:a815c9b3e933dfd4b8f523cf55caa5bbf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac086b7d74fb40c2ede8514274585b101"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d56/bridge_8h.html#ac086b7d74fb40c2ede8514274585b101">ast_bridge_impart_flags</a> { <a class="el" href="../../d4/d56/bridge_8h.html#ac086b7d74fb40c2ede8514274585b101a99da763f0bd676f299a215ea9d1055db">AST_BRIDGE_IMPART_CHAN_MASK</a> = (1 &lt;&lt; 0), 
<a class="el" href="../../d4/d56/bridge_8h.html#ac086b7d74fb40c2ede8514274585b101a01be425a6fb9fefd36905b542e903087">AST_BRIDGE_IMPART_CHAN_DEPARTABLE</a> = (0 &lt;&lt; 0), 
<a class="el" href="../../d4/d56/bridge_8h.html#ac086b7d74fb40c2ede8514274585b101aecfd8e6279a21b20ee4db0ab69c847e8">AST_BRIDGE_IMPART_CHAN_INDEPENDENT</a> = (1 &lt;&lt; 0), 
<a class="el" href="../../d4/d56/bridge_8h.html#ac086b7d74fb40c2ede8514274585b101a9d897e78dc2fcd2447531e2ee0310933">AST_BRIDGE_IMPART_INHIBIT_JOIN_COLP</a> = (1 &lt;&lt; 1)
 }</td></tr>
<tr class="separator:ac086b7d74fb40c2ede8514274585b101"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad52005264bec898a8f825bd47d91cf93"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d56/bridge_8h.html#ad52005264bec898a8f825bd47d91cf93">ast_bridge_join_flags</a> { <a class="el" href="../../d4/d56/bridge_8h.html#ad52005264bec898a8f825bd47d91cf93a9106169928c6eeccad5b5ebcf762ac9d">AST_BRIDGE_JOIN_PASS_REFERENCE</a> = (1 &lt;&lt; 0), 
<a class="el" href="../../d4/d56/bridge_8h.html#ad52005264bec898a8f825bd47d91cf93a3ebef74566687cfbc25d174725fc6d56">AST_BRIDGE_JOIN_INHIBIT_JOIN_COLP</a> = (1 &lt;&lt; 1)
 }</td></tr>
<tr class="separator:ad52005264bec898a8f825bd47d91cf93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a186f44efd65f1349ca2deb11b8117534"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d56/bridge_8h.html#a186f44efd65f1349ca2deb11b8117534">ast_bridge_optimization</a> { <br />
&#160;&#160;<a class="el" href="../../d4/d56/bridge_8h.html#a186f44efd65f1349ca2deb11b8117534add0740f1c8620ab74b253de5bac26ec7">AST_BRIDGE_OPTIMIZE_SWAP_TO_CHAN_BRIDGE</a>, 
<a class="el" href="../../d4/d56/bridge_8h.html#a186f44efd65f1349ca2deb11b8117534a582d8fd99bc8f3320608f74efb142ee7">AST_BRIDGE_OPTIMIZE_SWAP_TO_PEER_BRIDGE</a>, 
<a class="el" href="../../d4/d56/bridge_8h.html#a186f44efd65f1349ca2deb11b8117534a2980a16e43b7b4f52b6c3af11bd79a56">AST_BRIDGE_OPTIMIZE_MERGE_TO_CHAN_BRIDGE</a>, 
<a class="el" href="../../d4/d56/bridge_8h.html#a186f44efd65f1349ca2deb11b8117534a83a14f41557a30da243c32b7f717ed1f">AST_BRIDGE_OPTIMIZE_MERGE_TO_PEER_BRIDGE</a>, 
<br />
&#160;&#160;<a class="el" href="../../d4/d56/bridge_8h.html#a186f44efd65f1349ca2deb11b8117534a19fe1f0ca6993cc12c518aa09fb79a79">AST_BRIDGE_OPTIMIZE_PROHIBITED</a>
<br />
 }<tr class="memdesc:a186f44efd65f1349ca2deb11b8117534"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tells, if optimization is allowed, how the optimization would be performed.  <a href="../../d4/d56/bridge_8h.html#a186f44efd65f1349ca2deb11b8117534">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:a186f44efd65f1349ca2deb11b8117534"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab388dac5f5c172d7f03c54487afac906"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d56/bridge_8h.html#ab388dac5f5c172d7f03c54487afac906">ast_bridge_video_mode_type</a> { <a class="el" href="../../d4/d56/bridge_8h.html#ab388dac5f5c172d7f03c54487afac906a51708384777e8722fae674ea8db89f54">AST_BRIDGE_VIDEO_MODE_NONE</a> = 0, 
<a class="el" href="../../d4/d56/bridge_8h.html#ab388dac5f5c172d7f03c54487afac906a1e27ac207e54a30dfdabc463bd18d43c">AST_BRIDGE_VIDEO_MODE_SINGLE_SRC</a>, 
<a class="el" href="../../d4/d56/bridge_8h.html#ab388dac5f5c172d7f03c54487afac906a48458f43dd7ef0372614e5848f9226e0">AST_BRIDGE_VIDEO_MODE_TALKER_SRC</a>, 
<a class="el" href="../../d4/d56/bridge_8h.html#ab388dac5f5c172d7f03c54487afac906ac9992c5dc76155a013d0a5804c8f2bb7">AST_BRIDGE_VIDEO_MODE_SFU</a>
 }<tr class="memdesc:ab388dac5f5c172d7f03c54487afac906"><td class="mdescLeft">&#160;</td><td class="mdescRight">Video source modes.  <a href="../../d4/d56/bridge_8h.html#ab388dac5f5c172d7f03c54487afac906">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:ab388dac5f5c172d7f03c54487afac906"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22e0b20cf0d941c2acc0710600c1c35b"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d56/bridge_8h.html#a22e0b20cf0d941c2acc0710600c1c35b">ast_bridge_video_sfu_remb_behavior</a> { <br />
&#160;&#160;<a class="el" href="../../d4/d56/bridge_8h.html#a22e0b20cf0d941c2acc0710600c1c35ba4643daa2205912210019f2a54e567964">AST_BRIDGE_VIDEO_SFU_REMB_AVERAGE</a> = 0, 
<a class="el" href="../../d4/d56/bridge_8h.html#a22e0b20cf0d941c2acc0710600c1c35ba14ab1a13df8c27aa690625d667f52f3a">AST_BRIDGE_VIDEO_SFU_REMB_LOWEST</a>, 
<a class="el" href="../../d4/d56/bridge_8h.html#a22e0b20cf0d941c2acc0710600c1c35ba83b326eea831aaf8864b88955e7fe7a4">AST_BRIDGE_VIDEO_SFU_REMB_HIGHEST</a>, 
<a class="el" href="../../d4/d56/bridge_8h.html#a22e0b20cf0d941c2acc0710600c1c35bab2a59c3a7d08362c5c99bbce00028d8e">AST_BRIDGE_VIDEO_SFU_REMB_AVERAGE_ALL</a>, 
<br />
&#160;&#160;<a class="el" href="../../d4/d56/bridge_8h.html#a22e0b20cf0d941c2acc0710600c1c35baed87d2e68e3a4ed12e09eee7a1993c51">AST_BRIDGE_VIDEO_SFU_REMB_LOWEST_ALL</a>, 
<a class="el" href="../../d4/d56/bridge_8h.html#a22e0b20cf0d941c2acc0710600c1c35ba1fa9d011ae5e2f298c3875155a2a3e2f">AST_BRIDGE_VIDEO_SFU_REMB_HIGHEST_ALL</a>, 
<a class="el" href="../../d4/d56/bridge_8h.html#a22e0b20cf0d941c2acc0710600c1c35bac1c124829151b23928ceb83a7894be7d">AST_BRIDGE_VIDEO_SFU_REMB_FORCE</a>
<br />
 }<tr class="memdesc:a22e0b20cf0d941c2acc0710600c1c35b"><td class="mdescLeft">&#160;</td><td class="mdescRight">REMB report behaviors.  <a href="../../d4/d56/bridge_8h.html#a22e0b20cf0d941c2acc0710600c1c35b">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:a22e0b20cf0d941c2acc0710600c1c35b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aadbf879fadde4b1bb7832b1390cc8c17"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d56/bridge_8h.html#aadbf879fadde4b1bb7832b1390cc8c17">ast_transfer_result</a> { <a class="el" href="../../d4/d56/bridge_8h.html#aadbf879fadde4b1bb7832b1390cc8c17a6b0053a1a47d100ef5f155f068c08934">AST_BRIDGE_TRANSFER_SUCCESS</a>, 
<a class="el" href="../../d4/d56/bridge_8h.html#aadbf879fadde4b1bb7832b1390cc8c17a10037a900428dbddb31e85e4481bb4da">AST_BRIDGE_TRANSFER_NOT_PERMITTED</a>, 
<a class="el" href="../../d4/d56/bridge_8h.html#aadbf879fadde4b1bb7832b1390cc8c17a93e2a5d4517067d0b9a0e39b0cdc5df8">AST_BRIDGE_TRANSFER_INVALID</a>, 
<a class="el" href="../../d4/d56/bridge_8h.html#aadbf879fadde4b1bb7832b1390cc8c17aeebe667b42c8e7993a9f5f4c45e6da25">AST_BRIDGE_TRANSFER_FAIL</a>
 }</td></tr>
<tr class="separator:aadbf879fadde4b1bb7832b1390cc8c17"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a865f7ef0f91885406ab746b23eb598cd"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d56/bridge_8h.html#a865f7ef0f91885406ab746b23eb598cd">ast_transfer_type</a> { <a class="el" href="../../d4/d56/bridge_8h.html#a865f7ef0f91885406ab746b23eb598cda073210b9d7d16a18abc6fe85c8ea66d4">AST_BRIDGE_TRANSFER_SINGLE_PARTY</a>, 
<a class="el" href="../../d4/d56/bridge_8h.html#a865f7ef0f91885406ab746b23eb598cdaa85cad6eafcb0edc223c975e0cf3b296">AST_BRIDGE_TRANSFER_MULTI_PARTY</a>
 }</td></tr>
<tr class="separator:a865f7ef0f91885406ab746b23eb598cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ad10a5063edd5ac337fa1163e79021995"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d56/bridge_8h.html#ad10a5063edd5ac337fa1163e79021995">_ast_bridge_lock</a> (struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *bridge, const char *file, const char *function, int line, const char *<a class="el" href="../../dc/df2/ast__expr2f_8c.html#a1b0936415a643c88ce543099c10e0d7f">var</a>)</td></tr>
<tr class="separator:ad10a5063edd5ac337fa1163e79021995"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa480b74d4bd30d30c07a1f7276733188"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d56/bridge_8h.html#aa480b74d4bd30d30c07a1f7276733188">_ast_bridge_trylock</a> (struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *bridge, const char *file, const char *function, int line, const char *<a class="el" href="../../dc/df2/ast__expr2f_8c.html#a1b0936415a643c88ce543099c10e0d7f">var</a>)</td></tr>
<tr class="separator:aa480b74d4bd30d30c07a1f7276733188"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2fa782ceb590c4d6b7dd8e7a0686f1d7"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d56/bridge_8h.html#a2fa782ceb590c4d6b7dd8e7a0686f1d7">_ast_bridge_unlock</a> (struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *bridge, const char *file, const char *function, int line, const char *<a class="el" href="../../dc/df2/ast__expr2f_8c.html#a1b0936415a643c88ce543099c10e0d7f">var</a>)</td></tr>
<tr class="separator:a2fa782ceb590c4d6b7dd8e7a0686f1d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32767ed0f51795590f41a662523c88b0"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d56/bridge_8h.html#a32767ed0f51795590f41a662523c88b0">ast_bridge_base_new</a> (uint32_t capabilities, unsigned int flags, const char *creator, const char *<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, const char *<a class="el" href="../../d1/da4/res__corosync_8c.html#a2465fd4497a7402ad72da7d6e03f9934">id</a>)</td></tr>
<tr class="memdesc:a32767ed0f51795590f41a662523c88b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a new base class bridge.  <a href="#a32767ed0f51795590f41a662523c88b0">More...</a><br /></td></tr>
<tr class="separator:a32767ed0f51795590f41a662523c88b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0075715d330c8492e03c6d3ca3f48e13"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d56/bridge_8h.html#a0075715d330c8492e03c6d3ca3f48e13">ast_bridge_depart</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan)</td></tr>
<tr class="memdesc:a0075715d330c8492e03c6d3ca3f48e13"><td class="mdescLeft">&#160;</td><td class="mdescRight">Depart a channel from a bridge.  <a href="#a0075715d330c8492e03c6d3ca3f48e13">More...</a><br /></td></tr>
<tr class="separator:a0075715d330c8492e03c6d3ca3f48e13"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4adad484788bb018b8699eeed2ddfedd"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d56/bridge_8h.html#a4adad484788bb018b8699eeed2ddfedd">ast_bridge_destroy</a> (struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *bridge, int cause)</td></tr>
<tr class="memdesc:a4adad484788bb018b8699eeed2ddfedd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroy a bridge.  <a href="#a4adad484788bb018b8699eeed2ddfedd">More...</a><br /></td></tr>
<tr class="separator:a4adad484788bb018b8699eeed2ddfedd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a9bbd9a809f8f52c2945df40ac89abb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d56/bridge_8h.html#a0a9bbd9a809f8f52c2945df40ac89abb">ast_bridge_features_remove</a> (struct <a class="el" href="../../db/dba/structast__bridge__features.html">ast_bridge_features</a> *features, enum <a class="el" href="../../dc/d7a/bridge__features_8h.html#a41510c1f43cb3401f5c7c88d9c9a8d11">ast_bridge_hook_remove_flags</a> flags)</td></tr>
<tr class="memdesc:a0a9bbd9a809f8f52c2945df40ac89abb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove marked bridge channel feature hooks.  <a href="#a0a9bbd9a809f8f52c2945df40ac89abb">More...</a><br /></td></tr>
<tr class="separator:a0a9bbd9a809f8f52c2945df40ac89abb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69034688e4e730fca4c3e12b7ac38300"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d56/bridge_8h.html#a69034688e4e730fca4c3e12b7ac38300">ast_bridge_find_by_id</a> (const char *bridge_id)</td></tr>
<tr class="memdesc:a69034688e4e730fca4c3e12b7ac38300"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find bridge by id.  <a href="#a69034688e4e730fca4c3e12b7ac38300">More...</a><br /></td></tr>
<tr class="separator:a69034688e4e730fca4c3e12b7ac38300"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a582e1dd73a483ac881cff01fa07f39ae"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d56/bridge_8h.html#a582e1dd73a483ac881cff01fa07f39ae">ast_bridge_impart</a> (struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *bridge, struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *swap, struct <a class="el" href="../../db/dba/structast__bridge__features.html">ast_bridge_features</a> *features, enum <a class="el" href="../../d4/d56/bridge_8h.html#ac086b7d74fb40c2ede8514274585b101">ast_bridge_impart_flags</a> flags) <a class="el" href="../../d4/dd1/compiler_8h.html#ab3b3fbf14bd20f49a667b208fee6a07a">attribute_warn_unused_result</a></td></tr>
<tr class="memdesc:a582e1dd73a483ac881cff01fa07f39ae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Impart a channel to a bridge (non-blocking)  <a href="#a582e1dd73a483ac881cff01fa07f39ae">More...</a><br /></td></tr>
<tr class="separator:a582e1dd73a483ac881cff01fa07f39ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb755c02424a98c8ec3bd636c609e120"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d56/bridge_8h.html#adb755c02424a98c8ec3bd636c609e120">ast_bridge_is_video_src</a> (struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *bridge, struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan)</td></tr>
<tr class="memdesc:adb755c02424a98c8ec3bd636c609e120"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine if a channel is a video src for the bridge.  <a href="#adb755c02424a98c8ec3bd636c609e120">More...</a><br /></td></tr>
<tr class="separator:adb755c02424a98c8ec3bd636c609e120"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a116a27b8e1e111729ee1828d4fab6b5a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d56/bridge_8h.html#a116a27b8e1e111729ee1828d4fab6b5a">ast_bridge_join</a> (struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *bridge, struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *swap, struct <a class="el" href="../../db/dba/structast__bridge__features.html">ast_bridge_features</a> *features, struct <a class="el" href="../../d6/d97/structast__bridge__tech__optimizations.html">ast_bridge_tech_optimizations</a> *tech_args, enum <a class="el" href="../../d4/d56/bridge_8h.html#ad52005264bec898a8f825bd47d91cf93">ast_bridge_join_flags</a> flags)</td></tr>
<tr class="memdesc:a116a27b8e1e111729ee1828d4fab6b5a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Join a channel to a bridge (blocking)  <a href="#a116a27b8e1e111729ee1828d4fab6b5a">More...</a><br /></td></tr>
<tr class="separator:a116a27b8e1e111729ee1828d4fab6b5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7132d0a0b71844641ce3a1035e05c67b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d56/bridge_8h.html#a7132d0a0b71844641ce3a1035e05c67b">ast_bridge_kick</a> (struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *bridge, struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan)</td></tr>
<tr class="memdesc:a7132d0a0b71844641ce3a1035e05c67b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Kick a channel from a bridge.  <a href="#a7132d0a0b71844641ce3a1035e05c67b">More...</a><br /></td></tr>
<tr class="separator:a7132d0a0b71844641ce3a1035e05c67b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa88f0cbb002c6f26133bb5d277d4dc49"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d56/bridge_8h.html#aa88f0cbb002c6f26133bb5d277d4dc49">ast_bridge_merge</a> (struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *dst_bridge, struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *src_bridge, int merge_best_direction, struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> **kick_me, unsigned int num_kick)</td></tr>
<tr class="memdesc:aa88f0cbb002c6f26133bb5d277d4dc49"><td class="mdescLeft">&#160;</td><td class="mdescRight">Merge two bridges together.  <a href="#aa88f0cbb002c6f26133bb5d277d4dc49">More...</a><br /></td></tr>
<tr class="separator:aa88f0cbb002c6f26133bb5d277d4dc49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6bae9b013c815c40d0414080455e3592"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d56/bridge_8h.html#a6bae9b013c815c40d0414080455e3592">ast_bridge_merge_inhibit</a> (struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *bridge, int <a class="el" href="../../d0/d29/chan__pjsip_8c.html#a4e2e6fb7d874f0d2deddd2ecfc8afb32">request</a>)</td></tr>
<tr class="memdesc:a6bae9b013c815c40d0414080455e3592"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adjust the bridge merge inhibit request count.  <a href="#a6bae9b013c815c40d0414080455e3592">More...</a><br /></td></tr>
<tr class="separator:a6bae9b013c815c40d0414080455e3592"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0e3d51ad653134a92545dec4610b83a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d56/bridge_8h.html#af0e3d51ad653134a92545dec4610b83a">ast_bridge_move</a> (struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *dst_bridge, struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *src_bridge, struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *swap, int attempt_recovery)</td></tr>
<tr class="memdesc:af0e3d51ad653134a92545dec4610b83a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Move a channel from one bridge to another.  <a href="#af0e3d51ad653134a92545dec4610b83a">More...</a><br /></td></tr>
<tr class="separator:af0e3d51ad653134a92545dec4610b83a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb11f378e45f0beb05de964b3af9a6bc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d56/bridge_8h.html#aeb11f378e45f0beb05de964b3af9a6bc">ast_bridge_notify_masquerade</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan)</td></tr>
<tr class="memdesc:aeb11f378e45f0beb05de964b3af9a6bc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Notify bridging that this channel was just masqueraded.  <a href="#aeb11f378e45f0beb05de964b3af9a6bc">More...</a><br /></td></tr>
<tr class="separator:aeb11f378e45f0beb05de964b3af9a6bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a283cf43498dde27adebbc85679b2f2d5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d56/bridge_8h.html#a283cf43498dde27adebbc85679b2f2d5">ast_bridge_number_video_src</a> (struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *bridge)</td></tr>
<tr class="memdesc:a283cf43498dde27adebbc85679b2f2d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of video sources currently active in the bridge.  <a href="#a283cf43498dde27adebbc85679b2f2d5">More...</a><br /></td></tr>
<tr class="separator:a283cf43498dde27adebbc85679b2f2d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08a41371fb4f020d645a0e6f50434005"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d56/bridge_8h.html#a08a41371fb4f020d645a0e6f50434005">ast_bridge_peer</a> (struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *bridge, struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan)</td></tr>
<tr class="memdesc:a08a41371fb4f020d645a0e6f50434005"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the channel's bridge peer only if the bridge is two-party.  <a href="#a08a41371fb4f020d645a0e6f50434005">More...</a><br /></td></tr>
<tr class="separator:a08a41371fb4f020d645a0e6f50434005"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a446fdf2b4bc50dd4cf7325c6b01c075c"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d56/bridge_8h.html#a446fdf2b4bc50dd4cf7325c6b01c075c">ast_bridge_peer_nolock</a> (struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *bridge, struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan)</td></tr>
<tr class="memdesc:a446fdf2b4bc50dd4cf7325c6b01c075c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the channel's bridge peer only if the bridge is two-party.  <a href="#a446fdf2b4bc50dd4cf7325c6b01c075c">More...</a><br /></td></tr>
<tr class="separator:a446fdf2b4bc50dd4cf7325c6b01c075c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad953e3f044237ed0337e4e46479fbd4f"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d2/da9/structao2__container.html">ao2_container</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d56/bridge_8h.html#ad953e3f044237ed0337e4e46479fbd4f">ast_bridge_peers</a> (struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *bridge)</td></tr>
<tr class="memdesc:ad953e3f044237ed0337e4e46479fbd4f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a container of all channels in the bridge.  <a href="#ad953e3f044237ed0337e4e46479fbd4f">More...</a><br /></td></tr>
<tr class="separator:ad953e3f044237ed0337e4e46479fbd4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad45098162b2df09235f632efb08a9681"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d2/da9/structao2__container.html">ao2_container</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d56/bridge_8h.html#ad45098162b2df09235f632efb08a9681">ast_bridge_peers_nolock</a> (struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *bridge)</td></tr>
<tr class="memdesc:ad45098162b2df09235f632efb08a9681"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a container of all channels in the bridge.  <a href="#ad45098162b2df09235f632efb08a9681">More...</a><br /></td></tr>
<tr class="separator:ad45098162b2df09235f632efb08a9681"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a80435538e9bd93331f54d6aac9201b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d56/bridge_8h.html#a4a80435538e9bd93331f54d6aac9201b">ast_bridge_queue_action</a> (struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *bridge, struct <a class="el" href="../../d0/d99/structast__frame.html">ast_frame</a> *action)</td></tr>
<tr class="memdesc:a4a80435538e9bd93331f54d6aac9201b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Put an action onto the specified bridge.  <a href="#a4a80435538e9bd93331f54d6aac9201b">More...</a><br /></td></tr>
<tr class="separator:a4a80435538e9bd93331f54d6aac9201b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef93dd372b07227b9aa10c530d5039f8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d56/bridge_8h.html#aef93dd372b07227b9aa10c530d5039f8">ast_bridge_queue_everyone_else</a> (struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *bridge, struct <a class="el" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *bridge_channel, struct <a class="el" href="../../d0/d99/structast__frame.html">ast_frame</a> *frame)</td></tr>
<tr class="memdesc:aef93dd372b07227b9aa10c530d5039f8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Queue the given frame to everyone else.  <a href="#aef93dd372b07227b9aa10c530d5039f8">More...</a><br /></td></tr>
<tr class="separator:aef93dd372b07227b9aa10c530d5039f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66d6a521530f4fb208eb8ee33e257b6c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d56/bridge_8h.html#a66d6a521530f4fb208eb8ee33e257b6c">ast_bridge_remove</a> (struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *bridge, struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan)</td></tr>
<tr class="memdesc:a66d6a521530f4fb208eb8ee33e257b6c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove a channel from a bridge.  <a href="#a66d6a521530f4fb208eb8ee33e257b6c">More...</a><br /></td></tr>
<tr class="separator:a66d6a521530f4fb208eb8ee33e257b6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98000e740561c2e40e39f9edd191c38a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d56/bridge_8h.html#a98000e740561c2e40e39f9edd191c38a">ast_bridge_remove_video_src</a> (struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *bridge, struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan)</td></tr>
<tr class="memdesc:a98000e740561c2e40e39f9edd191c38a"><td class="mdescLeft">&#160;</td><td class="mdescRight">remove a channel as a source of video for the bridge.  <a href="#a98000e740561c2e40e39f9edd191c38a">More...</a><br /></td></tr>
<tr class="separator:a98000e740561c2e40e39f9edd191c38a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a214c6742929d7db707c94d9856908e61"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d56/bridge_8h.html#a214c6742929d7db707c94d9856908e61">ast_bridge_set_binaural_active</a> (struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *bridge, unsigned int binaural_active)</td></tr>
<tr class="memdesc:a214c6742929d7db707c94d9856908e61"><td class="mdescLeft">&#160;</td><td class="mdescRight">Activates the use of binaural signals in a conference bridge.  <a href="#a214c6742929d7db707c94d9856908e61">More...</a><br /></td></tr>
<tr class="separator:a214c6742929d7db707c94d9856908e61"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3e15bc4236a2a074953cfb1c4530cf5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d56/bridge_8h.html#af3e15bc4236a2a074953cfb1c4530cf5">ast_bridge_set_internal_sample_rate</a> (struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *bridge, unsigned int sample_rate)</td></tr>
<tr class="memdesc:af3e15bc4236a2a074953cfb1c4530cf5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adjust the internal mixing sample rate of a bridge used during multimix mode.  <a href="#af3e15bc4236a2a074953cfb1c4530cf5">More...</a><br /></td></tr>
<tr class="separator:af3e15bc4236a2a074953cfb1c4530cf5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d4866f7184c581cd87f93ee0f2fca63"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d56/bridge_8h.html#a3d4866f7184c581cd87f93ee0f2fca63">ast_bridge_set_maximum_sample_rate</a> (struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *bridge, unsigned int sample_rate)</td></tr>
<tr class="memdesc:a3d4866f7184c581cd87f93ee0f2fca63"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adjust the maximum mixing sample rate of a bridge used during multimix mode.  <a href="#a3d4866f7184c581cd87f93ee0f2fca63">More...</a><br /></td></tr>
<tr class="separator:a3d4866f7184c581cd87f93ee0f2fca63"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a14f1c30f04c6d50dac556cf53e1201"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d56/bridge_8h.html#a8a14f1c30f04c6d50dac556cf53e1201">ast_bridge_set_mixing_interval</a> (struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *bridge, unsigned int mixing_interval)</td></tr>
<tr class="memdesc:a8a14f1c30f04c6d50dac556cf53e1201"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adjust the internal mixing interval of a bridge used during multimix mode.  <a href="#a8a14f1c30f04c6d50dac556cf53e1201">More...</a><br /></td></tr>
<tr class="separator:a8a14f1c30f04c6d50dac556cf53e1201"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02bd31522656ae0e86ec0d4cfdace1b1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d56/bridge_8h.html#a02bd31522656ae0e86ec0d4cfdace1b1">ast_bridge_set_remb_estimated_bitrate</a> (struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *bridge, float estimated_bitrate)</td></tr>
<tr class="memdesc:a02bd31522656ae0e86ec0d4cfdace1b1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Force the REMB report estimated bitrate to a specific max value.  <a href="#a02bd31522656ae0e86ec0d4cfdace1b1">More...</a><br /></td></tr>
<tr class="separator:a02bd31522656ae0e86ec0d4cfdace1b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7f6701ef6b78dea4da4723994d9c211"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d56/bridge_8h.html#ae7f6701ef6b78dea4da4723994d9c211">ast_bridge_set_remb_send_interval</a> (struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *bridge, unsigned int remb_send_interval)</td></tr>
<tr class="memdesc:ae7f6701ef6b78dea4da4723994d9c211"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the interval at which a combined REMB frame will be sent to video sources.  <a href="#ae7f6701ef6b78dea4da4723994d9c211">More...</a><br /></td></tr>
<tr class="separator:ae7f6701ef6b78dea4da4723994d9c211"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaba0073c46b7c4e52f55a0f34036f43b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d56/bridge_8h.html#aaba0073c46b7c4e52f55a0f34036f43b">ast_bridge_set_send_sdp_label</a> (struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *bridge, unsigned int send_sdp_label)</td></tr>
<tr class="memdesc:aaba0073c46b7c4e52f55a0f34036f43b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Controls whether to send a "label" attribute in each stream in an SDP.  <a href="#aaba0073c46b7c4e52f55a0f34036f43b">More...</a><br /></td></tr>
<tr class="separator:aaba0073c46b7c4e52f55a0f34036f43b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34a177a8cf79f8158638ebf6ae05ac1c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d56/bridge_8h.html#a34a177a8cf79f8158638ebf6ae05ac1c">ast_bridge_set_sfu_video_mode</a> (struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *bridge)</td></tr>
<tr class="memdesc:a34a177a8cf79f8158638ebf6ae05ac1c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the bridge to be a selective forwarding unit.  <a href="#a34a177a8cf79f8158638ebf6ae05ac1c">More...</a><br /></td></tr>
<tr class="separator:a34a177a8cf79f8158638ebf6ae05ac1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8995453900a91100f3cd936594f41435"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d56/bridge_8h.html#a8995453900a91100f3cd936594f41435">ast_bridge_set_single_src_video_mode</a> (struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *bridge, struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *video_src_chan)</td></tr>
<tr class="memdesc:a8995453900a91100f3cd936594f41435"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set a bridge to feed a single video source to all participants.  <a href="#a8995453900a91100f3cd936594f41435">More...</a><br /></td></tr>
<tr class="separator:a8995453900a91100f3cd936594f41435"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a2e9bb75a3d3276cd8153e1f4a4a389"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d56/bridge_8h.html#a0a2e9bb75a3d3276cd8153e1f4a4a389">ast_bridge_set_talker_src_video_mode</a> (struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *bridge)</td></tr>
<tr class="memdesc:a0a2e9bb75a3d3276cd8153e1f4a4a389"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the bridge to pick the strongest talker supporting video as the single source video feed.  <a href="#a0a2e9bb75a3d3276cd8153e1f4a4a389">More...</a><br /></td></tr>
<tr class="separator:a0a2e9bb75a3d3276cd8153e1f4a4a389"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8878fc7451a873f155aba20b0b31abbb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d56/bridge_8h.html#a8878fc7451a873f155aba20b0b31abbb">ast_bridge_set_transfer_variables</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, const char *<a class="el" href="../../d5/dde/test__func__file_8c.html#a8556878012feffc9e0beb86cd78f424d">value</a>, int is_attended)</td></tr>
<tr class="memdesc:a8878fc7451a873f155aba20b0b31abbb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the relevant transfer variables for a single channel.  <a href="#a8878fc7451a873f155aba20b0b31abbb">More...</a><br /></td></tr>
<tr class="separator:a8878fc7451a873f155aba20b0b31abbb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46b990e3c3b853c3f9d19f2924dff5d1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d56/bridge_8h.html#a46b990e3c3b853c3f9d19f2924dff5d1">ast_bridge_set_video_update_discard</a> (struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *bridge, unsigned int video_update_discard)</td></tr>
<tr class="memdesc:a46b990e3c3b853c3f9d19f2924dff5d1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the amount of time to discard subsequent video updates after a video update has been sent.  <a href="#a46b990e3c3b853c3f9d19f2924dff5d1">More...</a><br /></td></tr>
<tr class="separator:a46b990e3c3b853c3f9d19f2924dff5d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85bc0d4138ac2af7b207d8f1325f051a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d56/bridge_8h.html#a85bc0d4138ac2af7b207d8f1325f051a">ast_bridge_suspend</a> (struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *bridge, struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan)</td></tr>
<tr class="memdesc:a85bc0d4138ac2af7b207d8f1325f051a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Suspend a channel temporarily from a bridge.  <a href="#a85bc0d4138ac2af7b207d8f1325f051a">More...</a><br /></td></tr>
<tr class="separator:a85bc0d4138ac2af7b207d8f1325f051a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf7de35a81822873b105c08e1c22826f"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d56/bridge_8h.html#acf7de35a81822873b105c08e1c22826f">ast_bridge_transfer_acquire_bridge</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan)</td></tr>
<tr class="memdesc:acf7de35a81822873b105c08e1c22826f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Acquire the channel's bridge for transfer purposes.  <a href="#acf7de35a81822873b105c08e1c22826f">More...</a><br /></td></tr>
<tr class="separator:acf7de35a81822873b105c08e1c22826f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec45146e91e4d8bc2a7d2cf083c4dac0"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="../../d4/d56/bridge_8h.html#aadbf879fadde4b1bb7832b1390cc8c17">ast_transfer_result</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d56/bridge_8h.html#aec45146e91e4d8bc2a7d2cf083c4dac0">ast_bridge_transfer_attended</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *to_transferee, struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *to_transfer_target)</td></tr>
<tr class="memdesc:aec45146e91e4d8bc2a7d2cf083c4dac0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Attended transfer.  <a href="#aec45146e91e4d8bc2a7d2cf083c4dac0">More...</a><br /></td></tr>
<tr class="separator:aec45146e91e4d8bc2a7d2cf083c4dac0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a982e0e652b9f03abf1ec584c137791a3"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="../../d4/d56/bridge_8h.html#aadbf879fadde4b1bb7832b1390cc8c17">ast_transfer_result</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d56/bridge_8h.html#a982e0e652b9f03abf1ec584c137791a3">ast_bridge_transfer_blind</a> (int is_external, struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *transferer, const char *<a class="el" href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>, const char *<a class="el" href="../../da/dde/chan__phone_8c.html#a579ca8125bbf48d9ce8691d522f99933">context</a>, <a class="el" href="../../d4/d56/bridge_8h.html#a87ed18cc739a9635c4595cae783ab993">transfer_channel_cb</a> new_channel_cb, void *user_data)</td></tr>
<tr class="memdesc:a982e0e652b9f03abf1ec584c137791a3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Blind transfer target to the extension and context provided.  <a href="#a982e0e652b9f03abf1ec584c137791a3">More...</a><br /></td></tr>
<tr class="separator:a982e0e652b9f03abf1ec584c137791a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acbc344c8fa0a95134e759c71b87af890"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d56/bridge_8h.html#acbc344c8fa0a95134e759c71b87af890">ast_bridge_unreal_optimize_out</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *peer, struct <a class="el" href="../../d6/df3/structast__unreal__pvt.html">ast_unreal_pvt</a> *pvt)</td></tr>
<tr class="memdesc:acbc344c8fa0a95134e759c71b87af890"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check and optimize out the unreal channels between bridges.  <a href="#acbc344c8fa0a95134e759c71b87af890">More...</a><br /></td></tr>
<tr class="separator:acbc344c8fa0a95134e759c71b87af890"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab4cd1153d39a6744eca6a84d5255820"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d56/bridge_8h.html#aab4cd1153d39a6744eca6a84d5255820">ast_bridge_unsuspend</a> (struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *bridge, struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan)</td></tr>
<tr class="memdesc:aab4cd1153d39a6744eca6a84d5255820"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unsuspend a channel from a bridge.  <a href="#aab4cd1153d39a6744eca6a84d5255820">More...</a><br /></td></tr>
<tr class="separator:aab4cd1153d39a6744eca6a84d5255820"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a000c2454b92a034dcaa414c166e156f3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d56/bridge_8h.html#a000c2454b92a034dcaa414c166e156f3">ast_bridge_update_talker_src_video_mode</a> (struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *bridge, struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, int talker_energy, int is_keyfame)</td></tr>
<tr class="memdesc:a000c2454b92a034dcaa414c166e156f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update information about talker energy for talker src video mode.  <a href="#a000c2454b92a034dcaa414c166e156f3">More...</a><br /></td></tr>
<tr class="separator:a000c2454b92a034dcaa414c166e156f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67a0030855111322bb27b3502345adc6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d56/bridge_8h.html#a67a0030855111322bb27b3502345adc6">ast_bridge_vars_set</a> (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, const char *<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, const char *pvtid)</td></tr>
<tr class="memdesc:a67a0030855111322bb27b3502345adc6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets BRIDGECHANNEL and BRIDGEPVTCALLID for a channel.  <a href="#a67a0030855111322bb27b3502345adc6">More...</a><br /></td></tr>
<tr class="separator:a67a0030855111322bb27b3502345adc6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a2b1e82e019faba42fa278f7a69a699"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d56/bridge_8h.html#a2a2b1e82e019faba42fa278f7a69a699">ast_bridge_video_mode_to_string</a> (enum <a class="el" href="../../d4/d56/bridge_8h.html#ab388dac5f5c172d7f03c54487afac906">ast_bridge_video_mode_type</a> video_mode)</td></tr>
<tr class="memdesc:a2a2b1e82e019faba42fa278f7a69a699"><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts an enum representation of a bridge video mode to string.  <a href="#a2a2b1e82e019faba42fa278f7a69a699">More...</a><br /></td></tr>
<tr class="separator:a2a2b1e82e019faba42fa278f7a69a699"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9fc36aaff74fae0efd0f683353baa7e"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d2/da9/structao2__container.html">ao2_container</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d56/bridge_8h.html#ab9fc36aaff74fae0efd0f683353baa7e">ast_bridges</a> (void)</td></tr>
<tr class="memdesc:ab9fc36aaff74fae0efd0f683353baa7e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the global bridges container.  <a href="#ab9fc36aaff74fae0efd0f683353baa7e">More...</a><br /></td></tr>
<tr class="separator:ab9fc36aaff74fae0efd0f683353baa7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad460c5de90f3a8925c9149bbacce65f8"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="../../d4/d56/bridge_8h.html#a186f44efd65f1349ca2deb11b8117534">ast_bridge_optimization</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d56/bridge_8h.html#ad460c5de90f3a8925c9149bbacce65f8">ast_bridges_allow_optimization</a> (struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *chan_bridge, struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *peer_bridge)</td></tr>
<tr class="memdesc:ad460c5de90f3a8925c9149bbacce65f8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine if bridges allow for optimization to occur betweem them.  <a href="#ad460c5de90f3a8925c9149bbacce65f8">More...</a><br /></td></tr>
<tr class="separator:ad460c5de90f3a8925c9149bbacce65f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5bff6bf264928e1fff47eb6968192228"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d56/bridge_8h.html#a5bff6bf264928e1fff47eb6968192228">ast_brige_set_remb_behavior</a> (struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *bridge, enum <a class="el" href="../../d4/d56/bridge_8h.html#a22e0b20cf0d941c2acc0710600c1c35b">ast_bridge_video_sfu_remb_behavior</a> behavior)</td></tr>
<tr class="memdesc:a5bff6bf264928e1fff47eb6968192228"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the REMB report generation behavior on a bridge.  <a href="#a5bff6bf264928e1fff47eb6968192228">More...</a><br /></td></tr>
<tr class="separator:a5bff6bf264928e1fff47eb6968192228"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a5a2fef16c6520d265d7f81002eb96ee7"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d2/dd3/structast__bridge__methods.html">ast_bridge_methods</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d56/bridge_8h.html#a5a2fef16c6520d265d7f81002eb96ee7">ast_bridge_base_v_table</a></td></tr>
<tr class="memdesc:a5a2fef16c6520d265d7f81002eb96ee7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Bridge base class virtual method table.  <a href="#a5a2fef16c6520d265d7f81002eb96ee7">More...</a><br /></td></tr>
<tr class="separator:a5a2fef16c6520d265d7f81002eb96ee7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Bridging API. </p>
<dl class="section author"><dt>Author</dt><dd>Richard Mudgett <a href="#" onclick="location.href='mai'+'lto:'+'rmu'+'dg'+'ett'+'@d'+'igi'+'um'+'.co'+'m'; return false;">rmudg<span style="display: none;">.nosp@m.</span>ett@<span style="display: none;">.nosp@m.</span>digiu<span style="display: none;">.nosp@m.</span>m.co<span style="display: none;">.nosp@m.</span>m</a> </dd>
<dd>
Joshua Colp <a href="#" onclick="location.href='mai'+'lto:'+'jco'+'lp'+'@di'+'gi'+'um.'+'co'+'m'; return false;">jcolp<span style="display: none;">.nosp@m.</span>@dig<span style="display: none;">.nosp@m.</span>ium.c<span style="display: none;">.nosp@m.</span>om</a> <a class="el" href="../../d8/dea/AstBridging.html">Bridging API</a></dd></dl>
<p>See Also: </p><ul>
<li><a class="el" href="../../d8/d87/AstCREDITS.html">CREDITS</a> </li>
</ul>

<p class="definition">Definition in file <a class="el" href="../../d4/d56/bridge_8h_source.html">bridge.h</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ab8ee807d2c3a21d19e16fedf35c90de8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab8ee807d2c3a21d19e16fedf35c90de8">&#9670;&nbsp;</a></span>ast_bridge_lock</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ast_bridge_lock</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">bridge</td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="../../d4/d56/bridge_8h.html#ad10a5063edd5ac337fa1163e79021995">_ast_bridge_lock</a>(bridge, __FILE__, __PRETTY_FUNCTION__, __LINE__, #bridge)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Lock the bridge. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bridge</td><td>Bridge to lock</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Nothing </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d4/d56/bridge_8h_source.html#l00480">480</a> of file <a class="el" href="../../d4/d56/bridge_8h_source.html">bridge.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d0b/resource__bridges_8c_source.html#l01051">ast_ari_bridges_clear_video_source()</a>, <a class="el" href="../../db/d0b/resource__bridges_8c_source.html#l00925">ast_ari_bridges_create()</a>, <a class="el" href="../../db/d0b/resource__bridges_8c_source.html#l00954">ast_ari_bridges_create_with_id()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l03630">ast_bridge_basic_set_flags()</a>, <a class="el" href="../../d3/d32/bridge__channel_8c_source.html#l00222">ast_bridge_channel_lock_bridge()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l00970">ast_bridge_destroy()</a>, <a class="el" href="../../da/d0f/stasis__bridges_8c_source.html#l01378">ast_bridge_get_snapshot()</a>, <a class="el" href="../../da/d0f/stasis__bridges_8c_source.html#l01359">ast_bridge_get_snapshot_by_uniqueid()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l03958">ast_bridge_is_video_src()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l01667">ast_bridge_join()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l02025">ast_bridge_kick()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l03061">ast_bridge_merge_inhibit()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l03931">ast_bridge_number_video_src()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l04142">ast_bridge_peer()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l04103">ast_bridge_peers()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l01997">ast_bridge_remove()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l03984">ast_bridge_remove_video_src()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l03772">ast_bridge_set_binaural_active()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l03779">ast_bridge_set_internal_sample_rate()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l03786">ast_bridge_set_maximum_sample_rate()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l03765">ast_bridge_set_mixing_interval()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l03874">ast_bridge_set_remb_estimated_bitrate()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l03856">ast_bridge_set_remb_send_interval()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l04033">ast_bridge_set_send_sdp_label()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l03841">ast_bridge_set_sfu_video_mode()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l03816">ast_bridge_set_single_src_video_mode()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l03833">ast_bridge_set_talker_src_video_mode()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l03849">ast_bridge_set_video_update_discard()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l03068">ast_bridge_suspend()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l04729">ast_bridge_transfer_attended()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l04477">ast_bridge_transfer_blind()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l03089">ast_bridge_unsuspend()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l03883">ast_bridge_update_talker_src_video_mode()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l03865">ast_brige_set_remb_behavior()</a>, <a class="el" href="../../db/dc4/test__cel_8c_source.html#l01240">AST_TEST_DEFINE()</a>, <a class="el" href="../../df/d2e/core__unreal_8c_source.html#l00928">ast_unreal_channel_push_to_bridge()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l00604">bridge_action_bridge()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l03530">bridge_basic_change_personality()</a>, <a class="el" href="../../d3/d32/bridge__channel_8c_source.html#l02902">bridge_channel_internal_join()</a>, <a class="el" href="../../da/d0f/stasis__bridges_8c_source.html#l00760">bridge_channel_snapshot_pair_init()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l01823">bridge_impart_internal()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l04923">bridge_manager_service()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l00296">bridge_queue_action_nodup()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l00709">bridge_register()</a>, <a class="el" href="../../db/d0b/resource__bridges_8c_source.html#l01004">bridge_set_video_source_cb()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l05241">complete_bridge_participant()</a>, <a class="el" href="../../d0/dcf/app__confbridge_8c_source.html#l01360">conf_moh_start()</a>, <a class="el" href="../../d0/dcf/app__confbridge_8c_source.html#l01333">conf_moh_stop()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l00658">destroy_bridge()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l05269">handle_bridge_kick_channel()</a>, <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html#l00562">native_rtp_framehook()</a>, <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00418">play_uri()</a>, <a class="el" href="../../d0/dcf/app__confbridge_8c_source.html#l00585">send_conf_stasis()</a>, <a class="el" href="../../d0/dcf/app__confbridge_8c_source.html#l00622">send_conf_stasis_snapshots()</a>, <a class="el" href="../../db/d4e/bridge__softmix_8c_source.html#l01763">softmix_mixing_loop()</a>, and <a class="el" href="../../db/d4e/bridge__softmix_8c_source.html#l01996">softmix_mixing_thread()</a>.</p>

</div>
</div>
<a id="a04a2852f4166568323aa33cd3d0158c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a04a2852f4166568323aa33cd3d0158c7">&#9670;&nbsp;</a></span>ast_bridge_lock_both</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ast_bridge_lock_both</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">bridge1, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">bridge2&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Lock two bridges. </p>

<p class="definition">Definition at line <a class="el" href="../../d4/d56/bridge_8h_source.html#l00500">500</a> of file <a class="el" href="../../d4/d56/bridge_8h_source.html">bridge.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/d95/bridge_8c_source.html#l02519">ast_bridge_add_channel()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l02348">ast_bridge_merge()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l02508">ast_bridge_move()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l04729">ast_bridge_transfer_attended()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01897">bridge_merge()</a>, and <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01870">bridge_move()</a>.</p>

</div>
</div>
<a id="a2739c3a2cbad57dc988580e02082295c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2739c3a2cbad57dc988580e02082295c">&#9670;&nbsp;</a></span>ast_bridge_trylock</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ast_bridge_trylock</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">bridge</td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="../../d4/d56/bridge_8h.html#aa480b74d4bd30d30c07a1f7276733188">_ast_bridge_trylock</a>(bridge, __FILE__, __PRETTY_FUNCTION__, __LINE__, #bridge)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Try locking the bridge. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bridge</td><td>Bridge to try locking</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>on success. </td></tr>
    <tr><td class="paramname">non-zero</td><td>on error. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d4/d56/bridge_8h_source.html#l00467">467</a> of file <a class="el" href="../../d4/d56/bridge_8h_source.html">bridge.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/d95/bridge_8c_source.html#l02627">optimize_lock_chan_stack()</a>, and <a class="el" href="../../d0/d95/bridge_8c_source.html#l02672">optimize_lock_peer_stack()</a>.</p>

</div>
</div>
<a id="a0fb66f4741ca8d106af1917a2f1aab6e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0fb66f4741ca8d106af1917a2f1aab6e">&#9670;&nbsp;</a></span>ast_bridge_unlock</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ast_bridge_unlock</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">bridge</td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="../../d4/d56/bridge_8h.html#a2fa782ceb590c4d6b7dd8e7a0686f1d7">_ast_bridge_unlock</a>(bridge, __FILE__, __PRETTY_FUNCTION__, __LINE__, #bridge)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unlock the bridge. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bridge</td><td>Bridge to unlock</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Nothing </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d4/d56/bridge_8h_source.html#l00493">493</a> of file <a class="el" href="../../d4/d56/bridge_8h_source.html">bridge.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/dcf/app__confbridge_8c_source.html#l02881">action_toggle_binaural()</a>, <a class="el" href="../../de/d11/app__agent__pool_8c_source.html#l01738">agent_alert()</a>, <a class="el" href="../../db/d0b/resource__bridges_8c_source.html#l01051">ast_ari_bridges_clear_video_source()</a>, <a class="el" href="../../db/d0b/resource__bridges_8c_source.html#l00925">ast_ari_bridges_create()</a>, <a class="el" href="../../db/d0b/resource__bridges_8c_source.html#l00954">ast_ari_bridges_create_with_id()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l02519">ast_bridge_add_channel()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l03630">ast_bridge_basic_set_flags()</a>, <a class="el" href="../../d3/d32/bridge__channel_8c_source.html#l01762">ast_bridge_channel_feature_digit()</a>, <a class="el" href="../../d3/d32/bridge__channel_8c_source.html#l00222">ast_bridge_channel_lock_bridge()</a>, <a class="el" href="../../d3/d32/bridge__channel_8c_source.html#l00369">ast_bridge_channel_merge_inhibit()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l00970">ast_bridge_destroy()</a>, <a class="el" href="../../da/d0f/stasis__bridges_8c_source.html#l01378">ast_bridge_get_snapshot()</a>, <a class="el" href="../../da/d0f/stasis__bridges_8c_source.html#l01359">ast_bridge_get_snapshot_by_uniqueid()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l03958">ast_bridge_is_video_src()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l01667">ast_bridge_join()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l02025">ast_bridge_kick()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l02348">ast_bridge_merge()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l03061">ast_bridge_merge_inhibit()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l02508">ast_bridge_move()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l01482">ast_bridge_notify_masquerade()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l03931">ast_bridge_number_video_src()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l04142">ast_bridge_peer()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l04103">ast_bridge_peers()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l01997">ast_bridge_remove()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l03984">ast_bridge_remove_video_src()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l03772">ast_bridge_set_binaural_active()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l03779">ast_bridge_set_internal_sample_rate()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l03786">ast_bridge_set_maximum_sample_rate()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l03765">ast_bridge_set_mixing_interval()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l03874">ast_bridge_set_remb_estimated_bitrate()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l03856">ast_bridge_set_remb_send_interval()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l04033">ast_bridge_set_send_sdp_label()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l03841">ast_bridge_set_sfu_video_mode()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l03816">ast_bridge_set_single_src_video_mode()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l03833">ast_bridge_set_talker_src_video_mode()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l03849">ast_bridge_set_video_update_discard()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l03068">ast_bridge_suspend()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l04729">ast_bridge_transfer_attended()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l04477">ast_bridge_transfer_blind()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l02968">ast_bridge_unreal_optimize_out()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l03089">ast_bridge_unsuspend()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l03883">ast_bridge_update_talker_src_video_mode()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l03865">ast_brige_set_remb_behavior()</a>, <a class="el" href="../../db/dc4/test__cel_8c_source.html#l01240">AST_TEST_DEFINE()</a>, <a class="el" href="../../df/d2e/core__unreal_8c_source.html#l00928">ast_unreal_channel_push_to_bridge()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l04280">attended_transfer_bridge()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00290">basic_hangup_hook()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l00604">bridge_action_bridge()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l03530">bridge_basic_change_personality()</a>, <a class="el" href="../../d3/d32/bridge__channel_8c_source.html#l02330">bridge_channel_handle_control()</a>, <a class="el" href="../../d3/d32/bridge__channel_8c_source.html#l02902">bridge_channel_internal_join()</a>, <a class="el" href="../../da/d0f/stasis__bridges_8c_source.html#l00760">bridge_channel_snapshot_pair_init()</a>, <a class="el" href="../../d3/d32/bridge__channel_8c_source.html#l00875">bridge_channel_suspend()</a>, <a class="el" href="../../d3/d32/bridge__channel_8c_source.html#l00918">bridge_channel_unsuspend()</a>, <a class="el" href="../../d3/d32/bridge__channel_8c_source.html#l02808">bridge_channel_wait()</a>, <a class="el" href="../../d3/d32/bridge__channel_8c_source.html#l00650">bridge_channel_write_frame()</a>, <a class="el" href="../../d3/d32/bridge__channel_8c_source.html#l02608">bridge_handle_trip()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l01823">bridge_impart_internal()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l04923">bridge_manager_service()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01897">bridge_merge()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01870">bridge_move()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l00296">bridge_queue_action_nodup()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l00709">bridge_register()</a>, <a class="el" href="../../db/d0b/resource__bridges_8c_source.html#l01004">bridge_set_video_source_cb()</a>, <a class="el" href="../../db/dba/bridge__softmix__binaural_8c_source.html#l00467">check_binaural_position_change()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l05241">complete_bridge_participant()</a>, <a class="el" href="../../d0/dcf/app__confbridge_8c_source.html#l01360">conf_moh_start()</a>, <a class="el" href="../../d0/dcf/app__confbridge_8c_source.html#l01333">conf_moh_stop()</a>, <a class="el" href="../../d8/d66/bridge__holding_8c_source.html#l00416">deferred_action()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l00658">destroy_bridge()</a>, <a class="el" href="../../d9/d45/bridge__builtin__features_8c_source.html#l00408">feature_automixmonitor()</a>, <a class="el" href="../../d9/d45/bridge__builtin__features_8c_source.html#l00220">feature_automonitor()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l05269">handle_bridge_kick_channel()</a>, <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html#l00562">native_rtp_framehook()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l02627">optimize_lock_chan_stack()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l02672">optimize_lock_peer_stack()</a>, <a class="el" href="../../d1/db7/parking__bridge__features_8c_source.html#l00336">parking_blind_transfer_park()</a>, <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00418">play_uri()</a>, <a class="el" href="../../d0/dcf/app__confbridge_8c_source.html#l00585">send_conf_stasis()</a>, <a class="el" href="../../d0/dcf/app__confbridge_8c_source.html#l00622">send_conf_stasis_snapshots()</a>, <a class="el" href="../../db/d4e/bridge__softmix_8c_source.html#l01763">softmix_mixing_loop()</a>, and <a class="el" href="../../db/d4e/bridge__softmix_8c_source.html#l01996">softmix_mixing_thread()</a>.</p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="a097642290ac8df40ac9484221d4c9b21"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a097642290ac8df40ac9484221d4c9b21">&#9670;&nbsp;</a></span>ast_bridge_destructor_fn</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* ast_bridge_destructor_fn) (struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *self)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destroy the bridge. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">self</td><td>Bridge to operate upon.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Nothing </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d4/d56/bridge_8h_source.html#l00178">178</a> of file <a class="el" href="../../d4/d56/bridge_8h_source.html">bridge.h</a>.</p>

</div>
</div>
<a id="a2535ed58f3bcc4475a107f2fe512373e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2535ed58f3bcc4475a107f2fe512373e">&#9670;&nbsp;</a></span>ast_bridge_dissolving_fn</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* ast_bridge_dissolving_fn) (struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *self)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The bridge is being dissolved. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">self</td><td>Bridge to operate upon.</td></tr>
  </table>
  </dd>
</dl>
<p>The bridge is being dissolved. Remove any external references to the bridge so it can be destroyed.</p>
<dl class="section note"><dt>Note</dt><dd>On entry, self must NOT be locked.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>Nothing </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d4/d56/bridge_8h_source.html#l00193">193</a> of file <a class="el" href="../../d4/d56/bridge_8h_source.html">bridge.h</a>.</p>

</div>
</div>
<a id="a813ecb213606114d915566f867e0060a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a813ecb213606114d915566f867e0060a">&#9670;&nbsp;</a></span>ast_bridge_merge_priority_fn</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int(* ast_bridge_merge_priority_fn) (struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *self)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the merge priority of this bridge. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">self</td><td>Bridge to operate upon.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>On entry, self is already locked.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>Merge priority </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d4/d56/bridge_8h_source.html#l00257">257</a> of file <a class="el" href="../../d4/d56/bridge_8h_source.html">bridge.h</a>.</p>

</div>
</div>
<a id="a2121b11e4a87e5757eec1d3053718458"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2121b11e4a87e5757eec1d3053718458">&#9670;&nbsp;</a></span>ast_bridge_notify_masquerade_fn</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* ast_bridge_notify_masquerade_fn) (struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *self, struct <a class="el" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *bridge_channel)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Notify the bridge that this channel was just masqueraded. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">self</td><td>Bridge to operate upon. </td></tr>
    <tr><td class="paramname">bridge_channel</td><td>Bridge channel that was masqueraded.</td></tr>
  </table>
  </dd>
</dl>
<p>A masquerade just happened to this channel. The bridge needs to re-evaluate this a channel in the bridge.</p>
<dl class="section note"><dt>Note</dt><dd>On entry, self is already locked.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>Nothing </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d4/d56/bridge_8h_source.html#l00246">246</a> of file <a class="el" href="../../d4/d56/bridge_8h_source.html">bridge.h</a>.</p>

</div>
</div>
<a id="a98d25ad98211b79abdfc6b5bf099b789"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a98d25ad98211b79abdfc6b5bf099b789">&#9670;&nbsp;</a></span>ast_bridge_pull_channel_fn</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* ast_bridge_pull_channel_fn) (struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *self, struct <a class="el" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *bridge_channel)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Pull this channel from the bridge. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">self</td><td>Bridge to operate upon. </td></tr>
    <tr><td class="paramname">bridge_channel</td><td>Bridge channel to pull.</td></tr>
  </table>
  </dd>
</dl>
<p>Remove any channel hooks controlled by the bridge. Release any resources held by bridge_channel-&gt;bridge_pvt and release bridge_channel-&gt;bridge_pvt.</p>
<dl class="section note"><dt>Note</dt><dd>On entry, self is already locked.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>Nothing </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d4/d56/bridge_8h_source.html#l00230">230</a> of file <a class="el" href="../../d4/d56/bridge_8h_source.html">bridge.h</a>.</p>

</div>
</div>
<a id="afa18563d3db5e663e205d040c001a376"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa18563d3db5e663e205d040c001a376">&#9670;&nbsp;</a></span>ast_bridge_push_channel_fn</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int(* ast_bridge_push_channel_fn) (struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *self, struct <a class="el" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *bridge_channel, struct <a class="el" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *swap)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Push this channel into the bridge. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">self</td><td>Bridge to operate upon. </td></tr>
    <tr><td class="paramname">bridge_channel</td><td>Bridge channel to push. </td></tr>
    <tr><td class="paramname">swap</td><td>Bridge channel to swap places with if not NULL.</td></tr>
  </table>
  </dd>
</dl>
<p>Setup any channel hooks controlled by the bridge. Allocate bridge_channel-&gt;bridge_pvt and initialize any resources put in bridge_channel-&gt;bridge_pvt if needed. If there is a swap channel, use it as a guide to setting up the bridge_channel.</p>
<dl class="section note"><dt>Note</dt><dd>On entry, self is already locked.</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>on success. </td></tr>
    <tr><td class="paramname">-1</td><td>on failure. The channel did not get pushed. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d4/d56/bridge_8h_source.html#l00213">213</a> of file <a class="el" href="../../d4/d56/bridge_8h_source.html">bridge.h</a>.</p>

</div>
</div>
<a id="a87ed18cc739a9635c4595cae783ab993"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a87ed18cc739a9635c4595cae783ab993">&#9670;&nbsp;</a></span>transfer_channel_cb</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* transfer_channel_cb) (struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan, struct <a class="el" href="../../da/d84/structtransfer__channel__data.html">transfer_channel_data</a> *user_data, enum <a class="el" href="../../d4/d56/bridge_8h.html#a865f7ef0f91885406ab746b23eb598cd">ast_transfer_type</a> transfer_type)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Callback function type called during blind transfers. </p>
<p>A caller of <a class="el" href="../../d4/d56/bridge_8h.html#a982e0e652b9f03abf1ec584c137791a3" title="Blind transfer target to the extension and context provided. ">ast_bridge_transfer_blind()</a> may wish to set data on the channel that ends up running dialplan. For instance, it may be useful to set channel variables on the channel.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chan</td><td>The involved channel </td></tr>
    <tr><td class="paramname">user_data</td><td>User-provided data needed in the callback </td></tr>
    <tr><td class="paramname">transfer_type</td><td>The type of transfer being completed </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d4/d56/bridge_8h_source.html#l01160">1160</a> of file <a class="el" href="../../d4/d56/bridge_8h_source.html">bridge.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a815c9b3e933dfd4b8f523cf55caa5bbf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a815c9b3e933dfd4b8f523cf55caa5bbf">&#9670;&nbsp;</a></span>ast_bridge_capability</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../d4/d56/bridge_8h.html#a815c9b3e933dfd4b8f523cf55caa5bbf">ast_bridge_capability</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Capabilities for a bridge technology. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a815c9b3e933dfd4b8f523cf55caa5bbfaff2606e446a3b7e22fb3785a06110554"></a>AST_BRIDGE_CAPABILITY_HOLDING&#160;</td><td class="fielddoc"><p>Bridge technology can service calls on hold. </p>
</td></tr>
<tr><td class="fieldname"><a id="a815c9b3e933dfd4b8f523cf55caa5bbfab01df717450b48e5a7ba5003df49c955"></a>AST_BRIDGE_CAPABILITY_EARLY&#160;</td><td class="fielddoc"><p>Bridge waits for channel to answer. Passes early media. (XXX Not supported yet) </p>
</td></tr>
<tr><td class="fieldname"><a id="a815c9b3e933dfd4b8f523cf55caa5bbfaec2d0fff3f4f8df0d9ef6b4d9be78380"></a>AST_BRIDGE_CAPABILITY_NATIVE&#160;</td><td class="fielddoc"><p>Bridge is capable of natively bridging two channels. (Smart bridge only) </p>
</td></tr>
<tr><td class="fieldname"><a id="a815c9b3e933dfd4b8f523cf55caa5bbfaf483c951b835fcc35da807b6a4b12509"></a>AST_BRIDGE_CAPABILITY_1TO1MIX&#160;</td><td class="fielddoc"><p>Bridge is capable of mixing at most two channels. (Smart bridgeable) </p>
</td></tr>
<tr><td class="fieldname"><a id="a815c9b3e933dfd4b8f523cf55caa5bbfabd40da8a498f3027c44dfa2e92d5f4ac"></a>AST_BRIDGE_CAPABILITY_MULTIMIX&#160;</td><td class="fielddoc"><p>Bridge is capable of mixing an arbitrary number of channels. (Smart bridgeable) </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../d4/d56/bridge_8h_source.html#l00084">84</a> of file <a class="el" href="../../d4/d56/bridge_8h_source.html">bridge.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;                           {<span class="comment"></span></div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<span class="comment">   /*! Bridge technology can service calls on hold. */</span></div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#a815c9b3e933dfd4b8f523cf55caa5bbfaff2606e446a3b7e22fb3785a06110554">AST_BRIDGE_CAPABILITY_HOLDING</a> = (1 &lt;&lt; 0),<span class="comment"></span></div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="comment">   /*! Bridge waits for channel to answer.  Passes early media. (XXX Not supported yet) */</span></div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#a815c9b3e933dfd4b8f523cf55caa5bbfab01df717450b48e5a7ba5003df49c955">AST_BRIDGE_CAPABILITY_EARLY</a> = (1 &lt;&lt; 1),<span class="comment"></span></div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;<span class="comment">   /*! Bridge is capable of natively bridging two channels. (Smart bridge only) */</span></div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#a815c9b3e933dfd4b8f523cf55caa5bbfaec2d0fff3f4f8df0d9ef6b4d9be78380">AST_BRIDGE_CAPABILITY_NATIVE</a> = (1 &lt;&lt; 2),<span class="comment"></span></div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;<span class="comment">   /*! Bridge is capable of mixing at most two channels. (Smart bridgeable) */</span></div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#a815c9b3e933dfd4b8f523cf55caa5bbfaf483c951b835fcc35da807b6a4b12509">AST_BRIDGE_CAPABILITY_1TO1MIX</a> = (1 &lt;&lt; 3),<span class="comment"></span></div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;<span class="comment">   /*! Bridge is capable of mixing an arbitrary number of channels. (Smart bridgeable) */</span></div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#a815c9b3e933dfd4b8f523cf55caa5bbfabd40da8a498f3027c44dfa2e92d5f4ac">AST_BRIDGE_CAPABILITY_MULTIMIX</a> = (1 &lt;&lt; 4),</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;};</div><div class="ttc" id="bridge_8h_html_a815c9b3e933dfd4b8f523cf55caa5bbfaec2d0fff3f4f8df0d9ef6b4d9be78380"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a815c9b3e933dfd4b8f523cf55caa5bbfaec2d0fff3f4f8df0d9ef6b4d9be78380">AST_BRIDGE_CAPABILITY_NATIVE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00090">bridge.h:90</a></div></div>
<div class="ttc" id="bridge_8h_html_a815c9b3e933dfd4b8f523cf55caa5bbfaff2606e446a3b7e22fb3785a06110554"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a815c9b3e933dfd4b8f523cf55caa5bbfaff2606e446a3b7e22fb3785a06110554">AST_BRIDGE_CAPABILITY_HOLDING</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00086">bridge.h:86</a></div></div>
<div class="ttc" id="bridge_8h_html_a815c9b3e933dfd4b8f523cf55caa5bbfabd40da8a498f3027c44dfa2e92d5f4ac"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a815c9b3e933dfd4b8f523cf55caa5bbfabd40da8a498f3027c44dfa2e92d5f4ac">AST_BRIDGE_CAPABILITY_MULTIMIX</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00094">bridge.h:94</a></div></div>
<div class="ttc" id="bridge_8h_html_a815c9b3e933dfd4b8f523cf55caa5bbfaf483c951b835fcc35da807b6a4b12509"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a815c9b3e933dfd4b8f523cf55caa5bbfaf483c951b835fcc35da807b6a4b12509">AST_BRIDGE_CAPABILITY_1TO1MIX</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00092">bridge.h:92</a></div></div>
<div class="ttc" id="bridge_8h_html_a815c9b3e933dfd4b8f523cf55caa5bbfab01df717450b48e5a7ba5003df49c955"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a815c9b3e933dfd4b8f523cf55caa5bbfab01df717450b48e5a7ba5003df49c955">AST_BRIDGE_CAPABILITY_EARLY</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00088">bridge.h:88</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac086b7d74fb40c2ede8514274585b101"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac086b7d74fb40c2ede8514274585b101">&#9670;&nbsp;</a></span>ast_bridge_impart_flags</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../d4/d56/bridge_8h.html#ac086b7d74fb40c2ede8514274585b101">ast_bridge_impart_flags</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ac086b7d74fb40c2ede8514274585b101a99da763f0bd676f299a215ea9d1055db"></a>AST_BRIDGE_IMPART_CHAN_MASK&#160;</td><td class="fielddoc"><p>Field describing what the caller can do with the channel after it is imparted. </p>
</td></tr>
<tr><td class="fieldname"><a id="ac086b7d74fb40c2ede8514274585b101a01be425a6fb9fefd36905b542e903087"></a>AST_BRIDGE_IMPART_CHAN_DEPARTABLE&#160;</td><td class="fielddoc"><p>The caller wants to reclaim the channel using <a class="el" href="../../d4/d56/bridge_8h.html#a0075715d330c8492e03c6d3ca3f48e13" title="Depart a channel from a bridge. ">ast_bridge_depart()</a>. </p>
</td></tr>
<tr><td class="fieldname"><a id="ac086b7d74fb40c2ede8514274585b101aecfd8e6279a21b20ee4db0ab69c847e8"></a>AST_BRIDGE_IMPART_CHAN_INDEPENDENT&#160;</td><td class="fielddoc"><p>The caller is passing channel control entirely to the bridging system. </p>
</td></tr>
<tr><td class="fieldname"><a id="ac086b7d74fb40c2ede8514274585b101a9d897e78dc2fcd2447531e2ee0310933"></a>AST_BRIDGE_IMPART_INHIBIT_JOIN_COLP&#160;</td><td class="fielddoc"><p>The initial bridge join does not cause a COLP exchange. </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../d4/d56/bridge_8h_source.html#l00598">598</a> of file <a class="el" href="../../d4/d56/bridge_8h_source.html">bridge.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;                             {<span class="comment"></span></div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;<span class="comment">   /*! Field describing what the caller can do with the channel after it is imparted. */</span></div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#ac086b7d74fb40c2ede8514274585b101a99da763f0bd676f299a215ea9d1055db">AST_BRIDGE_IMPART_CHAN_MASK</a> = (1 &lt;&lt; 0),<span class="comment"></span></div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;<span class="comment">   /*! The caller wants to reclaim the channel using ast_bridge_depart(). */</span></div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#ac086b7d74fb40c2ede8514274585b101a01be425a6fb9fefd36905b542e903087">AST_BRIDGE_IMPART_CHAN_DEPARTABLE</a> = (0 &lt;&lt; 0),<span class="comment"></span></div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;<span class="comment">   /*! The caller is passing channel control entirely to the bridging system. */</span></div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#ac086b7d74fb40c2ede8514274585b101aecfd8e6279a21b20ee4db0ab69c847e8">AST_BRIDGE_IMPART_CHAN_INDEPENDENT</a> = (1 &lt;&lt; 0),<span class="comment"></span></div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;<span class="comment">   /*! The initial bridge join does not cause a COLP exchange. */</span></div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#ac086b7d74fb40c2ede8514274585b101a9d897e78dc2fcd2447531e2ee0310933">AST_BRIDGE_IMPART_INHIBIT_JOIN_COLP</a> = (1 &lt;&lt; 1),</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;};</div><div class="ttc" id="bridge_8h_html_ac086b7d74fb40c2ede8514274585b101a99da763f0bd676f299a215ea9d1055db"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#ac086b7d74fb40c2ede8514274585b101a99da763f0bd676f299a215ea9d1055db">AST_BRIDGE_IMPART_CHAN_MASK</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00600">bridge.h:600</a></div></div>
<div class="ttc" id="bridge_8h_html_ac086b7d74fb40c2ede8514274585b101a9d897e78dc2fcd2447531e2ee0310933"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#ac086b7d74fb40c2ede8514274585b101a9d897e78dc2fcd2447531e2ee0310933">AST_BRIDGE_IMPART_INHIBIT_JOIN_COLP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00606">bridge.h:606</a></div></div>
<div class="ttc" id="bridge_8h_html_ac086b7d74fb40c2ede8514274585b101a01be425a6fb9fefd36905b542e903087"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#ac086b7d74fb40c2ede8514274585b101a01be425a6fb9fefd36905b542e903087">AST_BRIDGE_IMPART_CHAN_DEPARTABLE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00602">bridge.h:602</a></div></div>
<div class="ttc" id="bridge_8h_html_ac086b7d74fb40c2ede8514274585b101aecfd8e6279a21b20ee4db0ab69c847e8"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#ac086b7d74fb40c2ede8514274585b101aecfd8e6279a21b20ee4db0ab69c847e8">AST_BRIDGE_IMPART_CHAN_INDEPENDENT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00604">bridge.h:604</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad52005264bec898a8f825bd47d91cf93"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad52005264bec898a8f825bd47d91cf93">&#9670;&nbsp;</a></span>ast_bridge_join_flags</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../d4/d56/bridge_8h.html#ad52005264bec898a8f825bd47d91cf93">ast_bridge_join_flags</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ad52005264bec898a8f825bd47d91cf93a9106169928c6eeccad5b5ebcf762ac9d"></a>AST_BRIDGE_JOIN_PASS_REFERENCE&#160;</td><td class="fielddoc"><p>The bridge reference is being passed by the caller. </p>
</td></tr>
<tr><td class="fieldname"><a id="ad52005264bec898a8f825bd47d91cf93a3ebef74566687cfbc25d174725fc6d56"></a>AST_BRIDGE_JOIN_INHIBIT_JOIN_COLP&#160;</td><td class="fielddoc"><p>The initial bridge join does not cause a COLP exchange. </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../d4/d56/bridge_8h_source.html#l00547">547</a> of file <a class="el" href="../../d4/d56/bridge_8h_source.html">bridge.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;                           {<span class="comment"></span></div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;<span class="comment">   /*! The bridge reference is being passed by the caller. */</span></div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#ad52005264bec898a8f825bd47d91cf93a9106169928c6eeccad5b5ebcf762ac9d">AST_BRIDGE_JOIN_PASS_REFERENCE</a> = (1 &lt;&lt; 0),<span class="comment"></span></div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;<span class="comment">   /*! The initial bridge join does not cause a COLP exchange. */</span></div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#ad52005264bec898a8f825bd47d91cf93a3ebef74566687cfbc25d174725fc6d56">AST_BRIDGE_JOIN_INHIBIT_JOIN_COLP</a> = (1 &lt;&lt; 1),</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;};</div><div class="ttc" id="bridge_8h_html_ad52005264bec898a8f825bd47d91cf93a3ebef74566687cfbc25d174725fc6d56"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#ad52005264bec898a8f825bd47d91cf93a3ebef74566687cfbc25d174725fc6d56">AST_BRIDGE_JOIN_INHIBIT_JOIN_COLP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00551">bridge.h:551</a></div></div>
<div class="ttc" id="bridge_8h_html_ad52005264bec898a8f825bd47d91cf93a9106169928c6eeccad5b5ebcf762ac9d"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#ad52005264bec898a8f825bd47d91cf93a9106169928c6eeccad5b5ebcf762ac9d">AST_BRIDGE_JOIN_PASS_REFERENCE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00549">bridge.h:549</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a186f44efd65f1349ca2deb11b8117534"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a186f44efd65f1349ca2deb11b8117534">&#9670;&nbsp;</a></span>ast_bridge_optimization</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../d4/d56/bridge_8h.html#a186f44efd65f1349ca2deb11b8117534">ast_bridge_optimization</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Tells, if optimization is allowed, how the optimization would be performed. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a186f44efd65f1349ca2deb11b8117534add0740f1c8620ab74b253de5bac26ec7"></a>AST_BRIDGE_OPTIMIZE_SWAP_TO_CHAN_BRIDGE&#160;</td><td class="fielddoc"><p>Optimization would swap peer into the chan_bridge </p>
</td></tr>
<tr><td class="fieldname"><a id="a186f44efd65f1349ca2deb11b8117534a582d8fd99bc8f3320608f74efb142ee7"></a>AST_BRIDGE_OPTIMIZE_SWAP_TO_PEER_BRIDGE&#160;</td><td class="fielddoc"><p>Optimization would swap chan into the peer_bridge </p>
</td></tr>
<tr><td class="fieldname"><a id="a186f44efd65f1349ca2deb11b8117534a2980a16e43b7b4f52b6c3af11bd79a56"></a>AST_BRIDGE_OPTIMIZE_MERGE_TO_CHAN_BRIDGE&#160;</td><td class="fielddoc"><p>Optimization would merge peer_bridge into chan_bridge </p>
</td></tr>
<tr><td class="fieldname"><a id="a186f44efd65f1349ca2deb11b8117534a83a14f41557a30da243c32b7f717ed1f"></a>AST_BRIDGE_OPTIMIZE_MERGE_TO_PEER_BRIDGE&#160;</td><td class="fielddoc"><p>Optimization would merge chan_bridge into peer_bridge </p>
</td></tr>
<tr><td class="fieldname"><a id="a186f44efd65f1349ca2deb11b8117534a19fe1f0ca6993cc12c518aa09fb79a79"></a>AST_BRIDGE_OPTIMIZE_PROHIBITED&#160;</td><td class="fielddoc"><p>Optimization is not permitted on one or both bridges </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../d4/d56/bridge_8h_source.html#l00891">891</a> of file <a class="el" href="../../d4/d56/bridge_8h_source.html">bridge.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;                             {<span class="comment"></span></div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;<span class="comment">   /*! Optimization would swap peer into the chan_bridge */</span></div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#a186f44efd65f1349ca2deb11b8117534add0740f1c8620ab74b253de5bac26ec7">AST_BRIDGE_OPTIMIZE_SWAP_TO_CHAN_BRIDGE</a>,<span class="comment"></span></div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;<span class="comment">   /*! Optimization would swap chan into the peer_bridge */</span></div><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#a186f44efd65f1349ca2deb11b8117534a582d8fd99bc8f3320608f74efb142ee7">AST_BRIDGE_OPTIMIZE_SWAP_TO_PEER_BRIDGE</a>,<span class="comment"></span></div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;<span class="comment">   /*! Optimization would merge peer_bridge into chan_bridge */</span></div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#a186f44efd65f1349ca2deb11b8117534a2980a16e43b7b4f52b6c3af11bd79a56">AST_BRIDGE_OPTIMIZE_MERGE_TO_CHAN_BRIDGE</a>,<span class="comment"></span></div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;<span class="comment">   /*! Optimization would merge chan_bridge into peer_bridge */</span></div><div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#a186f44efd65f1349ca2deb11b8117534a83a14f41557a30da243c32b7f717ed1f">AST_BRIDGE_OPTIMIZE_MERGE_TO_PEER_BRIDGE</a>,<span class="comment"></span></div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;<span class="comment">   /*! Optimization is not permitted on one or both bridges */</span></div><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#a186f44efd65f1349ca2deb11b8117534a19fe1f0ca6993cc12c518aa09fb79a79">AST_BRIDGE_OPTIMIZE_PROHIBITED</a>,</div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;};</div><div class="ttc" id="bridge_8h_html_a186f44efd65f1349ca2deb11b8117534a19fe1f0ca6993cc12c518aa09fb79a79"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a186f44efd65f1349ca2deb11b8117534a19fe1f0ca6993cc12c518aa09fb79a79">AST_BRIDGE_OPTIMIZE_PROHIBITED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00901">bridge.h:901</a></div></div>
<div class="ttc" id="bridge_8h_html_a186f44efd65f1349ca2deb11b8117534a2980a16e43b7b4f52b6c3af11bd79a56"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a186f44efd65f1349ca2deb11b8117534a2980a16e43b7b4f52b6c3af11bd79a56">AST_BRIDGE_OPTIMIZE_MERGE_TO_CHAN_BRIDGE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00897">bridge.h:897</a></div></div>
<div class="ttc" id="bridge_8h_html_a186f44efd65f1349ca2deb11b8117534a83a14f41557a30da243c32b7f717ed1f"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a186f44efd65f1349ca2deb11b8117534a83a14f41557a30da243c32b7f717ed1f">AST_BRIDGE_OPTIMIZE_MERGE_TO_PEER_BRIDGE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00899">bridge.h:899</a></div></div>
<div class="ttc" id="bridge_8h_html_a186f44efd65f1349ca2deb11b8117534add0740f1c8620ab74b253de5bac26ec7"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a186f44efd65f1349ca2deb11b8117534add0740f1c8620ab74b253de5bac26ec7">AST_BRIDGE_OPTIMIZE_SWAP_TO_CHAN_BRIDGE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00893">bridge.h:893</a></div></div>
<div class="ttc" id="bridge_8h_html_a186f44efd65f1349ca2deb11b8117534a582d8fd99bc8f3320608f74efb142ee7"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a186f44efd65f1349ca2deb11b8117534a582d8fd99bc8f3320608f74efb142ee7">AST_BRIDGE_OPTIMIZE_SWAP_TO_PEER_BRIDGE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00895">bridge.h:895</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab388dac5f5c172d7f03c54487afac906"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab388dac5f5c172d7f03c54487afac906">&#9670;&nbsp;</a></span>ast_bridge_video_mode_type</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../d4/d56/bridge_8h.html#ab388dac5f5c172d7f03c54487afac906">ast_bridge_video_mode_type</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Video source modes. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ab388dac5f5c172d7f03c54487afac906a51708384777e8722fae674ea8db89f54"></a>AST_BRIDGE_VIDEO_MODE_NONE&#160;</td><td class="fielddoc"><p>Video is not allowed in the bridge </p>
</td></tr>
<tr><td class="fieldname"><a id="ab388dac5f5c172d7f03c54487afac906a1e27ac207e54a30dfdabc463bd18d43c"></a>AST_BRIDGE_VIDEO_MODE_SINGLE_SRC&#160;</td><td class="fielddoc"><p>A single user is picked as the only distributed of video across the bridge </p>
</td></tr>
<tr><td class="fieldname"><a id="ab388dac5f5c172d7f03c54487afac906a48458f43dd7ef0372614e5848f9226e0"></a>AST_BRIDGE_VIDEO_MODE_TALKER_SRC&#160;</td><td class="fielddoc"><p>A single user's video feed is distributed to all bridge channels, but that feed is automatically picked based on who is talking the most. </p>
</td></tr>
<tr><td class="fieldname"><a id="ab388dac5f5c172d7f03c54487afac906ac9992c5dc76155a013d0a5804c8f2bb7"></a>AST_BRIDGE_VIDEO_MODE_SFU&#160;</td><td class="fielddoc"><p>Operate as a selective forwarding unit. Video from each participant is cloned to a dedicated stream on a subset of the remaining participants. </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../d4/d56/bridge_8h_source.html#l00098">98</a> of file <a class="el" href="../../d4/d56/bridge_8h_source.html">bridge.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;                                {<span class="comment"></span></div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;<span class="comment">   /*! Video is not allowed in the bridge */</span></div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#ab388dac5f5c172d7f03c54487afac906a51708384777e8722fae674ea8db89f54">AST_BRIDGE_VIDEO_MODE_NONE</a> = 0,<span class="comment"></span></div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;<span class="comment">   /*! A single user is picked as the only distributed of video across the bridge */</span></div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#ab388dac5f5c172d7f03c54487afac906a1e27ac207e54a30dfdabc463bd18d43c">AST_BRIDGE_VIDEO_MODE_SINGLE_SRC</a>,<span class="comment"></span></div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;<span class="comment">   /*! A single user&#39;s video feed is distributed to all bridge channels, but</span></div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;<span class="comment">    *  that feed is automatically picked based on who is talking the most. */</span></div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#ab388dac5f5c172d7f03c54487afac906a48458f43dd7ef0372614e5848f9226e0">AST_BRIDGE_VIDEO_MODE_TALKER_SRC</a>,<span class="comment"></span></div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;<span class="comment">   /*! Operate as a selective forwarding unit. Video from each participant is</span></div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;<span class="comment">    * cloned to a dedicated stream on a subset of the remaining participants.</span></div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#ab388dac5f5c172d7f03c54487afac906ac9992c5dc76155a013d0a5804c8f2bb7">AST_BRIDGE_VIDEO_MODE_SFU</a>,</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;};</div><div class="ttc" id="bridge_8h_html_ab388dac5f5c172d7f03c54487afac906ac9992c5dc76155a013d0a5804c8f2bb7"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#ab388dac5f5c172d7f03c54487afac906ac9992c5dc76155a013d0a5804c8f2bb7">AST_BRIDGE_VIDEO_MODE_SFU</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00109">bridge.h:109</a></div></div>
<div class="ttc" id="bridge_8h_html_ab388dac5f5c172d7f03c54487afac906a1e27ac207e54a30dfdabc463bd18d43c"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#ab388dac5f5c172d7f03c54487afac906a1e27ac207e54a30dfdabc463bd18d43c">AST_BRIDGE_VIDEO_MODE_SINGLE_SRC</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00102">bridge.h:102</a></div></div>
<div class="ttc" id="bridge_8h_html_ab388dac5f5c172d7f03c54487afac906a48458f43dd7ef0372614e5848f9226e0"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#ab388dac5f5c172d7f03c54487afac906a48458f43dd7ef0372614e5848f9226e0">AST_BRIDGE_VIDEO_MODE_TALKER_SRC</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00105">bridge.h:105</a></div></div>
<div class="ttc" id="bridge_8h_html_ab388dac5f5c172d7f03c54487afac906a51708384777e8722fae674ea8db89f54"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#ab388dac5f5c172d7f03c54487afac906a51708384777e8722fae674ea8db89f54">AST_BRIDGE_VIDEO_MODE_NONE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00100">bridge.h:100</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a22e0b20cf0d941c2acc0710600c1c35b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a22e0b20cf0d941c2acc0710600c1c35b">&#9670;&nbsp;</a></span>ast_bridge_video_sfu_remb_behavior</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../d4/d56/bridge_8h.html#a22e0b20cf0d941c2acc0710600c1c35b">ast_bridge_video_sfu_remb_behavior</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>REMB report behaviors. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a22e0b20cf0d941c2acc0710600c1c35ba4643daa2205912210019f2a54e567964"></a>AST_BRIDGE_VIDEO_SFU_REMB_AVERAGE&#160;</td><td class="fielddoc"><p>The average of all reports is sent to the sender </p>
</td></tr>
<tr><td class="fieldname"><a id="a22e0b20cf0d941c2acc0710600c1c35ba14ab1a13df8c27aa690625d667f52f3a"></a>AST_BRIDGE_VIDEO_SFU_REMB_LOWEST&#160;</td><td class="fielddoc"><p>The lowest reported bitrate is forwarded to the sender </p>
</td></tr>
<tr><td class="fieldname"><a id="a22e0b20cf0d941c2acc0710600c1c35ba83b326eea831aaf8864b88955e7fe7a4"></a>AST_BRIDGE_VIDEO_SFU_REMB_HIGHEST&#160;</td><td class="fielddoc"><p>The highest reported bitrate is forwarded to the sender </p>
</td></tr>
<tr><td class="fieldname"><a id="a22e0b20cf0d941c2acc0710600c1c35bab2a59c3a7d08362c5c99bbce00028d8e"></a>AST_BRIDGE_VIDEO_SFU_REMB_AVERAGE_ALL&#160;</td><td class="fielddoc"><p>The average of all reports WITHIN the bridge is sent to each sender </p>
</td></tr>
<tr><td class="fieldname"><a id="a22e0b20cf0d941c2acc0710600c1c35baed87d2e68e3a4ed12e09eee7a1993c51"></a>AST_BRIDGE_VIDEO_SFU_REMB_LOWEST_ALL&#160;</td><td class="fielddoc"><p>The lowest reported bitrate from all channels in the bridge is forwarded to each sender </p>
</td></tr>
<tr><td class="fieldname"><a id="a22e0b20cf0d941c2acc0710600c1c35ba1fa9d011ae5e2f298c3875155a2a3e2f"></a>AST_BRIDGE_VIDEO_SFU_REMB_HIGHEST_ALL&#160;</td><td class="fielddoc"><p>The highest reported bitrate from all channels in the bridge is forwarded to each sender </p>
</td></tr>
<tr><td class="fieldname"><a id="a22e0b20cf0d941c2acc0710600c1c35bac1c124829151b23928ceb83a7894be7d"></a>AST_BRIDGE_VIDEO_SFU_REMB_FORCE&#160;</td><td class="fielddoc"><p>Force the REMB estimated bitrate to a specified value </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../d4/d56/bridge_8h_source.html#l00131">131</a> of file <a class="el" href="../../d4/d56/bridge_8h_source.html">bridge.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;                                        {<span class="comment"></span></div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;<span class="comment">   /*! The average of all reports is sent to the sender */</span></div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#a22e0b20cf0d941c2acc0710600c1c35ba4643daa2205912210019f2a54e567964">AST_BRIDGE_VIDEO_SFU_REMB_AVERAGE</a> = 0,<span class="comment"></span></div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;<span class="comment">   /*! The lowest reported bitrate is forwarded to the sender */</span></div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#a22e0b20cf0d941c2acc0710600c1c35ba14ab1a13df8c27aa690625d667f52f3a">AST_BRIDGE_VIDEO_SFU_REMB_LOWEST</a>,<span class="comment"></span></div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;<span class="comment">   /*! The highest reported bitrate is forwarded to the sender */</span></div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#a22e0b20cf0d941c2acc0710600c1c35ba83b326eea831aaf8864b88955e7fe7a4">AST_BRIDGE_VIDEO_SFU_REMB_HIGHEST</a>,<span class="comment"></span></div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;<span class="comment">   /*! The average of all reports WITHIN the bridge is sent to each sender */</span></div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#a22e0b20cf0d941c2acc0710600c1c35bab2a59c3a7d08362c5c99bbce00028d8e">AST_BRIDGE_VIDEO_SFU_REMB_AVERAGE_ALL</a>,<span class="comment"></span></div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;<span class="comment">   /*! The lowest reported bitrate from all channels in the bridge is forwarded to each sender */</span></div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#a22e0b20cf0d941c2acc0710600c1c35baed87d2e68e3a4ed12e09eee7a1993c51">AST_BRIDGE_VIDEO_SFU_REMB_LOWEST_ALL</a>,<span class="comment"></span></div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;<span class="comment">   /*! The highest reported bitrate from all channels in the bridge is forwarded to each sender */</span></div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#a22e0b20cf0d941c2acc0710600c1c35ba1fa9d011ae5e2f298c3875155a2a3e2f">AST_BRIDGE_VIDEO_SFU_REMB_HIGHEST_ALL</a>,<span class="comment"></span></div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;<span class="comment">   /*! Force the REMB estimated bitrate to a specified value */</span></div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#a22e0b20cf0d941c2acc0710600c1c35bac1c124829151b23928ceb83a7894be7d">AST_BRIDGE_VIDEO_SFU_REMB_FORCE</a>,</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;};</div><div class="ttc" id="bridge_8h_html_a22e0b20cf0d941c2acc0710600c1c35bab2a59c3a7d08362c5c99bbce00028d8e"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a22e0b20cf0d941c2acc0710600c1c35bab2a59c3a7d08362c5c99bbce00028d8e">AST_BRIDGE_VIDEO_SFU_REMB_AVERAGE_ALL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00139">bridge.h:139</a></div></div>
<div class="ttc" id="bridge_8h_html_a22e0b20cf0d941c2acc0710600c1c35bac1c124829151b23928ceb83a7894be7d"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a22e0b20cf0d941c2acc0710600c1c35bac1c124829151b23928ceb83a7894be7d">AST_BRIDGE_VIDEO_SFU_REMB_FORCE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00145">bridge.h:145</a></div></div>
<div class="ttc" id="bridge_8h_html_a22e0b20cf0d941c2acc0710600c1c35ba1fa9d011ae5e2f298c3875155a2a3e2f"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a22e0b20cf0d941c2acc0710600c1c35ba1fa9d011ae5e2f298c3875155a2a3e2f">AST_BRIDGE_VIDEO_SFU_REMB_HIGHEST_ALL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00143">bridge.h:143</a></div></div>
<div class="ttc" id="bridge_8h_html_a22e0b20cf0d941c2acc0710600c1c35ba83b326eea831aaf8864b88955e7fe7a4"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a22e0b20cf0d941c2acc0710600c1c35ba83b326eea831aaf8864b88955e7fe7a4">AST_BRIDGE_VIDEO_SFU_REMB_HIGHEST</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00137">bridge.h:137</a></div></div>
<div class="ttc" id="bridge_8h_html_a22e0b20cf0d941c2acc0710600c1c35baed87d2e68e3a4ed12e09eee7a1993c51"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a22e0b20cf0d941c2acc0710600c1c35baed87d2e68e3a4ed12e09eee7a1993c51">AST_BRIDGE_VIDEO_SFU_REMB_LOWEST_ALL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00141">bridge.h:141</a></div></div>
<div class="ttc" id="bridge_8h_html_a22e0b20cf0d941c2acc0710600c1c35ba14ab1a13df8c27aa690625d667f52f3a"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a22e0b20cf0d941c2acc0710600c1c35ba14ab1a13df8c27aa690625d667f52f3a">AST_BRIDGE_VIDEO_SFU_REMB_LOWEST</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00135">bridge.h:135</a></div></div>
<div class="ttc" id="bridge_8h_html_a22e0b20cf0d941c2acc0710600c1c35ba4643daa2205912210019f2a54e567964"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a22e0b20cf0d941c2acc0710600c1c35ba4643daa2205912210019f2a54e567964">AST_BRIDGE_VIDEO_SFU_REMB_AVERAGE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00133">bridge.h:133</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aadbf879fadde4b1bb7832b1390cc8c17"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aadbf879fadde4b1bb7832b1390cc8c17">&#9670;&nbsp;</a></span>ast_transfer_result</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../d4/d56/bridge_8h.html#aadbf879fadde4b1bb7832b1390cc8c17">ast_transfer_result</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="aadbf879fadde4b1bb7832b1390cc8c17a6b0053a1a47d100ef5f155f068c08934"></a>AST_BRIDGE_TRANSFER_SUCCESS&#160;</td><td class="fielddoc"><p>The transfer completed successfully </p>
</td></tr>
<tr><td class="fieldname"><a id="aadbf879fadde4b1bb7832b1390cc8c17a10037a900428dbddb31e85e4481bb4da"></a>AST_BRIDGE_TRANSFER_NOT_PERMITTED&#160;</td><td class="fielddoc"><p>A bridge involved does not permit transferring </p>
</td></tr>
<tr><td class="fieldname"><a id="aadbf879fadde4b1bb7832b1390cc8c17a93e2a5d4517067d0b9a0e39b0cdc5df8"></a>AST_BRIDGE_TRANSFER_INVALID&#160;</td><td class="fielddoc"><p>The current bridge setup makes transferring an invalid operation </p>
</td></tr>
<tr><td class="fieldname"><a id="aadbf879fadde4b1bb7832b1390cc8c17aeebe667b42c8e7993a9f5f4c45e6da25"></a>AST_BRIDGE_TRANSFER_FAIL&#160;</td><td class="fielddoc"><p>The transfer operation failed for a miscellaneous reason </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../d4/d56/bridge_8h_source.html#l01115">1115</a> of file <a class="el" href="../../d4/d56/bridge_8h_source.html">bridge.h</a>.</p>
<div class="fragment"><div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;                         {<span class="comment"></span></div><div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;<span class="comment">   /*! The transfer completed successfully */</span></div><div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#aadbf879fadde4b1bb7832b1390cc8c17a6b0053a1a47d100ef5f155f068c08934">AST_BRIDGE_TRANSFER_SUCCESS</a>,<span class="comment"></span></div><div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;<span class="comment">   /*! A bridge involved does not permit transferring */</span></div><div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#aadbf879fadde4b1bb7832b1390cc8c17a10037a900428dbddb31e85e4481bb4da">AST_BRIDGE_TRANSFER_NOT_PERMITTED</a>,<span class="comment"></span></div><div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;<span class="comment">   /*! The current bridge setup makes transferring an invalid operation */</span></div><div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#aadbf879fadde4b1bb7832b1390cc8c17a93e2a5d4517067d0b9a0e39b0cdc5df8">AST_BRIDGE_TRANSFER_INVALID</a>,<span class="comment"></span></div><div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;<span class="comment">   /*! The transfer operation failed for a miscellaneous reason */</span></div><div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#aadbf879fadde4b1bb7832b1390cc8c17aeebe667b42c8e7993a9f5f4c45e6da25">AST_BRIDGE_TRANSFER_FAIL</a>,</div><div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;};</div><div class="ttc" id="bridge_8h_html_aadbf879fadde4b1bb7832b1390cc8c17a93e2a5d4517067d0b9a0e39b0cdc5df8"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#aadbf879fadde4b1bb7832b1390cc8c17a93e2a5d4517067d0b9a0e39b0cdc5df8">AST_BRIDGE_TRANSFER_INVALID</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l01121">bridge.h:1121</a></div></div>
<div class="ttc" id="bridge_8h_html_aadbf879fadde4b1bb7832b1390cc8c17a6b0053a1a47d100ef5f155f068c08934"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#aadbf879fadde4b1bb7832b1390cc8c17a6b0053a1a47d100ef5f155f068c08934">AST_BRIDGE_TRANSFER_SUCCESS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l01117">bridge.h:1117</a></div></div>
<div class="ttc" id="bridge_8h_html_aadbf879fadde4b1bb7832b1390cc8c17aeebe667b42c8e7993a9f5f4c45e6da25"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#aadbf879fadde4b1bb7832b1390cc8c17aeebe667b42c8e7993a9f5f4c45e6da25">AST_BRIDGE_TRANSFER_FAIL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l01123">bridge.h:1123</a></div></div>
<div class="ttc" id="bridge_8h_html_aadbf879fadde4b1bb7832b1390cc8c17a10037a900428dbddb31e85e4481bb4da"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#aadbf879fadde4b1bb7832b1390cc8c17a10037a900428dbddb31e85e4481bb4da">AST_BRIDGE_TRANSFER_NOT_PERMITTED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l01119">bridge.h:1119</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a865f7ef0f91885406ab746b23eb598cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a865f7ef0f91885406ab746b23eb598cd">&#9670;&nbsp;</a></span>ast_transfer_type</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../d4/d56/bridge_8h.html#a865f7ef0f91885406ab746b23eb598cd">ast_transfer_type</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a865f7ef0f91885406ab746b23eb598cda073210b9d7d16a18abc6fe85c8ea66d4"></a>AST_BRIDGE_TRANSFER_SINGLE_PARTY&#160;</td><td class="fielddoc"><p>Transfer of a single party </p>
</td></tr>
<tr><td class="fieldname"><a id="a865f7ef0f91885406ab746b23eb598cdaa85cad6eafcb0edc223c975e0cf3b296"></a>AST_BRIDGE_TRANSFER_MULTI_PARTY&#160;</td><td class="fielddoc"><p>Transfer of multiple parties </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../d4/d56/bridge_8h_source.html#l01126">1126</a> of file <a class="el" href="../../d4/d56/bridge_8h_source.html">bridge.h</a>.</p>
<div class="fragment"><div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;                       {<span class="comment"></span></div><div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;<span class="comment">   /*! Transfer of a single party */</span></div><div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#a865f7ef0f91885406ab746b23eb598cda073210b9d7d16a18abc6fe85c8ea66d4">AST_BRIDGE_TRANSFER_SINGLE_PARTY</a>,<span class="comment"></span></div><div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;<span class="comment">   /*! Transfer of multiple parties */</span></div><div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#a865f7ef0f91885406ab746b23eb598cdaa85cad6eafcb0edc223c975e0cf3b296">AST_BRIDGE_TRANSFER_MULTI_PARTY</a>,</div><div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;};</div><div class="ttc" id="bridge_8h_html_a865f7ef0f91885406ab746b23eb598cda073210b9d7d16a18abc6fe85c8ea66d4"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a865f7ef0f91885406ab746b23eb598cda073210b9d7d16a18abc6fe85c8ea66d4">AST_BRIDGE_TRANSFER_SINGLE_PARTY</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l01128">bridge.h:1128</a></div></div>
<div class="ttc" id="bridge_8h_html_a865f7ef0f91885406ab746b23eb598cdaa85cad6eafcb0edc223c975e0cf3b296"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a865f7ef0f91885406ab746b23eb598cdaa85cad6eafcb0edc223c975e0cf3b296">AST_BRIDGE_TRANSFER_MULTI_PARTY</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l01130">bridge.h:1130</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ad10a5063edd5ac337fa1163e79021995"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad10a5063edd5ac337fa1163e79021995">&#9670;&nbsp;</a></span>_ast_bridge_lock()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void _ast_bridge_lock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *&#160;</td>
          <td class="paramname"><em>bridge</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>function</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>line</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>var</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d56/bridge_8h_source.html#l00481">481</a> of file <a class="el" href="../../d4/d56/bridge_8h_source.html">bridge.h</a>.</p>

<p class="reference">References <a class="el" href="../../da/df7/astobj2_8c_source.html#l00222">__ao2_lock()</a>, and <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00703">AO2_LOCK_REQ_MUTEX</a>.</p>
<div class="fragment"><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;{</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#ae8abe54e1e1460641ed987db20e75e81">__ao2_lock</a>(bridge, <a class="code" href="../../d5/da5/astobj2_8h.html#a4e9f309cb90824e22969f0cf1b5b445da1381af5f17622000f344130ef673987b">AO2_LOCK_REQ_MUTEX</a>, <a class="code" href="../../d2/dc8/namespacemake__ari__stubs.html#a40a5d58ffa6e88aa578d6683ac413105">file</a>, <span class="keyword">function</span>, line, <a class="code" href="../../dc/df2/ast__expr2f_8c.html#a1b0936415a643c88ce543099c10e0d7f">var</a>);</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;}</div><div class="ttc" id="namespacemake__ari__stubs_html_a40a5d58ffa6e88aa578d6683ac413105"><div class="ttname"><a href="../../d2/dc8/namespacemake__ari__stubs.html#a40a5d58ffa6e88aa578d6683ac413105">make_ari_stubs.file</a></div><div class="ttdeci">file</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d28/make__ari__stubs_8py_source.html#l00025">make_ari_stubs.py:25</a></div></div>
<div class="ttc" id="astobj2_8h_html_ae8abe54e1e1460641ed987db20e75e81"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ae8abe54e1e1460641ed987db20e75e81">__ao2_lock</a></div><div class="ttdeci">int __ao2_lock(void *a, enum ao2_lock_req lock_how, const char *file, const char *func, int line, const char *var)</div><div class="ttdoc">Lock an object. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00222">astobj2.c:222</a></div></div>
<div class="ttc" id="ast__expr2f_8c_html_a1b0936415a643c88ce543099c10e0d7f"><div class="ttname"><a href="../../dc/df2/ast__expr2f_8c.html#a1b0936415a643c88ce543099c10e0d7f">var</a></div><div class="ttdeci">#define var</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/ast__expr2f_8c_source.html#l00614">ast_expr2f.c:614</a></div></div>
<div class="ttc" id="astobj2_8h_html_a4e9f309cb90824e22969f0cf1b5b445da1381af5f17622000f344130ef673987b"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a4e9f309cb90824e22969f0cf1b5b445da1381af5f17622000f344130ef673987b">AO2_LOCK_REQ_MUTEX</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00703">astobj2.h:703</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa480b74d4bd30d30c07a1f7276733188"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa480b74d4bd30d30c07a1f7276733188">&#9670;&nbsp;</a></span>_ast_bridge_trylock()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int _ast_bridge_trylock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *&#160;</td>
          <td class="paramname"><em>bridge</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>function</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>line</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>var</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d56/bridge_8h_source.html#l00468">468</a> of file <a class="el" href="../../d4/d56/bridge_8h_source.html">bridge.h</a>.</p>

<p class="reference">References <a class="el" href="../../da/df7/astobj2_8c_source.html#l00342">__ao2_trylock()</a>, and <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00703">AO2_LOCK_REQ_MUTEX</a>.</p>
<div class="fragment"><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;{</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d5/da5/astobj2_8h.html#a321ba5fa712b06adeedb310a1fe519f4">__ao2_trylock</a>(bridge, <a class="code" href="../../d5/da5/astobj2_8h.html#a4e9f309cb90824e22969f0cf1b5b445da1381af5f17622000f344130ef673987b">AO2_LOCK_REQ_MUTEX</a>, <a class="code" href="../../d2/dc8/namespacemake__ari__stubs.html#a40a5d58ffa6e88aa578d6683ac413105">file</a>, <span class="keyword">function</span>, line, <a class="code" href="../../dc/df2/ast__expr2f_8c.html#a1b0936415a643c88ce543099c10e0d7f">var</a>);</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;}</div><div class="ttc" id="namespacemake__ari__stubs_html_a40a5d58ffa6e88aa578d6683ac413105"><div class="ttname"><a href="../../d2/dc8/namespacemake__ari__stubs.html#a40a5d58ffa6e88aa578d6683ac413105">make_ari_stubs.file</a></div><div class="ttdeci">file</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d28/make__ari__stubs_8py_source.html#l00025">make_ari_stubs.py:25</a></div></div>
<div class="ttc" id="ast__expr2f_8c_html_a1b0936415a643c88ce543099c10e0d7f"><div class="ttname"><a href="../../dc/df2/ast__expr2f_8c.html#a1b0936415a643c88ce543099c10e0d7f">var</a></div><div class="ttdeci">#define var</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/ast__expr2f_8c_source.html#l00614">ast_expr2f.c:614</a></div></div>
<div class="ttc" id="astobj2_8h_html_a4e9f309cb90824e22969f0cf1b5b445da1381af5f17622000f344130ef673987b"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a4e9f309cb90824e22969f0cf1b5b445da1381af5f17622000f344130ef673987b">AO2_LOCK_REQ_MUTEX</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00703">astobj2.h:703</a></div></div>
<div class="ttc" id="astobj2_8h_html_a321ba5fa712b06adeedb310a1fe519f4"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a321ba5fa712b06adeedb310a1fe519f4">__ao2_trylock</a></div><div class="ttdeci">int __ao2_trylock(void *a, enum ao2_lock_req lock_how, const char *file, const char *func, int line, const char *var)</div><div class="ttdoc">Try locking– (don&amp;#39;t block if fail) </div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00342">astobj2.c:342</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2fa782ceb590c4d6b7dd8e7a0686f1d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2fa782ceb590c4d6b7dd8e7a0686f1d7">&#9670;&nbsp;</a></span>_ast_bridge_unlock()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void _ast_bridge_unlock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *&#160;</td>
          <td class="paramname"><em>bridge</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>function</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>line</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>var</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/d56/bridge_8h_source.html#l00494">494</a> of file <a class="el" href="../../d4/d56/bridge_8h_source.html">bridge.h</a>.</p>

<p class="reference">References <a class="el" href="../../da/df7/astobj2_8c_source.html#l00288">__ao2_unlock()</a>.</p>
<div class="fragment"><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;{</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#ae77cde78a0e0ae3e75a2911857bfadc5">__ao2_unlock</a>(bridge, <a class="code" href="../../d2/dc8/namespacemake__ari__stubs.html#a40a5d58ffa6e88aa578d6683ac413105">file</a>, <span class="keyword">function</span>, line, <a class="code" href="../../dc/df2/ast__expr2f_8c.html#a1b0936415a643c88ce543099c10e0d7f">var</a>);</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;}</div><div class="ttc" id="namespacemake__ari__stubs_html_a40a5d58ffa6e88aa578d6683ac413105"><div class="ttname"><a href="../../d2/dc8/namespacemake__ari__stubs.html#a40a5d58ffa6e88aa578d6683ac413105">make_ari_stubs.file</a></div><div class="ttdeci">file</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d28/make__ari__stubs_8py_source.html#l00025">make_ari_stubs.py:25</a></div></div>
<div class="ttc" id="ast__expr2f_8c_html_a1b0936415a643c88ce543099c10e0d7f"><div class="ttname"><a href="../../dc/df2/ast__expr2f_8c.html#a1b0936415a643c88ce543099c10e0d7f">var</a></div><div class="ttdeci">#define var</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df2/ast__expr2f_8c_source.html#l00614">ast_expr2f.c:614</a></div></div>
<div class="ttc" id="astobj2_8h_html_ae77cde78a0e0ae3e75a2911857bfadc5"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ae77cde78a0e0ae3e75a2911857bfadc5">__ao2_unlock</a></div><div class="ttdeci">int __ao2_unlock(void *a, const char *file, const char *func, int line, const char *var)</div><div class="ttdoc">Unlock an object. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00288">astobj2.c:288</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a32767ed0f51795590f41a662523c88b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a32767ed0f51795590f41a662523c88b0">&#9670;&nbsp;</a></span>ast_bridge_base_new()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a>* ast_bridge_base_new </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>capabilities</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>creator</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a new base class bridge. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">capabilities</td><td>The capabilities that we require to be used on the bridge </td></tr>
    <tr><td class="paramname">flags</td><td>Flags that will alter the behavior of the bridge </td></tr>
    <tr><td class="paramname">creator</td><td>Entity that created the bridge (optional) </td></tr>
    <tr><td class="paramname">name</td><td>Name given to the bridge by its creator (optional, requires named creator) </td></tr>
    <tr><td class="paramname">id</td><td>Unique ID given to the bridge by its creator (optional)</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">a</td><td>pointer to a new bridge on success </td></tr>
    <tr><td class="paramname">NULL</td><td>on failure</td></tr>
  </table>
  </dd>
</dl>
<p>Example usage:</p>
<div class="fragment"><div class="line"><span class="keyword">struct </span><a class="code" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *bridge;</div><div class="line">bridge = <a class="code" href="../../d4/d56/bridge_8h.html#a32767ed0f51795590f41a662523c88b0">ast_bridge_base_new</a>(<a class="code" href="../../d4/d56/bridge_8h.html#a815c9b3e933dfd4b8f523cf55caa5bbfaf483c951b835fcc35da807b6a4b12509">AST_BRIDGE_CAPABILITY_1TO1MIX</a>, <a class="code" href="../../dc/d7a/bridge__features_8h.html#a65c2644d2eadb31bcec0aaeb41cb3444aab11deff15a9ae22b58e49e9d6d53e16">AST_BRIDGE_FLAG_DISSOLVE_HANGUP</a>);</div></div><!-- fragment --><p>This creates a no frills two party bridge that will be destroyed once one of the channels hangs up. </p>

<p class="definition">Definition at line <a class="el" href="../../d0/d95/bridge_8c_source.html#l00960">960</a> of file <a class="el" href="../../d0/d95/bridge_8c_source.html">bridge.c</a>.</p>

<p class="reference">References <a class="el" href="../../d0/d95/bridge_8c_source.html#l00157">bridge_manager_request::bridge</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l00724">bridge_alloc()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l00760">bridge_base_init()</a>, and <a class="el" href="../../d0/d95/bridge_8c_source.html#l00709">bridge_register()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d8e/test__cdr_8c_source.html#l02030">AST_TEST_DEFINE()</a>, <a class="el" href="../../dc/d22/app__bridgewait_8c_source.html#l00341">get_wait_bridge_wrapper()</a>, and <a class="el" href="../../d0/dcf/app__confbridge_8c_source.html#l01679">join_conference_bridge()</a>.</p>
<div class="fragment"><div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;{</div><div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;   <span class="keywordtype">void</span> *bridge;</div><div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;</div><div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;   bridge = <a class="code" href="../../d0/d95/bridge_8c.html#adf0e64783980f762008ac238f2dbe715">bridge_alloc</a>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../d4/d84/structast__bridge.html">ast_bridge</a>), &amp;<a class="code" href="../../d0/d95/bridge_8c.html#a5a2fef16c6520d265d7f81002eb96ee7">ast_bridge_base_v_table</a>);</div><div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;   bridge = <a class="code" href="../../d0/d95/bridge_8c.html#a38c501242153bbe13d0eda31220637b8">bridge_base_init</a>(bridge, capabilities, flags, <a class="code" href="../../d4/d84/structast__bridge.html#a6e62c2774ca18846e6e45057fb8b7a22">creator</a>, <a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>, <span class="keywordtype">id</span>);</div><div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;   bridge = <a class="code" href="../../d0/d95/bridge_8c.html#a8690315fd0d12e16671f9d22eacfa8f0">bridge_register</a>(bridge);</div><div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;   <span class="keywordflow">return</span> bridge;</div><div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;}</div><div class="ttc" id="bridge_8c_html_adf0e64783980f762008ac238f2dbe715"><div class="ttname"><a href="../../d0/d95/bridge_8c.html#adf0e64783980f762008ac238f2dbe715">bridge_alloc</a></div><div class="ttdeci">struct ast_bridge * bridge_alloc(size_t size, const struct ast_bridge_methods *v_table)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l00724">bridge.c:724</a></div></div>
<div class="ttc" id="bridge_8c_html_a5a2fef16c6520d265d7f81002eb96ee7"><div class="ttname"><a href="../../d0/d95/bridge_8c.html#a5a2fef16c6520d265d7f81002eb96ee7">ast_bridge_base_v_table</a></div><div class="ttdeci">struct ast_bridge_methods ast_bridge_base_v_table</div><div class="ttdoc">Bridge base class virtual method table. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l00949">bridge.c:949</a></div></div>
<div class="ttc" id="bridge_8c_html_a8690315fd0d12e16671f9d22eacfa8f0"><div class="ttname"><a href="../../d0/d95/bridge_8c.html#a8690315fd0d12e16671f9d22eacfa8f0">bridge_register</a></div><div class="ttdeci">struct ast_bridge * bridge_register(struct ast_bridge *bridge)</div><div class="ttdoc">Register the new bridge with the system. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l00709">bridge.c:709</a></div></div>
<div class="ttc" id="structast__bridge_html"><div class="ttname"><a href="../../d4/d84/structast__bridge.html">ast_bridge</a></div><div class="ttdoc">Structure that contains information about a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00357">bridge.h:357</a></div></div>
<div class="ttc" id="cdr__mysql_8c_html_a0980a105ccb863d8008eb6201a51da52"><div class="ttname"><a href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a></div><div class="ttdeci">static const char name[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/cdr__mysql_8c_source.html#l00074">cdr_mysql.c:74</a></div></div>
<div class="ttc" id="structast__bridge_html_a6e62c2774ca18846e6e45057fb8b7a22"><div class="ttname"><a href="../../d4/d84/structast__bridge.html#a6e62c2774ca18846e6e45057fb8b7a22">ast_bridge::creator</a></div><div class="ttdeci">const ast_string_field creator</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00409">bridge.h:409</a></div></div>
<div class="ttc" id="bridge_8c_html_a38c501242153bbe13d0eda31220637b8"><div class="ttname"><a href="../../d0/d95/bridge_8c.html#a38c501242153bbe13d0eda31220637b8">bridge_base_init</a></div><div class="ttdeci">struct ast_bridge * bridge_base_init(struct ast_bridge *self, uint32_t capabilities, unsigned int flags, const char *creator, const char *name, const char *id)</div><div class="ttdoc">Initialize the base class of the bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l00760">bridge.c:760</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a0075715d330c8492e03c6d3ca3f48e13"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0075715d330c8492e03c6d3ca3f48e13">&#9670;&nbsp;</a></span>ast_bridge_depart()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_bridge_depart </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Depart a channel from a bridge. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chan</td><td>Channel to depart</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>chan is locked by this function.</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>on success </td></tr>
    <tr><td class="paramname">-1</td><td>on failure</td></tr>
  </table>
  </dd>
</dl>
<p>Example usage:</p>
<div class="fragment"><div class="line"><a class="code" href="../../d4/d56/bridge_8h.html#a0075715d330c8492e03c6d3ca3f48e13">ast_bridge_depart</a>(chan);</div></div><!-- fragment --><p>This removes the channel pointed to by the chan pointer from any bridge it may be in and gives control to the calling thread. This does not hang up the channel.</p>
<dl class="section note"><dt>Note</dt><dd>This API call can only be used on channels that were added to the bridge using the ast_bridge_impart API call with the AST_BRIDGE_IMPART_CHAN_DEPARTABLE flag. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d0/d95/bridge_8c_source.html#l01952">1952</a> of file <a class="el" href="../../d0/d95/bridge_8c_source.html">bridge.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00695">ast_assert</a>, <a class="el" href="../../d3/d32/bridge__channel_8c_source.html#l00314">ast_bridge_channel_leave_bridge()</a>, <a class="el" href="../../d4/da3/causes_8h_source.html#l00105">AST_CAUSE_NORMAL_CLEARING</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l01251">ast_channel_internal_bridge_channel()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l01255">ast_channel_internal_bridge_channel_set()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02945">ast_channel_lock</a>, <a class="el" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../de/d41/bridge__channel_8h_source.html#l00066">BRIDGE_CHANNEL_STATE_END_NO_DISSOLVE</a>, <a class="el" href="../../de/d41/bridge__channel_8h_source.html#l00091">ast_bridge_channel::chan</a>, <a class="el" href="../../de/d41/bridge__channel_8h_source.html#l00129">ast_bridge_channel::depart_wait</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00749">SCOPE_TRACE</a>, and <a class="el" href="../../de/d41/bridge__channel_8h_source.html#l00118">ast_bridge_channel::thread</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/de3/control_8c_source.html#l00368">app_control_continue()</a>, <a class="el" href="../../d6/d14/parking__tests_8c_source.html#l00234">AST_TEST_DEFINE()</a>, <a class="el" href="../../de/de3/control_8c_source.html#l01284">control_swap_channel_in_bridge()</a>, <a class="el" href="../../de/de3/control_8c_source.html#l01069">depart_channel()</a>, and <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l01324">stasis_app_exec()</a>.</p>
<div class="fragment"><div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160;{</div><div class="line"><a name="l01954"></a><span class="lineno"> 1954</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *bridge_channel;</div><div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160;   <span class="keywordtype">int</span> departable;</div><div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#ac7388257651bb6a92d3208512fab0ba6">SCOPE_TRACE</a>(1, <span class="stringliteral">&quot;%s\n&quot;</span>, <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan));</div><div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160;</div><div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(chan);</div><div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160;   bridge_channel = <a class="code" href="../../d5/d7b/channel_8h.html#a5e41daaa81df59fc1e8eea2796029c31">ast_channel_internal_bridge_channel</a>(chan);</div><div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160;   departable = bridge_channel &amp;&amp; bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#aad730dbfaf13dfa770055ce31d0a45e4">depart_wait</a>;</div><div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160;   <span class="keywordflow">if</span> (!departable) {</div><div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Channel %s cannot be departed.\n&quot;</span>,</div><div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160;         <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan));</div><div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160;      <span class="comment">/*</span></div><div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160;<span class="comment">       * Should never happen.  It likely means that</span></div><div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;<span class="comment">       * ast_bridge_depart() is called by two threads for the same</span></div><div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160;<span class="comment">       * channel, the channel was never imparted to be departed, or it</span></div><div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160;<span class="comment">       * has already been departed.</span></div><div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;<span class="comment">       */</span></div><div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160;      <a class="code" href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a>(0);</div><div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160;   }</div><div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160;</div><div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160;   <span class="comment">/*</span></div><div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;<span class="comment">    * We are claiming the bridge_channel reference held by</span></div><div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160;<span class="comment">    * bridge_channel_depart_thread().</span></div><div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;</div><div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;   <a class="code" href="../../de/d41/bridge__channel_8h.html#ad58d921ec1c5a6f12be8f94327dd98c0">ast_bridge_channel_leave_bridge</a>(bridge_channel,</div><div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;      <a class="code" href="../../de/d41/bridge__channel_8h.html#ab44a00c2c23eaeec1d8b61eb254eecaaa708398f920511beb8ea9df06bf16daac">BRIDGE_CHANNEL_STATE_END_NO_DISSOLVE</a>, <a class="code" href="../../d4/da3/causes_8h.html#af2235eb1c27925e4020ce286255d165f">AST_CAUSE_NORMAL_CLEARING</a>);</div><div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160;</div><div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160;   <span class="comment">/* Wait for the depart thread to die */</span></div><div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;Waiting for %p(%s) bridge thread to die.\n&quot;</span>,</div><div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160;      bridge_channel, <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>));</div><div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;   pthread_join(bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a01f75a9ad916f63a94e06a27635ba278">thread</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;</div><div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(chan);</div><div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a41082b7d1c406087d152d8f40812b7a2">ast_channel_internal_bridge_channel_set</a>(chan, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;</div><div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;   <span class="comment">/* We can get rid of the bridge_channel after the depart thread has died. */</span></div><div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(bridge_channel, -1);</div><div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;}</div><div class="ttc" id="channel_8h_html_a41082b7d1c406087d152d8f40812b7a2"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a41082b7d1c406087d152d8f40812b7a2">ast_channel_internal_bridge_channel_set</a></div><div class="ttdeci">void ast_channel_internal_bridge_channel_set(struct ast_channel *chan, struct ast_bridge_channel *value)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l01255">channel_internal_api.c:1255</a></div></div>
<div class="ttc" id="channel_8h_html_a493bdebe876caafb8ee535853310364a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a></div><div class="ttdeci">#define ast_channel_lock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02945">channel.h:2945</a></div></div>
<div class="ttc" id="structast__bridge__channel_html_a01f75a9ad916f63a94e06a27635ba278"><div class="ttname"><a href="../../d5/dca/structast__bridge__channel.html#a01f75a9ad916f63a94e06a27635ba278">ast_bridge_channel::thread</a></div><div class="ttdeci">pthread_t thread</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00118">bridge_channel.h:118</a></div></div>
<div class="ttc" id="bridge__channel_8h_html_ab44a00c2c23eaeec1d8b61eb254eecaaa708398f920511beb8ea9df06bf16daac"><div class="ttname"><a href="../../de/d41/bridge__channel_8h.html#ab44a00c2c23eaeec1d8b61eb254eecaaa708398f920511beb8ea9df06bf16daac">BRIDGE_CHANNEL_STATE_END_NO_DISSOLVE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00066">bridge_channel.h:66</a></div></div>
<div class="ttc" id="utils_8h_html_a24374da24af1931d8a7ccde5b352bb2c"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a></div><div class="ttdeci">#define ast_assert(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00695">utils.h:695</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="causes_8h_html_af2235eb1c27925e4020ce286255d165f"><div class="ttname"><a href="../../d4/da3/causes_8h.html#af2235eb1c27925e4020ce286255d165f">AST_CAUSE_NORMAL_CLEARING</a></div><div class="ttdeci">#define AST_CAUSE_NORMAL_CLEARING</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/da3/causes_8h_source.html#l00105">causes.h:105</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="channel_8h_html_a5e41daaa81df59fc1e8eea2796029c31"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a5e41daaa81df59fc1e8eea2796029c31">ast_channel_internal_bridge_channel</a></div><div class="ttdeci">struct ast_bridge_channel * ast_channel_internal_bridge_channel(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l01251">channel_internal_api.c:1251</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="bridge__channel_8h_html_ad58d921ec1c5a6f12be8f94327dd98c0"><div class="ttname"><a href="../../de/d41/bridge__channel_8h.html#ad58d921ec1c5a6f12be8f94327dd98c0">ast_bridge_channel_leave_bridge</a></div><div class="ttdeci">void ast_bridge_channel_leave_bridge(struct ast_bridge_channel *bridge_channel, enum bridge_channel_state new_state, int cause)</div><div class="ttdoc">Set bridge channel state to leave bridge (if not leaving already). </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d32/bridge__channel_8c_source.html#l00314">bridge_channel.c:314</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="structast__bridge__channel_html_a84d1435c5b8d387806714ea7079304b7"><div class="ttname"><a href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">ast_bridge_channel::chan</a></div><div class="ttdeci">struct ast_channel * chan</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00091">bridge_channel.h:91</a></div></div>
<div class="ttc" id="structast__bridge__channel_html"><div class="ttname"><a href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a></div><div class="ttdoc">Structure that contains information regarding a channel in a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00084">bridge_channel.h:84</a></div></div>
<div class="ttc" id="logger_8h_html_ac7388257651bb6a92d3208512fab0ba6"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#ac7388257651bb6a92d3208512fab0ba6">SCOPE_TRACE</a></div><div class="ttdeci">#define SCOPE_TRACE(level,...)</div><div class="ttdoc">Print a trace message with details when a scope is entered or existed. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00749">logger.h:749</a></div></div>
<div class="ttc" id="channel_8h_html_a7ca2fda13b129a55c251b56729de285b"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a></div><div class="ttdeci">const char * ast_channel_name(const struct ast_channel *chan)</div></div>
<div class="ttc" id="structast__bridge__channel_html_aad730dbfaf13dfa770055ce31d0a45e4"><div class="ttname"><a href="../../d5/dca/structast__bridge__channel.html#aad730dbfaf13dfa770055ce31d0a45e4">ast_bridge_channel::depart_wait</a></div><div class="ttdeci">unsigned int depart_wait</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00129">bridge_channel.h:129</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a4adad484788bb018b8699eeed2ddfedd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4adad484788bb018b8699eeed2ddfedd">&#9670;&nbsp;</a></span>ast_bridge_destroy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_bridge_destroy </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *&#160;</td>
          <td class="paramname"><em>bridge</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cause</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destroy a bridge. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bridge</td><td>Bridge to destroy </td></tr>
    <tr><td class="paramname">cause</td><td>Cause of bridge being destroyed. (If cause &lt;= 0 then use AST_CAUSE_NORMAL_CLEARING)</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>on success </td></tr>
    <tr><td class="paramname">-1</td><td>on failure</td></tr>
  </table>
  </dd>
</dl>
<p>Example usage:</p>
<div class="fragment"><div class="line"><a class="code" href="../../d4/d56/bridge_8h.html#a4adad484788bb018b8699eeed2ddfedd">ast_bridge_destroy</a>(<a class="code" href="../../d5/dca/structast__bridge__channel.html#a4fe7571e3c1759f3689d4453c132bdb7">bridge</a>, <a class="code" href="../../d4/da3/causes_8h.html#af2235eb1c27925e4020ce286255d165f">AST_CAUSE_NORMAL_CLEARING</a>);</div></div><!-- fragment --><p>This destroys a bridge that was previously created.</p>
<dl class="section note"><dt>Note</dt><dd>While this function will kick all channels out of the bridge, channels that were added to the bridge using <a class="el" href="../../d4/d56/bridge_8h.html#a582e1dd73a483ac881cff01fa07f39ae" title="Impart a channel to a bridge (non-blocking) ">ast_bridge_impart()</a> with the flag AST_BRIDGE_IMPART_CHAN_DEPARTABLE set must have <a class="el" href="../../d4/d56/bridge_8h.html#a0075715d330c8492e03c6d3ca3f48e13" title="Depart a channel from a bridge. ">ast_bridge_depart()</a> called on them. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d0/d95/bridge_8c_source.html#l00970">970</a> of file <a class="el" href="../../d0/d95/bridge_8c_source.html">bridge.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00480">ast_bridge_lock</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00493">ast_bridge_unlock</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l00319">bridge_dissolve()</a>, and <a class="el" href="../../d4/d56/bridge_8h_source.html#l00409">ast_bridge::uniqueid</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/d92/features_8c_source.html#l00757">action_bridge()</a>, <a class="el" href="../../de/d11/app__agent__pool_8c_source.html#l01034">agent_connect_caller()</a>, <a class="el" href="../../de/d11/app__agent__pool_8c_source.html#l01481">agent_logout()</a>, <a class="el" href="../../de/d11/app__agent__pool_8c_source.html#l00761">agent_pvt_destructor()</a>, <a class="el" href="../../de/d11/app__agent__pool_8c_source.html#l01889">agent_request_exec()</a>, <a class="el" href="../../de/d11/app__agent__pool_8c_source.html#l01520">agent_run()</a>, <a class="el" href="../../d5/d92/features_8c_source.html#l00633">ast_bridge_call_with_flags()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01508">attended_transfer_properties_shutdown()</a>, <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l00795">bridge_create_common()</a>, <a class="el" href="../../d5/d92/features_8c_source.html#l01007">bridge_exec()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l00709">bridge_register()</a>, <a class="el" href="../../de/d11/app__agent__pool_8c_source.html#l01696">caller_abort_agent()</a>, <a class="el" href="../../d0/dcf/app__confbridge_8c_source.html#l01173">destroy_conference_bridge()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02727">fail_enter()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l05206">handle_bridge_destroy_specific()</a>, <a class="el" href="../../da/d10/manager__bridges_8c_source.html#l00604">manager_bridge_destroy()</a>, <a class="el" href="../../da/ded/parking__applications_8c_source.html#l00603">parked_call_app_exec()</a>, <a class="el" href="../../d7/d45/res__parking_8c_source.html#l00625">parking_lot_destructor()</a>, <a class="el" href="../../df/dae/test__bridging_8c_source.html#l00168">safe_bridge_destroy()</a>, <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l00861">stasis_app_bridge_destroy()</a>, <a class="el" href="../../de/de3/control_8c_source.html#l01680">stasis_app_control_shutdown()</a>, <a class="el" href="../../de/d11/app__agent__pool_8c_source.html#l02624">unload_module()</a>, <a class="el" href="../../dc/d22/app__bridgewait_8c_source.html#l00319">wait_bridge_wrapper_alloc()</a>, and <a class="el" href="../../dc/d22/app__bridgewait_8c_source.html#l00126">wait_bridge_wrapper_destructor()</a>.</p>
<div class="fragment"><div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;{</div><div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;Bridge %s: telling all channels to leave the party\n&quot;</span>, bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a753c7b39e3284d771f13f513b003d033">uniqueid</a>);</div><div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#ab8ee807d2c3a21d19e16fedf35c90de8">ast_bridge_lock</a>(bridge);</div><div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;   <a class="code" href="../../d0/d95/bridge_8c.html#a3dfc360c4ef5a43d854d75e9b94b58e1">bridge_dissolve</a>(bridge, cause);</div><div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#a0fb66f4741ca8d106af1917a2f1aab6e">ast_bridge_unlock</a>(bridge);</div><div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;</div><div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(bridge, -1);</div><div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;</div><div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;}</div><div class="ttc" id="structast__bridge_html_a753c7b39e3284d771f13f513b003d033"><div class="ttname"><a href="../../d4/d84/structast__bridge.html#a753c7b39e3284d771f13f513b003d033">ast_bridge::uniqueid</a></div><div class="ttdeci">const ast_string_field uniqueid</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00409">bridge.h:409</a></div></div>
<div class="ttc" id="bridge_8c_html_a3dfc360c4ef5a43d854d75e9b94b58e1"><div class="ttname"><a href="../../d0/d95/bridge_8c.html#a3dfc360c4ef5a43d854d75e9b94b58e1">bridge_dissolve</a></div><div class="ttdeci">void bridge_dissolve(struct ast_bridge *bridge, int cause)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l00319">bridge.c:319</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="bridge_8h_html_a0fb66f4741ca8d106af1917a2f1aab6e"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a0fb66f4741ca8d106af1917a2f1aab6e">ast_bridge_unlock</a></div><div class="ttdeci">#define ast_bridge_unlock(bridge)</div><div class="ttdoc">Unlock the bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00493">bridge.h:493</a></div></div>
<div class="ttc" id="bridge_8h_html_ab8ee807d2c3a21d19e16fedf35c90de8"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#ab8ee807d2c3a21d19e16fedf35c90de8">ast_bridge_lock</a></div><div class="ttdeci">#define ast_bridge_lock(bridge)</div><div class="ttdoc">Lock the bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00480">bridge.h:480</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a0a9bbd9a809f8f52c2945df40ac89abb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a9bbd9a809f8f52c2945df40ac89abb">&#9670;&nbsp;</a></span>ast_bridge_features_remove()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_bridge_features_remove </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../db/dba/structast__bridge__features.html">ast_bridge_features</a> *&#160;</td>
          <td class="paramname"><em>features</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="../../dc/d7a/bridge__features_8h.html#a41510c1f43cb3401f5c7c88d9c9a8d11">ast_bridge_hook_remove_flags</a>&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Remove marked bridge channel feature hooks. </p>
<dl class="section since"><dt>Since</dt><dd>12.0.0</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">features</td><td>Bridge features structure </td></tr>
    <tr><td class="paramname">flags</td><td>Determinator for whether hook is removed.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Nothing </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d0/d95/bridge_8c_source.html#l03568">3568</a> of file <a class="el" href="../../d0/d95/bridge_8c_source.html">bridge.c</a>.</p>

<p class="reference">References <a class="el" href="../../dc/d7a/bridge__features_8h_source.html#l00265">ast_bridge_features::dtmf_hooks</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l03530">hooks_remove_container()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l03546">hooks_remove_heap()</a>, <a class="el" href="../../dc/d7a/bridge__features_8h_source.html#l00269">ast_bridge_features::interval_hooks</a>, and <a class="el" href="../../dc/d7a/bridge__features_8h_source.html#l00267">ast_bridge_features::other_hooks</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/d95/bridge_8c_source.html#l00891">bridge_base_pull()</a>, <a class="el" href="../../d3/d32/bridge__channel_8c_source.html#l02902">bridge_channel_internal_join()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l02096">bridge_do_merge()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l02362">bridge_do_move()</a>, and <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00720">remove_hooks_on_personality_change()</a>.</p>
<div class="fragment"><div class="line"><a name="l03569"></a><span class="lineno"> 3569</span>&#160;{</div><div class="line"><a name="l03570"></a><span class="lineno"> 3570</span>&#160;   <a class="code" href="../../d0/d95/bridge_8c.html#aa42051dbe23078fa667eb4215d9a768f">hooks_remove_container</a>(features-&gt;<a class="code" href="../../db/dba/structast__bridge__features.html#a70760b613dd26b51a5667e7f0fa7fb8a">dtmf_hooks</a>, remove_flags);</div><div class="line"><a name="l03571"></a><span class="lineno"> 3571</span>&#160;   <a class="code" href="../../d0/d95/bridge_8c.html#aa42051dbe23078fa667eb4215d9a768f">hooks_remove_container</a>(features-&gt;<a class="code" href="../../db/dba/structast__bridge__features.html#a2918c32314a019cebcc4259e324a2745">other_hooks</a>, remove_flags);</div><div class="line"><a name="l03572"></a><span class="lineno"> 3572</span>&#160;   <a class="code" href="../../d0/d95/bridge_8c.html#a252b56143e4cba04ba2fe06b0ec08da7">hooks_remove_heap</a>(features-&gt;<a class="code" href="../../db/dba/structast__bridge__features.html#acf866276f9e32cb984c935b02d749e6f">interval_hooks</a>, remove_flags);</div><div class="line"><a name="l03573"></a><span class="lineno"> 3573</span>&#160;}</div><div class="ttc" id="structast__bridge__features_html_a70760b613dd26b51a5667e7f0fa7fb8a"><div class="ttname"><a href="../../db/dba/structast__bridge__features.html#a70760b613dd26b51a5667e7f0fa7fb8a">ast_bridge_features::dtmf_hooks</a></div><div class="ttdeci">struct ao2_container * dtmf_hooks</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00265">bridge_features.h:265</a></div></div>
<div class="ttc" id="bridge_8c_html_a252b56143e4cba04ba2fe06b0ec08da7"><div class="ttname"><a href="../../d0/d95/bridge_8c.html#a252b56143e4cba04ba2fe06b0ec08da7">hooks_remove_heap</a></div><div class="ttdeci">static void hooks_remove_heap(struct ast_heap *hooks, enum ast_bridge_hook_remove_flags remove_flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l03546">bridge.c:3546</a></div></div>
<div class="ttc" id="bridge_8c_html_aa42051dbe23078fa667eb4215d9a768f"><div class="ttname"><a href="../../d0/d95/bridge_8c.html#aa42051dbe23078fa667eb4215d9a768f">hooks_remove_container</a></div><div class="ttdeci">static void hooks_remove_container(struct ao2_container *hooks, enum ast_bridge_hook_remove_flags remove_flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l03530">bridge.c:3530</a></div></div>
<div class="ttc" id="structast__bridge__features_html_acf866276f9e32cb984c935b02d749e6f"><div class="ttname"><a href="../../db/dba/structast__bridge__features.html#acf866276f9e32cb984c935b02d749e6f">ast_bridge_features::interval_hooks</a></div><div class="ttdeci">struct ast_heap * interval_hooks</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00269">bridge_features.h:269</a></div></div>
<div class="ttc" id="structast__bridge__features_html_a2918c32314a019cebcc4259e324a2745"><div class="ttname"><a href="../../db/dba/structast__bridge__features.html#a2918c32314a019cebcc4259e324a2745">ast_bridge_features::other_hooks</a></div><div class="ttdeci">struct ao2_container * other_hooks</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00267">bridge_features.h:267</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a69034688e4e730fca4c3e12b7ac38300"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a69034688e4e730fca4c3e12b7ac38300">&#9670;&nbsp;</a></span>ast_bridge_find_by_id()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a>* ast_bridge_find_by_id </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>bridge_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Find bridge by id. </p>
<dl class="section since"><dt>Since</dt><dd>12.0.0</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bridge_id</td><td>Bridge identifier</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>NULL bridge not found </dd>
<dd>
non-NULL reference to bridge </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d0/d95/bridge_8c_source.html#l05070">5070</a> of file <a class="el" href="../../d0/d95/bridge_8c_source.html">bridge.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01756">ao2_find</a>, and <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01105">OBJ_SEARCH_KEY</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/d0f/stasis__bridges_8c_source.html#l01359">ast_bridge_get_snapshot_by_uniqueid()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l05241">complete_bridge_participant()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l05206">handle_bridge_destroy_specific()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l05269">handle_bridge_kick_channel()</a>, <a class="el" href="../../da/d10/manager__bridges_8c_source.html#l00604">manager_bridge_destroy()</a>, and <a class="el" href="../../da/d10/manager__bridges_8c_source.html#l00626">manager_bridge_kick()</a>.</p>
<div class="fragment"><div class="line"><a name="l05071"></a><span class="lineno"> 5071</span>&#160;{</div><div class="line"><a name="l05072"></a><span class="lineno"> 5072</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a>(<a class="code" href="../../d0/d95/bridge_8c.html#aaa64e0df7082a1a31b65d0c956bc2534">bridges</a>, bridge_id, <a class="code" href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54">OBJ_SEARCH_KEY</a>);</div><div class="line"><a name="l05073"></a><span class="lineno"> 5073</span>&#160;}</div><div class="ttc" id="astobj2_8h_html_ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ad9d009e87e737af900825b36db55a35caa13a6e0771cc457e86f425d95c3b8d54">OBJ_SEARCH_KEY</a></div><div class="ttdoc">The arg parameter is a search key, but is not an object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01105">astobj2.h:1105</a></div></div>
<div class="ttc" id="bridge_8c_html_aaa64e0df7082a1a31b65d0c956bc2534"><div class="ttname"><a href="../../d0/d95/bridge_8c.html#aaa64e0df7082a1a31b65d0c956bc2534">bridges</a></div><div class="ttdeci">static struct ao2_container * bridges</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l00123">bridge.c:123</a></div></div>
<div class="ttc" id="astobj2_8h_html_a911e0703891a9a7aaf73978152092586"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a911e0703891a9a7aaf73978152092586">ao2_find</a></div><div class="ttdeci">#define ao2_find(container, arg, flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01756">astobj2.h:1756</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a582e1dd73a483ac881cff01fa07f39ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a582e1dd73a483ac881cff01fa07f39ae">&#9670;&nbsp;</a></span>ast_bridge_impart()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_bridge_impart </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *&#160;</td>
          <td class="paramname"><em>bridge</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>swap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../db/dba/structast__bridge__features.html">ast_bridge_features</a> *&#160;</td>
          <td class="paramname"><em>features</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="../../d4/d56/bridge_8h.html#ac086b7d74fb40c2ede8514274585b101">ast_bridge_impart_flags</a>&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Impart a channel to a bridge (non-blocking) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bridge</td><td>Bridge to impart on </td></tr>
    <tr><td class="paramname">chan</td><td>Channel to impart (The channel reference is stolen if impart successful.) </td></tr>
    <tr><td class="paramname">swap</td><td>Channel to swap out if swapping. NULL if not swapping. </td></tr>
    <tr><td class="paramname">features</td><td>Bridge features structure. </td></tr>
    <tr><td class="paramname">flags</td><td>defined by enum ast_bridge_impart_flags.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>The given bridge must be unlocked when calling this function.</dd>
<dd>
The features parameter must be NULL or obtained by <a class="el" href="../../dc/d7a/bridge__features_8h.html#abf9e5d393615c63d27e0bd530301a1ed" title="Allocate a new bridge features struct. ">ast_bridge_features_new()</a>. You must not dereference features after calling even if the call fails.</dd>
<dd>
chan is locked by this function.</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>on success </td></tr>
    <tr><td class="paramname">-1</td><td>on failure (Caller still has ownership of chan)</td></tr>
  </table>
  </dd>
</dl>
<p>Example usage:</p>
<div class="fragment"><div class="line"><a class="code" href="../../d4/d56/bridge_8h.html#a582e1dd73a483ac881cff01fa07f39ae">ast_bridge_impart</a>(<a class="code" href="../../d5/dca/structast__bridge__channel.html#a4fe7571e3c1759f3689d4453c132bdb7">bridge</a>, <a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d4/d56/bridge_8h.html#ac086b7d74fb40c2ede8514274585b101aecfd8e6279a21b20ee4db0ab69c847e8">AST_BRIDGE_IMPART_CHAN_INDEPENDENT</a>);</div></div><!-- fragment --><p>This adds a channel pointed to by the chan pointer to the bridge pointed to by the bridge pointer. This function will return immediately and will not wait until the channel is no longer part of the bridge.</p>
<p>If this channel will be replacing another channel the other channel can be specified in the swap parameter. The other channel will be thrown out of the bridge in an atomic fashion.</p>
<p>If channel specific features are enabled, a pointer to the features structure can be specified in the features parameter.</p>
<dl class="section note"><dt>Note</dt><dd>If you impart a channel with AST_BRIDGE_IMPART_CHAN_DEPARTABLE you MUST <a class="el" href="../../d4/d56/bridge_8h.html#a0075715d330c8492e03c6d3ca3f48e13" title="Depart a channel from a bridge. ">ast_bridge_depart()</a> the channel if this call succeeds. The bridge channel thread is created join-able. The implication is that the channel is special and will not behave like a normal channel.</dd>
<dd>
If you impart a channel with AST_BRIDGE_IMPART_CHAN_INDEPENDENT you must not <a class="el" href="../../d4/d56/bridge_8h.html#a0075715d330c8492e03c6d3ca3f48e13" title="Depart a channel from a bridge. ">ast_bridge_depart()</a> the channel. The bridge channel thread is created non-join-able. The channel must be treated as if it were placed into the bridge by <a class="el" href="../../d4/d56/bridge_8h.html#a116a27b8e1e111729ee1828d4fab6b5a" title="Join a channel to a bridge (blocking) ">ast_bridge_join()</a>. Channels placed into a bridge by <a class="el" href="../../d4/d56/bridge_8h.html#a116a27b8e1e111729ee1828d4fab6b5a" title="Join a channel to a bridge (blocking) ">ast_bridge_join()</a> are removed by a third party using <a class="el" href="../../d4/d56/bridge_8h.html#a66d6a521530f4fb208eb8ee33e257b6c" title="Remove a channel from a bridge. ">ast_bridge_remove()</a>.</dd>
<dd>
Any callbacks on the channel will be invoked on failure with the reason as AST_BRIDGE_AFTER_CB_REASON_IMPART_FAILED. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d0/d95/bridge_8c_source.html#l01924">1924</a> of file <a class="el" href="../../d0/d95/bridge_8c_source.html">bridge.c</a>.</p>

<p class="reference">References <a class="el" href="../../d8/d85/bridge__after_8h_source.html#l00049">AST_BRIDGE_AFTER_CB_REASON_IMPART_FAILED</a>, <a class="el" href="../../df/db6/bridge__after_8c_source.html#l00247">ast_bridge_discard_after_callback()</a>, <a class="el" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name()</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00200">ast_cond_destroy</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00199">ast_cond_init</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00186">ast_mutex_destroy</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00184">ast_mutex_init</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l01626">bridge_channel_impart_signal()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l01823">bridge_impart_internal()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l01520">bridge_channel_impart_cond::cond</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l01522">bridge_channel_impart_cond::done</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l01518">bridge_channel_impart_cond::lock</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00749">SCOPE_TRACE</a>, and <a class="el" href="../../d4/d56/bridge_8h_source.html#l00409">ast_bridge::uniqueid</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/de3/control_8c_source.html#l01041">add_to_dial_bridge()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l02519">ast_bridge_add_channel()</a>, <a class="el" href="../../d5/d92/features_8c_source.html#l00633">ast_bridge_call_with_flags()</a>, <a class="el" href="../../d6/d14/parking__tests_8c_source.html#l00234">AST_TEST_DEFINE()</a>, <a class="el" href="../../df/d2e/core__unreal_8c_source.html#l00928">ast_unreal_channel_push_to_bridge()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l04280">attended_transfer_bridge()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l04178">blind_transfer_bridge()</a>, <a class="el" href="../../d8/d4f/conf__chan__announce_8c_source.html#l00144">conf_announce_channel_push()</a>, <a class="el" href="../../d0/dcf/app__confbridge_8c_source.html#l00851">conf_start_record()</a>, <a class="el" href="../../de/de3/control_8c_source.html#l01284">control_swap_channel_in_bridge()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l03295">feature_attended_transfer()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l25984">handle_invite_replaces()</a>, <a class="el" href="../../de/d47/core__local_8c_source.html#l00677">local_call()</a>, <a class="el" href="../../d1/db7/parking__bridge__features_8c_source.html#l00336">parking_blind_transfer_park()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02517">recalling_exit()</a>, <a class="el" href="../../d1/d75/res__pjsip__refer_8c_source.html#l00969">refer_incoming_invite_request()</a>, and <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02603">retransfer_enter()</a>.</p>
<div class="fragment"><div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;{</div><div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d5/df4/structbridge__channel__impart__cond.html">bridge_channel_impart_cond</a> <a class="code" href="../../df/d44/app__meetme_8c.html#a1c7181c39f99ee801943a0d0aa9872b9">cond</a> = {</div><div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160;      .done = 0,</div><div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;   };</div><div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#ac7388257651bb6a92d3208512fab0ba6">SCOPE_TRACE</a>(1, <span class="stringliteral">&quot;%s Bridge: %s\n&quot;</span>, <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan), bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a753c7b39e3284d771f13f513b003d033">uniqueid</a>);</div><div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;</div><div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a76e8ed6bb354be6c6dd9e51acc1d7a1b">ast_mutex_init</a>(&amp;cond.<a class="code" href="../../d5/df4/structbridge__channel__impart__cond.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>);</div><div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a69e9591803d36f5683eb9b084442be9b">ast_cond_init</a>(&amp;cond.<a class="code" href="../../d5/df4/structbridge__channel__impart__cond.html#a1c7181c39f99ee801943a0d0aa9872b9">cond</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;</div><div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;   res = <a class="code" href="../../d0/d95/bridge_8c.html#ac529e02d743fa8b819a18cf73c5ffa87">bridge_impart_internal</a>(bridge, chan, swap, features, flags, &amp;cond);</div><div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;   <span class="keywordflow">if</span> (res) {</div><div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160;      <span class="comment">/* Impart failed.  Signal any other waiting impart threads */</span></div><div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;      <a class="code" href="../../d8/d85/bridge__after_8h.html#a10b6f3295f847d20f6706a222fe55828">ast_bridge_discard_after_callback</a>(chan, <a class="code" href="../../d8/d85/bridge__after_8h.html#a1b15a371c654cfe77de053afe0994b9ca2a6093cf7896d7224f478d6b8883bed2">AST_BRIDGE_AFTER_CB_REASON_IMPART_FAILED</a>);</div><div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160;      <a class="code" href="../../d0/d95/bridge_8c.html#a74e792941ccfcad7b6ba895ec44b2025">bridge_channel_impart_signal</a>(chan);</div><div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;   }</div><div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;</div><div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#a1ea2f4040a736cddbecea48b30ffedfd">ast_cond_destroy</a>(&amp;cond.<a class="code" href="../../d5/df4/structbridge__channel__impart__cond.html#a1c7181c39f99ee801943a0d0aa9872b9">cond</a>);</div><div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;   <a class="code" href="../../dd/d42/lock_8h.html#ab8977a71822daa556f19f30ba6eec765">ast_mutex_destroy</a>(&amp;cond.<a class="code" href="../../d5/df4/structbridge__channel__impart__cond.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>);</div><div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160;</div><div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;}</div><div class="ttc" id="structbridge__channel__impart__cond_html"><div class="ttname"><a href="../../d5/df4/structbridge__channel__impart__cond.html">bridge_channel_impart_cond</a></div><div class="ttdoc">Internal bridge impart wait condition and associated conditional. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l01515">bridge.c:1515</a></div></div>
<div class="ttc" id="structast__bridge_html_a753c7b39e3284d771f13f513b003d033"><div class="ttname"><a href="../../d4/d84/structast__bridge.html#a753c7b39e3284d771f13f513b003d033">ast_bridge::uniqueid</a></div><div class="ttdeci">const ast_string_field uniqueid</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00409">bridge.h:409</a></div></div>
<div class="ttc" id="structbridge__channel__impart__cond_html_adf04f66344e3fb0a6f6a69bf39d19902"><div class="ttname"><a href="../../d5/df4/structbridge__channel__impart__cond.html#adf04f66344e3fb0a6f6a69bf39d19902">bridge_channel_impart_cond::lock</a></div><div class="ttdeci">ast_mutex_t lock</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l01518">bridge.c:1518</a></div></div>
<div class="ttc" id="bridge_8c_html_a74e792941ccfcad7b6ba895ec44b2025"><div class="ttname"><a href="../../d0/d95/bridge_8c.html#a74e792941ccfcad7b6ba895ec44b2025">bridge_channel_impart_signal</a></div><div class="ttdeci">void bridge_channel_impart_signal(struct ast_channel *chan)</div><div class="ttdoc">Signal imparting threads to wake up. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l01626">bridge.c:1626</a></div></div>
<div class="ttc" id="lock_8h_html_a69e9591803d36f5683eb9b084442be9b"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a69e9591803d36f5683eb9b084442be9b">ast_cond_init</a></div><div class="ttdeci">#define ast_cond_init(cond, attr)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00199">lock.h:199</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="bridge__after_8h_html_a10b6f3295f847d20f6706a222fe55828"><div class="ttname"><a href="../../d8/d85/bridge__after_8h.html#a10b6f3295f847d20f6706a222fe55828">ast_bridge_discard_after_callback</a></div><div class="ttdeci">void ast_bridge_discard_after_callback(struct ast_channel *chan, enum ast_bridge_after_cb_reason reason)</div><div class="ttdoc">Run discarding any after bridge callbacks. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/db6/bridge__after_8c_source.html#l00247">bridge_after.c:247</a></div></div>
<div class="ttc" id="app__meetme_8c_html_a1c7181c39f99ee801943a0d0aa9872b9"><div class="ttname"><a href="../../df/d44/app__meetme_8c.html#a1c7181c39f99ee801943a0d0aa9872b9">cond</a></div><div class="ttdeci">ast_cond_t cond</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d44/app__meetme_8c_source.html#l01090">app_meetme.c:1090</a></div></div>
<div class="ttc" id="structbridge__channel__impart__cond_html_a1c7181c39f99ee801943a0d0aa9872b9"><div class="ttname"><a href="../../d5/df4/structbridge__channel__impart__cond.html#a1c7181c39f99ee801943a0d0aa9872b9">bridge_channel_impart_cond::cond</a></div><div class="ttdeci">ast_cond_t cond</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l01520">bridge.c:1520</a></div></div>
<div class="ttc" id="lock_8h_html_a1ea2f4040a736cddbecea48b30ffedfd"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a1ea2f4040a736cddbecea48b30ffedfd">ast_cond_destroy</a></div><div class="ttdeci">#define ast_cond_destroy(cond)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00200">lock.h:200</a></div></div>
<div class="ttc" id="bridge__after_8h_html_a1b15a371c654cfe77de053afe0994b9ca2a6093cf7896d7224f478d6b8883bed2"><div class="ttname"><a href="../../d8/d85/bridge__after_8h.html#a1b15a371c654cfe77de053afe0994b9ca2a6093cf7896d7224f478d6b8883bed2">AST_BRIDGE_AFTER_CB_REASON_IMPART_FAILED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d85/bridge__after_8h_source.html#l00049">bridge_after.h:49</a></div></div>
<div class="ttc" id="logger_8h_html_ac7388257651bb6a92d3208512fab0ba6"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#ac7388257651bb6a92d3208512fab0ba6">SCOPE_TRACE</a></div><div class="ttdeci">#define SCOPE_TRACE(level,...)</div><div class="ttdoc">Print a trace message with details when a scope is entered or existed. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00749">logger.h:749</a></div></div>
<div class="ttc" id="channel_8h_html_a7ca2fda13b129a55c251b56729de285b"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a></div><div class="ttdeci">const char * ast_channel_name(const struct ast_channel *chan)</div></div>
<div class="ttc" id="lock_8h_html_a76e8ed6bb354be6c6dd9e51acc1d7a1b"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a76e8ed6bb354be6c6dd9e51acc1d7a1b">ast_mutex_init</a></div><div class="ttdeci">#define ast_mutex_init(pmutex)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00184">lock.h:184</a></div></div>
<div class="ttc" id="lock_8h_html_ab8977a71822daa556f19f30ba6eec765"><div class="ttname"><a href="../../dd/d42/lock_8h.html#ab8977a71822daa556f19f30ba6eec765">ast_mutex_destroy</a></div><div class="ttdeci">#define ast_mutex_destroy(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00186">lock.h:186</a></div></div>
<div class="ttc" id="bridge_8c_html_ac529e02d743fa8b819a18cf73c5ffa87"><div class="ttname"><a href="../../d0/d95/bridge_8c.html#ac529e02d743fa8b819a18cf73c5ffa87">bridge_impart_internal</a></div><div class="ttdeci">static int bridge_impart_internal(struct ast_bridge *bridge, struct ast_channel *chan, struct ast_channel *swap, struct ast_bridge_features *features, enum ast_bridge_impart_flags flags, struct bridge_channel_impart_cond *cond)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l01823">bridge.c:1823</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="adb755c02424a98c8ec3bd636c609e120"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adb755c02424a98c8ec3bd636c609e120">&#9670;&nbsp;</a></span>ast_bridge_is_video_src()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_bridge_is_video_src </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *&#160;</td>
          <td class="paramname"><em>bridge</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determine if a channel is a video src for the bridge. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Not a current video source of the bridge. </td></tr>
    <tr><td class="paramname">None</td><td>0, is a video source of the bridge, The number returned represents the priority this video stream has on the bridge where 1 is the highest priority. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d0/d95/bridge_8c_source.html#l03958">3958</a> of file <a class="el" href="../../d0/d95/bridge_8c_source.html">bridge.c</a>.</p>

<p class="reference">References <a class="el" href="../../d4/d56/bridge_8h_source.html#l00480">ast_bridge_lock</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00493">ast_bridge_unlock</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00100">AST_BRIDGE_VIDEO_MODE_NONE</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00109">AST_BRIDGE_VIDEO_MODE_SFU</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00102">AST_BRIDGE_VIDEO_MODE_SINGLE_SRC</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00105">AST_BRIDGE_VIDEO_MODE_TALKER_SRC</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00127">ast_bridge_video_talker_src_data::chan_old_vsrc</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00116">ast_bridge_video_single_src_data::chan_vsrc</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00123">ast_bridge_video_talker_src_data::chan_vsrc</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00160">ast_bridge_video_mode::mode</a>, <a class="el" href="../../dc/d4a/structast__bridge__video__mode.html#a4815762cb716d9c02daf0caadd5a41db">ast_bridge_video_mode::mode_data</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00163">ast_bridge_video_mode::single_src_data</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00375">ast_bridge::softmix</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00164">ast_bridge_video_mode::talker_src_data</a>, and <a class="el" href="../../d4/d56/bridge_8h_source.html#l00287">ast_bridge_softmix::video_mode</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/dcf/app__confbridge_8c_source.html#l01075">handle_video_on_exit()</a>, <a class="el" href="../../d0/dcf/app__confbridge_8c_source.html#l01043">handle_video_on_join()</a>, <a class="el" href="../../db/d4e/bridge__softmix_8c_source.html#l00889">softmix_bridge_write_video()</a>, and <a class="el" href="../../db/d4e/bridge__softmix_8c_source.html#l00863">softmix_pass_video_top_priority()</a>.</p>
<div class="fragment"><div class="line"><a name="l03959"></a><span class="lineno"> 3959</span>&#160;{</div><div class="line"><a name="l03960"></a><span class="lineno"> 3960</span>&#160;   <span class="keywordtype">int</span> res = 0;</div><div class="line"><a name="l03961"></a><span class="lineno"> 3961</span>&#160;</div><div class="line"><a name="l03962"></a><span class="lineno"> 3962</span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#ab8ee807d2c3a21d19e16fedf35c90de8">ast_bridge_lock</a>(bridge);</div><div class="line"><a name="l03963"></a><span class="lineno"> 3963</span>&#160;   <span class="keywordflow">switch</span> (bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a1792ee6e2f718b197f668a8b7b16d357">softmix</a>.<a class="code" href="../../d0/d50/structast__bridge__softmix.html#ae0ffa389d55fc0dad4678b948a822add">video_mode</a>.<a class="code" href="../../dc/d4a/structast__bridge__video__mode.html#ac651801cf270dd2ba5cb81ec5c786308">mode</a>) {</div><div class="line"><a name="l03964"></a><span class="lineno"> 3964</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d4/d56/bridge_8h.html#ab388dac5f5c172d7f03c54487afac906a51708384777e8722fae674ea8db89f54">AST_BRIDGE_VIDEO_MODE_NONE</a>:</div><div class="line"><a name="l03965"></a><span class="lineno"> 3965</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l03966"></a><span class="lineno"> 3966</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d4/d56/bridge_8h.html#ab388dac5f5c172d7f03c54487afac906a1e27ac207e54a30dfdabc463bd18d43c">AST_BRIDGE_VIDEO_MODE_SINGLE_SRC</a>:</div><div class="line"><a name="l03967"></a><span class="lineno"> 3967</span>&#160;      <span class="keywordflow">if</span> (bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a1792ee6e2f718b197f668a8b7b16d357">softmix</a>.<a class="code" href="../../d0/d50/structast__bridge__softmix.html#ae0ffa389d55fc0dad4678b948a822add">video_mode</a>.<a class="code" href="../../dc/d4a/structast__bridge__video__mode.html#a4815762cb716d9c02daf0caadd5a41db">mode_data</a>.<a class="code" href="../../dc/d4a/structast__bridge__video__mode.html#a3d1942099e12eaade08dc9ac3fee6c23">single_src_data</a>.<a class="code" href="../../dd/dbe/structast__bridge__video__single__src__data.html#af17523bbee86cea3e7c6959258436728">chan_vsrc</a> == chan) {</div><div class="line"><a name="l03968"></a><span class="lineno"> 3968</span>&#160;         res = 1;</div><div class="line"><a name="l03969"></a><span class="lineno"> 3969</span>&#160;      }</div><div class="line"><a name="l03970"></a><span class="lineno"> 3970</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l03971"></a><span class="lineno"> 3971</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d4/d56/bridge_8h.html#ab388dac5f5c172d7f03c54487afac906a48458f43dd7ef0372614e5848f9226e0">AST_BRIDGE_VIDEO_MODE_TALKER_SRC</a>:</div><div class="line"><a name="l03972"></a><span class="lineno"> 3972</span>&#160;      <span class="keywordflow">if</span> (bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a1792ee6e2f718b197f668a8b7b16d357">softmix</a>.<a class="code" href="../../d0/d50/structast__bridge__softmix.html#ae0ffa389d55fc0dad4678b948a822add">video_mode</a>.<a class="code" href="../../dc/d4a/structast__bridge__video__mode.html#a4815762cb716d9c02daf0caadd5a41db">mode_data</a>.<a class="code" href="../../dc/d4a/structast__bridge__video__mode.html#a7325622e00e4be7c0370401933bb75e5">talker_src_data</a>.<a class="code" href="../../d0/dad/structast__bridge__video__talker__src__data.html#af17523bbee86cea3e7c6959258436728">chan_vsrc</a> == chan) {</div><div class="line"><a name="l03973"></a><span class="lineno"> 3973</span>&#160;         res = 1;</div><div class="line"><a name="l03974"></a><span class="lineno"> 3974</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a1792ee6e2f718b197f668a8b7b16d357">softmix</a>.<a class="code" href="../../d0/d50/structast__bridge__softmix.html#ae0ffa389d55fc0dad4678b948a822add">video_mode</a>.<a class="code" href="../../dc/d4a/structast__bridge__video__mode.html#a4815762cb716d9c02daf0caadd5a41db">mode_data</a>.<a class="code" href="../../dc/d4a/structast__bridge__video__mode.html#a7325622e00e4be7c0370401933bb75e5">talker_src_data</a>.<a class="code" href="../../d0/dad/structast__bridge__video__talker__src__data.html#a643b47a3afd64524d2baae9e6f2c7c60">chan_old_vsrc</a> == chan) {</div><div class="line"><a name="l03975"></a><span class="lineno"> 3975</span>&#160;         res = 2;</div><div class="line"><a name="l03976"></a><span class="lineno"> 3976</span>&#160;      }</div><div class="line"><a name="l03977"></a><span class="lineno"> 3977</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d4/d56/bridge_8h.html#ab388dac5f5c172d7f03c54487afac906ac9992c5dc76155a013d0a5804c8f2bb7">AST_BRIDGE_VIDEO_MODE_SFU</a>:</div><div class="line"><a name="l03978"></a><span class="lineno"> 3978</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l03979"></a><span class="lineno"> 3979</span>&#160;   }</div><div class="line"><a name="l03980"></a><span class="lineno"> 3980</span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#a0fb66f4741ca8d106af1917a2f1aab6e">ast_bridge_unlock</a>(bridge);</div><div class="line"><a name="l03981"></a><span class="lineno"> 3981</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l03982"></a><span class="lineno"> 3982</span>&#160;}</div><div class="ttc" id="bridge_8h_html_ab388dac5f5c172d7f03c54487afac906ac9992c5dc76155a013d0a5804c8f2bb7"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#ab388dac5f5c172d7f03c54487afac906ac9992c5dc76155a013d0a5804c8f2bb7">AST_BRIDGE_VIDEO_MODE_SFU</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00109">bridge.h:109</a></div></div>
<div class="ttc" id="structast__bridge__softmix_html_ae0ffa389d55fc0dad4678b948a822add"><div class="ttname"><a href="../../d0/d50/structast__bridge__softmix.html#ae0ffa389d55fc0dad4678b948a822add">ast_bridge_softmix::video_mode</a></div><div class="ttdeci">struct ast_bridge_video_mode video_mode</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00287">bridge.h:287</a></div></div>
<div class="ttc" id="structast__bridge__video__talker__src__data_html_a643b47a3afd64524d2baae9e6f2c7c60"><div class="ttname"><a href="../../d0/dad/structast__bridge__video__talker__src__data.html#a643b47a3afd64524d2baae9e6f2c7c60">ast_bridge_video_talker_src_data::chan_old_vsrc</a></div><div class="ttdeci">struct ast_channel * chan_old_vsrc</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00127">bridge.h:127</a></div></div>
<div class="ttc" id="structast__bridge__video__single__src__data_html_af17523bbee86cea3e7c6959258436728"><div class="ttname"><a href="../../dd/dbe/structast__bridge__video__single__src__data.html#af17523bbee86cea3e7c6959258436728">ast_bridge_video_single_src_data::chan_vsrc</a></div><div class="ttdeci">struct ast_channel * chan_vsrc</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00116">bridge.h:116</a></div></div>
<div class="ttc" id="bridge_8h_html_ab388dac5f5c172d7f03c54487afac906a1e27ac207e54a30dfdabc463bd18d43c"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#ab388dac5f5c172d7f03c54487afac906a1e27ac207e54a30dfdabc463bd18d43c">AST_BRIDGE_VIDEO_MODE_SINGLE_SRC</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00102">bridge.h:102</a></div></div>
<div class="ttc" id="structast__bridge_html_a1792ee6e2f718b197f668a8b7b16d357"><div class="ttname"><a href="../../d4/d84/structast__bridge.html#a1792ee6e2f718b197f668a8b7b16d357">ast_bridge::softmix</a></div><div class="ttdeci">struct ast_bridge_softmix softmix</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00375">bridge.h:375</a></div></div>
<div class="ttc" id="structast__bridge__video__mode_html_a4815762cb716d9c02daf0caadd5a41db"><div class="ttname"><a href="../../dc/d4a/structast__bridge__video__mode.html#a4815762cb716d9c02daf0caadd5a41db">ast_bridge_video_mode::mode_data</a></div><div class="ttdeci">union ast_bridge_video_mode::@227 mode_data</div></div>
<div class="ttc" id="structast__bridge__video__mode_html_a7325622e00e4be7c0370401933bb75e5"><div class="ttname"><a href="../../dc/d4a/structast__bridge__video__mode.html#a7325622e00e4be7c0370401933bb75e5">ast_bridge_video_mode::talker_src_data</a></div><div class="ttdeci">struct ast_bridge_video_talker_src_data talker_src_data</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00164">bridge.h:164</a></div></div>
<div class="ttc" id="structast__bridge__video__mode_html_a3d1942099e12eaade08dc9ac3fee6c23"><div class="ttname"><a href="../../dc/d4a/structast__bridge__video__mode.html#a3d1942099e12eaade08dc9ac3fee6c23">ast_bridge_video_mode::single_src_data</a></div><div class="ttdeci">struct ast_bridge_video_single_src_data single_src_data</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00163">bridge.h:163</a></div></div>
<div class="ttc" id="bridge_8h_html_a0fb66f4741ca8d106af1917a2f1aab6e"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a0fb66f4741ca8d106af1917a2f1aab6e">ast_bridge_unlock</a></div><div class="ttdeci">#define ast_bridge_unlock(bridge)</div><div class="ttdoc">Unlock the bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00493">bridge.h:493</a></div></div>
<div class="ttc" id="bridge_8h_html_ab8ee807d2c3a21d19e16fedf35c90de8"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#ab8ee807d2c3a21d19e16fedf35c90de8">ast_bridge_lock</a></div><div class="ttdeci">#define ast_bridge_lock(bridge)</div><div class="ttdoc">Lock the bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00480">bridge.h:480</a></div></div>
<div class="ttc" id="bridge_8h_html_ab388dac5f5c172d7f03c54487afac906a48458f43dd7ef0372614e5848f9226e0"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#ab388dac5f5c172d7f03c54487afac906a48458f43dd7ef0372614e5848f9226e0">AST_BRIDGE_VIDEO_MODE_TALKER_SRC</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00105">bridge.h:105</a></div></div>
<div class="ttc" id="structast__bridge__video__talker__src__data_html_af17523bbee86cea3e7c6959258436728"><div class="ttname"><a href="../../d0/dad/structast__bridge__video__talker__src__data.html#af17523bbee86cea3e7c6959258436728">ast_bridge_video_talker_src_data::chan_vsrc</a></div><div class="ttdeci">struct ast_channel * chan_vsrc</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00123">bridge.h:123</a></div></div>
<div class="ttc" id="bridge_8h_html_ab388dac5f5c172d7f03c54487afac906a51708384777e8722fae674ea8db89f54"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#ab388dac5f5c172d7f03c54487afac906a51708384777e8722fae674ea8db89f54">AST_BRIDGE_VIDEO_MODE_NONE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00100">bridge.h:100</a></div></div>
<div class="ttc" id="structast__bridge__video__mode_html_ac651801cf270dd2ba5cb81ec5c786308"><div class="ttname"><a href="../../dc/d4a/structast__bridge__video__mode.html#ac651801cf270dd2ba5cb81ec5c786308">ast_bridge_video_mode::mode</a></div><div class="ttdeci">enum ast_bridge_video_mode_type mode</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00160">bridge.h:160</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a116a27b8e1e111729ee1828d4fab6b5a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a116a27b8e1e111729ee1828d4fab6b5a">&#9670;&nbsp;</a></span>ast_bridge_join()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_bridge_join </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *&#160;</td>
          <td class="paramname"><em>bridge</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>swap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../db/dba/structast__bridge__features.html">ast_bridge_features</a> *&#160;</td>
          <td class="paramname"><em>features</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d6/d97/structast__bridge__tech__optimizations.html">ast_bridge_tech_optimizations</a> *&#160;</td>
          <td class="paramname"><em>tech_args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="../../d4/d56/bridge_8h.html#ad52005264bec898a8f825bd47d91cf93">ast_bridge_join_flags</a>&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Join a channel to a bridge (blocking) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bridge</td><td>Bridge to join </td></tr>
    <tr><td class="paramname">chan</td><td>Channel to join </td></tr>
    <tr><td class="paramname">swap</td><td>Channel to swap out if swapping (A channel reference is stolen.) </td></tr>
    <tr><td class="paramname">features</td><td>Bridge features structure </td></tr>
    <tr><td class="paramname">tech_args</td><td>Optional Bridging tech optimization parameters for this channel. </td></tr>
    <tr><td class="paramname">flags</td><td>defined by enum ast_bridge_join_flags.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>The passed in swap channel is always unreffed on return. It is not a good idea to access the swap channel on return or for the caller to keep a reference to it.</dd>
<dd>
Absolutely <em>NO</em> locks should be held before calling this function since it blocks.</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>if the channel successfully joined the bridge before it exited. </td></tr>
    <tr><td class="paramname">-1</td><td>if the channel failed to join the bridge</td></tr>
  </table>
  </dd>
</dl>
<p>Example usage:</p>
<div class="fragment"><div class="line"><a class="code" href="../../d4/d56/bridge_8h.html#a116a27b8e1e111729ee1828d4fab6b5a">ast_bridge_join</a>(bridge, chan, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d4/d56/bridge_8h.html#ad52005264bec898a8f825bd47d91cf93a9106169928c6eeccad5b5ebcf762ac9d">AST_BRIDGE_JOIN_PASS_REFERENCE</a>);</div></div><!-- fragment --><p>This adds a channel pointed to by the chan pointer to the bridge pointed to by the bridge pointer. This function will not return until the channel has been removed from the bridge, swapped out for another channel, or has hung up.</p>
<p>If this channel will be replacing another channel the other channel can be specified in the swap parameter. The other channel will be thrown out of the bridge in an atomic fashion.</p>
<p>If channel specific features are enabled a pointer to the features structure can be specified in the features parameter. </p>

<p class="definition">Definition at line <a class="el" href="../../d0/d95/bridge_8c_source.html#l01667">1667</a> of file <a class="el" href="../../d0/d95/bridge_8c_source.html">bridge.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00718">ao2_lock</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01959">ao2_t_cleanup</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00730">ao2_unlock</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00695">ast_assert</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00551">AST_BRIDGE_JOIN_INHIBIT_JOIN_COLP</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00549">AST_BRIDGE_JOIN_PASS_REFERENCE</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00480">ast_bridge_lock</a>, <a class="el" href="../../df/db6/bridge__after_8c_source.html#l00220">ast_bridge_run_after_callback()</a>, <a class="el" href="../../df/db6/bridge__after_8c_source.html#l00447">ast_bridge_setup_after_goto()</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00493">ast_bridge_unlock</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l01260">ast_channel_flags()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l01255">ast_channel_internal_bridge_channel_set()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02945">ast_channel_lock</a>, <a class="el" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00997">ast_channel_softhangup_internal_flag()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l00988">AST_FLAG_ZOMBIE</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l01127">AST_SOFTHANGUP_ASYNCGOTO</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l02463">ast_softhangup_nolock()</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00063">ast_test_flag</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l01626">bridge_channel_impart_signal()</a>, <a class="el" href="../../d3/d32/bridge__channel_8c_source.html#l03151">bridge_channel_internal_alloc()</a>, <a class="el" href="../../d3/d32/bridge__channel_8c_source.html#l02902">bridge_channel_internal_join()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l01469">bridge_find_channel()</a>, <a class="el" href="../../de/d41/bridge__channel_8h_source.html#l00091">ast_bridge_channel::chan</a>, <a class="el" href="../../de/d41/bridge__channel_8h_source.html#l00132">ast_bridge_channel::features</a>, <a class="el" href="../../de/d41/bridge__channel_8h_source.html#l00127">ast_bridge_channel::inhibit_colp</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00281">ast_bridge_methods::push_peek</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00749">SCOPE_TRACE</a>, <a class="el" href="../../de/d41/bridge__channel_8h_source.html#l00093">ast_bridge_channel::swap</a>, <a class="el" href="../../de/d41/bridge__channel_8h_source.html#l00135">ast_bridge_channel::tech_args</a>, <a class="el" href="../../de/d41/bridge__channel_8h_source.html#l00118">ast_bridge_channel::thread</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00409">ast_bridge::uniqueid</a>, and <a class="el" href="../../d4/d56/bridge_8h_source.html#l00359">ast_bridge::v_table</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/d11/app__agent__pool_8c_source.html#l01889">agent_request_exec()</a>, <a class="el" href="../../de/d11/app__agent__pool_8c_source.html#l01520">agent_run()</a>, <a class="el" href="../../d5/d92/features_8c_source.html#l00633">ast_bridge_call_with_flags()</a>, <a class="el" href="../../d5/d92/features_8c_source.html#l01007">bridge_exec()</a>, <a class="el" href="../../d8/d6e/app__bridgeaddchan_8c_source.html#l00074">bridgeadd_exec()</a>, <a class="el" href="../../dc/d22/app__bridgewait_8c_source.html#l00416">bridgewait_exec()</a>, <a class="el" href="../../d0/dcf/app__confbridge_8c_source.html#l02544">confbridge_exec()</a>, <a class="el" href="../../da/ded/parking__applications_8c_source.html#l00892">park_and_announce_app_exec()</a>, <a class="el" href="../../da/ded/parking__applications_8c_source.html#l00545">park_app_exec()</a>, and <a class="el" href="../../da/ded/parking__applications_8c_source.html#l00603">parked_call_app_exec()</a>.</p>
<div class="fragment"><div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;{</div><div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *bridge_channel;</div><div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;   <span class="keywordtype">int</span> res = 0;</div><div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#ac7388257651bb6a92d3208512fab0ba6">SCOPE_TRACE</a>(1, <span class="stringliteral">&quot;%s Bridge: %s\n&quot;</span>, <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan), bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a753c7b39e3284d771f13f513b003d033">uniqueid</a>);</div><div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;</div><div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;   bridge_channel = <a class="code" href="../../d9/dfc/bridge__channel__internal_8h.html#a46acfb8805bd7c339b2c8300a154e9e8">bridge_channel_internal_alloc</a>(bridge);</div><div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;   <span class="keywordflow">if</span> (flags &amp; <a class="code" href="../../d4/d56/bridge_8h.html#ad52005264bec898a8f825bd47d91cf93a9106169928c6eeccad5b5ebcf762ac9d">AST_BRIDGE_JOIN_PASS_REFERENCE</a>) {</div><div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(bridge, -1);</div><div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;   }</div><div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;   <span class="keywordflow">if</span> (!bridge_channel) {</div><div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#abd9eeaf9633f630d7588f6a7de7b9fbe">ao2_t_cleanup</a>(swap, <span class="stringliteral">&quot;Error exit: bridge_channel alloc failed&quot;</span>);</div><div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;      res = -1;</div><div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;      <span class="keywordflow">goto</span> join_exit;</div><div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;   }</div><div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;<span class="comment">/* XXX ASTERISK-21271 features cannot be NULL when passed in. When it is changed to allocated we can do like ast_bridge_impart() and allocate one. */</span></div><div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a>(features != <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;   <span class="keywordflow">if</span> (!features) {</div><div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(bridge_channel, -1);</div><div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#abd9eeaf9633f630d7588f6a7de7b9fbe">ao2_t_cleanup</a>(swap, <span class="stringliteral">&quot;Error exit: features is NULL&quot;</span>);</div><div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;      res = -1;</div><div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;      <span class="keywordflow">goto</span> join_exit;</div><div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;   }</div><div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;   <span class="keywordflow">if</span> (tech_args) {</div><div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;      bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#acfc2cc36cba9e208c9d45e39d7cff506">tech_args</a> = *<a class="code" href="../../d5/dca/structast__bridge__channel.html#acfc2cc36cba9e208c9d45e39d7cff506">tech_args</a>;</div><div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;   }</div><div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;</div><div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(chan);</div><div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a91de92158876186d28ba1773877f2732">ast_channel_flags</a>(chan), <a class="code" href="../../d5/d7b/channel_8h.html#a82f2c6e4d47f62f6b65c5887eb096fd5a26796fa52cc5857446eec8d16a4b718d">AST_FLAG_ZOMBIE</a>)) {</div><div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;      res = -1;</div><div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#a41082b7d1c406087d152d8f40812b7a2">ast_channel_internal_bridge_channel_set</a>(chan, bridge_channel);</div><div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;   }</div><div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;   bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a01f75a9ad916f63a94e06a27635ba278">thread</a> = pthread_self();</div><div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;   bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a> = <a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>;</div><div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;   bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a3bf3c4e34892d0033814ab5fec0e006f">swap</a> = <a class="code" href="../../d5/dca/structast__bridge__channel.html#a3bf3c4e34892d0033814ab5fec0e006f">swap</a>;</div><div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;   bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a65633fdc6178dc8d9f754fda0166d16e">features</a> = <a class="code" href="../../d5/dca/structast__bridge__channel.html#a65633fdc6178dc8d9f754fda0166d16e">features</a>;</div><div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;   bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#aa30fb781e59e7c7b6449914dd9ad08d2">inhibit_colp</a> = !!(flags &amp; <a class="code" href="../../d4/d56/bridge_8h.html#ad52005264bec898a8f825bd47d91cf93a3ebef74566687cfbc25d174725fc6d56">AST_BRIDGE_JOIN_INHIBIT_JOIN_COLP</a>);</div><div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;</div><div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;   <span class="comment">/* allow subclass to peek at upcoming push operation */</span></div><div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;   <span class="keywordflow">if</span> (bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a2f11ecc852af02fffecf1411013f0873">v_table</a>-&gt;<a class="code" href="../../d2/dd3/structast__bridge__methods.html#aeab2ad12e267a1bc7bfd840f1514f664">push_peek</a> &amp;&amp; !res) {</div><div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;      <span class="keyword">struct </span><a class="code" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *bcswap = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;</div><div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;      <a class="code" href="../../d4/d56/bridge_8h.html#ab8ee807d2c3a21d19e16fedf35c90de8">ast_bridge_lock</a>(bridge);</div><div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;      <span class="keywordflow">if</span> (bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a3bf3c4e34892d0033814ab5fec0e006f">swap</a>) {</div><div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;         bcswap = <a class="code" href="../../d0/d95/bridge_8c.html#af611fd393ca26b5fd2a8071867470ffc">bridge_find_channel</a>(bridge, bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a3bf3c4e34892d0033814ab5fec0e006f">swap</a>);</div><div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;      }</div><div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;      res = bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a2f11ecc852af02fffecf1411013f0873">v_table</a>-&gt;<a class="code" href="../../d2/dd3/structast__bridge__methods.html#aeab2ad12e267a1bc7bfd840f1514f664">push_peek</a>(bridge, bridge_channel, bcswap);</div><div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;      <a class="code" href="../../d4/d56/bridge_8h.html#a0fb66f4741ca8d106af1917a2f1aab6e">ast_bridge_unlock</a>(bridge);</div><div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;   }</div><div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;</div><div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;   <span class="keywordflow">if</span> (!res) {</div><div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;      res = <a class="code" href="../../d9/dfc/bridge__channel__internal_8h.html#acd65272991204985a1c6ca5a30769472">bridge_channel_internal_join</a>(bridge_channel);</div><div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;   }</div><div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;</div><div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;   <span class="comment">/* Cleanup all the data in the bridge channel after it leaves the bridge. */</span></div><div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(chan);</div><div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a41082b7d1c406087d152d8f40812b7a2">ast_channel_internal_bridge_channel_set</a>(chan, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;   <span class="comment">/* Due to a race condition, we lock the bridge channel here for ast_bridge_channel_get_chan */</span></div><div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aa9fdb5d0a6157a56060d9f7279fe6c49">ao2_lock</a>(bridge_channel);</div><div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;   bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a>(bridge_channel);</div><div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;   <span class="comment">/* If bridge_channel-&gt;swap is not NULL then the join failed. */</span></div><div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#abd9eeaf9633f630d7588f6a7de7b9fbe">ao2_t_cleanup</a>(bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a3bf3c4e34892d0033814ab5fec0e006f">swap</a>, <span class="stringliteral">&quot;Bridge complete: join failed&quot;</span>);</div><div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;   bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a3bf3c4e34892d0033814ab5fec0e006f">swap</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;   bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a65633fdc6178dc8d9f754fda0166d16e">features</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;</div><div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(bridge_channel, -1);</div><div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;</div><div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;join_exit:</div><div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;   <a class="code" href="../../d8/d85/bridge__after_8h.html#a7c547699abaa46137bafc0940e6ff694">ast_bridge_run_after_callback</a>(chan);</div><div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;   <a class="code" href="../../d0/d95/bridge_8c.html#a74e792941ccfcad7b6ba895ec44b2025">bridge_channel_impart_signal</a>(chan);</div><div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;   <span class="keywordflow">if</span> (!(<a class="code" href="../../d5/d7b/channel_8h.html#adac99999f1e55833e7f903979d67b48b">ast_channel_softhangup_internal_flag</a>(chan) &amp; <a class="code" href="../../d5/d7b/channel_8h.html#a9e9505a91a84992d04ba4e85217fb4e4a085c0c603de12dc2474a17a92e1cb5a4">AST_SOFTHANGUP_ASYNCGOTO</a>)</div><div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;      &amp;&amp; !<a class="code" href="../../d8/d85/bridge__after_8h.html#a6231027722f2bdd4093d15defa0d7b94">ast_bridge_setup_after_goto</a>(chan)) {</div><div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;      <span class="comment">/* Claim the after bridge goto is an async goto destination. */</span></div><div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(chan);</div><div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#ae90da1877e143b996d202d4c88a9c862">ast_softhangup_nolock</a>(chan, AST_SOFTHANGUP_ASYNCGOTO);</div><div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;   }</div><div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;}</div><div class="ttc" id="channel_8h_html_a41082b7d1c406087d152d8f40812b7a2"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a41082b7d1c406087d152d8f40812b7a2">ast_channel_internal_bridge_channel_set</a></div><div class="ttdeci">void ast_channel_internal_bridge_channel_set(struct ast_channel *chan, struct ast_bridge_channel *value)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l01255">channel_internal_api.c:1255</a></div></div>
<div class="ttc" id="channel_8h_html_a493bdebe876caafb8ee535853310364a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a></div><div class="ttdeci">#define ast_channel_lock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02945">channel.h:2945</a></div></div>
<div class="ttc" id="astobj2_8h_html_abd9eeaf9633f630d7588f6a7de7b9fbe"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#abd9eeaf9633f630d7588f6a7de7b9fbe">ao2_t_cleanup</a></div><div class="ttdeci">#define ao2_t_cleanup(obj, tag)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01959">astobj2.h:1959</a></div></div>
<div class="ttc" id="structast__bridge_html_a753c7b39e3284d771f13f513b003d033"><div class="ttname"><a href="../../d4/d84/structast__bridge.html#a753c7b39e3284d771f13f513b003d033">ast_bridge::uniqueid</a></div><div class="ttdeci">const ast_string_field uniqueid</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00409">bridge.h:409</a></div></div>
<div class="ttc" id="structast__bridge__channel_html_a65633fdc6178dc8d9f754fda0166d16e"><div class="ttname"><a href="../../d5/dca/structast__bridge__channel.html#a65633fdc6178dc8d9f754fda0166d16e">ast_bridge_channel::features</a></div><div class="ttdeci">struct ast_bridge_features * features</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00132">bridge_channel.h:132</a></div></div>
<div class="ttc" id="structast__bridge__channel_html_a01f75a9ad916f63a94e06a27635ba278"><div class="ttname"><a href="../../d5/dca/structast__bridge__channel.html#a01f75a9ad916f63a94e06a27635ba278">ast_bridge_channel::thread</a></div><div class="ttdeci">pthread_t thread</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00118">bridge_channel.h:118</a></div></div>
<div class="ttc" id="utils_8h_html_a00d4c9254c9827d6fa44f17a326744a5"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a></div><div class="ttdeci">#define ast_test_flag(p, flag)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00063">utils.h:63</a></div></div>
<div class="ttc" id="bridge_8c_html_a74e792941ccfcad7b6ba895ec44b2025"><div class="ttname"><a href="../../d0/d95/bridge_8c.html#a74e792941ccfcad7b6ba895ec44b2025">bridge_channel_impart_signal</a></div><div class="ttdeci">void bridge_channel_impart_signal(struct ast_channel *chan)</div><div class="ttdoc">Signal imparting threads to wake up. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l01626">bridge.c:1626</a></div></div>
<div class="ttc" id="bridge_8c_html_af611fd393ca26b5fd2a8071867470ffc"><div class="ttname"><a href="../../d0/d95/bridge_8c.html#af611fd393ca26b5fd2a8071867470ffc">bridge_find_channel</a></div><div class="ttdeci">struct ast_bridge_channel * bridge_find_channel(struct ast_bridge *bridge, struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l01469">bridge.c:1469</a></div></div>
<div class="ttc" id="utils_8h_html_a24374da24af1931d8a7ccde5b352bb2c"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a></div><div class="ttdeci">#define ast_assert(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00695">utils.h:695</a></div></div>
<div class="ttc" id="astobj2_8h_html_a9998bd156b936636a8780385e9a910b2"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a9998bd156b936636a8780385e9a910b2">ao2_unlock</a></div><div class="ttdeci">#define ao2_unlock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00730">astobj2.h:730</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="astobj2_8h_html_aa9fdb5d0a6157a56060d9f7279fe6c49"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aa9fdb5d0a6157a56060d9f7279fe6c49">ao2_lock</a></div><div class="ttdeci">#define ao2_lock(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00718">astobj2.h:718</a></div></div>
<div class="ttc" id="structast__bridge_html_a2f11ecc852af02fffecf1411013f0873"><div class="ttname"><a href="../../d4/d84/structast__bridge.html#a2f11ecc852af02fffecf1411013f0873">ast_bridge::v_table</a></div><div class="ttdeci">const struct ast_bridge_methods * v_table</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00359">bridge.h:359</a></div></div>
<div class="ttc" id="structast__bridge__channel_html_acfc2cc36cba9e208c9d45e39d7cff506"><div class="ttname"><a href="../../d5/dca/structast__bridge__channel.html#acfc2cc36cba9e208c9d45e39d7cff506">ast_bridge_channel::tech_args</a></div><div class="ttdeci">struct ast_bridge_tech_optimizations tech_args</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00135">bridge_channel.h:135</a></div></div>
<div class="ttc" id="channel_8h_html_ae90da1877e143b996d202d4c88a9c862"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#ae90da1877e143b996d202d4c88a9c862">ast_softhangup_nolock</a></div><div class="ttdeci">int ast_softhangup_nolock(struct ast_channel *chan, int reason)</div><div class="ttdoc">Softly hangup up a channel (no channel lock) </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l02463">channel.c:2463</a></div></div>
<div class="ttc" id="bridge_8h_html_ad52005264bec898a8f825bd47d91cf93a3ebef74566687cfbc25d174725fc6d56"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#ad52005264bec898a8f825bd47d91cf93a3ebef74566687cfbc25d174725fc6d56">AST_BRIDGE_JOIN_INHIBIT_JOIN_COLP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00551">bridge.h:551</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="bridge_8h_html_a0fb66f4741ca8d106af1917a2f1aab6e"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a0fb66f4741ca8d106af1917a2f1aab6e">ast_bridge_unlock</a></div><div class="ttdeci">#define ast_bridge_unlock(bridge)</div><div class="ttdoc">Unlock the bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00493">bridge.h:493</a></div></div>
<div class="ttc" id="bridge__after_8h_html_a7c547699abaa46137bafc0940e6ff694"><div class="ttname"><a href="../../d8/d85/bridge__after_8h.html#a7c547699abaa46137bafc0940e6ff694">ast_bridge_run_after_callback</a></div><div class="ttdeci">void ast_bridge_run_after_callback(struct ast_channel *chan)</div><div class="ttdoc">Run any after bridge callback. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/db6/bridge__after_8c_source.html#l00220">bridge_after.c:220</a></div></div>
<div class="ttc" id="structast__bridge__channel_html_aa30fb781e59e7c7b6449914dd9ad08d2"><div class="ttname"><a href="../../d5/dca/structast__bridge__channel.html#aa30fb781e59e7c7b6449914dd9ad08d2">ast_bridge_channel::inhibit_colp</a></div><div class="ttdeci">unsigned int inhibit_colp</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00127">bridge_channel.h:127</a></div></div>
<div class="ttc" id="channel_8h_html_a82f2c6e4d47f62f6b65c5887eb096fd5a26796fa52cc5857446eec8d16a4b718d"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a82f2c6e4d47f62f6b65c5887eb096fd5a26796fa52cc5857446eec8d16a4b718d">AST_FLAG_ZOMBIE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l00988">channel.h:988</a></div></div>
<div class="ttc" id="structast__bridge__channel_html_a3bf3c4e34892d0033814ab5fec0e006f"><div class="ttname"><a href="../../d5/dca/structast__bridge__channel.html#a3bf3c4e34892d0033814ab5fec0e006f">ast_bridge_channel::swap</a></div><div class="ttdeci">struct ast_channel * swap</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00093">bridge_channel.h:93</a></div></div>
<div class="ttc" id="channel_8h_html_a9e9505a91a84992d04ba4e85217fb4e4a085c0c603de12dc2474a17a92e1cb5a4"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a9e9505a91a84992d04ba4e85217fb4e4a085c0c603de12dc2474a17a92e1cb5a4">AST_SOFTHANGUP_ASYNCGOTO</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01127">channel.h:1127</a></div></div>
<div class="ttc" id="bridge_8h_html_ab8ee807d2c3a21d19e16fedf35c90de8"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#ab8ee807d2c3a21d19e16fedf35c90de8">ast_bridge_lock</a></div><div class="ttdeci">#define ast_bridge_lock(bridge)</div><div class="ttdoc">Lock the bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00480">bridge.h:480</a></div></div>
<div class="ttc" id="channel_8h_html_adac99999f1e55833e7f903979d67b48b"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#adac99999f1e55833e7f903979d67b48b">ast_channel_softhangup_internal_flag</a></div><div class="ttdeci">int ast_channel_softhangup_internal_flag(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00997">channel_internal_api.c:997</a></div></div>
<div class="ttc" id="structast__bridge__channel_html_a84d1435c5b8d387806714ea7079304b7"><div class="ttname"><a href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">ast_bridge_channel::chan</a></div><div class="ttdeci">struct ast_channel * chan</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00091">bridge_channel.h:91</a></div></div>
<div class="ttc" id="structast__bridge__channel_html"><div class="ttname"><a href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a></div><div class="ttdoc">Structure that contains information regarding a channel in a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00084">bridge_channel.h:84</a></div></div>
<div class="ttc" id="structast__bridge__methods_html_aeab2ad12e267a1bc7bfd840f1514f664"><div class="ttname"><a href="../../d2/dd3/structast__bridge__methods.html#aeab2ad12e267a1bc7bfd840f1514f664">ast_bridge_methods::push_peek</a></div><div class="ttdeci">ast_bridge_push_channel_fn push_peek</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00281">bridge.h:281</a></div></div>
<div class="ttc" id="logger_8h_html_ac7388257651bb6a92d3208512fab0ba6"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#ac7388257651bb6a92d3208512fab0ba6">SCOPE_TRACE</a></div><div class="ttdeci">#define SCOPE_TRACE(level,...)</div><div class="ttdoc">Print a trace message with details when a scope is entered or existed. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00749">logger.h:749</a></div></div>
<div class="ttc" id="bridge__channel__internal_8h_html_a46acfb8805bd7c339b2c8300a154e9e8"><div class="ttname"><a href="../../d9/dfc/bridge__channel__internal_8h.html#a46acfb8805bd7c339b2c8300a154e9e8">bridge_channel_internal_alloc</a></div><div class="ttdeci">struct ast_bridge_channel * bridge_channel_internal_alloc(struct ast_bridge *bridge)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d32/bridge__channel_8c_source.html#l03151">bridge_channel.c:3151</a></div></div>
<div class="ttc" id="channel_8h_html_a7ca2fda13b129a55c251b56729de285b"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a></div><div class="ttdeci">const char * ast_channel_name(const struct ast_channel *chan)</div></div>
<div class="ttc" id="bridge__channel__internal_8h_html_acd65272991204985a1c6ca5a30769472"><div class="ttname"><a href="../../d9/dfc/bridge__channel__internal_8h.html#acd65272991204985a1c6ca5a30769472">bridge_channel_internal_join</a></div><div class="ttdeci">int bridge_channel_internal_join(struct ast_bridge_channel *bridge_channel)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d32/bridge__channel_8c_source.html#l02902">bridge_channel.c:2902</a></div></div>
<div class="ttc" id="channel_8h_html_a91de92158876186d28ba1773877f2732"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a91de92158876186d28ba1773877f2732">ast_channel_flags</a></div><div class="ttdeci">struct ast_flags * ast_channel_flags(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l01260">channel_internal_api.c:1260</a></div></div>
<div class="ttc" id="bridge_8h_html_ad52005264bec898a8f825bd47d91cf93a9106169928c6eeccad5b5ebcf762ac9d"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#ad52005264bec898a8f825bd47d91cf93a9106169928c6eeccad5b5ebcf762ac9d">AST_BRIDGE_JOIN_PASS_REFERENCE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00549">bridge.h:549</a></div></div>
<div class="ttc" id="bridge__after_8h_html_a6231027722f2bdd4093d15defa0d7b94"><div class="ttname"><a href="../../d8/d85/bridge__after_8h.html#a6231027722f2bdd4093d15defa0d7b94">ast_bridge_setup_after_goto</a></div><div class="ttdeci">int ast_bridge_setup_after_goto(struct ast_channel *chan)</div><div class="ttdoc">Setup any after bridge goto location to begin execution. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/db6/bridge__after_8c_source.html#l00447">bridge_after.c:447</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a7132d0a0b71844641ce3a1035e05c67b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7132d0a0b71844641ce3a1035e05c67b">&#9670;&nbsp;</a></span>ast_bridge_kick()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_bridge_kick </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *&#160;</td>
          <td class="paramname"><em>bridge</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Kick a channel from a bridge. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bridge</td><td>Bridge that the channel is to be kicked from </td></tr>
    <tr><td class="paramname">chan</td><td>Channel to kick</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>on success </td></tr>
    <tr><td class="paramname">-1</td><td>on failure</td></tr>
  </table>
  </dd>
</dl>
<p>Example usage:</p>
<div class="fragment"><div class="line"><a class="code" href="../../d4/d56/bridge_8h.html#a7132d0a0b71844641ce3a1035e05c67b">ast_bridge_kick</a>(bridge, chan);</div></div><!-- fragment --><p>This kicks the channel pointed to by the chan pointer from the bridge pointed to by the bridge pointer and requests that it be hung up. Control over the channel will NOT be given to the calling thread.</p>
<dl class="section note"><dt>Note</dt><dd>The functional difference between <a class="el" href="../../d4/d56/bridge_8h.html#a7132d0a0b71844641ce3a1035e05c67b" title="Kick a channel from a bridge. ">ast_bridge_kick()</a> and <a class="el" href="../../d4/d56/bridge_8h.html#a66d6a521530f4fb208eb8ee33e257b6c" title="Remove a channel from a bridge. ">ast_bridge_remove()</a> is that the bridge may dissolve as a result of the channel being kicked.</dd>
<dd>
This API call can be used on channels that were added to the bridge using both ast_bridge_join and ast_bridge_impart. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d0/d95/bridge_8c_source.html#l02025">2025</a> of file <a class="el" href="../../d0/d95/bridge_8c_source.html">bridge.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d32/bridge__channel_8c_source.html#l01492">ast_bridge_channel_queue_callback()</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00480">ast_bridge_lock</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00493">ast_bridge_unlock</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l01469">bridge_find_channel()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l02020">kick_it()</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/d95/bridge_8c_source.html#l05269">handle_bridge_kick_channel()</a>, and <a class="el" href="../../da/d10/manager__bridges_8c_source.html#l00626">manager_bridge_kick()</a>.</p>
<div class="fragment"><div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160;{</div><div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *bridge_channel;</div><div class="line"><a name="l02028"></a><span class="lineno"> 2028</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160;</div><div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#ab8ee807d2c3a21d19e16fedf35c90de8">ast_bridge_lock</a>(bridge);</div><div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160;</div><div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;   <span class="comment">/* Try to find the channel that we want to kick. */</span></div><div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160;   <span class="keywordflow">if</span> (!(bridge_channel = <a class="code" href="../../d0/d95/bridge_8c.html#af611fd393ca26b5fd2a8071867470ffc">bridge_find_channel</a>(bridge, chan))) {</div><div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160;      <a class="code" href="../../d4/d56/bridge_8h.html#a0fb66f4741ca8d106af1917a2f1aab6e">ast_bridge_unlock</a>(bridge);</div><div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160;   }</div><div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160;</div><div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160;   res = <a class="code" href="../../de/d41/bridge__channel_8h.html#ad7de2a71d5af8f85035713f1f3cb69a9">ast_bridge_channel_queue_callback</a>(bridge_channel, 0, <a class="code" href="../../d0/d95/bridge_8c.html#acc33b8d4fe39d089f5987e86e0333617">kick_it</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0);</div><div class="line"><a name="l02039"></a><span class="lineno"> 2039</span>&#160;</div><div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#a0fb66f4741ca8d106af1917a2f1aab6e">ast_bridge_unlock</a>(bridge);</div><div class="line"><a name="l02041"></a><span class="lineno"> 2041</span>&#160;</div><div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l02043"></a><span class="lineno"> 2043</span>&#160;}</div><div class="ttc" id="bridge_8c_html_af611fd393ca26b5fd2a8071867470ffc"><div class="ttname"><a href="../../d0/d95/bridge_8c.html#af611fd393ca26b5fd2a8071867470ffc">bridge_find_channel</a></div><div class="ttdeci">struct ast_bridge_channel * bridge_find_channel(struct ast_bridge *bridge, struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l01469">bridge.c:1469</a></div></div>
<div class="ttc" id="bridge_8c_html_acc33b8d4fe39d089f5987e86e0333617"><div class="ttname"><a href="../../d0/d95/bridge_8c.html#acc33b8d4fe39d089f5987e86e0333617">kick_it</a></div><div class="ttdeci">static void kick_it(struct ast_bridge_channel *bridge_channel, const void *payload, size_t payload_size)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l02020">bridge.c:2020</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="bridge__channel_8h_html_ad7de2a71d5af8f85035713f1f3cb69a9"><div class="ttname"><a href="../../de/d41/bridge__channel_8h.html#ad7de2a71d5af8f85035713f1f3cb69a9">ast_bridge_channel_queue_callback</a></div><div class="ttdeci">int ast_bridge_channel_queue_callback(struct ast_bridge_channel *bridge_channel, enum ast_bridge_channel_custom_callback_option flags, ast_bridge_custom_callback_fn callback, const void *payload, size_t payload_size)</div><div class="ttdoc">Queue a bridge action custom callback frame onto the bridge channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d32/bridge__channel_8c_source.html#l01492">bridge_channel.c:1492</a></div></div>
<div class="ttc" id="bridge_8h_html_a0fb66f4741ca8d106af1917a2f1aab6e"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a0fb66f4741ca8d106af1917a2f1aab6e">ast_bridge_unlock</a></div><div class="ttdeci">#define ast_bridge_unlock(bridge)</div><div class="ttdoc">Unlock the bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00493">bridge.h:493</a></div></div>
<div class="ttc" id="bridge_8h_html_ab8ee807d2c3a21d19e16fedf35c90de8"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#ab8ee807d2c3a21d19e16fedf35c90de8">ast_bridge_lock</a></div><div class="ttdeci">#define ast_bridge_lock(bridge)</div><div class="ttdoc">Lock the bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00480">bridge.h:480</a></div></div>
<div class="ttc" id="structast__bridge__channel_html"><div class="ttname"><a href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a></div><div class="ttdoc">Structure that contains information regarding a channel in a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00084">bridge_channel.h:84</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa88f0cbb002c6f26133bb5d277d4dc49"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa88f0cbb002c6f26133bb5d277d4dc49">&#9670;&nbsp;</a></span>ast_bridge_merge()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_bridge_merge </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *&#160;</td>
          <td class="paramname"><em>dst_bridge</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *&#160;</td>
          <td class="paramname"><em>src_bridge</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>merge_best_direction</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> **&#160;</td>
          <td class="paramname"><em>kick_me</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>num_kick</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Merge two bridges together. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dst_bridge</td><td>Destination bridge of merge. </td></tr>
    <tr><td class="paramname">src_bridge</td><td>Source bridge of merge. </td></tr>
    <tr><td class="paramname">merge_best_direction</td><td>TRUE if don't care about which bridge merges into the other. </td></tr>
    <tr><td class="paramname">kick_me</td><td>Array of channels to kick from the bridges. </td></tr>
    <tr><td class="paramname">num_kick</td><td>Number of channels in the kick_me array.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Absolutely <em>NO</em> bridge or channel locks should be held before calling this function.</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>on success </td></tr>
    <tr><td class="paramname">-1</td><td>on failure</td></tr>
  </table>
  </dd>
</dl>
<p>Example usage:</p>
<div class="fragment"><div class="line"><a class="code" href="../../d4/d56/bridge_8h.html#aa88f0cbb002c6f26133bb5d277d4dc49">ast_bridge_merge</a>(dst_bridge, src_bridge, 0, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0);</div></div><!-- fragment --><p>This moves the channels in src_bridge into the bridge pointed to by dst_bridge. </p>

<p class="definition">Definition at line <a class="el" href="../../d0/d95/bridge_8c_source.html#l02348">2348</a> of file <a class="el" href="../../d0/d95/bridge_8c_source.html">bridge.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d60/utils_8h_source.html#l00695">ast_assert</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00500">ast_bridge_lock_both</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00493">ast_bridge_unlock</a>, and <a class="el" href="../../d0/d95/bridge_8c_source.html#l02264">bridge_merge_locked()</a>.</p>
<div class="fragment"><div class="line"><a name="l02349"></a><span class="lineno"> 2349</span>&#160;{</div><div class="line"><a name="l02350"></a><span class="lineno"> 2350</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l02351"></a><span class="lineno"> 2351</span>&#160;</div><div class="line"><a name="l02352"></a><span class="lineno"> 2352</span>&#160;   <span class="comment">/* Sanity check. */</span></div><div class="line"><a name="l02353"></a><span class="lineno"> 2353</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a>(dst_bridge &amp;&amp; src_bridge);</div><div class="line"><a name="l02354"></a><span class="lineno"> 2354</span>&#160;</div><div class="line"><a name="l02355"></a><span class="lineno"> 2355</span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#a04a2852f4166568323aa33cd3d0158c7">ast_bridge_lock_both</a>(dst_bridge, src_bridge);</div><div class="line"><a name="l02356"></a><span class="lineno"> 2356</span>&#160;   res = <a class="code" href="../../d0/d95/bridge_8c.html#a62e8ca52375a468fe74ec88d1eceea5d">bridge_merge_locked</a>(dst_bridge, src_bridge, merge_best_direction, kick_me, num_kick);</div><div class="line"><a name="l02357"></a><span class="lineno"> 2357</span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#a0fb66f4741ca8d106af1917a2f1aab6e">ast_bridge_unlock</a>(src_bridge);</div><div class="line"><a name="l02358"></a><span class="lineno"> 2358</span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#a0fb66f4741ca8d106af1917a2f1aab6e">ast_bridge_unlock</a>(dst_bridge);</div><div class="line"><a name="l02359"></a><span class="lineno"> 2359</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l02360"></a><span class="lineno"> 2360</span>&#160;}</div><div class="ttc" id="bridge_8h_html_a04a2852f4166568323aa33cd3d0158c7"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a04a2852f4166568323aa33cd3d0158c7">ast_bridge_lock_both</a></div><div class="ttdeci">#define ast_bridge_lock_both(bridge1, bridge2)</div><div class="ttdoc">Lock two bridges. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00500">bridge.h:500</a></div></div>
<div class="ttc" id="bridge_8c_html_a62e8ca52375a468fe74ec88d1eceea5d"><div class="ttname"><a href="../../d0/d95/bridge_8c.html#a62e8ca52375a468fe74ec88d1eceea5d">bridge_merge_locked</a></div><div class="ttdeci">static int bridge_merge_locked(struct ast_bridge *dst_bridge, struct ast_bridge *src_bridge, int merge_best_direction, struct ast_channel **kick_me, unsigned int num_kick)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l02264">bridge.c:2264</a></div></div>
<div class="ttc" id="utils_8h_html_a24374da24af1931d8a7ccde5b352bb2c"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a></div><div class="ttdeci">#define ast_assert(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00695">utils.h:695</a></div></div>
<div class="ttc" id="bridge_8h_html_a0fb66f4741ca8d106af1917a2f1aab6e"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a0fb66f4741ca8d106af1917a2f1aab6e">ast_bridge_unlock</a></div><div class="ttdeci">#define ast_bridge_unlock(bridge)</div><div class="ttdoc">Unlock the bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00493">bridge.h:493</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6bae9b013c815c40d0414080455e3592"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6bae9b013c815c40d0414080455e3592">&#9670;&nbsp;</a></span>ast_bridge_merge_inhibit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_bridge_merge_inhibit </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *&#160;</td>
          <td class="paramname"><em>bridge</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>request</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adjust the bridge merge inhibit request count. </p>
<dl class="section since"><dt>Since</dt><dd>12.0.0</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bridge</td><td>What to operate on. </td></tr>
    <tr><td class="paramname">request</td><td>Inhibit request increment. (Positive to add requests. Negative to remove requests.)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Nothing </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d0/d95/bridge_8c_source.html#l03061">3061</a> of file <a class="el" href="../../d0/d95/bridge_8c_source.html">bridge.c</a>.</p>

<p class="reference">References <a class="el" href="../../d4/d56/bridge_8h_source.html#l00480">ast_bridge_lock</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00493">ast_bridge_unlock</a>, and <a class="el" href="../../d0/d95/bridge_8c_source.html#l03052">bridge_merge_inhibit_nolock()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01508">attended_transfer_properties_shutdown()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l02214">consulting_exit()</a>, and <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l03295">feature_attended_transfer()</a>.</p>
<div class="fragment"><div class="line"><a name="l03062"></a><span class="lineno"> 3062</span>&#160;{</div><div class="line"><a name="l03063"></a><span class="lineno"> 3063</span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#ab8ee807d2c3a21d19e16fedf35c90de8">ast_bridge_lock</a>(bridge);</div><div class="line"><a name="l03064"></a><span class="lineno"> 3064</span>&#160;   <a class="code" href="../../d0/d95/bridge_8c.html#ae1af73cc9e9cce0a151dddc8cfae3e4b">bridge_merge_inhibit_nolock</a>(bridge, <a class="code" href="../../d0/d29/chan__pjsip_8c.html#a4e2e6fb7d874f0d2deddd2ecfc8afb32">request</a>);</div><div class="line"><a name="l03065"></a><span class="lineno"> 3065</span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#a0fb66f4741ca8d106af1917a2f1aab6e">ast_bridge_unlock</a>(bridge);</div><div class="line"><a name="l03066"></a><span class="lineno"> 3066</span>&#160;}</div><div class="ttc" id="bridge_8c_html_ae1af73cc9e9cce0a151dddc8cfae3e4b"><div class="ttname"><a href="../../d0/d95/bridge_8c.html#ae1af73cc9e9cce0a151dddc8cfae3e4b">bridge_merge_inhibit_nolock</a></div><div class="ttdeci">void bridge_merge_inhibit_nolock(struct ast_bridge *bridge, int request)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l03052">bridge.c:3052</a></div></div>
<div class="ttc" id="bridge_8h_html_a0fb66f4741ca8d106af1917a2f1aab6e"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a0fb66f4741ca8d106af1917a2f1aab6e">ast_bridge_unlock</a></div><div class="ttdeci">#define ast_bridge_unlock(bridge)</div><div class="ttdoc">Unlock the bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00493">bridge.h:493</a></div></div>
<div class="ttc" id="chan__pjsip_8c_html_a4e2e6fb7d874f0d2deddd2ecfc8afb32"><div class="ttname"><a href="../../d0/d29/chan__pjsip_8c.html#a4e2e6fb7d874f0d2deddd2ecfc8afb32">request</a></div><div class="ttdeci">static int request(void *obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/chan__pjsip_8c_source.html#l02559">chan_pjsip.c:2559</a></div></div>
<div class="ttc" id="bridge_8h_html_ab8ee807d2c3a21d19e16fedf35c90de8"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#ab8ee807d2c3a21d19e16fedf35c90de8">ast_bridge_lock</a></div><div class="ttdeci">#define ast_bridge_lock(bridge)</div><div class="ttdoc">Lock the bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00480">bridge.h:480</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af0e3d51ad653134a92545dec4610b83a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af0e3d51ad653134a92545dec4610b83a">&#9670;&nbsp;</a></span>ast_bridge_move()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_bridge_move </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *&#160;</td>
          <td class="paramname"><em>dst_bridge</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *&#160;</td>
          <td class="paramname"><em>src_bridge</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>swap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>attempt_recovery</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Move a channel from one bridge to another. </p>
<dl class="section since"><dt>Since</dt><dd>12.0.0</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dst_bridge</td><td>Destination bridge of bridge channel move. </td></tr>
    <tr><td class="paramname">src_bridge</td><td>Source bridge of bridge channel move. </td></tr>
    <tr><td class="paramname">chan</td><td>Channel to move. </td></tr>
    <tr><td class="paramname">swap</td><td>Channel to replace in dst_bridge. </td></tr>
    <tr><td class="paramname">attempt_recovery</td><td>TRUE if failure attempts to push channel back into original bridge.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Absolutely <em>NO</em> bridge or channel locks should be held before calling this function.</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>on success. </td></tr>
    <tr><td class="paramname">-1</td><td>on failure. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d0/d95/bridge_8c_source.html#l02508">2508</a> of file <a class="el" href="../../d0/d95/bridge_8c_source.html">bridge.c</a>.</p>

<p class="reference">References <a class="el" href="../../d4/d56/bridge_8h_source.html#l00500">ast_bridge_lock_both</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00493">ast_bridge_unlock</a>, and <a class="el" href="../../d0/d95/bridge_8c_source.html#l02447">bridge_move_locked()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/d11/app__agent__pool_8c_source.html#l01034">agent_connect_caller()</a>, <a class="el" href="../../da/ded/parking__applications_8c_source.html#l00603">parked_call_app_exec()</a>, and <a class="el" href="../../d1/db7/parking__bridge__features_8c_source.html#l00434">parking_park_bridge_channel()</a>.</p>
<div class="fragment"><div class="line"><a name="l02509"></a><span class="lineno"> 2509</span>&#160;{</div><div class="line"><a name="l02510"></a><span class="lineno"> 2510</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l02511"></a><span class="lineno"> 2511</span>&#160;</div><div class="line"><a name="l02512"></a><span class="lineno"> 2512</span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#a04a2852f4166568323aa33cd3d0158c7">ast_bridge_lock_both</a>(dst_bridge, src_bridge);</div><div class="line"><a name="l02513"></a><span class="lineno"> 2513</span>&#160;   res = <a class="code" href="../../d0/d95/bridge_8c.html#a64d0fdf87038032f7f5032752114e0ef">bridge_move_locked</a>(dst_bridge, src_bridge, chan, swap, attempt_recovery);</div><div class="line"><a name="l02514"></a><span class="lineno"> 2514</span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#a0fb66f4741ca8d106af1917a2f1aab6e">ast_bridge_unlock</a>(src_bridge);</div><div class="line"><a name="l02515"></a><span class="lineno"> 2515</span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#a0fb66f4741ca8d106af1917a2f1aab6e">ast_bridge_unlock</a>(dst_bridge);</div><div class="line"><a name="l02516"></a><span class="lineno"> 2516</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l02517"></a><span class="lineno"> 2517</span>&#160;}</div><div class="ttc" id="bridge_8c_html_a64d0fdf87038032f7f5032752114e0ef"><div class="ttname"><a href="../../d0/d95/bridge_8c.html#a64d0fdf87038032f7f5032752114e0ef">bridge_move_locked</a></div><div class="ttdeci">static int bridge_move_locked(struct ast_bridge *dst_bridge, struct ast_bridge *src_bridge, struct ast_channel *chan, struct ast_channel *swap, int attempt_recovery)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l02447">bridge.c:2447</a></div></div>
<div class="ttc" id="bridge_8h_html_a04a2852f4166568323aa33cd3d0158c7"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a04a2852f4166568323aa33cd3d0158c7">ast_bridge_lock_both</a></div><div class="ttdeci">#define ast_bridge_lock_both(bridge1, bridge2)</div><div class="ttdoc">Lock two bridges. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00500">bridge.h:500</a></div></div>
<div class="ttc" id="bridge_8h_html_a0fb66f4741ca8d106af1917a2f1aab6e"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a0fb66f4741ca8d106af1917a2f1aab6e">ast_bridge_unlock</a></div><div class="ttdeci">#define ast_bridge_unlock(bridge)</div><div class="ttdoc">Unlock the bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00493">bridge.h:493</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aeb11f378e45f0beb05de964b3af9a6bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb11f378e45f0beb05de964b3af9a6bc">&#9670;&nbsp;</a></span>ast_bridge_notify_masquerade()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_bridge_notify_masquerade </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Notify bridging that this channel was just masqueraded. </p>
<dl class="section since"><dt>Since</dt><dd>12.0.0</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chan</td><td>Channel just involved in a masquerade</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Nothing </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d0/d95/bridge_8c_source.html#l01482">1482</a> of file <a class="el" href="../../d0/d95/bridge_8c_source.html">bridge.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d3/d32/bridge__channel_8c_source.html#l00222">ast_bridge_channel_lock_bridge()</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00493">ast_bridge_unlock</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l10783">ast_channel_get_bridge_channel()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02945">ast_channel_lock</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../de/d41/bridge__channel_8h_source.html#l00100">ast_bridge_channel::bridge</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l00157">bridge_manager_request::bridge</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l01469">bridge_find_channel()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l01443">bridge_reconfigured()</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00277">ast_bridge_methods::notify_masquerade</a>, and <a class="el" href="../../d4/d56/bridge_8h_source.html#l00359">ast_bridge::v_table</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d28/channel_8c_source.html#l06952">channel_do_masquerade()</a>.</p>
<div class="fragment"><div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;{</div><div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *bridge_channel;</div><div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *bridge;</div><div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;</div><div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;   <span class="comment">/* Safely get the bridge_channel pointer for the chan. */</span></div><div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(chan);</div><div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;   bridge_channel = <a class="code" href="../../d5/d7b/channel_8h.html#a9b6409c38af733c46eead884d86dd284">ast_channel_get_bridge_channel</a>(chan);</div><div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;   <span class="keywordflow">if</span> (!bridge_channel) {</div><div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;      <span class="comment">/* Not in a bridge */</span></div><div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;   }</div><div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;</div><div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;   <a class="code" href="../../de/d41/bridge__channel_8h.html#a7d01ff5caf025a97796d2dbb78f5f02c">ast_bridge_channel_lock_bridge</a>(bridge_channel);</div><div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;   bridge = bridge_channel-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a4fe7571e3c1759f3689d4453c132bdb7">bridge</a>;</div><div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;   <span class="keywordflow">if</span> (bridge_channel == <a class="code" href="../../d0/d95/bridge_8c.html#af611fd393ca26b5fd2a8071867470ffc">bridge_find_channel</a>(bridge, chan)) {</div><div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;<span class="comment"> * XXX ASTERISK-22366 this needs more work.  The channels need</span></div><div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;<span class="comment"> * to be made compatible again if the formats change. The</span></div><div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;<span class="comment"> * bridge_channel thread needs to monitor for this case.</span></div><div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;      <span class="comment">/* The channel we want to notify is still in a bridge. */</span></div><div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;      bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a2f11ecc852af02fffecf1411013f0873">v_table</a>-&gt;<a class="code" href="../../d2/dd3/structast__bridge__methods.html#ab72b2fb844367bda53a258a6059f6290">notify_masquerade</a>(bridge, bridge_channel);</div><div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;      <a class="code" href="../../d0/d95/bridge_8c.html#a6f66125893195db451bca7e9d71bd0a5">bridge_reconfigured</a>(bridge, 1);</div><div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;   }</div><div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#a0fb66f4741ca8d106af1917a2f1aab6e">ast_bridge_unlock</a>(bridge);</div><div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(bridge_channel, -1);</div><div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;}</div><div class="ttc" id="channel_8h_html_a493bdebe876caafb8ee535853310364a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a></div><div class="ttdeci">#define ast_channel_lock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02945">channel.h:2945</a></div></div>
<div class="ttc" id="bridge_8c_html_af611fd393ca26b5fd2a8071867470ffc"><div class="ttname"><a href="../../d0/d95/bridge_8c.html#af611fd393ca26b5fd2a8071867470ffc">bridge_find_channel</a></div><div class="ttdeci">struct ast_bridge_channel * bridge_find_channel(struct ast_bridge *bridge, struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l01469">bridge.c:1469</a></div></div>
<div class="ttc" id="structast__bridge__channel_html_a4fe7571e3c1759f3689d4453c132bdb7"><div class="ttname"><a href="../../d5/dca/structast__bridge__channel.html#a4fe7571e3c1759f3689d4453c132bdb7">ast_bridge_channel::bridge</a></div><div class="ttdeci">struct ast_bridge * bridge</div><div class="ttdoc">Bridge this channel is participating in. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00100">bridge_channel.h:100</a></div></div>
<div class="ttc" id="structast__bridge__methods_html_ab72b2fb844367bda53a258a6059f6290"><div class="ttname"><a href="../../d2/dd3/structast__bridge__methods.html#ab72b2fb844367bda53a258a6059f6290">ast_bridge_methods::notify_masquerade</a></div><div class="ttdeci">ast_bridge_notify_masquerade_fn notify_masquerade</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00277">bridge.h:277</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="structast__bridge_html_a2f11ecc852af02fffecf1411013f0873"><div class="ttname"><a href="../../d4/d84/structast__bridge.html#a2f11ecc852af02fffecf1411013f0873">ast_bridge::v_table</a></div><div class="ttdeci">const struct ast_bridge_methods * v_table</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00359">bridge.h:359</a></div></div>
<div class="ttc" id="structast__bridge_html"><div class="ttname"><a href="../../d4/d84/structast__bridge.html">ast_bridge</a></div><div class="ttdoc">Structure that contains information about a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00357">bridge.h:357</a></div></div>
<div class="ttc" id="bridge_8c_html_a6f66125893195db451bca7e9d71bd0a5"><div class="ttname"><a href="../../d0/d95/bridge_8c.html#a6f66125893195db451bca7e9d71bd0a5">bridge_reconfigured</a></div><div class="ttdeci">void bridge_reconfigured(struct ast_bridge *bridge, unsigned int colp_update)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l01443">bridge.c:1443</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="bridge_8h_html_a0fb66f4741ca8d106af1917a2f1aab6e"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a0fb66f4741ca8d106af1917a2f1aab6e">ast_bridge_unlock</a></div><div class="ttdeci">#define ast_bridge_unlock(bridge)</div><div class="ttdoc">Unlock the bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00493">bridge.h:493</a></div></div>
<div class="ttc" id="channel_8h_html_a9b6409c38af733c46eead884d86dd284"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a9b6409c38af733c46eead884d86dd284">ast_channel_get_bridge_channel</a></div><div class="ttdeci">struct ast_bridge_channel * ast_channel_get_bridge_channel(struct ast_channel *chan)</div><div class="ttdoc">Get a reference to the channel&amp;#39;s bridge pointer. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l10783">channel.c:10783</a></div></div>
<div class="ttc" id="structast__bridge__channel_html"><div class="ttname"><a href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a></div><div class="ttdoc">Structure that contains information regarding a channel in a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00084">bridge_channel.h:84</a></div></div>
<div class="ttc" id="bridge__channel_8h_html_a7d01ff5caf025a97796d2dbb78f5f02c"><div class="ttname"><a href="../../de/d41/bridge__channel_8h.html#a7d01ff5caf025a97796d2dbb78f5f02c">ast_bridge_channel_lock_bridge</a></div><div class="ttdeci">void ast_bridge_channel_lock_bridge(struct ast_bridge_channel *bridge_channel)</div><div class="ttdoc">Lock the bridge associated with the bridge channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d32/bridge__channel_8c_source.html#l00222">bridge_channel.c:222</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a283cf43498dde27adebbc85679b2f2d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a283cf43498dde27adebbc85679b2f2d5">&#9670;&nbsp;</a></span>ast_bridge_number_video_src()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_bridge_number_video_src </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *&#160;</td>
          <td class="paramname"><em>bridge</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the number of video sources currently active in the bridge. </p>

<p class="definition">Definition at line <a class="el" href="../../d0/d95/bridge_8c_source.html#l03931">3931</a> of file <a class="el" href="../../d0/d95/bridge_8c_source.html">bridge.c</a>.</p>

<p class="reference">References <a class="el" href="../../d4/d56/bridge_8h_source.html#l00480">ast_bridge_lock</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00493">ast_bridge_unlock</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00100">AST_BRIDGE_VIDEO_MODE_NONE</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00109">AST_BRIDGE_VIDEO_MODE_SFU</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00102">AST_BRIDGE_VIDEO_MODE_SINGLE_SRC</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00105">AST_BRIDGE_VIDEO_MODE_TALKER_SRC</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00127">ast_bridge_video_talker_src_data::chan_old_vsrc</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00116">ast_bridge_video_single_src_data::chan_vsrc</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00123">ast_bridge_video_talker_src_data::chan_vsrc</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00160">ast_bridge_video_mode::mode</a>, <a class="el" href="../../dc/d4a/structast__bridge__video__mode.html#a4815762cb716d9c02daf0caadd5a41db">ast_bridge_video_mode::mode_data</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00163">ast_bridge_video_mode::single_src_data</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00375">ast_bridge::softmix</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00164">ast_bridge_video_mode::talker_src_data</a>, and <a class="el" href="../../d4/d56/bridge_8h_source.html#l00287">ast_bridge_softmix::video_mode</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d4e/bridge__softmix_8c_source.html#l00889">softmix_bridge_write_video()</a>.</p>
<div class="fragment"><div class="line"><a name="l03932"></a><span class="lineno"> 3932</span>&#160;{</div><div class="line"><a name="l03933"></a><span class="lineno"> 3933</span>&#160;   <span class="keywordtype">int</span> res = 0;</div><div class="line"><a name="l03934"></a><span class="lineno"> 3934</span>&#160;</div><div class="line"><a name="l03935"></a><span class="lineno"> 3935</span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#ab8ee807d2c3a21d19e16fedf35c90de8">ast_bridge_lock</a>(bridge);</div><div class="line"><a name="l03936"></a><span class="lineno"> 3936</span>&#160;   <span class="keywordflow">switch</span> (bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a1792ee6e2f718b197f668a8b7b16d357">softmix</a>.<a class="code" href="../../d0/d50/structast__bridge__softmix.html#ae0ffa389d55fc0dad4678b948a822add">video_mode</a>.<a class="code" href="../../dc/d4a/structast__bridge__video__mode.html#ac651801cf270dd2ba5cb81ec5c786308">mode</a>) {</div><div class="line"><a name="l03937"></a><span class="lineno"> 3937</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d4/d56/bridge_8h.html#ab388dac5f5c172d7f03c54487afac906a51708384777e8722fae674ea8db89f54">AST_BRIDGE_VIDEO_MODE_NONE</a>:</div><div class="line"><a name="l03938"></a><span class="lineno"> 3938</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l03939"></a><span class="lineno"> 3939</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d4/d56/bridge_8h.html#ab388dac5f5c172d7f03c54487afac906a1e27ac207e54a30dfdabc463bd18d43c">AST_BRIDGE_VIDEO_MODE_SINGLE_SRC</a>:</div><div class="line"><a name="l03940"></a><span class="lineno"> 3940</span>&#160;      <span class="keywordflow">if</span> (bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a1792ee6e2f718b197f668a8b7b16d357">softmix</a>.<a class="code" href="../../d0/d50/structast__bridge__softmix.html#ae0ffa389d55fc0dad4678b948a822add">video_mode</a>.<a class="code" href="../../dc/d4a/structast__bridge__video__mode.html#a4815762cb716d9c02daf0caadd5a41db">mode_data</a>.<a class="code" href="../../dc/d4a/structast__bridge__video__mode.html#a3d1942099e12eaade08dc9ac3fee6c23">single_src_data</a>.<a class="code" href="../../dd/dbe/structast__bridge__video__single__src__data.html#af17523bbee86cea3e7c6959258436728">chan_vsrc</a>) {</div><div class="line"><a name="l03941"></a><span class="lineno"> 3941</span>&#160;         res = 1;</div><div class="line"><a name="l03942"></a><span class="lineno"> 3942</span>&#160;      }</div><div class="line"><a name="l03943"></a><span class="lineno"> 3943</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l03944"></a><span class="lineno"> 3944</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d4/d56/bridge_8h.html#ab388dac5f5c172d7f03c54487afac906a48458f43dd7ef0372614e5848f9226e0">AST_BRIDGE_VIDEO_MODE_TALKER_SRC</a>:</div><div class="line"><a name="l03945"></a><span class="lineno"> 3945</span>&#160;      <span class="keywordflow">if</span> (bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a1792ee6e2f718b197f668a8b7b16d357">softmix</a>.<a class="code" href="../../d0/d50/structast__bridge__softmix.html#ae0ffa389d55fc0dad4678b948a822add">video_mode</a>.<a class="code" href="../../dc/d4a/structast__bridge__video__mode.html#a4815762cb716d9c02daf0caadd5a41db">mode_data</a>.<a class="code" href="../../dc/d4a/structast__bridge__video__mode.html#a7325622e00e4be7c0370401933bb75e5">talker_src_data</a>.<a class="code" href="../../d0/dad/structast__bridge__video__talker__src__data.html#af17523bbee86cea3e7c6959258436728">chan_vsrc</a>) {</div><div class="line"><a name="l03946"></a><span class="lineno"> 3946</span>&#160;         res++;</div><div class="line"><a name="l03947"></a><span class="lineno"> 3947</span>&#160;      }</div><div class="line"><a name="l03948"></a><span class="lineno"> 3948</span>&#160;      <span class="keywordflow">if</span> (bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a1792ee6e2f718b197f668a8b7b16d357">softmix</a>.<a class="code" href="../../d0/d50/structast__bridge__softmix.html#ae0ffa389d55fc0dad4678b948a822add">video_mode</a>.<a class="code" href="../../dc/d4a/structast__bridge__video__mode.html#a4815762cb716d9c02daf0caadd5a41db">mode_data</a>.<a class="code" href="../../dc/d4a/structast__bridge__video__mode.html#a7325622e00e4be7c0370401933bb75e5">talker_src_data</a>.<a class="code" href="../../d0/dad/structast__bridge__video__talker__src__data.html#a643b47a3afd64524d2baae9e6f2c7c60">chan_old_vsrc</a>) {</div><div class="line"><a name="l03949"></a><span class="lineno"> 3949</span>&#160;         res++;</div><div class="line"><a name="l03950"></a><span class="lineno"> 3950</span>&#160;      }</div><div class="line"><a name="l03951"></a><span class="lineno"> 3951</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d4/d56/bridge_8h.html#ab388dac5f5c172d7f03c54487afac906ac9992c5dc76155a013d0a5804c8f2bb7">AST_BRIDGE_VIDEO_MODE_SFU</a>:</div><div class="line"><a name="l03952"></a><span class="lineno"> 3952</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l03953"></a><span class="lineno"> 3953</span>&#160;   }</div><div class="line"><a name="l03954"></a><span class="lineno"> 3954</span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#a0fb66f4741ca8d106af1917a2f1aab6e">ast_bridge_unlock</a>(bridge);</div><div class="line"><a name="l03955"></a><span class="lineno"> 3955</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l03956"></a><span class="lineno"> 3956</span>&#160;}</div><div class="ttc" id="bridge_8h_html_ab388dac5f5c172d7f03c54487afac906ac9992c5dc76155a013d0a5804c8f2bb7"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#ab388dac5f5c172d7f03c54487afac906ac9992c5dc76155a013d0a5804c8f2bb7">AST_BRIDGE_VIDEO_MODE_SFU</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00109">bridge.h:109</a></div></div>
<div class="ttc" id="structast__bridge__softmix_html_ae0ffa389d55fc0dad4678b948a822add"><div class="ttname"><a href="../../d0/d50/structast__bridge__softmix.html#ae0ffa389d55fc0dad4678b948a822add">ast_bridge_softmix::video_mode</a></div><div class="ttdeci">struct ast_bridge_video_mode video_mode</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00287">bridge.h:287</a></div></div>
<div class="ttc" id="structast__bridge__video__talker__src__data_html_a643b47a3afd64524d2baae9e6f2c7c60"><div class="ttname"><a href="../../d0/dad/structast__bridge__video__talker__src__data.html#a643b47a3afd64524d2baae9e6f2c7c60">ast_bridge_video_talker_src_data::chan_old_vsrc</a></div><div class="ttdeci">struct ast_channel * chan_old_vsrc</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00127">bridge.h:127</a></div></div>
<div class="ttc" id="structast__bridge__video__single__src__data_html_af17523bbee86cea3e7c6959258436728"><div class="ttname"><a href="../../dd/dbe/structast__bridge__video__single__src__data.html#af17523bbee86cea3e7c6959258436728">ast_bridge_video_single_src_data::chan_vsrc</a></div><div class="ttdeci">struct ast_channel * chan_vsrc</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00116">bridge.h:116</a></div></div>
<div class="ttc" id="bridge_8h_html_ab388dac5f5c172d7f03c54487afac906a1e27ac207e54a30dfdabc463bd18d43c"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#ab388dac5f5c172d7f03c54487afac906a1e27ac207e54a30dfdabc463bd18d43c">AST_BRIDGE_VIDEO_MODE_SINGLE_SRC</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00102">bridge.h:102</a></div></div>
<div class="ttc" id="structast__bridge_html_a1792ee6e2f718b197f668a8b7b16d357"><div class="ttname"><a href="../../d4/d84/structast__bridge.html#a1792ee6e2f718b197f668a8b7b16d357">ast_bridge::softmix</a></div><div class="ttdeci">struct ast_bridge_softmix softmix</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00375">bridge.h:375</a></div></div>
<div class="ttc" id="structast__bridge__video__mode_html_a4815762cb716d9c02daf0caadd5a41db"><div class="ttname"><a href="../../dc/d4a/structast__bridge__video__mode.html#a4815762cb716d9c02daf0caadd5a41db">ast_bridge_video_mode::mode_data</a></div><div class="ttdeci">union ast_bridge_video_mode::@227 mode_data</div></div>
<div class="ttc" id="structast__bridge__video__mode_html_a7325622e00e4be7c0370401933bb75e5"><div class="ttname"><a href="../../dc/d4a/structast__bridge__video__mode.html#a7325622e00e4be7c0370401933bb75e5">ast_bridge_video_mode::talker_src_data</a></div><div class="ttdeci">struct ast_bridge_video_talker_src_data talker_src_data</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00164">bridge.h:164</a></div></div>
<div class="ttc" id="structast__bridge__video__mode_html_a3d1942099e12eaade08dc9ac3fee6c23"><div class="ttname"><a href="../../dc/d4a/structast__bridge__video__mode.html#a3d1942099e12eaade08dc9ac3fee6c23">ast_bridge_video_mode::single_src_data</a></div><div class="ttdeci">struct ast_bridge_video_single_src_data single_src_data</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00163">bridge.h:163</a></div></div>
<div class="ttc" id="bridge_8h_html_a0fb66f4741ca8d106af1917a2f1aab6e"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a0fb66f4741ca8d106af1917a2f1aab6e">ast_bridge_unlock</a></div><div class="ttdeci">#define ast_bridge_unlock(bridge)</div><div class="ttdoc">Unlock the bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00493">bridge.h:493</a></div></div>
<div class="ttc" id="bridge_8h_html_ab8ee807d2c3a21d19e16fedf35c90de8"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#ab8ee807d2c3a21d19e16fedf35c90de8">ast_bridge_lock</a></div><div class="ttdeci">#define ast_bridge_lock(bridge)</div><div class="ttdoc">Lock the bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00480">bridge.h:480</a></div></div>
<div class="ttc" id="bridge_8h_html_ab388dac5f5c172d7f03c54487afac906a48458f43dd7ef0372614e5848f9226e0"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#ab388dac5f5c172d7f03c54487afac906a48458f43dd7ef0372614e5848f9226e0">AST_BRIDGE_VIDEO_MODE_TALKER_SRC</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00105">bridge.h:105</a></div></div>
<div class="ttc" id="structast__bridge__video__talker__src__data_html_af17523bbee86cea3e7c6959258436728"><div class="ttname"><a href="../../d0/dad/structast__bridge__video__talker__src__data.html#af17523bbee86cea3e7c6959258436728">ast_bridge_video_talker_src_data::chan_vsrc</a></div><div class="ttdeci">struct ast_channel * chan_vsrc</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00123">bridge.h:123</a></div></div>
<div class="ttc" id="bridge_8h_html_ab388dac5f5c172d7f03c54487afac906a51708384777e8722fae674ea8db89f54"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#ab388dac5f5c172d7f03c54487afac906a51708384777e8722fae674ea8db89f54">AST_BRIDGE_VIDEO_MODE_NONE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00100">bridge.h:100</a></div></div>
<div class="ttc" id="structast__bridge__video__mode_html_ac651801cf270dd2ba5cb81ec5c786308"><div class="ttname"><a href="../../dc/d4a/structast__bridge__video__mode.html#ac651801cf270dd2ba5cb81ec5c786308">ast_bridge_video_mode::mode</a></div><div class="ttdeci">enum ast_bridge_video_mode_type mode</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00160">bridge.h:160</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a08a41371fb4f020d645a0e6f50434005"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a08a41371fb4f020d645a0e6f50434005">&#9670;&nbsp;</a></span>ast_bridge_peer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a>* ast_bridge_peer </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *&#160;</td>
          <td class="paramname"><em>bridge</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the channel's bridge peer only if the bridge is two-party. </p>
<dl class="section since"><dt>Since</dt><dd>12.0.0</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bridge</td><td>The bridge </td></tr>
    <tr><td class="paramname">chan</td><td>Channel desiring the bridge peer channel.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>The returned peer channel is the current peer in the bridge when called.</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">NULL</td><td>Channel not in a bridge or the bridge is not two-party. </td></tr>
    <tr><td class="paramname">non-NULL</td><td>Reffed peer channel at time of calling. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d0/d95/bridge_8c_source.html#l04142">4142</a> of file <a class="el" href="../../d0/d95/bridge_8c_source.html">bridge.c</a>.</p>

<p class="reference">References <a class="el" href="../../d4/d56/bridge_8h_source.html#l00480">ast_bridge_lock</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l04114">ast_bridge_peer_nolock()</a>, and <a class="el" href="../../d4/d56/bridge_8h_source.html#l00493">ast_bridge_unlock</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/d0f/stasis__bridges_8c_source.html#l01226">ast_attended_transfer_message_create()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l04477">ast_bridge_transfer_blind()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l10765">ast_channel_bridge_peer()</a>, and <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01593">get_transfer_parties_transferer_bridge()</a>.</p>
<div class="fragment"><div class="line"><a name="l04143"></a><span class="lineno"> 4143</span>&#160;{</div><div class="line"><a name="l04144"></a><span class="lineno"> 4144</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *peer;</div><div class="line"><a name="l04145"></a><span class="lineno"> 4145</span>&#160;</div><div class="line"><a name="l04146"></a><span class="lineno"> 4146</span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#ab8ee807d2c3a21d19e16fedf35c90de8">ast_bridge_lock</a>(bridge);</div><div class="line"><a name="l04147"></a><span class="lineno"> 4147</span>&#160;   peer = <a class="code" href="../../d0/d95/bridge_8c.html#a446fdf2b4bc50dd4cf7325c6b01c075c">ast_bridge_peer_nolock</a>(bridge, chan);</div><div class="line"><a name="l04148"></a><span class="lineno"> 4148</span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#a0fb66f4741ca8d106af1917a2f1aab6e">ast_bridge_unlock</a>(bridge);</div><div class="line"><a name="l04149"></a><span class="lineno"> 4149</span>&#160;</div><div class="line"><a name="l04150"></a><span class="lineno"> 4150</span>&#160;   <span class="keywordflow">return</span> peer;</div><div class="line"><a name="l04151"></a><span class="lineno"> 4151</span>&#160;}</div><div class="ttc" id="structast__channel_html"><div class="ttname"><a href="../../df/d3c/structast__channel.html">ast_channel</a></div><div class="ttdoc">Main Channel structure associated with a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00073">channel_internal_api.c:73</a></div></div>
<div class="ttc" id="bridge_8c_html_a446fdf2b4bc50dd4cf7325c6b01c075c"><div class="ttname"><a href="../../d0/d95/bridge_8c.html#a446fdf2b4bc50dd4cf7325c6b01c075c">ast_bridge_peer_nolock</a></div><div class="ttdeci">struct ast_channel * ast_bridge_peer_nolock(struct ast_bridge *bridge, struct ast_channel *chan)</div><div class="ttdoc">Get the channel&amp;#39;s bridge peer only if the bridge is two-party. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l04114">bridge.c:4114</a></div></div>
<div class="ttc" id="bridge_8h_html_a0fb66f4741ca8d106af1917a2f1aab6e"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a0fb66f4741ca8d106af1917a2f1aab6e">ast_bridge_unlock</a></div><div class="ttdeci">#define ast_bridge_unlock(bridge)</div><div class="ttdoc">Unlock the bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00493">bridge.h:493</a></div></div>
<div class="ttc" id="bridge_8h_html_ab8ee807d2c3a21d19e16fedf35c90de8"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#ab8ee807d2c3a21d19e16fedf35c90de8">ast_bridge_lock</a></div><div class="ttdeci">#define ast_bridge_lock(bridge)</div><div class="ttdoc">Lock the bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00480">bridge.h:480</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a446fdf2b4bc50dd4cf7325c6b01c075c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a446fdf2b4bc50dd4cf7325c6b01c075c">&#9670;&nbsp;</a></span>ast_bridge_peer_nolock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a>* ast_bridge_peer_nolock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *&#160;</td>
          <td class="paramname"><em>bridge</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the channel's bridge peer only if the bridge is two-party. </p>
<dl class="section since"><dt>Since</dt><dd>12.0.0</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bridge</td><td>The bridge which is already locked. </td></tr>
    <tr><td class="paramname">chan</td><td>Channel desiring the bridge peer channel.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>The returned peer channel is the current peer in the bridge when called.</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">NULL</td><td>Channel not in a bridge or the bridge is not two-party. </td></tr>
    <tr><td class="paramname">non-NULL</td><td>Reffed peer channel at time of calling. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d0/d95/bridge_8c_source.html#l04114">4114</a> of file <a class="el" href="../../d0/d95/bridge_8c_source.html">bridge.c</a>.</p>

<p class="reference">References <a class="el" href="../../d4/d56/bridge_8h_source.html#l00092">AST_BRIDGE_CAPABILITY_1TO1MIX</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00090">AST_BRIDGE_CAPABILITY_NATIVE</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02970">ast_channel_ref</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00490">AST_LIST_TRAVERSE</a>, <a class="el" href="../../d0/d3b/bridge__technology_8h_source.html#l00066">ast_bridge_technology::capabilities</a>, <a class="el" href="../../de/d41/bridge__channel_8h_source.html#l00091">ast_bridge_channel::chan</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00371">ast_bridge::channels</a>, <a class="el" href="../../de/d41/bridge__channel_8h_source.html#l00121">ast_bridge_channel::in_bridge</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00381">ast_bridge::num_channels</a>, and <a class="el" href="../../d4/d56/bridge_8h_source.html#l00363">ast_bridge::technology</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/d95/bridge_8c_source.html#l04142">ast_bridge_peer()</a>, <a class="el" href="../../d9/d45/bridge__builtin__features_8c_source.html#l00408">feature_automixmonitor()</a>, and <a class="el" href="../../d9/d45/bridge__builtin__features_8c_source.html#l00220">feature_automonitor()</a>.</p>
<div class="fragment"><div class="line"><a name="l04115"></a><span class="lineno"> 4115</span>&#160;{</div><div class="line"><a name="l04116"></a><span class="lineno"> 4116</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *peer = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l04117"></a><span class="lineno"> 4117</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *iter;</div><div class="line"><a name="l04118"></a><span class="lineno"> 4118</span>&#160;</div><div class="line"><a name="l04119"></a><span class="lineno"> 4119</span>&#160;   <span class="comment">/* Asking for the peer channel only makes sense on a two-party bridge. */</span></div><div class="line"><a name="l04120"></a><span class="lineno"> 4120</span>&#160;   <span class="keywordflow">if</span> (bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a97e3bedeadf444995deb6fab68f57e21">num_channels</a> == 2</div><div class="line"><a name="l04121"></a><span class="lineno"> 4121</span>&#160;      &amp;&amp; bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#aabb60a181a9e98fb31f8666fb4f5d0b8">technology</a>-&gt;<a class="code" href="../../d1/d04/structast__bridge__technology.html#a04532f57b1eebac73f24b2a02dab161f">capabilities</a></div><div class="line"><a name="l04122"></a><span class="lineno"> 4122</span>&#160;         &amp; (<a class="code" href="../../d4/d56/bridge_8h.html#a815c9b3e933dfd4b8f523cf55caa5bbfaec2d0fff3f4f8df0d9ef6b4d9be78380">AST_BRIDGE_CAPABILITY_NATIVE</a> | <a class="code" href="../../d4/d56/bridge_8h.html#a815c9b3e933dfd4b8f523cf55caa5bbfaf483c951b835fcc35da807b6a4b12509">AST_BRIDGE_CAPABILITY_1TO1MIX</a>)) {</div><div class="line"><a name="l04123"></a><span class="lineno"> 4123</span>&#160;      <span class="keywordtype">int</span> <a class="code" href="../../d5/dca/structast__bridge__channel.html#afacf05ff49bf5cd3c7170b3c51943d2e">in_bridge</a> = 0;</div><div class="line"><a name="l04124"></a><span class="lineno"> 4124</span>&#160;</div><div class="line"><a name="l04125"></a><span class="lineno"> 4125</span>&#160;      <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(&amp;bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a77542a877d8ed62331c5b3b6aa3e87a7">channels</a>, iter, <a class="code" href="../../d3/d96/structentry.html">entry</a>) {</div><div class="line"><a name="l04126"></a><span class="lineno"> 4126</span>&#160;         <span class="keywordflow">if</span> (iter-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a> != chan) {</div><div class="line"><a name="l04127"></a><span class="lineno"> 4127</span>&#160;            peer = iter-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>;</div><div class="line"><a name="l04128"></a><span class="lineno"> 4128</span>&#160;         } <span class="keywordflow">else</span> {</div><div class="line"><a name="l04129"></a><span class="lineno"> 4129</span>&#160;            in_bridge = 1;</div><div class="line"><a name="l04130"></a><span class="lineno"> 4130</span>&#160;         }</div><div class="line"><a name="l04131"></a><span class="lineno"> 4131</span>&#160;      }</div><div class="line"><a name="l04132"></a><span class="lineno"> 4132</span>&#160;      <span class="keywordflow">if</span> (in_bridge &amp;&amp; peer) {</div><div class="line"><a name="l04133"></a><span class="lineno"> 4133</span>&#160;         <a class="code" href="../../d5/d7b/channel_8h.html#a6801c703e767d6f760c54c8b86a30024">ast_channel_ref</a>(peer);</div><div class="line"><a name="l04134"></a><span class="lineno"> 4134</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l04135"></a><span class="lineno"> 4135</span>&#160;         peer = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l04136"></a><span class="lineno"> 4136</span>&#160;      }</div><div class="line"><a name="l04137"></a><span class="lineno"> 4137</span>&#160;   }</div><div class="line"><a name="l04138"></a><span class="lineno"> 4138</span>&#160;</div><div class="line"><a name="l04139"></a><span class="lineno"> 4139</span>&#160;   <span class="keywordflow">return</span> peer;</div><div class="line"><a name="l04140"></a><span class="lineno"> 4140</span>&#160;}</div><div class="ttc" id="bridge_8h_html_a815c9b3e933dfd4b8f523cf55caa5bbfaec2d0fff3f4f8df0d9ef6b4d9be78380"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a815c9b3e933dfd4b8f523cf55caa5bbfaec2d0fff3f4f8df0d9ef6b4d9be78380">AST_BRIDGE_CAPABILITY_NATIVE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00090">bridge.h:90</a></div></div>
<div class="ttc" id="structast__channel_html"><div class="ttname"><a href="../../df/d3c/structast__channel.html">ast_channel</a></div><div class="ttdoc">Main Channel structure associated with a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00073">channel_internal_api.c:73</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structast__bridge_html_aabb60a181a9e98fb31f8666fb4f5d0b8"><div class="ttname"><a href="../../d4/d84/structast__bridge.html#aabb60a181a9e98fb31f8666fb4f5d0b8">ast_bridge::technology</a></div><div class="ttdeci">struct ast_bridge_technology * technology</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00363">bridge.h:363</a></div></div>
<div class="ttc" id="bridge_8h_html_a815c9b3e933dfd4b8f523cf55caa5bbfaf483c951b835fcc35da807b6a4b12509"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a815c9b3e933dfd4b8f523cf55caa5bbfaf483c951b835fcc35da807b6a4b12509">AST_BRIDGE_CAPABILITY_1TO1MIX</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00092">bridge.h:92</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a3008b2f4f236b72d8bcfb80e346324ef"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a></div><div class="ttdeci">#define AST_LIST_TRAVERSE(head, var, field)</div><div class="ttdoc">Loops over (traverses) the entries in a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00490">linkedlists.h:490</a></div></div>
<div class="ttc" id="structast__bridge__channel_html_afacf05ff49bf5cd3c7170b3c51943d2e"><div class="ttname"><a href="../../d5/dca/structast__bridge__channel.html#afacf05ff49bf5cd3c7170b3c51943d2e">ast_bridge_channel::in_bridge</a></div><div class="ttdeci">unsigned int in_bridge</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00121">bridge_channel.h:121</a></div></div>
<div class="ttc" id="structast__bridge_html_a77542a877d8ed62331c5b3b6aa3e87a7"><div class="ttname"><a href="../../d4/d84/structast__bridge.html#a77542a877d8ed62331c5b3b6aa3e87a7">ast_bridge::channels</a></div><div class="ttdeci">struct ast_bridge_channels_list channels</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00371">bridge.h:371</a></div></div>
<div class="ttc" id="structast__bridge__channel_html_a84d1435c5b8d387806714ea7079304b7"><div class="ttname"><a href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">ast_bridge_channel::chan</a></div><div class="ttdeci">struct ast_channel * chan</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00091">bridge_channel.h:91</a></div></div>
<div class="ttc" id="structast__bridge__channel_html"><div class="ttname"><a href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a></div><div class="ttdoc">Structure that contains information regarding a channel in a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00084">bridge_channel.h:84</a></div></div>
<div class="ttc" id="channel_8h_html_a6801c703e767d6f760c54c8b86a30024"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a6801c703e767d6f760c54c8b86a30024">ast_channel_ref</a></div><div class="ttdeci">#define ast_channel_ref(c)</div><div class="ttdoc">Increase channel reference count. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02970">channel.h:2970</a></div></div>
<div class="ttc" id="structentry_html"><div class="ttname"><a href="../../d3/d96/structentry.html">entry</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d85/search_8h_source.html#l00040">search.h:40</a></div></div>
<div class="ttc" id="structast__bridge__technology_html_a04532f57b1eebac73f24b2a02dab161f"><div class="ttname"><a href="../../d1/d04/structast__bridge__technology.html#a04532f57b1eebac73f24b2a02dab161f">ast_bridge_technology::capabilities</a></div><div class="ttdeci">uint32_t capabilities</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d3b/bridge__technology_8h_source.html#l00066">bridge_technology.h:66</a></div></div>
<div class="ttc" id="structast__bridge_html_a97e3bedeadf444995deb6fab68f57e21"><div class="ttname"><a href="../../d4/d84/structast__bridge.html#a97e3bedeadf444995deb6fab68f57e21">ast_bridge::num_channels</a></div><div class="ttdeci">unsigned int num_channels</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00381">bridge.h:381</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad953e3f044237ed0337e4e46479fbd4f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad953e3f044237ed0337e4e46479fbd4f">&#9670;&nbsp;</a></span>ast_bridge_peers()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d2/da9/structao2__container.html">ao2_container</a>* ast_bridge_peers </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *&#160;</td>
          <td class="paramname"><em>bridge</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get a container of all channels in the bridge. </p>
<dl class="section since"><dt>Since</dt><dd>12.0.0</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bridge</td><td>The bridge</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>The returned container is a snapshot of channels in the bridge when called.</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">NULL</td><td>Failed to create container </td></tr>
    <tr><td class="paramname">non-NULL</td><td>Container of channels in the bridge </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d0/d95/bridge_8c_source.html#l04103">4103</a> of file <a class="el" href="../../d0/d95/bridge_8c_source.html">bridge.c</a>.</p>

<p class="reference">References <a class="el" href="../../d4/d56/bridge_8h_source.html#l00480">ast_bridge_lock</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l04085">ast_bridge_peers_nolock()</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00493">ast_bridge_unlock</a>, and <a class="el" href="../../de/d52/codec__dahdi_8c.html#aea0622703055b62259903cdab213319b">channels</a>.</p>
<div class="fragment"><div class="line"><a name="l04104"></a><span class="lineno"> 4104</span>&#160;{</div><div class="line"><a name="l04105"></a><span class="lineno"> 4105</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/da9/structao2__container.html">ao2_container</a> *<a class="code" href="../../de/d52/codec__dahdi_8c.html#aea0622703055b62259903cdab213319b">channels</a>;</div><div class="line"><a name="l04106"></a><span class="lineno"> 4106</span>&#160;</div><div class="line"><a name="l04107"></a><span class="lineno"> 4107</span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#ab8ee807d2c3a21d19e16fedf35c90de8">ast_bridge_lock</a>(bridge);</div><div class="line"><a name="l04108"></a><span class="lineno"> 4108</span>&#160;   channels = <a class="code" href="../../d0/d95/bridge_8c.html#ad45098162b2df09235f632efb08a9681">ast_bridge_peers_nolock</a>(bridge);</div><div class="line"><a name="l04109"></a><span class="lineno"> 4109</span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#a0fb66f4741ca8d106af1917a2f1aab6e">ast_bridge_unlock</a>(bridge);</div><div class="line"><a name="l04110"></a><span class="lineno"> 4110</span>&#160;</div><div class="line"><a name="l04111"></a><span class="lineno"> 4111</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../de/d52/codec__dahdi_8c.html#aea0622703055b62259903cdab213319b">channels</a>;</div><div class="line"><a name="l04112"></a><span class="lineno"> 4112</span>&#160;}</div><div class="ttc" id="codec__dahdi_8c_html_aea0622703055b62259903cdab213319b"><div class="ttname"><a href="../../de/d52/codec__dahdi_8c.html#aea0622703055b62259903cdab213319b">channels</a></div><div class="ttdeci">static struct channel_usage channels</div></div>
<div class="ttc" id="bridge_8h_html_a0fb66f4741ca8d106af1917a2f1aab6e"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a0fb66f4741ca8d106af1917a2f1aab6e">ast_bridge_unlock</a></div><div class="ttdeci">#define ast_bridge_unlock(bridge)</div><div class="ttdoc">Unlock the bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00493">bridge.h:493</a></div></div>
<div class="ttc" id="bridge_8c_html_ad45098162b2df09235f632efb08a9681"><div class="ttname"><a href="../../d0/d95/bridge_8c.html#ad45098162b2df09235f632efb08a9681">ast_bridge_peers_nolock</a></div><div class="ttdeci">struct ao2_container * ast_bridge_peers_nolock(struct ast_bridge *bridge)</div><div class="ttdoc">Get a container of all channels in the bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l04085">bridge.c:4085</a></div></div>
<div class="ttc" id="bridge_8h_html_ab8ee807d2c3a21d19e16fedf35c90de8"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#ab8ee807d2c3a21d19e16fedf35c90de8">ast_bridge_lock</a></div><div class="ttdeci">#define ast_bridge_lock(bridge)</div><div class="ttdoc">Lock the bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00480">bridge.h:480</a></div></div>
<div class="ttc" id="structao2__container_html"><div class="ttname"><a href="../../d2/da9/structao2__container.html">ao2_container</a></div><div class="ttdoc">Generic container type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d20/astobj2__container__private_8h_source.html#l00282">astobj2_container_private.h:282</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad45098162b2df09235f632efb08a9681"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad45098162b2df09235f632efb08a9681">&#9670;&nbsp;</a></span>ast_bridge_peers_nolock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d2/da9/structao2__container.html">ao2_container</a>* ast_bridge_peers_nolock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *&#160;</td>
          <td class="paramname"><em>bridge</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get a container of all channels in the bridge. </p>
<dl class="section since"><dt>Since</dt><dd>12.0.0</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bridge</td><td>The bridge which is already locked.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">NULL</td><td>Failed to create container </td></tr>
    <tr><td class="paramname">non-NULL</td><td>Container of channels in the bridge </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d0/d95/bridge_8c_source.html#l04085">4085</a> of file <a class="el" href="../../d0/d95/bridge_8c_source.html">bridge.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00369">AO2_ALLOC_OPT_LOCK_NOLOCK</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01310">ao2_container_alloc_hash</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01549">ao2_link</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00490">AST_LIST_TRAVERSE</a>, <a class="el" href="../../de/d41/bridge__channel_8h_source.html#l00091">ast_bridge_channel::chan</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l04063">channel_cmp()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l04040">channel_hash()</a>, <a class="el" href="../../de/d52/codec__dahdi_8c.html#aea0622703055b62259903cdab213319b">channels</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00371">ast_bridge::channels</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/d95/bridge_8c_source.html#l04103">ast_bridge_peers()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l04729">ast_bridge_transfer_attended()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l04477">ast_bridge_transfer_blind()</a>, and <a class="el" href="../../d0/d95/bridge_8c_source.html#l04663">two_bridge_attended_transfer()</a>.</p>
<div class="fragment"><div class="line"><a name="l04086"></a><span class="lineno"> 4086</span>&#160;{</div><div class="line"><a name="l04087"></a><span class="lineno"> 4087</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d2/da9/structao2__container.html">ao2_container</a> *<a class="code" href="../../de/d52/codec__dahdi_8c.html#aea0622703055b62259903cdab213319b">channels</a>;</div><div class="line"><a name="l04088"></a><span class="lineno"> 4088</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *iter;</div><div class="line"><a name="l04089"></a><span class="lineno"> 4089</span>&#160;</div><div class="line"><a name="l04090"></a><span class="lineno"> 4090</span>&#160;   channels = <a class="code" href="../../d5/da5/astobj2_8h.html#aefc16f8aa9087cbc5c55c70cf1dd41b2">ao2_container_alloc_hash</a>(<a class="code" href="../../d5/da5/astobj2_8h.html#a2cf7e3433f08351aafe3b0cd31edf7f8a23b60f2636bcfbc4dfeea6cc21bf847b">AO2_ALLOC_OPT_LOCK_NOLOCK</a>, 0,</div><div class="line"><a name="l04091"></a><span class="lineno"> 4091</span>&#160;      13, <a class="code" href="../../d0/d95/bridge_8c.html#a19de8a45531b37cdac0805b0ce4354f8">channel_hash</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d0/d95/bridge_8c.html#a49f20b53f75f33385a7254676faa0581">channel_cmp</a>);</div><div class="line"><a name="l04092"></a><span class="lineno"> 4092</span>&#160;   <span class="keywordflow">if</span> (!channels) {</div><div class="line"><a name="l04093"></a><span class="lineno"> 4093</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l04094"></a><span class="lineno"> 4094</span>&#160;   }</div><div class="line"><a name="l04095"></a><span class="lineno"> 4095</span>&#160;</div><div class="line"><a name="l04096"></a><span class="lineno"> 4096</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(&amp;bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a77542a877d8ed62331c5b3b6aa3e87a7">channels</a>, iter, <a class="code" href="../../d3/d96/structentry.html">entry</a>) {</div><div class="line"><a name="l04097"></a><span class="lineno"> 4097</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#a1ad9f122bcae95a470639402faa3d2ee">ao2_link</a>(channels, iter-&gt;<a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>);</div><div class="line"><a name="l04098"></a><span class="lineno"> 4098</span>&#160;   }</div><div class="line"><a name="l04099"></a><span class="lineno"> 4099</span>&#160;</div><div class="line"><a name="l04100"></a><span class="lineno"> 4100</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../de/d52/codec__dahdi_8c.html#aea0622703055b62259903cdab213319b">channels</a>;</div><div class="line"><a name="l04101"></a><span class="lineno"> 4101</span>&#160;}</div><div class="ttc" id="astobj2_8h_html_a2cf7e3433f08351aafe3b0cd31edf7f8a23b60f2636bcfbc4dfeea6cc21bf847b"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a2cf7e3433f08351aafe3b0cd31edf7f8a23b60f2636bcfbc4dfeea6cc21bf847b">AO2_ALLOC_OPT_LOCK_NOLOCK</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00369">astobj2.h:369</a></div></div>
<div class="ttc" id="bridge_8c_html_a49f20b53f75f33385a7254676faa0581"><div class="ttname"><a href="../../d0/d95/bridge_8c.html#a49f20b53f75f33385a7254676faa0581">channel_cmp</a></div><div class="ttdeci">static int channel_cmp(void *obj, void *arg, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l04063">bridge.c:4063</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="codec__dahdi_8c_html_aea0622703055b62259903cdab213319b"><div class="ttname"><a href="../../de/d52/codec__dahdi_8c.html#aea0622703055b62259903cdab213319b">channels</a></div><div class="ttdeci">static struct channel_usage channels</div></div>
<div class="ttc" id="bridge_8c_html_a19de8a45531b37cdac0805b0ce4354f8"><div class="ttname"><a href="../../d0/d95/bridge_8c.html#a19de8a45531b37cdac0805b0ce4354f8">channel_hash</a></div><div class="ttdeci">static int channel_hash(const void *obj, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l04040">bridge.c:4040</a></div></div>
<div class="ttc" id="astobj2_8h_html_aefc16f8aa9087cbc5c55c70cf1dd41b2"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aefc16f8aa9087cbc5c55c70cf1dd41b2">ao2_container_alloc_hash</a></div><div class="ttdeci">#define ao2_container_alloc_hash(ao2_options, container_options, n_buckets, hash_fn, sort_fn, cmp_fn)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01310">astobj2.h:1310</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a3008b2f4f236b72d8bcfb80e346324ef"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a></div><div class="ttdeci">#define AST_LIST_TRAVERSE(head, var, field)</div><div class="ttdoc">Loops over (traverses) the entries in a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00490">linkedlists.h:490</a></div></div>
<div class="ttc" id="structast__bridge_html_a77542a877d8ed62331c5b3b6aa3e87a7"><div class="ttname"><a href="../../d4/d84/structast__bridge.html#a77542a877d8ed62331c5b3b6aa3e87a7">ast_bridge::channels</a></div><div class="ttdeci">struct ast_bridge_channels_list channels</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00371">bridge.h:371</a></div></div>
<div class="ttc" id="structast__bridge__channel_html_a84d1435c5b8d387806714ea7079304b7"><div class="ttname"><a href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">ast_bridge_channel::chan</a></div><div class="ttdeci">struct ast_channel * chan</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00091">bridge_channel.h:91</a></div></div>
<div class="ttc" id="structast__bridge__channel_html"><div class="ttname"><a href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a></div><div class="ttdoc">Structure that contains information regarding a channel in a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00084">bridge_channel.h:84</a></div></div>
<div class="ttc" id="structentry_html"><div class="ttname"><a href="../../d3/d96/structentry.html">entry</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d85/search_8h_source.html#l00040">search.h:40</a></div></div>
<div class="ttc" id="structao2__container_html"><div class="ttname"><a href="../../d2/da9/structao2__container.html">ao2_container</a></div><div class="ttdoc">Generic container type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d20/astobj2__container__private_8h_source.html#l00282">astobj2_container_private.h:282</a></div></div>
<div class="ttc" id="astobj2_8h_html_a1ad9f122bcae95a470639402faa3d2ee"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a1ad9f122bcae95a470639402faa3d2ee">ao2_link</a></div><div class="ttdeci">#define ao2_link(container, obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01549">astobj2.h:1549</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a4a80435538e9bd93331f54d6aac9201b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a80435538e9bd93331f54d6aac9201b">&#9670;&nbsp;</a></span>ast_bridge_queue_action()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_bridge_queue_action </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *&#160;</td>
          <td class="paramname"><em>bridge</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d0/d99/structast__frame.html">ast_frame</a> *&#160;</td>
          <td class="paramname"><em>action</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Put an action onto the specified bridge. </p>
<dl class="section since"><dt>Since</dt><dd>12.0.0</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bridge</td><td>What to queue the action on. </td></tr>
    <tr><td class="paramname">action</td><td>What to do.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>on success. </td></tr>
    <tr><td class="paramname">-1</td><td>on error.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>This API call is meant for internal bridging operations. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d0/d95/bridge_8c_source.html#l00307">307</a> of file <a class="el" href="../../d0/d95/bridge_8c_source.html">bridge.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00585">ast_frdup</a>, and <a class="el" href="../../d0/d95/bridge_8c_source.html#l00296">bridge_queue_action_nodup()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/d95/bridge_8c_source.html#l00319">bridge_dissolve()</a>.</p>
<div class="fragment"><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;{</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d99/structast__frame.html">ast_frame</a> *dup;</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;   dup = <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#a417ee8a61074ec7570971202908e2c4f">ast_frdup</a>(action);</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;   <span class="keywordflow">if</span> (!dup) {</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;   }</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;   <a class="code" href="../../d0/d95/bridge_8c.html#a33e57ad4748df60e32e16393cfd285b4">bridge_queue_action_nodup</a>(bridge, dup);</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;}</div><div class="ttc" id="include_2asterisk_2frame_8h_html_a417ee8a61074ec7570971202908e2c4f"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#a417ee8a61074ec7570971202908e2c4f">ast_frdup</a></div><div class="ttdeci">#define ast_frdup(fr)</div><div class="ttdoc">Copies a frame. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00585">include/asterisk/frame.h:585</a></div></div>
<div class="ttc" id="bridge_8c_html_a33e57ad4748df60e32e16393cfd285b4"><div class="ttname"><a href="../../d0/d95/bridge_8c.html#a33e57ad4748df60e32e16393cfd285b4">bridge_queue_action_nodup</a></div><div class="ttdeci">static void bridge_queue_action_nodup(struct ast_bridge *bridge, struct ast_frame *action)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l00296">bridge.c:296</a></div></div>
<div class="ttc" id="structast__frame_html"><div class="ttname"><a href="../../d0/d99/structast__frame.html">ast_frame</a></div><div class="ttdoc">Data structure associated with a single frame of data. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00165">include/asterisk/frame.h:165</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aef93dd372b07227b9aa10c530d5039f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aef93dd372b07227b9aa10c530d5039f8">&#9670;&nbsp;</a></span>ast_bridge_queue_everyone_else()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_bridge_queue_everyone_else </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *&#160;</td>
          <td class="paramname"><em>bridge</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *&#160;</td>
          <td class="paramname"><em>bridge_channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d0/d99/structast__frame.html">ast_frame</a> *&#160;</td>
          <td class="paramname"><em>frame</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Queue the given frame to everyone else. </p>
<dl class="section since"><dt>Since</dt><dd>12.0.0</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bridge</td><td>What bridge to distribute frame. </td></tr>
    <tr><td class="paramname">bridge_channel</td><td>Channel to optionally not pass frame to. (NULL to pass to everyone) </td></tr>
    <tr><td class="paramname">frame</td><td>Frame to pass.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>This is intended to be called by bridge hooks and bridge technologies.</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Frame written to at least one channel. </td></tr>
    <tr><td class="paramname">-1</td><td>Frame written to no channels. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d32/bridge__channel_8c_source.html#l01122">1122</a> of file <a class="el" href="../../d3/d32/bridge__channel_8c_source.html">bridge_channel.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d32/bridge__channel_8c_source.html#l01044">ast_bridge_channel_queue_frame()</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00107">AST_FRAME_NULL</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00490">AST_LIST_TRAVERSE</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00371">ast_bridge::channels</a>, and <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00167">ast_frame::frametype</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01844">bridge_hold()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01831">bridge_ringing()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l01857">bridge_unhold()</a>, <a class="el" href="../../d8/d66/bridge__holding_8c_source.html#l00331">holding_bridge_write()</a>, <a class="el" href="../../d9/da5/bridge__native__dahdi_8c_source.html#l00819">native_bridge_write()</a>, <a class="el" href="../../d1/d27/bridge__native__rtp_8c_source.html#l01063">native_rtp_bridge_write()</a>, <a class="el" href="../../da/daf/bridge__simple_8c_source.html#l00169">simple_bridge_write()</a>, <a class="el" href="../../db/d4e/bridge__softmix_8c_source.html#l01320">softmix_bridge_write()</a>, <a class="el" href="../../db/d4e/bridge__softmix_8c_source.html#l01233">softmix_bridge_write_control()</a>, <a class="el" href="../../db/d4e/bridge__softmix_8c_source.html#l01197">softmix_bridge_write_text()</a>, and <a class="el" href="../../db/d4e/bridge__softmix_8c_source.html#l00889">softmix_bridge_write_video()</a>.</p>
<div class="fragment"><div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;{</div><div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *cur;</div><div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;   <span class="keywordtype">int</span> not_written = -1;</div><div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;</div><div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;   <span class="keywordflow">if</span> (frame-&gt;<a class="code" href="../../d0/d99/structast__frame.html#a6937b93c56cb473b547eda454dca7b4c">frametype</a> == <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#ae2e1a9c4e048da387b761f619312d6e0a29ff71f9d5c7927906ebd437fe372056">AST_FRAME_NULL</a>) {</div><div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;      <span class="comment">/* &quot;Accept&quot; the frame and discard it. */</span></div><div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;   }</div><div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;</div><div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;   <a class="code" href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a>(&amp;bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a77542a877d8ed62331c5b3b6aa3e87a7">channels</a>, cur, <a class="code" href="../../d3/d96/structentry.html">entry</a>) {</div><div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;      <span class="keywordflow">if</span> (cur == bridge_channel) {</div><div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;         <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;      }</div><div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="../../d3/d32/bridge__channel_8c.html#aba51942a86849ae41c5397d596cb8ed1">ast_bridge_channel_queue_frame</a>(cur, frame)) {</div><div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;         not_written = 0;</div><div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;      }</div><div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;   }</div><div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;   <span class="keywordflow">return</span> not_written;</div><div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;}</div><div class="ttc" id="bridge__channel_8c_html_aba51942a86849ae41c5397d596cb8ed1"><div class="ttname"><a href="../../d3/d32/bridge__channel_8c.html#aba51942a86849ae41c5397d596cb8ed1">ast_bridge_channel_queue_frame</a></div><div class="ttdeci">int ast_bridge_channel_queue_frame(struct ast_bridge_channel *bridge_channel, struct ast_frame *fr)</div><div class="ttdoc">Write a frame to the specified bridge_channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d32/bridge__channel_8c_source.html#l01044">bridge_channel.c:1044</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_ae2e1a9c4e048da387b761f619312d6e0a29ff71f9d5c7927906ebd437fe372056"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#ae2e1a9c4e048da387b761f619312d6e0a29ff71f9d5c7927906ebd437fe372056">AST_FRAME_NULL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00107">include/asterisk/frame.h:107</a></div></div>
<div class="ttc" id="linkedlists_8h_html_a3008b2f4f236b72d8bcfb80e346324ef"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#a3008b2f4f236b72d8bcfb80e346324ef">AST_LIST_TRAVERSE</a></div><div class="ttdeci">#define AST_LIST_TRAVERSE(head, var, field)</div><div class="ttdoc">Loops over (traverses) the entries in a list. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00490">linkedlists.h:490</a></div></div>
<div class="ttc" id="structast__bridge_html_a77542a877d8ed62331c5b3b6aa3e87a7"><div class="ttname"><a href="../../d4/d84/structast__bridge.html#a77542a877d8ed62331c5b3b6aa3e87a7">ast_bridge::channels</a></div><div class="ttdeci">struct ast_bridge_channels_list channels</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00371">bridge.h:371</a></div></div>
<div class="ttc" id="structast__bridge__channel_html"><div class="ttname"><a href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a></div><div class="ttdoc">Structure that contains information regarding a channel in a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00084">bridge_channel.h:84</a></div></div>
<div class="ttc" id="structentry_html"><div class="ttname"><a href="../../d3/d96/structentry.html">entry</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d85/search_8h_source.html#l00040">search.h:40</a></div></div>
<div class="ttc" id="structast__frame_html_a6937b93c56cb473b547eda454dca7b4c"><div class="ttname"><a href="../../d0/d99/structast__frame.html#a6937b93c56cb473b547eda454dca7b4c">ast_frame::frametype</a></div><div class="ttdeci">enum ast_frame_type frametype</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00167">include/asterisk/frame.h:167</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a66d6a521530f4fb208eb8ee33e257b6c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a66d6a521530f4fb208eb8ee33e257b6c">&#9670;&nbsp;</a></span>ast_bridge_remove()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_bridge_remove </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *&#160;</td>
          <td class="paramname"><em>bridge</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Remove a channel from a bridge. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bridge</td><td>Bridge that the channel is to be removed from </td></tr>
    <tr><td class="paramname">chan</td><td>Channel to remove</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>on success </td></tr>
    <tr><td class="paramname">-1</td><td>on failure</td></tr>
  </table>
  </dd>
</dl>
<p>Example usage:</p>
<div class="fragment"><div class="line"><a class="code" href="../../d4/d56/bridge_8h.html#a66d6a521530f4fb208eb8ee33e257b6c">ast_bridge_remove</a>(bridge, <a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>);</div></div><!-- fragment --><p>This removes the channel pointed to by the chan pointer from the bridge pointed to by the bridge pointer and requests that it be hung up. Control over the channel will NOT be given to the calling thread.</p>
<dl class="section note"><dt>Note</dt><dd>This API call can be used on channels that were added to the bridge using both ast_bridge_join and ast_bridge_impart. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d0/d95/bridge_8c_source.html#l01997">1997</a> of file <a class="el" href="../../d0/d95/bridge_8c_source.html">bridge.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d32/bridge__channel_8c_source.html#l00314">ast_bridge_channel_leave_bridge()</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00480">ast_bridge_lock</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00493">ast_bridge_unlock</a>, <a class="el" href="../../d4/da3/causes_8h_source.html#l00105">AST_CAUSE_NORMAL_CLEARING</a>, <a class="el" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../de/d41/bridge__channel_8h_source.html#l00066">BRIDGE_CHANNEL_STATE_END_NO_DISSOLVE</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l01469">bridge_find_channel()</a>, and <a class="el" href="../../d4/d56/bridge_8h_source.html#l00409">ast_bridge::uniqueid</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/dcf/app__confbridge_8c_source.html#l03022">action_kick_last()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l04729">ast_bridge_transfer_attended()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l04477">ast_bridge_transfer_blind()</a>, <a class="el" href="../../d0/dcf/app__confbridge_8c_source.html#l03103">execute_menu_entry()</a>, <a class="el" href="../../d0/dcf/app__confbridge_8c_source.html#l03233">kick_conference_participant()</a>, and <a class="el" href="../../db/da3/conf__state__multi__marked_8c_source.html#l00081">leave_marked()</a>.</p>
<div class="fragment"><div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;{</div><div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *bridge_channel;</div><div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;</div><div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;Removing channel %s from bridge %s\n&quot;</span>,</div><div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(chan), bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a753c7b39e3284d771f13f513b003d033">uniqueid</a>);</div><div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;</div><div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#ab8ee807d2c3a21d19e16fedf35c90de8">ast_bridge_lock</a>(bridge);</div><div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160;</div><div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;   <span class="comment">/* Try to find the channel that we want to remove */</span></div><div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;   <span class="keywordflow">if</span> (!(bridge_channel = <a class="code" href="../../d0/d95/bridge_8c.html#af611fd393ca26b5fd2a8071867470ffc">bridge_find_channel</a>(bridge, chan))) {</div><div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;      <a class="code" href="../../d4/d56/bridge_8h.html#a0fb66f4741ca8d106af1917a2f1aab6e">ast_bridge_unlock</a>(bridge);</div><div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;   }</div><div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160;</div><div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;   <a class="code" href="../../de/d41/bridge__channel_8h.html#ad58d921ec1c5a6f12be8f94327dd98c0">ast_bridge_channel_leave_bridge</a>(bridge_channel,</div><div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;      <a class="code" href="../../de/d41/bridge__channel_8h.html#ab44a00c2c23eaeec1d8b61eb254eecaaa708398f920511beb8ea9df06bf16daac">BRIDGE_CHANNEL_STATE_END_NO_DISSOLVE</a>, <a class="code" href="../../d4/da3/causes_8h.html#af2235eb1c27925e4020ce286255d165f">AST_CAUSE_NORMAL_CLEARING</a>);</div><div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160;</div><div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#a0fb66f4741ca8d106af1917a2f1aab6e">ast_bridge_unlock</a>(bridge);</div><div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;</div><div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160;}</div><div class="ttc" id="structast__bridge_html_a753c7b39e3284d771f13f513b003d033"><div class="ttname"><a href="../../d4/d84/structast__bridge.html#a753c7b39e3284d771f13f513b003d033">ast_bridge::uniqueid</a></div><div class="ttdeci">const ast_string_field uniqueid</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00409">bridge.h:409</a></div></div>
<div class="ttc" id="bridge_8c_html_af611fd393ca26b5fd2a8071867470ffc"><div class="ttname"><a href="../../d0/d95/bridge_8c.html#af611fd393ca26b5fd2a8071867470ffc">bridge_find_channel</a></div><div class="ttdeci">struct ast_bridge_channel * bridge_find_channel(struct ast_bridge *bridge, struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l01469">bridge.c:1469</a></div></div>
<div class="ttc" id="bridge__channel_8h_html_ab44a00c2c23eaeec1d8b61eb254eecaaa708398f920511beb8ea9df06bf16daac"><div class="ttname"><a href="../../de/d41/bridge__channel_8h.html#ab44a00c2c23eaeec1d8b61eb254eecaaa708398f920511beb8ea9df06bf16daac">BRIDGE_CHANNEL_STATE_END_NO_DISSOLVE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00066">bridge_channel.h:66</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="causes_8h_html_af2235eb1c27925e4020ce286255d165f"><div class="ttname"><a href="../../d4/da3/causes_8h.html#af2235eb1c27925e4020ce286255d165f">AST_CAUSE_NORMAL_CLEARING</a></div><div class="ttdeci">#define AST_CAUSE_NORMAL_CLEARING</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/da3/causes_8h_source.html#l00105">causes.h:105</a></div></div>
<div class="ttc" id="bridge__channel_8h_html_ad58d921ec1c5a6f12be8f94327dd98c0"><div class="ttname"><a href="../../de/d41/bridge__channel_8h.html#ad58d921ec1c5a6f12be8f94327dd98c0">ast_bridge_channel_leave_bridge</a></div><div class="ttdeci">void ast_bridge_channel_leave_bridge(struct ast_bridge_channel *bridge_channel, enum bridge_channel_state new_state, int cause)</div><div class="ttdoc">Set bridge channel state to leave bridge (if not leaving already). </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d32/bridge__channel_8c_source.html#l00314">bridge_channel.c:314</a></div></div>
<div class="ttc" id="bridge_8h_html_a0fb66f4741ca8d106af1917a2f1aab6e"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a0fb66f4741ca8d106af1917a2f1aab6e">ast_bridge_unlock</a></div><div class="ttdeci">#define ast_bridge_unlock(bridge)</div><div class="ttdoc">Unlock the bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00493">bridge.h:493</a></div></div>
<div class="ttc" id="bridge_8h_html_ab8ee807d2c3a21d19e16fedf35c90de8"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#ab8ee807d2c3a21d19e16fedf35c90de8">ast_bridge_lock</a></div><div class="ttdeci">#define ast_bridge_lock(bridge)</div><div class="ttdoc">Lock the bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00480">bridge.h:480</a></div></div>
<div class="ttc" id="structast__bridge__channel_html"><div class="ttname"><a href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a></div><div class="ttdoc">Structure that contains information regarding a channel in a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00084">bridge_channel.h:84</a></div></div>
<div class="ttc" id="channel_8h_html_a7ca2fda13b129a55c251b56729de285b"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a></div><div class="ttdeci">const char * ast_channel_name(const struct ast_channel *chan)</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a98000e740561c2e40e39f9edd191c38a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a98000e740561c2e40e39f9edd191c38a">&#9670;&nbsp;</a></span>ast_bridge_remove_video_src()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_bridge_remove_video_src </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *&#160;</td>
          <td class="paramname"><em>bridge</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>remove a channel as a source of video for the bridge. </p>

<p class="definition">Definition at line <a class="el" href="../../d0/d95/bridge_8c_source.html#l03984">3984</a> of file <a class="el" href="../../d0/d95/bridge_8c_source.html">bridge.c</a>.</p>

<p class="reference">References <a class="el" href="../../d4/d56/bridge_8h_source.html#l00480">ast_bridge_lock</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00493">ast_bridge_unlock</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00100">AST_BRIDGE_VIDEO_MODE_NONE</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00109">AST_BRIDGE_VIDEO_MODE_SFU</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00102">AST_BRIDGE_VIDEO_MODE_SINGLE_SRC</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00105">AST_BRIDGE_VIDEO_MODE_TALKER_SRC</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02981">ast_channel_unref</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00124">ast_bridge_video_talker_src_data::average_talking_energy</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00127">ast_bridge_video_talker_src_data::chan_old_vsrc</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00116">ast_bridge_video_single_src_data::chan_vsrc</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00123">ast_bridge_video_talker_src_data::chan_vsrc</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00160">ast_bridge_video_mode::mode</a>, <a class="el" href="../../dc/d4a/structast__bridge__video__mode.html#a4815762cb716d9c02daf0caadd5a41db">ast_bridge_video_mode::mode_data</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00163">ast_bridge_video_mode::single_src_data</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00375">ast_bridge::softmix</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00164">ast_bridge_video_mode::talker_src_data</a>, and <a class="el" href="../../d4/d56/bridge_8h_source.html#l00287">ast_bridge_softmix::video_mode</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d32/bridge__channel_8c_source.html#l02902">bridge_channel_internal_join()</a>, and <a class="el" href="../../d0/dcf/app__confbridge_8c_source.html#l01075">handle_video_on_exit()</a>.</p>
<div class="fragment"><div class="line"><a name="l03985"></a><span class="lineno"> 3985</span>&#160;{</div><div class="line"><a name="l03986"></a><span class="lineno"> 3986</span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#ab8ee807d2c3a21d19e16fedf35c90de8">ast_bridge_lock</a>(bridge);</div><div class="line"><a name="l03987"></a><span class="lineno"> 3987</span>&#160;   <span class="keywordflow">switch</span> (bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a1792ee6e2f718b197f668a8b7b16d357">softmix</a>.<a class="code" href="../../d0/d50/structast__bridge__softmix.html#ae0ffa389d55fc0dad4678b948a822add">video_mode</a>.<a class="code" href="../../dc/d4a/structast__bridge__video__mode.html#ac651801cf270dd2ba5cb81ec5c786308">mode</a>) {</div><div class="line"><a name="l03988"></a><span class="lineno"> 3988</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d4/d56/bridge_8h.html#ab388dac5f5c172d7f03c54487afac906a51708384777e8722fae674ea8db89f54">AST_BRIDGE_VIDEO_MODE_NONE</a>:</div><div class="line"><a name="l03989"></a><span class="lineno"> 3989</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l03990"></a><span class="lineno"> 3990</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d4/d56/bridge_8h.html#ab388dac5f5c172d7f03c54487afac906a1e27ac207e54a30dfdabc463bd18d43c">AST_BRIDGE_VIDEO_MODE_SINGLE_SRC</a>:</div><div class="line"><a name="l03991"></a><span class="lineno"> 3991</span>&#160;      <span class="keywordflow">if</span> (bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a1792ee6e2f718b197f668a8b7b16d357">softmix</a>.<a class="code" href="../../d0/d50/structast__bridge__softmix.html#ae0ffa389d55fc0dad4678b948a822add">video_mode</a>.<a class="code" href="../../dc/d4a/structast__bridge__video__mode.html#a4815762cb716d9c02daf0caadd5a41db">mode_data</a>.<a class="code" href="../../dc/d4a/structast__bridge__video__mode.html#a3d1942099e12eaade08dc9ac3fee6c23">single_src_data</a>.<a class="code" href="../../dd/dbe/structast__bridge__video__single__src__data.html#af17523bbee86cea3e7c6959258436728">chan_vsrc</a> == chan) {</div><div class="line"><a name="l03992"></a><span class="lineno"> 3992</span>&#160;         <span class="keywordflow">if</span> (bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a1792ee6e2f718b197f668a8b7b16d357">softmix</a>.<a class="code" href="../../d0/d50/structast__bridge__softmix.html#ae0ffa389d55fc0dad4678b948a822add">video_mode</a>.<a class="code" href="../../dc/d4a/structast__bridge__video__mode.html#a4815762cb716d9c02daf0caadd5a41db">mode_data</a>.<a class="code" href="../../dc/d4a/structast__bridge__video__mode.html#a3d1942099e12eaade08dc9ac3fee6c23">single_src_data</a>.<a class="code" href="../../dd/dbe/structast__bridge__video__single__src__data.html#af17523bbee86cea3e7c6959258436728">chan_vsrc</a>) {</div><div class="line"><a name="l03993"></a><span class="lineno"> 3993</span>&#160;            <a class="code" href="../../d5/d7b/channel_8h.html#ab733a7825810b895a89b629e0ea89380">ast_channel_unref</a>(bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a1792ee6e2f718b197f668a8b7b16d357">softmix</a>.<a class="code" href="../../d0/d50/structast__bridge__softmix.html#ae0ffa389d55fc0dad4678b948a822add">video_mode</a>.<a class="code" href="../../dc/d4a/structast__bridge__video__mode.html#a4815762cb716d9c02daf0caadd5a41db">mode_data</a>.<a class="code" href="../../dc/d4a/structast__bridge__video__mode.html#a3d1942099e12eaade08dc9ac3fee6c23">single_src_data</a>.<a class="code" href="../../dd/dbe/structast__bridge__video__single__src__data.html#af17523bbee86cea3e7c6959258436728">chan_vsrc</a>);</div><div class="line"><a name="l03994"></a><span class="lineno"> 3994</span>&#160;         }</div><div class="line"><a name="l03995"></a><span class="lineno"> 3995</span>&#160;         bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a1792ee6e2f718b197f668a8b7b16d357">softmix</a>.<a class="code" href="../../d0/d50/structast__bridge__softmix.html#ae0ffa389d55fc0dad4678b948a822add">video_mode</a>.<a class="code" href="../../dc/d4a/structast__bridge__video__mode.html#a4815762cb716d9c02daf0caadd5a41db">mode_data</a>.<a class="code" href="../../dc/d4a/structast__bridge__video__mode.html#a3d1942099e12eaade08dc9ac3fee6c23">single_src_data</a>.<a class="code" href="../../dd/dbe/structast__bridge__video__single__src__data.html#af17523bbee86cea3e7c6959258436728">chan_vsrc</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l03996"></a><span class="lineno"> 3996</span>&#160;      }</div><div class="line"><a name="l03997"></a><span class="lineno"> 3997</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l03998"></a><span class="lineno"> 3998</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d4/d56/bridge_8h.html#ab388dac5f5c172d7f03c54487afac906a48458f43dd7ef0372614e5848f9226e0">AST_BRIDGE_VIDEO_MODE_TALKER_SRC</a>:</div><div class="line"><a name="l03999"></a><span class="lineno"> 3999</span>&#160;      <span class="keywordflow">if</span> (bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a1792ee6e2f718b197f668a8b7b16d357">softmix</a>.<a class="code" href="../../d0/d50/structast__bridge__softmix.html#ae0ffa389d55fc0dad4678b948a822add">video_mode</a>.<a class="code" href="../../dc/d4a/structast__bridge__video__mode.html#a4815762cb716d9c02daf0caadd5a41db">mode_data</a>.<a class="code" href="../../dc/d4a/structast__bridge__video__mode.html#a7325622e00e4be7c0370401933bb75e5">talker_src_data</a>.<a class="code" href="../../d0/dad/structast__bridge__video__talker__src__data.html#af17523bbee86cea3e7c6959258436728">chan_vsrc</a> == chan) {</div><div class="line"><a name="l04000"></a><span class="lineno"> 4000</span>&#160;         <span class="keywordflow">if</span> (bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a1792ee6e2f718b197f668a8b7b16d357">softmix</a>.<a class="code" href="../../d0/d50/structast__bridge__softmix.html#ae0ffa389d55fc0dad4678b948a822add">video_mode</a>.<a class="code" href="../../dc/d4a/structast__bridge__video__mode.html#a4815762cb716d9c02daf0caadd5a41db">mode_data</a>.<a class="code" href="../../dc/d4a/structast__bridge__video__mode.html#a7325622e00e4be7c0370401933bb75e5">talker_src_data</a>.<a class="code" href="../../d0/dad/structast__bridge__video__talker__src__data.html#af17523bbee86cea3e7c6959258436728">chan_vsrc</a>) {</div><div class="line"><a name="l04001"></a><span class="lineno"> 4001</span>&#160;            <a class="code" href="../../d5/d7b/channel_8h.html#ab733a7825810b895a89b629e0ea89380">ast_channel_unref</a>(bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a1792ee6e2f718b197f668a8b7b16d357">softmix</a>.<a class="code" href="../../d0/d50/structast__bridge__softmix.html#ae0ffa389d55fc0dad4678b948a822add">video_mode</a>.<a class="code" href="../../dc/d4a/structast__bridge__video__mode.html#a4815762cb716d9c02daf0caadd5a41db">mode_data</a>.<a class="code" href="../../dc/d4a/structast__bridge__video__mode.html#a7325622e00e4be7c0370401933bb75e5">talker_src_data</a>.<a class="code" href="../../d0/dad/structast__bridge__video__talker__src__data.html#af17523bbee86cea3e7c6959258436728">chan_vsrc</a>);</div><div class="line"><a name="l04002"></a><span class="lineno"> 4002</span>&#160;         }</div><div class="line"><a name="l04003"></a><span class="lineno"> 4003</span>&#160;         bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a1792ee6e2f718b197f668a8b7b16d357">softmix</a>.<a class="code" href="../../d0/d50/structast__bridge__softmix.html#ae0ffa389d55fc0dad4678b948a822add">video_mode</a>.<a class="code" href="../../dc/d4a/structast__bridge__video__mode.html#a4815762cb716d9c02daf0caadd5a41db">mode_data</a>.<a class="code" href="../../dc/d4a/structast__bridge__video__mode.html#a7325622e00e4be7c0370401933bb75e5">talker_src_data</a>.<a class="code" href="../../d0/dad/structast__bridge__video__talker__src__data.html#af17523bbee86cea3e7c6959258436728">chan_vsrc</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l04004"></a><span class="lineno"> 4004</span>&#160;         bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a1792ee6e2f718b197f668a8b7b16d357">softmix</a>.<a class="code" href="../../d0/d50/structast__bridge__softmix.html#ae0ffa389d55fc0dad4678b948a822add">video_mode</a>.<a class="code" href="../../dc/d4a/structast__bridge__video__mode.html#a4815762cb716d9c02daf0caadd5a41db">mode_data</a>.<a class="code" href="../../dc/d4a/structast__bridge__video__mode.html#a7325622e00e4be7c0370401933bb75e5">talker_src_data</a>.<a class="code" href="../../d0/dad/structast__bridge__video__talker__src__data.html#ac10f96d9ddb17a9038083d909b2c7299">average_talking_energy</a> = 0;</div><div class="line"><a name="l04005"></a><span class="lineno"> 4005</span>&#160;      }</div><div class="line"><a name="l04006"></a><span class="lineno"> 4006</span>&#160;      <span class="keywordflow">if</span> (bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a1792ee6e2f718b197f668a8b7b16d357">softmix</a>.<a class="code" href="../../d0/d50/structast__bridge__softmix.html#ae0ffa389d55fc0dad4678b948a822add">video_mode</a>.<a class="code" href="../../dc/d4a/structast__bridge__video__mode.html#a4815762cb716d9c02daf0caadd5a41db">mode_data</a>.<a class="code" href="../../dc/d4a/structast__bridge__video__mode.html#a7325622e00e4be7c0370401933bb75e5">talker_src_data</a>.<a class="code" href="../../d0/dad/structast__bridge__video__talker__src__data.html#a643b47a3afd64524d2baae9e6f2c7c60">chan_old_vsrc</a> == chan) {</div><div class="line"><a name="l04007"></a><span class="lineno"> 4007</span>&#160;         <span class="keywordflow">if</span> (bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a1792ee6e2f718b197f668a8b7b16d357">softmix</a>.<a class="code" href="../../d0/d50/structast__bridge__softmix.html#ae0ffa389d55fc0dad4678b948a822add">video_mode</a>.<a class="code" href="../../dc/d4a/structast__bridge__video__mode.html#a4815762cb716d9c02daf0caadd5a41db">mode_data</a>.<a class="code" href="../../dc/d4a/structast__bridge__video__mode.html#a7325622e00e4be7c0370401933bb75e5">talker_src_data</a>.<a class="code" href="../../d0/dad/structast__bridge__video__talker__src__data.html#a643b47a3afd64524d2baae9e6f2c7c60">chan_old_vsrc</a>) {</div><div class="line"><a name="l04008"></a><span class="lineno"> 4008</span>&#160;            <a class="code" href="../../d5/d7b/channel_8h.html#ab733a7825810b895a89b629e0ea89380">ast_channel_unref</a>(bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a1792ee6e2f718b197f668a8b7b16d357">softmix</a>.<a class="code" href="../../d0/d50/structast__bridge__softmix.html#ae0ffa389d55fc0dad4678b948a822add">video_mode</a>.<a class="code" href="../../dc/d4a/structast__bridge__video__mode.html#a4815762cb716d9c02daf0caadd5a41db">mode_data</a>.<a class="code" href="../../dc/d4a/structast__bridge__video__mode.html#a7325622e00e4be7c0370401933bb75e5">talker_src_data</a>.<a class="code" href="../../d0/dad/structast__bridge__video__talker__src__data.html#a643b47a3afd64524d2baae9e6f2c7c60">chan_old_vsrc</a>);</div><div class="line"><a name="l04009"></a><span class="lineno"> 4009</span>&#160;         }</div><div class="line"><a name="l04010"></a><span class="lineno"> 4010</span>&#160;         bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a1792ee6e2f718b197f668a8b7b16d357">softmix</a>.<a class="code" href="../../d0/d50/structast__bridge__softmix.html#ae0ffa389d55fc0dad4678b948a822add">video_mode</a>.<a class="code" href="../../dc/d4a/structast__bridge__video__mode.html#a4815762cb716d9c02daf0caadd5a41db">mode_data</a>.<a class="code" href="../../dc/d4a/structast__bridge__video__mode.html#a7325622e00e4be7c0370401933bb75e5">talker_src_data</a>.<a class="code" href="../../d0/dad/structast__bridge__video__talker__src__data.html#a643b47a3afd64524d2baae9e6f2c7c60">chan_old_vsrc</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l04011"></a><span class="lineno"> 4011</span>&#160;      }</div><div class="line"><a name="l04012"></a><span class="lineno"> 4012</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d4/d56/bridge_8h.html#ab388dac5f5c172d7f03c54487afac906ac9992c5dc76155a013d0a5804c8f2bb7">AST_BRIDGE_VIDEO_MODE_SFU</a>:</div><div class="line"><a name="l04013"></a><span class="lineno"> 4013</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l04014"></a><span class="lineno"> 4014</span>&#160;   }</div><div class="line"><a name="l04015"></a><span class="lineno"> 4015</span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#a0fb66f4741ca8d106af1917a2f1aab6e">ast_bridge_unlock</a>(bridge);</div><div class="line"><a name="l04016"></a><span class="lineno"> 4016</span>&#160;}</div><div class="ttc" id="bridge_8h_html_ab388dac5f5c172d7f03c54487afac906ac9992c5dc76155a013d0a5804c8f2bb7"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#ab388dac5f5c172d7f03c54487afac906ac9992c5dc76155a013d0a5804c8f2bb7">AST_BRIDGE_VIDEO_MODE_SFU</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00109">bridge.h:109</a></div></div>
<div class="ttc" id="channel_8h_html_ab733a7825810b895a89b629e0ea89380"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#ab733a7825810b895a89b629e0ea89380">ast_channel_unref</a></div><div class="ttdeci">#define ast_channel_unref(c)</div><div class="ttdoc">Decrease channel reference count. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02981">channel.h:2981</a></div></div>
<div class="ttc" id="structast__bridge__softmix_html_ae0ffa389d55fc0dad4678b948a822add"><div class="ttname"><a href="../../d0/d50/structast__bridge__softmix.html#ae0ffa389d55fc0dad4678b948a822add">ast_bridge_softmix::video_mode</a></div><div class="ttdeci">struct ast_bridge_video_mode video_mode</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00287">bridge.h:287</a></div></div>
<div class="ttc" id="structast__bridge__video__talker__src__data_html_a643b47a3afd64524d2baae9e6f2c7c60"><div class="ttname"><a href="../../d0/dad/structast__bridge__video__talker__src__data.html#a643b47a3afd64524d2baae9e6f2c7c60">ast_bridge_video_talker_src_data::chan_old_vsrc</a></div><div class="ttdeci">struct ast_channel * chan_old_vsrc</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00127">bridge.h:127</a></div></div>
<div class="ttc" id="structast__bridge__video__single__src__data_html_af17523bbee86cea3e7c6959258436728"><div class="ttname"><a href="../../dd/dbe/structast__bridge__video__single__src__data.html#af17523bbee86cea3e7c6959258436728">ast_bridge_video_single_src_data::chan_vsrc</a></div><div class="ttdeci">struct ast_channel * chan_vsrc</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00116">bridge.h:116</a></div></div>
<div class="ttc" id="bridge_8h_html_ab388dac5f5c172d7f03c54487afac906a1e27ac207e54a30dfdabc463bd18d43c"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#ab388dac5f5c172d7f03c54487afac906a1e27ac207e54a30dfdabc463bd18d43c">AST_BRIDGE_VIDEO_MODE_SINGLE_SRC</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00102">bridge.h:102</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structast__bridge_html_a1792ee6e2f718b197f668a8b7b16d357"><div class="ttname"><a href="../../d4/d84/structast__bridge.html#a1792ee6e2f718b197f668a8b7b16d357">ast_bridge::softmix</a></div><div class="ttdeci">struct ast_bridge_softmix softmix</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00375">bridge.h:375</a></div></div>
<div class="ttc" id="structast__bridge__video__mode_html_a4815762cb716d9c02daf0caadd5a41db"><div class="ttname"><a href="../../dc/d4a/structast__bridge__video__mode.html#a4815762cb716d9c02daf0caadd5a41db">ast_bridge_video_mode::mode_data</a></div><div class="ttdeci">union ast_bridge_video_mode::@227 mode_data</div></div>
<div class="ttc" id="structast__bridge__video__mode_html_a7325622e00e4be7c0370401933bb75e5"><div class="ttname"><a href="../../dc/d4a/structast__bridge__video__mode.html#a7325622e00e4be7c0370401933bb75e5">ast_bridge_video_mode::talker_src_data</a></div><div class="ttdeci">struct ast_bridge_video_talker_src_data talker_src_data</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00164">bridge.h:164</a></div></div>
<div class="ttc" id="structast__bridge__video__mode_html_a3d1942099e12eaade08dc9ac3fee6c23"><div class="ttname"><a href="../../dc/d4a/structast__bridge__video__mode.html#a3d1942099e12eaade08dc9ac3fee6c23">ast_bridge_video_mode::single_src_data</a></div><div class="ttdeci">struct ast_bridge_video_single_src_data single_src_data</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00163">bridge.h:163</a></div></div>
<div class="ttc" id="bridge_8h_html_a0fb66f4741ca8d106af1917a2f1aab6e"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a0fb66f4741ca8d106af1917a2f1aab6e">ast_bridge_unlock</a></div><div class="ttdeci">#define ast_bridge_unlock(bridge)</div><div class="ttdoc">Unlock the bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00493">bridge.h:493</a></div></div>
<div class="ttc" id="bridge_8h_html_ab8ee807d2c3a21d19e16fedf35c90de8"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#ab8ee807d2c3a21d19e16fedf35c90de8">ast_bridge_lock</a></div><div class="ttdeci">#define ast_bridge_lock(bridge)</div><div class="ttdoc">Lock the bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00480">bridge.h:480</a></div></div>
<div class="ttc" id="structast__bridge__video__talker__src__data_html_ac10f96d9ddb17a9038083d909b2c7299"><div class="ttname"><a href="../../d0/dad/structast__bridge__video__talker__src__data.html#ac10f96d9ddb17a9038083d909b2c7299">ast_bridge_video_talker_src_data::average_talking_energy</a></div><div class="ttdeci">int average_talking_energy</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00124">bridge.h:124</a></div></div>
<div class="ttc" id="bridge_8h_html_ab388dac5f5c172d7f03c54487afac906a48458f43dd7ef0372614e5848f9226e0"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#ab388dac5f5c172d7f03c54487afac906a48458f43dd7ef0372614e5848f9226e0">AST_BRIDGE_VIDEO_MODE_TALKER_SRC</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00105">bridge.h:105</a></div></div>
<div class="ttc" id="structast__bridge__video__talker__src__data_html_af17523bbee86cea3e7c6959258436728"><div class="ttname"><a href="../../d0/dad/structast__bridge__video__talker__src__data.html#af17523bbee86cea3e7c6959258436728">ast_bridge_video_talker_src_data::chan_vsrc</a></div><div class="ttdeci">struct ast_channel * chan_vsrc</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00123">bridge.h:123</a></div></div>
<div class="ttc" id="bridge_8h_html_ab388dac5f5c172d7f03c54487afac906a51708384777e8722fae674ea8db89f54"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#ab388dac5f5c172d7f03c54487afac906a51708384777e8722fae674ea8db89f54">AST_BRIDGE_VIDEO_MODE_NONE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00100">bridge.h:100</a></div></div>
<div class="ttc" id="structast__bridge__video__mode_html_ac651801cf270dd2ba5cb81ec5c786308"><div class="ttname"><a href="../../dc/d4a/structast__bridge__video__mode.html#ac651801cf270dd2ba5cb81ec5c786308">ast_bridge_video_mode::mode</a></div><div class="ttdeci">enum ast_bridge_video_mode_type mode</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00160">bridge.h:160</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a214c6742929d7db707c94d9856908e61"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a214c6742929d7db707c94d9856908e61">&#9670;&nbsp;</a></span>ast_bridge_set_binaural_active()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_bridge_set_binaural_active </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *&#160;</td>
          <td class="paramname"><em>bridge</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>binaural_active</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Activates the use of binaural signals in a conference bridge. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bridge</td><td>Channel to activate the binaural signals. </td></tr>
    <tr><td class="paramname">binaural_active</td><td>If true binaural signal processing will be active for the bridge. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d0/d95/bridge_8c_source.html#l03772">3772</a> of file <a class="el" href="../../d0/d95/bridge_8c_source.html">bridge.c</a>.</p>

<p class="reference">References <a class="el" href="../../d4/d56/bridge_8h_source.html#l00480">ast_bridge_lock</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00493">ast_bridge_unlock</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00303">ast_bridge_softmix::binaural_active</a>, and <a class="el" href="../../d4/d56/bridge_8h_source.html#l00375">ast_bridge::softmix</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/dcf/app__confbridge_8c_source.html#l01679">join_conference_bridge()</a>.</p>
<div class="fragment"><div class="line"><a name="l03773"></a><span class="lineno"> 3773</span>&#160;{</div><div class="line"><a name="l03774"></a><span class="lineno"> 3774</span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#ab8ee807d2c3a21d19e16fedf35c90de8">ast_bridge_lock</a>(bridge);</div><div class="line"><a name="l03775"></a><span class="lineno"> 3775</span>&#160;   bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a1792ee6e2f718b197f668a8b7b16d357">softmix</a>.<a class="code" href="../../d0/d50/structast__bridge__softmix.html#acc14dd5766fd17581ff869aaae42988c">binaural_active</a> = binaural_active;</div><div class="line"><a name="l03776"></a><span class="lineno"> 3776</span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#a0fb66f4741ca8d106af1917a2f1aab6e">ast_bridge_unlock</a>(bridge);</div><div class="line"><a name="l03777"></a><span class="lineno"> 3777</span>&#160;}</div><div class="ttc" id="structast__bridge_html_a1792ee6e2f718b197f668a8b7b16d357"><div class="ttname"><a href="../../d4/d84/structast__bridge.html#a1792ee6e2f718b197f668a8b7b16d357">ast_bridge::softmix</a></div><div class="ttdeci">struct ast_bridge_softmix softmix</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00375">bridge.h:375</a></div></div>
<div class="ttc" id="bridge_8h_html_a0fb66f4741ca8d106af1917a2f1aab6e"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a0fb66f4741ca8d106af1917a2f1aab6e">ast_bridge_unlock</a></div><div class="ttdeci">#define ast_bridge_unlock(bridge)</div><div class="ttdoc">Unlock the bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00493">bridge.h:493</a></div></div>
<div class="ttc" id="bridge_8h_html_ab8ee807d2c3a21d19e16fedf35c90de8"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#ab8ee807d2c3a21d19e16fedf35c90de8">ast_bridge_lock</a></div><div class="ttdeci">#define ast_bridge_lock(bridge)</div><div class="ttdoc">Lock the bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00480">bridge.h:480</a></div></div>
<div class="ttc" id="structast__bridge__softmix_html_acc14dd5766fd17581ff869aaae42988c"><div class="ttname"><a href="../../d0/d50/structast__bridge__softmix.html#acc14dd5766fd17581ff869aaae42988c">ast_bridge_softmix::binaural_active</a></div><div class="ttdeci">unsigned int binaural_active</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00303">bridge.h:303</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af3e15bc4236a2a074953cfb1c4530cf5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af3e15bc4236a2a074953cfb1c4530cf5">&#9670;&nbsp;</a></span>ast_bridge_set_internal_sample_rate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_bridge_set_internal_sample_rate </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *&#160;</td>
          <td class="paramname"><em>bridge</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>sample_rate</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adjust the internal mixing sample rate of a bridge used during multimix mode. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bridge</td><td>Channel to change the sample rate on. </td></tr>
    <tr><td class="paramname">sample_rate</td><td>the sample rate to change to. If a value of 0 is passed here, the bridge will be free to pick what ever sample rate it chooses. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d0/d95/bridge_8c_source.html#l03779">3779</a> of file <a class="el" href="../../d0/d95/bridge_8c_source.html">bridge.c</a>.</p>

<p class="reference">References <a class="el" href="../../d4/d56/bridge_8h_source.html#l00480">ast_bridge_lock</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00493">ast_bridge_unlock</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00293">ast_bridge_softmix::internal_sample_rate</a>, and <a class="el" href="../../d4/d56/bridge_8h_source.html#l00375">ast_bridge::softmix</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/dcf/app__confbridge_8c_source.html#l01679">join_conference_bridge()</a>.</p>
<div class="fragment"><div class="line"><a name="l03780"></a><span class="lineno"> 3780</span>&#160;{</div><div class="line"><a name="l03781"></a><span class="lineno"> 3781</span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#ab8ee807d2c3a21d19e16fedf35c90de8">ast_bridge_lock</a>(bridge);</div><div class="line"><a name="l03782"></a><span class="lineno"> 3782</span>&#160;   bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a1792ee6e2f718b197f668a8b7b16d357">softmix</a>.<a class="code" href="../../d0/d50/structast__bridge__softmix.html#ac4a5819e66f436d283aa19d986f04e52">internal_sample_rate</a> = sample_rate;</div><div class="line"><a name="l03783"></a><span class="lineno"> 3783</span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#a0fb66f4741ca8d106af1917a2f1aab6e">ast_bridge_unlock</a>(bridge);</div><div class="line"><a name="l03784"></a><span class="lineno"> 3784</span>&#160;}</div><div class="ttc" id="structast__bridge_html_a1792ee6e2f718b197f668a8b7b16d357"><div class="ttname"><a href="../../d4/d84/structast__bridge.html#a1792ee6e2f718b197f668a8b7b16d357">ast_bridge::softmix</a></div><div class="ttdeci">struct ast_bridge_softmix softmix</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00375">bridge.h:375</a></div></div>
<div class="ttc" id="bridge_8h_html_a0fb66f4741ca8d106af1917a2f1aab6e"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a0fb66f4741ca8d106af1917a2f1aab6e">ast_bridge_unlock</a></div><div class="ttdeci">#define ast_bridge_unlock(bridge)</div><div class="ttdoc">Unlock the bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00493">bridge.h:493</a></div></div>
<div class="ttc" id="bridge_8h_html_ab8ee807d2c3a21d19e16fedf35c90de8"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#ab8ee807d2c3a21d19e16fedf35c90de8">ast_bridge_lock</a></div><div class="ttdeci">#define ast_bridge_lock(bridge)</div><div class="ttdoc">Lock the bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00480">bridge.h:480</a></div></div>
<div class="ttc" id="structast__bridge__softmix_html_ac4a5819e66f436d283aa19d986f04e52"><div class="ttname"><a href="../../d0/d50/structast__bridge__softmix.html#ac4a5819e66f436d283aa19d986f04e52">ast_bridge_softmix::internal_sample_rate</a></div><div class="ttdeci">unsigned int internal_sample_rate</div><div class="ttdoc">The internal sample rate softmix uses to mix channels. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00293">bridge.h:293</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3d4866f7184c581cd87f93ee0f2fca63"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d4866f7184c581cd87f93ee0f2fca63">&#9670;&nbsp;</a></span>ast_bridge_set_maximum_sample_rate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_bridge_set_maximum_sample_rate </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *&#160;</td>
          <td class="paramname"><em>bridge</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>sample_rate</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adjust the maximum mixing sample rate of a bridge used during multimix mode. </p>
<dl class="section since"><dt>Since</dt><dd>13.31.0 </dd>
<dd>
16.8.0 </dd>
<dd>
17.2.0</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bridge</td><td>Channel to change the sample rate on. </td></tr>
    <tr><td class="paramname">sample_rate</td><td>the maximum sample rate to use. If a value of 0 is passed here, the bridge will be free to pick what ever sample rate it chooses. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d0/d95/bridge_8c_source.html#l03786">3786</a> of file <a class="el" href="../../d0/d95/bridge_8c_source.html">bridge.c</a>.</p>

<p class="reference">References <a class="el" href="../../d4/d56/bridge_8h_source.html#l00480">ast_bridge_lock</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00493">ast_bridge_unlock</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00314">ast_bridge_softmix::maximum_sample_rate</a>, and <a class="el" href="../../d4/d56/bridge_8h_source.html#l00375">ast_bridge::softmix</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/dcf/app__confbridge_8c_source.html#l01679">join_conference_bridge()</a>.</p>
<div class="fragment"><div class="line"><a name="l03787"></a><span class="lineno"> 3787</span>&#160;{</div><div class="line"><a name="l03788"></a><span class="lineno"> 3788</span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#ab8ee807d2c3a21d19e16fedf35c90de8">ast_bridge_lock</a>(bridge);</div><div class="line"><a name="l03789"></a><span class="lineno"> 3789</span>&#160;   bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a1792ee6e2f718b197f668a8b7b16d357">softmix</a>.<a class="code" href="../../d0/d50/structast__bridge__softmix.html#a20440d4454d1d575acbba1e14c39cb28">maximum_sample_rate</a> = sample_rate;</div><div class="line"><a name="l03790"></a><span class="lineno"> 3790</span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#a0fb66f4741ca8d106af1917a2f1aab6e">ast_bridge_unlock</a>(bridge);</div><div class="line"><a name="l03791"></a><span class="lineno"> 3791</span>&#160;}</div><div class="ttc" id="structast__bridge_html_a1792ee6e2f718b197f668a8b7b16d357"><div class="ttname"><a href="../../d4/d84/structast__bridge.html#a1792ee6e2f718b197f668a8b7b16d357">ast_bridge::softmix</a></div><div class="ttdeci">struct ast_bridge_softmix softmix</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00375">bridge.h:375</a></div></div>
<div class="ttc" id="bridge_8h_html_a0fb66f4741ca8d106af1917a2f1aab6e"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a0fb66f4741ca8d106af1917a2f1aab6e">ast_bridge_unlock</a></div><div class="ttdeci">#define ast_bridge_unlock(bridge)</div><div class="ttdoc">Unlock the bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00493">bridge.h:493</a></div></div>
<div class="ttc" id="bridge_8h_html_ab8ee807d2c3a21d19e16fedf35c90de8"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#ab8ee807d2c3a21d19e16fedf35c90de8">ast_bridge_lock</a></div><div class="ttdeci">#define ast_bridge_lock(bridge)</div><div class="ttdoc">Lock the bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00480">bridge.h:480</a></div></div>
<div class="ttc" id="structast__bridge__softmix_html_a20440d4454d1d575acbba1e14c39cb28"><div class="ttname"><a href="../../d0/d50/structast__bridge__softmix.html#a20440d4454d1d575acbba1e14c39cb28">ast_bridge_softmix::maximum_sample_rate</a></div><div class="ttdeci">unsigned int maximum_sample_rate</div><div class="ttdoc">The maximum sample rate softmix uses to mix channels. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00314">bridge.h:314</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a8a14f1c30f04c6d50dac556cf53e1201"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a14f1c30f04c6d50dac556cf53e1201">&#9670;&nbsp;</a></span>ast_bridge_set_mixing_interval()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_bridge_set_mixing_interval </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *&#160;</td>
          <td class="paramname"><em>bridge</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>mixing_interval</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adjust the internal mixing interval of a bridge used during multimix mode. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bridge</td><td>Channel to change the sample rate on. </td></tr>
    <tr><td class="paramname">mixing_interval</td><td>the sample rate to change to. If 0 is set the bridge tech is free to choose any mixing interval it uses by default. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d0/d95/bridge_8c_source.html#l03765">3765</a> of file <a class="el" href="../../d0/d95/bridge_8c_source.html">bridge.c</a>.</p>

<p class="reference">References <a class="el" href="../../d4/d56/bridge_8h_source.html#l00480">ast_bridge_lock</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00493">ast_bridge_unlock</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00301">ast_bridge_softmix::internal_mixing_interval</a>, and <a class="el" href="../../d4/d56/bridge_8h_source.html#l00375">ast_bridge::softmix</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/dcf/app__confbridge_8c_source.html#l01679">join_conference_bridge()</a>.</p>
<div class="fragment"><div class="line"><a name="l03766"></a><span class="lineno"> 3766</span>&#160;{</div><div class="line"><a name="l03767"></a><span class="lineno"> 3767</span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#ab8ee807d2c3a21d19e16fedf35c90de8">ast_bridge_lock</a>(bridge);</div><div class="line"><a name="l03768"></a><span class="lineno"> 3768</span>&#160;   bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a1792ee6e2f718b197f668a8b7b16d357">softmix</a>.<a class="code" href="../../d0/d50/structast__bridge__softmix.html#ae2a50ae58a79af5e12287b40bf903209">internal_mixing_interval</a> = mixing_interval;</div><div class="line"><a name="l03769"></a><span class="lineno"> 3769</span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#a0fb66f4741ca8d106af1917a2f1aab6e">ast_bridge_unlock</a>(bridge);</div><div class="line"><a name="l03770"></a><span class="lineno"> 3770</span>&#160;}</div><div class="ttc" id="structast__bridge__softmix_html_ae2a50ae58a79af5e12287b40bf903209"><div class="ttname"><a href="../../d0/d50/structast__bridge__softmix.html#ae2a50ae58a79af5e12287b40bf903209">ast_bridge_softmix::internal_mixing_interval</a></div><div class="ttdeci">unsigned int internal_mixing_interval</div><div class="ttdoc">The mixing interval indicates how quickly softmix mixing should occur to mix audio. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00301">bridge.h:301</a></div></div>
<div class="ttc" id="structast__bridge_html_a1792ee6e2f718b197f668a8b7b16d357"><div class="ttname"><a href="../../d4/d84/structast__bridge.html#a1792ee6e2f718b197f668a8b7b16d357">ast_bridge::softmix</a></div><div class="ttdeci">struct ast_bridge_softmix softmix</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00375">bridge.h:375</a></div></div>
<div class="ttc" id="bridge_8h_html_a0fb66f4741ca8d106af1917a2f1aab6e"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a0fb66f4741ca8d106af1917a2f1aab6e">ast_bridge_unlock</a></div><div class="ttdeci">#define ast_bridge_unlock(bridge)</div><div class="ttdoc">Unlock the bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00493">bridge.h:493</a></div></div>
<div class="ttc" id="bridge_8h_html_ab8ee807d2c3a21d19e16fedf35c90de8"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#ab8ee807d2c3a21d19e16fedf35c90de8">ast_bridge_lock</a></div><div class="ttdeci">#define ast_bridge_lock(bridge)</div><div class="ttdoc">Lock the bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00480">bridge.h:480</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a02bd31522656ae0e86ec0d4cfdace1b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a02bd31522656ae0e86ec0d4cfdace1b1">&#9670;&nbsp;</a></span>ast_bridge_set_remb_estimated_bitrate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_bridge_set_remb_estimated_bitrate </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *&#160;</td>
          <td class="paramname"><em>bridge</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>estimated_bitrate</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Force the REMB report estimated bitrate to a specific max value. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bridge</td><td>Bridge to set the REMB behavior on </td></tr>
    <tr><td class="paramname">estimated_bitrate</td><td>The estimated bitrate in bits per second</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>This can only be called when the bridge has been set to the SFU video mode. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d0/d95/bridge_8c_source.html#l03874">3874</a> of file <a class="el" href="../../d0/d95/bridge_8c_source.html">bridge.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d60/utils_8h_source.html#l00695">ast_assert</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00480">ast_bridge_lock</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00493">ast_bridge_unlock</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00109">AST_BRIDGE_VIDEO_MODE_SFU</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00155">ast_bridge_video_sfu_data::estimated_bitrate</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00160">ast_bridge_video_mode::mode</a>, <a class="el" href="../../dc/d4a/structast__bridge__video__mode.html#a4815762cb716d9c02daf0caadd5a41db">ast_bridge_video_mode::mode_data</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00165">ast_bridge_video_mode::sfu_data</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00375">ast_bridge::softmix</a>, and <a class="el" href="../../d4/d56/bridge_8h_source.html#l00287">ast_bridge_softmix::video_mode</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/dcf/app__confbridge_8c_source.html#l01679">join_conference_bridge()</a>.</p>
<div class="fragment"><div class="line"><a name="l03875"></a><span class="lineno"> 3875</span>&#160;{</div><div class="line"><a name="l03876"></a><span class="lineno"> 3876</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a>(bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a1792ee6e2f718b197f668a8b7b16d357">softmix</a>.<a class="code" href="../../d0/d50/structast__bridge__softmix.html#ae0ffa389d55fc0dad4678b948a822add">video_mode</a>.<a class="code" href="../../dc/d4a/structast__bridge__video__mode.html#ac651801cf270dd2ba5cb81ec5c786308">mode</a> == <a class="code" href="../../d4/d56/bridge_8h.html#ab388dac5f5c172d7f03c54487afac906ac9992c5dc76155a013d0a5804c8f2bb7">AST_BRIDGE_VIDEO_MODE_SFU</a>);</div><div class="line"><a name="l03877"></a><span class="lineno"> 3877</span>&#160;</div><div class="line"><a name="l03878"></a><span class="lineno"> 3878</span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#ab8ee807d2c3a21d19e16fedf35c90de8">ast_bridge_lock</a>(bridge);</div><div class="line"><a name="l03879"></a><span class="lineno"> 3879</span>&#160;   bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a1792ee6e2f718b197f668a8b7b16d357">softmix</a>.<a class="code" href="../../d0/d50/structast__bridge__softmix.html#ae0ffa389d55fc0dad4678b948a822add">video_mode</a>.<a class="code" href="../../dc/d4a/structast__bridge__video__mode.html#a4815762cb716d9c02daf0caadd5a41db">mode_data</a>.<a class="code" href="../../dc/d4a/structast__bridge__video__mode.html#ad5d1cfaccf73f40dd103903868504a7b">sfu_data</a>.<a class="code" href="../../dd/df9/structast__bridge__video__sfu__data.html#a18f4bab7feee48c373dfcbea33a99e8d">estimated_bitrate</a> = estimated_bitrate;</div><div class="line"><a name="l03880"></a><span class="lineno"> 3880</span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#a0fb66f4741ca8d106af1917a2f1aab6e">ast_bridge_unlock</a>(bridge);</div><div class="line"><a name="l03881"></a><span class="lineno"> 3881</span>&#160;}</div><div class="ttc" id="structast__bridge__video__sfu__data_html_a18f4bab7feee48c373dfcbea33a99e8d"><div class="ttname"><a href="../../dd/df9/structast__bridge__video__sfu__data.html#a18f4bab7feee48c373dfcbea33a99e8d">ast_bridge_video_sfu_data::estimated_bitrate</a></div><div class="ttdeci">float estimated_bitrate</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00155">bridge.h:155</a></div></div>
<div class="ttc" id="bridge_8h_html_ab388dac5f5c172d7f03c54487afac906ac9992c5dc76155a013d0a5804c8f2bb7"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#ab388dac5f5c172d7f03c54487afac906ac9992c5dc76155a013d0a5804c8f2bb7">AST_BRIDGE_VIDEO_MODE_SFU</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00109">bridge.h:109</a></div></div>
<div class="ttc" id="structast__bridge__softmix_html_ae0ffa389d55fc0dad4678b948a822add"><div class="ttname"><a href="../../d0/d50/structast__bridge__softmix.html#ae0ffa389d55fc0dad4678b948a822add">ast_bridge_softmix::video_mode</a></div><div class="ttdeci">struct ast_bridge_video_mode video_mode</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00287">bridge.h:287</a></div></div>
<div class="ttc" id="utils_8h_html_a24374da24af1931d8a7ccde5b352bb2c"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a></div><div class="ttdeci">#define ast_assert(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00695">utils.h:695</a></div></div>
<div class="ttc" id="structast__bridge_html_a1792ee6e2f718b197f668a8b7b16d357"><div class="ttname"><a href="../../d4/d84/structast__bridge.html#a1792ee6e2f718b197f668a8b7b16d357">ast_bridge::softmix</a></div><div class="ttdeci">struct ast_bridge_softmix softmix</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00375">bridge.h:375</a></div></div>
<div class="ttc" id="structast__bridge__video__mode_html_a4815762cb716d9c02daf0caadd5a41db"><div class="ttname"><a href="../../dc/d4a/structast__bridge__video__mode.html#a4815762cb716d9c02daf0caadd5a41db">ast_bridge_video_mode::mode_data</a></div><div class="ttdeci">union ast_bridge_video_mode::@227 mode_data</div></div>
<div class="ttc" id="structast__bridge__video__mode_html_ad5d1cfaccf73f40dd103903868504a7b"><div class="ttname"><a href="../../dc/d4a/structast__bridge__video__mode.html#ad5d1cfaccf73f40dd103903868504a7b">ast_bridge_video_mode::sfu_data</a></div><div class="ttdeci">struct ast_bridge_video_sfu_data sfu_data</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00165">bridge.h:165</a></div></div>
<div class="ttc" id="bridge_8h_html_a0fb66f4741ca8d106af1917a2f1aab6e"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a0fb66f4741ca8d106af1917a2f1aab6e">ast_bridge_unlock</a></div><div class="ttdeci">#define ast_bridge_unlock(bridge)</div><div class="ttdoc">Unlock the bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00493">bridge.h:493</a></div></div>
<div class="ttc" id="bridge_8h_html_ab8ee807d2c3a21d19e16fedf35c90de8"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#ab8ee807d2c3a21d19e16fedf35c90de8">ast_bridge_lock</a></div><div class="ttdeci">#define ast_bridge_lock(bridge)</div><div class="ttdoc">Lock the bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00480">bridge.h:480</a></div></div>
<div class="ttc" id="structast__bridge__video__mode_html_ac651801cf270dd2ba5cb81ec5c786308"><div class="ttname"><a href="../../dc/d4a/structast__bridge__video__mode.html#ac651801cf270dd2ba5cb81ec5c786308">ast_bridge_video_mode::mode</a></div><div class="ttdeci">enum ast_bridge_video_mode_type mode</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00160">bridge.h:160</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae7f6701ef6b78dea4da4723994d9c211"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae7f6701ef6b78dea4da4723994d9c211">&#9670;&nbsp;</a></span>ast_bridge_set_remb_send_interval()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_bridge_set_remb_send_interval </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *&#160;</td>
          <td class="paramname"><em>bridge</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>remb_send_interval</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the interval at which a combined REMB frame will be sent to video sources. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bridge</td><td>Bridge to set the REMB send interval on </td></tr>
    <tr><td class="paramname">remb_send_interval</td><td>The REMB send interval</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>This can only be called when the bridge has been set to the SFU video mode. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d0/d95/bridge_8c_source.html#l03856">3856</a> of file <a class="el" href="../../d0/d95/bridge_8c_source.html">bridge.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d60/utils_8h_source.html#l00695">ast_assert</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00480">ast_bridge_lock</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00493">ast_bridge_unlock</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00109">AST_BRIDGE_VIDEO_MODE_SFU</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00160">ast_bridge_video_mode::mode</a>, <a class="el" href="../../dc/d4a/structast__bridge__video__mode.html#a4815762cb716d9c02daf0caadd5a41db">ast_bridge_video_mode::mode_data</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00151">ast_bridge_video_sfu_data::remb_send_interval</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00165">ast_bridge_video_mode::sfu_data</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00375">ast_bridge::softmix</a>, and <a class="el" href="../../d4/d56/bridge_8h_source.html#l00287">ast_bridge_softmix::video_mode</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/dcf/app__confbridge_8c_source.html#l01679">join_conference_bridge()</a>.</p>
<div class="fragment"><div class="line"><a name="l03857"></a><span class="lineno"> 3857</span>&#160;{</div><div class="line"><a name="l03858"></a><span class="lineno"> 3858</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a>(bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a1792ee6e2f718b197f668a8b7b16d357">softmix</a>.<a class="code" href="../../d0/d50/structast__bridge__softmix.html#ae0ffa389d55fc0dad4678b948a822add">video_mode</a>.<a class="code" href="../../dc/d4a/structast__bridge__video__mode.html#ac651801cf270dd2ba5cb81ec5c786308">mode</a> == <a class="code" href="../../d4/d56/bridge_8h.html#ab388dac5f5c172d7f03c54487afac906ac9992c5dc76155a013d0a5804c8f2bb7">AST_BRIDGE_VIDEO_MODE_SFU</a>);</div><div class="line"><a name="l03859"></a><span class="lineno"> 3859</span>&#160;</div><div class="line"><a name="l03860"></a><span class="lineno"> 3860</span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#ab8ee807d2c3a21d19e16fedf35c90de8">ast_bridge_lock</a>(bridge);</div><div class="line"><a name="l03861"></a><span class="lineno"> 3861</span>&#160;   bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a1792ee6e2f718b197f668a8b7b16d357">softmix</a>.<a class="code" href="../../d0/d50/structast__bridge__softmix.html#ae0ffa389d55fc0dad4678b948a822add">video_mode</a>.<a class="code" href="../../dc/d4a/structast__bridge__video__mode.html#a4815762cb716d9c02daf0caadd5a41db">mode_data</a>.<a class="code" href="../../dc/d4a/structast__bridge__video__mode.html#ad5d1cfaccf73f40dd103903868504a7b">sfu_data</a>.<a class="code" href="../../dd/df9/structast__bridge__video__sfu__data.html#a0a1c43a89347238ad53bdaa7f733a014">remb_send_interval</a> = remb_send_interval;</div><div class="line"><a name="l03862"></a><span class="lineno"> 3862</span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#a0fb66f4741ca8d106af1917a2f1aab6e">ast_bridge_unlock</a>(bridge);</div><div class="line"><a name="l03863"></a><span class="lineno"> 3863</span>&#160;}</div><div class="ttc" id="bridge_8h_html_ab388dac5f5c172d7f03c54487afac906ac9992c5dc76155a013d0a5804c8f2bb7"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#ab388dac5f5c172d7f03c54487afac906ac9992c5dc76155a013d0a5804c8f2bb7">AST_BRIDGE_VIDEO_MODE_SFU</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00109">bridge.h:109</a></div></div>
<div class="ttc" id="structast__bridge__video__sfu__data_html_a0a1c43a89347238ad53bdaa7f733a014"><div class="ttname"><a href="../../dd/df9/structast__bridge__video__sfu__data.html#a0a1c43a89347238ad53bdaa7f733a014">ast_bridge_video_sfu_data::remb_send_interval</a></div><div class="ttdeci">unsigned int remb_send_interval</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00151">bridge.h:151</a></div></div>
<div class="ttc" id="structast__bridge__softmix_html_ae0ffa389d55fc0dad4678b948a822add"><div class="ttname"><a href="../../d0/d50/structast__bridge__softmix.html#ae0ffa389d55fc0dad4678b948a822add">ast_bridge_softmix::video_mode</a></div><div class="ttdeci">struct ast_bridge_video_mode video_mode</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00287">bridge.h:287</a></div></div>
<div class="ttc" id="utils_8h_html_a24374da24af1931d8a7ccde5b352bb2c"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a></div><div class="ttdeci">#define ast_assert(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00695">utils.h:695</a></div></div>
<div class="ttc" id="structast__bridge_html_a1792ee6e2f718b197f668a8b7b16d357"><div class="ttname"><a href="../../d4/d84/structast__bridge.html#a1792ee6e2f718b197f668a8b7b16d357">ast_bridge::softmix</a></div><div class="ttdeci">struct ast_bridge_softmix softmix</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00375">bridge.h:375</a></div></div>
<div class="ttc" id="structast__bridge__video__mode_html_a4815762cb716d9c02daf0caadd5a41db"><div class="ttname"><a href="../../dc/d4a/structast__bridge__video__mode.html#a4815762cb716d9c02daf0caadd5a41db">ast_bridge_video_mode::mode_data</a></div><div class="ttdeci">union ast_bridge_video_mode::@227 mode_data</div></div>
<div class="ttc" id="structast__bridge__video__mode_html_ad5d1cfaccf73f40dd103903868504a7b"><div class="ttname"><a href="../../dc/d4a/structast__bridge__video__mode.html#ad5d1cfaccf73f40dd103903868504a7b">ast_bridge_video_mode::sfu_data</a></div><div class="ttdeci">struct ast_bridge_video_sfu_data sfu_data</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00165">bridge.h:165</a></div></div>
<div class="ttc" id="bridge_8h_html_a0fb66f4741ca8d106af1917a2f1aab6e"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a0fb66f4741ca8d106af1917a2f1aab6e">ast_bridge_unlock</a></div><div class="ttdeci">#define ast_bridge_unlock(bridge)</div><div class="ttdoc">Unlock the bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00493">bridge.h:493</a></div></div>
<div class="ttc" id="bridge_8h_html_ab8ee807d2c3a21d19e16fedf35c90de8"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#ab8ee807d2c3a21d19e16fedf35c90de8">ast_bridge_lock</a></div><div class="ttdeci">#define ast_bridge_lock(bridge)</div><div class="ttdoc">Lock the bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00480">bridge.h:480</a></div></div>
<div class="ttc" id="structast__bridge__video__mode_html_ac651801cf270dd2ba5cb81ec5c786308"><div class="ttname"><a href="../../dc/d4a/structast__bridge__video__mode.html#ac651801cf270dd2ba5cb81ec5c786308">ast_bridge_video_mode::mode</a></div><div class="ttdeci">enum ast_bridge_video_mode_type mode</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00160">bridge.h:160</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aaba0073c46b7c4e52f55a0f34036f43b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaba0073c46b7c4e52f55a0f34036f43b">&#9670;&nbsp;</a></span>ast_bridge_set_send_sdp_label()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_bridge_set_send_sdp_label </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *&#160;</td>
          <td class="paramname"><em>bridge</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>send_sdp_label</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Controls whether to send a "label" attribute in each stream in an SDP. </p>
<dl class="section since"><dt>Since</dt><dd>16.1.0</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bridge</td><td>The bridge </td></tr>
    <tr><td class="paramname">send_sdp_label</td><td>Whether to send the labels or not</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>The label will contain the uniqueid of the channel related to the stream. This is used to allow the recipient to correlate the stream to the participant information events sent by app_confbridge. The bridge will be locked in this function. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d0/d95/bridge_8c_source.html#l04033">4033</a> of file <a class="el" href="../../d0/d95/bridge_8c_source.html">bridge.c</a>.</p>

<p class="reference">References <a class="el" href="../../d4/d56/bridge_8h_source.html#l00480">ast_bridge_lock</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00493">ast_bridge_unlock</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00308">ast_bridge_softmix::send_sdp_label</a>, and <a class="el" href="../../d4/d56/bridge_8h_source.html#l00375">ast_bridge::softmix</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/dcf/app__confbridge_8c_source.html#l01679">join_conference_bridge()</a>.</p>
<div class="fragment"><div class="line"><a name="l04034"></a><span class="lineno"> 4034</span>&#160;{</div><div class="line"><a name="l04035"></a><span class="lineno"> 4035</span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#ab8ee807d2c3a21d19e16fedf35c90de8">ast_bridge_lock</a>(bridge);</div><div class="line"><a name="l04036"></a><span class="lineno"> 4036</span>&#160;   bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a1792ee6e2f718b197f668a8b7b16d357">softmix</a>.<a class="code" href="../../d0/d50/structast__bridge__softmix.html#a19c26f21e5b3f0f20ef838fd43db8ea9">send_sdp_label</a> = send_sdp_label;</div><div class="line"><a name="l04037"></a><span class="lineno"> 4037</span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#a0fb66f4741ca8d106af1917a2f1aab6e">ast_bridge_unlock</a>(bridge);</div><div class="line"><a name="l04038"></a><span class="lineno"> 4038</span>&#160;}</div><div class="ttc" id="structast__bridge_html_a1792ee6e2f718b197f668a8b7b16d357"><div class="ttname"><a href="../../d4/d84/structast__bridge.html#a1792ee6e2f718b197f668a8b7b16d357">ast_bridge::softmix</a></div><div class="ttdeci">struct ast_bridge_softmix softmix</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00375">bridge.h:375</a></div></div>
<div class="ttc" id="bridge_8h_html_a0fb66f4741ca8d106af1917a2f1aab6e"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a0fb66f4741ca8d106af1917a2f1aab6e">ast_bridge_unlock</a></div><div class="ttdeci">#define ast_bridge_unlock(bridge)</div><div class="ttdoc">Unlock the bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00493">bridge.h:493</a></div></div>
<div class="ttc" id="structast__bridge__softmix_html_a19c26f21e5b3f0f20ef838fd43db8ea9"><div class="ttname"><a href="../../d0/d50/structast__bridge__softmix.html#a19c26f21e5b3f0f20ef838fd43db8ea9">ast_bridge_softmix::send_sdp_label</a></div><div class="ttdeci">unsigned int send_sdp_label</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00308">bridge.h:308</a></div></div>
<div class="ttc" id="bridge_8h_html_ab8ee807d2c3a21d19e16fedf35c90de8"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#ab8ee807d2c3a21d19e16fedf35c90de8">ast_bridge_lock</a></div><div class="ttdeci">#define ast_bridge_lock(bridge)</div><div class="ttdoc">Lock the bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00480">bridge.h:480</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a34a177a8cf79f8158638ebf6ae05ac1c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a34a177a8cf79f8158638ebf6ae05ac1c">&#9670;&nbsp;</a></span>ast_bridge_set_sfu_video_mode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_bridge_set_sfu_video_mode </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *&#160;</td>
          <td class="paramname"><em>bridge</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the bridge to be a selective forwarding unit. </p>

<p class="definition">Definition at line <a class="el" href="../../d0/d95/bridge_8c_source.html#l03841">3841</a> of file <a class="el" href="../../d0/d95/bridge_8c_source.html">bridge.c</a>.</p>

<p class="reference">References <a class="el" href="../../d4/d56/bridge_8h_source.html#l00480">ast_bridge_lock</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00493">ast_bridge_unlock</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00109">AST_BRIDGE_VIDEO_MODE_SFU</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l03793">cleanup_video_mode()</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00160">ast_bridge_video_mode::mode</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00375">ast_bridge::softmix</a>, and <a class="el" href="../../d4/d56/bridge_8h_source.html#l00287">ast_bridge_softmix::video_mode</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/de0/stasis__bridge_8c_source.html#l00300">bridge_stasis_new()</a>, and <a class="el" href="../../d0/dcf/app__confbridge_8c_source.html#l01679">join_conference_bridge()</a>.</p>
<div class="fragment"><div class="line"><a name="l03842"></a><span class="lineno"> 3842</span>&#160;{</div><div class="line"><a name="l03843"></a><span class="lineno"> 3843</span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#ab8ee807d2c3a21d19e16fedf35c90de8">ast_bridge_lock</a>(bridge);</div><div class="line"><a name="l03844"></a><span class="lineno"> 3844</span>&#160;   <a class="code" href="../../d0/d95/bridge_8c.html#aa87b1ca93d9a134685bbe0127d0dd3e1">cleanup_video_mode</a>(bridge);</div><div class="line"><a name="l03845"></a><span class="lineno"> 3845</span>&#160;   bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a1792ee6e2f718b197f668a8b7b16d357">softmix</a>.<a class="code" href="../../d0/d50/structast__bridge__softmix.html#ae0ffa389d55fc0dad4678b948a822add">video_mode</a>.<a class="code" href="../../dc/d4a/structast__bridge__video__mode.html#ac651801cf270dd2ba5cb81ec5c786308">mode</a> = <a class="code" href="../../d4/d56/bridge_8h.html#ab388dac5f5c172d7f03c54487afac906ac9992c5dc76155a013d0a5804c8f2bb7">AST_BRIDGE_VIDEO_MODE_SFU</a>;</div><div class="line"><a name="l03846"></a><span class="lineno"> 3846</span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#a0fb66f4741ca8d106af1917a2f1aab6e">ast_bridge_unlock</a>(bridge);</div><div class="line"><a name="l03847"></a><span class="lineno"> 3847</span>&#160;}</div><div class="ttc" id="bridge_8h_html_ab388dac5f5c172d7f03c54487afac906ac9992c5dc76155a013d0a5804c8f2bb7"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#ab388dac5f5c172d7f03c54487afac906ac9992c5dc76155a013d0a5804c8f2bb7">AST_BRIDGE_VIDEO_MODE_SFU</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00109">bridge.h:109</a></div></div>
<div class="ttc" id="structast__bridge__softmix_html_ae0ffa389d55fc0dad4678b948a822add"><div class="ttname"><a href="../../d0/d50/structast__bridge__softmix.html#ae0ffa389d55fc0dad4678b948a822add">ast_bridge_softmix::video_mode</a></div><div class="ttdeci">struct ast_bridge_video_mode video_mode</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00287">bridge.h:287</a></div></div>
<div class="ttc" id="bridge_8c_html_aa87b1ca93d9a134685bbe0127d0dd3e1"><div class="ttname"><a href="../../d0/d95/bridge_8c.html#aa87b1ca93d9a134685bbe0127d0dd3e1">cleanup_video_mode</a></div><div class="ttdeci">static void cleanup_video_mode(struct ast_bridge *bridge)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l03793">bridge.c:3793</a></div></div>
<div class="ttc" id="structast__bridge_html_a1792ee6e2f718b197f668a8b7b16d357"><div class="ttname"><a href="../../d4/d84/structast__bridge.html#a1792ee6e2f718b197f668a8b7b16d357">ast_bridge::softmix</a></div><div class="ttdeci">struct ast_bridge_softmix softmix</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00375">bridge.h:375</a></div></div>
<div class="ttc" id="bridge_8h_html_a0fb66f4741ca8d106af1917a2f1aab6e"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a0fb66f4741ca8d106af1917a2f1aab6e">ast_bridge_unlock</a></div><div class="ttdeci">#define ast_bridge_unlock(bridge)</div><div class="ttdoc">Unlock the bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00493">bridge.h:493</a></div></div>
<div class="ttc" id="bridge_8h_html_ab8ee807d2c3a21d19e16fedf35c90de8"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#ab8ee807d2c3a21d19e16fedf35c90de8">ast_bridge_lock</a></div><div class="ttdeci">#define ast_bridge_lock(bridge)</div><div class="ttdoc">Lock the bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00480">bridge.h:480</a></div></div>
<div class="ttc" id="structast__bridge__video__mode_html_ac651801cf270dd2ba5cb81ec5c786308"><div class="ttname"><a href="../../dc/d4a/structast__bridge__video__mode.html#ac651801cf270dd2ba5cb81ec5c786308">ast_bridge_video_mode::mode</a></div><div class="ttdeci">enum ast_bridge_video_mode_type mode</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00160">bridge.h:160</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a8995453900a91100f3cd936594f41435"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8995453900a91100f3cd936594f41435">&#9670;&nbsp;</a></span>ast_bridge_set_single_src_video_mode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_bridge_set_single_src_video_mode </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *&#160;</td>
          <td class="paramname"><em>bridge</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>video_src_chan</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set a bridge to feed a single video source to all participants. </p>

<p class="definition">Definition at line <a class="el" href="../../d0/d95/bridge_8c_source.html#l03816">3816</a> of file <a class="el" href="../../d0/d95/bridge_8c_source.html">bridge.c</a>.</p>

<p class="reference">References <a class="el" href="../../d4/d56/bridge_8h_source.html#l00480">ast_bridge_lock</a>, <a class="el" href="../../da/d0f/stasis__bridges_8c_source.html#l00350">ast_bridge_publish_state()</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00493">ast_bridge_unlock</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00102">AST_BRIDGE_VIDEO_MODE_SINGLE_SRC</a>, <a class="el" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02970">ast_channel_ref</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00305">ast_channel_uniqueid()</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00295">AST_CONTROL_VIDUPDATE</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l04322">ast_indicate()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00463">ast_verb</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00116">ast_bridge_video_single_src_data::chan_vsrc</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l03793">cleanup_video_mode()</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00160">ast_bridge_video_mode::mode</a>, <a class="el" href="../../dc/d4a/structast__bridge__video__mode.html#a4815762cb716d9c02daf0caadd5a41db">ast_bridge_video_mode::mode_data</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00409">ast_bridge::name</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00163">ast_bridge_video_mode::single_src_data</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00375">ast_bridge::softmix</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00409">ast_bridge::uniqueid</a>, and <a class="el" href="../../d4/d56/bridge_8h_source.html#l00287">ast_bridge_softmix::video_mode</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/dcf/app__confbridge_8c_source.html#l04149">action_confbridgesetsinglevideosrc()</a>, <a class="el" href="../../db/d0b/resource__bridges_8c_source.html#l01004">bridge_set_video_source_cb()</a>, <a class="el" href="../../d9/de0/stasis__bridge_8c_source.html#l00300">bridge_stasis_new()</a>, <a class="el" href="../../d0/dcf/app__confbridge_8c_source.html#l03103">execute_menu_entry()</a>, <a class="el" href="../../d0/dcf/app__confbridge_8c_source.html#l01075">handle_video_on_exit()</a>, and <a class="el" href="../../d0/dcf/app__confbridge_8c_source.html#l01043">handle_video_on_join()</a>.</p>
<div class="fragment"><div class="line"><a name="l03817"></a><span class="lineno"> 3817</span>&#160;{</div><div class="line"><a name="l03818"></a><span class="lineno"> 3818</span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#ab8ee807d2c3a21d19e16fedf35c90de8">ast_bridge_lock</a>(bridge);</div><div class="line"><a name="l03819"></a><span class="lineno"> 3819</span>&#160;   <a class="code" href="../../d0/d95/bridge_8c.html#aa87b1ca93d9a134685bbe0127d0dd3e1">cleanup_video_mode</a>(bridge);</div><div class="line"><a name="l03820"></a><span class="lineno"> 3820</span>&#160;   bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a1792ee6e2f718b197f668a8b7b16d357">softmix</a>.<a class="code" href="../../d0/d50/structast__bridge__softmix.html#ae0ffa389d55fc0dad4678b948a822add">video_mode</a>.<a class="code" href="../../dc/d4a/structast__bridge__video__mode.html#ac651801cf270dd2ba5cb81ec5c786308">mode</a> = <a class="code" href="../../d4/d56/bridge_8h.html#ab388dac5f5c172d7f03c54487afac906a1e27ac207e54a30dfdabc463bd18d43c">AST_BRIDGE_VIDEO_MODE_SINGLE_SRC</a>;</div><div class="line"><a name="l03821"></a><span class="lineno"> 3821</span>&#160;   <span class="keywordflow">if</span> (video_src_chan) {</div><div class="line"><a name="l03822"></a><span class="lineno"> 3822</span>&#160;      bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a1792ee6e2f718b197f668a8b7b16d357">softmix</a>.<a class="code" href="../../d0/d50/structast__bridge__softmix.html#ae0ffa389d55fc0dad4678b948a822add">video_mode</a>.<a class="code" href="../../dc/d4a/structast__bridge__video__mode.html#a4815762cb716d9c02daf0caadd5a41db">mode_data</a>.<a class="code" href="../../dc/d4a/structast__bridge__video__mode.html#a3d1942099e12eaade08dc9ac3fee6c23">single_src_data</a>.<a class="code" href="../../dd/dbe/structast__bridge__video__single__src__data.html#af17523bbee86cea3e7c6959258436728">chan_vsrc</a> = <a class="code" href="../../d5/d7b/channel_8h.html#a6801c703e767d6f760c54c8b86a30024">ast_channel_ref</a>(video_src_chan);</div><div class="line"><a name="l03823"></a><span class="lineno"> 3823</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(5, <span class="stringliteral">&quot;Video source in bridge &#39;%s&#39; (%s) is now &#39;%s&#39; (%s)\n&quot;</span>,</div><div class="line"><a name="l03824"></a><span class="lineno"> 3824</span>&#160;         bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#ace9168767fc3707cf5f0a7d049682ba3">name</a>, bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a753c7b39e3284d771f13f513b003d033">uniqueid</a>,</div><div class="line"><a name="l03825"></a><span class="lineno"> 3825</span>&#160;         <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(video_src_chan),</div><div class="line"><a name="l03826"></a><span class="lineno"> 3826</span>&#160;         <a class="code" href="../../d5/d7b/channel_8h.html#a3b6254f6d3832ef928f0a727113b1c63">ast_channel_uniqueid</a>(video_src_chan));</div><div class="line"><a name="l03827"></a><span class="lineno"> 3827</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#aef2af15a597c948e97628da6c5c84f28">ast_indicate</a>(video_src_chan, <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390a417bc8ac5817cc1525a3b530abfc1528">AST_CONTROL_VIDUPDATE</a>);</div><div class="line"><a name="l03828"></a><span class="lineno"> 3828</span>&#160;   }</div><div class="line"><a name="l03829"></a><span class="lineno"> 3829</span>&#160;   <a class="code" href="../../dc/d4e/stasis__bridges_8h.html#aa8bd54e09b0c348a3232053e4be9bcfb">ast_bridge_publish_state</a>(bridge);</div><div class="line"><a name="l03830"></a><span class="lineno"> 3830</span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#a0fb66f4741ca8d106af1917a2f1aab6e">ast_bridge_unlock</a>(bridge);</div><div class="line"><a name="l03831"></a><span class="lineno"> 3831</span>&#160;}</div><div class="ttc" id="structast__bridge_html_a753c7b39e3284d771f13f513b003d033"><div class="ttname"><a href="../../d4/d84/structast__bridge.html#a753c7b39e3284d771f13f513b003d033">ast_bridge::uniqueid</a></div><div class="ttdeci">const ast_string_field uniqueid</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00409">bridge.h:409</a></div></div>
<div class="ttc" id="channel_8h_html_aef2af15a597c948e97628da6c5c84f28"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#aef2af15a597c948e97628da6c5c84f28">ast_indicate</a></div><div class="ttdeci">int ast_indicate(struct ast_channel *chan, int condition)</div><div class="ttdoc">Indicates condition of channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l04322">channel.c:4322</a></div></div>
<div class="ttc" id="structast__bridge__softmix_html_ae0ffa389d55fc0dad4678b948a822add"><div class="ttname"><a href="../../d0/d50/structast__bridge__softmix.html#ae0ffa389d55fc0dad4678b948a822add">ast_bridge_softmix::video_mode</a></div><div class="ttdeci">struct ast_bridge_video_mode video_mode</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00287">bridge.h:287</a></div></div>
<div class="ttc" id="structast__bridge_html_ace9168767fc3707cf5f0a7d049682ba3"><div class="ttname"><a href="../../d4/d84/structast__bridge.html#ace9168767fc3707cf5f0a7d049682ba3">ast_bridge::name</a></div><div class="ttdeci">const ast_string_field name</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00409">bridge.h:409</a></div></div>
<div class="ttc" id="structast__bridge__video__single__src__data_html_af17523bbee86cea3e7c6959258436728"><div class="ttname"><a href="../../dd/dbe/structast__bridge__video__single__src__data.html#af17523bbee86cea3e7c6959258436728">ast_bridge_video_single_src_data::chan_vsrc</a></div><div class="ttdeci">struct ast_channel * chan_vsrc</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00116">bridge.h:116</a></div></div>
<div class="ttc" id="bridge_8h_html_ab388dac5f5c172d7f03c54487afac906a1e27ac207e54a30dfdabc463bd18d43c"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#ab388dac5f5c172d7f03c54487afac906a1e27ac207e54a30dfdabc463bd18d43c">AST_BRIDGE_VIDEO_MODE_SINGLE_SRC</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00102">bridge.h:102</a></div></div>
<div class="ttc" id="bridge_8c_html_aa87b1ca93d9a134685bbe0127d0dd3e1"><div class="ttname"><a href="../../d0/d95/bridge_8c.html#aa87b1ca93d9a134685bbe0127d0dd3e1">cleanup_video_mode</a></div><div class="ttdeci">static void cleanup_video_mode(struct ast_bridge *bridge)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l03793">bridge.c:3793</a></div></div>
<div class="ttc" id="structast__bridge_html_a1792ee6e2f718b197f668a8b7b16d357"><div class="ttname"><a href="../../d4/d84/structast__bridge.html#a1792ee6e2f718b197f668a8b7b16d357">ast_bridge::softmix</a></div><div class="ttdeci">struct ast_bridge_softmix softmix</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00375">bridge.h:375</a></div></div>
<div class="ttc" id="structast__bridge__video__mode_html_a4815762cb716d9c02daf0caadd5a41db"><div class="ttname"><a href="../../dc/d4a/structast__bridge__video__mode.html#a4815762cb716d9c02daf0caadd5a41db">ast_bridge_video_mode::mode_data</a></div><div class="ttdeci">union ast_bridge_video_mode::@227 mode_data</div></div>
<div class="ttc" id="logger_8h_html_ad770f83c71e237e1f64163358ce4e13d"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a></div><div class="ttdeci">#define ast_verb(level,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00463">logger.h:463</a></div></div>
<div class="ttc" id="stasis__bridges_8h_html_aa8bd54e09b0c348a3232053e4be9bcfb"><div class="ttname"><a href="../../dc/d4e/stasis__bridges_8h.html#aa8bd54e09b0c348a3232053e4be9bcfb">ast_bridge_publish_state</a></div><div class="ttdeci">void ast_bridge_publish_state(struct ast_bridge *bridge)</div><div class="ttdoc">Publish the state of a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d0f/stasis__bridges_8c_source.html#l00350">stasis_bridges.c:350</a></div></div>
<div class="ttc" id="structast__bridge__video__mode_html_a3d1942099e12eaade08dc9ac3fee6c23"><div class="ttname"><a href="../../dc/d4a/structast__bridge__video__mode.html#a3d1942099e12eaade08dc9ac3fee6c23">ast_bridge_video_mode::single_src_data</a></div><div class="ttdeci">struct ast_bridge_video_single_src_data single_src_data</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00163">bridge.h:163</a></div></div>
<div class="ttc" id="channel_8h_html_a3b6254f6d3832ef928f0a727113b1c63"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a3b6254f6d3832ef928f0a727113b1c63">ast_channel_uniqueid</a></div><div class="ttdeci">const char * ast_channel_uniqueid(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00305">channel_internal_api.c:305</a></div></div>
<div class="ttc" id="bridge_8h_html_a0fb66f4741ca8d106af1917a2f1aab6e"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a0fb66f4741ca8d106af1917a2f1aab6e">ast_bridge_unlock</a></div><div class="ttdeci">#define ast_bridge_unlock(bridge)</div><div class="ttdoc">Unlock the bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00493">bridge.h:493</a></div></div>
<div class="ttc" id="bridge_8h_html_ab8ee807d2c3a21d19e16fedf35c90de8"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#ab8ee807d2c3a21d19e16fedf35c90de8">ast_bridge_lock</a></div><div class="ttdeci">#define ast_bridge_lock(bridge)</div><div class="ttdoc">Lock the bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00480">bridge.h:480</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_aedda41918e992000fe921f8f7363b390a417bc8ac5817cc1525a3b530abfc1528"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390a417bc8ac5817cc1525a3b530abfc1528">AST_CONTROL_VIDUPDATE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00295">include/asterisk/frame.h:295</a></div></div>
<div class="ttc" id="channel_8h_html_a6801c703e767d6f760c54c8b86a30024"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a6801c703e767d6f760c54c8b86a30024">ast_channel_ref</a></div><div class="ttdeci">#define ast_channel_ref(c)</div><div class="ttdoc">Increase channel reference count. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02970">channel.h:2970</a></div></div>
<div class="ttc" id="channel_8h_html_a7ca2fda13b129a55c251b56729de285b"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a></div><div class="ttdeci">const char * ast_channel_name(const struct ast_channel *chan)</div></div>
<div class="ttc" id="structast__bridge__video__mode_html_ac651801cf270dd2ba5cb81ec5c786308"><div class="ttname"><a href="../../dc/d4a/structast__bridge__video__mode.html#ac651801cf270dd2ba5cb81ec5c786308">ast_bridge_video_mode::mode</a></div><div class="ttdeci">enum ast_bridge_video_mode_type mode</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00160">bridge.h:160</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a0a2e9bb75a3d3276cd8153e1f4a4a389"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a2e9bb75a3d3276cd8153e1f4a4a389">&#9670;&nbsp;</a></span>ast_bridge_set_talker_src_video_mode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_bridge_set_talker_src_video_mode </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *&#160;</td>
          <td class="paramname"><em>bridge</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the bridge to pick the strongest talker supporting video as the single source video feed. </p>

<p class="definition">Definition at line <a class="el" href="../../d0/d95/bridge_8c_source.html#l03833">3833</a> of file <a class="el" href="../../d0/d95/bridge_8c_source.html">bridge.c</a>.</p>

<p class="reference">References <a class="el" href="../../d4/d56/bridge_8h_source.html#l00480">ast_bridge_lock</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00493">ast_bridge_unlock</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00105">AST_BRIDGE_VIDEO_MODE_TALKER_SRC</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l03793">cleanup_video_mode()</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00160">ast_bridge_video_mode::mode</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00375">ast_bridge::softmix</a>, and <a class="el" href="../../d4/d56/bridge_8h_source.html#l00287">ast_bridge_softmix::video_mode</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d0b/resource__bridges_8c_source.html#l01051">ast_ari_bridges_clear_video_source()</a>, <a class="el" href="../../d9/de0/stasis__bridge_8c_source.html#l00300">bridge_stasis_new()</a>, <a class="el" href="../../d0/dcf/app__confbridge_8c_source.html#l01075">handle_video_on_exit()</a>, and <a class="el" href="../../d0/dcf/app__confbridge_8c_source.html#l01679">join_conference_bridge()</a>.</p>
<div class="fragment"><div class="line"><a name="l03834"></a><span class="lineno"> 3834</span>&#160;{</div><div class="line"><a name="l03835"></a><span class="lineno"> 3835</span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#ab8ee807d2c3a21d19e16fedf35c90de8">ast_bridge_lock</a>(bridge);</div><div class="line"><a name="l03836"></a><span class="lineno"> 3836</span>&#160;   <a class="code" href="../../d0/d95/bridge_8c.html#aa87b1ca93d9a134685bbe0127d0dd3e1">cleanup_video_mode</a>(bridge);</div><div class="line"><a name="l03837"></a><span class="lineno"> 3837</span>&#160;   bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a1792ee6e2f718b197f668a8b7b16d357">softmix</a>.<a class="code" href="../../d0/d50/structast__bridge__softmix.html#ae0ffa389d55fc0dad4678b948a822add">video_mode</a>.<a class="code" href="../../dc/d4a/structast__bridge__video__mode.html#ac651801cf270dd2ba5cb81ec5c786308">mode</a> = <a class="code" href="../../d4/d56/bridge_8h.html#ab388dac5f5c172d7f03c54487afac906a48458f43dd7ef0372614e5848f9226e0">AST_BRIDGE_VIDEO_MODE_TALKER_SRC</a>;</div><div class="line"><a name="l03838"></a><span class="lineno"> 3838</span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#a0fb66f4741ca8d106af1917a2f1aab6e">ast_bridge_unlock</a>(bridge);</div><div class="line"><a name="l03839"></a><span class="lineno"> 3839</span>&#160;}</div><div class="ttc" id="structast__bridge__softmix_html_ae0ffa389d55fc0dad4678b948a822add"><div class="ttname"><a href="../../d0/d50/structast__bridge__softmix.html#ae0ffa389d55fc0dad4678b948a822add">ast_bridge_softmix::video_mode</a></div><div class="ttdeci">struct ast_bridge_video_mode video_mode</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00287">bridge.h:287</a></div></div>
<div class="ttc" id="bridge_8c_html_aa87b1ca93d9a134685bbe0127d0dd3e1"><div class="ttname"><a href="../../d0/d95/bridge_8c.html#aa87b1ca93d9a134685bbe0127d0dd3e1">cleanup_video_mode</a></div><div class="ttdeci">static void cleanup_video_mode(struct ast_bridge *bridge)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l03793">bridge.c:3793</a></div></div>
<div class="ttc" id="structast__bridge_html_a1792ee6e2f718b197f668a8b7b16d357"><div class="ttname"><a href="../../d4/d84/structast__bridge.html#a1792ee6e2f718b197f668a8b7b16d357">ast_bridge::softmix</a></div><div class="ttdeci">struct ast_bridge_softmix softmix</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00375">bridge.h:375</a></div></div>
<div class="ttc" id="bridge_8h_html_a0fb66f4741ca8d106af1917a2f1aab6e"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a0fb66f4741ca8d106af1917a2f1aab6e">ast_bridge_unlock</a></div><div class="ttdeci">#define ast_bridge_unlock(bridge)</div><div class="ttdoc">Unlock the bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00493">bridge.h:493</a></div></div>
<div class="ttc" id="bridge_8h_html_ab8ee807d2c3a21d19e16fedf35c90de8"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#ab8ee807d2c3a21d19e16fedf35c90de8">ast_bridge_lock</a></div><div class="ttdeci">#define ast_bridge_lock(bridge)</div><div class="ttdoc">Lock the bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00480">bridge.h:480</a></div></div>
<div class="ttc" id="bridge_8h_html_ab388dac5f5c172d7f03c54487afac906a48458f43dd7ef0372614e5848f9226e0"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#ab388dac5f5c172d7f03c54487afac906a48458f43dd7ef0372614e5848f9226e0">AST_BRIDGE_VIDEO_MODE_TALKER_SRC</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00105">bridge.h:105</a></div></div>
<div class="ttc" id="structast__bridge__video__mode_html_ac651801cf270dd2ba5cb81ec5c786308"><div class="ttname"><a href="../../dc/d4a/structast__bridge__video__mode.html#ac651801cf270dd2ba5cb81ec5c786308">ast_bridge_video_mode::mode</a></div><div class="ttdeci">enum ast_bridge_video_mode_type mode</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00160">bridge.h:160</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a8878fc7451a873f155aba20b0b31abbb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8878fc7451a873f155aba20b0b31abbb">&#9670;&nbsp;</a></span>ast_bridge_set_transfer_variables()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_bridge_set_transfer_variables </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>is_attended</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the relevant transfer variables for a single channel. </p>
<p>Sets either the ATTENDEDTRANSFER or BLINDTRANSFER variable for a channel while clearing the opposite.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chan</td><td>Channel the variable is being set for </td></tr>
    <tr><td class="paramname">value</td><td>Value the variable is being set to </td></tr>
    <tr><td class="paramname">is_attended</td><td>false set BLINDTRANSFER and unset ATTENDEDTRANSFER true set ATTENDEDTRANSFER and unset BLINDTRANSFER </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d0/d95/bridge_8c_source.html#l04404">4404</a> of file <a class="el" href="../../d0/d95/bridge_8c_source.html">bridge.c</a>.</p>

<p class="reference">References <a class="el" href="../../d0/d95/bridge_8c_source.html#l00139">ATTENDEDTRANSFER</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l00136">BLINDTRANSFER</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../d3/d8c/pbx__variables_8c_source.html#l01071">pbx_builtin_setvar_helper()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l03255">dial_transfer()</a>, <a class="el" href="../../d0/d39/parking__manager_8c_source.html#l00519">manager_park()</a>, <a class="el" href="../../d1/db7/parking__bridge__features_8c_source.html#l00244">park_local_transfer()</a>, <a class="el" href="../../d1/db7/parking__bridge__features_8c_source.html#l00434">parking_park_bridge_channel()</a>, and <a class="el" href="../../d0/d95/bridge_8c_source.html#l04435">set_transfer_variables_all()</a>.</p>
<div class="fragment"><div class="line"><a name="l04405"></a><span class="lineno"> 4405</span>&#160;{</div><div class="line"><a name="l04406"></a><span class="lineno"> 4406</span>&#160;   <span class="keywordtype">char</span> *writevar;</div><div class="line"><a name="l04407"></a><span class="lineno"> 4407</span>&#160;   <span class="keywordtype">char</span> *erasevar;</div><div class="line"><a name="l04408"></a><span class="lineno"> 4408</span>&#160;</div><div class="line"><a name="l04409"></a><span class="lineno"> 4409</span>&#160;   <span class="keywordflow">if</span> (attended) {</div><div class="line"><a name="l04410"></a><span class="lineno"> 4410</span>&#160;      writevar = <a class="code" href="../../d0/d95/bridge_8c.html#acace2c216334d2be31f0323bfc4af2ab">ATTENDEDTRANSFER</a>;</div><div class="line"><a name="l04411"></a><span class="lineno"> 4411</span>&#160;      erasevar = <a class="code" href="../../d0/d95/bridge_8c.html#a46076d7116497bc6fd9c69b57d15d18c">BLINDTRANSFER</a>;</div><div class="line"><a name="l04412"></a><span class="lineno"> 4412</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l04413"></a><span class="lineno"> 4413</span>&#160;      writevar = <a class="code" href="../../d0/d95/bridge_8c.html#a46076d7116497bc6fd9c69b57d15d18c">BLINDTRANSFER</a>;</div><div class="line"><a name="l04414"></a><span class="lineno"> 4414</span>&#160;      erasevar = <a class="code" href="../../d0/d95/bridge_8c.html#acace2c216334d2be31f0323bfc4af2ab">ATTENDEDTRANSFER</a>;</div><div class="line"><a name="l04415"></a><span class="lineno"> 4415</span>&#160;   }</div><div class="line"><a name="l04416"></a><span class="lineno"> 4416</span>&#160;</div><div class="line"><a name="l04417"></a><span class="lineno"> 4417</span>&#160;   <a class="code" href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a>(chan, writevar, <a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>);</div><div class="line"><a name="l04418"></a><span class="lineno"> 4418</span>&#160;   <a class="code" href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a>(chan, erasevar, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l04419"></a><span class="lineno"> 4419</span>&#160;}</div><div class="ttc" id="bridge_8c_html_acace2c216334d2be31f0323bfc4af2ab"><div class="ttname"><a href="../../d0/d95/bridge_8c.html#acace2c216334d2be31f0323bfc4af2ab">ATTENDEDTRANSFER</a></div><div class="ttdeci">#define ATTENDEDTRANSFER</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l00139">bridge.c:139</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="syslog_8c_html_ac4f474c82e82cbb89ca7c36dd52be0ed"><div class="ttname"><a href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a></div><div class="ttdeci">int value</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d2f/syslog_8c_source.html#l00037">syslog.c:37</a></div></div>
<div class="ttc" id="bridge_8c_html_a46076d7116497bc6fd9c69b57d15d18c"><div class="ttname"><a href="../../d0/d95/bridge_8c.html#a46076d7116497bc6fd9c69b57d15d18c">BLINDTRANSFER</a></div><div class="ttdeci">#define BLINDTRANSFER</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l00136">bridge.c:136</a></div></div>
<div class="ttc" id="pbx_8h_html_a6e5b90edb84d216267148dddcffe9b9a"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a></div><div class="ttdeci">int pbx_builtin_setvar_helper(struct ast_channel *chan, const char *name, const char *value)</div><div class="ttdoc">Add a variable to the channel variable stack, removing the most recently set value for the same name...</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d8c/pbx__variables_8c_source.html#l01071">pbx_variables.c:1071</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a46b990e3c3b853c3f9d19f2924dff5d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a46b990e3c3b853c3f9d19f2924dff5d1">&#9670;&nbsp;</a></span>ast_bridge_set_video_update_discard()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_bridge_set_video_update_discard </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *&#160;</td>
          <td class="paramname"><em>bridge</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>video_update_discard</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the amount of time to discard subsequent video updates after a video update has been sent. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bridge</td><td>Bridge to set the minimum video update wait time on </td></tr>
    <tr><td class="paramname">video_update_discard</td><td>Amount of time after sending a video update that others should be discarded </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d0/d95/bridge_8c_source.html#l03849">3849</a> of file <a class="el" href="../../d0/d95/bridge_8c_source.html">bridge.c</a>.</p>

<p class="reference">References <a class="el" href="../../d4/d56/bridge_8h_source.html#l00480">ast_bridge_lock</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00493">ast_bridge_unlock</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00375">ast_bridge::softmix</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00287">ast_bridge_softmix::video_mode</a>, and <a class="el" href="../../d4/d56/bridge_8h_source.html#l00168">ast_bridge_video_mode::video_update_discard</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/de0/stasis__bridge_8c_source.html#l00300">bridge_stasis_new()</a>, and <a class="el" href="../../d0/dcf/app__confbridge_8c_source.html#l01679">join_conference_bridge()</a>.</p>
<div class="fragment"><div class="line"><a name="l03850"></a><span class="lineno"> 3850</span>&#160;{</div><div class="line"><a name="l03851"></a><span class="lineno"> 3851</span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#ab8ee807d2c3a21d19e16fedf35c90de8">ast_bridge_lock</a>(bridge);</div><div class="line"><a name="l03852"></a><span class="lineno"> 3852</span>&#160;   bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a1792ee6e2f718b197f668a8b7b16d357">softmix</a>.<a class="code" href="../../d0/d50/structast__bridge__softmix.html#ae0ffa389d55fc0dad4678b948a822add">video_mode</a>.<a class="code" href="../../dc/d4a/structast__bridge__video__mode.html#a827ffb5b7363100b4470c4cd5ec2332e">video_update_discard</a> = video_update_discard;</div><div class="line"><a name="l03853"></a><span class="lineno"> 3853</span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#a0fb66f4741ca8d106af1917a2f1aab6e">ast_bridge_unlock</a>(bridge);</div><div class="line"><a name="l03854"></a><span class="lineno"> 3854</span>&#160;}</div><div class="ttc" id="structast__bridge__softmix_html_ae0ffa389d55fc0dad4678b948a822add"><div class="ttname"><a href="../../d0/d50/structast__bridge__softmix.html#ae0ffa389d55fc0dad4678b948a822add">ast_bridge_softmix::video_mode</a></div><div class="ttdeci">struct ast_bridge_video_mode video_mode</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00287">bridge.h:287</a></div></div>
<div class="ttc" id="structast__bridge_html_a1792ee6e2f718b197f668a8b7b16d357"><div class="ttname"><a href="../../d4/d84/structast__bridge.html#a1792ee6e2f718b197f668a8b7b16d357">ast_bridge::softmix</a></div><div class="ttdeci">struct ast_bridge_softmix softmix</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00375">bridge.h:375</a></div></div>
<div class="ttc" id="bridge_8h_html_a0fb66f4741ca8d106af1917a2f1aab6e"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a0fb66f4741ca8d106af1917a2f1aab6e">ast_bridge_unlock</a></div><div class="ttdeci">#define ast_bridge_unlock(bridge)</div><div class="ttdoc">Unlock the bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00493">bridge.h:493</a></div></div>
<div class="ttc" id="structast__bridge__video__mode_html_a827ffb5b7363100b4470c4cd5ec2332e"><div class="ttname"><a href="../../dc/d4a/structast__bridge__video__mode.html#a827ffb5b7363100b4470c4cd5ec2332e">ast_bridge_video_mode::video_update_discard</a></div><div class="ttdeci">unsigned int video_update_discard</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00168">bridge.h:168</a></div></div>
<div class="ttc" id="bridge_8h_html_ab8ee807d2c3a21d19e16fedf35c90de8"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#ab8ee807d2c3a21d19e16fedf35c90de8">ast_bridge_lock</a></div><div class="ttdeci">#define ast_bridge_lock(bridge)</div><div class="ttdoc">Lock the bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00480">bridge.h:480</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a85bc0d4138ac2af7b207d8f1325f051a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a85bc0d4138ac2af7b207d8f1325f051a">&#9670;&nbsp;</a></span>ast_bridge_suspend()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_bridge_suspend </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *&#160;</td>
          <td class="paramname"><em>bridge</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Suspend a channel temporarily from a bridge. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bridge</td><td>Bridge to suspend the channel from </td></tr>
    <tr><td class="paramname">chan</td><td>Channel to suspend</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>on success </td></tr>
    <tr><td class="paramname">-1</td><td>on failure</td></tr>
  </table>
  </dd>
</dl>
<p>Example usage:</p>
<div class="fragment"><div class="line"><a class="code" href="../../d4/d56/bridge_8h.html#a85bc0d4138ac2af7b207d8f1325f051a">ast_bridge_suspend</a>(bridge, <a class="code" href="../../d5/dca/structast__bridge__channel.html#a84d1435c5b8d387806714ea7079304b7">chan</a>);</div></div><!-- fragment --><p>This suspends the channel pointed to by chan from the bridge pointed to by bridge temporarily. Control of the channel is given to the calling thread. This differs from ast_bridge_depart as the channel will not be removed from the bridge.</p>
<dl class="section note"><dt>Note</dt><dd>This API call can be used on channels that were added to the bridge using both ast_bridge_join and ast_bridge_impart. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d0/d95/bridge_8c_source.html#l03068">3068</a> of file <a class="el" href="../../d0/d95/bridge_8c_source.html">bridge.c</a>.</p>

<p class="reference">References <a class="el" href="../../d4/d56/bridge_8h_source.html#l00480">ast_bridge_lock</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00493">ast_bridge_unlock</a>, <a class="el" href="../../d3/d32/bridge__channel_8c_source.html#l00854">bridge_channel_internal_suspend_nolock()</a>, and <a class="el" href="../../d0/d95/bridge_8c_source.html#l01469">bridge_find_channel()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/dcf/app__confbridge_8c_source.html#l01360">conf_moh_start()</a>, and <a class="el" href="../../d0/dcf/app__confbridge_8c_source.html#l01333">conf_moh_stop()</a>.</p>
<div class="fragment"><div class="line"><a name="l03069"></a><span class="lineno"> 3069</span>&#160;{</div><div class="line"><a name="l03070"></a><span class="lineno"> 3070</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *bridge_channel;</div><div class="line"><a name="l03071"></a><span class="lineno"> 3071</span>&#160;<span class="comment">/* XXX ASTERISK-21271 the case of a disolved bridge while channel is suspended is not handled. */</span></div><div class="line"><a name="l03072"></a><span class="lineno"> 3072</span>&#160;<span class="comment">/* XXX ASTERISK-21271 suspend/unsuspend needs to be rethought. The caller must block until it has successfully suspended the channel for temporary control. */</span></div><div class="line"><a name="l03073"></a><span class="lineno"> 3073</span>&#160;<span class="comment">/* XXX ASTERISK-21271 external suspend/unsuspend needs to be eliminated. The channel may be playing a file at the time and stealing it then is not good. */</span></div><div class="line"><a name="l03074"></a><span class="lineno"> 3074</span>&#160;</div><div class="line"><a name="l03075"></a><span class="lineno"> 3075</span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#ab8ee807d2c3a21d19e16fedf35c90de8">ast_bridge_lock</a>(bridge);</div><div class="line"><a name="l03076"></a><span class="lineno"> 3076</span>&#160;</div><div class="line"><a name="l03077"></a><span class="lineno"> 3077</span>&#160;   <span class="keywordflow">if</span> (!(bridge_channel = <a class="code" href="../../d0/d95/bridge_8c.html#af611fd393ca26b5fd2a8071867470ffc">bridge_find_channel</a>(bridge, chan))) {</div><div class="line"><a name="l03078"></a><span class="lineno"> 3078</span>&#160;      <a class="code" href="../../d4/d56/bridge_8h.html#a0fb66f4741ca8d106af1917a2f1aab6e">ast_bridge_unlock</a>(bridge);</div><div class="line"><a name="l03079"></a><span class="lineno"> 3079</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l03080"></a><span class="lineno"> 3080</span>&#160;   }</div><div class="line"><a name="l03081"></a><span class="lineno"> 3081</span>&#160;</div><div class="line"><a name="l03082"></a><span class="lineno"> 3082</span>&#160;   <a class="code" href="../../d9/dfc/bridge__channel__internal_8h.html#a447f05a7615581929349765430257a75">bridge_channel_internal_suspend_nolock</a>(bridge_channel);</div><div class="line"><a name="l03083"></a><span class="lineno"> 3083</span>&#160;</div><div class="line"><a name="l03084"></a><span class="lineno"> 3084</span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#a0fb66f4741ca8d106af1917a2f1aab6e">ast_bridge_unlock</a>(bridge);</div><div class="line"><a name="l03085"></a><span class="lineno"> 3085</span>&#160;</div><div class="line"><a name="l03086"></a><span class="lineno"> 3086</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l03087"></a><span class="lineno"> 3087</span>&#160;}</div><div class="ttc" id="bridge__channel__internal_8h_html_a447f05a7615581929349765430257a75"><div class="ttname"><a href="../../d9/dfc/bridge__channel__internal_8h.html#a447f05a7615581929349765430257a75">bridge_channel_internal_suspend_nolock</a></div><div class="ttdeci">void bridge_channel_internal_suspend_nolock(struct ast_bridge_channel *bridge_channel)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d32/bridge__channel_8c_source.html#l00854">bridge_channel.c:854</a></div></div>
<div class="ttc" id="bridge_8c_html_af611fd393ca26b5fd2a8071867470ffc"><div class="ttname"><a href="../../d0/d95/bridge_8c.html#af611fd393ca26b5fd2a8071867470ffc">bridge_find_channel</a></div><div class="ttdeci">struct ast_bridge_channel * bridge_find_channel(struct ast_bridge *bridge, struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l01469">bridge.c:1469</a></div></div>
<div class="ttc" id="bridge_8h_html_a0fb66f4741ca8d106af1917a2f1aab6e"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a0fb66f4741ca8d106af1917a2f1aab6e">ast_bridge_unlock</a></div><div class="ttdeci">#define ast_bridge_unlock(bridge)</div><div class="ttdoc">Unlock the bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00493">bridge.h:493</a></div></div>
<div class="ttc" id="bridge_8h_html_ab8ee807d2c3a21d19e16fedf35c90de8"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#ab8ee807d2c3a21d19e16fedf35c90de8">ast_bridge_lock</a></div><div class="ttdeci">#define ast_bridge_lock(bridge)</div><div class="ttdoc">Lock the bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00480">bridge.h:480</a></div></div>
<div class="ttc" id="structast__bridge__channel_html"><div class="ttname"><a href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a></div><div class="ttdoc">Structure that contains information regarding a channel in a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00084">bridge_channel.h:84</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="acf7de35a81822873b105c08e1c22826f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acf7de35a81822873b105c08e1c22826f">&#9670;&nbsp;</a></span>ast_bridge_transfer_acquire_bridge()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a>* ast_bridge_transfer_acquire_bridge </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Acquire the channel's bridge for transfer purposes. </p>
<dl class="section since"><dt>Since</dt><dd>13.21.0</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chan</td><td>Channel involved in a transfer.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The bridge the channel is in or NULL if it either isn't in a bridge or should not be considered to be in a bridge. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d0/d95/bridge_8c_source.html#l04460">4460</a> of file <a class="el" href="../../d0/d95/bridge_8c_source.html">bridge.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../dc/d7a/bridge__features_8h_source.html#l00057">AST_BRIDGE_FLAG_INVISIBLE</a>, <a class="el" href="../../dc/d7a/bridge__features_8h_source.html#l00051">AST_BRIDGE_FLAG_MASQUERADE_ONLY</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l10735">ast_channel_get_bridge()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02945">ast_channel_lock</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00063">ast_test_flag</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l00157">bridge_manager_request::bridge</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00377">ast_bridge::feature_flags</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/d95/bridge_8c_source.html#l04729">ast_bridge_transfer_attended()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l04477">ast_bridge_transfer_blind()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l25984">handle_invite_replaces()</a>, and <a class="el" href="../../d1/d75/res__pjsip__refer_8c_source.html#l00954">invite_replaces()</a>.</p>
<div class="fragment"><div class="line"><a name="l04461"></a><span class="lineno"> 4461</span>&#160;{</div><div class="line"><a name="l04462"></a><span class="lineno"> 4462</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *bridge;</div><div class="line"><a name="l04463"></a><span class="lineno"> 4463</span>&#160;</div><div class="line"><a name="l04464"></a><span class="lineno"> 4464</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(chan);</div><div class="line"><a name="l04465"></a><span class="lineno"> 4465</span>&#160;   bridge = <a class="code" href="../../d5/d7b/channel_8h.html#a557663006d52a9cdc11f42602bf48326">ast_channel_get_bridge</a>(chan);</div><div class="line"><a name="l04466"></a><span class="lineno"> 4466</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(chan);</div><div class="line"><a name="l04467"></a><span class="lineno"> 4467</span>&#160;</div><div class="line"><a name="l04468"></a><span class="lineno"> 4468</span>&#160;   <span class="keywordflow">if</span> (bridge &amp;&amp; <a class="code" href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a>(&amp;bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#af15c2e8b6df8ce0bf570af18aa890deb">feature_flags</a>,</div><div class="line"><a name="l04469"></a><span class="lineno"> 4469</span>&#160;         (<a class="code" href="../../dc/d7a/bridge__features_8h.html#a65c2644d2eadb31bcec0aaeb41cb3444aa4c16c3a1a317253eace111e15f40e6d">AST_BRIDGE_FLAG_MASQUERADE_ONLY</a> | <a class="code" href="../../dc/d7a/bridge__features_8h.html#a65c2644d2eadb31bcec0aaeb41cb3444af791f0352f324b81c3eb1adcedc31364">AST_BRIDGE_FLAG_INVISIBLE</a>))) {</div><div class="line"><a name="l04470"></a><span class="lineno"> 4470</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(bridge, -1);</div><div class="line"><a name="l04471"></a><span class="lineno"> 4471</span>&#160;      bridge = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l04472"></a><span class="lineno"> 4472</span>&#160;   }</div><div class="line"><a name="l04473"></a><span class="lineno"> 4473</span>&#160;</div><div class="line"><a name="l04474"></a><span class="lineno"> 4474</span>&#160;   <span class="keywordflow">return</span> bridge;</div><div class="line"><a name="l04475"></a><span class="lineno"> 4475</span>&#160;}</div><div class="ttc" id="channel_8h_html_a493bdebe876caafb8ee535853310364a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a></div><div class="ttdeci">#define ast_channel_lock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02945">channel.h:2945</a></div></div>
<div class="ttc" id="structast__bridge_html_af15c2e8b6df8ce0bf570af18aa890deb"><div class="ttname"><a href="../../d4/d84/structast__bridge.html#af15c2e8b6df8ce0bf570af18aa890deb">ast_bridge::feature_flags</a></div><div class="ttdeci">struct ast_flags feature_flags</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00377">bridge.h:377</a></div></div>
<div class="ttc" id="utils_8h_html_a00d4c9254c9827d6fa44f17a326744a5"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a></div><div class="ttdeci">#define ast_test_flag(p, flag)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00063">utils.h:63</a></div></div>
<div class="ttc" id="bridge__features_8h_html_a65c2644d2eadb31bcec0aaeb41cb3444af791f0352f324b81c3eb1adcedc31364"><div class="ttname"><a href="../../dc/d7a/bridge__features_8h.html#a65c2644d2eadb31bcec0aaeb41cb3444af791f0352f324b81c3eb1adcedc31364">AST_BRIDGE_FLAG_INVISIBLE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00057">bridge_features.h:57</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="channel_8h_html_a557663006d52a9cdc11f42602bf48326"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a557663006d52a9cdc11f42602bf48326">ast_channel_get_bridge</a></div><div class="ttdeci">struct ast_bridge * ast_channel_get_bridge(const struct ast_channel *chan)</div><div class="ttdoc">Get the bridge associated with a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l10735">channel.c:10735</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="bridge__features_8h_html_a65c2644d2eadb31bcec0aaeb41cb3444aa4c16c3a1a317253eace111e15f40e6d"><div class="ttname"><a href="../../dc/d7a/bridge__features_8h.html#a65c2644d2eadb31bcec0aaeb41cb3444aa4c16c3a1a317253eace111e15f40e6d">AST_BRIDGE_FLAG_MASQUERADE_ONLY</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00051">bridge_features.h:51</a></div></div>
<div class="ttc" id="structast__bridge_html"><div class="ttname"><a href="../../d4/d84/structast__bridge.html">ast_bridge</a></div><div class="ttdoc">Structure that contains information about a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00357">bridge.h:357</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aec45146e91e4d8bc2a7d2cf083c4dac0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aec45146e91e4d8bc2a7d2cf083c4dac0">&#9670;&nbsp;</a></span>ast_bridge_transfer_attended()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../d4/d56/bridge_8h.html#aadbf879fadde4b1bb7832b1390cc8c17">ast_transfer_result</a> ast_bridge_transfer_attended </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>to_transferee</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>to_transfer_target</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Attended transfer. </p>
<p>The two channels are both transferer channels. The first is the channel that is bridged to the transferee (or if unbridged, the 'first' call of the transfer). The second is the channel that is bridged to the transfer target (or if unbridged, the 'second' call of the transfer).</p>
<dl class="section note"><dt>Note</dt><dd>Absolutely <em>NO</em> channel locks should be held before calling this function.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">to_transferee</td><td>Transferer channel on initial call (presumably bridged to transferee) </td></tr>
    <tr><td class="paramname">to_transfer_target</td><td>Transferer channel on consultation call (presumably bridged to transfer target) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The success or failure of the attended transfer </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d0/d95/bridge_8c_source.html#l04729">4729</a> of file <a class="el" href="../../d0/d95/bridge_8c_source.html">bridge.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d7/d22/astobj2__container_8c_source.html#l00034">ao2_container_count()</a>, <a class="el" href="../../d0/db6/app__mysql_8c_source.html#l00062">app</a>, <a class="el" href="../../da/d0f/stasis__bridges_8c_source.html#l01313">ast_attended_transfer_message_add_app()</a>, <a class="el" href="../../da/d0f/stasis__bridges_8c_source.html#l01226">ast_attended_transfer_message_create()</a>, <a class="el" href="../../d3/d32/bridge__channel_8c_source.html#l01398">ast_bridge_channel_write_playfile()</a>, <a class="el" href="../../d3/d32/bridge__channel_8c_source.html#l01193">ast_bridge_channel_write_unhold()</a>, <a class="el" href="../../dc/d7a/bridge__features_8h_source.html#l00055">AST_BRIDGE_FLAG_TRANSFER_BRIDGE_ONLY</a>, <a class="el" href="../../dc/d7a/bridge__features_8h_source.html#l00053">AST_BRIDGE_FLAG_TRANSFER_PROHIBITED</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00480">ast_bridge_lock</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00500">ast_bridge_lock_both</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l04085">ast_bridge_peers_nolock()</a>, <a class="el" href="../../da/d0f/stasis__bridges_8c_source.html#l01346">ast_bridge_publish_attended_transfer()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l01997">ast_bridge_remove()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l04460">ast_bridge_transfer_acquire_bridge()</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l01123">AST_BRIDGE_TRANSFER_FAIL</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l01121">AST_BRIDGE_TRANSFER_INVALID</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l01119">AST_BRIDGE_TRANSFER_NOT_PERMITTED</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l01117">AST_BRIDGE_TRANSFER_SUCCESS</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00493">ast_bridge_unlock</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00317">ast_channel_appl()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l10783">ast_channel_get_bridge_channel()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02945">ast_channel_lock</a>, <a class="el" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l02476">ast_softhangup()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l01122">AST_SOFTHANGUP_DEV</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00300">ast_strdupa</a>, <a class="el" href="../../d6/d90/strings_8h_source.html#l00052">ast_strlen_zero</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00063">ast_test_flag</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l04280">attended_transfer_bridge()</a>, <a class="el" href="../../d3/d32/bridge__channel_8c_source.html#l03088">bridge_channel_internal_queue_attended_transfer()</a>, <a class="el" href="../../de/d52/codec__dahdi_8c.html#aea0622703055b62259903cdab213319b">channels</a>, <a class="el" href="../../dd/d7c/eagi__proxy_8c_source.html#l00073">end</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00377">ast_bridge::feature_flags</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l04241">get_transferee()</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l01091">lock</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d3/d8c/pbx__variables_8c_source.html#l01000">pbx_builtin_getvar_helper()</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00911">RAII_VAR</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00581">SCOPED_LOCK</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l04435">set_transfer_variables_all()</a>, and <a class="el" href="../../d0/d95/bridge_8c_source.html#l04663">two_bridge_attended_transfer()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/d09/sig__analog_8c_source.html#l00712">analog_attempt_transfer()</a>, <a class="el" href="../../db/dc4/test__cel_8c_source.html#l01240">AST_TEST_DEFINE()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l07145">attempt_transfer()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l27143">local_attended_transfer()</a>, <a class="el" href="../../d7/d9b/chan__misdn_8c_source.html#l08619">misdn_attempt_transfer()</a>, <a class="el" href="../../d1/d75/res__pjsip__refer_8c_source.html#l00553">refer_attended_task()</a>, and <a class="el" href="../../d0/d80/chan__skinny_8c_source.html#l05249">skinny_transfer_attended()</a>.</p>
<div class="fragment"><div class="line"><a name="l04731"></a><span class="lineno"> 4731</span>&#160;{</div><div class="line"><a name="l04732"></a><span class="lineno"> 4732</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *, to_transferee_bridge, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l04733"></a><span class="lineno"> 4733</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *, to_target_bridge, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l04734"></a><span class="lineno"> 4734</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *, to_transferee_bridge_channel, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l04735"></a><span class="lineno"> 4735</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *, to_target_bridge_channel, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l04736"></a><span class="lineno"> 4736</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d2/da9/structao2__container.html">ao2_container</a> *, <a class="code" href="../../de/d52/codec__dahdi_8c.html#aea0622703055b62259903cdab213319b">channels</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l04737"></a><span class="lineno"> 4737</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *, transferee, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l04738"></a><span class="lineno"> 4738</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../df/d6d/structast__attended__transfer__message.html">ast_attended_transfer_message</a> *, transfer_msg, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l04739"></a><span class="lineno"> 4739</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *the_bridge = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l04740"></a><span class="lineno"> 4740</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan_bridged;</div><div class="line"><a name="l04741"></a><span class="lineno"> 4741</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *chan_unbridged;</div><div class="line"><a name="l04742"></a><span class="lineno"> 4742</span>&#160;   <span class="keywordtype">int</span> transfer_prohibited;</div><div class="line"><a name="l04743"></a><span class="lineno"> 4743</span>&#160;   <span class="keywordtype">int</span> do_bridge_transfer;</div><div class="line"><a name="l04744"></a><span class="lineno"> 4744</span>&#160;   <span class="keyword">enum</span> <a class="code" href="../../d4/d56/bridge_8h.html#aadbf879fadde4b1bb7832b1390cc8c17">ast_transfer_result</a> res;</div><div class="line"><a name="l04745"></a><span class="lineno"> 4745</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d0/db6/app__mysql_8c.html#a1d9b1eccfc259a14525ce817482a3f88">app</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l04746"></a><span class="lineno"> 4746</span>&#160;   <span class="keywordtype">int</span> hangup_target = 0;</div><div class="line"><a name="l04747"></a><span class="lineno"> 4747</span>&#160;</div><div class="line"><a name="l04748"></a><span class="lineno"> 4748</span>&#160;   to_transferee_bridge = <a class="code" href="../../d0/d95/bridge_8c.html#acf7de35a81822873b105c08e1c22826f">ast_bridge_transfer_acquire_bridge</a>(to_transferee);</div><div class="line"><a name="l04749"></a><span class="lineno"> 4749</span>&#160;   to_target_bridge = <a class="code" href="../../d0/d95/bridge_8c.html#acf7de35a81822873b105c08e1c22826f">ast_bridge_transfer_acquire_bridge</a>(to_transfer_target);</div><div class="line"><a name="l04750"></a><span class="lineno"> 4750</span>&#160;</div><div class="line"><a name="l04751"></a><span class="lineno"> 4751</span>&#160;   transfer_msg = <a class="code" href="../../dc/d4e/stasis__bridges_8h.html#a5d80b41bade979c37596d850cfcf3e64">ast_attended_transfer_message_create</a>(1, to_transferee, to_transferee_bridge,</div><div class="line"><a name="l04752"></a><span class="lineno"> 4752</span>&#160;         to_transfer_target, to_target_bridge, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l04753"></a><span class="lineno"> 4753</span>&#160;   <span class="keywordflow">if</span> (!transfer_msg) {</div><div class="line"><a name="l04754"></a><span class="lineno"> 4754</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Unable to create Stasis publication for attended transfer from %s\n&quot;</span>,</div><div class="line"><a name="l04755"></a><span class="lineno"> 4755</span>&#160;            <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(to_transferee));</div><div class="line"><a name="l04756"></a><span class="lineno"> 4756</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d4/d56/bridge_8h.html#aadbf879fadde4b1bb7832b1390cc8c17aeebe667b42c8e7993a9f5f4c45e6da25">AST_BRIDGE_TRANSFER_FAIL</a>;</div><div class="line"><a name="l04757"></a><span class="lineno"> 4757</span>&#160;   }</div><div class="line"><a name="l04758"></a><span class="lineno"> 4758</span>&#160;</div><div class="line"><a name="l04759"></a><span class="lineno"> 4759</span>&#160;   <span class="comment">/* They can&#39;t both be unbridged, you silly goose! */</span></div><div class="line"><a name="l04760"></a><span class="lineno"> 4760</span>&#160;   <span class="keywordflow">if</span> (!to_transferee_bridge &amp;&amp; !to_target_bridge) {</div><div class="line"><a name="l04761"></a><span class="lineno"> 4761</span>&#160;      res = <a class="code" href="../../d4/d56/bridge_8h.html#aadbf879fadde4b1bb7832b1390cc8c17a93e2a5d4517067d0b9a0e39b0cdc5df8">AST_BRIDGE_TRANSFER_INVALID</a>;</div><div class="line"><a name="l04762"></a><span class="lineno"> 4762</span>&#160;      <span class="keywordflow">goto</span> <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#a8fd806ad19b8f5513a4cf18cbf77532c">end</a>;</div><div class="line"><a name="l04763"></a><span class="lineno"> 4763</span>&#160;   }</div><div class="line"><a name="l04764"></a><span class="lineno"> 4764</span>&#160;</div><div class="line"><a name="l04765"></a><span class="lineno"> 4765</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(to_transferee);</div><div class="line"><a name="l04766"></a><span class="lineno"> 4766</span>&#160;   to_transferee_bridge_channel = <a class="code" href="../../d5/d7b/channel_8h.html#a9b6409c38af733c46eead884d86dd284">ast_channel_get_bridge_channel</a>(to_transferee);</div><div class="line"><a name="l04767"></a><span class="lineno"> 4767</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(to_transferee);</div><div class="line"><a name="l04768"></a><span class="lineno"> 4768</span>&#160;</div><div class="line"><a name="l04769"></a><span class="lineno"> 4769</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(to_transfer_target);</div><div class="line"><a name="l04770"></a><span class="lineno"> 4770</span>&#160;   to_target_bridge_channel = <a class="code" href="../../d5/d7b/channel_8h.html#a9b6409c38af733c46eead884d86dd284">ast_channel_get_bridge_channel</a>(to_transfer_target);</div><div class="line"><a name="l04771"></a><span class="lineno"> 4771</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(to_transfer_target);</div><div class="line"><a name="l04772"></a><span class="lineno"> 4772</span>&#160;</div><div class="line"><a name="l04773"></a><span class="lineno"> 4773</span>&#160;   <span class="keywordflow">if</span> (to_transferee_bridge_channel) {</div><div class="line"><a name="l04774"></a><span class="lineno"> 4774</span>&#160;      <span class="comment">/* Take off hold if they are on hold. */</span></div><div class="line"><a name="l04775"></a><span class="lineno"> 4775</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../de/d41/bridge__channel_8h.html#a4be080559ea3fc87e50aa29a95af74f0">ast_bridge_channel_write_unhold</a>(to_transferee_bridge_channel)) {</div><div class="line"><a name="l04776"></a><span class="lineno"> 4776</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Transferee channel disappeared during transfer!\n&quot;</span>);</div><div class="line"><a name="l04777"></a><span class="lineno"> 4777</span>&#160;         res = <a class="code" href="../../d4/d56/bridge_8h.html#aadbf879fadde4b1bb7832b1390cc8c17aeebe667b42c8e7993a9f5f4c45e6da25">AST_BRIDGE_TRANSFER_FAIL</a>;</div><div class="line"><a name="l04778"></a><span class="lineno"> 4778</span>&#160;         <span class="keywordflow">goto</span> <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#a8fd806ad19b8f5513a4cf18cbf77532c">end</a>;</div><div class="line"><a name="l04779"></a><span class="lineno"> 4779</span>&#160;      }</div><div class="line"><a name="l04780"></a><span class="lineno"> 4780</span>&#160;   }</div><div class="line"><a name="l04781"></a><span class="lineno"> 4781</span>&#160;</div><div class="line"><a name="l04782"></a><span class="lineno"> 4782</span>&#160;   <span class="keywordflow">if</span> (to_target_bridge_channel) {</div><div class="line"><a name="l04783"></a><span class="lineno"> 4783</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">char</span> *target_complete_sound;</div><div class="line"><a name="l04784"></a><span class="lineno"> 4784</span>&#160;</div><div class="line"><a name="l04785"></a><span class="lineno"> 4785</span>&#160;      <span class="comment">/* Take off hold if they are on hold. */</span></div><div class="line"><a name="l04786"></a><span class="lineno"> 4786</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../de/d41/bridge__channel_8h.html#a4be080559ea3fc87e50aa29a95af74f0">ast_bridge_channel_write_unhold</a>(to_target_bridge_channel)) {</div><div class="line"><a name="l04787"></a><span class="lineno"> 4787</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Target channel disappeared during transfer!\n&quot;</span>);</div><div class="line"><a name="l04788"></a><span class="lineno"> 4788</span>&#160;         res = <a class="code" href="../../d4/d56/bridge_8h.html#aadbf879fadde4b1bb7832b1390cc8c17aeebe667b42c8e7993a9f5f4c45e6da25">AST_BRIDGE_TRANSFER_FAIL</a>;</div><div class="line"><a name="l04789"></a><span class="lineno"> 4789</span>&#160;         <span class="keywordflow">goto</span> <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#a8fd806ad19b8f5513a4cf18cbf77532c">end</a>;</div><div class="line"><a name="l04790"></a><span class="lineno"> 4790</span>&#160;      }</div><div class="line"><a name="l04791"></a><span class="lineno"> 4791</span>&#160;</div><div class="line"><a name="l04792"></a><span class="lineno"> 4792</span>&#160;      <span class="comment">/* Is there a courtesy sound to play to the target? */</span></div><div class="line"><a name="l04793"></a><span class="lineno"> 4793</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(to_transfer_target);</div><div class="line"><a name="l04794"></a><span class="lineno"> 4794</span>&#160;      target_complete_sound = <a class="code" href="../../db/de0/pbx_8h.html#a98c5425b90ec7c5e136a40f529170b1b">pbx_builtin_getvar_helper</a>(to_transfer_target,</div><div class="line"><a name="l04795"></a><span class="lineno"> 4795</span>&#160;         <span class="stringliteral">&quot;ATTENDED_TRANSFER_COMPLETE_SOUND&quot;</span>);</div><div class="line"><a name="l04796"></a><span class="lineno"> 4796</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(target_complete_sound)) {</div><div class="line"><a name="l04797"></a><span class="lineno"> 4797</span>&#160;         target_complete_sound = <a class="code" href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a>(target_complete_sound);</div><div class="line"><a name="l04798"></a><span class="lineno"> 4798</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l04799"></a><span class="lineno"> 4799</span>&#160;         target_complete_sound = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l04800"></a><span class="lineno"> 4800</span>&#160;      }</div><div class="line"><a name="l04801"></a><span class="lineno"> 4801</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(to_transfer_target);</div><div class="line"><a name="l04802"></a><span class="lineno"> 4802</span>&#160;      <span class="keywordflow">if</span> (!target_complete_sound) {</div><div class="line"><a name="l04803"></a><span class="lineno"> 4803</span>&#160;         <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(to_transferee);</div><div class="line"><a name="l04804"></a><span class="lineno"> 4804</span>&#160;         target_complete_sound = <a class="code" href="../../db/de0/pbx_8h.html#a98c5425b90ec7c5e136a40f529170b1b">pbx_builtin_getvar_helper</a>(to_transferee,</div><div class="line"><a name="l04805"></a><span class="lineno"> 4805</span>&#160;            <span class="stringliteral">&quot;ATTENDED_TRANSFER_COMPLETE_SOUND&quot;</span>);</div><div class="line"><a name="l04806"></a><span class="lineno"> 4806</span>&#160;         <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a>(target_complete_sound)) {</div><div class="line"><a name="l04807"></a><span class="lineno"> 4807</span>&#160;            target_complete_sound = <a class="code" href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a>(target_complete_sound);</div><div class="line"><a name="l04808"></a><span class="lineno"> 4808</span>&#160;         } <span class="keywordflow">else</span> {</div><div class="line"><a name="l04809"></a><span class="lineno"> 4809</span>&#160;            target_complete_sound = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l04810"></a><span class="lineno"> 4810</span>&#160;         }</div><div class="line"><a name="l04811"></a><span class="lineno"> 4811</span>&#160;         <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(to_transferee);</div><div class="line"><a name="l04812"></a><span class="lineno"> 4812</span>&#160;      }</div><div class="line"><a name="l04813"></a><span class="lineno"> 4813</span>&#160;      <span class="keywordflow">if</span> (target_complete_sound) {</div><div class="line"><a name="l04814"></a><span class="lineno"> 4814</span>&#160;         <a class="code" href="../../de/d41/bridge__channel_8h.html#ad30f159c66c054fd95a739c087a6c5e9">ast_bridge_channel_write_playfile</a>(to_target_bridge_channel, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div><div class="line"><a name="l04815"></a><span class="lineno"> 4815</span>&#160;            target_complete_sound, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l04816"></a><span class="lineno"> 4816</span>&#160;      }</div><div class="line"><a name="l04817"></a><span class="lineno"> 4817</span>&#160;   }</div><div class="line"><a name="l04818"></a><span class="lineno"> 4818</span>&#160;</div><div class="line"><a name="l04819"></a><span class="lineno"> 4819</span>&#160;   <span class="comment">/* Let&#39;s get the easy one out of the way first */</span></div><div class="line"><a name="l04820"></a><span class="lineno"> 4820</span>&#160;   <span class="keywordflow">if</span> (to_transferee_bridge &amp;&amp; to_target_bridge) {</div><div class="line"><a name="l04821"></a><span class="lineno"> 4821</span>&#160;</div><div class="line"><a name="l04822"></a><span class="lineno"> 4822</span>&#160;      <span class="keywordflow">if</span> (!to_transferee_bridge_channel || !to_target_bridge_channel) {</div><div class="line"><a name="l04823"></a><span class="lineno"> 4823</span>&#160;         res = <a class="code" href="../../d4/d56/bridge_8h.html#aadbf879fadde4b1bb7832b1390cc8c17a93e2a5d4517067d0b9a0e39b0cdc5df8">AST_BRIDGE_TRANSFER_INVALID</a>;</div><div class="line"><a name="l04824"></a><span class="lineno"> 4824</span>&#160;         <span class="keywordflow">goto</span> <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#a8fd806ad19b8f5513a4cf18cbf77532c">end</a>;</div><div class="line"><a name="l04825"></a><span class="lineno"> 4825</span>&#160;      }</div><div class="line"><a name="l04826"></a><span class="lineno"> 4826</span>&#160;</div><div class="line"><a name="l04827"></a><span class="lineno"> 4827</span>&#160;      <a class="code" href="../../d4/d56/bridge_8h.html#a04a2852f4166568323aa33cd3d0158c7">ast_bridge_lock_both</a>(to_transferee_bridge, to_target_bridge);</div><div class="line"><a name="l04828"></a><span class="lineno"> 4828</span>&#160;      res = <a class="code" href="../../d0/d95/bridge_8c.html#a1399f1aff31e752a96eb710a12bf0821">two_bridge_attended_transfer</a>(to_transferee, to_transferee_bridge_channel,</div><div class="line"><a name="l04829"></a><span class="lineno"> 4829</span>&#160;            to_transfer_target, to_target_bridge_channel,</div><div class="line"><a name="l04830"></a><span class="lineno"> 4830</span>&#160;            to_transferee_bridge, to_target_bridge, transfer_msg);</div><div class="line"><a name="l04831"></a><span class="lineno"> 4831</span>&#160;      <a class="code" href="../../d4/d56/bridge_8h.html#a0fb66f4741ca8d106af1917a2f1aab6e">ast_bridge_unlock</a>(to_transferee_bridge);</div><div class="line"><a name="l04832"></a><span class="lineno"> 4832</span>&#160;      <a class="code" href="../../d4/d56/bridge_8h.html#a0fb66f4741ca8d106af1917a2f1aab6e">ast_bridge_unlock</a>(to_target_bridge);</div><div class="line"><a name="l04833"></a><span class="lineno"> 4833</span>&#160;</div><div class="line"><a name="l04834"></a><span class="lineno"> 4834</span>&#160;      hangup_target = 1;</div><div class="line"><a name="l04835"></a><span class="lineno"> 4835</span>&#160;      <span class="keywordflow">goto</span> <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#a8fd806ad19b8f5513a4cf18cbf77532c">end</a>;</div><div class="line"><a name="l04836"></a><span class="lineno"> 4836</span>&#160;   }</div><div class="line"><a name="l04837"></a><span class="lineno"> 4837</span>&#160;</div><div class="line"><a name="l04838"></a><span class="lineno"> 4838</span>&#160;   the_bridge = to_transferee_bridge ?: to_target_bridge;</div><div class="line"><a name="l04839"></a><span class="lineno"> 4839</span>&#160;   chan_bridged = to_transferee_bridge ? to_transferee : to_transfer_target;</div><div class="line"><a name="l04840"></a><span class="lineno"> 4840</span>&#160;   chan_unbridged = to_transferee_bridge ? to_transfer_target : to_transferee;</div><div class="line"><a name="l04841"></a><span class="lineno"> 4841</span>&#160;</div><div class="line"><a name="l04842"></a><span class="lineno"> 4842</span>&#160;   <span class="comment">/*</span></div><div class="line"><a name="l04843"></a><span class="lineno"> 4843</span>&#160;<span class="comment">    * Race condition makes it possible for app to be NULL, so get the app prior to</span></div><div class="line"><a name="l04844"></a><span class="lineno"> 4844</span>&#160;<span class="comment">    * transferring with a fallback of &quot;unknown&quot;.</span></div><div class="line"><a name="l04845"></a><span class="lineno"> 4845</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l04846"></a><span class="lineno"> 4846</span>&#160;   app = <a class="code" href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a>(<a class="code" href="../../d5/d7b/channel_8h.html#ac8b850ff95f945ad6cfeb2942799800a">ast_channel_appl</a>(chan_unbridged) ?: <span class="stringliteral">&quot;unknown&quot;</span>);</div><div class="line"><a name="l04847"></a><span class="lineno"> 4847</span>&#160;</div><div class="line"><a name="l04848"></a><span class="lineno"> 4848</span>&#160;   {</div><div class="line"><a name="l04849"></a><span class="lineno"> 4849</span>&#160;      <span class="keywordtype">int</span> chan_count;</div><div class="line"><a name="l04850"></a><span class="lineno"> 4850</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a8b9d9f2f2c41ecf3c70587c2510dddfc">SCOPED_LOCK</a>(<a class="code" href="../../df/d44/app__meetme_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>, the_bridge, <a class="code" href="../../d4/d56/bridge_8h.html#ab8ee807d2c3a21d19e16fedf35c90de8">ast_bridge_lock</a>, <a class="code" href="../../d4/d56/bridge_8h.html#a0fb66f4741ca8d106af1917a2f1aab6e">ast_bridge_unlock</a>);</div><div class="line"><a name="l04851"></a><span class="lineno"> 4851</span>&#160;</div><div class="line"><a name="l04852"></a><span class="lineno"> 4852</span>&#160;      <a class="code" href="../../de/d52/codec__dahdi_8c.html#aea0622703055b62259903cdab213319b">channels</a> = <a class="code" href="../../d0/d95/bridge_8c.html#ad45098162b2df09235f632efb08a9681">ast_bridge_peers_nolock</a>(the_bridge);</div><div class="line"><a name="l04853"></a><span class="lineno"> 4853</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="../../de/d52/codec__dahdi_8c.html#aea0622703055b62259903cdab213319b">channels</a>) {</div><div class="line"><a name="l04854"></a><span class="lineno"> 4854</span>&#160;         res = <a class="code" href="../../d4/d56/bridge_8h.html#aadbf879fadde4b1bb7832b1390cc8c17aeebe667b42c8e7993a9f5f4c45e6da25">AST_BRIDGE_TRANSFER_FAIL</a>;</div><div class="line"><a name="l04855"></a><span class="lineno"> 4855</span>&#160;         <span class="keywordflow">goto</span> <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#a8fd806ad19b8f5513a4cf18cbf77532c">end</a>;</div><div class="line"><a name="l04856"></a><span class="lineno"> 4856</span>&#160;      }</div><div class="line"><a name="l04857"></a><span class="lineno"> 4857</span>&#160;      chan_count = <a class="code" href="../../d5/da5/astobj2_8h.html#a512cc40ce96c63b3d5c78040baa4c9cd">ao2_container_count</a>(<a class="code" href="../../de/d52/codec__dahdi_8c.html#aea0622703055b62259903cdab213319b">channels</a>);</div><div class="line"><a name="l04858"></a><span class="lineno"> 4858</span>&#160;      <span class="keywordflow">if</span> (chan_count &lt;= 1) {</div><div class="line"><a name="l04859"></a><span class="lineno"> 4859</span>&#160;         res = <a class="code" href="../../d4/d56/bridge_8h.html#aadbf879fadde4b1bb7832b1390cc8c17a93e2a5d4517067d0b9a0e39b0cdc5df8">AST_BRIDGE_TRANSFER_INVALID</a>;</div><div class="line"><a name="l04860"></a><span class="lineno"> 4860</span>&#160;         <span class="keywordflow">goto</span> <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#a8fd806ad19b8f5513a4cf18cbf77532c">end</a>;</div><div class="line"><a name="l04861"></a><span class="lineno"> 4861</span>&#160;      }</div><div class="line"><a name="l04862"></a><span class="lineno"> 4862</span>&#160;      transfer_prohibited = <a class="code" href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a>(&amp;the_bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#af15c2e8b6df8ce0bf570af18aa890deb">feature_flags</a>,</div><div class="line"><a name="l04863"></a><span class="lineno"> 4863</span>&#160;            <a class="code" href="../../dc/d7a/bridge__features_8h.html#a65c2644d2eadb31bcec0aaeb41cb3444a7a4b299b4cb4bf7c644235d708847fc3">AST_BRIDGE_FLAG_TRANSFER_PROHIBITED</a>);</div><div class="line"><a name="l04864"></a><span class="lineno"> 4864</span>&#160;      do_bridge_transfer = <a class="code" href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a>(&amp;the_bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#af15c2e8b6df8ce0bf570af18aa890deb">feature_flags</a>,</div><div class="line"><a name="l04865"></a><span class="lineno"> 4865</span>&#160;            <a class="code" href="../../dc/d7a/bridge__features_8h.html#a65c2644d2eadb31bcec0aaeb41cb3444a165a875b9d5bac3aba4ad54da1861ab3">AST_BRIDGE_FLAG_TRANSFER_BRIDGE_ONLY</a>) ||</div><div class="line"><a name="l04866"></a><span class="lineno"> 4866</span>&#160;            chan_count &gt; 2;</div><div class="line"><a name="l04867"></a><span class="lineno"> 4867</span>&#160;   }</div><div class="line"><a name="l04868"></a><span class="lineno"> 4868</span>&#160;</div><div class="line"><a name="l04869"></a><span class="lineno"> 4869</span>&#160;   <span class="keywordflow">if</span> (transfer_prohibited) {</div><div class="line"><a name="l04870"></a><span class="lineno"> 4870</span>&#160;      res = <a class="code" href="../../d4/d56/bridge_8h.html#aadbf879fadde4b1bb7832b1390cc8c17a10037a900428dbddb31e85e4481bb4da">AST_BRIDGE_TRANSFER_NOT_PERMITTED</a>;</div><div class="line"><a name="l04871"></a><span class="lineno"> 4871</span>&#160;      <span class="keywordflow">goto</span> <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#a8fd806ad19b8f5513a4cf18cbf77532c">end</a>;</div><div class="line"><a name="l04872"></a><span class="lineno"> 4872</span>&#160;   }</div><div class="line"><a name="l04873"></a><span class="lineno"> 4873</span>&#160;</div><div class="line"><a name="l04874"></a><span class="lineno"> 4874</span>&#160;   <a class="code" href="../../d0/d95/bridge_8c.html#a8e6a9f8aa899159ff355b1cc05d0a35b">set_transfer_variables_all</a>(to_transferee, <a class="code" href="../../de/d52/codec__dahdi_8c.html#aea0622703055b62259903cdab213319b">channels</a>, 1);</div><div class="line"><a name="l04875"></a><span class="lineno"> 4875</span>&#160;</div><div class="line"><a name="l04876"></a><span class="lineno"> 4876</span>&#160;   <span class="keywordflow">if</span> (do_bridge_transfer) {</div><div class="line"><a name="l04877"></a><span class="lineno"> 4877</span>&#160;      <span class="comment">/*</span></div><div class="line"><a name="l04878"></a><span class="lineno"> 4878</span>&#160;<span class="comment">       * Hang up the target if it was bridged. Note, if it is not bridged</span></div><div class="line"><a name="l04879"></a><span class="lineno"> 4879</span>&#160;<span class="comment">       * it is hung up during the masquerade.</span></div><div class="line"><a name="l04880"></a><span class="lineno"> 4880</span>&#160;<span class="comment">       */</span></div><div class="line"><a name="l04881"></a><span class="lineno"> 4881</span>&#160;      hangup_target = chan_bridged == to_transfer_target;</div><div class="line"><a name="l04882"></a><span class="lineno"> 4882</span>&#160;      <a class="code" href="../../d4/d56/bridge_8h.html#ab8ee807d2c3a21d19e16fedf35c90de8">ast_bridge_lock</a>(the_bridge);</div><div class="line"><a name="l04883"></a><span class="lineno"> 4883</span>&#160;      res = <a class="code" href="../../d0/d95/bridge_8c.html#a4e027120313f06bfe8aebc31e5ae5cae">attended_transfer_bridge</a>(chan_bridged, chan_unbridged, the_bridge, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, transfer_msg);</div><div class="line"><a name="l04884"></a><span class="lineno"> 4884</span>&#160;      <a class="code" href="../../d4/d56/bridge_8h.html#a0fb66f4741ca8d106af1917a2f1aab6e">ast_bridge_unlock</a>(the_bridge);</div><div class="line"><a name="l04885"></a><span class="lineno"> 4885</span>&#160;      <span class="keywordflow">goto</span> <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#a8fd806ad19b8f5513a4cf18cbf77532c">end</a>;</div><div class="line"><a name="l04886"></a><span class="lineno"> 4886</span>&#160;   }</div><div class="line"><a name="l04887"></a><span class="lineno"> 4887</span>&#160;</div><div class="line"><a name="l04888"></a><span class="lineno"> 4888</span>&#160;   transferee = <a class="code" href="../../d0/d95/bridge_8c.html#ad06dce4a79c1071d41110753c9f7468b">get_transferee</a>(<a class="code" href="../../de/d52/codec__dahdi_8c.html#aea0622703055b62259903cdab213319b">channels</a>, chan_bridged);</div><div class="line"><a name="l04889"></a><span class="lineno"> 4889</span>&#160;   <span class="keywordflow">if</span> (!transferee) {</div><div class="line"><a name="l04890"></a><span class="lineno"> 4890</span>&#160;      res = <a class="code" href="../../d4/d56/bridge_8h.html#aadbf879fadde4b1bb7832b1390cc8c17aeebe667b42c8e7993a9f5f4c45e6da25">AST_BRIDGE_TRANSFER_FAIL</a>;</div><div class="line"><a name="l04891"></a><span class="lineno"> 4891</span>&#160;      <span class="keywordflow">goto</span> <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#a8fd806ad19b8f5513a4cf18cbf77532c">end</a>;</div><div class="line"><a name="l04892"></a><span class="lineno"> 4892</span>&#160;   }</div><div class="line"><a name="l04893"></a><span class="lineno"> 4893</span>&#160;</div><div class="line"><a name="l04894"></a><span class="lineno"> 4894</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d9/dfc/bridge__channel__internal_8h.html#aa6955fc24cd777947bb8c97011c55de2">bridge_channel_internal_queue_attended_transfer</a>(transferee, chan_unbridged)) {</div><div class="line"><a name="l04895"></a><span class="lineno"> 4895</span>&#160;      res = <a class="code" href="../../d4/d56/bridge_8h.html#aadbf879fadde4b1bb7832b1390cc8c17aeebe667b42c8e7993a9f5f4c45e6da25">AST_BRIDGE_TRANSFER_FAIL</a>;</div><div class="line"><a name="l04896"></a><span class="lineno"> 4896</span>&#160;      <span class="keywordflow">goto</span> <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#a8fd806ad19b8f5513a4cf18cbf77532c">end</a>;</div><div class="line"><a name="l04897"></a><span class="lineno"> 4897</span>&#160;   }</div><div class="line"><a name="l04898"></a><span class="lineno"> 4898</span>&#160;</div><div class="line"><a name="l04899"></a><span class="lineno"> 4899</span>&#160;   <a class="code" href="../../d0/d95/bridge_8c.html#a66d6a521530f4fb208eb8ee33e257b6c">ast_bridge_remove</a>(the_bridge, chan_bridged);</div><div class="line"><a name="l04900"></a><span class="lineno"> 4900</span>&#160;</div><div class="line"><a name="l04901"></a><span class="lineno"> 4901</span>&#160;   <a class="code" href="../../dc/d4e/stasis__bridges_8h.html#a3ba70be1910dd4bebfc77dec29ffc43b">ast_attended_transfer_message_add_app</a>(transfer_msg, app, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l04902"></a><span class="lineno"> 4902</span>&#160;   res = <a class="code" href="../../d4/d56/bridge_8h.html#aadbf879fadde4b1bb7832b1390cc8c17a6b0053a1a47d100ef5f155f068c08934">AST_BRIDGE_TRANSFER_SUCCESS</a>;</div><div class="line"><a name="l04903"></a><span class="lineno"> 4903</span>&#160;</div><div class="line"><a name="l04904"></a><span class="lineno"> 4904</span>&#160;<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#a8fd806ad19b8f5513a4cf18cbf77532c">end</a>:</div><div class="line"><a name="l04905"></a><span class="lineno"> 4905</span>&#160;   <span class="keywordflow">if</span> ((res == <a class="code" href="../../d4/d56/bridge_8h.html#aadbf879fadde4b1bb7832b1390cc8c17a6b0053a1a47d100ef5f155f068c08934">AST_BRIDGE_TRANSFER_SUCCESS</a> &amp;&amp; hangup_target) || res == <a class="code" href="../../d4/d56/bridge_8h.html#aadbf879fadde4b1bb7832b1390cc8c17aeebe667b42c8e7993a9f5f4c45e6da25">AST_BRIDGE_TRANSFER_FAIL</a>) {</div><div class="line"><a name="l04906"></a><span class="lineno"> 4906</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#ac2d6607253f7e8b272d4e845474eaa9b">ast_softhangup</a>(to_transfer_target, <a class="code" href="../../d5/d7b/channel_8h.html#a9e9505a91a84992d04ba4e85217fb4e4a2e185ce313026e13ed90ae3a319c9cb7">AST_SOFTHANGUP_DEV</a>);</div><div class="line"><a name="l04907"></a><span class="lineno"> 4907</span>&#160;   }</div><div class="line"><a name="l04908"></a><span class="lineno"> 4908</span>&#160;</div><div class="line"><a name="l04909"></a><span class="lineno"> 4909</span>&#160;   transfer_msg-&gt;result = res;</div><div class="line"><a name="l04910"></a><span class="lineno"> 4910</span>&#160;   <a class="code" href="../../dc/d4e/stasis__bridges_8h.html#a1949ac2d3f4b2113242d981cc315b451">ast_bridge_publish_attended_transfer</a>(transfer_msg);</div><div class="line"><a name="l04911"></a><span class="lineno"> 4911</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l04912"></a><span class="lineno"> 4912</span>&#160;}</div><div class="ttc" id="channel_8h_html_a493bdebe876caafb8ee535853310364a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a></div><div class="ttdeci">#define ast_channel_lock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02945">channel.h:2945</a></div></div>
<div class="ttc" id="structast__channel_html"><div class="ttname"><a href="../../df/d3c/structast__channel.html">ast_channel</a></div><div class="ttdoc">Main Channel structure associated with a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00073">channel_internal_api.c:73</a></div></div>
<div class="ttc" id="bridge_8h_html_a04a2852f4166568323aa33cd3d0158c7"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a04a2852f4166568323aa33cd3d0158c7">ast_bridge_lock_both</a></div><div class="ttdeci">#define ast_bridge_lock_both(bridge1, bridge2)</div><div class="ttdoc">Lock two bridges. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00500">bridge.h:500</a></div></div>
<div class="ttc" id="structast__bridge_html_af15c2e8b6df8ce0bf570af18aa890deb"><div class="ttname"><a href="../../d4/d84/structast__bridge.html#af15c2e8b6df8ce0bf570af18aa890deb">ast_bridge::feature_flags</a></div><div class="ttdeci">struct ast_flags feature_flags</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00377">bridge.h:377</a></div></div>
<div class="ttc" id="bridge_8h_html_aadbf879fadde4b1bb7832b1390cc8c17a93e2a5d4517067d0b9a0e39b0cdc5df8"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#aadbf879fadde4b1bb7832b1390cc8c17a93e2a5d4517067d0b9a0e39b0cdc5df8">AST_BRIDGE_TRANSFER_INVALID</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l01121">bridge.h:1121</a></div></div>
<div class="ttc" id="astobj2_8h_html_a512cc40ce96c63b3d5c78040baa4c9cd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a512cc40ce96c63b3d5c78040baa4c9cd">ao2_container_count</a></div><div class="ttdeci">int ao2_container_count(struct ao2_container *c)</div><div class="ttdoc">Returns the number of elements in a container. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d22/astobj2__container_8c_source.html#l00034">astobj2_container.c:34</a></div></div>
<div class="ttc" id="bridge_8c_html_acf7de35a81822873b105c08e1c22826f"><div class="ttname"><a href="../../d0/d95/bridge_8c.html#acf7de35a81822873b105c08e1c22826f">ast_bridge_transfer_acquire_bridge</a></div><div class="ttdeci">struct ast_bridge * ast_bridge_transfer_acquire_bridge(struct ast_channel *chan)</div><div class="ttdoc">Acquire the channel&amp;#39;s bridge for transfer purposes. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l04460">bridge.c:4460</a></div></div>
<div class="ttc" id="structast__attended__transfer__message_html"><div class="ttname"><a href="../../df/d6d/structast__attended__transfer__message.html">ast_attended_transfer_message</a></div><div class="ttdoc">Message representing attended transfer. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d4e/stasis__bridges_8h_source.html#l00319">stasis_bridges.h:319</a></div></div>
<div class="ttc" id="utils_8h_html_a00d4c9254c9827d6fa44f17a326744a5"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a></div><div class="ttdeci">#define ast_test_flag(p, flag)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00063">utils.h:63</a></div></div>
<div class="ttc" id="stasis__bridges_8h_html_a1949ac2d3f4b2113242d981cc315b451"><div class="ttname"><a href="../../dc/d4e/stasis__bridges_8h.html#a1949ac2d3f4b2113242d981cc315b451">ast_bridge_publish_attended_transfer</a></div><div class="ttdeci">void ast_bridge_publish_attended_transfer(struct ast_attended_transfer_message *transfer_msg)</div><div class="ttdoc">Publish an attended transfer. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d0f/stasis__bridges_8c_source.html#l01346">stasis_bridges.c:1346</a></div></div>
<div class="ttc" id="stasis__bridges_8h_html_a3ba70be1910dd4bebfc77dec29ffc43b"><div class="ttname"><a href="../../dc/d4e/stasis__bridges_8h.html#a3ba70be1910dd4bebfc77dec29ffc43b">ast_attended_transfer_message_add_app</a></div><div class="ttdeci">int ast_attended_transfer_message_add_app(struct ast_attended_transfer_message *transfer_msg, const char *app, struct ast_channel *replace_channel)</div><div class="ttdoc">Add details for an attended transfer to an application. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d0f/stasis__bridges_8c_source.html#l01313">stasis_bridges.c:1313</a></div></div>
<div class="ttc" id="bridge_8c_html_a1399f1aff31e752a96eb710a12bf0821"><div class="ttname"><a href="../../d0/d95/bridge_8c.html#a1399f1aff31e752a96eb710a12bf0821">two_bridge_attended_transfer</a></div><div class="ttdeci">static enum ast_transfer_result two_bridge_attended_transfer(struct ast_channel *to_transferee, struct ast_bridge_channel *to_transferee_bridge_channel, struct ast_channel *to_transfer_target, struct ast_bridge_channel *to_target_bridge_channel, struct ast_bridge *to_transferee_bridge, struct ast_bridge *to_target_bridge, struct ast_attended_transfer_message *transfer_msg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l04663">bridge.c:4663</a></div></div>
<div class="ttc" id="bridge__features_8h_html_a65c2644d2eadb31bcec0aaeb41cb3444a165a875b9d5bac3aba4ad54da1861ab3"><div class="ttname"><a href="../../dc/d7a/bridge__features_8h.html#a65c2644d2eadb31bcec0aaeb41cb3444a165a875b9d5bac3aba4ad54da1861ab3">AST_BRIDGE_FLAG_TRANSFER_BRIDGE_ONLY</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00055">bridge_features.h:55</a></div></div>
<div class="ttc" id="channel_8h_html_a9e9505a91a84992d04ba4e85217fb4e4a2e185ce313026e13ed90ae3a319c9cb7"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a9e9505a91a84992d04ba4e85217fb4e4a2e185ce313026e13ed90ae3a319c9cb7">AST_SOFTHANGUP_DEV</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l01122">channel.h:1122</a></div></div>
<div class="ttc" id="bridge_8h_html_aadbf879fadde4b1bb7832b1390cc8c17a6b0053a1a47d100ef5f155f068c08934"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#aadbf879fadde4b1bb7832b1390cc8c17a6b0053a1a47d100ef5f155f068c08934">AST_BRIDGE_TRANSFER_SUCCESS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l01117">bridge.h:1117</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="eagi__proxy_8c_html_a8fd806ad19b8f5513a4cf18cbf77532c"><div class="ttname"><a href="../../dd/d7c/eagi__proxy_8c.html#a8fd806ad19b8f5513a4cf18cbf77532c">end</a></div><div class="ttdeci">char * end</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d7c/eagi__proxy_8c_source.html#l00073">eagi_proxy.c:73</a></div></div>
<div class="ttc" id="bridge_8h_html_aadbf879fadde4b1bb7832b1390cc8c17"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#aadbf879fadde4b1bb7832b1390cc8c17">ast_transfer_result</a></div><div class="ttdeci">ast_transfer_result</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l01115">bridge.h:1115</a></div></div>
<div class="ttc" id="bridge_8h_html_aadbf879fadde4b1bb7832b1390cc8c17aeebe667b42c8e7993a9f5f4c45e6da25"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#aadbf879fadde4b1bb7832b1390cc8c17aeebe667b42c8e7993a9f5f4c45e6da25">AST_BRIDGE_TRANSFER_FAIL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l01123">bridge.h:1123</a></div></div>
<div class="ttc" id="pbx_8h_html_a98c5425b90ec7c5e136a40f529170b1b"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a98c5425b90ec7c5e136a40f529170b1b">pbx_builtin_getvar_helper</a></div><div class="ttdeci">const char * pbx_builtin_getvar_helper(struct ast_channel *chan, const char *name)</div><div class="ttdoc">Return a pointer to the value of the corresponding channel variable. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d8c/pbx__variables_8c_source.html#l01000">pbx_variables.c:1000</a></div></div>
<div class="ttc" id="strings_8h_html_a372554b7a2d69a8bd3adac5157672036"><div class="ttname"><a href="../../d6/d90/strings_8h.html#a372554b7a2d69a8bd3adac5157672036">ast_strlen_zero</a></div><div class="ttdeci">#define ast_strlen_zero(foo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/strings_8h_source.html#l00052">strings.h:52</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="bridge_8c_html_a8e6a9f8aa899159ff355b1cc05d0a35b"><div class="ttname"><a href="../../d0/d95/bridge_8c.html#a8e6a9f8aa899159ff355b1cc05d0a35b">set_transfer_variables_all</a></div><div class="ttdeci">static void set_transfer_variables_all(struct ast_channel *transferer, struct ao2_container *channels, int is_attended)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l04435">bridge.c:4435</a></div></div>
<div class="ttc" id="utils_8h_html_a1604b4d72144dd3d9f7da668e90337e9"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a></div><div class="ttdeci">#define RAII_VAR(vartype, varname, initval, dtor)</div><div class="ttdoc">Declare a variable that will call a destructor function when it goes out of scope. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00911">utils.h:911</a></div></div>
<div class="ttc" id="app__meetme_8c_html_adf04f66344e3fb0a6f6a69bf39d19902"><div class="ttname"><a href="../../df/d44/app__meetme_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a></div><div class="ttdeci">ast_mutex_t lock</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d44/app__meetme_8c_source.html#l01091">app_meetme.c:1091</a></div></div>
<div class="ttc" id="channel_8h_html_ac2d6607253f7e8b272d4e845474eaa9b"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#ac2d6607253f7e8b272d4e845474eaa9b">ast_softhangup</a></div><div class="ttdeci">int ast_softhangup(struct ast_channel *chan, int reason)</div><div class="ttdoc">Softly hangup up a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l02476">channel.c:2476</a></div></div>
<div class="ttc" id="bridge__features_8h_html_a65c2644d2eadb31bcec0aaeb41cb3444a7a4b299b4cb4bf7c644235d708847fc3"><div class="ttname"><a href="../../dc/d7a/bridge__features_8h.html#a65c2644d2eadb31bcec0aaeb41cb3444a7a4b299b4cb4bf7c644235d708847fc3">AST_BRIDGE_FLAG_TRANSFER_PROHIBITED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00053">bridge_features.h:53</a></div></div>
<div class="ttc" id="astmm_8h_html_ab5f0750cc80ba337fdcbddea2d3a1ee6"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ab5f0750cc80ba337fdcbddea2d3a1ee6">ast_strdupa</a></div><div class="ttdeci">#define ast_strdupa(s)</div><div class="ttdoc">duplicate a string in memory from the stack </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00300">astmm.h:300</a></div></div>
<div class="ttc" id="lock_8h_html_a8b9d9f2f2c41ecf3c70587c2510dddfc"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a8b9d9f2f2c41ecf3c70587c2510dddfc">SCOPED_LOCK</a></div><div class="ttdeci">#define SCOPED_LOCK(varname, lock, lockfunc, unlockfunc)</div><div class="ttdoc">Scoped Locks. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00581">lock.h:581</a></div></div>
<div class="ttc" id="codec__dahdi_8c_html_aea0622703055b62259903cdab213319b"><div class="ttname"><a href="../../de/d52/codec__dahdi_8c.html#aea0622703055b62259903cdab213319b">channels</a></div><div class="ttdeci">static struct channel_usage channels</div></div>
<div class="ttc" id="bridge_8c_html_a4e027120313f06bfe8aebc31e5ae5cae"><div class="ttname"><a href="../../d0/d95/bridge_8c.html#a4e027120313f06bfe8aebc31e5ae5cae">attended_transfer_bridge</a></div><div class="ttdeci">static enum ast_transfer_result attended_transfer_bridge(struct ast_channel *chan1, struct ast_channel *chan2, struct ast_bridge *bridge1, struct ast_bridge *bridge2, struct ast_attended_transfer_message *transfer_msg)</div><div class="ttdoc">Perform an attended transfer of a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l04280">bridge.c:4280</a></div></div>
<div class="ttc" id="structast__bridge_html"><div class="ttname"><a href="../../d4/d84/structast__bridge.html">ast_bridge</a></div><div class="ttdoc">Structure that contains information about a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00357">bridge.h:357</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="bridge__channel_8h_html_ad30f159c66c054fd95a739c087a6c5e9"><div class="ttname"><a href="../../de/d41/bridge__channel_8h.html#ad30f159c66c054fd95a739c087a6c5e9">ast_bridge_channel_write_playfile</a></div><div class="ttdeci">int ast_bridge_channel_write_playfile(struct ast_bridge_channel *bridge_channel, ast_bridge_custom_play_fn custom_play, const char *playfile, const char *moh_class)</div><div class="ttdoc">Write a bridge action play file frame into the bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d32/bridge__channel_8c_source.html#l01398">bridge_channel.c:1398</a></div></div>
<div class="ttc" id="channel_8h_html_ac8b850ff95f945ad6cfeb2942799800a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#ac8b850ff95f945ad6cfeb2942799800a">ast_channel_appl</a></div><div class="ttdeci">const char * ast_channel_appl(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00317">channel_internal_api.c:317</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="bridge_8h_html_a0fb66f4741ca8d106af1917a2f1aab6e"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a0fb66f4741ca8d106af1917a2f1aab6e">ast_bridge_unlock</a></div><div class="ttdeci">#define ast_bridge_unlock(bridge)</div><div class="ttdoc">Unlock the bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00493">bridge.h:493</a></div></div>
<div class="ttc" id="bridge_8c_html_ad45098162b2df09235f632efb08a9681"><div class="ttname"><a href="../../d0/d95/bridge_8c.html#ad45098162b2df09235f632efb08a9681">ast_bridge_peers_nolock</a></div><div class="ttdeci">struct ao2_container * ast_bridge_peers_nolock(struct ast_bridge *bridge)</div><div class="ttdoc">Get a container of all channels in the bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l04085">bridge.c:4085</a></div></div>
<div class="ttc" id="channel_8h_html_a9b6409c38af733c46eead884d86dd284"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a9b6409c38af733c46eead884d86dd284">ast_channel_get_bridge_channel</a></div><div class="ttdeci">struct ast_bridge_channel * ast_channel_get_bridge_channel(struct ast_channel *chan)</div><div class="ttdoc">Get a reference to the channel&amp;#39;s bridge pointer. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l10783">channel.c:10783</a></div></div>
<div class="ttc" id="bridge_8h_html_ab8ee807d2c3a21d19e16fedf35c90de8"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#ab8ee807d2c3a21d19e16fedf35c90de8">ast_bridge_lock</a></div><div class="ttdeci">#define ast_bridge_lock(bridge)</div><div class="ttdoc">Lock the bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00480">bridge.h:480</a></div></div>
<div class="ttc" id="structast__bridge__channel_html"><div class="ttname"><a href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a></div><div class="ttdoc">Structure that contains information regarding a channel in a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00084">bridge_channel.h:84</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="channel_8h_html_a7ca2fda13b129a55c251b56729de285b"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a></div><div class="ttdeci">const char * ast_channel_name(const struct ast_channel *chan)</div></div>
<div class="ttc" id="bridge_8c_html_ad06dce4a79c1071d41110753c9f7468b"><div class="ttname"><a href="../../d0/d95/bridge_8c.html#ad06dce4a79c1071d41110753c9f7468b">get_transferee</a></div><div class="ttdeci">static struct ast_channel * get_transferee(struct ao2_container *channels, struct ast_channel *transferer)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l04241">bridge.c:4241</a></div></div>
<div class="ttc" id="bridge__channel__internal_8h_html_aa6955fc24cd777947bb8c97011c55de2"><div class="ttname"><a href="../../d9/dfc/bridge__channel__internal_8h.html#aa6955fc24cd777947bb8c97011c55de2">bridge_channel_internal_queue_attended_transfer</a></div><div class="ttdeci">int bridge_channel_internal_queue_attended_transfer(struct ast_channel *transferee, struct ast_channel *unbridged_chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d32/bridge__channel_8c_source.html#l03088">bridge_channel.c:3088</a></div></div>
<div class="ttc" id="structao2__container_html"><div class="ttname"><a href="../../d2/da9/structao2__container.html">ao2_container</a></div><div class="ttdoc">Generic container type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d20/astobj2__container__private_8h_source.html#l00282">astobj2_container_private.h:282</a></div></div>
<div class="ttc" id="bridge_8c_html_a66d6a521530f4fb208eb8ee33e257b6c"><div class="ttname"><a href="../../d0/d95/bridge_8c.html#a66d6a521530f4fb208eb8ee33e257b6c">ast_bridge_remove</a></div><div class="ttdeci">int ast_bridge_remove(struct ast_bridge *bridge, struct ast_channel *chan)</div><div class="ttdoc">Remove a channel from a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l01997">bridge.c:1997</a></div></div>
<div class="ttc" id="bridge__channel_8h_html_a4be080559ea3fc87e50aa29a95af74f0"><div class="ttname"><a href="../../de/d41/bridge__channel_8h.html#a4be080559ea3fc87e50aa29a95af74f0">ast_bridge_channel_write_unhold</a></div><div class="ttdeci">int ast_bridge_channel_write_unhold(struct ast_bridge_channel *bridge_channel)</div><div class="ttdoc">Write an unhold frame into the bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d32/bridge__channel_8c_source.html#l01193">bridge_channel.c:1193</a></div></div>
<div class="ttc" id="stasis__bridges_8h_html_a5d80b41bade979c37596d850cfcf3e64"><div class="ttname"><a href="../../dc/d4e/stasis__bridges_8h.html#a5d80b41bade979c37596d850cfcf3e64">ast_attended_transfer_message_create</a></div><div class="ttdeci">struct ast_attended_transfer_message * ast_attended_transfer_message_create(int is_external, struct ast_channel *to_transferee, struct ast_bridge *transferee_bridge, struct ast_channel *to_transfer_target, struct ast_bridge *target_bridge, struct ast_channel *transferee, struct ast_channel *transfer_target)</div><div class="ttdoc">Create an Attended transfer message to be published. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d0f/stasis__bridges_8c_source.html#l01226">stasis_bridges.c:1226</a></div></div>
<div class="ttc" id="app__mysql_8c_html_a1d9b1eccfc259a14525ce817482a3f88"><div class="ttname"><a href="../../d0/db6/app__mysql_8c.html#a1d9b1eccfc259a14525ce817482a3f88">app</a></div><div class="ttdeci">static const char app[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/db6/app__mysql_8c_source.html#l00062">app_mysql.c:62</a></div></div>
<div class="ttc" id="bridge_8h_html_aadbf879fadde4b1bb7832b1390cc8c17a10037a900428dbddb31e85e4481bb4da"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#aadbf879fadde4b1bb7832b1390cc8c17a10037a900428dbddb31e85e4481bb4da">AST_BRIDGE_TRANSFER_NOT_PERMITTED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l01119">bridge.h:1119</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a982e0e652b9f03abf1ec584c137791a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a982e0e652b9f03abf1ec584c137791a3">&#9670;&nbsp;</a></span>ast_bridge_transfer_blind()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../d4/d56/bridge_8h.html#aadbf879fadde4b1bb7832b1390cc8c17">ast_transfer_result</a> ast_bridge_transfer_blind </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>is_external</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>transferer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>exten</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/d56/bridge_8h.html#a87ed18cc739a9635c4595cae783ab993">transfer_channel_cb</a>&#160;</td>
          <td class="paramname"><em>new_channel_cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>user_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Blind transfer target to the extension and context provided. </p>
<p>The channel given is bridged to one or multiple channels. Depending on the bridge and the number of participants, the entire bridge could be transferred to the given destination, or a single channel may be redirected.</p>
<p>Callers may also provide a callback to be called on the channel that will be running dialplan. The user data passed into ast_bridge_transfer_blind will be given as the argument to the callback to be interpreted as desired. This callback is guaranteed to be called in the same thread as <a class="el" href="../../d4/d56/bridge_8h.html#a982e0e652b9f03abf1ec584c137791a3" title="Blind transfer target to the extension and context provided. ">ast_bridge_transfer_blind()</a> and before <a class="el" href="../../d4/d56/bridge_8h.html#a982e0e652b9f03abf1ec584c137791a3" title="Blind transfer target to the extension and context provided. ">ast_bridge_transfer_blind()</a> returns.</p>
<dl class="section note"><dt>Note</dt><dd>Absolutely <em>NO</em> channel locks should be held before calling this function.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">is_external</td><td>Indicates that transfer was initiated externally </td></tr>
    <tr><td class="paramname">transferer</td><td>The channel performing the blind transfer </td></tr>
    <tr><td class="paramname">exten</td><td>The dialplan extension to send the call to </td></tr>
    <tr><td class="paramname">context</td><td>The dialplan context to send the call to </td></tr>
    <tr><td class="paramname">new_channel_cb</td><td>A callback to be called on the channel that will be executing dialplan </td></tr>
    <tr><td class="paramname">user_data</td><td>Argument for new_channel_cb </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The success or failure result of the blind transfer </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d0/d95/bridge_8c_source.html#l04477">4477</a> of file <a class="el" href="../../d0/d95/bridge_8c_source.html">bridge.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00411">ao2_alloc</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d7/d22/astobj2__container_8c_source.html#l00034">ao2_container_count()</a>, <a class="el" href="../../da/d0f/stasis__bridges_8c_source.html#l00929">ast_blind_transfer_message_create()</a>, <a class="el" href="../../d3/d32/bridge__channel_8c_source.html#l01193">ast_bridge_channel_write_unhold()</a>, <a class="el" href="../../dc/d7a/bridge__features_8h_source.html#l00055">AST_BRIDGE_FLAG_TRANSFER_BRIDGE_ONLY</a>, <a class="el" href="../../dc/d7a/bridge__features_8h_source.html#l00053">AST_BRIDGE_FLAG_TRANSFER_PROHIBITED</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00480">ast_bridge_lock</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l04142">ast_bridge_peer()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l04085">ast_bridge_peers_nolock()</a>, <a class="el" href="../../da/d0f/stasis__bridges_8c_source.html#l00953">ast_bridge_publish_blind_transfer()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l01997">ast_bridge_remove()</a>, <a class="el" href="../../da/d0f/stasis__bridges_8c_source.html#l00202">ast_bridge_snapshot_create()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l04460">ast_bridge_transfer_acquire_bridge()</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l01123">AST_BRIDGE_TRANSFER_FAIL</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l01121">AST_BRIDGE_TRANSFER_INVALID</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l01119">AST_BRIDGE_TRANSFER_NOT_PERMITTED</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l01117">AST_BRIDGE_TRANSFER_SUCCESS</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00493">ast_bridge_unlock</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02992">ast_channel_cleanup</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l10783">ast_channel_get_bridge_channel()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02945">ast_channel_lock</a>, <a class="el" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name()</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l00903">ast_channel_snapshot_get_latest()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00305">ast_channel_uniqueid()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00063">ast_test_flag</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l04178">blind_transfer_bridge()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l00157">bridge_manager_request::bridge</a>, <a class="el" href="../../d3/d32/bridge__channel_8c_source.html#l03062">bridge_channel_internal_queue_blind_transfer()</a>, <a class="el" href="../../de/d52/codec__dahdi_8c.html#aea0622703055b62259903cdab213319b">channels</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00377">ast_bridge::feature_flags</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l01091">lock</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d1/da4/res__corosync_8c_source.html#l00241">publish</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00911">RAII_VAR</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00581">SCOPED_LOCK</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l04435">set_transfer_variables_all()</a>, and <a class="el" href="../../d0/d95/bridge_8c_source.html#l04378">try_parking()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d10/manager_8c_source.html#l05118">action_blind_transfer()</a>, <a class="el" href="../../d7/d7c/app__blind__transfer_8c_source.html#l00081">blind_transfer_exec()</a>, <a class="el" href="../../d3/dac/chan__oss_8c_source.html#l01178">console_transfer()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l03472">feature_blind_transfer()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l27324">handle_request_refer()</a>, <a class="el" href="../../d1/d75/res__pjsip__refer_8c_source.html#l00789">refer_incoming_attended_request()</a>, <a class="el" href="../../d1/d75/res__pjsip__refer_8c_source.html#l00886">refer_incoming_blind_request()</a>, <a class="el" href="../../d0/d80/chan__skinny_8c_source.html#l05277">skinny_transfer_blind()</a>, and <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l10083">socket_process_helper()</a>.</p>
<div class="fragment"><div class="line"><a name="l04480"></a><span class="lineno"> 4480</span>&#160;{</div><div class="line"><a name="l04481"></a><span class="lineno"> 4481</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *, bridge, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l04482"></a><span class="lineno"> 4482</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *, bridge_channel, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l04483"></a><span class="lineno"> 4483</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d2/da9/structao2__container.html">ao2_container</a> *, <a class="code" href="../../de/d52/codec__dahdi_8c.html#aea0622703055b62259903cdab213319b">channels</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l04484"></a><span class="lineno"> 4484</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../df/d3c/structast__channel.html">ast_channel</a> *, transferee, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d5/d7b/channel_8h.html#ae93ebb3372a2d9495ae3c5417dd95cd5">ast_channel_cleanup</a>);</div><div class="line"><a name="l04485"></a><span class="lineno"> 4485</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../da/d84/structtransfer__channel__data.html">transfer_channel_data</a> *, user_data_wrapper, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l04486"></a><span class="lineno"> 4486</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d1/dbf/structast__blind__transfer__message.html">ast_blind_transfer_message</a> *, transfer_message, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l04487"></a><span class="lineno"> 4487</span>&#160;   <span class="keywordtype">int</span> do_bridge_transfer;</div><div class="line"><a name="l04488"></a><span class="lineno"> 4488</span>&#160;   <span class="keywordtype">int</span> transfer_prohibited;</div><div class="line"><a name="l04489"></a><span class="lineno"> 4489</span>&#160;   <span class="keyword">enum</span> <a class="code" href="../../d4/d56/bridge_8h.html#aadbf879fadde4b1bb7832b1390cc8c17">ast_transfer_result</a> transfer_result;</div><div class="line"><a name="l04490"></a><span class="lineno"> 4490</span>&#160;</div><div class="line"><a name="l04491"></a><span class="lineno"> 4491</span>&#160;   transfer_message = <a class="code" href="../../dc/d4e/stasis__bridges_8h.html#a20c565f2b4f6dd680b2fa04f8d74f3c4">ast_blind_transfer_message_create</a>(is_external, transferer, <a class="code" href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>, <a class="code" href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a>);</div><div class="line"><a name="l04492"></a><span class="lineno"> 4492</span>&#160;   <span class="keywordflow">if</span> (!transfer_message) {</div><div class="line"><a name="l04493"></a><span class="lineno"> 4493</span>&#160;      <span class="comment">/* Out of memory. Not even possible to publish a Stasis message about the</span></div><div class="line"><a name="l04494"></a><span class="lineno"> 4494</span>&#160;<span class="comment">       * failure</span></div><div class="line"><a name="l04495"></a><span class="lineno"> 4495</span>&#160;<span class="comment">       */</span></div><div class="line"><a name="l04496"></a><span class="lineno"> 4496</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Unable to allocate memory for blind transfer publication from %s\n&quot;</span>,</div><div class="line"><a name="l04497"></a><span class="lineno"> 4497</span>&#160;            <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(transferer));</div><div class="line"><a name="l04498"></a><span class="lineno"> 4498</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d4/d56/bridge_8h.html#aadbf879fadde4b1bb7832b1390cc8c17aeebe667b42c8e7993a9f5f4c45e6da25">AST_BRIDGE_TRANSFER_FAIL</a>;</div><div class="line"><a name="l04499"></a><span class="lineno"> 4499</span>&#160;   }</div><div class="line"><a name="l04500"></a><span class="lineno"> 4500</span>&#160;</div><div class="line"><a name="l04501"></a><span class="lineno"> 4501</span>&#160;   bridge = <a class="code" href="../../d0/d95/bridge_8c.html#acf7de35a81822873b105c08e1c22826f">ast_bridge_transfer_acquire_bridge</a>(transferer);</div><div class="line"><a name="l04502"></a><span class="lineno"> 4502</span>&#160;   <span class="keywordflow">if</span> (!bridge) {</div><div class="line"><a name="l04503"></a><span class="lineno"> 4503</span>&#160;      transfer_result = <a class="code" href="../../d4/d56/bridge_8h.html#aadbf879fadde4b1bb7832b1390cc8c17a93e2a5d4517067d0b9a0e39b0cdc5df8">AST_BRIDGE_TRANSFER_INVALID</a>;</div><div class="line"><a name="l04504"></a><span class="lineno"> 4504</span>&#160;      <span class="keywordflow">goto</span> <a class="code" href="../../d1/da4/res__corosync_8c.html#aa4002959b64099e84d20e09e38c2e51e">publish</a>;</div><div class="line"><a name="l04505"></a><span class="lineno"> 4505</span>&#160;   }</div><div class="line"><a name="l04506"></a><span class="lineno"> 4506</span>&#160;</div><div class="line"><a name="l04507"></a><span class="lineno"> 4507</span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#ab8ee807d2c3a21d19e16fedf35c90de8">ast_bridge_lock</a>(bridge);</div><div class="line"><a name="l04508"></a><span class="lineno"> 4508</span>&#160;   transfer_message-&gt;bridge = <a class="code" href="../../dc/d4e/stasis__bridges_8h.html#a95241898553c1d42ea46964b277433ad">ast_bridge_snapshot_create</a>(bridge);</div><div class="line"><a name="l04509"></a><span class="lineno"> 4509</span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#a0fb66f4741ca8d106af1917a2f1aab6e">ast_bridge_unlock</a>(bridge);</div><div class="line"><a name="l04510"></a><span class="lineno"> 4510</span>&#160;   <span class="keywordflow">if</span> (!transfer_message-&gt;bridge) {</div><div class="line"><a name="l04511"></a><span class="lineno"> 4511</span>&#160;      transfer_result = <a class="code" href="../../d4/d56/bridge_8h.html#aadbf879fadde4b1bb7832b1390cc8c17aeebe667b42c8e7993a9f5f4c45e6da25">AST_BRIDGE_TRANSFER_FAIL</a>;</div><div class="line"><a name="l04512"></a><span class="lineno"> 4512</span>&#160;      <span class="keywordflow">goto</span> <a class="code" href="../../d1/da4/res__corosync_8c.html#aa4002959b64099e84d20e09e38c2e51e">publish</a>;</div><div class="line"><a name="l04513"></a><span class="lineno"> 4513</span>&#160;   }</div><div class="line"><a name="l04514"></a><span class="lineno"> 4514</span>&#160;</div><div class="line"><a name="l04515"></a><span class="lineno"> 4515</span>&#160;   transferee = <a class="code" href="../../d0/d95/bridge_8c.html#a08a41371fb4f020d645a0e6f50434005">ast_bridge_peer</a>(bridge, transferer);</div><div class="line"><a name="l04516"></a><span class="lineno"> 4516</span>&#160;   <span class="keywordflow">if</span> (transferee) {</div><div class="line"><a name="l04517"></a><span class="lineno"> 4517</span>&#160;      transfer_message-&gt;transferee = <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#ga68c55b443ba97dc157b493aafd05c876">ast_channel_snapshot_get_latest</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a3b6254f6d3832ef928f0a727113b1c63">ast_channel_uniqueid</a>(transferee));</div><div class="line"><a name="l04518"></a><span class="lineno"> 4518</span>&#160;      <span class="keywordflow">if</span> (!transfer_message-&gt;transferee) {</div><div class="line"><a name="l04519"></a><span class="lineno"> 4519</span>&#160;         transfer_result = <a class="code" href="../../d4/d56/bridge_8h.html#aadbf879fadde4b1bb7832b1390cc8c17aeebe667b42c8e7993a9f5f4c45e6da25">AST_BRIDGE_TRANSFER_FAIL</a>;</div><div class="line"><a name="l04520"></a><span class="lineno"> 4520</span>&#160;         <span class="keywordflow">goto</span> <a class="code" href="../../d1/da4/res__corosync_8c.html#aa4002959b64099e84d20e09e38c2e51e">publish</a>;</div><div class="line"><a name="l04521"></a><span class="lineno"> 4521</span>&#160;      }</div><div class="line"><a name="l04522"></a><span class="lineno"> 4522</span>&#160;   }</div><div class="line"><a name="l04523"></a><span class="lineno"> 4523</span>&#160;</div><div class="line"><a name="l04524"></a><span class="lineno"> 4524</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a>(transferer);</div><div class="line"><a name="l04525"></a><span class="lineno"> 4525</span>&#160;   bridge_channel = <a class="code" href="../../d5/d7b/channel_8h.html#a9b6409c38af733c46eead884d86dd284">ast_channel_get_bridge_channel</a>(transferer);</div><div class="line"><a name="l04526"></a><span class="lineno"> 4526</span>&#160;   <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(transferer);</div><div class="line"><a name="l04527"></a><span class="lineno"> 4527</span>&#160;   <span class="keywordflow">if</span> (!bridge_channel) {</div><div class="line"><a name="l04528"></a><span class="lineno"> 4528</span>&#160;      transfer_result = <a class="code" href="../../d4/d56/bridge_8h.html#aadbf879fadde4b1bb7832b1390cc8c17a93e2a5d4517067d0b9a0e39b0cdc5df8">AST_BRIDGE_TRANSFER_INVALID</a>;</div><div class="line"><a name="l04529"></a><span class="lineno"> 4529</span>&#160;      <span class="keywordflow">goto</span> <a class="code" href="../../d1/da4/res__corosync_8c.html#aa4002959b64099e84d20e09e38c2e51e">publish</a>;</div><div class="line"><a name="l04530"></a><span class="lineno"> 4530</span>&#160;   }</div><div class="line"><a name="l04531"></a><span class="lineno"> 4531</span>&#160;</div><div class="line"><a name="l04532"></a><span class="lineno"> 4532</span>&#160;   user_data_wrapper = <a class="code" href="../../d5/da5/astobj2_8h.html#ae0422b60d8e25b6962b2d61ae4ddf724">ao2_alloc</a>(<span class="keyword">sizeof</span>(*user_data_wrapper), <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l04533"></a><span class="lineno"> 4533</span>&#160;   <span class="keywordflow">if</span> (!user_data_wrapper) {</div><div class="line"><a name="l04534"></a><span class="lineno"> 4534</span>&#160;      transfer_result = <a class="code" href="../../d4/d56/bridge_8h.html#aadbf879fadde4b1bb7832b1390cc8c17aeebe667b42c8e7993a9f5f4c45e6da25">AST_BRIDGE_TRANSFER_FAIL</a>;</div><div class="line"><a name="l04535"></a><span class="lineno"> 4535</span>&#160;      <span class="keywordflow">goto</span> <a class="code" href="../../d1/da4/res__corosync_8c.html#aa4002959b64099e84d20e09e38c2e51e">publish</a>;</div><div class="line"><a name="l04536"></a><span class="lineno"> 4536</span>&#160;   }</div><div class="line"><a name="l04537"></a><span class="lineno"> 4537</span>&#160;</div><div class="line"><a name="l04538"></a><span class="lineno"> 4538</span>&#160;   user_data_wrapper-&gt;data = user_data;</div><div class="line"><a name="l04539"></a><span class="lineno"> 4539</span>&#160;</div><div class="line"><a name="l04540"></a><span class="lineno"> 4540</span>&#160;   <span class="comment">/* Take off hold if they are on hold. */</span></div><div class="line"><a name="l04541"></a><span class="lineno"> 4541</span>&#160;   <a class="code" href="../../de/d41/bridge__channel_8h.html#a4be080559ea3fc87e50aa29a95af74f0">ast_bridge_channel_write_unhold</a>(bridge_channel);</div><div class="line"><a name="l04542"></a><span class="lineno"> 4542</span>&#160;</div><div class="line"><a name="l04543"></a><span class="lineno"> 4543</span>&#160;   transfer_result = <a class="code" href="../../d0/d95/bridge_8c.html#aa9becfea3a1b74d72ec6a21f478b99bd">try_parking</a>(transferer, <a class="code" href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a>, <a class="code" href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>, new_channel_cb, user_data_wrapper);</div><div class="line"><a name="l04544"></a><span class="lineno"> 4544</span>&#160;   <span class="keywordflow">if</span> (transfer_result == <a class="code" href="../../d4/d56/bridge_8h.html#aadbf879fadde4b1bb7832b1390cc8c17a6b0053a1a47d100ef5f155f068c08934">AST_BRIDGE_TRANSFER_SUCCESS</a>) {</div><div class="line"><a name="l04545"></a><span class="lineno"> 4545</span>&#160;      <span class="keywordflow">goto</span> <a class="code" href="../../d1/da4/res__corosync_8c.html#aa4002959b64099e84d20e09e38c2e51e">publish</a>;</div><div class="line"><a name="l04546"></a><span class="lineno"> 4546</span>&#160;   }</div><div class="line"><a name="l04547"></a><span class="lineno"> 4547</span>&#160;</div><div class="line"><a name="l04548"></a><span class="lineno"> 4548</span>&#160;   <span class="comment">/* Since parking didn&#39;t take control of the user_data_wrapper, we are just going to raise the completed flag now. */</span></div><div class="line"><a name="l04549"></a><span class="lineno"> 4549</span>&#160;   user_data_wrapper-&gt;completed = 1;</div><div class="line"><a name="l04550"></a><span class="lineno"> 4550</span>&#160;</div><div class="line"><a name="l04551"></a><span class="lineno"> 4551</span>&#160;   {</div><div class="line"><a name="l04552"></a><span class="lineno"> 4552</span>&#160;      <a class="code" href="../../dd/d42/lock_8h.html#a8b9d9f2f2c41ecf3c70587c2510dddfc">SCOPED_LOCK</a>(<a class="code" href="../../df/d44/app__meetme_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a>, bridge, <a class="code" href="../../d4/d56/bridge_8h.html#ab8ee807d2c3a21d19e16fedf35c90de8">ast_bridge_lock</a>, <a class="code" href="../../d4/d56/bridge_8h.html#a0fb66f4741ca8d106af1917a2f1aab6e">ast_bridge_unlock</a>);</div><div class="line"><a name="l04553"></a><span class="lineno"> 4553</span>&#160;</div><div class="line"><a name="l04554"></a><span class="lineno"> 4554</span>&#160;      <a class="code" href="../../de/d52/codec__dahdi_8c.html#aea0622703055b62259903cdab213319b">channels</a> = <a class="code" href="../../d0/d95/bridge_8c.html#ad45098162b2df09235f632efb08a9681">ast_bridge_peers_nolock</a>(bridge);</div><div class="line"><a name="l04555"></a><span class="lineno"> 4555</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="../../de/d52/codec__dahdi_8c.html#aea0622703055b62259903cdab213319b">channels</a>) {</div><div class="line"><a name="l04556"></a><span class="lineno"> 4556</span>&#160;         transfer_result = <a class="code" href="../../d4/d56/bridge_8h.html#aadbf879fadde4b1bb7832b1390cc8c17aeebe667b42c8e7993a9f5f4c45e6da25">AST_BRIDGE_TRANSFER_FAIL</a>;</div><div class="line"><a name="l04557"></a><span class="lineno"> 4557</span>&#160;         <span class="keywordflow">goto</span> <a class="code" href="../../d1/da4/res__corosync_8c.html#aa4002959b64099e84d20e09e38c2e51e">publish</a>;</div><div class="line"><a name="l04558"></a><span class="lineno"> 4558</span>&#160;      }</div><div class="line"><a name="l04559"></a><span class="lineno"> 4559</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d5/da5/astobj2_8h.html#a512cc40ce96c63b3d5c78040baa4c9cd">ao2_container_count</a>(<a class="code" href="../../de/d52/codec__dahdi_8c.html#aea0622703055b62259903cdab213319b">channels</a>) &lt;= 1) {</div><div class="line"><a name="l04560"></a><span class="lineno"> 4560</span>&#160;         transfer_result = <a class="code" href="../../d4/d56/bridge_8h.html#aadbf879fadde4b1bb7832b1390cc8c17a93e2a5d4517067d0b9a0e39b0cdc5df8">AST_BRIDGE_TRANSFER_INVALID</a>;</div><div class="line"><a name="l04561"></a><span class="lineno"> 4561</span>&#160;         <span class="keywordflow">goto</span> <a class="code" href="../../d1/da4/res__corosync_8c.html#aa4002959b64099e84d20e09e38c2e51e">publish</a>;</div><div class="line"><a name="l04562"></a><span class="lineno"> 4562</span>&#160;      }</div><div class="line"><a name="l04563"></a><span class="lineno"> 4563</span>&#160;      transfer_prohibited = <a class="code" href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a>(&amp;bridge-&gt;feature_flags,</div><div class="line"><a name="l04564"></a><span class="lineno"> 4564</span>&#160;            <a class="code" href="../../dc/d7a/bridge__features_8h.html#a65c2644d2eadb31bcec0aaeb41cb3444a7a4b299b4cb4bf7c644235d708847fc3">AST_BRIDGE_FLAG_TRANSFER_PROHIBITED</a>);</div><div class="line"><a name="l04565"></a><span class="lineno"> 4565</span>&#160;      do_bridge_transfer = <a class="code" href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a>(&amp;bridge-&gt;feature_flags,</div><div class="line"><a name="l04566"></a><span class="lineno"> 4566</span>&#160;            <a class="code" href="../../dc/d7a/bridge__features_8h.html#a65c2644d2eadb31bcec0aaeb41cb3444a165a875b9d5bac3aba4ad54da1861ab3">AST_BRIDGE_FLAG_TRANSFER_BRIDGE_ONLY</a>) ||</div><div class="line"><a name="l04567"></a><span class="lineno"> 4567</span>&#160;            <a class="code" href="../../d5/da5/astobj2_8h.html#a512cc40ce96c63b3d5c78040baa4c9cd">ao2_container_count</a>(<a class="code" href="../../de/d52/codec__dahdi_8c.html#aea0622703055b62259903cdab213319b">channels</a>) &gt; 2;</div><div class="line"><a name="l04568"></a><span class="lineno"> 4568</span>&#160;   }</div><div class="line"><a name="l04569"></a><span class="lineno"> 4569</span>&#160;</div><div class="line"><a name="l04570"></a><span class="lineno"> 4570</span>&#160;   <span class="keywordflow">if</span> (transfer_prohibited) {</div><div class="line"><a name="l04571"></a><span class="lineno"> 4571</span>&#160;      transfer_result = <a class="code" href="../../d4/d56/bridge_8h.html#aadbf879fadde4b1bb7832b1390cc8c17a10037a900428dbddb31e85e4481bb4da">AST_BRIDGE_TRANSFER_NOT_PERMITTED</a>;</div><div class="line"><a name="l04572"></a><span class="lineno"> 4572</span>&#160;      <span class="keywordflow">goto</span> <a class="code" href="../../d1/da4/res__corosync_8c.html#aa4002959b64099e84d20e09e38c2e51e">publish</a>;</div><div class="line"><a name="l04573"></a><span class="lineno"> 4573</span>&#160;   }</div><div class="line"><a name="l04574"></a><span class="lineno"> 4574</span>&#160;</div><div class="line"><a name="l04575"></a><span class="lineno"> 4575</span>&#160;   <a class="code" href="../../d0/d95/bridge_8c.html#a8e6a9f8aa899159ff355b1cc05d0a35b">set_transfer_variables_all</a>(transferer, <a class="code" href="../../de/d52/codec__dahdi_8c.html#aea0622703055b62259903cdab213319b">channels</a>, 0);</div><div class="line"><a name="l04576"></a><span class="lineno"> 4576</span>&#160;</div><div class="line"><a name="l04577"></a><span class="lineno"> 4577</span>&#160;   <span class="keywordflow">if</span> (do_bridge_transfer) {</div><div class="line"><a name="l04578"></a><span class="lineno"> 4578</span>&#160;      transfer_result = <a class="code" href="../../d0/d95/bridge_8c.html#ab4a549751233836460cee187d4daea03">blind_transfer_bridge</a>(is_external, transferer, bridge,</div><div class="line"><a name="l04579"></a><span class="lineno"> 4579</span>&#160;         <a class="code" href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>, <a class="code" href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a>, transferee, new_channel_cb, user_data_wrapper, transfer_message);</div><div class="line"><a name="l04580"></a><span class="lineno"> 4580</span>&#160;      <span class="keywordflow">goto</span> <a class="code" href="../../d1/da4/res__corosync_8c.html#aa4002959b64099e84d20e09e38c2e51e">publish</a>;</div><div class="line"><a name="l04581"></a><span class="lineno"> 4581</span>&#160;   }</div><div class="line"><a name="l04582"></a><span class="lineno"> 4582</span>&#160;</div><div class="line"><a name="l04583"></a><span class="lineno"> 4583</span>&#160;   <span class="comment">/* Reaching this portion means that we&#39;re dealing with a two-party bridge */</span></div><div class="line"><a name="l04584"></a><span class="lineno"> 4584</span>&#160;</div><div class="line"><a name="l04585"></a><span class="lineno"> 4585</span>&#160;   <span class="keywordflow">if</span> (!transferee) {</div><div class="line"><a name="l04586"></a><span class="lineno"> 4586</span>&#160;      transfer_result = <a class="code" href="../../d4/d56/bridge_8h.html#aadbf879fadde4b1bb7832b1390cc8c17aeebe667b42c8e7993a9f5f4c45e6da25">AST_BRIDGE_TRANSFER_FAIL</a>;</div><div class="line"><a name="l04587"></a><span class="lineno"> 4587</span>&#160;      <span class="keywordflow">goto</span> <a class="code" href="../../d1/da4/res__corosync_8c.html#aa4002959b64099e84d20e09e38c2e51e">publish</a>;</div><div class="line"><a name="l04588"></a><span class="lineno"> 4588</span>&#160;   }</div><div class="line"><a name="l04589"></a><span class="lineno"> 4589</span>&#160;</div><div class="line"><a name="l04590"></a><span class="lineno"> 4590</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d9/dfc/bridge__channel__internal_8h.html#a63e2bee23fe653a913a13ec7290f38ae">bridge_channel_internal_queue_blind_transfer</a>(transferee, <a class="code" href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a>, <a class="code" href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a>,</div><div class="line"><a name="l04591"></a><span class="lineno"> 4591</span>&#160;            new_channel_cb, user_data_wrapper)) {</div><div class="line"><a name="l04592"></a><span class="lineno"> 4592</span>&#160;      transfer_result = <a class="code" href="../../d4/d56/bridge_8h.html#aadbf879fadde4b1bb7832b1390cc8c17aeebe667b42c8e7993a9f5f4c45e6da25">AST_BRIDGE_TRANSFER_FAIL</a>;</div><div class="line"><a name="l04593"></a><span class="lineno"> 4593</span>&#160;      <span class="keywordflow">goto</span> <a class="code" href="../../d1/da4/res__corosync_8c.html#aa4002959b64099e84d20e09e38c2e51e">publish</a>;</div><div class="line"><a name="l04594"></a><span class="lineno"> 4594</span>&#160;   }</div><div class="line"><a name="l04595"></a><span class="lineno"> 4595</span>&#160;</div><div class="line"><a name="l04596"></a><span class="lineno"> 4596</span>&#160;   <a class="code" href="../../d0/d95/bridge_8c.html#a66d6a521530f4fb208eb8ee33e257b6c">ast_bridge_remove</a>(bridge, transferer);</div><div class="line"><a name="l04597"></a><span class="lineno"> 4597</span>&#160;   transfer_result = <a class="code" href="../../d4/d56/bridge_8h.html#aadbf879fadde4b1bb7832b1390cc8c17a6b0053a1a47d100ef5f155f068c08934">AST_BRIDGE_TRANSFER_SUCCESS</a>;</div><div class="line"><a name="l04598"></a><span class="lineno"> 4598</span>&#160;</div><div class="line"><a name="l04599"></a><span class="lineno"> 4599</span>&#160;<a class="code" href="../../d1/da4/res__corosync_8c.html#aa4002959b64099e84d20e09e38c2e51e">publish</a>:</div><div class="line"><a name="l04600"></a><span class="lineno"> 4600</span>&#160;   transfer_message-&gt;result = transfer_result;</div><div class="line"><a name="l04601"></a><span class="lineno"> 4601</span>&#160;   <a class="code" href="../../dc/d4e/stasis__bridges_8h.html#a1a0d32d9383a2e73b8292eec6c8359e0">ast_bridge_publish_blind_transfer</a>(transfer_message);</div><div class="line"><a name="l04602"></a><span class="lineno"> 4602</span>&#160;   <span class="keywordflow">return</span> transfer_result;</div><div class="line"><a name="l04603"></a><span class="lineno"> 4603</span>&#160;}</div><div class="ttc" id="channel_8h_html_a493bdebe876caafb8ee535853310364a"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a493bdebe876caafb8ee535853310364a">ast_channel_lock</a></div><div class="ttdeci">#define ast_channel_lock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02945">channel.h:2945</a></div></div>
<div class="ttc" id="chan__alsa_8c_html_a78d4847658b695383d849efd12399b38"><div class="ttname"><a href="../../da/d45/chan__alsa_8c.html#a78d4847658b695383d849efd12399b38">exten</a></div><div class="ttdeci">static char exten[AST_MAX_EXTENSION]</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d45/chan__alsa_8c_source.html#l00118">chan_alsa.c:118</a></div></div>
<div class="ttc" id="structast__channel_html"><div class="ttname"><a href="../../df/d3c/structast__channel.html">ast_channel</a></div><div class="ttdoc">Main Channel structure associated with a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00073">channel_internal_api.c:73</a></div></div>
<div class="ttc" id="stasis__bridges_8h_html_a20c565f2b4f6dd680b2fa04f8d74f3c4"><div class="ttname"><a href="../../dc/d4e/stasis__bridges_8h.html#a20c565f2b4f6dd680b2fa04f8d74f3c4">ast_blind_transfer_message_create</a></div><div class="ttdeci">struct ast_blind_transfer_message * ast_blind_transfer_message_create(int is_external, struct ast_channel *transferer, const char *exten, const char *context)</div><div class="ttdoc">Create a blind transfer message to be published. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d0f/stasis__bridges_8c_source.html#l00929">stasis_bridges.c:929</a></div></div>
<div class="ttc" id="bridge_8h_html_aadbf879fadde4b1bb7832b1390cc8c17a93e2a5d4517067d0b9a0e39b0cdc5df8"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#aadbf879fadde4b1bb7832b1390cc8c17a93e2a5d4517067d0b9a0e39b0cdc5df8">AST_BRIDGE_TRANSFER_INVALID</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l01121">bridge.h:1121</a></div></div>
<div class="ttc" id="astobj2_8h_html_a512cc40ce96c63b3d5c78040baa4c9cd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a512cc40ce96c63b3d5c78040baa4c9cd">ao2_container_count</a></div><div class="ttdeci">int ao2_container_count(struct ao2_container *c)</div><div class="ttdoc">Returns the number of elements in a container. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d22/astobj2__container_8c_source.html#l00034">astobj2_container.c:34</a></div></div>
<div class="ttc" id="bridge_8c_html_acf7de35a81822873b105c08e1c22826f"><div class="ttname"><a href="../../d0/d95/bridge_8c.html#acf7de35a81822873b105c08e1c22826f">ast_bridge_transfer_acquire_bridge</a></div><div class="ttdeci">struct ast_bridge * ast_bridge_transfer_acquire_bridge(struct ast_channel *chan)</div><div class="ttdoc">Acquire the channel&amp;#39;s bridge for transfer purposes. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l04460">bridge.c:4460</a></div></div>
<div class="ttc" id="utils_8h_html_a00d4c9254c9827d6fa44f17a326744a5"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a00d4c9254c9827d6fa44f17a326744a5">ast_test_flag</a></div><div class="ttdeci">#define ast_test_flag(p, flag)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00063">utils.h:63</a></div></div>
<div class="ttc" id="structast__blind__transfer__message_html"><div class="ttname"><a href="../../d1/dbf/structast__blind__transfer__message.html">ast_blind_transfer_message</a></div><div class="ttdoc">Message published during a blind transfer. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d4e/stasis__bridges_8h_source.html#l00249">stasis_bridges.h:249</a></div></div>
<div class="ttc" id="bridge__features_8h_html_a65c2644d2eadb31bcec0aaeb41cb3444a165a875b9d5bac3aba4ad54da1861ab3"><div class="ttname"><a href="../../dc/d7a/bridge__features_8h.html#a65c2644d2eadb31bcec0aaeb41cb3444a165a875b9d5bac3aba4ad54da1861ab3">AST_BRIDGE_FLAG_TRANSFER_BRIDGE_ONLY</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00055">bridge_features.h:55</a></div></div>
<div class="ttc" id="bridge_8h_html_aadbf879fadde4b1bb7832b1390cc8c17a6b0053a1a47d100ef5f155f068c08934"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#aadbf879fadde4b1bb7832b1390cc8c17a6b0053a1a47d100ef5f155f068c08934">AST_BRIDGE_TRANSFER_SUCCESS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l01117">bridge.h:1117</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="bridge_8h_html_aadbf879fadde4b1bb7832b1390cc8c17"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#aadbf879fadde4b1bb7832b1390cc8c17">ast_transfer_result</a></div><div class="ttdeci">ast_transfer_result</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l01115">bridge.h:1115</a></div></div>
<div class="ttc" id="bridge_8h_html_aadbf879fadde4b1bb7832b1390cc8c17aeebe667b42c8e7993a9f5f4c45e6da25"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#aadbf879fadde4b1bb7832b1390cc8c17aeebe667b42c8e7993a9f5f4c45e6da25">AST_BRIDGE_TRANSFER_FAIL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l01123">bridge.h:1123</a></div></div>
<div class="ttc" id="res__corosync_8c_html_aa4002959b64099e84d20e09e38c2e51e"><div class="ttname"><a href="../../d1/da4/res__corosync_8c.html#aa4002959b64099e84d20e09e38c2e51e">publish</a></div><div class="ttdeci">unsigned char publish</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/da4/res__corosync_8c_source.html#l00241">res_corosync.c:241</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="bridge_8c_html_a8e6a9f8aa899159ff355b1cc05d0a35b"><div class="ttname"><a href="../../d0/d95/bridge_8c.html#a8e6a9f8aa899159ff355b1cc05d0a35b">set_transfer_variables_all</a></div><div class="ttdeci">static void set_transfer_variables_all(struct ast_channel *transferer, struct ao2_container *channels, int is_attended)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l04435">bridge.c:4435</a></div></div>
<div class="ttc" id="utils_8h_html_a1604b4d72144dd3d9f7da668e90337e9"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a></div><div class="ttdeci">#define RAII_VAR(vartype, varname, initval, dtor)</div><div class="ttdoc">Declare a variable that will call a destructor function when it goes out of scope. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00911">utils.h:911</a></div></div>
<div class="ttc" id="app__meetme_8c_html_adf04f66344e3fb0a6f6a69bf39d19902"><div class="ttname"><a href="../../df/d44/app__meetme_8c.html#adf04f66344e3fb0a6f6a69bf39d19902">lock</a></div><div class="ttdeci">ast_mutex_t lock</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d44/app__meetme_8c_source.html#l01091">app_meetme.c:1091</a></div></div>
<div class="ttc" id="channel_8h_html_ae93ebb3372a2d9495ae3c5417dd95cd5"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#ae93ebb3372a2d9495ae3c5417dd95cd5">ast_channel_cleanup</a></div><div class="ttdeci">#define ast_channel_cleanup(c)</div><div class="ttdoc">Cleanup a channel reference. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02992">channel.h:2992</a></div></div>
<div class="ttc" id="bridge__features_8h_html_a65c2644d2eadb31bcec0aaeb41cb3444a7a4b299b4cb4bf7c644235d708847fc3"><div class="ttname"><a href="../../dc/d7a/bridge__features_8h.html#a65c2644d2eadb31bcec0aaeb41cb3444a7a4b299b4cb4bf7c644235d708847fc3">AST_BRIDGE_FLAG_TRANSFER_PROHIBITED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7a/bridge__features_8h_source.html#l00053">bridge_features.h:53</a></div></div>
<div class="ttc" id="lock_8h_html_a8b9d9f2f2c41ecf3c70587c2510dddfc"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a8b9d9f2f2c41ecf3c70587c2510dddfc">SCOPED_LOCK</a></div><div class="ttdeci">#define SCOPED_LOCK(varname, lock, lockfunc, unlockfunc)</div><div class="ttdoc">Scoped Locks. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00581">lock.h:581</a></div></div>
<div class="ttc" id="codec__dahdi_8c_html_aea0622703055b62259903cdab213319b"><div class="ttname"><a href="../../de/d52/codec__dahdi_8c.html#aea0622703055b62259903cdab213319b">channels</a></div><div class="ttdeci">static struct channel_usage channels</div></div>
<div class="ttc" id="channel_8h_html_a3b6254f6d3832ef928f0a727113b1c63"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a3b6254f6d3832ef928f0a727113b1c63">ast_channel_uniqueid</a></div><div class="ttdeci">const char * ast_channel_uniqueid(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00305">channel_internal_api.c:305</a></div></div>
<div class="ttc" id="structast__bridge_html"><div class="ttname"><a href="../../d4/d84/structast__bridge.html">ast_bridge</a></div><div class="ttdoc">Structure that contains information about a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00357">bridge.h:357</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="bridge__channel__internal_8h_html_a63e2bee23fe653a913a13ec7290f38ae"><div class="ttname"><a href="../../d9/dfc/bridge__channel__internal_8h.html#a63e2bee23fe653a913a13ec7290f38ae">bridge_channel_internal_queue_blind_transfer</a></div><div class="ttdeci">int bridge_channel_internal_queue_blind_transfer(struct ast_channel *transferee, const char *exten, const char *context, transfer_channel_cb new_channel_cb, void *user_data)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d32/bridge__channel_8c_source.html#l03062">bridge_channel.c:3062</a></div></div>
<div class="ttc" id="bridge_8c_html_aa9becfea3a1b74d72ec6a21f478b99bd"><div class="ttname"><a href="../../d0/d95/bridge_8c.html#aa9becfea3a1b74d72ec6a21f478b99bd">try_parking</a></div><div class="ttdeci">static enum ast_transfer_result try_parking(struct ast_channel *transferer, const char *context, const char *exten, transfer_channel_cb new_channel_cb, struct transfer_channel_data *user_data_wrapper)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l04378">bridge.c:4378</a></div></div>
<div class="ttc" id="bridge_8c_html_ab4a549751233836460cee187d4daea03"><div class="ttname"><a href="../../d0/d95/bridge_8c.html#ab4a549751233836460cee187d4daea03">blind_transfer_bridge</a></div><div class="ttdeci">static enum ast_transfer_result blind_transfer_bridge(int is_external, struct ast_channel *transferer, struct ast_bridge *bridge, const char *exten, const char *context, struct ast_channel *transferee, transfer_channel_cb new_channel_cb, struct transfer_channel_data *user_data_wrapper, struct ast_blind_transfer_message *transfer_message)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l04178">bridge.c:4178</a></div></div>
<div class="ttc" id="stasis__bridges_8h_html_a95241898553c1d42ea46964b277433ad"><div class="ttname"><a href="../../dc/d4e/stasis__bridges_8h.html#a95241898553c1d42ea46964b277433ad">ast_bridge_snapshot_create</a></div><div class="ttdeci">struct ast_bridge_snapshot * ast_bridge_snapshot_create(struct ast_bridge *bridge)</div><div class="ttdoc">Generate a snapshot of the bridge state. This is an ao2 object, so ao2_cleanup() to deallocate...</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d0f/stasis__bridges_8c_source.html#l00202">stasis_bridges.c:202</a></div></div>
<div class="ttc" id="astobj2_8h_html_ae0422b60d8e25b6962b2d61ae4ddf724"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ae0422b60d8e25b6962b2d61ae4ddf724">ao2_alloc</a></div><div class="ttdeci">#define ao2_alloc(data_size, destructor_fn)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00411">astobj2.h:411</a></div></div>
<div class="ttc" id="bridge_8c_html_a08a41371fb4f020d645a0e6f50434005"><div class="ttname"><a href="../../d0/d95/bridge_8c.html#a08a41371fb4f020d645a0e6f50434005">ast_bridge_peer</a></div><div class="ttdeci">struct ast_channel * ast_bridge_peer(struct ast_bridge *bridge, struct ast_channel *chan)</div><div class="ttdoc">Get the channel&amp;#39;s bridge peer only if the bridge is two-party. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l04142">bridge.c:4142</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="bridge_8h_html_a0fb66f4741ca8d106af1917a2f1aab6e"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a0fb66f4741ca8d106af1917a2f1aab6e">ast_bridge_unlock</a></div><div class="ttdeci">#define ast_bridge_unlock(bridge)</div><div class="ttdoc">Unlock the bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00493">bridge.h:493</a></div></div>
<div class="ttc" id="stasis__bridges_8h_html_a1a0d32d9383a2e73b8292eec6c8359e0"><div class="ttname"><a href="../../dc/d4e/stasis__bridges_8h.html#a1a0d32d9383a2e73b8292eec6c8359e0">ast_bridge_publish_blind_transfer</a></div><div class="ttdeci">void ast_bridge_publish_blind_transfer(struct ast_blind_transfer_message *transfer_message)</div><div class="ttdoc">Publish a blind transfer event. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d0f/stasis__bridges_8c_source.html#l00953">stasis_bridges.c:953</a></div></div>
<div class="ttc" id="bridge_8c_html_ad45098162b2df09235f632efb08a9681"><div class="ttname"><a href="../../d0/d95/bridge_8c.html#ad45098162b2df09235f632efb08a9681">ast_bridge_peers_nolock</a></div><div class="ttdeci">struct ao2_container * ast_bridge_peers_nolock(struct ast_bridge *bridge)</div><div class="ttdoc">Get a container of all channels in the bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l04085">bridge.c:4085</a></div></div>
<div class="ttc" id="channel_8h_html_a9b6409c38af733c46eead884d86dd284"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a9b6409c38af733c46eead884d86dd284">ast_channel_get_bridge_channel</a></div><div class="ttdeci">struct ast_bridge_channel * ast_channel_get_bridge_channel(struct ast_channel *chan)</div><div class="ttdoc">Get a reference to the channel&amp;#39;s bridge pointer. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l10783">channel.c:10783</a></div></div>
<div class="ttc" id="bridge_8h_html_ab8ee807d2c3a21d19e16fedf35c90de8"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#ab8ee807d2c3a21d19e16fedf35c90de8">ast_bridge_lock</a></div><div class="ttdeci">#define ast_bridge_lock(bridge)</div><div class="ttdoc">Lock the bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00480">bridge.h:480</a></div></div>
<div class="ttc" id="structast__bridge__channel_html"><div class="ttname"><a href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a></div><div class="ttdoc">Structure that contains information regarding a channel in a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00084">bridge_channel.h:84</a></div></div>
<div class="ttc" id="group__StasisTopicsAndMessages_html_ga68c55b443ba97dc157b493aafd05c876"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#ga68c55b443ba97dc157b493aafd05c876">ast_channel_snapshot_get_latest</a></div><div class="ttdeci">struct ast_channel_snapshot * ast_channel_snapshot_get_latest(const char *uniqueid)</div><div class="ttdoc">Obtain the latest ast_channel_snapshot from the Stasis Message Bus API cache. This is an ao2 object...</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d2b/stasis__channels_8c_source.html#l00903">stasis_channels.c:903</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="channel_8h_html_a7ca2fda13b129a55c251b56729de285b"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a></div><div class="ttdeci">const char * ast_channel_name(const struct ast_channel *chan)</div></div>
<div class="ttc" id="structtransfer__channel__data_html"><div class="ttname"><a href="../../da/d84/structtransfer__channel__data.html">transfer_channel_data</a></div><div class="ttdoc">AO2 object that wraps data for transfer_channel_cb. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l01136">bridge.h:1136</a></div></div>
<div class="ttc" id="structao2__container_html"><div class="ttname"><a href="../../d2/da9/structao2__container.html">ao2_container</a></div><div class="ttdoc">Generic container type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d20/astobj2__container__private_8h_source.html#l00282">astobj2_container_private.h:282</a></div></div>
<div class="ttc" id="chan__alsa_8c_html_ac25ea00ee3f082df06e0cf468cbde240"><div class="ttname"><a href="../../da/d45/chan__alsa_8c.html#ac25ea00ee3f082df06e0cf468cbde240">context</a></div><div class="ttdeci">static char context[AST_MAX_CONTEXT]</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d45/chan__alsa_8c_source.html#l00116">chan_alsa.c:116</a></div></div>
<div class="ttc" id="bridge_8c_html_a66d6a521530f4fb208eb8ee33e257b6c"><div class="ttname"><a href="../../d0/d95/bridge_8c.html#a66d6a521530f4fb208eb8ee33e257b6c">ast_bridge_remove</a></div><div class="ttdeci">int ast_bridge_remove(struct ast_bridge *bridge, struct ast_channel *chan)</div><div class="ttdoc">Remove a channel from a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l01997">bridge.c:1997</a></div></div>
<div class="ttc" id="bridge__channel_8h_html_a4be080559ea3fc87e50aa29a95af74f0"><div class="ttname"><a href="../../de/d41/bridge__channel_8h.html#a4be080559ea3fc87e50aa29a95af74f0">ast_bridge_channel_write_unhold</a></div><div class="ttdeci">int ast_bridge_channel_write_unhold(struct ast_bridge_channel *bridge_channel)</div><div class="ttdoc">Write an unhold frame into the bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d32/bridge__channel_8c_source.html#l01193">bridge_channel.c:1193</a></div></div>
<div class="ttc" id="bridge_8h_html_aadbf879fadde4b1bb7832b1390cc8c17a10037a900428dbddb31e85e4481bb4da"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#aadbf879fadde4b1bb7832b1390cc8c17a10037a900428dbddb31e85e4481bb4da">AST_BRIDGE_TRANSFER_NOT_PERMITTED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l01119">bridge.h:1119</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="acbc344c8fa0a95134e759c71b87af890"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acbc344c8fa0a95134e759c71b87af890">&#9670;&nbsp;</a></span>ast_bridge_unreal_optimize_out()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_bridge_unreal_optimize_out </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>peer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d6/df3/structast__unreal__pvt.html">ast_unreal_pvt</a> *&#160;</td>
          <td class="paramname"><em>pvt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check and optimize out the unreal channels between bridges. </p>
<dl class="section since"><dt>Since</dt><dd>12.0.0</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chan</td><td>Unreal channel writing a frame into the channel driver. </td></tr>
    <tr><td class="paramname">peer</td><td>Other unreal channel in the pair. </td></tr>
    <tr><td class="paramname">pvt</td><td>Private data provided by an implementation of the unreal driver that contains the callbacks that should be called when optimization begins/ends</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>It is assumed that chan is already locked.</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>if unreal channels were not optimized out. </td></tr>
    <tr><td class="paramname">non-zero</td><td>if unreal channels were optimized out. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d0/d95/bridge_8c_source.html#l02968">2968</a> of file <a class="el" href="../../d0/d95/bridge_8c_source.html">bridge.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/d41/bridge__channel_8h_source.html#l00244">ast_bridge_channel_unlock</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00493">ast_bridge_unlock</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l01251">ast_channel_internal_bridge_channel()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02946">ast_channel_unlock</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l02627">optimize_lock_chan_stack()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l02672">optimize_lock_peer_stack()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l02917">try_merge_optimize_out()</a>, and <a class="el" href="../../d0/d95/bridge_8c_source.html#l02793">try_swap_optimize_out()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/d2e/core__unreal_8c_source.html#l00295">got_optimized_out()</a>.</p>
<div class="fragment"><div class="line"><a name="l02969"></a><span class="lineno"> 2969</span>&#160;{</div><div class="line"><a name="l02970"></a><span class="lineno"> 2970</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *chan_bridge;</div><div class="line"><a name="l02971"></a><span class="lineno"> 2971</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *peer_bridge;</div><div class="line"><a name="l02972"></a><span class="lineno"> 2972</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *chan_bridge_channel;</div><div class="line"><a name="l02973"></a><span class="lineno"> 2973</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *peer_bridge_channel;</div><div class="line"><a name="l02974"></a><span class="lineno"> 2974</span>&#160;   <span class="keywordtype">int</span> res = 0;</div><div class="line"><a name="l02975"></a><span class="lineno"> 2975</span>&#160;</div><div class="line"><a name="l02976"></a><span class="lineno"> 2976</span>&#160;   chan_bridge = <a class="code" href="../../d0/d95/bridge_8c.html#af896b3004eea94ee58a6b027ac4aed7a">optimize_lock_chan_stack</a>(chan);</div><div class="line"><a name="l02977"></a><span class="lineno"> 2977</span>&#160;   <span class="keywordflow">if</span> (!chan_bridge) {</div><div class="line"><a name="l02978"></a><span class="lineno"> 2978</span>&#160;      <span class="keywordflow">return</span> res;</div><div class="line"><a name="l02979"></a><span class="lineno"> 2979</span>&#160;   }</div><div class="line"><a name="l02980"></a><span class="lineno"> 2980</span>&#160;   chan_bridge_channel = <a class="code" href="../../d5/d7b/channel_8h.html#a5e41daaa81df59fc1e8eea2796029c31">ast_channel_internal_bridge_channel</a>(chan);</div><div class="line"><a name="l02981"></a><span class="lineno"> 2981</span>&#160;</div><div class="line"><a name="l02982"></a><span class="lineno"> 2982</span>&#160;   peer_bridge = <a class="code" href="../../d0/d95/bridge_8c.html#adcadbc8335db73d28f48f0c10473d2d5">optimize_lock_peer_stack</a>(peer);</div><div class="line"><a name="l02983"></a><span class="lineno"> 2983</span>&#160;   <span class="keywordflow">if</span> (peer_bridge) {</div><div class="line"><a name="l02984"></a><span class="lineno"> 2984</span>&#160;      peer_bridge_channel = <a class="code" href="../../d5/d7b/channel_8h.html#a5e41daaa81df59fc1e8eea2796029c31">ast_channel_internal_bridge_channel</a>(peer);</div><div class="line"><a name="l02985"></a><span class="lineno"> 2985</span>&#160;</div><div class="line"><a name="l02986"></a><span class="lineno"> 2986</span>&#160;      res = <a class="code" href="../../d0/d95/bridge_8c.html#a92647c50f3371f83be09ba7a75cceda4">try_swap_optimize_out</a>(chan_bridge, chan_bridge_channel,</div><div class="line"><a name="l02987"></a><span class="lineno"> 2987</span>&#160;         peer_bridge, peer_bridge_channel, pvt);</div><div class="line"><a name="l02988"></a><span class="lineno"> 2988</span>&#160;      <span class="keywordflow">if</span> (!res) {</div><div class="line"><a name="l02989"></a><span class="lineno"> 2989</span>&#160;         res = <a class="code" href="../../d0/d95/bridge_8c.html#a5991ed87aa081fe89ca273cd4c029cfa">try_merge_optimize_out</a>(chan_bridge, chan_bridge_channel,</div><div class="line"><a name="l02990"></a><span class="lineno"> 2990</span>&#160;            peer_bridge, peer_bridge_channel, pvt);</div><div class="line"><a name="l02991"></a><span class="lineno"> 2991</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (0 &lt; res) {</div><div class="line"><a name="l02992"></a><span class="lineno"> 2992</span>&#160;         res = 0;</div><div class="line"><a name="l02993"></a><span class="lineno"> 2993</span>&#160;      }</div><div class="line"><a name="l02994"></a><span class="lineno"> 2994</span>&#160;</div><div class="line"><a name="l02995"></a><span class="lineno"> 2995</span>&#160;      <span class="comment">/* Release peer locks. */</span></div><div class="line"><a name="l02996"></a><span class="lineno"> 2996</span>&#160;      <a class="code" href="../../d4/d56/bridge_8h.html#a0fb66f4741ca8d106af1917a2f1aab6e">ast_bridge_unlock</a>(peer_bridge);</div><div class="line"><a name="l02997"></a><span class="lineno"> 2997</span>&#160;      <a class="code" href="../../de/d41/bridge__channel_8h.html#a483cd10a0ddcca5814298bdb4f153878">ast_bridge_channel_unlock</a>(peer_bridge_channel);</div><div class="line"><a name="l02998"></a><span class="lineno"> 2998</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a>(peer);</div><div class="line"><a name="l02999"></a><span class="lineno"> 2999</span>&#160;   }</div><div class="line"><a name="l03000"></a><span class="lineno"> 3000</span>&#160;</div><div class="line"><a name="l03001"></a><span class="lineno"> 3001</span>&#160;   <span class="comment">/* Release chan locks. */</span></div><div class="line"><a name="l03002"></a><span class="lineno"> 3002</span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#a0fb66f4741ca8d106af1917a2f1aab6e">ast_bridge_unlock</a>(chan_bridge);</div><div class="line"><a name="l03003"></a><span class="lineno"> 3003</span>&#160;   <a class="code" href="../../de/d41/bridge__channel_8h.html#a483cd10a0ddcca5814298bdb4f153878">ast_bridge_channel_unlock</a>(chan_bridge_channel);</div><div class="line"><a name="l03004"></a><span class="lineno"> 3004</span>&#160;</div><div class="line"><a name="l03005"></a><span class="lineno"> 3005</span>&#160;   <span class="keywordflow">return</span> res;</div><div class="line"><a name="l03006"></a><span class="lineno"> 3006</span>&#160;}</div><div class="ttc" id="bridge_8c_html_a92647c50f3371f83be09ba7a75cceda4"><div class="ttname"><a href="../../d0/d95/bridge_8c.html#a92647c50f3371f83be09ba7a75cceda4">try_swap_optimize_out</a></div><div class="ttdeci">static int try_swap_optimize_out(struct ast_bridge *chan_bridge, struct ast_bridge_channel *chan_bridge_channel, struct ast_bridge *peer_bridge, struct ast_bridge_channel *peer_bridge_channel, struct ast_unreal_pvt *pvt)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l02793">bridge.c:2793</a></div></div>
<div class="ttc" id="bridge_8c_html_a5991ed87aa081fe89ca273cd4c029cfa"><div class="ttname"><a href="../../d0/d95/bridge_8c.html#a5991ed87aa081fe89ca273cd4c029cfa">try_merge_optimize_out</a></div><div class="ttdeci">static int try_merge_optimize_out(struct ast_bridge *chan_bridge, struct ast_bridge_channel *chan_bridge_channel, struct ast_bridge *peer_bridge, struct ast_bridge_channel *peer_bridge_channel, struct ast_unreal_pvt *pvt)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l02917">bridge.c:2917</a></div></div>
<div class="ttc" id="bridge_8c_html_adcadbc8335db73d28f48f0c10473d2d5"><div class="ttname"><a href="../../d0/d95/bridge_8c.html#adcadbc8335db73d28f48f0c10473d2d5">optimize_lock_peer_stack</a></div><div class="ttdeci">static struct ast_bridge * optimize_lock_peer_stack(struct ast_channel *peer)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l02672">bridge.c:2672</a></div></div>
<div class="ttc" id="channel_8h_html_a5e41daaa81df59fc1e8eea2796029c31"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a5e41daaa81df59fc1e8eea2796029c31">ast_channel_internal_bridge_channel</a></div><div class="ttdeci">struct ast_bridge_channel * ast_channel_internal_bridge_channel(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l01251">channel_internal_api.c:1251</a></div></div>
<div class="ttc" id="bridge__channel_8h_html_a483cd10a0ddcca5814298bdb4f153878"><div class="ttname"><a href="../../de/d41/bridge__channel_8h.html#a483cd10a0ddcca5814298bdb4f153878">ast_bridge_channel_unlock</a></div><div class="ttdeci">#define ast_bridge_channel_unlock(bridge_channel)</div><div class="ttdoc">Unlock the bridge_channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00244">bridge_channel.h:244</a></div></div>
<div class="ttc" id="structast__bridge_html"><div class="ttname"><a href="../../d4/d84/structast__bridge.html">ast_bridge</a></div><div class="ttdoc">Structure that contains information about a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00357">bridge.h:357</a></div></div>
<div class="ttc" id="channel_8h_html_af476c537b29be3f29240489032f9db39"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#af476c537b29be3f29240489032f9db39">ast_channel_unlock</a></div><div class="ttdeci">#define ast_channel_unlock(chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02946">channel.h:2946</a></div></div>
<div class="ttc" id="bridge_8h_html_a0fb66f4741ca8d106af1917a2f1aab6e"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a0fb66f4741ca8d106af1917a2f1aab6e">ast_bridge_unlock</a></div><div class="ttdeci">#define ast_bridge_unlock(bridge)</div><div class="ttdoc">Unlock the bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00493">bridge.h:493</a></div></div>
<div class="ttc" id="bridge_8c_html_af896b3004eea94ee58a6b027ac4aed7a"><div class="ttname"><a href="../../d0/d95/bridge_8c.html#af896b3004eea94ee58a6b027ac4aed7a">optimize_lock_chan_stack</a></div><div class="ttdeci">static struct ast_bridge * optimize_lock_chan_stack(struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l02627">bridge.c:2627</a></div></div>
<div class="ttc" id="structast__bridge__channel_html"><div class="ttname"><a href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a></div><div class="ttdoc">Structure that contains information regarding a channel in a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00084">bridge_channel.h:84</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aab4cd1153d39a6744eca6a84d5255820"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab4cd1153d39a6744eca6a84d5255820">&#9670;&nbsp;</a></span>ast_bridge_unsuspend()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_bridge_unsuspend </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *&#160;</td>
          <td class="paramname"><em>bridge</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unsuspend a channel from a bridge. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bridge</td><td>Bridge to unsuspend the channel from </td></tr>
    <tr><td class="paramname">chan</td><td>Channel to unsuspend</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>on success </td></tr>
    <tr><td class="paramname">-1</td><td>on failure</td></tr>
  </table>
  </dd>
</dl>
<p>Example usage:</p>
<div class="fragment"><div class="line"><a class="code" href="../../d4/d56/bridge_8h.html#aab4cd1153d39a6744eca6a84d5255820">ast_bridge_unsuspend</a>(<a class="code" href="../../d5/dca/structast__bridge__channel.html#a4fe7571e3c1759f3689d4453c132bdb7">bridge</a>, chan);</div></div><!-- fragment --><p>This unsuspends the channel pointed to by chan from the bridge pointed to by bridge. The bridge will go back to handling the channel once this function returns.</p>
<dl class="section note"><dt>Note</dt><dd>You must not mess with the channel once this function returns. Doing so may result in bad things happening. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d0/d95/bridge_8c_source.html#l03089">3089</a> of file <a class="el" href="../../d0/d95/bridge_8c_source.html">bridge.c</a>.</p>

<p class="reference">References <a class="el" href="../../d4/d56/bridge_8h_source.html#l00480">ast_bridge_lock</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00493">ast_bridge_unlock</a>, <a class="el" href="../../d3/d32/bridge__channel_8c_source.html#l00892">bridge_channel_internal_unsuspend_nolock()</a>, and <a class="el" href="../../d0/d95/bridge_8c_source.html#l01469">bridge_find_channel()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/dcf/app__confbridge_8c_source.html#l01360">conf_moh_start()</a>, and <a class="el" href="../../d0/dcf/app__confbridge_8c_source.html#l01333">conf_moh_stop()</a>.</p>
<div class="fragment"><div class="line"><a name="l03090"></a><span class="lineno"> 3090</span>&#160;{</div><div class="line"><a name="l03091"></a><span class="lineno"> 3091</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a> *bridge_channel;</div><div class="line"><a name="l03092"></a><span class="lineno"> 3092</span>&#160;<span class="comment">/* XXX ASTERISK-21271 the case of a disolved bridge while channel is suspended is not handled. */</span></div><div class="line"><a name="l03093"></a><span class="lineno"> 3093</span>&#160;</div><div class="line"><a name="l03094"></a><span class="lineno"> 3094</span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#ab8ee807d2c3a21d19e16fedf35c90de8">ast_bridge_lock</a>(bridge);</div><div class="line"><a name="l03095"></a><span class="lineno"> 3095</span>&#160;</div><div class="line"><a name="l03096"></a><span class="lineno"> 3096</span>&#160;   <span class="keywordflow">if</span> (!(bridge_channel = <a class="code" href="../../d0/d95/bridge_8c.html#af611fd393ca26b5fd2a8071867470ffc">bridge_find_channel</a>(bridge, chan))) {</div><div class="line"><a name="l03097"></a><span class="lineno"> 3097</span>&#160;      <a class="code" href="../../d4/d56/bridge_8h.html#a0fb66f4741ca8d106af1917a2f1aab6e">ast_bridge_unlock</a>(bridge);</div><div class="line"><a name="l03098"></a><span class="lineno"> 3098</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l03099"></a><span class="lineno"> 3099</span>&#160;   }</div><div class="line"><a name="l03100"></a><span class="lineno"> 3100</span>&#160;</div><div class="line"><a name="l03101"></a><span class="lineno"> 3101</span>&#160;   <a class="code" href="../../d9/dfc/bridge__channel__internal_8h.html#a25adcc7a991b49286746a062291ce1e1">bridge_channel_internal_unsuspend_nolock</a>(bridge_channel);</div><div class="line"><a name="l03102"></a><span class="lineno"> 3102</span>&#160;</div><div class="line"><a name="l03103"></a><span class="lineno"> 3103</span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#a0fb66f4741ca8d106af1917a2f1aab6e">ast_bridge_unlock</a>(bridge);</div><div class="line"><a name="l03104"></a><span class="lineno"> 3104</span>&#160;</div><div class="line"><a name="l03105"></a><span class="lineno"> 3105</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l03106"></a><span class="lineno"> 3106</span>&#160;}</div><div class="ttc" id="bridge_8c_html_af611fd393ca26b5fd2a8071867470ffc"><div class="ttname"><a href="../../d0/d95/bridge_8c.html#af611fd393ca26b5fd2a8071867470ffc">bridge_find_channel</a></div><div class="ttdeci">struct ast_bridge_channel * bridge_find_channel(struct ast_bridge *bridge, struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l01469">bridge.c:1469</a></div></div>
<div class="ttc" id="bridge__channel__internal_8h_html_a25adcc7a991b49286746a062291ce1e1"><div class="ttname"><a href="../../d9/dfc/bridge__channel__internal_8h.html#a25adcc7a991b49286746a062291ce1e1">bridge_channel_internal_unsuspend_nolock</a></div><div class="ttdeci">void bridge_channel_internal_unsuspend_nolock(struct ast_bridge_channel *bridge_channel)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d32/bridge__channel_8c_source.html#l00892">bridge_channel.c:892</a></div></div>
<div class="ttc" id="bridge_8h_html_a0fb66f4741ca8d106af1917a2f1aab6e"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a0fb66f4741ca8d106af1917a2f1aab6e">ast_bridge_unlock</a></div><div class="ttdeci">#define ast_bridge_unlock(bridge)</div><div class="ttdoc">Unlock the bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00493">bridge.h:493</a></div></div>
<div class="ttc" id="bridge_8h_html_ab8ee807d2c3a21d19e16fedf35c90de8"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#ab8ee807d2c3a21d19e16fedf35c90de8">ast_bridge_lock</a></div><div class="ttdeci">#define ast_bridge_lock(bridge)</div><div class="ttdoc">Lock the bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00480">bridge.h:480</a></div></div>
<div class="ttc" id="structast__bridge__channel_html"><div class="ttname"><a href="../../d5/dca/structast__bridge__channel.html">ast_bridge_channel</a></div><div class="ttdoc">Structure that contains information regarding a channel in a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d41/bridge__channel_8h_source.html#l00084">bridge_channel.h:84</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a000c2454b92a034dcaa414c166e156f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a000c2454b92a034dcaa414c166e156f3">&#9670;&nbsp;</a></span>ast_bridge_update_talker_src_video_mode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_bridge_update_talker_src_video_mode </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *&#160;</td>
          <td class="paramname"><em>bridge</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>talker_energy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>is_keyfame</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Update information about talker energy for talker src video mode. </p>

<p class="definition">Definition at line <a class="el" href="../../d0/d95/bridge_8c_source.html#l03883">3883</a> of file <a class="el" href="../../d0/d95/bridge_8c_source.html">bridge.c</a>.</p>

<p class="reference">References <a class="el" href="../../d4/d56/bridge_8h_source.html#l00480">ast_bridge_lock</a>, <a class="el" href="../../da/d0f/stasis__bridges_8c_source.html#l00350">ast_bridge_publish_state()</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00493">ast_bridge_unlock</a>, <a class="el" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name()</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00637">ast_channel_nativeformats()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02970">ast_channel_ref</a>, <a class="el" href="../../db/de2/channel__internal__api_8c_source.html#l00305">ast_channel_uniqueid()</a>, <a class="el" href="../../d5/d7b/channel_8h_source.html#l02981">ast_channel_unref</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00295">AST_CONTROL_VIDUPDATE</a>, <a class="el" href="../../d3/dc9/format__cap_8c_source.html#l00615">ast_format_cap_has_type()</a>, <a class="el" href="../../d4/d28/channel_8c_source.html#l04322">ast_indicate()</a>, <a class="el" href="../../d1/d16/codec_8h_source.html#l00033">AST_MEDIA_TYPE_VIDEO</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00463">ast_verb</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00124">ast_bridge_video_talker_src_data::average_talking_energy</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00127">ast_bridge_video_talker_src_data::chan_old_vsrc</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00123">ast_bridge_video_talker_src_data::chan_vsrc</a>, <a class="el" href="../../dc/d4a/structast__bridge__video__mode.html#a4815762cb716d9c02daf0caadd5a41db">ast_bridge_video_mode::mode_data</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00409">ast_bridge::name</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00375">ast_bridge::softmix</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00164">ast_bridge_video_mode::talker_src_data</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00409">ast_bridge::uniqueid</a>, and <a class="el" href="../../d4/d56/bridge_8h_source.html#l00287">ast_bridge_softmix::video_mode</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d4e/bridge__softmix_8c_source.html#l00889">softmix_bridge_write_video()</a>.</p>
<div class="fragment"><div class="line"><a name="l03884"></a><span class="lineno"> 3884</span>&#160;{</div><div class="line"><a name="l03885"></a><span class="lineno"> 3885</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/dad/structast__bridge__video__talker__src__data.html">ast_bridge_video_talker_src_data</a> *data;</div><div class="line"><a name="l03886"></a><span class="lineno"> 3886</span>&#160;</div><div class="line"><a name="l03887"></a><span class="lineno"> 3887</span>&#160;   <span class="comment">/* If the channel doesn&#39;t support video, we don&#39;t care about it */</span></div><div class="line"><a name="l03888"></a><span class="lineno"> 3888</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d0/d3c/format__cap_8h.html#a9b2d6490b222d436f5f6a8296d36c13f">ast_format_cap_has_type</a>(<a class="code" href="../../d5/d7b/channel_8h.html#a4a5bc2ea394aace55ea3809e53365ea9">ast_channel_nativeformats</a>(chan), <a class="code" href="../../d1/d16/codec_8h.html#a0f1467803be2cc40b53765e3df54c212a4086fb0449fa236dbbf9041e5a818e99">AST_MEDIA_TYPE_VIDEO</a>)) {</div><div class="line"><a name="l03889"></a><span class="lineno"> 3889</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l03890"></a><span class="lineno"> 3890</span>&#160;   }</div><div class="line"><a name="l03891"></a><span class="lineno"> 3891</span>&#160;</div><div class="line"><a name="l03892"></a><span class="lineno"> 3892</span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#ab8ee807d2c3a21d19e16fedf35c90de8">ast_bridge_lock</a>(bridge);</div><div class="line"><a name="l03893"></a><span class="lineno"> 3893</span>&#160;   data = &amp;bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a1792ee6e2f718b197f668a8b7b16d357">softmix</a>.<a class="code" href="../../d0/d50/structast__bridge__softmix.html#ae0ffa389d55fc0dad4678b948a822add">video_mode</a>.<a class="code" href="../../dc/d4a/structast__bridge__video__mode.html#a4815762cb716d9c02daf0caadd5a41db">mode_data</a>.<a class="code" href="../../dc/d4a/structast__bridge__video__mode.html#a7325622e00e4be7c0370401933bb75e5">talker_src_data</a>;</div><div class="line"><a name="l03894"></a><span class="lineno"> 3894</span>&#160;</div><div class="line"><a name="l03895"></a><span class="lineno"> 3895</span>&#160;   <span class="keywordflow">if</span> (data-&gt;<a class="code" href="../../d0/dad/structast__bridge__video__talker__src__data.html#af17523bbee86cea3e7c6959258436728">chan_vsrc</a> == chan) {</div><div class="line"><a name="l03896"></a><span class="lineno"> 3896</span>&#160;      data-&gt;<a class="code" href="../../d0/dad/structast__bridge__video__talker__src__data.html#ac10f96d9ddb17a9038083d909b2c7299">average_talking_energy</a> = talker_energy;</div><div class="line"><a name="l03897"></a><span class="lineno"> 3897</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((data-&gt;<a class="code" href="../../d0/dad/structast__bridge__video__talker__src__data.html#ac10f96d9ddb17a9038083d909b2c7299">average_talking_energy</a> &lt; talker_energy) &amp;&amp; is_keyframe) {</div><div class="line"><a name="l03898"></a><span class="lineno"> 3898</span>&#160;      <span class="keywordflow">if</span> (data-&gt;<a class="code" href="../../d0/dad/structast__bridge__video__talker__src__data.html#a643b47a3afd64524d2baae9e6f2c7c60">chan_old_vsrc</a>) {</div><div class="line"><a name="l03899"></a><span class="lineno"> 3899</span>&#160;         data-&gt;<a class="code" href="../../d0/dad/structast__bridge__video__talker__src__data.html#a643b47a3afd64524d2baae9e6f2c7c60">chan_old_vsrc</a> = <a class="code" href="../../d5/d7b/channel_8h.html#ab733a7825810b895a89b629e0ea89380">ast_channel_unref</a>(data-&gt;<a class="code" href="../../d0/dad/structast__bridge__video__talker__src__data.html#a643b47a3afd64524d2baae9e6f2c7c60">chan_old_vsrc</a>);</div><div class="line"><a name="l03900"></a><span class="lineno"> 3900</span>&#160;      }</div><div class="line"><a name="l03901"></a><span class="lineno"> 3901</span>&#160;      <span class="keywordflow">if</span> (data-&gt;<a class="code" href="../../d0/dad/structast__bridge__video__talker__src__data.html#af17523bbee86cea3e7c6959258436728">chan_vsrc</a>) {</div><div class="line"><a name="l03902"></a><span class="lineno"> 3902</span>&#160;         data-&gt;<a class="code" href="../../d0/dad/structast__bridge__video__talker__src__data.html#a643b47a3afd64524d2baae9e6f2c7c60">chan_old_vsrc</a> = data-&gt;<a class="code" href="../../d0/dad/structast__bridge__video__talker__src__data.html#af17523bbee86cea3e7c6959258436728">chan_vsrc</a>;</div><div class="line"><a name="l03903"></a><span class="lineno"> 3903</span>&#160;         <a class="code" href="../../d5/d7b/channel_8h.html#aef2af15a597c948e97628da6c5c84f28">ast_indicate</a>(data-&gt;<a class="code" href="../../d0/dad/structast__bridge__video__talker__src__data.html#a643b47a3afd64524d2baae9e6f2c7c60">chan_old_vsrc</a>, <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390a417bc8ac5817cc1525a3b530abfc1528">AST_CONTROL_VIDUPDATE</a>);</div><div class="line"><a name="l03904"></a><span class="lineno"> 3904</span>&#160;      }</div><div class="line"><a name="l03905"></a><span class="lineno"> 3905</span>&#160;      data-&gt;<a class="code" href="../../d0/dad/structast__bridge__video__talker__src__data.html#af17523bbee86cea3e7c6959258436728">chan_vsrc</a> = <a class="code" href="../../d5/d7b/channel_8h.html#a6801c703e767d6f760c54c8b86a30024">ast_channel_ref</a>(chan);</div><div class="line"><a name="l03906"></a><span class="lineno"> 3906</span>&#160;      data-&gt;<a class="code" href="../../d0/dad/structast__bridge__video__talker__src__data.html#ac10f96d9ddb17a9038083d909b2c7299">average_talking_energy</a> = talker_energy;</div><div class="line"><a name="l03907"></a><span class="lineno"> 3907</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(5, <span class="stringliteral">&quot;Video source in bridge &#39;%s&#39; (%s) is now &#39;%s&#39; (%s)\n&quot;</span>,</div><div class="line"><a name="l03908"></a><span class="lineno"> 3908</span>&#160;         bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#ace9168767fc3707cf5f0a7d049682ba3">name</a>, bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a753c7b39e3284d771f13f513b003d033">uniqueid</a>,</div><div class="line"><a name="l03909"></a><span class="lineno"> 3909</span>&#160;         <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(data-&gt;<a class="code" href="../../d0/dad/structast__bridge__video__talker__src__data.html#af17523bbee86cea3e7c6959258436728">chan_vsrc</a>),</div><div class="line"><a name="l03910"></a><span class="lineno"> 3910</span>&#160;         <a class="code" href="../../d5/d7b/channel_8h.html#a3b6254f6d3832ef928f0a727113b1c63">ast_channel_uniqueid</a>(data-&gt;<a class="code" href="../../d0/dad/structast__bridge__video__talker__src__data.html#af17523bbee86cea3e7c6959258436728">chan_vsrc</a>));</div><div class="line"><a name="l03911"></a><span class="lineno"> 3911</span>&#160;      <a class="code" href="../../dc/d4e/stasis__bridges_8h.html#aa8bd54e09b0c348a3232053e4be9bcfb">ast_bridge_publish_state</a>(bridge);</div><div class="line"><a name="l03912"></a><span class="lineno"> 3912</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#aef2af15a597c948e97628da6c5c84f28">ast_indicate</a>(data-&gt;<a class="code" href="../../d0/dad/structast__bridge__video__talker__src__data.html#af17523bbee86cea3e7c6959258436728">chan_vsrc</a>, <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390a417bc8ac5817cc1525a3b530abfc1528">AST_CONTROL_VIDUPDATE</a>);</div><div class="line"><a name="l03913"></a><span class="lineno"> 3913</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((data-&gt;<a class="code" href="../../d0/dad/structast__bridge__video__talker__src__data.html#ac10f96d9ddb17a9038083d909b2c7299">average_talking_energy</a> &lt; talker_energy) &amp;&amp; !is_keyframe) {</div><div class="line"><a name="l03914"></a><span class="lineno"> 3914</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#aef2af15a597c948e97628da6c5c84f28">ast_indicate</a>(chan, <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390a417bc8ac5817cc1525a3b530abfc1528">AST_CONTROL_VIDUPDATE</a>);</div><div class="line"><a name="l03915"></a><span class="lineno"> 3915</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!data-&gt;<a class="code" href="../../d0/dad/structast__bridge__video__talker__src__data.html#af17523bbee86cea3e7c6959258436728">chan_vsrc</a> &amp;&amp; is_keyframe) {</div><div class="line"><a name="l03916"></a><span class="lineno"> 3916</span>&#160;      data-&gt;<a class="code" href="../../d0/dad/structast__bridge__video__talker__src__data.html#af17523bbee86cea3e7c6959258436728">chan_vsrc</a> = <a class="code" href="../../d5/d7b/channel_8h.html#a6801c703e767d6f760c54c8b86a30024">ast_channel_ref</a>(chan);</div><div class="line"><a name="l03917"></a><span class="lineno"> 3917</span>&#160;      data-&gt;<a class="code" href="../../d0/dad/structast__bridge__video__talker__src__data.html#ac10f96d9ddb17a9038083d909b2c7299">average_talking_energy</a> = talker_energy;</div><div class="line"><a name="l03918"></a><span class="lineno"> 3918</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(5, <span class="stringliteral">&quot;Video source in bridge &#39;%s&#39; (%s) is now &#39;%s&#39; (%s)\n&quot;</span>,</div><div class="line"><a name="l03919"></a><span class="lineno"> 3919</span>&#160;         bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#ace9168767fc3707cf5f0a7d049682ba3">name</a>, bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a753c7b39e3284d771f13f513b003d033">uniqueid</a>,</div><div class="line"><a name="l03920"></a><span class="lineno"> 3920</span>&#160;         <a class="code" href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a>(data-&gt;<a class="code" href="../../d0/dad/structast__bridge__video__talker__src__data.html#af17523bbee86cea3e7c6959258436728">chan_vsrc</a>),</div><div class="line"><a name="l03921"></a><span class="lineno"> 3921</span>&#160;         <a class="code" href="../../d5/d7b/channel_8h.html#a3b6254f6d3832ef928f0a727113b1c63">ast_channel_uniqueid</a>(data-&gt;<a class="code" href="../../d0/dad/structast__bridge__video__talker__src__data.html#af17523bbee86cea3e7c6959258436728">chan_vsrc</a>));</div><div class="line"><a name="l03922"></a><span class="lineno"> 3922</span>&#160;      <a class="code" href="../../dc/d4e/stasis__bridges_8h.html#aa8bd54e09b0c348a3232053e4be9bcfb">ast_bridge_publish_state</a>(bridge);</div><div class="line"><a name="l03923"></a><span class="lineno"> 3923</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#aef2af15a597c948e97628da6c5c84f28">ast_indicate</a>(chan, <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390a417bc8ac5817cc1525a3b530abfc1528">AST_CONTROL_VIDUPDATE</a>);</div><div class="line"><a name="l03924"></a><span class="lineno"> 3924</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!data-&gt;<a class="code" href="../../d0/dad/structast__bridge__video__talker__src__data.html#a643b47a3afd64524d2baae9e6f2c7c60">chan_old_vsrc</a> &amp;&amp; is_keyframe) {</div><div class="line"><a name="l03925"></a><span class="lineno"> 3925</span>&#160;      data-&gt;<a class="code" href="../../d0/dad/structast__bridge__video__talker__src__data.html#a643b47a3afd64524d2baae9e6f2c7c60">chan_old_vsrc</a> = <a class="code" href="../../d5/d7b/channel_8h.html#a6801c703e767d6f760c54c8b86a30024">ast_channel_ref</a>(chan);</div><div class="line"><a name="l03926"></a><span class="lineno"> 3926</span>&#160;      <a class="code" href="../../d5/d7b/channel_8h.html#aef2af15a597c948e97628da6c5c84f28">ast_indicate</a>(chan, <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390a417bc8ac5817cc1525a3b530abfc1528">AST_CONTROL_VIDUPDATE</a>);</div><div class="line"><a name="l03927"></a><span class="lineno"> 3927</span>&#160;   }</div><div class="line"><a name="l03928"></a><span class="lineno"> 3928</span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#a0fb66f4741ca8d106af1917a2f1aab6e">ast_bridge_unlock</a>(bridge);</div><div class="line"><a name="l03929"></a><span class="lineno"> 3929</span>&#160;}</div><div class="ttc" id="structast__bridge_html_a753c7b39e3284d771f13f513b003d033"><div class="ttname"><a href="../../d4/d84/structast__bridge.html#a753c7b39e3284d771f13f513b003d033">ast_bridge::uniqueid</a></div><div class="ttdeci">const ast_string_field uniqueid</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00409">bridge.h:409</a></div></div>
<div class="ttc" id="channel_8h_html_ab733a7825810b895a89b629e0ea89380"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#ab733a7825810b895a89b629e0ea89380">ast_channel_unref</a></div><div class="ttdeci">#define ast_channel_unref(c)</div><div class="ttdoc">Decrease channel reference count. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02981">channel.h:2981</a></div></div>
<div class="ttc" id="channel_8h_html_aef2af15a597c948e97628da6c5c84f28"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#aef2af15a597c948e97628da6c5c84f28">ast_indicate</a></div><div class="ttdeci">int ast_indicate(struct ast_channel *chan, int condition)</div><div class="ttdoc">Indicates condition of channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d28/channel_8c_source.html#l04322">channel.c:4322</a></div></div>
<div class="ttc" id="structast__bridge__softmix_html_ae0ffa389d55fc0dad4678b948a822add"><div class="ttname"><a href="../../d0/d50/structast__bridge__softmix.html#ae0ffa389d55fc0dad4678b948a822add">ast_bridge_softmix::video_mode</a></div><div class="ttdeci">struct ast_bridge_video_mode video_mode</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00287">bridge.h:287</a></div></div>
<div class="ttc" id="structast__bridge_html_ace9168767fc3707cf5f0a7d049682ba3"><div class="ttname"><a href="../../d4/d84/structast__bridge.html#ace9168767fc3707cf5f0a7d049682ba3">ast_bridge::name</a></div><div class="ttdeci">const ast_string_field name</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00409">bridge.h:409</a></div></div>
<div class="ttc" id="structast__bridge__video__talker__src__data_html_a643b47a3afd64524d2baae9e6f2c7c60"><div class="ttname"><a href="../../d0/dad/structast__bridge__video__talker__src__data.html#a643b47a3afd64524d2baae9e6f2c7c60">ast_bridge_video_talker_src_data::chan_old_vsrc</a></div><div class="ttdeci">struct ast_channel * chan_old_vsrc</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00127">bridge.h:127</a></div></div>
<div class="ttc" id="structast__bridge__video__talker__src__data_html"><div class="ttname"><a href="../../d0/dad/structast__bridge__video__talker__src__data.html">ast_bridge_video_talker_src_data</a></div><div class="ttdoc">This is used for both SINGLE_SRC_TALKER mode to set what channel should be the current single video f...</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00121">bridge.h:121</a></div></div>
<div class="ttc" id="structast__bridge_html_a1792ee6e2f718b197f668a8b7b16d357"><div class="ttname"><a href="../../d4/d84/structast__bridge.html#a1792ee6e2f718b197f668a8b7b16d357">ast_bridge::softmix</a></div><div class="ttdeci">struct ast_bridge_softmix softmix</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00375">bridge.h:375</a></div></div>
<div class="ttc" id="structast__bridge__video__mode_html_a4815762cb716d9c02daf0caadd5a41db"><div class="ttname"><a href="../../dc/d4a/structast__bridge__video__mode.html#a4815762cb716d9c02daf0caadd5a41db">ast_bridge_video_mode::mode_data</a></div><div class="ttdeci">union ast_bridge_video_mode::@227 mode_data</div></div>
<div class="ttc" id="logger_8h_html_ad770f83c71e237e1f64163358ce4e13d"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a></div><div class="ttdeci">#define ast_verb(level,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00463">logger.h:463</a></div></div>
<div class="ttc" id="structast__bridge__video__mode_html_a7325622e00e4be7c0370401933bb75e5"><div class="ttname"><a href="../../dc/d4a/structast__bridge__video__mode.html#a7325622e00e4be7c0370401933bb75e5">ast_bridge_video_mode::talker_src_data</a></div><div class="ttdeci">struct ast_bridge_video_talker_src_data talker_src_data</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00164">bridge.h:164</a></div></div>
<div class="ttc" id="stasis__bridges_8h_html_aa8bd54e09b0c348a3232053e4be9bcfb"><div class="ttname"><a href="../../dc/d4e/stasis__bridges_8h.html#aa8bd54e09b0c348a3232053e4be9bcfb">ast_bridge_publish_state</a></div><div class="ttdeci">void ast_bridge_publish_state(struct ast_bridge *bridge)</div><div class="ttdoc">Publish the state of a bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d0f/stasis__bridges_8c_source.html#l00350">stasis_bridges.c:350</a></div></div>
<div class="ttc" id="channel_8h_html_a3b6254f6d3832ef928f0a727113b1c63"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a3b6254f6d3832ef928f0a727113b1c63">ast_channel_uniqueid</a></div><div class="ttdeci">const char * ast_channel_uniqueid(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00305">channel_internal_api.c:305</a></div></div>
<div class="ttc" id="bridge_8h_html_a0fb66f4741ca8d106af1917a2f1aab6e"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a0fb66f4741ca8d106af1917a2f1aab6e">ast_bridge_unlock</a></div><div class="ttdeci">#define ast_bridge_unlock(bridge)</div><div class="ttdoc">Unlock the bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00493">bridge.h:493</a></div></div>
<div class="ttc" id="channel_8h_html_a4a5bc2ea394aace55ea3809e53365ea9"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a4a5bc2ea394aace55ea3809e53365ea9">ast_channel_nativeformats</a></div><div class="ttdeci">struct ast_format_cap * ast_channel_nativeformats(const struct ast_channel *chan)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/channel__internal__api_8c_source.html#l00637">channel_internal_api.c:637</a></div></div>
<div class="ttc" id="bridge_8h_html_ab8ee807d2c3a21d19e16fedf35c90de8"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#ab8ee807d2c3a21d19e16fedf35c90de8">ast_bridge_lock</a></div><div class="ttdeci">#define ast_bridge_lock(bridge)</div><div class="ttdoc">Lock the bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00480">bridge.h:480</a></div></div>
<div class="ttc" id="structast__bridge__video__talker__src__data_html_ac10f96d9ddb17a9038083d909b2c7299"><div class="ttname"><a href="../../d0/dad/structast__bridge__video__talker__src__data.html#ac10f96d9ddb17a9038083d909b2c7299">ast_bridge_video_talker_src_data::average_talking_energy</a></div><div class="ttdeci">int average_talking_energy</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00124">bridge.h:124</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_aedda41918e992000fe921f8f7363b390a417bc8ac5817cc1525a3b530abfc1528"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#aedda41918e992000fe921f8f7363b390a417bc8ac5817cc1525a3b530abfc1528">AST_CONTROL_VIDUPDATE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00295">include/asterisk/frame.h:295</a></div></div>
<div class="ttc" id="codec_8h_html_a0f1467803be2cc40b53765e3df54c212a4086fb0449fa236dbbf9041e5a818e99"><div class="ttname"><a href="../../d1/d16/codec_8h.html#a0f1467803be2cc40b53765e3df54c212a4086fb0449fa236dbbf9041e5a818e99">AST_MEDIA_TYPE_VIDEO</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d16/codec_8h_source.html#l00033">codec.h:33</a></div></div>
<div class="ttc" id="channel_8h_html_a6801c703e767d6f760c54c8b86a30024"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a6801c703e767d6f760c54c8b86a30024">ast_channel_ref</a></div><div class="ttdeci">#define ast_channel_ref(c)</div><div class="ttdoc">Increase channel reference count. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d7b/channel_8h_source.html#l02970">channel.h:2970</a></div></div>
<div class="ttc" id="channel_8h_html_a7ca2fda13b129a55c251b56729de285b"><div class="ttname"><a href="../../d5/d7b/channel_8h.html#a7ca2fda13b129a55c251b56729de285b">ast_channel_name</a></div><div class="ttdeci">const char * ast_channel_name(const struct ast_channel *chan)</div></div>
<div class="ttc" id="structast__bridge__video__talker__src__data_html_af17523bbee86cea3e7c6959258436728"><div class="ttname"><a href="../../d0/dad/structast__bridge__video__talker__src__data.html#af17523bbee86cea3e7c6959258436728">ast_bridge_video_talker_src_data::chan_vsrc</a></div><div class="ttdeci">struct ast_channel * chan_vsrc</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00123">bridge.h:123</a></div></div>
<div class="ttc" id="format__cap_8h_html_a9b2d6490b222d436f5f6a8296d36c13f"><div class="ttname"><a href="../../d0/d3c/format__cap_8h.html#a9b2d6490b222d436f5f6a8296d36c13f">ast_format_cap_has_type</a></div><div class="ttdeci">int ast_format_cap_has_type(const struct ast_format_cap *cap, enum ast_media_type type)</div><div class="ttdoc">Find out if the capabilities structure has any formats of a specific type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dc9/format__cap_8c_source.html#l00615">format_cap.c:615</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a67a0030855111322bb27b3502345adc6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a67a0030855111322bb27b3502345adc6">&#9670;&nbsp;</a></span>ast_bridge_vars_set()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_bridge_vars_set </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../df/d3c/structast__channel.html">ast_channel</a> *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>pvtid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets BRIDGECHANNEL and BRIDGEPVTCALLID for a channel. </p>
<dl class="section pre"><dt>Precondition</dt><dd>chan must be locked before calling</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>channel name of the bridged peer </td></tr>
    <tr><td class="paramname">pvtid</td><td>Private CallID of the bridged peer</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>nothing </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d0/d95/bridge_8c_source.html#l01242">1242</a> of file <a class="el" href="../../d0/d95/bridge_8c_source.html">bridge.c</a>.</p>

<p class="reference">References <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01038">ast_channel_stage_snapshot()</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01043">ast_channel_stage_snapshot_done()</a>, and <a class="el" href="../../d3/d8c/pbx__variables_8c_source.html#l01071">pbx_builtin_setvar_helper()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d32/bridge__channel_8c_source.html#l00292">ast_bridge_channel_leave_bridge_nolock()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l01263">set_bridge_peer_vars_2party()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l01404">set_bridge_peer_vars_holding()</a>, and <a class="el" href="../../d0/d95/bridge_8c_source.html#l01342">set_bridge_peer_vars_multiparty()</a>.</p>
<div class="fragment"><div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;{</div><div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;   <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#gaf195fcf1686408b5e52ad76996653cea">ast_channel_stage_snapshot</a>(chan);</div><div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;   <a class="code" href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a>(chan, <span class="stringliteral">&quot;BRIDGEPEER&quot;</span>, <a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>);</div><div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;   <a class="code" href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a>(chan, <span class="stringliteral">&quot;BRIDGEPVTCALLID&quot;</span>, pvtid);</div><div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;   <a class="code" href="../../df/deb/group__StasisTopicsAndMessages.html#ga920b9d3e484257c7e593452a8e36d8d4">ast_channel_stage_snapshot_done</a>(chan);</div><div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;}</div><div class="ttc" id="group__StasisTopicsAndMessages_html_ga920b9d3e484257c7e593452a8e36d8d4"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#ga920b9d3e484257c7e593452a8e36d8d4">ast_channel_stage_snapshot_done</a></div><div class="ttdeci">void ast_channel_stage_snapshot_done(struct ast_channel *chan)</div><div class="ttdoc">Clear flag to indicate channel snapshot is being staged, and publish snapshot. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d2b/stasis__channels_8c_source.html#l01043">stasis_channels.c:1043</a></div></div>
<div class="ttc" id="group__StasisTopicsAndMessages_html_gaf195fcf1686408b5e52ad76996653cea"><div class="ttname"><a href="../../df/deb/group__StasisTopicsAndMessages.html#gaf195fcf1686408b5e52ad76996653cea">ast_channel_stage_snapshot</a></div><div class="ttdeci">void ast_channel_stage_snapshot(struct ast_channel *chan)</div><div class="ttdoc">Set flag to indicate channel snapshot is being staged. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d2b/stasis__channels_8c_source.html#l01038">stasis_channels.c:1038</a></div></div>
<div class="ttc" id="cdr__mysql_8c_html_a0980a105ccb863d8008eb6201a51da52"><div class="ttname"><a href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a></div><div class="ttdeci">static const char name[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/cdr__mysql_8c_source.html#l00074">cdr_mysql.c:74</a></div></div>
<div class="ttc" id="pbx_8h_html_a6e5b90edb84d216267148dddcffe9b9a"><div class="ttname"><a href="../../db/de0/pbx_8h.html#a6e5b90edb84d216267148dddcffe9b9a">pbx_builtin_setvar_helper</a></div><div class="ttdeci">int pbx_builtin_setvar_helper(struct ast_channel *chan, const char *name, const char *value)</div><div class="ttdoc">Add a variable to the channel variable stack, removing the most recently set value for the same name...</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d8c/pbx__variables_8c_source.html#l01071">pbx_variables.c:1071</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2a2b1e82e019faba42fa278f7a69a699"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2a2b1e82e019faba42fa278f7a69a699">&#9670;&nbsp;</a></span>ast_bridge_video_mode_to_string()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* ast_bridge_video_mode_to_string </td>
          <td>(</td>
          <td class="paramtype">enum <a class="el" href="../../d4/d56/bridge_8h.html#ab388dac5f5c172d7f03c54487afac906">ast_bridge_video_mode_type</a>&#160;</td>
          <td class="paramname"><em>video_mode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Converts an enum representation of a bridge video mode to string. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">video_mode</td><td>The video mode</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">A</td><td>string representation of <code>video_mode</code> </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d0/d95/bridge_8c_source.html#l04018">4018</a> of file <a class="el" href="../../d0/d95/bridge_8c_source.html">bridge.c</a>.</p>

<p class="reference">References <a class="el" href="../../d4/d56/bridge_8h_source.html#l00100">AST_BRIDGE_VIDEO_MODE_NONE</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00109">AST_BRIDGE_VIDEO_MODE_SFU</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00102">AST_BRIDGE_VIDEO_MODE_SINGLE_SRC</a>, and <a class="el" href="../../d4/d56/bridge_8h_source.html#l00105">AST_BRIDGE_VIDEO_MODE_TALKER_SRC</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/d0f/stasis__bridges_8c_source.html#l00712">ast_bridge_snapshot_to_json()</a>, <a class="el" href="../../da/d10/manager__bridges_8c_source.html#l00223">ast_manager_build_bridge_state_string_prefix()</a>, and <a class="el" href="../../d0/d95/bridge_8c_source.html#l05157">handle_bridge_show_specific()</a>.</p>
<div class="fragment"><div class="line"><a name="l04019"></a><span class="lineno"> 4019</span>&#160;{</div><div class="line"><a name="l04020"></a><span class="lineno"> 4020</span>&#160;   <span class="keywordflow">switch</span> (video_mode) {</div><div class="line"><a name="l04021"></a><span class="lineno"> 4021</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d4/d56/bridge_8h.html#ab388dac5f5c172d7f03c54487afac906a48458f43dd7ef0372614e5848f9226e0">AST_BRIDGE_VIDEO_MODE_TALKER_SRC</a>:</div><div class="line"><a name="l04022"></a><span class="lineno"> 4022</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;talker&quot;</span>;</div><div class="line"><a name="l04023"></a><span class="lineno"> 4023</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d4/d56/bridge_8h.html#ab388dac5f5c172d7f03c54487afac906a1e27ac207e54a30dfdabc463bd18d43c">AST_BRIDGE_VIDEO_MODE_SINGLE_SRC</a>:</div><div class="line"><a name="l04024"></a><span class="lineno"> 4024</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;single&quot;</span>;</div><div class="line"><a name="l04025"></a><span class="lineno"> 4025</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d4/d56/bridge_8h.html#ab388dac5f5c172d7f03c54487afac906ac9992c5dc76155a013d0a5804c8f2bb7">AST_BRIDGE_VIDEO_MODE_SFU</a>:</div><div class="line"><a name="l04026"></a><span class="lineno"> 4026</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;sfu&quot;</span>;</div><div class="line"><a name="l04027"></a><span class="lineno"> 4027</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d4/d56/bridge_8h.html#ab388dac5f5c172d7f03c54487afac906a51708384777e8722fae674ea8db89f54">AST_BRIDGE_VIDEO_MODE_NONE</a>:</div><div class="line"><a name="l04028"></a><span class="lineno"> 4028</span>&#160;   <span class="keywordflow">default</span>:</div><div class="line"><a name="l04029"></a><span class="lineno"> 4029</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;none&quot;</span>;</div><div class="line"><a name="l04030"></a><span class="lineno"> 4030</span>&#160;   }</div><div class="line"><a name="l04031"></a><span class="lineno"> 4031</span>&#160;}</div><div class="ttc" id="bridge_8h_html_ab388dac5f5c172d7f03c54487afac906ac9992c5dc76155a013d0a5804c8f2bb7"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#ab388dac5f5c172d7f03c54487afac906ac9992c5dc76155a013d0a5804c8f2bb7">AST_BRIDGE_VIDEO_MODE_SFU</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00109">bridge.h:109</a></div></div>
<div class="ttc" id="bridge_8h_html_ab388dac5f5c172d7f03c54487afac906a1e27ac207e54a30dfdabc463bd18d43c"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#ab388dac5f5c172d7f03c54487afac906a1e27ac207e54a30dfdabc463bd18d43c">AST_BRIDGE_VIDEO_MODE_SINGLE_SRC</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00102">bridge.h:102</a></div></div>
<div class="ttc" id="bridge_8h_html_ab388dac5f5c172d7f03c54487afac906a48458f43dd7ef0372614e5848f9226e0"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#ab388dac5f5c172d7f03c54487afac906a48458f43dd7ef0372614e5848f9226e0">AST_BRIDGE_VIDEO_MODE_TALKER_SRC</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00105">bridge.h:105</a></div></div>
<div class="ttc" id="bridge_8h_html_ab388dac5f5c172d7f03c54487afac906a51708384777e8722fae674ea8db89f54"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#ab388dac5f5c172d7f03c54487afac906a51708384777e8722fae674ea8db89f54">AST_BRIDGE_VIDEO_MODE_NONE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00100">bridge.h:100</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab9fc36aaff74fae0efd0f683353baa7e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab9fc36aaff74fae0efd0f683353baa7e">&#9670;&nbsp;</a></span>ast_bridges()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d2/da9/structao2__container.html">ao2_container</a>* ast_bridges </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the global bridges container. </p>
<dl class="section since"><dt>Since</dt><dd>17.0</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">a</td><td>pointer to the bridges container success </td></tr>
    <tr><td class="paramname">NULL</td><td>on failure</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>You must use ao2_ref(&lt;container&gt;, -1) when done with it</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>You must not attempt to modify the container returned. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d0/d95/bridge_8c_source.html#l00174">174</a> of file <a class="el" href="../../d0/d95/bridge_8c_source.html">bridge.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00491">ao2_bump</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d0b/resource__bridges_8c_source.html#l00885">ast_ari_bridges_list()</a>, <a class="el" href="../../d8/d3a/bridges_8c_source.html#l00078">bridges_scrape_cb()</a>, and <a class="el" href="../../da/d10/manager__bridges_8c_source.html#l00484">manager_bridges_list()</a>.</p>
<div class="fragment"><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;{</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d5/da5/astobj2_8h.html#ac438c3fcd3150481fad38689fd813a15">ao2_bump</a>(<a class="code" href="../../d0/d95/bridge_8c.html#aaa64e0df7082a1a31b65d0c956bc2534">bridges</a>);</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;}</div><div class="ttc" id="astobj2_8h_html_ac438c3fcd3150481fad38689fd813a15"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ac438c3fcd3150481fad38689fd813a15">ao2_bump</a></div><div class="ttdeci">#define ao2_bump(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00491">astobj2.h:491</a></div></div>
<div class="ttc" id="bridge_8c_html_aaa64e0df7082a1a31b65d0c956bc2534"><div class="ttname"><a href="../../d0/d95/bridge_8c.html#aaa64e0df7082a1a31b65d0c956bc2534">bridges</a></div><div class="ttdeci">static struct ao2_container * bridges</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l00123">bridge.c:123</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad460c5de90f3a8925c9149bbacce65f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad460c5de90f3a8925c9149bbacce65f8">&#9670;&nbsp;</a></span>ast_bridges_allow_optimization()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../d4/d56/bridge_8h.html#a186f44efd65f1349ca2deb11b8117534">ast_bridge_optimization</a> ast_bridges_allow_optimization </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *&#160;</td>
          <td class="paramname"><em>chan_bridge</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *&#160;</td>
          <td class="paramname"><em>peer_bridge</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determine if bridges allow for optimization to occur betweem them. </p>
<dl class="section since"><dt>Since</dt><dd>12.0.0</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chan_bridge</td><td>First bridge being tested </td></tr>
    <tr><td class="paramname">peer_bridge</td><td>Second bridge being tested</td></tr>
  </table>
  </dd>
</dl>
<p>This determines if two bridges allow for unreal channel optimization to occur between them. The function does not require for unreal channels to already be in the bridges when called.</p>
<dl class="section note"><dt>Note</dt><dd>It is assumed that both bridges are locked prior to calling this function</dd>
<dd>
A return other than AST_BRIDGE_OPTIMIZE_PROHIBITED does not guarantee that an optimization attempt will succeed. However, a return of AST_BRIDGE_OPTIMIZE_PROHIBITED guarantees that an optimization attempt will never succeed.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>Optimization allowability for the bridges </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d0/d95/bridge_8c_source.html#l03008">3008</a> of file <a class="el" href="../../d0/d95/bridge_8c_source.html">bridge.c</a>.</p>

<p class="reference">References <a class="el" href="../../d4/d56/bridge_8h_source.html#l00897">AST_BRIDGE_OPTIMIZE_MERGE_TO_CHAN_BRIDGE</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00899">AST_BRIDGE_OPTIMIZE_MERGE_TO_PEER_BRIDGE</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00901">AST_BRIDGE_OPTIMIZE_PROHIBITED</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00893">AST_BRIDGE_OPTIMIZE_SWAP_TO_CHAN_BRIDGE</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00895">AST_BRIDGE_OPTIMIZE_SWAP_TO_PEER_BRIDGE</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l02608">bridge_allows_optimization()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l02883">bridges_allow_merge_optimization()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l02737">bridges_allow_swap_optimization()</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l02184">merge_direction::dest</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l02867">MERGE_ALLOWED</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l02722">SWAP_PROHIBITED</a>, <a class="el" href="../../d0/d95/bridge_8c_source.html#l02724">SWAP_TO_CHAN_BRIDGE</a>, and <a class="el" href="../../d0/d95/bridge_8c_source.html#l02726">SWAP_TO_PEER_BRIDGE</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/d95/bridge_8c_source.html#l04663">two_bridge_attended_transfer()</a>.</p>
<div class="fragment"><div class="line"><a name="l03010"></a><span class="lineno"> 3010</span>&#160;{</div><div class="line"><a name="l03011"></a><span class="lineno"> 3011</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/ddf/structmerge__direction.html">merge_direction</a> merge;</div><div class="line"><a name="l03012"></a><span class="lineno"> 3012</span>&#160;</div><div class="line"><a name="l03013"></a><span class="lineno"> 3013</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d0/d95/bridge_8c.html#af3b2e27d3b3da68a7a5138232ad83a41">bridge_allows_optimization</a>(chan_bridge) || !<a class="code" href="../../d0/d95/bridge_8c.html#af3b2e27d3b3da68a7a5138232ad83a41">bridge_allows_optimization</a>(peer_bridge)) {</div><div class="line"><a name="l03014"></a><span class="lineno"> 3014</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d4/d56/bridge_8h.html#a186f44efd65f1349ca2deb11b8117534a19fe1f0ca6993cc12c518aa09fb79a79">AST_BRIDGE_OPTIMIZE_PROHIBITED</a>;</div><div class="line"><a name="l03015"></a><span class="lineno"> 3015</span>&#160;   }</div><div class="line"><a name="l03016"></a><span class="lineno"> 3016</span>&#160;</div><div class="line"><a name="l03017"></a><span class="lineno"> 3017</span>&#160;   <span class="keywordflow">switch</span> (<a class="code" href="../../d0/d95/bridge_8c.html#ae87543d0bf935a2f28cfc8b7e8cacf9c">bridges_allow_swap_optimization</a>(chan_bridge, peer_bridge)) {</div><div class="line"><a name="l03018"></a><span class="lineno"> 3018</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d95/bridge_8c.html#a9e067daed125a4ea2ad369790c093cfaafc15e1858037cbeb19e5cb5187e6eeb8">SWAP_TO_CHAN_BRIDGE</a>:</div><div class="line"><a name="l03019"></a><span class="lineno"> 3019</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d4/d56/bridge_8h.html#a186f44efd65f1349ca2deb11b8117534add0740f1c8620ab74b253de5bac26ec7">AST_BRIDGE_OPTIMIZE_SWAP_TO_CHAN_BRIDGE</a>;</div><div class="line"><a name="l03020"></a><span class="lineno"> 3020</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d95/bridge_8c.html#a9e067daed125a4ea2ad369790c093cfaa4487981b551c70b49ec99c61e70a1396">SWAP_TO_PEER_BRIDGE</a>:</div><div class="line"><a name="l03021"></a><span class="lineno"> 3021</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d4/d56/bridge_8h.html#a186f44efd65f1349ca2deb11b8117534a582d8fd99bc8f3320608f74efb142ee7">AST_BRIDGE_OPTIMIZE_SWAP_TO_PEER_BRIDGE</a>;</div><div class="line"><a name="l03022"></a><span class="lineno"> 3022</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d95/bridge_8c.html#a9e067daed125a4ea2ad369790c093cfaa11c04bbc25aef5e5c5628ef5d9ccc5c9">SWAP_PROHIBITED</a>:</div><div class="line"><a name="l03023"></a><span class="lineno"> 3023</span>&#160;   <span class="keywordflow">default</span>:</div><div class="line"><a name="l03024"></a><span class="lineno"> 3024</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l03025"></a><span class="lineno"> 3025</span>&#160;   }</div><div class="line"><a name="l03026"></a><span class="lineno"> 3026</span>&#160;</div><div class="line"><a name="l03027"></a><span class="lineno"> 3027</span>&#160;   <span class="comment">/* Two channels will be kicked from the bridges, the unreal;1 and unreal;2 channels */</span></div><div class="line"><a name="l03028"></a><span class="lineno"> 3028</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d0/d95/bridge_8c.html#a648cca4e2d0e75ab65456c291ad1e11a">bridges_allow_merge_optimization</a>(chan_bridge, peer_bridge, 2, &amp;merge) != <a class="code" href="../../d0/d95/bridge_8c.html#ab0558a802b481dabb4b5c6344fb0c809a3caf33d916f7fcd0541cc595538624ce">MERGE_ALLOWED</a>) {</div><div class="line"><a name="l03029"></a><span class="lineno"> 3029</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d4/d56/bridge_8h.html#a186f44efd65f1349ca2deb11b8117534a19fe1f0ca6993cc12c518aa09fb79a79">AST_BRIDGE_OPTIMIZE_PROHIBITED</a>;</div><div class="line"><a name="l03030"></a><span class="lineno"> 3030</span>&#160;   }</div><div class="line"><a name="l03031"></a><span class="lineno"> 3031</span>&#160;</div><div class="line"><a name="l03032"></a><span class="lineno"> 3032</span>&#160;   <span class="keywordflow">if</span> (merge.dest == chan_bridge) {</div><div class="line"><a name="l03033"></a><span class="lineno"> 3033</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d4/d56/bridge_8h.html#a186f44efd65f1349ca2deb11b8117534a2980a16e43b7b4f52b6c3af11bd79a56">AST_BRIDGE_OPTIMIZE_MERGE_TO_CHAN_BRIDGE</a>;</div><div class="line"><a name="l03034"></a><span class="lineno"> 3034</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l03035"></a><span class="lineno"> 3035</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d4/d56/bridge_8h.html#a186f44efd65f1349ca2deb11b8117534a83a14f41557a30da243c32b7f717ed1f">AST_BRIDGE_OPTIMIZE_MERGE_TO_PEER_BRIDGE</a>;</div><div class="line"><a name="l03036"></a><span class="lineno"> 3036</span>&#160;   }</div><div class="line"><a name="l03037"></a><span class="lineno"> 3037</span>&#160;}</div><div class="ttc" id="structmerge__direction_html"><div class="ttname"><a href="../../d0/ddf/structmerge__direction.html">merge_direction</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l02182">bridge.c:2182</a></div></div>
<div class="ttc" id="bridge_8h_html_a186f44efd65f1349ca2deb11b8117534a19fe1f0ca6993cc12c518aa09fb79a79"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a186f44efd65f1349ca2deb11b8117534a19fe1f0ca6993cc12c518aa09fb79a79">AST_BRIDGE_OPTIMIZE_PROHIBITED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00901">bridge.h:901</a></div></div>
<div class="ttc" id="bridge_8h_html_a186f44efd65f1349ca2deb11b8117534a2980a16e43b7b4f52b6c3af11bd79a56"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a186f44efd65f1349ca2deb11b8117534a2980a16e43b7b4f52b6c3af11bd79a56">AST_BRIDGE_OPTIMIZE_MERGE_TO_CHAN_BRIDGE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00897">bridge.h:897</a></div></div>
<div class="ttc" id="bridge_8c_html_ab0558a802b481dabb4b5c6344fb0c809a3caf33d916f7fcd0541cc595538624ce"><div class="ttname"><a href="../../d0/d95/bridge_8c.html#ab0558a802b481dabb4b5c6344fb0c809a3caf33d916f7fcd0541cc595538624ce">MERGE_ALLOWED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l02867">bridge.c:2867</a></div></div>
<div class="ttc" id="bridge_8h_html_a186f44efd65f1349ca2deb11b8117534a83a14f41557a30da243c32b7f717ed1f"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a186f44efd65f1349ca2deb11b8117534a83a14f41557a30da243c32b7f717ed1f">AST_BRIDGE_OPTIMIZE_MERGE_TO_PEER_BRIDGE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00899">bridge.h:899</a></div></div>
<div class="ttc" id="bridge_8c_html_af3b2e27d3b3da68a7a5138232ad83a41"><div class="ttname"><a href="../../d0/d95/bridge_8c.html#af3b2e27d3b3da68a7a5138232ad83a41">bridge_allows_optimization</a></div><div class="ttdeci">static int bridge_allows_optimization(struct ast_bridge *bridge)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l02608">bridge.c:2608</a></div></div>
<div class="ttc" id="bridge_8c_html_ae87543d0bf935a2f28cfc8b7e8cacf9c"><div class="ttname"><a href="../../d0/d95/bridge_8c.html#ae87543d0bf935a2f28cfc8b7e8cacf9c">bridges_allow_swap_optimization</a></div><div class="ttdeci">static enum bridge_allow_swap bridges_allow_swap_optimization(struct ast_bridge *chan_bridge, struct ast_bridge *peer_bridge)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l02737">bridge.c:2737</a></div></div>
<div class="ttc" id="bridge_8h_html_a186f44efd65f1349ca2deb11b8117534add0740f1c8620ab74b253de5bac26ec7"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a186f44efd65f1349ca2deb11b8117534add0740f1c8620ab74b253de5bac26ec7">AST_BRIDGE_OPTIMIZE_SWAP_TO_CHAN_BRIDGE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00893">bridge.h:893</a></div></div>
<div class="ttc" id="bridge_8c_html_a648cca4e2d0e75ab65456c291ad1e11a"><div class="ttname"><a href="../../d0/d95/bridge_8c.html#a648cca4e2d0e75ab65456c291ad1e11a">bridges_allow_merge_optimization</a></div><div class="ttdeci">static enum bridge_allow_merge bridges_allow_merge_optimization(struct ast_bridge *chan_bridge, struct ast_bridge *peer_bridge, int num_kick_channels, struct merge_direction *merge)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l02883">bridge.c:2883</a></div></div>
<div class="ttc" id="bridge_8c_html_a9e067daed125a4ea2ad369790c093cfaa4487981b551c70b49ec99c61e70a1396"><div class="ttname"><a href="../../d0/d95/bridge_8c.html#a9e067daed125a4ea2ad369790c093cfaa4487981b551c70b49ec99c61e70a1396">SWAP_TO_PEER_BRIDGE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l02726">bridge.c:2726</a></div></div>
<div class="ttc" id="bridge_8c_html_a9e067daed125a4ea2ad369790c093cfaa11c04bbc25aef5e5c5628ef5d9ccc5c9"><div class="ttname"><a href="../../d0/d95/bridge_8c.html#a9e067daed125a4ea2ad369790c093cfaa11c04bbc25aef5e5c5628ef5d9ccc5c9">SWAP_PROHIBITED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l02722">bridge.c:2722</a></div></div>
<div class="ttc" id="bridge_8c_html_a9e067daed125a4ea2ad369790c093cfaafc15e1858037cbeb19e5cb5187e6eeb8"><div class="ttname"><a href="../../d0/d95/bridge_8c.html#a9e067daed125a4ea2ad369790c093cfaafc15e1858037cbeb19e5cb5187e6eeb8">SWAP_TO_CHAN_BRIDGE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/bridge_8c_source.html#l02724">bridge.c:2724</a></div></div>
<div class="ttc" id="bridge_8h_html_a186f44efd65f1349ca2deb11b8117534a582d8fd99bc8f3320608f74efb142ee7"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a186f44efd65f1349ca2deb11b8117534a582d8fd99bc8f3320608f74efb142ee7">AST_BRIDGE_OPTIMIZE_SWAP_TO_PEER_BRIDGE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00895">bridge.h:895</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a5bff6bf264928e1fff47eb6968192228"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5bff6bf264928e1fff47eb6968192228">&#9670;&nbsp;</a></span>ast_brige_set_remb_behavior()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_brige_set_remb_behavior </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d84/structast__bridge.html">ast_bridge</a> *&#160;</td>
          <td class="paramname"><em>bridge</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="../../d4/d56/bridge_8h.html#a22e0b20cf0d941c2acc0710600c1c35b">ast_bridge_video_sfu_remb_behavior</a>&#160;</td>
          <td class="paramname"><em>behavior</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the REMB report generation behavior on a bridge. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bridge</td><td>Bridge to set the REMB behavior on </td></tr>
    <tr><td class="paramname">behavior</td><td>How REMB reports are generated</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>This can only be called when the bridge has been set to the SFU video mode. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d0/d95/bridge_8c_source.html#l03865">3865</a> of file <a class="el" href="../../d0/d95/bridge_8c_source.html">bridge.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d60/utils_8h_source.html#l00695">ast_assert</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00480">ast_bridge_lock</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00493">ast_bridge_unlock</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00109">AST_BRIDGE_VIDEO_MODE_SFU</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00160">ast_bridge_video_mode::mode</a>, <a class="el" href="../../dc/d4a/structast__bridge__video__mode.html#a4815762cb716d9c02daf0caadd5a41db">ast_bridge_video_mode::mode_data</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00153">ast_bridge_video_sfu_data::remb_behavior</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00165">ast_bridge_video_mode::sfu_data</a>, <a class="el" href="../../d4/d56/bridge_8h_source.html#l00375">ast_bridge::softmix</a>, and <a class="el" href="../../d4/d56/bridge_8h_source.html#l00287">ast_bridge_softmix::video_mode</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/dcf/app__confbridge_8c_source.html#l01679">join_conference_bridge()</a>.</p>
<div class="fragment"><div class="line"><a name="l03866"></a><span class="lineno"> 3866</span>&#160;{</div><div class="line"><a name="l03867"></a><span class="lineno"> 3867</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a>(bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a1792ee6e2f718b197f668a8b7b16d357">softmix</a>.<a class="code" href="../../d0/d50/structast__bridge__softmix.html#ae0ffa389d55fc0dad4678b948a822add">video_mode</a>.<a class="code" href="../../dc/d4a/structast__bridge__video__mode.html#ac651801cf270dd2ba5cb81ec5c786308">mode</a> == <a class="code" href="../../d4/d56/bridge_8h.html#ab388dac5f5c172d7f03c54487afac906ac9992c5dc76155a013d0a5804c8f2bb7">AST_BRIDGE_VIDEO_MODE_SFU</a>);</div><div class="line"><a name="l03868"></a><span class="lineno"> 3868</span>&#160;</div><div class="line"><a name="l03869"></a><span class="lineno"> 3869</span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#ab8ee807d2c3a21d19e16fedf35c90de8">ast_bridge_lock</a>(bridge);</div><div class="line"><a name="l03870"></a><span class="lineno"> 3870</span>&#160;   bridge-&gt;<a class="code" href="../../d4/d84/structast__bridge.html#a1792ee6e2f718b197f668a8b7b16d357">softmix</a>.<a class="code" href="../../d0/d50/structast__bridge__softmix.html#ae0ffa389d55fc0dad4678b948a822add">video_mode</a>.<a class="code" href="../../dc/d4a/structast__bridge__video__mode.html#a4815762cb716d9c02daf0caadd5a41db">mode_data</a>.<a class="code" href="../../dc/d4a/structast__bridge__video__mode.html#ad5d1cfaccf73f40dd103903868504a7b">sfu_data</a>.<a class="code" href="../../dd/df9/structast__bridge__video__sfu__data.html#a8f1dcf51cf06db1ac8e0ad3db16b3d39">remb_behavior</a> = behavior;</div><div class="line"><a name="l03871"></a><span class="lineno"> 3871</span>&#160;   <a class="code" href="../../d4/d56/bridge_8h.html#a0fb66f4741ca8d106af1917a2f1aab6e">ast_bridge_unlock</a>(bridge);</div><div class="line"><a name="l03872"></a><span class="lineno"> 3872</span>&#160;}</div><div class="ttc" id="bridge_8h_html_ab388dac5f5c172d7f03c54487afac906ac9992c5dc76155a013d0a5804c8f2bb7"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#ab388dac5f5c172d7f03c54487afac906ac9992c5dc76155a013d0a5804c8f2bb7">AST_BRIDGE_VIDEO_MODE_SFU</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00109">bridge.h:109</a></div></div>
<div class="ttc" id="structast__bridge__softmix_html_ae0ffa389d55fc0dad4678b948a822add"><div class="ttname"><a href="../../d0/d50/structast__bridge__softmix.html#ae0ffa389d55fc0dad4678b948a822add">ast_bridge_softmix::video_mode</a></div><div class="ttdeci">struct ast_bridge_video_mode video_mode</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00287">bridge.h:287</a></div></div>
<div class="ttc" id="utils_8h_html_a24374da24af1931d8a7ccde5b352bb2c"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a></div><div class="ttdeci">#define ast_assert(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00695">utils.h:695</a></div></div>
<div class="ttc" id="structast__bridge_html_a1792ee6e2f718b197f668a8b7b16d357"><div class="ttname"><a href="../../d4/d84/structast__bridge.html#a1792ee6e2f718b197f668a8b7b16d357">ast_bridge::softmix</a></div><div class="ttdeci">struct ast_bridge_softmix softmix</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00375">bridge.h:375</a></div></div>
<div class="ttc" id="structast__bridge__video__mode_html_a4815762cb716d9c02daf0caadd5a41db"><div class="ttname"><a href="../../dc/d4a/structast__bridge__video__mode.html#a4815762cb716d9c02daf0caadd5a41db">ast_bridge_video_mode::mode_data</a></div><div class="ttdeci">union ast_bridge_video_mode::@227 mode_data</div></div>
<div class="ttc" id="structast__bridge__video__sfu__data_html_a8f1dcf51cf06db1ac8e0ad3db16b3d39"><div class="ttname"><a href="../../dd/df9/structast__bridge__video__sfu__data.html#a8f1dcf51cf06db1ac8e0ad3db16b3d39">ast_bridge_video_sfu_data::remb_behavior</a></div><div class="ttdeci">enum ast_bridge_video_sfu_remb_behavior remb_behavior</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00153">bridge.h:153</a></div></div>
<div class="ttc" id="structast__bridge__video__mode_html_ad5d1cfaccf73f40dd103903868504a7b"><div class="ttname"><a href="../../dc/d4a/structast__bridge__video__mode.html#ad5d1cfaccf73f40dd103903868504a7b">ast_bridge_video_mode::sfu_data</a></div><div class="ttdeci">struct ast_bridge_video_sfu_data sfu_data</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00165">bridge.h:165</a></div></div>
<div class="ttc" id="bridge_8h_html_a0fb66f4741ca8d106af1917a2f1aab6e"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#a0fb66f4741ca8d106af1917a2f1aab6e">ast_bridge_unlock</a></div><div class="ttdeci">#define ast_bridge_unlock(bridge)</div><div class="ttdoc">Unlock the bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00493">bridge.h:493</a></div></div>
<div class="ttc" id="bridge_8h_html_ab8ee807d2c3a21d19e16fedf35c90de8"><div class="ttname"><a href="../../d4/d56/bridge_8h.html#ab8ee807d2c3a21d19e16fedf35c90de8">ast_bridge_lock</a></div><div class="ttdeci">#define ast_bridge_lock(bridge)</div><div class="ttdoc">Lock the bridge. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00480">bridge.h:480</a></div></div>
<div class="ttc" id="structast__bridge__video__mode_html_ac651801cf270dd2ba5cb81ec5c786308"><div class="ttname"><a href="../../dc/d4a/structast__bridge__video__mode.html#ac651801cf270dd2ba5cb81ec5c786308">ast_bridge_video_mode::mode</a></div><div class="ttdeci">enum ast_bridge_video_mode_type mode</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d56/bridge_8h_source.html#l00160">bridge.h:160</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a5a2fef16c6520d265d7f81002eb96ee7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a2fef16c6520d265d7f81002eb96ee7">&#9670;&nbsp;</a></span>ast_bridge_base_v_table</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d2/dd3/structast__bridge__methods.html">ast_bridge_methods</a> ast_bridge_base_v_table</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Bridge base class virtual method table. </p>

<p class="definition">Definition at line <a class="el" href="../../d0/d95/bridge_8c_source.html#l00949">949</a> of file <a class="el" href="../../d0/d95/bridge_8c_source.html">bridge.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l03639">ast_bridging_init_basic()</a>, <a class="el" href="../../de/d11/app__agent__pool_8c_source.html#l01388">bridge_agent_hold_dissolving()</a>, <a class="el" href="../../de/d11/app__agent__pool_8c_source.html#l01369">bridge_agent_hold_pull()</a>, <a class="el" href="../../de/d11/app__agent__pool_8c_source.html#l01196">bridge_agent_hold_push()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00703">bridge_basic_destroy()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00688">bridge_basic_pull()</a>, <a class="el" href="../../d7/d9b/bridge__basic_8c_source.html#l00671">bridge_basic_push()</a>, <a class="el" href="../../de/d11/app__agent__pool_8c_source.html#l01409">bridge_init_agent_hold()</a>, <a class="el" href="../../d9/dc5/parking__bridge_8c_source.html#l00054">bridge_parking_destroy()</a>, <a class="el" href="../../d9/dc5/parking__bridge_8c_source.html#l00059">bridge_parking_dissolving()</a>, <a class="el" href="../../d9/dc5/parking__bridge_8c_source.html#l00423">bridge_parking_get_merge_priority()</a>, <a class="el" href="../../d9/dc5/parking__bridge_8c_source.html#l00418">bridge_parking_notify_masquerade()</a>, <a class="el" href="../../d9/dc5/parking__bridge_8c_source.html#l00342">bridge_parking_pull()</a>, <a class="el" href="../../d9/dc5/parking__bridge_8c_source.html#l00206">bridge_parking_push()</a>, <a class="el" href="../../d9/de0/stasis__bridge_8c_source.html#l00327">bridge_stasis_init()</a>, <a class="el" href="../../d9/de0/stasis__bridge_8c_source.html#l00284">bridge_stasis_pull()</a>, <a class="el" href="../../d9/de0/stasis__bridge_8c_source.html#l00192">bridge_stasis_push()</a>, and <a class="el" href="../../d9/de0/stasis__bridge_8c_source.html#l00142">bridge_stasis_push_peek()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Aug 8 2021 19:44:52 for Asterisk - The Open Source Telephony Project by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
