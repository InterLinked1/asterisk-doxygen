<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Asterisk - The Open Source Telephony Project: udptl.c File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Asterisk - The Open Source Telephony Project
   &#160;<span id="projectnumber">18.5.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_5c982d53a68cdbcd421152b4020263a9.html">main</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">udptl.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>UDPTL support for T.38 faxing.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="../../db/db2/asterisk_8h_source.html">asterisk.h</a>&quot;</code><br />
<code>#include &lt;sys/time.h&gt;</code><br />
<code>#include &lt;signal.h&gt;</code><br />
<code>#include &lt;fcntl.h&gt;</code><br />
<code>#include &quot;<a class="el" href="../../d5/d16/module_8h_source.html">asterisk/module.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d5/da1/udptl_8h_source.html">asterisk/udptl.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html">asterisk/frame.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d5/d7b/channel_8h_source.html">asterisk/channel.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d5/d59/acl_8h_source.html">asterisk/acl.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../db/dfe/config__options_8h_source.html">asterisk/config_options.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../dd/d42/lock_8h_source.html">asterisk/lock.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d5/d60/utils_8h_source.html">asterisk/utils.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../db/df1/netsock2_8h_source.html">asterisk/netsock2.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../dc/db0/cli_8h_source.html">asterisk/cli.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d2/d1e/unaligned_8h_source.html">asterisk/unaligned.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for udptl.c:</div>
<div class="dyncontent">
<div class="center"><img src="../../da/dd1/udptl_8c__incl.png" border="0" usemap="#udptl_8c" alt=""/></div>
<map name="udptl_8c" id="udptl_8c">
<area shape="rect" id="node2" href="../../db/db2/asterisk_8h.html" title="Asterisk main include file. File version handling, generic pbx functions. " alt="" coords="911,304,995,331"/>
<area shape="rect" id="node14" href="../../d5/d16/module_8h.html" title="Asterisk module definitions. " alt="" coords="309,155,445,181"/>
<area shape="rect" id="node15" href="../../d5/d60/utils_8h.html" title="Utility functions. " alt="" coords="509,304,624,331"/>
<area shape="rect" id="node18" href="../../dd/d42/lock_8h.html" title="Asterisk locking&#45;related definitions: " alt="" coords="516,603,630,629"/>
<area shape="rect" id="node25" href="../../d5/da1/udptl_8h.html" title="UDPTL support for T.38. " alt="" coords="2290,80,2410,107"/>
<area shape="rect" id="node26" href="../../d6/d66/include_2asterisk_2frame_8h.html" title="Asterisk internal frame definitions. " alt="" coords="2238,304,2364,331"/>
<area shape="rect" id="node31" href="../../db/df1/netsock2_8h.html" title="Network socket handling. " alt="" coords="2678,229,2825,256"/>
<area shape="rect" id="node33" href="../../d5/d7b/channel_8h.html" title="General Asterisk PBX channel definitions. " alt="" coords="1581,155,1720,181"/>
<area shape="rect" id="node46" href="../../d5/d59/acl_8h.html" title="Access Control of various sorts. " alt="" coords="2588,80,2694,107"/>
<area shape="rect" id="node47" href="../../db/dfe/config__options_8h.html" title="Configuration option&#45;handling. " alt="" coords="54,155,234,181"/>
<area shape="rect" id="node49" href="../../dc/db0/cli_8h.html" title="Standard Command Line Interface. " alt="" coords="162,304,264,331"/>
<area shape="rect" id="node50" href="../../d2/d1e/unaligned_8h.html" title="Handle unaligned data access. " alt="" coords="3098,80,3248,107"/>
<area shape="rect" id="node3" href="../../d8/d20/autoconfig_8h.html" title="asterisk/autoconfig.h" alt="" coords="753,752,908,779"/>
<area shape="rect" id="node5" href="../../de/da3/include_2asterisk_2compat_8h.html" title="General Definitions for Asterisk top level program Included by asterisk.h to handle platform&#45;specific..." alt="" coords="338,528,475,555"/>
<area shape="rect" id="node10" href="../../d8/d8a/astmm_8h.html" title="Asterisk memory management routines. " alt="" coords="1039,379,1174,405"/>
<area shape="rect" id="node4" href="../../dc/dba/buildopts_8h.html" title="asterisk/buildopts.h" alt="" coords="757,827,904,853"/>
<area shape="rect" id="node6" href="../../d4/dd1/compiler_8h.html" title="Compiler&#45;specific macros and other items. " alt="" coords="502,677,644,704"/>
<area shape="rect" id="node16" href="../../d9/d94/network_8h.html" title="Wrapper for network related headers, masking differences between various operating systems..." alt="" coords="2516,379,2654,405"/>
<area shape="rect" id="node17" href="../../de/df7/time_8h.html" title="Time&#45;related functions and macros. " alt="" coords="668,677,731,704"/>
<area shape="rect" id="node19" href="../../d1/d8c/logger_8h.html" title="Support for logging to various files, console and syslog Configuration in file logger.conf. " alt="" coords="755,677,882,704"/>
<area shape="rect" id="node20" href="../../d5/deb/localtime_8h.html" title="Custom localtime functions for multiple timezones. " alt="" coords="382,379,529,405"/>
<area shape="rect" id="node21" href="../../d1/d0f/stringfields_8h.html" title="asterisk/stringfields.h" alt="" coords="756,379,913,405"/>
<area shape="rect" id="node22" href="../../d6/d90/strings_8h.html" title="String manipulation functions. " alt="" coords="228,379,358,405"/>
<area shape="rect" id="node23" href="../../d5/da5/astobj2_8h.html" title="asterisk/astobj2.h" alt="" coords="444,453,579,480"/>
<area shape="rect" id="node24" href="../../df/d90/linkedlists_8h.html" title="A set of macros to manage forward&#45;linked lists. " alt="" coords="1604,528,1755,555"/>
<area shape="rect" id="node29" href="../../dc/dac/io_8h.html" title="I/O Management (derived from Cheops&#45;NG) " alt="" coords="2489,155,2588,181"/>
<area shape="rect" id="node32" href="../../d7/d00/sched_8h.html" title="Scheduler Routines (derived from cheops) " alt="" coords="2186,155,2312,181"/>
<area shape="rect" id="node27" href="../../d0/d0a/format_8h.html" title="Media Format API. " alt="" coords="2105,379,2236,405"/>
<area shape="rect" id="node28" href="../../d1/d84/endian_8h.html" title="Asterisk architecture endianess compatibility definitions. " alt="" coords="2260,379,2390,405"/>
<area shape="rect" id="node30" href="../../d4/dfb/poll-compat_8h.html" title="asterisk/poll&#45;compat.h" alt="" coords="2439,229,2603,256"/>
<area shape="rect" id="node34" href="../../dc/d4d/alertpipe_8h.html" title="asterisk/alertpipe.h" alt="" coords="1633,229,1777,256"/>
<area shape="rect" id="node35" href="../../dc/d14/abstract__jb_8h.html" title="Common implementation&#45;independent jitterbuffer stuff. " alt="" coords="2055,304,2214,331"/>
<area shape="rect" id="node36" href="../../d9/de7/chanvars_8h.html" title="Channel Variables. " alt="" coords="1662,453,1809,480"/>
<area shape="rect" id="node37" href="../../d3/de6/include_2asterisk_2config_8h.html" title="Configuration File Parser. " alt="" coords="251,229,378,256"/>
<area shape="rect" id="node38" href="../../dc/d07/cdr_8h.html" title="Call Detail Record API. " alt="" coords="1090,229,1197,256"/>
<area shape="rect" id="node39" href="../../d9/db6/datastore_8h.html" title="Asterisk datastore objects. " alt="" coords="1834,453,1984,480"/>
<area shape="rect" id="node40" href="../../d0/d3c/format__cap_8h.html" title="Format Capabilities API. " alt="" coords="1222,229,1383,256"/>
<area shape="rect" id="node41" href="../../d9/d95/channelstate_8h.html" title="Channel states. " alt="" coords="704,229,874,256"/>
<area shape="rect" id="node42" href="../../de/dc8/ccss_8h.html" title="Call Completion Supplementary Services API. " alt="" coords="899,229,1015,256"/>
<area shape="rect" id="node43" href="../../db/d3c/framehook_8h.html" title="FrameHook Architecture. " alt="" coords="2054,229,2212,256"/>
<area shape="rect" id="node44" href="../../dd/d79/stasis_8h.html" title="Stasis Message Bus API. See Stasis Message Bus API for detailed documentation. " alt="" coords="504,229,629,256"/>
<area shape="rect" id="node45" href="../../d4/d61/endpoints_8h.html" title="Endpoint abstractions. " alt="" coords="1407,229,1558,256"/>
</map>
</div>
</div>
<p><a href="../../d2/dce/udptl_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d81/structast__udptl.html">ast_udptl</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Structure for an UDPTL session.  <a href="../../d9/d81/structast__udptl.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/dfc/structudptl__config.html">udptl_config</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dd5/structudptl__fec__rx__buffer__t.html">udptl_fec_rx_buffer_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/dd6/structudptl__fec__tx__buffer__t.html">udptl_fec_tx_buffer_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d44/structudptl__global__options.html">udptl_global_options</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a840abeaeb2ccc5dca63e7acfeed7ca87"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dce/udptl_8c.html#a840abeaeb2ccc5dca63e7acfeed7ca87">DEFAULT_FAX_MAX_DATAGRAM</a>&#160;&#160;&#160;400</td></tr>
<tr class="separator:a840abeaeb2ccc5dca63e7acfeed7ca87"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1513c4df549704e7d71ca72f0ee7b390"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dce/udptl_8c.html#a1513c4df549704e7d71ca72f0ee7b390">DEFAULT_UDPTLEND</a>&#160;&#160;&#160;4999</td></tr>
<tr class="separator:a1513c4df549704e7d71ca72f0ee7b390"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e8121121d4cd54fc80a89115ad9b97f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dce/udptl_8c.html#a2e8121121d4cd54fc80a89115ad9b97f">DEFAULT_UDPTLSTART</a>&#160;&#160;&#160;4000</td></tr>
<tr class="separator:a2e8121121d4cd54fc80a89115ad9b97f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa93f0eb578d23995850d61f7d61c55c1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dce/udptl_8c.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:aa93f0eb578d23995850d61f7d61c55c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8f3d147dea9bd83782b759502fc60a1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dce/udptl_8c.html#aa8f3d147dea9bd83782b759502fc60a1">FAX_MAX_DATAGRAM_LIMIT</a>&#160;&#160;&#160;1400</td></tr>
<tr class="separator:aa8f3d147dea9bd83782b759502fc60a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7cebef58b6e2f580a8e74b7c133cd34b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dce/udptl_8c.html#a7cebef58b6e2f580a8e74b7c133cd34b">LOCAL_FAX_MAX_DATAGRAM</a>&#160;&#160;&#160;1400</td></tr>
<tr class="separator:a7cebef58b6e2f580a8e74b7c133cd34b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12f6e5fd71bc2bc7fcfc0583b035c862"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dce/udptl_8c.html#a12f6e5fd71bc2bc7fcfc0583b035c862">LOG_TAG</a>(u)&#160;&#160;&#160;<a class="el" href="../../d4/dc5/extconf_8c.html#a2faaa16929951bfd2802b7829a100ba2">S_OR</a>(u-&gt;tag, &quot;no tag&quot;)</td></tr>
<tr class="separator:a12f6e5fd71bc2bc7fcfc0583b035c862"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0113380b09f0d4b8cc6a98d70e4ef822"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dce/udptl_8c.html#a0113380b09f0d4b8cc6a98d70e4ef822">MAX_FEC_ENTRIES</a>&#160;&#160;&#160;5</td></tr>
<tr class="separator:a0113380b09f0d4b8cc6a98d70e4ef822"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71b4edaf9975b131d08a7672db96ae0e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dce/udptl_8c.html#a71b4edaf9975b131d08a7672db96ae0e">MAX_FEC_SPAN</a>&#160;&#160;&#160;5</td></tr>
<tr class="separator:a71b4edaf9975b131d08a7672db96ae0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8cecfc5c5c054d2875c03e77b7be15d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dce/udptl_8c.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>&#160;&#160;&#160;(!<a class="el" href="../../da/d7c/utils_2frame_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>)</td></tr>
<tr class="separator:aa8cecfc5c5c054d2875c03e77b7be15d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5fc08f5f3152e66b9eb799375c8eafe5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dce/udptl_8c.html#a5fc08f5f3152e66b9eb799375c8eafe5">UDPTL_BUF_MASK</a>&#160;&#160;&#160;15</td></tr>
<tr class="separator:a5fc08f5f3152e66b9eb799375c8eafe5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48303cfd0f3317077b5334e1b6e0897f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dce/udptl_8c.html#a48303cfd0f3317077b5334e1b6e0897f">UDPTL_MTU</a>&#160;&#160;&#160;1200</td></tr>
<tr class="separator:a48303cfd0f3317077b5334e1b6e0897f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:acfdd6fa3b0b7a0acd4a9841c6596809d"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dce/udptl_8c.html#acfdd6fa3b0b7a0acd4a9841c6596809d">__ast_udptl_reload</a> (int <a class="el" href="../../dc/d6b/res__xmpp_8c.html#ad1982509765f4870f1f63412a53ea668">reload</a>)</td></tr>
<tr class="separator:acfdd6fa3b0b7a0acd4a9841c6596809d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88b7c88fed6b80fd18f34f97757dfc04"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dce/udptl_8c.html#a88b7c88fed6b80fd18f34f97757dfc04">__reg_module</a> (void)</td></tr>
<tr class="separator:a88b7c88fed6b80fd18f34f97757dfc04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afeab1257bd17282b95875499393a147a"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dce/udptl_8c.html#afeab1257bd17282b95875499393a147a">__unreg_module</a> (void)</td></tr>
<tr class="separator:afeab1257bd17282b95875499393a147a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b8f4ce31d30e5a3e2c3894e6224f952"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dce/udptl_8c.html#a6b8f4ce31d30e5a3e2c3894e6224f952">AO2_GLOBAL_OBJ_STATIC</a> (<a class="el" href="../../d4/dc5/extconf_8c.html#aec3689c71194f8504dafc644005a97db">globals</a>)</td></tr>
<tr class="separator:a6b8f4ce31d30e5a3e2c3894e6224f952"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fb0aca9bbcdb9709fa52a70aded6cae"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dce/udptl_8c.html#a4fb0aca9bbcdb9709fa52a70aded6cae">AST_MODULE_SELF_SYM</a> (void)</td></tr>
<tr class="separator:a4fb0aca9bbcdb9709fa52a70aded6cae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c14cc450fe0891cbee26ffd74cf77cb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dce/udptl_8c.html#a0c14cc450fe0891cbee26ffd74cf77cb">ast_udptl_destroy</a> (struct <a class="el" href="../../d9/d81/structast__udptl.html">ast_udptl</a> *udptl)</td></tr>
<tr class="separator:a0c14cc450fe0891cbee26ffd74cf77cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a424e6e48fcfa491a9ee6da3c8a7162a3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dce/udptl_8c.html#a424e6e48fcfa491a9ee6da3c8a7162a3">ast_udptl_fd</a> (const struct <a class="el" href="../../d9/d81/structast__udptl.html">ast_udptl</a> *udptl)</td></tr>
<tr class="separator:a424e6e48fcfa491a9ee6da3c8a7162a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10b606a6ac66cc148ea1c43a508ebb6d"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="../../d5/da1/udptl_8h.html#af968992af6d7e1186843a2eb371c9795">ast_t38_ec_modes</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dce/udptl_8c.html#a10b606a6ac66cc148ea1c43a508ebb6d">ast_udptl_get_error_correction_scheme</a> (const struct <a class="el" href="../../d9/d81/structast__udptl.html">ast_udptl</a> *udptl)</td></tr>
<tr class="separator:a10b606a6ac66cc148ea1c43a508ebb6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad81d6dc0df37c1b771f803c431cc102a"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dce/udptl_8c.html#ad81d6dc0df37c1b771f803c431cc102a">ast_udptl_get_far_max_datagram</a> (const struct <a class="el" href="../../d9/d81/structast__udptl.html">ast_udptl</a> *udptl)</td></tr>
<tr class="separator:ad81d6dc0df37c1b771f803c431cc102a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72d15492e0a4594c95848800a93017f3"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dce/udptl_8c.html#a72d15492e0a4594c95848800a93017f3">ast_udptl_get_far_max_ifp</a> (struct <a class="el" href="../../d9/d81/structast__udptl.html">ast_udptl</a> *udptl)</td></tr>
<tr class="memdesc:a72d15492e0a4594c95848800a93017f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">retrieves far max ifp  <a href="#a72d15492e0a4594c95848800a93017f3">More...</a><br /></td></tr>
<tr class="separator:a72d15492e0a4594c95848800a93017f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac14f584f25701499a840fd9b1ee30a5"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dce/udptl_8c.html#aac14f584f25701499a840fd9b1ee30a5">ast_udptl_get_local_max_datagram</a> (struct <a class="el" href="../../d9/d81/structast__udptl.html">ast_udptl</a> *udptl)</td></tr>
<tr class="memdesc:aac14f584f25701499a840fd9b1ee30a5"><td class="mdescLeft">&#160;</td><td class="mdescRight">retrieves local_max_datagram.  <a href="#aac14f584f25701499a840fd9b1ee30a5">More...</a><br /></td></tr>
<tr class="separator:aac14f584f25701499a840fd9b1ee30a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4af102e6f654fa4199e192afbff5af99"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dce/udptl_8c.html#a4af102e6f654fa4199e192afbff5af99">ast_udptl_get_peer</a> (const struct <a class="el" href="../../d9/d81/structast__udptl.html">ast_udptl</a> *udptl, struct <a class="el" href="../../d3/db3/structast__sockaddr.html">ast_sockaddr</a> *them)</td></tr>
<tr class="separator:a4af102e6f654fa4199e192afbff5af99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7dcb742a0ff23a358e2b59b290e36577"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dce/udptl_8c.html#a7dcb742a0ff23a358e2b59b290e36577">ast_udptl_get_us</a> (const struct <a class="el" href="../../d9/d81/structast__udptl.html">ast_udptl</a> *udptl, struct <a class="el" href="../../d3/db3/structast__sockaddr.html">ast_sockaddr</a> *us)</td></tr>
<tr class="separator:a7dcb742a0ff23a358e2b59b290e36577"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa40dd888a667351c9a16ba32b90f03f"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d9/d81/structast__udptl.html">ast_udptl</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dce/udptl_8c.html#aaa40dd888a667351c9a16ba32b90f03f">ast_udptl_new_with_bindaddr</a> (struct <a class="el" href="../../d7/de8/structast__sched__context.html">ast_sched_context</a> *<a class="el" href="../../d0/da0/structsched.html">sched</a>, struct <a class="el" href="../../d5/d55/structio__context.html">io_context</a> *<a class="el" href="../../d1/dc0/pbx__dundi_8c.html#abda48311b6abe5a4dd8b6904ddde0a6d">io</a>, int callbackmode, struct <a class="el" href="../../d3/db3/structast__sockaddr.html">ast_sockaddr</a> *addr)</td></tr>
<tr class="separator:aaa40dd888a667351c9a16ba32b90f03f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0808bce80557e3107c9030bd8a832fe"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d0/d99/structast__frame.html">ast_frame</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dce/udptl_8c.html#ae0808bce80557e3107c9030bd8a832fe">ast_udptl_read</a> (struct <a class="el" href="../../d9/d81/structast__udptl.html">ast_udptl</a> *udptl)</td></tr>
<tr class="separator:ae0808bce80557e3107c9030bd8a832fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac410178703bbd10effbedd9823b89f2a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dce/udptl_8c.html#ac410178703bbd10effbedd9823b89f2a">ast_udptl_set_callback</a> (struct <a class="el" href="../../d9/d81/structast__udptl.html">ast_udptl</a> *udptl, <a class="el" href="../../d5/da1/udptl_8h.html#aad8d90e5bb63ca8788ece757eee693d6">ast_udptl_callback</a> callback)</td></tr>
<tr class="separator:ac410178703bbd10effbedd9823b89f2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2b6f583b1e2e2efdd87c0f6a7264d42"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dce/udptl_8c.html#ab2b6f583b1e2e2efdd87c0f6a7264d42">ast_udptl_set_data</a> (struct <a class="el" href="../../d9/d81/structast__udptl.html">ast_udptl</a> *udptl, void *data)</td></tr>
<tr class="separator:ab2b6f583b1e2e2efdd87c0f6a7264d42"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec066a1e8d5b80dfab8c4a5296e65e48"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dce/udptl_8c.html#aec066a1e8d5b80dfab8c4a5296e65e48">ast_udptl_set_error_correction_scheme</a> (struct <a class="el" href="../../d9/d81/structast__udptl.html">ast_udptl</a> *udptl, enum <a class="el" href="../../d5/da1/udptl_8h.html#af968992af6d7e1186843a2eb371c9795">ast_t38_ec_modes</a> ec)</td></tr>
<tr class="separator:aec066a1e8d5b80dfab8c4a5296e65e48"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb364758e66c04d5d791fc51d2b3ed6d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dce/udptl_8c.html#abb364758e66c04d5d791fc51d2b3ed6d">ast_udptl_set_far_max_datagram</a> (struct <a class="el" href="../../d9/d81/structast__udptl.html">ast_udptl</a> *udptl, unsigned int max_datagram)</td></tr>
<tr class="memdesc:abb364758e66c04d5d791fc51d2b3ed6d"><td class="mdescLeft">&#160;</td><td class="mdescRight">sets far max datagram size. If max_datagram is = 0, the far max datagram size is set to a default value.  <a href="#abb364758e66c04d5d791fc51d2b3ed6d">More...</a><br /></td></tr>
<tr class="separator:abb364758e66c04d5d791fc51d2b3ed6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c2d98f9407493efbbdc9462717a2d9d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dce/udptl_8c.html#a6c2d98f9407493efbbdc9462717a2d9d">ast_udptl_set_local_max_ifp</a> (struct <a class="el" href="../../d9/d81/structast__udptl.html">ast_udptl</a> *udptl, unsigned int max_ifp)</td></tr>
<tr class="separator:a6c2d98f9407493efbbdc9462717a2d9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63800515ae367681cbeb61813b6b40c0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dce/udptl_8c.html#a63800515ae367681cbeb61813b6b40c0">ast_udptl_set_peer</a> (struct <a class="el" href="../../d9/d81/structast__udptl.html">ast_udptl</a> *udptl, const struct <a class="el" href="../../d3/db3/structast__sockaddr.html">ast_sockaddr</a> *them)</td></tr>
<tr class="separator:a63800515ae367681cbeb61813b6b40c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a697d541fd523e36f898d699cbfda988f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dce/udptl_8c.html#a697d541fd523e36f898d699cbfda988f">ast_udptl_set_tag</a> (struct <a class="el" href="../../d9/d81/structast__udptl.html">ast_udptl</a> *udptl, const char *<a class="el" href="../../da/d45/chan__alsa_8c.html#a98f5e70e98f6dc48e3c5ba316066d540">format</a>,...)</td></tr>
<tr class="memdesc:a697d541fd523e36f898d699cbfda988f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Associates a character string 'tag' with a UDPTL session.  <a href="#a697d541fd523e36f898d699cbfda988f">More...</a><br /></td></tr>
<tr class="separator:a697d541fd523e36f898d699cbfda988f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76d8051a97100fa917b8c43bf58aac9c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dce/udptl_8c.html#a76d8051a97100fa917b8c43bf58aac9c">ast_udptl_setnat</a> (struct <a class="el" href="../../d9/d81/structast__udptl.html">ast_udptl</a> *udptl, int <a class="el" href="../../d0/dd6/chan__mgcp_8c.html#ada540a5f25f7302dc1a3d17ccfa59b10">nat</a>)</td></tr>
<tr class="separator:a76d8051a97100fa917b8c43bf58aac9c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa37b040d6f8a975f25022e73e125b99e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dce/udptl_8c.html#aa37b040d6f8a975f25022e73e125b99e">ast_udptl_setqos</a> (struct <a class="el" href="../../d9/d81/structast__udptl.html">ast_udptl</a> *udptl, unsigned int <a class="el" href="../../d1/dc0/pbx__dundi_8c.html#a25a9305efab3b493ca2519562fcec3d5">tos</a>, unsigned int <a class="el" href="../../d1/d6d/chan__unistim_8c.html#ae91dad65f553f7afebe4af507803bc7f">cos</a>)</td></tr>
<tr class="separator:aa37b040d6f8a975f25022e73e125b99e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3fb4dcecfa292b0aae4fd4dbad1b8551"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dce/udptl_8c.html#a3fb4dcecfa292b0aae4fd4dbad1b8551">ast_udptl_stop</a> (struct <a class="el" href="../../d9/d81/structast__udptl.html">ast_udptl</a> *udptl)</td></tr>
<tr class="separator:a3fb4dcecfa292b0aae4fd4dbad1b8551"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c5bda796bcae234c457fb56fb106b0b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dce/udptl_8c.html#a5c5bda796bcae234c457fb56fb106b0b">ast_udptl_write</a> (struct <a class="el" href="../../d9/d81/structast__udptl.html">ast_udptl</a> *s, struct <a class="el" href="../../d0/d99/structast__frame.html">ast_frame</a> *f)</td></tr>
<tr class="separator:a5c5bda796bcae234c457fb56fb106b0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a541dbf72506ff6bead2d506613979e24"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dce/udptl_8c.html#a541dbf72506ff6bead2d506613979e24">calculate_far_max_ifp</a> (struct <a class="el" href="../../d9/d81/structast__udptl.html">ast_udptl</a> *udptl)</td></tr>
<tr class="separator:a541dbf72506ff6bead2d506613979e24"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3acebf54181c51340a4a3fa080525a8"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dce/udptl_8c.html#ab3acebf54181c51340a4a3fa080525a8">calculate_local_max_datagram</a> (struct <a class="el" href="../../d9/d81/structast__udptl.html">ast_udptl</a> *udptl)</td></tr>
<tr class="separator:ab3acebf54181c51340a4a3fa080525a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f8461b1b461769439978fb1bd99ab4b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dce/udptl_8c.html#a8f8461b1b461769439978fb1bd99ab4b">CONFIG_INFO_CORE</a> (&quot;udptl&quot;, cfg_info, <a class="el" href="../../d4/dc5/extconf_8c.html#aec3689c71194f8504dafc644005a97db">globals</a>, <a class="el" href="../../d2/dce/udptl_8c.html#a16a9faf748836fea2b38f5a138d50cd8">udptl_snapshot_alloc</a>,.files=<a class="el" href="../../db/dfe/config__options_8h.html#a60d2944aab4537720434ab9c90e12418">ACO_FILES</a>(&amp;<a class="el" href="../../d2/dce/udptl_8c.html#a301a13a22973f02d4d148ef14df2e0f3">udptl_conf</a>),.pre_apply_config=<a class="el" href="../../d2/dce/udptl_8c.html#a8dbc1addfd99c00e7e7f496632aa6948">udptl_pre_apply_config</a>,)</td></tr>
<tr class="separator:a8f8461b1b461769439978fb1bd99ab4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae31d7a712ec76b9ee8515efecca0cc07"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dce/udptl_8c.html#ae31d7a712ec76b9ee8515efecca0cc07">decode_length</a> (uint8_t *<a class="el" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, unsigned int limit, unsigned int *<a class="el" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>, unsigned int *pvalue)</td></tr>
<tr class="separator:ae31d7a712ec76b9ee8515efecca0cc07"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acad8de64155e849783a598df19ce849c"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dce/udptl_8c.html#acad8de64155e849783a598df19ce849c">decode_open_type</a> (uint8_t *<a class="el" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, unsigned int limit, unsigned int *<a class="el" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>, const uint8_t **p_object, unsigned int *p_num_octets)</td></tr>
<tr class="separator:acad8de64155e849783a598df19ce849c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c54931735c591c100df527a9e0936e1"><td class="memItemLeft" align="right" valign="top">static unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dce/udptl_8c.html#a6c54931735c591c100df527a9e0936e1">encode_length</a> (uint8_t *<a class="el" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, unsigned int *<a class="el" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>, unsigned int <a class="el" href="../../d5/dde/test__func__file_8c.html#a8556878012feffc9e0beb86cd78f424d">value</a>)</td></tr>
<tr class="separator:a6c54931735c591c100df527a9e0936e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a139e3cb1abd258f2bd35a94b6573ca2c"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dce/udptl_8c.html#a139e3cb1abd258f2bd35a94b6573ca2c">encode_open_type</a> (const struct <a class="el" href="../../d9/d81/structast__udptl.html">ast_udptl</a> *udptl, uint8_t *<a class="el" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, unsigned int buflen, unsigned int *<a class="el" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>, const uint8_t *data, unsigned int num_octets)</td></tr>
<tr class="separator:a139e3cb1abd258f2bd35a94b6573ca2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e8cf4d49a6408c5f90f2d1e3295da99"><td class="memItemLeft" align="right" valign="top">static char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dce/udptl_8c.html#a8e8cf4d49a6408c5f90f2d1e3295da99">handle_cli_show_config</a> (struct <a class="el" href="../../d8/d07/structast__cli__entry.html">ast_cli_entry</a> *e, int cmd, struct <a class="el" href="../../d3/dad/structast__cli__args.html">ast_cli_args</a> *<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a>)</td></tr>
<tr class="separator:a8e8cf4d49a6408c5f90f2d1e3295da99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b115851b62ac2f257cabce0cee1f67e"><td class="memItemLeft" align="right" valign="top">static char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dce/udptl_8c.html#a9b115851b62ac2f257cabce0cee1f67e">handle_cli_udptl_set_debug</a> (struct <a class="el" href="../../d8/d07/structast__cli__entry.html">ast_cli_entry</a> *e, int cmd, struct <a class="el" href="../../d3/dad/structast__cli__args.html">ast_cli_args</a> *<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a>)</td></tr>
<tr class="separator:a9b115851b62ac2f257cabce0cee1f67e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3382bf6da54c56b37069bd76bbdf4f9"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dce/udptl_8c.html#ac3382bf6da54c56b37069bd76bbdf4f9">load_module</a> (void)</td></tr>
<tr class="separator:ac3382bf6da54c56b37069bd76bbdf4f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c6ac25ea7536c0bc9ed18cbcf917527"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dce/udptl_8c.html#a7c6ac25ea7536c0bc9ed18cbcf917527">reload_module</a> (void)</td></tr>
<tr class="separator:a7c6ac25ea7536c0bc9ed18cbcf917527"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1fb60010e4e3ca62158a67127deabd93"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dce/udptl_8c.html#a1fb60010e4e3ca62158a67127deabd93">removed_options_handler</a> (const struct <a class="el" href="../../db/de0/structaco__option.html">aco_option</a> *opt, struct <a class="el" href="../../dd/d02/structast__variable.html">ast_variable</a> *<a class="el" href="../../dc/df2/ast__expr2f_8c.html#a1b0936415a643c88ce543099c10e0d7f">var</a>, void *obj)</td></tr>
<tr class="separator:a1fb60010e4e3ca62158a67127deabd93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2ff9341ea549b0679a80c409637228c"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dce/udptl_8c.html#ad2ff9341ea549b0679a80c409637228c">udptl_build_packet</a> (struct <a class="el" href="../../d9/d81/structast__udptl.html">ast_udptl</a> *s, uint8_t *<a class="el" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, unsigned int buflen, uint8_t *ifp, unsigned int ifp_len)</td></tr>
<tr class="separator:ad2ff9341ea549b0679a80c409637228c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e8d65db7b122c711f174f6fe4fcafef"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dce/udptl_8c.html#a5e8d65db7b122c711f174f6fe4fcafef">udptl_config_destructor</a> (void *obj)</td></tr>
<tr class="separator:a5e8d65db7b122c711f174f6fe4fcafef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2beeec4dcecd9c3e01becd72393bf39a"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dce/udptl_8c.html#a2beeec4dcecd9c3e01becd72393bf39a">udptl_debug_test_addr</a> (const struct <a class="el" href="../../d3/db3/structast__sockaddr.html">ast_sockaddr</a> *addr)</td></tr>
<tr class="separator:a2beeec4dcecd9c3e01becd72393bf39a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8dbc1addfd99c00e7e7f496632aa6948"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dce/udptl_8c.html#a8dbc1addfd99c00e7e7f496632aa6948">udptl_pre_apply_config</a> (void)</td></tr>
<tr class="separator:a8dbc1addfd99c00e7e7f496632aa6948"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0db4385b032d828c9ec822008c79a061"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dce/udptl_8c.html#a0db4385b032d828c9ec822008c79a061">udptl_rx_packet</a> (struct <a class="el" href="../../d9/d81/structast__udptl.html">ast_udptl</a> *s, uint8_t *<a class="el" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, unsigned int <a class="el" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>)</td></tr>
<tr class="separator:a0db4385b032d828c9ec822008c79a061"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16a9faf748836fea2b38f5a138d50cd8"><td class="memItemLeft" align="right" valign="top">static void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dce/udptl_8c.html#a16a9faf748836fea2b38f5a138d50cd8">udptl_snapshot_alloc</a> (void)</td></tr>
<tr class="separator:a16a9faf748836fea2b38f5a138d50cd8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca6905df84f7b7a4905a3fadb50139c7"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dce/udptl_8c.html#aca6905df84f7b7a4905a3fadb50139c7">udptlread</a> (int *<a class="el" href="../../d1/da4/res__corosync_8c.html#a2465fd4497a7402ad72da7d6e03f9934">id</a>, int fd, short <a class="el" href="../../d2/d4d/astman_8c.html#a271a8325aeaad3b77ff2387c788af2b3">events</a>, void *cbdata)</td></tr>
<tr class="separator:aca6905df84f7b7a4905a3fadb50139c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad09fa931f468002152a3cc2d5ce25eae"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dce/udptl_8c.html#ad09fa931f468002152a3cc2d5ce25eae">unload_module</a> (void)</td></tr>
<tr class="separator:ad09fa931f468002152a3cc2d5ce25eae"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ab22f32016155f7f403e7178767163d7d"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dce/udptl_8c.html#ab22f32016155f7f403e7178767163d7d">__mod_info</a> = { .<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a> = <a class="el" href="../../da/ddd/named__acl_8c.html#aec23fc5034c3bb08140fc021f4955877">AST_MODULE</a>, .flags = <a class="el" href="../../d5/d16/module_8h.html#a155a0df9c59e04e305d4a2fa3e35f843a835b27a90d895a488e4e14cc3d2dee8c">AST_MODFLAG_GLOBAL_SYMBOLS</a> | <a class="el" href="../../d5/d16/module_8h.html#a155a0df9c59e04e305d4a2fa3e35f843a12c3f60dd7655dfa8d4430cbf04b1223">AST_MODFLAG_LOAD_ORDER</a> , .description = &quot;UDPTL&quot; , .key = &quot;This paragraph is copyright (<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>) 2006 by Digium, Inc. \In <a class="el" href="../../d5/d14/voicin_8c.html#aed7ca058008dc3e5ee131e575abed285">order</a> for your module to load, it must return this \key via <a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a> function called \&quot;key\&quot;. Any code which \includes this paragraph must <a class="el" href="../../dd/d7c/eagi__proxy_8c.html#a39730e90126aad69cfc9ca4d6fcdb3a6">be</a> licensed under the GNU \General Public License <a class="el" href="../../da/d7c/utils_2frame_8h.html#a56abfaab87c46691c1ef3ad0df23e864">version</a> 2 or later (at your \option). In addition to Digium's general reservations \of rights, Digium expressly reserves the right to \allow other parties to license this paragraph under \different terms. Any use of Digium, Inc. trademarks or \logos (including \&quot;Asterisk\&quot; or \&quot;Digium\&quot;) without \express written <a class="el" href="../../d4/d4c/structpermission.html">permission</a> of Digium, Inc. is prohibited.\n&quot; , .buildopt_sum = &quot;30ef0c93b36035ec78c9cfd712d36d9b&quot; , .support_level = AST_MODULE_SUPPORT_CORE, .load = load_module, .unload = unload_module, .reload = reload_module, .load_pri = AST_MODPRI_CORE, .requires = &quot;extconfig&quot;, }</td></tr>
<tr class="separator:ab22f32016155f7f403e7178767163d7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad60e83b9aa660040fed4d5377966cc21"><td class="memItemLeft" align="right" valign="top">static const struct <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dce/udptl_8c.html#ad60e83b9aa660040fed4d5377966cc21">ast_module_info</a> = &amp;<a class="el" href="../../d6/d7a/test__xml__escape_8c.html#ab22f32016155f7f403e7178767163d7d">__mod_info</a></td></tr>
<tr class="separator:ad60e83b9aa660040fed4d5377966cc21"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a307853ba74adbc85d4dd57bee618e674"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../d8/d07/structast__cli__entry.html">ast_cli_entry</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dce/udptl_8c.html#a307853ba74adbc85d4dd57bee618e674">cli_udptl</a> []</td></tr>
<tr class="separator:a307853ba74adbc85d4dd57bee618e674"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5be5fa967836c0f0c98763deaff227b7"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../de/d71/structaco__type.html">aco_type</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dce/udptl_8c.html#a5be5fa967836c0f0c98763deaff227b7">general_option</a></td></tr>
<tr class="separator:a5be5fa967836c0f0c98763deaff227b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e03f6233c516c1beb21b5b9285ed69f"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../de/d71/structaco__type.html">aco_type</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dce/udptl_8c.html#a8e03f6233c516c1beb21b5b9285ed69f">general_options</a> [] = <a class="el" href="../../db/dfe/config__options_8h.html#af773eedd7f94d718752798605c687c4b">ACO_TYPES</a>(&amp;<a class="el" href="../../dc/dec/res_2ari_2config_8c.html#a5be5fa967836c0f0c98763deaff227b7">general_option</a>)</td></tr>
<tr class="separator:a8e03f6233c516c1beb21b5b9285ed69f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a301a13a22973f02d4d148ef14df2e0f3"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../d9/d9c/structaco__file.html">aco_file</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dce/udptl_8c.html#a301a13a22973f02d4d148ef14df2e0f3">udptl_conf</a></td></tr>
<tr class="separator:a301a13a22973f02d4d148ef14df2e0f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade9088978427552c6020fd7453eedb57"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dce/udptl_8c.html#ade9088978427552c6020fd7453eedb57">udptldebug</a></td></tr>
<tr class="separator:ade9088978427552c6020fd7453eedb57"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc1b287af4445d491cc5f3e18d3df0d3"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../d3/db3/structast__sockaddr.html">ast_sockaddr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dce/udptl_8c.html#adc1b287af4445d491cc5f3e18d3df0d3">udptldebugaddr</a></td></tr>
<tr class="separator:adc1b287af4445d491cc5f3e18d3df0d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>UDPTL support for T.38 faxing. </p>
<dl class="section author"><dt>Author</dt><dd>Mark Spencer <a href="#" onclick="location.href='mai'+'lto:'+'mar'+'ks'+'ter'+'@d'+'igi'+'um'+'.co'+'m'; return false;">marks<span style="display: none;">.nosp@m.</span>ter@<span style="display: none;">.nosp@m.</span>digiu<span style="display: none;">.nosp@m.</span>m.co<span style="display: none;">.nosp@m.</span>m</a> </dd>
<dd>
Steve Underwood <a href="#" onclick="location.href='mai'+'lto:'+'ste'+'ve'+'u@c'+'op'+'pic'+'e.'+'org'; return false;">steve<span style="display: none;">.nosp@m.</span>u@co<span style="display: none;">.nosp@m.</span>ppice<span style="display: none;">.nosp@m.</span>.org</a> </dd>
<dd>
Kevin P. Fleming <a href="#" onclick="location.href='mai'+'lto:'+'kpf'+'le'+'min'+'g@'+'dig'+'iu'+'m.c'+'om'; return false;">kpfle<span style="display: none;">.nosp@m.</span>ming<span style="display: none;">.nosp@m.</span>@digi<span style="display: none;">.nosp@m.</span>um.c<span style="display: none;">.nosp@m.</span>om</a> </dd></dl>

<p class="definition">Definition in file <a class="el" href="../../d2/dce/udptl_8c_source.html">udptl.c</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a840abeaeb2ccc5dca63e7acfeed7ca87"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a840abeaeb2ccc5dca63e7acfeed7ca87">&#9670;&nbsp;</a></span>DEFAULT_FAX_MAX_DATAGRAM</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEFAULT_FAX_MAX_DATAGRAM&#160;&#160;&#160;400</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/dce/udptl_8c_source.html#l00134">134</a> of file <a class="el" href="../../d2/dce/udptl_8c_source.html">udptl.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/dce/udptl_8c_source.html#l00997">ast_udptl_set_far_max_datagram()</a>, and <a class="el" href="../../d2/dce/udptl_8c_source.html#l01161">ast_udptl_write()</a>.</p>

</div>
</div>
<a id="a1513c4df549704e7d71ca72f0ee7b390"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1513c4df549704e7d71ca72f0ee7b390">&#9670;&nbsp;</a></span>DEFAULT_UDPTLEND</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEFAULT_UDPTLEND&#160;&#160;&#160;4999</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/dce/udptl_8c_source.html#l00128">128</a> of file <a class="el" href="../../d2/dce/udptl_8c_source.html">udptl.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/dce/udptl_8c_source.html#l01396">load_module()</a>, and <a class="el" href="../../d2/dce/udptl_8c_source.html#l01344">udptl_pre_apply_config()</a>.</p>

</div>
</div>
<a id="a2e8121121d4cd54fc80a89115ad9b97f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2e8121121d4cd54fc80a89115ad9b97f">&#9670;&nbsp;</a></span>DEFAULT_UDPTLSTART</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEFAULT_UDPTLSTART&#160;&#160;&#160;4000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/dce/udptl_8c_source.html#l00127">127</a> of file <a class="el" href="../../d2/dce/udptl_8c_source.html">udptl.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/dce/udptl_8c_source.html#l01396">load_module()</a>, and <a class="el" href="../../d2/dce/udptl_8c_source.html#l01344">udptl_pre_apply_config()</a>.</p>

</div>
</div>
<a id="aa93f0eb578d23995850d61f7d61c55c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa93f0eb578d23995850d61f7d61c55c1">&#9670;&nbsp;</a></span>FALSE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FALSE&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/dce/udptl_8c_source.html#l00119">119</a> of file <a class="el" href="../../d2/dce/udptl_8c_source.html">udptl.c</a>.</p>

</div>
</div>
<a id="aa8f3d147dea9bd83782b759502fc60a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa8f3d147dea9bd83782b759502fc60a1">&#9670;&nbsp;</a></span>FAX_MAX_DATAGRAM_LIMIT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FAX_MAX_DATAGRAM_LIMIT&#160;&#160;&#160;1400</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/dce/udptl_8c_source.html#l00135">135</a> of file <a class="el" href="../../d2/dce/udptl_8c_source.html">udptl.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/dce/udptl_8c_source.html#l00997">ast_udptl_set_far_max_datagram()</a>.</p>

</div>
</div>
<a id="a7cebef58b6e2f580a8e74b7c133cd34b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7cebef58b6e2f580a8e74b7c133cd34b">&#9670;&nbsp;</a></span>LOCAL_FAX_MAX_DATAGRAM</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LOCAL_FAX_MAX_DATAGRAM&#160;&#160;&#160;1400</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/dce/udptl_8c_source.html#l00133">133</a> of file <a class="el" href="../../d2/dce/udptl_8c_source.html">udptl.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/dce/udptl_8c_source.html#l00831">calculate_local_max_datagram()</a>, <a class="el" href="../../d2/dce/udptl_8c_source.html#l00621">udptl_build_packet()</a>, and <a class="el" href="../../d2/dce/udptl_8c_source.html#l00381">udptl_rx_packet()</a>.</p>

</div>
</div>
<a id="a12f6e5fd71bc2bc7fcfc0583b035c862"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a12f6e5fd71bc2bc7fcfc0583b035c862">&#9670;&nbsp;</a></span>LOG_TAG</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LOG_TAG</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">u</td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="../../d4/dc5/extconf_8c.html#a2faaa16929951bfd2802b7829a100ba2">S_OR</a>(u-&gt;tag, &quot;no tag&quot;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/dce/udptl_8c_source.html#l00125">125</a> of file <a class="el" href="../../d2/dce/udptl_8c_source.html">udptl.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/dce/udptl_8c_source.html#l00762">ast_udptl_read()</a>, <a class="el" href="../../d2/dce/udptl_8c_source.html#l01161">ast_udptl_write()</a>, <a class="el" href="../../d2/dce/udptl_8c_source.html#l00872">calculate_far_max_ifp()</a>, <a class="el" href="../../d2/dce/udptl_8c_source.html#l00831">calculate_local_max_datagram()</a>, <a class="el" href="../../d2/dce/udptl_8c_source.html#l00348">encode_open_type()</a>, and <a class="el" href="../../d2/dce/udptl_8c_source.html#l00621">udptl_build_packet()</a>.</p>

</div>
</div>
<a id="a0113380b09f0d4b8cc6a98d70e4ef822"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0113380b09f0d4b8cc6a98d70e4ef822">&#9670;&nbsp;</a></span>MAX_FEC_ENTRIES</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_FEC_ENTRIES&#160;&#160;&#160;5</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/dce/udptl_8c_source.html#l00136">136</a> of file <a class="el" href="../../d2/dce/udptl_8c_source.html">udptl.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/dce/udptl_8c_source.html#l01396">load_module()</a>, and <a class="el" href="../../d2/dce/udptl_8c_source.html#l00381">udptl_rx_packet()</a>.</p>

</div>
</div>
<a id="a71b4edaf9975b131d08a7672db96ae0e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a71b4edaf9975b131d08a7672db96ae0e">&#9670;&nbsp;</a></span>MAX_FEC_SPAN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_FEC_SPAN&#160;&#160;&#160;5</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/dce/udptl_8c_source.html#l00137">137</a> of file <a class="el" href="../../d2/dce/udptl_8c_source.html">udptl.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/dce/udptl_8c_source.html#l01396">load_module()</a>.</p>

</div>
</div>
<a id="aa8cecfc5c5c054d2875c03e77b7be15d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa8cecfc5c5c054d2875c03e77b7be15d">&#9670;&nbsp;</a></span>TRUE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TRUE&#160;&#160;&#160;(!<a class="el" href="../../da/d7c/utils_2frame_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/dce/udptl_8c_source.html#l00122">122</a> of file <a class="el" href="../../d2/dce/udptl_8c_source.html">udptl.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/dce/udptl_8c_source.html#l00381">udptl_rx_packet()</a>.</p>

</div>
</div>
<a id="a5fc08f5f3152e66b9eb799375c8eafe5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5fc08f5f3152e66b9eb799375c8eafe5">&#9670;&nbsp;</a></span>UDPTL_BUF_MASK</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define UDPTL_BUF_MASK&#160;&#160;&#160;15</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/dce/udptl_8c_source.html#l00139">139</a> of file <a class="el" href="../../d2/dce/udptl_8c_source.html">udptl.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/dce/udptl_8c_source.html#l01028">ast_udptl_new_with_bindaddr()</a>, <a class="el" href="../../d2/dce/udptl_8c_source.html#l00621">udptl_build_packet()</a>, and <a class="el" href="../../d2/dce/udptl_8c_source.html#l00381">udptl_rx_packet()</a>.</p>

</div>
</div>
<a id="a48303cfd0f3317077b5334e1b6e0897f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a48303cfd0f3317077b5334e1b6e0897f">&#9670;&nbsp;</a></span>UDPTL_MTU</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define UDPTL_MTU&#160;&#160;&#160;1200</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/dce/udptl_8c_source.html#l00116">116</a> of file <a class="el" href="../../d2/dce/udptl_8c_source.html">udptl.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="acfdd6fa3b0b7a0acd4a9841c6596809d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acfdd6fa3b0b7a0acd4a9841c6596809d">&#9670;&nbsp;</a></span>__ast_udptl_reload()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void __ast_udptl_reload </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>reload</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/dce/udptl_8c_source.html#l01327">1327</a> of file <a class="el" href="../../d2/dce/udptl_8c_source.html">udptl.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/dc8/config__options_8c_source.html#l00652">aco_process_config()</a>, <a class="el" href="../../db/dfe/config__options_8h_source.html#l00527">ACO_PROCESS_ERROR</a>, <a class="el" href="../../d6/dc8/config__options_8c_source.html#l00924">aco_set_defaults()</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00908">ao2_global_obj_replace_unref</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d3/d4e/chan__console_8c.html#aa36e3e2c486b920b166c2d17c5242221">globals</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00263">LOG_NOTICE</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00911">RAII_VAR</a>, and <a class="el" href="../../d2/dce/udptl_8c_source.html#l01302">udptl_snapshot_alloc()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/dce/udptl_8c_source.html#l01396">load_module()</a>, and <a class="el" href="../../d2/dce/udptl_8c_source.html#l01376">reload_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;{</div><div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../db/dfe/config__options_8h.html#af28935f8c2547723d5922ebed1c71898">aco_process_config</a>(&amp;cfg_info, <a class="code" href="../../d0/d29/cdr__mysql_8c.html#ad1982509765f4870f1f63412a53ea668">reload</a>) == <a class="code" href="../../db/dfe/config__options_8h.html#a3b4f259d48ef20f47171b73078282d75a832b5997265d8870481f9684cbca5792">ACO_PROCESS_ERROR</a>) {</div><div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="../../d0/d29/cdr__mysql_8c.html#ad1982509765f4870f1f63412a53ea668">reload</a>) {</div><div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;         <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d9/dfc/structudptl__config.html">udptl_config</a> *, udptl_cfg, <a class="code" href="../../d2/dce/udptl_8c.html#a16a9faf748836fea2b38f5a138d50cd8">udptl_snapshot_alloc</a>(), <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;</div><div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;         <span class="keywordflow">if</span> (<a class="code" href="../../db/dfe/config__options_8h.html#a206bf60e38d1114efdeeabc35b7eaa69">aco_set_defaults</a>(&amp;<a class="code" href="../../d2/dce/udptl_8c.html#a5be5fa967836c0f0c98763deaff227b7">general_option</a>, <span class="stringliteral">&quot;general&quot;</span>, udptl_cfg-&gt;general)) {</div><div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;            <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Failed to load udptl.conf and failed to initialize defaults.\n&quot;</span>);</div><div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;         }</div><div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;</div><div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#ad89ee324d180cdcd7defcc709ff9ca42">LOG_NOTICE</a>, <span class="stringliteral">&quot;Could not load udptl config; using defaults\n&quot;</span>);</div><div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;         <a class="code" href="../../d5/da5/astobj2_8h.html#a3a11e1a1d3e99bed3ea0a7c57a3880d7">ao2_global_obj_replace_unref</a>(<a class="code" href="../../d3/d4e/chan__console_8c.html#aa36e3e2c486b920b166c2d17c5242221">globals</a>, udptl_cfg);</div><div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;      }</div><div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;   }</div><div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;}</div><div class="ttc" id="udptl_8c_html_a16a9faf748836fea2b38f5a138d50cd8"><div class="ttname"><a href="../../d2/dce/udptl_8c.html#a16a9faf748836fea2b38f5a138d50cd8">udptl_snapshot_alloc</a></div><div class="ttdeci">static void * udptl_snapshot_alloc(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l01302">udptl.c:1302</a></div></div>
<div class="ttc" id="structudptl__config_html"><div class="ttname"><a href="../../d9/dfc/structudptl__config.html">udptl_config</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00231">udptl.c:231</a></div></div>
<div class="ttc" id="config__options_8h_html_af28935f8c2547723d5922ebed1c71898"><div class="ttname"><a href="../../db/dfe/config__options_8h.html#af28935f8c2547723d5922ebed1c71898">aco_process_config</a></div><div class="ttdeci">enum aco_process_status aco_process_config(struct aco_info *info, int reload)</div><div class="ttdoc">Process a config info via the options registered with an aco_info. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dc8/config__options_8c_source.html#l00652">config_options.c:652</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="utils_8h_html_a1604b4d72144dd3d9f7da668e90337e9"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a></div><div class="ttdeci">#define RAII_VAR(vartype, varname, initval, dtor)</div><div class="ttdoc">Declare a variable that will call a destructor function when it goes out of scope. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00911">utils.h:911</a></div></div>
<div class="ttc" id="chan__console_8c_html_aa36e3e2c486b920b166c2d17c5242221"><div class="ttname"><a href="../../d3/d4e/chan__console_8c.html#aa36e3e2c486b920b166c2d17c5242221">globals</a></div><div class="ttdeci">static struct console_pvt globals</div></div>
<div class="ttc" id="config__options_8h_html_a3b4f259d48ef20f47171b73078282d75a832b5997265d8870481f9684cbca5792"><div class="ttname"><a href="../../db/dfe/config__options_8h.html#a3b4f259d48ef20f47171b73078282d75a832b5997265d8870481f9684cbca5792">ACO_PROCESS_ERROR</a></div><div class="ttdoc">Their was an error and no changes were applied. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/dfe/config__options_8h_source.html#l00527">config_options.h:527</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="logger_8h_html_ad89ee324d180cdcd7defcc709ff9ca42"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#ad89ee324d180cdcd7defcc709ff9ca42">LOG_NOTICE</a></div><div class="ttdeci">#define LOG_NOTICE</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00263">logger.h:263</a></div></div>
<div class="ttc" id="cdr__mysql_8c_html_ad1982509765f4870f1f63412a53ea668"><div class="ttname"><a href="../../d0/d29/cdr__mysql_8c.html#ad1982509765f4870f1f63412a53ea668">reload</a></div><div class="ttdeci">static int reload(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/cdr__mysql_8c_source.html#l00741">cdr_mysql.c:741</a></div></div>
<div class="ttc" id="config__options_8h_html_a206bf60e38d1114efdeeabc35b7eaa69"><div class="ttname"><a href="../../db/dfe/config__options_8h.html#a206bf60e38d1114efdeeabc35b7eaa69">aco_set_defaults</a></div><div class="ttdeci">int aco_set_defaults(struct aco_type *type, const char *category, void *obj)</div><div class="ttdoc">Set all default options of obj. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dc8/config__options_8c_source.html#l00924">config_options.c:924</a></div></div>
<div class="ttc" id="astobj2_8h_html_a3a11e1a1d3e99bed3ea0a7c57a3880d7"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a3a11e1a1d3e99bed3ea0a7c57a3880d7">ao2_global_obj_replace_unref</a></div><div class="ttdeci">#define ao2_global_obj_replace_unref(holder, obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00908">astobj2.h:908</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="udptl_8c_html_a5be5fa967836c0f0c98763deaff227b7"><div class="ttname"><a href="../../d2/dce/udptl_8c.html#a5be5fa967836c0f0c98763deaff227b7">general_option</a></div><div class="ttdeci">static struct aco_type general_option</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00238">udptl.c:238</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a88b7c88fed6b80fd18f34f97757dfc04"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a88b7c88fed6b80fd18f34f97757dfc04">&#9670;&nbsp;</a></span>__reg_module()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void __reg_module </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/dce/udptl_8c_source.html#l01441">1441</a> of file <a class="el" href="../../d2/dce/udptl_8c_source.html">udptl.c</a>.</p>

</div>
</div>
<a id="afeab1257bd17282b95875499393a147a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afeab1257bd17282b95875499393a147a">&#9670;&nbsp;</a></span>__unreg_module()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void __unreg_module </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/dce/udptl_8c_source.html#l01441">1441</a> of file <a class="el" href="../../d2/dce/udptl_8c_source.html">udptl.c</a>.</p>

</div>
</div>
<a id="a6b8f4ce31d30e5a3e2c3894e6224f952"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6b8f4ce31d30e5a3e2c3894e6224f952">&#9670;&nbsp;</a></span>AO2_GLOBAL_OBJ_STATIC()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static AO2_GLOBAL_OBJ_STATIC </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/dc5/extconf_8c.html#aec3689c71194f8504dafc644005a97db">globals</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a4fb0aca9bbcdb9709fa52a70aded6cae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4fb0aca9bbcdb9709fa52a70aded6cae">&#9670;&nbsp;</a></span>AST_MODULE_SELF_SYM()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d9/df5/structast__module.html">ast_module</a>* AST_MODULE_SELF_SYM </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/dce/udptl_8c_source.html#l01441">1441</a> of file <a class="el" href="../../d2/dce/udptl_8c_source.html">udptl.c</a>.</p>

</div>
</div>
<a id="a0c14cc450fe0891cbee26ffd74cf77cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c14cc450fe0891cbee26ffd74cf77cb">&#9670;&nbsp;</a></span>ast_udptl_destroy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_udptl_destroy </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d9/d81/structast__udptl.html">ast_udptl</a> *&#160;</td>
          <td class="paramname"><em>udptl</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/dce/udptl_8c_source.html#l01150">1150</a> of file <a class="el" href="../../d2/dce/udptl_8c_source.html">udptl.c</a>.</p>

<p class="reference">References <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../df/d0a/io_8c_source.html#l00245">ast_io_remove()</a>, <a class="el" href="../../d2/dce/udptl_8c_source.html#l00157">ast_udptl::fd</a>, <a class="el" href="../../d2/dce/udptl_8c_source.html#l00168">ast_udptl::io</a>, <a class="el" href="../../d2/dce/udptl_8c_source.html#l00166">ast_udptl::ioid</a>, and <a class="el" href="../../d2/dce/udptl_8c_source.html#l00170">ast_udptl::tag</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l04117">ooh323_destroy()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l06673">sip_pvt_dtor()</a>, and <a class="el" href="../../dc/d80/res__pjsip__t38_8c_source.html#l01064">stream_destroy()</a>.</p>
<div class="fragment"><div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;{</div><div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;   <span class="keywordflow">if</span> (udptl-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a378e4ecae74acafadf99a691f65f2419">ioid</a>)</div><div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;      <a class="code" href="../../dc/dac/io_8h.html#afbf1092b96128d07d0dd08dfa898f4d5">ast_io_remove</a>(udptl-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#abda48311b6abe5a4dd8b6904ddde0a6d">io</a>, udptl-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a378e4ecae74acafadf99a691f65f2419">ioid</a>);</div><div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;   <span class="keywordflow">if</span> (udptl-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a6f8059414f0228f0256115e024eeed4b">fd</a> &gt; -1)</div><div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;      close(udptl-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a6f8059414f0228f0256115e024eeed4b">fd</a>);</div><div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;   <span class="keywordflow">if</span> (udptl-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a7bb5e40c10df6a41df64bda1f4bb3e26">tag</a>)</div><div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(udptl-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a7bb5e40c10df6a41df64bda1f4bb3e26">tag</a>);</div><div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;   <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(udptl);</div><div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;}</div><div class="ttc" id="structast__udptl_html_a6f8059414f0228f0256115e024eeed4b"><div class="ttname"><a href="../../d9/d81/structast__udptl.html#a6f8059414f0228f0256115e024eeed4b">ast_udptl::fd</a></div><div class="ttdeci">int fd</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00157">udptl.c:157</a></div></div>
<div class="ttc" id="structast__udptl_html_a378e4ecae74acafadf99a691f65f2419"><div class="ttname"><a href="../../d9/d81/structast__udptl.html#a378e4ecae74acafadf99a691f65f2419">ast_udptl::ioid</a></div><div class="ttdeci">int * ioid</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00166">udptl.c:166</a></div></div>
<div class="ttc" id="structast__udptl_html_a7bb5e40c10df6a41df64bda1f4bb3e26"><div class="ttname"><a href="../../d9/d81/structast__udptl.html#a7bb5e40c10df6a41df64bda1f4bb3e26">ast_udptl::tag</a></div><div class="ttdeci">char * tag</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00170">udptl.c:170</a></div></div>
<div class="ttc" id="structast__udptl_html_abda48311b6abe5a4dd8b6904ddde0a6d"><div class="ttname"><a href="../../d9/d81/structast__udptl.html#abda48311b6abe5a4dd8b6904ddde0a6d">ast_udptl::io</a></div><div class="ttdeci">struct io_context * io</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00168">udptl.c:168</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="io_8h_html_afbf1092b96128d07d0dd08dfa898f4d5"><div class="ttname"><a href="../../dc/dac/io_8h.html#afbf1092b96128d07d0dd08dfa898f4d5">ast_io_remove</a></div><div class="ttdeci">int ast_io_remove(struct io_context *ioc, int *id)</div><div class="ttdoc">Removes an IO context. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0a/io_8c_source.html#l00245">io.c:245</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a424e6e48fcfa491a9ee6da3c8a7162a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a424e6e48fcfa491a9ee6da3c8a7162a3">&#9670;&nbsp;</a></span>ast_udptl_fd()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_udptl_fd </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d9/d81/structast__udptl.html">ast_udptl</a> *&#160;</td>
          <td class="paramname"><em>udptl</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/dce/udptl_8c_source.html#l00730">730</a> of file <a class="el" href="../../d2/dce/udptl_8c_source.html">udptl.c</a>.</p>

<p class="reference">References <a class="el" href="../../d2/dce/udptl_8c_source.html#l00157">ast_udptl::fd</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/d80/res__pjsip__t38_8c_source.html#l00998">apply_negotiated_sdp_stream()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l04599">configure_local_rtp()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l07862">initialize_udptl()</a>, and <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l08161">sip_new()</a>.</p>
<div class="fragment"><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;{</div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;   <span class="keywordflow">return</span> udptl-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a6f8059414f0228f0256115e024eeed4b">fd</a>;</div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;}</div><div class="ttc" id="structast__udptl_html_a6f8059414f0228f0256115e024eeed4b"><div class="ttname"><a href="../../d9/d81/structast__udptl.html#a6f8059414f0228f0256115e024eeed4b">ast_udptl::fd</a></div><div class="ttdeci">int fd</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00157">udptl.c:157</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a10b606a6ac66cc148ea1c43a508ebb6d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a10b606a6ac66cc148ea1c43a508ebb6d">&#9670;&nbsp;</a></span>ast_udptl_get_error_correction_scheme()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../d5/da1/udptl_8h.html#af968992af6d7e1186843a2eb371c9795">ast_t38_ec_modes</a> ast_udptl_get_error_correction_scheme </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d9/d81/structast__udptl.html">ast_udptl</a> *&#160;</td>
          <td class="paramname"><em>udptl</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/dce/udptl_8c_source.html#l00940">940</a> of file <a class="el" href="../../d2/dce/udptl_8c_source.html">udptl.c</a>.</p>

<p class="reference">References <a class="el" href="../../d2/dce/udptl_8c_source.html#l00176">ast_udptl::error_correction_scheme</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l13542">add_sdp()</a>, and <a class="el" href="../../dc/d80/res__pjsip__t38_8c_source.html#l00863">create_outgoing_sdp_stream()</a>.</p>
<div class="fragment"><div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;{</div><div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;   <span class="keywordflow">return</span> udptl-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#ac215dbaf54319e257d2c33ecd70c36c5">error_correction_scheme</a>;</div><div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;}</div><div class="ttc" id="structast__udptl_html_ac215dbaf54319e257d2c33ecd70c36c5"><div class="ttname"><a href="../../d9/d81/structast__udptl.html#ac215dbaf54319e257d2c33ecd70c36c5">ast_udptl::error_correction_scheme</a></div><div class="ttdeci">enum ast_t38_ec_modes error_correction_scheme</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00176">udptl.c:176</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad81d6dc0df37c1b771f803c431cc102a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad81d6dc0df37c1b771f803c431cc102a">&#9670;&nbsp;</a></span>ast_udptl_get_far_max_datagram()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int ast_udptl_get_far_max_datagram </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d9/d81/structast__udptl.html">ast_udptl</a> *&#160;</td>
          <td class="paramname"><em>udptl</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/dce/udptl_8c_source.html#l01008">1008</a> of file <a class="el" href="../../d2/dce/udptl_8c_source.html">udptl.c</a>.</p>

<p class="reference">References <a class="el" href="../../d2/dce/udptl_8c_source.html#l00191">ast_udptl::far_max_datagram</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l10253">process_sdp()</a>.</p>
<div class="fragment"><div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;{</div><div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;   <span class="keywordflow">if</span> (udptl-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a57bdb7e31fa5ba4d3f96658d472e5b94">far_max_datagram</a> &lt; 0) {</div><div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;   }</div><div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;   <span class="keywordflow">return</span> udptl-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a57bdb7e31fa5ba4d3f96658d472e5b94">far_max_datagram</a>;</div><div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;}</div><div class="ttc" id="structast__udptl_html_a57bdb7e31fa5ba4d3f96658d472e5b94"><div class="ttname"><a href="../../d9/d81/structast__udptl.html#a57bdb7e31fa5ba4d3f96658d472e5b94">ast_udptl::far_max_datagram</a></div><div class="ttdeci">int far_max_datagram</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00191">udptl.c:191</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a72d15492e0a4594c95848800a93017f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a72d15492e0a4594c95848800a93017f3">&#9670;&nbsp;</a></span>ast_udptl_get_far_max_ifp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int ast_udptl_get_far_max_ifp </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d9/d81/structast__udptl.html">ast_udptl</a> *&#160;</td>
          <td class="paramname"><em>udptl</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>retrieves far max ifp </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">positive</td><td>value representing max ifp size </td></tr>
    <tr><td class="paramname">0</td><td>if no value is present </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d2/dce/udptl_8c_source.html#l01016">1016</a> of file <a class="el" href="../../d2/dce/udptl_8c_source.html">udptl.c</a>.</p>

<p class="reference">References <a class="el" href="../../d2/dce/udptl_8c_source.html#l00872">calculate_far_max_ifp()</a>, and <a class="el" href="../../d2/dce/udptl_8c_source.html#l00205">ast_udptl::far_max_ifp</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l05889">change_t38_state()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l07753">interpret_t38_parameters()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l05076">onModeChanged()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l01280">ooh323_indicate()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l04839">setup_udptl_connection()</a>, <a class="el" href="../../dc/d80/res__pjsip__t38_8c_source.html#l00129">t38_change_state()</a>, and <a class="el" href="../../dc/d80/res__pjsip__t38_8c_source.html#l00428">t38_interpret_parameters()</a>.</p>
<div class="fragment"><div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;{</div><div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;   <span class="keywordflow">if</span> (udptl-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a95f0114a9c3434fbe3743868a613480b">far_max_ifp</a> == -1) {</div><div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;      <a class="code" href="../../d2/dce/udptl_8c.html#a541dbf72506ff6bead2d506613979e24">calculate_far_max_ifp</a>(udptl);</div><div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;   }</div><div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;</div><div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;   <span class="keywordflow">if</span> (udptl-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a95f0114a9c3434fbe3743868a613480b">far_max_ifp</a> &lt; 0) {</div><div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;   }</div><div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;   <span class="keywordflow">return</span> udptl-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a95f0114a9c3434fbe3743868a613480b">far_max_ifp</a>;</div><div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;}</div><div class="ttc" id="structast__udptl_html_a95f0114a9c3434fbe3743868a613480b"><div class="ttname"><a href="../../d9/d81/structast__udptl.html#a95f0114a9c3434fbe3743868a613480b">ast_udptl::far_max_ifp</a></div><div class="ttdeci">int far_max_ifp</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00205">udptl.c:205</a></div></div>
<div class="ttc" id="udptl_8c_html_a541dbf72506ff6bead2d506613979e24"><div class="ttname"><a href="../../d2/dce/udptl_8c.html#a541dbf72506ff6bead2d506613979e24">calculate_far_max_ifp</a></div><div class="ttdeci">static void calculate_far_max_ifp(struct ast_udptl *udptl)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00872">udptl.c:872</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aac14f584f25701499a840fd9b1ee30a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac14f584f25701499a840fd9b1ee30a5">&#9670;&nbsp;</a></span>ast_udptl_get_local_max_datagram()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int ast_udptl_get_local_max_datagram </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d9/d81/structast__udptl.html">ast_udptl</a> *&#160;</td>
          <td class="paramname"><em>udptl</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>retrieves local_max_datagram. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">positive</td><td>value representing max datagram size. </td></tr>
    <tr><td class="paramname">0</td><td>if no value is present </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d2/dce/udptl_8c_source.html#l00984">984</a> of file <a class="el" href="../../d2/dce/udptl_8c_source.html">udptl.c</a>.</p>

<p class="reference">References <a class="el" href="../../d2/dce/udptl_8c_source.html#l00831">calculate_local_max_datagram()</a>, and <a class="el" href="../../d2/dce/udptl_8c_source.html#l00197">ast_udptl::local_max_datagram</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l13542">add_sdp()</a>, and <a class="el" href="../../dc/d80/res__pjsip__t38_8c_source.html#l00863">create_outgoing_sdp_stream()</a>.</p>
<div class="fragment"><div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;{</div><div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;   <span class="keywordflow">if</span> (udptl-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#aa6de52220e98717c22a45506d1aad1eb">local_max_datagram</a> == -1) {</div><div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;      <a class="code" href="../../d2/dce/udptl_8c.html#ab3acebf54181c51340a4a3fa080525a8">calculate_local_max_datagram</a>(udptl);</div><div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;   }</div><div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;</div><div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;   <span class="comment">/* this function expects a unsigned value in return. */</span></div><div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;   <span class="keywordflow">if</span> (udptl-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#aa6de52220e98717c22a45506d1aad1eb">local_max_datagram</a> &lt; 0) {</div><div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;   }</div><div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;   <span class="keywordflow">return</span> udptl-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#aa6de52220e98717c22a45506d1aad1eb">local_max_datagram</a>;</div><div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;}</div><div class="ttc" id="structast__udptl_html_aa6de52220e98717c22a45506d1aad1eb"><div class="ttname"><a href="../../d9/d81/structast__udptl.html#aa6de52220e98717c22a45506d1aad1eb">ast_udptl::local_max_datagram</a></div><div class="ttdeci">int local_max_datagram</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00197">udptl.c:197</a></div></div>
<div class="ttc" id="udptl_8c_html_ab3acebf54181c51340a4a3fa080525a8"><div class="ttname"><a href="../../d2/dce/udptl_8c.html#ab3acebf54181c51340a4a3fa080525a8">calculate_local_max_datagram</a></div><div class="ttdeci">static void calculate_local_max_datagram(struct ast_udptl *udptl)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00831">udptl.c:831</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a4af102e6f654fa4199e192afbff5af99"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4af102e6f654fa4199e192afbff5af99">&#9670;&nbsp;</a></span>ast_udptl_get_peer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_udptl_get_peer </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d9/d81/structast__udptl.html">ast_udptl</a> *&#160;</td>
          <td class="paramname"><em>udptl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d3/db3/structast__sockaddr.html">ast_sockaddr</a> *&#160;</td>
          <td class="paramname"><em>them</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/dce/udptl_8c_source.html#l01135">1135</a> of file <a class="el" href="../../d2/dce/udptl_8c_source.html">udptl.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/df1/netsock2_8h_source.html#l00171">ast_sockaddr_copy()</a>, and <a class="el" href="../../d2/dce/udptl_8c_source.html#l00165">ast_udptl::them</a>.</p>
<div class="fragment"><div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;{</div><div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;   <a class="code" href="../../db/df1/netsock2_8h.html#a56a46003c93bfd65111ea8ffc97af8f9">ast_sockaddr_copy</a>(them, &amp;udptl-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a6b3ede593a835ebd86bdb9f9f4b683a9">them</a>);</div><div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;}</div><div class="ttc" id="netsock2_8h_html_a56a46003c93bfd65111ea8ffc97af8f9"><div class="ttname"><a href="../../db/df1/netsock2_8h.html#a56a46003c93bfd65111ea8ffc97af8f9">ast_sockaddr_copy</a></div><div class="ttdeci">static void ast_sockaddr_copy(struct ast_sockaddr *dst, const struct ast_sockaddr *src)</div><div class="ttdoc">Copies the data from one ast_sockaddr to another. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/df1/netsock2_8h_source.html#l00171">netsock2.h:171</a></div></div>
<div class="ttc" id="structast__udptl_html_a6b3ede593a835ebd86bdb9f9f4b683a9"><div class="ttname"><a href="../../d9/d81/structast__udptl.html#a6b3ede593a835ebd86bdb9f9f4b683a9">ast_udptl::them</a></div><div class="ttdeci">struct ast_sockaddr them</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00165">udptl.c:165</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a7dcb742a0ff23a358e2b59b290e36577"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7dcb742a0ff23a358e2b59b290e36577">&#9670;&nbsp;</a></span>ast_udptl_get_us()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_udptl_get_us </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d9/d81/structast__udptl.html">ast_udptl</a> *&#160;</td>
          <td class="paramname"><em>udptl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d3/db3/structast__sockaddr.html">ast_sockaddr</a> *&#160;</td>
          <td class="paramname"><em>us</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/dce/udptl_8c_source.html#l01140">1140</a> of file <a class="el" href="../../d2/dce/udptl_8c_source.html">udptl.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/df1/netsock2_8h_source.html#l00171">ast_sockaddr_copy()</a>, and <a class="el" href="../../d2/dce/udptl_8c_source.html#l00164">ast_udptl::us</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l13542">add_sdp()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l04599">configure_local_rtp()</a>, and <a class="el" href="../../dc/d80/res__pjsip__t38_8c_source.html#l00863">create_outgoing_sdp_stream()</a>.</p>
<div class="fragment"><div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;{</div><div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;   <a class="code" href="../../db/df1/netsock2_8h.html#a56a46003c93bfd65111ea8ffc97af8f9">ast_sockaddr_copy</a>(us, &amp;udptl-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#ad6a981159f3117c2c01a71d4693ff03b">us</a>);</div><div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;}</div><div class="ttc" id="netsock2_8h_html_a56a46003c93bfd65111ea8ffc97af8f9"><div class="ttname"><a href="../../db/df1/netsock2_8h.html#a56a46003c93bfd65111ea8ffc97af8f9">ast_sockaddr_copy</a></div><div class="ttdeci">static void ast_sockaddr_copy(struct ast_sockaddr *dst, const struct ast_sockaddr *src)</div><div class="ttdoc">Copies the data from one ast_sockaddr to another. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/df1/netsock2_8h_source.html#l00171">netsock2.h:171</a></div></div>
<div class="ttc" id="structast__udptl_html_ad6a981159f3117c2c01a71d4693ff03b"><div class="ttname"><a href="../../d9/d81/structast__udptl.html#ad6a981159f3117c2c01a71d4693ff03b">ast_udptl::us</a></div><div class="ttdeci">struct ast_sockaddr us</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00164">udptl.c:164</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aaa40dd888a667351c9a16ba32b90f03f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaa40dd888a667351c9a16ba32b90f03f">&#9670;&nbsp;</a></span>ast_udptl_new_with_bindaddr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d9/d81/structast__udptl.html">ast_udptl</a>* ast_udptl_new_with_bindaddr </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d7/de8/structast__sched__context.html">ast_sched_context</a> *&#160;</td>
          <td class="paramname"><em>sched</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d5/d55/structio__context.html">io_context</a> *&#160;</td>
          <td class="paramname"><em>io</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>callbackmode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d3/db3/structast__sockaddr.html">ast_sockaddr</a> *&#160;</td>
          <td class="paramname"><em>addr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/dce/udptl_8c_source.html#l01028">1028</a> of file <a class="el" href="../../d2/dce/udptl_8c_source.html">udptl.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00925">ao2_global_obj_ref</a>, <a class="el" href="../../d4/d27/netsock2_8c_source.html#l00590">ast_bind()</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00204">ast_calloc</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../df/d0a/io_8c_source.html#l00162">ast_io_add()</a>, <a class="el" href="../../dc/dac/io_8h_source.html#l00034">AST_IO_IN</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../de/d1f/main_2utils_8c_source.html#l02064">ast_random()</a>, <a class="el" href="../../db/df1/netsock2_8h_source.html#l00171">ast_sockaddr_copy()</a>, <a class="el" href="../../d4/d27/netsock2_8c_source.html#l00524">ast_sockaddr_is_ipv6()</a>, <a class="el" href="../../db/df1/netsock2_8h_source.html#l00537">ast_sockaddr_set_port</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l01043">ast_socket_nonblock</a>, <a class="el" href="../../d2/dce/udptl_8c_source.html#l00142">udptl_fec_tx_buffer_t::buf_len</a>, <a class="el" href="../../d2/dce/udptl_8c_source.html#l00147">udptl_fec_rx_buffer_t::buf_len</a>, <a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a>, <a class="el" href="../../d2/dce/udptl_8c_source.html#l00181">ast_udptl::error_correction_entries</a>, <a class="el" href="../../d2/dce/udptl_8c_source.html#l00186">ast_udptl::error_correction_span</a>, <a class="el" href="../../d2/dce/udptl_8c_source.html#l00191">ast_udptl::far_max_datagram</a>, <a class="el" href="../../d2/dce/udptl_8c_source.html#l00205">ast_udptl::far_max_ifp</a>, <a class="el" href="../../d2/dce/udptl_8c_source.html#l00157">ast_udptl::fd</a>, <a class="el" href="../../d3/d4e/chan__console_8c.html#aa36e3e2c486b920b166c2d17c5242221">globals</a>, <a class="el" href="../../d2/dce/udptl_8c_source.html#l00168">ast_udptl::io</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00401">io</a>, <a class="el" href="../../d2/dce/udptl_8c_source.html#l00166">ast_udptl::ioid</a>, <a class="el" href="../../d2/dce/udptl_8c_source.html#l00197">ast_udptl::local_max_datagram</a>, <a class="el" href="../../d2/dce/udptl_8c_source.html#l00211">ast_udptl::local_max_ifp</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00911">RAII_VAR</a>, <a class="el" href="../../d2/dce/udptl_8c_source.html#l00217">ast_udptl::rx</a>, <a class="el" href="../../d2/dce/udptl_8c_source.html#l00167">ast_udptl::sched</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00400">sched</a>, <a class="el" href="../../d2/dce/udptl_8c_source.html#l00216">ast_udptl::tx</a>, <a class="el" href="../../d2/dce/udptl_8c_source.html#l00139">UDPTL_BUF_MASK</a>, <a class="el" href="../../d2/dce/udptl_8c_source.html#l00750">udptlread()</a>, and <a class="el" href="../../d2/dce/udptl_8c_source.html#l00164">ast_udptl::us</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l04599">configure_local_rtp()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l07862">initialize_udptl()</a>, and <a class="el" href="../../dc/d80/res__pjsip__t38_8c_source.html#l00256">t38_initialize_session()</a>.</p>
<div class="fragment"><div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;{</div><div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/d81/structast__udptl.html">ast_udptl</a> *udptl;</div><div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;   <span class="keywordtype">int</span> x;</div><div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;   <span class="keywordtype">int</span> startplace;</div><div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;   <span class="keywordtype">int</span> i;</div><div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d9/dfc/structudptl__config.html">udptl_config</a> *, cfg, <a class="code" href="../../d5/da5/astobj2_8h.html#a86d8d6c3c8866ed0a60121da055cd225">ao2_global_obj_ref</a>(<a class="code" href="../../d3/d4e/chan__console_8c.html#aa36e3e2c486b920b166c2d17c5242221">globals</a>), <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;</div><div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;   <span class="keywordflow">if</span> (!cfg || !cfg-&gt;general) {</div><div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;Could not access global udptl options!\n&quot;</span>);</div><div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;   }</div><div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;</div><div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;   <span class="keywordflow">if</span> (!(udptl = <a class="code" href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a>(1, <span class="keyword">sizeof</span>(*udptl)))) {</div><div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;   }</div><div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;</div><div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;   udptl-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#aa3ea4f55135ebfe86fb4d34b891fe618">error_correction_span</a> = cfg-&gt;general-&gt;fecspan;</div><div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;   udptl-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a53a056eca513e58ba0819110f0e62bc8">error_correction_entries</a> = cfg-&gt;general-&gt;fecentries;</div><div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;</div><div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;   udptl-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a57bdb7e31fa5ba4d3f96658d472e5b94">far_max_datagram</a> = -1;</div><div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;   udptl-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a95f0114a9c3434fbe3743868a613480b">far_max_ifp</a> = -1;</div><div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;   udptl-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a832188d785b133f8195c9c74de833141">local_max_ifp</a> = -1;</div><div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;   udptl-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#aa6de52220e98717c22a45506d1aad1eb">local_max_datagram</a> = -1;</div><div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;</div><div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;   <span class="keywordflow">for</span> (i = 0; i &lt;= <a class="code" href="../../d2/dce/udptl_8c.html#a5fc08f5f3152e66b9eb799375c8eafe5">UDPTL_BUF_MASK</a>; i++) {</div><div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;      udptl-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a88620be29521fa573c4dea697a7a4258">rx</a>[i].<a class="code" href="../../de/dd5/structudptl__fec__rx__buffer__t.html#a7666bbf00997cc13da27d55cb05d27c4">buf_len</a> = -1;</div><div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;      udptl-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#af0c6829f8a5272ece732cd1ac1b3094a">tx</a>[i].<a class="code" href="../../d9/dd6/structudptl__fec__tx__buffer__t.html#a7666bbf00997cc13da27d55cb05d27c4">buf_len</a> = -1;</div><div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;   }</div><div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;</div><div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;   <span class="keywordflow">if</span> ((udptl-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a6f8059414f0228f0256115e024eeed4b">fd</a> = <a class="code" href="../../d5/d60/utils_8h.html#a4aacbe2dadb9b8befc5a76765ea6d14b">ast_socket_nonblock</a>(<a class="code" href="../../db/df1/netsock2_8h.html#a579748bd6ceddd06b1cc6eb3578e8acc">ast_sockaddr_is_ipv6</a>(addr) ?</div><div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;               AF_INET6 : AF_INET, SOCK_DGRAM, 0)) &lt; 0) {</div><div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(udptl);</div><div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Unable to allocate socket: %s\n&quot;</span>, strerror(<a class="code" href="../../d1/d6e/main_2stdtime_2private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a>));</div><div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;   }</div><div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;</div><div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;<span class="preprocessor">#ifdef SO_NO_CHECK</span></div><div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;   <span class="keywordflow">if</span> (cfg-&gt;general-&gt;nochecksums)</div><div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;      setsockopt(udptl-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a6f8059414f0228f0256115e024eeed4b">fd</a>, SOL_SOCKET, SO_NO_CHECK, &amp;cfg-&gt;general-&gt;nochecksums, <span class="keyword">sizeof</span>(cfg-&gt;general-&gt;nochecksums));</div><div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;</div><div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;   <span class="comment">/* Find us a place */</span></div><div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;   x = (cfg-&gt;general-&gt;start == cfg-&gt;general-&gt;end) ? cfg-&gt;general-&gt;start : (<a class="code" href="../../d5/d60/utils_8h.html#a7b4f10b070e95ba413e258a3e4b03c20">ast_random</a>() % (cfg-&gt;general-&gt;end - cfg-&gt;general-&gt;start)) + cfg-&gt;general-&gt;start;</div><div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;   <span class="keywordflow">if</span> (cfg-&gt;general-&gt;use_even_ports &amp;&amp; (x &amp; 1)) {</div><div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;      ++x;</div><div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;   }</div><div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;   startplace = x;</div><div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;   <span class="keywordflow">for</span> (;;) {</div><div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;      <a class="code" href="../../db/df1/netsock2_8h.html#a56a46003c93bfd65111ea8ffc97af8f9">ast_sockaddr_copy</a>(&amp;udptl-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#ad6a981159f3117c2c01a71d4693ff03b">us</a>, addr);</div><div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;      <a class="code" href="../../db/df1/netsock2_8h.html#ac83e6bdec376b74d02da8d2f8e1af888">ast_sockaddr_set_port</a>(&amp;udptl-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#ad6a981159f3117c2c01a71d4693ff03b">us</a>, x);</div><div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../db/df1/netsock2_8h.html#a58f856feeaf684b7d5353357e85a0dd5">ast_bind</a>(udptl-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a6f8059414f0228f0256115e024eeed4b">fd</a>, &amp;udptl-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#ad6a981159f3117c2c01a71d4693ff03b">us</a>) == 0) {</div><div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;      }</div><div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d1/d6e/main_2stdtime_2private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a> != EADDRINUSE &amp;&amp; <a class="code" href="../../d1/d6e/main_2stdtime_2private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a> != EACCES) {</div><div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Unexpected bind error: %s\n&quot;</span>, strerror(<a class="code" href="../../d1/d6e/main_2stdtime_2private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a>));</div><div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;         close(udptl-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a6f8059414f0228f0256115e024eeed4b">fd</a>);</div><div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;         <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(udptl);</div><div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;         <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;      }</div><div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;      <span class="keywordflow">if</span> (cfg-&gt;general-&gt;use_even_ports) {</div><div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;         x += 2;</div><div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;         ++x;</div><div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;      }</div><div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;      <span class="keywordflow">if</span> (x &gt; cfg-&gt;general-&gt;end)</div><div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;         x = cfg-&gt;general-&gt;start;</div><div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;      <span class="keywordflow">if</span> (x == startplace) {</div><div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;No UDPTL ports remaining\n&quot;</span>);</div><div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;         close(udptl-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a6f8059414f0228f0256115e024eeed4b">fd</a>);</div><div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;         <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(udptl);</div><div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;         <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;      }</div><div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;   }</div><div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;   <span class="keywordflow">if</span> (io &amp;&amp; sched &amp;&amp; callbackmode) {</div><div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;      <span class="comment">/* Operate this one in a callback mode */</span></div><div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;      udptl-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a361b448e9abcfc301602a2573a662d3c">sched</a> = <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a361b448e9abcfc301602a2573a662d3c">sched</a>;</div><div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;      udptl-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#abda48311b6abe5a4dd8b6904ddde0a6d">io</a> = <a class="code" href="../../d7/d49/chan__ooh323_8c.html#abda48311b6abe5a4dd8b6904ddde0a6d">io</a>;</div><div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;      udptl-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a378e4ecae74acafadf99a691f65f2419">ioid</a> = <a class="code" href="../../dc/dac/io_8h.html#aa250c3f6541dc5734deb966d6821da7a">ast_io_add</a>(udptl-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#abda48311b6abe5a4dd8b6904ddde0a6d">io</a>, udptl-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a6f8059414f0228f0256115e024eeed4b">fd</a>, <a class="code" href="../../d2/dce/udptl_8c.html#aca6905df84f7b7a4905a3fadb50139c7">udptlread</a>, <a class="code" href="../../dc/dac/io_8h.html#a0d9e01f215782a343a1b71b5be362080">AST_IO_IN</a>, udptl);</div><div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;   }</div><div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;</div><div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;   <span class="keywordflow">return</span> udptl;</div><div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;}</div><div class="ttc" id="structast__udptl_html_a6f8059414f0228f0256115e024eeed4b"><div class="ttname"><a href="../../d9/d81/structast__udptl.html#a6f8059414f0228f0256115e024eeed4b">ast_udptl::fd</a></div><div class="ttdeci">int fd</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00157">udptl.c:157</a></div></div>
<div class="ttc" id="chan__ooh323_8c_html_a361b448e9abcfc301602a2573a662d3c"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a361b448e9abcfc301602a2573a662d3c">sched</a></div><div class="ttdeci">static struct ast_sched_context * sched</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00400">chan_ooh323.c:400</a></div></div>
<div class="ttc" id="structast__udptl_html_aa3ea4f55135ebfe86fb4d34b891fe618"><div class="ttname"><a href="../../d9/d81/structast__udptl.html#aa3ea4f55135ebfe86fb4d34b891fe618">ast_udptl::error_correction_span</a></div><div class="ttdeci">unsigned int error_correction_span</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00186">udptl.c:186</a></div></div>
<div class="ttc" id="structast__udptl_html_aa6de52220e98717c22a45506d1aad1eb"><div class="ttname"><a href="../../d9/d81/structast__udptl.html#aa6de52220e98717c22a45506d1aad1eb">ast_udptl::local_max_datagram</a></div><div class="ttdeci">int local_max_datagram</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00197">udptl.c:197</a></div></div>
<div class="ttc" id="netsock2_8h_html_a56a46003c93bfd65111ea8ffc97af8f9"><div class="ttname"><a href="../../db/df1/netsock2_8h.html#a56a46003c93bfd65111ea8ffc97af8f9">ast_sockaddr_copy</a></div><div class="ttdeci">static void ast_sockaddr_copy(struct ast_sockaddr *dst, const struct ast_sockaddr *src)</div><div class="ttdoc">Copies the data from one ast_sockaddr to another. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/df1/netsock2_8h_source.html#l00171">netsock2.h:171</a></div></div>
<div class="ttc" id="structudptl__config_html"><div class="ttname"><a href="../../d9/dfc/structudptl__config.html">udptl_config</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00231">udptl.c:231</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="utils_8h_html_a4aacbe2dadb9b8befc5a76765ea6d14b"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a4aacbe2dadb9b8befc5a76765ea6d14b">ast_socket_nonblock</a></div><div class="ttdeci">#define ast_socket_nonblock(domain, type, protocol)</div><div class="ttdoc">Create a non-blocking socket. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l01043">utils.h:1043</a></div></div>
<div class="ttc" id="structast__udptl_html_a378e4ecae74acafadf99a691f65f2419"><div class="ttname"><a href="../../d9/d81/structast__udptl.html#a378e4ecae74acafadf99a691f65f2419">ast_udptl::ioid</a></div><div class="ttdeci">int * ioid</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00166">udptl.c:166</a></div></div>
<div class="ttc" id="io_8h_html_a0d9e01f215782a343a1b71b5be362080"><div class="ttname"><a href="../../dc/dac/io_8h.html#a0d9e01f215782a343a1b71b5be362080">AST_IO_IN</a></div><div class="ttdeci">#define AST_IO_IN</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dac/io_8h_source.html#l00034">io.h:34</a></div></div>
<div class="ttc" id="structast__udptl_html"><div class="ttname"><a href="../../d9/d81/structast__udptl.html">ast_udptl</a></div><div class="ttdoc">Structure for an UDPTL session. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00156">udptl.c:156</a></div></div>
<div class="ttc" id="io_8h_html_aa250c3f6541dc5734deb966d6821da7a"><div class="ttname"><a href="../../dc/dac/io_8h.html#aa250c3f6541dc5734deb966d6821da7a">ast_io_add</a></div><div class="ttdeci">int * ast_io_add(struct io_context *ioc, int fd, ast_io_cb callback, short events, void *data)</div><div class="ttdoc">Adds an IO context. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0a/io_8c_source.html#l00162">io.c:162</a></div></div>
<div class="ttc" id="astobj2_8h_html_a86d8d6c3c8866ed0a60121da055cd225"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a86d8d6c3c8866ed0a60121da055cd225">ao2_global_obj_ref</a></div><div class="ttdeci">#define ao2_global_obj_ref(holder)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00925">astobj2.h:925</a></div></div>
<div class="ttc" id="structast__udptl_html_a53a056eca513e58ba0819110f0e62bc8"><div class="ttname"><a href="../../d9/d81/structast__udptl.html#a53a056eca513e58ba0819110f0e62bc8">ast_udptl::error_correction_entries</a></div><div class="ttdeci">unsigned int error_correction_entries</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00181">udptl.c:181</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structast__udptl_html_ad6a981159f3117c2c01a71d4693ff03b"><div class="ttname"><a href="../../d9/d81/structast__udptl.html#ad6a981159f3117c2c01a71d4693ff03b">ast_udptl::us</a></div><div class="ttdeci">struct ast_sockaddr us</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00164">udptl.c:164</a></div></div>
<div class="ttc" id="netsock2_8h_html_a58f856feeaf684b7d5353357e85a0dd5"><div class="ttname"><a href="../../db/df1/netsock2_8h.html#a58f856feeaf684b7d5353357e85a0dd5">ast_bind</a></div><div class="ttdeci">int ast_bind(int sockfd, const struct ast_sockaddr *addr)</div><div class="ttdoc">Wrapper around bind(2) that uses struct ast_sockaddr. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d27/netsock2_8c_source.html#l00590">netsock2.c:590</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="utils_8h_html_a1604b4d72144dd3d9f7da668e90337e9"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a></div><div class="ttdeci">#define RAII_VAR(vartype, varname, initval, dtor)</div><div class="ttdoc">Declare a variable that will call a destructor function when it goes out of scope. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00911">utils.h:911</a></div></div>
<div class="ttc" id="structast__udptl_html_a57bdb7e31fa5ba4d3f96658d472e5b94"><div class="ttname"><a href="../../d9/d81/structast__udptl.html#a57bdb7e31fa5ba4d3f96658d472e5b94">ast_udptl::far_max_datagram</a></div><div class="ttdeci">int far_max_datagram</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00191">udptl.c:191</a></div></div>
<div class="ttc" id="structast__udptl_html_a361b448e9abcfc301602a2573a662d3c"><div class="ttname"><a href="../../d9/d81/structast__udptl.html#a361b448e9abcfc301602a2573a662d3c">ast_udptl::sched</a></div><div class="ttdeci">struct ast_sched_context * sched</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00167">udptl.c:167</a></div></div>
<div class="ttc" id="chan__ooh323_8c_html_abda48311b6abe5a4dd8b6904ddde0a6d"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#abda48311b6abe5a4dd8b6904ddde0a6d">io</a></div><div class="ttdeci">static struct io_context * io</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00401">chan_ooh323.c:401</a></div></div>
<div class="ttc" id="structast__udptl_html_a88620be29521fa573c4dea697a7a4258"><div class="ttname"><a href="../../d9/d81/structast__udptl.html#a88620be29521fa573c4dea697a7a4258">ast_udptl::rx</a></div><div class="ttdeci">udptl_fec_rx_buffer_t rx[UDPTL_BUF_MASK+1]</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00217">udptl.c:217</a></div></div>
<div class="ttc" id="utils_8h_html_a7b4f10b070e95ba413e258a3e4b03c20"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a7b4f10b070e95ba413e258a3e4b03c20">ast_random</a></div><div class="ttdeci">long int ast_random(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d1f/main_2utils_8c_source.html#l02064">main/utils.c:2064</a></div></div>
<div class="ttc" id="chan__console_8c_html_aa36e3e2c486b920b166c2d17c5242221"><div class="ttname"><a href="../../d3/d4e/chan__console_8c.html#aa36e3e2c486b920b166c2d17c5242221">globals</a></div><div class="ttdeci">static struct console_pvt globals</div></div>
<div class="ttc" id="udptl_8c_html_aca6905df84f7b7a4905a3fadb50139c7"><div class="ttname"><a href="../../d2/dce/udptl_8c.html#aca6905df84f7b7a4905a3fadb50139c7">udptlread</a></div><div class="ttdeci">static int udptlread(int *id, int fd, short events, void *cbdata)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00750">udptl.c:750</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="structast__udptl_html_abda48311b6abe5a4dd8b6904ddde0a6d"><div class="ttname"><a href="../../d9/d81/structast__udptl.html#abda48311b6abe5a4dd8b6904ddde0a6d">ast_udptl::io</a></div><div class="ttdeci">struct io_context * io</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00168">udptl.c:168</a></div></div>
<div class="ttc" id="netsock2_8h_html_ac83e6bdec376b74d02da8d2f8e1af888"><div class="ttname"><a href="../../db/df1/netsock2_8h.html#ac83e6bdec376b74d02da8d2f8e1af888">ast_sockaddr_set_port</a></div><div class="ttdeci">#define ast_sockaddr_set_port(addr, port)</div><div class="ttdoc">Sets the port number of a socket address. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/df1/netsock2_8h_source.html#l00537">netsock2.h:537</a></div></div>
<div class="ttc" id="main_2stdtime_2private_8h_html_ad65a8842cc674e3ddf69355898c0ecbf"><div class="ttname"><a href="../../d1/d6e/main_2stdtime_2private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a></div><div class="ttdeci">int errno</div></div>
<div class="ttc" id="structudptl__fec__tx__buffer__t_html_a7666bbf00997cc13da27d55cb05d27c4"><div class="ttname"><a href="../../d9/dd6/structudptl__fec__tx__buffer__t.html#a7666bbf00997cc13da27d55cb05d27c4">udptl_fec_tx_buffer_t::buf_len</a></div><div class="ttdeci">int buf_len</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00142">udptl.c:142</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="astmm_8h_html_ae0cd4c5524b01287ab19cbe233d9cebb"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ae0cd4c5524b01287ab19cbe233d9cebb">ast_calloc</a></div><div class="ttdeci">#define ast_calloc(num, len)</div><div class="ttdoc">A wrapper for calloc() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00204">astmm.h:204</a></div></div>
<div class="ttc" id="structast__udptl_html_a95f0114a9c3434fbe3743868a613480b"><div class="ttname"><a href="../../d9/d81/structast__udptl.html#a95f0114a9c3434fbe3743868a613480b">ast_udptl::far_max_ifp</a></div><div class="ttdeci">int far_max_ifp</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00205">udptl.c:205</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="structast__udptl_html_a832188d785b133f8195c9c74de833141"><div class="ttname"><a href="../../d9/d81/structast__udptl.html#a832188d785b133f8195c9c74de833141">ast_udptl::local_max_ifp</a></div><div class="ttdeci">int local_max_ifp</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00211">udptl.c:211</a></div></div>
<div class="ttc" id="structudptl__fec__rx__buffer__t_html_a7666bbf00997cc13da27d55cb05d27c4"><div class="ttname"><a href="../../de/dd5/structudptl__fec__rx__buffer__t.html#a7666bbf00997cc13da27d55cb05d27c4">udptl_fec_rx_buffer_t::buf_len</a></div><div class="ttdeci">int buf_len</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00147">udptl.c:147</a></div></div>
<div class="ttc" id="structast__udptl_html_af0c6829f8a5272ece732cd1ac1b3094a"><div class="ttname"><a href="../../d9/d81/structast__udptl.html#af0c6829f8a5272ece732cd1ac1b3094a">ast_udptl::tx</a></div><div class="ttdeci">udptl_fec_tx_buffer_t tx[UDPTL_BUF_MASK+1]</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00216">udptl.c:216</a></div></div>
<div class="ttc" id="udptl_8c_html_a5fc08f5f3152e66b9eb799375c8eafe5"><div class="ttname"><a href="../../d2/dce/udptl_8c.html#a5fc08f5f3152e66b9eb799375c8eafe5">UDPTL_BUF_MASK</a></div><div class="ttdeci">#define UDPTL_BUF_MASK</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00139">udptl.c:139</a></div></div>
<div class="ttc" id="netsock2_8h_html_a579748bd6ceddd06b1cc6eb3578e8acc"><div class="ttname"><a href="../../db/df1/netsock2_8h.html#a579748bd6ceddd06b1cc6eb3578e8acc">ast_sockaddr_is_ipv6</a></div><div class="ttdeci">int ast_sockaddr_is_ipv6(const struct ast_sockaddr *addr)</div><div class="ttdoc">Determine if this is an IPv6 address. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d27/netsock2_8c_source.html#l00524">netsock2.c:524</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae0808bce80557e3107c9030bd8a832fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae0808bce80557e3107c9030bd8a832fe">&#9670;&nbsp;</a></span>ast_udptl_read()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d0/d99/structast__frame.html">ast_frame</a>* ast_udptl_read </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d9/d81/structast__udptl.html">ast_udptl</a> *&#160;</td>
          <td class="paramname"><em>udptl</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/dce/udptl_8c_source.html#l00762">762</a> of file <a class="el" href="../../d2/dce/udptl_8c_source.html">udptl.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d60/utils_8h_source.html#l00695">ast_assert</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00229">AST_FRIENDLY_OFFSET</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../df/d55/main_2frame_8c_source.html#l00079">ast_null_frame</a>, <a class="el" href="../../d4/d27/netsock2_8c_source.html#l00606">ast_recvfrom()</a>, <a class="el" href="../../d4/d27/netsock2_8c_source.html#l00388">ast_sockaddr_cmp()</a>, <a class="el" href="../../db/df1/netsock2_8h_source.html#l00171">ast_sockaddr_copy()</a>, <a class="el" href="../../db/df1/netsock2_8h_source.html#l00127">ast_sockaddr_isnull()</a>, <a class="el" href="../../db/df1/netsock2_8h_source.html#l00260">ast_sockaddr_stringify()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00463">ast_verb</a>, <a class="el" href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">buf</a>, <a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a>, <a class="el" href="../../d2/dce/udptl_8c_source.html#l00159">ast_udptl::f</a>, <a class="el" href="../../d2/dce/udptl_8c_source.html#l00157">ast_udptl::fd</a>, <a class="el" href="../../d2/dce/udptl_8c_source.html#l00125">LOG_TAG</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../d2/dce/udptl_8c_source.html#l00162">ast_udptl::nat</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d2/dce/udptl_8c_source.html#l00160">ast_udptl::rawdata</a>, <a class="el" href="../../d2/dce/udptl_8c_source.html#l00170">ast_udptl::tag</a>, <a class="el" href="../../d2/dce/udptl_8c_source.html#l00165">ast_udptl::them</a>, <a class="el" href="../../d2/dce/udptl_8c_source.html#l00258">udptl_debug_test_addr()</a>, and <a class="el" href="../../d2/dce/udptl_8c_source.html#l00381">udptl_rx_packet()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/d80/res__pjsip__t38_8c_source.html#l00970">media_session_udptl_read_callback()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l04978">ooh323_rtp_read()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l08631">sip_rtp_read()</a>, <a class="el" href="../../d0/d80/chan__skinny_8c_source.html#l05026">skinny_rtp_read()</a>, and <a class="el" href="../../d2/dce/udptl_8c_source.html#l00750">udptlread()</a>.</p>
<div class="fragment"><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;{</div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;   <span class="keywordtype">int</span> res;</div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d3/db3/structast__sockaddr.html">ast_sockaddr</a> addr;</div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;   uint8_t *<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>;</div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;</div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;   buf = udptl-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a8af53bd0e8b4f1e9275d51d2a4065991">rawdata</a> + <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#ac8f7380b8620c80443286b44481f641c">AST_FRIENDLY_OFFSET</a>;</div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;</div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;   <span class="comment">/* Cache where the header will go */</span></div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;   res = <a class="code" href="../../db/df1/netsock2_8h.html#ab8b4d30461c0683ce147322c790d11db">ast_recvfrom</a>(udptl-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a6f8059414f0228f0256115e024eeed4b">fd</a>,</div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;         buf,</div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;         <span class="keyword">sizeof</span>(udptl-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a8af53bd0e8b4f1e9275d51d2a4065991">rawdata</a>) - <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#ac8f7380b8620c80443286b44481f641c">AST_FRIENDLY_OFFSET</a>,</div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;         0,</div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;         &amp;addr);</div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;   <span class="keywordflow">if</span> (res &lt; 0) {</div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d1/d6e/main_2stdtime_2private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a> != EAGAIN)</div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;UDPTL (%s): read error: %s\n&quot;</span>,</div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;            <a class="code" href="../../d2/dce/udptl_8c.html#a12f6e5fd71bc2bc7fcfc0583b035c862">LOG_TAG</a>(udptl), strerror(<a class="code" href="../../d1/d6e/main_2stdtime_2private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a>));</div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;      <a class="code" href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a>(<a class="code" href="../../d1/d6e/main_2stdtime_2private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a> != EBADF);</div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;      <span class="keywordflow">return</span> &amp;<a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#af203379aca2fd704fe8d86a9445596b6">ast_null_frame</a>;</div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;   }</div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;</div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;   <span class="comment">/* Ignore if the other side hasn&#39;t been given an address yet. */</span></div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../db/df1/netsock2_8h.html#aae671446fa65b8f846efaf165872c683">ast_sockaddr_isnull</a>(&amp;udptl-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a6b3ede593a835ebd86bdb9f9f4b683a9">them</a>)) {</div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;      <span class="keywordflow">return</span> &amp;<a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#af203379aca2fd704fe8d86a9445596b6">ast_null_frame</a>;</div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;   }</div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;</div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;   <span class="comment">/*</span></div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;<span class="comment">    * If early media isn&#39;t turned on for the channel driver, it&#39;s going to</span></div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;<span class="comment">    * drop this frame.  By that time though, udptl has already incremented</span></div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;<span class="comment">    * the expected sequence number so if the CPE re-sends, the second frame</span></div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;<span class="comment">    * will be dropped as a dup even though the first frame never went through.</span></div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;<span class="comment">    * So we drop the frame here if the channel isn&#39;t up. &#39;tag&#39; is set by the</span></div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;<span class="comment">    * channel drivers on T38_ENABLED or T38_PEER_REINVITE.</span></div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;   <span class="keywordflow">if</span> (udptl-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a7bb5e40c10df6a41df64bda1f4bb3e26">tag</a> == <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;      <span class="keywordflow">return</span> &amp;<a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#af203379aca2fd704fe8d86a9445596b6">ast_null_frame</a>;</div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;   }</div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;</div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;   <span class="keywordflow">if</span> (udptl-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#ada540a5f25f7302dc1a3d17ccfa59b10">nat</a>) {</div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;      <span class="comment">/* Send to whoever sent to us */</span></div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../db/df1/netsock2_8h.html#abae1b903c8f5b7639235b579a267aaab">ast_sockaddr_cmp</a>(&amp;udptl-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a6b3ede593a835ebd86bdb9f9f4b683a9">them</a>, &amp;addr)) {</div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;         <a class="code" href="../../db/df1/netsock2_8h.html#a56a46003c93bfd65111ea8ffc97af8f9">ast_sockaddr_copy</a>(&amp;udptl-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a6b3ede593a835ebd86bdb9f9f4b683a9">them</a>, &amp;addr);</div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;         <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;UDPTL (%s): NAT, Using address %s\n&quot;</span>,</div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;              <a class="code" href="../../d2/dce/udptl_8c.html#a12f6e5fd71bc2bc7fcfc0583b035c862">LOG_TAG</a>(udptl), <a class="code" href="../../db/df1/netsock2_8h.html#aae9156c7fe6dff51463f29ed1c3b96c9">ast_sockaddr_stringify</a>(&amp;udptl-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a6b3ede593a835ebd86bdb9f9f4b683a9">them</a>));</div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;      }</div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;   }</div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;</div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d2/dce/udptl_8c.html#a2beeec4dcecd9c3e01becd72393bf39a">udptl_debug_test_addr</a>(&amp;addr)) {</div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;      <span class="keywordtype">int</span> seq_no;</div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;</div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;      <span class="comment">/* Decode sequence number just for verbose message. */</span></div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;      <span class="keywordflow">if</span> (res &lt; 2) {</div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;         <span class="comment">/* Short packet. */</span></div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;         seq_no = -1;</div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;         seq_no = (buf[0] &lt;&lt; 8) | buf[1];</div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;      }</div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;</div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;      <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(1, <span class="stringliteral">&quot;UDPTL (%s): packet from %s (seq %d, len %d)\n&quot;</span>,</div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;         <a class="code" href="../../d2/dce/udptl_8c.html#a12f6e5fd71bc2bc7fcfc0583b035c862">LOG_TAG</a>(udptl), <a class="code" href="../../db/df1/netsock2_8h.html#aae9156c7fe6dff51463f29ed1c3b96c9">ast_sockaddr_stringify</a>(&amp;addr), seq_no, res);</div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;   }</div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d2/dce/udptl_8c.html#a0db4385b032d828c9ec822008c79a061">udptl_rx_packet</a>(udptl, buf, res) &lt; 1) {</div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;      <span class="keywordflow">return</span> &amp;<a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#af203379aca2fd704fe8d86a9445596b6">ast_null_frame</a>;</div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;   }</div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;</div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;   <span class="keywordflow">return</span> &amp;udptl-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a90f2de0c2fe1997e3c842ff0a32e4edc">f</a>[0];</div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;}</div><div class="ttc" id="structast__udptl_html_a6f8059414f0228f0256115e024eeed4b"><div class="ttname"><a href="../../d9/d81/structast__udptl.html#a6f8059414f0228f0256115e024eeed4b">ast_udptl::fd</a></div><div class="ttdeci">int fd</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00157">udptl.c:157</a></div></div>
<div class="ttc" id="structast__udptl_html_ada540a5f25f7302dc1a3d17ccfa59b10"><div class="ttname"><a href="../../d9/d81/structast__udptl.html#ada540a5f25f7302dc1a3d17ccfa59b10">ast_udptl::nat</a></div><div class="ttdeci">int nat</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00162">udptl.c:162</a></div></div>
<div class="ttc" id="netsock2_8h_html_a56a46003c93bfd65111ea8ffc97af8f9"><div class="ttname"><a href="../../db/df1/netsock2_8h.html#a56a46003c93bfd65111ea8ffc97af8f9">ast_sockaddr_copy</a></div><div class="ttdeci">static void ast_sockaddr_copy(struct ast_sockaddr *dst, const struct ast_sockaddr *src)</div><div class="ttdoc">Copies the data from one ast_sockaddr to another. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/df1/netsock2_8h_source.html#l00171">netsock2.h:171</a></div></div>
<div class="ttc" id="eagi__proxy_8c_html_ac95651d79c608a3148973b5b1fc9e525"><div class="ttname"><a href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a></div><div class="ttdeci">char buf[BUFSIZE]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">eagi_proxy.c:66</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="structast__udptl_html_a7bb5e40c10df6a41df64bda1f4bb3e26"><div class="ttname"><a href="../../d9/d81/structast__udptl.html#a7bb5e40c10df6a41df64bda1f4bb3e26">ast_udptl::tag</a></div><div class="ttdeci">char * tag</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00170">udptl.c:170</a></div></div>
<div class="ttc" id="utils_8h_html_a24374da24af1931d8a7ccde5b352bb2c"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a24374da24af1931d8a7ccde5b352bb2c">ast_assert</a></div><div class="ttdeci">#define ast_assert(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00695">utils.h:695</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="netsock2_8h_html_abae1b903c8f5b7639235b579a267aaab"><div class="ttname"><a href="../../db/df1/netsock2_8h.html#abae1b903c8f5b7639235b579a267aaab">ast_sockaddr_cmp</a></div><div class="ttdeci">int ast_sockaddr_cmp(const struct ast_sockaddr *a, const struct ast_sockaddr *b)</div><div class="ttdoc">Compares two ast_sockaddr structures. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d27/netsock2_8c_source.html#l00388">netsock2.c:388</a></div></div>
<div class="ttc" id="udptl_8c_html_a2beeec4dcecd9c3e01becd72393bf39a"><div class="ttname"><a href="../../d2/dce/udptl_8c.html#a2beeec4dcecd9c3e01becd72393bf39a">udptl_debug_test_addr</a></div><div class="ttdeci">static int udptl_debug_test_addr(const struct ast_sockaddr *addr)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00258">udptl.c:258</a></div></div>
<div class="ttc" id="structast__sockaddr_html"><div class="ttname"><a href="../../d3/db3/structast__sockaddr.html">ast_sockaddr</a></div><div class="ttdoc">Socket address structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/df1/netsock2_8h_source.html#l00097">netsock2.h:97</a></div></div>
<div class="ttc" id="logger_8h_html_ad770f83c71e237e1f64163358ce4e13d"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a></div><div class="ttdeci">#define ast_verb(level,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00463">logger.h:463</a></div></div>
<div class="ttc" id="netsock2_8h_html_aae671446fa65b8f846efaf165872c683"><div class="ttname"><a href="../../db/df1/netsock2_8h.html#aae671446fa65b8f846efaf165872c683">ast_sockaddr_isnull</a></div><div class="ttdeci">static int ast_sockaddr_isnull(const struct ast_sockaddr *addr)</div><div class="ttdoc">Checks if the ast_sockaddr is null. &quot;null&quot; in this sense essentially means uninitialized, or having a 0 length. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/df1/netsock2_8h_source.html#l00127">netsock2.h:127</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_ac8f7380b8620c80443286b44481f641c"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#ac8f7380b8620c80443286b44481f641c">AST_FRIENDLY_OFFSET</a></div><div class="ttdeci">#define AST_FRIENDLY_OFFSET</div><div class="ttdoc">Offset into a frame&amp;#39;s data buffer. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00229">include/asterisk/frame.h:229</a></div></div>
<div class="ttc" id="structast__udptl_html_a6b3ede593a835ebd86bdb9f9f4b683a9"><div class="ttname"><a href="../../d9/d81/structast__udptl.html#a6b3ede593a835ebd86bdb9f9f4b683a9">ast_udptl::them</a></div><div class="ttdeci">struct ast_sockaddr them</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00165">udptl.c:165</a></div></div>
<div class="ttc" id="udptl_8c_html_a12f6e5fd71bc2bc7fcfc0583b035c862"><div class="ttname"><a href="../../d2/dce/udptl_8c.html#a12f6e5fd71bc2bc7fcfc0583b035c862">LOG_TAG</a></div><div class="ttdeci">#define LOG_TAG(u)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00125">udptl.c:125</a></div></div>
<div class="ttc" id="main_2stdtime_2private_8h_html_ad65a8842cc674e3ddf69355898c0ecbf"><div class="ttname"><a href="../../d1/d6e/main_2stdtime_2private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a></div><div class="ttdeci">int errno</div></div>
<div class="ttc" id="netsock2_8h_html_aae9156c7fe6dff51463f29ed1c3b96c9"><div class="ttname"><a href="../../db/df1/netsock2_8h.html#aae9156c7fe6dff51463f29ed1c3b96c9">ast_sockaddr_stringify</a></div><div class="ttdeci">static char * ast_sockaddr_stringify(const struct ast_sockaddr *addr)</div><div class="ttdoc">Wrapper around ast_sockaddr_stringify_fmt() with default format. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/df1/netsock2_8h_source.html#l00260">netsock2.h:260</a></div></div>
<div class="ttc" id="netsock2_8h_html_ab8b4d30461c0683ce147322c790d11db"><div class="ttname"><a href="../../db/df1/netsock2_8h.html#ab8b4d30461c0683ce147322c790d11db">ast_recvfrom</a></div><div class="ttdeci">ssize_t ast_recvfrom(int sockfd, void *buf, size_t len, int flags, struct ast_sockaddr *src_addr)</div><div class="ttdoc">Wrapper around recvfrom(2) that uses struct ast_sockaddr. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d27/netsock2_8c_source.html#l00606">netsock2.c:606</a></div></div>
<div class="ttc" id="structast__udptl_html_a90f2de0c2fe1997e3c842ff0a32e4edc"><div class="ttname"><a href="../../d9/d81/structast__udptl.html#a90f2de0c2fe1997e3c842ff0a32e4edc">ast_udptl::f</a></div><div class="ttdeci">struct ast_frame f[16]</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00159">udptl.c:159</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_af203379aca2fd704fe8d86a9445596b6"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#af203379aca2fd704fe8d86a9445596b6">ast_null_frame</a></div><div class="ttdeci">struct ast_frame ast_null_frame</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d55/main_2frame_8c_source.html#l00079">main/frame.c:79</a></div></div>
<div class="ttc" id="structast__udptl_html_a8af53bd0e8b4f1e9275d51d2a4065991"><div class="ttname"><a href="../../d9/d81/structast__udptl.html#a8af53bd0e8b4f1e9275d51d2a4065991">ast_udptl::rawdata</a></div><div class="ttdeci">unsigned char rawdata[8192+AST_FRIENDLY_OFFSET]</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00160">udptl.c:160</a></div></div>
<div class="ttc" id="udptl_8c_html_a0db4385b032d828c9ec822008c79a061"><div class="ttname"><a href="../../d2/dce/udptl_8c.html#a0db4385b032d828c9ec822008c79a061">udptl_rx_packet</a></div><div class="ttdeci">static int udptl_rx_packet(struct ast_udptl *s, uint8_t *buf, unsigned int len)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00381">udptl.c:381</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac410178703bbd10effbedd9823b89f2a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac410178703bbd10effbedd9823b89f2a">&#9670;&nbsp;</a></span>ast_udptl_set_callback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_udptl_set_callback </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d9/d81/structast__udptl.html">ast_udptl</a> *&#160;</td>
          <td class="paramname"><em>udptl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d5/da1/udptl_8h.html#aad8d90e5bb63ca8788ece757eee693d6">ast_udptl_callback</a>&#160;</td>
          <td class="paramname"><em>callback</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/dce/udptl_8c_source.html#l00740">740</a> of file <a class="el" href="../../d2/dce/udptl_8c_source.html">udptl.c</a>.</p>

<p class="reference">References <a class="el" href="../../d2/dce/udptl_8c_source.html#l00171">ast_udptl::callback</a>.</p>
<div class="fragment"><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;{</div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;   udptl-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a221993e4dd934844eb4cce202b381952">callback</a> = callback;</div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;}</div><div class="ttc" id="structast__udptl_html_a221993e4dd934844eb4cce202b381952"><div class="ttname"><a href="../../d9/d81/structast__udptl.html#a221993e4dd934844eb4cce202b381952">ast_udptl::callback</a></div><div class="ttdeci">ast_udptl_callback callback</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00171">udptl.c:171</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab2b6f583b1e2e2efdd87c0f6a7264d42"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab2b6f583b1e2e2efdd87c0f6a7264d42">&#9670;&nbsp;</a></span>ast_udptl_set_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_udptl_set_data </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d9/d81/structast__udptl.html">ast_udptl</a> *&#160;</td>
          <td class="paramname"><em>udptl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/dce/udptl_8c_source.html#l00735">735</a> of file <a class="el" href="../../d2/dce/udptl_8c_source.html">udptl.c</a>.</p>

<p class="reference">References <a class="el" href="../../d2/dce/udptl_8c_source.html#l00169">ast_udptl::data</a>.</p>
<div class="fragment"><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;{</div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;   udptl-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a735984d41155bc1032e09bece8f8d66d">data</a> = data;</div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;}</div><div class="ttc" id="structast__udptl_html_a735984d41155bc1032e09bece8f8d66d"><div class="ttname"><a href="../../d9/d81/structast__udptl.html#a735984d41155bc1032e09bece8f8d66d">ast_udptl::data</a></div><div class="ttdeci">void * data</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00169">udptl.c:169</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aec066a1e8d5b80dfab8c4a5296e65e48"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aec066a1e8d5b80dfab8c4a5296e65e48">&#9670;&nbsp;</a></span>ast_udptl_set_error_correction_scheme()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_udptl_set_error_correction_scheme </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d9/d81/structast__udptl.html">ast_udptl</a> *&#160;</td>
          <td class="paramname"><em>udptl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="../../d5/da1/udptl_8h.html#af968992af6d7e1186843a2eb371c9795">ast_t38_ec_modes</a>&#160;</td>
          <td class="paramname"><em>ec</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/dce/udptl_8c_source.html#l00945">945</a> of file <a class="el" href="../../d2/dce/udptl_8c_source.html">udptl.c</a>.</p>

<p class="reference">References <a class="el" href="../../d2/dce/udptl_8c_source.html#l00181">ast_udptl::error_correction_entries</a>, <a class="el" href="../../d2/dce/udptl_8c_source.html#l00176">ast_udptl::error_correction_scheme</a>, <a class="el" href="../../d2/dce/udptl_8c_source.html#l00186">ast_udptl::error_correction_span</a>, <a class="el" href="../../d2/dce/udptl_8c_source.html#l00205">ast_udptl::far_max_ifp</a>, <a class="el" href="../../d2/dce/udptl_8c_source.html#l00197">ast_udptl::local_max_datagram</a>, <a class="el" href="../../d5/da1/udptl_8h_source.html#l00039">UDPTL_ERROR_CORRECTION_FEC</a>, and <a class="el" href="../../d5/da1/udptl_8h_source.html#l00040">UDPTL_ERROR_CORRECTION_REDUNDANCY</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l10253">process_sdp()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l11741">process_sdp_a_image()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l05939">set_t38_capabilities()</a>, <a class="el" href="../../dc/d80/res__pjsip__t38_8c_source.html#l00256">t38_initialize_session()</a>, and <a class="el" href="../../dc/d80/res__pjsip__t38_8c_source.html#l00702">t38_interpret_sdp()</a>.</p>
<div class="fragment"><div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;{</div><div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;   udptl-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#ac215dbaf54319e257d2c33ecd70c36c5">error_correction_scheme</a> = ec;</div><div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;   <span class="keywordflow">switch</span> (ec) {</div><div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d5/da1/udptl_8h.html#af968992af6d7e1186843a2eb371c9795aa0e8972e48ad95a77cbe2c66e174fd76">UDPTL_ERROR_CORRECTION_FEC</a>:</div><div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;      udptl-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#ac215dbaf54319e257d2c33ecd70c36c5">error_correction_scheme</a> = <a class="code" href="../../d5/da1/udptl_8h.html#af968992af6d7e1186843a2eb371c9795aa0e8972e48ad95a77cbe2c66e174fd76">UDPTL_ERROR_CORRECTION_FEC</a>;</div><div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;      <span class="keywordflow">if</span> (udptl-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a53a056eca513e58ba0819110f0e62bc8">error_correction_entries</a> == 0) {</div><div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;         udptl-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a53a056eca513e58ba0819110f0e62bc8">error_correction_entries</a> = 3;</div><div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;      }</div><div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;      <span class="keywordflow">if</span> (udptl-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#aa3ea4f55135ebfe86fb4d34b891fe618">error_correction_span</a> == 0) {</div><div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;         udptl-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#aa3ea4f55135ebfe86fb4d34b891fe618">error_correction_span</a> = 3;</div><div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;      }</div><div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d5/da1/udptl_8h.html#af968992af6d7e1186843a2eb371c9795afbc322f60eade115e42b66d4ab4dec83">UDPTL_ERROR_CORRECTION_REDUNDANCY</a>:</div><div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;      udptl-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#ac215dbaf54319e257d2c33ecd70c36c5">error_correction_scheme</a> = <a class="code" href="../../d5/da1/udptl_8h.html#af968992af6d7e1186843a2eb371c9795afbc322f60eade115e42b66d4ab4dec83">UDPTL_ERROR_CORRECTION_REDUNDANCY</a>;</div><div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;      <span class="keywordflow">if</span> (udptl-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a53a056eca513e58ba0819110f0e62bc8">error_correction_entries</a> == 0) {</div><div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;         udptl-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a53a056eca513e58ba0819110f0e62bc8">error_correction_entries</a> = 3;</div><div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;      }</div><div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;   <span class="keywordflow">default</span>:</div><div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;      <span class="comment">/* nothing to do */</span></div><div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;   };</div><div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;   <span class="comment">/* reset calculated values so they&#39;ll be computed again */</span></div><div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;   udptl-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#aa6de52220e98717c22a45506d1aad1eb">local_max_datagram</a> = -1;</div><div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;   udptl-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a95f0114a9c3434fbe3743868a613480b">far_max_ifp</a> = -1;</div><div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;}</div><div class="ttc" id="structast__udptl_html_aa3ea4f55135ebfe86fb4d34b891fe618"><div class="ttname"><a href="../../d9/d81/structast__udptl.html#aa3ea4f55135ebfe86fb4d34b891fe618">ast_udptl::error_correction_span</a></div><div class="ttdeci">unsigned int error_correction_span</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00186">udptl.c:186</a></div></div>
<div class="ttc" id="structast__udptl_html_aa6de52220e98717c22a45506d1aad1eb"><div class="ttname"><a href="../../d9/d81/structast__udptl.html#aa6de52220e98717c22a45506d1aad1eb">ast_udptl::local_max_datagram</a></div><div class="ttdeci">int local_max_datagram</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00197">udptl.c:197</a></div></div>
<div class="ttc" id="udptl_8h_html_af968992af6d7e1186843a2eb371c9795afbc322f60eade115e42b66d4ab4dec83"><div class="ttname"><a href="../../d5/da1/udptl_8h.html#af968992af6d7e1186843a2eb371c9795afbc322f60eade115e42b66d4ab4dec83">UDPTL_ERROR_CORRECTION_REDUNDANCY</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da1/udptl_8h_source.html#l00040">udptl.h:40</a></div></div>
<div class="ttc" id="structast__udptl_html_a53a056eca513e58ba0819110f0e62bc8"><div class="ttname"><a href="../../d9/d81/structast__udptl.html#a53a056eca513e58ba0819110f0e62bc8">ast_udptl::error_correction_entries</a></div><div class="ttdeci">unsigned int error_correction_entries</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00181">udptl.c:181</a></div></div>
<div class="ttc" id="structast__udptl_html_a95f0114a9c3434fbe3743868a613480b"><div class="ttname"><a href="../../d9/d81/structast__udptl.html#a95f0114a9c3434fbe3743868a613480b">ast_udptl::far_max_ifp</a></div><div class="ttdeci">int far_max_ifp</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00205">udptl.c:205</a></div></div>
<div class="ttc" id="udptl_8h_html_af968992af6d7e1186843a2eb371c9795aa0e8972e48ad95a77cbe2c66e174fd76"><div class="ttname"><a href="../../d5/da1/udptl_8h.html#af968992af6d7e1186843a2eb371c9795aa0e8972e48ad95a77cbe2c66e174fd76">UDPTL_ERROR_CORRECTION_FEC</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da1/udptl_8h_source.html#l00039">udptl.h:39</a></div></div>
<div class="ttc" id="structast__udptl_html_ac215dbaf54319e257d2c33ecd70c36c5"><div class="ttname"><a href="../../d9/d81/structast__udptl.html#ac215dbaf54319e257d2c33ecd70c36c5">ast_udptl::error_correction_scheme</a></div><div class="ttdeci">enum ast_t38_ec_modes error_correction_scheme</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00176">udptl.c:176</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="abb364758e66c04d5d791fc51d2b3ed6d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abb364758e66c04d5d791fc51d2b3ed6d">&#9670;&nbsp;</a></span>ast_udptl_set_far_max_datagram()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_udptl_set_far_max_datagram </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d9/d81/structast__udptl.html">ast_udptl</a> *&#160;</td>
          <td class="paramname"><em>udptl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>max_datagram</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>sets far max datagram size. If max_datagram is = 0, the far max datagram size is set to a default value. </p>

<p class="definition">Definition at line <a class="el" href="../../d2/dce/udptl_8c_source.html#l00997">997</a> of file <a class="el" href="../../d2/dce/udptl_8c_source.html">udptl.c</a>.</p>

<p class="reference">References <a class="el" href="../../d2/dce/udptl_8c_source.html#l00134">DEFAULT_FAX_MAX_DATAGRAM</a>, <a class="el" href="../../d2/dce/udptl_8c_source.html#l00191">ast_udptl::far_max_datagram</a>, <a class="el" href="../../d2/dce/udptl_8c_source.html#l00205">ast_udptl::far_max_ifp</a>, and <a class="el" href="../../d2/dce/udptl_8c_source.html#l00135">FAX_MAX_DATAGRAM_LIMIT</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l04599">configure_local_rtp()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l05076">onModeChanged()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l10253">process_sdp()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l11741">process_sdp_a_image()</a>, <a class="el" href="../../dc/d80/res__pjsip__t38_8c_source.html#l00256">t38_initialize_session()</a>, and <a class="el" href="../../dc/d80/res__pjsip__t38_8c_source.html#l00702">t38_interpret_sdp()</a>.</p>
<div class="fragment"><div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;{</div><div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;   <span class="keywordflow">if</span> (!max_datagram || (max_datagram &gt; <a class="code" href="../../d2/dce/udptl_8c.html#aa8f3d147dea9bd83782b759502fc60a1">FAX_MAX_DATAGRAM_LIMIT</a>)) {</div><div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;      udptl-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a57bdb7e31fa5ba4d3f96658d472e5b94">far_max_datagram</a> = <a class="code" href="../../d2/dce/udptl_8c.html#a840abeaeb2ccc5dca63e7acfeed7ca87">DEFAULT_FAX_MAX_DATAGRAM</a>;</div><div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;      udptl-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a57bdb7e31fa5ba4d3f96658d472e5b94">far_max_datagram</a> = max_datagram;</div><div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;   }</div><div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;   <span class="comment">/* reset calculated values so they&#39;ll be computed again */</span></div><div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;   udptl-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a95f0114a9c3434fbe3743868a613480b">far_max_ifp</a> = -1;</div><div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;}</div><div class="ttc" id="structast__udptl_html_a57bdb7e31fa5ba4d3f96658d472e5b94"><div class="ttname"><a href="../../d9/d81/structast__udptl.html#a57bdb7e31fa5ba4d3f96658d472e5b94">ast_udptl::far_max_datagram</a></div><div class="ttdeci">int far_max_datagram</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00191">udptl.c:191</a></div></div>
<div class="ttc" id="structast__udptl_html_a95f0114a9c3434fbe3743868a613480b"><div class="ttname"><a href="../../d9/d81/structast__udptl.html#a95f0114a9c3434fbe3743868a613480b">ast_udptl::far_max_ifp</a></div><div class="ttdeci">int far_max_ifp</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00205">udptl.c:205</a></div></div>
<div class="ttc" id="udptl_8c_html_aa8f3d147dea9bd83782b759502fc60a1"><div class="ttname"><a href="../../d2/dce/udptl_8c.html#aa8f3d147dea9bd83782b759502fc60a1">FAX_MAX_DATAGRAM_LIMIT</a></div><div class="ttdeci">#define FAX_MAX_DATAGRAM_LIMIT</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00135">udptl.c:135</a></div></div>
<div class="ttc" id="udptl_8c_html_a840abeaeb2ccc5dca63e7acfeed7ca87"><div class="ttname"><a href="../../d2/dce/udptl_8c.html#a840abeaeb2ccc5dca63e7acfeed7ca87">DEFAULT_FAX_MAX_DATAGRAM</a></div><div class="ttdeci">#define DEFAULT_FAX_MAX_DATAGRAM</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00134">udptl.c:134</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6c2d98f9407493efbbdc9462717a2d9d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c2d98f9407493efbbdc9462717a2d9d">&#9670;&nbsp;</a></span>ast_udptl_set_local_max_ifp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_udptl_set_local_max_ifp </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d9/d81/structast__udptl.html">ast_udptl</a> *&#160;</td>
          <td class="paramname"><em>udptl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>max_ifp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/dce/udptl_8c_source.html#l00973">973</a> of file <a class="el" href="../../d2/dce/udptl_8c_source.html">udptl.c</a>.</p>

<p class="reference">References <a class="el" href="../../d2/dce/udptl_8c_source.html#l00197">ast_udptl::local_max_datagram</a>, and <a class="el" href="../../d2/dce/udptl_8c_source.html#l00211">ast_udptl::local_max_ifp</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l07753">interpret_t38_parameters()</a>, and <a class="el" href="../../dc/d80/res__pjsip__t38_8c_source.html#l00428">t38_interpret_parameters()</a>.</p>
<div class="fragment"><div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;{</div><div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;   <span class="comment">/* make sure max_ifp is a positive value since a cast will take place when</span></div><div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;<span class="comment">    * when setting local_max_ifp */</span></div><div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;   <span class="keywordflow">if</span> ((<span class="keywordtype">signed</span> <span class="keywordtype">int</span>) max_ifp &gt; 0) {</div><div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;      udptl-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a832188d785b133f8195c9c74de833141">local_max_ifp</a> = max_ifp;</div><div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;      <span class="comment">/* reset calculated values so they&#39;ll be computed again */</span></div><div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;      udptl-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#aa6de52220e98717c22a45506d1aad1eb">local_max_datagram</a> = -1;</div><div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;   }</div><div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;}</div><div class="ttc" id="structast__udptl_html_aa6de52220e98717c22a45506d1aad1eb"><div class="ttname"><a href="../../d9/d81/structast__udptl.html#aa6de52220e98717c22a45506d1aad1eb">ast_udptl::local_max_datagram</a></div><div class="ttdeci">int local_max_datagram</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00197">udptl.c:197</a></div></div>
<div class="ttc" id="structast__udptl_html_a832188d785b133f8195c9c74de833141"><div class="ttname"><a href="../../d9/d81/structast__udptl.html#a832188d785b133f8195c9c74de833141">ast_udptl::local_max_ifp</a></div><div class="ttdeci">int local_max_ifp</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00211">udptl.c:211</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a63800515ae367681cbeb61813b6b40c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a63800515ae367681cbeb61813b6b40c0">&#9670;&nbsp;</a></span>ast_udptl_set_peer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_udptl_set_peer </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d9/d81/structast__udptl.html">ast_udptl</a> *&#160;</td>
          <td class="paramname"><em>udptl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="../../d3/db3/structast__sockaddr.html">ast_sockaddr</a> *&#160;</td>
          <td class="paramname"><em>them</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/dce/udptl_8c_source.html#l01130">1130</a> of file <a class="el" href="../../d2/dce/udptl_8c_source.html">udptl.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/df1/netsock2_8h_source.html#l00171">ast_sockaddr_copy()</a>, and <a class="el" href="../../d2/dce/udptl_8c_source.html#l00165">ast_udptl::them</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/d80/res__pjsip__t38_8c_source.html#l00998">apply_negotiated_sdp_stream()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l10253">process_sdp()</a>, and <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l04839">setup_udptl_connection()</a>.</p>
<div class="fragment"><div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;{</div><div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;   <a class="code" href="../../db/df1/netsock2_8h.html#a56a46003c93bfd65111ea8ffc97af8f9">ast_sockaddr_copy</a>(&amp;udptl-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a6b3ede593a835ebd86bdb9f9f4b683a9">them</a>, them);</div><div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;}</div><div class="ttc" id="netsock2_8h_html_a56a46003c93bfd65111ea8ffc97af8f9"><div class="ttname"><a href="../../db/df1/netsock2_8h.html#a56a46003c93bfd65111ea8ffc97af8f9">ast_sockaddr_copy</a></div><div class="ttdeci">static void ast_sockaddr_copy(struct ast_sockaddr *dst, const struct ast_sockaddr *src)</div><div class="ttdoc">Copies the data from one ast_sockaddr to another. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/df1/netsock2_8h_source.html#l00171">netsock2.h:171</a></div></div>
<div class="ttc" id="structast__udptl_html_a6b3ede593a835ebd86bdb9f9f4b683a9"><div class="ttname"><a href="../../d9/d81/structast__udptl.html#a6b3ede593a835ebd86bdb9f9f4b683a9">ast_udptl::them</a></div><div class="ttdeci">struct ast_sockaddr them</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00165">udptl.c:165</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a697d541fd523e36f898d699cbfda988f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a697d541fd523e36f898d699cbfda988f">&#9670;&nbsp;</a></span>ast_udptl_set_tag()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_udptl_set_tag </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d9/d81/structast__udptl.html">ast_udptl</a> *&#160;</td>
          <td class="paramname"><em>udptl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>format</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Associates a character string 'tag' with a UDPTL session. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">udptl</td><td>The UDPTL session. </td></tr>
    <tr><td class="paramname">format</td><td>printf-style format string used to construct the tag</td></tr>
  </table>
  </dd>
</dl>
<p>This function formats a tag for the specified UDPTL session, so that any log messages generated by the UDPTL stack related to that session will include the tag and the reader of the messages will be able to identify which endpoint caused them to be generated.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">none</td><td></td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d2/dce/udptl_8c_source.html#l01112">1112</a> of file <a class="el" href="../../d2/dce/udptl_8c_source.html">udptl.c</a>.</p>

<p class="reference">References <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00280">ast_vasprintf</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../d2/dce/udptl_8c_source.html#l00170">ast_udptl::tag</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l05889">change_t38_state()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l04839">setup_udptl_connection()</a>, and <a class="el" href="../../dc/d80/res__pjsip__t38_8c_source.html#l00129">t38_change_state()</a>.</p>
<div class="fragment"><div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;{</div><div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;   va_list ap;</div><div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;</div><div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;   <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(udptl-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a7bb5e40c10df6a41df64bda1f4bb3e26">tag</a>);</div><div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;   udptl-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a7bb5e40c10df6a41df64bda1f4bb3e26">tag</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;   va_start(ap, <a class="code" href="../../da/d45/chan__alsa_8c.html#a98f5e70e98f6dc48e3c5ba316066d540">format</a>);</div><div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d8/d8a/astmm_8h.html#ac1871f9e9b3f36e1098c0d5738d405a8">ast_vasprintf</a>(&amp;udptl-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a7bb5e40c10df6a41df64bda1f4bb3e26">tag</a>, <a class="code" href="../../da/d45/chan__alsa_8c.html#a98f5e70e98f6dc48e3c5ba316066d540">format</a>, ap) == -1) {</div><div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;      udptl-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a7bb5e40c10df6a41df64bda1f4bb3e26">tag</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;   }</div><div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;   va_end(ap);</div><div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;}</div><div class="ttc" id="structast__udptl_html_a7bb5e40c10df6a41df64bda1f4bb3e26"><div class="ttname"><a href="../../d9/d81/structast__udptl.html#a7bb5e40c10df6a41df64bda1f4bb3e26">ast_udptl::tag</a></div><div class="ttdeci">char * tag</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00170">udptl.c:170</a></div></div>
<div class="ttc" id="astmm_8h_html_ac1871f9e9b3f36e1098c0d5738d405a8"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ac1871f9e9b3f36e1098c0d5738d405a8">ast_vasprintf</a></div><div class="ttdeci">#define ast_vasprintf(ret, fmt, ap)</div><div class="ttdoc">A wrapper for vasprintf() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00280">astmm.h:280</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="chan__alsa_8c_html_a98f5e70e98f6dc48e3c5ba316066d540"><div class="ttname"><a href="../../da/d45/chan__alsa_8c.html#a98f5e70e98f6dc48e3c5ba316066d540">format</a></div><div class="ttdeci">static snd_pcm_format_t format</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d45/chan__alsa_8c_source.html#l00102">chan_alsa.c:102</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a76d8051a97100fa917b8c43bf58aac9c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a76d8051a97100fa917b8c43bf58aac9c">&#9670;&nbsp;</a></span>ast_udptl_setnat()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_udptl_setnat </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d9/d81/structast__udptl.html">ast_udptl</a> *&#160;</td>
          <td class="paramname"><em>udptl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nat</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/dce/udptl_8c_source.html#l00745">745</a> of file <a class="el" href="../../d2/dce/udptl_8c_source.html">udptl.c</a>.</p>

<p class="reference">References <a class="el" href="../../d2/dce/udptl_8c_source.html#l00162">ast_udptl::nat</a>, and <a class="el" href="../../d0/dd6/chan__mgcp_8c_source.html#l00168">nat</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l05862">do_setnat()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l07862">initialize_udptl()</a>, and <a class="el" href="../../dc/d80/res__pjsip__t38_8c_source.html#l00256">t38_initialize_session()</a>.</p>
<div class="fragment"><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;{</div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;   udptl-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#ada540a5f25f7302dc1a3d17ccfa59b10">nat</a> = <a class="code" href="../../d0/dd6/chan__mgcp_8c.html#ada540a5f25f7302dc1a3d17ccfa59b10">nat</a>;</div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;}</div><div class="ttc" id="structast__udptl_html_ada540a5f25f7302dc1a3d17ccfa59b10"><div class="ttname"><a href="../../d9/d81/structast__udptl.html#ada540a5f25f7302dc1a3d17ccfa59b10">ast_udptl::nat</a></div><div class="ttdeci">int nat</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00162">udptl.c:162</a></div></div>
<div class="ttc" id="chan__mgcp_8c_html_ada540a5f25f7302dc1a3d17ccfa59b10"><div class="ttname"><a href="../../d0/dd6/chan__mgcp_8c.html#ada540a5f25f7302dc1a3d17ccfa59b10">nat</a></div><div class="ttdeci">static int nat</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dd6/chan__mgcp_8c_source.html#l00168">chan_mgcp.c:168</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa37b040d6f8a975f25022e73e125b99e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa37b040d6f8a975f25022e73e125b99e">&#9670;&nbsp;</a></span>ast_udptl_setqos()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_udptl_setqos </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d9/d81/structast__udptl.html">ast_udptl</a> *&#160;</td>
          <td class="paramname"><em>udptl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>tos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>cos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/dce/udptl_8c_source.html#l01125">1125</a> of file <a class="el" href="../../d2/dce/udptl_8c_source.html">udptl.c</a>.</p>

<p class="reference">References <a class="el" href="../../d4/d27/netsock2_8c_source.html#l00621">ast_set_qos()</a>, and <a class="el" href="../../d2/dce/udptl_8c_source.html#l00157">ast_udptl::fd</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l07862">initialize_udptl()</a>.</p>
<div class="fragment"><div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;{</div><div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../db/df1/netsock2_8h.html#a9e06776a6cd2ae9f2780a445053a6864">ast_set_qos</a>(udptl-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a6f8059414f0228f0256115e024eeed4b">fd</a>, <a class="code" href="../../d5/dff/chan__iax2_8c.html#a25a9305efab3b493ca2519562fcec3d5">tos</a>, <a class="code" href="../../d5/dff/chan__iax2_8c.html#ae91dad65f553f7afebe4af507803bc7f">cos</a>, <span class="stringliteral">&quot;UDPTL&quot;</span>);</div><div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;}</div><div class="ttc" id="structast__udptl_html_a6f8059414f0228f0256115e024eeed4b"><div class="ttname"><a href="../../d9/d81/structast__udptl.html#a6f8059414f0228f0256115e024eeed4b">ast_udptl::fd</a></div><div class="ttdeci">int fd</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00157">udptl.c:157</a></div></div>
<div class="ttc" id="chan__iax2_8c_html_ae91dad65f553f7afebe4af507803bc7f"><div class="ttname"><a href="../../d5/dff/chan__iax2_8c.html#ae91dad65f553f7afebe4af507803bc7f">cos</a></div><div class="ttdeci">unsigned int cos</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dff/chan__iax2_8c_source.html#l00352">chan_iax2.c:352</a></div></div>
<div class="ttc" id="chan__iax2_8c_html_a25a9305efab3b493ca2519562fcec3d5"><div class="ttname"><a href="../../d5/dff/chan__iax2_8c.html#a25a9305efab3b493ca2519562fcec3d5">tos</a></div><div class="ttdeci">unsigned int tos</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dff/chan__iax2_8c_source.html#l00351">chan_iax2.c:351</a></div></div>
<div class="ttc" id="netsock2_8h_html_a9e06776a6cd2ae9f2780a445053a6864"><div class="ttname"><a href="../../db/df1/netsock2_8h.html#a9e06776a6cd2ae9f2780a445053a6864">ast_set_qos</a></div><div class="ttdeci">int ast_set_qos(int sockfd, int tos, int cos, const char *desc)</div><div class="ttdoc">Set type of service. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d27/netsock2_8c_source.html#l00621">netsock2.c:621</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3fb4dcecfa292b0aae4fd4dbad1b8551"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3fb4dcecfa292b0aae4fd4dbad1b8551">&#9670;&nbsp;</a></span>ast_udptl_stop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ast_udptl_stop </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d9/d81/structast__udptl.html">ast_udptl</a> *&#160;</td>
          <td class="paramname"><em>udptl</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/dce/udptl_8c_source.html#l01145">1145</a> of file <a class="el" href="../../d2/dce/udptl_8c_source.html">udptl.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/df1/netsock2_8h_source.html#l00140">ast_sockaddr_setnull()</a>, and <a class="el" href="../../d2/dce/udptl_8c_source.html#l00165">ast_udptl::them</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l10253">process_sdp()</a>, and <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l25156">stop_media_flows()</a>.</p>
<div class="fragment"><div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;{</div><div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;   <a class="code" href="../../db/df1/netsock2_8h.html#ad91b5dfe4c188d15f4b2e9e2ec5d8864">ast_sockaddr_setnull</a>(&amp;udptl-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a6b3ede593a835ebd86bdb9f9f4b683a9">them</a>);</div><div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;}</div><div class="ttc" id="netsock2_8h_html_ad91b5dfe4c188d15f4b2e9e2ec5d8864"><div class="ttname"><a href="../../db/df1/netsock2_8h.html#ad91b5dfe4c188d15f4b2e9e2ec5d8864">ast_sockaddr_setnull</a></div><div class="ttdeci">static void ast_sockaddr_setnull(struct ast_sockaddr *addr)</div><div class="ttdoc">Sets address addr to null. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/df1/netsock2_8h_source.html#l00140">netsock2.h:140</a></div></div>
<div class="ttc" id="structast__udptl_html_a6b3ede593a835ebd86bdb9f9f4b683a9"><div class="ttname"><a href="../../d9/d81/structast__udptl.html#a6b3ede593a835ebd86bdb9f9f4b683a9">ast_udptl::them</a></div><div class="ttdeci">struct ast_sockaddr them</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00165">udptl.c:165</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a5c5bda796bcae234c457fb56fb106b0b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c5bda796bcae234c457fb56fb106b0b">&#9670;&nbsp;</a></span>ast_udptl_write()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ast_udptl_write </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d9/d81/structast__udptl.html">ast_udptl</a> *&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d0/d99/structast__frame.html">ast_frame</a> *&#160;</td>
          <td class="paramname"><em>f</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/dce/udptl_8c_source.html#l01161">1161</a> of file <a class="el" href="../../d2/dce/udptl_8c_source.html">udptl.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00123">AST_FRAME_MODEM</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00241">AST_MODEM_T38</a>, <a class="el" href="../../d4/d27/netsock2_8c_source.html#l00614">ast_sendto()</a>, <a class="el" href="../../db/df1/netsock2_8h_source.html#l00127">ast_sockaddr_isnull()</a>, <a class="el" href="../../db/df1/netsock2_8h_source.html#l00260">ast_sockaddr_stringify()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00463">ast_verb</a>, <a class="el" href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">buf</a>, <a class="el" href="../../d0/d99/structast__frame.html#a4027905f872af30d910929b07e261ca5">ast_frame::data</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00171">ast_frame::datalen</a>, <a class="el" href="../../d2/dce/udptl_8c_source.html#l00134">DEFAULT_FAX_MAX_DATAGRAM</a>, <a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a>, <a class="el" href="../../d2/dce/udptl_8c_source.html#l00191">ast_udptl::far_max_datagram</a>, <a class="el" href="../../d2/dce/udptl_8c_source.html#l00205">ast_udptl::far_max_ifp</a>, <a class="el" href="../../d2/dce/udptl_8c_source.html#l00157">ast_udptl::fd</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00167">ast_frame::frametype</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00152">ast_frame_subclass::integer</a>, <a class="el" href="../../db/df1/netsock2_8h_source.html#l00099">ast_sockaddr::len</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00263">LOG_NOTICE</a>, <a class="el" href="../../d2/dce/udptl_8c_source.html#l00125">LOG_TAG</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00183">ast_frame::ptr</a>, <a class="el" href="../../d7/d81/app__sms_8c_source.html#l00120">seq</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00169">ast_frame::subclass</a>, <a class="el" href="../../d2/dce/udptl_8c_source.html#l00165">ast_udptl::them</a>, <a class="el" href="../../d2/dce/udptl_8c_source.html#l00213">ast_udptl::tx_seq_no</a>, <a class="el" href="../../d2/dce/udptl_8c_source.html#l00621">udptl_build_packet()</a>, and <a class="el" href="../../d2/dce/udptl_8c_source.html#l00258">udptl_debug_test_addr()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/d80/res__pjsip__t38_8c_source.html#l00988">media_session_udptl_write_callback()</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l01212">ooh323_write()</a>, and <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l07511">sip_write()</a>.</p>
<div class="fragment"><div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;{</div><div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../d7/d81/app__sms_8c.html#a8514112da88a5d13451aaf8c9b064017">seq</a>;</div><div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a> = f-&gt;<a class="code" href="../../d0/d99/structast__frame.html#ad67e07841d1233e596e6f822a3c81f6b">datalen</a>;</div><div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;   <span class="comment">/* if no max datagram size is provided, use default value */</span></div><div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">int</span> bufsize = (s-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a57bdb7e31fa5ba4d3f96658d472e5b94">far_max_datagram</a> &gt; 0) ? s-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a57bdb7e31fa5ba4d3f96658d472e5b94">far_max_datagram</a> : <a class="code" href="../../d2/dce/udptl_8c.html#a840abeaeb2ccc5dca63e7acfeed7ca87">DEFAULT_FAX_MAX_DATAGRAM</a>;</div><div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;   uint8_t <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>[bufsize];</div><div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;</div><div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;   memset(<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, 0, <span class="keyword">sizeof</span>(<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>));</div><div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;</div><div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;   <span class="comment">/* If we have no peer, return immediately */</span></div><div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../db/df1/netsock2_8h.html#aae671446fa65b8f846efaf165872c683">ast_sockaddr_isnull</a>(&amp;s-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a6b3ede593a835ebd86bdb9f9f4b683a9">them</a>)) {</div><div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;   }</div><div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;</div><div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;   <span class="comment">/* If there is no data length, return immediately */</span></div><div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;   <span class="keywordflow">if</span> (f-&gt;<a class="code" href="../../d0/d99/structast__frame.html#ad67e07841d1233e596e6f822a3c81f6b">datalen</a> == 0)</div><div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;</div><div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;   <span class="keywordflow">if</span> ((f-&gt;<a class="code" href="../../d0/d99/structast__frame.html#a6937b93c56cb473b547eda454dca7b4c">frametype</a> != <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#ae2e1a9c4e048da387b761f619312d6e0ad99b86353343f422bda01163898b2eea">AST_FRAME_MODEM</a>) ||</div><div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;       (f-&gt;<a class="code" href="../../d0/d99/structast__frame.html#a27237c48fdcd22556401f20c693811db">subclass</a>.<a class="code" href="../../d1/d9f/structast__frame__subclass.html#adece183191b0e700e039e59101e06105">integer</a> != <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#a3a510e4e2673c6870ed5fe0f1eb53732">AST_MODEM_T38</a>)) {</div><div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;UDPTL (%s): UDPTL can only send T.38 data.\n&quot;</span>,</div><div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;         <a class="code" href="../../d2/dce/udptl_8c.html#a12f6e5fd71bc2bc7fcfc0583b035c862">LOG_TAG</a>(s));</div><div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;   }</div><div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;</div><div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;   <span class="keywordflow">if</span> (len &gt; s-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a95f0114a9c3434fbe3743868a613480b">far_max_ifp</a>) {</div><div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>,</div><div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;         <span class="stringliteral">&quot;UDPTL (%s): UDPTL asked to send %u bytes of IFP when far end only prepared to accept %d bytes; data loss will occur.&quot;</span></div><div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;         <span class="stringliteral">&quot;You may need to override the T38FaxMaxDatagram value for this endpoint in the channel driver configuration.\n&quot;</span>,</div><div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;         <a class="code" href="../../d2/dce/udptl_8c.html#a12f6e5fd71bc2bc7fcfc0583b035c862">LOG_TAG</a>(s), len, s-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a95f0114a9c3434fbe3743868a613480b">far_max_ifp</a>);</div><div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;      len = s-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a95f0114a9c3434fbe3743868a613480b">far_max_ifp</a>;</div><div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;   }</div><div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;</div><div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;   <span class="comment">/* Save seq_no for debug output because udptl_build_packet increments it */</span></div><div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;   seq = s-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a0224da9d658e4e4ea2981d7ca7860aa3">tx_seq_no</a> &amp; 0xFFFF;</div><div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;</div><div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;   <span class="comment">/* Cook up the UDPTL packet, with the relevant EC info. */</span></div><div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;   len = <a class="code" href="../../d2/dce/udptl_8c.html#ad2ff9341ea549b0679a80c409637228c">udptl_build_packet</a>(s, <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, <span class="keyword">sizeof</span>(<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>), f-&gt;<a class="code" href="../../d0/d99/structast__frame.html#a4027905f872af30d910929b07e261ca5">data</a>.<a class="code" href="../../d0/d99/structast__frame.html#add9af9569af79ec26dd741fb226b38ba">ptr</a>, len);</div><div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;</div><div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;   <span class="keywordflow">if</span> ((<span class="keywordtype">signed</span> <span class="keywordtype">int</span>) len &gt; 0 &amp;&amp; !<a class="code" href="../../db/df1/netsock2_8h.html#aae671446fa65b8f846efaf165872c683">ast_sockaddr_isnull</a>(&amp;s-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a6b3ede593a835ebd86bdb9f9f4b683a9">them</a>)) {</div><div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../db/df1/netsock2_8h.html#a71fb241d0d6b6ef1c73eaeb1d6d07ac6">ast_sendto</a>(s-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a6f8059414f0228f0256115e024eeed4b">fd</a>, <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, len, 0, &amp;s-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a6b3ede593a835ebd86bdb9f9f4b683a9">them</a>) &lt; 0) {</div><div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#ad89ee324d180cdcd7defcc709ff9ca42">LOG_NOTICE</a>, <span class="stringliteral">&quot;UDPTL (%s): Transmission error to %s: %s\n&quot;</span>,</div><div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;            <a class="code" href="../../d2/dce/udptl_8c.html#a12f6e5fd71bc2bc7fcfc0583b035c862">LOG_TAG</a>(s), <a class="code" href="../../db/df1/netsock2_8h.html#aae9156c7fe6dff51463f29ed1c3b96c9">ast_sockaddr_stringify</a>(&amp;s-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a6b3ede593a835ebd86bdb9f9f4b683a9">them</a>), strerror(<a class="code" href="../../d1/d6e/main_2stdtime_2private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a>));</div><div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;      }</div><div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d2/dce/udptl_8c.html#a2beeec4dcecd9c3e01becd72393bf39a">udptl_debug_test_addr</a>(&amp;s-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a6b3ede593a835ebd86bdb9f9f4b683a9">them</a>)) {</div><div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;         <a class="code" href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a>(1, <span class="stringliteral">&quot;UDPTL (%s): packet to %s (seq %u, len %u)\n&quot;</span>,</div><div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;            <a class="code" href="../../d2/dce/udptl_8c.html#a12f6e5fd71bc2bc7fcfc0583b035c862">LOG_TAG</a>(s), <a class="code" href="../../db/df1/netsock2_8h.html#aae9156c7fe6dff51463f29ed1c3b96c9">ast_sockaddr_stringify</a>(&amp;s-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a6b3ede593a835ebd86bdb9f9f4b683a9">them</a>), seq, len);</div><div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;      }</div><div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;   }</div><div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;</div><div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;}</div><div class="ttc" id="structast__udptl_html_a6f8059414f0228f0256115e024eeed4b"><div class="ttname"><a href="../../d9/d81/structast__udptl.html#a6f8059414f0228f0256115e024eeed4b">ast_udptl::fd</a></div><div class="ttdeci">int fd</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00157">udptl.c:157</a></div></div>
<div class="ttc" id="netsock2_8h_html_a71fb241d0d6b6ef1c73eaeb1d6d07ac6"><div class="ttname"><a href="../../db/df1/netsock2_8h.html#a71fb241d0d6b6ef1c73eaeb1d6d07ac6">ast_sendto</a></div><div class="ttdeci">ssize_t ast_sendto(int sockfd, const void *buf, size_t len, int flags, const struct ast_sockaddr *dest_addr)</div><div class="ttdoc">Wrapper around sendto(2) that uses ast_sockaddr. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d27/netsock2_8c_source.html#l00614">netsock2.c:614</a></div></div>
<div class="ttc" id="structast__frame_html_add9af9569af79ec26dd741fb226b38ba"><div class="ttname"><a href="../../d0/d99/structast__frame.html#add9af9569af79ec26dd741fb226b38ba">ast_frame::ptr</a></div><div class="ttdeci">void * ptr</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00183">include/asterisk/frame.h:183</a></div></div>
<div class="ttc" id="eagi__proxy_8c_html_ac95651d79c608a3148973b5b1fc9e525"><div class="ttname"><a href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a></div><div class="ttdeci">char buf[BUFSIZE]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">eagi_proxy.c:66</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="udptl_8c_html_a2beeec4dcecd9c3e01becd72393bf39a"><div class="ttname"><a href="../../d2/dce/udptl_8c.html#a2beeec4dcecd9c3e01becd72393bf39a">udptl_debug_test_addr</a></div><div class="ttdeci">static int udptl_debug_test_addr(const struct ast_sockaddr *addr)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00258">udptl.c:258</a></div></div>
<div class="ttc" id="logger_8h_html_ad770f83c71e237e1f64163358ce4e13d"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#ad770f83c71e237e1f64163358ce4e13d">ast_verb</a></div><div class="ttdeci">#define ast_verb(level,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00463">logger.h:463</a></div></div>
<div class="ttc" id="structast__frame_html_a27237c48fdcd22556401f20c693811db"><div class="ttname"><a href="../../d0/d99/structast__frame.html#a27237c48fdcd22556401f20c693811db">ast_frame::subclass</a></div><div class="ttdeci">struct ast_frame_subclass subclass</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00169">include/asterisk/frame.h:169</a></div></div>
<div class="ttc" id="netsock2_8h_html_aae671446fa65b8f846efaf165872c683"><div class="ttname"><a href="../../db/df1/netsock2_8h.html#aae671446fa65b8f846efaf165872c683">ast_sockaddr_isnull</a></div><div class="ttdeci">static int ast_sockaddr_isnull(const struct ast_sockaddr *addr)</div><div class="ttdoc">Checks if the ast_sockaddr is null. &quot;null&quot; in this sense essentially means uninitialized, or having a 0 length. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/df1/netsock2_8h_source.html#l00127">netsock2.h:127</a></div></div>
<div class="ttc" id="structast__frame__subclass_html_adece183191b0e700e039e59101e06105"><div class="ttname"><a href="../../d1/d9f/structast__frame__subclass.html#adece183191b0e700e039e59101e06105">ast_frame_subclass::integer</a></div><div class="ttdeci">int integer</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00152">include/asterisk/frame.h:152</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="structast__udptl_html_a57bdb7e31fa5ba4d3f96658d472e5b94"><div class="ttname"><a href="../../d9/d81/structast__udptl.html#a57bdb7e31fa5ba4d3f96658d472e5b94">ast_udptl::far_max_datagram</a></div><div class="ttdeci">int far_max_datagram</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00191">udptl.c:191</a></div></div>
<div class="ttc" id="structast__frame_html_ad67e07841d1233e596e6f822a3c81f6b"><div class="ttname"><a href="../../d0/d99/structast__frame.html#ad67e07841d1233e596e6f822a3c81f6b">ast_frame::datalen</a></div><div class="ttdeci">int datalen</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00171">include/asterisk/frame.h:171</a></div></div>
<div class="ttc" id="structast__udptl_html_a6b3ede593a835ebd86bdb9f9f4b683a9"><div class="ttname"><a href="../../d9/d81/structast__udptl.html#a6b3ede593a835ebd86bdb9f9f4b683a9">ast_udptl::them</a></div><div class="ttdeci">struct ast_sockaddr them</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00165">udptl.c:165</a></div></div>
<div class="ttc" id="structast__udptl_html_a0224da9d658e4e4ea2981d7ca7860aa3"><div class="ttname"><a href="../../d9/d81/structast__udptl.html#a0224da9d658e4e4ea2981d7ca7860aa3">ast_udptl::tx_seq_no</a></div><div class="ttdeci">unsigned int tx_seq_no</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00213">udptl.c:213</a></div></div>
<div class="ttc" id="udptl_8c_html_a12f6e5fd71bc2bc7fcfc0583b035c862"><div class="ttname"><a href="../../d2/dce/udptl_8c.html#a12f6e5fd71bc2bc7fcfc0583b035c862">LOG_TAG</a></div><div class="ttdeci">#define LOG_TAG(u)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00125">udptl.c:125</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_ae2e1a9c4e048da387b761f619312d6e0ad99b86353343f422bda01163898b2eea"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#ae2e1a9c4e048da387b761f619312d6e0ad99b86353343f422bda01163898b2eea">AST_FRAME_MODEM</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00123">include/asterisk/frame.h:123</a></div></div>
<div class="ttc" id="func__strings_8c_html_af24e73aaf92f3000fda15d285e66df24"><div class="ttname"><a href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a></div><div class="ttdeci">static int len(struct ast_channel *chan, const char *cmd, char *data, char *buf, size_t buflen)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d1e/func__strings_8c_source.html#l01344">func_strings.c:1344</a></div></div>
<div class="ttc" id="main_2stdtime_2private_8h_html_ad65a8842cc674e3ddf69355898c0ecbf"><div class="ttname"><a href="../../d1/d6e/main_2stdtime_2private_8h.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a></div><div class="ttdeci">int errno</div></div>
<div class="ttc" id="netsock2_8h_html_aae9156c7fe6dff51463f29ed1c3b96c9"><div class="ttname"><a href="../../db/df1/netsock2_8h.html#aae9156c7fe6dff51463f29ed1c3b96c9">ast_sockaddr_stringify</a></div><div class="ttdeci">static char * ast_sockaddr_stringify(const struct ast_sockaddr *addr)</div><div class="ttdoc">Wrapper around ast_sockaddr_stringify_fmt() with default format. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/df1/netsock2_8h_source.html#l00260">netsock2.h:260</a></div></div>
<div class="ttc" id="logger_8h_html_ad89ee324d180cdcd7defcc709ff9ca42"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#ad89ee324d180cdcd7defcc709ff9ca42">LOG_NOTICE</a></div><div class="ttdeci">#define LOG_NOTICE</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00263">logger.h:263</a></div></div>
<div class="ttc" id="structast__udptl_html_a95f0114a9c3434fbe3743868a613480b"><div class="ttname"><a href="../../d9/d81/structast__udptl.html#a95f0114a9c3434fbe3743868a613480b">ast_udptl::far_max_ifp</a></div><div class="ttdeci">int far_max_ifp</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00205">udptl.c:205</a></div></div>
<div class="ttc" id="udptl_8c_html_ad2ff9341ea549b0679a80c409637228c"><div class="ttname"><a href="../../d2/dce/udptl_8c.html#ad2ff9341ea549b0679a80c409637228c">udptl_build_packet</a></div><div class="ttdeci">static int udptl_build_packet(struct ast_udptl *s, uint8_t *buf, unsigned int buflen, uint8_t *ifp, unsigned int ifp_len)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00621">udptl.c:621</a></div></div>
<div class="ttc" id="app__sms_8c_html_a8514112da88a5d13451aaf8c9b064017"><div class="ttname"><a href="../../d7/d81/app__sms_8c.html#a8514112da88a5d13451aaf8c9b064017">seq</a></div><div class="ttdeci">static volatile unsigned int seq</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d81/app__sms_8c_source.html#l00120">app_sms.c:120</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_a3a510e4e2673c6870ed5fe0f1eb53732"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#a3a510e4e2673c6870ed5fe0f1eb53732">AST_MODEM_T38</a></div><div class="ttdeci">#define AST_MODEM_T38</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00241">include/asterisk/frame.h:241</a></div></div>
<div class="ttc" id="structast__frame_html_a4027905f872af30d910929b07e261ca5"><div class="ttname"><a href="../../d0/d99/structast__frame.html#a4027905f872af30d910929b07e261ca5">ast_frame::data</a></div><div class="ttdeci">union ast_frame::@263 data</div></div>
<div class="ttc" id="structast__frame_html_a6937b93c56cb473b547eda454dca7b4c"><div class="ttname"><a href="../../d0/d99/structast__frame.html#a6937b93c56cb473b547eda454dca7b4c">ast_frame::frametype</a></div><div class="ttdeci">enum ast_frame_type frametype</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00167">include/asterisk/frame.h:167</a></div></div>
<div class="ttc" id="udptl_8c_html_a840abeaeb2ccc5dca63e7acfeed7ca87"><div class="ttname"><a href="../../d2/dce/udptl_8c.html#a840abeaeb2ccc5dca63e7acfeed7ca87">DEFAULT_FAX_MAX_DATAGRAM</a></div><div class="ttdeci">#define DEFAULT_FAX_MAX_DATAGRAM</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00134">udptl.c:134</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a541dbf72506ff6bead2d506613979e24"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a541dbf72506ff6bead2d506613979e24">&#9670;&nbsp;</a></span>calculate_far_max_ifp()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void calculate_far_max_ifp </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d9/d81/structast__udptl.html">ast_udptl</a> *&#160;</td>
          <td class="paramname"><em>udptl</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/dce/udptl_8c_source.html#l00872">872</a> of file <a class="el" href="../../d2/dce/udptl_8c_source.html">udptl.c</a>.</p>

<p class="reference">References <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d2/dce/udptl_8c_source.html#l00181">ast_udptl::error_correction_entries</a>, <a class="el" href="../../d2/dce/udptl_8c_source.html#l00176">ast_udptl::error_correction_scheme</a>, <a class="el" href="../../d2/dce/udptl_8c_source.html#l00191">ast_udptl::far_max_datagram</a>, <a class="el" href="../../d2/dce/udptl_8c_source.html#l00205">ast_udptl::far_max_ifp</a>, <a class="el" href="../../d2/dce/udptl_8c_source.html#l00125">LOG_TAG</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../d5/da1/udptl_8h_source.html#l00039">UDPTL_ERROR_CORRECTION_FEC</a>, <a class="el" href="../../d5/da1/udptl_8h_source.html#l00038">UDPTL_ERROR_CORRECTION_NONE</a>, and <a class="el" href="../../d5/da1/udptl_8h_source.html#l00040">UDPTL_ERROR_CORRECTION_REDUNDANCY</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/dce/udptl_8c_source.html#l01016">ast_udptl_get_far_max_ifp()</a>.</p>
<div class="fragment"><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;{</div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;   <span class="keywordtype">unsigned</span> new_max = 0;</div><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;</div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;   <span class="keywordflow">if</span> (udptl-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a57bdb7e31fa5ba4d3f96658d472e5b94">far_max_datagram</a> == -1) {</div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;UDPTL (%s): Cannot calculate far_max_ifp before far_max_datagram has been set.\n&quot;</span>,</div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;         <a class="code" href="../../d2/dce/udptl_8c.html#a12f6e5fd71bc2bc7fcfc0583b035c862">LOG_TAG</a>(udptl));</div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;      udptl-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a95f0114a9c3434fbe3743868a613480b">far_max_ifp</a> = -1;</div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;   }</div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;</div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;   <span class="comment">/* the goal here is to supply the local endpoint (application</span></div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;<span class="comment">    * or bridged channel) a maximum IFP value that will allow it</span></div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;<span class="comment">    * to effectively and efficiently transfer image data at its</span></div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;<span class="comment">    * selected bit rate, taking into account the selected error</span></div><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;<span class="comment">    * correction mode, but without overrunning the far endpoint&#39;s</span></div><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;<span class="comment">    * datagram buffer. this is complicated by the fact that some</span></div><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;<span class="comment">    * far endpoints send us bogus (small) max datagram values,</span></div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;<span class="comment">    * which would result in either buffer overrun or no error</span></div><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;<span class="comment">    * correction. we try to accomodate those, but if the supplied</span></div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;<span class="comment">    * value is too small to do so, we&#39;ll emit warning messages and</span></div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;<span class="comment">    * the user will have to use configuration options to override</span></div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;<span class="comment">    * the max datagram value supplied by the far endpoint.</span></div><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;   <span class="keywordflow">switch</span> (udptl-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#ac215dbaf54319e257d2c33ecd70c36c5">error_correction_scheme</a>) {</div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d5/da1/udptl_8h.html#af968992af6d7e1186843a2eb371c9795afa83e5a16b5198b5d34543cb94114cd6">UDPTL_ERROR_CORRECTION_NONE</a>:</div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;      <span class="comment">/* need room for sequence number, length indicator, redundancy</span></div><div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;<span class="comment">       * indicator and following length indicator</span></div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;<span class="comment">       */</span></div><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;      new_max = udptl-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a57bdb7e31fa5ba4d3f96658d472e5b94">far_max_datagram</a> - 5;</div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d5/da1/udptl_8h.html#af968992af6d7e1186843a2eb371c9795afbc322f60eade115e42b66d4ab4dec83">UDPTL_ERROR_CORRECTION_REDUNDANCY</a>:</div><div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;      <span class="comment">/* for this case, we&#39;d like to send as many error correction entries</span></div><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;<span class="comment">       * as possible (up to the number we&#39;re configured for), but we&#39;ll settle</span></div><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;<span class="comment">       * for sending fewer if the configured number would cause the</span></div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;<span class="comment">       * calculated max IFP to be too small for effective operation</span></div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;<span class="comment">       *</span></div><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;<span class="comment">       * need room for sequence number, length indicators and the</span></div><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;<span class="comment">       * configured number of redundant packets</span></div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;<span class="comment">       *</span></div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;<span class="comment">       * note: we purposely don&#39;t allow error_correction_entries to drop to</span></div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;<span class="comment">       * zero in this loop; we&#39;d rather send smaller IFPs (and thus reduce</span></div><div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;<span class="comment">       * the image data transfer rate) than sacrifice redundancy completely</span></div><div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;<span class="comment">       */</span></div><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;      <span class="keywordflow">for</span> (;;) {</div><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;         new_max = (udptl-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a57bdb7e31fa5ba4d3f96658d472e5b94">far_max_datagram</a> - 8) / (udptl-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a53a056eca513e58ba0819110f0e62bc8">error_correction_entries</a> + 1);</div><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;</div><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;         <span class="keywordflow">if</span> ((new_max &lt; 80) &amp;&amp; (udptl-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a53a056eca513e58ba0819110f0e62bc8">error_correction_entries</a> &gt; 1)) {</div><div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;            <span class="comment">/* the max ifp is not large enough, subtract an</span></div><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;<span class="comment">             * error correction entry and calculate again</span></div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;<span class="comment">             * */</span></div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;            --udptl-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a53a056eca513e58ba0819110f0e62bc8">error_correction_entries</a>;</div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;         } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;         }</div><div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;      }</div><div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d5/da1/udptl_8h.html#af968992af6d7e1186843a2eb371c9795aa0e8972e48ad95a77cbe2c66e174fd76">UDPTL_ERROR_CORRECTION_FEC</a>:</div><div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;      <span class="comment">/* need room for sequence number, length indicators and a</span></div><div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;<span class="comment">       * a single IFP of the maximum size expected</span></div><div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;<span class="comment">       */</span></div><div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;      new_max = (udptl-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a57bdb7e31fa5ba4d3f96658d472e5b94">far_max_datagram</a> - 10) / 2;</div><div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;   }</div><div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;   <span class="comment">/* subtract 5% of space for insurance */</span></div><div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;   udptl-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a95f0114a9c3434fbe3743868a613480b">far_max_ifp</a> = new_max * 0.95;</div><div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;}</div><div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="udptl_8h_html_af968992af6d7e1186843a2eb371c9795afbc322f60eade115e42b66d4ab4dec83"><div class="ttname"><a href="../../d5/da1/udptl_8h.html#af968992af6d7e1186843a2eb371c9795afbc322f60eade115e42b66d4ab4dec83">UDPTL_ERROR_CORRECTION_REDUNDANCY</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da1/udptl_8h_source.html#l00040">udptl.h:40</a></div></div>
<div class="ttc" id="structast__udptl_html_a53a056eca513e58ba0819110f0e62bc8"><div class="ttname"><a href="../../d9/d81/structast__udptl.html#a53a056eca513e58ba0819110f0e62bc8">ast_udptl::error_correction_entries</a></div><div class="ttdeci">unsigned int error_correction_entries</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00181">udptl.c:181</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="structast__udptl_html_a57bdb7e31fa5ba4d3f96658d472e5b94"><div class="ttname"><a href="../../d9/d81/structast__udptl.html#a57bdb7e31fa5ba4d3f96658d472e5b94">ast_udptl::far_max_datagram</a></div><div class="ttdeci">int far_max_datagram</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00191">udptl.c:191</a></div></div>
<div class="ttc" id="udptl_8c_html_a12f6e5fd71bc2bc7fcfc0583b035c862"><div class="ttname"><a href="../../d2/dce/udptl_8c.html#a12f6e5fd71bc2bc7fcfc0583b035c862">LOG_TAG</a></div><div class="ttdeci">#define LOG_TAG(u)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00125">udptl.c:125</a></div></div>
<div class="ttc" id="structast__udptl_html_a95f0114a9c3434fbe3743868a613480b"><div class="ttname"><a href="../../d9/d81/structast__udptl.html#a95f0114a9c3434fbe3743868a613480b">ast_udptl::far_max_ifp</a></div><div class="ttdeci">int far_max_ifp</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00205">udptl.c:205</a></div></div>
<div class="ttc" id="udptl_8h_html_af968992af6d7e1186843a2eb371c9795afa83e5a16b5198b5d34543cb94114cd6"><div class="ttname"><a href="../../d5/da1/udptl_8h.html#af968992af6d7e1186843a2eb371c9795afa83e5a16b5198b5d34543cb94114cd6">UDPTL_ERROR_CORRECTION_NONE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da1/udptl_8h_source.html#l00038">udptl.h:38</a></div></div>
<div class="ttc" id="udptl_8h_html_af968992af6d7e1186843a2eb371c9795aa0e8972e48ad95a77cbe2c66e174fd76"><div class="ttname"><a href="../../d5/da1/udptl_8h.html#af968992af6d7e1186843a2eb371c9795aa0e8972e48ad95a77cbe2c66e174fd76">UDPTL_ERROR_CORRECTION_FEC</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da1/udptl_8h_source.html#l00039">udptl.h:39</a></div></div>
<div class="ttc" id="structast__udptl_html_ac215dbaf54319e257d2c33ecd70c36c5"><div class="ttname"><a href="../../d9/d81/structast__udptl.html#ac215dbaf54319e257d2c33ecd70c36c5">ast_udptl::error_correction_scheme</a></div><div class="ttdeci">enum ast_t38_ec_modes error_correction_scheme</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00176">udptl.c:176</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab3acebf54181c51340a4a3fa080525a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab3acebf54181c51340a4a3fa080525a8">&#9670;&nbsp;</a></span>calculate_local_max_datagram()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void calculate_local_max_datagram </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d9/d81/structast__udptl.html">ast_udptl</a> *&#160;</td>
          <td class="paramname"><em>udptl</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/dce/udptl_8c_source.html#l00831">831</a> of file <a class="el" href="../../d2/dce/udptl_8c_source.html">udptl.c</a>.</p>

<p class="reference">References <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d2/dce/udptl_8c_source.html#l00176">ast_udptl::error_correction_scheme</a>, <a class="el" href="../../d2/dce/udptl_8c_source.html#l00133">LOCAL_FAX_MAX_DATAGRAM</a>, <a class="el" href="../../d2/dce/udptl_8c_source.html#l00197">ast_udptl::local_max_datagram</a>, <a class="el" href="../../d2/dce/udptl_8c_source.html#l00211">ast_udptl::local_max_ifp</a>, <a class="el" href="../../d2/dce/udptl_8c_source.html#l00125">LOG_TAG</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00226">MIN</a>, <a class="el" href="../../d5/da1/udptl_8h_source.html#l00039">UDPTL_ERROR_CORRECTION_FEC</a>, <a class="el" href="../../d5/da1/udptl_8h_source.html#l00038">UDPTL_ERROR_CORRECTION_NONE</a>, and <a class="el" href="../../d5/da1/udptl_8h_source.html#l00040">UDPTL_ERROR_CORRECTION_REDUNDANCY</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/dce/udptl_8c_source.html#l00984">ast_udptl_get_local_max_datagram()</a>.</p>
<div class="fragment"><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;{</div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> new_max = 0;</div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;</div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;   <span class="keywordflow">if</span> (udptl-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a832188d785b133f8195c9c74de833141">local_max_ifp</a> == -1) {</div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;UDPTL (%s): Cannot calculate local_max_datagram before local_max_ifp has been set.\n&quot;</span>,</div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;         <a class="code" href="../../d2/dce/udptl_8c.html#a12f6e5fd71bc2bc7fcfc0583b035c862">LOG_TAG</a>(udptl));</div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;      udptl-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#aa6de52220e98717c22a45506d1aad1eb">local_max_datagram</a> = -1;</div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;   }</div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;</div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;   <span class="comment">/* calculate the amount of space required to receive an IFP</span></div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;<span class="comment">    * of the maximum size supported by the application/endpoint</span></div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;<span class="comment">    * that we are delivering them to (local endpoint), and add</span></div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;<span class="comment">    * the amount of space required to support the selected</span></div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;<span class="comment">    * error correction mode</span></div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;   <span class="keywordflow">switch</span> (udptl-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#ac215dbaf54319e257d2c33ecd70c36c5">error_correction_scheme</a>) {</div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d5/da1/udptl_8h.html#af968992af6d7e1186843a2eb371c9795afa83e5a16b5198b5d34543cb94114cd6">UDPTL_ERROR_CORRECTION_NONE</a>:</div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;      <span class="comment">/* need room for sequence number, length indicator, redundancy</span></div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;<span class="comment">       * indicator and following length indicator</span></div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;<span class="comment">       */</span></div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;      new_max = 5 + udptl-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a832188d785b133f8195c9c74de833141">local_max_ifp</a>;</div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d5/da1/udptl_8h.html#af968992af6d7e1186843a2eb371c9795afbc322f60eade115e42b66d4ab4dec83">UDPTL_ERROR_CORRECTION_REDUNDANCY</a>:</div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;      <span class="comment">/* need room for sequence number, length indicators, plus</span></div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;<span class="comment">       * room for up to 3 redundancy packets</span></div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;<span class="comment">       */</span></div><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;      new_max = 5 + udptl-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a832188d785b133f8195c9c74de833141">local_max_ifp</a> + 2 + (3 * udptl-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a832188d785b133f8195c9c74de833141">local_max_ifp</a>);</div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d5/da1/udptl_8h.html#af968992af6d7e1186843a2eb371c9795aa0e8972e48ad95a77cbe2c66e174fd76">UDPTL_ERROR_CORRECTION_FEC</a>:</div><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;      <span class="comment">/* need room for sequence number, length indicators and a</span></div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;<span class="comment">       * a single IFP of the maximum size expected</span></div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;<span class="comment">       */</span></div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;      new_max = 5 + udptl-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a832188d785b133f8195c9c74de833141">local_max_ifp</a> + 4 + udptl-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a832188d785b133f8195c9c74de833141">local_max_ifp</a>;</div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;   }</div><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;   <span class="comment">/* add 5% extra space for insurance, but no larger than LOCAL_FAX_MAX_DATAGRAM */</span></div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;   udptl-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#aa6de52220e98717c22a45506d1aad1eb">local_max_datagram</a> = <a class="code" href="../../d5/d60/utils_8h.html#a3acffbd305ee72dcd4593c0d8af64a4f">MIN</a>(new_max * 1.05, <a class="code" href="../../d2/dce/udptl_8c.html#a7cebef58b6e2f580a8e74b7c133cd34b">LOCAL_FAX_MAX_DATAGRAM</a>);</div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;}</div><div class="ttc" id="structast__udptl_html_aa6de52220e98717c22a45506d1aad1eb"><div class="ttname"><a href="../../d9/d81/structast__udptl.html#aa6de52220e98717c22a45506d1aad1eb">ast_udptl::local_max_datagram</a></div><div class="ttdeci">int local_max_datagram</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00197">udptl.c:197</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="udptl_8h_html_af968992af6d7e1186843a2eb371c9795afbc322f60eade115e42b66d4ab4dec83"><div class="ttname"><a href="../../d5/da1/udptl_8h.html#af968992af6d7e1186843a2eb371c9795afbc322f60eade115e42b66d4ab4dec83">UDPTL_ERROR_CORRECTION_REDUNDANCY</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da1/udptl_8h_source.html#l00040">udptl.h:40</a></div></div>
<div class="ttc" id="utils_8h_html_a3acffbd305ee72dcd4593c0d8af64a4f"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a3acffbd305ee72dcd4593c0d8af64a4f">MIN</a></div><div class="ttdeci">#define MIN(a, b)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00226">utils.h:226</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="udptl_8c_html_a7cebef58b6e2f580a8e74b7c133cd34b"><div class="ttname"><a href="../../d2/dce/udptl_8c.html#a7cebef58b6e2f580a8e74b7c133cd34b">LOCAL_FAX_MAX_DATAGRAM</a></div><div class="ttdeci">#define LOCAL_FAX_MAX_DATAGRAM</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00133">udptl.c:133</a></div></div>
<div class="ttc" id="udptl_8c_html_a12f6e5fd71bc2bc7fcfc0583b035c862"><div class="ttname"><a href="../../d2/dce/udptl_8c.html#a12f6e5fd71bc2bc7fcfc0583b035c862">LOG_TAG</a></div><div class="ttdeci">#define LOG_TAG(u)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00125">udptl.c:125</a></div></div>
<div class="ttc" id="udptl_8h_html_af968992af6d7e1186843a2eb371c9795afa83e5a16b5198b5d34543cb94114cd6"><div class="ttname"><a href="../../d5/da1/udptl_8h.html#af968992af6d7e1186843a2eb371c9795afa83e5a16b5198b5d34543cb94114cd6">UDPTL_ERROR_CORRECTION_NONE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da1/udptl_8h_source.html#l00038">udptl.h:38</a></div></div>
<div class="ttc" id="structast__udptl_html_a832188d785b133f8195c9c74de833141"><div class="ttname"><a href="../../d9/d81/structast__udptl.html#a832188d785b133f8195c9c74de833141">ast_udptl::local_max_ifp</a></div><div class="ttdeci">int local_max_ifp</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00211">udptl.c:211</a></div></div>
<div class="ttc" id="udptl_8h_html_af968992af6d7e1186843a2eb371c9795aa0e8972e48ad95a77cbe2c66e174fd76"><div class="ttname"><a href="../../d5/da1/udptl_8h.html#af968992af6d7e1186843a2eb371c9795aa0e8972e48ad95a77cbe2c66e174fd76">UDPTL_ERROR_CORRECTION_FEC</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da1/udptl_8h_source.html#l00039">udptl.h:39</a></div></div>
<div class="ttc" id="structast__udptl_html_ac215dbaf54319e257d2c33ecd70c36c5"><div class="ttname"><a href="../../d9/d81/structast__udptl.html#ac215dbaf54319e257d2c33ecd70c36c5">ast_udptl::error_correction_scheme</a></div><div class="ttdeci">enum ast_t38_ec_modes error_correction_scheme</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00176">udptl.c:176</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a8f8461b1b461769439978fb1bd99ab4b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8f8461b1b461769439978fb1bd99ab4b">&#9670;&nbsp;</a></span>CONFIG_INFO_CORE()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CONFIG_INFO_CORE </td>
          <td>(</td>
          <td class="paramtype">&quot;udptl&quot;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cfg_info&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/dc5/extconf_8c.html#aec3689c71194f8504dafc644005a97db">globals</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/dce/udptl_8c.html#a16a9faf748836fea2b38f5a138d50cd8">udptl_snapshot_alloc</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">.&#160;</td>
          <td class="paramname"><em>files</em> = <code><a class="el" href="../../db/dfe/config__options_8h.html#a60d2944aab4537720434ab9c90e12418">ACO_FILES</a>(&amp;<a class="el" href="../../d2/dce/udptl_8c.html#a301a13a22973f02d4d148ef14df2e0f3">udptl_conf</a>)</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">.&#160;</td>
          <td class="paramname"><em>pre_apply_config</em> = <code><a class="el" href="../../d2/dce/udptl_8c.html#a8dbc1addfd99c00e7e7f496632aa6948">udptl_pre_apply_config</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ae31d7a712ec76b9ee8515efecca0cc07"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae31d7a712ec76b9ee8515efecca0cc07">&#9670;&nbsp;</a></span>decode_length()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int decode_length </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>limit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int *&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int *&#160;</td>
          <td class="paramname"><em>pvalue</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/dce/udptl_8c_source.html#l00274">274</a> of file <a class="el" href="../../d2/dce/udptl_8c_source.html">udptl.c</a>.</p>

<p class="reference">References <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, and <a class="el" href="../../db/df1/netsock2_8h_source.html#l00099">ast_sockaddr::len</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/dce/udptl_8c_source.html#l00300">decode_open_type()</a>, and <a class="el" href="../../d2/dce/udptl_8c_source.html#l00381">udptl_rx_packet()</a>.</p>
<div class="fragment"><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;{</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;   <span class="keywordflow">if</span> (*<a class="code" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a> &gt;= limit)</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;   <span class="keywordflow">if</span> ((<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>[*<a class="code" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>] &amp; 0x80) == 0) {</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;      *pvalue = <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>[*<a class="code" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>];</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;      (*len)++;</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;   }</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;   <span class="keywordflow">if</span> ((<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>[*<a class="code" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>] &amp; 0x40) == 0) {</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;      <span class="keywordflow">if</span> (*<a class="code" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a> == limit - 1)</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;         <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;      *pvalue = (<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>[*<a class="code" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>] &amp; 0x3F) &lt;&lt; 8;</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;      (*len)++;</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;      *pvalue |= <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>[*<a class="code" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>];</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;      (*len)++;</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;   }</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;   *pvalue = (<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>[*<a class="code" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>] &amp; 0x3F) &lt;&lt; 14;</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;   (*len)++;</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;   <span class="comment">/* We have a fragment.  Currently we don&#39;t process fragments. */</span></div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;   <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;UDPTL packet with length greater than 16K received, decoding will fail\n&quot;</span>);</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;   <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;}</div><div class="ttc" id="eagi__proxy_8c_html_ac95651d79c608a3148973b5b1fc9e525"><div class="ttname"><a href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a></div><div class="ttdeci">char buf[BUFSIZE]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">eagi_proxy.c:66</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="func__strings_8c_html_af24e73aaf92f3000fda15d285e66df24"><div class="ttname"><a href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a></div><div class="ttdeci">static int len(struct ast_channel *chan, const char *cmd, char *data, char *buf, size_t buflen)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d1e/func__strings_8c_source.html#l01344">func_strings.c:1344</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="acad8de64155e849783a598df19ce849c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acad8de64155e849783a598df19ce849c">&#9670;&nbsp;</a></span>decode_open_type()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int decode_open_type </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>limit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int *&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t **&#160;</td>
          <td class="paramname"><em>p_object</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int *&#160;</td>
          <td class="paramname"><em>p_num_octets</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/dce/udptl_8c_source.html#l00300">300</a> of file <a class="el" href="../../d2/dce/udptl_8c_source.html">udptl.c</a>.</p>

<p class="reference">References <a class="el" href="../../d2/dce/udptl_8c_source.html#l00274">decode_length()</a>, and <a class="el" href="../../db/df1/netsock2_8h_source.html#l00099">ast_sockaddr::len</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/dce/udptl_8c_source.html#l00381">udptl_rx_packet()</a>.</p>
<div class="fragment"><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;{</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> octet_cnt = 0;</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d2/dce/udptl_8c.html#ae31d7a712ec76b9ee8515efecca0cc07">decode_length</a>(<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, limit, <a class="code" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>, &amp;octet_cnt) != 0)</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;   <span class="comment">/* Make sure the buffer contains at least the number of bits requested */</span></div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;   <span class="keywordflow">if</span> ((*<a class="code" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a> + octet_cnt) &gt; limit) {</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;   }</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;   *p_num_octets = octet_cnt;</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;   *p_object = &amp;<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>[*<a class="code" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>];</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;   *<a class="code" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a> += octet_cnt;</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;}</div><div class="ttc" id="eagi__proxy_8c_html_ac95651d79c608a3148973b5b1fc9e525"><div class="ttname"><a href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a></div><div class="ttdeci">char buf[BUFSIZE]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">eagi_proxy.c:66</a></div></div>
<div class="ttc" id="udptl_8c_html_ae31d7a712ec76b9ee8515efecca0cc07"><div class="ttname"><a href="../../d2/dce/udptl_8c.html#ae31d7a712ec76b9ee8515efecca0cc07">decode_length</a></div><div class="ttdeci">static int decode_length(uint8_t *buf, unsigned int limit, unsigned int *len, unsigned int *pvalue)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00274">udptl.c:274</a></div></div>
<div class="ttc" id="func__strings_8c_html_af24e73aaf92f3000fda15d285e66df24"><div class="ttname"><a href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a></div><div class="ttdeci">static int len(struct ast_channel *chan, const char *cmd, char *data, char *buf, size_t buflen)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d1e/func__strings_8c_source.html#l01344">func_strings.c:1344</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6c54931735c591c100df527a9e0936e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c54931735c591c100df527a9e0936e1">&#9670;&nbsp;</a></span>encode_length()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static unsigned int encode_length </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int *&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/dce/udptl_8c_source.html#l00320">320</a> of file <a class="el" href="../../d2/dce/udptl_8c_source.html">udptl.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/df1/netsock2_8h_source.html#l00099">ast_sockaddr::len</a>, and <a class="el" href="../../d4/d2f/syslog_8c_source.html#l00037">value</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/dce/udptl_8c_source.html#l00348">encode_open_type()</a>, and <a class="el" href="../../d2/dce/udptl_8c_source.html#l00621">udptl_build_packet()</a>.</p>
<div class="fragment"><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;{</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> multiplier;</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a> &lt; 0x80) {</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;      <span class="comment">/* 1 octet */</span></div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;      <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>[*<a class="code" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>] = <a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>;</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;      (*len)++;</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>;</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;   }</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a> &lt; 0x4000) {</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;      <span class="comment">/* 2 octets */</span></div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;      <span class="comment">/* Set the first bit of the first octet */</span></div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;      <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>[*<a class="code" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>] = ((0x8000 | <a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>) &gt;&gt; 8) &amp; 0xFF;</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;      (*len)++;</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;      <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>[*<a class="code" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>] = <a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a> &amp; 0xFF;</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;      (*len)++;</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a>;</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;   }</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;   <span class="comment">/* Fragmentation */</span></div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;   multiplier = (value &lt; 0x10000) ? (value &gt;&gt; 14) : 4;</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;   <span class="comment">/* Set the first 2 bits of the octet */</span></div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;   <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>[*<a class="code" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>] = 0xC0 | multiplier;</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;   (*len)++;</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;   <span class="keywordflow">return</span> multiplier &lt;&lt; 14;</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;}</div><div class="ttc" id="eagi__proxy_8c_html_ac95651d79c608a3148973b5b1fc9e525"><div class="ttname"><a href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a></div><div class="ttdeci">char buf[BUFSIZE]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">eagi_proxy.c:66</a></div></div>
<div class="ttc" id="syslog_8c_html_ac4f474c82e82cbb89ca7c36dd52be0ed"><div class="ttname"><a href="../../d4/d2f/syslog_8c.html#ac4f474c82e82cbb89ca7c36dd52be0ed">value</a></div><div class="ttdeci">int value</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d2f/syslog_8c_source.html#l00037">syslog.c:37</a></div></div>
<div class="ttc" id="func__strings_8c_html_af24e73aaf92f3000fda15d285e66df24"><div class="ttname"><a href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a></div><div class="ttdeci">static int len(struct ast_channel *chan, const char *cmd, char *data, char *buf, size_t buflen)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d1e/func__strings_8c_source.html#l01344">func_strings.c:1344</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a139e3cb1abd258f2bd35a94b6573ca2c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a139e3cb1abd258f2bd35a94b6573ca2c">&#9670;&nbsp;</a></span>encode_open_type()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int encode_open_type </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d9/d81/structast__udptl.html">ast_udptl</a> *&#160;</td>
          <td class="paramname"><em>udptl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>buflen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int *&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>num_octets</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/dce/udptl_8c_source.html#l00348">348</a> of file <a class="el" href="../../d2/dce/udptl_8c_source.html">udptl.c</a>.</p>

<p class="reference">References <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d2/dce/udptl_8c_source.html#l00320">encode_length()</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00285">LOG_ERROR</a>, and <a class="el" href="../../d2/dce/udptl_8c_source.html#l00125">LOG_TAG</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/dce/udptl_8c_source.html#l00621">udptl_build_packet()</a>.</p>
<div class="fragment"><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;{</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> enclen;</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> octet_idx;</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;   uint8_t zero_byte;</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;   <span class="comment">/* If open type is of zero length, add a single zero byte (10.1) */</span></div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;   <span class="keywordflow">if</span> (num_octets == 0) {</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;      zero_byte = 0;</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;      data = &amp;zero_byte;</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;      num_octets = 1;</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;   }</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;   <span class="comment">/* Encode the open type */</span></div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;   <span class="keywordflow">for</span> (octet_idx = 0; ; num_octets -= enclen, octet_idx += enclen) {</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;      enclen = <a class="code" href="../../d2/dce/udptl_8c.html#a6c54931735c591c100df527a9e0936e1">encode_length</a>(<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, <a class="code" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>, num_octets);</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;      <span class="keywordflow">if</span> (enclen + *<a class="code" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a> &gt; buflen) {</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;         <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a>, <span class="stringliteral">&quot;UDPTL (%s): Buffer overflow detected (%u + %u &gt; %u)\n&quot;</span>,</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;            <a class="code" href="../../d2/dce/udptl_8c.html#a12f6e5fd71bc2bc7fcfc0583b035c862">LOG_TAG</a>(udptl), enclen, *<a class="code" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>, buflen);</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;         <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;      }</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;      <span class="keywordflow">if</span> (enclen &gt; 0) {</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;         memcpy(&amp;<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>[*<a class="code" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>], &amp;data[octet_idx], enclen);</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;         *<a class="code" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a> += enclen;</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;      }</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;      <span class="keywordflow">if</span> (enclen &gt;= num_octets)</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;   }</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;}</div><div class="ttc" id="eagi__proxy_8c_html_ac95651d79c608a3148973b5b1fc9e525"><div class="ttname"><a href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a></div><div class="ttdeci">char buf[BUFSIZE]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">eagi_proxy.c:66</a></div></div>
<div class="ttc" id="udptl_8c_html_a6c54931735c591c100df527a9e0936e1"><div class="ttname"><a href="../../d2/dce/udptl_8c.html#a6c54931735c591c100df527a9e0936e1">encode_length</a></div><div class="ttdeci">static unsigned int encode_length(uint8_t *buf, unsigned int *len, unsigned int value)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00320">udptl.c:320</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="udptl_8c_html_a12f6e5fd71bc2bc7fcfc0583b035c862"><div class="ttname"><a href="../../d2/dce/udptl_8c.html#a12f6e5fd71bc2bc7fcfc0583b035c862">LOG_TAG</a></div><div class="ttdeci">#define LOG_TAG(u)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00125">udptl.c:125</a></div></div>
<div class="ttc" id="logger_8h_html_aced66975c154ea0e2a8ec3bc818b4e08"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#aced66975c154ea0e2a8ec3bc818b4e08">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00285">logger.h:285</a></div></div>
<div class="ttc" id="func__strings_8c_html_af24e73aaf92f3000fda15d285e66df24"><div class="ttname"><a href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a></div><div class="ttdeci">static int len(struct ast_channel *chan, const char *cmd, char *data, char *buf, size_t buflen)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d1e/func__strings_8c_source.html#l01344">func_strings.c:1344</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a8e8cf4d49a6408c5f90f2d1e3295da99"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e8cf4d49a6408c5f90f2d1e3295da99">&#9670;&nbsp;</a></span>handle_cli_show_config()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static char* handle_cli_show_config </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d8/d07/structast__cli__entry.html">ast_cli_entry</a> *&#160;</td>
          <td class="paramname"><em>e</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d3/dad/structast__cli__args.html">ast_cli_args</a> *&#160;</td>
          <td class="paramname"><em>a</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/dce/udptl_8c_source.html#l01260">1260</a> of file <a class="el" href="../../d2/dce/udptl_8c_source.html">udptl.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00925">ao2_global_obj_ref</a>, <a class="el" href="../../da/d4d/clicompat_8c_source.html#l00006">ast_cli()</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00071">AST_CLI_YESNO</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00046">CLI_FAILURE</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00153">CLI_GENERATE</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00152">CLI_INIT</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00044">CLI_SUCCESS</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00186">ast_cli_entry::command</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00159">ast_cli_args::fd</a>, <a class="el" href="../../d3/d4e/chan__console_8c.html#aa36e3e2c486b920b166c2d17c5242221">globals</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d5/d60/utils_8h_source.html#l00911">RAII_VAR</a>, and <a class="el" href="../../dc/db0/cli_8h_source.html#l00177">ast_cli_entry::usage</a>.</p>
<div class="fragment"><div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;{</div><div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;   <a class="code" href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a>(<span class="keyword">struct</span> <a class="code" href="../../d9/dfc/structudptl__config.html">udptl_config</a> *, cfg, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>);</div><div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;</div><div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;   <span class="keywordflow">switch</span> (cmd) {</div><div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a71745eb63dd093f560a1add3e430d2a9">CLI_INIT</a>:</div><div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;      e-&gt;<a class="code" href="../../d8/d07/structast__cli__entry.html#ade9cba72805fe52685a1deea307a8e82">command</a> = <span class="stringliteral">&quot;udptl show config&quot;</span>;</div><div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;      e-&gt;<a class="code" href="../../d8/d07/structast__cli__entry.html#aef1bd6ad890a110b466cb0e8088507a2">usage</a> =</div><div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;         <span class="stringliteral">&quot;Usage: udptl show config\n&quot;</span></div><div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;         <span class="stringliteral">&quot;       Display UDPTL configuration options\n&quot;</span>;</div><div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a76bf33139279b03ec1691f2be2d1be40">CLI_GENERATE</a>:</div><div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;   }</div><div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;</div><div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;   <span class="keywordflow">if</span> (!(cfg = <a class="code" href="../../d5/da5/astobj2_8h.html#a86d8d6c3c8866ed0a60121da055cd225">ao2_global_obj_ref</a>(<a class="code" href="../../d3/d4e/chan__console_8c.html#aa36e3e2c486b920b166c2d17c5242221">globals</a>))) {</div><div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#ae47751901c430ebb833e59291a5e0b3f">CLI_FAILURE</a>;</div><div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;   }</div><div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;</div><div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;   <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;UDPTL Global options\n&quot;</span>);</div><div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;   <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;--------------------\n&quot;</span>);</div><div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;   <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;udptlstart:      %u\n&quot;</span>, cfg-&gt;general-&gt;start);</div><div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;   <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;udptlend:        %u\n&quot;</span>, cfg-&gt;general-&gt;end);</div><div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;   <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;udptlfecentries: %u\n&quot;</span>, cfg-&gt;general-&gt;fecentries);</div><div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;   <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;udptlfecspan:    %u\n&quot;</span>, cfg-&gt;general-&gt;fecspan);</div><div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;   <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;use_even_ports:  %s\n&quot;</span>, <a class="code" href="../../dc/db0/cli_8h.html#a29e703082f8137e165097c41f249e6d1">AST_CLI_YESNO</a>(cfg-&gt;general-&gt;use_even_ports));</div><div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;   <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;udptlchecksums: %s\n&quot;</span>, <a class="code" href="../../dc/db0/cli_8h.html#a29e703082f8137e165097c41f249e6d1">AST_CLI_YESNO</a>(!cfg-&gt;general-&gt;nochecksums));</div><div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;</div><div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#a50989f00b32eeb2516a3803cb2ffb766">CLI_SUCCESS</a>;</div><div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;}</div><div class="ttc" id="structudptl__config_html"><div class="ttname"><a href="../../d9/dfc/structudptl__config.html">udptl_config</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00231">udptl.c:231</a></div></div>
<div class="ttc" id="cli_8h_html_ab33e5350a923c3a8cedbeb496cd88ec9a71745eb63dd093f560a1add3e430d2a9"><div class="ttname"><a href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a71745eb63dd093f560a1add3e430d2a9">CLI_INIT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00152">cli.h:152</a></div></div>
<div class="ttc" id="astobj2_8h_html_a86d8d6c3c8866ed0a60121da055cd225"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a86d8d6c3c8866ed0a60121da055cd225">ao2_global_obj_ref</a></div><div class="ttdeci">#define ao2_global_obj_ref(holder)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00925">astobj2.h:925</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="cli_8h_html_a791bf9f5637185bee5e8f0907c762130"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a></div><div class="ttdeci">void ast_cli(int fd, const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4d/clicompat_8c_source.html#l00006">clicompat.c:6</a></div></div>
<div class="ttc" id="utils_8h_html_a1604b4d72144dd3d9f7da668e90337e9"><div class="ttname"><a href="../../d5/d60/utils_8h.html#a1604b4d72144dd3d9f7da668e90337e9">RAII_VAR</a></div><div class="ttdeci">#define RAII_VAR(vartype, varname, initval, dtor)</div><div class="ttdoc">Declare a variable that will call a destructor function when it goes out of scope. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d60/utils_8h_source.html#l00911">utils.h:911</a></div></div>
<div class="ttc" id="structast__cli__args_html_acf64f219885421479997667d2ed3f08a"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">ast_cli_args::fd</a></div><div class="ttdeci">const int fd</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00159">cli.h:159</a></div></div>
<div class="ttc" id="chan__console_8c_html_aa36e3e2c486b920b166c2d17c5242221"><div class="ttname"><a href="../../d3/d4e/chan__console_8c.html#aa36e3e2c486b920b166c2d17c5242221">globals</a></div><div class="ttdeci">static struct console_pvt globals</div></div>
<div class="ttc" id="cli_8h_html_ae47751901c430ebb833e59291a5e0b3f"><div class="ttname"><a href="../../dc/db0/cli_8h.html#ae47751901c430ebb833e59291a5e0b3f">CLI_FAILURE</a></div><div class="ttdeci">#define CLI_FAILURE</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00046">cli.h:46</a></div></div>
<div class="ttc" id="structast__cli__entry_html_ade9cba72805fe52685a1deea307a8e82"><div class="ttname"><a href="../../d8/d07/structast__cli__entry.html#ade9cba72805fe52685a1deea307a8e82">ast_cli_entry::command</a></div><div class="ttdeci">char * command</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00186">cli.h:186</a></div></div>
<div class="ttc" id="structast__cli__entry_html_aef1bd6ad890a110b466cb0e8088507a2"><div class="ttname"><a href="../../d8/d07/structast__cli__entry.html#aef1bd6ad890a110b466cb0e8088507a2">ast_cli_entry::usage</a></div><div class="ttdeci">const char * usage</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00177">cli.h:177</a></div></div>
<div class="ttc" id="cli_8h_html_a50989f00b32eeb2516a3803cb2ffb766"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a50989f00b32eeb2516a3803cb2ffb766">CLI_SUCCESS</a></div><div class="ttdeci">#define CLI_SUCCESS</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00044">cli.h:44</a></div></div>
<div class="ttc" id="cli_8h_html_ab33e5350a923c3a8cedbeb496cd88ec9a76bf33139279b03ec1691f2be2d1be40"><div class="ttname"><a href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a76bf33139279b03ec1691f2be2d1be40">CLI_GENERATE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00153">cli.h:153</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="cli_8h_html_a29e703082f8137e165097c41f249e6d1"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a29e703082f8137e165097c41f249e6d1">AST_CLI_YESNO</a></div><div class="ttdeci">#define AST_CLI_YESNO(x)</div><div class="ttdoc">Return Yes or No depending on the argument. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00071">cli.h:71</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a9b115851b62ac2f257cabce0cee1f67e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b115851b62ac2f257cabce0cee1f67e">&#9670;&nbsp;</a></span>handle_cli_udptl_set_debug()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static char* handle_cli_udptl_set_debug </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d8/d07/structast__cli__entry.html">ast_cli_entry</a> *&#160;</td>
          <td class="paramname"><em>e</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d3/dad/structast__cli__args.html">ast_cli_args</a> *&#160;</td>
          <td class="paramname"><em>a</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/dce/udptl_8c_source.html#l01215">1215</a> of file <a class="el" href="../../d2/dce/udptl_8c_source.html">udptl.c</a>.</p>

<p class="reference">References <a class="el" href="../../dc/db0/cli_8h_source.html#l00160">ast_cli_args::argc</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00161">ast_cli_args::argv</a>, <a class="el" href="../../da/d4d/clicompat_8c_source.html#l00006">ast_cli()</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../db/df1/netsock2_8h_source.html#l00171">ast_sockaddr_copy()</a>, <a class="el" href="../../d4/d27/netsock2_8c_source.html#l00280">ast_sockaddr_resolve()</a>, <a class="el" href="../../db/df1/netsock2_8h_source.html#l00260">ast_sockaddr_stringify()</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00153">CLI_GENERATE</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00152">CLI_INIT</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00045">CLI_SHOWUSAGE</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00044">CLI_SUCCESS</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00186">ast_cli_entry::command</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00159">ast_cli_args::fd</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d2/dce/udptl_8c_source.html#l00130">udptldebug</a>, <a class="el" href="../../d2/dce/udptl_8c_source.html#l00131">udptldebugaddr</a>, and <a class="el" href="../../dc/db0/cli_8h_source.html#l00177">ast_cli_entry::usage</a>.</p>
<div class="fragment"><div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;{</div><div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;   <span class="keywordflow">switch</span> (cmd) {</div><div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a71745eb63dd093f560a1add3e430d2a9">CLI_INIT</a>:</div><div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;      e-&gt;<a class="code" href="../../d8/d07/structast__cli__entry.html#ade9cba72805fe52685a1deea307a8e82">command</a> = <span class="stringliteral">&quot;udptl set debug {on|off|ip}&quot;</span>;</div><div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;      e-&gt;<a class="code" href="../../d8/d07/structast__cli__entry.html#aef1bd6ad890a110b466cb0e8088507a2">usage</a> =</div><div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;         <span class="stringliteral">&quot;Usage: udptl set debug {on|off|ip host[:port]}\n&quot;</span></div><div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;         <span class="stringliteral">&quot;       Enable or disable dumping of UDPTL packets.\n&quot;</span></div><div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;         <span class="stringliteral">&quot;       If ip is specified, limit the dumped packets to those to and from\n&quot;</span></div><div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;         <span class="stringliteral">&quot;       the specified &#39;host&#39; with optional port.\n&quot;</span>;</div><div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a76bf33139279b03ec1691f2be2d1be40">CLI_GENERATE</a>:</div><div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;   }</div><div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;</div><div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;   <span class="keywordflow">if</span> (a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#a98e1d8441ca58834f11f7367be4b3345">argc</a> &lt; 4 || a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#a98e1d8441ca58834f11f7367be4b3345">argc</a> &gt; 5)</div><div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#a0873456096960dab21fff0ce68c95acb">CLI_SHOWUSAGE</a>;</div><div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;</div><div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;   <span class="keywordflow">if</span> (a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#a98e1d8441ca58834f11f7367be4b3345">argc</a> == 4) {</div><div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;      <span class="keywordflow">if</span> (!strncasecmp(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[3], <span class="stringliteral">&quot;on&quot;</span>, 2)) {</div><div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;         <a class="code" href="../../d2/dce/udptl_8c.html#ade9088978427552c6020fd7453eedb57">udptldebug</a> = 1;</div><div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;         memset(&amp;<a class="code" href="../../d2/dce/udptl_8c.html#adc1b287af4445d491cc5f3e18d3df0d3">udptldebugaddr</a>, 0, <span class="keyword">sizeof</span>(<a class="code" href="../../d2/dce/udptl_8c.html#adc1b287af4445d491cc5f3e18d3df0d3">udptldebugaddr</a>));</div><div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;         <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;UDPTL Debugging Enabled\n&quot;</span>);</div><div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strncasecmp(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[3], <span class="stringliteral">&quot;off&quot;</span>, 3)) {</div><div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;         <a class="code" href="../../d2/dce/udptl_8c.html#ade9088978427552c6020fd7453eedb57">udptldebug</a> = 0;</div><div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;         <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;UDPTL Debugging Disabled\n&quot;</span>);</div><div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;         <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#a0873456096960dab21fff0ce68c95acb">CLI_SHOWUSAGE</a>;</div><div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;      }</div><div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;      <span class="keyword">struct </span><a class="code" href="../../d3/db3/structast__sockaddr.html">ast_sockaddr</a> *addrs;</div><div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;      <span class="keywordflow">if</span> (strncasecmp(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[3], <span class="stringliteral">&quot;ip&quot;</span>, 2))</div><div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;         <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#a0873456096960dab21fff0ce68c95acb">CLI_SHOWUSAGE</a>;</div><div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="../../db/df1/netsock2_8h.html#a8ba6f5b5a9de09137dd18fe2d9592880">ast_sockaddr_resolve</a>(&amp;addrs, a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">argv</a>[4], 0, 0)) {</div><div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;         <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#a0873456096960dab21fff0ce68c95acb">CLI_SHOWUSAGE</a>;</div><div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;      }</div><div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;      <a class="code" href="../../db/df1/netsock2_8h.html#a56a46003c93bfd65111ea8ffc97af8f9">ast_sockaddr_copy</a>(&amp;<a class="code" href="../../d2/dce/udptl_8c.html#adc1b287af4445d491cc5f3e18d3df0d3">udptldebugaddr</a>, &amp;addrs[0]);</div><div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;         <a class="code" href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a>(a-&gt;<a class="code" href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">fd</a>, <span class="stringliteral">&quot;UDPTL Debugging Enabled for IP: %s\n&quot;</span>, <a class="code" href="../../db/df1/netsock2_8h.html#aae9156c7fe6dff51463f29ed1c3b96c9">ast_sockaddr_stringify</a>(&amp;<a class="code" href="../../d2/dce/udptl_8c.html#adc1b287af4445d491cc5f3e18d3df0d3">udptldebugaddr</a>));</div><div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;      <a class="code" href="../../d2/dce/udptl_8c.html#ade9088978427552c6020fd7453eedb57">udptldebug</a> = 1;</div><div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;      <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(addrs);</div><div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;   }</div><div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;</div><div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/cli_8h.html#a50989f00b32eeb2516a3803cb2ffb766">CLI_SUCCESS</a>;</div><div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;}</div><div class="ttc" id="udptl_8c_html_adc1b287af4445d491cc5f3e18d3df0d3"><div class="ttname"><a href="../../d2/dce/udptl_8c.html#adc1b287af4445d491cc5f3e18d3df0d3">udptldebugaddr</a></div><div class="ttdeci">static struct ast_sockaddr udptldebugaddr</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00131">udptl.c:131</a></div></div>
<div class="ttc" id="netsock2_8h_html_a56a46003c93bfd65111ea8ffc97af8f9"><div class="ttname"><a href="../../db/df1/netsock2_8h.html#a56a46003c93bfd65111ea8ffc97af8f9">ast_sockaddr_copy</a></div><div class="ttdeci">static void ast_sockaddr_copy(struct ast_sockaddr *dst, const struct ast_sockaddr *src)</div><div class="ttdoc">Copies the data from one ast_sockaddr to another. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/df1/netsock2_8h_source.html#l00171">netsock2.h:171</a></div></div>
<div class="ttc" id="structast__cli__args_html_a98e1d8441ca58834f11f7367be4b3345"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html#a98e1d8441ca58834f11f7367be4b3345">ast_cli_args::argc</a></div><div class="ttdeci">const int argc</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00160">cli.h:160</a></div></div>
<div class="ttc" id="cli_8h_html_ab33e5350a923c3a8cedbeb496cd88ec9a71745eb63dd093f560a1add3e430d2a9"><div class="ttname"><a href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a71745eb63dd093f560a1add3e430d2a9">CLI_INIT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00152">cli.h:152</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="cli_8h_html_a791bf9f5637185bee5e8f0907c762130"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a791bf9f5637185bee5e8f0907c762130">ast_cli</a></div><div class="ttdeci">void ast_cli(int fd, const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4d/clicompat_8c_source.html#l00006">clicompat.c:6</a></div></div>
<div class="ttc" id="structast__sockaddr_html"><div class="ttname"><a href="../../d3/db3/structast__sockaddr.html">ast_sockaddr</a></div><div class="ttdoc">Socket address structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/df1/netsock2_8h_source.html#l00097">netsock2.h:97</a></div></div>
<div class="ttc" id="structast__cli__args_html_acf64f219885421479997667d2ed3f08a"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html#acf64f219885421479997667d2ed3f08a">ast_cli_args::fd</a></div><div class="ttdeci">const int fd</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00159">cli.h:159</a></div></div>
<div class="ttc" id="structast__cli__args_html_ad0a19c4d63698f9e9cfd5653e8851452"><div class="ttname"><a href="../../d3/dad/structast__cli__args.html#ad0a19c4d63698f9e9cfd5653e8851452">ast_cli_args::argv</a></div><div class="ttdeci">const char *const  * argv</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00161">cli.h:161</a></div></div>
<div class="ttc" id="cli_8h_html_a0873456096960dab21fff0ce68c95acb"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a0873456096960dab21fff0ce68c95acb">CLI_SHOWUSAGE</a></div><div class="ttdeci">#define CLI_SHOWUSAGE</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00045">cli.h:45</a></div></div>
<div class="ttc" id="netsock2_8h_html_aae9156c7fe6dff51463f29ed1c3b96c9"><div class="ttname"><a href="../../db/df1/netsock2_8h.html#aae9156c7fe6dff51463f29ed1c3b96c9">ast_sockaddr_stringify</a></div><div class="ttdeci">static char * ast_sockaddr_stringify(const struct ast_sockaddr *addr)</div><div class="ttdoc">Wrapper around ast_sockaddr_stringify_fmt() with default format. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/df1/netsock2_8h_source.html#l00260">netsock2.h:260</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="structast__cli__entry_html_ade9cba72805fe52685a1deea307a8e82"><div class="ttname"><a href="../../d8/d07/structast__cli__entry.html#ade9cba72805fe52685a1deea307a8e82">ast_cli_entry::command</a></div><div class="ttdeci">char * command</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00186">cli.h:186</a></div></div>
<div class="ttc" id="structast__cli__entry_html_aef1bd6ad890a110b466cb0e8088507a2"><div class="ttname"><a href="../../d8/d07/structast__cli__entry.html#aef1bd6ad890a110b466cb0e8088507a2">ast_cli_entry::usage</a></div><div class="ttdeci">const char * usage</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00177">cli.h:177</a></div></div>
<div class="ttc" id="cli_8h_html_a50989f00b32eeb2516a3803cb2ffb766"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a50989f00b32eeb2516a3803cb2ffb766">CLI_SUCCESS</a></div><div class="ttdeci">#define CLI_SUCCESS</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00044">cli.h:44</a></div></div>
<div class="ttc" id="cli_8h_html_ab33e5350a923c3a8cedbeb496cd88ec9a76bf33139279b03ec1691f2be2d1be40"><div class="ttname"><a href="../../dc/db0/cli_8h.html#ab33e5350a923c3a8cedbeb496cd88ec9a76bf33139279b03ec1691f2be2d1be40">CLI_GENERATE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00153">cli.h:153</a></div></div>
<div class="ttc" id="netsock2_8h_html_a8ba6f5b5a9de09137dd18fe2d9592880"><div class="ttname"><a href="../../db/df1/netsock2_8h.html#a8ba6f5b5a9de09137dd18fe2d9592880">ast_sockaddr_resolve</a></div><div class="ttdeci">int ast_sockaddr_resolve(struct ast_sockaddr **addrs, const char *str, int flags, int family)</div><div class="ttdoc">Parses a string with an IPv4 or IPv6 address and place results into an array. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d27/netsock2_8c_source.html#l00280">netsock2.c:280</a></div></div>
<div class="ttc" id="udptl_8c_html_ade9088978427552c6020fd7453eedb57"><div class="ttname"><a href="../../d2/dce/udptl_8c.html#ade9088978427552c6020fd7453eedb57">udptldebug</a></div><div class="ttdeci">static int udptldebug</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00130">udptl.c:130</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac3382bf6da54c56b37069bd76bbdf4f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac3382bf6da54c56b37069bd76bbdf4f9">&#9670;&nbsp;</a></span>load_module()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int load_module </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/dce/udptl_8c_source.html#l01396">1396</a> of file <a class="el" href="../../d2/dce/udptl_8c_source.html">udptl.c</a>.</p>

<p class="reference">References <a class="el" href="../../d2/dce/udptl_8c_source.html#l01327">__ast_udptl_reload()</a>, <a class="el" href="../../db/db2/asterisk_8h_source.html#l00214">__stringify</a>, <a class="el" href="../../db/dfe/config__options_8h_source.html#l00064">ACO_EXACT</a>, <a class="el" href="../../d6/dc8/config__options_8c_source.html#l00877">aco_info_init()</a>, <a class="el" href="../../db/dfe/config__options_8h_source.html#l00623">aco_option_register</a>, <a class="el" href="../../db/dfe/config__options_8h_source.html#l00638">aco_option_register_custom</a>, <a class="el" href="../../de/dfe/isdn__lib_8c_source.html#l00042">ARRAY_LEN</a>, <a class="el" href="../../dc/db0/cli_8h_source.html#l00265">ast_cli_register_multiple</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00316">AST_MODFLAG_GLOBAL_SYMBOLS</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00317">AST_MODFLAG_LOAD_ORDER</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00324">AST_MODPRI_CORE</a>, <a class="el" href="../../d9/de9/res__phoneprov_8c.html#addaa208b0ed785225e24490fb9f28a80">AST_MODULE_INFO()</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00102">AST_MODULE_LOAD_FAILURE</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00070">AST_MODULE_LOAD_SUCCESS</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00121">AST_MODULE_SUPPORT_CORE</a>, <a class="el" href="../../d5/d16/module_8h_source.html#l00046">ASTERISK_GPL_KEY</a>, <a class="el" href="../../d2/dce/udptl_8c_source.html#l00128">DEFAULT_UDPTLEND</a>, <a class="el" href="../../d2/dce/udptl_8c_source.html#l00127">DEFAULT_UDPTLSTART</a>, <a class="el" href="../../dd/d7c/eagi__proxy_8c_source.html#l00073">end</a>, <a class="el" href="../../db/dfe/config__options_8h_source.html#l00816">FLDSET</a>, <a class="el" href="../../d2/dce/udptl_8c_source.html#l00136">MAX_FEC_ENTRIES</a>, <a class="el" href="../../d2/dce/udptl_8c_source.html#l00137">MAX_FEC_SPAN</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../db/dfe/config__options_8h_source.html#l00294">OPT_BOOL_T</a>, <a class="el" href="../../db/dfe/config__options_8h_source.html#l00459">OPT_UINT_T</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l01118">PARSE_DEFAULT</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l01125">PARSE_IN_RANGE</a>, <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l01127">PARSE_RANGE_DEFAULTS</a>, <a class="el" href="../../d0/d29/cdr__mysql_8c_source.html#l00741">reload()</a>, <a class="el" href="../../d2/dce/udptl_8c_source.html#l01376">reload_module()</a>, <a class="el" href="../../d2/dce/udptl_8c_source.html#l01317">removed_options_handler()</a>, and <a class="el" href="../../d2/dce/udptl_8c_source.html#l01387">unload_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;{</div><div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../db/dfe/config__options_8h.html#a3f40a7cffea07c21a21faaee64d24398">aco_info_init</a>(&amp;cfg_info)) {</div><div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfa8724da3ad620df86524280e760add388">AST_MODULE_LOAD_FAILURE</a>;</div><div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;   }</div><div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;</div><div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;   <a class="code" href="../../db/dfe/config__options_8h.html#a60d17d3e9451ddcb5aa861339c757bed">aco_option_register</a>(&amp;cfg_info, <span class="stringliteral">&quot;udptlstart&quot;</span>, <a class="code" href="../../db/dfe/config__options_8h.html#a1b87da445ce6937e5cfbdaed1288a572abba7035409cf0b61400c00ef5bb59b52">ACO_EXACT</a>, <a class="code" href="../../d2/dce/udptl_8c.html#a8e03f6233c516c1beb21b5b9285ed69f">general_options</a>, <a class="code" href="../../db/db2/asterisk_8h.html#ae09d687217717da8684417e61d3278b8">__stringify</a>(<a class="code" href="../../d2/dce/udptl_8c.html#a2e8121121d4cd54fc80a89115ad9b97f">DEFAULT_UDPTLSTART</a>),</div><div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;      <a class="code" href="../../db/dfe/config__options_8h.html#a61bb4940517e7d00e7104de8273c2144a019a75c8729b63787919b2e67331c84f">OPT_UINT_T</a>, <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#ad60d9d8c34b4f61493c1d85ae02d569fa37848843c0c65e9ce998148c2f16d585">PARSE_IN_RANGE</a> | <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#ad60d9d8c34b4f61493c1d85ae02d569facc865488860e2c25dd9f80e5473cf760">PARSE_DEFAULT</a>,</div><div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;      <a class="code" href="../../db/dfe/config__options_8h.html#a5793d5d6ccf2df0b2423eb3274af7802">FLDSET</a>(<span class="keyword">struct</span> <a class="code" href="../../d5/d44/structudptl__global__options.html">udptl_global_options</a>, start), <a class="code" href="../../d2/dce/udptl_8c.html#a2e8121121d4cd54fc80a89115ad9b97f">DEFAULT_UDPTLSTART</a>, 1024, 65535);</div><div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;</div><div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;   <a class="code" href="../../db/dfe/config__options_8h.html#a60d17d3e9451ddcb5aa861339c757bed">aco_option_register</a>(&amp;cfg_info, <span class="stringliteral">&quot;udptlend&quot;</span>, <a class="code" href="../../db/dfe/config__options_8h.html#a1b87da445ce6937e5cfbdaed1288a572abba7035409cf0b61400c00ef5bb59b52">ACO_EXACT</a>, <a class="code" href="../../d2/dce/udptl_8c.html#a8e03f6233c516c1beb21b5b9285ed69f">general_options</a>, <a class="code" href="../../db/db2/asterisk_8h.html#ae09d687217717da8684417e61d3278b8">__stringify</a>(<a class="code" href="../../d2/dce/udptl_8c.html#a1513c4df549704e7d71ca72f0ee7b390">DEFAULT_UDPTLEND</a>),</div><div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;      <a class="code" href="../../db/dfe/config__options_8h.html#a61bb4940517e7d00e7104de8273c2144a019a75c8729b63787919b2e67331c84f">OPT_UINT_T</a>, <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#ad60d9d8c34b4f61493c1d85ae02d569fa37848843c0c65e9ce998148c2f16d585">PARSE_IN_RANGE</a> | <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#ad60d9d8c34b4f61493c1d85ae02d569facc865488860e2c25dd9f80e5473cf760">PARSE_DEFAULT</a>,</div><div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;      <a class="code" href="../../db/dfe/config__options_8h.html#a5793d5d6ccf2df0b2423eb3274af7802">FLDSET</a>(<span class="keyword">struct</span> <a class="code" href="../../d5/d44/structudptl__global__options.html">udptl_global_options</a>, <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#a8fd806ad19b8f5513a4cf18cbf77532c">end</a>), <a class="code" href="../../d2/dce/udptl_8c.html#a1513c4df549704e7d71ca72f0ee7b390">DEFAULT_UDPTLEND</a>, 1024, 65535);</div><div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;</div><div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;   <a class="code" href="../../db/dfe/config__options_8h.html#a60d17d3e9451ddcb5aa861339c757bed">aco_option_register</a>(&amp;cfg_info, <span class="stringliteral">&quot;udptlfecentries&quot;</span>, <a class="code" href="../../db/dfe/config__options_8h.html#a1b87da445ce6937e5cfbdaed1288a572abba7035409cf0b61400c00ef5bb59b52">ACO_EXACT</a>, <a class="code" href="../../d2/dce/udptl_8c.html#a8e03f6233c516c1beb21b5b9285ed69f">general_options</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div><div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;      <a class="code" href="../../db/dfe/config__options_8h.html#a61bb4940517e7d00e7104de8273c2144a019a75c8729b63787919b2e67331c84f">OPT_UINT_T</a>, <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#ad60d9d8c34b4f61493c1d85ae02d569fa37848843c0c65e9ce998148c2f16d585">PARSE_IN_RANGE</a> | <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#ad60d9d8c34b4f61493c1d85ae02d569fade97bc617a31b2146680b17fae936baf">PARSE_RANGE_DEFAULTS</a>,</div><div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;      <a class="code" href="../../db/dfe/config__options_8h.html#a5793d5d6ccf2df0b2423eb3274af7802">FLDSET</a>(<span class="keyword">struct</span> <a class="code" href="../../d5/d44/structudptl__global__options.html">udptl_global_options</a>, fecentries), 1, <a class="code" href="../../d2/dce/udptl_8c.html#a0113380b09f0d4b8cc6a98d70e4ef822">MAX_FEC_ENTRIES</a>);</div><div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;</div><div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;   <a class="code" href="../../db/dfe/config__options_8h.html#a60d17d3e9451ddcb5aa861339c757bed">aco_option_register</a>(&amp;cfg_info, <span class="stringliteral">&quot;udptlfecspan&quot;</span>, <a class="code" href="../../db/dfe/config__options_8h.html#a1b87da445ce6937e5cfbdaed1288a572abba7035409cf0b61400c00ef5bb59b52">ACO_EXACT</a>, <a class="code" href="../../d2/dce/udptl_8c.html#a8e03f6233c516c1beb21b5b9285ed69f">general_options</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div><div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;      <a class="code" href="../../db/dfe/config__options_8h.html#a61bb4940517e7d00e7104de8273c2144a019a75c8729b63787919b2e67331c84f">OPT_UINT_T</a>, <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#ad60d9d8c34b4f61493c1d85ae02d569fa37848843c0c65e9ce998148c2f16d585">PARSE_IN_RANGE</a> | <a class="code" href="../../d3/de6/include_2asterisk_2config_8h.html#ad60d9d8c34b4f61493c1d85ae02d569fade97bc617a31b2146680b17fae936baf">PARSE_RANGE_DEFAULTS</a>,</div><div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;      <a class="code" href="../../db/dfe/config__options_8h.html#a5793d5d6ccf2df0b2423eb3274af7802">FLDSET</a>(<span class="keyword">struct</span> <a class="code" href="../../d5/d44/structudptl__global__options.html">udptl_global_options</a>, fecspan), 1, <a class="code" href="../../d2/dce/udptl_8c.html#a71b4edaf9975b131d08a7672db96ae0e">MAX_FEC_SPAN</a>);</div><div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;</div><div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;   <a class="code" href="../../db/dfe/config__options_8h.html#a60d17d3e9451ddcb5aa861339c757bed">aco_option_register</a>(&amp;cfg_info, <span class="stringliteral">&quot;udptlchecksums&quot;</span>, <a class="code" href="../../db/dfe/config__options_8h.html#a1b87da445ce6937e5cfbdaed1288a572abba7035409cf0b61400c00ef5bb59b52">ACO_EXACT</a>, <a class="code" href="../../d2/dce/udptl_8c.html#a8e03f6233c516c1beb21b5b9285ed69f">general_options</a>, <span class="stringliteral">&quot;yes&quot;</span>,</div><div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;      <a class="code" href="../../db/dfe/config__options_8h.html#a61bb4940517e7d00e7104de8273c2144a5cb849face8441c434d1a2f60264cedb">OPT_BOOL_T</a>, 0, <a class="code" href="../../db/dfe/config__options_8h.html#a5793d5d6ccf2df0b2423eb3274af7802">FLDSET</a>(<span class="keyword">struct</span> <a class="code" href="../../d5/d44/structudptl__global__options.html">udptl_global_options</a>, nochecksums));</div><div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;</div><div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;   <a class="code" href="../../db/dfe/config__options_8h.html#a60d17d3e9451ddcb5aa861339c757bed">aco_option_register</a>(&amp;cfg_info, <span class="stringliteral">&quot;use_even_ports&quot;</span>, <a class="code" href="../../db/dfe/config__options_8h.html#a1b87da445ce6937e5cfbdaed1288a572abba7035409cf0b61400c00ef5bb59b52">ACO_EXACT</a>, <a class="code" href="../../d2/dce/udptl_8c.html#a8e03f6233c516c1beb21b5b9285ed69f">general_options</a>, <span class="stringliteral">&quot;no&quot;</span>,</div><div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;      <a class="code" href="../../db/dfe/config__options_8h.html#a61bb4940517e7d00e7104de8273c2144a5cb849face8441c434d1a2f60264cedb">OPT_BOOL_T</a>, 1, <a class="code" href="../../db/dfe/config__options_8h.html#a5793d5d6ccf2df0b2423eb3274af7802">FLDSET</a>(<span class="keyword">struct</span> <a class="code" href="../../d5/d44/structudptl__global__options.html">udptl_global_options</a>, use_even_ports));</div><div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;</div><div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;   <a class="code" href="../../db/dfe/config__options_8h.html#a83b8d55eb1ba88ac7291f77a3ebfce45">aco_option_register_custom</a>(&amp;cfg_info, <span class="stringliteral">&quot;t38faxudpec&quot;</span>, <a class="code" href="../../db/dfe/config__options_8h.html#a1b87da445ce6937e5cfbdaed1288a572abba7035409cf0b61400c00ef5bb59b52">ACO_EXACT</a>, <a class="code" href="../../d2/dce/udptl_8c.html#a8e03f6233c516c1beb21b5b9285ed69f">general_options</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d2/dce/udptl_8c.html#a1fb60010e4e3ca62158a67127deabd93">removed_options_handler</a>, 0);</div><div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;   <a class="code" href="../../db/dfe/config__options_8h.html#a83b8d55eb1ba88ac7291f77a3ebfce45">aco_option_register_custom</a>(&amp;cfg_info, <span class="stringliteral">&quot;t38faxmaxdatagram&quot;</span>, <a class="code" href="../../db/dfe/config__options_8h.html#a1b87da445ce6937e5cfbdaed1288a572abba7035409cf0b61400c00ef5bb59b52">ACO_EXACT</a>, <a class="code" href="../../d2/dce/udptl_8c.html#a8e03f6233c516c1beb21b5b9285ed69f">general_options</a>, <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="../../d2/dce/udptl_8c.html#a1fb60010e4e3ca62158a67127deabd93">removed_options_handler</a>, 0);</div><div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;</div><div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;   <a class="code" href="../../d2/dce/udptl_8c.html#acfdd6fa3b0b7a0acd4a9841c6596809d">__ast_udptl_reload</a>(0);</div><div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;</div><div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;   <a class="code" href="../../dc/db0/cli_8h.html#aea8910ed9e301e7f741f87942c244eac">ast_cli_register_multiple</a>(<a class="code" href="../../d2/dce/udptl_8c.html#a307853ba74adbc85d4dd57bee618e674">cli_udptl</a>, <a class="code" href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a>(<a class="code" href="../../d2/dce/udptl_8c.html#a307853ba74adbc85d4dd57bee618e674">cli_udptl</a>));</div><div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;</div><div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfa89bb877ade9ce418ad6663f3d936f314">AST_MODULE_LOAD_SUCCESS</a>;</div><div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;}</div><div class="ttc" id="isdn__lib_8c_html_ab9129b977a587b50ea801daac75e178f"><div class="ttname"><a href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a></div><div class="ttdeci">#define ARRAY_LEN(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dfe/isdn__lib_8c_source.html#l00042">isdn_lib.c:42</a></div></div>
<div class="ttc" id="module_8h_html_adc09474f0ff557e9925b722ee5b952dfa89bb877ade9ce418ad6663f3d936f314"><div class="ttname"><a href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfa89bb877ade9ce418ad6663f3d936f314">AST_MODULE_LOAD_SUCCESS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00070">module.h:70</a></div></div>
<div class="ttc" id="config__options_8h_html_a1b87da445ce6937e5cfbdaed1288a572abba7035409cf0b61400c00ef5bb59b52"><div class="ttname"><a href="../../db/dfe/config__options_8h.html#a1b87da445ce6937e5cfbdaed1288a572abba7035409cf0b61400c00ef5bb59b52">ACO_EXACT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/dfe/config__options_8h_source.html#l00064">config_options.h:64</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_ad60d9d8c34b4f61493c1d85ae02d569facc865488860e2c25dd9f80e5473cf760"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#ad60d9d8c34b4f61493c1d85ae02d569facc865488860e2c25dd9f80e5473cf760">PARSE_DEFAULT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l01118">include/asterisk/config.h:1118</a></div></div>
<div class="ttc" id="config__options_8h_html_a83b8d55eb1ba88ac7291f77a3ebfce45"><div class="ttname"><a href="../../db/dfe/config__options_8h.html#a83b8d55eb1ba88ac7291f77a3ebfce45">aco_option_register_custom</a></div><div class="ttdeci">#define aco_option_register_custom(info, name, matchtype, types, default_val, handler, flags)</div><div class="ttdoc">Register a config option. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/dfe/config__options_8h_source.html#l00638">config_options.h:638</a></div></div>
<div class="ttc" id="udptl_8c_html_acfdd6fa3b0b7a0acd4a9841c6596809d"><div class="ttname"><a href="../../d2/dce/udptl_8c.html#acfdd6fa3b0b7a0acd4a9841c6596809d">__ast_udptl_reload</a></div><div class="ttdeci">static void __ast_udptl_reload(int reload)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l01327">udptl.c:1327</a></div></div>
<div class="ttc" id="config__options_8h_html_a60d17d3e9451ddcb5aa861339c757bed"><div class="ttname"><a href="../../db/dfe/config__options_8h.html#a60d17d3e9451ddcb5aa861339c757bed">aco_option_register</a></div><div class="ttdeci">#define aco_option_register(info, name, matchtype, types, default_val, opt_type, flags,...)</div><div class="ttdoc">Register a config option. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/dfe/config__options_8h_source.html#l00623">config_options.h:623</a></div></div>
<div class="ttc" id="cli_8h_html_aea8910ed9e301e7f741f87942c244eac"><div class="ttname"><a href="../../dc/db0/cli_8h.html#aea8910ed9e301e7f741f87942c244eac">ast_cli_register_multiple</a></div><div class="ttdeci">#define ast_cli_register_multiple(e, len)</div><div class="ttdoc">Register multiple commands. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db0/cli_8h_source.html#l00265">cli.h:265</a></div></div>
<div class="ttc" id="udptl_8c_html_a2e8121121d4cd54fc80a89115ad9b97f"><div class="ttname"><a href="../../d2/dce/udptl_8c.html#a2e8121121d4cd54fc80a89115ad9b97f">DEFAULT_UDPTLSTART</a></div><div class="ttdeci">#define DEFAULT_UDPTLSTART</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00127">udptl.c:127</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="eagi__proxy_8c_html_a8fd806ad19b8f5513a4cf18cbf77532c"><div class="ttname"><a href="../../dd/d7c/eagi__proxy_8c.html#a8fd806ad19b8f5513a4cf18cbf77532c">end</a></div><div class="ttdeci">char * end</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d7c/eagi__proxy_8c_source.html#l00073">eagi_proxy.c:73</a></div></div>
<div class="ttc" id="udptl_8c_html_a8e03f6233c516c1beb21b5b9285ed69f"><div class="ttname"><a href="../../d2/dce/udptl_8c.html#a8e03f6233c516c1beb21b5b9285ed69f">general_options</a></div><div class="ttdeci">static struct aco_type * general_options[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00246">udptl.c:246</a></div></div>
<div class="ttc" id="udptl_8c_html_a1fb60010e4e3ca62158a67127deabd93"><div class="ttname"><a href="../../d2/dce/udptl_8c.html#a1fb60010e4e3ca62158a67127deabd93">removed_options_handler</a></div><div class="ttdeci">static int removed_options_handler(const struct aco_option *opt, struct ast_variable *var, void *obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l01317">udptl.c:1317</a></div></div>
<div class="ttc" id="asterisk_8h_html_ae09d687217717da8684417e61d3278b8"><div class="ttname"><a href="../../db/db2/asterisk_8h.html#ae09d687217717da8684417e61d3278b8">__stringify</a></div><div class="ttdeci">#define __stringify(x)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/db2/asterisk_8h_source.html#l00214">asterisk.h:214</a></div></div>
<div class="ttc" id="config__options_8h_html_a5793d5d6ccf2df0b2423eb3274af7802"><div class="ttname"><a href="../../db/dfe/config__options_8h.html#a5793d5d6ccf2df0b2423eb3274af7802">FLDSET</a></div><div class="ttdeci">#define FLDSET(type,...)</div><div class="ttdoc">Convert a struct and list of fields to an argument list of field offsets. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/dfe/config__options_8h_source.html#l00816">config_options.h:816</a></div></div>
<div class="ttc" id="config__options_8h_html_a3f40a7cffea07c21a21faaee64d24398"><div class="ttname"><a href="../../db/dfe/config__options_8h.html#a3f40a7cffea07c21a21faaee64d24398">aco_info_init</a></div><div class="ttdeci">int aco_info_init(struct aco_info *info)</div><div class="ttdoc">Initialize an aco_info structure. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dc8/config__options_8c_source.html#l00877">config_options.c:877</a></div></div>
<div class="ttc" id="config__options_8h_html_a61bb4940517e7d00e7104de8273c2144a019a75c8729b63787919b2e67331c84f"><div class="ttname"><a href="../../db/dfe/config__options_8h.html#a61bb4940517e7d00e7104de8273c2144a019a75c8729b63787919b2e67331c84f">OPT_UINT_T</a></div><div class="ttdoc">Type for default option handler for unsigned integers. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/dfe/config__options_8h_source.html#l00459">config_options.h:459</a></div></div>
<div class="ttc" id="config__options_8h_html_a61bb4940517e7d00e7104de8273c2144a5cb849face8441c434d1a2f60264cedb"><div class="ttname"><a href="../../db/dfe/config__options_8h.html#a61bb4940517e7d00e7104de8273c2144a5cb849face8441c434d1a2f60264cedb">OPT_BOOL_T</a></div><div class="ttdoc">Type for default option handler for bools (ast_true/ast_false) </div><div class="ttdef"><b>Definition:</b> <a href="../../db/dfe/config__options_8h_source.html#l00294">config_options.h:294</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_ad60d9d8c34b4f61493c1d85ae02d569fa37848843c0c65e9ce998148c2f16d585"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#ad60d9d8c34b4f61493c1d85ae02d569fa37848843c0c65e9ce998148c2f16d585">PARSE_IN_RANGE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l01125">include/asterisk/config.h:1125</a></div></div>
<div class="ttc" id="module_8h_html_adc09474f0ff557e9925b722ee5b952dfa8724da3ad620df86524280e760add388"><div class="ttname"><a href="../../d5/d16/module_8h.html#adc09474f0ff557e9925b722ee5b952dfa8724da3ad620df86524280e760add388">AST_MODULE_LOAD_FAILURE</a></div><div class="ttdoc">Module could not be loaded properly. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d16/module_8h_source.html#l00102">module.h:102</a></div></div>
<div class="ttc" id="udptl_8c_html_a1513c4df549704e7d71ca72f0ee7b390"><div class="ttname"><a href="../../d2/dce/udptl_8c.html#a1513c4df549704e7d71ca72f0ee7b390">DEFAULT_UDPTLEND</a></div><div class="ttdeci">#define DEFAULT_UDPTLEND</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00128">udptl.c:128</a></div></div>
<div class="ttc" id="udptl_8c_html_a71b4edaf9975b131d08a7672db96ae0e"><div class="ttname"><a href="../../d2/dce/udptl_8c.html#a71b4edaf9975b131d08a7672db96ae0e">MAX_FEC_SPAN</a></div><div class="ttdeci">#define MAX_FEC_SPAN</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00137">udptl.c:137</a></div></div>
<div class="ttc" id="structudptl__global__options_html"><div class="ttname"><a href="../../d5/d44/structudptl__global__options.html">udptl_global_options</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00220">udptl.c:220</a></div></div>
<div class="ttc" id="include_2asterisk_2config_8h_html_ad60d9d8c34b4f61493c1d85ae02d569fade97bc617a31b2146680b17fae936baf"><div class="ttname"><a href="../../d3/de6/include_2asterisk_2config_8h.html#ad60d9d8c34b4f61493c1d85ae02d569fade97bc617a31b2146680b17fae936baf">PARSE_RANGE_DEFAULTS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l01127">include/asterisk/config.h:1127</a></div></div>
<div class="ttc" id="udptl_8c_html_a0113380b09f0d4b8cc6a98d70e4ef822"><div class="ttname"><a href="../../d2/dce/udptl_8c.html#a0113380b09f0d4b8cc6a98d70e4ef822">MAX_FEC_ENTRIES</a></div><div class="ttdeci">#define MAX_FEC_ENTRIES</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00136">udptl.c:136</a></div></div>
<div class="ttc" id="udptl_8c_html_a307853ba74adbc85d4dd57bee618e674"><div class="ttname"><a href="../../d2/dce/udptl_8c.html#a307853ba74adbc85d4dd57bee618e674">cli_udptl</a></div><div class="ttdeci">static struct ast_cli_entry cli_udptl[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l01291">udptl.c:1291</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a7c6ac25ea7536c0bc9ed18cbcf917527"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7c6ac25ea7536c0bc9ed18cbcf917527">&#9670;&nbsp;</a></span>reload_module()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int reload_module </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/dce/udptl_8c_source.html#l01376">1376</a> of file <a class="el" href="../../d2/dce/udptl_8c_source.html">udptl.c</a>.</p>

<p class="reference">References <a class="el" href="../../d2/dce/udptl_8c_source.html#l01327">__ast_udptl_reload()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/dce/udptl_8c_source.html#l01396">load_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;{</div><div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;   <a class="code" href="../../d2/dce/udptl_8c.html#acfdd6fa3b0b7a0acd4a9841c6596809d">__ast_udptl_reload</a>(1);</div><div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;</div><div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;}</div><div class="ttc" id="udptl_8c_html_acfdd6fa3b0b7a0acd4a9841c6596809d"><div class="ttname"><a href="../../d2/dce/udptl_8c.html#acfdd6fa3b0b7a0acd4a9841c6596809d">__ast_udptl_reload</a></div><div class="ttdeci">static void __ast_udptl_reload(int reload)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l01327">udptl.c:1327</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a1fb60010e4e3ca62158a67127deabd93"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1fb60010e4e3ca62158a67127deabd93">&#9670;&nbsp;</a></span>removed_options_handler()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int removed_options_handler </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../db/de0/structaco__option.html">aco_option</a> *&#160;</td>
          <td class="paramname"><em>opt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../dd/d02/structast__variable.html">ast_variable</a> *&#160;</td>
          <td class="paramname"><em>var</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>obj</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/dce/udptl_8c_source.html#l01317">1317</a> of file <a class="el" href="../../d2/dce/udptl_8c_source.html">udptl.c</a>.</p>

<p class="reference">References <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, and <a class="el" href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00085">ast_variable::name</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/dce/udptl_8c_source.html#l01396">load_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;{</div><div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;   <span class="keywordflow">if</span> (!strcasecmp(var-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;t38faxudpec&quot;</span>)) {</div><div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;t38faxudpec in udptl.conf is no longer supported; use the t38pt_udptl configuration option in sip.conf instead.\n&quot;</span>);</div><div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(var-&gt;<a class="code" href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="stringliteral">&quot;t38faxmaxdatagram&quot;</span>)) {</div><div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;t38faxmaxdatagram in udptl.conf is no longer supported; value is now supplied by T.38 applications.\n&quot;</span>);</div><div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;   }</div><div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;}</div><div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="structast__variable_html_a8f8f80d37794cde9472343e4487ba3eb"><div class="ttname"><a href="../../dd/d02/structast__variable.html#a8f8f80d37794cde9472343e4487ba3eb">ast_variable::name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de6/include_2asterisk_2config_8h_source.html#l00085">include/asterisk/config.h:85</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad2ff9341ea549b0679a80c409637228c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad2ff9341ea549b0679a80c409637228c">&#9670;&nbsp;</a></span>udptl_build_packet()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int udptl_build_packet </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d9/d81/structast__udptl.html">ast_udptl</a> *&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>buflen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>ifp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>ifp_len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/dce/udptl_8c_source.html#l00621">621</a> of file <a class="el" href="../../d2/dce/udptl_8c_source.html">udptl.c</a>.</p>

<p class="reference">References <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../d2/dce/udptl_8c_source.html#l00143">udptl_fec_tx_buffer_t::buf</a>, <a class="el" href="../../d2/dce/udptl_8c_source.html#l00142">udptl_fec_tx_buffer_t::buf_len</a>, <a class="el" href="../../d2/dce/udptl_8c_source.html#l00320">encode_length()</a>, <a class="el" href="../../d2/dce/udptl_8c_source.html#l00348">encode_open_type()</a>, <a class="el" href="../../d2/dce/udptl_8c_source.html#l00181">ast_udptl::error_correction_entries</a>, <a class="el" href="../../d2/dce/udptl_8c_source.html#l00176">ast_udptl::error_correction_scheme</a>, <a class="el" href="../../d2/dce/udptl_8c_source.html#l00186">ast_udptl::error_correction_span</a>, <a class="el" href="../../db/df1/netsock2_8h_source.html#l00099">ast_sockaddr::len</a>, <a class="el" href="../../d2/dce/udptl_8c_source.html#l00133">LOCAL_FAX_MAX_DATAGRAM</a>, <a class="el" href="../../d2/dce/udptl_8c_source.html#l00125">LOG_TAG</a>, <a class="el" href="../../d7/d81/app__sms_8c_source.html#l00120">seq</a>, <a class="el" href="../../d2/dce/udptl_8c_source.html#l00216">ast_udptl::tx</a>, <a class="el" href="../../d2/dce/udptl_8c_source.html#l00213">ast_udptl::tx_seq_no</a>, <a class="el" href="../../d2/dce/udptl_8c_source.html#l00139">UDPTL_BUF_MASK</a>, <a class="el" href="../../d5/da1/udptl_8h_source.html#l00039">UDPTL_ERROR_CORRECTION_FEC</a>, <a class="el" href="../../d5/da1/udptl_8h_source.html#l00038">UDPTL_ERROR_CORRECTION_NONE</a>, and <a class="el" href="../../d5/da1/udptl_8h_source.html#l00040">UDPTL_ERROR_CORRECTION_REDUNDANCY</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/dce/udptl_8c_source.html#l01161">ast_udptl_write()</a>.</p>
<div class="fragment"><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;{</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;   uint8_t fec[<a class="code" href="../../d2/dce/udptl_8c.html#a7cebef58b6e2f580a8e74b7c133cd34b">LOCAL_FAX_MAX_DATAGRAM</a> * 2] = { 0, };</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;   <span class="keywordtype">int</span> i;</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;   <span class="keywordtype">int</span> j;</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;   <span class="keywordtype">int</span> <a class="code" href="../../d7/d81/app__sms_8c.html#a8514112da88a5d13451aaf8c9b064017">seq</a>;</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;   <span class="keywordtype">int</span> <a class="code" href="../../d3/d96/structentry.html">entry</a>;</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;   <span class="keywordtype">int</span> entries;</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;   <span class="keywordtype">int</span> span;</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;   <span class="keywordtype">int</span> m;</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>;</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;   <span class="keywordtype">int</span> limit;</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;   <span class="keywordtype">int</span> high_tide;</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;   seq = s-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a0224da9d658e4e4ea2981d7ca7860aa3">tx_seq_no</a> &amp; 0xFFFF;</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;   <span class="comment">/* Map the sequence number to an entry in the circular buffer */</span></div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;   entry = seq &amp; <a class="code" href="../../d2/dce/udptl_8c.html#a5fc08f5f3152e66b9eb799375c8eafe5">UDPTL_BUF_MASK</a>;</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;   <span class="comment">/* We save the message in a circular buffer, for generating FEC or</span></div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;<span class="comment">      redundancy sets later on. */</span></div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;   s-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#af0c6829f8a5272ece732cd1ac1b3094a">tx</a>[entry].<a class="code" href="../../d9/dd6/structudptl__fec__tx__buffer__t.html#a7666bbf00997cc13da27d55cb05d27c4">buf_len</a> = ifp_len;</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;   memcpy(s-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#af0c6829f8a5272ece732cd1ac1b3094a">tx</a>[entry].<a class="code" href="../../d9/dd6/structudptl__fec__tx__buffer__t.html#adf280a92c2ded8d54991b3ae3cb97ccf">buf</a>, ifp, ifp_len);</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;</div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;   <span class="comment">/* Build the UDPTLPacket */</span></div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;</div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;   len = 0;</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;   <span class="comment">/* Encode the sequence number */</span></div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;   <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>[len++] = (seq &gt;&gt; 8) &amp; 0xFF;</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;   <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>[len++] = seq &amp; 0xFF;</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;   <span class="comment">/* Encode the primary IFP packet */</span></div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d2/dce/udptl_8c.html#a139e3cb1abd258f2bd35a94b6573ca2c">encode_open_type</a>(s, <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, buflen, &amp;len, ifp, ifp_len) &lt; 0)</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;   <span class="comment">/* Encode the appropriate type of error recovery information */</span></div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;   <span class="keywordflow">switch</span> (s-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#ac215dbaf54319e257d2c33ecd70c36c5">error_correction_scheme</a>)</div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;   {</div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d5/da1/udptl_8h.html#af968992af6d7e1186843a2eb371c9795afa83e5a16b5198b5d34543cb94114cd6">UDPTL_ERROR_CORRECTION_NONE</a>:</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;      <span class="comment">/* Encode the error recovery type */</span></div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;      <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>[len++] = 0x00;</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;      <span class="comment">/* The number of entries will always be zero, so it is pointless allowing</span></div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;<span class="comment">         for the fragmented case here. */</span></div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;      <a class="code" href="../../d2/dce/udptl_8c.html#a6c54931735c591c100df527a9e0936e1">encode_length</a>(<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, &amp;len, 0);</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d5/da1/udptl_8h.html#af968992af6d7e1186843a2eb371c9795afbc322f60eade115e42b66d4ab4dec83">UDPTL_ERROR_CORRECTION_REDUNDANCY</a>:</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;      <span class="comment">/* Encode the error recovery type */</span></div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;      <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>[len++] = 0x00;</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;      <span class="keywordflow">if</span> (s-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a0224da9d658e4e4ea2981d7ca7860aa3">tx_seq_no</a> &gt; s-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a53a056eca513e58ba0819110f0e62bc8">error_correction_entries</a>)</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;         entries = s-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a53a056eca513e58ba0819110f0e62bc8">error_correction_entries</a>;</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;      <span class="keywordflow">else</span></div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;         entries = s-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a0224da9d658e4e4ea2981d7ca7860aa3">tx_seq_no</a>;</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;      <span class="comment">/* The number of entries will always be small, so it is pointless allowing</span></div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;<span class="comment">         for the fragmented case here. */</span></div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;      <a class="code" href="../../d2/dce/udptl_8c.html#a6c54931735c591c100df527a9e0936e1">encode_length</a>(<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, &amp;len, entries);</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;      <span class="comment">/* Encode the elements */</span></div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;      <span class="keywordflow">for</span> (i = 0; i &lt; entries; i++) {</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;         j = (entry - i - 1) &amp; UDPTL_BUF_MASK;</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;         <span class="keywordflow">if</span> (<a class="code" href="../../d2/dce/udptl_8c.html#a139e3cb1abd258f2bd35a94b6573ca2c">encode_open_type</a>(s, <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, buflen, &amp;len, s-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#af0c6829f8a5272ece732cd1ac1b3094a">tx</a>[j].<a class="code" href="../../d9/dd6/structudptl__fec__tx__buffer__t.html#adf280a92c2ded8d54991b3ae3cb97ccf">buf</a>, s-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#af0c6829f8a5272ece732cd1ac1b3094a">tx</a>[j].<a class="code" href="../../d9/dd6/structudptl__fec__tx__buffer__t.html#a7666bbf00997cc13da27d55cb05d27c4">buf_len</a>) &lt; 0) {</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;            <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(1, <span class="stringliteral">&quot;UDPTL (%s): Encoding failed at i=%d, j=%d\n&quot;</span>,</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;                 <a class="code" href="../../d2/dce/udptl_8c.html#a12f6e5fd71bc2bc7fcfc0583b035c862">LOG_TAG</a>(s), i, j);</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;            <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;         }</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;      }</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d5/da1/udptl_8h.html#af968992af6d7e1186843a2eb371c9795aa0e8972e48ad95a77cbe2c66e174fd76">UDPTL_ERROR_CORRECTION_FEC</a>:</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;      span = s-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#aa3ea4f55135ebfe86fb4d34b891fe618">error_correction_span</a>;</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;      entries = s-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a53a056eca513e58ba0819110f0e62bc8">error_correction_entries</a>;</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;      <span class="keywordflow">if</span> (seq &lt; s-&gt;error_correction_span*s-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a53a056eca513e58ba0819110f0e62bc8">error_correction_entries</a>) {</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;         <span class="comment">/* In the initial stages, wind up the FEC smoothly */</span></div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;         entries = seq/s-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#aa3ea4f55135ebfe86fb4d34b891fe618">error_correction_span</a>;</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;         <span class="keywordflow">if</span> (seq &lt; s-&gt;error_correction_span)</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;            span = 0;</div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;      }</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;      <span class="comment">/* Encode the error recovery type */</span></div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;      <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>[len++] = 0x80;</div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;      <span class="comment">/* Span is defined as an inconstrained integer, which it dumb. It will only</span></div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;<span class="comment">         ever be a small value. Treat it as such. */</span></div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;      <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>[len++] = 1;</div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;      <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>[len++] = span;</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;      <span class="comment">/* The number of entries is defined as a length, but will only ever be a small</span></div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;<span class="comment">         value. Treat it as such. */</span></div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;      <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>[len++] = entries;</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;      <span class="keywordflow">for</span> (m = 0; m &lt; entries; m++) {</div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;         <span class="comment">/* Make an XOR&#39;ed entry the maximum length */</span></div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;         limit = (entry + m) &amp; UDPTL_BUF_MASK;</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;         high_tide = 0;</div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;         <span class="keywordflow">for</span> (i = (limit - span*entries) &amp; <a class="code" href="../../d2/dce/udptl_8c.html#a5fc08f5f3152e66b9eb799375c8eafe5">UDPTL_BUF_MASK</a>; i != limit; i = (i + entries) &amp; UDPTL_BUF_MASK) {</div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;            <span class="keywordflow">if</span> (high_tide &lt; s-&gt;tx[i].buf_len) {</div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;               <span class="keywordflow">for</span> (j = 0; j &lt; high_tide; j++)</div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;                  fec[j] ^= s-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#af0c6829f8a5272ece732cd1ac1b3094a">tx</a>[i].<a class="code" href="../../d9/dd6/structudptl__fec__tx__buffer__t.html#adf280a92c2ded8d54991b3ae3cb97ccf">buf</a>[j];</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;               for ( ; j &lt; s-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#af0c6829f8a5272ece732cd1ac1b3094a">tx</a>[i].<a class="code" href="../../d9/dd6/structudptl__fec__tx__buffer__t.html#a7666bbf00997cc13da27d55cb05d27c4">buf_len</a>; j++)</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;                  fec[j] = s-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#af0c6829f8a5272ece732cd1ac1b3094a">tx</a>[i].<a class="code" href="../../d9/dd6/structudptl__fec__tx__buffer__t.html#adf280a92c2ded8d54991b3ae3cb97ccf">buf</a>[j];</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;               high_tide = s-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#af0c6829f8a5272ece732cd1ac1b3094a">tx</a>[i].<a class="code" href="../../d9/dd6/structudptl__fec__tx__buffer__t.html#a7666bbf00997cc13da27d55cb05d27c4">buf_len</a>;</div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;            } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;               <span class="keywordflow">for</span> (j = 0; j &lt; s-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#af0c6829f8a5272ece732cd1ac1b3094a">tx</a>[i].<a class="code" href="../../d9/dd6/structudptl__fec__tx__buffer__t.html#a7666bbf00997cc13da27d55cb05d27c4">buf_len</a>; j++)</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;                  fec[j] ^= s-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#af0c6829f8a5272ece732cd1ac1b3094a">tx</a>[i].<a class="code" href="../../d9/dd6/structudptl__fec__tx__buffer__t.html#adf280a92c2ded8d54991b3ae3cb97ccf">buf</a>[j];</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;            }</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;         }</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;         <span class="keywordflow">if</span> (<a class="code" href="../../d2/dce/udptl_8c.html#a139e3cb1abd258f2bd35a94b6573ca2c">encode_open_type</a>(s, <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, buflen, &amp;len, fec, high_tide) &lt; 0)</div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;            <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;      }</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;   }</div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;</div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;   s-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a0224da9d658e4e4ea2981d7ca7860aa3">tx_seq_no</a>++;</div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>;</div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;}</div><div class="ttc" id="structast__udptl_html_aa3ea4f55135ebfe86fb4d34b891fe618"><div class="ttname"><a href="../../d9/d81/structast__udptl.html#aa3ea4f55135ebfe86fb4d34b891fe618">ast_udptl::error_correction_span</a></div><div class="ttdeci">unsigned int error_correction_span</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00186">udptl.c:186</a></div></div>
<div class="ttc" id="eagi__proxy_8c_html_ac95651d79c608a3148973b5b1fc9e525"><div class="ttname"><a href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a></div><div class="ttdeci">char buf[BUFSIZE]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">eagi_proxy.c:66</a></div></div>
<div class="ttc" id="udptl_8h_html_af968992af6d7e1186843a2eb371c9795afbc322f60eade115e42b66d4ab4dec83"><div class="ttname"><a href="../../d5/da1/udptl_8h.html#af968992af6d7e1186843a2eb371c9795afbc322f60eade115e42b66d4ab4dec83">UDPTL_ERROR_CORRECTION_REDUNDANCY</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da1/udptl_8h_source.html#l00040">udptl.h:40</a></div></div>
<div class="ttc" id="structast__udptl_html_a53a056eca513e58ba0819110f0e62bc8"><div class="ttname"><a href="../../d9/d81/structast__udptl.html#a53a056eca513e58ba0819110f0e62bc8">ast_udptl::error_correction_entries</a></div><div class="ttdeci">unsigned int error_correction_entries</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00181">udptl.c:181</a></div></div>
<div class="ttc" id="structudptl__fec__tx__buffer__t_html_adf280a92c2ded8d54991b3ae3cb97ccf"><div class="ttname"><a href="../../d9/dd6/structudptl__fec__tx__buffer__t.html#adf280a92c2ded8d54991b3ae3cb97ccf">udptl_fec_tx_buffer_t::buf</a></div><div class="ttdeci">uint8_t buf[LOCAL_FAX_MAX_DATAGRAM]</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00143">udptl.c:143</a></div></div>
<div class="ttc" id="udptl_8c_html_a139e3cb1abd258f2bd35a94b6573ca2c"><div class="ttname"><a href="../../d2/dce/udptl_8c.html#a139e3cb1abd258f2bd35a94b6573ca2c">encode_open_type</a></div><div class="ttdeci">static int encode_open_type(const struct ast_udptl *udptl, uint8_t *buf, unsigned int buflen, unsigned int *len, const uint8_t *data, unsigned int num_octets)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00348">udptl.c:348</a></div></div>
<div class="ttc" id="udptl_8c_html_a6c54931735c591c100df527a9e0936e1"><div class="ttname"><a href="../../d2/dce/udptl_8c.html#a6c54931735c591c100df527a9e0936e1">encode_length</a></div><div class="ttdeci">static unsigned int encode_length(uint8_t *buf, unsigned int *len, unsigned int value)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00320">udptl.c:320</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="udptl_8c_html_a7cebef58b6e2f580a8e74b7c133cd34b"><div class="ttname"><a href="../../d2/dce/udptl_8c.html#a7cebef58b6e2f580a8e74b7c133cd34b">LOCAL_FAX_MAX_DATAGRAM</a></div><div class="ttdeci">#define LOCAL_FAX_MAX_DATAGRAM</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00133">udptl.c:133</a></div></div>
<div class="ttc" id="structast__udptl_html_a0224da9d658e4e4ea2981d7ca7860aa3"><div class="ttname"><a href="../../d9/d81/structast__udptl.html#a0224da9d658e4e4ea2981d7ca7860aa3">ast_udptl::tx_seq_no</a></div><div class="ttdeci">unsigned int tx_seq_no</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00213">udptl.c:213</a></div></div>
<div class="ttc" id="udptl_8c_html_a12f6e5fd71bc2bc7fcfc0583b035c862"><div class="ttname"><a href="../../d2/dce/udptl_8c.html#a12f6e5fd71bc2bc7fcfc0583b035c862">LOG_TAG</a></div><div class="ttdeci">#define LOG_TAG(u)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00125">udptl.c:125</a></div></div>
<div class="ttc" id="func__strings_8c_html_af24e73aaf92f3000fda15d285e66df24"><div class="ttname"><a href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a></div><div class="ttdeci">static int len(struct ast_channel *chan, const char *cmd, char *data, char *buf, size_t buflen)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d1e/func__strings_8c_source.html#l01344">func_strings.c:1344</a></div></div>
<div class="ttc" id="structudptl__fec__tx__buffer__t_html_a7666bbf00997cc13da27d55cb05d27c4"><div class="ttname"><a href="../../d9/dd6/structudptl__fec__tx__buffer__t.html#a7666bbf00997cc13da27d55cb05d27c4">udptl_fec_tx_buffer_t::buf_len</a></div><div class="ttdeci">int buf_len</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00142">udptl.c:142</a></div></div>
<div class="ttc" id="udptl_8h_html_af968992af6d7e1186843a2eb371c9795afa83e5a16b5198b5d34543cb94114cd6"><div class="ttname"><a href="../../d5/da1/udptl_8h.html#af968992af6d7e1186843a2eb371c9795afa83e5a16b5198b5d34543cb94114cd6">UDPTL_ERROR_CORRECTION_NONE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da1/udptl_8h_source.html#l00038">udptl.h:38</a></div></div>
<div class="ttc" id="app__sms_8c_html_a8514112da88a5d13451aaf8c9b064017"><div class="ttname"><a href="../../d7/d81/app__sms_8c.html#a8514112da88a5d13451aaf8c9b064017">seq</a></div><div class="ttdeci">static volatile unsigned int seq</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d81/app__sms_8c_source.html#l00120">app_sms.c:120</a></div></div>
<div class="ttc" id="structentry_html"><div class="ttname"><a href="../../d3/d96/structentry.html">entry</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d85/search_8h_source.html#l00040">search.h:40</a></div></div>
<div class="ttc" id="structast__udptl_html_af0c6829f8a5272ece732cd1ac1b3094a"><div class="ttname"><a href="../../d9/d81/structast__udptl.html#af0c6829f8a5272ece732cd1ac1b3094a">ast_udptl::tx</a></div><div class="ttdeci">udptl_fec_tx_buffer_t tx[UDPTL_BUF_MASK+1]</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00216">udptl.c:216</a></div></div>
<div class="ttc" id="udptl_8h_html_af968992af6d7e1186843a2eb371c9795aa0e8972e48ad95a77cbe2c66e174fd76"><div class="ttname"><a href="../../d5/da1/udptl_8h.html#af968992af6d7e1186843a2eb371c9795aa0e8972e48ad95a77cbe2c66e174fd76">UDPTL_ERROR_CORRECTION_FEC</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da1/udptl_8h_source.html#l00039">udptl.h:39</a></div></div>
<div class="ttc" id="udptl_8c_html_a5fc08f5f3152e66b9eb799375c8eafe5"><div class="ttname"><a href="../../d2/dce/udptl_8c.html#a5fc08f5f3152e66b9eb799375c8eafe5">UDPTL_BUF_MASK</a></div><div class="ttdeci">#define UDPTL_BUF_MASK</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00139">udptl.c:139</a></div></div>
<div class="ttc" id="structast__udptl_html_ac215dbaf54319e257d2c33ecd70c36c5"><div class="ttname"><a href="../../d9/d81/structast__udptl.html#ac215dbaf54319e257d2c33ecd70c36c5">ast_udptl::error_correction_scheme</a></div><div class="ttdeci">enum ast_t38_ec_modes error_correction_scheme</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00176">udptl.c:176</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a5e8d65db7b122c711f174f6fe4fcafef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e8d65db7b122c711f174f6fe4fcafef">&#9670;&nbsp;</a></span>udptl_config_destructor()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void udptl_config_destructor </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>obj</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/dce/udptl_8c_source.html#l01296">1296</a> of file <a class="el" href="../../d2/dce/udptl_8c_source.html">udptl.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, and <a class="el" href="../../d2/dce/udptl_8c_source.html#l00232">udptl_config::general</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/dce/udptl_8c_source.html#l01302">udptl_snapshot_alloc()</a>.</p>
<div class="fragment"><div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;{</div><div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/dfc/structudptl__config.html">udptl_config</a> *cfg = obj;</div><div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>(cfg-&gt;<a class="code" href="../../d9/dfc/structudptl__config.html#a6af2c261a4a37c6c242b003bf38eaaf9">general</a>);</div><div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;}</div><div class="ttc" id="structudptl__config_html"><div class="ttname"><a href="../../d9/dfc/structudptl__config.html">udptl_config</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00231">udptl.c:231</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="structudptl__config_html_a6af2c261a4a37c6c242b003bf38eaaf9"><div class="ttname"><a href="../../d9/dfc/structudptl__config.html#a6af2c261a4a37c6c242b003bf38eaaf9">udptl_config::general</a></div><div class="ttdeci">struct udptl_global_options * general</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00232">udptl.c:232</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2beeec4dcecd9c3e01becd72393bf39a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2beeec4dcecd9c3e01becd72393bf39a">&#9670;&nbsp;</a></span>udptl_debug_test_addr()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int udptl_debug_test_addr </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d3/db3/structast__sockaddr.html">ast_sockaddr</a> *&#160;</td>
          <td class="paramname"><em>addr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/dce/udptl_8c_source.html#l00258">258</a> of file <a class="el" href="../../d2/dce/udptl_8c_source.html">udptl.c</a>.</p>

<p class="reference">References <a class="el" href="../../d4/d27/netsock2_8c_source.html#l00388">ast_sockaddr_cmp()</a>, <a class="el" href="../../d4/d27/netsock2_8c_source.html#l00413">ast_sockaddr_cmp_addr()</a>, <a class="el" href="../../db/df1/netsock2_8h_source.html#l00127">ast_sockaddr_isnull()</a>, <a class="el" href="../../db/df1/netsock2_8h_source.html#l00521">ast_sockaddr_port</a>, <a class="el" href="../../d2/dce/udptl_8c_source.html#l00130">udptldebug</a>, and <a class="el" href="../../d2/dce/udptl_8c_source.html#l00131">udptldebugaddr</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/dce/udptl_8c_source.html#l00762">ast_udptl_read()</a>, and <a class="el" href="../../d2/dce/udptl_8c_source.html#l01161">ast_udptl_write()</a>.</p>
<div class="fragment"><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;{</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d2/dce/udptl_8c.html#ade9088978427552c6020fd7453eedb57">udptldebug</a> == 0)</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../db/df1/netsock2_8h.html#aae671446fa65b8f846efaf165872c683">ast_sockaddr_isnull</a>(&amp;<a class="code" href="../../d2/dce/udptl_8c.html#adc1b287af4445d491cc5f3e18d3df0d3">udptldebugaddr</a>)) {</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;      <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;   }</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../db/df1/netsock2_8h.html#a51e2841175bf3ad58a4e11ad9fb2453f">ast_sockaddr_port</a>(&amp;<a class="code" href="../../d2/dce/udptl_8c.html#adc1b287af4445d491cc5f3e18d3df0d3">udptldebugaddr</a>)) {</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;      <span class="keywordflow">return</span> !<a class="code" href="../../db/df1/netsock2_8h.html#abae1b903c8f5b7639235b579a267aaab">ast_sockaddr_cmp</a>(&amp;<a class="code" href="../../d2/dce/udptl_8c.html#adc1b287af4445d491cc5f3e18d3df0d3">udptldebugaddr</a>, addr);</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;      <span class="keywordflow">return</span> !<a class="code" href="../../db/df1/netsock2_8h.html#a5fb3221004de6004d4c1f04c816eaac8">ast_sockaddr_cmp_addr</a>(&amp;<a class="code" href="../../d2/dce/udptl_8c.html#adc1b287af4445d491cc5f3e18d3df0d3">udptldebugaddr</a>, addr);</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;   }</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;}</div><div class="ttc" id="udptl_8c_html_adc1b287af4445d491cc5f3e18d3df0d3"><div class="ttname"><a href="../../d2/dce/udptl_8c.html#adc1b287af4445d491cc5f3e18d3df0d3">udptldebugaddr</a></div><div class="ttdeci">static struct ast_sockaddr udptldebugaddr</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00131">udptl.c:131</a></div></div>
<div class="ttc" id="netsock2_8h_html_abae1b903c8f5b7639235b579a267aaab"><div class="ttname"><a href="../../db/df1/netsock2_8h.html#abae1b903c8f5b7639235b579a267aaab">ast_sockaddr_cmp</a></div><div class="ttdeci">int ast_sockaddr_cmp(const struct ast_sockaddr *a, const struct ast_sockaddr *b)</div><div class="ttdoc">Compares two ast_sockaddr structures. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d27/netsock2_8c_source.html#l00388">netsock2.c:388</a></div></div>
<div class="ttc" id="netsock2_8h_html_a5fb3221004de6004d4c1f04c816eaac8"><div class="ttname"><a href="../../db/df1/netsock2_8h.html#a5fb3221004de6004d4c1f04c816eaac8">ast_sockaddr_cmp_addr</a></div><div class="ttdeci">int ast_sockaddr_cmp_addr(const struct ast_sockaddr *a, const struct ast_sockaddr *b)</div><div class="ttdoc">Compares the addresses of two ast_sockaddr structures. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d27/netsock2_8c_source.html#l00413">netsock2.c:413</a></div></div>
<div class="ttc" id="netsock2_8h_html_aae671446fa65b8f846efaf165872c683"><div class="ttname"><a href="../../db/df1/netsock2_8h.html#aae671446fa65b8f846efaf165872c683">ast_sockaddr_isnull</a></div><div class="ttdeci">static int ast_sockaddr_isnull(const struct ast_sockaddr *addr)</div><div class="ttdoc">Checks if the ast_sockaddr is null. &quot;null&quot; in this sense essentially means uninitialized, or having a 0 length. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/df1/netsock2_8h_source.html#l00127">netsock2.h:127</a></div></div>
<div class="ttc" id="netsock2_8h_html_a51e2841175bf3ad58a4e11ad9fb2453f"><div class="ttname"><a href="../../db/df1/netsock2_8h.html#a51e2841175bf3ad58a4e11ad9fb2453f">ast_sockaddr_port</a></div><div class="ttdeci">#define ast_sockaddr_port(addr)</div><div class="ttdoc">Get the port number of a socket address. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/df1/netsock2_8h_source.html#l00521">netsock2.h:521</a></div></div>
<div class="ttc" id="udptl_8c_html_ade9088978427552c6020fd7453eedb57"><div class="ttname"><a href="../../d2/dce/udptl_8c.html#ade9088978427552c6020fd7453eedb57">udptldebug</a></div><div class="ttdeci">static int udptldebug</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00130">udptl.c:130</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a8dbc1addfd99c00e7e7f496632aa6948"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8dbc1addfd99c00e7e7f496632aa6948">&#9670;&nbsp;</a></span>udptl_pre_apply_config()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int udptl_pre_apply_config </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/dce/udptl_8c_source.html#l01344">1344</a> of file <a class="el" href="../../d2/dce/udptl_8c_source.html">udptl.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/db2/asterisk_8h_source.html#l00214">__stringify</a>, <a class="el" href="../../d6/dc8/config__options_8c_source.html#l00103">aco_pending_config()</a>, <a class="el" href="../../da/df7/astobj2_8c_source.html#l00042">ast_log</a>, <a class="el" href="../../d2/dce/udptl_8c_source.html#l00128">DEFAULT_UDPTLEND</a>, <a class="el" href="../../d2/dce/udptl_8c_source.html#l00127">DEFAULT_UDPTLSTART</a>, <a class="el" href="../../d2/dce/udptl_8c_source.html#l00222">udptl_global_options::end</a>, <a class="el" href="../../d2/dce/udptl_8c_source.html#l00232">udptl_config::general</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00263">LOG_NOTICE</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00274">LOG_WARNING</a>, <a class="el" href="../../d2/dce/udptl_8c_source.html#l00225">udptl_global_options::nochecksums</a>, <a class="el" href="../../d2/dce/udptl_8c_source.html#l00221">udptl_global_options::start</a>, and <a class="el" href="../../d2/dce/udptl_8c_source.html#l00226">udptl_global_options::use_even_ports</a>.</p>
<div class="fragment"><div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;                                        {</div><div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/dfc/structudptl__config.html">udptl_config</a> *cfg = <a class="code" href="../../db/dfe/config__options_8h.html#a89d26f05dbb795e34651b889f0864e3a">aco_pending_config</a>(&amp;cfg_info);</div><div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;</div><div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;   <span class="keywordflow">if</span> (!cfg-&gt;<a class="code" href="../../d9/dfc/structudptl__config.html#a6af2c261a4a37c6c242b003bf38eaaf9">general</a>) {</div><div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;   }</div><div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;</div><div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;<span class="preprocessor">#ifndef SO_NO_CHECK</span></div><div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;   <span class="keywordflow">if</span> (cfg-&gt;<a class="code" href="../../d9/dfc/structudptl__config.html#a6af2c261a4a37c6c242b003bf38eaaf9">general</a>-&gt;<a class="code" href="../../d5/d44/structudptl__global__options.html#a6349d49cc6a98b04f59ca931588fbf62">nochecksums</a>) {</div><div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Disabling UDPTL checksums is not supported on this operating system!\n&quot;</span>);</div><div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;      cfg-&gt;<a class="code" href="../../d9/dfc/structudptl__config.html#a6af2c261a4a37c6c242b003bf38eaaf9">general</a>-&gt;<a class="code" href="../../d5/d44/structudptl__global__options.html#a6349d49cc6a98b04f59ca931588fbf62">nochecksums</a> = 0;</div><div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;   }</div><div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;</div><div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;   <span class="comment">/* Fix up any global config values that we can handle before replacing the config */</span></div><div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;   <span class="keywordflow">if</span> (cfg-&gt;<a class="code" href="../../d9/dfc/structudptl__config.html#a6af2c261a4a37c6c242b003bf38eaaf9">general</a>-&gt;<a class="code" href="../../d5/d44/structudptl__global__options.html#a5034d675ab3f347064aabc3c87b28359">use_even_ports</a> &amp;&amp; (cfg-&gt;<a class="code" href="../../d9/dfc/structudptl__config.html#a6af2c261a4a37c6c242b003bf38eaaf9">general</a>-&gt;<a class="code" href="../../d5/d44/structudptl__global__options.html#a885b350339beb75f5940572b641aaa58">start</a> &amp; 1)) {</div><div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;      ++cfg-&gt;<a class="code" href="../../d9/dfc/structudptl__config.html#a6af2c261a4a37c6c242b003bf38eaaf9">general</a>-&gt;<a class="code" href="../../d5/d44/structudptl__global__options.html#a885b350339beb75f5940572b641aaa58">start</a>;</div><div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#ad89ee324d180cdcd7defcc709ff9ca42">LOG_NOTICE</a>, <span class="stringliteral">&quot;Odd numbered udptlstart specified but use_even_ports enabled. udptlstart is now %u\n&quot;</span>, cfg-&gt;<a class="code" href="../../d9/dfc/structudptl__config.html#a6af2c261a4a37c6c242b003bf38eaaf9">general</a>-&gt;<a class="code" href="../../d5/d44/structudptl__global__options.html#a885b350339beb75f5940572b641aaa58">start</a>);</div><div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;   }</div><div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;   <span class="keywordflow">if</span> (cfg-&gt;<a class="code" href="../../d9/dfc/structudptl__config.html#a6af2c261a4a37c6c242b003bf38eaaf9">general</a>-&gt;<a class="code" href="../../d5/d44/structudptl__global__options.html#a885b350339beb75f5940572b641aaa58">start</a> &gt; cfg-&gt;<a class="code" href="../../d9/dfc/structudptl__config.html#a6af2c261a4a37c6c242b003bf38eaaf9">general</a>-&gt;<a class="code" href="../../d5/d44/structudptl__global__options.html#acbdc5745c5bd8f10ee2d3a85e711a823">end</a>) {</div><div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a>, <span class="stringliteral">&quot;Unreasonable values for UDPTL start/end ports; defaulting to %s-%s.\n&quot;</span>, <a class="code" href="../../db/db2/asterisk_8h.html#ae09d687217717da8684417e61d3278b8">__stringify</a>(<a class="code" href="../../d2/dce/udptl_8c.html#a2e8121121d4cd54fc80a89115ad9b97f">DEFAULT_UDPTLSTART</a>), <a class="code" href="../../db/db2/asterisk_8h.html#ae09d687217717da8684417e61d3278b8">__stringify</a>(<a class="code" href="../../d2/dce/udptl_8c.html#a1513c4df549704e7d71ca72f0ee7b390">DEFAULT_UDPTLEND</a>));</div><div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;      cfg-&gt;<a class="code" href="../../d9/dfc/structudptl__config.html#a6af2c261a4a37c6c242b003bf38eaaf9">general</a>-&gt;<a class="code" href="../../d5/d44/structudptl__global__options.html#a885b350339beb75f5940572b641aaa58">start</a> = <a class="code" href="../../d2/dce/udptl_8c.html#a2e8121121d4cd54fc80a89115ad9b97f">DEFAULT_UDPTLSTART</a>;</div><div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;      cfg-&gt;<a class="code" href="../../d9/dfc/structudptl__config.html#a6af2c261a4a37c6c242b003bf38eaaf9">general</a>-&gt;<a class="code" href="../../d5/d44/structudptl__global__options.html#acbdc5745c5bd8f10ee2d3a85e711a823">end</a> = <a class="code" href="../../d2/dce/udptl_8c.html#a1513c4df549704e7d71ca72f0ee7b390">DEFAULT_UDPTLEND</a>;</div><div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;   }</div><div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;   <span class="keywordflow">if</span> (cfg-&gt;<a class="code" href="../../d9/dfc/structudptl__config.html#a6af2c261a4a37c6c242b003bf38eaaf9">general</a>-&gt;<a class="code" href="../../d5/d44/structudptl__global__options.html#a5034d675ab3f347064aabc3c87b28359">use_even_ports</a> &amp;&amp; (cfg-&gt;<a class="code" href="../../d9/dfc/structudptl__config.html#a6af2c261a4a37c6c242b003bf38eaaf9">general</a>-&gt;<a class="code" href="../../d5/d44/structudptl__global__options.html#acbdc5745c5bd8f10ee2d3a85e711a823">end</a> &amp; 1)) {</div><div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;      --cfg-&gt;<a class="code" href="../../d9/dfc/structudptl__config.html#a6af2c261a4a37c6c242b003bf38eaaf9">general</a>-&gt;<a class="code" href="../../d5/d44/structudptl__global__options.html#acbdc5745c5bd8f10ee2d3a85e711a823">end</a>;</div><div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;      <a class="code" href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a>(<a class="code" href="../../d1/d8c/logger_8h.html#ad89ee324d180cdcd7defcc709ff9ca42">LOG_NOTICE</a>, <span class="stringliteral">&quot;Odd numbered udptlend specified but use_even_ports enabled. udptlend is now %u\n&quot;</span>, cfg-&gt;<a class="code" href="../../d9/dfc/structudptl__config.html#a6af2c261a4a37c6c242b003bf38eaaf9">general</a>-&gt;<a class="code" href="../../d5/d44/structudptl__global__options.html#acbdc5745c5bd8f10ee2d3a85e711a823">end</a>);</div><div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;   }</div><div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;</div><div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;}</div><div class="ttc" id="structudptl__config_html"><div class="ttname"><a href="../../d9/dfc/structudptl__config.html">udptl_config</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00231">udptl.c:231</a></div></div>
<div class="ttc" id="logger_8h_html_adf4476a6a4ea6c74231c826e899d7189"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#adf4476a6a4ea6c74231c826e899d7189">LOG_WARNING</a></div><div class="ttdeci">#define LOG_WARNING</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00274">logger.h:274</a></div></div>
<div class="ttc" id="udptl_8c_html_a2e8121121d4cd54fc80a89115ad9b97f"><div class="ttname"><a href="../../d2/dce/udptl_8c.html#a2e8121121d4cd54fc80a89115ad9b97f">DEFAULT_UDPTLSTART</a></div><div class="ttdeci">#define DEFAULT_UDPTLSTART</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00127">udptl.c:127</a></div></div>
<div class="ttc" id="astobj2_8c_html_a96a00b3a518d7f32b6d51dc28f09bf9b"><div class="ttname"><a href="../../da/df7/astobj2_8c.html#a96a00b3a518d7f32b6d51dc28f09bf9b">ast_log</a></div><div class="ttdeci">#define ast_log</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df7/astobj2_8c_source.html#l00042">astobj2.c:42</a></div></div>
<div class="ttc" id="asterisk_8h_html_ae09d687217717da8684417e61d3278b8"><div class="ttname"><a href="../../db/db2/asterisk_8h.html#ae09d687217717da8684417e61d3278b8">__stringify</a></div><div class="ttdeci">#define __stringify(x)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/db2/asterisk_8h_source.html#l00214">asterisk.h:214</a></div></div>
<div class="ttc" id="config__options_8h_html_a89d26f05dbb795e34651b889f0864e3a"><div class="ttname"><a href="../../db/dfe/config__options_8h.html#a89d26f05dbb795e34651b889f0864e3a">aco_pending_config</a></div><div class="ttdeci">void * aco_pending_config(struct aco_info *info)</div><div class="ttdoc">Get pending config changes. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dc8/config__options_8c_source.html#l00103">config_options.c:103</a></div></div>
<div class="ttc" id="structudptl__global__options_html_acbdc5745c5bd8f10ee2d3a85e711a823"><div class="ttname"><a href="../../d5/d44/structudptl__global__options.html#acbdc5745c5bd8f10ee2d3a85e711a823">udptl_global_options::end</a></div><div class="ttdeci">unsigned int end</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00222">udptl.c:222</a></div></div>
<div class="ttc" id="structudptl__global__options_html_a6349d49cc6a98b04f59ca931588fbf62"><div class="ttname"><a href="../../d5/d44/structudptl__global__options.html#a6349d49cc6a98b04f59ca931588fbf62">udptl_global_options::nochecksums</a></div><div class="ttdeci">unsigned int nochecksums</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00225">udptl.c:225</a></div></div>
<div class="ttc" id="logger_8h_html_ad89ee324d180cdcd7defcc709ff9ca42"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#ad89ee324d180cdcd7defcc709ff9ca42">LOG_NOTICE</a></div><div class="ttdeci">#define LOG_NOTICE</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00263">logger.h:263</a></div></div>
<div class="ttc" id="structudptl__global__options_html_a5034d675ab3f347064aabc3c87b28359"><div class="ttname"><a href="../../d5/d44/structudptl__global__options.html#a5034d675ab3f347064aabc3c87b28359">udptl_global_options::use_even_ports</a></div><div class="ttdeci">unsigned int use_even_ports</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00226">udptl.c:226</a></div></div>
<div class="ttc" id="udptl_8c_html_a1513c4df549704e7d71ca72f0ee7b390"><div class="ttname"><a href="../../d2/dce/udptl_8c.html#a1513c4df549704e7d71ca72f0ee7b390">DEFAULT_UDPTLEND</a></div><div class="ttdeci">#define DEFAULT_UDPTLEND</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00128">udptl.c:128</a></div></div>
<div class="ttc" id="structudptl__config_html_a6af2c261a4a37c6c242b003bf38eaaf9"><div class="ttname"><a href="../../d9/dfc/structudptl__config.html#a6af2c261a4a37c6c242b003bf38eaaf9">udptl_config::general</a></div><div class="ttdeci">struct udptl_global_options * general</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00232">udptl.c:232</a></div></div>
<div class="ttc" id="structudptl__global__options_html_a885b350339beb75f5940572b641aaa58"><div class="ttname"><a href="../../d5/d44/structudptl__global__options.html#a885b350339beb75f5940572b641aaa58">udptl_global_options::start</a></div><div class="ttdeci">unsigned int start</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00221">udptl.c:221</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a0db4385b032d828c9ec822008c79a061"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0db4385b032d828c9ec822008c79a061">&#9670;&nbsp;</a></span>udptl_rx_packet()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int udptl_rx_packet </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d9/d81/structast__udptl.html">ast_udptl</a> *&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/dce/udptl_8c_source.html#l00381">381</a> of file <a class="el" href="../../d2/dce/udptl_8c_source.html">udptl.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/dfe/isdn__lib_8c_source.html#l00042">ARRAY_LEN</a>, <a class="el" href="../../d1/d8c/logger_8h_source.html#l00452">ast_debug</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00123">AST_FRAME_MODEM</a>, <a class="el" href="../../df/d90/linkedlists_8h_source.html#l00438">AST_LIST_NEXT</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00241">AST_MODEM_T38</a>, <a class="el" href="../../d2/dce/udptl_8c_source.html#l00148">udptl_fec_rx_buffer_t::buf</a>, <a class="el" href="../../d2/dce/udptl_8c_source.html#l00147">udptl_fec_rx_buffer_t::buf_len</a>, <a class="el" href="../../d0/d99/structast__frame.html#a4027905f872af30d910929b07e261ca5">ast_frame::data</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00171">ast_frame::datalen</a>, <a class="el" href="../../d2/dce/udptl_8c_source.html#l00274">decode_length()</a>, <a class="el" href="../../d2/dce/udptl_8c_source.html#l00300">decode_open_type()</a>, <a class="el" href="../../d2/dce/udptl_8c_source.html#l00159">ast_udptl::f</a>, <a class="el" href="../../d2/dce/udptl_8c_source.html#l00150">udptl_fec_rx_buffer_t::fec</a>, <a class="el" href="../../d2/dce/udptl_8c_source.html#l00152">udptl_fec_rx_buffer_t::fec_entries</a>, <a class="el" href="../../d2/dce/udptl_8c_source.html#l00149">udptl_fec_rx_buffer_t::fec_len</a>, <a class="el" href="../../d2/dce/udptl_8c_source.html#l00151">udptl_fec_rx_buffer_t::fec_span</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00167">ast_frame::frametype</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00152">ast_frame_subclass::integer</a>, <a class="el" href="../../d2/dce/udptl_8c_source.html#l00133">LOCAL_FAX_MAX_DATAGRAM</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00175">ast_frame::mallocd</a>, <a class="el" href="../../d2/dce/udptl_8c_source.html#l00136">MAX_FEC_ENTRIES</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00179">ast_frame::offset</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00183">ast_frame::ptr</a>, <a class="el" href="../../d2/dce/udptl_8c_source.html#l00217">ast_udptl::rx</a>, <a class="el" href="../../d2/dce/udptl_8c_source.html#l00214">ast_udptl::rx_seq_no</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00195">ast_frame::seqno</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00181">ast_frame::src</a>, <a class="el" href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00169">ast_frame::subclass</a>, <a class="el" href="../../d2/dce/udptl_8c_source.html#l00122">TRUE</a>, and <a class="el" href="../../d2/dce/udptl_8c_source.html#l00139">UDPTL_BUF_MASK</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/dce/udptl_8c_source.html#l00762">ast_udptl_read()</a>.</p>
<div class="fragment"><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;{</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;   <span class="keywordtype">int</span> stat1;</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;   <span class="keywordtype">int</span> stat2;</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;   <span class="keywordtype">int</span> i;</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> ptr; <span class="comment">/* an index that keeps track of how much of the UDPTL packet has been processed */</span></div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;   <span class="keywordtype">int</span> seq_no;</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;   <span class="keyword">const</span> uint8_t *ifp = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;   <span class="keyword">const</span> uint8_t *data = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> ifp_len = 0;</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;   <span class="keywordtype">int</span> repaired[16];</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;   <span class="keyword">const</span> uint8_t *bufs[<a class="code" href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a>(s-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a90f2de0c2fe1997e3c842ff0a32e4edc">f</a>) - 1];</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> lengths[<a class="code" href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a>(s-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a90f2de0c2fe1997e3c842ff0a32e4edc">f</a>) - 1];</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;   <span class="keywordtype">int</span> span;</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;   <span class="keywordtype">int</span> entries;</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;   <span class="keywordtype">int</span> ifp_no;</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;   ptr = 0;</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;   ifp_no = 0;</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;   memset(&amp;s-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a90f2de0c2fe1997e3c842ff0a32e4edc">f</a>[0], 0, <span class="keyword">sizeof</span>(s-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a90f2de0c2fe1997e3c842ff0a32e4edc">f</a>[0]));</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;   <span class="comment">/* Decode seq_number */</span></div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;   <span class="keywordflow">if</span> (ptr + 2 &gt; <a class="code" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>)</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;   seq_no = (<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>[0] &lt;&lt; 8) | <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>[1];</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;   ptr += 2;</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;   <span class="comment">/* UDPTL sequence numbers are 16 bit so after 0xFFFF comes</span></div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;<span class="comment">      0 which breaks all packet recovery logic.  To fix this</span></div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;<span class="comment">      if we see that next expected packet (rx_seq_no) is close</span></div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;<span class="comment">      to or beyond the wrap around limit &amp; the received packet</span></div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;<span class="comment">      is still near zero, then we &#39;unwrap&#39; the received seqno</span></div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;<span class="comment">      so it has the value it would have had.  After a 16</span></div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;<span class="comment">      packet grace period (there shouldn&#39;t be  more than</span></div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;<span class="comment">      that many recovery packets) we wrap the expected</span></div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;<span class="comment">      sequence number around and things can return back</span></div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;<span class="comment">      to normal */</span></div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;   <span class="keywordflow">if</span> (seq_no &lt; 0x000F &amp;&amp; s-&gt;rx_seq_no &gt; 0xFFF0) {</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;      <span class="comment">/* received seq_no has wrapped adjust it */</span></div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;      seq_no += 0x10000;</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;   } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;      <span class="comment">/* otherwise make sure expected rx_seq_no is properly wrapped */</span></div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;      s-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a62313163b2e2302c6566074e8ace159e">rx_seq_no</a> &amp;= 0xFFFF;</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;   }</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;   <span class="comment">/* Break out the primary packet */</span></div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;   <span class="keywordflow">if</span> ((stat1 = <a class="code" href="../../d2/dce/udptl_8c.html#acad8de64155e849783a598df19ce849c">decode_open_type</a>(<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, <a class="code" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>, &amp;ptr, &amp;ifp, &amp;ifp_len)) != 0)</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;   <span class="comment">/* Decode error_recovery */</span></div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;   <span class="keywordflow">if</span> (ptr + 1 &gt; <a class="code" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>)</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;   <span class="keywordflow">if</span> ((<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>[ptr++] &amp; 0x80) == 0) {</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;      <span class="comment">/* Secondary packet mode for error recovery */</span></div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;      <span class="keywordflow">if</span> (seq_no &gt; s-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a62313163b2e2302c6566074e8ace159e">rx_seq_no</a>) {</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;         <span class="comment">/* We received a later packet than we expected, so we need to check if we can fill in the gap from the</span></div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;<span class="comment">            secondary packets. */</span></div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;         <span class="keywordtype">int</span> total_count = 0;</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;         <span class="keywordflow">do</span> {</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;            <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> count;</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;            <span class="keywordflow">if</span> ((stat2 = <a class="code" href="../../d2/dce/udptl_8c.html#ae31d7a712ec76b9ee8515efecca0cc07">decode_length</a>(<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, <a class="code" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>, &amp;ptr, &amp;count)) &lt; 0)</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;               <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;            <span class="keywordflow">for</span> (i = 0; i &lt; count &amp;&amp; total_count + i &lt; <a class="code" href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a>(bufs); i++) {</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;               <span class="keywordflow">if</span> ((stat1 = <a class="code" href="../../d2/dce/udptl_8c.html#acad8de64155e849783a598df19ce849c">decode_open_type</a>(<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, <a class="code" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>, &amp;ptr, &amp;bufs[total_count + i], &amp;lengths[total_count + i])) != 0) {</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;                  <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;               }</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;               <span class="comment">/* valid secondaries can contain zero-length packets that should be ignored */</span></div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;               <span class="keywordflow">if</span> (!bufs[total_count + i] || !lengths[total_count + i]) {</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;                  <span class="comment">/* drop the count of items to process and reuse the buffers that were just set */</span></div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;                  i--;</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;                  count--;</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;               }</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;            }</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;            total_count += i;</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;         }</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;         <span class="keywordflow">while</span> (stat2 &gt; 0 &amp;&amp; total_count &lt; <a class="code" href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a>(bufs));</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;         <span class="comment">/* Step through in reverse order, so we go oldest to newest */</span></div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;         <span class="keywordflow">for</span> (i = total_count; i &gt; 0; i--) {</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;            <span class="keywordflow">if</span> (seq_no - i &gt;= s-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a62313163b2e2302c6566074e8ace159e">rx_seq_no</a>) {</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;               <span class="comment">/* This one wasn&#39;t seen before */</span></div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;               <span class="comment">/* Decode the secondary IFP packet */</span></div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;               <a class="code" href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a>(3, <span class="stringliteral">&quot;Recovering lost packet via secondary %d, len %u\n&quot;</span>, seq_no - i, lengths[i - 1]);</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;               s-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a90f2de0c2fe1997e3c842ff0a32e4edc">f</a>[ifp_no].<a class="code" href="../../d0/d99/structast__frame.html#a6937b93c56cb473b547eda454dca7b4c">frametype</a> = <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#ae2e1a9c4e048da387b761f619312d6e0ad99b86353343f422bda01163898b2eea">AST_FRAME_MODEM</a>;</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;               s-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a90f2de0c2fe1997e3c842ff0a32e4edc">f</a>[ifp_no].<a class="code" href="../../d0/d99/structast__frame.html#a27237c48fdcd22556401f20c693811db">subclass</a>.<a class="code" href="../../d1/d9f/structast__frame__subclass.html#adece183191b0e700e039e59101e06105">integer</a> = <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#a3a510e4e2673c6870ed5fe0f1eb53732">AST_MODEM_T38</a>;</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;               s-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a90f2de0c2fe1997e3c842ff0a32e4edc">f</a>[ifp_no].<a class="code" href="../../d0/d99/structast__frame.html#aed16590d48f41d89f31e0cf347f5cd99">mallocd</a> = 0;</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;               s-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a90f2de0c2fe1997e3c842ff0a32e4edc">f</a>[ifp_no].<a class="code" href="../../d0/d99/structast__frame.html#ab793262012344621455faf9266acbac2">seqno</a> = seq_no - i;</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;               s-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a90f2de0c2fe1997e3c842ff0a32e4edc">f</a>[ifp_no].<a class="code" href="../../d0/d99/structast__frame.html#ad67e07841d1233e596e6f822a3c81f6b">datalen</a> = lengths[i - 1];</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;               s-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a90f2de0c2fe1997e3c842ff0a32e4edc">f</a>[ifp_no].<a class="code" href="../../d0/d99/structast__frame.html#a4027905f872af30d910929b07e261ca5">data</a>.<a class="code" href="../../d0/d99/structast__frame.html#add9af9569af79ec26dd741fb226b38ba">ptr</a> = (uint8_t *) bufs[i - 1];</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;               s-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a90f2de0c2fe1997e3c842ff0a32e4edc">f</a>[ifp_no].<a class="code" href="../../d0/d99/structast__frame.html#aed7ea92f45bd273dde380a45ddced592">offset</a> = 0;</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;               s-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a90f2de0c2fe1997e3c842ff0a32e4edc">f</a>[ifp_no].<a class="code" href="../../d0/d99/structast__frame.html#af51e37c9331049b1e3d250a7c8bc3c26">src</a> = <span class="stringliteral">&quot;UDPTL&quot;</span>;</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;               <span class="keywordflow">if</span> (ifp_no &gt; 0)</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;                  <a class="code" href="../../df/d90/linkedlists_8h.html#ae234825bcb65b88c0554b995ff1b8ba6">AST_LIST_NEXT</a>(&amp;s-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a90f2de0c2fe1997e3c842ff0a32e4edc">f</a>[ifp_no - 1], <a class="code" href="../../d9/d42/structframe__list.html">frame_list</a>) = &amp;s-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a90f2de0c2fe1997e3c842ff0a32e4edc">f</a>[ifp_no];</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;               <a class="code" href="../../df/d90/linkedlists_8h.html#ae234825bcb65b88c0554b995ff1b8ba6">AST_LIST_NEXT</a>(&amp;s-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a90f2de0c2fe1997e3c842ff0a32e4edc">f</a>[ifp_no], <a class="code" href="../../d9/d42/structframe__list.html">frame_list</a>) = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;               ifp_no++;</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;            }</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;         }</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;      }</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;   }</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;   <span class="keywordflow">else</span></div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;   {</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;      <span class="keywordtype">int</span> j;</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;      <span class="keywordtype">int</span> l;</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;      <span class="keywordtype">int</span> x;</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;      <span class="comment">/* FEC mode for error recovery */</span></div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;      <span class="comment">/* Our buffers cannot tolerate overlength IFP packets in FEC mode */</span></div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;      <span class="keywordflow">if</span> (ifp_len &gt; <a class="code" href="../../d2/dce/udptl_8c.html#a7cebef58b6e2f580a8e74b7c133cd34b">LOCAL_FAX_MAX_DATAGRAM</a>)</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;         <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;      <span class="comment">/* Update any missed slots in the buffer */</span></div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;      <span class="keywordflow">for</span> ( ; seq_no &gt; s-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a62313163b2e2302c6566074e8ace159e">rx_seq_no</a>; s-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a62313163b2e2302c6566074e8ace159e">rx_seq_no</a>++) {</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;         x = s-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a62313163b2e2302c6566074e8ace159e">rx_seq_no</a> &amp; <a class="code" href="../../d2/dce/udptl_8c.html#a5fc08f5f3152e66b9eb799375c8eafe5">UDPTL_BUF_MASK</a>;</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;         s-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a88620be29521fa573c4dea697a7a4258">rx</a>[x].<a class="code" href="../../de/dd5/structudptl__fec__rx__buffer__t.html#a7666bbf00997cc13da27d55cb05d27c4">buf_len</a> = -1;</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;         s-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a88620be29521fa573c4dea697a7a4258">rx</a>[x].<a class="code" href="../../de/dd5/structudptl__fec__rx__buffer__t.html#aaa33cae998bd7b4544845e3c9ea4014f">fec_len</a>[0] = 0;</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;         s-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a88620be29521fa573c4dea697a7a4258">rx</a>[x].<a class="code" href="../../de/dd5/structudptl__fec__rx__buffer__t.html#ae946559f80e742802d3c41bb9d54c201">fec_span</a> = 0;</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;         s-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a88620be29521fa573c4dea697a7a4258">rx</a>[x].<a class="code" href="../../de/dd5/structudptl__fec__rx__buffer__t.html#a47d90b4ddd6ebbeff08cadc1cf07f6f4">fec_entries</a> = 0;</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;      }</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;      x = seq_no &amp; <a class="code" href="../../d2/dce/udptl_8c.html#a5fc08f5f3152e66b9eb799375c8eafe5">UDPTL_BUF_MASK</a>;</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;      memset(repaired, 0, <span class="keyword">sizeof</span>(repaired));</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;      <span class="comment">/* Save the new IFP packet */</span></div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;      memcpy(s-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a88620be29521fa573c4dea697a7a4258">rx</a>[x].<a class="code" href="../../de/dd5/structudptl__fec__rx__buffer__t.html#adf280a92c2ded8d54991b3ae3cb97ccf">buf</a>, ifp, ifp_len);</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;      s-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a88620be29521fa573c4dea697a7a4258">rx</a>[x].<a class="code" href="../../de/dd5/structudptl__fec__rx__buffer__t.html#a7666bbf00997cc13da27d55cb05d27c4">buf_len</a> = ifp_len;</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;      repaired[x] = <a class="code" href="../../d2/dce/udptl_8c.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;      <span class="comment">/* Decode the FEC packets */</span></div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;      <span class="comment">/* The span is defined as an unconstrained integer, but will never be more</span></div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;<span class="comment">         than a small value. */</span></div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;      <span class="keywordflow">if</span> (ptr + 2 &gt; <a class="code" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>)</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;         <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>[ptr++] != 1)</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;         <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;      span = <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>[ptr++];</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;      s-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a88620be29521fa573c4dea697a7a4258">rx</a>[x].<a class="code" href="../../de/dd5/structudptl__fec__rx__buffer__t.html#ae946559f80e742802d3c41bb9d54c201">fec_span</a> = span;</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;      <span class="comment">/* The number of entries is defined as a length, but will only ever be a small</span></div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;<span class="comment">         value. Treat it as such. */</span></div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;      <span class="keywordflow">if</span> (ptr + 1 &gt; <a class="code" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>)</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;         <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;      entries = <a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>[ptr++];</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;      <span class="keywordflow">if</span> (entries &gt; <a class="code" href="../../d2/dce/udptl_8c.html#a0113380b09f0d4b8cc6a98d70e4ef822">MAX_FEC_ENTRIES</a>) {</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;         <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;      }</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;      s-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a88620be29521fa573c4dea697a7a4258">rx</a>[x].<a class="code" href="../../de/dd5/structudptl__fec__rx__buffer__t.html#a47d90b4ddd6ebbeff08cadc1cf07f6f4">fec_entries</a> = entries;</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;      <span class="comment">/* Decode the elements */</span></div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;      <span class="keywordflow">for</span> (i = 0; i &lt; entries; i++) {</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;         <span class="keywordflow">if</span> ((stat1 = <a class="code" href="../../d2/dce/udptl_8c.html#acad8de64155e849783a598df19ce849c">decode_open_type</a>(<a class="code" href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a>, <a class="code" href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a>, &amp;ptr, &amp;data, &amp;s-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a88620be29521fa573c4dea697a7a4258">rx</a>[x].<a class="code" href="../../de/dd5/structudptl__fec__rx__buffer__t.html#aaa33cae998bd7b4544845e3c9ea4014f">fec_len</a>[i])) != 0)</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;            <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;         <span class="keywordflow">if</span> (s-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a88620be29521fa573c4dea697a7a4258">rx</a>[x].<a class="code" href="../../de/dd5/structudptl__fec__rx__buffer__t.html#aaa33cae998bd7b4544845e3c9ea4014f">fec_len</a>[i] &gt; <a class="code" href="../../d2/dce/udptl_8c.html#a7cebef58b6e2f580a8e74b7c133cd34b">LOCAL_FAX_MAX_DATAGRAM</a>)</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;            <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;         <span class="comment">/* Save the new FEC data */</span></div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;         memcpy(s-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a88620be29521fa573c4dea697a7a4258">rx</a>[x].<a class="code" href="../../de/dd5/structudptl__fec__rx__buffer__t.html#a41cd56bf2c54d88565344c24841bc517">fec</a>[i], data, s-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a88620be29521fa573c4dea697a7a4258">rx</a>[x].<a class="code" href="../../de/dd5/structudptl__fec__rx__buffer__t.html#aaa33cae998bd7b4544845e3c9ea4014f">fec_len</a>[i]);</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;<span class="preprocessor">#if 0</span></div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;         fprintf(stderr, <span class="stringliteral">&quot;FEC: &quot;</span>);</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;         <span class="keywordflow">for</span> (j = 0; j &lt; s-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a88620be29521fa573c4dea697a7a4258">rx</a>[x].<a class="code" href="../../de/dd5/structudptl__fec__rx__buffer__t.html#aaa33cae998bd7b4544845e3c9ea4014f">fec_len</a>[i]; j++)</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;            fprintf(stderr, <span class="stringliteral">&quot;%02hhX &quot;</span>, data[j]);</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;         fprintf(stderr, <span class="stringliteral">&quot;\n&quot;</span>);</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;      }</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;      <span class="comment">/* See if we can reconstruct anything which is missing */</span></div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;      <span class="comment">/* TODO: this does not comprehensively hunt back and repair everything that is possible */</span></div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;      <span class="keywordflow">for</span> (l = x; l != ((x - (16 - span*entries)) &amp; <a class="code" href="../../d2/dce/udptl_8c.html#a5fc08f5f3152e66b9eb799375c8eafe5">UDPTL_BUF_MASK</a>); l = (l - 1) &amp; UDPTL_BUF_MASK) {</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;         <span class="keywordtype">int</span> m;</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;         <span class="keywordflow">if</span> (s-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a88620be29521fa573c4dea697a7a4258">rx</a>[l].<a class="code" href="../../de/dd5/structudptl__fec__rx__buffer__t.html#aaa33cae998bd7b4544845e3c9ea4014f">fec_len</a>[0] &lt;= 0)</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;         <span class="keywordflow">for</span> (m = 0; m &lt; s-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a88620be29521fa573c4dea697a7a4258">rx</a>[l].<a class="code" href="../../de/dd5/structudptl__fec__rx__buffer__t.html#a47d90b4ddd6ebbeff08cadc1cf07f6f4">fec_entries</a>; m++) {</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;            <span class="keywordtype">int</span> k;</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;            <span class="keywordtype">int</span> which;</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;            <span class="keywordtype">int</span> limit = (l + m) &amp; UDPTL_BUF_MASK;</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;            <span class="comment">/* only repair buffers that actually exist! */</span></div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;            <span class="keywordflow">if</span> (seq_no &lt;= (s-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a88620be29521fa573c4dea697a7a4258">rx</a>[l].<a class="code" href="../../de/dd5/structudptl__fec__rx__buffer__t.html#ae946559f80e742802d3c41bb9d54c201">fec_span</a> * s-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a88620be29521fa573c4dea697a7a4258">rx</a>[l].<a class="code" href="../../de/dd5/structudptl__fec__rx__buffer__t.html#a47d90b4ddd6ebbeff08cadc1cf07f6f4">fec_entries</a>) - m) {</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;               <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;            }</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;            <span class="keywordflow">for</span> (which = -1, k = (limit - s-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a88620be29521fa573c4dea697a7a4258">rx</a>[l].<a class="code" href="../../de/dd5/structudptl__fec__rx__buffer__t.html#ae946559f80e742802d3c41bb9d54c201">fec_span</a> * s-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a88620be29521fa573c4dea697a7a4258">rx</a>[l].<a class="code" href="../../de/dd5/structudptl__fec__rx__buffer__t.html#a47d90b4ddd6ebbeff08cadc1cf07f6f4">fec_entries</a>) &amp; <a class="code" href="../../d2/dce/udptl_8c.html#a5fc08f5f3152e66b9eb799375c8eafe5">UDPTL_BUF_MASK</a>; k != limit; k = (k + s-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a88620be29521fa573c4dea697a7a4258">rx</a>[l].<a class="code" href="../../de/dd5/structudptl__fec__rx__buffer__t.html#a47d90b4ddd6ebbeff08cadc1cf07f6f4">fec_entries</a>) &amp; UDPTL_BUF_MASK) {</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;               <span class="keywordflow">if</span> (s-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a88620be29521fa573c4dea697a7a4258">rx</a>[k].<a class="code" href="../../de/dd5/structudptl__fec__rx__buffer__t.html#a7666bbf00997cc13da27d55cb05d27c4">buf_len</a> &lt;= 0)</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;                  which = (which == -1) ? k : -2;</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;            }</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;            <span class="keywordflow">if</span> (which &gt;= 0) {</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;               <span class="comment">/* Repairable */</span></div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;               <span class="keywordflow">for</span> (j = 0; j &lt; s-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a88620be29521fa573c4dea697a7a4258">rx</a>[l].<a class="code" href="../../de/dd5/structudptl__fec__rx__buffer__t.html#aaa33cae998bd7b4544845e3c9ea4014f">fec_len</a>[m]; j++) {</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;                  s-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a88620be29521fa573c4dea697a7a4258">rx</a>[which].<a class="code" href="../../de/dd5/structudptl__fec__rx__buffer__t.html#adf280a92c2ded8d54991b3ae3cb97ccf">buf</a>[j] = s-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a88620be29521fa573c4dea697a7a4258">rx</a>[l].<a class="code" href="../../de/dd5/structudptl__fec__rx__buffer__t.html#a41cd56bf2c54d88565344c24841bc517">fec</a>[m][j];</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;                  <span class="keywordflow">for</span> (k = (limit - s-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a88620be29521fa573c4dea697a7a4258">rx</a>[l].<a class="code" href="../../de/dd5/structudptl__fec__rx__buffer__t.html#ae946559f80e742802d3c41bb9d54c201">fec_span</a> * s-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a88620be29521fa573c4dea697a7a4258">rx</a>[l].<a class="code" href="../../de/dd5/structudptl__fec__rx__buffer__t.html#a47d90b4ddd6ebbeff08cadc1cf07f6f4">fec_entries</a>) &amp; <a class="code" href="../../d2/dce/udptl_8c.html#a5fc08f5f3152e66b9eb799375c8eafe5">UDPTL_BUF_MASK</a>; k != limit; k = (k + s-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a88620be29521fa573c4dea697a7a4258">rx</a>[l].<a class="code" href="../../de/dd5/structudptl__fec__rx__buffer__t.html#a47d90b4ddd6ebbeff08cadc1cf07f6f4">fec_entries</a>) &amp; UDPTL_BUF_MASK)</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;                     s-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a88620be29521fa573c4dea697a7a4258">rx</a>[which].<a class="code" href="../../de/dd5/structudptl__fec__rx__buffer__t.html#adf280a92c2ded8d54991b3ae3cb97ccf">buf</a>[j] ^= (s-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a88620be29521fa573c4dea697a7a4258">rx</a>[k].<a class="code" href="../../de/dd5/structudptl__fec__rx__buffer__t.html#a7666bbf00997cc13da27d55cb05d27c4">buf_len</a> &gt; j) ? s-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a88620be29521fa573c4dea697a7a4258">rx</a>[k].<a class="code" href="../../de/dd5/structudptl__fec__rx__buffer__t.html#adf280a92c2ded8d54991b3ae3cb97ccf">buf</a>[j] : 0;</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;               }</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;               s-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a88620be29521fa573c4dea697a7a4258">rx</a>[which].<a class="code" href="../../de/dd5/structudptl__fec__rx__buffer__t.html#a7666bbf00997cc13da27d55cb05d27c4">buf_len</a> = s-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a88620be29521fa573c4dea697a7a4258">rx</a>[l].<a class="code" href="../../de/dd5/structudptl__fec__rx__buffer__t.html#aaa33cae998bd7b4544845e3c9ea4014f">fec_len</a>[m];</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;               repaired[which] = <a class="code" href="../../d2/dce/udptl_8c.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;            }</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;         }</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;      }</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;      <span class="comment">/* Now play any new packets forwards in time */</span></div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;      <span class="keywordflow">for</span> (l = (x + 1) &amp; <a class="code" href="../../d2/dce/udptl_8c.html#a5fc08f5f3152e66b9eb799375c8eafe5">UDPTL_BUF_MASK</a>, j = seq_no - <a class="code" href="../../d2/dce/udptl_8c.html#a5fc08f5f3152e66b9eb799375c8eafe5">UDPTL_BUF_MASK</a>; l != x; l = (l + 1) &amp; UDPTL_BUF_MASK, j++) {</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;         <span class="keywordflow">if</span> (repaired[l]) {</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;            <span class="comment">//fprintf(stderr, &quot;Fixed packet %d, len %d\n&quot;, j, l);</span></div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;            s-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a90f2de0c2fe1997e3c842ff0a32e4edc">f</a>[ifp_no].<a class="code" href="../../d0/d99/structast__frame.html#a6937b93c56cb473b547eda454dca7b4c">frametype</a> = <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#ae2e1a9c4e048da387b761f619312d6e0ad99b86353343f422bda01163898b2eea">AST_FRAME_MODEM</a>;</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;            s-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a90f2de0c2fe1997e3c842ff0a32e4edc">f</a>[ifp_no].<a class="code" href="../../d0/d99/structast__frame.html#a27237c48fdcd22556401f20c693811db">subclass</a>.<a class="code" href="../../d1/d9f/structast__frame__subclass.html#adece183191b0e700e039e59101e06105">integer</a> = <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#a3a510e4e2673c6870ed5fe0f1eb53732">AST_MODEM_T38</a>;</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;            s-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a90f2de0c2fe1997e3c842ff0a32e4edc">f</a>[ifp_no].<a class="code" href="../../d0/d99/structast__frame.html#aed16590d48f41d89f31e0cf347f5cd99">mallocd</a> = 0;</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;            s-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a90f2de0c2fe1997e3c842ff0a32e4edc">f</a>[ifp_no].<a class="code" href="../../d0/d99/structast__frame.html#ab793262012344621455faf9266acbac2">seqno</a> = j;</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;            s-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a90f2de0c2fe1997e3c842ff0a32e4edc">f</a>[ifp_no].<a class="code" href="../../d0/d99/structast__frame.html#ad67e07841d1233e596e6f822a3c81f6b">datalen</a> = s-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a88620be29521fa573c4dea697a7a4258">rx</a>[l].<a class="code" href="../../de/dd5/structudptl__fec__rx__buffer__t.html#a7666bbf00997cc13da27d55cb05d27c4">buf_len</a>;</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;            s-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a90f2de0c2fe1997e3c842ff0a32e4edc">f</a>[ifp_no].<a class="code" href="../../d0/d99/structast__frame.html#a4027905f872af30d910929b07e261ca5">data</a>.<a class="code" href="../../d0/d99/structast__frame.html#add9af9569af79ec26dd741fb226b38ba">ptr</a> = s-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a88620be29521fa573c4dea697a7a4258">rx</a>[l].<a class="code" href="../../de/dd5/structudptl__fec__rx__buffer__t.html#adf280a92c2ded8d54991b3ae3cb97ccf">buf</a>;</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;            s-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a90f2de0c2fe1997e3c842ff0a32e4edc">f</a>[ifp_no].<a class="code" href="../../d0/d99/structast__frame.html#aed7ea92f45bd273dde380a45ddced592">offset</a> = 0;</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;            s-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a90f2de0c2fe1997e3c842ff0a32e4edc">f</a>[ifp_no].<a class="code" href="../../d0/d99/structast__frame.html#af51e37c9331049b1e3d250a7c8bc3c26">src</a> = <span class="stringliteral">&quot;UDPTL&quot;</span>;</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;            <span class="keywordflow">if</span> (ifp_no &gt; 0)</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;               <a class="code" href="../../df/d90/linkedlists_8h.html#ae234825bcb65b88c0554b995ff1b8ba6">AST_LIST_NEXT</a>(&amp;s-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a90f2de0c2fe1997e3c842ff0a32e4edc">f</a>[ifp_no - 1], <a class="code" href="../../d9/d42/structframe__list.html">frame_list</a>) = &amp;s-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a90f2de0c2fe1997e3c842ff0a32e4edc">f</a>[ifp_no];</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;            <a class="code" href="../../df/d90/linkedlists_8h.html#ae234825bcb65b88c0554b995ff1b8ba6">AST_LIST_NEXT</a>(&amp;s-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a90f2de0c2fe1997e3c842ff0a32e4edc">f</a>[ifp_no], <a class="code" href="../../d9/d42/structframe__list.html">frame_list</a>) = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;            ifp_no++;</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;         }</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;      }</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;   }</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;   <span class="comment">/* If packets are received out of sequence, we may have already processed this packet from the error</span></div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;<span class="comment">      recovery information in a packet already received. */</span></div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;   <span class="keywordflow">if</span> (seq_no &gt;= s-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a62313163b2e2302c6566074e8ace159e">rx_seq_no</a>) {</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;      <span class="comment">/* Decode the primary IFP packet */</span></div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;      s-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a90f2de0c2fe1997e3c842ff0a32e4edc">f</a>[ifp_no].<a class="code" href="../../d0/d99/structast__frame.html#a6937b93c56cb473b547eda454dca7b4c">frametype</a> = <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#ae2e1a9c4e048da387b761f619312d6e0ad99b86353343f422bda01163898b2eea">AST_FRAME_MODEM</a>;</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;      s-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a90f2de0c2fe1997e3c842ff0a32e4edc">f</a>[ifp_no].<a class="code" href="../../d0/d99/structast__frame.html#a27237c48fdcd22556401f20c693811db">subclass</a>.<a class="code" href="../../d1/d9f/structast__frame__subclass.html#adece183191b0e700e039e59101e06105">integer</a> = <a class="code" href="../../d6/d66/include_2asterisk_2frame_8h.html#a3a510e4e2673c6870ed5fe0f1eb53732">AST_MODEM_T38</a>;</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;      s-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a90f2de0c2fe1997e3c842ff0a32e4edc">f</a>[ifp_no].<a class="code" href="../../d0/d99/structast__frame.html#aed16590d48f41d89f31e0cf347f5cd99">mallocd</a> = 0;</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;      s-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a90f2de0c2fe1997e3c842ff0a32e4edc">f</a>[ifp_no].<a class="code" href="../../d0/d99/structast__frame.html#ab793262012344621455faf9266acbac2">seqno</a> = seq_no;</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;      s-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a90f2de0c2fe1997e3c842ff0a32e4edc">f</a>[ifp_no].<a class="code" href="../../d0/d99/structast__frame.html#ad67e07841d1233e596e6f822a3c81f6b">datalen</a> = ifp_len;</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;      s-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a90f2de0c2fe1997e3c842ff0a32e4edc">f</a>[ifp_no].<a class="code" href="../../d0/d99/structast__frame.html#a4027905f872af30d910929b07e261ca5">data</a>.<a class="code" href="../../d0/d99/structast__frame.html#add9af9569af79ec26dd741fb226b38ba">ptr</a> = (uint8_t *) ifp;</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;      s-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a90f2de0c2fe1997e3c842ff0a32e4edc">f</a>[ifp_no].<a class="code" href="../../d0/d99/structast__frame.html#aed7ea92f45bd273dde380a45ddced592">offset</a> = 0;</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;      s-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a90f2de0c2fe1997e3c842ff0a32e4edc">f</a>[ifp_no].<a class="code" href="../../d0/d99/structast__frame.html#af51e37c9331049b1e3d250a7c8bc3c26">src</a> = <span class="stringliteral">&quot;UDPTL&quot;</span>;</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;      <span class="keywordflow">if</span> (ifp_no &gt; 0)</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;         <a class="code" href="../../df/d90/linkedlists_8h.html#ae234825bcb65b88c0554b995ff1b8ba6">AST_LIST_NEXT</a>(&amp;s-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a90f2de0c2fe1997e3c842ff0a32e4edc">f</a>[ifp_no - 1], <a class="code" href="../../d9/d42/structframe__list.html">frame_list</a>) = &amp;s-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a90f2de0c2fe1997e3c842ff0a32e4edc">f</a>[ifp_no];</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;      <a class="code" href="../../df/d90/linkedlists_8h.html#ae234825bcb65b88c0554b995ff1b8ba6">AST_LIST_NEXT</a>(&amp;s-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a90f2de0c2fe1997e3c842ff0a32e4edc">f</a>[ifp_no], <a class="code" href="../../d9/d42/structframe__list.html">frame_list</a>) = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;      ifp_no++;</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;   }</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;   s-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a62313163b2e2302c6566074e8ace159e">rx_seq_no</a> = seq_no + 1;</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;   <span class="keywordflow">return</span> ifp_no;</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;}</div><div class="ttc" id="structudptl__fec__rx__buffer__t_html_a47d90b4ddd6ebbeff08cadc1cf07f6f4"><div class="ttname"><a href="../../de/dd5/structudptl__fec__rx__buffer__t.html#a47d90b4ddd6ebbeff08cadc1cf07f6f4">udptl_fec_rx_buffer_t::fec_entries</a></div><div class="ttdeci">unsigned int fec_entries</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00152">udptl.c:152</a></div></div>
<div class="ttc" id="isdn__lib_8c_html_ab9129b977a587b50ea801daac75e178f"><div class="ttname"><a href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a></div><div class="ttdeci">#define ARRAY_LEN(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dfe/isdn__lib_8c_source.html#l00042">isdn_lib.c:42</a></div></div>
<div class="ttc" id="structast__frame_html_aed7ea92f45bd273dde380a45ddced592"><div class="ttname"><a href="../../d0/d99/structast__frame.html#aed7ea92f45bd273dde380a45ddced592">ast_frame::offset</a></div><div class="ttdeci">int offset</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00179">include/asterisk/frame.h:179</a></div></div>
<div class="ttc" id="structast__frame_html_ab793262012344621455faf9266acbac2"><div class="ttname"><a href="../../d0/d99/structast__frame.html#ab793262012344621455faf9266acbac2">ast_frame::seqno</a></div><div class="ttdeci">int seqno</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00195">include/asterisk/frame.h:195</a></div></div>
<div class="ttc" id="structast__frame_html_add9af9569af79ec26dd741fb226b38ba"><div class="ttname"><a href="../../d0/d99/structast__frame.html#add9af9569af79ec26dd741fb226b38ba">ast_frame::ptr</a></div><div class="ttdeci">void * ptr</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00183">include/asterisk/frame.h:183</a></div></div>
<div class="ttc" id="eagi__proxy_8c_html_ac95651d79c608a3148973b5b1fc9e525"><div class="ttname"><a href="../../dd/d7c/eagi__proxy_8c.html#ac95651d79c608a3148973b5b1fc9e525">buf</a></div><div class="ttdeci">char buf[BUFSIZE]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d7c/eagi__proxy_8c_source.html#l00066">eagi_proxy.c:66</a></div></div>
<div class="ttc" id="linkedlists_8h_html_ae234825bcb65b88c0554b995ff1b8ba6"><div class="ttname"><a href="../../df/d90/linkedlists_8h.html#ae234825bcb65b88c0554b995ff1b8ba6">AST_LIST_NEXT</a></div><div class="ttdeci">#define AST_LIST_NEXT(elm, field)</div><div class="ttdoc">Returns the next entry in the list after the given entry. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d90/linkedlists_8h_source.html#l00438">linkedlists.h:438</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structast__frame_html_a27237c48fdcd22556401f20c693811db"><div class="ttname"><a href="../../d0/d99/structast__frame.html#a27237c48fdcd22556401f20c693811db">ast_frame::subclass</a></div><div class="ttdeci">struct ast_frame_subclass subclass</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00169">include/asterisk/frame.h:169</a></div></div>
<div class="ttc" id="udptl_8c_html_ae31d7a712ec76b9ee8515efecca0cc07"><div class="ttname"><a href="../../d2/dce/udptl_8c.html#ae31d7a712ec76b9ee8515efecca0cc07">decode_length</a></div><div class="ttdeci">static int decode_length(uint8_t *buf, unsigned int limit, unsigned int *len, unsigned int *pvalue)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00274">udptl.c:274</a></div></div>
<div class="ttc" id="structudptl__fec__rx__buffer__t_html_aaa33cae998bd7b4544845e3c9ea4014f"><div class="ttname"><a href="../../de/dd5/structudptl__fec__rx__buffer__t.html#aaa33cae998bd7b4544845e3c9ea4014f">udptl_fec_rx_buffer_t::fec_len</a></div><div class="ttdeci">unsigned int fec_len[MAX_FEC_ENTRIES]</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00149">udptl.c:149</a></div></div>
<div class="ttc" id="structast__frame__subclass_html_adece183191b0e700e039e59101e06105"><div class="ttname"><a href="../../d1/d9f/structast__frame__subclass.html#adece183191b0e700e039e59101e06105">ast_frame_subclass::integer</a></div><div class="ttdeci">int integer</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00152">include/asterisk/frame.h:152</a></div></div>
<div class="ttc" id="logger_8h_html_a3f248112c8d6ce7e3959aa723dade648"><div class="ttname"><a href="../../d1/d8c/logger_8h.html#a3f248112c8d6ce7e3959aa723dade648">ast_debug</a></div><div class="ttdeci">#define ast_debug(level,...)</div><div class="ttdoc">Log a DEBUG message. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00452">logger.h:452</a></div></div>
<div class="ttc" id="structast__frame_html_af51e37c9331049b1e3d250a7c8bc3c26"><div class="ttname"><a href="../../d0/d99/structast__frame.html#af51e37c9331049b1e3d250a7c8bc3c26">ast_frame::src</a></div><div class="ttdeci">const char * src</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00181">include/asterisk/frame.h:181</a></div></div>
<div class="ttc" id="structast__udptl_html_a88620be29521fa573c4dea697a7a4258"><div class="ttname"><a href="../../d9/d81/structast__udptl.html#a88620be29521fa573c4dea697a7a4258">ast_udptl::rx</a></div><div class="ttdeci">udptl_fec_rx_buffer_t rx[UDPTL_BUF_MASK+1]</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00217">udptl.c:217</a></div></div>
<div class="ttc" id="udptl_8c_html_a7cebef58b6e2f580a8e74b7c133cd34b"><div class="ttname"><a href="../../d2/dce/udptl_8c.html#a7cebef58b6e2f580a8e74b7c133cd34b">LOCAL_FAX_MAX_DATAGRAM</a></div><div class="ttdeci">#define LOCAL_FAX_MAX_DATAGRAM</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00133">udptl.c:133</a></div></div>
<div class="ttc" id="structast__frame_html_ad67e07841d1233e596e6f822a3c81f6b"><div class="ttname"><a href="../../d0/d99/structast__frame.html#ad67e07841d1233e596e6f822a3c81f6b">ast_frame::datalen</a></div><div class="ttdeci">int datalen</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00171">include/asterisk/frame.h:171</a></div></div>
<div class="ttc" id="udptl_8c_html_aa8cecfc5c5c054d2875c03e77b7be15d"><div class="ttname"><a href="../../d2/dce/udptl_8c.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a></div><div class="ttdeci">#define TRUE</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00122">udptl.c:122</a></div></div>
<div class="ttc" id="udptl_8c_html_acad8de64155e849783a598df19ce849c"><div class="ttname"><a href="../../d2/dce/udptl_8c.html#acad8de64155e849783a598df19ce849c">decode_open_type</a></div><div class="ttdeci">static int decode_open_type(uint8_t *buf, unsigned int limit, unsigned int *len, const uint8_t **p_object, unsigned int *p_num_octets)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00300">udptl.c:300</a></div></div>
<div class="ttc" id="structudptl__fec__rx__buffer__t_html_adf280a92c2ded8d54991b3ae3cb97ccf"><div class="ttname"><a href="../../de/dd5/structudptl__fec__rx__buffer__t.html#adf280a92c2ded8d54991b3ae3cb97ccf">udptl_fec_rx_buffer_t::buf</a></div><div class="ttdeci">uint8_t buf[LOCAL_FAX_MAX_DATAGRAM]</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00148">udptl.c:148</a></div></div>
<div class="ttc" id="structframe__list_html"><div class="ttname"><a href="../../d9/d42/structframe__list.html">frame_list</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d21/res__rtp__asterisk_8c_source.html#l00590">res_rtp_asterisk.c:590</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_ae2e1a9c4e048da387b761f619312d6e0ad99b86353343f422bda01163898b2eea"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#ae2e1a9c4e048da387b761f619312d6e0ad99b86353343f422bda01163898b2eea">AST_FRAME_MODEM</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00123">include/asterisk/frame.h:123</a></div></div>
<div class="ttc" id="func__strings_8c_html_af24e73aaf92f3000fda15d285e66df24"><div class="ttname"><a href="../../d9/d1e/func__strings_8c.html#af24e73aaf92f3000fda15d285e66df24">len</a></div><div class="ttdeci">static int len(struct ast_channel *chan, const char *cmd, char *data, char *buf, size_t buflen)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d1e/func__strings_8c_source.html#l01344">func_strings.c:1344</a></div></div>
<div class="ttc" id="structast__udptl_html_a62313163b2e2302c6566074e8ace159e"><div class="ttname"><a href="../../d9/d81/structast__udptl.html#a62313163b2e2302c6566074e8ace159e">ast_udptl::rx_seq_no</a></div><div class="ttdeci">unsigned int rx_seq_no</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00214">udptl.c:214</a></div></div>
<div class="ttc" id="structudptl__fec__rx__buffer__t_html_a41cd56bf2c54d88565344c24841bc517"><div class="ttname"><a href="../../de/dd5/structudptl__fec__rx__buffer__t.html#a41cd56bf2c54d88565344c24841bc517">udptl_fec_rx_buffer_t::fec</a></div><div class="ttdeci">uint8_t fec[MAX_FEC_ENTRIES][LOCAL_FAX_MAX_DATAGRAM]</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00150">udptl.c:150</a></div></div>
<div class="ttc" id="structast__udptl_html_a90f2de0c2fe1997e3c842ff0a32e4edc"><div class="ttname"><a href="../../d9/d81/structast__udptl.html#a90f2de0c2fe1997e3c842ff0a32e4edc">ast_udptl::f</a></div><div class="ttdeci">struct ast_frame f[16]</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00159">udptl.c:159</a></div></div>
<div class="ttc" id="structast__frame_html_aed16590d48f41d89f31e0cf347f5cd99"><div class="ttname"><a href="../../d0/d99/structast__frame.html#aed16590d48f41d89f31e0cf347f5cd99">ast_frame::mallocd</a></div><div class="ttdeci">int mallocd</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00175">include/asterisk/frame.h:175</a></div></div>
<div class="ttc" id="include_2asterisk_2frame_8h_html_a3a510e4e2673c6870ed5fe0f1eb53732"><div class="ttname"><a href="../../d6/d66/include_2asterisk_2frame_8h.html#a3a510e4e2673c6870ed5fe0f1eb53732">AST_MODEM_T38</a></div><div class="ttdeci">#define AST_MODEM_T38</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00241">include/asterisk/frame.h:241</a></div></div>
<div class="ttc" id="structudptl__fec__rx__buffer__t_html_ae946559f80e742802d3c41bb9d54c201"><div class="ttname"><a href="../../de/dd5/structudptl__fec__rx__buffer__t.html#ae946559f80e742802d3c41bb9d54c201">udptl_fec_rx_buffer_t::fec_span</a></div><div class="ttdeci">unsigned int fec_span</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00151">udptl.c:151</a></div></div>
<div class="ttc" id="structudptl__fec__rx__buffer__t_html_a7666bbf00997cc13da27d55cb05d27c4"><div class="ttname"><a href="../../de/dd5/structudptl__fec__rx__buffer__t.html#a7666bbf00997cc13da27d55cb05d27c4">udptl_fec_rx_buffer_t::buf_len</a></div><div class="ttdeci">int buf_len</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00147">udptl.c:147</a></div></div>
<div class="ttc" id="structast__frame_html_a4027905f872af30d910929b07e261ca5"><div class="ttname"><a href="../../d0/d99/structast__frame.html#a4027905f872af30d910929b07e261ca5">ast_frame::data</a></div><div class="ttdeci">union ast_frame::@263 data</div></div>
<div class="ttc" id="structast__frame_html_a6937b93c56cb473b547eda454dca7b4c"><div class="ttname"><a href="../../d0/d99/structast__frame.html#a6937b93c56cb473b547eda454dca7b4c">ast_frame::frametype</a></div><div class="ttdeci">enum ast_frame_type frametype</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00167">include/asterisk/frame.h:167</a></div></div>
<div class="ttc" id="udptl_8c_html_a0113380b09f0d4b8cc6a98d70e4ef822"><div class="ttname"><a href="../../d2/dce/udptl_8c.html#a0113380b09f0d4b8cc6a98d70e4ef822">MAX_FEC_ENTRIES</a></div><div class="ttdeci">#define MAX_FEC_ENTRIES</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00136">udptl.c:136</a></div></div>
<div class="ttc" id="udptl_8c_html_a5fc08f5f3152e66b9eb799375c8eafe5"><div class="ttname"><a href="../../d2/dce/udptl_8c.html#a5fc08f5f3152e66b9eb799375c8eafe5">UDPTL_BUF_MASK</a></div><div class="ttdeci">#define UDPTL_BUF_MASK</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00139">udptl.c:139</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a16a9faf748836fea2b38f5a138d50cd8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a16a9faf748836fea2b38f5a138d50cd8">&#9670;&nbsp;</a></span>udptl_snapshot_alloc()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void * udptl_snapshot_alloc </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/dce/udptl_8c_source.html#l01302">1302</a> of file <a class="el" href="../../d2/dce/udptl_8c_source.html">udptl.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00411">ao2_alloc</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d2/dce/udptl_8c_source.html#l00232">udptl_config::general</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../d2/dce/udptl_8c_source.html#l01296">udptl_config_destructor()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/dce/udptl_8c_source.html#l01327">__ast_udptl_reload()</a>.</p>
<div class="fragment"><div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;{</div><div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/dfc/structudptl__config.html">udptl_config</a> *cfg;</div><div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;</div><div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;   <span class="keywordflow">if</span> (!(cfg = <a class="code" href="../../d5/da5/astobj2_8h.html#ae0422b60d8e25b6962b2d61ae4ddf724">ao2_alloc</a>(<span class="keyword">sizeof</span>(*cfg), <a class="code" href="../../d2/dce/udptl_8c.html#a5e8d65db7b122c711f174f6fe4fcafef">udptl_config_destructor</a>))) {</div><div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;   }</div><div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;   <span class="keywordflow">if</span> (!(cfg-&gt;<a class="code" href="../../d9/dfc/structudptl__config.html#a6af2c261a4a37c6c242b003bf38eaaf9">general</a> = <a class="code" href="../../d5/da5/astobj2_8h.html#ae0422b60d8e25b6962b2d61ae4ddf724">ao2_alloc</a>(<span class="keyword">sizeof</span>(*cfg-&gt;<a class="code" href="../../d9/dfc/structudptl__config.html#a6af2c261a4a37c6c242b003bf38eaaf9">general</a>), <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>))) {</div><div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(cfg, -1);</div><div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;   }</div><div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;</div><div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;   <span class="keywordflow">return</span> cfg;</div><div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;}</div><div class="ttc" id="udptl_8c_html_a5e8d65db7b122c711f174f6fe4fcafef"><div class="ttname"><a href="../../d2/dce/udptl_8c.html#a5e8d65db7b122c711f174f6fe4fcafef">udptl_config_destructor</a></div><div class="ttdeci">static void udptl_config_destructor(void *obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l01296">udptl.c:1296</a></div></div>
<div class="ttc" id="structudptl__config_html"><div class="ttname"><a href="../../d9/dfc/structudptl__config.html">udptl_config</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00231">udptl.c:231</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="astobj2_8h_html_ae0422b60d8e25b6962b2d61ae4ddf724"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ae0422b60d8e25b6962b2d61ae4ddf724">ao2_alloc</a></div><div class="ttdeci">#define ao2_alloc(data_size, destructor_fn)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00411">astobj2.h:411</a></div></div>
<div class="ttc" id="structudptl__config_html_a6af2c261a4a37c6c242b003bf38eaaf9"><div class="ttname"><a href="../../d9/dfc/structudptl__config.html#a6af2c261a4a37c6c242b003bf38eaaf9">udptl_config::general</a></div><div class="ttdeci">struct udptl_global_options * general</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00232">udptl.c:232</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aca6905df84f7b7a4905a3fadb50139c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aca6905df84f7b7a4905a3fadb50139c7">&#9670;&nbsp;</a></span>udptlread()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int udptlread </td>
          <td>(</td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short&#160;</td>
          <td class="paramname"><em>events</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>cbdata</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/dce/udptl_8c_source.html#l00750">750</a> of file <a class="el" href="../../d2/dce/udptl_8c_source.html">udptl.c</a>.</p>

<p class="reference">References <a class="el" href="../../d2/dce/udptl_8c_source.html#l00762">ast_udptl_read()</a>, <a class="el" href="../../d2/dce/udptl_8c_source.html#l00171">ast_udptl::callback</a>, and <a class="el" href="../../d2/dce/udptl_8c_source.html#l00169">ast_udptl::data</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/dce/udptl_8c_source.html#l01028">ast_udptl_new_with_bindaddr()</a>.</p>
<div class="fragment"><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;{</div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d9/d81/structast__udptl.html">ast_udptl</a> *udptl = cbdata;</div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d0/d99/structast__frame.html">ast_frame</a> *f;</div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;</div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;   <span class="keywordflow">if</span> ((f = <a class="code" href="../../d2/dce/udptl_8c.html#ae0808bce80557e3107c9030bd8a832fe">ast_udptl_read</a>(udptl))) {</div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;      <span class="keywordflow">if</span> (udptl-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a221993e4dd934844eb4cce202b381952">callback</a>)</div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;         udptl-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a221993e4dd934844eb4cce202b381952">callback</a>(udptl, f, udptl-&gt;<a class="code" href="../../d9/d81/structast__udptl.html#a735984d41155bc1032e09bece8f8d66d">data</a>);</div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;   }</div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;   <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;}</div><div class="ttc" id="structast__udptl_html_a221993e4dd934844eb4cce202b381952"><div class="ttname"><a href="../../d9/d81/structast__udptl.html#a221993e4dd934844eb4cce202b381952">ast_udptl::callback</a></div><div class="ttdeci">ast_udptl_callback callback</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00171">udptl.c:171</a></div></div>
<div class="ttc" id="structast__udptl_html"><div class="ttname"><a href="../../d9/d81/structast__udptl.html">ast_udptl</a></div><div class="ttdoc">Structure for an UDPTL session. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00156">udptl.c:156</a></div></div>
<div class="ttc" id="udptl_8c_html_ae0808bce80557e3107c9030bd8a832fe"><div class="ttname"><a href="../../d2/dce/udptl_8c.html#ae0808bce80557e3107c9030bd8a832fe">ast_udptl_read</a></div><div class="ttdeci">struct ast_frame * ast_udptl_read(struct ast_udptl *udptl)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00762">udptl.c:762</a></div></div>
<div class="ttc" id="structast__frame_html"><div class="ttname"><a href="../../d0/d99/structast__frame.html">ast_frame</a></div><div class="ttdoc">Data structure associated with a single frame of data. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d66/include_2asterisk_2frame_8h_source.html#l00165">include/asterisk/frame.h:165</a></div></div>
<div class="ttc" id="structast__udptl_html_a735984d41155bc1032e09bece8f8d66d"><div class="ttname"><a href="../../d9/d81/structast__udptl.html#a735984d41155bc1032e09bece8f8d66d">ast_udptl::data</a></div><div class="ttdeci">void * data</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00169">udptl.c:169</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad09fa931f468002152a3cc2d5ce25eae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad09fa931f468002152a3cc2d5ce25eae">&#9670;&nbsp;</a></span>unload_module()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int unload_module </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/dce/udptl_8c_source.html#l01387">1387</a> of file <a class="el" href="../../d2/dce/udptl_8c_source.html">udptl.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/dc8/config__options_8c_source.html#l00910">aco_info_destroy()</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00863">ao2_t_global_obj_release</a>, <a class="el" href="../../de/dfe/isdn__lib_8c_source.html#l00042">ARRAY_LEN</a>, <a class="el" href="../../da/d4d/clicompat_8c_source.html#l00030">ast_cli_unregister_multiple()</a>, and <a class="el" href="../../d3/d4e/chan__console_8c.html#aa36e3e2c486b920b166c2d17c5242221">globals</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/dce/udptl_8c_source.html#l01396">load_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;{</div><div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;   <a class="code" href="../../dc/db0/cli_8h.html#a56b6b59ee2eaa994597a5b0f4e9f9d09">ast_cli_unregister_multiple</a>(<a class="code" href="../../d2/dce/udptl_8c.html#a307853ba74adbc85d4dd57bee618e674">cli_udptl</a>, <a class="code" href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a>(<a class="code" href="../../d2/dce/udptl_8c.html#a307853ba74adbc85d4dd57bee618e674">cli_udptl</a>));</div><div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#ae70b4c4ad5b431314ecf40d29d224eee">ao2_t_global_obj_release</a>(<a class="code" href="../../d3/d4e/chan__console_8c.html#aa36e3e2c486b920b166c2d17c5242221">globals</a>, <span class="stringliteral">&quot;Unref udptl global container in shutdown&quot;</span>);</div><div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;   <a class="code" href="../../db/dfe/config__options_8h.html#a21b11339ca4d0b1167c956a9f816bd19">aco_info_destroy</a>(&amp;cfg_info);</div><div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;</div><div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;}</div><div class="ttc" id="isdn__lib_8c_html_ab9129b977a587b50ea801daac75e178f"><div class="ttname"><a href="../../de/dfe/isdn__lib_8c.html#ab9129b977a587b50ea801daac75e178f">ARRAY_LEN</a></div><div class="ttdeci">#define ARRAY_LEN(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dfe/isdn__lib_8c_source.html#l00042">isdn_lib.c:42</a></div></div>
<div class="ttc" id="cli_8h_html_a56b6b59ee2eaa994597a5b0f4e9f9d09"><div class="ttname"><a href="../../dc/db0/cli_8h.html#a56b6b59ee2eaa994597a5b0f4e9f9d09">ast_cli_unregister_multiple</a></div><div class="ttdeci">int ast_cli_unregister_multiple(struct ast_cli_entry *e, int len)</div><div class="ttdoc">Unregister multiple commands. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4d/clicompat_8c_source.html#l00030">clicompat.c:30</a></div></div>
<div class="ttc" id="astobj2_8h_html_ae70b4c4ad5b431314ecf40d29d224eee"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#ae70b4c4ad5b431314ecf40d29d224eee">ao2_t_global_obj_release</a></div><div class="ttdeci">#define ao2_t_global_obj_release(holder, tag)</div><div class="ttdoc">Release the ao2 object held in the global holder. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00863">astobj2.h:863</a></div></div>
<div class="ttc" id="chan__console_8c_html_aa36e3e2c486b920b166c2d17c5242221"><div class="ttname"><a href="../../d3/d4e/chan__console_8c.html#aa36e3e2c486b920b166c2d17c5242221">globals</a></div><div class="ttdeci">static struct console_pvt globals</div></div>
<div class="ttc" id="config__options_8h_html_a21b11339ca4d0b1167c956a9f816bd19"><div class="ttname"><a href="../../db/dfe/config__options_8h.html#a21b11339ca4d0b1167c956a9f816bd19">aco_info_destroy</a></div><div class="ttdeci">void aco_info_destroy(struct aco_info *info)</div><div class="ttdoc">Destroy an initialized aco_info struct. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dc8/config__options_8c_source.html#l00910">config_options.c:910</a></div></div>
<div class="ttc" id="udptl_8c_html_a307853ba74adbc85d4dd57bee618e674"><div class="ttname"><a href="../../d2/dce/udptl_8c.html#a307853ba74adbc85d4dd57bee618e674">cli_udptl</a></div><div class="ttdeci">static struct ast_cli_entry cli_udptl[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l01291">udptl.c:1291</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ab22f32016155f7f403e7178767163d7d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab22f32016155f7f403e7178767163d7d">&#9670;&nbsp;</a></span>__mod_info</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a> __mod_info = { .<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a> = <a class="el" href="../../da/ddd/named__acl_8c.html#aec23fc5034c3bb08140fc021f4955877">AST_MODULE</a>, .flags = <a class="el" href="../../d5/d16/module_8h.html#a155a0df9c59e04e305d4a2fa3e35f843a835b27a90d895a488e4e14cc3d2dee8c">AST_MODFLAG_GLOBAL_SYMBOLS</a> | <a class="el" href="../../d5/d16/module_8h.html#a155a0df9c59e04e305d4a2fa3e35f843a12c3f60dd7655dfa8d4430cbf04b1223">AST_MODFLAG_LOAD_ORDER</a> , .description = &quot;UDPTL&quot; , .key = &quot;This paragraph is copyright (<a class="el" href="../../d7/d6f/test__linkedlists_8c.html#acd9db00336027462cfb25b97b5356883">c</a>) 2006 by Digium, Inc. \In <a class="el" href="../../d5/d14/voicin_8c.html#aed7ca058008dc3e5ee131e575abed285">order</a> for your module to load, it must return this \key via <a class="el" href="../../d7/d6f/test__linkedlists_8c.html#a13dd15487fee89a002d17ef3aff62d02">a</a> function called \&quot;key\&quot;. Any code which \includes this paragraph must <a class="el" href="../../dd/d7c/eagi__proxy_8c.html#a39730e90126aad69cfc9ca4d6fcdb3a6">be</a> licensed under the GNU \General Public License <a class="el" href="../../da/d7c/utils_2frame_8h.html#a56abfaab87c46691c1ef3ad0df23e864">version</a> 2 or later (at your \option). In addition to Digium's general reservations \of rights, Digium expressly reserves the right to \allow other parties to license this paragraph under \different terms. Any use of Digium, Inc. trademarks or \logos (including \&quot;Asterisk\&quot; or \&quot;Digium\&quot;) without \express written <a class="el" href="../../d4/d4c/structpermission.html">permission</a> of Digium, Inc. is prohibited.\n&quot; , .buildopt_sum = &quot;30ef0c93b36035ec78c9cfd712d36d9b&quot; , .support_level = AST_MODULE_SUPPORT_CORE, .load = load_module, .unload = unload_module, .reload = reload_module, .load_pri = AST_MODPRI_CORE, .requires = &quot;extconfig&quot;, }</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/dce/udptl_8c_source.html#l01441">1441</a> of file <a class="el" href="../../d2/dce/udptl_8c_source.html">udptl.c</a>.</p>

</div>
</div>
<a id="ad60e83b9aa660040fed4d5377966cc21"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad60e83b9aa660040fed4d5377966cc21">&#9670;&nbsp;</a></span>ast_module_info</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const struct <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a>* <a class="el" href="../../dd/d5f/structast__module__info.html">ast_module_info</a> = &amp;<a class="el" href="../../d6/d7a/test__xml__escape_8c.html#ab22f32016155f7f403e7178767163d7d">__mod_info</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/dce/udptl_8c_source.html#l01441">1441</a> of file <a class="el" href="../../d2/dce/udptl_8c_source.html">udptl.c</a>.</p>

</div>
</div>
<a id="a307853ba74adbc85d4dd57bee618e674"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a307853ba74adbc85d4dd57bee618e674">&#9670;&nbsp;</a></span>cli_udptl</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d8/d07/structast__cli__entry.html">ast_cli_entry</a> cli_udptl[]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div><div class="line">   { .handler =  <a class="code" href="../../d2/dce/udptl_8c.html#a9b115851b62ac2f257cabce0cee1f67e">handle_cli_udptl_set_debug</a> , .summary =  <span class="stringliteral">&quot;Enable/Disable UDPTL debugging&quot;</span> ,},</div><div class="line">   { .handler =  <a class="code" href="../../d2/dce/udptl_8c.html#a8e8cf4d49a6408c5f90f2d1e3295da99">handle_cli_show_config</a> , .summary =  <span class="stringliteral">&quot;Show UDPTL config options&quot;</span> ,},</div><div class="line">}</div><div class="ttc" id="udptl_8c_html_a9b115851b62ac2f257cabce0cee1f67e"><div class="ttname"><a href="../../d2/dce/udptl_8c.html#a9b115851b62ac2f257cabce0cee1f67e">handle_cli_udptl_set_debug</a></div><div class="ttdeci">static char * handle_cli_udptl_set_debug(struct ast_cli_entry *e, int cmd, struct ast_cli_args *a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l01215">udptl.c:1215</a></div></div>
<div class="ttc" id="udptl_8c_html_a8e8cf4d49a6408c5f90f2d1e3295da99"><div class="ttname"><a href="../../d2/dce/udptl_8c.html#a8e8cf4d49a6408c5f90f2d1e3295da99">handle_cli_show_config</a></div><div class="ttdeci">static char * handle_cli_show_config(struct ast_cli_entry *e, int cmd, struct ast_cli_args *a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l01260">udptl.c:1260</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="../../d2/dce/udptl_8c_source.html#l01291">1291</a> of file <a class="el" href="../../d2/dce/udptl_8c_source.html">udptl.c</a>.</p>

</div>
</div>
<a id="a5be5fa967836c0f0c98763deaff227b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5be5fa967836c0f0c98763deaff227b7">&#9670;&nbsp;</a></span>general_option</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../de/d71/structaco__type.html">aco_type</a> general_option</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/dce/udptl_8c_source.html#l00238">238</a> of file <a class="el" href="../../d2/dce/udptl_8c_source.html">udptl.c</a>.</p>

</div>
</div>
<a id="a8e03f6233c516c1beb21b5b9285ed69f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e03f6233c516c1beb21b5b9285ed69f">&#9670;&nbsp;</a></span>general_options</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../de/d71/structaco__type.html">aco_type</a>* general_options[] = <a class="el" href="../../db/dfe/config__options_8h.html#af773eedd7f94d718752798605c687c4b">ACO_TYPES</a>(&amp;<a class="el" href="../../dc/dec/res_2ari_2config_8c.html#a5be5fa967836c0f0c98763deaff227b7">general_option</a>)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/dce/udptl_8c_source.html#l00246">246</a> of file <a class="el" href="../../d2/dce/udptl_8c_source.html">udptl.c</a>.</p>

</div>
</div>
<a id="a301a13a22973f02d4d148ef14df2e0f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a301a13a22973f02d4d148ef14df2e0f3">&#9670;&nbsp;</a></span>udptl_conf</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d9/d9c/structaco__file.html">aco_file</a> udptl_conf</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div><div class="line">   .filename = <span class="stringliteral">&quot;udptl.conf&quot;</span>,</div><div class="line">   .types = <a class="code" href="../../db/dfe/config__options_8h.html#af773eedd7f94d718752798605c687c4b">ACO_TYPES</a>(&amp;<a class="code" href="../../d2/dce/udptl_8c.html#a5be5fa967836c0f0c98763deaff227b7">general_option</a>),</div><div class="line">}</div><div class="ttc" id="config__options_8h_html_af773eedd7f94d718752798605c687c4b"><div class="ttname"><a href="../../db/dfe/config__options_8h.html#af773eedd7f94d718752798605c687c4b">ACO_TYPES</a></div><div class="ttdeci">#define ACO_TYPES(...)</div><div class="ttdoc">A helper macro to ensure that aco_info types always have a sentinel. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/dfe/config__options_8h_source.html#l00181">config_options.h:181</a></div></div>
<div class="ttc" id="udptl_8c_html_a5be5fa967836c0f0c98763deaff227b7"><div class="ttname"><a href="../../d2/dce/udptl_8c.html#a5be5fa967836c0f0c98763deaff227b7">general_option</a></div><div class="ttdeci">static struct aco_type general_option</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dce/udptl_8c_source.html#l00238">udptl.c:238</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="../../d2/dce/udptl_8c_source.html#l00248">248</a> of file <a class="el" href="../../d2/dce/udptl_8c_source.html">udptl.c</a>.</p>

</div>
</div>
<a id="ade9088978427552c6020fd7453eedb57"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ade9088978427552c6020fd7453eedb57">&#9670;&nbsp;</a></span>udptldebug</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int udptldebug</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Are we debugging? </p>

<p class="definition">Definition at line <a class="el" href="../../d2/dce/udptl_8c_source.html#l00130">130</a> of file <a class="el" href="../../d2/dce/udptl_8c_source.html">udptl.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/dce/udptl_8c_source.html#l01215">handle_cli_udptl_set_debug()</a>, and <a class="el" href="../../d2/dce/udptl_8c_source.html#l00258">udptl_debug_test_addr()</a>.</p>

</div>
</div>
<a id="adc1b287af4445d491cc5f3e18d3df0d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc1b287af4445d491cc5f3e18d3df0d3">&#9670;&nbsp;</a></span>udptldebugaddr</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d3/db3/structast__sockaddr.html">ast_sockaddr</a> udptldebugaddr</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Debug packets to/from this host </p>

<p class="definition">Definition at line <a class="el" href="../../d2/dce/udptl_8c_source.html#l00131">131</a> of file <a class="el" href="../../d2/dce/udptl_8c_source.html">udptl.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/dce/udptl_8c_source.html#l01215">handle_cli_udptl_set_debug()</a>, and <a class="el" href="../../d2/dce/udptl_8c_source.html#l00258">udptl_debug_test_addr()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Aug 8 2021 19:47:01 for Asterisk - The Open Source Telephony Project by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
