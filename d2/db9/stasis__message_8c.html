<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Asterisk - The Open Source Telephony Project: stasis_message.c File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Asterisk - The Open Source Telephony Project
   &#160;<span id="projectnumber">18.5.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_5c982d53a68cdbcd421152b4020263a9.html">main</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">stasis_message.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Stasis Message API.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="../../db/db2/asterisk_8h_source.html">asterisk.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d5/da5/astobj2_8h_source.html">asterisk/astobj2.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../dd/d79/stasis_8h_source.html">asterisk/stasis.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d5/d60/utils_8h_source.html">asterisk/utils.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d6/da0/hashtab_8h_source.html">asterisk/hashtab.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for stasis_message.c:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/da1/stasis__message_8c__incl.png" border="0" usemap="#stasis__message_8c" alt=""/></div>
<map name="stasis__message_8c" id="stasis__message_8c">
<area shape="rect" id="node2" href="../../db/db2/asterisk_8h.html" title="Asterisk main include file. File version handling, generic pbx functions. " alt="" coords="63,304,147,331"/>
<area shape="rect" id="node22" href="../../d5/da5/astobj2_8h.html" title="asterisk/astobj2.h" alt="" coords="1482,229,1617,256"/>
<area shape="rect" id="node32" href="../../dd/d79/stasis_8h.html" title="Stasis Message Bus API. See Stasis Message Bus API for detailed documentation. " alt="" coords="2081,80,2207,107"/>
<area shape="rect" id="node39" href="../../d5/d60/utils_8h.html" title="Utility functions. " alt="" coords="2099,304,2213,331"/>
<area shape="rect" id="node42" href="../../d6/da0/hashtab_8h.html" title="Generic (perhaps overly so) hashtable implementation Hash Table support in Asterisk. " alt="" coords="1587,80,1727,107"/>
<area shape="rect" id="node3" href="../../d8/d20/autoconfig_8h.html" title="asterisk/autoconfig.h" alt="" coords="596,528,751,555"/>
<area shape="rect" id="node5" href="../../de/da3/include_2asterisk_2compat_8h.html" title="General Definitions for Asterisk top level program Included by asterisk.h to handle platform&#45;specific..." alt="" coords="802,379,939,405"/>
<area shape="rect" id="node21" href="../../d8/d8a/astmm_8h.html" title="Asterisk memory management routines. " alt="" coords="25,379,159,405"/>
<area shape="rect" id="node4" href="../../dc/dba/buildopts_8h.html" title="asterisk/buildopts.h" alt="" coords="600,603,747,629"/>
<area shape="rect" id="node6" href="../../d4/dd1/compiler_8h.html" title="Compiler&#45;specific macros and other items. " alt="" coords="1354,453,1497,480"/>
<area shape="rect" id="node23" href="../../dd/d42/lock_8h.html" title="Asterisk locking&#45;related definitions: " alt="" coords="1746,379,1859,405"/>
<area shape="rect" id="node26" href="../../d5/d9d/inline__api_8h.html" title="Inlinable API function macro. " alt="" coords="1461,528,1608,555"/>
<area shape="rect" id="node31" href="../../df/d90/linkedlists_8h.html" title="A set of macros to manage forward&#45;linked lists. " alt="" coords="1694,304,1845,331"/>
<area shape="rect" id="node25" href="../../de/df7/time_8h.html" title="Time&#45;related functions and macros. " alt="" coords="2186,453,2249,480"/>
<area shape="rect" id="node29" href="../../d3/dda/backtrace_8h.html" title="Asterisk backtrace generation. " alt="" coords="1903,453,2054,480"/>
<area shape="rect" id="node30" href="../../d1/d8c/logger_8h.html" title="Support for logging to various files, console and syslog Configuration in file logger.conf. " alt="" coords="2325,453,2451,480"/>
<area shape="rect" id="node33" href="../../d4/d05/json_8h.html" title="Asterisk JSON abstraction layer. " alt="" coords="2331,155,2445,181"/>
<area shape="rect" id="node35" href="../../db/d45/manager_8h.html" title="The AMI &#45; Asterisk Manager Interface &#45; is a TCP protocol created to manage Asterisk with third&#45;party ..." alt="" coords="1861,155,2006,181"/>
<area shape="rect" id="node40" href="../../dd/d20/event_8h.html" title="asterisk/event.h" alt="" coords="2182,155,2306,181"/>
<area shape="rect" id="node34" href="../../db/df1/netsock2_8h.html" title="Network socket handling. " alt="" coords="2315,304,2461,331"/>
<area shape="rect" id="node36" href="../../d9/d94/network_8h.html" title="Wrapper for network related headers, masking differences between various operating systems..." alt="" coords="1913,379,2052,405"/>
<area shape="rect" id="node37" href="../../d9/db6/datastore_8h.html" title="Asterisk datastore objects. " alt="" coords="1694,229,1845,256"/>
<area shape="rect" id="node38" href="../../d1/d99/xmldoc_8h.html" title="Asterisk XML Documentation API. " alt="" coords="1971,229,2106,256"/>
<area shape="rect" id="node41" href="../../d6/d37/event__defs_8h.html" title="Generic event system. " alt="" coords="2182,229,2341,256"/>
</map>
</div>
</div>
<p><a href="../../d2/db9/stasis__message_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d55/structstasis__message.html">stasis_message</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a16ea8e0b2040307000b2a3949e5dcf56"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/db9/stasis__message_8c.html#a16ea8e0b2040307000b2a3949e5dcf56">HAS_VIRTUAL</a>(fn,  msg)</td></tr>
<tr class="separator:a16ea8e0b2040307000b2a3949e5dcf56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab93a8e3900b856699ffb2eb8e1c76248"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/db9/stasis__message_8c.html#ab93a8e3900b856699ffb2eb8e1c76248">INVOKE_VIRTUAL</a>(fn, ...)</td></tr>
<tr class="separator:ab93a8e3900b856699ffb2eb8e1c76248"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a37a5fd1a121e57501bd9fe0d83ba448a"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/db9/stasis__message_8c.html#a37a5fd1a121e57501bd9fe0d83ba448a">message_type_dtor</a> (void *obj)</td></tr>
<tr class="separator:a37a5fd1a121e57501bd9fe0d83ba448a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff3b891ecf151757d9977e167c9a3b07"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/db9/stasis__message_8c.html#aff3b891ecf151757d9977e167c9a3b07">stasis_message_can_be_ami</a> (struct <a class="el" href="../../d7/d55/structstasis__message.html">stasis_message</a> *msg)</td></tr>
<tr class="memdesc:aff3b891ecf151757d9977e167c9a3b07"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine if the given message can be converted to AMI.  <a href="#aff3b891ecf151757d9977e167c9a3b07">More...</a><br /></td></tr>
<tr class="separator:aff3b891ecf151757d9977e167c9a3b07"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72a06fdaec039fdfb5f36892e725f9ec"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d7/d55/structstasis__message.html">stasis_message</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/db9/stasis__message_8c.html#a72a06fdaec039fdfb5f36892e725f9ec">stasis_message_create</a> (struct <a class="el" href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a> *<a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>, void *data)</td></tr>
<tr class="memdesc:a72a06fdaec039fdfb5f36892e725f9ec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a new message.  <a href="#a72a06fdaec039fdfb5f36892e725f9ec">More...</a><br /></td></tr>
<tr class="separator:a72a06fdaec039fdfb5f36892e725f9ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08010732dcea60e116e54fca0133d582"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d7/d55/structstasis__message.html">stasis_message</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/db9/stasis__message_8c.html#a08010732dcea60e116e54fca0133d582">stasis_message_create_full</a> (struct <a class="el" href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a> *<a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>, void *data, const struct <a class="el" href="../../d0/d86/structast__eid.html">ast_eid</a> *eid)</td></tr>
<tr class="memdesc:a08010732dcea60e116e54fca0133d582"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a new message for an entity.  <a href="#a08010732dcea60e116e54fca0133d582">More...</a><br /></td></tr>
<tr class="separator:a08010732dcea60e116e54fca0133d582"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6081f17431b81bc1a010b680517491d"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/db9/stasis__message_8c.html#af6081f17431b81bc1a010b680517491d">stasis_message_data</a> (const struct <a class="el" href="../../d7/d55/structstasis__message.html">stasis_message</a> *msg)</td></tr>
<tr class="memdesc:af6081f17431b81bc1a010b680517491d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the data contained in a message.  <a href="#af6081f17431b81bc1a010b680517491d">More...</a><br /></td></tr>
<tr class="separator:af6081f17431b81bc1a010b680517491d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45177efd00399bdd5026f27091240305"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/db9/stasis__message_8c.html#a45177efd00399bdd5026f27091240305">stasis_message_dtor</a> (void *obj)</td></tr>
<tr class="separator:a45177efd00399bdd5026f27091240305"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5dc2372860d977cc3e2a8e9af24aeaf"><td class="memItemLeft" align="right" valign="top">const struct <a class="el" href="../../d0/d86/structast__eid.html">ast_eid</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/db9/stasis__message_8c.html#ae5dc2372860d977cc3e2a8e9af24aeaf">stasis_message_eid</a> (const struct <a class="el" href="../../d7/d55/structstasis__message.html">stasis_message</a> *msg)</td></tr>
<tr class="memdesc:ae5dc2372860d977cc3e2a8e9af24aeaf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the entity id for a <a class="el" href="../../d7/d55/structstasis__message.html">stasis_message</a>.  <a href="#ae5dc2372860d977cc3e2a8e9af24aeaf">More...</a><br /></td></tr>
<tr class="separator:ae5dc2372860d977cc3e2a8e9af24aeaf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a9c10eadd9db34f8c0b19619752ea93"><td class="memItemLeft" align="right" valign="top">const struct timeval *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/db9/stasis__message_8c.html#a0a9c10eadd9db34f8c0b19619752ea93">stasis_message_timestamp</a> (const struct <a class="el" href="../../d7/d55/structstasis__message.html">stasis_message</a> *msg)</td></tr>
<tr class="memdesc:a0a9c10eadd9db34f8c0b19619752ea93"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the time when a message was created.  <a href="#a0a9c10eadd9db34f8c0b19619752ea93">More...</a><br /></td></tr>
<tr class="separator:a0a9c10eadd9db34f8c0b19619752ea93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf8e3a27e9995917eb0bc043acd1316a"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../dd/d96/structast__manager__event__blob.html">ast_manager_event_blob</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/db9/stasis__message_8c.html#adf8e3a27e9995917eb0bc043acd1316a">stasis_message_to_ami</a> (struct <a class="el" href="../../d7/d55/structstasis__message.html">stasis_message</a> *msg)</td></tr>
<tr class="memdesc:adf8e3a27e9995917eb0bc043acd1316a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Build the AMI representation of the message.  <a href="#adf8e3a27e9995917eb0bc043acd1316a">More...</a><br /></td></tr>
<tr class="separator:adf8e3a27e9995917eb0bc043acd1316a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa90ab45287904a603efb31319aaf8b91"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d5/d78/structast__event.html">ast_event</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/db9/stasis__message_8c.html#aa90ab45287904a603efb31319aaf8b91">stasis_message_to_event</a> (struct <a class="el" href="../../d7/d55/structstasis__message.html">stasis_message</a> *msg)</td></tr>
<tr class="memdesc:aa90ab45287904a603efb31319aaf8b91"><td class="mdescLeft">&#160;</td><td class="mdescRight">Build the <a class="el" href="../../db/d28/AstGenericEvents.html">Generic event system</a> representation of the message.  <a href="#aa90ab45287904a603efb31319aaf8b91">More...</a><br /></td></tr>
<tr class="separator:aa90ab45287904a603efb31319aaf8b91"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a415493fbb3571cc6c9e7ac599309110f"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d1/da1/structast__json.html">ast_json</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/db9/stasis__message_8c.html#a415493fbb3571cc6c9e7ac599309110f">stasis_message_to_json</a> (struct <a class="el" href="../../d7/d55/structstasis__message.html">stasis_message</a> *msg, struct <a class="el" href="../../d4/d45/structstasis__message__sanitizer.html">stasis_message_sanitizer</a> *sanitize)</td></tr>
<tr class="memdesc:a415493fbb3571cc6c9e7ac599309110f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Build the JSON representation of the message.  <a href="#a415493fbb3571cc6c9e7ac599309110f">More...</a><br /></td></tr>
<tr class="separator:a415493fbb3571cc6c9e7ac599309110f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9356e8a29344ca4eac93088198ccff89"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/db9/stasis__message_8c.html#a9356e8a29344ca4eac93088198ccff89">stasis_message_type</a> (const struct <a class="el" href="../../d7/d55/structstasis__message.html">stasis_message</a> *msg)</td></tr>
<tr class="memdesc:a9356e8a29344ca4eac93088198ccff89"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the message type for a <a class="el" href="../../d7/d55/structstasis__message.html">stasis_message</a>.  <a href="#a9356e8a29344ca4eac93088198ccff89">More...</a><br /></td></tr>
<tr class="separator:a9356e8a29344ca4eac93088198ccff89"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d26ee9c178d8f1d8d35dd4a7e598d3c"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="../../dd/d79/stasis_8h.html#a5ae672fb0f772d0e3066fa4c29c41814">stasis_subscription_message_formatters</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/db9/stasis__message_8c.html#a1d26ee9c178d8f1d8d35dd4a7e598d3c">stasis_message_type_available_formatters</a> (const struct <a class="el" href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a> *<a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>)</td></tr>
<tr class="memdesc:a1d26ee9c178d8f1d8d35dd4a7e598d3c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a bitmap of available formatters for a message type.  <a href="#a1d26ee9c178d8f1d8d35dd4a7e598d3c">More...</a><br /></td></tr>
<tr class="separator:a1d26ee9c178d8f1d8d35dd4a7e598d3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9b3944643c00f77c42239f7edc6820f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/db9/stasis__message_8c.html#ac9b3944643c00f77c42239f7edc6820f">stasis_message_type_create</a> (const char *<a class="el" href="../../d1/da4/res__corosync_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, struct <a class="el" href="../../dd/d3e/structstasis__message__vtable.html">stasis_message_vtable</a> *vtable, struct <a class="el" href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a> **<a class="el" href="../../de/d1b/cel__pgsql_8c.html#ad6c487210772a9b4b0ca04b04b847d4c">result</a>)</td></tr>
<tr class="memdesc:ac9b3944643c00f77c42239f7edc6820f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a new message type.  <a href="#ac9b3944643c00f77c42239f7edc6820f">More...</a><br /></td></tr>
<tr class="separator:ac9b3944643c00f77c42239f7edc6820f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1996f291ef2df28b75c279d4790c2258"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/db9/stasis__message_8c.html#a1996f291ef2df28b75c279d4790c2258">stasis_message_type_hash</a> (const struct <a class="el" href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a> *<a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>)</td></tr>
<tr class="memdesc:a1996f291ef2df28b75c279d4790c2258"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the hash of a given message type.  <a href="#a1996f291ef2df28b75c279d4790c2258">More...</a><br /></td></tr>
<tr class="separator:a1996f291ef2df28b75c279d4790c2258"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa72759806ee4118a78b9d1373c633d2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/db9/stasis__message_8c.html#aaa72759806ee4118a78b9d1373c633d2">stasis_message_type_id</a> (const struct <a class="el" href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a> *<a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>)</td></tr>
<tr class="memdesc:aaa72759806ee4118a78b9d1373c633d2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the id of a given message type.  <a href="#aaa72759806ee4118a78b9d1373c633d2">More...</a><br /></td></tr>
<tr class="separator:aaa72759806ee4118a78b9d1373c633d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aefd78086150c89477f5851f2836e0478"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/db9/stasis__message_8c.html#aefd78086150c89477f5851f2836e0478">stasis_message_type_name</a> (const struct <a class="el" href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a> *<a class="el" href="../../d1/d6e/main_2stdtime_2private_8h.html#a1c6de65cc31c36fe2ede0d438531d327">type</a>)</td></tr>
<tr class="memdesc:aefd78086150c89477f5851f2836e0478"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the name of a given message type.  <a href="#aefd78086150c89477f5851f2836e0478">More...</a><br /></td></tr>
<tr class="separator:aefd78086150c89477f5851f2836e0478"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a744ceb580c661e018a750bee94f2a1c0"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/db9/stasis__message_8c.html#a744ceb580c661e018a750bee94f2a1c0">message_type_id</a></td></tr>
<tr class="separator:a744ceb580c661e018a750bee94f2a1c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9017e7abcabc89dfb08c4653d08733d"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="../../dd/d3e/structstasis__message__vtable.html">stasis_message_vtable</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/db9/stasis__message_8c.html#ae9017e7abcabc89dfb08c4653d08733d">null_vtable</a> = {}</td></tr>
<tr class="separator:ae9017e7abcabc89dfb08c4653d08733d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Stasis Message API. </p>
<dl class="section author"><dt>Author</dt><dd>David M. Lee, II <a href="#" onclick="location.href='mai'+'lto:'+'dle'+'e@'+'dig'+'iu'+'m.c'+'om'; return false;">dlee@<span style="display: none;">.nosp@m.</span>digi<span style="display: none;">.nosp@m.</span>um.co<span style="display: none;">.nosp@m.</span>m</a> </dd></dl>

<p class="definition">Definition in file <a class="el" href="../../d2/db9/stasis__message_8c_source.html">stasis_message.c</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a16ea8e0b2040307000b2a3949e5dcf56"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a16ea8e0b2040307000b2a3949e5dcf56">&#9670;&nbsp;</a></span>HAS_VIRTUAL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define HAS_VIRTUAL</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">fn, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">msg&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/db9/stasis__message_8c_source.html#l00241">241</a> of file <a class="el" href="../../d2/db9/stasis__message_8c_source.html">stasis_message.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/db9/stasis__message_8c_source.html#l00251">stasis_message_can_be_ami()</a>.</p>

</div>
</div>
<a id="ab93a8e3900b856699ffb2eb8e1c76248"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab93a8e3900b856699ffb2eb8e1c76248">&#9670;&nbsp;</a></span>INVOKE_VIRTUAL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define INVOKE_VIRTUAL</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">fn, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/db9/stasis__message_8c_source.html#l00211">211</a> of file <a class="el" href="../../d2/db9/stasis__message_8c_source.html">stasis_message.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/db9/stasis__message_8c_source.html#l00224">stasis_message_to_ami()</a>, <a class="el" href="../../d2/db9/stasis__message_8c_source.html#l00236">stasis_message_to_event()</a>, and <a class="el" href="../../d2/db9/stasis__message_8c_source.html#l00229">stasis_message_to_json()</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a37a5fd1a121e57501bd9fe0d83ba448a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a37a5fd1a121e57501bd9fe0d83ba448a">&#9670;&nbsp;</a></span>message_type_dtor()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void message_type_dtor </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>obj</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/db9/stasis__message_8c_source.html#l00049">49</a> of file <a class="el" href="../../d2/db9/stasis__message_8c_source.html">stasis_message.c</a>.</p>

<p class="reference">References <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00182">ast_free</a>, <a class="el" href="../../d2/db9/stasis__message_8c_source.html#l00040">stasis_message_type::name</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00109">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/db9/stasis__message_8c_source.html#l00056">stasis_message_type_create()</a>.</p>
<div class="fragment"><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;{</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a> *<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a> = obj;</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;   <a class="code" href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a>(type-&gt;<a class="code" href="../../d4/d8f/structstasis__message__type.html#a5ac083a645d964373f022d03df4849c8">name</a>);</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;   type-&gt;<a class="code" href="../../d4/d8f/structstasis__message__type.html#a5ac083a645d964373f022d03df4849c8">name</a> = <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;}</div><div class="ttc" id="chan__ooh323_8c_html_a4d63fdfe5451ec2248c16a2739190c56"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a></div><div class="ttdeci">static const char type[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00109">chan_ooh323.c:109</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structstasis__message__type_html"><div class="ttname"><a href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db9/stasis__message_8c_source.html#l00038">stasis_message.c:38</a></div></div>
<div class="ttc" id="astmm_8h_html_a402072d6789f6ed9e3a81da27504127e"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#a402072d6789f6ed9e3a81da27504127e">ast_free</a></div><div class="ttdeci">#define ast_free(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00182">astmm.h:182</a></div></div>
<div class="ttc" id="structstasis__message__type_html_a5ac083a645d964373f022d03df4849c8"><div class="ttname"><a href="../../d4/d8f/structstasis__message__type.html#a5ac083a645d964373f022d03df4849c8">stasis_message_type::name</a></div><div class="ttdeci">char * name</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db9/stasis__message_8c_source.html#l00040">stasis_message.c:40</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aff3b891ecf151757d9977e167c9a3b07"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff3b891ecf151757d9977e167c9a3b07">&#9670;&nbsp;</a></span>stasis_message_can_be_ami()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int stasis_message_can_be_ami </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d7/d55/structstasis__message.html">stasis_message</a> *&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determine if the given message can be converted to AMI. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>Message to see if can be converted to AMI.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Cannot be converted </td></tr>
    <tr><td class="paramname">non-zero</td><td>Can be converted </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d2/db9/stasis__message_8c_source.html#l00251">251</a> of file <a class="el" href="../../d2/db9/stasis__message_8c_source.html">stasis_message.c</a>.</p>

<p class="reference">References <a class="el" href="../../d2/db9/stasis__message_8c_source.html#l00241">HAS_VIRTUAL</a>, and <a class="el" href="../../d2/d3d/res__pjsip__exten__state_8c_source.html#l00542">to_ami()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d10/manager_8c_source.html#l01838">manager_default_msg_cb()</a>.</p>
<div class="fragment"><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;{</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d2/db9/stasis__message_8c.html#a16ea8e0b2040307000b2a3949e5dcf56">HAS_VIRTUAL</a>(<a class="code" href="../../d2/d3d/res__pjsip__exten__state_8c.html#ae8731a90be4dc2d8272b7dfd8a001d4c">to_ami</a>, msg);</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;}</div><div class="ttc" id="res__pjsip__exten__state_8c_html_ae8731a90be4dc2d8272b7dfd8a001d4c"><div class="ttname"><a href="../../d2/d3d/res__pjsip__exten__state_8c.html#ae8731a90be4dc2d8272b7dfd8a001d4c">to_ami</a></div><div class="ttdeci">static void to_ami(struct ast_sip_subscription *sub, struct ast_str **buf)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d3d/res__pjsip__exten__state_8c_source.html#l00542">res_pjsip_exten_state.c:542</a></div></div>
<div class="ttc" id="stasis__message_8c_html_a16ea8e0b2040307000b2a3949e5dcf56"><div class="ttname"><a href="../../d2/db9/stasis__message_8c.html#a16ea8e0b2040307000b2a3949e5dcf56">HAS_VIRTUAL</a></div><div class="ttdeci">#define HAS_VIRTUAL(fn, msg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db9/stasis__message_8c_source.html#l00241">stasis_message.c:241</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a72a06fdaec039fdfb5f36892e725f9ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a72a06fdaec039fdfb5f36892e725f9ec">&#9670;&nbsp;</a></span>stasis_message_create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d7/d55/structstasis__message.html">stasis_message</a>* stasis_message_create </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a> *&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a new message. </p>
<p>This message is an <code>ao2</code> object, and must be <a class="el" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup()</a>'ed when you are done with it. Messages are also immutable, and must not be modified after they are initialized. Especially the <em>data</em> in the message.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">type</td><td>Type of the message </td></tr>
    <tr><td class="paramname">data</td><td>Immutable data that is the actual contents of the message</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>New message </dd>
<dd>
<code>NULL</code> on error</dd></dl>
<dl class="section since"><dt>Since</dt><dd>12 </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d2/db9/stasis__message_8c_source.html#l00174">174</a> of file <a class="el" href="../../d2/db9/stasis__message_8c_source.html">stasis_message.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/dc5/options_8c_source.html#l00093">ast_eid_default</a>, and <a class="el" href="../../d2/db9/stasis__message_8c_source.html#l00140">stasis_message_create_full()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/db9/test_8c_source.html#l01145">__ast_test_suite_event_notify()</a>, <a class="el" href="../../d0/da6/aoc_8c_source.html#l01835">aoc_publish_blob()</a>, <a class="el" href="../../da/d0f/stasis__bridges_8c_source.html#l00500">ast_bridge_blob_create()</a>, <a class="el" href="../../da/d0f/stasis__bridges_8c_source.html#l00546">ast_bridge_blob_create_from_snapshots()</a>, <a class="el" href="../../da/d0f/stasis__bridges_8c_source.html#l01346">ast_bridge_publish_attended_transfer()</a>, <a class="el" href="../../da/d0f/stasis__bridges_8c_source.html#l00953">ast_bridge_publish_blind_transfer()</a>, <a class="el" href="../../da/d0f/stasis__bridges_8c_source.html#l00460">ast_bridge_publish_merge()</a>, <a class="el" href="../../da/d0f/stasis__bridges_8c_source.html#l00350">ast_bridge_publish_state()</a>, <a class="el" href="../../dc/df2/cdr_8c_source.html#l04577">ast_cdr_engine_term()</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l00602">ast_channel_publish_dial_internal()</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l00917">ast_channel_publish_final_snapshot()</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01055">ast_channel_publish_snapshot()</a>, <a class="el" href="../../d3/daf/stasis__endpoints_8c_source.html#l00293">ast_endpoint_blob_create()</a>, <a class="el" href="../../d4/d10/manager_8c_source.html#l01903">ast_manager_publish_event()</a>, <a class="el" href="../../d0/df4/stasis_8c_source.html#l02010">ast_multi_object_blob_single_channel_publish()</a>, <a class="el" href="../../d6/db4/mwi_8c_source.html#l00462">ast_mwi_blob_create()</a>, <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l03485">ast_rtp_publish_rtcp_message()</a>, <a class="el" href="../../df/da0/stasis__system_8c_source.html#l00118">ast_system_publish_registry()</a>, <a class="el" href="../../db/dc4/test__cel_8c_source.html#l01616">AST_TEST_DEFINE()</a>, <a class="el" href="../../da/d0f/stasis__bridges_8c_source.html#l00381">bridge_publish_state_from_blob()</a>, <a class="el" href="../../da/d0f/stasis__bridges_8c_source.html#l00319">bridge_topics_destroy()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01023">cc_publish()</a>, <a class="el" href="../../d7/dd2/func__cdr_8c_source.html#l00604">cdr_prop_write()</a>, <a class="el" href="../../d7/dd2/func__cdr_8c_source.html#l00448">cdr_read()</a>, <a class="el" href="../../d7/dd2/func__cdr_8c_source.html#l00506">cdr_write()</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l00745">create_channel_blob_message()</a>, <a class="el" href="../../d7/d4b/main_2endpoints_8c_source.html#l00334">create_endpoint_snapshot_message()</a>, <a class="el" href="../../d7/d4b/main_2endpoints_8c_source.html#l00122">endpoint_publish_snapshot()</a>, <a class="el" href="../../d2/db9/app__forkcdr_8c_source.html#l00134">forkcdr_exec()</a>, <a class="el" href="../../d8/d30/main_2security__events_8c_source.html#l01118">handle_security_event()</a>, <a class="el" href="../../de/d47/core__local_8c_source.html#l00433">local_optimization_finished_cb()</a>, <a class="el" href="../../de/d47/core__local_8c_source.html#l00390">local_optimization_started_cb()</a>, <a class="el" href="../../d5/d07/presencestate_8c_source.html#l00294">presence_state_event()</a>, <a class="el" href="../../da/ddd/named__acl_8c_source.html#l00371">publish_acl_change()</a>, <a class="el" href="../../d1/da0/app__cdr_8c_source.html#l00166">publish_app_cdr_message()</a>, <a class="el" href="../../dc/d04/app__chanspy_8c_source.html#l00565">publish_chanspy_message()</a>, <a class="el" href="../../d1/da4/res__corosync_8c_source.html#l00303">publish_cluster_discovery_to_stasis_full()</a>, <a class="el" href="../../d1/da4/res__corosync_8c_source.html#l00204">publish_corosync_ping_to_stasis()</a>, <a class="el" href="../../d6/d13/file_8c_source.html#l00093">publish_format_update()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l04074">publish_hint_change()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l03924">publish_hint_remove()</a>, <a class="el" href="../../d3/d96/loader_8c_source.html#l01475">publish_load_message_type()</a>, <a class="el" href="../../de/d47/core__local_8c_source.html#l00540">publish_local_bridge_message()</a>, <a class="el" href="../../d0/d39/parking__manager_8c_source.html#l00617">publish_parked_call()</a>, <a class="el" href="../../d0/d39/parking__manager_8c_source.html#l00595">publish_parked_call_failure()</a>, <a class="el" href="../../da/dfb/app__queue_8c_source.html#l02234">queue_publish_member_blob()</a>, <a class="el" href="../../da/dfb/app__queue_8c_source.html#l02166">queue_publish_multi_channel_snapshot_blob()</a>, <a class="el" href="../../d9/dbf/pickup_8c_source.html#l00278">send_call_pickup_stasis_message()</a>, <a class="el" href="../../db/d00/test__stasis_8c_source.html#l02208">send_msg()</a>, <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l00991">send_start_msg_snapshots()</a>, <a class="el" href="../../d0/df4/stasis_8c_source.html#l01648">send_subscription_subscribe()</a>, <a class="el" href="../../d0/df4/stasis_8c_source.html#l01676">send_subscription_unsubscribe()</a>, <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l02095">stasis_app_user_event()</a>, <a class="el" href="../../d0/da9/stasis__cache_8c_source.html#l00778">stasis_cache_clear_create()</a>, <a class="el" href="../../da/dca/res__stasis__test_8c_source.html#l00236">stasis_test_message_create()</a>, <a class="el" href="../../db/dd3/res__stun__monitor_8c_source.html#l00085">stun_monitor_request()</a>, and <a class="el" href="../../d0/da9/stasis__cache_8c_source.html#l00795">update_create()</a>.</p>
<div class="fragment"><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;{</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d2/db9/stasis__message_8c.html#a08010732dcea60e116e54fca0133d582">stasis_message_create_full</a>(type, data, &amp;<a class="code" href="../../d5/d60/utils_8h.html#ad5db11fa27352e2b9a3c669adc76955f">ast_eid_default</a>);</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;}</div><div class="ttc" id="stasis__message_8c_html_a08010732dcea60e116e54fca0133d582"><div class="ttname"><a href="../../d2/db9/stasis__message_8c.html#a08010732dcea60e116e54fca0133d582">stasis_message_create_full</a></div><div class="ttdeci">struct stasis_message * stasis_message_create_full(struct stasis_message_type *type, void *data, const struct ast_eid *eid)</div><div class="ttdoc">Create a new message for an entity. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db9/stasis__message_8c_source.html#l00140">stasis_message.c:140</a></div></div>
<div class="ttc" id="utils_8h_html_ad5db11fa27352e2b9a3c669adc76955f"><div class="ttname"><a href="../../d5/d60/utils_8h.html#ad5db11fa27352e2b9a3c669adc76955f">ast_eid_default</a></div><div class="ttdeci">struct ast_eid ast_eid_default</div><div class="ttdoc">Global EID. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc5/options_8c_source.html#l00093">options.c:93</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a08010732dcea60e116e54fca0133d582"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a08010732dcea60e116e54fca0133d582">&#9670;&nbsp;</a></span>stasis_message_create_full()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d7/d55/structstasis__message.html">stasis_message</a>* stasis_message_create_full </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a> *&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="../../d0/d86/structast__eid.html">ast_eid</a> *&#160;</td>
          <td class="paramname"><em>eid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a new message for an entity. </p>
<p>This message is an <code>ao2</code> object, and must be <a class="el" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup()</a>'ed when you are done with it. Messages are also immutable, and must not be modified after they are initialized. Especially the <em>data</em> in the message.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">type</td><td>Type of the message </td></tr>
    <tr><td class="paramname">data</td><td>Immutable data that is the actual contents of the message </td></tr>
    <tr><td class="paramname">eid</td><td>What entity originated this message. (NULL for aggregate)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>An aggregate message is a combined representation of the local and remote entities publishing the message data. e.g., An aggregate device state represents the combined device state from the local and any remote entities publishing state for a device. e.g., An aggregate MWI message is the old/new MWI counts accumulated from the local and any remote entities publishing to a mailbox.</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">New</td><td>message </td></tr>
    <tr><td class="paramname"></td><td></td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d2/db9/stasis__message_8c_source.html#l00140">140</a> of file <a class="el" href="../../d2/db9/stasis__message_8c_source.html">stasis_message.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00369">AO2_ALLOC_OPT_LOCK_NOLOCK</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00464">ao2_ref</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00404">ao2_t_alloc_options</a>, <a class="el" href="../../de/df7/time_8h_source.html#l00150">ast_tvnow()</a>, <a class="el" href="../../d2/db9/stasis__message_8c_source.html#l00129">stasis_message::data</a>, <a class="el" href="../../d2/db9/stasis__message_8c_source.html#l00131">stasis_message::eid</a>, <a class="el" href="../../d2/db9/stasis__message_8c_source.html#l00127">stasis_message::eid_ptr</a>, <a class="el" href="../../d2/db9/stasis__message_8c_source.html#l00040">stasis_message_type::name</a>, <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, <a class="el" href="../../d2/db9/stasis__message_8c_source.html#l00134">stasis_message_dtor()</a>, <a class="el" href="../../d2/db9/stasis__message_8c_source.html#l00123">stasis_message::timestamp</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00109">type</a>, and <a class="el" href="../../d2/db9/stasis__message_8c_source.html#l00125">stasis_message::type</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/d80/devicestate_8c_source.html#l00709">ast_publish_device_state_full()</a>, <a class="el" href="../../db/d00/test__stasis_8c_source.html#l00099">AST_TEST_DEFINE()</a>, <a class="el" href="../../db/d00/test__stasis_8c_source.html#l00875">cache_test_message_create_full()</a>, <a class="el" href="../../de/d6b/test__stasis__state_8c_source.html#l00246">create_foo_type_message()</a>, <a class="el" href="../../d1/d80/devicestate_8c_source.html#l00818">device_state_aggregate_calc()</a>, <a class="el" href="../../d6/db4/mwi_8c_source.html#l00169">mwi_state_create_message()</a>, and <a class="el" href="../../d2/db9/stasis__message_8c_source.html#l00174">stasis_message_create()</a>.</p>
<div class="fragment"><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;{</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d7/d55/structstasis__message.html">stasis_message</a> *<a class="code" href="../../d8/d9e/structmessage.html">message</a>;</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;   <span class="keywordflow">if</span> (type == <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> || <a class="code" href="../../d7/d55/structstasis__message.html#a735984d41155bc1032e09bece8f8d66d">data</a> == <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;   }</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;   message = <a class="code" href="../../d5/da5/astobj2_8h.html#a7d8e253a1db2dc47ed4af636c3ea89ce">ao2_t_alloc_options</a>(<span class="keyword">sizeof</span>(*message), <a class="code" href="../../d2/db9/stasis__message_8c.html#a45177efd00399bdd5026f27091240305">stasis_message_dtor</a>,</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#a2cf7e3433f08351aafe3b0cd31edf7f8a23b60f2636bcfbc4dfeea6cc21bf847b">AO2_ALLOC_OPT_LOCK_NOLOCK</a>, type-&gt;<a class="code" href="../../d4/d8f/structstasis__message__type.html#a5ac083a645d964373f022d03df4849c8">name</a>);</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;   <span class="keywordflow">if</span> (message == <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;   }</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;   message-&gt;<a class="code" href="../../d7/d55/structstasis__message.html#a175ebf16736553ad076aefe3f02d180c">timestamp</a> = <a class="code" href="../../de/df7/time_8h.html#ad3899efb6f0e348556ef69f5b16aa7f7">ast_tvnow</a>();</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;   <span class="comment">/*</span></div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;<span class="comment">    * XXX Normal ao2 ref counting rules says we should increment the message</span></div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;<span class="comment">    * type ref here and decrement it in stasis_message_dtor().  However, the</span></div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;<span class="comment">    * stasis message could be cached and legitimately cause the type ref count</span></div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;<span class="comment">    * to hit the excessive ref count assertion.  Since the message type</span></div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;<span class="comment">    * practically has to be a global object anyway, we can get away with not</span></div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;<span class="comment">    * holding a ref in the stasis message.</span></div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;   message-&gt;<a class="code" href="../../d7/d55/structstasis__message.html#a39694abd1b80d3c9ef0619acf9d493aa">type</a> = <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>;</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a>(<a class="code" href="../../d7/d55/structstasis__message.html#a735984d41155bc1032e09bece8f8d66d">data</a>, +1);</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;   message-&gt;<a class="code" href="../../d7/d55/structstasis__message.html#a735984d41155bc1032e09bece8f8d66d">data</a> = <a class="code" href="../../d7/d55/structstasis__message.html#a735984d41155bc1032e09bece8f8d66d">data</a>;</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;   <span class="keywordflow">if</span> (eid) {</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;      message-&gt;<a class="code" href="../../d7/d55/structstasis__message.html#afeb01b4380f565c50af8cfc4c6ea036d">eid_ptr</a> = &amp;message-&gt;<a class="code" href="../../d7/d55/structstasis__message.html#aa1d7e6e6eb6d297e62f2d79dbdfaafb4">eid</a>;</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;      message-&gt;<a class="code" href="../../d7/d55/structstasis__message.html#aa1d7e6e6eb6d297e62f2d79dbdfaafb4">eid</a> = *<a class="code" href="../../d7/d55/structstasis__message.html#aa1d7e6e6eb6d297e62f2d79dbdfaafb4">eid</a>;</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;   }</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;   <span class="keywordflow">return</span> message;</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;}</div><div class="ttc" id="chan__ooh323_8c_html_a4d63fdfe5451ec2248c16a2739190c56"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a></div><div class="ttdeci">static const char type[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00109">chan_ooh323.c:109</a></div></div>
<div class="ttc" id="structmessage_html"><div class="ttname"><a href="../../d8/d9e/structmessage.html">message</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/d45/manager_8h_source.html#l00144">manager.h:144</a></div></div>
<div class="ttc" id="astobj2_8h_html_a2cf7e3433f08351aafe3b0cd31edf7f8a23b60f2636bcfbc4dfeea6cc21bf847b"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a2cf7e3433f08351aafe3b0cd31edf7f8a23b60f2636bcfbc4dfeea6cc21bf847b">AO2_ALLOC_OPT_LOCK_NOLOCK</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00369">astobj2.h:369</a></div></div>
<div class="ttc" id="structstasis__message_html_aa1d7e6e6eb6d297e62f2d79dbdfaafb4"><div class="ttname"><a href="../../d7/d55/structstasis__message.html#aa1d7e6e6eb6d297e62f2d79dbdfaafb4">stasis_message::eid</a></div><div class="ttdeci">struct ast_eid eid</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db9/stasis__message_8c_source.html#l00131">stasis_message.c:131</a></div></div>
<div class="ttc" id="stasis__message_8c_html_a45177efd00399bdd5026f27091240305"><div class="ttname"><a href="../../d2/db9/stasis__message_8c.html#a45177efd00399bdd5026f27091240305">stasis_message_dtor</a></div><div class="ttdeci">static void stasis_message_dtor(void *obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db9/stasis__message_8c_source.html#l00134">stasis_message.c:134</a></div></div>
<div class="ttc" id="structstasis__message_html"><div class="ttname"><a href="../../d7/d55/structstasis__message.html">stasis_message</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db9/stasis__message_8c_source.html#l00121">stasis_message.c:121</a></div></div>
<div class="ttc" id="time_8h_html_ad3899efb6f0e348556ef69f5b16aa7f7"><div class="ttname"><a href="../../de/df7/time_8h.html#ad3899efb6f0e348556ef69f5b16aa7f7">ast_tvnow</a></div><div class="ttdeci">struct timeval ast_tvnow(void)</div><div class="ttdoc">Returns current timeval. Meant to replace calls to gettimeofday(). </div><div class="ttdef"><b>Definition:</b> <a href="../../de/df7/time_8h_source.html#l00150">time.h:150</a></div></div>
<div class="ttc" id="astobj2_8h_html_a7d8e253a1db2dc47ed4af636c3ea89ce"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a7d8e253a1db2dc47ed4af636c3ea89ce">ao2_t_alloc_options</a></div><div class="ttdeci">#define ao2_t_alloc_options(data_size, destructor_fn, options, debug_msg)</div><div class="ttdoc">Allocate and initialize an object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00404">astobj2.h:404</a></div></div>
<div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structstasis__message_html_a39694abd1b80d3c9ef0619acf9d493aa"><div class="ttname"><a href="../../d7/d55/structstasis__message.html#a39694abd1b80d3c9ef0619acf9d493aa">stasis_message::type</a></div><div class="ttdeci">struct stasis_message_type * type</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db9/stasis__message_8c_source.html#l00125">stasis_message.c:125</a></div></div>
<div class="ttc" id="structstasis__message_html_a175ebf16736553ad076aefe3f02d180c"><div class="ttname"><a href="../../d7/d55/structstasis__message.html#a175ebf16736553ad076aefe3f02d180c">stasis_message::timestamp</a></div><div class="ttdeci">struct timeval timestamp</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db9/stasis__message_8c_source.html#l00123">stasis_message.c:123</a></div></div>
<div class="ttc" id="astobj2_8h_html_aaca5e8eac39a22f9da1c36fc6c922270"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#aaca5e8eac39a22f9da1c36fc6c922270">ao2_ref</a></div><div class="ttdeci">#define ao2_ref(o, delta)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00464">astobj2.h:464</a></div></div>
<div class="ttc" id="structstasis__message_html_a735984d41155bc1032e09bece8f8d66d"><div class="ttname"><a href="../../d7/d55/structstasis__message.html#a735984d41155bc1032e09bece8f8d66d">stasis_message::data</a></div><div class="ttdeci">void * data</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db9/stasis__message_8c_source.html#l00129">stasis_message.c:129</a></div></div>
<div class="ttc" id="structstasis__message__type_html_a5ac083a645d964373f022d03df4849c8"><div class="ttname"><a href="../../d4/d8f/structstasis__message__type.html#a5ac083a645d964373f022d03df4849c8">stasis_message_type::name</a></div><div class="ttdeci">char * name</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db9/stasis__message_8c_source.html#l00040">stasis_message.c:40</a></div></div>
<div class="ttc" id="structstasis__message_html_afeb01b4380f565c50af8cfc4c6ea036d"><div class="ttname"><a href="../../d7/d55/structstasis__message.html#afeb01b4380f565c50af8cfc4c6ea036d">stasis_message::eid_ptr</a></div><div class="ttdeci">const struct ast_eid * eid_ptr</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db9/stasis__message_8c_source.html#l00127">stasis_message.c:127</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af6081f17431b81bc1a010b680517491d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af6081f17431b81bc1a010b680517491d">&#9670;&nbsp;</a></span>stasis_message_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* stasis_message_data </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d7/d55/structstasis__message.html">stasis_message</a> *&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the data contained in a message. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>Message. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Immutable data pointer </dd>
<dd>
<code>NULL</code> if msg is <code>NULL</code>. </dd></dl>
<dl class="section since"><dt>Since</dt><dd>12 </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d2/db9/stasis__message_8c_source.html#l00195">195</a> of file <a class="el" href="../../d2/db9/stasis__message_8c_source.html">stasis_message.c</a>.</p>

<p class="reference">References <a class="el" href="../../d2/db9/stasis__message_8c_source.html#l00129">stasis_message::data</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01213">agent_login_to_ami()</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01233">agent_logoff_to_ami()</a>, <a class="el" href="../../dd/de9/res__agi_8c_source.html#l01421">agi_channel_to_ami()</a>, <a class="el" href="../../d0/da6/aoc_8c_source.html#l01871">aoc_to_ami()</a>, <a class="el" href="../../d1/da0/app__cdr_8c_source.html#l00131">appcdr_callback()</a>, <a class="el" href="../../d1/d5a/resource__endpoints_8c_source.html#l00037">ast_ari_endpoints_list()</a>, <a class="el" href="../../d1/d5a/resource__endpoints_8c_source.html#l00085">ast_ari_endpoints_list_by_tech()</a>, <a class="el" href="../../da/d0f/stasis__bridges_8c_source.html#l00438">ast_bridge_merge_message_to_json()</a>, <a class="el" href="../../da/d0f/stasis__bridges_8c_source.html#l00582">ast_bridge_publish_enter()</a>, <a class="el" href="../../da/d0f/stasis__bridges_8c_source.html#l00611">ast_bridge_publish_leave()</a>, <a class="el" href="../../da/d0f/stasis__bridges_8c_source.html#l00653">ast_channel_entered_bridge_to_json()</a>, <a class="el" href="../../da/d0f/stasis__bridges_8c_source.html#l00663">ast_channel_left_bridge_to_json()</a>, <a class="el" href="../../d6/db4/mwi_8c_source.html#l00399">ast_delete_mwi_state_full()</a>, <a class="el" href="../../d3/daf/stasis__endpoints_8c_source.html#l00341">ast_endpoint_latest_snapshot()</a>, <a class="el" href="../../d6/db4/mwi_8c_source.html#l00370">ast_mwi_publish_by_mailbox()</a>, <a class="el" href="../../d6/dd1/test__devicestate_8c_source.html#l00511">AST_TEST_DEFINE()</a>, <a class="el" href="../../dc/d7a/res__pjsip__publish__asterisk_8c_source.html#l00173">asterisk_publisher_devstate_cb()</a>, <a class="el" href="../../dc/d7a/res__pjsip__publish__asterisk_8c_source.html#l00232">asterisk_publisher_mwistate_cb()</a>, <a class="el" href="../../da/d0f/stasis__bridges_8c_source.html#l01103">attended_transfer_to_ami()</a>, <a class="el" href="../../da/d0f/stasis__bridges_8c_source.html#l00967">attended_transfer_to_json()</a>, <a class="el" href="../../da/d0f/stasis__bridges_8c_source.html#l00870">blind_transfer_to_ami()</a>, <a class="el" href="../../da/d0f/stasis__bridges_8c_source.html#l00799">blind_transfer_to_json()</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00786">bridge_attended_transfer_handler()</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00773">bridge_blind_transfer_handler()</a>, <a class="el" href="../../da/d10/manager__bridges_8c_source.html#l00362">bridge_merge_cb()</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00733">bridge_merge_handler()</a>, <a class="el" href="../../da/d10/manager__bridges_8c_source.html#l00329">bridge_snapshot_update()</a>, <a class="el" href="../../db/d00/test__stasis_8c_source.html#l00911">cache_test_aggregate_calc_fn()</a>, <a class="el" href="../../db/d00/test__stasis_8c_source.html#l00901">cache_test_data_id()</a>, <a class="el" href="../../d5/d3c/test__stasis__endpoints_8c_source.html#l00048">cache_update()</a>, <a class="el" href="../../d6/d6a/res__endpoint__stats_8c_source.html#l00078">cache_update_cb()</a>, <a class="el" href="../../d0/da9/stasis__cache_8c_source.html#l00833">caching_topic_exec()</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00318">call_forwarded_handler()</a>, <a class="el" href="../../d9/dbf/pickup_8c_source.html#l00246">call_pickup_to_ami()</a>, <a class="el" href="../../df/da0/stasis__system_8c_source.html#l00185">cc_available_to_ami()</a>, <a class="el" href="../../df/da0/stasis__system_8c_source.html#l00284">cc_callerrecalling_to_ami()</a>, <a class="el" href="../../df/da0/stasis__system_8c_source.html#l00269">cc_callerstartmonitoring_to_ami()</a>, <a class="el" href="../../df/da0/stasis__system_8c_source.html#l00254">cc_callerstopmonitoring_to_ami()</a>, <a class="el" href="../../df/da0/stasis__system_8c_source.html#l00314">cc_failure_to_ami()</a>, <a class="el" href="../../df/da0/stasis__system_8c_source.html#l00332">cc_monitorfailed_to_ami()</a>, <a class="el" href="../../df/da0/stasis__system_8c_source.html#l00203">cc_offertimerstart_to_ami()</a>, <a class="el" href="../../df/da0/stasis__system_8c_source.html#l00299">cc_recallcomplete_to_ami()</a>, <a class="el" href="../../df/da0/stasis__system_8c_source.html#l00239">cc_requestacknowledged_to_ami()</a>, <a class="el" href="../../df/da0/stasis__system_8c_source.html#l00221">cc_requested_to_ami()</a>, <a class="el" href="../../d7/dd2/func__cdr_8c_source.html#l00400">cdr_prop_write_callback()</a>, <a class="el" href="../../d7/dd2/func__cdr_8c_source.html#l00248">cdr_read_callback()</a>, <a class="el" href="../../d7/dd2/func__cdr_8c_source.html#l00357">cdr_write_callback()</a>, <a class="el" href="../../da/dc9/cel_8c_source.html#l01305">cel_attended_transfer_cb()</a>, <a class="el" href="../../da/dc9/cel_8c_source.html#l01279">cel_blind_transfer_cb()</a>, <a class="el" href="../../da/dc9/cel_8c_source.html#l01047">cel_bridge_enter_cb()</a>, <a class="el" href="../../da/dc9/cel_8c_source.html#l01077">cel_bridge_leave_cb()</a>, <a class="el" href="../../da/dc9/cel_8c_source.html#l01229">cel_dial_cb()</a>, <a class="el" href="../../da/dc9/cel_8c_source.html#l01256">cel_generic_cb()</a>, <a class="el" href="../../da/dc9/cel_8c_source.html#l01392">cel_local_cb()</a>, <a class="el" href="../../da/dc9/cel_8c_source.html#l01107">cel_parking_cb()</a>, <a class="el" href="../../da/dc9/cel_8c_source.html#l01368">cel_pickup_cb()</a>, <a class="el" href="../../da/dc9/cel_8c_source.html#l00994">cel_snapshot_update_cb()</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01338">channel_blob_to_json()</a>, <a class="el" href="../../d0/d1c/manager__channels_8c_source.html#l00842">channel_chanspy_start_cb()</a>, <a class="el" href="../../d0/d1c/manager__channels_8c_source.html#l00807">channel_chanspy_stop_cb()</a>, <a class="el" href="../../d0/d1c/manager__channels_8c_source.html#l01194">channel_dial_cb()</a>, <a class="el" href="../../d0/d1c/manager__channels_8c_source.html#l00877">channel_dtmf_begin_cb()</a>, <a class="el" href="../../d0/d1c/manager__channels_8c_source.html#l00921">channel_dtmf_end_cb()</a>, <a class="el" href="../../da/d10/manager__bridges_8c_source.html#l00394">channel_enter_cb()</a>, <a class="el" href="../../d0/d1c/manager__channels_8c_source.html#l01020">channel_fax_cb()</a>, <a class="el" href="../../d0/d1c/manager__channels_8c_source.html#l00971">channel_flash_cb()</a>, <a class="el" href="../../d0/d1c/manager__channels_8c_source.html#l00989">channel_hangup_handler_cb()</a>, <a class="el" href="../../d0/d1c/manager__channels_8c_source.html#l00759">channel_hangup_request_cb()</a>, <a class="el" href="../../d0/d1c/manager__channels_8c_source.html#l01247">channel_hold_cb()</a>, <a class="el" href="../../da/d10/manager__bridges_8c_source.html#l00422">channel_leave_cb()</a>, <a class="el" href="../../d0/d1c/manager__channels_8c_source.html#l01153">channel_mixmonitor_mute_cb()</a>, <a class="el" href="../../d0/d1c/manager__channels_8c_source.html#l01137">channel_mixmonitor_start_cb()</a>, <a class="el" href="../../d0/d1c/manager__channels_8c_source.html#l01145">channel_mixmonitor_stop_cb()</a>, <a class="el" href="../../d0/d1c/manager__channels_8c_source.html#l01093">channel_moh_start_cb()</a>, <a class="el" href="../../d0/d1c/manager__channels_8c_source.html#l01113">channel_moh_stop_cb()</a>, <a class="el" href="../../d0/d1c/manager__channels_8c_source.html#l01121">channel_monitor_start_cb()</a>, <a class="el" href="../../d0/d1c/manager__channels_8c_source.html#l01129">channel_monitor_stop_cb()</a>, <a class="el" href="../../d0/d1c/manager__channels_8c_source.html#l00713">channel_snapshot_update()</a>, <a class="el" href="../../d0/d1c/manager__channels_8c_source.html#l01284">channel_unhold_cb()</a>, <a class="el" href="../../db/d00/test__stasis_8c_source.html#l00970">check_cache_aggregate()</a>, <a class="el" href="../../dd/d92/confbridge__manager_8c_source.html#l00414">conf_send_event_to_participants()</a>, <a class="el" href="../../dd/d92/confbridge__manager_8c_source.html#l00624">confbridge_atxfer_cb()</a>, <a class="el" href="../../dd/d92/confbridge__manager_8c_source.html#l00525">confbridge_publish_manager_event()</a>, <a class="el" href="../../dd/d92/confbridge__manager_8c_source.html#l00678">confbridge_talking_cb()</a>, <a class="el" href="../../d6/dd1/test__devicestate_8c_source.html#l00415">consumer_exec()</a>, <a class="el" href="../../d3/daf/stasis__endpoints_8c_source.html#l00203">contactstatus_to_ami()</a>, <a class="el" href="../../d3/daf/stasis__endpoints_8c_source.html#l00237">contactstatus_to_json()</a>, <a class="el" href="../../d1/da4/res__corosync_8c_source.html#l00175">corosync_ping_to_event()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l01741">dahdichannel_to_ami()</a>, <a class="el" href="../../d1/d80/devicestate_8c_source.html#l00818">device_state_aggregate_calc()</a>, <a class="el" href="../../da/dfb/app__queue_8c_source.html#l02503">device_state_cb()</a>, <a class="el" href="../../d1/d80/devicestate_8c_source.html#l00761">device_state_get_id()</a>, <a class="el" href="../../d1/d80/devicestate_8c_source.html#l00309">devstate_cached()</a>, <a class="el" href="../../d1/d80/devicestate_8c_source.html#l00583">devstate_change_cb()</a>, <a class="el" href="../../d1/d80/devicestate_8c_source.html#l00938">devstate_to_ami()</a>, <a class="el" href="../../d1/d80/devicestate_8c_source.html#l00956">devstate_to_event()</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01433">dial_to_json()</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01385">dtmf_end_to_json()</a>, <a class="el" href="../../d6/d6a/res__endpoint__stats_8c_source.html#l00095">dump_cache_load()</a>, <a class="el" href="../../d6/d6a/res__endpoint__stats_8c_source.html#l00105">dump_cache_unload()</a>, <a class="el" href="../../db/d00/test__stasis_8c_source.html#l02193">dump_consumer()</a>, <a class="el" href="../../d7/d4b/main_2endpoints_8c_source.html#l00183">endpoint_cache_clear()</a>, <a class="el" href="../../d3/daf/stasis__endpoints_8c_source.html#l00384">endpoint_snapshot_get_id()</a>, <a class="el" href="../../d6/d2c/res_2prometheus_2endpoints_8c_source.html#l00097">endpoints_scrape_cb()</a>, <a class="el" href="../../de/d6b/test__stasis__state_8c_source.html#l00293">explicit_publish_cb()</a>, <a class="el" href="../../db/d00/test__stasis_8c_source.html#l00056">fake_ami()</a>, <a class="el" href="../../db/d00/test__stasis_8c_source.html#l00049">fake_json()</a>, <a class="el" href="../../d2/d78/stasis__message__router_8c_source.html#l00155">find_route()</a>, <a class="el" href="../../d2/db9/app__forkcdr_8c_source.html#l00115">forkcdr_callback()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02761">generic_agent_devstate_cb()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01484">generic_monitor_devstate_cb()</a>, <a class="el" href="../../dd/d92/confbridge__manager_8c_source.html#l00564">get_bool_header()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l29726">get_cached_mwi()</a>, <a class="el" href="../../da/dfb/app__queue_8c_source.html#l06206">handle_attended_transfer()</a>, <a class="el" href="../../da/dfb/app__queue_8c_source.html#l06146">handle_blind_transfer()</a>, <a class="el" href="../../da/dfb/app__queue_8c_source.html#l06112">handle_bridge_enter()</a>, <a class="el" href="../../dc/df2/cdr_8c_source.html#l02708">handle_bridge_enter_message()</a>, <a class="el" href="../../dc/df2/cdr_8c_source.html#l02404">handle_bridge_leave_message()</a>, <a class="el" href="../../dc/df2/cdr_8c_source.html#l02278">handle_channel_snapshot_update_message()</a>, <a class="el" href="../../dc/df2/cdr_8c_source.html#l02105">handle_dial_message()</a>, <a class="el" href="../../da/dfb/app__queue_8c_source.html#l06398">handle_hangup()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l03537">handle_hint_change_message_type()</a>, <a class="el" href="../../da/dfb/app__queue_8c_source.html#l06281">handle_local_optimization_begin()</a>, <a class="el" href="../../da/dfb/app__queue_8c_source.html#l06333">handle_local_optimization_end()</a>, <a class="el" href="../../da/dfb/app__queue_8c_source.html#l06455">handle_masquerade()</a>, <a class="el" href="../../d6/db4/mwi_8c_source.html#l00313">handle_mwi_state()</a>, <a class="el" href="../../dc/df2/cdr_8c_source.html#l02751">handle_parked_call_message()</a>, <a class="el" href="../../d1/d97/chan__dahdi_8c_source.html#l05033">has_voicemail()</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01535">hold_to_json()</a>, <a class="el" href="../../de/d6b/test__stasis__state_8c_source.html#l00272">implicit_publish_cb()</a>, <a class="el" href="../../db/d00/test__stasis_8c_source.html#l02178">is_msg()</a>, <a class="el" href="../../de/d47/core__local_8c_source.html#l00463">local_message_to_ami()</a>, <a class="el" href="../../d4/d10/manager_8c_source.html#l01869">manager_generic_msg_cb()</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l01226">meetme_stasis_cb()</a>, <a class="el" href="../../d3/d97/res__musiconhold_8c_source.html#l00239">moh_post_start()</a>, <a class="el" href="../../d3/d97/res__musiconhold_8c_source.html#l00264">moh_post_stop()</a>, <a class="el" href="../../d0/df4/stasis_8c_source.html#l02155">multi_user_event_to_ami()</a>, <a class="el" href="../../d0/df4/stasis_8c_source.html#l02045">multi_user_event_to_json()</a>, <a class="el" href="../../d4/d00/manager__mwi_8c_source.html#l00055">mwi_app_event_cb()</a>, <a class="el" href="../../d0/d80/chan__skinny_8c_source.html#l03554">mwi_event_cb()</a>, <a class="el" href="../../d8/d25/res__pjsip__mwi_8c_source.html#l01483">mwi_startup_event_cb()</a>, <a class="el" href="../../d6/db4/mwi_8c_source.html#l00441">mwi_state_get_id()</a>, <a class="el" href="../../d6/db4/mwi_8c_source.html#l00038">mwi_to_event()</a>, <a class="el" href="../../d4/d00/manager__mwi_8c_source.html#l00086">mwi_update_cb()</a>, <a class="el" href="../../da/ded/parking__applications_8c_source.html#l00859">park_announce_update_cb()</a>, <a class="el" href="../../d1/db7/parking__bridge__features_8c_source.html#l00158">parker_update_cb()</a>, <a class="el" href="../../d0/d39/parking__manager_8c_source.html#l00677">parking_event_cb()</a>, <a class="el" href="../../d3/daf/stasis__endpoints_8c_source.html#l00128">peerstatus_to_ami()</a>, <a class="el" href="../../d3/daf/stasis__endpoints_8c_source.html#l00163">peerstatus_to_json()</a>, <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00095">playback_to_json()</a>, <a class="el" href="../../d5/d07/presencestate_8c_source.html#l00125">presence_state_cached()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08333">presence_state_cb()</a>, <a class="el" href="../../d5/d07/presencestate_8c_source.html#l00380">presence_state_get_id()</a>, <a class="el" href="../../d5/d07/presencestate_8c_source.html#l00525">presence_state_to_ami()</a>, <a class="el" href="../../da/dfb/app__queue_8c_source.html#l05895">queue_agent_cb()</a>, <a class="el" href="../../da/dfb/app__queue_8c_source.html#l01976">queue_channel_to_ami()</a>, <a class="el" href="../../da/dfb/app__queue_8c_source.html#l02020">queue_member_to_ami()</a>, <a class="el" href="../../da/dfb/app__queue_8c_source.html#l02084">queue_multi_channel_to_ami()</a>, <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00073">recording_to_json()</a>, <a class="el" href="../../d1/d75/res__pjsip__refer_8c_source.html#l00181">refer_progress_bridge()</a>, <a class="el" href="../../d6/d5d/pjsip__outbound__registrations_8c_source.html#l00267">registry_message_cb()</a>, <a class="el" href="../../d6/dd1/test__devicestate_8c_source.html#l00479">remove_device_states_cb()</a>, <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l03297">rtcp_report_to_ami()</a>, <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l03387">rtcp_report_to_json()</a>, <a class="el" href="../../d8/d30/main_2security__events_8c_source.html#l00455">security_event_to_ami()</a>, <a class="el" href="../../dd/d1e/res__security__log_8c_source.html#l00117">security_stasis_cb()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l29861">session_timeout_to_ami()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l35461">startup_event_cb()</a>, <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l00115">stasis_end_to_json()</a>, <a class="el" href="../../d2/d80/res__stasis_8c_source.html#l00147">stasis_start_to_json()</a>, <a class="el" href="../../dc/d1d/stasis__state_8c_source.html#l00497">stasis_state_subscriber_data()</a>, <a class="el" href="../../d0/df4/stasis_8c_source.html#l01176">stasis_subscription_final_message()</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00682">sub_bridge_update_handler()</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00543">sub_channel_update_handler()</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00628">sub_endpoint_update_handler()</a>, <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l01772">subscription_persistence_event_cb()</a>, <a class="el" href="../../df/da0/stasis__system_8c_source.html#l00152">system_registry_to_ami()</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01483">talking_start_to_ami()</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01507">talking_stop_to_ami()</a>, <a class="el" href="../../d0/d81/func__presencestate_8c_source.html#l00693">test_cb()</a>, <a class="el" href="../../d8/db9/test_8c_source.html#l01100">test_suite_event_to_ami()</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01557">unhold_to_json()</a>, <a class="el" href="../../d1/d6d/chan__unistim_8c_source.html#l05675">unistim_send_mwi_to_peer()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l09002">update_registry()</a>, <a class="el" href="../../d0/dff/res__chan__stats_8c_source.html#l00089">updates()</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01175">varset_to_ami()</a>, <a class="el" href="../../dc/d6b/res__xmpp_8c_source.html#l01364">xmpp_pubsub_devstate_cb()</a>, and <a class="el" href="../../dc/d6b/res__xmpp_8c_source.html#l01336">xmpp_pubsub_mwi_cb()</a>.</p>
<div class="fragment"><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;{</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;   <span class="keywordflow">if</span> (msg == <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;   }</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;   <span class="keywordflow">return</span> msg-&gt;<a class="code" href="../../d7/d55/structstasis__message.html#a735984d41155bc1032e09bece8f8d66d">data</a>;</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;}</div><div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structstasis__message_html_a735984d41155bc1032e09bece8f8d66d"><div class="ttname"><a href="../../d7/d55/structstasis__message.html#a735984d41155bc1032e09bece8f8d66d">stasis_message::data</a></div><div class="ttdeci">void * data</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db9/stasis__message_8c_source.html#l00129">stasis_message.c:129</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a45177efd00399bdd5026f27091240305"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a45177efd00399bdd5026f27091240305">&#9670;&nbsp;</a></span>stasis_message_dtor()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void stasis_message_dtor </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>obj</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/db9/stasis__message_8c_source.html#l00134">134</a> of file <a class="el" href="../../d2/db9/stasis__message_8c_source.html">stasis_message.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, and <a class="el" href="../../d2/db9/stasis__message_8c_source.html#l00129">stasis_message::data</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/db9/stasis__message_8c_source.html#l00140">stasis_message_create_full()</a>.</p>
<div class="fragment"><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;{</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d7/d55/structstasis__message.html">stasis_message</a> *<a class="code" href="../../d8/d9e/structmessage.html">message</a> = obj;</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;   <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>(message-&gt;<a class="code" href="../../d7/d55/structstasis__message.html#a735984d41155bc1032e09bece8f8d66d">data</a>);</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;}</div><div class="ttc" id="structmessage_html"><div class="ttname"><a href="../../d8/d9e/structmessage.html">message</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/d45/manager_8h_source.html#l00144">manager.h:144</a></div></div>
<div class="ttc" id="structstasis__message_html"><div class="ttname"><a href="../../d7/d55/structstasis__message.html">stasis_message</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db9/stasis__message_8c_source.html#l00121">stasis_message.c:121</a></div></div>
<div class="ttc" id="structstasis__message_html_a735984d41155bc1032e09bece8f8d66d"><div class="ttname"><a href="../../d7/d55/structstasis__message.html#a735984d41155bc1032e09bece8f8d66d">stasis_message::data</a></div><div class="ttdeci">void * data</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db9/stasis__message_8c_source.html#l00129">stasis_message.c:129</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae5dc2372860d977cc3e2a8e9af24aeaf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae5dc2372860d977cc3e2a8e9af24aeaf">&#9670;&nbsp;</a></span>stasis_message_eid()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const struct <a class="el" href="../../d0/d86/structast__eid.html">ast_eid</a>* stasis_message_eid </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d7/d55/structstasis__message.html">stasis_message</a> *&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the entity id for a <a class="el" href="../../d7/d55/structstasis__message.html">stasis_message</a>. </p>
<dl class="section since"><dt>Since</dt><dd>12.2.0</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>Message to get eid.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">Entity</td><td>id of <em>msg</em> </td></tr>
    <tr><td class="paramname"></td><td></td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d2/db9/stasis__message_8c_source.html#l00179">179</a> of file <a class="el" href="../../d2/db9/stasis__message_8c_source.html">stasis_message.c</a>.</p>

<p class="reference">References <a class="el" href="../../d2/db9/stasis__message_8c_source.html#l00127">stasis_message::eid_ptr</a>, and <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d00/test__stasis_8c_source.html#l00099">AST_TEST_DEFINE()</a>, <a class="el" href="../../d0/da9/stasis__cache_8c_source.html#l00631">cache_entry_by_eid()</a>, <a class="el" href="../../d0/da9/stasis__cache_8c_source.html#l00212">cache_entry_create()</a>, <a class="el" href="../../d0/da9/stasis__cache_8c_source.html#l00425">cache_remove()</a>, <a class="el" href="../../d0/da9/stasis__cache_8c_source.html#l00466">cache_udpate()</a>, <a class="el" href="../../d0/da9/stasis__cache_8c_source.html#l00833">caching_topic_exec()</a>, and <a class="el" href="../../d1/da4/res__corosync_8c_source.html#l00623">clear_node_cache()</a>.</p>
<div class="fragment"><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;{</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;   <span class="keywordflow">if</span> (msg == <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;   }</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;   <span class="keywordflow">return</span> msg-&gt;<a class="code" href="../../d7/d55/structstasis__message.html#afeb01b4380f565c50af8cfc4c6ea036d">eid_ptr</a>;</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;}</div><div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structstasis__message_html_afeb01b4380f565c50af8cfc4c6ea036d"><div class="ttname"><a href="../../d7/d55/structstasis__message.html#afeb01b4380f565c50af8cfc4c6ea036d">stasis_message::eid_ptr</a></div><div class="ttdeci">const struct ast_eid * eid_ptr</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db9/stasis__message_8c_source.html#l00127">stasis_message.c:127</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a0a9c10eadd9db34f8c0b19619752ea93"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a9c10eadd9db34f8c0b19619752ea93">&#9670;&nbsp;</a></span>stasis_message_timestamp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const struct timeval* stasis_message_timestamp </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d7/d55/structstasis__message.html">stasis_message</a> *&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the time when a message was created. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>Message. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pointer to the <em>timeval</em> when the message was created. </dd>
<dd>
<code>NULL</code> if msg is <code>NULL</code>. </dd></dl>
<dl class="section since"><dt>Since</dt><dd>12 </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d2/db9/stasis__message_8c_source.html#l00203">203</a> of file <a class="el" href="../../d2/db9/stasis__message_8c_source.html">stasis_message.c</a>.</p>

<p class="reference">References <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../d2/db9/stasis__message_8c_source.html#l00123">stasis_message::timestamp</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/d0f/stasis__bridges_8c_source.html#l00438">ast_bridge_merge_message_to_json()</a>, <a class="el" href="../../da/d0f/stasis__bridges_8c_source.html#l00653">ast_channel_entered_bridge_to_json()</a>, <a class="el" href="../../da/d0f/stasis__bridges_8c_source.html#l00663">ast_channel_left_bridge_to_json()</a>, <a class="el" href="../../db/d00/test__stasis_8c_source.html#l00099">AST_TEST_DEFINE()</a>, <a class="el" href="../../da/d0f/stasis__bridges_8c_source.html#l00967">attended_transfer_to_json()</a>, <a class="el" href="../../da/d0f/stasis__bridges_8c_source.html#l00799">blind_transfer_to_json()</a>, <a class="el" href="../../da/dc9/cel_8c_source.html#l01305">cel_attended_transfer_cb()</a>, <a class="el" href="../../da/dc9/cel_8c_source.html#l01279">cel_blind_transfer_cb()</a>, <a class="el" href="../../da/dc9/cel_8c_source.html#l01047">cel_bridge_enter_cb()</a>, <a class="el" href="../../da/dc9/cel_8c_source.html#l01077">cel_bridge_leave_cb()</a>, <a class="el" href="../../da/dc9/cel_8c_source.html#l01229">cel_dial_cb()</a>, <a class="el" href="../../da/dc9/cel_8c_source.html#l01256">cel_generic_cb()</a>, <a class="el" href="../../da/dc9/cel_8c_source.html#l01392">cel_local_cb()</a>, <a class="el" href="../../da/dc9/cel_8c_source.html#l01107">cel_parking_cb()</a>, <a class="el" href="../../da/dc9/cel_8c_source.html#l01368">cel_pickup_cb()</a>, <a class="el" href="../../da/dc9/cel_8c_source.html#l00994">cel_snapshot_update_cb()</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01338">channel_blob_to_json()</a>, <a class="el" href="../../d3/daf/stasis__endpoints_8c_source.html#l00237">contactstatus_to_json()</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01433">dial_to_json()</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01385">dtmf_end_to_json()</a>, <a class="el" href="../../dc/df2/cdr_8c_source.html#l02708">handle_bridge_enter_message()</a>, <a class="el" href="../../dc/df2/cdr_8c_source.html#l02404">handle_bridge_leave_message()</a>, <a class="el" href="../../dc/df2/cdr_8c_source.html#l02278">handle_channel_snapshot_update_message()</a>, <a class="el" href="../../dc/df2/cdr_8c_source.html#l02105">handle_dial_message()</a>, <a class="el" href="../../dc/df2/cdr_8c_source.html#l02751">handle_parked_call_message()</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01535">hold_to_json()</a>, <a class="el" href="../../d0/df4/stasis_8c_source.html#l02045">multi_user_event_to_json()</a>, <a class="el" href="../../dd/d92/confbridge__manager_8c_source.html#l00329">pack_bridge_and_channels()</a>, <a class="el" href="../../d3/daf/stasis__endpoints_8c_source.html#l00163">peerstatus_to_json()</a>, <a class="el" href="../../d7/de1/res__stasis__playback_8c_source.html#l00095">playback_to_json()</a>, <a class="el" href="../../d8/d4c/res__stasis__recording_8c_source.html#l00073">recording_to_json()</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00682">sub_bridge_update_handler()</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00543">sub_channel_update_handler()</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00628">sub_endpoint_update_handler()</a>, <a class="el" href="../../dc/d2b/stasis__channels_8c_source.html#l01557">unhold_to_json()</a>, and <a class="el" href="../../d0/dff/res__chan__stats_8c_source.html#l00089">updates()</a>.</p>
<div class="fragment"><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;{</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;   <span class="keywordflow">if</span> (msg == <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;   }</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;   <span class="keywordflow">return</span> &amp;msg-&gt;<a class="code" href="../../d7/d55/structstasis__message.html#a175ebf16736553ad076aefe3f02d180c">timestamp</a>;</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;}</div><div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structstasis__message_html_a175ebf16736553ad076aefe3f02d180c"><div class="ttname"><a href="../../d7/d55/structstasis__message.html#a175ebf16736553ad076aefe3f02d180c">stasis_message::timestamp</a></div><div class="ttdeci">struct timeval timestamp</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db9/stasis__message_8c_source.html#l00123">stasis_message.c:123</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="adf8e3a27e9995917eb0bc043acd1316a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf8e3a27e9995917eb0bc043acd1316a">&#9670;&nbsp;</a></span>stasis_message_to_ami()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../dd/d96/structast__manager__event__blob.html">ast_manager_event_blob</a>* stasis_message_to_ami </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d7/d55/structstasis__message.html">stasis_message</a> *&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Build the AMI representation of the message. </p>
<p>May return <code>NULL</code>, to indicate no representation. The returned object should be <a class="el" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup()</a>'ed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>Message to convert to AMI. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>NULL</code> on error. </dd>
<dd>
<code>NULL</code> if AMI format is not supported. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d2/db9/stasis__message_8c_source.html#l00224">224</a> of file <a class="el" href="../../d2/db9/stasis__message_8c_source.html">stasis_message.c</a>.</p>

<p class="reference">References <a class="el" href="../../d2/db9/stasis__message_8c_source.html#l00211">INVOKE_VIRTUAL</a>, and <a class="el" href="../../d2/d3d/res__pjsip__exten__state_8c_source.html#l00542">to_ami()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/d1d/res__manager__devicestate_8c_source.html#l00073">action_devicestatelist()</a>, <a class="el" href="../../d3/d2d/res__manager__presencestate_8c_source.html#l00073">action_presencestatelist()</a>, <a class="el" href="../../db/d00/test__stasis_8c_source.html#l01892">AST_TEST_DEFINE()</a>, and <a class="el" href="../../d4/d10/manager_8c_source.html#l01838">manager_default_msg_cb()</a>.</p>
<div class="fragment"><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;{</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d2/db9/stasis__message_8c.html#ab93a8e3900b856699ffb2eb8e1c76248">INVOKE_VIRTUAL</a>(<a class="code" href="../../d2/d3d/res__pjsip__exten__state_8c.html#ae8731a90be4dc2d8272b7dfd8a001d4c">to_ami</a>, msg);</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;}</div><div class="ttc" id="stasis__message_8c_html_ab93a8e3900b856699ffb2eb8e1c76248"><div class="ttname"><a href="../../d2/db9/stasis__message_8c.html#ab93a8e3900b856699ffb2eb8e1c76248">INVOKE_VIRTUAL</a></div><div class="ttdeci">#define INVOKE_VIRTUAL(fn,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db9/stasis__message_8c_source.html#l00211">stasis_message.c:211</a></div></div>
<div class="ttc" id="res__pjsip__exten__state_8c_html_ae8731a90be4dc2d8272b7dfd8a001d4c"><div class="ttname"><a href="../../d2/d3d/res__pjsip__exten__state_8c.html#ae8731a90be4dc2d8272b7dfd8a001d4c">to_ami</a></div><div class="ttdeci">static void to_ami(struct ast_sip_subscription *sub, struct ast_str **buf)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d3d/res__pjsip__exten__state_8c_source.html#l00542">res_pjsip_exten_state.c:542</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa90ab45287904a603efb31319aaf8b91"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa90ab45287904a603efb31319aaf8b91">&#9670;&nbsp;</a></span>stasis_message_to_event()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d5/d78/structast__event.html">ast_event</a>* stasis_message_to_event </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d7/d55/structstasis__message.html">stasis_message</a> *&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Build the <a class="el" href="../../db/d28/AstGenericEvents.html">Generic event system</a> representation of the message. </p>
<p>May return <code>NULL</code>, to indicate no representation. The returned object should be disposed of via <a class="el" href="../../d0/deb/event_8c.html#a50b34e0161630dbbc0880a06eb78ad7a">ast_event_destroy</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>Message to convert to AMI. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>NULL</code> on error. </dd>
<dd>
<code>NULL</code> if AMI format is not supported. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d2/db9/stasis__message_8c_source.html#l00236">236</a> of file <a class="el" href="../../d2/db9/stasis__message_8c_source.html">stasis_message.c</a>.</p>

<p class="reference">References <a class="el" href="../../d2/db9/stasis__message_8c_source.html#l00211">INVOKE_VIRTUAL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/da4/res__corosync_8c_source.html#l00571">publish_to_corosync()</a>.</p>
<div class="fragment"><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;{</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d2/db9/stasis__message_8c.html#ab93a8e3900b856699ffb2eb8e1c76248">INVOKE_VIRTUAL</a>(to_event, msg);</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;}</div><div class="ttc" id="stasis__message_8c_html_ab93a8e3900b856699ffb2eb8e1c76248"><div class="ttname"><a href="../../d2/db9/stasis__message_8c.html#ab93a8e3900b856699ffb2eb8e1c76248">INVOKE_VIRTUAL</a></div><div class="ttdeci">#define INVOKE_VIRTUAL(fn,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db9/stasis__message_8c_source.html#l00211">stasis_message.c:211</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a415493fbb3571cc6c9e7ac599309110f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a415493fbb3571cc6c9e7ac599309110f">&#9670;&nbsp;</a></span>stasis_message_to_json()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d1/da1/structast__json.html">ast_json</a>* stasis_message_to_json </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d7/d55/structstasis__message.html">stasis_message</a> *&#160;</td>
          <td class="paramname"><em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d4/d45/structstasis__message__sanitizer.html">stasis_message_sanitizer</a> *&#160;</td>
          <td class="paramname"><em>sanitize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Build the JSON representation of the message. </p>
<p>May return <code>NULL</code>, to indicate no representation. The returned object should be <a class="el" href="../../d4/d05/json_8h.html#a33bcd9181e613a659eefe411ec42c87c" title="Decrease refcount on value. If refcount reaches zero, value is freed. ">ast_json_unref()</a>'ed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>Message to convert to JSON string. </td></tr>
    <tr><td class="paramname">sanitize</td><td>Snapshot sanitization callback.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Newly allocated string with JSON message. </dd>
<dd>
<code>NULL</code> on error. </dd>
<dd>
<code>NULL</code> if JSON format is not supported. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d2/db9/stasis__message_8c_source.html#l00229">229</a> of file <a class="el" href="../../d2/db9/stasis__message_8c_source.html">stasis_message.c</a>.</p>

<p class="reference">References <a class="el" href="../../d2/db9/stasis__message_8c_source.html#l00211">INVOKE_VIRTUAL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d00/test__stasis_8c_source.html#l01821">AST_TEST_DEFINE()</a>, <a class="el" href="../../d4/d8f/res__hep__rtcp_8c_source.html#l00085">rtcp_message_handler()</a>, and <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00347">sub_default_handler()</a>.</p>
<div class="fragment"><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;{</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d2/db9/stasis__message_8c.html#ab93a8e3900b856699ffb2eb8e1c76248">INVOKE_VIRTUAL</a>(to_json, msg, sanitize);</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;}</div><div class="ttc" id="stasis__message_8c_html_ab93a8e3900b856699ffb2eb8e1c76248"><div class="ttname"><a href="../../d2/db9/stasis__message_8c.html#ab93a8e3900b856699ffb2eb8e1c76248">INVOKE_VIRTUAL</a></div><div class="ttdeci">#define INVOKE_VIRTUAL(fn,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db9/stasis__message_8c_source.html#l00211">stasis_message.c:211</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a9356e8a29344ca4eac93088198ccff89"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9356e8a29344ca4eac93088198ccff89">&#9670;&nbsp;</a></span>stasis_message_type()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a>* <a class="el" href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a> </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d7/d55/structstasis__message.html">stasis_message</a> *&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the message type for a <a class="el" href="../../d7/d55/structstasis__message.html">stasis_message</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>Message to type </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Type of <em>msg</em> </dd>
<dd>
<code>NULL</code> if <em>msg</em> is <code>NULL</code>. </dd></dl>
<dl class="section since"><dt>Since</dt><dd>12 </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d2/db9/stasis__message_8c_source.html#l00187">187</a> of file <a class="el" href="../../d2/db9/stasis__message_8c_source.html">stasis_message.c</a>.</p>

<p class="reference">References <a class="el" href="../../dc/d7f/resample_8c_source.html#l00096">NULL</a>, and <a class="el" href="../../d2/db9/stasis__message_8c_source.html#l00125">stasis_message::type</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l01512">acl_change_stasis_cb()</a>, <a class="el" href="../../d1/da0/app__cdr_8c_source.html#l00131">appcdr_callback()</a>, <a class="el" href="../../db/d00/test__stasis_8c_source.html#l00099">AST_TEST_DEFINE()</a>, <a class="el" href="../../dc/d7a/res__pjsip__publish__asterisk_8c_source.html#l00173">asterisk_publisher_devstate_cb()</a>, <a class="el" href="../../dc/d7a/res__pjsip__publish__asterisk_8c_source.html#l00232">asterisk_publisher_mwistate_cb()</a>, <a class="el" href="../../d0/da9/stasis__cache_8c_source.html#l00212">cache_entry_create()</a>, <a class="el" href="../../d0/da9/stasis__cache_8c_source.html#l00505">cache_put()</a>, <a class="el" href="../../db/d00/test__stasis_8c_source.html#l01699">cache_simple()</a>, <a class="el" href="../../db/d00/test__stasis_8c_source.html#l00911">cache_test_aggregate_calc_fn()</a>, <a class="el" href="../../db/d00/test__stasis_8c_source.html#l00901">cache_test_data_id()</a>, <a class="el" href="../../d5/d3c/test__stasis__endpoints_8c_source.html#l00048">cache_update()</a>, <a class="el" href="../../d0/da9/stasis__cache_8c_source.html#l00833">caching_topic_exec()</a>, <a class="el" href="../../d7/dd2/func__cdr_8c_source.html#l00400">cdr_prop_write_callback()</a>, <a class="el" href="../../d7/dd2/func__cdr_8c_source.html#l00248">cdr_read_callback()</a>, <a class="el" href="../../d7/dd2/func__cdr_8c_source.html#l00357">cdr_write_callback()</a>, <a class="el" href="../../dd/d92/confbridge__manager_8c_source.html#l00414">conf_send_event_to_participants()</a>, <a class="el" href="../../dd/d92/confbridge__manager_8c_source.html#l00525">confbridge_publish_manager_event()</a>, <a class="el" href="../../da/dfb/app__queue_8c_source.html#l02503">device_state_cb()</a>, <a class="el" href="../../d1/d80/devicestate_8c_source.html#l00761">device_state_get_id()</a>, <a class="el" href="../../d1/d80/devicestate_8c_source.html#l00583">devstate_change_cb()</a>, <a class="el" href="../../d0/df4/stasis_8c_source.html#l01314">dispatch_message()</a>, <a class="el" href="../../db/d00/test__stasis_8c_source.html#l02193">dump_consumer()</a>, <a class="el" href="../../d3/daf/stasis__endpoints_8c_source.html#l00384">endpoint_snapshot_get_id()</a>, <a class="el" href="../../d2/d78/stasis__message__router_8c_source.html#l00155">find_route()</a>, <a class="el" href="../../d2/db9/app__forkcdr_8c_source.html#l00115">forkcdr_callback()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l02761">generic_agent_devstate_cb()</a>, <a class="el" href="../../d3/d5a/ccss_8c_source.html#l01484">generic_monitor_devstate_cb()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l03537">handle_hint_change_message_type()</a>, <a class="el" href="../../db/d00/test__stasis_8c_source.html#l02178">is_msg()</a>, <a class="el" href="../../de/d47/core__local_8c_source.html#l00463">local_message_to_ami()</a>, <a class="el" href="../../df/d44/app__meetme_8c_source.html#l01226">meetme_stasis_cb()</a>, <a class="el" href="../../da/dca/res__stasis__test_8c_source.html#l00108">message_sink_cb()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l17528">mwi_event_cb()</a>, <a class="el" href="../../d8/d25/res__pjsip__mwi_8c_source.html#l01483">mwi_startup_event_cb()</a>, <a class="el" href="../../d8/d25/res__pjsip__mwi_8c_source.html#l01156">mwi_stasis_cb()</a>, <a class="el" href="../../d6/db4/mwi_8c_source.html#l00441">mwi_state_get_id()</a>, <a class="el" href="../../d4/d00/manager__mwi_8c_source.html#l00086">mwi_update_cb()</a>, <a class="el" href="../../d5/dff/chan__iax2_8c_source.html#l01498">network_change_stasis_cb()</a>, <a class="el" href="../../dd/d92/confbridge__manager_8c_source.html#l00329">pack_bridge_and_channels()</a>, <a class="el" href="../../da/ded/parking__applications_8c_source.html#l00859">park_announce_update_cb()</a>, <a class="el" href="../../d1/db7/parking__bridge__features_8c_source.html#l00158">parker_update_cb()</a>, <a class="el" href="../../d0/d39/parking__manager_8c_source.html#l00677">parking_event_cb()</a>, <a class="el" href="../../db/d94/pbx_8c_source.html#l08333">presence_state_cb()</a>, <a class="el" href="../../d5/d07/presencestate_8c_source.html#l00380">presence_state_get_id()</a>, <a class="el" href="../../d0/df4/stasis_8c_source.html#l01432">publish_msg()</a>, <a class="el" href="../../da/dfb/app__queue_8c_source.html#l05895">queue_agent_cb()</a>, <a class="el" href="../../d1/d75/res__pjsip__refer_8c_source.html#l00181">refer_progress_bridge()</a>, <a class="el" href="../../da/dbe/rtp__engine_8c_source.html#l03297">rtcp_report_to_ami()</a>, <a class="el" href="../../d4/d8f/res__hep__rtcp_8c_source.html#l00148">rtp_topic_handler()</a>, <a class="el" href="../../d8/d30/main_2security__events_8c_source.html#l00455">security_event_to_ami()</a>, <a class="el" href="../../dd/d1e/res__security__log_8c_source.html#l00117">security_stasis_cb()</a>, <a class="el" href="../../d5/dfe/chan__sip_8c_source.html#l35461">startup_event_cb()</a>, <a class="el" href="../../d0/df4/stasis_8c_source.html#l01176">stasis_subscription_final_message()</a>, <a class="el" href="../../d0/dff/res__chan__stats_8c_source.html#l00057">statsmaker()</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00347">sub_default_handler()</a>, <a class="el" href="../../d3/d5e/res_2stasis_2app_8c_source.html#l00628">sub_endpoint_update_handler()</a>, <a class="el" href="../../d0/df4/stasis_8c_source.html#l00756">subscription_invoke()</a>, <a class="el" href="../../d8/dca/res__pjsip__pubsub_8c_source.html#l01772">subscription_persistence_event_cb()</a>, <a class="el" href="../../d0/d81/func__presencestate_8c_source.html#l00693">test_cb()</a>, <a class="el" href="../../d0/da9/stasis__cache_8c_source.html#l00795">update_create()</a>, <a class="el" href="../../dc/d6b/res__xmpp_8c_source.html#l01364">xmpp_pubsub_devstate_cb()</a>, and <a class="el" href="../../dc/d6b/res__xmpp_8c_source.html#l01336">xmpp_pubsub_mwi_cb()</a>.</p>
<div class="fragment"><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;{</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;   <span class="keywordflow">if</span> (msg == <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;   }</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;   <span class="keywordflow">return</span> msg-&gt;<a class="code" href="../../d7/d55/structstasis__message.html#a39694abd1b80d3c9ef0619acf9d493aa">type</a>;</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;}</div><div class="ttc" id="resample_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dc/d7f/resample_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d7f/resample_8c_source.html#l00096">resample.c:96</a></div></div>
<div class="ttc" id="structstasis__message_html_a39694abd1b80d3c9ef0619acf9d493aa"><div class="ttname"><a href="../../d7/d55/structstasis__message.html#a39694abd1b80d3c9ef0619acf9d493aa">stasis_message::type</a></div><div class="ttdeci">struct stasis_message_type * type</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db9/stasis__message_8c_source.html#l00125">stasis_message.c:125</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a1d26ee9c178d8f1d8d35dd4a7e598d3c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d26ee9c178d8f1d8d35dd4a7e598d3c">&#9670;&nbsp;</a></span>stasis_message_type_available_formatters()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../dd/d79/stasis_8h.html#a5ae672fb0f772d0e3066fa4c29c41814">stasis_subscription_message_formatters</a> stasis_message_type_available_formatters </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a> *&#160;</td>
          <td class="paramname"><em>message_type</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get a bitmap of available formatters for a message type. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">message_type</td><td>Message type </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A bitmap of <a class="el" href="../../dd/d79/stasis_8h.html#a5ae672fb0f772d0e3066fa4c29c41814">stasis_subscription_message_formatters</a></dd></dl>
<dl class="section since"><dt>Since</dt><dd>13.25.0 </dd>
<dd>
16.2.0 </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d2/db9/stasis__message_8c_source.html#l00114">114</a> of file <a class="el" href="../../d2/db9/stasis__message_8c_source.html">stasis_message.c</a>.</p>

<p class="reference">References <a class="el" href="../../d2/db9/stasis__message_8c_source.html#l00043">stasis_message_type::available_formatters</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/df4/stasis_8c_source.html#l01314">dispatch_message()</a>.</p>
<div class="fragment"><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;{</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;   <span class="keywordflow">return</span> type-&gt;<a class="code" href="../../d4/d8f/structstasis__message__type.html#af146c2c40e3c6ebd3f45d4118d9637fb">available_formatters</a>;</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;}</div><div class="ttc" id="structstasis__message__type_html_af146c2c40e3c6ebd3f45d4118d9637fb"><div class="ttname"><a href="../../d4/d8f/structstasis__message__type.html#af146c2c40e3c6ebd3f45d4118d9637fb">stasis_message_type::available_formatters</a></div><div class="ttdeci">enum stasis_subscription_message_formatters available_formatters</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db9/stasis__message_8c_source.html#l00043">stasis_message.c:43</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac9b3944643c00f77c42239f7edc6820f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac9b3944643c00f77c42239f7edc6820f">&#9670;&nbsp;</a></span>stasis_message_type_create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int stasis_message_type_create </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../dd/d3e/structstasis__message__vtable.html">stasis_message_vtable</a> *&#160;</td>
          <td class="paramname"><em>vtable</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a> **&#160;</td>
          <td class="paramname"><em>result</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a new message type. </p>
<p><a class="el" href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a> is an AO2 object, so <a class="el" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup()</a> when you're done with it.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">name</td><td>Name of the new type. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">vtable</td><td>Virtual table of message methods. May be <code>NULL</code>. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">result</td><td>The location where the new message type will be placed</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Stasis message type creation may be declined if the message type is disabled</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>A stasis_message_type_result enum </dd></dl>
<dl class="section since"><dt>Since</dt><dd>12 </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d2/db9/stasis__message_8c_source.html#l00056">56</a> of file <a class="el" href="../../d2/db9/stasis__message_8c_source.html">stasis_message.c</a>.</p>

<p class="reference">References <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00369">AO2_ALLOC_OPT_LOCK_NOLOCK</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l01958">ao2_cleanup</a>, <a class="el" href="../../d5/da5/astobj2_8h_source.html#l00404">ao2_t_alloc_options</a>, <a class="el" href="../../dd/d42/lock_8h_source.html#l00755">ast_atomic_fetchadd_int()</a>, <a class="el" href="../../df/d35/hashtab_8c_source.html#l00153">ast_hashtab_hash_string()</a>, <a class="el" href="../../d8/d8a/astmm_8h_source.html#l00243">ast_strdup</a>, <a class="el" href="../../d2/db9/stasis__message_8c_source.html#l00043">stasis_message_type::available_formatters</a>, <a class="el" href="../../d2/db9/stasis__message_8c_source.html#l00041">stasis_message_type::hash</a>, <a class="el" href="../../d2/db9/stasis__message_8c_source.html#l00042">stasis_message_type::id</a>, <a class="el" href="../../d2/db9/stasis__message_8c_source.html#l00049">message_type_dtor()</a>, <a class="el" href="../../d2/db9/stasis__message_8c_source.html#l00047">message_type_id</a>, <a class="el" href="../../d2/db9/stasis__message_8c_source.html#l00040">stasis_message_type::name</a>, <a class="el" href="../../d2/db9/stasis__message_8c_source.html#l00046">null_vtable</a>, <a class="el" href="../../dd/d79/stasis_8h_source.html#l00291">STASIS_MESSAGE_TYPE_DECLINED</a>, <a class="el" href="../../d0/df4/stasis_8c_source.html#l02283">stasis_message_type_declined()</a>, <a class="el" href="../../dd/d79/stasis_8h_source.html#l00289">STASIS_MESSAGE_TYPE_ERROR</a>, <a class="el" href="../../dd/d79/stasis_8h_source.html#l00290">STASIS_MESSAGE_TYPE_SUCCESS</a>, <a class="el" href="../../dd/d79/stasis_8h_source.html#l00314">STASIS_SUBSCRIPTION_FORMATTER_AMI</a>, <a class="el" href="../../dd/d79/stasis_8h_source.html#l00315">STASIS_SUBSCRIPTION_FORMATTER_EVENT</a>, <a class="el" href="../../dd/d79/stasis_8h_source.html#l00313">STASIS_SUBSCRIPTION_FORMATTER_JSON</a>, <a class="el" href="../../dd/d79/stasis_8h_source.html#l00266">stasis_message_vtable::to_ami</a>, <a class="el" href="../../dd/d79/stasis_8h_source.html#l00281">stasis_message_vtable::to_event</a>, <a class="el" href="../../dd/d79/stasis_8h_source.html#l00253">stasis_message_vtable::to_json</a>, <a class="el" href="../../d7/d49/chan__ooh323_8c_source.html#l00109">type</a>, and <a class="el" href="../../d2/db9/stasis__message_8c_source.html#l00039">stasis_message_type::vtable</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d00/test__stasis_8c_source.html#l00077">AST_TEST_DEFINE()</a>, and <a class="el" href="../../db/d00/test__stasis_8c_source.html#l02080">create_message_types()</a>.</p>
<div class="fragment"><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;{</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;   <span class="keyword">struct </span><a class="code" href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a> *<a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>;</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;   <span class="comment">/* Check for declination */</span></div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a> &amp;&amp; <a class="code" href="../../dd/d79/stasis_8h.html#a6c2e98dd27243b0fe07717c54c40d0b1">stasis_message_type_declined</a>(<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>)) {</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dd/d79/stasis_8h.html#af326808a49f64881cfa368ef2e5f49e3a56f95961ba428213b720264bd36fa08e">STASIS_MESSAGE_TYPE_DECLINED</a>;</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;   }</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;   type = <a class="code" href="../../d5/da5/astobj2_8h.html#a7d8e253a1db2dc47ed4af636c3ea89ce">ao2_t_alloc_options</a>(<span class="keyword">sizeof</span>(*type), <a class="code" href="../../d2/db9/stasis__message_8c.html#a37a5fd1a121e57501bd9fe0d83ba448a">message_type_dtor</a>,</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#a2cf7e3433f08351aafe3b0cd31edf7f8a23b60f2636bcfbc4dfeea6cc21bf847b">AO2_ALLOC_OPT_LOCK_NOLOCK</a>, <a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a> ?: <span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;   <span class="keywordflow">if</span> (!type) {</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dd/d79/stasis_8h.html#af326808a49f64881cfa368ef2e5f49e3a5cdf581193f897efeb4387c08e5688e8">STASIS_MESSAGE_TYPE_ERROR</a>;</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;   }</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;   <span class="keywordflow">if</span> (!vtable) {</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;      <span class="comment">/* Null object pattern, FTW! */</span></div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;      vtable = &amp;<a class="code" href="../../d2/db9/stasis__message_8c.html#ae9017e7abcabc89dfb08c4653d08733d">null_vtable</a>;</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;   }</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;   type-&gt;<a class="code" href="../../d4/d8f/structstasis__message__type.html#a5ac083a645d964373f022d03df4849c8">name</a> = <a class="code" href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a>(<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>);</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;   <span class="keywordflow">if</span> (!type-&gt;<a class="code" href="../../d4/d8f/structstasis__message__type.html#a5ac083a645d964373f022d03df4849c8">name</a>) {</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;      <a class="code" href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a>(type);</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dd/d79/stasis_8h.html#af326808a49f64881cfa368ef2e5f49e3a5cdf581193f897efeb4387c08e5688e8">STASIS_MESSAGE_TYPE_ERROR</a>;</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;   }</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;   type-&gt;<a class="code" href="../../d4/d8f/structstasis__message__type.html#a09f9a9ce240560b1d191b42ed56af642">hash</a> = <a class="code" href="../../d6/da0/hashtab_8h.html#af8904cce564fd39de28b566bb8c261eb">ast_hashtab_hash_string</a>(<a class="code" href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a>);</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;   type-&gt;<a class="code" href="../../d4/d8f/structstasis__message__type.html#a577ad3d8a0b5b866d55464d1b684b4e9">vtable</a> = <a class="code" href="../../d4/d8f/structstasis__message__type.html#a577ad3d8a0b5b866d55464d1b684b4e9">vtable</a>;</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;   <span class="keywordflow">if</span> (vtable-&gt;<a class="code" href="../../dd/d3e/structstasis__message__vtable.html#a8ebb74617e8d5134105fd04797d2fba7">to_json</a>) {</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;      type-&gt;<a class="code" href="../../d4/d8f/structstasis__message__type.html#af146c2c40e3c6ebd3f45d4118d9637fb">available_formatters</a> |= <a class="code" href="../../dd/d79/stasis_8h.html#a5ae672fb0f772d0e3066fa4c29c41814a9b0968d4d470737abacb289024559587">STASIS_SUBSCRIPTION_FORMATTER_JSON</a>;</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;   }</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;   <span class="keywordflow">if</span> (vtable-&gt;<a class="code" href="../../dd/d3e/structstasis__message__vtable.html#a92408bd64ea09c19566c897fe9a9ec69">to_ami</a>) {</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;      type-&gt;<a class="code" href="../../d4/d8f/structstasis__message__type.html#af146c2c40e3c6ebd3f45d4118d9637fb">available_formatters</a> |= <a class="code" href="../../dd/d79/stasis_8h.html#a5ae672fb0f772d0e3066fa4c29c41814a595ad92c7a80903c8a6f63a69d50c98d">STASIS_SUBSCRIPTION_FORMATTER_AMI</a>;</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;   }</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;   <span class="keywordflow">if</span> (vtable-&gt;<a class="code" href="../../dd/d3e/structstasis__message__vtable.html#af8252f3e39a79e8ac04f8a83993d0d09">to_event</a>) {</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;      type-&gt;<a class="code" href="../../d4/d8f/structstasis__message__type.html#af146c2c40e3c6ebd3f45d4118d9637fb">available_formatters</a> |= <a class="code" href="../../dd/d79/stasis_8h.html#a5ae672fb0f772d0e3066fa4c29c41814a225e305ebf20685fe0b8a6493b44ea09">STASIS_SUBSCRIPTION_FORMATTER_EVENT</a>;</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;   }</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;   type-&gt;<a class="code" href="../../d4/d8f/structstasis__message__type.html#a7441ef0865bcb3db9b8064dd7375c1ea">id</a> = <a class="code" href="../../dd/d42/lock_8h.html#a8a3bd496edfec04a95683ace66676200">ast_atomic_fetchadd_int</a>(&amp;<a class="code" href="../../d2/db9/stasis__message_8c.html#a744ceb580c661e018a750bee94f2a1c0">message_type_id</a>, +1);</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;   *result = <a class="code" href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a>;</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dd/d79/stasis_8h.html#af326808a49f64881cfa368ef2e5f49e3a69bbd642277d3d76eb62bc4736a3ab42">STASIS_MESSAGE_TYPE_SUCCESS</a>;</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;}</div><div class="ttc" id="chan__ooh323_8c_html_a4d63fdfe5451ec2248c16a2739190c56"><div class="ttname"><a href="../../d7/d49/chan__ooh323_8c.html#a4d63fdfe5451ec2248c16a2739190c56">type</a></div><div class="ttdeci">static const char type[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d49/chan__ooh323_8c_source.html#l00109">chan_ooh323.c:109</a></div></div>
<div class="ttc" id="structstasis__message__type_html_a09f9a9ce240560b1d191b42ed56af642"><div class="ttname"><a href="../../d4/d8f/structstasis__message__type.html#a09f9a9ce240560b1d191b42ed56af642">stasis_message_type::hash</a></div><div class="ttdeci">unsigned int hash</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db9/stasis__message_8c_source.html#l00041">stasis_message.c:41</a></div></div>
<div class="ttc" id="stasis_8h_html_a6c2e98dd27243b0fe07717c54c40d0b1"><div class="ttname"><a href="../../dd/d79/stasis_8h.html#a6c2e98dd27243b0fe07717c54c40d0b1">stasis_message_type_declined</a></div><div class="ttdeci">int stasis_message_type_declined(const char *name)</div><div class="ttdoc">Check whether a message type is declined. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df4/stasis_8c_source.html#l02283">stasis.c:2283</a></div></div>
<div class="ttc" id="astobj2_8h_html_a2cf7e3433f08351aafe3b0cd31edf7f8a23b60f2636bcfbc4dfeea6cc21bf847b"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a2cf7e3433f08351aafe3b0cd31edf7f8a23b60f2636bcfbc4dfeea6cc21bf847b">AO2_ALLOC_OPT_LOCK_NOLOCK</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00369">astobj2.h:369</a></div></div>
<div class="ttc" id="stasis__message_8c_html_a744ceb580c661e018a750bee94f2a1c0"><div class="ttname"><a href="../../d2/db9/stasis__message_8c.html#a744ceb580c661e018a750bee94f2a1c0">message_type_id</a></div><div class="ttdeci">static int message_type_id</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db9/stasis__message_8c_source.html#l00047">stasis_message.c:47</a></div></div>
<div class="ttc" id="stasis_8h_html_a5ae672fb0f772d0e3066fa4c29c41814a225e305ebf20685fe0b8a6493b44ea09"><div class="ttname"><a href="../../dd/d79/stasis_8h.html#a5ae672fb0f772d0e3066fa4c29c41814a225e305ebf20685fe0b8a6493b44ea09">STASIS_SUBSCRIPTION_FORMATTER_EVENT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d79/stasis_8h_source.html#l00315">stasis.h:315</a></div></div>
<div class="ttc" id="stasis_8h_html_a5ae672fb0f772d0e3066fa4c29c41814a595ad92c7a80903c8a6f63a69d50c98d"><div class="ttname"><a href="../../dd/d79/stasis_8h.html#a5ae672fb0f772d0e3066fa4c29c41814a595ad92c7a80903c8a6f63a69d50c98d">STASIS_SUBSCRIPTION_FORMATTER_AMI</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d79/stasis_8h_source.html#l00314">stasis.h:314</a></div></div>
<div class="ttc" id="astobj2_8h_html_a7d8e253a1db2dc47ed4af636c3ea89ce"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a7d8e253a1db2dc47ed4af636c3ea89ce">ao2_t_alloc_options</a></div><div class="ttdeci">#define ao2_t_alloc_options(data_size, destructor_fn, options, debug_msg)</div><div class="ttdoc">Allocate and initialize an object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l00404">astobj2.h:404</a></div></div>
<div class="ttc" id="astmm_8h_html_ab263849d03fb892847be4986db759737"><div class="ttname"><a href="../../d8/d8a/astmm_8h.html#ab263849d03fb892847be4986db759737">ast_strdup</a></div><div class="ttdeci">#define ast_strdup(str)</div><div class="ttdoc">A wrapper for strdup() </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8a/astmm_8h_source.html#l00243">astmm.h:243</a></div></div>
<div class="ttc" id="structstasis__message__vtable_html_af8252f3e39a79e8ac04f8a83993d0d09"><div class="ttname"><a href="../../dd/d3e/structstasis__message__vtable.html#af8252f3e39a79e8ac04f8a83993d0d09">stasis_message_vtable::to_event</a></div><div class="ttdeci">struct ast_event *(* to_event)(struct stasis_message *message)</div><div class="ttdoc">Build the ast_event representation of the message. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d79/stasis_8h_source.html#l00281">stasis.h:281</a></div></div>
<div class="ttc" id="lock_8h_html_a8a3bd496edfec04a95683ace66676200"><div class="ttname"><a href="../../dd/d42/lock_8h.html#a8a3bd496edfec04a95683ace66676200">ast_atomic_fetchadd_int</a></div><div class="ttdeci">int ast_atomic_fetchadd_int(volatile int *p, int v)</div><div class="ttdoc">Atomically add v to *p and return the previous value of *p. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d42/lock_8h_source.html#l00755">lock.h:755</a></div></div>
<div class="ttc" id="stasis_8h_html_af326808a49f64881cfa368ef2e5f49e3a69bbd642277d3d76eb62bc4736a3ab42"><div class="ttname"><a href="../../dd/d79/stasis_8h.html#af326808a49f64881cfa368ef2e5f49e3a69bbd642277d3d76eb62bc4736a3ab42">STASIS_MESSAGE_TYPE_SUCCESS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d79/stasis_8h_source.html#l00290">stasis.h:290</a></div></div>
<div class="ttc" id="stasis_8h_html_af326808a49f64881cfa368ef2e5f49e3a5cdf581193f897efeb4387c08e5688e8"><div class="ttname"><a href="../../dd/d79/stasis_8h.html#af326808a49f64881cfa368ef2e5f49e3a5cdf581193f897efeb4387c08e5688e8">STASIS_MESSAGE_TYPE_ERROR</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d79/stasis_8h_source.html#l00289">stasis.h:289</a></div></div>
<div class="ttc" id="structstasis__message__vtable_html_a8ebb74617e8d5134105fd04797d2fba7"><div class="ttname"><a href="../../dd/d3e/structstasis__message__vtable.html#a8ebb74617e8d5134105fd04797d2fba7">stasis_message_vtable::to_json</a></div><div class="ttdeci">struct ast_json *(* to_json)(struct stasis_message *message, const struct stasis_message_sanitizer *sanitize)</div><div class="ttdoc">Build the JSON representation of the message. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d79/stasis_8h_source.html#l00253">stasis.h:253</a></div></div>
<div class="ttc" id="structstasis__message__type_html"><div class="ttname"><a href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db9/stasis__message_8c_source.html#l00038">stasis_message.c:38</a></div></div>
<div class="ttc" id="stasis__message_8c_html_ae9017e7abcabc89dfb08c4653d08733d"><div class="ttname"><a href="../../d2/db9/stasis__message_8c.html#ae9017e7abcabc89dfb08c4653d08733d">null_vtable</a></div><div class="ttdeci">static struct stasis_message_vtable null_vtable</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db9/stasis__message_8c_source.html#l00046">stasis_message.c:46</a></div></div>
<div class="ttc" id="stasis__message_8c_html_a37a5fd1a121e57501bd9fe0d83ba448a"><div class="ttname"><a href="../../d2/db9/stasis__message_8c.html#a37a5fd1a121e57501bd9fe0d83ba448a">message_type_dtor</a></div><div class="ttdeci">static void message_type_dtor(void *obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db9/stasis__message_8c_source.html#l00049">stasis_message.c:49</a></div></div>
<div class="ttc" id="structstasis__message__vtable_html_a92408bd64ea09c19566c897fe9a9ec69"><div class="ttname"><a href="../../dd/d3e/structstasis__message__vtable.html#a92408bd64ea09c19566c897fe9a9ec69">stasis_message_vtable::to_ami</a></div><div class="ttdeci">struct ast_manager_event_blob *(* to_ami)(struct stasis_message *message)</div><div class="ttdoc">Build the AMI representation of the message. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d79/stasis_8h_source.html#l00266">stasis.h:266</a></div></div>
<div class="ttc" id="cdr__mysql_8c_html_a0980a105ccb863d8008eb6201a51da52"><div class="ttname"><a href="../../d0/d29/cdr__mysql_8c.html#a0980a105ccb863d8008eb6201a51da52">name</a></div><div class="ttdeci">static const char name[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d29/cdr__mysql_8c_source.html#l00074">cdr_mysql.c:74</a></div></div>
<div class="ttc" id="hashtab_8h_html_af8904cce564fd39de28b566bb8c261eb"><div class="ttname"><a href="../../d6/da0/hashtab_8h.html#af8904cce564fd39de28b566bb8c261eb">ast_hashtab_hash_string</a></div><div class="ttdeci">unsigned int ast_hashtab_hash_string(const void *obj)</div><div class="ttdoc">Hashes a string to a number. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d35/hashtab_8c_source.html#l00153">hashtab.c:153</a></div></div>
<div class="ttc" id="structstasis__message__type_html_a577ad3d8a0b5b866d55464d1b684b4e9"><div class="ttname"><a href="../../d4/d8f/structstasis__message__type.html#a577ad3d8a0b5b866d55464d1b684b4e9">stasis_message_type::vtable</a></div><div class="ttdeci">struct stasis_message_vtable * vtable</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db9/stasis__message_8c_source.html#l00039">stasis_message.c:39</a></div></div>
<div class="ttc" id="stasis_8h_html_af326808a49f64881cfa368ef2e5f49e3a56f95961ba428213b720264bd36fa08e"><div class="ttname"><a href="../../dd/d79/stasis_8h.html#af326808a49f64881cfa368ef2e5f49e3a56f95961ba428213b720264bd36fa08e">STASIS_MESSAGE_TYPE_DECLINED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d79/stasis_8h_source.html#l00291">stasis.h:291</a></div></div>
<div class="ttc" id="structstasis__message__type_html_a5ac083a645d964373f022d03df4849c8"><div class="ttname"><a href="../../d4/d8f/structstasis__message__type.html#a5ac083a645d964373f022d03df4849c8">stasis_message_type::name</a></div><div class="ttdeci">char * name</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db9/stasis__message_8c_source.html#l00040">stasis_message.c:40</a></div></div>
<div class="ttc" id="astobj2_8h_html_a6321ee982370c55ab3c24c72c562cbdd"><div class="ttname"><a href="../../d5/da5/astobj2_8h.html#a6321ee982370c55ab3c24c72c562cbdd">ao2_cleanup</a></div><div class="ttdeci">#define ao2_cleanup(obj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/da5/astobj2_8h_source.html#l01958">astobj2.h:1958</a></div></div>
<div class="ttc" id="structstasis__message__type_html_a7441ef0865bcb3db9b8064dd7375c1ea"><div class="ttname"><a href="../../d4/d8f/structstasis__message__type.html#a7441ef0865bcb3db9b8064dd7375c1ea">stasis_message_type::id</a></div><div class="ttdeci">int id</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db9/stasis__message_8c_source.html#l00042">stasis_message.c:42</a></div></div>
<div class="ttc" id="structstasis__message__type_html_af146c2c40e3c6ebd3f45d4118d9637fb"><div class="ttname"><a href="../../d4/d8f/structstasis__message__type.html#af146c2c40e3c6ebd3f45d4118d9637fb">stasis_message_type::available_formatters</a></div><div class="ttdeci">enum stasis_subscription_message_formatters available_formatters</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db9/stasis__message_8c_source.html#l00043">stasis_message.c:43</a></div></div>
<div class="ttc" id="stasis_8h_html_a5ae672fb0f772d0e3066fa4c29c41814a9b0968d4d470737abacb289024559587"><div class="ttname"><a href="../../dd/d79/stasis_8h.html#a5ae672fb0f772d0e3066fa4c29c41814a9b0968d4d470737abacb289024559587">STASIS_SUBSCRIPTION_FORMATTER_JSON</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d79/stasis_8h_source.html#l00313">stasis.h:313</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a1996f291ef2df28b75c279d4790c2258"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1996f291ef2df28b75c279d4790c2258">&#9670;&nbsp;</a></span>stasis_message_type_hash()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int stasis_message_type_hash </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a> *&#160;</td>
          <td class="paramname"><em>type</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the hash of a given message type. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">type</td><td>The type to get the hash of. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The hash </dd></dl>
<dl class="section since"><dt>Since</dt><dd>13.24.0 </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d2/db9/stasis__message_8c_source.html#l00104">104</a> of file <a class="el" href="../../d2/db9/stasis__message_8c_source.html">stasis_message.c</a>.</p>

<p class="reference">References <a class="el" href="../../d2/db9/stasis__message_8c_source.html#l00041">stasis_message_type::hash</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/da9/stasis__cache_8c_source.html#l00206">cache_entry_compute_hash()</a>.</p>
<div class="fragment"><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;{</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;   <span class="keywordflow">return</span> type-&gt;<a class="code" href="../../d4/d8f/structstasis__message__type.html#a09f9a9ce240560b1d191b42ed56af642">hash</a>;</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;}</div><div class="ttc" id="structstasis__message__type_html_a09f9a9ce240560b1d191b42ed56af642"><div class="ttname"><a href="../../d4/d8f/structstasis__message__type.html#a09f9a9ce240560b1d191b42ed56af642">stasis_message_type::hash</a></div><div class="ttdeci">unsigned int hash</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db9/stasis__message_8c_source.html#l00041">stasis_message.c:41</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aaa72759806ee4118a78b9d1373c633d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaa72759806ee4118a78b9d1373c633d2">&#9670;&nbsp;</a></span>stasis_message_type_id()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int stasis_message_type_id </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a> *&#160;</td>
          <td class="paramname"><em>type</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the id of a given message type. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">type</td><td>The type to get the id of. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The id </dd></dl>
<dl class="section since"><dt>Since</dt><dd>17.0.0 </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d2/db9/stasis__message_8c_source.html#l00109">109</a> of file <a class="el" href="../../d2/db9/stasis__message_8c_source.html">stasis_message.c</a>.</p>

<p class="reference">References <a class="el" href="../../d2/db9/stasis__message_8c_source.html#l00042">stasis_message_type::id</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/df4/stasis_8c_source.html#l01314">dispatch_message()</a>, <a class="el" href="../../d0/df4/stasis_8c_source.html#l01432">publish_msg()</a>, <a class="el" href="../../d0/df4/stasis_8c_source.html#l01025">stasis_subscription_accept_message_type()</a>, <a class="el" href="../../d0/df4/stasis_8c_source.html#l01055">stasis_subscription_decline_message_type()</a>, and <a class="el" href="../../d0/df4/stasis_8c_source.html#l00756">subscription_invoke()</a>.</p>
<div class="fragment"><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;{</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;   <span class="keywordflow">return</span> type-&gt;<a class="code" href="../../d4/d8f/structstasis__message__type.html#a7441ef0865bcb3db9b8064dd7375c1ea">id</a>;</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;}</div><div class="ttc" id="structstasis__message__type_html_a7441ef0865bcb3db9b8064dd7375c1ea"><div class="ttname"><a href="../../d4/d8f/structstasis__message__type.html#a7441ef0865bcb3db9b8064dd7375c1ea">stasis_message_type::id</a></div><div class="ttdeci">int id</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db9/stasis__message_8c_source.html#l00042">stasis_message.c:42</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aefd78086150c89477f5851f2836e0478"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aefd78086150c89477f5851f2836e0478">&#9670;&nbsp;</a></span>stasis_message_type_name()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* stasis_message_type_name </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d4/d8f/structstasis__message__type.html">stasis_message_type</a> *&#160;</td>
          <td class="paramname"><em>type</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the name of a given message type. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">type</td><td>The type to get. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Name of the type. </dd>
<dd>
<code>NULL</code> if <em>type</em> is <code>NULL</code>. </dd></dl>
<dl class="section since"><dt>Since</dt><dd>12 </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d2/db9/stasis__message_8c_source.html#l00099">99</a> of file <a class="el" href="../../d2/db9/stasis__message_8c_source.html">stasis_message.c</a>.</p>

<p class="reference">References <a class="el" href="../../d2/db9/stasis__message_8c_source.html#l00040">stasis_message_type::name</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d00/test__stasis_8c_source.html#l00077">AST_TEST_DEFINE()</a>, <a class="el" href="../../d0/da9/stasis__cache_8c_source.html#l00396">cache_find()</a>, <a class="el" href="../../db/d00/test__stasis_8c_source.html#l01699">cache_simple()</a>, <a class="el" href="../../db/d00/test__stasis_8c_source.html#l00901">cache_test_data_id()</a>, <a class="el" href="../../d0/da9/stasis__cache_8c_source.html#l00833">caching_topic_exec()</a>, <a class="el" href="../../db/d00/test__stasis_8c_source.html#l02193">dump_consumer()</a>, <a class="el" href="../../d0/da9/stasis__cache_8c_source.html#l00937">print_cache_entry()</a>, <a class="el" href="../../db/d00/test__stasis_8c_source.html#l02208">send_msg()</a>, <a class="el" href="../../d0/df4/stasis_8c_source.html#l01025">stasis_subscription_accept_message_type()</a>, <a class="el" href="../../d0/df4/stasis_8c_source.html#l01055">stasis_subscription_decline_message_type()</a>, <a class="el" href="../../d0/df4/stasis_8c_source.html#l02865">statistics_show_messages()</a>, <a class="el" href="../../d0/df4/stasis_8c_source.html#l02604">statistics_show_subscription()</a>, and <a class="el" href="../../d0/dff/res__chan__stats_8c_source.html#l00057">statsmaker()</a>.</p>
<div class="fragment"><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;{</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;   <span class="keywordflow">return</span> type-&gt;<a class="code" href="../../d4/d8f/structstasis__message__type.html#a5ac083a645d964373f022d03df4849c8">name</a>;</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;}</div><div class="ttc" id="structstasis__message__type_html_a5ac083a645d964373f022d03df4849c8"><div class="ttname"><a href="../../d4/d8f/structstasis__message__type.html#a5ac083a645d964373f022d03df4849c8">stasis_message_type::name</a></div><div class="ttdeci">char * name</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db9/stasis__message_8c_source.html#l00040">stasis_message.c:40</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a744ceb580c661e018a750bee94f2a1c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a744ceb580c661e018a750bee94f2a1c0">&#9670;&nbsp;</a></span>message_type_id</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int message_type_id</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/db9/stasis__message_8c_source.html#l00047">47</a> of file <a class="el" href="../../d2/db9/stasis__message_8c_source.html">stasis_message.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d0/df4/stasis_8c_source.html#l01432">publish_msg()</a>, <a class="el" href="../../d2/db9/stasis__message_8c_source.html#l00056">stasis_message_type_create()</a>, and <a class="el" href="../../d0/df4/stasis_8c_source.html#l00756">subscription_invoke()</a>.</p>

</div>
</div>
<a id="ae9017e7abcabc89dfb08c4653d08733d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae9017e7abcabc89dfb08c4653d08733d">&#9670;&nbsp;</a></span>null_vtable</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../dd/d3e/structstasis__message__vtable.html">stasis_message_vtable</a> null_vtable = {}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/db9/stasis__message_8c_source.html#l00046">46</a> of file <a class="el" href="../../d2/db9/stasis__message_8c_source.html">stasis_message.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/db9/stasis__message_8c_source.html#l00056">stasis_message_type_create()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Aug 8 2021 19:46:50 for Asterisk - The Open Source Telephony Project by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
